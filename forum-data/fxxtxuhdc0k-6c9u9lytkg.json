{
  "Topic": {
    "TopicId": "fxxtxuhdc0k-6c9u9lytkg",
    "ForumId": "10",
    "Title": "Script/Object misbehaving",
    "LastUpdated": "2020-10-19T10:03:48.3469661Z",
    "ReplyCount": 0
  },
  "Posts": [
    {
      "PostId": "011271d6-1dc7-44b0-8c46-dd5aac610044",
      "UserId": 356509,
      "Username": "RJSRdg",
      "AvatarUrl": "https://secure.gravatar.com/avatar/79e9990790ffef6c26b557afe0eedd3e?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "I've got the following lines of turn script at a specific location which are doing my head in:\r\n\r\nif (ListContains(ScopeReachable(), large piece of cheddar cheese)) {\r\n  msg (\"Cheese here\")\r\n  MoveObject (moon high over the English Channel, Promenade 5)\r\n\r\nWhen I take the cheese to the given location, I get the \"Cheese here\" message, so the 'if' statement is working correctly.\r\nHowever the moon doesn't appear. \r\n\r\nI've checked the object and it's set as a visible, non-scenery object. If I cut and paste the moon into the given location, I can see it, but if I leave it in its normal location the script doesn't bring it out.\r\n\r\nThe annoying thing is I've had this working before, and I can't think of anything I've done that would have stopped it.\r\n\r\nAny suggestions?",
      "EditableFormat": "markdown",
      "HTML": "<p>I've got the following lines of turn script at a specific location which are doing my head in:</p>\n<p>if (ListContains(ScopeReachable(), large piece of cheddar cheese)) {<br>\nmsg (\"Cheese here\")<br>\nMoveObject (moon high over the English Channel, Promenade 5)</p>\n<p>When I take the cheese to the given location, I get the \"Cheese here\" message, so the 'if' statement is working correctly.<br>\nHowever the moon doesn't appear.</p>\n<p>I've checked the object and it's set as a visible, non-scenery object. If I cut and paste the moon into the given location, I can see it, but if I leave it in its normal location the script doesn't bring it out.</p>\n<p>The annoying thing is I've had this working before, and I can't think of anything I've done that would have stopped it.</p>\n<p>Any suggestions?</p>\n\n",
      "PostDate": "2020-10-19T10:03:48.3469661Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "ec469de0-57fa-46ed-ba19-2059c05168c9",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Once it should have brought the moon out, is the moon reachable?\r\n\r\nTry doing something like \"look at moon\". If it gives an error, it must have failed to move the object for some reason. Possibly you could add a line printing out the properties of the moon. If it shows the description, it could be that the moon is actually there, but the places/objects pane has failed to update for some reason.\r\n\r\nTwo different problems, so it would be good to know which one we need to deal with.",
      "EditableFormat": "markdown",
      "HTML": "<p>Once it should have brought the moon out, is the moon reachable?</p>\n<p>Try doing something like \"look at moon\". If it gives an error, it must have failed to move the object for some reason. Possibly you could add a line printing out the properties of the moon. If it shows the description, it could be that the moon is actually there, but the places/objects pane has failed to update for some reason.</p>\n<p>Two different problems, so it would be good to know which one we need to deal with.</p>\n\n",
      "PostDate": "2020-10-19T10:41:52.4463882Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "397369fe-23cf-4143-8b59-0f0c40a83aa8",
      "UserId": 5574,
      "Username": "R2T1",
      "AvatarUrl": "http://i.imgur.com/32ogfqMb.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "It looks like you have left off the closing brace '**}**' after _Promenade 5)_",
      "EditableFormat": "markdown",
      "HTML": "<p>It looks like you have left off the closing brace '<strong>}</strong>' after <em>Promenade 5)</em></p>\n\n",
      "PostDate": "2020-10-19T11:06:20.2409532Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "89186015-c93a-4ba6-a823-713f9067c208",
      "UserId": 356509,
      "Username": "RJSRdg",
      "AvatarUrl": "https://secure.gravatar.com/avatar/79e9990790ffef6c26b557afe0eedd3e?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "mrangel - not quite sure what you mean by \"reachable\" but if I type \"Look at moon\" it comes back with \"I can't see that\"\r\n\r\nR2T1 - there are other things which happen in the \"if\" statement after moving the moon, I just copied the relevant part of the code, hence the missing bracket.",
      "EditableFormat": "markdown",
      "HTML": "<p>mrangel - not quite sure what you mean by \"reachable\" but if I type \"Look at moon\" it comes back with \"I can't see that\"</p>\n<p>R2T1 - there are other things which happen in the \"if\" statement after moving the moon, I just copied the relevant part of the code, hence the missing bracket.</p>\n\n",
      "PostDate": "2020-10-19T13:19:12.5683616Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "bcb8dd10-b895-4f97-961c-bdaf6cfd0bfb",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "I assume `Promenade 5` is the current room, and it isn't dark? Is the script in the same room, ot do you have to go to the room with the script and then go to Promenade 5?\r\nIs there any other script that could be moving the moon?\r\n\r\nMight be worth checking all the attributes, see if everything is set to what it's supposed to be.\r\nSomething like:\r\n```\r\nforeach (attr, GetAttributeNames (moon high over the English Channel, true)) {\r\n  if (not HasScript (moon high over the English Channel, attr)) msg (attr + \": \" + GetAttribute (moon high over the English Channel, attr))\r\n}\r\n```\r\nafter it should have been moved, and see if there's any attributes that aren't what you expect them to be.",
      "EditableFormat": "markdown",
      "HTML": "<p>I assume <code>Promenade 5</code> is the current room, and it isn't dark? Is the script in the same room, ot do you have to go to the room with the script and then go to Promenade 5?<br>\nIs there any other script that could be moving the moon?</p>\n<p>Might be worth checking all the attributes, see if everything is set to what it's supposed to be.<br>\nSomething like:</p>\n<pre><code>foreach (attr, GetAttributeNames (moon high over the English Channel, true)) {\n  if (not HasScript (moon high over the English Channel, attr)) msg (attr + \": \" + GetAttribute (moon high over the English Channel, attr))\n}\n</code></pre>\n<p>after it should have been moved, and see if there's any attributes that aren't what you expect them to be.</p>\n\n",
      "PostDate": "2020-10-19T15:47:19.1748487Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "e1cefe65-bb19-4b2d-a9bc-4d451d31fb89",
      "UserId": 142763,
      "Username": "Forgewright",
      "AvatarUrl": "http://i.imgur.com/Ea6HecZb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "The debugger during gameplay is a great way to check attributes",
      "EditableFormat": "markdown",
      "HTML": "<p>The debugger during gameplay is a great way to check attributes</p>\n\n",
      "PostDate": "2020-10-19T16:51:32.3280619Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "5bf044e9-8cbb-41bb-8123-184d9e3fff9d",
      "UserId": 356509,
      "Username": "RJSRdg",
      "AvatarUrl": "https://secure.gravatar.com/avatar/79e9990790ffef6c26b557afe0eedd3e?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "\"Promenade 5\" is a neighbouring room - I've now modified the script to move the moon to the room the script runs in \"Novelty Rock Emporium\" in case anything odd's been happening when I leave the room.\r\n\r\nNow, when I move the cheese to the room, I get....\r\n\r\nCheese here\r\nname: moon high over the English Channel\r\nelementtype: object\r\ntype: object\r\nparent: Object: Novelty Rock Emporium\r\nalt: List: moon; \r\nhasbeenmoved: True\r\nvisible: True\r\ndisplayverbs: List: Look at; Take; \r\ninventoryverbs: List: Look at; Use; Drop; \r\ntake: False\r\nuse: False\r\ngivesingle: False\r\ndrop: True\r\ngender: it\r\narticle: it\r\npossessive: its\r\nwornmodifier: worn\r\nisopen: False\r\nopen: False\r\nclose: False\r\ncontainer: False\r\ndescprefix: You are in\r\nobjectslistprefix: You can see\r\nexitslistprefix: You can go\r\ncontentsprefix: containing\r\ndescription: \r\nimplementation_notes: \r\nscenery: False\r\nhidechildren: False\r\nlistchildren: False\r\nusedefaultprefix: True\r\nvolume: 0\r\nprice: 0\r\ndark: False\r\nlightstrength: \r\ndarklevel: False\r\ngrid_width: 1\r\ngrid_length: 1\r\ngrid_fill: White\r\ngrid_border: Black\r\ngrid_borderwidth: 1\r\ngrid_bordersides: 15\r\ngrid_render: False\r\ngrid_label: \r\ngrid_label_colour: Black\r\ngrid_parent_offset_auto: True\r\ngrid_parent_offset_x: 0\r\ngrid_parent_offset_y: 0\r\npov_alias: me\r\npov_alt: List: me; myself; self; \r\npov_look: Looking good.\r\npov_gender: you\r\npov_article: yourself\r\npov_possessive: your\r\nfeature_usegive: False\r\nfeature_container: False\r\nfeature_switchable: False\r\nfeature_edible: False\r\nfeature_player: False\r\nfeature_lightdark: False\r\nvisited: False\r\ntimesexamined: 0\r\nnot_all: False\r\n\r\nAll look to be what I'd expect, but it still doesn't appear :-(\r\n",
      "EditableFormat": "markdown",
      "HTML": "<p>\"Promenade 5\" is a neighbouring room - I've now modified the script to move the moon to the room the script runs in \"Novelty Rock Emporium\" in case anything odd's been happening when I leave the room.</p>\n<p>Now, when I move the cheese to the room, I get....</p>\n<p>Cheese here<br>\nname: moon high over the English Channel<br>\nelementtype: object<br>\ntype: object<br>\nparent: Object: Novelty Rock Emporium<br>\nalt: List: moon;<br>\nhasbeenmoved: True<br>\nvisible: True<br>\ndisplayverbs: List: Look at; Take;<br>\ninventoryverbs: List: Look at; Use; Drop;<br>\ntake: False<br>\nuse: False<br>\ngivesingle: False<br>\ndrop: True<br>\ngender: it<br>\narticle: it<br>\npossessive: its<br>\nwornmodifier: worn<br>\nisopen: False<br>\nopen: False<br>\nclose: False<br>\ncontainer: False<br>\ndescprefix: You are in<br>\nobjectslistprefix: You can see<br>\nexitslistprefix: You can go<br>\ncontentsprefix: containing<br>\ndescription:<br>\nimplementation_notes:<br>\nscenery: False<br>\nhidechildren: False<br>\nlistchildren: False<br>\nusedefaultprefix: True<br>\nvolume: 0<br>\nprice: 0<br>\ndark: False<br>\nlightstrength:<br>\ndarklevel: False<br>\ngrid_width: 1<br>\ngrid_length: 1<br>\ngrid_fill: White<br>\ngrid_border: Black<br>\ngrid_borderwidth: 1<br>\ngrid_bordersides: 15<br>\ngrid_render: False<br>\ngrid_label:<br>\ngrid_label_colour: Black<br>\ngrid_parent_offset_auto: True<br>\ngrid_parent_offset_x: 0<br>\ngrid_parent_offset_y: 0<br>\npov_alias: me<br>\npov_alt: List: me; myself; self;<br>\npov_look: Looking good.<br>\npov_gender: you<br>\npov_article: yourself<br>\npov_possessive: your<br>\nfeature_usegive: False<br>\nfeature_container: False<br>\nfeature_switchable: False<br>\nfeature_edible: False<br>\nfeature_player: False<br>\nfeature_lightdark: False<br>\nvisited: False<br>\ntimesexamined: 0<br>\nnot_all: False</p>\n<p>All look to be what I'd expect, but it still doesn't appear :-(</p>\n\n",
      "PostDate": "2020-10-19T16:54:21.2053084Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "ccda7657-f845-4484-b7ce-7bcbe841fd9b",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "That seems like it should be working. I can't think what could be causing a problem there.\r\n\r\nDo you have a shareable link to the game? I could take a look through it and see if anything jumps out at me.\r\n\r\n<hr />\r\n\r\n> The debugger during gameplay is a great way to check attributes\r\n\r\nI would have recommended that, but I've seen someone with an issue before where the debugger sometimes showed old values for some reason.",
      "EditableFormat": "markdown",
      "HTML": "<p>That seems like it should be working. I can't think what could be causing a problem there.</p>\n<p>Do you have a shareable link to the game? I could take a look through it and see if anything jumps out at me.</p>\n<hr>\n<blockquote>\n<p>The debugger during gameplay is a great way to check attributes</p>\n</blockquote>\n<p>I would have recommended that, but I've seen someone with an issue before where the debugger sometimes showed old values for some reason.</p>\n\n",
      "PostDate": "2020-10-19T17:13:40.3273867Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "b700b4c2-c632-4d7e-abb2-3335fd03885b",
      "UserId": 356509,
      "Username": "RJSRdg",
      "AvatarUrl": "https://secure.gravatar.com/avatar/79e9990790ffef6c26b557afe0eedd3e?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "No, sorry - all been developed on  my laptop so there isn't (currently) an online version. I was in the process of making some (final?) checks when I noticed this wasn't working.",
      "EditableFormat": "markdown",
      "HTML": "<p>No, sorry - all been developed on  my laptop so there isn't (currently) an online version. I was in the process of making some (final?) checks when I noticed this wasn't working.</p>\n\n",
      "PostDate": "2020-10-19T17:44:49.2359311Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "09e5e3b2-e2e8-405d-9bc9-d8f1c8bc4a0e",
      "UserId": 356509,
      "Username": "RJSRdg",
      "AvatarUrl": "https://secure.gravatar.com/avatar/79e9990790ffef6c26b557afe0eedd3e?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Solved it now, anyway - it was an error in the remaining (supposedly irrelevant) part of the script that was moving it back again!\r\n",
      "EditableFormat": "markdown",
      "HTML": "<p>Solved it now, anyway - it was an error in the remaining (supposedly irrelevant) part of the script that was moving it back again!</p>\n\n",
      "PostDate": "2020-10-20T20:58:25.5601484Z",
      "LastEditDate": null,
      "link": null
    }
  ]
}
