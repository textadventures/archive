{
  "Topic": {
    "TopicId": "e_pxzrjqskuvfltr0bsica",
    "ForumId": "10",
    "Title": "Wait Question ^_^ [SOLVED]",
    "LastUpdated": "2016-12-07T18:58:52.211636Z",
    "ReplyCount": 0
  },
  "Posts": [
    {
      "PostId": "61c167bb-8211-4772-9e18-50015e818dc7",
      "UserId": 248029,
      "Username": "Anonynn",
      "AvatarUrl": "http://i.imgur.com/28lV6nMb.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Hello everyone! \r\n\r\nI just had a query about \"Wait\". Here is the original script.\r\n```\r\nmsg (Template(\"DefaultWait\"))\r\n```\r\nI was wondering if it was possible to make this an \"if script\" and have the player be able to type in things like...\"wait 10\" and have it produce the script 10 times. Or something like that. For example...\r\n```\r\nif (game.wait=(\"DefaultWait\")) {\r\nmsg (Template(\"DefaultWait\"))\r\n}\r\nelse if (game.wait=10) {\r\nmsg (Template(\"DefaultWait + 10\" ))\r\n}\r\n```\r\nAnd so on. \r\n\r\nThanks in advance!",
      "EditableFormat": "markdown",
      "HTML": "<p>Hello everyone!</p>\n<p>I just had a query about \"Wait\". Here is the original script.</p>\n<pre><code>msg (Template(\"DefaultWait\"))\n</code></pre>\n<p>I was wondering if it was possible to make this an \"if script\" and have the player be able to type in things like...\"wait 10\" and have it produce the script 10 times. Or something like that. For example...</p>\n<pre><code>if (game.wait=(\"DefaultWait\")) {\nmsg (Template(\"DefaultWait\"))\n}\nelse if (game.wait=10) {\nmsg (Template(\"DefaultWait + 10\" ))\n}\n</code></pre>\n<p>And so on.</p>\n<p>Thanks in advance!</p>\n\n",
      "PostDate": "2016-12-07T18:58:52.211636Z",
      "LastEditDate": "2016-12-13T05:06:25.926611Z"
    },
    {
      "PostId": "7168ec43-b04a-47f1-beed-a3dbfee8eac9",
      "UserId": 1346,
      "Username": "The Pixie",
      "AvatarUrl": "https://secure.gravatar.com/avatar/cfa37e927f96177bcf6053ae8f108f77?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "No, but that is a good thing. Create a new command with this pattern:\r\n```\r\nwait 10;z 10\r\n```\r\n... or keep it general:\r\n```\r\nwait #text#;z #text#\r\n```\r\nThe original command will handle WAIT, your new command will handle WAIT 10, o no need for the if script.",
      "EditableFormat": "markdown",
      "HTML": "<p>No, but that is a good thing. Create a new command with this pattern:</p>\n<pre><code>wait 10;z 10\n</code></pre>\n<p>... or keep it general:</p>\n<pre><code>wait #text#;z #text#\n</code></pre>\n<p>The original command will handle WAIT, your new command will handle WAIT 10, o no need for the if script.</p>\n\n",
      "PostDate": "2016-12-07T19:49:26.817202Z",
      "LastEditDate": null
    },
    {
      "PostId": "82e1a346-d9c2-4038-9c12-5ee350926ce8",
      "UserId": 248029,
      "Username": "Anonynn",
      "AvatarUrl": "http://i.imgur.com/28lV6nMb.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Hm. I think I am missing something...\r\n\r\nI made a command: wait 10 \r\n\r\nput this in the pattern line: wait 10;z 10\r\n\r\nand name: wait 10 \r\n\r\nAnd when I type \"wait 10\" in the game, nothing happens. \r\n\r\nI was hoping to have the player be able to wait 5, 10 or 15 turns and have the wait message print once for each thing, but if needed I would be okay with the message printing 5, 10, 15 times. Unless it would be easier to just use wait 10 and that's it. Whatever is easier.\r\n\r\nI also have some messages on the Template(DefaultWait) --- would the other scripts be able to utilize those?",
      "EditableFormat": "markdown",
      "HTML": "<p>Hm. I think I am missing something...</p>\n<p>I made a command: wait 10</p>\n<p>put this in the pattern line: wait 10;z 10</p>\n<p>and name: wait 10</p>\n<p>And when I type \"wait 10\" in the game, nothing happens.</p>\n<p>I was hoping to have the player be able to wait 5, 10 or 15 turns and have the wait message print once for each thing, but if needed I would be okay with the message printing 5, 10, 15 times. Unless it would be easier to just use wait 10 and that's it. Whatever is easier.</p>\n<p>I also have some messages on the Template(DefaultWait) --- would the other scripts be able to utilize those?</p>\n\n",
      "PostDate": "2016-12-08T04:38:35.1821309Z",
      "LastEditDate": null
    },
    {
      "PostId": "02b90881-b691-40f8-88bc-3c2f733d56ec",
      "UserId": 1346,
      "Username": "The Pixie",
      "AvatarUrl": "https://secure.gravatar.com/avatar/cfa37e927f96177bcf6053ae8f108f77?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "You should see this:\r\n```\r\n> wait\r\nTime passes.\r\n\r\n> wait 10\r\n\r\n> wait 20\r\nI don't understand your command.\r\n```\r\nThe first is the default command. The second is the new command, which so far does nothing. The third has no command, so triggers the error response.",
      "EditableFormat": "markdown",
      "HTML": "<p>You should see this:</p>\n<pre><code>&gt; wait\nTime passes.\n\n&gt; wait 10\n\n&gt; wait 20\nI don't understand your command.\n</code></pre>\n<p>The first is the default command. The second is the new command, which so far does nothing. The third has no command, so triggers the error response.</p>\n\n",
      "PostDate": "2016-12-08T08:26:10.6482974Z",
      "LastEditDate": null
    },
    {
      "PostId": "85fa6ca1-40cc-4f1a-9f9b-3e636793db32",
      "UserId": 248029,
      "Username": "Anonynn",
      "AvatarUrl": "http://i.imgur.com/28lV6nMb.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Ah, okay! That is what I see. Great! So I can create a Template that reads off some {random:} and connect it to the wait 10 with...\r\n\r\nmsg (Template(\"Wait 10\" ))  ?\r\n\r\nThanks so much, Pix! You're the best :D ",
      "EditableFormat": "markdown",
      "HTML": "<p>Ah, okay! That is what I see. Great! So I can create a Template that reads off some {random:} and connect it to the wait 10 with...</p>\n<p>msg (Template(\"Wait 10\" ))  ?</p>\n<p>Thanks so much, Pix! You're the best :D</p>\n\n",
      "PostDate": "2016-12-08T19:16:02.4913023Z",
      "LastEditDate": null
    },
    {
      "PostId": "d0b7c40f-895a-4460-9e09-4a7672a3e9d8",
      "UserId": 1346,
      "Username": "The Pixie",
      "AvatarUrl": "https://secure.gravatar.com/avatar/cfa37e927f96177bcf6053ae8f108f77?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "You can, but it would be easier to use a string rather than a template. Templates are not much use outside of libraries.",
      "EditableFormat": "markdown",
      "HTML": "<p>You can, but it would be easier to use a string rather than a template. Templates are not much use outside of libraries.</p>\n\n",
      "PostDate": "2016-12-08T22:17:56.6315638Z",
      "LastEditDate": null
    },
    {
      "PostId": "7fc37658-5d82-4c99-80b3-ace4ecfa6318",
      "UserId": 248029,
      "Username": "Anonynn",
      "AvatarUrl": "http://i.imgur.com/28lV6nMb.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Alrighty! I have the _command_ set up with the _wait 10;z 10_ pattern, the _script use message_ ready. What is the next step I would need to program to get the \"wait\" part of it to work? \r\n```\r\n^wait$|^z$\r\n```\r\n^----- original wait command pattern.\r\n\r\n\r\nAppreciate the help so far btw too! ",
      "EditableFormat": "markdown",
      "HTML": "<p>Alrighty! I have the <em>command</em> set up with the <em>wait 10;z 10</em> pattern, the <em>script use message</em> ready. What is the next step I would need to program to get the \"wait\" part of it to work?</p>\n<pre><code>^wait$|^z$\n</code></pre>\n<p>^----- original wait command pattern.</p>\n<p>Appreciate the help so far btw too!</p>\n\n",
      "PostDate": "2016-12-09T06:46:58.2711875Z",
      "LastEditDate": null
    },
    {
      "PostId": "42605e0a-b578-4be5-b172-a712e5e0f570",
      "UserId": 1346,
      "Username": "The Pixie",
      "AvatarUrl": "https://secure.gravatar.com/avatar/cfa37e927f96177bcf6053ae8f108f77?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "What are you ultimately wanting to do here? Having the \"Time passes\" message appear 10 times seems kind of pointless. Will you be wanting the turn scripts to all trigger 10 times as well? If so, will you want it to possibly stop if something significant happens (like a hoard of orcs appears after the third one)?\r\n\r\nThe original wait uses a Regex, and that is equivalent to:\r\n```\r\nwait;z\r\n```\r\n",
      "EditableFormat": "markdown",
      "HTML": "<p>What are you ultimately wanting to do here? Having the \"Time passes\" message appear 10 times seems kind of pointless. Will you be wanting the turn scripts to all trigger 10 times as well? If so, will you want it to possibly stop if something significant happens (like a hoard of orcs appears after the third one)?</p>\n<p>The original wait uses a Regex, and that is equivalent to:</p>\n<pre><code>wait;z\n</code></pre>\n\n",
      "PostDate": "2016-12-09T08:14:51.4545173Z",
      "LastEditDate": null
    },
    {
      "PostId": "4c38ba82-ac90-4809-be09-72405a8e81f1",
      "UserId": 248029,
      "Username": "Anonynn",
      "AvatarUrl": "http://i.imgur.com/28lV6nMb.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Hahah, the message doesn't have to appear 10 times-just once would be preferable. \r\n\r\nBut yes, the idea I had was to trigger 10 waits/10 turn-scripts and so on. It doesn't _have_ to stop when something significant happens, but if it does, that would be even better.\r\n:P \r\n\r\nThank you so much so far for helping Pix! ",
      "EditableFormat": "markdown",
      "HTML": "<p>Hahah, the message doesn't have to appear 10 times-just once would be preferable.</p>\n<p>But yes, the idea I had was to trigger 10 waits/10 turn-scripts and so on. It doesn't <em>have</em> to stop when something significant happens, but if it does, that would be even better.<br>\n:P</p>\n<p>Thank you so much so far for helping Pix!</p>\n\n",
      "PostDate": "2016-12-09T18:07:35.5689265Z",
      "LastEditDate": null
    },
    {
      "PostId": "5d8cbebe-0e05-4801-831b-be7b991e6652",
      "UserId": 248029,
      "Username": "Anonynn",
      "AvatarUrl": "http://i.imgur.com/28lV6nMb.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "So whatcha think? :D",
      "EditableFormat": "markdown",
      "HTML": "<p>So whatcha think? :D</p>\n\n",
      "PostDate": "2016-12-10T17:07:47.9507686Z",
      "LastEditDate": null
    },
    {
      "PostId": "2372869b-a9d0-4209-903d-78b666e1ce41",
      "UserId": 1346,
      "Username": "The Pixie",
      "AvatarUrl": "https://secure.gravatar.com/avatar/cfa37e927f96177bcf6053ae8f108f77?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "You could have a flag on the game object, say `stop_waiting` and any time something important happens in a turn script, it sets that to true. Do it all inside a function (because then you can break out of the loop) that returns a boolean. Give it a parameter, n, the number of turns.\r\n```\r\ngame.stop_waiting\r\nfor (i, 1, n) {\r\n  RunTurnScripts\r\n  if (game.stop_waiting) {\r\n    return (true)\r\n  }\r\n}\r\nreturn (false)\r\n  \r\n",
      "EditableFormat": "markdown",
      "HTML": "<p>You could have a flag on the game object, say <code>stop_waiting</code> and any time something important happens in a turn script, it sets that to true. Do it all inside a function (because then you can break out of the loop) that returns a boolean. Give it a parameter, n, the number of turns.</p>\n<pre><code>game.stop_waiting\nfor (i, 1, n) {\n  RunTurnScripts\n  if (game.stop_waiting) {\n    return (true)\n  }\n}\nreturn (false)\n  \n</code></pre>\n\n",
      "PostDate": "2016-12-10T18:52:08.8921127Z",
      "LastEditDate": null
    },
    {
      "PostId": "ce36ba5a-381d-42c0-8a3b-b69856750e40",
      "UserId": 248029,
      "Username": "Anonynn",
      "AvatarUrl": "http://i.imgur.com/28lV6nMb.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Hm. On second thought maybe keeping it simple for now would be better lol. So I guess just triggering 10 waits/10 turn-scripts with one message would be the best solution. I'll keep what you mentioned above for later :) \r\n\r\nSo does the command already work or is there another step?",
      "EditableFormat": "markdown",
      "HTML": "<p>Hm. On second thought maybe keeping it simple for now would be better lol. So I guess just triggering 10 waits/10 turn-scripts with one message would be the best solution. I'll keep what you mentioned above for later :)</p>\n<p>So does the command already work or is there another step?</p>\n\n",
      "PostDate": "2016-12-10T22:16:45.508323Z",
      "LastEditDate": null
    },
    {
      "PostId": "1e6b4183-7b11-4eed-bbd1-40b66a716105",
      "UserId": 1346,
      "Username": "The Pixie",
      "AvatarUrl": "https://secure.gravatar.com/avatar/cfa37e927f96177bcf6053ae8f108f77?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Just put that function in the command, and it should work (you need both). Remember to put 10 as the parameter.",
      "EditableFormat": "markdown",
      "HTML": "<p>Just put that function in the command, and it should work (you need both). Remember to put 10 as the parameter.</p>\n\n",
      "PostDate": "2016-12-10T22:39:22.1356492Z",
      "LastEditDate": null
    },
    {
      "PostId": "c7ecd2ca-4d72-410e-8ab8-36bdcc1d0ea5",
      "UserId": 248029,
      "Username": "Anonynn",
      "AvatarUrl": "http://i.imgur.com/28lV6nMb.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Error: Error adding script attribute 'script' to element 'wait 10': Function not found: 'game.stop_waiting'\r\n\r\nThis is what I have :) \r\n\r\nwait 10 command\r\ncommand pattern: wait 10;z 10\r\nscript:\r\n```\r\ngame.stop_waiting\r\nfor (i, 1, n) {\r\n  RunTurnScripts\r\n  if (game.stop_waiting) {\r\n    return (true)\r\n  }\r\n}\r\nreturn (false)\r\nmsg (\"{random:You wait for a while:Time passes:You stand around thinking for a while:You pass the time by letting your mind aimlessly wander:You get distracted and time passes:You space out for a while:You space out and get lost in your thoughts:You let your mind wander for a while}\")\r\n```\r\n```\r\ngame.stop_waiting attribute boolean\r\n```\r\nFunction: stop_waiting\r\nReturn Type: Boolean\r\nParameter: n\r\nScript:\r\n```\r\ngame.stop_waiting\r\nfor (i, 1, n) {\r\n  RunTurnScripts\r\n  if (game.stop_waiting) {\r\n    return (true)\r\n  }\r\n}\r\nreturn (false)\r\n```\r\nWhere did I screw it up xD?",
      "EditableFormat": "markdown",
      "HTML": "<p>Error: Error adding script attribute 'script' to element 'wait 10': Function not found: 'game.stop_waiting'</p>\n<p>This is what I have :)</p>\n<p>wait 10 command<br>\ncommand pattern: wait 10;z 10<br>\nscript:</p>\n<pre><code>game.stop_waiting\nfor (i, 1, n) {\n  RunTurnScripts\n  if (game.stop_waiting) {\n    return (true)\n  }\n}\nreturn (false)\nmsg (\"{random:You wait for a while:Time passes:You stand around thinking for a while:You pass the time by letting your mind aimlessly wander:You get distracted and time passes:You space out for a while:You space out and get lost in your thoughts:You let your mind wander for a while}\")\n</code></pre>\n<pre><code>game.stop_waiting attribute boolean\n</code></pre>\n<p>Function: stop_waiting<br>\nReturn Type: Boolean<br>\nParameter: n<br>\nScript:</p>\n<pre><code>game.stop_waiting\nfor (i, 1, n) {\n  RunTurnScripts\n  if (game.stop_waiting) {\n    return (true)\n  }\n}\nreturn (false)\n</code></pre>\n<p>Where did I screw it up xD?</p>\n\n",
      "PostDate": "2016-12-10T23:50:37.1567927Z",
      "LastEditDate": null
    },
    {
      "PostId": "c4d965b4-de18-4a45-8ec3-00c71b50d389",
      "UserId": 1346,
      "Username": "The Pixie",
      "AvatarUrl": "https://secure.gravatar.com/avatar/cfa37e927f96177bcf6053ae8f108f77?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Sorry, my bad. First line wrong. Also, as written it will do one turn more than it should. Change the first two lines like this:\r\n```\r\ngame.stop_waiting = false\r\nfor (i, 1, n-1) {\r\n```\r\nThe script in your command (given you called the function `stop_waiting` will be:\r\n```\r\nstop_waiting(10)",
      "EditableFormat": "markdown",
      "HTML": "<p>Sorry, my bad. First line wrong. Also, as written it will do one turn more than it should. Change the first two lines like this:</p>\n<pre><code>game.stop_waiting = false\nfor (i, 1, n-1) {\n</code></pre>\n<p>The script in your command (given you called the function <code>stop_waiting</code> will be:</p>\n<pre><code>stop_waiting(10)\n</code></pre>\n\n",
      "PostDate": "2016-12-11T10:20:56.0852505Z",
      "LastEditDate": "2016-12-11T10:25:36.3036145Z"
    },
    {
      "PostId": "adfb2501-4892-4487-a95d-14b082263a96",
      "UserId": 248029,
      "Username": "Anonynn",
      "AvatarUrl": "http://i.imgur.com/28lV6nMb.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Thanks! It works great now. Appreciate all your time, Pix! :D Hopefully this might help some other people down the road. ",
      "EditableFormat": "markdown",
      "HTML": "<p>Thanks! It works great now. Appreciate all your time, Pix! :D Hopefully this might help some other people down the road.</p>\n\n",
      "PostDate": "2016-12-11T18:23:10.5754007Z",
      "LastEditDate": null
    },
    {
      "PostId": "72025cf3-900a-40cd-8ace-9d9d0b0f8ce2",
      "UserId": 1346,
      "Username": "The Pixie",
      "AvatarUrl": "https://secure.gravatar.com/avatar/cfa37e927f96177bcf6053ae8f108f77?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "This has inspired a new tutorial:\r\nhttps://github.com/ThePix/quest/wiki/Enhanced-Waiting",
      "EditableFormat": "markdown",
      "HTML": "<p>This has inspired a new tutorial:<br>\nhttps://github.com/ThePix/quest/wiki/Enhanced-Waiting</p>\n\n",
      "PostDate": "2016-12-12T09:43:00.7820494Z",
      "LastEditDate": null
    }
  ]
}
