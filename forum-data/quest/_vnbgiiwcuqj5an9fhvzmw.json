{
  "Topic": {
    "TopicId": "_vnbgiiwcuqj5an9fhvzmw",
    "ForumId": "10",
    "Title": "Not sure what to do with the shop command",
    "LastUpdated": "2017-06-15T19:13:51.2482908Z",
    "ReplyCount": 0
  },
  "Posts": [
    {
      "PostId": "73eae967-5acc-4567-a177-2dd43cd96d42",
      "UserId": 267336,
      "Username": "jmnevil54",
      "AvatarUrl": "https://secure.gravatar.com/avatar/5d73d7ec1dbe20a5cb46f02a6d53f187?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "I tried to make a shop command with the show menu thing. It only works so far if I use a random interger, or if I set a variable to a script. But neither works the way I want it to.\r\n\r\nThis is what the code is at the moment.\r\nmsg (\"See something that catches your eye?\")\r\nShowMenu (\"Shop\", split (\"Potion;Hyper Potion\" , \";\"), true) {\r\n  result = GetRandomInt (1,2)\r\n  switch (result) {\r\n    case (1) {\r\n      player.gold = player.gold - 50\r\n      player.potion = player.potion + 1\r\n    }\r\n    case (2) {\r\n      player.gold = player.gold - 200\r\n      player.hyper_potion = player.hyper_potion + 1\r\n    }\r\n  }\r\n}\r\n\r\nNow it's just me getting a random integer, which obviously messes up what I was wanting to do.",
      "EditableFormat": "markdown",
      "HTML": "<p>I tried to make a shop command with the show menu thing. It only works so far if I use a random interger, or if I set a variable to a script. But neither works the way I want it to.</p>\n<p>This is what the code is at the moment.<br>\nmsg (\"See something that catches your eye?\")<br>\nShowMenu (\"Shop\", split (\"Potion;Hyper Potion\" , \";\"), true) {<br>\nresult = GetRandomInt (1,2)<br>\nswitch (result) {<br>\ncase (1) {<br>\nplayer.gold = player.gold - 50<br>\nplayer.potion = player.potion + 1<br>\n}<br>\ncase (2) {<br>\nplayer.gold = player.gold - 200<br>\nplayer.hyper_potion = player.hyper_potion + 1<br>\n}<br>\n}<br>\n}</p>\n<p>Now it's just me getting a random integer, which obviously messes up what I was wanting to do.</p>\n\n",
      "PostDate": "2017-06-15T19:13:51.2482908Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "235f8369-3955-4a61-8c27-a469f71c2f25",
      "UserId": 260569,
      "Username": "DarkLizerd",
      "AvatarUrl": "http://i.imgur.com/BXvaaIub.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "to find out, \"//\" out the GetRandomInt\r\nand add result=1\r\nor result=2\r\nand see what happens.\r\n",
      "EditableFormat": "markdown",
      "HTML": "<p>to find out, \"//\" out the GetRandomInt<br>\nand add result=1<br>\nor result=2<br>\nand see what happens.</p>\n\n",
      "PostDate": "2017-06-15T19:27:41.7415176Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "b0bacea5-75d1-4149-9f90-5b9701403144",
      "UserId": 247325,
      "Username": "hegemonkhan",
      "AvatarUrl": "https://secure.gravatar.com/avatar/a96cf34d8d97c57de38f54ee22b1759b?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "```\r\nmsg (\"See something that catches your eye?\")\r\nShowMenu (\"Shop\", split (\"Potion;Hyper Potion\" , \";\"), true) {\r\n  // result = YOUR_SELECTED_ITEM // result = \"Potion\" // or: result = \"Hyper Potion\"\r\n  switch (result) {\r\n    case (\"Potion\") { // if (result = \"Potion\")\r\n      player.gold = player.gold - 50\r\n      player.potion = player.potion + 1\r\n    }\r\n    case (\"Hyper Potion\") { // if (result = \"Hyper Potion\")\r\n      player.gold = player.gold - 200\r\n      player.hyper_potion = player.hyper_potion + 1\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n---------------\r\n\r\nalso, if you wan to use numbers:\r\n\r\n```\r\nmsg (\"See something that catches your eye?\")\r\nmsg (\"Shop\")\r\nstringlist_variable = split (\"Potion;Hyper Potion\", \";\")\r\nDisplayList (stringlist_variable, true) // or: DisplayList (stringlist_variable, false) // or: DisplayList (stringlist_variable, 0) // or: DisplayList (stringlist_variable, 1) // you probably want the list to be ordered/numbered (I just don't know from the doc, if you're to use 'true/false' or '0/1' for the second Argument/Parameter)\r\nget input {\r\n  // result = YOUR_TYPED_IN_INPUT // result = STRING_VALUE (even for number inputs)\r\n  if (IsInt (result) and ToInt (result) > 0 and ToInt (result) <= ListCount (stringlist_variable)) {\r\n    switch (result) {\r\n      case (\"1\") { // if (result = \"Potion\")\r\n        player.gold = player.gold - 50\r\n        player.potion = player.potion + 1\r\n      }\r\n      case (\"2\") { // if (result = \"Hyper Potion\")\r\n        player.gold = player.gold - 200\r\n        player.hyper_potion = player.hyper_potion + 1\r\n      }\r\n    }\r\n  } else {\r\n    msg (\"Wrong input, try again\")\r\n  }\r\n}\r\n```\r\n\r\n----------\r\n\r\nyou can also use a Dictionary Attribute, letting you convert number to item or vice versa... let me know if you're interested in this instead of using the 'DisplayList + get input'\r\n\r\n-----------------\r\n\r\nask if you got any questions... or need help with anything...",
      "EditableFormat": "markdown",
      "HTML": "<pre><code>msg (\"See something that catches your eye?\")\nShowMenu (\"Shop\", split (\"Potion;Hyper Potion\" , \";\"), true) {\n  // result = YOUR_SELECTED_ITEM // result = \"Potion\" // or: result = \"Hyper Potion\"\n  switch (result) {\n    case (\"Potion\") { // if (result = \"Potion\")\n      player.gold = player.gold - 50\n      player.potion = player.potion + 1\n    }\n    case (\"Hyper Potion\") { // if (result = \"Hyper Potion\")\n      player.gold = player.gold - 200\n      player.hyper_potion = player.hyper_potion + 1\n    }\n  }\n}\n</code></pre>\n<hr>\n<p>also, if you wan to use numbers:</p>\n<pre><code>msg (\"See something that catches your eye?\")\nmsg (\"Shop\")\nstringlist_variable = split (\"Potion;Hyper Potion\", \";\")\nDisplayList (stringlist_variable, true) // or: DisplayList (stringlist_variable, false) // or: DisplayList (stringlist_variable, 0) // or: DisplayList (stringlist_variable, 1) // you probably want the list to be ordered/numbered (I just don't know from the doc, if you're to use 'true/false' or '0/1' for the second Argument/Parameter)\nget input {\n  // result = YOUR_TYPED_IN_INPUT // result = STRING_VALUE (even for number inputs)\n  if (IsInt (result) and ToInt (result) &gt; 0 and ToInt (result) &lt;= ListCount (stringlist_variable)) {\n    switch (result) {\n      case (\"1\") { // if (result = \"Potion\")\n        player.gold = player.gold - 50\n        player.potion = player.potion + 1\n      }\n      case (\"2\") { // if (result = \"Hyper Potion\")\n        player.gold = player.gold - 200\n        player.hyper_potion = player.hyper_potion + 1\n      }\n    }\n  } else {\n    msg (\"Wrong input, try again\")\n  }\n}\n</code></pre>\n<hr>\n<p>you can also use a Dictionary Attribute, letting you convert number to item or vice versa... let me know if you're interested in this instead of using the 'DisplayList + get input'</p>\n<hr>\n<p>ask if you got any questions... or need help with anything...</p>\n\n",
      "PostDate": "2017-06-15T19:56:21.5841111Z",
      "LastEditDate": "2017-06-15T20:18:26.3210316Z",
      "link": null
    },
    {
      "PostId": "4637868e-c4ea-434a-8883-8a6aaf2aa739",
      "UserId": 267336,
      "Username": "jmnevil54",
      "AvatarUrl": "https://secure.gravatar.com/avatar/5d73d7ec1dbe20a5cb46f02a6d53f187?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Phew. Got it. Thanks.",
      "EditableFormat": "markdown",
      "HTML": "<p>Phew. Got it. Thanks.</p>\n\n",
      "PostDate": "2017-06-15T21:18:42.6455323Z",
      "LastEditDate": "2017-06-15T21:19:22.0761874Z",
      "link": null
    },
    {
      "PostId": "66faebda-45d9-4c8e-9ee8-0580e71f0dbb",
      "UserId": 267336,
      "Username": "jmnevil54",
      "AvatarUrl": "https://secure.gravatar.com/avatar/5d73d7ec1dbe20a5cb46f02a6d53f187?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "I have a new problem.\r\nThis is what I got.\r\nmsg (\"See something that catches your eye?\")\r\nShowMenu (\"Shop\", split (\"Potion;Hyper Potion\" , \";\"), true) {\r\n  result = 1\r\n  result = 2\r\n  switch (result) {\r\n    case (1) {\r\n      if (player.gold > 50) {\r\n        player.gold = player.gold - 50\r\n        player.potion = player.potion + 1\r\n        msg (\"You bought a Potion.\")\r\n      }\r\n      else {\r\n        msg (\"You have no gold.\")\r\n      }\r\n    }\r\n    case (2) {\r\n      if (player.gold > 200) {\r\n        player.gold = player.gold - 200\r\n        player.hyper_potion = player.hyper_potion + 1\r\n        msg (\"You bought a Hyper Potion.\")\r\n      }\r\n      else {\r\n        msg (\"You have no gold.\")\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nThe game thinks the result is always a Hyper Potion.",
      "EditableFormat": "markdown",
      "HTML": "<p>I have a new problem.<br>\nThis is what I got.<br>\nmsg (\"See something that catches your eye?\")<br>\nShowMenu (\"Shop\", split (\"Potion;Hyper Potion\" , \";\"), true) {<br>\nresult = 1<br>\nresult = 2<br>\nswitch (result) {<br>\ncase (1) {<br>\nif (player.gold &gt; 50) {<br>\nplayer.gold = player.gold - 50<br>\nplayer.potion = player.potion + 1<br>\nmsg (\"You bought a Potion.\")<br>\n}<br>\nelse {<br>\nmsg (\"You have no gold.\")<br>\n}<br>\n}<br>\ncase (2) {<br>\nif (player.gold &gt; 200) {<br>\nplayer.gold = player.gold - 200<br>\nplayer.hyper_potion = player.hyper_potion + 1<br>\nmsg (\"You bought a Hyper Potion.\")<br>\n}<br>\nelse {<br>\nmsg (\"You have no gold.\")<br>\n}<br>\n}<br>\n}<br>\n}</p>\n<p>The game thinks the result is always a Hyper Potion.</p>\n\n",
      "PostDate": "2017-06-17T01:48:00.0803376Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "ed6107f7-9e25-479d-9f1f-f5ad1ac4d35f",
      "UserId": 260569,
      "Username": "DarkLizerd",
      "AvatarUrl": "http://i.imgur.com/BXvaaIub.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "remove the:\r\nShowMenu (\"Shop\", split (\"Potion;Hyper Potion\" , \";\"), true) {\r\n**result = 1**   <---\r\n**result = 2**   <---\r\nswitch (result) {\r\nYou are setting a value that overrides the get input function.\r\n\r\nAlso, change the:\r\nmsg (\"You have no gold.\")\r\nto\r\nmsg(\"You are a little short on gold.\")\r\nor something like that...\r\nI would be confused to be told I \"have no gold\" when I know I have 49 gold...\r\n",
      "EditableFormat": "markdown",
      "HTML": "<p>remove the:<br>\nShowMenu (\"Shop\", split (\"Potion;Hyper Potion\" , \";\"), true) {<br>\n<strong>result = 1</strong>   &lt;---<br>\n<strong>result = 2</strong>   &lt;---<br>\nswitch (result) {<br>\nYou are setting a value that overrides the get input function.</p>\n<p>Also, change the:<br>\nmsg (\"You have no gold.\")<br>\nto<br>\nmsg(\"You are a little short on gold.\")<br>\nor something like that...<br>\nI would be confused to be told I \"have no gold\" when I know I have 49 gold...</p>\n\n",
      "PostDate": "2017-06-17T04:29:57.2711469Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "8a1e7c03-dafd-477b-acb0-a55cd55565ba",
      "UserId": 247325,
      "Username": "hegemonkhan",
      "AvatarUrl": "https://secure.gravatar.com/avatar/a96cf34d8d97c57de38f54ee22b1759b?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "as Dark Lizard said:\r\n\r\nquest automatically (it does this for you, hiddenly) sets/stores your: typed-in input (for 'get input' Script/Function) or your menu-selected input (for 'show menu / ShowMenu' Script/Function) into the built-in 'result' Variable VARIABLE:\r\n\r\nresult = YOUR_TYPED_IN_OR_MENU_SELECTED_INPUT\r\n\r\nwhich you then over-write that Value with...\r\n\r\nfirst: result = 1 // you replaced your input (typed in or menu selected: \"Potion/Hyper Potion\") with '1'\r\n\r\nand then again (replaced it) to now being: result = 2 // you replaced your '1' with '2'\r\n\r\nthus, it'll always do your: case (2)\r\n\r\n--------\r\n\r\nsee my previous post for the fixed-up code example of it",
      "EditableFormat": "markdown",
      "HTML": "<p>as Dark Lizard said:</p>\n<p>quest automatically (it does this for you, hiddenly) sets/stores your: typed-in input (for 'get input' Script/Function) or your menu-selected input (for 'show menu / ShowMenu' Script/Function) into the built-in 'result' Variable VARIABLE:</p>\n<p>result = YOUR_TYPED_IN_OR_MENU_SELECTED_INPUT</p>\n<p>which you then over-write that Value with...</p>\n<p>first: result = 1 // you replaced your input (typed in or menu selected: \"Potion/Hyper Potion\") with '1'</p>\n<p>and then again (replaced it) to now being: result = 2 // you replaced your '1' with '2'</p>\n<p>thus, it'll always do your: case (2)</p>\n<hr>\n<p>see my previous post for the fixed-up code example of it</p>\n\n",
      "PostDate": "2017-06-17T06:16:59.5234342Z",
      "LastEditDate": "2017-06-17T06:17:49.5372138Z",
      "link": null
    },
    {
      "PostId": "16110ad5-e6db-490c-8bd7-114ccfd9e4fd",
      "UserId": 1346,
      "Username": "The Pixie",
      "AvatarUrl": "https://secure.gravatar.com/avatar/cfa37e927f96177bcf6053ae8f108f77?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "I have updated the documentation for ShowMenu, so hopefully it is clearer.\r\n\r\nhttp://docs.textadventures.co.uk/quest/functions/showmenu.html",
      "EditableFormat": "markdown",
      "HTML": "<p>I have updated the documentation for ShowMenu, so hopefully it is clearer.</p>\n<p>http://docs.textadventures.co.uk/quest/functions/showmenu.html</p>\n\n",
      "PostDate": "2017-06-17T08:01:51.765831Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "307baefe-f4ea-441c-8c3b-2924e18d501f",
      "UserId": 267336,
      "Username": "jmnevil54",
      "AvatarUrl": "https://secure.gravatar.com/avatar/5d73d7ec1dbe20a5cb46f02a6d53f187?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Fine. Thanks.",
      "EditableFormat": "markdown",
      "HTML": "<p>Fine. Thanks.</p>\n\n",
      "PostDate": "2017-06-17T16:28:31.7272942Z",
      "LastEditDate": null,
      "link": null
    }
  ]
}
