{
  "Topic": {
    "TopicId": "5367",
    "ForumId": "10",
    "Title": "Vehicle - Move Object 'you' to 'room'  and 'print message after 6 seconds'",
    "LastUpdated": "2015-07-20T12:42:52+01:00",
    "ReplyCount": 2
  },
  "Posts": [
    {
      "PostId": "37215",
      "UserId": 0,
      "Username": "Grids",
      "UserAvatar": null,
      "UserGravatar": "c07594050f72ba0d4b6afaa1d9832321",
      "EditableText": "Hi,\n\nI am creating an 80s-inspired, retro-future text adventure and was wondering if anyone could please help me out at all.\n\nI am having trouble with using a vehicle in one instance within the game.\n\nThe vehicle (Lamborghini) is set up as a room but I don't have any exits listed. When I want the player to go somewhere I just use Move Object (You)  and Move Object (Lamborghini) to whatever room I want them to go to. 'You' is the name for the player.\n\nEssentially the player needs a large amethyst for a weird time machine thingy (as you do). \nThe player drives to the Jeweller Shop. \nHe must either talk to the man about the Amethyst or look in the casing to make the Amethyst visible in the room. Then he asks the Jeweller man about the prestige range of diamonds. The Jeweller man leaves for the backroom of the shop. You then have 6 seconds to quickly type - break glass. If you do this you run off with the Amethyst and get back into the car. If the man returns you cannot take the Amethyst.\n\nIn most scenes where I go back to the car I can press 'drive car to Jeweller' or 'drive car to Timephase Corp' or 'drive car to beach' and it will drive. But in this instance I cannot drive anywhere and I am wondering what is going on. I am wondering if there is something weird going on with the 'set timeout' and that script still running in the 'Jeweller' room whilst the player has moved to the 'Lamborghini' room\n\n\nHere is a code snippet for the car:\n\n\n[i:1u0oan8e]&lt;object name=&quot;Lamborghini&quot;&gt;\n      &lt;inherit name=&quot;editor_object&quot; /&gt;\n      &lt;alt type=&quot;stringlist&quot;&gt;\n        &lt;value&gt;Car&lt;/value&gt;\n        &lt;value&gt;Vehicle&lt;/value&gt;\n        &lt;value&gt;Lamborgini&lt;/value&gt;\n      &lt;/alt&gt;\n      &lt;look type=&quot;script&quot;&gt;\n        msg (&quot;You relax into the leather seat and put on a pair of Ray Bans sitting on the dash. &quot;)\n      &lt;/look&gt;\n      &lt;drive type=&quot;script&quot;&gt;\n        msg (&quot;Turning the key in the ignition, the car purrs to life. Where would you like to drive?&quot;)\n        get input {\n          if (IsRegexMatch  (&quot;(xavier|timephase)&quot;, LCase (result))) {\n            MoveObject (Lamborghini, TP Corp Entrance)\n            MoveObject (You, TP Corp Entrance)\n          }\n          else if (IsRegexMatch  (&quot;(beach)&quot;, LCase (result))) {\n            MoveObject (Lamborghini, Beach)\n            MoveObject (You, Beach)\n          }\n          else if (IsRegexMatch  (&quot;(jeweller|captivate)&quot;, LCase (result))) {\n            MoveObject (Lamborghini, Jeweller)\n            MoveObject (You, Jeweller)\n          }\n          else {\n            msg (&quot;You can't drive there. You step out of the vehicle and think about where you'd like to drive.&quot;)\n          }\n        }\n      &lt;/drive&gt;[/i:1u0oan8e]\n\n[b:1u0oan8e]Here is a snippet of code for the Prestige Range of Diamonds[/b:1u0oan8e]\n\n &lt;item key=&quot;prestige Prestige &quot;&gt;\n          msg (&quot;They are a simpy exquisite range of diamonds. I will go and get them for you now.&quot;)\n          MoveObject (Man, Jewellery Back Room)\n          SetTimeout (6) {\n            if (Got(Amethyst)) {\n              msg (&quot;You see the man. He starts screaming as he sees you carrying the Amethyst&quot;)\n                MoveObject (You, Lamborghini)\n            }\n            else if (not Got(Amethyst)) {\n              msg (&quot;The gentleman returns with a case containing dazzling diamonds&quot;)\n              MakeObjectVisible (prestige)\n            }\n          }\n        &lt;/item&gt;\n\n[b:1u0oan8e]Here is the script for breaking the glass casing.[/b:1u0oan8e]\n\n[i:1u0oan8e]&lt;alias&gt;Glass Casing&lt;/alias&gt;\n      &lt;break type=&quot;script&quot;&gt;\n        if (not ListContains(ScopeVisible(), Man)) {\n          msg (&quot;\\&quot;I'm sorry but this is for the future of Planet Earth!\\&quot; you whisper to yourself.You raise your fist and pound it down upon the casing that is protecting the Amethyst. Shards of glass spray across the room. You clutch the heavy, purple stone in your hands and bolt for the door. You hear sirens blazing as you dive into the Lamborghini.&quot;)\n          MoveObject (You, Lamborghini)\n        }\n        else {\n          msg (&quot;That would be crazy. The gentleman is in the same room as you, watching your every move.&quot;)\n        }\n      &lt;/break&gt;[/i:1u0oan8e]",
      "EditableFormat": "bbcode",
      "HTML": "Hi,<br/><br/>I am creating an 80s-inspired, retro-future text adventure and was wondering if anyone could please help me out at all.<br/><br/>I am having trouble with using a vehicle in one instance within the game.<br/><br/>The vehicle (Lamborghini) is set up as a room but I don't have any exits listed. When I want the player to go somewhere I just use Move Object (You)  and Move Object (Lamborghini) to whatever room I want them to go to. 'You' is the name for the player.<br/><br/>Essentially the player needs a large amethyst for a weird time machine thingy (as you do). <br/>The player drives to the Jeweller Shop. <br/>He must either talk to the man about the Amethyst or look in the casing to make the Amethyst visible in the room. Then he asks the Jeweller man about the prestige range of diamonds. The Jeweller man leaves for the backroom of the shop. You then have 6 seconds to quickly type - break glass. If you do this you run off with the Amethyst and get back into the car. If the man returns you cannot take the Amethyst.<br/><br/>In most scenes where I go back to the car I can press 'drive car to Jeweller' or 'drive car to Timephase Corp' or 'drive car to beach' and it will drive. But in this instance I cannot drive anywhere and I am wondering what is going on. I am wondering if there is something weird going on with the 'set timeout' and that script still running in the 'Jeweller' room whilst the player has moved to the 'Lamborghini' room<br/><br/><br/>Here is a code snippet for the car:<br/><br/><br/><span style=\"font-style:italic;\">&lt;object name=&quot;Lamborghini&quot;&gt;<br/>      &lt;inherit name=&quot;editor_object&quot; /&gt;<br/>      &lt;alt type=&quot;stringlist&quot;&gt;<br/>        &lt;value&gt;Car&lt;/value&gt;<br/>        &lt;value&gt;Vehicle&lt;/value&gt;<br/>        &lt;value&gt;Lamborgini&lt;/value&gt;<br/>      &lt;/alt&gt;<br/>      &lt;look type=&quot;script&quot;&gt;<br/>        msg (&quot;You relax into the leather seat and put on a pair of Ray Bans sitting on the dash. &quot;)<br/>      &lt;/look&gt;<br/>      &lt;drive type=&quot;script&quot;&gt;<br/>        msg (&quot;Turning the key in the ignition, the car purrs to life. Where would you like to drive?&quot;)<br/>        get input {<br/>          if (IsRegexMatch  (&quot;(xavier|timephase)&quot;, LCase (result))) {<br/>            MoveObject (Lamborghini, TP Corp Entrance)<br/>            MoveObject (You, TP Corp Entrance)<br/>          }<br/>          else if (IsRegexMatch  (&quot;(beach)&quot;, LCase (result))) {<br/>            MoveObject (Lamborghini, Beach)<br/>            MoveObject (You, Beach)<br/>          }<br/>          else if (IsRegexMatch  (&quot;(jeweller|captivate)&quot;, LCase (result))) {<br/>            MoveObject (Lamborghini, Jeweller)<br/>            MoveObject (You, Jeweller)<br/>          }<br/>          else {<br/>            msg (&quot;You can't drive there. You step out of the vehicle and think about where you'd like to drive.&quot;)<br/>          }<br/>        }<br/>      &lt;/drive&gt;</span><br/><br/><span style=\"font-weight:bold;\">Here is a snippet of code for the Prestige Range of Diamonds</span><br/><br/> &lt;item key=&quot;prestige Prestige &quot;&gt;<br/>          msg (&quot;They are a simpy exquisite range of diamonds. I will go and get them for you now.&quot;)<br/>          MoveObject (Man, Jewellery Back Room)<br/>          SetTimeout (6) {<br/>            if (Got(Amethyst)) {<br/>              msg (&quot;You see the man. He starts screaming as he sees you carrying the Amethyst&quot;)<br/>                MoveObject (You, Lamborghini)<br/>            }<br/>            else if (not Got(Amethyst)) {<br/>              msg (&quot;The gentleman returns with a case containing dazzling diamonds&quot;)<br/>              MakeObjectVisible (prestige)<br/>            }<br/>          }<br/>        &lt;/item&gt;<br/><br/><span style=\"font-weight:bold;\">Here is the script for breaking the glass casing.</span><br/><br/><span style=\"font-style:italic;\">&lt;alias&gt;Glass Casing&lt;/alias&gt;<br/>      &lt;break type=&quot;script&quot;&gt;<br/>        if (not ListContains(ScopeVisible(), Man)) {<br/>          msg (&quot;\\&quot;I'm sorry but this is for the future of Planet Earth!\\&quot; you whisper to yourself.You raise your fist and pound it down upon the casing that is protecting the Amethyst. Shards of glass spray across the room. You clutch the heavy, purple stone in your hands and bolt for the door. You hear sirens blazing as you dive into the Lamborghini.&quot;)<br/>          MoveObject (You, Lamborghini)<br/>        }<br/>        else {<br/>          msg (&quot;That would be crazy. The gentleman is in the same room as you, watching your every move.&quot;)<br/>        }<br/>      &lt;/break&gt;</span>",
      "PostDate": "2015-07-20T11:05:46+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "37216",
      "UserId": 0,
      "Username": "The Pixie",
      "UserAvatar": null,
      "UserGravatar": "cfa37e927f96177bcf6053ae8f108f77",
      "EditableText": "[quote=&quot;Grids&quot;:3crb9pjy]The vehicle (Lamborghini) is set up as a room but I don't have any exits listed. When I want the player to go somewhere I just use Move Object (You)  and Move Object (Lamborghini) to whatever room I want them to go to. 'You' is the name for the player.[/quote:3crb9pjy]\nActually the car is set to be an object, which is what you want for how you have implemented, as the player does not really go inside the car. However, if you grab the gem, then the player [i:3crb9pjy]is [/i:3crb9pjy]moved inside the car. When you are inside the car, the car is not visible as an object (which may seem strange, but if you are at the beach, Quest will not consider the beach to be an object that is there, so usually it makes sense).\n\nI would create a command in the car. Set the car to be both an object and a room, then go to the scripts tab. Create a new command, and for the script, just call the &quot;drive&quot; script on the car:\n[code:3crb9pjy]do(Lamborghini, &quot;drive&quot;)[/code:3crb9pjy]\nGiven what you have so far, I am guessing you can do it from there, but just say if you want more help.",
      "EditableFormat": "bbcode",
      "HTML": "<blockquote><cite>Grids wrote:</cite>The vehicle (Lamborghini) is set up as a room but I don't have any exits listed. When I want the player to go somewhere I just use Move Object (You)  and Move Object (Lamborghini) to whatever room I want them to go to. 'You' is the name for the player.</blockquote><br/>Actually the car is set to be an object, which is what you want for how you have implemented, as the player does not really go inside the car. However, if you grab the gem, then the player <span style=\"font-style:italic;\">is </span>moved inside the car. When you are inside the car, the car is not visible as an object (which may seem strange, but if you are at the beach, Quest will not consider the beach to be an object that is there, so usually it makes sense).<br/><br/>I would create a command in the car. Set the car to be both an object and a room, then go to the scripts tab. Create a new command, and for the script, just call the &quot;drive&quot; script on the car:<br/><pre><code>do(Lamborghini, &quot;drive&quot;)</code></pre><br/>Given what you have so far, I am guessing you can do it from there, but just say if you want more help.",
      "PostDate": "2015-07-20T11:44:26+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "37217",
      "UserId": 0,
      "Username": "Grids",
      "UserAvatar": null,
      "UserGravatar": "c07594050f72ba0d4b6afaa1d9832321",
      "EditableText": "Thanks, that makes lots of sense now.",
      "EditableFormat": "bbcode",
      "HTML": "Thanks, that makes lots of sense now.",
      "PostDate": "2015-07-20T12:42:52+01:00",
      "LastEditDate": null
    }
  ]
}
