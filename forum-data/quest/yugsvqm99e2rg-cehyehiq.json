{
  "Topic": {
    "TopicId": "yugsvqm99e2rg-cehyehiq",
    "ForumId": "10",
    "Title": "Calling Attribute In Online editor?",
    "LastUpdated": "2016-09-13T22:36:41.0449319Z",
    "ReplyCount": 0
  },
  "Posts": [
    {
      "PostId": "402f2f36-ad54-4be2-b673-d4e6b946d736",
      "UserId": 26011,
      "Username": "onimike",
      "AvatarUrl": "http://i.imgur.com/yL1GRWab.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Hey again got another minor yet annoying issue. In my game I have 'Weapon' as status attribute and on my weapon item a verb called \"equip\" and \"unequip\". Well my equip weapon works fine but for some reason can't seem to call attribute \"If Weapon = (Equipped Weapon) then {do something}\r\n\r\nHere is my equip code \r\n```\r\ndictionary remove (game.pov.statusattributes, \"Weapon\")\r\ndictionary add (game.pov.statusattributes, \"Weapon\", \"Weapon = Beretta\")\r\n``` \r\n\r\nAnd here is my unequip code\r\n```\r\nif (game.pov.Weapon = Beretta) {\r\n  dictionary remove (game.pov.statusattributes, \"Weapon\")\r\n  dictionary add (game.pov.statusattributes, \"Weapon\", \"Weapon = None\")\r\n}\r\n```\r\nIm using game.pov because the player changes so i want it to always get the correct character. I know im making a string variable and probably better way the resetting string each time but don't think im calling it right but do not receive errors from the code so a little lost lol. Thanks in Advance\r\n\r\nMike",
      "EditableFormat": "markdown",
      "HTML": "<p>Hey again got another minor yet annoying issue. In my game I have 'Weapon' as status attribute and on my weapon item a verb called \"equip\" and \"unequip\". Well my equip weapon works fine but for some reason can't seem to call attribute \"If Weapon = (Equipped Weapon) then {do something}</p>\n<p>Here is my equip code</p>\n<pre><code>dictionary remove (game.pov.statusattributes, \"Weapon\")\ndictionary add (game.pov.statusattributes, \"Weapon\", \"Weapon = Beretta\")\n</code></pre>\n<p>And here is my unequip code</p>\n<pre><code>if (game.pov.Weapon = Beretta) {\n  dictionary remove (game.pov.statusattributes, \"Weapon\")\n  dictionary add (game.pov.statusattributes, \"Weapon\", \"Weapon = None\")\n}\n</code></pre>\n<p>Im using game.pov because the player changes so i want it to always get the correct character. I know im making a string variable and probably better way the resetting string each time but don't think im calling it right but do not receive errors from the code so a little lost lol. Thanks in Advance</p>\n<p>Mike</p>\n\n",
      "PostDate": "2016-09-13T22:36:41.0449319Z",
      "LastEditDate": null
    },
    {
      "PostId": "df83877f-5d58-49a9-bacd-a6d465ed7c3d",
      "UserId": 247325,
      "Username": "hegemonkhan",
      "AvatarUrl": "https://secure.gravatar.com/avatar/a96cf34d8d97c57de38f54ee22b1759b?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "```\r\nremember, that the built-in 'statusattributes' String Dictionary Attribute, is merely to DISPLAY an Attribute, but you got to actually create the Attribute itself, too!\r\n\r\nso create/add an Object Attribute (or you can use an Object List Attribute, if you want more complexity for your more advanced equipment system) to your Player Object, for example in code:\r\n\r\nplayer.right_hand = sword\r\nplayer.left_hand = shield\r\n\r\nAxe's Verb (equiping the axe):\r\n\r\nplayer.right_hand = axe\r\n\r\n// which you can now use this Attribute VARIABLE, in/for your 'if' Script's condition location, for example:\r\nif (player.right_hand = sword) {\r\n  msg (\"Right Hand: \" + player.right_hand.name)\r\n} else if (player.right_hand = axe) {\r\n  msg (\"Right Hand: \" + player.right_hand.name)\r\n}\r\n~OR~\r\nif (player.right_hand.name = \"sword\") {\r\n  msg (\"Right Hand: \" + player.right_hand.name)\r\n} else if (player.right_hand.name = \"axe\") {\r\n  msg (\"Right Hand: \" + player.right_hand.name)\r\n}\r\n\r\nand the used Objects have to actually exist too, of course:\r\n\r\n<object name=\"sword\">\r\n</object>\r\n\r\n</object name=\"shield\">\r\n</object>\r\n\r\n<object name=\"axe\">\r\n</object>\r\n\r\n-----------------\r\n\r\nthe 'statusattributes' (and Object Attributes) should look like this, for example in code:\r\n\r\n<object name=\"player\">\r\n  <attr name=\"weapon\" type=\"object\">unarmed</attr>\r\n  <attr name=\"shield\" type=\"object\">unarmed</attr>\r\n  <attr name=\"helmet\" type=\"object\">unarmed</attr>\r\n  <attr name=\"armor\" type=\"object\">unarmed</attr>\r\n  <attr name=\"boots\" type=\"object\">unarmed</attr>\r\n  // etc body parts/slots\r\n  <statusattributes type=\"simplestringdictionary\">weapon = Weapon: !; shield = Shield: !; helmet = Helmet: !; armor = Armor: !; boots = Boots: !</statusattributes>\r\n</object>\r\n\r\n<object name=\"unarmed\">\r\n  <attr name=\"damage\" type=\"int\">1</attr>\r\n  <attr name=\"defense\" type=\"int\">0</attr>\r\n</object>\r\n\r\n<object name=\"katana\">\r\n  <attr name=\"damage\" type=\"int\">50</attr>\r\n  <attr name=\"equip\" type=\"script\">\r\n    if (not player.weapon = this) {\r\n      player.weapon = this\r\n      msg (\"You equip the \" + this.name)\r\n    } else {\r\n      msg (\"You're already equipped with the \" + this.name + \", silly.\")\r\n    }\r\n  </attr>\r\n  <attr name=\"unequip\" type=\"script\">\r\n    if (player.weapon = this) {\r\n      player.weapon = unarmed\r\n      msg (\"You unequip the \" + this.name)\r\n    } else {\r\n      msg (\"You're already not equipped with the \" + this.name + \", silly.\")\r\n    }\r\n  </attr>\r\n</object>\r\n\r\n// etc weapons, shields, armors, helmets, boots, etc equipment Objects\r\n\r\n<verb>\r\n  <property>equip</property>\r\n  <pattern>equip</pattern>\r\n  <defaultexpression>You can't equip that!</defaultexpression>\r\n</verb>\r\n\r\n<verb>\r\n  <property>unequip</property>\r\n  <pattern>unequip</pattern>\r\n  <defaultexpression>You can't unequip that!</defaultexpression>\r\n</verb>\r\n\r\n----------------------------------------\r\n\r\nexplanation of the String Dictionary Attribute's syntax:\r\n\r\n<attr name=\"NAME_OF_YOUR_STRING_DICTONARY_ATTRIBUTE\" type=\"simplestringdictionary\">NAME_OF_YOUR_ATTRIBUTE_1_TO_BE_DISPLAYED = WHAT_YOU_WANT_TO_DISPLAY/OUTPUT/TEXT/STRING; NAME_OF_YOUR_ATTRIBUTE_2_TO_BE_DISPLAYED = WHAT_YOU_WANT_TO_DISPLAY/OUTPUT/TEXT/STRING; ETC ETC ETC</attr>\r\n\r\nthe '!' is a special keyword/keysymbol/keycommand, which will be replaced (automaticaly by quest) by the Value of your Attribute; think of the '!' as a VARIABLE that holds the Attribute's Value or think of the '!' as a 'Get/Return Attribute's Value' Function.\r\n\r\nso, for example and its output:\r\n\r\n<object name=\"mithril_katana\"></object>\r\n<object name=\"unarmed\"></object>\r\n<object name=\"mithril_full_plate_armor\"></object>\r\n<object name=\"mithril_warlord_helmet\"></object>\r\n<object name=\"mithril_war_boots\"></object>\r\n\r\nplayer.weapon = mithril_katana\r\nplayer.shield = unarmed\r\nplayer.armor = mithril_full_plate_armor\r\nplayer.helmet = mithril_warlord_helmet\r\nplayer.boots = mithril_war_boots\r\n\r\n<statusattributes type=\"simplestringdictionary\">weapon = Weapon: !; shield = Shield: !; armor = Armor: !; helmet = Helmet: !; boots = Boots: !</statusattributes>\r\n\r\ndisplayment in the right pane during game play:\r\n\r\nWeapon: mithril_katana\r\nShield: unarmed\r\nArmor: mithril_full_plate_armor\r\nHelmet: mithril_warlord_helmet\r\nBoots: mithril_war_boots\r\n\r\n------\r\n\r\n<object name=\"adamantium_claymore\"></object>\r\n\r\nplayer.weapon = adamantium_claymore\r\n\r\ndisplayment in the right pane during game play:\r\n\r\nWeapon: adamantium_claymore\r\nShield: unarmed\r\nArmor: mithril_full_plate_armor\r\nHelmet: mithril_warlord_helmet\r\nBoots: mithril_war_boots\r\n\r\n```\r\n\r\nP.S.\r\n\r\nsee these links for more detail:\r\n\r\nhttp://textadventures.co.uk/forum/quest/topic/5387/i-really-need-help#37375 (statusattributes step by step guide+demo game)\r\nhttp://textadventures.co.uk/forum/samples/topic/5559/attributes-and-if-script-guide-by-hk (attributes and 'if' script giude)",
      "EditableFormat": "markdown",
      "HTML": "<pre><code>remember, that the built-in 'statusattributes' String Dictionary Attribute, is merely to DISPLAY an Attribute, but you got to actually create the Attribute itself, too!\n\nso create/add an Object Attribute (or you can use an Object List Attribute, if you want more complexity for your more advanced equipment system) to your Player Object, for example in code:\n\nplayer.right_hand = sword\nplayer.left_hand = shield\n\nAxe's Verb (equiping the axe):\n\nplayer.right_hand = axe\n\n// which you can now use this Attribute VARIABLE, in/for your 'if' Script's condition location, for example:\nif (player.right_hand = sword) {\n  msg (\"Right Hand: \" + player.right_hand.name)\n} else if (player.right_hand = axe) {\n  msg (\"Right Hand: \" + player.right_hand.name)\n}\n~OR~\nif (player.right_hand.name = \"sword\") {\n  msg (\"Right Hand: \" + player.right_hand.name)\n} else if (player.right_hand.name = \"axe\") {\n  msg (\"Right Hand: \" + player.right_hand.name)\n}\n\nand the used Objects have to actually exist too, of course:\n\n&lt;object name=\"sword\"&gt;\n&lt;/object&gt;\n\n&lt;/object name=\"shield\"&gt;\n&lt;/object&gt;\n\n&lt;object name=\"axe\"&gt;\n&lt;/object&gt;\n\n-----------------\n\nthe 'statusattributes' (and Object Attributes) should look like this, for example in code:\n\n&lt;object name=\"player\"&gt;\n  &lt;attr name=\"weapon\" type=\"object\"&gt;unarmed&lt;/attr&gt;\n  &lt;attr name=\"shield\" type=\"object\"&gt;unarmed&lt;/attr&gt;\n  &lt;attr name=\"helmet\" type=\"object\"&gt;unarmed&lt;/attr&gt;\n  &lt;attr name=\"armor\" type=\"object\"&gt;unarmed&lt;/attr&gt;\n  &lt;attr name=\"boots\" type=\"object\"&gt;unarmed&lt;/attr&gt;\n  // etc body parts/slots\n  &lt;statusattributes type=\"simplestringdictionary\"&gt;weapon = Weapon: !; shield = Shield: !; helmet = Helmet: !; armor = Armor: !; boots = Boots: !&lt;/statusattributes&gt;\n&lt;/object&gt;\n\n&lt;object name=\"unarmed\"&gt;\n  &lt;attr name=\"damage\" type=\"int\"&gt;1&lt;/attr&gt;\n  &lt;attr name=\"defense\" type=\"int\"&gt;0&lt;/attr&gt;\n&lt;/object&gt;\n\n&lt;object name=\"katana\"&gt;\n  &lt;attr name=\"damage\" type=\"int\"&gt;50&lt;/attr&gt;\n  &lt;attr name=\"equip\" type=\"script\"&gt;\n    if (not player.weapon = this) {\n      player.weapon = this\n      msg (\"You equip the \" + this.name)\n    } else {\n      msg (\"You're already equipped with the \" + this.name + \", silly.\")\n    }\n  &lt;/attr&gt;\n  &lt;attr name=\"unequip\" type=\"script\"&gt;\n    if (player.weapon = this) {\n      player.weapon = unarmed\n      msg (\"You unequip the \" + this.name)\n    } else {\n      msg (\"You're already not equipped with the \" + this.name + \", silly.\")\n    }\n  &lt;/attr&gt;\n&lt;/object&gt;\n\n// etc weapons, shields, armors, helmets, boots, etc equipment Objects\n\n&lt;verb&gt;\n  &lt;property&gt;equip&lt;/property&gt;\n  &lt;pattern&gt;equip&lt;/pattern&gt;\n  &lt;defaultexpression&gt;You can't equip that!&lt;/defaultexpression&gt;\n&lt;/verb&gt;\n\n&lt;verb&gt;\n  &lt;property&gt;unequip&lt;/property&gt;\n  &lt;pattern&gt;unequip&lt;/pattern&gt;\n  &lt;defaultexpression&gt;You can't unequip that!&lt;/defaultexpression&gt;\n&lt;/verb&gt;\n\n----------------------------------------\n\nexplanation of the String Dictionary Attribute's syntax:\n\n&lt;attr name=\"NAME_OF_YOUR_STRING_DICTONARY_ATTRIBUTE\" type=\"simplestringdictionary\"&gt;NAME_OF_YOUR_ATTRIBUTE_1_TO_BE_DISPLAYED = WHAT_YOU_WANT_TO_DISPLAY/OUTPUT/TEXT/STRING; NAME_OF_YOUR_ATTRIBUTE_2_TO_BE_DISPLAYED = WHAT_YOU_WANT_TO_DISPLAY/OUTPUT/TEXT/STRING; ETC ETC ETC&lt;/attr&gt;\n\nthe '!' is a special keyword/keysymbol/keycommand, which will be replaced (automaticaly by quest) by the Value of your Attribute; think of the '!' as a VARIABLE that holds the Attribute's Value or think of the '!' as a 'Get/Return Attribute's Value' Function.\n\nso, for example and its output:\n\n&lt;object name=\"mithril_katana\"&gt;&lt;/object&gt;\n&lt;object name=\"unarmed\"&gt;&lt;/object&gt;\n&lt;object name=\"mithril_full_plate_armor\"&gt;&lt;/object&gt;\n&lt;object name=\"mithril_warlord_helmet\"&gt;&lt;/object&gt;\n&lt;object name=\"mithril_war_boots\"&gt;&lt;/object&gt;\n\nplayer.weapon = mithril_katana\nplayer.shield = unarmed\nplayer.armor = mithril_full_plate_armor\nplayer.helmet = mithril_warlord_helmet\nplayer.boots = mithril_war_boots\n\n&lt;statusattributes type=\"simplestringdictionary\"&gt;weapon = Weapon: !; shield = Shield: !; armor = Armor: !; helmet = Helmet: !; boots = Boots: !&lt;/statusattributes&gt;\n\ndisplayment in the right pane during game play:\n\nWeapon: mithril_katana\nShield: unarmed\nArmor: mithril_full_plate_armor\nHelmet: mithril_warlord_helmet\nBoots: mithril_war_boots\n\n------\n\n&lt;object name=\"adamantium_claymore\"&gt;&lt;/object&gt;\n\nplayer.weapon = adamantium_claymore\n\ndisplayment in the right pane during game play:\n\nWeapon: adamantium_claymore\nShield: unarmed\nArmor: mithril_full_plate_armor\nHelmet: mithril_warlord_helmet\nBoots: mithril_war_boots\n\n</code></pre>\n<p>P.S.</p>\n<p>see these links for more detail:</p>\n<p>http://textadventures.co.uk/forum/quest/topic/5387/i-really-need-help#37375 (statusattributes step by step guide+demo game)<br>\nhttp://textadventures.co.uk/forum/samples/topic/5559/attributes-and-if-script-guide-by-hk (attributes and 'if' script giude)</p>\n\n",
      "PostDate": "2016-09-14T00:19:36.5617793Z",
      "LastEditDate": "2016-09-14T00:31:05.3928823Z"
    },
    {
      "PostId": "b14d6671-7fe0-453f-bb96-7766cbacf221",
      "UserId": 1346,
      "Username": "The Pixie",
      "AvatarUrl": "https://secure.gravatar.com/avatar/cfa37e927f96177bcf6053ae8f108f77?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "To summarise HK, if you do this in game.start:\r\n```\r\ndictionary add (game.pov.statusattributes, \"Weapon\", \"Weapon = !\")\r\n```\r\n... then Quest will automatically substitute the exclamation mark with the current value of game.pov.Weapon. If working off-line, use the Status Attributes section of the Attributes tab to do that.\r\n\r\nYour equip is just:\r\n```\r\ngame.pov.Weapon = \"Beretta\"\r\n```",
      "EditableFormat": "markdown",
      "HTML": "<p>To summarise HK, if you do this in game.start:</p>\n<pre><code>dictionary add (game.pov.statusattributes, \"Weapon\", \"Weapon = !\")\n</code></pre>\n<p>... then Quest will automatically substitute the exclamation mark with the current value of game.pov.Weapon. If working off-line, use the Status Attributes section of the Attributes tab to do that.</p>\n<p>Your equip is just:</p>\n<pre><code>game.pov.Weapon = \"Beretta\"\n</code></pre>\n\n",
      "PostDate": "2016-09-14T07:15:17.5437284Z",
      "LastEditDate": null
    },
    {
      "PostId": "e959a07b-6d79-4fc0-a396-415b91975812",
      "UserId": 26011,
      "Username": "onimike",
      "AvatarUrl": "http://i.imgur.com/yL1GRWab.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Thanks HK you gave me alot of ideas on how to handle weapons ver much appreciated. And Pixie thats awesome worked perfect with replacing ! with null.\r\n\r\nThanks again both of you all are a major part what makes learning quest some much easier.\r\n\r\nMike",
      "EditableFormat": "markdown",
      "HTML": "<p>Thanks HK you gave me alot of ideas on how to handle weapons ver much appreciated. And Pixie thats awesome worked perfect with replacing ! with null.</p>\n<p>Thanks again both of you all are a major part what makes learning quest some much easier.</p>\n<p>Mike</p>\n\n",
      "PostDate": "2016-09-17T05:52:56.486157Z",
      "LastEditDate": null
    }
  ]
}
