{
  "Topic": {
    "TopicId": "6267",
    "ForumId": "10",
    "Title": "Best Way to Add \"Artistic\" Pauses",
    "LastUpdated": "2016-04-25T07:19:58+01:00",
    "ReplyCount": 7
  },
  "Posts": [
    {
      "PostId": "42472",
      "UserId": 0,
      "Username": "Watcher55",
      "UserAvatar": null,
      "UserGravatar": "5fbb9717e1d63a1d8e1b7d5563f17891",
      "EditableText": "At certain places in the game, I like to have &quot;artistic&quot; or suspenseful pauses -- description 1 &lt;pause x seconds&gt; description 2 &lt;pause x seconds&gt; ... and so on.\n\nSo far I have done this using nested SetTimeout (4) { scripts }\n\nHowever this has a significant problem, namely the user has the power to click on the compass, thus moving while my brilliant timed prose is still slowly being revealed, and/or to click on hyperlinks in room descriptions, inventory etc -- again, doing things when they shouldn't be.\n\nThe basic problem here is to &quot;maintain the suspense&quot; while doling out things slowly happening in the player's world, while preventing the player from doing things while the doling out is in progress.\n\nMy question is, does anybody have an optimum solution to this?\n\nI figure that instead of using SetTimeOut I can just use the Pause() function. I'm not sure that actually works (I'm sure I tried it...), and I also thought that it had been deprecated in favour of timed scripts, but I see now looking at the online manual that there is no indication that is true. Failing that, I see a number of solutions in the various forum posts, such as using javascript blockWindow() and unblockWindow() (these don't seem to work for me though...?), or turning off interface elements like the compass via JS.eval (&quot;$('#compassAccordion').css('display', 'none')&quot;) etc; or individually preventing commands during the timed revelations -- requiring a lot of customised handling.\n\nI was wondering if the many wiser heads than mine out there have an optimum solution to this question? Will Pause() do it, or is that asking for trouble? Or should I just bite the bullet and in cases where I want to add suspenseful doling out of information, add individual exit scripts etc?",
      "EditableFormat": "bbcode",
      "HTML": "At certain places in the game, I like to have &quot;artistic&quot; or suspenseful pauses -- description 1 &lt;pause x seconds&gt; description 2 &lt;pause x seconds&gt; ... and so on.<br/><br/>So far I have done this using nested SetTimeout (4) { scripts }<br/><br/>However this has a significant problem, namely the user has the power to click on the compass, thus moving while my brilliant timed prose is still slowly being revealed, and/or to click on hyperlinks in room descriptions, inventory etc -- again, doing things when they shouldn't be.<br/><br/>The basic problem here is to &quot;maintain the suspense&quot; while doling out things slowly happening in the player's world, while preventing the player from doing things while the doling out is in progress.<br/><br/>My question is, does anybody have an optimum solution to this?<br/><br/>I figure that instead of using SetTimeOut I can just use the Pause() function. I'm not sure that actually works (I'm sure I tried it...), and I also thought that it had been deprecated in favour of timed scripts, but I see now looking at the online manual that there is no indication that is true. Failing that, I see a number of solutions in the various forum posts, such as using javascript blockWindow() and unblockWindow() (these don't seem to work for me though...?), or turning off interface elements like the compass via JS.eval (&quot;$('#compassAccordion').css('display', 'none')&quot;) etc; or individually preventing commands during the timed revelations -- requiring a lot of customised handling.<br/><br/>I was wondering if the many wiser heads than mine out there have an optimum solution to this question? Will Pause() do it, or is that asking for trouble? Or should I just bite the bullet and in cases where I want to add suspenseful doling out of information, add individual exit scripts etc?",
      "PostDate": "2016-04-24T08:11:12+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "42473",
      "UserId": 0,
      "Username": "XanMag",
      "UserAvatar": "7161_1436827710.jpg",
      "UserGravatar": "4b45a3afd18077f76f6569225c422bdb",
      "EditableText": "I need to do this too in X3, but I haven't been motivated enough to make any real progress.  I did find this but have no idea how to implement it or even if it would work with Quest.  Perhaps others can assist.\n\n<!-- m --><a class=\"postlink\" href=\"http://stackoverflow.com/questions/8595909/how-to-completley-disable-any-mouse-click\">http://stackoverflow.com/questions/8595 ... ouse-click</a><!-- m -->\n\nNear the bottom of this thread.  Let me know if you get it working or some other solution.",
      "EditableFormat": "bbcode",
      "HTML": "I need to do this too in X3, but I haven't been motivated enough to make any real progress.  I did find this but have no idea how to implement it or even if it would work with Quest.  Perhaps others can assist.<br/><br/><!-- m --><a class=\"postlink\" href=\"http://stackoverflow.com/questions/8595909/how-to-completley-disable-any-mouse-click\">http://stackoverflow.com/questions/8595 ... ouse-click</a><!-- m --><br/><br/>Near the bottom of this thread.  Let me know if you get it working or some other solution.",
      "PostDate": "2016-04-24T14:38:49+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "42476",
      "UserId": 0,
      "Username": "HegemonKhan",
      "UserAvatar": null,
      "UserGravatar": "a96cf34d8d97c57de38f54ee22b1759b",
      "EditableText": "I think this is probably related to how it can be done, but I don't understand it (edit: I just looked over it now and now I do understand it... not sure why I didn't understand it before, lol. However I'm not sure if this prevents you from doing other actions/clicks), Pixie should be able to help and explain it to you, or to adjust it for what you need of it or for it to implement as needed by you:\n\n<!-- l --><a class=\"postlink-local\" href=\"http://forum.textadventures.co.uk/viewtopic.php?f=10&amp;t=5267&amp;p=36333&amp;hilit=notarealturn#p36326\">viewtopic.php?f=10&amp;t=5267&amp;p=36333&amp;hilit=notarealturn#p36326</a><!-- l -->\n\n-----------\n\nways to prevent you from being able to do other actions/clicks:\n\n1. toggle (hide/show) the command-text bar at the bottom of the screen, so people can't type in any Commands\n2. have the prose be part of a scripting chain that locks you to it\n3. move into a special room for handling it (not having anything to click on), and then moving back to the room that they were in\n4. toggle (remove/add) the stuff to click on\n5. etc ???",
      "EditableFormat": "bbcode",
      "HTML": "I think this is probably related to how it can be done, but I don't understand it (edit: I just looked over it now and now I do understand it... not sure why I didn't understand it before, lol. However I'm not sure if this prevents you from doing other actions/clicks), Pixie should be able to help and explain it to you, or to adjust it for what you need of it or for it to implement as needed by you:<br/><br/><!-- l --><a class=\"postlink-local\" href=\"http://forum.textadventures.co.uk/viewtopic.php?f=10&amp;t=5267&amp;p=36333&amp;hilit=notarealturn#p36326\">viewtopic.php?f=10&amp;t=5267&amp;p=36333&amp;hilit=notarealturn#p36326</a><!-- l --><br/><br/>-----------<br/><br/>ways to prevent you from being able to do other actions/clicks:<br/><br/>1. toggle (hide/show) the command-text bar at the bottom of the screen, so people can't type in any Commands<br/>2. have the prose be part of a scripting chain that locks you to it<br/>3. move into a special room for handling it (not having anything to click on), and then moving back to the room that they were in<br/>4. toggle (remove/add) the stuff to click on<br/>5. etc ???",
      "PostDate": "2016-04-24T19:38:07+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "42477",
      "UserId": 0,
      "Username": "The Pixie",
      "UserAvatar": null,
      "UserGravatar": "cfa37e927f96177bcf6053ae8f108f77",
      "EditableText": "Turning off the panels on the right would make the text expand to the wider margin, so would look bad.\n\nI would see if you can do it with JavaScript and CSS, laying a translucent layer across the panels on the right (so it looks greyed out). All mouse and key actions would (I think) be caught be that, rather than the normal control, and so do nothing. You should also be able to disable the command bar.I have not tried it, but something like this:\nJS.eval (&quot;$('#txtCommand').prop('disabled', 'true')&quot;)",
      "EditableFormat": "bbcode",
      "HTML": "Turning off the panels on the right would make the text expand to the wider margin, so would look bad.<br/><br/>I would see if you can do it with JavaScript and CSS, laying a translucent layer across the panels on the right (so it looks greyed out). All mouse and key actions would (I think) be caught be that, rather than the normal control, and so do nothing. You should also be able to disable the command bar.I have not tried it, but something like this:<br/>JS.eval (&quot;$('#txtCommand').prop('disabled', 'true')&quot;)",
      "PostDate": "2016-04-24T22:08:33+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "42478",
      "UserId": 0,
      "Username": "Watcher55",
      "UserAvatar": null,
      "UserGravatar": "5fbb9717e1d63a1d8e1b7d5563f17891",
      "EditableText": "Yes, completely turning off the panels on the right works but is aesthetically ghastly, with the text expanding to fill the window then contracting again when the panels are shown again.\nI already disable the command bar (if you mean the text input field), but unfortunately that doesn't stop clicking on hyperlinks or directions.\nMy main problem is in fact the generation of a &quot;scripting chain&quot;. Using timed scripts simply doesn't do it: the user can merrily input anything during the &quot;gaps&quot;.\n\nI am thinking that what would be nice would be timed scripts with a parameter to allow or disallow user input. Though I imagine that would require a change to Quest and I doubt it would be a high priority!\n\nI like Pixie's idea of a translucent mask, unfortunately that is way above my pay grade. In the meantime I'll check out some of the other ideas. Thanks.",
      "EditableFormat": "bbcode",
      "HTML": "Yes, completely turning off the panels on the right works but is aesthetically ghastly, with the text expanding to fill the window then contracting again when the panels are shown again.<br/>I already disable the command bar (if you mean the text input field), but unfortunately that doesn't stop clicking on hyperlinks or directions.<br/>My main problem is in fact the generation of a &quot;scripting chain&quot;. Using timed scripts simply doesn't do it: the user can merrily input anything during the &quot;gaps&quot;.<br/><br/>I am thinking that what would be nice would be timed scripts with a parameter to allow or disallow user input. Though I imagine that would require a change to Quest and I doubt it would be a high priority!<br/><br/>I like Pixie's idea of a translucent mask, unfortunately that is way above my pay grade. In the meantime I'll check out some of the other ideas. Thanks.",
      "PostDate": "2016-04-25T00:27:10+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "42479",
      "UserId": 0,
      "Username": "Watcher55",
      "UserAvatar": null,
      "UserGravatar": "5fbb9717e1d63a1d8e1b7d5563f17891",
      "EditableText": "OK, by bringing together a few things found on the forum, I've come up with a method that works well enough. At the start of the TimeOut it hides the command bar, blocks user input, and hides the compass etc at the right (otherwise they're visible and look like they can be clicked). Then it reverses that at the end. Hyperlinks in the text remain visible but the cursor doesn't change when you hover, so the user should get the drift.\n\nNo doubt there are more elegant solutions, but this works.\n\nFirst add this Javascript, which combines someone's &quot;window blocking&quot; and unblocking script with hiding/showing things in the Panes that allow input (note that this includes &quot;Inventory2&quot; because my game also has a spell inventory).\n\n[code:s86kmf7h]function blockWindow()\n{\n  $('#compassAccordion')&#46;css('display', 'none')\n  $('#placesObjectsAccordion')&#46;css('display', 'none')\n  $('#inventoryAccordion')&#46;css('display', 'none')\n  $('#Inventory2Accordion')&#46;css('display', 'none')\n  var div = document&#46;createElement('blockdiv');\n  div&#46;id='blockdiv';\n  div&#46;style&#46;cssText = 'position&#58;absolute;'\n  + 'width&#58;100%;top&#58;0;left&#58;0;text&#46;align&#58;center;'\n  + (navigator&#46;userAgent&#46;indexOf('MSIE') &gt; -1\n  ? 'filter&#58;alpha(opacity=50);'\n  &#58; 'opacity&#58;0_5;'\n  ) + 'background&#46;color&#58;#ffffff;';\n  var height = (window&#46;innerHeight\n  ? window&#46;innerHeight\n  &#58; (document&#46;documentElement\n    ? document&#46;documentElement&#46;offsetHeight\n    &#58; document&#46;body&#46;offsetHeight\n    )\n  );\n\n  div&#46;style&#46;height = height + 'px';\n  document&#46;body&#46;appendChild(div);\n}\n\nfunction unblockWindow(){\n  var div = document&#46;getElementById('blockdiv');\n  document&#46;body&#46;removeChild(div);\n  $('#compassAccordion')&#46;css('display', 'block')\n  $('#placesObjectsAccordion')&#46;css('display', 'block')\n  $('#inventoryAccordion')&#46;css('display', 'block')\n  $('#Inventory2Accordion')&#46;css('display', 'block')\n}\n[/code:s86kmf7h]\n\nAnd to the Quest program add this function that calls the Javascript as well as handling the Command line. Here it also scrolls to the end on unblocking, as my purpose for this always involves text:\n\n[code:s86kmf7h] &lt;function name=&quot;BlockInput&quot; parameters=&quot;blocking&quot;&gt;\n    if (blocking) {\n      request (Hide, &quot;Command&quot;)\n      JS&#46;blockWindow ()\n    }\n    else {\n      JS&#46;unblockWindow ()\n      request (Show, &quot;Command&quot;)\n      JS&#46;scrollToEnd ()\n    }\n  &lt;/function&gt;[/code:s86kmf7h]\n\nThen if using a SetTimer (sec) {block}, call BlockInput (true) at the start and BlockInput (false) at the end, like this:\n[code:s86kmf7h]     BlockInput (true)\n      SetTimeout (4) {\n        msg (&quot;Exciting text 1!&quot;)\n        JS&#46;scrollToEnd ()\n        SetTimeout (4) {\n          msg (&quot;Exciting text 2!&quot;)\n          JS&#46;scrollToEnd ()\n           SetTimeout (4) {\n            msg (&quot;Exciting text 3!&quot;)\n            JS&#46;scrollToEnd ()\n            SetTimeout (4) {\n              msg (&quot;Exciting text 4!&quot;)\n              IncreaseScore (100)\n              EnableTurnScript (BeastChase)\n               BlockInput (false)\n            }\n          }\n        }\n      }[/code:s86kmf7h]",
      "EditableFormat": "bbcode",
      "HTML": "OK, by bringing together a few things found on the forum, I've come up with a method that works well enough. At the start of the TimeOut it hides the command bar, blocks user input, and hides the compass etc at the right (otherwise they're visible and look like they can be clicked). Then it reverses that at the end. Hyperlinks in the text remain visible but the cursor doesn't change when you hover, so the user should get the drift.<br/><br/>No doubt there are more elegant solutions, but this works.<br/><br/>First add this Javascript, which combines someone's &quot;window blocking&quot; and unblocking script with hiding/showing things in the Panes that allow input (note that this includes &quot;Inventory2&quot; because my game also has a spell inventory).<br/><br/><pre><code>function blockWindow()<br/>{<br/>  $('#compassAccordion')&#46;css('display', 'none')<br/>  $('#placesObjectsAccordion')&#46;css('display', 'none')<br/>  $('#inventoryAccordion')&#46;css('display', 'none')<br/>  $('#Inventory2Accordion')&#46;css('display', 'none')<br/>  var div = document&#46;createElement('blockdiv');<br/>  div&#46;id='blockdiv';<br/>  div&#46;style&#46;cssText = 'position&#58;absolute;'<br/>  + 'width&#58;100%;top&#58;0;left&#58;0;text&#46;align&#58;center;'<br/>  + (navigator&#46;userAgent&#46;indexOf('MSIE') &gt; -1<br/>  ? 'filter&#58;alpha(opacity=50);'<br/>  &#58; 'opacity&#58;0_5;'<br/>  ) + 'background&#46;color&#58;#ffffff;';<br/>  var height = (window&#46;innerHeight<br/>  ? window&#46;innerHeight<br/>  &#58; (document&#46;documentElement<br/>    ? document&#46;documentElement&#46;offsetHeight<br/>    &#58; document&#46;body&#46;offsetHeight<br/>    )<br/>  );<br/><br/>  div&#46;style&#46;height = height + 'px';<br/>  document&#46;body&#46;appendChild(div);<br/>}<br/><br/>function unblockWindow(){<br/>  var div = document&#46;getElementById('blockdiv');<br/>  document&#46;body&#46;removeChild(div);<br/>  $('#compassAccordion')&#46;css('display', 'block')<br/>  $('#placesObjectsAccordion')&#46;css('display', 'block')<br/>  $('#inventoryAccordion')&#46;css('display', 'block')<br/>  $('#Inventory2Accordion')&#46;css('display', 'block')<br/>}<br/></code></pre><br/><br/>And to the Quest program add this function that calls the Javascript as well as handling the Command line. Here it also scrolls to the end on unblocking, as my purpose for this always involves text:<br/><br/><pre><code> &lt;function name=&quot;BlockInput&quot; parameters=&quot;blocking&quot;&gt;<br/>    if (blocking) {<br/>      request (Hide, &quot;Command&quot;)<br/>      JS&#46;blockWindow ()<br/>    }<br/>    else {<br/>      JS&#46;unblockWindow ()<br/>      request (Show, &quot;Command&quot;)<br/>      JS&#46;scrollToEnd ()<br/>    }<br/>  &lt;/function&gt;</code></pre><br/><br/>Then if using a SetTimer (sec) {block}, call BlockInput (true) at the start and BlockInput (false) at the end, like this:<br/><pre><code>     BlockInput (true)<br/>      SetTimeout (4) {<br/>        msg (&quot;Exciting text 1!&quot;)<br/>        JS&#46;scrollToEnd ()<br/>        SetTimeout (4) {<br/>          msg (&quot;Exciting text 2!&quot;)<br/>          JS&#46;scrollToEnd ()<br/>           SetTimeout (4) {<br/>            msg (&quot;Exciting text 3!&quot;)<br/>            JS&#46;scrollToEnd ()<br/>            SetTimeout (4) {<br/>              msg (&quot;Exciting text 4!&quot;)<br/>              IncreaseScore (100)<br/>              EnableTurnScript (BeastChase)<br/>               BlockInput (false)<br/>            }<br/>          }<br/>        }<br/>      }</code></pre>",
      "PostDate": "2016-04-25T01:37:53+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "42480",
      "UserId": 0,
      "Username": "HegemonKhan",
      "UserAvatar": null,
      "UserGravatar": "a96cf34d8d97c57de38f54ee22b1759b",
      "EditableText": "there is the option of toggling (removing/adding) the Objects' buttons and their texts' hyperlinks (since that is already the method you're using for the other stuff), which is controlled via:\n\na room's built-in 'displayverbs' String List Attribute\nthe player's built-in 'inventoryverbs' String List Attribute\n\nPixie, got a nice guide on them:\n\n<!-- l --><a class=\"postlink-local\" href=\"http://forum.textadventures.co.uk/viewtopic.php?f=18&amp;t=5023\">viewtopic.php?f=18&amp;t=5023</a><!-- l -->\n\nand also Pixie's guide on Verbs:\n\n<!-- l --><a class=\"postlink-local\" href=\"http://forum.textadventures.co.uk/viewtopic.php?f=18&amp;t=4953\">viewtopic.php?f=18&amp;t=4953</a><!-- l -->\n\nand their obscure mention in the documentation:\n\n<!-- m --><a class=\"postlink\" href=\"http://docs.textadventures.co.uk/quest/asl_requirements.html\">http://docs.textadventures.co.uk/quest/ ... ments.html</a><!-- m -->",
      "EditableFormat": "bbcode",
      "HTML": "there is the option of toggling (removing/adding) the Objects' buttons and their texts' hyperlinks (since that is already the method you're using for the other stuff), which is controlled via:<br/><br/>a room's built-in 'displayverbs' String List Attribute<br/>the player's built-in 'inventoryverbs' String List Attribute<br/><br/>Pixie, got a nice guide on them:<br/><br/><!-- l --><a class=\"postlink-local\" href=\"http://forum.textadventures.co.uk/viewtopic.php?f=18&amp;t=5023\">viewtopic.php?f=18&amp;t=5023</a><!-- l --><br/><br/>and also Pixie's guide on Verbs:<br/><br/><!-- l --><a class=\"postlink-local\" href=\"http://forum.textadventures.co.uk/viewtopic.php?f=18&amp;t=4953\">viewtopic.php?f=18&amp;t=4953</a><!-- l --><br/><br/>and their obscure mention in the documentation:<br/><br/><!-- m --><a class=\"postlink\" href=\"http://docs.textadventures.co.uk/quest/asl_requirements.html\">http://docs.textadventures.co.uk/quest/ ... ments.html</a><!-- m -->",
      "PostDate": "2016-04-25T03:42:25+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "42484",
      "UserId": 0,
      "Username": "Pertex",
      "UserAvatar": "5940_1369854251.gif",
      "UserGravatar": "4cc1e52f99452e841ecf4cbee9eadde9",
      "EditableText": "This should work, too: Disable the option to show the room description when entering a room by script. Then move the player into an emtpy room without exits or objects. There you can call your timer. At the end move the player back to the old room and enable the option again. Something like this:\n\n[code:3nk6nz1g]\n      game&#46;showdescriptiononenter = false\n      player&#46;parent = roomx\n      msg (&quot;do something&quot;)\n      wait {\n        player&#46;parent = oldroom\n        game&#46;showdescriptiononenter = true\n      }\n      [/code:3nk6nz1g]",
      "EditableFormat": "bbcode",
      "HTML": "This should work, too: Disable the option to show the room description when entering a room by script. Then move the player into an emtpy room without exits or objects. There you can call your timer. At the end move the player back to the old room and enable the option again. Something like this:<br/><br/><pre><code><br/>      game&#46;showdescriptiononenter = false<br/>      player&#46;parent = roomx<br/>      msg (&quot;do something&quot;)<br/>      wait {<br/>        player&#46;parent = oldroom<br/>        game&#46;showdescriptiononenter = true<br/>      }<br/>      </code></pre>",
      "PostDate": "2016-04-25T07:19:58+01:00",
      "LastEditDate": null
    }
  ]
}
