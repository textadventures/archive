{
  "Topic": {
    "TopicId": "egbu83aph0ycvxopseqvfq",
    "ForumId": "10",
    "Title": "Having problems with game stats",
    "LastUpdated": "2016-07-14T18:13:10.7886293Z",
    "ReplyCount": 0
  },
  "Posts": [
    {
      "PostId": "b94e3143-12de-4016-bc8a-f720f2e3d167",
      "UserId": 169472,
      "Username": "Nile",
      "AvatarUrl": null,
      "UserAvatar": null,
      "UserGravatar": "8269ddb57689c254aea6750f12e2397f",
      "EditableText": "Good evening,\r\n\r\nI'm writing a gamebook and want to display the game stats, such as lp and score on every page. But I can't figure out how: There seem to be lots of possibilities to set a variable to a value etc... but no ways to create it. So, the game always asks for the variable, it can't find the variable.\r\n\r\nMy question is: How can I create a variable or display the game stats in general?\r\n\r\nThankful greetings",
      "EditableFormat": "markdown",
      "HTML": "<p>Good evening,</p>\n<p>I'm writing a gamebook and want to display the game stats, such as lp and score on every page. But I can't figure out how: There seem to be lots of possibilities to set a variable to a value etc... but no ways to create it. So, the game always asks for the variable, it can't find the variable.</p>\n<p>My question is: How can I create a variable or display the game stats in general?</p>\n<p>Thankful greetings</p>\n\n",
      "PostDate": "2016-07-14T18:13:10.7886293Z",
      "LastEditDate": null
    },
    {
      "PostId": "7dce97b7-0f7c-4798-9ace-5e1b9ba2efc0",
      "UserId": 247325,
      "Username": "hegemonkhan",
      "AvatarUrl": null,
      "UserAvatar": null,
      "UserGravatar": "a96cf34d8d97c57de38f54ee22b1759b",
      "EditableText": "Displaying your game stats on every Page:\r\n\r\nPages -> 'game' Game Page -> 'Script' Tab -> (see below)\r\n\r\nadd new script -> 'output' section/category -> 'print a message' Script -> print [EXPRESSION] game.lp // is it 'ip' or 'Lp' or what does (i/L)p stand for? (as I can't tell cause of stupid font, lol)\r\nadd new script -> 'output' section/category -> 'print a message' Script -> print [EXPRESSION] game.score\r\n\r\nCreating your game stats:\r\n\r\n// your first page (which is assigned by which Page has the 'player' Player Page inside of it):\r\n'page or page1 or page0' Page -> 'Page' Tab -> Page Type: [script] or [script+text] -> Script -> (see below)\r\n\r\nadd new script -> 'variables' section/category -> 'set a variable or attribute' Script -> set variable game.Ip = [EXPRESSION] YOUR_STARTING_VALUE_FOR_IT // or (using 'Lp'): set variable game.lp = [EXPRESSION] YOUR_STARTING_VALUE_FOR_IT\r\nadd new script -> 'variables' section/category -> 'set a variable or attribute' Script -> set variable game.score = [EXPRESSION] YOUR_STARTING_VALUE_FOR_IT",
      "EditableFormat": "markdown",
      "HTML": "<p>Displaying your game stats on every Page:</p>\n<p>Pages -&gt; 'game' Game Page -&gt; 'Script' Tab -&gt; (see below)</p>\n<p>add new script -&gt; 'output' section/category -&gt; 'print a message' Script -&gt; print [EXPRESSION] game.lp // is it 'ip' or 'Lp' or what does (i/L)p stand for? (as I can't tell cause of stupid font, lol)<br>\nadd new script -&gt; 'output' section/category -&gt; 'print a message' Script -&gt; print [EXPRESSION] game.score</p>\n<p>Creating your game stats:</p>\n<p>// your first page (which is assigned by which Page has the 'player' Player Page inside of it):<br>\n'page or page1 or page0' Page -&gt; 'Page' Tab -&gt; Page Type: [script] or [script+text] -&gt; Script -&gt; (see below)</p>\n<p>add new script -&gt; 'variables' section/category -&gt; 'set a variable or attribute' Script -&gt; set variable game.Ip = [EXPRESSION] YOUR_STARTING_VALUE_FOR_IT // or (using 'Lp'): set variable game.lp = [EXPRESSION] YOUR_STARTING_VALUE_FOR_IT<br>\nadd new script -&gt; 'variables' section/category -&gt; 'set a variable or attribute' Script -&gt; set variable game.score = [EXPRESSION] YOUR_STARTING_VALUE_FOR_IT</p>\n\n",
      "PostDate": "2016-07-14T18:49:19.2771744Z",
      "LastEditDate": null
    },
    {
      "PostId": "6975be93-9f3d-45b1-be4d-2115d965f132",
      "UserId": 169472,
      "Username": "Nile",
      "AvatarUrl": "https://secure.gravatar.com/avatar/8269ddb57689c254aea6750f12e2397f?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Wow, thanks! Great answer. Sorry, was busy - hollidays... Thanks again ;)",
      "EditableFormat": "markdown",
      "HTML": "<p>Wow, thanks! Great answer. Sorry, was busy - hollidays... Thanks again ;)</p>\n\n",
      "PostDate": "2016-07-26T18:05:48.4801963Z",
      "LastEditDate": null
    },
    {
      "PostId": "c69f22c3-10e3-49d3-a55e-ae0ceba66f39",
      "UserId": 169472,
      "Username": "Nile",
      "AvatarUrl": "https://secure.gravatar.com/avatar/8269ddb57689c254aea6750f12e2397f?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Hm. I've still a problem: when I do what you say I get the following error: \"Error running script: Object reference not set to an instant of an object.\"",
      "EditableFormat": "markdown",
      "HTML": "<p>Hm. I've still a problem: when I do what you say I get the following error: \"Error running script: Object reference not set to an instant of an object.\"</p>\n\n",
      "PostDate": "2016-07-27T14:05:25.7051436Z",
      "LastEditDate": null
    },
    {
      "PostId": "c083e140-7b84-4a35-9ea2-d21f10db93cf",
      "UserId": 247325,
      "Username": "hegemonkhan",
      "AvatarUrl": "https://secure.gravatar.com/avatar/a96cf34d8d97c57de38f54ee22b1759b?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "could you give more information? what did you do? could you post your relevent code, so we can trouble shoot it for you?\r\n\r\nI think the error means that (you likely) don't have it matching up with your Object's name...",
      "EditableFormat": "markdown",
      "HTML": "<p>could you give more information? what did you do? could you post your relevent code, so we can trouble shoot it for you?</p>\n<p>I think the error means that (you likely) don't have it matching up with your Object's name...</p>\n\n",
      "PostDate": "2016-07-27T19:40:54.9447428Z",
      "LastEditDate": null
    },
    {
      "PostId": "ce298fb3-f111-4e8a-8002-3e8f1f6c33b9",
      "UserId": 169472,
      "Username": "Nile",
      "AvatarUrl": "https://secure.gravatar.com/avatar/8269ddb57689c254aea6750f12e2397f?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Hi,\r\n\r\nsure. \r\n\r\nGame -> script -> add new script -> print a message -> print expression -> game.lp\r\n\r\nstartseite (my first page, this one with the player) -> page type: script + text -> add new script -> set variable or attribute -> set expression game.lp = 10\r\n\r\nThe code looks like this:\r\ngame.lp = 10\r\nmsg (game.lp)\r\n\r\nWhen pressing play, the following error appears:\r\nError running script: Object reference not set to an instant of an object. ",
      "EditableFormat": "markdown",
      "HTML": "<p>Hi,</p>\n<p>sure.</p>\n<p>Game -&gt; script -&gt; add new script -&gt; print a message -&gt; print expression -&gt; game.lp</p>\n<p>startseite (my first page, this one with the player) -&gt; page type: script + text -&gt; add new script -&gt; set variable or attribute -&gt; set expression game.lp = 10</p>\n<p>The code looks like this:<br>\ngame.lp = 10<br>\nmsg (game.lp)</p>\n<p>When pressing play, the following error appears:<br>\nError running script: Object reference not set to an instant of an object.</p>\n\n",
      "PostDate": "2016-07-28T09:57:43.6862056Z",
      "LastEditDate": null
    },
    {
      "PostId": "53aa4925-1703-49d9-bbf2-5a8773dde3cc",
      "UserId": 247325,
      "Username": "hegemonkhan",
      "AvatarUrl": "https://secure.gravatar.com/avatar/a96cf34d8d97c57de38f54ee22b1759b?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "I tested it and it worked, except that it can't display the 'lp' Integer Attribute upon entering the first page, as it's the first page that creates the Attribute and sets its initial value (once this occurs, then you won't have any issues with using/displaying your 'lp' Integer Attribute). I don't think you can do anything about this through scripting, except by \"cheating\" in just having the first page after it creates/sets the 'lp' Integer Attribute and its value, to have a 'msg/print a message [expression]' Script after it, to display this Attribute on the first page. Otherwise, you can also just go into the entire game code, and code in the 'lp' Integer Attribute directly into your 'game' Object, thus it's already there upon game loading/initialization as you choose to play your game.\r\n\r\nBy the way, through scripting, you can create/set Attributes also upon/into/to the 'player' Player Object. So you can split up the Attributes as needed between the 'player' Player Object and the 'game' Game Object. I'm not sure whether you can directly code in the Attributes to the 'player' Player Object in the game code itself (maybe you can, maybe you can't --- As I'm not sure if the GameBook is 'hard-coded' in its limitations or whether it's Editor's displayed features/options are merely limited but still exist and are able to be done).\r\n\r\nhere's the game code that works for me:\r\n\r\n(I used 'life' as the name/label for my Integer Attribute; this would be equivalent to your 'lp' Integer Attribute, if my guess is right that 'lp' stands for life/hit points, lol)\r\n\r\n(Also, I created the Attribute on the 'player' Player Object, not the 'game' Game Object --- I'l switch over to the 'game' Game Object, to see if this is possibly the/a cause of your error/s, get back to, you/my post, in a sec... lol)\r\n\r\n```\r\n<asl version=\"550\">\r\n  <include ref=\"GamebookCore.aslx\" />\r\n  <game name=\"testing game stuff\">\r\n    <gameid>some generated random string hash for online/Alex' quest servers to ID games, or maybe for offline/quest.exe too, I think, and I am too lazy to try to write it here, lol, so I wrote this instead, laughs</gameid>\r\n    <version>1.0</version>\r\n    <firstpublished>2016</firstpublished>\r\n    <roomenter type=\"script\">\r\n     msg (\"Life: \" + game.life)\r\n     // for the first room (as it can't display the Attribute via this example's method used), it looks like this:\r\n     // Life: (blank)\r\n     //\r\n     // when you click on the page link to go page 2 or 3, now it'll display the Attribute (as it now has been created/set):\r\n     // Life: 500\r\n    </roomenter>\r\n  </game>\r\n  <object name=\"Page1\">\r\n    <inherit name=\"scripttect\" />\r\n    <description>Page 1, blah blah blah</description>\r\n    <options type=\"simplestringdictionary\">Page2 = This Link goes to page 2; Page3 = And this link goes to page 3</options>\r\n    <script type=\"script\">\r\n      player.life = 500\r\n    </script>\r\n    <object name=\"player\">\r\n      <inherit name=\"defaultplayer\" />\r\n    </object>\r\n  </object>\r\n  <object name=\"Page2\">\r\n    <description>Page 2, blah blah blah</description>\r\n  </object>\r\n  <object name=\"Page3\">\r\n    <description>Page 3, blah blah blah</description>\r\n  </object>\r\n</asl>\r\n```\r\n\r\n-------------\r\n\r\nnot sure if this is also the possible cause of your error:\r\n\r\n>startseite (my first page, this one with the player) -> page type: script + text -> add new script -> set variable or attribute -> set expression game.lp = 10\r\n\r\n but it should look like this:\r\n\r\n```\r\nstartseite (my first page, this one with the player) -> page type: script + text -> add new script -> 'variables' category/section -> 'set variable or attribute' Script -> set variable game.lp = [expression] 10\r\n\r\nset variable game.lp = [expression] 10\r\nis the same as this in code:\r\ngame.lp = 10\r\n\r\nwhich both are the same as this in code too:\r\n\r\n<game name=\"blah\">\r\n  <attr name=\"lp\" type=\"int\">10</attr>\r\n</game>\r\n```",
      "EditableFormat": "markdown",
      "HTML": "<p>I tested it and it worked, except that it can't display the 'lp' Integer Attribute upon entering the first page, as it's the first page that creates the Attribute and sets its initial value (once this occurs, then you won't have any issues with using/displaying your 'lp' Integer Attribute). I don't think you can do anything about this through scripting, except by \"cheating\" in just having the first page after it creates/sets the 'lp' Integer Attribute and its value, to have a 'msg/print a message [expression]' Script after it, to display this Attribute on the first page. Otherwise, you can also just go into the entire game code, and code in the 'lp' Integer Attribute directly into your 'game' Object, thus it's already there upon game loading/initialization as you choose to play your game.</p>\n<p>By the way, through scripting, you can create/set Attributes also upon/into/to the 'player' Player Object. So you can split up the Attributes as needed between the 'player' Player Object and the 'game' Game Object. I'm not sure whether you can directly code in the Attributes to the 'player' Player Object in the game code itself (maybe you can, maybe you can't --- As I'm not sure if the GameBook is 'hard-coded' in its limitations or whether it's Editor's displayed features/options are merely limited but still exist and are able to be done).</p>\n<p>here's the game code that works for me:</p>\n<p>(I used 'life' as the name/label for my Integer Attribute; this would be equivalent to your 'lp' Integer Attribute, if my guess is right that 'lp' stands for life/hit points, lol)</p>\n<p>(Also, I created the Attribute on the 'player' Player Object, not the 'game' Game Object --- I'l switch over to the 'game' Game Object, to see if this is possibly the/a cause of your error/s, get back to, you/my post, in a sec... lol)</p>\n<pre><code>&lt;asl version=\"550\"&gt;\n  &lt;include ref=\"GamebookCore.aslx\" /&gt;\n  &lt;game name=\"testing game stuff\"&gt;\n    &lt;gameid&gt;some generated random string hash for online/Alex' quest servers to ID games, or maybe for offline/quest.exe too, I think, and I am too lazy to try to write it here, lol, so I wrote this instead, laughs&lt;/gameid&gt;\n    &lt;version&gt;1.0&lt;/version&gt;\n    &lt;firstpublished&gt;2016&lt;/firstpublished&gt;\n    &lt;roomenter type=\"script\"&gt;\n     msg (\"Life: \" + game.life)\n     // for the first room (as it can't display the Attribute via this example's method used), it looks like this:\n     // Life: (blank)\n     //\n     // when you click on the page link to go page 2 or 3, now it'll display the Attribute (as it now has been created/set):\n     // Life: 500\n    &lt;/roomenter&gt;\n  &lt;/game&gt;\n  &lt;object name=\"Page1\"&gt;\n    &lt;inherit name=\"scripttect\" /&gt;\n    &lt;description&gt;Page 1, blah blah blah&lt;/description&gt;\n    &lt;options type=\"simplestringdictionary\"&gt;Page2 = This Link goes to page 2; Page3 = And this link goes to page 3&lt;/options&gt;\n    &lt;script type=\"script\"&gt;\n      player.life = 500\n    &lt;/script&gt;\n    &lt;object name=\"player\"&gt;\n      &lt;inherit name=\"defaultplayer\" /&gt;\n    &lt;/object&gt;\n  &lt;/object&gt;\n  &lt;object name=\"Page2\"&gt;\n    &lt;description&gt;Page 2, blah blah blah&lt;/description&gt;\n  &lt;/object&gt;\n  &lt;object name=\"Page3\"&gt;\n    &lt;description&gt;Page 3, blah blah blah&lt;/description&gt;\n  &lt;/object&gt;\n&lt;/asl&gt;\n</code></pre>\n<hr>\n<p>not sure if this is also the possible cause of your error:</p>\n<blockquote>\n<p>startseite (my first page, this one with the player) -&gt; page type: script + text -&gt; add new script -&gt; set variable or attribute -&gt; set expression game.lp = 10</p>\n</blockquote>\n<p>but it should look like this:</p>\n<pre><code>startseite (my first page, this one with the player) -&gt; page type: script + text -&gt; add new script -&gt; 'variables' category/section -&gt; 'set variable or attribute' Script -&gt; set variable game.lp = [expression] 10\n\nset variable game.lp = [expression] 10\nis the same as this in code:\ngame.lp = 10\n\nwhich both are the same as this in code too:\n\n&lt;game name=\"blah\"&gt;\n  &lt;attr name=\"lp\" type=\"int\"&gt;10&lt;/attr&gt;\n&lt;/game&gt;\n</code></pre>\n\n",
      "PostDate": "2016-07-28T11:50:35.9430221Z",
      "LastEditDate": null
    },
    {
      "PostId": "8cf87243-ae00-464f-9093-5076e3fdbee6",
      "UserId": 169472,
      "Username": "Nile",
      "AvatarUrl": "https://secure.gravatar.com/avatar/8269ddb57689c254aea6750f12e2397f?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Oh, forgot to mention that its \"game.lp = expression 10\"...",
      "EditableFormat": "markdown",
      "HTML": "<p>Oh, forgot to mention that its \"game.lp = expression 10\"...</p>\n\n",
      "PostDate": "2016-07-28T12:02:24.0052688Z",
      "LastEditDate": null
    },
    {
      "PostId": "6740d83a-199b-4907-83a7-baf2056d7a0d",
      "UserId": 169472,
      "Username": "Nile",
      "AvatarUrl": "https://secure.gravatar.com/avatar/8269ddb57689c254aea6750f12e2397f?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Oh, you're right. it works. Thanks! Is there also a possibility to remove this from some pages as I also created help pages?",
      "EditableFormat": "markdown",
      "HTML": "<p>Oh, you're right. it works. Thanks! Is there also a possibility to remove this from some pages as I also created help pages?</p>\n\n",
      "PostDate": "2016-07-28T12:13:00.0742841Z",
      "LastEditDate": null
    },
    {
      "PostId": "a09a32c8-f44f-463f-aca4-9841ccdc0262",
      "UserId": 247325,
      "Username": "hegemonkhan",
      "AvatarUrl": "https://secure.gravatar.com/avatar/a96cf34d8d97c57de38f54ee22b1759b?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "This is a bit more complicated... at least especially since I'm not that familiar with the GameBook...\r\n\r\n-------\r\n\r\nI think the easiest solution would be to \"cheat\":\r\n\r\nhave the 'game' Game Object's 'roomenter' Script Attribute, stay the same, displaying your 'lp' and/or other various stats.\r\n\r\nand then for the Pages that you don't want the stats to be displayed, such as your 'help' pages, simply change them to 'Page Type: [script] or [script+text]', if they aren't already set as so, and add in this script (not sure how to do it through the GUI~EDitor, hopefully you can find it if its a script option or figure it out): ClearScreen\r\n\r\nso, while it displays the stats on the unwanted pages, your very first page script is to clear the screen, wiping out/removing those unwanted stats from being displayed effectively, hehe\r\n\r\nin code, it would like look this:\r\n\r\n```\r\n<game name=\"blah\">\r\n  <attr name=\"roomenter\" type=\"script\">\r\n    msg (\"Life: \" + game.lp)\r\n  </attr>\r\n</game>\r\n\r\n<object name=\"help_page_1\">\r\n  <attr name=\"description\" type=\"string/script\">blah</attr> // I'm not sure how the 'description' Attribute works with the GameBook (I don't know if its the same as in the Text Adventure or not) and the 'roomenter' Script... so, this Attribute too may need the 'ClearScreen' Script as its first script...\r\n  <attr name=\"script\" type=\"script\">\r\n    ClearScreen // this should happen too fast for the person playing your game to see the unwanted displayed stats (game.lp) before they're cleared, thus effectively its as if you never displayed the stats.\r\n    msg (\"Your help content then goes here\")\r\n  </attr>\r\n</object>\r\n```",
      "EditableFormat": "markdown",
      "HTML": "<p>This is a bit more complicated... at least especially since I'm not that familiar with the GameBook...</p>\n<hr>\n<p>I think the easiest solution would be to \"cheat\":</p>\n<p>have the 'game' Game Object's 'roomenter' Script Attribute, stay the same, displaying your 'lp' and/or other various stats.</p>\n<p>and then for the Pages that you don't want the stats to be displayed, such as your 'help' pages, simply change them to 'Page Type: [script] or [script+text]', if they aren't already set as so, and add in this script (not sure how to do it through the GUI~EDitor, hopefully you can find it if its a script option or figure it out): ClearScreen</p>\n<p>so, while it displays the stats on the unwanted pages, your very first page script is to clear the screen, wiping out/removing those unwanted stats from being displayed effectively, hehe</p>\n<p>in code, it would like look this:</p>\n<pre><code>&lt;game name=\"blah\"&gt;\n  &lt;attr name=\"roomenter\" type=\"script\"&gt;\n    msg (\"Life: \" + game.lp)\n  &lt;/attr&gt;\n&lt;/game&gt;\n\n&lt;object name=\"help_page_1\"&gt;\n  &lt;attr name=\"description\" type=\"string/script\"&gt;blah&lt;/attr&gt; // I'm not sure how the 'description' Attribute works with the GameBook (I don't know if its the same as in the Text Adventure or not) and the 'roomenter' Script... so, this Attribute too may need the 'ClearScreen' Script as its first script...\n  &lt;attr name=\"script\" type=\"script\"&gt;\n    ClearScreen // this should happen too fast for the person playing your game to see the unwanted displayed stats (game.lp) before they're cleared, thus effectively its as if you never displayed the stats.\n    msg (\"Your help content then goes here\")\n  &lt;/attr&gt;\n&lt;/object&gt;\n</code></pre>\n\n",
      "PostDate": "2016-07-28T13:15:15.8129035Z",
      "LastEditDate": null
    },
    {
      "PostId": "22259699-7f73-4d55-8607-d90d7497db2b",
      "UserId": 169472,
      "Username": "Nile",
      "AvatarUrl": "https://secure.gravatar.com/avatar/8269ddb57689c254aea6750f12e2397f?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "your a genius, thanks! this solution is simple and effective ;)",
      "EditableFormat": "markdown",
      "HTML": "<p>your a genius, thanks! this solution is simple and effective ;)</p>\n\n",
      "PostDate": "2016-07-28T14:34:12.7575762Z",
      "LastEditDate": null
    }
  ]
}
