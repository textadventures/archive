{
  "Topic": {
    "TopicId": "kbezbkdd4eahzmfxqkeoza",
    "ForumId": "10",
    "Title": "Troubleshooting Performance",
    "LastUpdated": "2019-10-08T01:54:50.8306361Z",
    "ReplyCount": 0
  },
  "Posts": [
    {
      "PostId": "f2ec014e-a255-418c-8090-fe6140d4d21b",
      "UserId": 282833,
      "Username": "Io",
      "AvatarUrl": "http://i.imgur.com/XVmdocTb.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "So I'm almost done with a game - a handful of scenes to write, followed by typo/bug/balance hunting. All the actual coding is done.\r\n\r\nProblem is, as I test it, sometimes I get... REALLY bad performance. Specifically during fight scenes, due to how they're coded. Like, the first ~2 paragraphs would display, there'd be a notable pause, and then the rest would fill in all at once. It seems to get worse as the game is played longer.\r\n\r\nNow, I haven't deliberately tested for the performance issue's cause yet; that'll be the typo/bug/balance thing I highlighted. So I'm not looking for ideas on what could be causing it after posting a metric ton of code onto this site.\r\n\r\nWhat I'm looking for is general ways I can measure the game's performance, general things to look out for, that I can keep in mind for when I _do_ start specifically hunting down the performance issues.\r\n\r\n(My current suspect is that destroy() isn't erasing as thoroughly as I'd like. Anyone have a link to how destroy() handles the stuff it mulches?)",
      "EditableFormat": "markdown",
      "HTML": "<p>So I'm almost done with a game - a handful of scenes to write, followed by typo/bug/balance hunting. All the actual coding is done.</p>\n<p>Problem is, as I test it, sometimes I get... REALLY bad performance. Specifically during fight scenes, due to how they're coded. Like, the first ~2 paragraphs would display, there'd be a notable pause, and then the rest would fill in all at once. It seems to get worse as the game is played longer.</p>\n<p>Now, I haven't deliberately tested for the performance issue's cause yet; that'll be the typo/bug/balance thing I highlighted. So I'm not looking for ideas on what could be causing it after posting a metric ton of code onto this site.</p>\n<p>What I'm looking for is general ways I can measure the game's performance, general things to look out for, that I can keep in mind for when I <em>do</em> start specifically hunting down the performance issues.</p>\n<p>(My current suspect is that destroy() isn't erasing as thoroughly as I'd like. Anyone have a link to how destroy() handles the stuff it mulches?)</p>\n\n",
      "PostDate": "2019-10-08T01:54:50.8306361Z",
      "LastEditDate": "2019-10-08T01:57:02.45482Z",
      "link": null
    },
    {
      "PostId": "0ea74366-ed33-403b-8a1c-3aed6b1f78fe",
      "UserId": 267336,
      "Username": "jmnevil54",
      "AvatarUrl": "https://secure.gravatar.com/avatar/5d73d7ec1dbe20a5cb46f02a6d53f187?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "I thought it was... Nevermind.\r\n\r\nCould you paste your code?",
      "EditableFormat": "markdown",
      "HTML": "<p>I thought it was... Nevermind.</p>\n<p>Could you paste your code?</p>\n\n",
      "PostDate": "2019-10-08T02:04:47.3973164Z",
      "LastEditDate": "2019-10-08T12:46:32.522605Z",
      "link": null
    },
    {
      "PostId": "25c3fc10-2d13-4987-bedc-cfecf36d85da",
      "UserId": 924,
      "Username": "Pertex",
      "AvatarUrl": "https://secure.gravatar.com/avatar/4cc1e52f99452e841ecf4cbee9eadde9?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "I can't give you general tips, but have you ever tried to avoid  destroy() completely? Simply move unneeded objects into a trash room",
      "EditableFormat": "markdown",
      "HTML": "<p>I can't give you general tips, but have you ever tried to avoid  destroy() completely? Simply move unneeded objects into a trash room</p>\n\n",
      "PostDate": "2019-10-08T07:27:48.5118969Z",
      "LastEditDate": "2019-10-08T07:29:23.6752345Z",
      "link": null
    },
    {
      "PostId": "ab673bdd-faef-4cb4-a342-68f0e71e26c0",
      "UserId": 282833,
      "Username": "Io",
      "AvatarUrl": "http://i.imgur.com/XVmdocTb.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "@Pertex My game uses a lot of cloning objects, so there'd be a LOT of unneeded objects simply tossing them into another room.",
      "EditableFormat": "markdown",
      "HTML": "<p>@Pertex My game uses a lot of cloning objects, so there'd be a LOT of unneeded objects simply tossing them into another room.</p>\n\n",
      "PostDate": "2019-10-08T12:40:01.8472338Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "882a26bb-c27c-453b-83cb-d49f65068269",
      "UserId": 282833,
      "Username": "Io",
      "AvatarUrl": "http://i.imgur.com/XVmdocTb.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "@jmnevil54 that's not really practical, because there's a LOT of it. I'll give the short version.\r\n```\r\nWhen starting a fight, clone FighterCharacterBase, move to the Fight Room, and set their attributes.\r\n\r\nDuring a fight, order is:\r\n\r\nPlayer Takes Turn\r\nUpdate everything's stats and status effects (Status effects supplied by clones of BuffBase object)\r\nCheck if Fight is Over\r\n\r\nIf Not, for each Ally still in the fight, have them take their turn\r\nUpdate everything's stats after each Ally's turn\r\nCheck if Fight is over after each Ally's turn\r\n\r\nIf every Ally has taken their turn and the fight is still going, have each enemy take their turn\r\nUpdate everything's stats after each Enemy's turn\r\nCheck if Fight is over after each Enemy's turn\r\n\r\nIf every Enemy has taken their turn and the fight is still going, let the player take another turn\r\n\r\nIf fight ends, destroy unneeded clones (Like Faceless Enemy Soldier #5364), give any needed XP and Money, and move player back to conventional rooms.\r\n```",
      "EditableFormat": "markdown",
      "HTML": "<p>@jmnevil54 that's not really practical, because there's a LOT of it. I'll give the short version.</p>\n<pre><code>When starting a fight, clone FighterCharacterBase, move to the Fight Room, and set their attributes.\n\nDuring a fight, order is:\n\nPlayer Takes Turn\nUpdate everything's stats and status effects (Status effects supplied by clones of BuffBase object)\nCheck if Fight is Over\n\nIf Not, for each Ally still in the fight, have them take their turn\nUpdate everything's stats after each Ally's turn\nCheck if Fight is over after each Ally's turn\n\nIf every Ally has taken their turn and the fight is still going, have each enemy take their turn\nUpdate everything's stats after each Enemy's turn\nCheck if Fight is over after each Enemy's turn\n\nIf every Enemy has taken their turn and the fight is still going, let the player take another turn\n\nIf fight ends, destroy unneeded clones (Like Faceless Enemy Soldier #5364), give any needed XP and Money, and move player back to conventional rooms.\n</code></pre>\n\n",
      "PostDate": "2019-10-08T14:22:25.1998508Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "d25c77ec-e89b-4315-bfd2-e7b2e91c47c6",
      "UserId": 277074,
      "Username": "Dcoder",
      "AvatarUrl": "https://i.imgur.com/O07mlRtb.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "You could put in a few print messages around where there's a pause to see exactly where the delay is.",
      "EditableFormat": "markdown",
      "HTML": "<p>You could put in a few print messages around where there's a pause to see exactly where the delay is.</p>\n\n",
      "PostDate": "2019-10-08T15:01:43.5855663Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "1936d71d-1655-4dac-a5b8-6190988ab98f",
      "UserId": 282833,
      "Username": "Io",
      "AvatarUrl": "http://i.imgur.com/XVmdocTb.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Dcoder, how would that work? I can only imagine that being useful if it ONLY fires in the event OF a delay.",
      "EditableFormat": "markdown",
      "HTML": "<p>Dcoder, how would that work? I can only imagine that being useful if it ONLY fires in the event OF a delay.</p>\n\n",
      "PostDate": "2019-10-08T17:26:41.5383558Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "c52c720f-3971-4369-ae9b-aee090f61860",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "> Like, the first ~2 paragraphs would display, there'd be a notable pause, and then the rest would fill in all at once\r\n\r\nDoes this occur in the web player, or only on desktop?\r\n\r\nI'd second Dcoder's suggestion. Adding a bunch of messages as it goes through the code means that by watching it, you can see exactly where in the code the delay is happening. As Quest's backend isn't multithreaded, if there's one particular piece of code running slowly you should be able to pin it down quite well.",
      "EditableFormat": "markdown",
      "HTML": "<blockquote>\n<p>Like, the first ~2 paragraphs would display, there'd be a notable pause, and then the rest would fill in all at once</p>\n</blockquote>\n<p>Does this occur in the web player, or only on desktop?</p>\n<p>I'd second Dcoder's suggestion. Adding a bunch of messages as it goes through the code means that by watching it, you can see exactly where in the code the delay is happening. As Quest's backend isn't multithreaded, if there's one particular piece of code running slowly you should be able to pin it down quite well.</p>\n\n",
      "PostDate": "2019-10-08T19:23:06.3179971Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "54d10dcf-1409-4836-b924-6bdfae9318ba",
      "UserId": 277074,
      "Username": "Dcoder",
      "AvatarUrl": "https://i.imgur.com/O07mlRtb.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Put print messages directly before and after code that you suspect might be causing the delay.  If there is a pause after the first message but before the second, then you at least have isolated a problem area.",
      "EditableFormat": "markdown",
      "HTML": "<p>Put print messages directly before and after code that you suspect might be causing the delay.  If there is a pause after the first message but before the second, then you at least have isolated a problem area.</p>\n\n",
      "PostDate": "2019-10-08T21:46:21.8345336Z",
      "LastEditDate": null,
      "link": null
    }
  ]
}
