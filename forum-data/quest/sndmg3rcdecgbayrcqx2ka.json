{
  "Topic": {
    "TopicId": "sndmg3rcdecgbayrcqx2ka",
    "ForumId": "10",
    "Title": "Alphabetized 'You can see' Object List",
    "LastUpdated": "2017-10-12T19:53:39.0118251Z",
    "ReplyCount": 0
  },
  "Posts": [
    {
      "PostId": "38bba78e-0054-4738-aa81-7824b8963b43",
      "UserId": 304102,
      "Username": "Doctor Agon",
      "AvatarUrl": "http://i.imgur.com/Lzd3mOwb.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "I like challenging myself and seeing how various codes and functions work, and I'd like to get this to work, but part of me feels that if it were possible it would've been done already.\r\nI'd like the objects that you can see to be in an alphabetical order, rather than in the order the adventure writer added them to the room. Same with the exits, but I figure the same coding might be suitable for both, so I'll stick to the objects for now.\r\nI've got part of the script:\r\n```\r\nobjectsinroom = NewObjectList()\r\nobjectsinroom = GetDirectChildren(game.pov.parent)\r\nobjectsinroom = ObjectListSort(objectsinroom, \"name\")\r\n```\r\nThe problem arises when I then try to modify the relevant section in the 'ShowRoomDescription' function. I wont print the whole function, just the bit I'm trying to modify:\r\n```\r\nobjects = FormatObjectList(game.pov.parent.objectslistprefix, GetNonTransparentParent(game.pov.parent), Template(\"And\"), \".\")\r\ndesc = AddDescriptionLine(desc, objects)\r\nif (game.autodescription_youcansee_newline) {\r\n  msg (desc + \"<br/>\"cord)\r\n  desc = \"\"\r\n}\r\n```\r\nWhen I try changing the first line to:\r\n```\r\nobjects = FormatObjectList(game.pov.parent.objectslistprefix, GetNonTransparentParent(objectsinroom), Template(\"And\"), \".\")\r\n```\r\nOr even:\r\n```\r\nobjectsinroom = GetNonTransparentParent(game.pov.parent)\r\nobjects = FormatObjectList(game.pov.parent.objectslistprefix, objectsinroom, Template(\"And\"), \".\")\r\n```\r\nI get an error message. Is there a way to get this to work. I'm probably using the wrong list function.",
      "EditableFormat": "markdown",
      "HTML": "<p>I like challenging myself and seeing how various codes and functions work, and I'd like to get this to work, but part of me feels that if it were possible it would've been done already.<br>\nI'd like the objects that you can see to be in an alphabetical order, rather than in the order the adventure writer added them to the room. Same with the exits, but I figure the same coding might be suitable for both, so I'll stick to the objects for now.<br>\nI've got part of the script:</p>\n<pre><code>objectsinroom = NewObjectList()\nobjectsinroom = GetDirectChildren(game.pov.parent)\nobjectsinroom = ObjectListSort(objectsinroom, \"name\")\n</code></pre>\n<p>The problem arises when I then try to modify the relevant section in the 'ShowRoomDescription' function. I wont print the whole function, just the bit I'm trying to modify:</p>\n<pre><code>objects = FormatObjectList(game.pov.parent.objectslistprefix, GetNonTransparentParent(game.pov.parent), Template(\"And\"), \".\")\ndesc = AddDescriptionLine(desc, objects)\nif (game.autodescription_youcansee_newline) {\n  msg (desc + \"&lt;br/&gt;\"cord)\n  desc = \"\"\n}\n</code></pre>\n<p>When I try changing the first line to:</p>\n<pre><code>objects = FormatObjectList(game.pov.parent.objectslistprefix, GetNonTransparentParent(objectsinroom), Template(\"And\"), \".\")\n</code></pre>\n<p>Or even:</p>\n<pre><code>objectsinroom = GetNonTransparentParent(game.pov.parent)\nobjects = FormatObjectList(game.pov.parent.objectslistprefix, objectsinroom, Template(\"And\"), \".\")\n</code></pre>\n<p>I get an error message. Is there a way to get this to work. I'm probably using the wrong list function.</p>\n\n",
      "PostDate": "2017-10-12T19:53:39.0118251Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "c3fcc8d7-81a9-46c1-9f5f-8f5e96908670",
      "UserId": 1346,
      "Username": "The Pixie",
      "AvatarUrl": "https://secure.gravatar.com/avatar/cfa37e927f96177bcf6053ae8f108f77?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "`FormatObjectList` works with the room (the parent) rather than the list of objects in it, so the above will not work. However, you should be able to change `FormatObjectList`. I have not tried it, but inserting this after the third line should work:\r\n\r\n```\r\nlist= ObjectListSort(list, \"name\")\r\n```\r\n",
      "EditableFormat": "markdown",
      "HTML": "<p><code>FormatObjectList</code> works with the room (the parent) rather than the list of objects in it, so the above will not work. However, you should be able to change <code>FormatObjectList</code>. I have not tried it, but inserting this after the third line should work:</p>\n<pre><code>list= ObjectListSort(list, \"name\")\n</code></pre>\n\n",
      "PostDate": "2017-10-12T20:21:59.2364764Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "a8cf73bf-e256-4125-964b-b02b99710b58",
      "UserId": 304102,
      "Username": "Doctor Agon",
      "AvatarUrl": "http://i.imgur.com/Lzd3mOwb.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Sorry Pixie, Isn't that what I've done. I'm a bit confused. Do you mean in the 'ShowRoomDescription' function.\r\nLike this:\r\n```\r\n if (i = game.autodescription_youcansee) {\r\n      objects = FormatObjectList(game.pov.parent.objectslistprefix, GetNonTransparentParent(game.pov.parent), Template(\"And\"), \".\")\r\n      objects = ObjectListSort(objects, \"name\")\r\n      desc = AddDescriptionLine(desc, objects)\r\n      if (game.autodescription_youcansee_newline) {\r\n        msg (desc + \"<br/>\"cord)\r\n        desc = \"\"\r\n      }\r\n    }\r\n```\r\nJust tried this, still get an error message.",
      "EditableFormat": "markdown",
      "HTML": "<p>Sorry Pixie, Isn't that what I've done. I'm a bit confused. Do you mean in the 'ShowRoomDescription' function.<br>\nLike this:</p>\n<pre><code> if (i = game.autodescription_youcansee) {\n      objects = FormatObjectList(game.pov.parent.objectslistprefix, GetNonTransparentParent(game.pov.parent), Template(\"And\"), \".\")\n      objects = ObjectListSort(objects, \"name\")\n      desc = AddDescriptionLine(desc, objects)\n      if (game.autodescription_youcansee_newline) {\n        msg (desc + \"&lt;br/&gt;\"cord)\n        desc = \"\"\n      }\n    }\n</code></pre>\n<p>Just tried this, still get an error message.</p>\n\n",
      "PostDate": "2017-10-12T21:59:31.3781813Z",
      "LastEditDate": "2017-10-12T22:14:48.8504283Z",
      "link": null
    },
    {
      "PostId": "69284942-6062-4d1d-9b52-a68faf6666a1",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "No. The `FormatObjectList` function expects 4 parameters:\r\n1. A prefix (\"You can see \" or similar) (`game.pov.parent.objectslistprefix`)\r\n2. The room whose contents you want to show (`GetNonTransparentParent(game.pov.parent)`)\r\n3. The word \"and\" or \"or\" to display between the two items (`Template(\"And\")`)\r\n4. The text to display at the end (`\".\"`)\r\n\r\nIt returns a string, which looks like \"You can see a fish, a book, a pie and a banana.\"\r\n\r\nFirst you tried giving it a sorted list as its second parameter; which didn't work because it was expecting a room, not a list.\r\n\r\nThen you tried sorting the string that comes out; which gives an error because ObjectListSort() expects a list, not a string.\r\n\r\nYou can only sort the list when it is a list. That means after FormatObjectList turns the room into a list of contents, but before FormatObjectList joins that list into a string. You need to modify the function `FormatObjectList`, not `ShowRoomDescription`.\r\n\r\nYou need to insert the line `list = ObjectListSort(list, \"name\")`\r\nsomewhere after `list = RemoveSceneryObjects(GetDirectChildren(parent))`\r\nbut before `foreach (item, list) {`.\r\n\r\nHope that helps.",
      "EditableFormat": "markdown",
      "HTML": "<p>No. The <code>FormatObjectList</code> function expects 4 parameters:</p>\n<ol>\n<li>A prefix (\"You can see \" or similar) (<code>game.pov.parent.objectslistprefix</code>)</li>\n<li>The room whose contents you want to show (<code>GetNonTransparentParent(game.pov.parent)</code>)</li>\n<li>The word \"and\" or \"or\" to display between the two items (<code>Template(\"And\")</code>)</li>\n<li>The text to display at the end (<code>\".\"</code>)</li>\n</ol>\n<p>It returns a string, which looks like \"You can see a fish, a book, a pie and a banana.\"</p>\n<p>First you tried giving it a sorted list as its second parameter; which didn't work because it was expecting a room, not a list.</p>\n<p>Then you tried sorting the string that comes out; which gives an error because ObjectListSort() expects a list, not a string.</p>\n<p>You can only sort the list when it is a list. That means after FormatObjectList turns the room into a list of contents, but before FormatObjectList joins that list into a string. You need to modify the function <code>FormatObjectList</code>, not <code>ShowRoomDescription</code>.</p>\n<p>You need to insert the line <code>list = ObjectListSort(list, \"name\")</code><br>\nsomewhere after <code>list = RemoveSceneryObjects(GetDirectChildren(parent))</code><br>\nbut before <code>foreach (item, list) {</code>.</p>\n<p>Hope that helps.</p>\n\n",
      "PostDate": "2017-10-12T23:25:49.0576792Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "2887423c-7fff-49d0-9423-3f541d9e93fa",
      "UserId": 318253,
      "Username": "K.V.",
      "AvatarUrl": "http://i.imgur.com/FOIjtApb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "I added a few objects to an example game:\r\n\r\n![image](https://user-images.githubusercontent.com/30656341/31523744-04b5dbba-af7b-11e7-9147-9a88dadf781d.png)\r\n\r\n---\r\nThen, I copied the ```FormatObjectList``` function and added the line Pixie suggested:\r\n\r\n```\r\nresult = \"\"\r\ncount = 0\r\nlist = RemoveSceneryObjects(GetDirectChildren(parent))\r\n// KV added the next line, as per Pixie, to sort in alpha order.\r\nlist = ObjectListSort(list, \"name\")\r\nif (CheckDarkness()) {\r\n  list = RemoveDarkObjects(list)\r\n}\r\nlistLength = ListCount(list)\r\nforeach (item, list) {\r\n  if (LengthOf(result) = 0) {\r\n    result = preList + \" \"\r\n  }\r\n  result = result + GetDisplayNameLink(item, \"object\")\r\n  if (CanSeeThrough(item)) {\r\n    result = result + FormatObjectList(\" (\" + item.contentsprefix, item, preFinal, \")\")\r\n  }\r\n  count = count + 1\r\n  if (count = listLength - 1) {\r\n    result = result + \" \" + preFinal + \" \"\r\n  }\r\n  else if (count < listLength) {\r\n    result = result + \", \"\r\n  }\r\n  else {\r\n    result = result + postList\r\n  }\r\n}\r\nreturn (result)\r\n```\r\n\r\n\r\n---\r\nResult:\r\n\r\n![image](https://user-images.githubusercontent.com/30656341/31523731-f34d1e24-af7a-11e7-948c-fc0d3f49f8b0.png)\r\n\r\n---\r\n**Inquiry:**\r\n\r\nHow do we change the order of the things in the panes?\r\n\r\n(I believe it is the middle of the night in Pix's part of the world, so I'll attempt this.)\r\n\r\n---\r\nEDIT:\r\n\r\nI was typing that up and missed mrangel's post, which basically says the same thing as mine, only it's more informative and worded better.  (I definitely learned a thing or two while perusing mrangel's post.) 😅\r\n\r\n---\r\n\r\nmrangel,\r\n\r\nAny idea how Quest works up the lists for the panes?",
      "EditableFormat": "markdown",
      "HTML": "<p>I added a few objects to an example game:</p>\n<p><img src=\"https://user-images.githubusercontent.com/30656341/31523744-04b5dbba-af7b-11e7-9147-9a88dadf781d.png\" alt=\"image\"></p>\n<hr>\n<p>Then, I copied the <code>FormatObjectList</code> function and added the line Pixie suggested:</p>\n<pre><code>result = \"\"\ncount = 0\nlist = RemoveSceneryObjects(GetDirectChildren(parent))\n// KV added the next line, as per Pixie, to sort in alpha order.\nlist = ObjectListSort(list, \"name\")\nif (CheckDarkness()) {\n  list = RemoveDarkObjects(list)\n}\nlistLength = ListCount(list)\nforeach (item, list) {\n  if (LengthOf(result) = 0) {\n    result = preList + \" \"\n  }\n  result = result + GetDisplayNameLink(item, \"object\")\n  if (CanSeeThrough(item)) {\n    result = result + FormatObjectList(\" (\" + item.contentsprefix, item, preFinal, \")\")\n  }\n  count = count + 1\n  if (count = listLength - 1) {\n    result = result + \" \" + preFinal + \" \"\n  }\n  else if (count &lt; listLength) {\n    result = result + \", \"\n  }\n  else {\n    result = result + postList\n  }\n}\nreturn (result)\n</code></pre>\n<hr>\n<p>Result:</p>\n<p><img src=\"https://user-images.githubusercontent.com/30656341/31523731-f34d1e24-af7a-11e7-948c-fc0d3f49f8b0.png\" alt=\"image\"></p>\n<hr>\n<p><strong>Inquiry:</strong></p>\n<p>How do we change the order of the things in the panes?</p>\n<p>(I believe it is the middle of the night in Pix's part of the world, so I'll attempt this.)</p>\n<hr>\n<p>EDIT:</p>\n<p>I was typing that up and missed mrangel's post, which basically says the same thing as mine, only it's more informative and worded better.  (I definitely learned a thing or two while perusing mrangel's post.) 😅</p>\n<hr>\n<p>mrangel,</p>\n<p>Any idea how Quest works up the lists for the panes?</p>\n\n",
      "PostDate": "2017-10-12T23:29:58.0320627Z",
      "LastEditDate": "2017-10-13T07:22:57.693401Z",
      "link": null
    },
    {
      "PostId": "91945de5-f758-4843-90af-2254072b9199",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "@KV\r\n> How do we change the order of the things in the panes?\r\n\r\nI'm pretty sure that's in `playercore.js`.",
      "EditableFormat": "markdown",
      "HTML": "<p>@KV</p>\n<blockquote>\n<p>How do we change the order of the things in the panes?</p>\n</blockquote>\n<p>I'm pretty sure that's in <code>playercore.js</code>.</p>\n\n",
      "PostDate": "2017-10-12T23:36:13.0490859Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "a2a79fae-5f77-4dad-921d-c3595cf15f1f",
      "UserId": 318253,
      "Username": "K.V.",
      "AvatarUrl": "http://i.imgur.com/FOIjtApb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": ">I'm pretty sure that's in ```playercore.js```.\r\n\r\nThanks!\r\n\r\nI'm on it!",
      "EditableFormat": "markdown",
      "HTML": "<blockquote>\n<p>I'm pretty sure that's in <code>playercore.js</code>.</p>\n</blockquote>\n<p>Thanks!</p>\n<p>I'm on it!</p>\n\n",
      "PostDate": "2017-10-12T23:52:33.8508863Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "6f5ba80a-b50b-47d5-aa23-00ee251be1ad",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "(specifically the `updateList` function; which receives a list of objects and displays them in the side pane. The text \"JS.updateList\" doesn't seem to occur anywhere in the Core libraries, so I suspect the Quest-side of this is hard coded. Therefore any changes would involve making 'updateList' sort the list before displaying it)",
      "EditableFormat": "markdown",
      "HTML": "<p>(specifically the <code>updateList</code> function; which receives a list of objects and displays them in the side pane. The text \"JS.updateList\" doesn't seem to occur anywhere in the Core libraries, so I suspect the Quest-side of this is hard coded. Therefore any changes would involve making 'updateList' sort the list before displaying it)</p>\n\n",
      "PostDate": "2017-10-13T00:31:11.5115031Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "d74b0b3e-6053-442e-82fe-377da471af5a",
      "UserId": 318253,
      "Username": "K.V.",
      "AvatarUrl": "http://i.imgur.com/FOIjtApb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "UpdateList (from playercore.js)\r\n\r\n<details>\r\n\r\n```\r\nfunction updateList(listName, listData) {\r\n    var listElement = \"\";\r\n    var buttonPrefix = \"\";\r\n\r\n    if (listName == \"inventory\") {\r\n        listElement = \"#lstInventory\";\r\n        inventoryVerbs = new Array();\r\n        buttonPrefix = \"cmdInventory\";\r\n    }\r\n\r\n    if (listName == \"placesobjects\") {\r\n        listElement = \"#lstPlacesObjects\";\r\n        placesObjectsVerbs = new Array();\r\n        buttonPrefix = \"cmdPlacesObjects\";\r\n    }\r\n\r\n    var previousSelectionText = \"\";\r\n    var previousSelectionKey = \"\";\r\n    var foundPreviousSelection = false;\r\n\r\n    var $selected = $(listElement + \" .ui-selected\");\r\n    if ($selected.length > 0) {\r\n        previousSelectionText = $selected.first().text();\r\n        previousSelectionKey = $selected.first().data(\"key\");\r\n    }\r\n\r\n    $(listElement).empty();\r\n    var count = 0;\r\n    $.each(listData, function (key, value) {\r\n        var data = JSON.parse(value);\r\n        var objectDisplayName = data[\"Text\"];\r\n        var verbsArray, idPrefix;\r\n\r\n        if (listName == \"inventory\") {\r\n            verbsArray = inventoryVerbs;\r\n            idPrefix = \"cmdInventory\";\r\n        } else {\r\n            verbsArray = placesObjectsVerbs;\r\n            idPrefix = \"cmdPlacesObjects\";\r\n        }\r\n\r\n        verbsArray.push(data);\r\n\r\n        if (listName == \"inventory\" || $.inArray(objectDisplayName, _compassDirs) == -1) {\r\n            var $newItem = $(\"<li/>\").data(\"key\", key).data(\"elementid\", data[\"ElementId\"]).data(\"elementname\", data[\"ElementName\"]).data(\"index\", count).html(objectDisplayName);\r\n            if (objectDisplayName == previousSelectionText && key == previousSelectionKey) {\r\n                $newItem.addClass(\"ui-selected\");\r\n                foundPreviousSelection = true;\r\n                updateVerbButtons($newItem, verbsArray, idPrefix);\r\n            }\r\n            $(listElement).append($newItem);\r\n            count++;\r\n        }\r\n    });\r\n\r\n    var selectSize = count;\r\n    if (selectSize < 3) selectSize = 3;\r\n    if (selectSize > 12) selectSize = 12;\r\n    $(listElement).attr(\"size\", selectSize);\r\n    \r\n    if (!foundPreviousSelection) {\r\n        for (var i = 1; i <= verbButtonCount; i++) {\r\n            var target = $(\"#\" + buttonPrefix + i);\r\n            target.hide();\r\n        }\r\n    }\r\n}\r\n```",
      "EditableFormat": "markdown",
      "HTML": "<p>UpdateList (from playercore.js)</p>\n<details>\n<pre><code>function updateList(listName, listData) {\n    var listElement = \"\";\n    var buttonPrefix = \"\";\n\n    if (listName == \"inventory\") {\n        listElement = \"#lstInventory\";\n        inventoryVerbs = new Array();\n        buttonPrefix = \"cmdInventory\";\n    }\n\n    if (listName == \"placesobjects\") {\n        listElement = \"#lstPlacesObjects\";\n        placesObjectsVerbs = new Array();\n        buttonPrefix = \"cmdPlacesObjects\";\n    }\n\n    var previousSelectionText = \"\";\n    var previousSelectionKey = \"\";\n    var foundPreviousSelection = false;\n\n    var $selected = $(listElement + \" .ui-selected\");\n    if ($selected.length &gt; 0) {\n        previousSelectionText = $selected.first().text();\n        previousSelectionKey = $selected.first().data(\"key\");\n    }\n\n    $(listElement).empty();\n    var count = 0;\n    $.each(listData, function (key, value) {\n        var data = JSON.parse(value);\n        var objectDisplayName = data[\"Text\"];\n        var verbsArray, idPrefix;\n\n        if (listName == \"inventory\") {\n            verbsArray = inventoryVerbs;\n            idPrefix = \"cmdInventory\";\n        } else {\n            verbsArray = placesObjectsVerbs;\n            idPrefix = \"cmdPlacesObjects\";\n        }\n\n        verbsArray.push(data);\n\n        if (listName == \"inventory\" || $.inArray(objectDisplayName, _compassDirs) == -1) {\n            var $newItem = $(\"&lt;li/&gt;\").data(\"key\", key).data(\"elementid\", data[\"ElementId\"]).data(\"elementname\", data[\"ElementName\"]).data(\"index\", count).html(objectDisplayName);\n            if (objectDisplayName == previousSelectionText &amp;&amp; key == previousSelectionKey) {\n                $newItem.addClass(\"ui-selected\");\n                foundPreviousSelection = true;\n                updateVerbButtons($newItem, verbsArray, idPrefix);\n            }\n            $(listElement).append($newItem);\n            count++;\n        }\n    });\n\n    var selectSize = count;\n    if (selectSize &lt; 3) selectSize = 3;\n    if (selectSize &gt; 12) selectSize = 12;\n    $(listElement).attr(\"size\", selectSize);\n    \n    if (!foundPreviousSelection) {\n        for (var i = 1; i &lt;= verbButtonCount; i++) {\n            var target = $(\"#\" + buttonPrefix + i);\n            target.hide();\n        }\n    }\n}\n</code></pre>\n\n</details>",
      "PostDate": "2017-10-13T00:32:56.675682Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "4dfe7f45-c644-49af-9bb2-ef0b59cba700",
      "UserId": 318253,
      "Username": "K.V.",
      "AvatarUrl": "http://i.imgur.com/FOIjtApb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "<details><summary>Click here for more default scripts </summary>\r\n\r\n---\r\n\r\n```\r\nkv@LAPTOP-GJBI9A4P:/mnt/c/Program Files (x86)/Quest 5$ grep -r updateList *\r\ndesktopplayer.js:function updateListEval(listName, listData) {\r\ndesktopplayer.js:    updateList(listName, eval(\"(\" + listData + \")\"));\r\nplayercore.js:function updateList(listName, listData) {\r\n```\r\n\r\n---\r\nFrom desktopplayer.js:\r\n\r\n```\r\nfunction updateListEval(listName, listData) {\r\n    updateList(listName, eval(\"(\" + listData + \")\"));\r\n}\r\n```\r\n\r\n---\r\nNOTE:  These are the default scripts.  I'm only posting them here because it's easier for me to look at them this way, plus I don't think mrangel has access to these files without downloading them.\r\n\r\n---\r\nI'm searching for ```listData``` next.  (UPDATE:  This didn't help anything.)\r\n\r\n---\r\nI ***think***  ```updateList``` is adding each object to the HTML during the ```for```, as opposed to creating a list then applying it to the HTML.  (I hope I phrased that correctly.)\r\n\r\n\r\n```\r\n $(listElement).empty();\r\n    var count = 0;\r\n    $.each(listData, function (key, value) {\r\n        var data = JSON.parse(value);\r\n        var objectDisplayName = data[\"Text\"];\r\n        var verbsArray, idPrefix;\r\n\r\n        if (listName == \"inventory\") {\r\n            verbsArray = inventoryVerbs;\r\n            idPrefix = \"cmdInventory\";\r\n        } else {\r\n            verbsArray = placesObjectsVerbs;\r\n            idPrefix = \"cmdPlacesObjects\";\r\n        }\r\n\r\n        verbsArray.push(data);\r\n\r\n        if (listName == \"inventory\" || $.inArray(objectDisplayName, _compassDirs) == -1) {\r\n            var $newItem = $(\"<li/>\").data(\"key\", key).data(\"elementid\", data[\"ElementId\"]).data(\"elementname\", data[\"ElementName\"]).data(\"index\", count).html(objectDisplayName);\r\n            if (objectDisplayName == previousSelectionText && key == previousSelectionKey) {\r\n                $newItem.addClass(\"ui-selected\");\r\n                foundPreviousSelection = true;\r\n                updateVerbButtons($newItem, verbsArray, idPrefix);\r\n            }\r\n            $(listElement).append($newItem);\r\n            count++;\r\n        }\r\n```\r\n\r\n\r\n![image](https://user-images.githubusercontent.com/30656341/31525475-28ab6138-af86-11e7-83a8-a187237b5d8f.png)\r\n\r\n---\r\nIf one were to create a new JS function that takes the content of #lstPlaceObjects, sorts it, then replaces that section of the HTML, then call that function from a turn script, I wonder if that would work.\r\n\r\nI *might* know enough about JS to create such a function...\r\n\r\n</details>",
      "EditableFormat": "markdown",
      "HTML": "<details><summary>Click here for more default scripts </summary>\n<hr>\n<pre><code>kv@LAPTOP-GJBI9A4P:/mnt/c/Program Files (x86)/Quest 5$ grep -r updateList *\ndesktopplayer.js:function updateListEval(listName, listData) {\ndesktopplayer.js:    updateList(listName, eval(\"(\" + listData + \")\"));\nplayercore.js:function updateList(listName, listData) {\n</code></pre>\n<hr>\n<p>From desktopplayer.js:</p>\n<pre><code>function updateListEval(listName, listData) {\n    updateList(listName, eval(\"(\" + listData + \")\"));\n}\n</code></pre>\n<hr>\n<p>NOTE:  These are the default scripts.  I'm only posting them here because it's easier for me to look at them this way, plus I don't think mrangel has access to these files without downloading them.</p>\n<hr>\n<p>I'm searching for <code>listData</code> next.  (UPDATE:  This didn't help anything.)</p>\n<hr>\n<p>I <strong><em>think</em></strong>  <code>updateList</code> is adding each object to the HTML during the <code>for</code>, as opposed to creating a list then applying it to the HTML.  (I hope I phrased that correctly.)</p>\n<pre><code> $(listElement).empty();\n    var count = 0;\n    $.each(listData, function (key, value) {\n        var data = JSON.parse(value);\n        var objectDisplayName = data[\"Text\"];\n        var verbsArray, idPrefix;\n\n        if (listName == \"inventory\") {\n            verbsArray = inventoryVerbs;\n            idPrefix = \"cmdInventory\";\n        } else {\n            verbsArray = placesObjectsVerbs;\n            idPrefix = \"cmdPlacesObjects\";\n        }\n\n        verbsArray.push(data);\n\n        if (listName == \"inventory\" || $.inArray(objectDisplayName, _compassDirs) == -1) {\n            var $newItem = $(\"&lt;li/&gt;\").data(\"key\", key).data(\"elementid\", data[\"ElementId\"]).data(\"elementname\", data[\"ElementName\"]).data(\"index\", count).html(objectDisplayName);\n            if (objectDisplayName == previousSelectionText &amp;&amp; key == previousSelectionKey) {\n                $newItem.addClass(\"ui-selected\");\n                foundPreviousSelection = true;\n                updateVerbButtons($newItem, verbsArray, idPrefix);\n            }\n            $(listElement).append($newItem);\n            count++;\n        }\n</code></pre>\n<p><img src=\"https://user-images.githubusercontent.com/30656341/31525475-28ab6138-af86-11e7-83a8-a187237b5d8f.png\" alt=\"image\"></p>\n<hr>\n<p>If one were to create a new JS function that takes the content of #lstPlaceObjects, sorts it, then replaces that section of the HTML, then call that function from a turn script, I wonder if that would work.</p>\n<p>I <em>might</em> know enough about JS to create such a function...</p>\n</details>\n\n",
      "PostDate": "2017-10-13T00:40:19.5085211Z",
      "LastEditDate": "2017-10-13T07:20:35.0165169Z",
      "link": null
    },
    {
      "PostId": "2d63e140-ecea-44d2-8a33-9e48cc9a3307",
      "UserId": 318253,
      "Username": "K.V.",
      "AvatarUrl": "http://i.imgur.com/FOIjtApb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "I got it.\r\n\r\nThanks to mrangel, Doctor Agon, and The Pixie!\r\n\r\n![image](https://user-images.githubusercontent.com/30656341/31525986-b45c282c-af89-11e7-8f90-184eef5b8782.png)\r\n\r\n![image](https://user-images.githubusercontent.com/30656341/31526004-d91106c4-af89-11e7-925e-9e162f4d524d.png)\r\n\r\n---\r\n\r\n<details><summary> CLICK HERE TO VIEW THE JS FUNCTIONS AND THE EXAMPLE GAME'S CODE </summary>\r\n\r\nI added a new JS function (which I found on StackExchange):\r\n\r\n```\r\nfunction sortUL(selector) {\r\nvar $ul = $(selector);\r\n$ul.find('li').sort(function (a, b) {\r\n    var upA = $(a).text().toUpperCase();\r\n    var upB = $(b).text().toUpperCase();\r\n    return (upA < upB) ? -1 : (upA > upB) ? 1 : 0;\r\n}).appendTo(selector);\r\n};\r\n```\r\n\r\nAnd the following was [posted by mrangel](http://textadventures.co.uk/forum/quest/topic/sndmg3rcdecgbayrcqx2ka/alphabetized-you-can-see-object-list#9547a7c3-3232-4ef9-90f6-59b4072d9214) a little while after this was posted.  It is much more efficient than what I originally had here.\r\n\r\n```\r\nupdateList = (function() {\r\n  var original_updateList = updateList;\r\n  return function (listName, listData) {\r\n    original_updateList (listName, listData);\r\n    sortUL ((listName == \"placesobjects\")?\"#lstPlacesObjects\":((listName == \"inventory\")?\"#lstInventory\":\"\"))\r\n  }\r\n})();\r\n```\r\n\r\nCombined, we have my newly created JS file:\r\n\r\n```\r\nupdateList = (function() {\r\n  var original_updateList = updateList;\r\n  return function (listName, listData) {\r\n    original_updateList (listName, listData);\r\n    sortUL ((listName == \"inventory\")?\"#lstInventory\":\"#lstPlacesObjects\")\r\n  };\r\n})();\r\n\r\nfunction sortUL(selector) {\r\nvar $ul = $(selector);\r\n$ul.find('li').sort(function (a, b) {\r\n    var upA = $(a).text().toUpperCase();\r\n    var upB = $(b).text().toUpperCase();\r\n    return (upA < upB) ? -1 : (upA > upB) ? 1 : 0;\r\n}).appendTo(selector);\r\n};\r\n```\r\n\r\n---\r\nHere's the game's code:\r\n\r\n```\r\n<!--Saved by Quest 5.7.6404.15496-->\r\n<asl version=\"550\">\r\n  <include ref=\"English.aslx\" />\r\n  <include ref=\"Core.aslx\" />\r\n  <game name=\"label color\">\r\n    <gameid>8a482a90-1a03-45aa-bef8-83bd0f5fd2ed</gameid>\r\n    <version>1.0</version>\r\n    <firstpublished>2017</firstpublished>\r\n    <start type=\"script\">\r\n      JS.setCss (\"#inventoryLabel\", \"color:red\")\r\n      JS.setCss (\"#placesObjectsLabel\", \"color:purple\")\r\n      JS.setCss (\"#compassLabel\", \"color:green\")\r\n    </start>\r\n  </game>\r\n  <object name=\"room\">\r\n    <inherit name=\"editor_room\" />\r\n    <object name=\"player\">\r\n      <inherit name=\"editor_object\" />\r\n      <inherit name=\"editor_player\" />\r\n    </object>\r\n    <object name=\"aThing\">\r\n      <inherit name=\"editor_object\" />\r\n      <take />\r\n    </object>\r\n    <object name=\"bThing\">\r\n      <inherit name=\"editor_object\" />\r\n      <take />\r\n    </object>\r\n    <object name=\"rthing\">\r\n      <inherit name=\"editor_object\" />\r\n      <take />\r\n    </object>\r\n    <object name=\"eThing\">\r\n      <inherit name=\"editor_object\" />\r\n      <take />\r\n    </object>\r\n  </object>\r\n  <function name=\"FormatObjectList\" parameters=\"preList, parent, preFinal, postList\" type=\"string\"><![CDATA[\r\n    result = \"\"\r\n    count = 0\r\n    list = RemoveSceneryObjects(GetDirectChildren(parent))\r\n    // KV added the next line to sort in alpha order.\r\n    list = ObjectListSort(list, \"name\")\r\n    if (CheckDarkness()) {\r\n      list = RemoveDarkObjects(list)\r\n    }\r\n    listLength = ListCount(list)\r\n    foreach (item, list) {\r\n      if (LengthOf(result) = 0) {\r\n        result = preList + \" \"\r\n      }\r\n      result = result + GetDisplayNameLink(item, \"object\")\r\n      if (CanSeeThrough(item)) {\r\n        result = result + FormatObjectList(\" (\" + item.contentsprefix, item, preFinal, \")\")\r\n      }\r\n      count = count + 1\r\n      if (count = listLength - 1) {\r\n        result = result + \" \" + preFinal + \" \"\r\n      }\r\n      else if (count < listLength) {\r\n        result = result + \", \"\r\n      }\r\n      else {\r\n        result = result + postList\r\n      }\r\n    }\r\n    return (result)\r\n  ]]></function>\r\n  <javascript src=\"updateListKV.js\" />\r\n</asl>\r\n```\r\n\r\n</details>\r\n\r\n---\r\nHere's a link to the example game:\r\n\r\nhttp://textadventures.co.uk/games/view/cfh57is1-eq-pksfoafxbq/label-color",
      "EditableFormat": "markdown",
      "HTML": "<p>I got it.</p>\n<p>Thanks to mrangel, Doctor Agon, and The Pixie!</p>\n<p><img src=\"https://user-images.githubusercontent.com/30656341/31525986-b45c282c-af89-11e7-8f90-184eef5b8782.png\" alt=\"image\"></p>\n<p><img src=\"https://user-images.githubusercontent.com/30656341/31526004-d91106c4-af89-11e7-925e-9e162f4d524d.png\" alt=\"image\"></p>\n<hr>\n<details><summary> CLICK HERE TO VIEW THE JS FUNCTIONS AND THE EXAMPLE GAME'S CODE </summary>\n<p>I added a new JS function (which I found on StackExchange):</p>\n<pre><code>function sortUL(selector) {\nvar $ul = $(selector);\n$ul.find('li').sort(function (a, b) {\n    var upA = $(a).text().toUpperCase();\n    var upB = $(b).text().toUpperCase();\n    return (upA &lt; upB) ? -1 : (upA &gt; upB) ? 1 : 0;\n}).appendTo(selector);\n};\n</code></pre>\n<p>And the following was <a href=\"http://textadventures.co.uk/forum/quest/topic/sndmg3rcdecgbayrcqx2ka/alphabetized-you-can-see-object-list#9547a7c3-3232-4ef9-90f6-59b4072d9214\">posted by mrangel</a> a little while after this was posted.  It is much more efficient than what I originally had here.</p>\n<pre><code>updateList = (function() {\n  var original_updateList = updateList;\n  return function (listName, listData) {\n    original_updateList (listName, listData);\n    sortUL ((listName == \"placesobjects\")?\"#lstPlacesObjects\":((listName == \"inventory\")?\"#lstInventory\":\"\"))\n  }\n})();\n</code></pre>\n<p>Combined, we have my newly created JS file:</p>\n<pre><code>updateList = (function() {\n  var original_updateList = updateList;\n  return function (listName, listData) {\n    original_updateList (listName, listData);\n    sortUL ((listName == \"inventory\")?\"#lstInventory\":\"#lstPlacesObjects\")\n  };\n})();\n\nfunction sortUL(selector) {\nvar $ul = $(selector);\n$ul.find('li').sort(function (a, b) {\n    var upA = $(a).text().toUpperCase();\n    var upB = $(b).text().toUpperCase();\n    return (upA &lt; upB) ? -1 : (upA &gt; upB) ? 1 : 0;\n}).appendTo(selector);\n};\n</code></pre>\n<hr>\n<p>Here's the game's code:</p>\n<pre><code>&lt;!--Saved by Quest 5.7.6404.15496--&gt;\n&lt;asl version=\"550\"&gt;\n  &lt;include ref=\"English.aslx\" /&gt;\n  &lt;include ref=\"Core.aslx\" /&gt;\n  &lt;game name=\"label color\"&gt;\n    &lt;gameid&gt;8a482a90-1a03-45aa-bef8-83bd0f5fd2ed&lt;/gameid&gt;\n    &lt;version&gt;1.0&lt;/version&gt;\n    &lt;firstpublished&gt;2017&lt;/firstpublished&gt;\n    &lt;start type=\"script\"&gt;\n      JS.setCss (\"#inventoryLabel\", \"color:red\")\n      JS.setCss (\"#placesObjectsLabel\", \"color:purple\")\n      JS.setCss (\"#compassLabel\", \"color:green\")\n    &lt;/start&gt;\n  &lt;/game&gt;\n  &lt;object name=\"room\"&gt;\n    &lt;inherit name=\"editor_room\" /&gt;\n    &lt;object name=\"player\"&gt;\n      &lt;inherit name=\"editor_object\" /&gt;\n      &lt;inherit name=\"editor_player\" /&gt;\n    &lt;/object&gt;\n    &lt;object name=\"aThing\"&gt;\n      &lt;inherit name=\"editor_object\" /&gt;\n      &lt;take /&gt;\n    &lt;/object&gt;\n    &lt;object name=\"bThing\"&gt;\n      &lt;inherit name=\"editor_object\" /&gt;\n      &lt;take /&gt;\n    &lt;/object&gt;\n    &lt;object name=\"rthing\"&gt;\n      &lt;inherit name=\"editor_object\" /&gt;\n      &lt;take /&gt;\n    &lt;/object&gt;\n    &lt;object name=\"eThing\"&gt;\n      &lt;inherit name=\"editor_object\" /&gt;\n      &lt;take /&gt;\n    &lt;/object&gt;\n  &lt;/object&gt;\n  &lt;function name=\"FormatObjectList\" parameters=\"preList, parent, preFinal, postList\" type=\"string\"&gt;&lt;![CDATA[\n    result = \"\"\n    count = 0\n    list = RemoveSceneryObjects(GetDirectChildren(parent))\n    // KV added the next line to sort in alpha order.\n    list = ObjectListSort(list, \"name\")\n    if (CheckDarkness()) {\n      list = RemoveDarkObjects(list)\n    }\n    listLength = ListCount(list)\n    foreach (item, list) {\n      if (LengthOf(result) = 0) {\n        result = preList + \" \"\n      }\n      result = result + GetDisplayNameLink(item, \"object\")\n      if (CanSeeThrough(item)) {\n        result = result + FormatObjectList(\" (\" + item.contentsprefix, item, preFinal, \")\")\n      }\n      count = count + 1\n      if (count = listLength - 1) {\n        result = result + \" \" + preFinal + \" \"\n      }\n      else if (count &lt; listLength) {\n        result = result + \", \"\n      }\n      else {\n        result = result + postList\n      }\n    }\n    return (result)\n  ]]&gt;&lt;/function&gt;\n  &lt;javascript src=\"updateListKV.js\" /&gt;\n&lt;/asl&gt;\n</code></pre>\n</details>\n<hr>\n<p>Here's a link to the example game:</p>\n<p>http://textadventures.co.uk/games/view/cfh57is1-eq-pksfoafxbq/label-color</p>\n\n",
      "PostDate": "2017-10-13T01:21:08.9044828Z",
      "LastEditDate": "2017-10-13T17:26:21.7855797Z",
      "link": null
    },
    {
      "PostId": "8c1e3a53-24f6-4868-b82c-3b6063031519",
      "UserId": 304102,
      "Username": "Doctor Agon",
      "AvatarUrl": "http://i.imgur.com/Lzd3mOwb.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Thanks, I didn't even look at the 'FormatObjectList' function.\r\nAs to the re-ordering of the objects in the panes, that was going to be another question.\r\nIt seems odd that the objects in the room and the objects in the panes are two separate lists, but I guess that's down to the coding of the core functions.\r\nIt's going to take me awhile to look at that.",
      "EditableFormat": "markdown",
      "HTML": "<p>Thanks, I didn't even look at the 'FormatObjectList' function.<br>\nAs to the re-ordering of the objects in the panes, that was going to be another question.<br>\nIt seems odd that the objects in the room and the objects in the panes are two separate lists, but I guess that's down to the coding of the core functions.<br>\nIt's going to take me awhile to look at that.</p>\n\n",
      "PostDate": "2017-10-13T07:13:39.2380115Z",
      "LastEditDate": "2017-10-13T07:32:47.2550137Z",
      "link": null
    },
    {
      "PostId": "9547a7c3-3232-4ef9-90f6-59b4072d9214",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Seems to be an awful lot of code there.\r\n\r\nEvery time an item is added to one of the lists, you add it and then sort both lists. Why not just sort the one that's had an element added to it? So your updateListKV.js would look something like:\r\n```\r\nupdateList = (function() {\r\n  var original_updateList = updateList;\r\n  return function (listName, listData) {\r\n    original_updateList (listName, listData);\r\n    sortUL ((listName == \"inventory\")?\"#lstInventory\":\"#lstPlacesObjects\")\r\n  };\r\n})();\r\n```\r\n(whenever the server changes the contents of either list, it calls original_updateList() and then sorts the list that was just changed)",
      "EditableFormat": "markdown",
      "HTML": "<p>Seems to be an awful lot of code there.</p>\n<p>Every time an item is added to one of the lists, you add it and then sort both lists. Why not just sort the one that's had an element added to it? So your updateListKV.js would look something like:</p>\n<pre><code>updateList = (function() {\n  var original_updateList = updateList;\n  return function (listName, listData) {\n    original_updateList (listName, listData);\n    sortUL ((listName == \"inventory\")?\"#lstInventory\":\"#lstPlacesObjects\")\n  };\n})();\n</code></pre>\n<p>(whenever the server changes the contents of either list, it calls original_updateList() and then sorts the list that was just changed)</p>\n\n",
      "PostDate": "2017-10-13T08:44:46.2846294Z",
      "LastEditDate": "2017-10-13T08:59:34.3761062Z",
      "link": null
    },
    {
      "PostId": "abb43cd0-6aeb-4fb6-8ee6-c4f4239ad59d",
      "UserId": 318253,
      "Username": "K.V.",
      "AvatarUrl": "http://i.imgur.com/FOIjtApb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "I only added the two lines at the end.  I just copied the default ```updateList``` and altered it to override it.\r\n\r\nI didn't know you could do what you've got there, mrangel.\r\n\r\nThat's pretty cool.\r\n\r\nI just deleted the kvSort function and replaced the other with your script, and it works like a charm!\r\n\r\nWhoo-hoo!\r\n\r\n\r\nThanks, again!\r\n\r\n---\r\nEDIT\r\n\r\nI altered the code in my post, replacing it with yours, mrangel.  (I pointed out who wrote it, too, which is only proper.)",
      "EditableFormat": "markdown",
      "HTML": "<p>I only added the two lines at the end.  I just copied the default <code>updateList</code> and altered it to override it.</p>\n<p>I didn't know you could do what you've got there, mrangel.</p>\n<p>That's pretty cool.</p>\n<p>I just deleted the kvSort function and replaced the other with your script, and it works like a charm!</p>\n<p>Whoo-hoo!</p>\n<p>Thanks, again!</p>\n<hr>\n<p>EDIT</p>\n<p>I altered the code in my post, replacing it with yours, mrangel.  (I pointed out who wrote it, too, which is only proper.)</p>\n\n",
      "PostDate": "2017-10-13T08:58:34.6128561Z",
      "LastEditDate": "2017-10-13T09:40:12.6430093Z",
      "link": null
    },
    {
      "PostId": "388b27f6-c797-41c5-ab19-8561a506cc27",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "I _think_ there's still a better way to do it, but my JS is very rusty.\r\n\r\nNow my brain's just being weird at me, and I'm wondering about a sort function that looks like…\r\n(This won't work. This is the consequence of writing code off the top of my head in the early hours of the morning having not slept)\r\n```\r\n(function() {\r\n  var sortAppend = function (adding) {\r\n    var ucA = adding.text().toUpperCase();\r\n    var items = this.find(\"li\");\r\n    if (items.length == 0) {\r\n      this.prepend(adding)\r\n    } elsif (ucA > items.last().text().toUpperCase()) {\r\n      items.last().after(adding);\r\n    } else {\r\n      items.each(function () {\r\n        this.before(adding);\r\n        return (ucA > this.text().toUpperCase());\r\n      });\r\n    }\r\n  };\r\n  $(\"#lstInventory\").append = sortAppend;\r\n  $(\"#lstPlacesObjects\").append = sortAppend;\r\n})();\r\n```\r\n\r\n(No idea if that would work, I'm pretty much typing off the top of my head)",
      "EditableFormat": "markdown",
      "HTML": "<p>I <em>think</em> there's still a better way to do it, but my JS is very rusty.</p>\n<p>Now my brain's just being weird at me, and I'm wondering about a sort function that looks like…<br>\n(This won't work. This is the consequence of writing code off the top of my head in the early hours of the morning having not slept)</p>\n<pre><code>(function() {\n  var sortAppend = function (adding) {\n    var ucA = adding.text().toUpperCase();\n    var items = this.find(\"li\");\n    if (items.length == 0) {\n      this.prepend(adding)\n    } elsif (ucA &gt; items.last().text().toUpperCase()) {\n      items.last().after(adding);\n    } else {\n      items.each(function () {\n        this.before(adding);\n        return (ucA &gt; this.text().toUpperCase());\n      });\n    }\n  };\n  $(\"#lstInventory\").append = sortAppend;\n  $(\"#lstPlacesObjects\").append = sortAppend;\n})();\n</code></pre>\n<p>(No idea if that would work, I'm pretty much typing off the top of my head)</p>\n\n",
      "PostDate": "2017-10-13T10:20:30.5612956Z",
      "LastEditDate": "2017-10-13T19:49:39.2088937Z",
      "link": null
    },
    {
      "PostId": "6507b8c9-7cb0-4fdb-9310-48b347f8a235",
      "UserId": 304102,
      "Username": "Doctor Agon",
      "AvatarUrl": "http://i.imgur.com/Lzd3mOwb.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "How do I go about adding that 'updateList' function to my game.\r\nCan it be done through the 'GUI' or does it have to be done in the code view.",
      "EditableFormat": "markdown",
      "HTML": "<p>How do I go about adding that 'updateList' function to my game.<br>\nCan it be done through the 'GUI' or does it have to be done in the code view.</p>\n\n",
      "PostDate": "2017-10-13T16:58:08.0371566Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "f345d090-cd93-4308-aac7-c016816ae8b0",
      "UserId": 318253,
      "Username": "K.V.",
      "AvatarUrl": "http://i.imgur.com/FOIjtApb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "You can do it either way.\r\n\r\nI use the GUI.\r\n\r\n**Add a JS function here.**\r\n![image](https://user-images.githubusercontent.com/30656341/31558279-e1079568-b011-11e7-9b98-c678a0383a76.png) \r\n\r\n---\r\n**Click NEW to create a new file here.**\r\n![image](https://user-images.githubusercontent.com/30656341/31558290-eae6a484-b011-11e7-8e64-d14291a57d1d.png) \r\n\r\n---\r\n**NOTE: The filename doesn't matter.  The function names are all Quest will care about.**\r\n![image](https://user-images.githubusercontent.com/30656341/31558294-f0092dec-b011-11e7-9f2d-d7cf2e9d4f02.png) \r\n\r\n\r\n---\r\n**Paste in the text.**\r\n![image](https://user-images.githubusercontent.com/30656341/31558307-f93f9004-b011-11e7-8820-f36c3c9bb0e7.png) \r\n\r\n---\r\n**Done.**\r\n![image](https://user-images.githubusercontent.com/30656341/31558322-01c7df88-b012-11e7-930a-03fb74f6bbef.png) \r\n\r\n---\r\n### You can also use a text editor and Code View.\r\n\r\n- Create a new file and copy the text into it.  Name it anything you like, just give it a ```.js``` extension.  (whatever.js)\r\n- Move that file to your game's main directory.\r\n- Open the game in Code View, and add this line at the bottom: ```<javascript src=\"whatever.js\" />```(it should go just before the closing ```</asl>```.)\r\n\r\n---\r\nNOTE:  I didn't alter ```FormatObjectList``` this time.\r\n![image](https://user-images.githubusercontent.com/30656341/31558579-1ec7ec3a-b013-11e7-8219-f1551538225e.png)",
      "EditableFormat": "markdown",
      "HTML": "<p>You can do it either way.</p>\n<p>I use the GUI.</p>\n<p><strong>Add a JS function here.</strong><br>\n<img src=\"https://user-images.githubusercontent.com/30656341/31558279-e1079568-b011-11e7-9b98-c678a0383a76.png\" alt=\"image\"></p>\n<hr>\n<p><strong>Click NEW to create a new file here.</strong><br>\n<img src=\"https://user-images.githubusercontent.com/30656341/31558290-eae6a484-b011-11e7-8e64-d14291a57d1d.png\" alt=\"image\"></p>\n<hr>\n<p><strong>NOTE: The filename doesn't matter.  The function names are all Quest will care about.</strong><br>\n<img src=\"https://user-images.githubusercontent.com/30656341/31558294-f0092dec-b011-11e7-9f2d-d7cf2e9d4f02.png\" alt=\"image\"></p>\n<hr>\n<p><strong>Paste in the text.</strong><br>\n<img src=\"https://user-images.githubusercontent.com/30656341/31558307-f93f9004-b011-11e7-8820-f36c3c9bb0e7.png\" alt=\"image\"></p>\n<hr>\n<p><strong>Done.</strong><br>\n<img src=\"https://user-images.githubusercontent.com/30656341/31558322-01c7df88-b012-11e7-930a-03fb74f6bbef.png\" alt=\"image\"></p>\n<hr>\n<h3>You can also use a text editor and Code View.</h3>\n<ul>\n<li>Create a new file and copy the text into it.  Name it anything you like, just give it a <code>.js</code> extension.  (whatever.js)</li>\n<li>Move that file to your game's main directory.</li>\n<li>Open the game in Code View, and add this line at the bottom: <code>&lt;javascript src=\"whatever.js\" /&gt;</code>(it should go just before the closing <code>&lt;/asl&gt;</code>.)</li>\n</ul>\n<hr>\n<p>NOTE:  I didn't alter <code>FormatObjectList</code> this time.<br>\n<img src=\"https://user-images.githubusercontent.com/30656341/31558579-1ec7ec3a-b013-11e7-8219-f1551538225e.png\" alt=\"image\"></p>\n\n",
      "PostDate": "2017-10-13T17:30:01.8115948Z",
      "LastEditDate": "2017-10-13T17:38:45.1868668Z",
      "link": null
    },
    {
      "PostId": "4f526d17-39c1-4387-84d8-c9f6ff3cc3f2",
      "UserId": 304102,
      "Username": "Doctor Agon",
      "AvatarUrl": "http://i.imgur.com/Lzd3mOwb.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "OK. Thanks. I'll get on to that.\r\nHaving trouble pasting in the text. Not sure what I'm doing wrong.\r\nJust have to do it the long way, and type it in.",
      "EditableFormat": "markdown",
      "HTML": "<p>OK. Thanks. I'll get on to that.<br>\nHaving trouble pasting in the text. Not sure what I'm doing wrong.<br>\nJust have to do it the long way, and type it in.</p>\n\n",
      "PostDate": "2017-10-13T17:57:30.1905313Z",
      "LastEditDate": "2017-10-13T19:02:29.5597383Z",
      "link": null
    },
    {
      "PostId": "8efcc543-2e21-493d-a3c7-1f3e3e61e4cc",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Or if you're on the web version and don't have the \"Advanced\" thing at the left, just stick it in the UI Initialisation script using JS.eval(). Removing the linebreaks and double-quotes is simple enough:\r\n```\r\nJS.eval(\"sortUL = function(selector) {$(selector).find('li').sort(function (a, b) {var upA = $(a).text().toUpperCase();var upB = $(b).text().toUpperCase();return (upA < upB) ? -1 : (upA > upB) ? 1 : 0;}).appendTo(selector);};\")\r\nJS.eval(\"updateList = (function() {var ori = updateList;return function (listName, listData) {ori(listName, listData);sortUL((listName=='inventory')?'#lstInventory':'#lstPlacesObjects')};})();\")\r\n```",
      "EditableFormat": "markdown",
      "HTML": "<p>Or if you're on the web version and don't have the \"Advanced\" thing at the left, just stick it in the UI Initialisation script using JS.eval(). Removing the linebreaks and double-quotes is simple enough:</p>\n<pre><code>JS.eval(\"sortUL = function(selector) {$(selector).find('li').sort(function (a, b) {var upA = $(a).text().toUpperCase();var upB = $(b).text().toUpperCase();return (upA &lt; upB) ? -1 : (upA &gt; upB) ? 1 : 0;}).appendTo(selector);};\")\nJS.eval(\"updateList = (function() {var ori = updateList;return function (listName, listData) {ori(listName, listData);sortUL((listName=='inventory')?'#lstInventory':'#lstPlacesObjects')};})();\")\n</code></pre>\n\n",
      "PostDate": "2017-10-13T21:05:32.8129511Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "741fb91d-10e3-4e8a-9e1e-fc70f025bd8e",
      "UserId": 304102,
      "Username": "Doctor Agon",
      "AvatarUrl": "http://i.imgur.com/Lzd3mOwb.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Success. Thanks all.\r\nWas having to manually type in the code, couldn't get it to paste the code onto the JavaScript page. Then I saw the link to the game and copied that across.\r\nEven better now with the initialisation scripting.\r\nWas getting a bit confused too as I was typing. I thought at first it said ```'#1stInventory'``` and not ```'#lstInventory'```.\r\n",
      "EditableFormat": "markdown",
      "HTML": "<p>Success. Thanks all.<br>\nWas having to manually type in the code, couldn't get it to paste the code onto the JavaScript page. Then I saw the link to the game and copied that across.<br>\nEven better now with the initialisation scripting.<br>\nWas getting a bit confused too as I was typing. I thought at first it said <code>'#1stInventory'</code> and not <code>'#lstInventory'</code>.</p>\n\n",
      "PostDate": "2017-10-13T21:52:32.9662559Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "c8588def-517b-4ad8-b067-ee87364a4e46",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Had a message from someone else saying I'm wrong, you can't do this in the web version because you can't declare or override JS functions. So just to clarify:\r\n\r\nThese methods will not work if called from within `JS.eval()`:\r\n* `function someFunctionName(arguments) { ... }`\r\n* `var someFunctionName = function(arguments) { ... }`\r\n\r\nThose two are equivalent and create a function that is local to the eval block it was created in. But you can create a global function by doing:\r\n* `someFunctionName = function(arguments) { ... }`\r\n",
      "EditableFormat": "markdown",
      "HTML": "<p>Had a message from someone else saying I'm wrong, you can't do this in the web version because you can't declare or override JS functions. So just to clarify:</p>\n<p>These methods will not work if called from within <code>JS.eval()</code>:</p>\n<ul>\n<li><code>function someFunctionName(arguments) { ... }</code></li>\n<li><code>var someFunctionName = function(arguments) { ... }</code></li>\n</ul>\n<p>Those two are equivalent and create a function that is local to the eval block it was created in. But you can create a global function by doing:</p>\n<ul>\n<li><code>someFunctionName = function(arguments) { ... }</code></li>\n</ul>\n\n",
      "PostDate": "2017-10-14T10:40:46.4808341Z",
      "LastEditDate": null,
      "link": null
    }
  ]
}
