{
  "Topic": {
    "TopicId": "onsquc4oduor54xr1f32ta",
    "ForumId": "10",
    "Title": "custom commands integers all",
    "LastUpdated": "2023-10-14T18:20:16.6330804Z",
    "ReplyCount": 0
  },
  "Posts": [
    {
      "PostId": "9ced6e09-df2c-4d5f-8f15-ca4ccf8da037",
      "UserId": 579655,
      "Username": "Jennifer Wren",
      "AvatarUrl": "https://i.imgur.com/t1XUS1Kb.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "How can I take a custom command for an integer and compare it with a variable attribute? I don't need this script to override all other possible commands but I do kind of want it to do nothing if anything but an integer is ever typed into it, or else give an inaccuracy response, not something else.",
      "EditableFormat": "markdown",
      "HTML": "<p>How can I take a custom command for an integer and compare it with a variable attribute? I don't need this script to override all other possible commands but I do kind of want it to do nothing if anything but an integer is ever typed into it, or else give an inaccuracy response, not something else.</p>\n\n",
      "PostDate": "2023-10-14T18:20:16.6330804Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "5bb1ff6a-6780-4506-a92e-ebae9fd008f4",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Not sure if I understand the question here. Do you mean you want a command where the player types a number?\r\n\r\nA regex pattern like `^(?<text>\\d+)$` should work; although you would have to use `ToInt(text)` to get its value.",
      "EditableFormat": "markdown",
      "HTML": "<p>Not sure if I understand the question here. Do you mean you want a command where the player types a number?</p>\n<p>A regex pattern like <code>^(?&lt;text&gt;\\d+)$</code> should work; although you would have to use <code>ToInt(text)</code> to get its value.</p>\n\n",
      "PostDate": "2023-10-15T07:56:05.8455141Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "43ee1ce7-06df-42ca-a39f-2ed15459032d",
      "UserId": 579655,
      "Username": "Jennifer Wren",
      "AvatarUrl": "https://i.imgur.com/t1XUS1Kb.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Yes, I know how to do some things with Quest, just from experience, but I have not got any other script or code experience, just Quest, and I have not ever used a command to get an integer.\r\n\r\nSo, if I place ```^(?<text>\\d+)$``` into the command pattern blank, the script I use for \"Get Result\" is```ToInt(text)```?\r\n\r\nI was not sure how to put that into the game, so I am reading\r\nhttps://docs.textadventures.co.uk/quest/pattern_matching.html#The%20Regex\r\nBUT I AM NOT MAKING ANY SENSE OF IT, except that ```regex =``` (maybe) ```^(?<text>\\d+)$```belongs in the script, somewhere.",
      "EditableFormat": "markdown",
      "HTML": "<p>Yes, I know how to do some things with Quest, just from experience, but I have not got any other script or code experience, just Quest, and I have not ever used a command to get an integer.</p>\n<p>So, if I place <code>^(?&lt;text&gt;\\d+)$</code> into the command pattern blank, the script I use for \"Get Result\" is<code>ToInt(text)</code>?</p>\n<p>I was not sure how to put that into the game, so I am reading<br>\nhttps://docs.textadventures.co.uk/quest/pattern_matching.html#The%20Regex<br>\nBUT I AM NOT MAKING ANY SENSE OF IT, except that <code>regex =</code> (maybe) <code>^(?&lt;text&gt;\\d+)$</code>belongs in the script, somewhere.</p>\n\n",
      "PostDate": "2023-10-15T14:10:22.0766925Z",
      "LastEditDate": "2023-10-15T14:45:27.5631474Z",
      "link": null
    },
    {
      "PostId": "8f01569f-5efc-4cf5-9834-3b97256916ca",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "There are two ways to specify the pattern for a command. \"Command patterns\" look like `get #object#`, while regular expressions look like `^get (?<object>.+)$` (those are two different ways to write the same command). Regular expressions are generally more powerful; but harder to understand if you're not used to them.\r\n\r\nThe parts used for the example above are:\r\n* `^` matches the beginning of what the player typed\r\n* `$` matches the end of what the player typed\r\n* <code>(?&lt;<em style=\"font-family: initial; color: blue\">variablename</em>&gt;<em style=\"font-family: initial; color: purple\">pattern</em>)</code> puts the player-typed text that matches <em style=\"color: purple\">pattern</em> into the variable <em style=\"color: blue\">variablename</em>\r\n* `\\d` matches any digit\r\n* `+` means the previous thing in the pattern matches 1 or more times.\r\n\r\nSo… `\\d+` matches any set of one or more digits.\r\n`(?<text>\\d+)` takes a set of one or more digits from the player's command input, and puts those digits into the variable `text`.\r\n\r\nSo you could have a command whose pattern looks like `^enter code (?<text>\\d+)$`, and then the player could enter the command `enter code 1234`; and within the command script, `text` would be the string `\"1234\"`.\r\n\r\n> the script I use for \"Get Result\"\r\n\r\nNot sure what you mean here. Are you using a script to ask the user for input? I assumed initially that you wanted the player to type an integer as part of a command; in which case you would put it in the pattern.",
      "EditableFormat": "markdown",
      "HTML": "<p>There are two ways to specify the pattern for a command. \"Command patterns\" look like <code>get #object#</code>, while regular expressions look like <code>^get (?&lt;object&gt;.+)$</code> (those are two different ways to write the same command). Regular expressions are generally more powerful; but harder to understand if you're not used to them.</p>\n<p>The parts used for the example above are:</p>\n<ul>\n<li><code>^</code> matches the beginning of what the player typed</li>\n<li><code>$</code> matches the end of what the player typed</li>\n<li><code>(?&lt;<em style=\"font-family: initial; color: blue\">variablename</em>&gt;<em style=\"font-family: initial; color: purple\">pattern</em>)</code> puts the player-typed text that matches <em style=\"color: purple\">pattern</em> into the variable <em style=\"color: blue\">variablename</em></li>\n<li><code>\\d</code> matches any digit</li>\n<li><code>+</code> means the previous thing in the pattern matches 1 or more times.</li>\n</ul>\n<p>So… <code>\\d+</code> matches any set of one or more digits.<br>\n<code>(?&lt;text&gt;\\d+)</code> takes a set of one or more digits from the player's command input, and puts those digits into the variable <code>text</code>.</p>\n<p>So you could have a command whose pattern looks like <code>^enter code (?&lt;text&gt;\\d+)$</code>, and then the player could enter the command <code>enter code 1234</code>; and within the command script, <code>text</code> would be the string <code>\"1234\"</code>.</p>\n<blockquote>\n<p>the script I use for \"Get Result\"</p>\n</blockquote>\n<p>Not sure what you mean here. Are you using a script to ask the user for input? I assumed initially that you wanted the player to type an integer as part of a command; in which case you would put it in the pattern.</p>\n\n",
      "PostDate": "2023-10-15T14:43:41.2517043Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "f324d706-27e0-45e4-a30f-9e5bc4bd3e51",
      "UserId": 579655,
      "Username": "Jennifer Wren",
      "AvatarUrl": "https://i.imgur.com/t1XUS1Kb.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "I want to get the answer to a random number problem where two numbers are multiplied or added by the game and, when the command bar appears, the player types in a number, and the number typed in is either = or not = to the correct answer, a variable like the first and second numbers would be. like player. Answer\r\nSo...\r\nif (player. Answer = ToInt(text)) {\r\n}\r\nThat would work?\r\nI guess I understand that.\r\nLet me try it.",
      "EditableFormat": "markdown",
      "HTML": "<p>I want to get the answer to a random number problem where two numbers are multiplied or added by the game and, when the command bar appears, the player types in a number, and the number typed in is either = or not = to the correct answer, a variable like the first and second numbers would be. like player. Answer<br>\nSo...<br>\nif (player. Answer = ToInt(text)) {<br>\n}<br>\nThat would work?<br>\nI guess I understand that.<br>\nLet me try it.</p>\n\n",
      "PostDate": "2023-10-15T14:52:13.3782036Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "ed536bbe-6cb6-46bf-a996-9ea25906e9fb",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Assuming that `player.Answer` is the correct answer, and is an int, I would expect that to work.",
      "EditableFormat": "markdown",
      "HTML": "<p>Assuming that <code>player.Answer</code> is the correct answer, and is an int, I would expect that to work.</p>\n\n",
      "PostDate": "2023-10-15T14:57:22.3793204Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "b6251718-270d-40ab-9194-110d7b7e43aa",
      "UserId": 579655,
      "Username": "Jennifer Wren",
      "AvatarUrl": "https://i.imgur.com/t1XUS1Kb.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "I put   ```^(?<text>\\d+)$```   into the command pattern blank\r\nand put into the command script\r\nif (ToInt(text) = player.answer) {\r\n  msg (\"Yes, correct.\")\r\n}\r\nand I gave player. answer  an integer of 21\r\nI ran the game, typed in 21\r\nand got \r\nI do not understand your command.",
      "EditableFormat": "markdown",
      "HTML": "<p>I put   <code>^(?&lt;text&gt;\\d+)$</code>   into the command pattern blank<br>\nand put into the command script<br>\nif (ToInt(text) = player.answer) {<br>\nmsg (\"Yes, correct.\")<br>\n}<br>\nand I gave player. answer  an integer of 21<br>\nI ran the game, typed in 21<br>\nand got<br>\nI do not understand your command.</p>\n\n",
      "PostDate": "2023-10-15T14:59:44.027951Z",
      "LastEditDate": "2023-10-15T15:00:29.4169503Z",
      "link": null
    },
    {
      "PostId": "69889145-df7a-4b40-956c-d77e257304ca",
      "UserId": 579655,
      "Username": "Jennifer Wren",
      "AvatarUrl": "https://i.imgur.com/t1XUS1Kb.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "I changed the command pattern to #text# and it works. While I think it would be great to know how to make the regex command pattern work, because that would leave room for other commands, and really you could also just regulate the command #text# to only work for integer answers in one room and not others, or at some points in the game, and not others, the regex would still be easier to use if it works, but I haven't been able to make it work, yet, and I do want no other commands to be used in the game, so I just should have tried #text#, but I didn't know how to use ToInt until I got that response from you, so, thanks, mrangel.\r\nI know I had copy pasted it before. I suppose I should be less lazy, and try to see how everything works ahead of time.",
      "EditableFormat": "markdown",
      "HTML": "<p>I changed the command pattern to #text# and it works. While I think it would be great to know how to make the regex command pattern work, because that would leave room for other commands, and really you could also just regulate the command #text# to only work for integer answers in one room and not others, or at some points in the game, and not others, the regex would still be easier to use if it works, but I haven't been able to make it work, yet, and I do want no other commands to be used in the game, so I just should have tried #text#, but I didn't know how to use ToInt until I got that response from you, so, thanks, mrangel.<br>\nI know I had copy pasted it before. I suppose I should be less lazy, and try to see how everything works ahead of time.</p>\n\n",
      "PostDate": "2023-10-15T16:33:14.0015865Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "42ab8a84-3417-4989-a7af-a28be8cd0ab7",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "There should be a drop down next to the pattern where you can choose \"Command pattern\" or \"Regular expression\", to tell Quest what type of pattern you're typing in.\r\n\r\nIn the case of `#text#`,  that pattern will match any characters. So if the pattern is just `#text#` without any words, the command will run whether the player typed a number or a word. So it might be better to have something like:\r\n```\r\nif (not IsInt (text)) {\r\n  msg (\"You need to type a number.\")\r\n}\r\nelse if (ToInt(text) = player.answer) {\r\n  msg (\"Yes, correct.\")\r\n}\r\nelse {\r\n  msg (\"No, that's not correct.\")\r\n}\r\n```\r\n\r\nAlthough I do wonder if there's a way to make it match words too… could the response from `ToWords` be turned into a regular expression, so that your hypothetical player could type \"twenty-one\"? That's probably possible, but I suspect not worth the effort unless someone made a bunch of reusable functions for it.",
      "EditableFormat": "markdown",
      "HTML": "<p>There should be a drop down next to the pattern where you can choose \"Command pattern\" or \"Regular expression\", to tell Quest what type of pattern you're typing in.</p>\n<p>In the case of <code>#text#</code>,  that pattern will match any characters. So if the pattern is just <code>#text#</code> without any words, the command will run whether the player typed a number or a word. So it might be better to have something like:</p>\n<pre><code>if (not IsInt (text)) {\n  msg (\"You need to type a number.\")\n}\nelse if (ToInt(text) = player.answer) {\n  msg (\"Yes, correct.\")\n}\nelse {\n  msg (\"No, that's not correct.\")\n}\n</code></pre>\n<p>Although I do wonder if there's a way to make it match words too… could the response from <code>ToWords</code> be turned into a regular expression, so that your hypothetical player could type \"twenty-one\"? That's probably possible, but I suspect not worth the effort unless someone made a bunch of reusable functions for it.</p>\n\n",
      "PostDate": "2023-10-16T15:11:11.7948827Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "3798b21d-b65c-45f8-92e9-01647f86fc95",
      "UserId": 579655,
      "Username": "Jennifer Wren",
      "AvatarUrl": "https://i.imgur.com/t1XUS1Kb.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "If someone made the Quest text adventure engine able to recognize the words for every number in existence in every language Quest runs in, already, that would be amazing! I think a lot of people would enjoy that.\r\nEither way, I don't mind a stubborn AI that says no, the answer is 311 if someone types in three-hundred-and-eleven.\r\nBut I learn a little more every day.",
      "EditableFormat": "markdown",
      "HTML": "<p>If someone made the Quest text adventure engine able to recognize the words for every number in existence in every language Quest runs in, already, that would be amazing! I think a lot of people would enjoy that.<br>\nEither way, I don't mind a stubborn AI that says no, the answer is 311 if someone types in three-hundred-and-eleven.<br>\nBut I learn a little more every day.</p>\n\n",
      "PostDate": "2023-10-16T20:20:00.0779652Z",
      "LastEditDate": null,
      "link": null
    }
  ]
}
