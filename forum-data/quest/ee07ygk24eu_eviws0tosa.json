{
  "Topic": {
    "TopicId": "ee07ygk24eu_eviws0tosa",
    "ForumId": "10",
    "Title": "how to make a box can be opened and closed from inside?",
    "LastUpdated": "2017-01-22T11:19:43.9098127Z",
    "ReplyCount": 0
  },
  "Posts": [
    {
      "PostId": "d4d96963-22f2-479b-a739-e552922c57e5",
      "UserId": 288446,
      "Username": "qwedsa",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "I try to make a box a room but it can't close",
      "EditableFormat": "markdown",
      "HTML": "<p>I try to make a box a room but it can't close</p>\n\n",
      "PostDate": "2017-01-22T11:19:43.9098127Z",
      "LastEditDate": null
    },
    {
      "PostId": "60de94e2-e87d-4170-ac00-9b6bad36eb26",
      "UserId": 1346,
      "Username": "The Pixie",
      "AvatarUrl": "https://secure.gravatar.com/avatar/cfa37e927f96177bcf6053ae8f108f77?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "I would make a second object inside the box, and set it to be scenery, with alias \"box\", and set open/close on that to open/close the actual box.",
      "EditableFormat": "markdown",
      "HTML": "<p>I would make a second object inside the box, and set it to be scenery, with alias \"box\", and set open/close on that to open/close the actual box.</p>\n\n",
      "PostDate": "2017-01-22T16:25:30.3114938Z",
      "LastEditDate": null
    },
    {
      "PostId": "6e558edc-26f5-4e76-91e6-73e2a79a4813",
      "UserId": 56551,
      "Username": "XanMag",
      "AvatarUrl": "https://secure.gravatar.com/avatar/4b45a3afd18077f76f6569225c422bdb?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "I've got a whole bit in my \"tutorial game\" where you start inside a box and have to open it.  I'll attach code here if you think it will be helpful.  Pixie's solution will work just fine otherwise.",
      "EditableFormat": "markdown",
      "HTML": "<p>I've got a whole bit in my \"tutorial game\" where you start inside a box and have to open it.  I'll attach code here if you think it will be helpful.  Pixie's solution will work just fine otherwise.</p>\n\n",
      "PostDate": "2017-01-23T00:11:04.2674933Z",
      "LastEditDate": null
    },
    {
      "PostId": "67da37fe-cb07-40d1-a1f9-cc6a22e1dff9",
      "UserId": 288446,
      "Username": "qwedsa",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "but because there are two boxes,it ask which one when open/close it,I don't know much about script and just choose make invisiable in the list,then player can't see what is inside when in it...",
      "EditableFormat": "markdown",
      "HTML": "<p>but because there are two boxes,it ask which one when open/close it,I don't know much about script and just choose make invisiable in the list,then player can't see what is inside when in it...</p>\n\n",
      "PostDate": "2017-01-23T04:09:37.2348957Z",
      "LastEditDate": null
    },
    {
      "PostId": "da10fb16-4e3f-46f7-9b95-c35e82393652",
      "UserId": 56551,
      "Username": "XanMag",
      "AvatarUrl": "https://secure.gravatar.com/avatar/4b45a3afd18077f76f6569225c422bdb?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "I'm not sure why you would have two boxes in the same room?  One box that you are inside of is a room.  When you are outside of the box, you are outside of the \"inside the box room\" and you have an object box that can be viewed.  Whether you are inside the box (room) or outside viewing the box, there is only one box object (which can be opened or closed) and you would not get the 'which box' response.\r\n\r\nWhat am I missing?",
      "EditableFormat": "markdown",
      "HTML": "<p>I'm not sure why you would have two boxes in the same room?  One box that you are inside of is a room.  When you are outside of the box, you are outside of the \"inside the box room\" and you have an object box that can be viewed.  Whether you are inside the box (room) or outside viewing the box, there is only one box object (which can be opened or closed) and you would not get the 'which box' response.</p>\n<p>What am I missing?</p>\n\n",
      "PostDate": "2017-01-24T15:24:57.9135612Z",
      "LastEditDate": null
    },
    {
      "PostId": "fee70a0e-7022-43a6-a910-0948ec479450",
      "UserId": 1346,
      "Username": "The Pixie",
      "AvatarUrl": "https://secure.gravatar.com/avatar/cfa37e927f96177bcf6053ae8f108f77?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "When you are outside the box, but the box is open, you can see both boxes.",
      "EditableFormat": "markdown",
      "HTML": "<p>When you are outside the box, but the box is open, you can see both boxes.</p>\n\n",
      "PostDate": "2017-01-24T18:02:20.5903046Z",
      "LastEditDate": null
    },
    {
      "PostId": "e074ea49-9fc4-40ea-8918-96c6b64ceb14",
      "UserId": 56551,
      "Username": "XanMag",
      "AvatarUrl": "https://secure.gravatar.com/avatar/4b45a3afd18077f76f6569225c422bdb?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "I thought that being inside the room where the object box is, you would see one box whether it is opened or closed as long as you have a box object and an inside box as a room.  Link opening the box to making the 'in' exit visible (or let the enter box command simply move the player to a room called 'inside a box' (or whatever).  While in the box, you can have a second box (the one you are in) be examined and set to scenery.  Maybe something is lost in translation?!  lol\r\n\r\nIs that what your original response suggested?",
      "EditableFormat": "markdown",
      "HTML": "<p>I thought that being inside the room where the object box is, you would see one box whether it is opened or closed as long as you have a box object and an inside box as a room.  Link opening the box to making the 'in' exit visible (or let the enter box command simply move the player to a room called 'inside a box' (or whatever).  While in the box, you can have a second box (the one you are in) be examined and set to scenery.  Maybe something is lost in translation?!  lol</p>\n<p>Is that what your original response suggested?</p>\n\n",
      "PostDate": "2017-01-25T04:30:00.419688Z",
      "LastEditDate": null
    },
    {
      "PostId": "5e7a384a-5fe7-4dd2-8691-2fdb9d07f910",
      "UserId": 288446,
      "Username": "qwedsa",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "what I want to do is:there is a box in a place,it's a normal container first,but the player can go inside it,so it‘s a container and a room,and the player can hide in it,but in the box room it can’t be closed,I remember it said room can't be closed,if there is a box inside the box room for open/close them both it ask which one,maybe because the box room is also a container?sometimes when there is only the box room it say it can't see that,so I don't understand.....",
      "EditableFormat": "markdown",
      "HTML": "<p>what I want to do is:there is a box in a place,it's a normal container first,but the player can go inside it,so it‘s a container and a room,and the player can hide in it,but in the box room it can’t be closed,I remember it said room can't be closed,if there is a box inside the box room for open/close them both it ask which one,maybe because the box room is also a container?sometimes when there is only the box room it say it can't see that,so I don't understand.....</p>\n\n",
      "PostDate": "2017-01-25T07:36:13.3558728Z",
      "LastEditDate": null
    },
    {
      "PostId": "5b8bb4e0-6721-41d6-b2ef-2dca9c49cdc3",
      "UserId": 1346,
      "Username": "The Pixie",
      "AvatarUrl": "https://secure.gravatar.com/avatar/cfa37e927f96177bcf6053ae8f108f77?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "This is not as straightforward as I first thought. Here is one way to do it.\r\n\r\nCreate an object, `outer_box`, in the room, and a second object, `inner_object` inside the first one. Give them both an alias \"box\", and suitable descriptions. Set them both to be openable/closeable, and for the script to run on opening paste in this:\r\n```\r\ninner_box.isopen = true\r\nexit_in.visible = true\r\nouter_box.isopen = true\r\nexit_out.visible = true\r\nmsg (\"You open the box.\")\r\n```\r\nAnd for closing:\r\n```\r\ninner_box.isopen = false\r\nexit_in.visible = false\r\nouter_box.isopen = false\r\nexit_out.visible = false\r\nmsg (\"You close the box.\")\r\n```\r\nFor the outer_box only, on the _Setup_ tab, set it to be a room and an object. Then on the _Scripts_ tab, set the \"After entering the room \" to:\r\n```\r\ninner_box.visible = true\r\n```\r\nand the \"Before leaving the room\" to:\r\n```\r\ninner_box.visible = false\r\n```\r\nFor the inner_box only, on the _Setup_ tab, set it to not be visible.\r\n\r\nCreate exits between the room and the outer_box, name them \"exit_in\" and \"exit_out\", and set them both to not be visible.\r\n\r\nHere it is in a simple game.\r\n```\r\n<!--Saved by Quest 5.6.6108.15891-->\r\n<asl version=\"550\">\r\n  <include ref=\"English.aslx\" />\r\n  <include ref=\"Core.aslx\" />\r\n  <game name=\"box\">\r\n    <gameid>51f73e64-5add-4da4-b4cc-0c6321c64ab0</gameid>\r\n    <version>1.0</version>\r\n    <firstpublished>2017</firstpublished>\r\n  </game>\r\n  <object name=\"room\">\r\n    <inherit name=\"editor_room\" />\r\n    <object name=\"player\">\r\n      <inherit name=\"editor_object\" />\r\n      <inherit name=\"editor_player\" />\r\n    </object>\r\n    <object name=\"outer_box\">\r\n      <inherit name=\"openable\" />\r\n      <alias>box</alias>\r\n      <feature_container />\r\n      <look>You look at the outside of the box.</look>\r\n      <openscript type=\"script\">\r\n        inner_box.isopen = true\r\n        exit_in.visible = true\r\n        outer_box.isopen = true\r\n        exit_out.visible = true\r\n        msg (\"You open the box.\")\r\n      </openscript>\r\n      <closescript type=\"script\">\r\n        inner_box.isopen = false\r\n        exit_in.visible = false\r\n        outer_box.isopen = false\r\n        exit_out.visible = false\r\n        msg (\"You close the box.\")\r\n      </closescript>\r\n      <enter type=\"script\">\r\n        inner_box.visible = true\r\n      </enter>\r\n      <onexit type=\"script\">\r\n        inner_box.visible = false\r\n      </onexit>\r\n      <object name=\"inner_box\">\r\n        <inherit name=\"editor_object\" />\r\n        <inherit name=\"openable\" />\r\n        <alias>box</alias>\r\n        <feature_container />\r\n        <look>You look at the inside of the box.</look>\r\n        <visible type=\"boolean\">false</visible>\r\n        <openscript type=\"script\">\r\n          inner_box.isopen = true\r\n          exit_in.visible = true\r\n          outer_box.isopen = true\r\n          exit_out.visible = true\r\n          msg (\"You open the box.\")\r\n        </openscript>\r\n        <closescript type=\"script\">\r\n          inner_box.isopen = false\r\n          exit_in.visible = false\r\n          outer_box.isopen = false\r\n          exit_out.visible = false\r\n          msg (\"You close the box.\")\r\n        </closescript>\r\n      </object>\r\n      <exit name=\"exit_out\" alias=\"out\" to=\"room\">\r\n        <inherit name=\"outdirection\" />\r\n        <visible type=\"boolean\">false</visible>\r\n      </exit>\r\n    </object>\r\n    <exit name=\"exit_in\" alias=\"in\" to=\"outer_box\">\r\n      <inherit name=\"indirection\" />\r\n      <visible type=\"boolean\">false</visible>\r\n    </exit>\r\n  </object>\r\n</asl>",
      "EditableFormat": "markdown",
      "HTML": "<p>This is not as straightforward as I first thought. Here is one way to do it.</p>\n<p>Create an object, <code>outer_box</code>, in the room, and a second object, <code>inner_object</code> inside the first one. Give them both an alias \"box\", and suitable descriptions. Set them both to be openable/closeable, and for the script to run on opening paste in this:</p>\n<pre><code>inner_box.isopen = true\nexit_in.visible = true\nouter_box.isopen = true\nexit_out.visible = true\nmsg (\"You open the box.\")\n</code></pre>\n<p>And for closing:</p>\n<pre><code>inner_box.isopen = false\nexit_in.visible = false\nouter_box.isopen = false\nexit_out.visible = false\nmsg (\"You close the box.\")\n</code></pre>\n<p>For the outer_box only, on the <em>Setup</em> tab, set it to be a room and an object. Then on the <em>Scripts</em> tab, set the \"After entering the room \" to:</p>\n<pre><code>inner_box.visible = true\n</code></pre>\n<p>and the \"Before leaving the room\" to:</p>\n<pre><code>inner_box.visible = false\n</code></pre>\n<p>For the inner_box only, on the <em>Setup</em> tab, set it to not be visible.</p>\n<p>Create exits between the room and the outer_box, name them \"exit_in\" and \"exit_out\", and set them both to not be visible.</p>\n<p>Here it is in a simple game.</p>\n<pre><code>&lt;!--Saved by Quest 5.6.6108.15891--&gt;\n&lt;asl version=\"550\"&gt;\n  &lt;include ref=\"English.aslx\" /&gt;\n  &lt;include ref=\"Core.aslx\" /&gt;\n  &lt;game name=\"box\"&gt;\n    &lt;gameid&gt;51f73e64-5add-4da4-b4cc-0c6321c64ab0&lt;/gameid&gt;\n    &lt;version&gt;1.0&lt;/version&gt;\n    &lt;firstpublished&gt;2017&lt;/firstpublished&gt;\n  &lt;/game&gt;\n  &lt;object name=\"room\"&gt;\n    &lt;inherit name=\"editor_room\" /&gt;\n    &lt;object name=\"player\"&gt;\n      &lt;inherit name=\"editor_object\" /&gt;\n      &lt;inherit name=\"editor_player\" /&gt;\n    &lt;/object&gt;\n    &lt;object name=\"outer_box\"&gt;\n      &lt;inherit name=\"openable\" /&gt;\n      &lt;alias&gt;box&lt;/alias&gt;\n      &lt;feature_container /&gt;\n      &lt;look&gt;You look at the outside of the box.&lt;/look&gt;\n      &lt;openscript type=\"script\"&gt;\n        inner_box.isopen = true\n        exit_in.visible = true\n        outer_box.isopen = true\n        exit_out.visible = true\n        msg (\"You open the box.\")\n      &lt;/openscript&gt;\n      &lt;closescript type=\"script\"&gt;\n        inner_box.isopen = false\n        exit_in.visible = false\n        outer_box.isopen = false\n        exit_out.visible = false\n        msg (\"You close the box.\")\n      &lt;/closescript&gt;\n      &lt;enter type=\"script\"&gt;\n        inner_box.visible = true\n      &lt;/enter&gt;\n      &lt;onexit type=\"script\"&gt;\n        inner_box.visible = false\n      &lt;/onexit&gt;\n      &lt;object name=\"inner_box\"&gt;\n        &lt;inherit name=\"editor_object\" /&gt;\n        &lt;inherit name=\"openable\" /&gt;\n        &lt;alias&gt;box&lt;/alias&gt;\n        &lt;feature_container /&gt;\n        &lt;look&gt;You look at the inside of the box.&lt;/look&gt;\n        &lt;visible type=\"boolean\"&gt;false&lt;/visible&gt;\n        &lt;openscript type=\"script\"&gt;\n          inner_box.isopen = true\n          exit_in.visible = true\n          outer_box.isopen = true\n          exit_out.visible = true\n          msg (\"You open the box.\")\n        &lt;/openscript&gt;\n        &lt;closescript type=\"script\"&gt;\n          inner_box.isopen = false\n          exit_in.visible = false\n          outer_box.isopen = false\n          exit_out.visible = false\n          msg (\"You close the box.\")\n        &lt;/closescript&gt;\n      &lt;/object&gt;\n      &lt;exit name=\"exit_out\" alias=\"out\" to=\"room\"&gt;\n        &lt;inherit name=\"outdirection\" /&gt;\n        &lt;visible type=\"boolean\"&gt;false&lt;/visible&gt;\n      &lt;/exit&gt;\n    &lt;/object&gt;\n    &lt;exit name=\"exit_in\" alias=\"in\" to=\"outer_box\"&gt;\n      &lt;inherit name=\"indirection\" /&gt;\n      &lt;visible type=\"boolean\"&gt;false&lt;/visible&gt;\n    &lt;/exit&gt;\n  &lt;/object&gt;\n&lt;/asl&gt;\n</code></pre>\n\n",
      "PostDate": "2017-01-25T11:36:33.073441Z",
      "LastEditDate": null
    },
    {
      "PostId": "411ca0b3-16b0-43ca-a40f-2e458fbb21a7",
      "UserId": 288446,
      "Username": "qwedsa",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Thanks,but it should be more difficult,when the box is open player is supposed to see what is inside,I try the simple game but it can't be seen.and when the box is open and player is inside he can see what is inside and outside,when the box is closed player can only see what is inside.",
      "EditableFormat": "markdown",
      "HTML": "<p>Thanks,but it should be more difficult,when the box is open player is supposed to see what is inside,I try the simple game but it can't be seen.and when the box is open and player is inside he can see what is inside and outside,when the box is closed player can only see what is inside.</p>\n\n",
      "PostDate": "2017-01-25T16:55:32.9861551Z",
      "LastEditDate": null
    },
    {
      "PostId": "977b644d-7ac9-4aaf-a580-2c740d1b903c",
      "UserId": 32920,
      "Username": "Father",
      "AvatarUrl": "http://i.imgur.com/ogRXH9lb.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Could you create a new  room called box, with exits 'in'  and  'out' to the original room with the box in it. \r\nThen create an object 'box' in the room with the box. This object could have a command ( get|climb|go) ( in |into)( the|) (box|) set this to move player to box (room)\r\nThe box (room) could have a description like-\r\nfirst time - script of anything you witness in the box. IE \"The guard looks briefly into the room, sees no one and leaves\" \r\nOtherwise - \"you crouch tensely  in the box.\"\r\nI don't know if that is what you want but it is just a suggestion.\r\n ",
      "EditableFormat": "markdown",
      "HTML": "<p>Could you create a new  room called box, with exits 'in'  and  'out' to the original room with the box in it.<br>\nThen create an object 'box' in the room with the box. This object could have a command ( get|climb|go) ( in |into)( the|) (box|) set this to move player to box (room)<br>\nThe box (room) could have a description like-<br>\nfirst time - script of anything you witness in the box. IE \"The guard looks briefly into the room, sees no one and leaves\"<br>\nOtherwise - \"you crouch tensely  in the box.\"<br>\nI don't know if that is what you want but it is just a suggestion.</p>\n\n",
      "PostDate": "2017-01-26T19:23:02.5038291Z",
      "LastEditDate": null
    },
    {
      "PostId": "0c8c438b-15b2-476a-a52b-be812f2a508d",
      "UserId": 56551,
      "Username": "XanMag",
      "AvatarUrl": "https://secure.gravatar.com/avatar/4b45a3afd18077f76f6569225c422bdb?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "^basically a tweaked version of what I suggested.  object box that is a container.  room box that is separate but with appropriate descriptions for what can be seen.  New Box object can be inside the room box.  No conflict.  You just have to script for things that can be seen when a flag for open box and closed box is set.",
      "EditableFormat": "markdown",
      "HTML": "<p>^basically a tweaked version of what I suggested.  object box that is a container.  room box that is separate but with appropriate descriptions for what can be seen.  New Box object can be inside the room box.  No conflict.  You just have to script for things that can be seen when a flag for open box and closed box is set.</p>\n\n",
      "PostDate": "2017-01-27T04:47:56.6453625Z",
      "LastEditDate": null
    },
    {
      "PostId": "2499be7b-2bb2-44a4-bac2-8a2efddcc866",
      "UserId": 288446,
      "Username": "qwedsa",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "I think it will be too complex without changing the code,maybe it is easier if something can be done before opening/closing ",
      "EditableFormat": "markdown",
      "HTML": "<p>I think it will be too complex without changing the code,maybe it is easier if something can be done before opening/closing</p>\n\n",
      "PostDate": "2017-01-27T06:43:07.1893433Z",
      "LastEditDate": null
    }
  ]
}
