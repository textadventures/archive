{
  "Topic": {
    "TopicId": "kv3lkxvp2uesvjeqz0d8ya",
    "ForumId": "10",
    "Title": "Setting up a Shop (resolved)",
    "LastUpdated": "2018-07-26T15:05:06.1332266Z",
    "ReplyCount": 0
  },
  "Posts": [
    {
      "PostId": "38198751-0c10-473e-be6f-081dd8b130cc",
      "UserId": 232787,
      "Username": "RobBronson",
      "AvatarUrl": "https://graph.facebook.com/10206073401859041/picture?width=80&height=80",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "So I started working on a new game and followed Pixies \"Setting up a shop\" tutorial. I love how well she explained the set up and it was pretty easy following her instruction. So, I had no doubt that I did it correctly. However, when I try to run the game I get the following error message at the start. \r\nError running script: Error compiling expression 'stock': Unknown object or variable 'stock'\r\n\r\nIf anyone can help me figure out what went wrong, that would be great. I can post the entire game code here if need be.",
      "EditableFormat": "markdown",
      "HTML": "<p>So I started working on a new game and followed Pixies \"Setting up a shop\" tutorial. I love how well she explained the set up and it was pretty easy following her instruction. So, I had no doubt that I did it correctly. However, when I try to run the game I get the following error message at the start.<br>\nError running script: Error compiling expression 'stock': Unknown object or variable 'stock'</p>\n<p>If anyone can help me figure out what went wrong, that would be great. I can post the entire game code here if need be.</p>\n\n",
      "PostDate": "2018-07-26T15:05:06.1332266Z",
      "LastEditDate": "2018-07-26T22:32:05.2015241Z",
      "link": null
    },
    {
      "PostId": "675521a2-37b3-4687-a78b-9faf0df86a94",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "I think you'll need to post the code so we can spot the mistake. I'm guessing either 'stock' is the name of a parameter to a function, and maybe spelled wrong; or it could be the actual name of a stock room that's missing.",
      "EditableFormat": "markdown",
      "HTML": "<p>I think you'll need to post the code so we can spot the mistake. I'm guessing either 'stock' is the name of a parameter to a function, and maybe spelled wrong; or it could be the actual name of a stock room that's missing.</p>\n\n",
      "PostDate": "2018-07-26T16:57:32.6524985Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "05099987-339f-4b5a-9377-c5ca61eaaa95",
      "UserId": 232787,
      "Username": "RobBronson",
      "AvatarUrl": "https://graph.facebook.com/10206073401859041/picture?width=80&height=80",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "How do I paste the code? I do the 4 indents...and even tried the \"surrounded with 3 backticks\" it says I can't post that here.",
      "EditableFormat": "markdown",
      "HTML": "<p>How do I paste the code? I do the 4 indents...and even tried the \"surrounded with 3 backticks\" it says I can't post that here.</p>\n\n",
      "PostDate": "2018-07-26T17:02:17.6944684Z",
      "LastEditDate": "2018-07-26T17:11:15.1620026Z",
      "link": null
    },
    {
      "PostId": "053ce10f-02c6-4ff2-ba8d-b8f26e5fb2f4",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "That happens sometimes, nobody seems to know why. It's possibly part of the forum's spam filtering system. Sometimes it will just not allow a certain post. Often (but not always) one with code in; and often (but not always) a very long post.\r\n\r\nBest I can suggest is using a site like pastebin, and posting a link here.",
      "EditableFormat": "markdown",
      "HTML": "<p>That happens sometimes, nobody seems to know why. It's possibly part of the forum's spam filtering system. Sometimes it will just not allow a certain post. Often (but not always) one with code in; and often (but not always) a very long post.</p>\n<p>Best I can suggest is using a site like pastebin, and posting a link here.</p>\n\n",
      "PostDate": "2018-07-26T17:52:15.4358979Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "05103c35-b46c-431b-b252-9fd4e5020248",
      "UserId": 304102,
      "Username": "Doctor Agon",
      "AvatarUrl": "http://i.imgur.com/Lzd3mOwb.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "You need to use three backticks top and bottom: The back ticks are located on the button to the left of the [1] key\r\n``````\r\n```\r\nThen paste your code\r\n```\r\n``````\r\n\r\n",
      "EditableFormat": "markdown",
      "HTML": "<p>You need to use three backticks top and bottom: The back ticks are located on the button to the left of the [1] key</p>\n<pre><code>```\nThen paste your code\n```\n</code></pre>\n\n",
      "PostDate": "2018-07-26T17:55:16.0703249Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "0bca219c-5584-429a-a189-3cd50a19375d",
      "UserId": 232787,
      "Username": "RobBronson",
      "AvatarUrl": "https://graph.facebook.com/10206073401859041/picture?width=80&height=80",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "It may be that it is already to large to post here. So I used the \"Pastebin\" as mrangel suggested. \r\nhere is the link:\r\nhttps://pastebin.com/4pFM2QC4\r\n",
      "EditableFormat": "markdown",
      "HTML": "<p>It may be that it is already to large to post here. So I used the \"Pastebin\" as mrangel suggested.<br>\nhere is the link:<br>\nhttps://pastebin.com/4pFM2QC4</p>\n\n",
      "PostDate": "2018-07-26T18:16:20.4461236Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "a6590d36-d735-4c00-8ff4-20a7eabb103b",
      "UserId": 247325,
      "Username": "hegemonkhan",
      "AvatarUrl": "https://secure.gravatar.com/avatar/a96cf34d8d97c57de38f54ee22b1759b?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "there's some various quirks and filter/block system with the forum involved (if it's not just a post character max count limit as to the cause/reason for not being able to post), what always works for me is to add extra 'filler spam' at the top of my post:\r\n\r\nfor example, here's my post but it won't post (if first time) and/or update (if editing / if not first time):\r\n\r\n```\r\nblah\r\nblah\r\nblah\r\nblah\r\nblah\r\n```\r\n\r\nto fix this, all I do is this (I edit my posts a lot):\r\n\r\n```\r\n(filler for getting my edited post, updated/posted)\r\n\r\n-------------\r\n\r\nblah\r\nblah\r\nblah\r\nblah\r\nblah\r\n```\r\n\r\nif I try to edit it again with only a few character edits (or too quickly), it gets blocked by the system, as well:\r\n\r\n```\r\n(filler for getting my edited post, updated/posted)\r\n\r\n-------------\r\n\r\nblah blah blah\r\nblah blah blah\r\nblah blah blah\r\nblah blah blah\r\nblah blah blah\r\n```\r\n\r\nso, to fix it again, I just add more 'filler spam' at the top of my post:\r\n\r\n```\r\n(filler for getting my edited post, updated/posted)\r\n(again, filler for getting my edited post, updated/posted)\r\n\r\n-------------\r\n\r\nblah blah blah\r\nblah blah blah\r\nblah blah blah\r\nblah blah blah\r\nblah blah blah\r\n```",
      "EditableFormat": "markdown",
      "HTML": "<p>there's some various quirks and filter/block system with the forum involved (if it's not just a post character max count limit as to the cause/reason for not being able to post), what always works for me is to add extra 'filler spam' at the top of my post:</p>\n<p>for example, here's my post but it won't post (if first time) and/or update (if editing / if not first time):</p>\n<pre><code>blah\nblah\nblah\nblah\nblah\n</code></pre>\n<p>to fix this, all I do is this (I edit my posts a lot):</p>\n<pre><code>(filler for getting my edited post, updated/posted)\n\n-------------\n\nblah\nblah\nblah\nblah\nblah\n</code></pre>\n<p>if I try to edit it again with only a few character edits (or too quickly), it gets blocked by the system, as well:</p>\n<pre><code>(filler for getting my edited post, updated/posted)\n\n-------------\n\nblah blah blah\nblah blah blah\nblah blah blah\nblah blah blah\nblah blah blah\n</code></pre>\n<p>so, to fix it again, I just add more 'filler spam' at the top of my post:</p>\n<pre><code>(filler for getting my edited post, updated/posted)\n(again, filler for getting my edited post, updated/posted)\n\n-------------\n\nblah blah blah\nblah blah blah\nblah blah blah\nblah blah blah\nblah blah blah\n</code></pre>\n\n",
      "PostDate": "2018-07-26T20:03:28.4597921Z",
      "LastEditDate": "2018-07-26T20:05:48.7484822Z",
      "link": null
    },
    {
      "PostId": "092e0a64-4f37-4825-b64e-3412e42e2e30",
      "UserId": 232787,
      "Username": "RobBronson",
      "AvatarUrl": "https://graph.facebook.com/10206073401859041/picture?width=80&height=80",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "HK...did you not see the link to it that I posted above?\r\nHere it is again:\r\nhttps://pastebin.com/4pFM2QC4\r\n\r\nMost of the stuff I have added in so far are objects and rooms not set up yet. So hopefully someone will be able to see what I am doing wrong.\r\n",
      "EditableFormat": "markdown",
      "HTML": "<p>HK...did you not see the link to it that I posted above?<br>\nHere it is again:<br>\nhttps://pastebin.com/4pFM2QC4</p>\n<p>Most of the stuff I have added in so far are objects and rooms not set up yet. So hopefully someone will be able to see what I am doing wrong.</p>\n\n",
      "PostDate": "2018-07-26T20:37:41.7258502Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "46cdb7b8-aa07-40db-8931-ded3ea219531",
      "UserId": 247325,
      "Username": "hegemonkhan",
      "AvatarUrl": "https://secure.gravatar.com/avatar/a96cf34d8d97c57de38f54ee22b1759b?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "oh, I just thought you also had a problem with posts not posting... I was addressing that... my bad\r\n\r\n-------------------------------\r\n\r\nusually the mistake with new people is that they don't have their Values in double quotes, making them be Object (reference/pointer) Values, when they need to be String Values. You can try finding instance of 'stock' in your code, and try putting double quotes on it. For a quick way of seeing if this is the fix/error or not.\r\n\r\nif not... we got more work for us.... in finding your error...",
      "EditableFormat": "markdown",
      "HTML": "<p>oh, I just thought you also had a problem with posts not posting... I was addressing that... my bad</p>\n<hr>\n<p>usually the mistake with new people is that they don't have their Values in double quotes, making them be Object (reference/pointer) Values, when they need to be String Values. You can try finding instance of 'stock' in your code, and try putting double quotes on it. For a quick way of seeing if this is the fix/error or not.</p>\n<p>if not... we got more work for us.... in finding your error...</p>\n\n",
      "PostDate": "2018-07-26T21:02:48.1333308Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "5583740b-d1db-46bb-8c93-4934e29837b6",
      "UserId": 247325,
      "Username": "hegemonkhan",
      "AvatarUrl": "https://secure.gravatar.com/avatar/a96cf34d8d97c57de38f54ee22b1759b?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "use the 'edit' menu bar's 'find' feature to search for 'stock'\r\n\r\nyou got some instances of 'stock' and 'Stock', quest **IS** case senstive, 'stock' and 'Stock' are completely different things\r\n\r\nalso look for possibly where 'stock' needs the double quotes, but doesn't have them...",
      "EditableFormat": "markdown",
      "HTML": "<p>use the 'edit' menu bar's 'find' feature to search for 'stock'</p>\n<p>you got some instances of 'stock' and 'Stock', quest <strong>IS</strong> case senstive, 'stock' and 'Stock' are completely different things</p>\n<p>also look for possibly where 'stock' needs the double quotes, but doesn't have them...</p>\n\n",
      "PostDate": "2018-07-26T21:07:46.5905538Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "1a1bf6e8-47fb-456a-9c21-2cb89432c1c9",
      "UserId": 247325,
      "Username": "hegemonkhan",
      "AvatarUrl": "https://secure.gravatar.com/avatar/a96cf34d8d97c57de38f54ee22b1759b?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "for example:\r\n\r\nlines 653 to 658:\r\n\r\n```\r\n<function name=\"SetUpShop\" parameters=\"Shop, Stock\">\r\n    shop.stock = stock\r\n    foreach (o, GetDirectChildren(stock)) {\r\n      SetUpMerchandise (o)\r\n    }\r\n  </function>\r\n```\r\n\r\nyou got a mismatch between 'stock' and 'Stock', change the 'Stock' to 'stock' (I think.. or do whatever you need to do as you understand your code's purpose more than I do):\r\n\r\n```\r\n<function name=\"SetUpShop\" parameters=\"Shop, stock\">\r\n    shop.stock = stock\r\n    foreach (o, GetDirectChildren(stock)) {\r\n      SetUpMerchandise (o)\r\n    }\r\n  </function>\r\n```\r\n\r\n--------------\r\n\r\nit looks like this might be your only error... let's hope...\r\n\r\n(otherwise, you may also need a 'stock' or 'Stock' Object and/or a 'stock' or 'Stock' Attribute on an Object, which doesn't exist, and thus needs to be created)\r\n\r\n-----------\r\n\r\nP.S.\r\n\r\n(I hate caps: upper and lower case usage, this is exactly why I never use them... if possible... lol --- either its due to my crappy finger-texting dexterity and/or I get confused in whether it needs to be upper case or lower case, lol)",
      "EditableFormat": "markdown",
      "HTML": "<p>for example:</p>\n<p>lines 653 to 658:</p>\n<pre><code>&lt;function name=\"SetUpShop\" parameters=\"Shop, Stock\"&gt;\n    shop.stock = stock\n    foreach (o, GetDirectChildren(stock)) {\n      SetUpMerchandise (o)\n    }\n  &lt;/function&gt;\n</code></pre>\n<p>you got a mismatch between 'stock' and 'Stock', change the 'Stock' to 'stock' (I think.. or do whatever you need to do as you understand your code's purpose more than I do):</p>\n<pre><code>&lt;function name=\"SetUpShop\" parameters=\"Shop, stock\"&gt;\n    shop.stock = stock\n    foreach (o, GetDirectChildren(stock)) {\n      SetUpMerchandise (o)\n    }\n  &lt;/function&gt;\n</code></pre>\n<hr>\n<p>it looks like this might be your only error... let's hope...</p>\n<p>(otherwise, you may also need a 'stock' or 'Stock' Object and/or a 'stock' or 'Stock' Attribute on an Object, which doesn't exist, and thus needs to be created)</p>\n<hr>\n<p>P.S.</p>\n<p>(I hate caps: upper and lower case usage, this is exactly why I never use them... if possible... lol --- either its due to my crappy finger-texting dexterity and/or I get confused in whether it needs to be upper case or lower case, lol)</p>\n\n",
      "PostDate": "2018-07-26T21:13:16.7707368Z",
      "LastEditDate": "2018-07-26T21:18:21.8927647Z",
      "link": null
    },
    {
      "PostId": "a4fd5397-2189-4022-9151-ff5c33143aa1",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Yes, that looks like the issue to me.\r\n\r\nYour `SetUpShop` function has two parameters, named `Shop` and `Stock` (with capital letters). But in the code of that function you refer to them as `shop` and `stock` (without capitals).\r\n\r\nVariable names have to be spelled exactly the same every time they are used. I think you should change the parameters list for that function so that they don't have capitals.\r\n\r\nAlso, in your start script, you have the line:\r\n```\r\n  SetUpShop (marketsquare, stockroom)\r\n```\r\nBut the objects are named `Market Square` and `StockRoom`.\r\nIn that line, I think you will need to change the names so that they are spelled exactly the same as the name of two rooms. Exactly the same, in this case, means with the same capitalisation and the same spaces.",
      "EditableFormat": "markdown",
      "HTML": "<p>Yes, that looks like the issue to me.</p>\n<p>Your <code>SetUpShop</code> function has two parameters, named <code>Shop</code> and <code>Stock</code> (with capital letters). But in the code of that function you refer to them as <code>shop</code> and <code>stock</code> (without capitals).</p>\n<p>Variable names have to be spelled exactly the same every time they are used. I think you should change the parameters list for that function so that they don't have capitals.</p>\n<p>Also, in your start script, you have the line:</p>\n<pre><code>  SetUpShop (marketsquare, stockroom)\n</code></pre>\n<p>But the objects are named <code>Market Square</code> and <code>StockRoom</code>.<br>\nIn that line, I think you will need to change the names so that they are spelled exactly the same as the name of two rooms. Exactly the same, in this case, means with the same capitalisation and the same spaces.</p>\n\n",
      "PostDate": "2018-07-26T21:33:02.0494638Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "fb4b9dbd-097c-42fd-8426-d0bdaed48269",
      "UserId": 232787,
      "Username": "RobBronson",
      "AvatarUrl": "https://graph.facebook.com/10206073401859041/picture?width=80&height=80",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Excellent...that fixed it and now the shop works...However...When I buy an item...Now I get THIS Error:\r\nError running script: Error compiling expression 'player': Unknown object or variable 'player'\r\n\r\n",
      "EditableFormat": "markdown",
      "HTML": "<p>Excellent...that fixed it and now the shop works...However...When I buy an item...Now I get THIS Error:<br>\nError running script: Error compiling expression 'player': Unknown object or variable 'player'</p>\n\n",
      "PostDate": "2018-07-26T21:46:42.3669138Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "e127ab74-21b7-4fb5-b337-d5f1989c390d",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "In Quest games by default, there is an object named `player`. In yours, there are two to choose from, `playerM` and `playerF`.\r\n\r\nThis means that instead of using the name `player` in code, you will have to use the attribute `game.pov`, which contains a reference to which object is currently the player. A lot of libraries and example code just assume the player is an object named `player`, so if you want to use those libraries, you'll probably have to search for every instance of `player` in their scripts and change it to `game.pov`.\r\n\r\nIn this case, the `BuyObject` function contains this line:\r\n```\r\nplayer.money = game.pov.money - BuyingPrice(obj)\r\n```\r\nwhich should be:\r\n```\r\ngame.pov.money = game.pov.money - BuyingPrice(obj)\r\n```",
      "EditableFormat": "markdown",
      "HTML": "<p>In Quest games by default, there is an object named <code>player</code>. In yours, there are two to choose from, <code>playerM</code> and <code>playerF</code>.</p>\n<p>This means that instead of using the name <code>player</code> in code, you will have to use the attribute <code>game.pov</code>, which contains a reference to which object is currently the player. A lot of libraries and example code just assume the player is an object named <code>player</code>, so if you want to use those libraries, you'll probably have to search for every instance of <code>player</code> in their scripts and change it to <code>game.pov</code>.</p>\n<p>In this case, the <code>BuyObject</code> function contains this line:</p>\n<pre><code>player.money = game.pov.money - BuyingPrice(obj)\n</code></pre>\n<p>which should be:</p>\n<pre><code>game.pov.money = game.pov.money - BuyingPrice(obj)\n</code></pre>\n\n",
      "PostDate": "2018-07-26T22:13:00.1934071Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "5dc8ee35-b9ba-48c1-820e-640f4b408350",
      "UserId": 232787,
      "Username": "RobBronson",
      "AvatarUrl": "https://graph.facebook.com/10206073401859041/picture?width=80&height=80",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "I so appreciate the help...it works perfectly now...Thank you both, so, so much!",
      "EditableFormat": "markdown",
      "HTML": "<p>I so appreciate the help...it works perfectly now...Thank you both, so, so much!</p>\n\n",
      "PostDate": "2018-07-26T22:31:10.6587073Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "6340c330-132c-4102-b10e-55f1f7bbeb17",
      "UserId": 247325,
      "Username": "hegemonkhan",
      "AvatarUrl": "https://secure.gravatar.com/avatar/a96cf34d8d97c57de38f54ee22b1759b?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "as 'mrangel' points out.. if you renamed your 'player' Player Object to 'WHATEVER' Player Object, then you have to:\r\n\r\nchange all instances of 'player' to either: 'WHATEVER' or 'game.pov':\r\n\r\nfor examples\r\n\r\n// from:\r\nplayer.alias\r\n// to:\r\nWHATEVER.alias\r\n\r\n// or:\r\n\r\n// from:\r\nplayer.alias\r\n// to:\r\ngame.pov.alias\r\n\r\n----------\r\n\r\nthere's a good reason that lots of guides/libraries/code use 'player' in their code, as for new people, trying to explain to them about the 'game.pov' usage, can be very confusing for the new people to understand (and difficult for some of us to explain it), so that's why 'player' is used instead of 'game.pov', but as mrangel points out, there's the other side/issue in that if someone does rename their Player Object, then you got coding errors when using that library/code. There's pros and cons to both ways... sighs. And there's some nuances with using 'game.pov' vs not using it... though these nuances don't come up for most people's games (unless they're making rpgs with party/team members and/or multiple switchable Player Objects in their games, and want some effects to be for all/any Player Objects, which would use the 'game.pov', and some effects only to be for certain/specific Player Objects, which would NOT use the 'game.pov')\r\n\r\n----------\r\n\r\nquickly about the 'game.pov' Object (reference/pointer) Attribute (and the other special/built-in and non-special Object reference/pointer Attributes), using code:\r\n\r\n```\r\n<game name=\"NAME_OF_GAME\">\r\n\r\n  <attr name=\"pov\" type=\"object\">player_1</attr>\r\n\r\n  <attr name=\"pov_objectlist_attribute\" type=\"objectlist\">\r\n\r\n    <value>player_1</value>\r\n    <value>player_2</value>\r\n\r\n  </attr>\r\n\r\n</game>\r\n\r\n<object name=\"room\">\r\n\r\n  <inherit name=\"editor_room\" />\r\n\r\n</object>\r\n\r\n<object name=\"player_1\">\r\n\r\n  <inherit name=\"editor_object\" />\r\n  <inherit name=\"editor_player\" />\r\n\r\n  <inherit name=\"player_type\" />\r\n\r\n  <attr name=\"parent\" type=\"object\">room</attr>\r\n\r\n  <attr name=\"weapon\" type=\"object\">katana</attr>\r\n\r\n  <attr name=\"strength\" type=\"int\">0</attr>\r\n\r\n  <attr name=\"intelligence\" type=\"int\">0</attr>\r\n\r\n</object>\r\n\r\n<object name=\"player_2\">\r\n\r\n  <inherit name=\"editor_object\" />\r\n  <inherit name=\"editor_player\" />\r\n\r\n  <inherit name=\"player_type\" />\r\n\r\n  <attr name=\"parent\" type=\"object\">room</attr>\r\n\r\n  <attr name=\"weapon\" type=\"object\">short_sword</attr>\r\n\r\n  <attr name=\"strength\" type=\"int\">0</attr>\r\n\r\n  <attr name=\"intelligence\" type=\"int\">0</attr>\r\n\r\n</object>\r\n\r\n<object name=\"orc\">\r\n\r\n  <inherit name=\"editor_object\" />\r\n\r\n  <attr name=\"parent\" type=\"object\">room</attr>\r\n\r\n  <attr name=\"life\" type=\"int\">999</attr>\r\n\r\n  <attr name=\"attack\" type=\"script\">\r\n    msg (\"Orc Life: \" + this.life)\r\n    this.life = this.life - game.pov.weapon.damage\r\n    msg (\"You attack the orc\")\r\n    msg (\"Orc Life: \" + this.life)\r\n  </attr>\r\n\r\n</object>\r\n\r\n<object name=\"katana\">\r\n\r\n  <inherit name=\"editor_object\" />\r\n\r\n  <attr name=\"damage\" type=\"int\">50</attr>\r\n\r\n</object>\r\n\r\n<object name=\"short_sword\">\r\n\r\n  <inherit name=\"editor_object\" />\r\n\r\n  <attr name=\"damage\" type=\"int\">5</attr>\r\n\r\n</object>\r\n\r\n<type name=\"player_type\">\r\n\r\n  <statusattributes type=\"stringdictionary\">\r\n\r\n    <item>\r\n\r\n      <key>strength</key>\r\n      <value>Strength: !</value>\r\n\r\n    </item>\r\n\r\n    <item>\r\n\r\n      <key>intelligence</key>\r\n      <value>Intelligence: !</value>\r\n\r\n    </item>\r\n\r\n  </statusattributes>\r\n\r\n</type>\r\n\r\n<verb>\r\n\r\n  <pattern>attack</pattern>\r\n  <property>attack</property>\r\n  <defaultexpression>You can't attack that!</defaultexpression>\r\n\r\n</verb>\r\n\r\n<command name=\"change_pov_command\">\r\n\r\n  <pattern>changepov</value>\r\n\r\n  <script>\r\n    show menu (\"Pov (Player)?\", game.pov_objectlist_attribute, false) {\r\n      game.pov = result\r\n    }\r\n\r\n  </script>\r\n\r\n</command>\r\n\r\n<command name=\"strength_command\">\r\n\r\n  <pattern>strength</value>\r\n\r\n  <script>\r\n\r\n    game.pov.strength = game.pov.strength + 5\r\n\r\n  </script>\r\n\r\n</command>\r\n\r\n<command name=\"intelligence_command\">\r\n\r\n  <pattern>intelligence</value>\r\n\r\n  <script>\r\n\r\n    if (game.pov.name = \"player_2\") {\r\n      game.pov.intelligence = game.pov.intelligence + 3\r\n    }\r\n\r\n  </script>\r\n\r\n</command>\r\n```",
      "EditableFormat": "markdown",
      "HTML": "<p>as 'mrangel' points out.. if you renamed your 'player' Player Object to 'WHATEVER' Player Object, then you have to:</p>\n<p>change all instances of 'player' to either: 'WHATEVER' or 'game.pov':</p>\n<p>for examples</p>\n<p>// from:<br>\nplayer.alias<br>\n// to:<br>\nWHATEVER.alias</p>\n<p>// or:</p>\n<p>// from:<br>\nplayer.alias<br>\n// to:<br>\ngame.pov.alias</p>\n<hr>\n<p>there's a good reason that lots of guides/libraries/code use 'player' in their code, as for new people, trying to explain to them about the 'game.pov' usage, can be very confusing for the new people to understand (and difficult for some of us to explain it), so that's why 'player' is used instead of 'game.pov', but as mrangel points out, there's the other side/issue in that if someone does rename their Player Object, then you got coding errors when using that library/code. There's pros and cons to both ways... sighs. And there's some nuances with using 'game.pov' vs not using it... though these nuances don't come up for most people's games (unless they're making rpgs with party/team members and/or multiple switchable Player Objects in their games, and want some effects to be for all/any Player Objects, which would use the 'game.pov', and some effects only to be for certain/specific Player Objects, which would NOT use the 'game.pov')</p>\n<hr>\n<p>quickly about the 'game.pov' Object (reference/pointer) Attribute (and the other special/built-in and non-special Object reference/pointer Attributes), using code:</p>\n<pre><code>&lt;game name=\"NAME_OF_GAME\"&gt;\n\n  &lt;attr name=\"pov\" type=\"object\"&gt;player_1&lt;/attr&gt;\n\n  &lt;attr name=\"pov_objectlist_attribute\" type=\"objectlist\"&gt;\n\n    &lt;value&gt;player_1&lt;/value&gt;\n    &lt;value&gt;player_2&lt;/value&gt;\n\n  &lt;/attr&gt;\n\n&lt;/game&gt;\n\n&lt;object name=\"room\"&gt;\n\n  &lt;inherit name=\"editor_room\" /&gt;\n\n&lt;/object&gt;\n\n&lt;object name=\"player_1\"&gt;\n\n  &lt;inherit name=\"editor_object\" /&gt;\n  &lt;inherit name=\"editor_player\" /&gt;\n\n  &lt;inherit name=\"player_type\" /&gt;\n\n  &lt;attr name=\"parent\" type=\"object\"&gt;room&lt;/attr&gt;\n\n  &lt;attr name=\"weapon\" type=\"object\"&gt;katana&lt;/attr&gt;\n\n  &lt;attr name=\"strength\" type=\"int\"&gt;0&lt;/attr&gt;\n\n  &lt;attr name=\"intelligence\" type=\"int\"&gt;0&lt;/attr&gt;\n\n&lt;/object&gt;\n\n&lt;object name=\"player_2\"&gt;\n\n  &lt;inherit name=\"editor_object\" /&gt;\n  &lt;inherit name=\"editor_player\" /&gt;\n\n  &lt;inherit name=\"player_type\" /&gt;\n\n  &lt;attr name=\"parent\" type=\"object\"&gt;room&lt;/attr&gt;\n\n  &lt;attr name=\"weapon\" type=\"object\"&gt;short_sword&lt;/attr&gt;\n\n  &lt;attr name=\"strength\" type=\"int\"&gt;0&lt;/attr&gt;\n\n  &lt;attr name=\"intelligence\" type=\"int\"&gt;0&lt;/attr&gt;\n\n&lt;/object&gt;\n\n&lt;object name=\"orc\"&gt;\n\n  &lt;inherit name=\"editor_object\" /&gt;\n\n  &lt;attr name=\"parent\" type=\"object\"&gt;room&lt;/attr&gt;\n\n  &lt;attr name=\"life\" type=\"int\"&gt;999&lt;/attr&gt;\n\n  &lt;attr name=\"attack\" type=\"script\"&gt;\n    msg (\"Orc Life: \" + this.life)\n    this.life = this.life - game.pov.weapon.damage\n    msg (\"You attack the orc\")\n    msg (\"Orc Life: \" + this.life)\n  &lt;/attr&gt;\n\n&lt;/object&gt;\n\n&lt;object name=\"katana\"&gt;\n\n  &lt;inherit name=\"editor_object\" /&gt;\n\n  &lt;attr name=\"damage\" type=\"int\"&gt;50&lt;/attr&gt;\n\n&lt;/object&gt;\n\n&lt;object name=\"short_sword\"&gt;\n\n  &lt;inherit name=\"editor_object\" /&gt;\n\n  &lt;attr name=\"damage\" type=\"int\"&gt;5&lt;/attr&gt;\n\n&lt;/object&gt;\n\n&lt;type name=\"player_type\"&gt;\n\n  &lt;statusattributes type=\"stringdictionary\"&gt;\n\n    &lt;item&gt;\n\n      &lt;key&gt;strength&lt;/key&gt;\n      &lt;value&gt;Strength: !&lt;/value&gt;\n\n    &lt;/item&gt;\n\n    &lt;item&gt;\n\n      &lt;key&gt;intelligence&lt;/key&gt;\n      &lt;value&gt;Intelligence: !&lt;/value&gt;\n\n    &lt;/item&gt;\n\n  &lt;/statusattributes&gt;\n\n&lt;/type&gt;\n\n&lt;verb&gt;\n\n  &lt;pattern&gt;attack&lt;/pattern&gt;\n  &lt;property&gt;attack&lt;/property&gt;\n  &lt;defaultexpression&gt;You can't attack that!&lt;/defaultexpression&gt;\n\n&lt;/verb&gt;\n\n&lt;command name=\"change_pov_command\"&gt;\n\n  &lt;pattern&gt;changepov&lt;/value&gt;\n\n  &lt;script&gt;\n    show menu (\"Pov (Player)?\", game.pov_objectlist_attribute, false) {\n      game.pov = result\n    }\n\n  &lt;/script&gt;\n\n&lt;/command&gt;\n\n&lt;command name=\"strength_command\"&gt;\n\n  &lt;pattern&gt;strength&lt;/value&gt;\n\n  &lt;script&gt;\n\n    game.pov.strength = game.pov.strength + 5\n\n  &lt;/script&gt;\n\n&lt;/command&gt;\n\n&lt;command name=\"intelligence_command\"&gt;\n\n  &lt;pattern&gt;intelligence&lt;/value&gt;\n\n  &lt;script&gt;\n\n    if (game.pov.name = \"player_2\") {\n      game.pov.intelligence = game.pov.intelligence + 3\n    }\n\n  &lt;/script&gt;\n\n&lt;/command&gt;\n</code></pre>\n\n",
      "PostDate": "2018-07-26T22:31:47.4085094Z",
      "LastEditDate": "2018-07-26T23:04:16.5570719Z",
      "link": null
    }
  ]
}
