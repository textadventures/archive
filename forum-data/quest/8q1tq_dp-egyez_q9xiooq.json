{
  "Topic": {
    "TopicId": "8q1tq_dp-egyez_q9xiooq",
    "ForumId": "10",
    "Title": "SOLVED - Adding Status Attributes",
    "LastUpdated": "2017-12-24T12:39:19.3351083Z",
    "ReplyCount": 0
  },
  "Posts": [
    {
      "PostId": "160dd646-58c8-4acb-a559-65247e97b69e",
      "UserId": 262169,
      "Username": "Laraqua",
      "AvatarUrl": "https://secure.gravatar.com/avatar/62e7b4391dc6f205a4820699c027a564?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Hi everyone, first time poster here.  I've done some searching on how to add a status attribute and I found that you go to Attribute tab in Player and then add an Integer with the new status attribute's name.  In this case it's Shooter and I put in an integer value of 0 as I wanted it to start out as 0.   No problems, that worked.  Now I want to make a command where people can type Add Shooter at any point (like a command) and have it go up by 1.  I went to Commands, called it Add Shooter, and then made a Script on the Command tab that says\r\n\r\nSet variable player.shooter = [EXPRESSION] player.shooter + 1\r\n\r\nUnfortunately, the game says it doesn't recognise that command so I'm clearly doing it wrong.  Could someone please help me?  Please note I'm brand new to coding.  I've managed to get locked doors and exits and other basics figured out, but I'll need some direction in terms of tabs, etc. rather than getting sections of raw code.\r\n\r\nThanks in advance!",
      "EditableFormat": "markdown",
      "HTML": "<p>Hi everyone, first time poster here.  I've done some searching on how to add a status attribute and I found that you go to Attribute tab in Player and then add an Integer with the new status attribute's name.  In this case it's Shooter and I put in an integer value of 0 as I wanted it to start out as 0.   No problems, that worked.  Now I want to make a command where people can type Add Shooter at any point (like a command) and have it go up by 1.  I went to Commands, called it Add Shooter, and then made a Script on the Command tab that says</p>\n<p>Set variable player.shooter = [EXPRESSION] player.shooter + 1</p>\n<p>Unfortunately, the game says it doesn't recognise that command so I'm clearly doing it wrong.  Could someone please help me?  Please note I'm brand new to coding.  I've managed to get locked doors and exits and other basics figured out, but I'll need some direction in terms of tabs, etc. rather than getting sections of raw code.</p>\n<p>Thanks in advance!</p>\n\n",
      "PostDate": "2017-12-24T12:39:19.3351083Z",
      "LastEditDate": "2017-12-26T08:59:59.5453446Z",
      "link": null
    },
    {
      "PostId": "8c8bf736-2dbd-482d-adb9-796555b398f2",
      "UserId": 247325,
      "Username": "hegemonkhan",
      "AvatarUrl": "https://secure.gravatar.com/avatar/a96cf34d8d97c57de38f54ee22b1759b?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "In the GUI/Editor:\r\n\r\n\"tree of stuff (left side)\": 'Objects' -> 'game' -> 'Commands' -> Add -> (see below, for an example)\r\n\r\nCommand Name: increase_attribute_command\r\n\r\nCommand Pattern: increase #text#\r\n\r\nCommand Script: (see below)\r\n\r\nadd new script -> 'scripts' section/category -> 'if' Script -> (see below)\r\n\r\nif [expression] HasAttribute (player, text)\r\n\r\n-> then, -> add new script -> 'variables / ???' section/category -> 'set a variable or attribute / ???' Script -> (see below)\r\n\r\n// I don't think this will work, but you can try it:\r\n\r\nset variable player.text = [expression] player.text + 1\r\n\r\n// otherwise, maybe you can use the 'increase counter' script option ('variables' section/category -> 'increase object counter' Script option), which I think looks something like this, along with my example's setup for it:\r\n\r\nobject counter: [object] player [counter name] text\r\n\r\n// but this too may fail... meh....\r\n\r\n// this will definitely work, but I don't know how it's done in the GUI-Editor (as I don't/am-unable-to have quest open at the moment) (maybe you can find/figure it out, in how its done with the script options), but here's what it' looks like in code (using my example):\r\n\r\nset (player, text, GetAttribute (player, text) + 1)\r\n\r\n// or as separated scripts:\r\n\r\nincremented_value_variable = GetAttribute (player, text) + 1\r\nset (player, text, incremented_value_variable)\r\n\r\n// or (same as above, just very slightly/minorly different):\r\n\r\nvalue_variable = GetAttribute (player, text)\r\nset (player, text, value_variable + 1)\r\n\r\n-----------\r\n\r\nthis is a dynamic Command, letting you type in anything, and it checks if you've got such an attribute, and if you do, that attribute is increased by 1, so with my example you'd type in:\r\n\r\nincrease shooter\r\n\r\nand pretending you had a 'strength' Integer Attribute as well, you could enter this as well:\r\n\r\nincrease strength\r\n\r\netc etc etc for any Integer Attribute that you've got/added to your 'player' Player Object\r\n\r\n------------\r\n\r\nin code, here's what my Command looks like:\r\n\r\n```\r\n<command name=\"increase_attribute_command\">\r\n\r\n  <pattern>increase #text#</pattern>\r\n\r\n  <script>\r\n    if (HasAttribute (player, text)) {\r\n      set (player, text, GetAttribute (player, text) + 1)\r\n    }\r\n  </script>\r\n\r\n</command>\r\n```\r\n\r\n---------\r\n\r\nif you don't want it to be dynamic, then just change the 'pattern' to NOT having the '#text#' in it and adjust the scripting, for an example (in code):\r\n\r\n```\r\n// you'd just type in: incr\r\n// to activate this 'increase_shooter_command' Command\r\n\r\n<command name=\"increase_shooter_command\">\r\n\r\n  <pattern>incr</pattern>\r\n\r\n  <script>\r\n    player.shooter = player.shooter + 1\r\n  </script>\r\n\r\n</command>\r\n```",
      "EditableFormat": "markdown",
      "HTML": "<p>In the GUI/Editor:</p>\n<p>\"tree of stuff (left side)\": 'Objects' -&gt; 'game' -&gt; 'Commands' -&gt; Add -&gt; (see below, for an example)</p>\n<p>Command Name: increase_attribute_command</p>\n<p>Command Pattern: increase #text#</p>\n<p>Command Script: (see below)</p>\n<p>add new script -&gt; 'scripts' section/category -&gt; 'if' Script -&gt; (see below)</p>\n<p>if [expression] HasAttribute (player, text)</p>\n<p>-&gt; then, -&gt; add new script -&gt; 'variables / ???' section/category -&gt; 'set a variable or attribute / ???' Script -&gt; (see below)</p>\n<p>// I don't think this will work, but you can try it:</p>\n<p>set variable player.text = [expression] player.text + 1</p>\n<p>// otherwise, maybe you can use the 'increase counter' script option ('variables' section/category -&gt; 'increase object counter' Script option), which I think looks something like this, along with my example's setup for it:</p>\n<p>object counter: [object] player [counter name] text</p>\n<p>// but this too may fail... meh....</p>\n<p>// this will definitely work, but I don't know how it's done in the GUI-Editor (as I don't/am-unable-to have quest open at the moment) (maybe you can find/figure it out, in how its done with the script options), but here's what it' looks like in code (using my example):</p>\n<p>set (player, text, GetAttribute (player, text) + 1)</p>\n<p>// or as separated scripts:</p>\n<p>incremented_value_variable = GetAttribute (player, text) + 1<br>\nset (player, text, incremented_value_variable)</p>\n<p>// or (same as above, just very slightly/minorly different):</p>\n<p>value_variable = GetAttribute (player, text)<br>\nset (player, text, value_variable + 1)</p>\n<hr>\n<p>this is a dynamic Command, letting you type in anything, and it checks if you've got such an attribute, and if you do, that attribute is increased by 1, so with my example you'd type in:</p>\n<p>increase shooter</p>\n<p>and pretending you had a 'strength' Integer Attribute as well, you could enter this as well:</p>\n<p>increase strength</p>\n<p>etc etc etc for any Integer Attribute that you've got/added to your 'player' Player Object</p>\n<hr>\n<p>in code, here's what my Command looks like:</p>\n<pre><code>&lt;command name=\"increase_attribute_command\"&gt;\n\n  &lt;pattern&gt;increase #text#&lt;/pattern&gt;\n\n  &lt;script&gt;\n    if (HasAttribute (player, text)) {\n      set (player, text, GetAttribute (player, text) + 1)\n    }\n  &lt;/script&gt;\n\n&lt;/command&gt;\n</code></pre>\n<hr>\n<p>if you don't want it to be dynamic, then just change the 'pattern' to NOT having the '#text#' in it and adjust the scripting, for an example (in code):</p>\n<pre><code>// you'd just type in: incr\n// to activate this 'increase_shooter_command' Command\n\n&lt;command name=\"increase_shooter_command\"&gt;\n\n  &lt;pattern&gt;incr&lt;/pattern&gt;\n\n  &lt;script&gt;\n    player.shooter = player.shooter + 1\n  &lt;/script&gt;\n\n&lt;/command&gt;\n</code></pre>\n\n",
      "PostDate": "2017-12-24T13:22:45.9799312Z",
      "LastEditDate": "2017-12-24T13:49:52.0941213Z",
      "link": null
    },
    {
      "PostId": "f964727d-25ce-4571-8edb-6368cc98985f",
      "UserId": 304102,
      "Username": "Doctor Agon",
      "AvatarUrl": "http://i.imgur.com/Lzd3mOwb.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Hi Laraqua,\r\nYour scripting for the command is fine, it works, your problem is that you've not set up the command correctly.\r\nYou need to fill in the box immediately below 'Command pattern/Regular expression' with what you want the player to type to execute the command, otherwise the command will not work and return the prompt 'I don't understand'.\r\neg. \r\n```^(push|pull|move) (?<object1>.*)$```\r\n```make bow;construct bow```\r\n```^cheat (?<text1>move|set|get) (?<text2>.+)$```\r\nor ```add shooter```\r\nUnderneath that then is the 'Name' box, this then is the name of the command, it is not essential, but can look a lot better in the 'game tree' than a lot of ```^(?```\r\neg.\r\n```push object```\r\n```make bow```\r\n```cheat```\r\nor ```add shooter```\r\nHope this helps you.\r\n\r\n",
      "EditableFormat": "markdown",
      "HTML": "<p>Hi Laraqua,<br>\nYour scripting for the command is fine, it works, your problem is that you've not set up the command correctly.<br>\nYou need to fill in the box immediately below 'Command pattern/Regular expression' with what you want the player to type to execute the command, otherwise the command will not work and return the prompt 'I don't understand'.<br>\neg.<br>\n<code>^(push|pull|move) (?&lt;object1&gt;.*)$</code><br>\n<code>make bow;construct bow</code><br>\n<code>^cheat (?&lt;text1&gt;move|set|get) (?&lt;text2&gt;.+)$</code><br>\nor <code>add shooter</code><br>\nUnderneath that then is the 'Name' box, this then is the name of the command, it is not essential, but can look a lot better in the 'game tree' than a lot of <code>^(?</code><br>\neg.<br>\n<code>push object</code><br>\n<code>make bow</code><br>\n<code>cheat</code><br>\nor <code>add shooter</code><br>\nHope this helps you.</p>\n\n",
      "PostDate": "2017-12-24T14:00:29.4917559Z",
      "LastEditDate": "2017-12-24T15:00:24.4642916Z",
      "link": null
    },
    {
      "PostId": "fc53046e-537b-4ebe-b9eb-b81afa0e02a6",
      "UserId": 262169,
      "Username": "Laraqua",
      "AvatarUrl": "https://secure.gravatar.com/avatar/62e7b4391dc6f205a4820699c027a564?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Hey again, okay I've tried the various script elements and it still not working.\r\n\r\nWhen I went with the simple player.shooter = EXPRESSION player.shooter + 1 it threw up the following error:\r\n\r\nError running script: Error compiling expression 'player.shooter + 1': ArithmeticElement: Operation 'Add' is not defined for types 'Object' and 'Int32'\r\n\r\nI get the same Error for: set (player, text, GetAttribute (player, text) + 1)\r\n\r\n\r\n",
      "EditableFormat": "markdown",
      "HTML": "<p>Hey again, okay I've tried the various script elements and it still not working.</p>\n<p>When I went with the simple player.shooter = EXPRESSION player.shooter + 1 it threw up the following error:</p>\n<p>Error running script: Error compiling expression 'player.shooter + 1': ArithmeticElement: Operation 'Add' is not defined for types 'Object' and 'Int32'</p>\n<p>I get the same Error for: set (player, text, GetAttribute (player, text) + 1)</p>\n\n",
      "PostDate": "2017-12-25T08:01:15.4885714Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "406ba858-35cd-488e-a8a5-59cdfe3ddaf7",
      "UserId": 260569,
      "Username": "DarkLizerd",
      "AvatarUrl": "https://i.imgur.com/vjdH3t6b.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Select the location where your add script is and make sure it reads this way...\r\n player.shooter = player.shooter + 1",
      "EditableFormat": "markdown",
      "HTML": "<p>Select the location where your add script is and make sure it reads this way...<br>\nplayer.shooter = player.shooter + 1</p>\n\n",
      "PostDate": "2017-12-25T21:05:36.2149808Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "3f7c23b5-e1cf-4cf7-b7a6-814048011f4b",
      "UserId": 318253,
      "Username": "K.V.",
      "AvatarUrl": "https://i.imgur.com/Te0Y5FPb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Also, make sure ```player.shooter``` exists as an integer attribute before the script runs.",
      "EditableFormat": "markdown",
      "HTML": "<p>Also, make sure <code>player.shooter</code> exists as an integer attribute before the script runs.</p>\n\n",
      "PostDate": "2017-12-25T21:50:34.3263677Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "9c695ae1-6cdd-4772-b968-19b205cfa7da",
      "UserId": 262169,
      "Username": "Laraqua",
      "AvatarUrl": "https://secure.gravatar.com/avatar/62e7b4391dc6f205a4820699c027a564?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "It might help if I show you guys the coding.  So here's the code that sits under player:\r\n\r\n```<displayverbs type=\"stringlist\">\r\n        <value>Look at</value>\r\n        <value>Add Shooter</value>\r\n        <value>Remove Shooter</value>\r\n      </displayverbs>\r\n      <statusattributes type=\"stringdictionary\">\r\n        <item>\r\n          <key>Shield</key>\r\n          <value></value>\r\n        </item>\r\n        <item>\r\n          <key>Stabber</key>\r\n          <value></value>\r\n        </item>\r\n        <item>\r\n          <key>Shooter</key>\r\n          <value></value>\r\n        </item>\r\n      </statusattributes>\r\n      <Shield type=\"int\">0</Shield>\r\n      <Stabber type=\"int\">0</Stabber>\r\n      <Shooter type=\"int\">0</Shooter>````\r\n\r\n**And this is the code that sits as a new Command:**\r\n\r\n````  <command name=\"increase_shooter_command\">\r\n    <pattern>increase shooter</pattern>\r\n    <scope type=\"string\"></scope>\r\n    <shooter type=\"simplepattern\"></shooter>\r\n    <script>\r\n      player.shooter = player.shooter + 1\r\n    </script>\r\n  </command>````\r\n",
      "EditableFormat": "markdown",
      "HTML": "<p>It might help if I show you guys the coding.  So here's the code that sits under player:</p>\n<pre><code>        &lt;value&gt;Look at&lt;/value&gt;\n        &lt;value&gt;Add Shooter&lt;/value&gt;\n        &lt;value&gt;Remove Shooter&lt;/value&gt;\n      &lt;/displayverbs&gt;\n      &lt;statusattributes type=\"stringdictionary\"&gt;\n        &lt;item&gt;\n          &lt;key&gt;Shield&lt;/key&gt;\n          &lt;value&gt;&lt;/value&gt;\n        &lt;/item&gt;\n        &lt;item&gt;\n          &lt;key&gt;Stabber&lt;/key&gt;\n          &lt;value&gt;&lt;/value&gt;\n        &lt;/item&gt;\n        &lt;item&gt;\n          &lt;key&gt;Shooter&lt;/key&gt;\n          &lt;value&gt;&lt;/value&gt;\n        &lt;/item&gt;\n      &lt;/statusattributes&gt;\n      &lt;Shield type=\"int\"&gt;0&lt;/Shield&gt;\n      &lt;Stabber type=\"int\"&gt;0&lt;/Stabber&gt;\n      &lt;Shooter type=\"int\"&gt;0&lt;/Shooter&gt;````\n\n**And this is the code that sits as a new Command:**\n\n````  &lt;command name=\"increase_shooter_command\"&gt;\n    &lt;pattern&gt;increase shooter&lt;/pattern&gt;\n    &lt;scope type=\"string\"&gt;&lt;/scope&gt;\n    &lt;shooter type=\"simplepattern\"&gt;&lt;/shooter&gt;\n    &lt;script&gt;\n      player.shooter = player.shooter + 1\n    &lt;/script&gt;\n  &lt;/command&gt;````\n</code></pre>\n\n",
      "PostDate": "2017-12-26T00:07:30.3915779Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "0ef7af8d-ac7e-48ce-9013-37c6423104d3",
      "UserId": 318253,
      "Username": "K.V.",
      "AvatarUrl": "https://i.imgur.com/Te0Y5FPb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "```\r\n<Shooter type=\"int\">0</Shooter>\r\n```\r\n\r\nQuest is case-sensitive, so you need to do ```player.Shooter = player.Shooter + 1```.",
      "EditableFormat": "markdown",
      "HTML": "<pre><code>&lt;Shooter type=\"int\"&gt;0&lt;/Shooter&gt;\n</code></pre>\n<p>Quest is case-sensitive, so you need to do <code>player.Shooter = player.Shooter + 1</code>.</p>\n\n",
      "PostDate": "2017-12-26T00:57:10.1290308Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "6eaf5265-606b-429f-9443-67163078cb0f",
      "UserId": 262169,
      "Username": "Laraqua",
      "AvatarUrl": "https://secure.gravatar.com/avatar/62e7b4391dc6f205a4820699c027a564?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "It worked!  Thank you K.V!",
      "EditableFormat": "markdown",
      "HTML": "<p>It worked!  Thank you K.V!</p>\n\n",
      "PostDate": "2017-12-26T08:50:15.768223Z",
      "LastEditDate": null,
      "link": null
    }
  ]
}
