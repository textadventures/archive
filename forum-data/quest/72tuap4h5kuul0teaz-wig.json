{
  "Topic": {
    "TopicId": "72tuap4h5kuul0teaz-wig",
    "ForumId": "10",
    "Title": "Pull down a list of items to throw at",
    "LastUpdated": "2021-01-26T21:22:04.0007026Z",
    "ReplyCount": 0
  },
  "Posts": [
    {
      "PostId": "b9dce478-0b5b-437c-8af0-926b90de8716",
      "UserId": 267336,
      "Username": "jmnevil54",
      "AvatarUrl": "https://secure.gravatar.com/avatar/5d73d7ec1dbe20a5cb46f02a6d53f187?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "So I have a command called throw 2, with a pattern of ```Throw #object1# at #object2#```. The code looks like this:\r\n\r\n```\r\nif (game.pov.parent = The Temple) {\r\n  firsttime {\r\n    msg (\"You threw the Cookie Cat Fridge at the Centipeetle!<br/>Bzzzt!<br/>Centipeetle was shocked!<br/>Centipeetle was poofed!<br/>Centipeetle was defeated!\")\r\n    MoveObject (object1, object2)\r\n    Centipeetle.dead = true\r\n    RemoveObject (Centipeetle)\r\n    game.Centipeetledefeat = true\r\n    player.exp = player.exp + 20\r\n    player.infight = false\r\n    levelup\r\n    msg (\"Steven Universe gained 20 exp!\")\r\n    list add (game.rooms, Sea Spire)\r\n  }\r\n  otherwise {\r\n    msg (\"You can't do it twice!\")\r\n  }\r\n}\r\n```\r\nI have the throw command on a cookie cat fridge that I want to throw at a Centipeetle. I want it so that when a player clicks throw on the verb, a list of items in the room is shown. How do I do this?",
      "EditableFormat": "markdown",
      "HTML": "<p>So I have a command called throw 2, with a pattern of <code>Throw #object1# at #object2#</code>. The code looks like this:</p>\n<pre><code>if (game.pov.parent = The Temple) {\n  firsttime {\n    msg (\"You threw the Cookie Cat Fridge at the Centipeetle!&lt;br/&gt;Bzzzt!&lt;br/&gt;Centipeetle was shocked!&lt;br/&gt;Centipeetle was poofed!&lt;br/&gt;Centipeetle was defeated!\")\n    MoveObject (object1, object2)\n    Centipeetle.dead = true\n    RemoveObject (Centipeetle)\n    game.Centipeetledefeat = true\n    player.exp = player.exp + 20\n    player.infight = false\n    levelup\n    msg (\"Steven Universe gained 20 exp!\")\n    list add (game.rooms, Sea Spire)\n  }\n  otherwise {\n    msg (\"You can't do it twice!\")\n  }\n}\n</code></pre>\n<p>I have the throw command on a cookie cat fridge that I want to throw at a Centipeetle. I want it so that when a player clicks throw on the verb, a list of items in the room is shown. How do I do this?</p>\n\n",
      "PostDate": "2021-01-26T21:22:04.0007026Z",
      "LastEditDate": "2021-01-26T21:24:03.6186891Z",
      "link": null
    },
    {
      "PostId": "010d822e-e890-4110-bae3-eea1972dda36",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "You'd presumably want to give the object a `throw` verb; something like:\r\n```\r\ntargets = ScopeVisibleNotHeldNotScenery()\r\nif (not Got (this)) {\r\n  msg (\"You can only throw it if you have it.\")\r\n}\r\nelse if (ListCount(targets) = 0) {\r\n  msg (\"There is nothing to throw it at.\")\r\n}\r\nelse {\r\n  throw.projectile = this\r\n  ShowMenu (\"Throw it at what?\", targets, true) {\r\n    do (throw 2, \"script\", QuickParams (\"object1\", throw.projectile, \"object2\", GetObject(result)))\r\n  }\r\n}\r\n```",
      "EditableFormat": "markdown",
      "HTML": "<p>You'd presumably want to give the object a <code>throw</code> verb; something like:</p>\n<pre><code>targets = ScopeVisibleNotHeldNotScenery()\nif (not Got (this)) {\n  msg (\"You can only throw it if you have it.\")\n}\nelse if (ListCount(targets) = 0) {\n  msg (\"There is nothing to throw it at.\")\n}\nelse {\n  throw.projectile = this\n  ShowMenu (\"Throw it at what?\", targets, true) {\n    do (throw 2, \"script\", QuickParams (\"object1\", throw.projectile, \"object2\", GetObject(result)))\n  }\n}\n</code></pre>\n\n",
      "PostDate": "2021-01-27T01:41:14.3228994Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "99cdccc3-9d92-4979-93ce-7327c662f57d",
      "UserId": 267336,
      "Username": "jmnevil54",
      "AvatarUrl": "https://secure.gravatar.com/avatar/5d73d7ec1dbe20a5cb46f02a6d53f187?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Let me see if the code works...\r\n\r\nIt gave an error saying it didn't know what object or command throw 2 was.\r\n\r\nAlso when I play the game, it displays throw as a display verb, and even when I look back at it in edit view, there is no throw verb there.",
      "EditableFormat": "markdown",
      "HTML": "<p>Let me see if the code works...</p>\n<p>It gave an error saying it didn't know what object or command throw 2 was.</p>\n<p>Also when I play the game, it displays throw as a display verb, and even when I look back at it in edit view, there is no throw verb there.</p>\n\n",
      "PostDate": "2021-01-27T02:04:38.0379233Z",
      "LastEditDate": "2021-01-27T02:22:19.5806907Z",
      "link": null
    },
    {
      "PostId": "b4425cd1-43ce-44ed-a9a4-9cb3a812cb65",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "> It gave an error saying it didn't know what object or command throw 2 was.\r\n\r\nYou said you have a command called throw 2.\r\nCheck that the spelling/spacing/capitalisation is the same.\r\n\r\n> Also when I play the game, it displays throw as a display verb, and even when I look back at it in edit view, there is no throw verb there.\r\n\r\nThat's how automatically generated verb lists work.\r\n\r\nIf you'd rather have `throw` as a command, the script would work the same, just changing `this` to `object`. Or you could turn off the automatic verb list for that object.",
      "EditableFormat": "markdown",
      "HTML": "<blockquote>\n<p>It gave an error saying it didn't know what object or command throw 2 was.</p>\n</blockquote>\n<p>You said you have a command called throw 2.<br>\nCheck that the spelling/spacing/capitalisation is the same.</p>\n<blockquote>\n<p>Also when I play the game, it displays throw as a display verb, and even when I look back at it in edit view, there is no throw verb there.</p>\n</blockquote>\n<p>That's how automatically generated verb lists work.</p>\n<p>If you'd rather have <code>throw</code> as a command, the script would work the same, just changing <code>this</code> to <code>object</code>. Or you could turn off the automatic verb list for that object.</p>\n\n",
      "PostDate": "2021-01-27T13:05:53.1014817Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "e664862b-19b6-4c45-a928-9ee83b7de19f",
      "UserId": 267336,
      "Username": "jmnevil54",
      "AvatarUrl": "https://secure.gravatar.com/avatar/5d73d7ec1dbe20a5cb46f02a6d53f187?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": ">You said you have a command called throw 2.\r\nCheck that the spelling/spacing/capitalisation is the same.\r\n\r\nAlright, I'll do that.\r\n\r\n>If you'd rather have throw as a command, the script would work the same, just changing this to object. Or you could turn off the automatic verb list for that object.\r\n\r\nYes, I would like that.",
      "EditableFormat": "markdown",
      "HTML": "<blockquote>\n<p>You said you have a command called throw 2.<br>\nCheck that the spelling/spacing/capitalisation is the same.</p>\n</blockquote>\n<p>Alright, I'll do that.</p>\n<blockquote>\n<p>If you'd rather have throw as a command, the script would work the same, just changing this to object. Or you could turn off the automatic verb list for that object.</p>\n</blockquote>\n<p>Yes, I would like that.</p>\n\n",
      "PostDate": "2021-01-27T14:09:33.6784112Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "46b3ff0a-0b80-45ba-a119-7dcb2a2b5dbf",
      "UserId": 267336,
      "Username": "jmnevil54",
      "AvatarUrl": "https://secure.gravatar.com/avatar/5d73d7ec1dbe20a5cb46f02a6d53f187?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Hey, I got it to work!\r\n\r\nJust so we're clear, I also have a Toss command which works the same way. Will this work?\r\n```\r\ntargets = ScopeVisibleNotHeldNotScenery()\r\nif (not Got (this)) {\r\n  msg (\"You can only toss it if you have it.\")\r\n}\r\nelse if (ListCount(targets) = 0) {\r\n  msg (\"There is nothing to toss it at.\")\r\n}\r\nelse {\r\n  toss.projectile = this\r\n  ShowMenu (\"Toss it at what?\", targets, true) {\r\n    do (Toss, \"script\", QuickParams (\"object1\", toss.projectile, \"object2\", GetObject(result)))\r\n  }\r\n}\r\n```",
      "EditableFormat": "markdown",
      "HTML": "<p>Hey, I got it to work!</p>\n<p>Just so we're clear, I also have a Toss command which works the same way. Will this work?</p>\n<pre><code>targets = ScopeVisibleNotHeldNotScenery()\nif (not Got (this)) {\n  msg (\"You can only toss it if you have it.\")\n}\nelse if (ListCount(targets) = 0) {\n  msg (\"There is nothing to toss it at.\")\n}\nelse {\n  toss.projectile = this\n  ShowMenu (\"Toss it at what?\", targets, true) {\n    do (Toss, \"script\", QuickParams (\"object1\", toss.projectile, \"object2\", GetObject(result)))\n  }\n}\n</code></pre>\n\n",
      "PostDate": "2021-01-27T18:14:32.3027042Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "7f398b78-e6e6-4fe2-a00a-9105839225ad",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "So `toss` is the verb, and `Toss` is a command with an `#object1#` and `#object2#` in its pattern?\r\nIn that case it should work fine.",
      "EditableFormat": "markdown",
      "HTML": "<p>So <code>toss</code> is the verb, and <code>Toss</code> is a command with an <code>#object1#</code> and <code>#object2#</code> in its pattern?<br>\nIn that case it should work fine.</p>\n\n",
      "PostDate": "2021-01-27T23:36:14.388697Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "36f2cdbc-5c80-4946-a958-efd3cff42448",
      "UserId": 267336,
      "Username": "jmnevil54",
      "AvatarUrl": "https://secure.gravatar.com/avatar/5d73d7ec1dbe20a5cb46f02a6d53f187?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Okay, nevermind, now that I play it I keep getting errors.\r\n>turn off the automatic verb list for that object\r\n\r\nTurning off the automatic verb list only makes it so the default verbs and the made verbs show up, even if I try adding a verb list in the interface script.\r\n\r\nThis is what I want:\r\n```\r\n  this.displayverbs = Split(\"Look at;Take\", \";\")\r\n  this.inventoryverbs = Split(\"Look at;Throw\")\r\n```",
      "EditableFormat": "markdown",
      "HTML": "<p>Okay, nevermind, now that I play it I keep getting errors.</p>\n<blockquote>\n<p>turn off the automatic verb list for that object</p>\n</blockquote>\n<p>Turning off the automatic verb list only makes it so the default verbs and the made verbs show up, even if I try adding a verb list in the interface script.</p>\n<p>This is what I want:</p>\n<pre><code>  this.displayverbs = Split(\"Look at;Take\", \";\")\n  this.inventoryverbs = Split(\"Look at;Throw\")\n</code></pre>\n\n",
      "PostDate": "2021-01-28T00:01:00.5158963Z",
      "LastEditDate": "2021-01-28T03:57:18.2876233Z",
      "link": null
    },
    {
      "PostId": "d9cf010e-ab89-42f2-8abd-ecfc78f60210",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "An object has 3 verb lists:\r\n\r\n* `this.displayverbs` is shown when it's in the room - you can edit it on the \"Object\" tab\r\n* `this.inventoryverbs` is shown when it's in the inventory - you can edit it on the \"Object\" tab\r\n* `this.generatedverbslist` is a list that is generated the first time the player sees the object, containing the object's verbs (from the Verbs tab; or any verbs that have the same name as one of the object's attributes)\r\n\r\n`generatedverbslist` appears whether the object is in the room or the inventory, so if you want a verb to only appear when it's in the inventory, you will either need to disable the generated verbs list (untick \"Automatically generate object display verbs list\" on the game's \"Room Descriptions\" tab; or for one object tick \"Disable automatically generated display verb list for this object\" on the object's Object tab), or you could give the object an initialisation script with:\r\n```\r\nthis.generatedverbslist = NewStringList()\r\n```",
      "EditableFormat": "markdown",
      "HTML": "<p>An object has 3 verb lists:</p>\n<ul>\n<li><code>this.displayverbs</code> is shown when it's in the room - you can edit it on the \"Object\" tab</li>\n<li><code>this.inventoryverbs</code> is shown when it's in the inventory - you can edit it on the \"Object\" tab</li>\n<li><code>this.generatedverbslist</code> is a list that is generated the first time the player sees the object, containing the object's verbs (from the Verbs tab; or any verbs that have the same name as one of the object's attributes)</li>\n</ul>\n<p><code>generatedverbslist</code> appears whether the object is in the room or the inventory, so if you want a verb to only appear when it's in the inventory, you will either need to disable the generated verbs list (untick \"Automatically generate object display verbs list\" on the game's \"Room Descriptions\" tab; or for one object tick \"Disable automatically generated display verb list for this object\" on the object's Object tab), or you could give the object an initialisation script with:</p>\n<pre><code>this.generatedverbslist = NewStringList()\n</code></pre>\n\n",
      "PostDate": "2021-01-28T01:26:50.8410946Z",
      "LastEditDate": null,
      "link": null
    }
  ]
}
