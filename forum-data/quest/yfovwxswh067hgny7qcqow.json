{
  "Topic": {
    "TopicId": "yfovwxswh067hgny7qcqow",
    "ForumId": "10",
    "Title": "[Solved] Problems running custom commands with other scripts",
    "LastUpdated": "2018-01-19T04:12:10.4073195Z",
    "ReplyCount": 0
  },
  "Posts": [
    {
      "PostId": "8e7d8c82-9c5a-4550-9d2c-c3b393e364f4",
      "UserId": 341165,
      "Username": "chaosp",
      "AvatarUrl": "https://secure.gravatar.com/avatar/12507a7d846524beeb58ad0fe2018dd4?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Hi bit of a beginner here and I'm stuck trying to get custom commands running with other scripts. For example I have a custom command _fight_ with the command pattern ```fight #object#``` which initiates the very basic combat system I have made. This works fine when I have the player input \"fight orc\" for example, but I would like to have combat initiated at other times, eg the player enters a room and a script starts the fight process automatically.\r\n\r\nI have tried using the _do_ script so that when a player enters the room the script runs (```do (orc, \"fight\")``` for example) but that produces an \"**Object reference not set to an instance of an object**\" error. Is there a way to replicate the player typing \"fight orc\" using a script?\r\n\r\nMany thanks for your help.",
      "EditableFormat": "markdown",
      "HTML": "<p>Hi bit of a beginner here and I'm stuck trying to get custom commands running with other scripts. For example I have a custom command <em>fight</em> with the command pattern <code>fight #object#</code> which initiates the very basic combat system I have made. This works fine when I have the player input \"fight orc\" for example, but I would like to have combat initiated at other times, eg the player enters a room and a script starts the fight process automatically.</p>\n<p>I have tried using the <em>do</em> script so that when a player enters the room the script runs (<code>do (orc, \"fight\")</code> for example) but that produces an \"<strong>Object reference not set to an instance of an object</strong>\" error. Is there a way to replicate the player typing \"fight orc\" using a script?</p>\n<p>Many thanks for your help.</p>\n\n",
      "PostDate": "2018-01-19T04:12:10.4073195Z",
      "LastEditDate": "2018-01-19T05:25:47.1696788Z",
      "link": null
    },
    {
      "PostId": "41dab738-1a41-4e5e-a44d-6297505a55df",
      "UserId": 247325,
      "Username": "hegemonkhan",
      "AvatarUrl": "https://secure.gravatar.com/avatar/a96cf34d8d97c57de38f54ee22b1759b?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "(filler for getting my edited post, updated/posted)\r\n\r\n----------------\r\n\r\nHK edit: changed the 'do (XXX)' to 'rundelegate (XXX)' for the 2nd code sample, which uses Objects+Script_Attribute+Delegate, as I forgot to switch it over until just now (sorry about that).\r\n\r\n-------------\r\n\r\nthere's probably a way to do/call/use/activate a Command, but I'm not sure how it's done... others may be able to help you with it... you can try this...\r\n\r\n(replace my upper-case with your coding's labeling/naming)\r\n\r\ndo (NAME_OF_COMMAND, \"script\")\r\n// or:\r\ndo (NAME_OF_COMMAND, \"script\", NAME_OF_MONSTER)\r\n\r\n-----------------\r\n\r\nalternative methods would be to have your 'fight' Command's scripting be within either: a Function or an Object+Script_Attribute+(optional: Delegate):\r\n\r\nsimple example (using a Function):\r\n\r\n```\r\n<object name=\"room\">\r\n</object>\r\n\r\n<object name=\"player\">\r\n  <inherit name=\"editor_object\" />\r\n  <inherit name=\"editor_player\" />\r\n  <attr name=\"parent\" type=\"object\">room</attr>\r\n</object>\r\n\r\n<object name=\"orc\">\r\n  <inherit name=\"monster_type\" />\r\n  <attr name=\"parent\" type=\"object\">room</attr>\r\n</object>\r\n\r\n<object name=\"ogre\">\r\n  <inherit name=\"monster_type\" />\r\n  <attr name=\"parent\" type=\"object\">room</attr>\r\n</object>\r\n\r\n<type name=\"monster_type\">\r\n  <attr name=\"fight\" type=\"script\">\r\n    fight_function (this)\r\n  </attr>\r\n</type>\r\n\r\n<command name=\"fight_command\">\r\n  <pattern>fight #object#</pattern>\r\n  <script>\r\n    fight_function (object)\r\n  </script>\r\n  <unresolved>Error: Object not found within the current room</unresolved>\r\n</command>\r\n\r\n<function name=\"fight_function\" parameters=\"enemy_object_parameter\">\r\n  // your fight function's scripting using 'enemy_object_parameter'\r\n</function>\r\n\r\n<verb>\r\n  <property>fight</property>\r\n  <pattern>fight</pattern>\r\n  <defaultexpression>You can't fight that!</defaultexpression>\r\n</verb>\r\n```\r\n\r\nsimple example (using an: Object + Script Attribute + Delegate):\r\n\r\n```\r\n<delegate name=\"fight_delegate\" parameters=\"enemy_object_parameter\" />\r\n\r\n<game name=\"example_game\">\r\n</game>\r\n\r\n<object name=\"room\">\r\n</object>\r\n\r\n<object name=\"player\">\r\n  <inherit name=\"editor_object\" />\r\n  <inherit name=\"editor_player\" />\r\n  <attr name=\"parent\" type=\"object\">room</attr>\r\n</object>\r\n\r\n<object name=\"orc\">\r\n  <inherit name=\"monster_type\" />\r\n  <attr name=\"parent\" type=\"object\">room</attr>\r\n</object>\r\n\r\n<object name=\"ogre\">\r\n  <inherit name=\"monster_type\" />\r\n  <attr name=\"parent\" type=\"object\">room</attr>\r\n</object>\r\n\r\n<object name=\"fight_object\">\r\n  <attr name=\"fight_script_attribute\" type=\"fight_delegate\">\r\n    // your fight scripting using 'enemy_object_parameter'\r\n  </attr>\r\n</object>\r\n\r\n<type name=\"monster_type\">\r\n  <attr name=\"fight\" type=\"script\">\r\n    rundelegate (fight_object, \"fight_script_attribute\", this)\r\n  </attr>\r\n</type>\r\n\r\n<command name=\"fight_command\">\r\n  <pattern>fight #object#</pattern>\r\n  <script>\r\n    rundelegate (fight_object, \"fight_script_attribute\", object)\r\n  </script>\r\n  <unresolved>Error: Object not found within the current room</unresolved>\r\n</command>\r\n\r\n<verb>\r\n  <property>fight</property>\r\n  <pattern>fight</pattern>\r\n  <defaultexpression>You can't fight that!</defaultexpression>\r\n</verb>\r\n```",
      "EditableFormat": "markdown",
      "HTML": "<p>(filler for getting my edited post, updated/posted)</p>\n<hr>\n<p>HK edit: changed the 'do (XXX)' to 'rundelegate (XXX)' for the 2nd code sample, which uses Objects+Script_Attribute+Delegate, as I forgot to switch it over until just now (sorry about that).</p>\n<hr>\n<p>there's probably a way to do/call/use/activate a Command, but I'm not sure how it's done... others may be able to help you with it... you can try this...</p>\n<p>(replace my upper-case with your coding's labeling/naming)</p>\n<p>do (NAME_OF_COMMAND, \"script\")<br>\n// or:<br>\ndo (NAME_OF_COMMAND, \"script\", NAME_OF_MONSTER)</p>\n<hr>\n<p>alternative methods would be to have your 'fight' Command's scripting be within either: a Function or an Object+Script_Attribute+(optional: Delegate):</p>\n<p>simple example (using a Function):</p>\n<pre><code>&lt;object name=\"room\"&gt;\n&lt;/object&gt;\n\n&lt;object name=\"player\"&gt;\n  &lt;inherit name=\"editor_object\" /&gt;\n  &lt;inherit name=\"editor_player\" /&gt;\n  &lt;attr name=\"parent\" type=\"object\"&gt;room&lt;/attr&gt;\n&lt;/object&gt;\n\n&lt;object name=\"orc\"&gt;\n  &lt;inherit name=\"monster_type\" /&gt;\n  &lt;attr name=\"parent\" type=\"object\"&gt;room&lt;/attr&gt;\n&lt;/object&gt;\n\n&lt;object name=\"ogre\"&gt;\n  &lt;inherit name=\"monster_type\" /&gt;\n  &lt;attr name=\"parent\" type=\"object\"&gt;room&lt;/attr&gt;\n&lt;/object&gt;\n\n&lt;type name=\"monster_type\"&gt;\n  &lt;attr name=\"fight\" type=\"script\"&gt;\n    fight_function (this)\n  &lt;/attr&gt;\n&lt;/type&gt;\n\n&lt;command name=\"fight_command\"&gt;\n  &lt;pattern&gt;fight #object#&lt;/pattern&gt;\n  &lt;script&gt;\n    fight_function (object)\n  &lt;/script&gt;\n  &lt;unresolved&gt;Error: Object not found within the current room&lt;/unresolved&gt;\n&lt;/command&gt;\n\n&lt;function name=\"fight_function\" parameters=\"enemy_object_parameter\"&gt;\n  // your fight function's scripting using 'enemy_object_parameter'\n&lt;/function&gt;\n\n&lt;verb&gt;\n  &lt;property&gt;fight&lt;/property&gt;\n  &lt;pattern&gt;fight&lt;/pattern&gt;\n  &lt;defaultexpression&gt;You can't fight that!&lt;/defaultexpression&gt;\n&lt;/verb&gt;\n</code></pre>\n<p>simple example (using an: Object + Script Attribute + Delegate):</p>\n<pre><code>&lt;delegate name=\"fight_delegate\" parameters=\"enemy_object_parameter\" /&gt;\n\n&lt;game name=\"example_game\"&gt;\n&lt;/game&gt;\n\n&lt;object name=\"room\"&gt;\n&lt;/object&gt;\n\n&lt;object name=\"player\"&gt;\n  &lt;inherit name=\"editor_object\" /&gt;\n  &lt;inherit name=\"editor_player\" /&gt;\n  &lt;attr name=\"parent\" type=\"object\"&gt;room&lt;/attr&gt;\n&lt;/object&gt;\n\n&lt;object name=\"orc\"&gt;\n  &lt;inherit name=\"monster_type\" /&gt;\n  &lt;attr name=\"parent\" type=\"object\"&gt;room&lt;/attr&gt;\n&lt;/object&gt;\n\n&lt;object name=\"ogre\"&gt;\n  &lt;inherit name=\"monster_type\" /&gt;\n  &lt;attr name=\"parent\" type=\"object\"&gt;room&lt;/attr&gt;\n&lt;/object&gt;\n\n&lt;object name=\"fight_object\"&gt;\n  &lt;attr name=\"fight_script_attribute\" type=\"fight_delegate\"&gt;\n    // your fight scripting using 'enemy_object_parameter'\n  &lt;/attr&gt;\n&lt;/object&gt;\n\n&lt;type name=\"monster_type\"&gt;\n  &lt;attr name=\"fight\" type=\"script\"&gt;\n    rundelegate (fight_object, \"fight_script_attribute\", this)\n  &lt;/attr&gt;\n&lt;/type&gt;\n\n&lt;command name=\"fight_command\"&gt;\n  &lt;pattern&gt;fight #object#&lt;/pattern&gt;\n  &lt;script&gt;\n    rundelegate (fight_object, \"fight_script_attribute\", object)\n  &lt;/script&gt;\n  &lt;unresolved&gt;Error: Object not found within the current room&lt;/unresolved&gt;\n&lt;/command&gt;\n\n&lt;verb&gt;\n  &lt;property&gt;fight&lt;/property&gt;\n  &lt;pattern&gt;fight&lt;/pattern&gt;\n  &lt;defaultexpression&gt;You can't fight that!&lt;/defaultexpression&gt;\n&lt;/verb&gt;\n</code></pre>\n\n",
      "PostDate": "2018-01-19T04:40:15.5318503Z",
      "LastEditDate": "2018-01-19T06:33:02.3218625Z",
      "link": null
    },
    {
      "PostId": "ad632cc0-5cc3-4f7d-8683-af0f4d44bcf8",
      "UserId": 318253,
      "Username": "K.V.",
      "AvatarUrl": "https://i.imgur.com/mBf7TBeb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "It's not a clone of an orc, is it?",
      "EditableFormat": "markdown",
      "HTML": "<p>It's not a clone of an orc, is it?</p>\n\n",
      "PostDate": "2018-01-19T04:43:53.1987669Z",
      "LastEditDate": "2018-01-19T04:45:20.8766998Z",
      "link": null
    },
    {
      "PostId": "44bb79cb-bd0f-47e7-8187-68ce15852a51",
      "UserId": 341165,
      "Username": "chaosp",
      "AvatarUrl": "https://secure.gravatar.com/avatar/12507a7d846524beeb58ad0fe2018dd4?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Thank you for your quick reply. I tried the variations of the``` do (NAME_OF_COMMAND, \"script\")``` you suggested but no luck. I think the idea of putting the fight scripting into a function is probably the way to go (I've not had any experience with Object+Script_Attribute+(optional: Delegate)).\r\n\r\nThanks again, I'll post back if I get the function version working.",
      "EditableFormat": "markdown",
      "HTML": "<p>Thank you for your quick reply. I tried the variations of the<code>do (NAME_OF_COMMAND, \"script\")</code> you suggested but no luck. I think the idea of putting the fight scripting into a function is probably the way to go (I've not had any experience with Object+Script_Attribute+(optional: Delegate)).</p>\n<p>Thanks again, I'll post back if I get the function version working.</p>\n\n",
      "PostDate": "2018-01-19T05:00:58.0946277Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "6baa888c-7f63-45de-8408-772619fbc622",
      "UserId": 341165,
      "Username": "chaosp",
      "AvatarUrl": "https://secure.gravatar.com/avatar/12507a7d846524beeb58ad0fe2018dd4?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Hi K.V, no it's unique orc (eg orc1). I've tried with other objects as well and still have the same problem.",
      "EditableFormat": "markdown",
      "HTML": "<p>Hi K.V, no it's unique orc (eg orc1). I've tried with other objects as well and still have the same problem.</p>\n\n",
      "PostDate": "2018-01-19T05:03:43.7107491Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "73c8153d-70a8-45b5-b200-a9e9e519f5b3",
      "UserId": 318253,
      "Username": "K.V.",
      "AvatarUrl": "https://i.imgur.com/mBf7TBeb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "See if this example game helps you.\r\n\r\nI am cloning an orc, but the script will work on the original orc as well.  (So, it doesn't matter if you're using clones or not.)\r\n\r\n```\r\n<!--Saved by Quest 5.8.6590.33649-->\r\n<asl version=\"550\">\r\n  <include ref=\"English.aslx\" />\r\n  <include ref=\"Core.aslx\" />\r\n  <game name=\"Orc Fight\">\r\n    <gameid>c92ed3ee-24d4-4aac-ba77-e3de5d58a7ff</gameid>\r\n    <version>1.0</version>\r\n    <firstpublished>2018</firstpublished>\r\n  </game>\r\n  <object name=\"room\">\r\n    <inherit name=\"editor_room\" />\r\n    <beforeenter type=\"script\">\r\n      clone = CloneObjectAndMoveHere(orc)\r\n      clone.proto = orc\r\n      clone.alias = \"orc clone\"\r\n    </beforeenter>\r\n    <object name=\"player\">\r\n      <inherit name=\"editor_object\" />\r\n      <inherit name=\"editor_player\" />\r\n    </object>\r\n    <object name=\"orc\">\r\n      <inherit name=\"editor_object\" />\r\n      <look type=\"script\">\r\n        if (HasAttribute(this,\"fallen\") and GetBoolean(this,\"fallen\")) {\r\n          msg (\"The orc is out cold.\")\r\n        }\r\n        else {\r\n          msg (\"The orc looks like it wants to {command:fight orc:fight}!\")\r\n        }\r\n      </look>\r\n      <fight type=\"script\"><![CDATA[\r\n        if (HasAttribute(this,\"fallen\") and GetBoolean(this,\"fallen\")) {\r\n          msg (\"The orc is already down.\")\r\n        }\r\n        else {\r\n          msg (\"You attack the orc.\")\r\n          if (RandomChance(75)) {\r\n            msg (\"<br/>The orc falls.\")\r\n            this.alias = \"fallen orc\"\r\n            this.fallen = true\r\n          }\r\n        }\r\n      ]]></fight>\r\n    </object>\r\n  </object>\r\n  <command name=\"fight_cmd\">\r\n    <pattern>fight #object#</pattern>\r\n    <unresolved>You can't fight something that isn't here.</unresolved>\r\n    <script>\r\n      if (HasAttribute(object,\"fight\")) {\r\n        do (object, \"fight\")\r\n      }\r\n      else {\r\n        msg (\"You can't fight \"+object.article+\".\")\r\n      }\r\n    </script>\r\n  </command>\r\n</asl>\r\n```",
      "EditableFormat": "markdown",
      "HTML": "<p>See if this example game helps you.</p>\n<p>I am cloning an orc, but the script will work on the original orc as well.  (So, it doesn't matter if you're using clones or not.)</p>\n<pre><code>&lt;!--Saved by Quest 5.8.6590.33649--&gt;\n&lt;asl version=\"550\"&gt;\n  &lt;include ref=\"English.aslx\" /&gt;\n  &lt;include ref=\"Core.aslx\" /&gt;\n  &lt;game name=\"Orc Fight\"&gt;\n    &lt;gameid&gt;c92ed3ee-24d4-4aac-ba77-e3de5d58a7ff&lt;/gameid&gt;\n    &lt;version&gt;1.0&lt;/version&gt;\n    &lt;firstpublished&gt;2018&lt;/firstpublished&gt;\n  &lt;/game&gt;\n  &lt;object name=\"room\"&gt;\n    &lt;inherit name=\"editor_room\" /&gt;\n    &lt;beforeenter type=\"script\"&gt;\n      clone = CloneObjectAndMoveHere(orc)\n      clone.proto = orc\n      clone.alias = \"orc clone\"\n    &lt;/beforeenter&gt;\n    &lt;object name=\"player\"&gt;\n      &lt;inherit name=\"editor_object\" /&gt;\n      &lt;inherit name=\"editor_player\" /&gt;\n    &lt;/object&gt;\n    &lt;object name=\"orc\"&gt;\n      &lt;inherit name=\"editor_object\" /&gt;\n      &lt;look type=\"script\"&gt;\n        if (HasAttribute(this,\"fallen\") and GetBoolean(this,\"fallen\")) {\n          msg (\"The orc is out cold.\")\n        }\n        else {\n          msg (\"The orc looks like it wants to {command:fight orc:fight}!\")\n        }\n      &lt;/look&gt;\n      &lt;fight type=\"script\"&gt;&lt;![CDATA[\n        if (HasAttribute(this,\"fallen\") and GetBoolean(this,\"fallen\")) {\n          msg (\"The orc is already down.\")\n        }\n        else {\n          msg (\"You attack the orc.\")\n          if (RandomChance(75)) {\n            msg (\"&lt;br/&gt;The orc falls.\")\n            this.alias = \"fallen orc\"\n            this.fallen = true\n          }\n        }\n      ]]&gt;&lt;/fight&gt;\n    &lt;/object&gt;\n  &lt;/object&gt;\n  &lt;command name=\"fight_cmd\"&gt;\n    &lt;pattern&gt;fight #object#&lt;/pattern&gt;\n    &lt;unresolved&gt;You can't fight something that isn't here.&lt;/unresolved&gt;\n    &lt;script&gt;\n      if (HasAttribute(object,\"fight\")) {\n        do (object, \"fight\")\n      }\n      else {\n        msg (\"You can't fight \"+object.article+\".\")\n      }\n    &lt;/script&gt;\n  &lt;/command&gt;\n&lt;/asl&gt;\n</code></pre>\n\n",
      "PostDate": "2018-01-19T05:05:33.2916626Z",
      "LastEditDate": "2018-01-19T05:09:16.7794331Z",
      "link": null
    },
    {
      "PostId": "8b707185-a7e3-4c48-b633-55f03f8462eb",
      "UserId": 341165,
      "Username": "chaosp",
      "AvatarUrl": "https://secure.gravatar.com/avatar/12507a7d846524beeb58ad0fe2018dd4?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Thank you for everyone's help, I managed to get it working (as  hegemonkhan suggested) by moving my fight script from the custom command _fight_ to a function, and then calling the function whenever I needed to initiate combat. Thank you both for you sample game codes, I've learned lots from going through them!",
      "EditableFormat": "markdown",
      "HTML": "<p>Thank you for everyone's help, I managed to get it working (as  hegemonkhan suggested) by moving my fight script from the custom command <em>fight</em> to a function, and then calling the function whenever I needed to initiate combat. Thank you both for you sample game codes, I've learned lots from going through them!</p>\n\n",
      "PostDate": "2018-01-19T05:24:39.04101Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "0d4b2615-0384-44e9-89a6-c73ded053692",
      "UserId": 1346,
      "Username": "The Pixie",
      "AvatarUrl": "https://secure.gravatar.com/avatar/cfa37e927f96177bcf6053ae8f108f77?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "> Thank you for your quick reply. I tried the variations of the `do (NAME_OF_COMMAND, \"script\")` you suggested but no luck. I think the idea of putting the fight scripting into a function is probably the way to go (I've not had any experience with Object+Script_Attribute+(optional: Delegate)).\r\n\r\nThe problem with `do (NAME_OF_COMMAND, \"script\")` is that the `object` variable has not been set. Commands do this behind the scenes, from the command pattern #object#.\r\n\r\nHowever, you can do that by sending a dictionary.\r\n```\r\nd = NewDictionary()\r\ndictionary add (d, \"object\", orc)\r\ndo (NAME_OF_COMMAND, \"script\", d)\r\n```\r\n\r\nAll that said, doing it as a function is probably easier!",
      "EditableFormat": "markdown",
      "HTML": "<blockquote>\n<p>Thank you for your quick reply. I tried the variations of the <code>do (NAME_OF_COMMAND, \"script\")</code> you suggested but no luck. I think the idea of putting the fight scripting into a function is probably the way to go (I've not had any experience with Object+Script_Attribute+(optional: Delegate)).</p>\n</blockquote>\n<p>The problem with <code>do (NAME_OF_COMMAND, \"script\")</code> is that the <code>object</code> variable has not been set. Commands do this behind the scenes, from the command pattern #object#.</p>\n<p>However, you can do that by sending a dictionary.</p>\n<pre><code>d = NewDictionary()\ndictionary add (d, \"object\", orc)\ndo (NAME_OF_COMMAND, \"script\", d)\n</code></pre>\n<p>All that said, doing it as a function is probably easier!</p>\n\n",
      "PostDate": "2018-01-19T09:17:19.4810646Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "f8520188-d9a5-4fac-9264-e3c70c794c64",
      "UserId": 247325,
      "Username": "hegemonkhan",
      "AvatarUrl": "https://secure.gravatar.com/avatar/a96cf34d8d97c57de38f54ee22b1759b?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "ah, so you use a Dictionary for the Object's setting, for using a Command, thank you Pixie! (need to save/bookmark/favorite this post, lol)",
      "EditableFormat": "markdown",
      "HTML": "<p>ah, so you use a Dictionary for the Object's setting, for using a Command, thank you Pixie! (need to save/bookmark/favorite this post, lol)</p>\n\n",
      "PostDate": "2018-01-19T16:04:43.3853729Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "f0c315f4-3de5-4df4-8c01-958ebd864524",
      "UserId": 318253,
      "Username": "K.V.",
      "AvatarUrl": "https://i.imgur.com/mBf7TBeb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "I've been following [Pixie's Zombie Apocalypse guide](https://github.com/ThePix/quest/wiki/The-Zombie-Apocalypse-(on-the-web-version))*, and I wish I'd have read these last two posts before I fooled with it today.\r\n\r\nI just fought that battle with ```do```, and trying to pass the ```object``` variable to it did not work out.  So, like Pix suggested here, I ended up using a function.\r\n\r\n```\r\n  <command name=\"reload_command\">\r\n    <pattern>reload</pattern>\r\n    <script>\r\n      if (HasAttribute(game.pov,\"equipped\")) {\r\n        if (HasAttribute(game.pov.equipped,\"ammo\")) {\r\n          object = game.pov.equipped\r\n          if (game.debugging) {\r\n            DbgMsg (\"reload script: setting object to \"+object)\r\n          }\r\n          ReloadIt (object)\r\n        }\r\n        else {\r\n          msg (\"You don't have that sort of a weapon equipped.\")\r\n        }\r\n      }\r\n      else {\r\n        msg (\"You haven't equipped a weapon.\")\r\n      }\r\n    </script>\r\n  </command>\r\n```\r\n\r\n\r\n```\r\n  <command name=\"reload_object_cmd\">\r\n    <pattern>reload #object#</pattern>\r\n    <script>\r\n      ReloadIt (object)\r\n    </script>\r\n  </command>\r\n  <type name=\"region_type\" />\r\n  <type name=\"room_type\" />\r\n```\r\n\r\n\r\n```\r\n  <function name=\"ReloadIt\" parameters=\"object\"><![CDATA[\r\n    if (game.debugging) {\r\n      DbgMsg (\"ReloadIt: object = \"+object)\r\n    }\r\n    if (not HasInt(object, \"ammo\")) {\r\n      msg (\"You can't reload a \" + GetDisplayAlias(player.equipped) + \".\")\r\n    }\r\n    else if (player.ammo < 1) {\r\n      msg (\"You have no ammo.\")\r\n    }\r\n    else {\r\n      bullets = object.ammomax - object.ammo\r\n      if (bullets > player.ammo) {\r\n        bullets = player.ammo\r\n      }\r\n      player.ammo = player.ammo - bullets\r\n      object.ammo = object.ammo + bullets\r\n\r\n      if (bullets > 0){\r\n        msg (\"You put \" + bullets + \" bullets in it.\")\r\n      }\r\n      else {\r\n        msg(\"You can't fit any more bullets in it.\")\r\n      }\r\n    }\r\n    WeaponUpdate\r\n  ]]></function>\r\n```\r\n\r\n---\r\n</sub>\\* Scripts from Pixie's guide are slightly modified.</sub>\r\n\r\n---\r\nREVISED SCRIPTS (just for archival purposes):\r\n\r\n<details>\r\n\r\n\r\n```\r\n<command name=\"reload_cmd\">\r\n    <pattern>reload #object#;load #object#;reload;reload</pattern>\r\n    <script>\r\n      if (not IsDefined(\"object\")) {\r\n        if (HasAttribute(game.pov,\"equipped\")) {\r\n          if (HasAttribute(game.pov.equipped,\"ammo\")) {\r\n            object = game.pov.equipped\r\n            if (game.debugging) {\r\n              DbgMsg (\"reload script: setting object to \"+object)\r\n            }\r\n            ReloadWeapon (object)\r\n          }\r\n          else {\r\n            msg (\"You don't have that sort of a weapon equipped.\")\r\n          }\r\n        }\r\n        else {\r\n          msg (\"You have no weapon equipped.\")\r\n        }\r\n      }\r\n      else {\r\n        if (HasAttribute(object,\"ammo\")) {\r\n          ReloadWeapon (object)\r\n        }\r\n        else {\r\n          msg (\"You can't reload \"+object.article+\".\")\r\n        }\r\n      }\r\n    </script>\r\n  </command>\r\n```\r\n\r\n```\r\n<function name=\"ReloadWeapon\" parameters=\"object\"><![CDATA[\r\n    if (game.debugging) {\r\n      DbgMsg (\"ReloadWeapon: object = \"+object)\r\n    }\r\n    if (not HasInt(object, \"ammo\")) {\r\n      msg (\"You can't reload a \" + GetDisplayAlias(player.equipped) + \".\")\r\n    }\r\n    else if (player.ammo < 1) {\r\n      msg (\"You have no ammo.\")\r\n    }\r\n    else {\r\n      cartridges = object.ammomax - object.ammo\r\n      if (cartridges > player.ammo) {\r\n        cartridges = player.ammo\r\n      }\r\n      player.ammo = player.ammo - cartridges\r\n      object.ammo = object.ammo + cartridges\r\n      if (cartridges = 1) {\r\n        msg (cartridges + \" cartridge:  Loaded.\")\r\n      }\r\n      if (cartridges > 1) {\r\n        msg (cartridges + \" cartridges:  Loaded.\")\r\n      }\r\n      else {\r\n        msg (object.article+\" is fully loaded.\")\r\n      }\r\n    }\r\n    WeaponUpdate\r\n  ]]></function>\r\n```\r\n\r\n</details>",
      "EditableFormat": "markdown",
      "HTML": "<p>I've been following <a href=\"https://github.com/ThePix/quest/wiki/The-Zombie-Apocalypse-(on-the-web-version)\">Pixie's Zombie Apocalypse guide</a>*, and I wish I'd have read these last two posts before I fooled with it today.</p>\n<p>I just fought that battle with <code>do</code>, and trying to pass the <code>object</code> variable to it did not work out.  So, like Pix suggested here, I ended up using a function.</p>\n<pre><code>  &lt;command name=\"reload_command\"&gt;\n    &lt;pattern&gt;reload&lt;/pattern&gt;\n    &lt;script&gt;\n      if (HasAttribute(game.pov,\"equipped\")) {\n        if (HasAttribute(game.pov.equipped,\"ammo\")) {\n          object = game.pov.equipped\n          if (game.debugging) {\n            DbgMsg (\"reload script: setting object to \"+object)\n          }\n          ReloadIt (object)\n        }\n        else {\n          msg (\"You don't have that sort of a weapon equipped.\")\n        }\n      }\n      else {\n        msg (\"You haven't equipped a weapon.\")\n      }\n    &lt;/script&gt;\n  &lt;/command&gt;\n</code></pre>\n<pre><code>  &lt;command name=\"reload_object_cmd\"&gt;\n    &lt;pattern&gt;reload #object#&lt;/pattern&gt;\n    &lt;script&gt;\n      ReloadIt (object)\n    &lt;/script&gt;\n  &lt;/command&gt;\n  &lt;type name=\"region_type\" /&gt;\n  &lt;type name=\"room_type\" /&gt;\n</code></pre>\n<pre><code>  &lt;function name=\"ReloadIt\" parameters=\"object\"&gt;&lt;![CDATA[\n    if (game.debugging) {\n      DbgMsg (\"ReloadIt: object = \"+object)\n    }\n    if (not HasInt(object, \"ammo\")) {\n      msg (\"You can't reload a \" + GetDisplayAlias(player.equipped) + \".\")\n    }\n    else if (player.ammo &lt; 1) {\n      msg (\"You have no ammo.\")\n    }\n    else {\n      bullets = object.ammomax - object.ammo\n      if (bullets &gt; player.ammo) {\n        bullets = player.ammo\n      }\n      player.ammo = player.ammo - bullets\n      object.ammo = object.ammo + bullets\n\n      if (bullets &gt; 0){\n        msg (\"You put \" + bullets + \" bullets in it.\")\n      }\n      else {\n        msg(\"You can't fit any more bullets in it.\")\n      }\n    }\n    WeaponUpdate\n  ]]&gt;&lt;/function&gt;\n</code></pre>\n<hr>\n<p>* Scripts from Pixie's guide are slightly modified.</p>\n<hr>\n<p>REVISED SCRIPTS (just for archival purposes):</p>\n<details>\n<pre><code>&lt;command name=\"reload_cmd\"&gt;\n    &lt;pattern&gt;reload #object#;load #object#;reload;reload&lt;/pattern&gt;\n    &lt;script&gt;\n      if (not IsDefined(\"object\")) {\n        if (HasAttribute(game.pov,\"equipped\")) {\n          if (HasAttribute(game.pov.equipped,\"ammo\")) {\n            object = game.pov.equipped\n            if (game.debugging) {\n              DbgMsg (\"reload script: setting object to \"+object)\n            }\n            ReloadWeapon (object)\n          }\n          else {\n            msg (\"You don't have that sort of a weapon equipped.\")\n          }\n        }\n        else {\n          msg (\"You have no weapon equipped.\")\n        }\n      }\n      else {\n        if (HasAttribute(object,\"ammo\")) {\n          ReloadWeapon (object)\n        }\n        else {\n          msg (\"You can't reload \"+object.article+\".\")\n        }\n      }\n    &lt;/script&gt;\n  &lt;/command&gt;\n</code></pre>\n<pre><code>&lt;function name=\"ReloadWeapon\" parameters=\"object\"&gt;&lt;![CDATA[\n    if (game.debugging) {\n      DbgMsg (\"ReloadWeapon: object = \"+object)\n    }\n    if (not HasInt(object, \"ammo\")) {\n      msg (\"You can't reload a \" + GetDisplayAlias(player.equipped) + \".\")\n    }\n    else if (player.ammo &lt; 1) {\n      msg (\"You have no ammo.\")\n    }\n    else {\n      cartridges = object.ammomax - object.ammo\n      if (cartridges &gt; player.ammo) {\n        cartridges = player.ammo\n      }\n      player.ammo = player.ammo - cartridges\n      object.ammo = object.ammo + cartridges\n      if (cartridges = 1) {\n        msg (cartridges + \" cartridge:  Loaded.\")\n      }\n      if (cartridges &gt; 1) {\n        msg (cartridges + \" cartridges:  Loaded.\")\n      }\n      else {\n        msg (object.article+\" is fully loaded.\")\n      }\n    }\n    WeaponUpdate\n  ]]&gt;&lt;/function&gt;\n</code></pre>\n</details>\n\n",
      "PostDate": "2018-01-19T16:27:47.6900063Z",
      "LastEditDate": "2018-01-20T16:34:06.8496081Z",
      "link": null
    },
    {
      "PostId": "4134a1e4-c336-4033-a8df-ade18db413e2",
      "UserId": 318253,
      "Username": "K.V.",
      "AvatarUrl": "https://i.imgur.com/mBf7TBeb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Today MrAngel taught me how to use ```IsDefined()``` properly, and I devised a dirty way to use ```do()``` to invoke a script with the local variable ```object``` in it.\r\n\r\nYou can enter SLAP or SLAP #object#.\r\n\r\nExample game:\r\n\r\n<details>\r\n\r\n```\r\n<!--Saved by Quest 5.7.6404.15496-->\r\n<asl version=\"550\">\r\n  <include ref=\"English.aslx\" />\r\n  <include ref=\"Core.aslx\" />\r\n  <game name=\"SLAP\">\r\n    <gameid>f187b2c5-6dad-48ee-991c-7c5d401a782b</gameid>\r\n    <version>1.0</version>\r\n    <firstpublished>2018</firstpublished>\r\n    <defaultwebfont type=\"string\"></defaultwebfont>\r\n    <start type=\"script\">\r\n      SetWebFontName (\"Patrick Hand\")\r\n      SetWebFontName (game.defaultfont)\r\n    </start>\r\n  </game>\r\n  <object name=\"room\">\r\n    <inherit name=\"editor_room\" />\r\n    <object name=\"player\">\r\n      <inherit name=\"editor_object\" />\r\n      <inherit name=\"editor_player\" />\r\n      <object name=\"nametag\">\r\n        <inherit name=\"editor_object\" />\r\n        <ondrop type=\"script\">\r\n        </ondrop>\r\n        <take />\r\n        <look type=\"script\"><![CDATA[\r\n          msg (\"It reads:<br/><center><br/><div style=';border:1px solid black'><span style='font-weight:bold;font-size:110%'>Hello!  My name is:<span style='font-family:\\\"Patrick Hand\\\";font-size:135%;'><hr style='border-top:1px solid black' />XanMag</span></span></div></center>\")\r\n        ]]></look>\r\n        <feature_usegive />\r\n        <giveto type=\"scriptdictionary\">\r\n          <item key=\"XanMag\">\r\n            MoveObject (this, XanMag)\r\n            msg (\"\\\"Thanks!\\\"  says XM.  \\\"I've been looking for that!\\\"\")\r\n            this.alias = \"nametag (worn)\"\r\n            this.take = false\r\n            this.takemsg = \"\\\"Leave my nametag alone, please,\\\" says XM.\"\r\n          </item>\r\n        </giveto>\r\n        <alt type=\"stringlist\">\r\n          <value>tag</value>\r\n        </alt>\r\n        <inventoryverbs type=\"stringlist\">\r\n          <value>Look at</value>\r\n          <value>Wear</value>\r\n          <value>Drop</value>\r\n        </inventoryverbs>\r\n      </object>\r\n    </object>\r\n    <object name=\"XanMag\">\r\n      <inherit name=\"editor_object\" />\r\n      <inherit name=\"namedmale\" />\r\n      <inherit name=\"surface\" />\r\n      <look>He's drinking a beer.</look>\r\n      <feature_container />\r\n      <listchildren />\r\n      <contentsprefix>who is carrying</contentsprefix>\r\n      <addscript type=\"script\">\r\n        msg (\"\\\"Get that off me!\\\" booms XanMag.{once:  He slaps you.}\")\r\n      </addscript>\r\n      <listchildrenprefix>He is carrying</listchildrenprefix>\r\n      <take />\r\n      <alt type=\"stringlist\">\r\n        <value>xm</value>\r\n      </alt>\r\n      <speak>{random:\"Hello,\" grumbles Xan.:\"I like fish tacos,\" he says.:\"Beer is good,\" says XM.}</speak>\r\n    </object>\r\n  </object>\r\n  <command name=\"slap_cmd\">\r\n    <pattern>slap</pattern>\r\n    <script>\r\n      if (XanMag.parent = game.pov.parent) {\r\n        do (slap_it_cmd, \"script\")\r\n      }\r\n      else {\r\n        msg (\"XanMag's not here, man!\")\r\n      }\r\n    </script>\r\n  </command>\r\n  <command name=\"slap_it_cmd\">\r\n    <pattern>slap #object#</pattern>\r\n    <script><![CDATA[\r\n      if (not IsDefined(\"object\")) {\r\n        object = XanMag\r\n      }\r\n      if (object = XanMag) {\r\n        msg (\"You slap XanMag.<br/><br/>He takes a drink of his beer, laughs, then says, \\\"thank you, sir!  May I have another?\\\"\")\r\n      }\r\n      else {\r\n        msg (\"You can't slap \"+object.article+\".\")\r\n      }\r\n    ]]></script>\r\n  </command>\r\n  <command name=\"wear_cmd\">\r\n    <pattern>wear #object#</pattern>\r\n    <script>\r\n      if (object = nametag) {\r\n        msg (\"That appears to belong to XanMag.\")\r\n      }\r\n      else {\r\n        msg (\"You can't wear \"+object.article+\".\")\r\n      }\r\n    </script>\r\n  </command>\r\n</asl>\r\n```\r\n\r\n</details>",
      "EditableFormat": "markdown",
      "HTML": "<p>Today MrAngel taught me how to use <code>IsDefined()</code> properly, and I devised a dirty way to use <code>do()</code> to invoke a script with the local variable <code>object</code> in it.</p>\n<p>You can enter SLAP or SLAP #object#.</p>\n<p>Example game:</p>\n<details>\n<pre><code>&lt;!--Saved by Quest 5.7.6404.15496--&gt;\n&lt;asl version=\"550\"&gt;\n  &lt;include ref=\"English.aslx\" /&gt;\n  &lt;include ref=\"Core.aslx\" /&gt;\n  &lt;game name=\"SLAP\"&gt;\n    &lt;gameid&gt;f187b2c5-6dad-48ee-991c-7c5d401a782b&lt;/gameid&gt;\n    &lt;version&gt;1.0&lt;/version&gt;\n    &lt;firstpublished&gt;2018&lt;/firstpublished&gt;\n    &lt;defaultwebfont type=\"string\"&gt;&lt;/defaultwebfont&gt;\n    &lt;start type=\"script\"&gt;\n      SetWebFontName (\"Patrick Hand\")\n      SetWebFontName (game.defaultfont)\n    &lt;/start&gt;\n  &lt;/game&gt;\n  &lt;object name=\"room\"&gt;\n    &lt;inherit name=\"editor_room\" /&gt;\n    &lt;object name=\"player\"&gt;\n      &lt;inherit name=\"editor_object\" /&gt;\n      &lt;inherit name=\"editor_player\" /&gt;\n      &lt;object name=\"nametag\"&gt;\n        &lt;inherit name=\"editor_object\" /&gt;\n        &lt;ondrop type=\"script\"&gt;\n        &lt;/ondrop&gt;\n        &lt;take /&gt;\n        &lt;look type=\"script\"&gt;&lt;![CDATA[\n          msg (\"It reads:&lt;br/&gt;&lt;center&gt;&lt;br/&gt;&lt;div style=';border:1px solid black'&gt;&lt;span style='font-weight:bold;font-size:110%'&gt;Hello!  My name is:&lt;span style='font-family:\\\"Patrick Hand\\\";font-size:135%;'&gt;&lt;hr style='border-top:1px solid black' /&gt;XanMag&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;/center&gt;\")\n        ]]&gt;&lt;/look&gt;\n        &lt;feature_usegive /&gt;\n        &lt;giveto type=\"scriptdictionary\"&gt;\n          &lt;item key=\"XanMag\"&gt;\n            MoveObject (this, XanMag)\n            msg (\"\\\"Thanks!\\\"  says XM.  \\\"I've been looking for that!\\\"\")\n            this.alias = \"nametag (worn)\"\n            this.take = false\n            this.takemsg = \"\\\"Leave my nametag alone, please,\\\" says XM.\"\n          &lt;/item&gt;\n        &lt;/giveto&gt;\n        &lt;alt type=\"stringlist\"&gt;\n          &lt;value&gt;tag&lt;/value&gt;\n        &lt;/alt&gt;\n        &lt;inventoryverbs type=\"stringlist\"&gt;\n          &lt;value&gt;Look at&lt;/value&gt;\n          &lt;value&gt;Wear&lt;/value&gt;\n          &lt;value&gt;Drop&lt;/value&gt;\n        &lt;/inventoryverbs&gt;\n      &lt;/object&gt;\n    &lt;/object&gt;\n    &lt;object name=\"XanMag\"&gt;\n      &lt;inherit name=\"editor_object\" /&gt;\n      &lt;inherit name=\"namedmale\" /&gt;\n      &lt;inherit name=\"surface\" /&gt;\n      &lt;look&gt;He's drinking a beer.&lt;/look&gt;\n      &lt;feature_container /&gt;\n      &lt;listchildren /&gt;\n      &lt;contentsprefix&gt;who is carrying&lt;/contentsprefix&gt;\n      &lt;addscript type=\"script\"&gt;\n        msg (\"\\\"Get that off me!\\\" booms XanMag.{once:  He slaps you.}\")\n      &lt;/addscript&gt;\n      &lt;listchildrenprefix&gt;He is carrying&lt;/listchildrenprefix&gt;\n      &lt;take /&gt;\n      &lt;alt type=\"stringlist\"&gt;\n        &lt;value&gt;xm&lt;/value&gt;\n      &lt;/alt&gt;\n      &lt;speak&gt;{random:\"Hello,\" grumbles Xan.:\"I like fish tacos,\" he says.:\"Beer is good,\" says XM.}&lt;/speak&gt;\n    &lt;/object&gt;\n  &lt;/object&gt;\n  &lt;command name=\"slap_cmd\"&gt;\n    &lt;pattern&gt;slap&lt;/pattern&gt;\n    &lt;script&gt;\n      if (XanMag.parent = game.pov.parent) {\n        do (slap_it_cmd, \"script\")\n      }\n      else {\n        msg (\"XanMag's not here, man!\")\n      }\n    &lt;/script&gt;\n  &lt;/command&gt;\n  &lt;command name=\"slap_it_cmd\"&gt;\n    &lt;pattern&gt;slap #object#&lt;/pattern&gt;\n    &lt;script&gt;&lt;![CDATA[\n      if (not IsDefined(\"object\")) {\n        object = XanMag\n      }\n      if (object = XanMag) {\n        msg (\"You slap XanMag.&lt;br/&gt;&lt;br/&gt;He takes a drink of his beer, laughs, then says, \\\"thank you, sir!  May I have another?\\\"\")\n      }\n      else {\n        msg (\"You can't slap \"+object.article+\".\")\n      }\n    ]]&gt;&lt;/script&gt;\n  &lt;/command&gt;\n  &lt;command name=\"wear_cmd\"&gt;\n    &lt;pattern&gt;wear #object#&lt;/pattern&gt;\n    &lt;script&gt;\n      if (object = nametag) {\n        msg (\"That appears to belong to XanMag.\")\n      }\n      else {\n        msg (\"You can't wear \"+object.article+\".\")\n      }\n    &lt;/script&gt;\n  &lt;/command&gt;\n&lt;/asl&gt;\n</code></pre>\n</details>\n\n",
      "PostDate": "2018-01-20T16:30:42.1877242Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "4e05daeb-76b8-48e6-86d8-9e5aa3abcb73",
      "UserId": 247325,
      "Username": "hegemonkhan",
      "AvatarUrl": "https://secure.gravatar.com/avatar/a96cf34d8d97c57de38f54ee22b1759b?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "not quite however, as you can't dynamically get/pass/insert a value for the 'object' variable from the 'do' function call.\r\n\r\nlooks like the only way is via using a Dictionary as the argument's/parameter's value",
      "EditableFormat": "markdown",
      "HTML": "<p>not quite however, as you can't dynamically get/pass/insert a value for the 'object' variable from the 'do' function call.</p>\n<p>looks like the only way is via using a Dictionary as the argument's/parameter's value</p>\n\n",
      "PostDate": "2018-01-20T21:24:00.3034482Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "910f4cf5-2d98-4de0-8992-c28de0f0975f",
      "UserId": 318253,
      "Username": "K.V.",
      "AvatarUrl": "https://i.imgur.com/mBf7TBeb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": ">not quite however\r\n\r\nI said it was dirty...\r\n\r\n...but I am using ```do()``` to call a script which uses the ```object``` variable without passing it.\r\n\r\n```\r\n  <command name=\"slap_cmd\">\r\n    <pattern>slap</pattern>\r\n    <script>\r\n      if (XanMag.parent = game.pov.parent) {\r\n        do (slap_it_cmd, \"script\")\r\n      }\r\n      else {\r\n        msg (\"XanMag's not here, man!\")\r\n      }\r\n    </script>\r\n  </command>\r\n  <command name=\"slap_it_cmd\">\r\n    <pattern>slap #object#</pattern>\r\n    <script><![CDATA[\r\n      if (not IsDefined(\"object\")) {\r\n        object = XanMag\r\n      }\r\n      if (object = XanMag) {\r\n        msg (\"You slap XanMag.<br/><br/>He takes a drink of his beer, laughs, then says, \\\"thank you, sir!  May I have another?\\\"\")\r\n      }\r\n      else {\r\n        msg (\"You can't slap \"+object.article+\".\")\r\n      }\r\n    ]]></script>\r\n  </command>\r\n```",
      "EditableFormat": "markdown",
      "HTML": "<blockquote>\n<p>not quite however</p>\n</blockquote>\n<p>I said it was dirty...</p>\n<p>...but I am using <code>do()</code> to call a script which uses the <code>object</code> variable without passing it.</p>\n<pre><code>  &lt;command name=\"slap_cmd\"&gt;\n    &lt;pattern&gt;slap&lt;/pattern&gt;\n    &lt;script&gt;\n      if (XanMag.parent = game.pov.parent) {\n        do (slap_it_cmd, \"script\")\n      }\n      else {\n        msg (\"XanMag's not here, man!\")\n      }\n    &lt;/script&gt;\n  &lt;/command&gt;\n  &lt;command name=\"slap_it_cmd\"&gt;\n    &lt;pattern&gt;slap #object#&lt;/pattern&gt;\n    &lt;script&gt;&lt;![CDATA[\n      if (not IsDefined(\"object\")) {\n        object = XanMag\n      }\n      if (object = XanMag) {\n        msg (\"You slap XanMag.&lt;br/&gt;&lt;br/&gt;He takes a drink of his beer, laughs, then says, \\\"thank you, sir!  May I have another?\\\"\")\n      }\n      else {\n        msg (\"You can't slap \"+object.article+\".\")\n      }\n    ]]&gt;&lt;/script&gt;\n  &lt;/command&gt;\n</code></pre>\n\n",
      "PostDate": "2018-01-20T23:10:13.5606713Z",
      "LastEditDate": "2018-01-20T23:12:19.2170549Z",
      "link": null
    },
    {
      "PostId": "3e119505-6b50-4713-8e05-95817236240b",
      "UserId": 318253,
      "Username": "K.V.",
      "AvatarUrl": "https://i.imgur.com/mBf7TBeb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "How about creating a temporary attribute?\r\n\r\n(Yes.  I'm bored.)\r\n\r\n<details>\r\n\r\n```\r\n<!--Saved by Quest 5.7.6404.15496-->\r\n<asl version=\"550\">\r\n  <include ref=\"English.aslx\" />\r\n  <include ref=\"Core.aslx\" />\r\n  <game name=\"Do things\">\r\n    <gameid>c4a82a07-95b9-4641-9e1e-4975aa275c51</gameid>\r\n    <version>1.0</version>\r\n    <firstpublished>2018</firstpublished>\r\n  </game>\r\n  <object name=\"room\">\r\n    <inherit name=\"editor_room\" />\r\n    <object name=\"player\">\r\n      <inherit name=\"editor_object\" />\r\n      <inherit name=\"editor_player\" />\r\n    </object>\r\n    <object name=\"puddle\">\r\n      <inherit name=\"editor_object\" />\r\n      <displayverbs type=\"stringlist\">\r\n        <value>Look at</value>\r\n      </displayverbs>\r\n      <jumpable />\r\n    </object>\r\n  </object>\r\n  <command name=\"jump_over_it_cmd\">\r\n    <pattern>jump over #object#</pattern>\r\n    <script>\r\n      if (not IsDefined(\"object\")) {\r\n        if (TypeOf(game.tempobject)=\"object\") {\r\n          object = game.tempobject\r\n        }\r\n        else {\r\n          msg (\"You can't do that.\")\r\n          return (false)\r\n        }\r\n      }\r\n      if (HasBoolean(object,\"jumpable\")) {\r\n        if (object.jumpable) {\r\n          msg (\"You jump over \"+object.article+\".\")\r\n        }\r\n        else {\r\n          msg (\"You can't jump over \"+object.article+\".\")\r\n        }\r\n      }\r\n      else {\r\n        msg (\"You can't do that.\")\r\n      }\r\n    </script>\r\n  </command>\r\n  <command name=\"jump_over_cmd\">\r\n    <pattern>jump over</pattern>\r\n    <script><![CDATA[\r\n      thingstojump = NewObjectList()\r\n      foreach (o, ScopeVisibleNotHeld()) {\r\n        if (HasBoolean(o,\"jumpable\")) {\r\n          if (o.jumpable) {\r\n            list add (thingstojump, o)\r\n          }\r\n        }\r\n      }\r\n      if (ListCount(thingstojump)>0) {\r\n        game.tempobject = PickOneObject(thingstojump)\r\n        do (jump_over_it_cmd, \"script\")\r\n        SetTurnTimeout (1) {\r\n          game.tempobject = null\r\n        }\r\n        return (true)\r\n      }\r\n      msg (\"There is nothing to jump over.\")\r\n    ]]></script>\r\n  </command>\r\n</asl>\r\n```\r\n\r\n</details>",
      "EditableFormat": "markdown",
      "HTML": "<p>How about creating a temporary attribute?</p>\n<p>(Yes.  I'm bored.)</p>\n<details>\n<pre><code>&lt;!--Saved by Quest 5.7.6404.15496--&gt;\n&lt;asl version=\"550\"&gt;\n  &lt;include ref=\"English.aslx\" /&gt;\n  &lt;include ref=\"Core.aslx\" /&gt;\n  &lt;game name=\"Do things\"&gt;\n    &lt;gameid&gt;c4a82a07-95b9-4641-9e1e-4975aa275c51&lt;/gameid&gt;\n    &lt;version&gt;1.0&lt;/version&gt;\n    &lt;firstpublished&gt;2018&lt;/firstpublished&gt;\n  &lt;/game&gt;\n  &lt;object name=\"room\"&gt;\n    &lt;inherit name=\"editor_room\" /&gt;\n    &lt;object name=\"player\"&gt;\n      &lt;inherit name=\"editor_object\" /&gt;\n      &lt;inherit name=\"editor_player\" /&gt;\n    &lt;/object&gt;\n    &lt;object name=\"puddle\"&gt;\n      &lt;inherit name=\"editor_object\" /&gt;\n      &lt;displayverbs type=\"stringlist\"&gt;\n        &lt;value&gt;Look at&lt;/value&gt;\n      &lt;/displayverbs&gt;\n      &lt;jumpable /&gt;\n    &lt;/object&gt;\n  &lt;/object&gt;\n  &lt;command name=\"jump_over_it_cmd\"&gt;\n    &lt;pattern&gt;jump over #object#&lt;/pattern&gt;\n    &lt;script&gt;\n      if (not IsDefined(\"object\")) {\n        if (TypeOf(game.tempobject)=\"object\") {\n          object = game.tempobject\n        }\n        else {\n          msg (\"You can't do that.\")\n          return (false)\n        }\n      }\n      if (HasBoolean(object,\"jumpable\")) {\n        if (object.jumpable) {\n          msg (\"You jump over \"+object.article+\".\")\n        }\n        else {\n          msg (\"You can't jump over \"+object.article+\".\")\n        }\n      }\n      else {\n        msg (\"You can't do that.\")\n      }\n    &lt;/script&gt;\n  &lt;/command&gt;\n  &lt;command name=\"jump_over_cmd\"&gt;\n    &lt;pattern&gt;jump over&lt;/pattern&gt;\n    &lt;script&gt;&lt;![CDATA[\n      thingstojump = NewObjectList()\n      foreach (o, ScopeVisibleNotHeld()) {\n        if (HasBoolean(o,\"jumpable\")) {\n          if (o.jumpable) {\n            list add (thingstojump, o)\n          }\n        }\n      }\n      if (ListCount(thingstojump)&gt;0) {\n        game.tempobject = PickOneObject(thingstojump)\n        do (jump_over_it_cmd, \"script\")\n        SetTurnTimeout (1) {\n          game.tempobject = null\n        }\n        return (true)\n      }\n      msg (\"There is nothing to jump over.\")\n    ]]&gt;&lt;/script&gt;\n  &lt;/command&gt;\n&lt;/asl&gt;\n</code></pre>\n</details>\n\n",
      "PostDate": "2018-01-21T00:07:09.3384284Z",
      "LastEditDate": null,
      "link": null
    }
  ]
}
