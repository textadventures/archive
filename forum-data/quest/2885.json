{
  "Topic": {
    "TopicId": "2885",
    "ForumId": "10",
    "Title": "How 140k becomes 5Mb... a strange error",
    "LastUpdated": "2012-03-27T11:49:31+01:00",
    "ReplyCount": 5
  },
  "Posts": [
    {
      "PostId": "19853",
      "UserId": 0,
      "Username": "AvecPardon",
      "UserAvatar": null,
      "UserGravatar": "1f021be8f7b3c6617fcd8a96e847c27d",
      "EditableText": "Okay, so I finally got things running pretty smoothly so far. In editing mode, everything acts just fine (I mostly work in the GUI with the occasional pop over to Code View when the GUI chokes on some script).\n\nThe file size is currently 140+ kilobytes. The problem occurs when I publish it to a .quest file and try to test run it.\n\nSuddenly, the file inflates to 5 Megs and I get this Error:\n\nSystem.ArgumentException: Illegal characters in path.\n   at System.IO.Path.CheckInvalidPathChars(String path)\n   at System.IO.Path.Combine(String path1, String path2)\n   at Ionic.Zip.ZipEntry.ValidateOutput(String basedir, Stream outstream, String&amp; OutputFile)\n   at Ionic.Zip.ZipEntry.InternalExtract(String baseDir, Stream outstream, String password)\n   at Ionic.Zip.ZipFile._InternalExtractAll(String path, Boolean overrideExtractExistingProperty)\n   at AxeSoftware.Quest.PackageReader.LoadPackage(String filename)\n   at AxeSoftware.Quest.GameLoader.LoadCompiledFile(String filename)\n   at AxeSoftware.Quest.GameLoader.Load(String filename)\n   at AxeSoftware.Quest.WorldModel.InitialiseInternal(GameLoader loader)\n   at AxeSoftware.Quest.WorldModel.Initialise(IPlayer player)\n   at AxeSoftware.Quest.Player.FinishInitialise()\n   at AxeSoftware.Quest.Player._Lambda$__28()\n\nNow, I have no clue what it's choking on, so I'm posting the .aslx file and hoping someone can take a look and see what the heck I did wrong this time. Also posting the Score Lib that goes with it, otherwise opening it in editing is gonna pop up another error.\n\n[attachment=0:29qy7usx]<!-- ia0 -->Score_Lib.aslx<!-- ia0 -->[/attachment:29qy7usx]\n[attachment=1:29qy7usx]<!-- ia1 -->System Restore.aslx<!-- ia1 -->[/attachment:29qy7usx]",
      "EditableFormat": "bbcode",
      "HTML": "Okay, so I finally got things running pretty smoothly so far. In editing mode, everything acts just fine (I mostly work in the GUI with the occasional pop over to Code View when the GUI chokes on some script).<br/><br/>The file size is currently 140+ kilobytes. The problem occurs when I publish it to a .quest file and try to test run it.<br/><br/>Suddenly, the file inflates to 5 Megs and I get this Error:<br/><br/>System.ArgumentException: Illegal characters in path.<br/>   at System.IO.Path.CheckInvalidPathChars(String path)<br/>   at System.IO.Path.Combine(String path1, String path2)<br/>   at Ionic.Zip.ZipEntry.ValidateOutput(String basedir, Stream outstream, String&amp; OutputFile)<br/>   at Ionic.Zip.ZipEntry.InternalExtract(String baseDir, Stream outstream, String password)<br/>   at Ionic.Zip.ZipFile._InternalExtractAll(String path, Boolean overrideExtractExistingProperty)<br/>   at AxeSoftware.Quest.PackageReader.LoadPackage(String filename)<br/>   at AxeSoftware.Quest.GameLoader.LoadCompiledFile(String filename)<br/>   at AxeSoftware.Quest.GameLoader.Load(String filename)<br/>   at AxeSoftware.Quest.WorldModel.InitialiseInternal(GameLoader loader)<br/>   at AxeSoftware.Quest.WorldModel.Initialise(IPlayer player)<br/>   at AxeSoftware.Quest.Player.FinishInitialise()<br/>   at AxeSoftware.Quest.Player._Lambda$__28()<br/><br/>Now, I have no clue what it's choking on, so I'm posting the .aslx file and hoping someone can take a look and see what the heck I did wrong this time. Also posting the Score Lib that goes with it, otherwise opening it in editing is gonna pop up another error.<br/><br/><div><a href=\"/attachment/212\">Score_Lib.aslx</a></div><br/><div><a href=\"/attachment/211\">System Restore.aslx</a></div>",
      "PostDate": "2012-03-26T01:42:19+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "19855",
      "UserId": 0,
      "Username": "Pertex",
      "UserAvatar": "5940_1369854251.gif",
      "UserGravatar": "4cc1e52f99452e841ecf4cbee9eadde9",
      "EditableText": "strange! I dont have any problem with your gamefile",
      "EditableFormat": "bbcode",
      "HTML": "strange! I dont have any problem with your gamefile",
      "PostDate": "2012-03-26T10:06:22+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "19856",
      "UserId": 0,
      "Username": "Alex",
      "UserAvatar": null,
      "UserGravatar": "188b72c5e13327f4fde3989dca7d7d53",
      "EditableText": "It compiles to a 51K .quest file for me with no problems. Can you also attach your 5MB version so I can see what the difference is?",
      "EditableFormat": "bbcode",
      "HTML": "It compiles to a 51K .quest file for me with no problems. Can you also attach your 5MB version so I can see what the difference is?",
      "PostDate": "2012-03-26T10:35:30+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "19865",
      "UserId": 0,
      "Username": "AvecPardon",
      "UserAvatar": null,
      "UserGravatar": "1f021be8f7b3c6617fcd8a96e847c27d",
      "EditableText": "Hmm, it won't let me attach a 5mb file. Should I email it?",
      "EditableFormat": "bbcode",
      "HTML": "Hmm, it won't let me attach a 5mb file. Should I email it?",
      "PostDate": "2012-03-27T09:08:43+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "19867",
      "UserId": 0,
      "Username": "Alex",
      "UserAvatar": null,
      "UserGravatar": "188b72c5e13327f4fde3989dca7d7d53",
      "EditableText": "Yes, please email it to me at <!-- e --><a href=\"mailto:alex@axeuk.com\">alex@axeuk.com</a><!-- e -->",
      "EditableFormat": "bbcode",
      "HTML": "Yes, please email it to me at <!-- e --><a href=\"mailto:alex@axeuk.com\">alex@axeuk.com</a><!-- e -->",
      "PostDate": "2012-03-27T09:20:11+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "19872",
      "UserId": 0,
      "Username": "Alex",
      "UserAvatar": null,
      "UserGravatar": "188b72c5e13327f4fde3989dca7d7d53",
      "EditableText": "Just for the benefit of everybody else, I'll paste my email reply here too:\n\nThe .quest file contains all files from your game folder - so your game will automatically include any pictures, sounds etc. that it needs.\n\nIt looks like you've put some extra files in your game folder which aren't needed, so this will be inflating the file size. One of the files is called &quot;textadventures.co.uk Forums \u0007 View topic - Scoring system.htm&quot;, and this contains an invalid character which is causing the file reader to fail.\n\nIf you move these files out of your game folder, it should build a good .quest file for you.",
      "EditableFormat": "bbcode",
      "HTML": "Just for the benefit of everybody else, I'll paste my email reply here too:<br/><br/>The .quest file contains all files from your game folder - so your game will automatically include any pictures, sounds etc. that it needs.<br/><br/>It looks like you've put some extra files in your game folder which aren't needed, so this will be inflating the file size. One of the files is called &quot;textadventures.co.uk Forums \u0007 View topic - Scoring system.htm&quot;, and this contains an invalid character which is causing the file reader to fail.<br/><br/>If you move these files out of your game folder, it should build a good .quest file for you.",
      "PostDate": "2012-03-27T11:49:31+01:00",
      "LastEditDate": null
    }
  ]
}
