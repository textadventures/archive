{
  "Topic": {
    "TopicId": "5141",
    "ForumId": "10",
    "Title": "Turn Script Problems... Again.",
    "LastUpdated": "2015-05-28T01:32:21+01:00",
    "ReplyCount": 18
  },
  "Posts": [
    {
      "PostId": "35629",
      "UserId": 0,
      "Username": "XanMag",
      "UserAvatar": "7161_1436827710.jpg",
      "UserGravatar": "4b45a3afd18077f76f6569225c422bdb",
      "EditableText": "I know I should have this figured out by now... but... I am me and me is tired and/or clueless.\n\nMy situation is this.\n\n1.  Player eats bad food and &quot;unflags&quot; healthy.  \n\n2.  At turns 2, 5, and 8, there are reminders/warning that player must get to restroom.  \n\n3.  At turn 12 the player either is in the restroom and there is success or player is not in restroom and there is failure.  I'm okay so far.  Player flag &quot;healthy&quot; returns.  All is good.\n---\nPROBLEM IS:\nIf player gets to the restroom and &quot;uses toilet&quot; on turn 4 (flags &quot;healthy&quot;), I can make appropriate successful response, but I CANNOT stop the script from running turn scripts 8 and 12 (which registers as the failure response).  I have tried damn near EVERYTHING and it is driving me crazy.  \n\nI've got a &quot;healthy&quot; flag on after using toilet (with healthy flag tied to disabling turn scripts).  I've tried disabling the &quot;sick&quot; turn scripts after using toilet.  I've tried nesting 'IF' statements and turning my 4 turn script sick messages into 1 large one (then trying the above).  I've tried an 'IF' player has &quot;healthy flag&quot; in game script and in local room scripts.  Shouldn't I just be able to disable each of my turn scripts after 'using toilet'?\n\nBottom line... After the turn script sequence starts, I cannot stop it unless it plays the entire 12 turn script.  I've posted my turn scripts below.  Let me know what I can do.  I'm quite literally going nuts. <!-- s:? --><img src=\"{SMILIES_PATH}/icon_confused.gif\" alt=\":?\" title=\"Confused\" /><!-- s:? --> \n\nEating food removes &quot;healthy flag&quot; starting TS &quot;Sick1&quot;\n\n[code:1ujm6ug7]if (not GetBoolean(Xanadu, &quot;healthy&quot;)) {\n  EnableTurnScript (sick2)\n  EnableTurnScript (sick3)\n  EnableTurnScript (sick4)\n  SetTurnTimeout (2) {\n    msg (&quot;Your mouth, tongue, and throat have this odd, tingling sensation&#46;&quot;)\n  }\n  DisableTurnScript (sick1)\n}\nelse {\n  if (GetBoolean(farthest stall, &quot;unclean&quot;)) {\n    DisableTurnScript (sick1)\n    DisableTurnScript (sick2)\n    DisableTurnScript (sick3)\n    DisableTurnScript (sick4)\n  }\n}[/code:1ujm6ug7]\n\nEach turn script above (sick2, sick3, sick4) run at moves 2, 5, 8, 12 respectively and at the end of each TS I disable that specific turn script so the message only prints one time - if I don't do that message 2 (TS &quot;sick 1&quot;) will run for the entire duration.  Also, starting TS1 enables TS's 2,3,4.\n\nBelow is my script when player types &quot;use toilet&quot; before the 12 turn script is finished.\n\n[code:1ujm6ug7]if (GetBoolean(Xanadu, &quot;healthy&quot;)) {\n  play sound (&quot;152979__dianser72__piss-on-the-bath&#46;wav&quot;, false, false)\n  msg (&quot;healthy response to using toilet&#46;&quot;)\n}\nelse {\n  if (game&#46;pov&#46;parent = farthest stall) {\n    play sound (&quot;58837__opposit__longfart2&#46;wav&quot;, false, false)\n    msg (&quot;unhealthy response to using toilet&#46;&quot;&lt;br/&gt;&lt;br/&gt;---&quot;)\n    SetObjectFlagOn (Xanadu, &quot;healthy&quot;)\n    SetObjectFlagOn (farthest stall, &quot;unclean&quot;)\n    wait {\n      msg (&quot;continued unhealthy response to using toilet&quot;)\n      MoveObject (rotten food, Item Warehouse 1)\n      IncreaseScore (10)\n      MoveObject (Xanadu, Long Hallway)\n      UnlockExit (JCLock)\n    }\n  }\n}[/code:1ujm6ug7]\n\nAs you see above, I set object flag &quot;healthy&quot; on the player, but I also have tried to disable the &quot;sick&quot; turn scripts as well.  Neither kills the TS's early.  It always runs through 12.  Currently I have a &quot;healthy flag&quot; tied to disabling each turn script.\n\nI'm likely being an idiot here, but I just can't figure this out.  Also, I'm not savvy on code (I'm trying to learn), so please consider that when responding.  As always, thanks for your help!\n\nXanMag",
      "EditableFormat": "bbcode",
      "HTML": "I know I should have this figured out by now... but... I am me and me is tired and/or clueless.<br/><br/>My situation is this.<br/><br/>1.  Player eats bad food and &quot;unflags&quot; healthy.  <br/><br/>2.  At turns 2, 5, and 8, there are reminders/warning that player must get to restroom.  <br/><br/>3.  At turn 12 the player either is in the restroom and there is success or player is not in restroom and there is failure.  I'm okay so far.  Player flag &quot;healthy&quot; returns.  All is good.<br/>---<br/>PROBLEM IS:<br/>If player gets to the restroom and &quot;uses toilet&quot; on turn 4 (flags &quot;healthy&quot;), I can make appropriate successful response, but I CANNOT stop the script from running turn scripts 8 and 12 (which registers as the failure response).  I have tried damn near EVERYTHING and it is driving me crazy.  <br/><br/>I've got a &quot;healthy&quot; flag on after using toilet (with healthy flag tied to disabling turn scripts).  I've tried disabling the &quot;sick&quot; turn scripts after using toilet.  I've tried nesting 'IF' statements and turning my 4 turn script sick messages into 1 large one (then trying the above).  I've tried an 'IF' player has &quot;healthy flag&quot; in game script and in local room scripts.  Shouldn't I just be able to disable each of my turn scripts after 'using toilet'?<br/><br/>Bottom line... After the turn script sequence starts, I cannot stop it unless it plays the entire 12 turn script.  I've posted my turn scripts below.  Let me know what I can do.  I'm quite literally going nuts. <!-- s:? --><img src=\"{SMILIES_PATH}/icon_confused.gif\" alt=\":?\" title=\"Confused\" /><!-- s:? --> <br/><br/>Eating food removes &quot;healthy flag&quot; starting TS &quot;Sick1&quot;<br/><br/><pre><code>if (not GetBoolean(Xanadu, &quot;healthy&quot;)) {<br/>  EnableTurnScript (sick2)<br/>  EnableTurnScript (sick3)<br/>  EnableTurnScript (sick4)<br/>  SetTurnTimeout (2) {<br/>    msg (&quot;Your mouth, tongue, and throat have this odd, tingling sensation&#46;&quot;)<br/>  }<br/>  DisableTurnScript (sick1)<br/>}<br/>else {<br/>  if (GetBoolean(farthest stall, &quot;unclean&quot;)) {<br/>    DisableTurnScript (sick1)<br/>    DisableTurnScript (sick2)<br/>    DisableTurnScript (sick3)<br/>    DisableTurnScript (sick4)<br/>  }<br/>}</code></pre><br/><br/>Each turn script above (sick2, sick3, sick4) run at moves 2, 5, 8, 12 respectively and at the end of each TS I disable that specific turn script so the message only prints one time - if I don't do that message 2 (TS &quot;sick 1&quot;) will run for the entire duration.  Also, starting TS1 enables TS's 2,3,4.<br/><br/>Below is my script when player types &quot;use toilet&quot; before the 12 turn script is finished.<br/><br/><pre><code>if (GetBoolean(Xanadu, &quot;healthy&quot;)) {<br/>  play sound (&quot;152979__dianser72__piss-on-the-bath&#46;wav&quot;, false, false)<br/>  msg (&quot;healthy response to using toilet&#46;&quot;)<br/>}<br/>else {<br/>  if (game&#46;pov&#46;parent = farthest stall) {<br/>    play sound (&quot;58837__opposit__longfart2&#46;wav&quot;, false, false)<br/>    msg (&quot;unhealthy response to using toilet&#46;&quot;&lt;br/&gt;&lt;br/&gt;---&quot;)<br/>    SetObjectFlagOn (Xanadu, &quot;healthy&quot;)<br/>    SetObjectFlagOn (farthest stall, &quot;unclean&quot;)<br/>    wait {<br/>      msg (&quot;continued unhealthy response to using toilet&quot;)<br/>      MoveObject (rotten food, Item Warehouse 1)<br/>      IncreaseScore (10)<br/>      MoveObject (Xanadu, Long Hallway)<br/>      UnlockExit (JCLock)<br/>    }<br/>  }<br/>}</code></pre><br/><br/>As you see above, I set object flag &quot;healthy&quot; on the player, but I also have tried to disable the &quot;sick&quot; turn scripts as well.  Neither kills the TS's early.  It always runs through 12.  Currently I have a &quot;healthy flag&quot; tied to disabling each turn script.<br/><br/>I'm likely being an idiot here, but I just can't figure this out.  Also, I'm not savvy on code (I'm trying to learn), so please consider that when responding.  As always, thanks for your help!<br/><br/>XanMag",
      "PostDate": "2015-04-02T05:02:20+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "35630",
      "UserId": 0,
      "Username": "HegemonKhan",
      "UserAvatar": null,
      "UserGravatar": "a96cf34d8d97c57de38f54ee22b1759b",
      "EditableText": "[code:6iwuti8r]if (not GetBoolean(Xanadu, &quot;healthy&quot;)) {\n  EnableTurnScript (sick2)\n  EnableTurnScript (sick3)\n  EnableTurnScript (sick4)\n  SetTurnTimeout (2) {\n    msg (&quot;Your mouth, tongue, and throat have this odd, tingling sensation&#46;&quot;)\n  }\n  DisableTurnScript (sick1)\n}\nelse {\n  if (GetBoolean(farthest stall, &quot;unclean&quot;)) {\n    DisableTurnScript (sick1)\n    DisableTurnScript (sick2)\n    DisableTurnScript (sick3)\n    DisableTurnScript (sick4)\n  }\n}[/code:6iwuti8r]\n\nYou disable TS1 (sick1), thus it's not active, so when you get to the 'farthest stall' and set it to 'unclean=true', it doesn't do any good, as it never gets to cause the running of the:\n\n[code:6iwuti8r]else {\n  if (GetBoolean(farthest stall, &quot;unclean&quot;)) {\n    DisableTurnScript (sick1)\n    DisableTurnScript (sick2)\n    DisableTurnScript (sick3)\n    DisableTurnScript (sick4)\n  }\n}[/code:6iwuti8r]\n\nas it is disabled, so it never is checking that 'unclean' is now '=true', and thus your DisableTS (sick1-4), is never executed.\n\n-------\n\nso, two solutions:\n\ndon't DisableTS1 (sick1), until you reach the 'farthest stall', or, put your 'DisableTF (sick1-4)' in your 'use toilet' Verb's scripting (this would probably eliminate the need~use of your 'unclean' Boolean Attribute though).",
      "EditableFormat": "bbcode",
      "HTML": "<pre><code>if (not GetBoolean(Xanadu, &quot;healthy&quot;)) {<br/>  EnableTurnScript (sick2)<br/>  EnableTurnScript (sick3)<br/>  EnableTurnScript (sick4)<br/>  SetTurnTimeout (2) {<br/>    msg (&quot;Your mouth, tongue, and throat have this odd, tingling sensation&#46;&quot;)<br/>  }<br/>  DisableTurnScript (sick1)<br/>}<br/>else {<br/>  if (GetBoolean(farthest stall, &quot;unclean&quot;)) {<br/>    DisableTurnScript (sick1)<br/>    DisableTurnScript (sick2)<br/>    DisableTurnScript (sick3)<br/>    DisableTurnScript (sick4)<br/>  }<br/>}</code></pre><br/><br/>You disable TS1 (sick1), thus it's not active, so when you get to the 'farthest stall' and set it to 'unclean=true', it doesn't do any good, as it never gets to cause the running of the:<br/><br/><pre><code>else {<br/>  if (GetBoolean(farthest stall, &quot;unclean&quot;)) {<br/>    DisableTurnScript (sick1)<br/>    DisableTurnScript (sick2)<br/>    DisableTurnScript (sick3)<br/>    DisableTurnScript (sick4)<br/>  }<br/>}</code></pre><br/><br/>as it is disabled, so it never is checking that 'unclean' is now '=true', and thus your DisableTS (sick1-4), is never executed.<br/><br/>-------<br/><br/>so, two solutions:<br/><br/>don't DisableTS1 (sick1), until you reach the 'farthest stall', or, put your 'DisableTF (sick1-4)' in your 'use toilet' Verb's scripting (this would probably eliminate the need~use of your 'unclean' Boolean Attribute though).",
      "PostDate": "2015-04-02T06:49:15+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "35634",
      "UserId": 0,
      "Username": "XanMag",
      "UserAvatar": "7161_1436827710.jpg",
      "UserGravatar": "4b45a3afd18077f76f6569225c422bdb",
      "EditableText": "I removed the 'flag farthest stall to unclean after using toilet' just to see what would happen.  There is no difference in the result.  The unclean flag for the far stall is in place to simply unlock a room elsewhere on the map.  Am I interpreting what you suggest correctly?",
      "EditableFormat": "bbcode",
      "HTML": "I removed the 'flag farthest stall to unclean after using toilet' just to see what would happen.  There is no difference in the result.  The unclean flag for the far stall is in place to simply unlock a room elsewhere on the map.  Am I interpreting what you suggest correctly?",
      "PostDate": "2015-04-02T13:38:45+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "35635",
      "UserId": 0,
      "Username": "jaynabonne",
      "UserAvatar": "6579_1344778256.jpg",
      "UserGravatar": "379859a7f1952a65399fc63997e68f0b",
      "EditableText": "You should just be able to disable the turn scripts. So the fact that something is going wrong means that there is a problem elsewhere - probably in some code you haven't shown. Is it possible to post the entire game (or a large sample that exhibits the problem)?",
      "EditableFormat": "bbcode",
      "HTML": "You should just be able to disable the turn scripts. So the fact that something is going wrong means that there is a problem elsewhere - probably in some code you haven't shown. Is it possible to post the entire game (or a large sample that exhibits the problem)?",
      "PostDate": "2015-04-02T13:42:37+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "35636",
      "UserId": 0,
      "Username": "XanMag",
      "UserAvatar": "7161_1436827710.jpg",
      "UserGravatar": "4b45a3afd18077f76f6569225c422bdb",
      "EditableText": "GAME SCRIPTS:\n[code:qqm8ri2d]SetObjectFlagOn (Blerk, &quot;blerkclose&quot;)\nSetObjectFlagOn (Blerk, &quot;scuttles&quot;)\nSetObjectFlagOn (Protected Video Recorder, &quot;good&quot;)\nif (game&#46;pov = Blerk) {\n  if (ListContains(ScopeVisible(), Xanadu)) {\n    msg (&quot;Oo ug-lee fer-end Xan is here&#46;  Oo ike Xan&#46;&quot;)\n  }\n}\nif (game&#46;pov = Xanadu) {\n  if (ListContains(ScopeVisible(), Blerk)) {\n    msg (&quot;Blerk is here&#46;&quot;)\n  }\n}\nSetObjectFlagOn (Xanadu, &quot;healthy&quot;)\nSetObjectFlagOn (nearest stall, &quot;readnear1&quot;)\nSetObjectFlagOn (middle stall, &quot;readmid1&quot;)\nSetObjectFlagOn (farthest stall, &quot;readfar1&quot;)\nSetObjectFlagOff (nearest stall, &quot;readnear2&quot;)\nSetObjectFlagOff (nearest stall, &quot;readnear3&quot;)\nSetObjectFlagOff (middle stall, &quot;readnear2&quot;)\nSetObjectFlagOff (middle stall, &quot;readnear3&quot;)\nSetObjectFlagOff (farthest stall, &quot;readnear2&quot;)\nSetObjectFlagOff (farthest stall, &quot;readnear3&quot;)\nSetObjectFlagOn (Blerk, &quot;cautious&quot;)\nif (GetBoolean(Xanadu, &quot;healthy&quot;)) {\n  DisableTurnScript (sick1)\n  DisableTurnScript (sick2)\n  DisableTurnScript (sick3)\n  DisableTurnScript (sick4)\n}[/code:qqm8ri2d]\n\nEATING FOOD THAT STARTS TURNSCRIPT &quot;Sick1&quot;:\n[code:qqm8ri2d]    &lt;object name=&quot;rotten food&quot;&gt;\n      &lt;inherit name=&quot;editor_object&quot; /&gt;\n      &lt;inherit name=&quot;edible&quot; /&gt;\n      &lt;inroomdescription&gt;There is rotten food here&#46;&lt;/inroomdescription&gt;\n      &lt;look&gt;Well, you think is is food&#46;  It is mushy and all sorts of unattractive shades of green and blue and black&#46;  You can't imagine what this would do to the living critter that ate this&#46;  You shudder at the thought&#46;&lt;/look&gt;\n      &lt;take /&gt;\n      &lt;takemsg&gt;You scoop up the filthy mess of food&#46;  Just what do you plan on doing with that?&lt;/takemsg&gt;\n      &lt;attr name=&quot;feature_edible&quot; type=&quot;boolean&quot;&gt;false&lt;/attr&gt;\n      &lt;eathealth type=&quot;int&quot;&gt;-10&lt;/eathealth&gt;\n      &lt;eatmsg&gt;Ugh&#46;  You really hope this is worth it&#46;&#46;&#46; You bend a piece of it off&#46;  The heat from your hand partially melts the blob you now hold in your hand&#46;  You swear you feel it squirm and try not to think about what you are about to do&#46;  You put the nastiness to your mouth with one hand and pinch your nose closed with the other&#46;  It smells like old cheese and vinegar and feels like a snail&#46;  You tilt your head back and drop it in your mouth&#46;  You stifle back a vomit and force yourself to swallow&#46;  You almost immediately regret it&#46;&#46;&#46;&lt;/eatmsg&gt;\n      &lt;smell&gt;The stench is awful&#46;  You move it away from your nose&#46;  Why are you even lugging that nastiness around?&lt;/smell&gt;\n      &lt;eat type=&quot;script&quot;&gt;\n        if (not GetBoolean(Xanadu, &quot;healthy&quot;)) {\n          msg (&quot;You already feel like your innards are going to become your 'outards', so why would you want to eat more of this?&quot;)\n        }\n        else {\n          msg (&quot;Ugh&#46;  You really hope this is worth it&#46;&#46;&#46; You bend a piece of it off&#46;  The heat from your hand partially melts the blob you now hold in your hand&#46;  You swear you feel it squirm and try not to think about what you are about to do&#46;  You put the nastiness to your mouth with one hand and pinch your nose closed with the other&#46;  It smells like old cheese and vinegar and feels like a snail&#46;  You tilt your head back and drop it in your mouth&#46;  You stifle back a vomit and force yourself to swallow&#46;  You almost immediately regret it&#46;&#46;&#46;&quot;)\n          SetObjectFlagOff (Xanadu, &quot;healthy&quot;)\n          EnableTurnScript (sick1)\n        }\n      &lt;/eat&gt;\n    &lt;/object&gt;[/code:qqm8ri2d]\n\nFARTHEST STALL SCRIPT (the only one involving the turn script):\n[code:qqm8ri2d]&lt;object name=&quot;farthest stall&quot;&gt;\n      &lt;inherit name=&quot;editor_room&quot; /&gt;\n      &lt;description&gt;You are in a restroom stall farthest from the door&#46;  The walls are adorned with some clever bathroom quips&#46;  There is a toilet here that appears to be in normal condition&#46;&lt;/description&gt;\n      &lt;usedefaultprefix type=&quot;boolean&quot;&gt;false&lt;/usedefaultprefix&gt;\n      &lt;prefix&gt;&lt;!&#91;CDATA&#91;&lt;b&gt;&lt;u&gt;the&lt;/b&gt;&lt;/u&gt;&#93;&#93;&gt;&lt;/prefix&gt;\n      &lt;alias&gt;&lt;!&#91;CDATA&#91;&lt;b&gt;&lt;u&gt;farthest stall&lt;/b&gt;&lt;/u&gt;&#93;&#93;&gt;&lt;/alias&gt;\n      &lt;object name=&quot;Toilet1&quot;&gt;\n        &lt;inherit name=&quot;editor_object&quot; /&gt;\n        &lt;alias&gt;Toilet&lt;/alias&gt;\n        &lt;look&gt;This toilet is relatively clean, filled with a reasonable amount of water, and appears in good working order&#46;  There is a tank attached to the bowl&#46;  It looks ready for use&#46;&lt;/look&gt;\n        &lt;feature_usegive /&gt;\n        &lt;usedefaultprefix type=&quot;boolean&quot;&gt;false&lt;/usedefaultprefix&gt;\n        &lt;scenery /&gt;\n        &lt;use type=&quot;script&quot;&gt;&lt;!&#91;CDATA&#91;\n          if (GetBoolean(Xanadu, &quot;healthy&quot;)) {\n            play sound (&quot;152979__dianser72__piss-on-the-bath&#46;wav&quot;, false, false)\n            msg (&quot;You drop your drawers and pop a squat on the toilet&#46;  Yes, you do sit down because your aim is THAT bad&#46;  After a moment or two you have emptied your bowels into the bowl and, like a good boy, you wipe and flush&#46;  Congratulations&#46;&#46;&#46;&quot;)\n          }\n          else {\n            if (game&#46;pov&#46;parent = farthest stall) {\n              play sound (&quot;58837__opposit__longfart2&#46;wav&quot;, false, false)\n              msg (&quot;With your knees crossed coupled with your difficulty in standing up straight, you are having a hard time getting your pants down&#46;&lt;br/&gt;&lt;br/&gt;Just in the nick of time, you do get your pants opened up and you drop them to the floor&#46;&#46;&#46;&lt;br/&gt;&lt;br/&gt;Before you can sit down, however, the dam breaks and the flood gates open&#46;  At first, it just sounds like a high pressure fire hose&#46;  Sprinkled in are some odd toots and squeaks as the sulfurous emission continues&#46;  At the tail end (no pun intended) of your fecal display, the cacophony of noises erupts into a crescendo of honks, bloots, ka-phroops, slurps, and fizzles&#46;  Just when you thought the misery was over, the vomiting begins&#46;  The projectile barf flies forth in a fancy array of colors&#46;  The explosiveness of it all is enough to make Mt&#46; Pinatubo blush&#46;  You hurl, spew, chowdergargle, and blow chunks&#46;  You upchuck one last time and wipe your mouth on your sleeve&#46;  At least you are feeling a little better now&#46;&lt;br/&gt;&lt;br/&gt;You wipe your bleary, wet eyes and take in your surroundings&#46;&lt;br/&gt;&lt;br/&gt;---&quot;)\n              SetObjectFlagOn (Xanadu, &quot;healthy&quot;)\n              SetObjectFlagOn (farthest stall, &quot;unclean&quot;)\n              wait {\n                msg (&quot;Wow&#46;  Disgusting&#46;  I can't even describe how unclean this stall is&#46;  There are colors and smells and textures in here that go beyond rational explanation&#46;  Is it possible to hold this much filth in one human stomach?  Wait&#46;&#46;&#46; You don't remember eating anything that was neon green&#46;  How did shit get on the ceiling?  &lt;br/&gt;&lt;br/&gt;Anyway, you sheepishly back out of the stall, sneak quietly from the restroom, and walk quickly and quietly down the hallway&#46;  Although you feel sorry for whatever poor soul has to clean this up, you hope it gets done pretty quickly&#46;  Ick&#46;&#46;&#46;&quot;)\n                MoveObject (rotten food, Item Warehouse 1)\n                IncreaseScore (10)\n                MoveObject (Xanadu, Long Hallway)\n                UnlockExit (JCLock)\n              }\n            }\n          }\n        &#93;&#93;&gt;&lt;/use&gt;\n      &lt;/object&gt;[/code:qqm8ri2d]\n\nSICK TURN SCRIPTS:\n[code:qqm8ri2d]&lt;turnscript name=&quot;sick1&quot;&gt;\n    &lt;script&gt;\n      if (not GetBoolean(Xanadu, &quot;healthy&quot;)) {\n        EnableTurnScript (sick2)\n        EnableTurnScript (sick3)\n        EnableTurnScript (sick4)\n        SetTurnTimeout (2) {\n          msg (&quot;Your mouth, tongue, and throat have this odd, tingling sensation&#46;&quot;)\n        }\n        DisableTurnScript (sick1)\n      }\n      else {\n        if (GetBoolean(farthest stall, &quot;unclean&quot;)) {\n          DisableTurnScript (sick1)\n          DisableTurnScript (sick2)\n          DisableTurnScript (sick3)\n          DisableTurnScript (sick4)\n        }\n      }\n    &lt;/script&gt;\n  &lt;/turnscript&gt;\n  &lt;turnscript name=&quot;sick2&quot;&gt;\n    &lt;script&gt;\n      if (not GetBoolean(Xanadu, &quot;healthy&quot;)) {\n        SetTurnTimeout (5) {\n          msg (&quot;Aside from the tingly sensation in your mouth and throat, it now feels like little, drunk gymnasts are doing flips and twists in your gut&#46;  In doing so, those little gymnasts are somehow also playing an odd assortment of instruments that make some of the strangest gurgling, burbling, and sloshing sounds you have ever heard&#46;  Perhaps you should find your way to a restroom?&quot;)\n        }\n        DisableTurnScript (sick2)\n      }\n      else {\n        if (GetBoolean(farthest stall, &quot;unclean&quot;)) {\n          DisableTurnScript (sick1)\n          DisableTurnScript (sick2)\n          DisableTurnScript (sick3)\n          DisableTurnScript (sick4)\n        }\n      }\n    &lt;/script&gt;\n  &lt;/turnscript&gt;\n  &lt;turnscript name=&quot;sick3&quot;&gt;\n    &lt;script&gt;&lt;!&#91;CDATA&#91;\n      if (not GetBoolean(Xanadu, &quot;healthy&quot;)) {\n        SetTurnTimeout (8) {\n          msg (&quot;&lt;i&gt;'Oh, Dear Eight Pound, Six Ounce, Newborn Baby Jesus, in your golden, fleece diapers&#46;&#46;&#46;'&lt;/i&gt; you mutter as you begin your prayers&#46;  The twirling in your stomach has escalated to an all out riot&#46;  Whatever is in there, is fighting violently to get out&#46;  Your esophageal and anal sphincters are now on all out 'pucker mode'&#46;  Sweat has beaded on your brow&#46;  It is a cold and unwelcome sweat&#46;  You really, really, really need to find a restroom&#46;&quot;)\n        }\n        DisableTurnScript (sick3)\n      }\n      else {\n        if (GetBoolean(farthest stall, &quot;unclean&quot;)) {\n          DisableTurnScript (sick1)\n          DisableTurnScript (sick2)\n          DisableTurnScript (sick3)\n          DisableTurnScript (sick4)\n        }\n      }\n    &#93;&#93;&gt;&lt;/script&gt;\n  &lt;/turnscript&gt;\n  &lt;turnscript name=&quot;sick4&quot;&gt;\n    &lt;script&gt;&lt;!&#91;CDATA&#91;\n      if (not GetBoolean(Xanadu, &quot;healthy&quot;)) {\n        DisableTurnScript (sick4)\n        SetTurnTimeout (12) {\n          if (game&#46;pov&#46;parent = farthest stall) {\n            play sound (&quot;58837__opposit__longfart2&#46;wav&quot;, false, false)\n            msg (&quot;With your knees crossed coupled with your difficulty in standing up straight, you are having a hard time getting your pants down&#46;&lt;br/&gt;&lt;br/&gt;Just in the nick of time, you do get your pants opened up and you drop them to the floor&#46;&#46;&#46;&lt;br/&gt;&lt;br/&gt;Before you can sit down, however, the dam breaks and the flood gates open&#46;  At first, it just sounds like a high pressure fire hose&#46;  Sprinkled in are some odd toots and squeaks as the sulfurous emission continues&#46;  At the tail end (no pun intended) of your fecal display, the cacophony of noises erupts into a crescendo of honks, bloots, ka-phroops, slurps, and fizzles&#46;  Just when you thought the misery was over, the vomiting begins&#46;  The projectile barf flies forth in a fancy array of colors&#46;  The explosiveness of it all is enough to make Mt&#46; Pinatubo blush&#46;  You hurl, spew, chowdergargle, and blow chunks&#46;  You upchuck one last time and wipe your mouth on your sleeve&#46;  At least you are feeling a little better now&#46;&lt;br/&gt;&lt;br/&gt;You wipe your bleary, wet eyes and take in your surroundings&#46;&lt;br/&gt;---&quot;)\n            wait {\n              msg (&quot;Wow&#46;  Disgusting&#46;  I can't even describe how unclean this stall is&#46;  There are colors and smells and textures in here that go beyond rational explanation&#46;  Is it possible to hold this much filth in one human stomach?  Wait&#46;&#46;&#46; You don't remember eating anything that was neon green&#46;  How did shit get on the ceiling?  &lt;br/&gt;&lt;br/&gt;Anyway, you sheepishly back out of the stall, sneak quietly from the restroom, and walk quickly and quietly down the hallway&#46;  Although you feel sorry for whatever poor soul has to clean this up, you hope it gets done pretty quickly&#46;  Ick&#46;&#46;&#46;&lt;br/&gt;---&quot;)\n              MoveObject (rotten food, Item Warehouse 1)\n              IncreaseScore (10)\n              MoveObject (Xanadu, Long Hallway)\n              UnlockExit (JCLock)\n              SetObjectFlagOn (Xanadu, &quot;healthy&quot;)\n              DisableTurnScript (sick1)\n              DisableTurnScript (sick2)\n              DisableTurnScript (sick3)\n              DisableTurnScript (sick4)\n              SetObjectFlagOn (farthest stall, &quot;unclean&quot;)\n            }\n          }\n          else if (not game&#46;pov&#46;parent = farthest stall) {\n            play sound (&quot;202527__peridactyloptrix__farts-loud-and-obnoxious-x5&#46;wav&quot;, false, false)\n            msg (&quot;---&lt;br/&gt;You can no longer swallow your bathroom pride&#46;&#46;&#46;&lt;br/&gt;&lt;br/&gt;You drop your pants immediately where you stand&#46;  Before they hit the floor, the eruptions begin&#46;  There is so much leaving your body (from both ends), you quickly dehydrate and become disoriented&#46;  You stumble around, slipping in wet puddles&#46;  You remember dancing lights and spinning rooms&#46;  You stumble into a cold room and pass out&#46;&#46;&#46;&lt;br/&gt;---&lt;br/&gt;&quot;)\n            MoveObject (Xanadu, Prison Cell)\n            DecreaseHealth (10)\n            SetObjectFlagOn (Xanadu, &quot;healthy&quot;)\n          }\n        }\n      }\n    &#93;&#93;&gt;&lt;/script&gt;\n  &lt;/turnscript&gt;[/code:qqm8ri2d]\n\nROOM THAT IS UNLOCKED AFTER SETTING &quot;UNCLEAN FLAG&quot; ON FAR STALL:\n[code:qqm8ri2d]  &lt;object name=&quot;Corner Hallway3&quot;&gt;\n    &lt;inherit name=&quot;editor_room&quot; /&gt;\n    &lt;description&gt;This section of the hallway joins the east-west running hallway with a north-south hallway&#46;  There is an older looking door to your north&#46;  Above the door is a sign&#46;&lt;/description&gt;\n    &lt;alias&gt;&lt;!&#91;CDATA&#91;&lt;b&gt;&lt;u&gt;Corner Hallway&lt;/b&gt;&lt;/u&gt;&#93;&#93;&gt;&lt;/alias&gt;\n    &lt;exit alias=&quot;northwest&quot; to=&quot;Corner Hallway2&quot;&gt;\n      &lt;inherit name=&quot;northwestdirection&quot; /&gt;\n    &lt;/exit&gt;\n    &lt;exit alias=&quot;east&quot; to=&quot;Long Hallway1&quot;&gt;\n      &lt;inherit name=&quot;eastdirection&quot; /&gt;\n    &lt;/exit&gt;\n    &lt;exit name=&quot;JCLock&quot; alias=&quot;north&quot; to=&quot;Janitorial Closet&quot;&gt;\n      &lt;inherit name=&quot;northdirection&quot; /&gt;\n      &lt;locked /&gt;\n      &lt;lockmessage&gt;This is the only door you have seen so far that looks like a normal locked door&#46;  There is no fob keypad here, just a doorknob with a place for a key in the middle&#46;  It sounds like someone is on the other side of the door&#46;  You probably should leave it alone for now&#46;&lt;/lockmessage&gt;\n    &lt;/exit&gt;\n    &lt;object name=&quot;sign7&quot;&gt;\n      &lt;inherit name=&quot;editor_object&quot; /&gt;\n      &lt;look&gt;It's a sign&#46;  You should read it&#46;&lt;/look&gt;\n      &lt;takemsg&gt;No need to take the sign&#46;  Just read it&#46;&lt;/takemsg&gt;\n      &lt;alias&gt;sign&lt;/alias&gt;\n      &lt;read type=&quot;script&quot;&gt;\n        msg (&quot;The sign is handwritten and fixed above the door&#46;&quot;)\n        picture (&quot;janitors sign&#46;jpg&quot;)\n      &lt;/read&gt;\n    &lt;/object&gt;\n    &lt;object name=&quot;older door&quot;&gt;\n      &lt;inherit name=&quot;editor_object&quot; /&gt;\n      &lt;feature_usegive /&gt;\n      &lt;look type=&quot;script&quot;&gt;\n        if (not GetBoolean(farthest stall, &quot;unclean&quot;)) {\n          msg (&quot;This older looking door is shut and locked&#46;  There is a doorknob with a keyhole in it and a small window in the middle of the door&#46;&quot;)\n        }\n        else {\n          msg (&quot;The door is slightly ajar&#46;  Whoever was in here moments ago, must have been failed to shut the door completely is their haste to leave&#46;&quot;)\n        }\n      &lt;/look&gt;\n      &lt;useon type=&quot;scriptdictionary&quot;&gt;\n        &lt;item key=&quot;key fob E&quot;&gt;&lt;!&#91;CDATA&#91;\n          msg (&quot;You're not sure what to expect, but you wave an &lt;i&gt;electronic fob&lt;/i&gt; in front of a &lt;i&gt;non-electronic&lt;/i&gt; locked door knob&#46;  As expected (or not&#46;&#46;&#46;), nothing spectacular happens&#46;  Looks like you'll need a good old fashioned key to get in here?&quot;)\n        &#93;&#93;&gt;&lt;/item&gt;\n      &lt;/useon&gt;\n    &lt;/object&gt;\n    &lt;command name=&quot;look through window&quot;&gt;\n      &lt;pattern&gt;look through window; look into window&lt;/pattern&gt;\n      &lt;script&gt;\n        if (GetBoolean(farthest stall, &quot;unclean&quot;)) {\n          msg (&quot;You look through the window into a dark room filled with cleaning supplies&#46;  It doesn't appear that anyone is in this room right now&#46;&quot;)\n        }\n        else {\n          msg (&quot;You peek through the window into a dark room&#46;  It's hard to see much, but it looks to be a room filled with an assortment of cleaning supplies&#46;  You also see a man currently turned away from you tending to the shelves on the opposite wall&#46;  He appears to be enjoying his job as he is wearing big headphones and bee-bopping to whatever music is issuing from them&#46;&quot;)\n        }\n      &lt;/script&gt;\n    &lt;/command&gt;\n    &lt;object name=&quot;small window&quot;&gt;\n      &lt;inherit name=&quot;editor_object&quot; /&gt;\n      &lt;visible /&gt;\n      &lt;look&gt;Just a small window&#46;  Try looking through it?&lt;/look&gt;\n      &lt;scenery /&gt;\n    &lt;/object&gt;\n    &lt;command name=&quot;knock on door&quot;&gt;\n      &lt;pattern&gt;knock; knock on door; knock on older door&lt;/pattern&gt;\n      &lt;script&gt;\n        if (GetBoolean(farthest stall, &quot;unclean&quot;)) {\n          msg (&quot;You knock on the door, but no one is in the room to hear your knock&#46;&quot;)\n        }\n        else {\n          msg (&quot;He's a janitor, right?  Even if he is a Dingo, how tough can he be?  You steel yourself and knock on the door&#46;  There is no response&#46;  You knock louder&#46;  Hmmm&#46;&#46;&#46; Nothing&#46;  He's probably got his headphones cranked up so loud that he can't even hear you knocking&#46;  No worries though&#46;  Probably not worth getting his attention anyway&#46;&quot;)\n        }[/code:qqm8ri2d]\n\n\nThanks for your help.  Again - you all are awesome!\n\nXanMag",
      "EditableFormat": "bbcode",
      "HTML": "GAME SCRIPTS:<br/><pre><code>SetObjectFlagOn (Blerk, &quot;blerkclose&quot;)<br/>SetObjectFlagOn (Blerk, &quot;scuttles&quot;)<br/>SetObjectFlagOn (Protected Video Recorder, &quot;good&quot;)<br/>if (game&#46;pov = Blerk) {<br/>  if (ListContains(ScopeVisible(), Xanadu)) {<br/>    msg (&quot;Oo ug-lee fer-end Xan is here&#46;  Oo ike Xan&#46;&quot;)<br/>  }<br/>}<br/>if (game&#46;pov = Xanadu) {<br/>  if (ListContains(ScopeVisible(), Blerk)) {<br/>    msg (&quot;Blerk is here&#46;&quot;)<br/>  }<br/>}<br/>SetObjectFlagOn (Xanadu, &quot;healthy&quot;)<br/>SetObjectFlagOn (nearest stall, &quot;readnear1&quot;)<br/>SetObjectFlagOn (middle stall, &quot;readmid1&quot;)<br/>SetObjectFlagOn (farthest stall, &quot;readfar1&quot;)<br/>SetObjectFlagOff (nearest stall, &quot;readnear2&quot;)<br/>SetObjectFlagOff (nearest stall, &quot;readnear3&quot;)<br/>SetObjectFlagOff (middle stall, &quot;readnear2&quot;)<br/>SetObjectFlagOff (middle stall, &quot;readnear3&quot;)<br/>SetObjectFlagOff (farthest stall, &quot;readnear2&quot;)<br/>SetObjectFlagOff (farthest stall, &quot;readnear3&quot;)<br/>SetObjectFlagOn (Blerk, &quot;cautious&quot;)<br/>if (GetBoolean(Xanadu, &quot;healthy&quot;)) {<br/>  DisableTurnScript (sick1)<br/>  DisableTurnScript (sick2)<br/>  DisableTurnScript (sick3)<br/>  DisableTurnScript (sick4)<br/>}</code></pre><br/><br/>EATING FOOD THAT STARTS TURNSCRIPT &quot;Sick1&quot;:<br/><pre><code>    &lt;object name=&quot;rotten food&quot;&gt;<br/>      &lt;inherit name=&quot;editor_object&quot; /&gt;<br/>      &lt;inherit name=&quot;edible&quot; /&gt;<br/>      &lt;inroomdescription&gt;There is rotten food here&#46;&lt;/inroomdescription&gt;<br/>      &lt;look&gt;Well, you think is is food&#46;  It is mushy and all sorts of unattractive shades of green and blue and black&#46;  You can't imagine what this would do to the living critter that ate this&#46;  You shudder at the thought&#46;&lt;/look&gt;<br/>      &lt;take /&gt;<br/>      &lt;takemsg&gt;You scoop up the filthy mess of food&#46;  Just what do you plan on doing with that?&lt;/takemsg&gt;<br/>      &lt;attr name=&quot;feature_edible&quot; type=&quot;boolean&quot;&gt;false&lt;/attr&gt;<br/>      &lt;eathealth type=&quot;int&quot;&gt;-10&lt;/eathealth&gt;<br/>      &lt;eatmsg&gt;Ugh&#46;  You really hope this is worth it&#46;&#46;&#46; You bend a piece of it off&#46;  The heat from your hand partially melts the blob you now hold in your hand&#46;  You swear you feel it squirm and try not to think about what you are about to do&#46;  You put the nastiness to your mouth with one hand and pinch your nose closed with the other&#46;  It smells like old cheese and vinegar and feels like a snail&#46;  You tilt your head back and drop it in your mouth&#46;  You stifle back a vomit and force yourself to swallow&#46;  You almost immediately regret it&#46;&#46;&#46;&lt;/eatmsg&gt;<br/>      &lt;smell&gt;The stench is awful&#46;  You move it away from your nose&#46;  Why are you even lugging that nastiness around?&lt;/smell&gt;<br/>      &lt;eat type=&quot;script&quot;&gt;<br/>        if (not GetBoolean(Xanadu, &quot;healthy&quot;)) {<br/>          msg (&quot;You already feel like your innards are going to become your 'outards', so why would you want to eat more of this?&quot;)<br/>        }<br/>        else {<br/>          msg (&quot;Ugh&#46;  You really hope this is worth it&#46;&#46;&#46; You bend a piece of it off&#46;  The heat from your hand partially melts the blob you now hold in your hand&#46;  You swear you feel it squirm and try not to think about what you are about to do&#46;  You put the nastiness to your mouth with one hand and pinch your nose closed with the other&#46;  It smells like old cheese and vinegar and feels like a snail&#46;  You tilt your head back and drop it in your mouth&#46;  You stifle back a vomit and force yourself to swallow&#46;  You almost immediately regret it&#46;&#46;&#46;&quot;)<br/>          SetObjectFlagOff (Xanadu, &quot;healthy&quot;)<br/>          EnableTurnScript (sick1)<br/>        }<br/>      &lt;/eat&gt;<br/>    &lt;/object&gt;</code></pre><br/><br/>FARTHEST STALL SCRIPT (the only one involving the turn script):<br/><pre><code>&lt;object name=&quot;farthest stall&quot;&gt;<br/>      &lt;inherit name=&quot;editor_room&quot; /&gt;<br/>      &lt;description&gt;You are in a restroom stall farthest from the door&#46;  The walls are adorned with some clever bathroom quips&#46;  There is a toilet here that appears to be in normal condition&#46;&lt;/description&gt;<br/>      &lt;usedefaultprefix type=&quot;boolean&quot;&gt;false&lt;/usedefaultprefix&gt;<br/>      &lt;prefix&gt;&lt;!&#91;CDATA&#91;&lt;b&gt;&lt;u&gt;the&lt;/b&gt;&lt;/u&gt;&#93;&#93;&gt;&lt;/prefix&gt;<br/>      &lt;alias&gt;&lt;!&#91;CDATA&#91;&lt;b&gt;&lt;u&gt;farthest stall&lt;/b&gt;&lt;/u&gt;&#93;&#93;&gt;&lt;/alias&gt;<br/>      &lt;object name=&quot;Toilet1&quot;&gt;<br/>        &lt;inherit name=&quot;editor_object&quot; /&gt;<br/>        &lt;alias&gt;Toilet&lt;/alias&gt;<br/>        &lt;look&gt;This toilet is relatively clean, filled with a reasonable amount of water, and appears in good working order&#46;  There is a tank attached to the bowl&#46;  It looks ready for use&#46;&lt;/look&gt;<br/>        &lt;feature_usegive /&gt;<br/>        &lt;usedefaultprefix type=&quot;boolean&quot;&gt;false&lt;/usedefaultprefix&gt;<br/>        &lt;scenery /&gt;<br/>        &lt;use type=&quot;script&quot;&gt;&lt;!&#91;CDATA&#91;<br/>          if (GetBoolean(Xanadu, &quot;healthy&quot;)) {<br/>            play sound (&quot;152979__dianser72__piss-on-the-bath&#46;wav&quot;, false, false)<br/>            msg (&quot;You drop your drawers and pop a squat on the toilet&#46;  Yes, you do sit down because your aim is THAT bad&#46;  After a moment or two you have emptied your bowels into the bowl and, like a good boy, you wipe and flush&#46;  Congratulations&#46;&#46;&#46;&quot;)<br/>          }<br/>          else {<br/>            if (game&#46;pov&#46;parent = farthest stall) {<br/>              play sound (&quot;58837__opposit__longfart2&#46;wav&quot;, false, false)<br/>              msg (&quot;With your knees crossed coupled with your difficulty in standing up straight, you are having a hard time getting your pants down&#46;&lt;br/&gt;&lt;br/&gt;Just in the nick of time, you do get your pants opened up and you drop them to the floor&#46;&#46;&#46;&lt;br/&gt;&lt;br/&gt;Before you can sit down, however, the dam breaks and the flood gates open&#46;  At first, it just sounds like a high pressure fire hose&#46;  Sprinkled in are some odd toots and squeaks as the sulfurous emission continues&#46;  At the tail end (no pun intended) of your fecal display, the cacophony of noises erupts into a crescendo of honks, bloots, ka-phroops, slurps, and fizzles&#46;  Just when you thought the misery was over, the vomiting begins&#46;  The projectile barf flies forth in a fancy array of colors&#46;  The explosiveness of it all is enough to make Mt&#46; Pinatubo blush&#46;  You hurl, spew, chowdergargle, and blow chunks&#46;  You upchuck one last time and wipe your mouth on your sleeve&#46;  At least you are feeling a little better now&#46;&lt;br/&gt;&lt;br/&gt;You wipe your bleary, wet eyes and take in your surroundings&#46;&lt;br/&gt;&lt;br/&gt;---&quot;)<br/>              SetObjectFlagOn (Xanadu, &quot;healthy&quot;)<br/>              SetObjectFlagOn (farthest stall, &quot;unclean&quot;)<br/>              wait {<br/>                msg (&quot;Wow&#46;  Disgusting&#46;  I can't even describe how unclean this stall is&#46;  There are colors and smells and textures in here that go beyond rational explanation&#46;  Is it possible to hold this much filth in one human stomach?  Wait&#46;&#46;&#46; You don't remember eating anything that was neon green&#46;  How did shit get on the ceiling?  &lt;br/&gt;&lt;br/&gt;Anyway, you sheepishly back out of the stall, sneak quietly from the restroom, and walk quickly and quietly down the hallway&#46;  Although you feel sorry for whatever poor soul has to clean this up, you hope it gets done pretty quickly&#46;  Ick&#46;&#46;&#46;&quot;)<br/>                MoveObject (rotten food, Item Warehouse 1)<br/>                IncreaseScore (10)<br/>                MoveObject (Xanadu, Long Hallway)<br/>                UnlockExit (JCLock)<br/>              }<br/>            }<br/>          }<br/>        &#93;&#93;&gt;&lt;/use&gt;<br/>      &lt;/object&gt;</code></pre><br/><br/>SICK TURN SCRIPTS:<br/><pre><code>&lt;turnscript name=&quot;sick1&quot;&gt;<br/>    &lt;script&gt;<br/>      if (not GetBoolean(Xanadu, &quot;healthy&quot;)) {<br/>        EnableTurnScript (sick2)<br/>        EnableTurnScript (sick3)<br/>        EnableTurnScript (sick4)<br/>        SetTurnTimeout (2) {<br/>          msg (&quot;Your mouth, tongue, and throat have this odd, tingling sensation&#46;&quot;)<br/>        }<br/>        DisableTurnScript (sick1)<br/>      }<br/>      else {<br/>        if (GetBoolean(farthest stall, &quot;unclean&quot;)) {<br/>          DisableTurnScript (sick1)<br/>          DisableTurnScript (sick2)<br/>          DisableTurnScript (sick3)<br/>          DisableTurnScript (sick4)<br/>        }<br/>      }<br/>    &lt;/script&gt;<br/>  &lt;/turnscript&gt;<br/>  &lt;turnscript name=&quot;sick2&quot;&gt;<br/>    &lt;script&gt;<br/>      if (not GetBoolean(Xanadu, &quot;healthy&quot;)) {<br/>        SetTurnTimeout (5) {<br/>          msg (&quot;Aside from the tingly sensation in your mouth and throat, it now feels like little, drunk gymnasts are doing flips and twists in your gut&#46;  In doing so, those little gymnasts are somehow also playing an odd assortment of instruments that make some of the strangest gurgling, burbling, and sloshing sounds you have ever heard&#46;  Perhaps you should find your way to a restroom?&quot;)<br/>        }<br/>        DisableTurnScript (sick2)<br/>      }<br/>      else {<br/>        if (GetBoolean(farthest stall, &quot;unclean&quot;)) {<br/>          DisableTurnScript (sick1)<br/>          DisableTurnScript (sick2)<br/>          DisableTurnScript (sick3)<br/>          DisableTurnScript (sick4)<br/>        }<br/>      }<br/>    &lt;/script&gt;<br/>  &lt;/turnscript&gt;<br/>  &lt;turnscript name=&quot;sick3&quot;&gt;<br/>    &lt;script&gt;&lt;!&#91;CDATA&#91;<br/>      if (not GetBoolean(Xanadu, &quot;healthy&quot;)) {<br/>        SetTurnTimeout (8) {<br/>          msg (&quot;&lt;i&gt;'Oh, Dear Eight Pound, Six Ounce, Newborn Baby Jesus, in your golden, fleece diapers&#46;&#46;&#46;'&lt;/i&gt; you mutter as you begin your prayers&#46;  The twirling in your stomach has escalated to an all out riot&#46;  Whatever is in there, is fighting violently to get out&#46;  Your esophageal and anal sphincters are now on all out 'pucker mode'&#46;  Sweat has beaded on your brow&#46;  It is a cold and unwelcome sweat&#46;  You really, really, really need to find a restroom&#46;&quot;)<br/>        }<br/>        DisableTurnScript (sick3)<br/>      }<br/>      else {<br/>        if (GetBoolean(farthest stall, &quot;unclean&quot;)) {<br/>          DisableTurnScript (sick1)<br/>          DisableTurnScript (sick2)<br/>          DisableTurnScript (sick3)<br/>          DisableTurnScript (sick4)<br/>        }<br/>      }<br/>    &#93;&#93;&gt;&lt;/script&gt;<br/>  &lt;/turnscript&gt;<br/>  &lt;turnscript name=&quot;sick4&quot;&gt;<br/>    &lt;script&gt;&lt;!&#91;CDATA&#91;<br/>      if (not GetBoolean(Xanadu, &quot;healthy&quot;)) {<br/>        DisableTurnScript (sick4)<br/>        SetTurnTimeout (12) {<br/>          if (game&#46;pov&#46;parent = farthest stall) {<br/>            play sound (&quot;58837__opposit__longfart2&#46;wav&quot;, false, false)<br/>            msg (&quot;With your knees crossed coupled with your difficulty in standing up straight, you are having a hard time getting your pants down&#46;&lt;br/&gt;&lt;br/&gt;Just in the nick of time, you do get your pants opened up and you drop them to the floor&#46;&#46;&#46;&lt;br/&gt;&lt;br/&gt;Before you can sit down, however, the dam breaks and the flood gates open&#46;  At first, it just sounds like a high pressure fire hose&#46;  Sprinkled in are some odd toots and squeaks as the sulfurous emission continues&#46;  At the tail end (no pun intended) of your fecal display, the cacophony of noises erupts into a crescendo of honks, bloots, ka-phroops, slurps, and fizzles&#46;  Just when you thought the misery was over, the vomiting begins&#46;  The projectile barf flies forth in a fancy array of colors&#46;  The explosiveness of it all is enough to make Mt&#46; Pinatubo blush&#46;  You hurl, spew, chowdergargle, and blow chunks&#46;  You upchuck one last time and wipe your mouth on your sleeve&#46;  At least you are feeling a little better now&#46;&lt;br/&gt;&lt;br/&gt;You wipe your bleary, wet eyes and take in your surroundings&#46;&lt;br/&gt;---&quot;)<br/>            wait {<br/>              msg (&quot;Wow&#46;  Disgusting&#46;  I can't even describe how unclean this stall is&#46;  There are colors and smells and textures in here that go beyond rational explanation&#46;  Is it possible to hold this much filth in one human stomach?  Wait&#46;&#46;&#46; You don't remember eating anything that was neon green&#46;  How did shit get on the ceiling?  &lt;br/&gt;&lt;br/&gt;Anyway, you sheepishly back out of the stall, sneak quietly from the restroom, and walk quickly and quietly down the hallway&#46;  Although you feel sorry for whatever poor soul has to clean this up, you hope it gets done pretty quickly&#46;  Ick&#46;&#46;&#46;&lt;br/&gt;---&quot;)<br/>              MoveObject (rotten food, Item Warehouse 1)<br/>              IncreaseScore (10)<br/>              MoveObject (Xanadu, Long Hallway)<br/>              UnlockExit (JCLock)<br/>              SetObjectFlagOn (Xanadu, &quot;healthy&quot;)<br/>              DisableTurnScript (sick1)<br/>              DisableTurnScript (sick2)<br/>              DisableTurnScript (sick3)<br/>              DisableTurnScript (sick4)<br/>              SetObjectFlagOn (farthest stall, &quot;unclean&quot;)<br/>            }<br/>          }<br/>          else if (not game&#46;pov&#46;parent = farthest stall) {<br/>            play sound (&quot;202527__peridactyloptrix__farts-loud-and-obnoxious-x5&#46;wav&quot;, false, false)<br/>            msg (&quot;---&lt;br/&gt;You can no longer swallow your bathroom pride&#46;&#46;&#46;&lt;br/&gt;&lt;br/&gt;You drop your pants immediately where you stand&#46;  Before they hit the floor, the eruptions begin&#46;  There is so much leaving your body (from both ends), you quickly dehydrate and become disoriented&#46;  You stumble around, slipping in wet puddles&#46;  You remember dancing lights and spinning rooms&#46;  You stumble into a cold room and pass out&#46;&#46;&#46;&lt;br/&gt;---&lt;br/&gt;&quot;)<br/>            MoveObject (Xanadu, Prison Cell)<br/>            DecreaseHealth (10)<br/>            SetObjectFlagOn (Xanadu, &quot;healthy&quot;)<br/>          }<br/>        }<br/>      }<br/>    &#93;&#93;&gt;&lt;/script&gt;<br/>  &lt;/turnscript&gt;</code></pre><br/><br/>ROOM THAT IS UNLOCKED AFTER SETTING &quot;UNCLEAN FLAG&quot; ON FAR STALL:<br/><pre><code>  &lt;object name=&quot;Corner Hallway3&quot;&gt;<br/>    &lt;inherit name=&quot;editor_room&quot; /&gt;<br/>    &lt;description&gt;This section of the hallway joins the east-west running hallway with a north-south hallway&#46;  There is an older looking door to your north&#46;  Above the door is a sign&#46;&lt;/description&gt;<br/>    &lt;alias&gt;&lt;!&#91;CDATA&#91;&lt;b&gt;&lt;u&gt;Corner Hallway&lt;/b&gt;&lt;/u&gt;&#93;&#93;&gt;&lt;/alias&gt;<br/>    &lt;exit alias=&quot;northwest&quot; to=&quot;Corner Hallway2&quot;&gt;<br/>      &lt;inherit name=&quot;northwestdirection&quot; /&gt;<br/>    &lt;/exit&gt;<br/>    &lt;exit alias=&quot;east&quot; to=&quot;Long Hallway1&quot;&gt;<br/>      &lt;inherit name=&quot;eastdirection&quot; /&gt;<br/>    &lt;/exit&gt;<br/>    &lt;exit name=&quot;JCLock&quot; alias=&quot;north&quot; to=&quot;Janitorial Closet&quot;&gt;<br/>      &lt;inherit name=&quot;northdirection&quot; /&gt;<br/>      &lt;locked /&gt;<br/>      &lt;lockmessage&gt;This is the only door you have seen so far that looks like a normal locked door&#46;  There is no fob keypad here, just a doorknob with a place for a key in the middle&#46;  It sounds like someone is on the other side of the door&#46;  You probably should leave it alone for now&#46;&lt;/lockmessage&gt;<br/>    &lt;/exit&gt;<br/>    &lt;object name=&quot;sign7&quot;&gt;<br/>      &lt;inherit name=&quot;editor_object&quot; /&gt;<br/>      &lt;look&gt;It's a sign&#46;  You should read it&#46;&lt;/look&gt;<br/>      &lt;takemsg&gt;No need to take the sign&#46;  Just read it&#46;&lt;/takemsg&gt;<br/>      &lt;alias&gt;sign&lt;/alias&gt;<br/>      &lt;read type=&quot;script&quot;&gt;<br/>        msg (&quot;The sign is handwritten and fixed above the door&#46;&quot;)<br/>        picture (&quot;janitors sign&#46;jpg&quot;)<br/>      &lt;/read&gt;<br/>    &lt;/object&gt;<br/>    &lt;object name=&quot;older door&quot;&gt;<br/>      &lt;inherit name=&quot;editor_object&quot; /&gt;<br/>      &lt;feature_usegive /&gt;<br/>      &lt;look type=&quot;script&quot;&gt;<br/>        if (not GetBoolean(farthest stall, &quot;unclean&quot;)) {<br/>          msg (&quot;This older looking door is shut and locked&#46;  There is a doorknob with a keyhole in it and a small window in the middle of the door&#46;&quot;)<br/>        }<br/>        else {<br/>          msg (&quot;The door is slightly ajar&#46;  Whoever was in here moments ago, must have been failed to shut the door completely is their haste to leave&#46;&quot;)<br/>        }<br/>      &lt;/look&gt;<br/>      &lt;useon type=&quot;scriptdictionary&quot;&gt;<br/>        &lt;item key=&quot;key fob E&quot;&gt;&lt;!&#91;CDATA&#91;<br/>          msg (&quot;You're not sure what to expect, but you wave an &lt;i&gt;electronic fob&lt;/i&gt; in front of a &lt;i&gt;non-electronic&lt;/i&gt; locked door knob&#46;  As expected (or not&#46;&#46;&#46;), nothing spectacular happens&#46;  Looks like you'll need a good old fashioned key to get in here?&quot;)<br/>        &#93;&#93;&gt;&lt;/item&gt;<br/>      &lt;/useon&gt;<br/>    &lt;/object&gt;<br/>    &lt;command name=&quot;look through window&quot;&gt;<br/>      &lt;pattern&gt;look through window; look into window&lt;/pattern&gt;<br/>      &lt;script&gt;<br/>        if (GetBoolean(farthest stall, &quot;unclean&quot;)) {<br/>          msg (&quot;You look through the window into a dark room filled with cleaning supplies&#46;  It doesn't appear that anyone is in this room right now&#46;&quot;)<br/>        }<br/>        else {<br/>          msg (&quot;You peek through the window into a dark room&#46;  It's hard to see much, but it looks to be a room filled with an assortment of cleaning supplies&#46;  You also see a man currently turned away from you tending to the shelves on the opposite wall&#46;  He appears to be enjoying his job as he is wearing big headphones and bee-bopping to whatever music is issuing from them&#46;&quot;)<br/>        }<br/>      &lt;/script&gt;<br/>    &lt;/command&gt;<br/>    &lt;object name=&quot;small window&quot;&gt;<br/>      &lt;inherit name=&quot;editor_object&quot; /&gt;<br/>      &lt;visible /&gt;<br/>      &lt;look&gt;Just a small window&#46;  Try looking through it?&lt;/look&gt;<br/>      &lt;scenery /&gt;<br/>    &lt;/object&gt;<br/>    &lt;command name=&quot;knock on door&quot;&gt;<br/>      &lt;pattern&gt;knock; knock on door; knock on older door&lt;/pattern&gt;<br/>      &lt;script&gt;<br/>        if (GetBoolean(farthest stall, &quot;unclean&quot;)) {<br/>          msg (&quot;You knock on the door, but no one is in the room to hear your knock&#46;&quot;)<br/>        }<br/>        else {<br/>          msg (&quot;He's a janitor, right?  Even if he is a Dingo, how tough can he be?  You steel yourself and knock on the door&#46;  There is no response&#46;  You knock louder&#46;  Hmmm&#46;&#46;&#46; Nothing&#46;  He's probably got his headphones cranked up so loud that he can't even hear you knocking&#46;  No worries though&#46;  Probably not worth getting his attention anyway&#46;&quot;)<br/>        }</code></pre><br/><br/><br/>Thanks for your help.  Again - you all are awesome!<br/><br/>XanMag",
      "PostDate": "2015-04-02T14:16:48+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "35637",
      "UserId": 0,
      "Username": "jaynabonne",
      "UserAvatar": "6579_1344778256.jpg",
      "UserGravatar": "379859a7f1952a65399fc63997e68f0b",
      "EditableText": "sick2 runs as soon as sick1 kicks it off. It sets a turn timeout. You can't stop a turn timeout once you kick if off, even if you disable sick2. You should have a count in sick2, and take effect when it reaches the desired value. That way if you disable the turn scripts, then all comes to a halt.",
      "EditableFormat": "bbcode",
      "HTML": "sick2 runs as soon as sick1 kicks it off. It sets a turn timeout. You can't stop a turn timeout once you kick if off, even if you disable sick2. You should have a count in sick2, and take effect when it reaches the desired value. That way if you disable the turn scripts, then all comes to a halt.",
      "PostDate": "2015-04-02T15:06:20+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "35638",
      "UserId": 0,
      "Username": "XanMag",
      "UserAvatar": "7161_1436827710.jpg",
      "UserGravatar": "4b45a3afd18077f76f6569225c422bdb",
      "EditableText": "I've got some tinkering to do when I get home, but I guess I'm still a bit unsure what it takes to execute that.  When you say &quot;You should have a count in sick2, and take effect when it reaches the desired value&quot;, I'm not really sure what that would look like (actually I interpret what I have as that!!).\n\nI figured by having the 'If object player does not have healthy flag'(which gets flagged after using toilet), that the code would run the 'Else' script and not the 'Then' script.  I guess I don't get it but stinker-tinker I shall.\n\nSorry for making this more difficult than it most certainly is.  And a perpetual thank you...\n\nXanMag",
      "EditableFormat": "bbcode",
      "HTML": "I've got some tinkering to do when I get home, but I guess I'm still a bit unsure what it takes to execute that.  When you say &quot;You should have a count in sick2, and take effect when it reaches the desired value&quot;, I'm not really sure what that would look like (actually I interpret what I have as that!!).<br/><br/>I figured by having the 'If object player does not have healthy flag'(which gets flagged after using toilet), that the code would run the 'Else' script and not the 'Then' script.  I guess I don't get it but stinker-tinker I shall.<br/><br/>Sorry for making this more difficult than it most certainly is.  And a perpetual thank you...<br/><br/>XanMag",
      "PostDate": "2015-04-02T15:56:03+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "35639",
      "UserId": 0,
      "Username": "HegemonKhan",
      "UserAvatar": null,
      "UserGravatar": "a96cf34d8d97c57de38f54ee22b1759b",
      "EditableText": "'tick counter', concept:\n\nx=0\nx=x+1 (it doesn't have to be 1, it can be any value, and for that matter, it doesn't have to be a ' + ' ~ addition, it can be any such OPERATOR~operation)\n\nat (if x=5), do script(s)1\nat (if x=10), do script(s)2\n\nx=0\nx=(0)+1=1\nx=(1)+1=2\nx=(2)+1=3\nx=(3)+1=4\nx=(4)+1=5 ---&gt; script(s)1\nx=(5)+1=6\nx=(6)+1=7\nx=(7)+1=8\nx=(8)+1=9\nx=(9)+1=10 ----&gt; script(s)2\n\n[code:1oqe22rp]&lt;game name=&quot;xxx&quot;&gt;\n  &lt;attr name=&quot;x&quot; type=&quot;int&quot;&gt;0&lt;/attr&gt;\n&lt;/game&gt;\n\n&lt;turnscript name=&quot;turnscript1&quot;&gt;\n  &lt;enabled&gt;\n  &lt;script&gt;\n    if (game&#46;x = 5) {\n      msg (&quot;hi&quot;)\n      game&#46;x=game&#46;x+1\n    } else if (game&#46;x = 10) {\n      msg (&quot;bye&quot;)\n      game&#46;x = 0\n    } else {\n      game&#46;x=game&#46;x+1\n    }\n  &lt;/script&gt;\n&lt;/turnscript&gt;[/code:1oqe22rp]",
      "EditableFormat": "bbcode",
      "HTML": "'tick counter', concept:<br/><br/>x=0<br/>x=x+1 (it doesn't have to be 1, it can be any value, and for that matter, it doesn't have to be a ' + ' ~ addition, it can be any such OPERATOR~operation)<br/><br/>at (if x=5), do script(s)1<br/>at (if x=10), do script(s)2<br/><br/>x=0<br/>x=(0)+1=1<br/>x=(1)+1=2<br/>x=(2)+1=3<br/>x=(3)+1=4<br/>x=(4)+1=5 ---&gt; script(s)1<br/>x=(5)+1=6<br/>x=(6)+1=7<br/>x=(7)+1=8<br/>x=(8)+1=9<br/>x=(9)+1=10 ----&gt; script(s)2<br/><br/><pre><code>&lt;game name=&quot;xxx&quot;&gt;<br/>  &lt;attr name=&quot;x&quot; type=&quot;int&quot;&gt;0&lt;/attr&gt;<br/>&lt;/game&gt;<br/><br/>&lt;turnscript name=&quot;turnscript1&quot;&gt;<br/>  &lt;enabled&gt;<br/>  &lt;script&gt;<br/>    if (game&#46;x = 5) {<br/>      msg (&quot;hi&quot;)<br/>      game&#46;x=game&#46;x+1<br/>    } else if (game&#46;x = 10) {<br/>      msg (&quot;bye&quot;)<br/>      game&#46;x = 0<br/>    } else {<br/>      game&#46;x=game&#46;x+1<br/>    }<br/>  &lt;/script&gt;<br/>&lt;/turnscript&gt;</code></pre>",
      "PostDate": "2015-04-02T21:55:40+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "35640",
      "UserId": 0,
      "Username": "jaynabonne",
      "UserAvatar": "6579_1344778256.jpg",
      "UserGravatar": "379859a7f1952a65399fc63997e68f0b",
      "EditableText": "First, a minor note. In your &quot;Game Script&quot;, you have this line\n\n[code:2a4t7t1c]SetObjectFlagOn (Xanadu, &quot;healthy&quot;)[/code:2a4t7t1c]\nfollowed somewhat further down by\n\n[code:2a4t7t1c]if (GetBoolean(Xanadu, &quot;healthy&quot;)) {\n  DisableTurnScript (sick1)\n  DisableTurnScript (sick2)\n  DisableTurnScript (sick3)\n  DisableTurnScript (sick4)\n}[/code:2a4t7t1c]\nSince in that script, you're setting the &quot;healthy&quot; flag, the &quot;if&quot; will always be true. So technically you don't need it.\n\nAs far as what your code is doing, let's do a walkthrough.\n\n1) The player eats the food. In that script, you set &quot;healthy&quot; to false and then enable &quot;sick1&quot;.\n2) When &quot;sick1&quot; runs after the turn, it will see that &quot;healthy&quot; is not set. It will then enable the other turn scripts and start a &quot;SetTimeout&quot;. It will also disable itself. (This all implies that the &quot;else&quot; will never be taken, as &quot;sick1&quot; is only ever enabled when &quot;healthy&quot; is false and then immediately turns itself back off. The same goes for the other turn scripts - they will only ever run if not &quot;healthy&quot;, and will then disable themselves right away. So your &quot;else&quot; branches will never ever be taken.)\n3) When &quot;sick2&quot; eventually runs, &quot;healthy&quot; is still not set. So it sets a turn timeout for 5 turns in the future and then disables itself.\n4) Likewise, &quot;sick3&quot; and &quot;sick4&quot; will also see &quot;healthy&quot; is not set, set their turn timeouts and re-disabled themselves.\n\nAt this point, you have four turn timeouts in play and no turn scripts running. There is no way to stop the turn timeouts. So even if you make it to the toilet, there is no code you could execute that will make the turn timeout not fire. That's where your problem lies. What you *could* do is to put another check in the turn timeout to see if the player is still not healthy. Depending on whether or not the turn timeouts will all expire before you can eat the bad food again, that might work. (If the player could make it to the toilet and then back and eat food again before the longest turn timeout expires, then you could end up with the old timeout triggering prematurely on the new unhealthy state).\n\nThe code HK posts is along the lines of what I was suggesting (but actually has a fatal flaw which he might realize later - hint: what happens when game.x reaches 5?). What I would do is not bother with the multiple turn scripts or turn timeouts. I'd just have a single turn script like this (the code assumes that the player will always start out healthy). The turn script can always be enabled as well.\n\n[code:2a4t7t1c]&lt;turnscript name=&quot;sickturnscript&quot;&gt;\n  &lt;enabled&gt;\n  &lt;script&gt;\n\tif (GetBoolean(Xanadu, &quot;healthy&quot;)) {\n\t\t// Healthy, so reset the sick count\n\t\tXanadu&#46;sickcount = 0\n\t} else {\n\t\t// Not healthy&#46; See how sick we are&#46;\n\t\tif (Xanadu&#46;sickcount = 2) {\n\t\t\tmsg (&quot;Your mouth, tongue, and throat have this odd, tingling sensation&#46;&quot;)\n\t\t} else if (Xanadu&#46;sickcount = 5) {\n\t\t\tmsg(&quot;the long bit of text that happens at 5&quot;)\n\t\t} else if (Xanadu&#46;sickcount = 8) {\n\t\t\tmsg(&quot;the long bit of text that happens at 8&quot;)\n\t\t} else if (Xanadu&#46;sickcount = 12) {\n\t\t\t// all the stuff you want to have happen at 12\n\t\t}\n\t\t// We get more and more sick with each turn&#46;\n\t\tXanadu&#46;sickcount = Xanadu&#46;sickcount + 1\n\t}\n  &lt;/script&gt;\n&lt;/turnscript&gt;[/code:2a4t7t1c]",
      "EditableFormat": "bbcode",
      "HTML": "First, a minor note. In your &quot;Game Script&quot;, you have this line<br/><br/><pre><code>SetObjectFlagOn (Xanadu, &quot;healthy&quot;)</code></pre><br/>followed somewhat further down by<br/><br/><pre><code>if (GetBoolean(Xanadu, &quot;healthy&quot;)) {<br/>  DisableTurnScript (sick1)<br/>  DisableTurnScript (sick2)<br/>  DisableTurnScript (sick3)<br/>  DisableTurnScript (sick4)<br/>}</code></pre><br/>Since in that script, you're setting the &quot;healthy&quot; flag, the &quot;if&quot; will always be true. So technically you don't need it.<br/><br/>As far as what your code is doing, let's do a walkthrough.<br/><br/>1) The player eats the food. In that script, you set &quot;healthy&quot; to false and then enable &quot;sick1&quot;.<br/>2) When &quot;sick1&quot; runs after the turn, it will see that &quot;healthy&quot; is not set. It will then enable the other turn scripts and start a &quot;SetTimeout&quot;. It will also disable itself. (This all implies that the &quot;else&quot; will never be taken, as &quot;sick1&quot; is only ever enabled when &quot;healthy&quot; is false and then immediately turns itself back off. The same goes for the other turn scripts - they will only ever run if not &quot;healthy&quot;, and will then disable themselves right away. So your &quot;else&quot; branches will never ever be taken.)<br/>3) When &quot;sick2&quot; eventually runs, &quot;healthy&quot; is still not set. So it sets a turn timeout for 5 turns in the future and then disables itself.<br/>4) Likewise, &quot;sick3&quot; and &quot;sick4&quot; will also see &quot;healthy&quot; is not set, set their turn timeouts and re-disabled themselves.<br/><br/>At this point, you have four turn timeouts in play and no turn scripts running. There is no way to stop the turn timeouts. So even if you make it to the toilet, there is no code you could execute that will make the turn timeout not fire. That's where your problem lies. What you *could* do is to put another check in the turn timeout to see if the player is still not healthy. Depending on whether or not the turn timeouts will all expire before you can eat the bad food again, that might work. (If the player could make it to the toilet and then back and eat food again before the longest turn timeout expires, then you could end up with the old timeout triggering prematurely on the new unhealthy state).<br/><br/>The code HK posts is along the lines of what I was suggesting (but actually has a fatal flaw which he might realize later - hint: what happens when game.x reaches 5?). What I would do is not bother with the multiple turn scripts or turn timeouts. I'd just have a single turn script like this (the code assumes that the player will always start out healthy). The turn script can always be enabled as well.<br/><br/><pre><code>&lt;turnscript name=&quot;sickturnscript&quot;&gt;<br/>  &lt;enabled&gt;<br/>  &lt;script&gt;<br/>\tif (GetBoolean(Xanadu, &quot;healthy&quot;)) {<br/>\t\t// Healthy, so reset the sick count<br/>\t\tXanadu&#46;sickcount = 0<br/>\t} else {<br/>\t\t// Not healthy&#46; See how sick we are&#46;<br/>\t\tif (Xanadu&#46;sickcount = 2) {<br/>\t\t\tmsg (&quot;Your mouth, tongue, and throat have this odd, tingling sensation&#46;&quot;)<br/>\t\t} else if (Xanadu&#46;sickcount = 5) {<br/>\t\t\tmsg(&quot;the long bit of text that happens at 5&quot;)<br/>\t\t} else if (Xanadu&#46;sickcount = 8) {<br/>\t\t\tmsg(&quot;the long bit of text that happens at 8&quot;)<br/>\t\t} else if (Xanadu&#46;sickcount = 12) {<br/>\t\t\t// all the stuff you want to have happen at 12<br/>\t\t}<br/>\t\t// We get more and more sick with each turn&#46;<br/>\t\tXanadu&#46;sickcount = Xanadu&#46;sickcount + 1<br/>\t}<br/>  &lt;/script&gt;<br/>&lt;/turnscript&gt;</code></pre>",
      "PostDate": "2015-04-02T23:22:41+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "35642",
      "UserId": 0,
      "Username": "HegemonKhan",
      "UserAvatar": null,
      "UserGravatar": "a96cf34d8d97c57de38f54ee22b1759b",
      "EditableText": "I see it, whoopsy, laughs. Too quick to just give a sample concept, to notice my mistake in code, lol. (if you didn't give that hint though... I might be trying to see~realize it for a long time, lol)\n\nGood lesson to not put the counter inside of an 'if' Script, laughs.",
      "EditableFormat": "bbcode",
      "HTML": "I see it, whoopsy, laughs. Too quick to just give a sample concept, to notice my mistake in code, lol. (if you didn't give that hint though... I might be trying to see~realize it for a long time, lol)<br/><br/>Good lesson to not put the counter inside of an 'if' Script, laughs.",
      "PostDate": "2015-04-02T23:38:34+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "35643",
      "UserId": 0,
      "Username": "XanMag",
      "UserAvatar": "7161_1436827710.jpg",
      "UserGravatar": "4b45a3afd18077f76f6569225c422bdb",
      "EditableText": "I will try and implement that tonight.  I had a really bizarre work around in game 1, and I had that mess stuck in my head.  It was some funky reset counter that I used at the beginning of the game.  Anyway... Hopefully y'all won't hear from me again for a while.  No offense!  TS's seem to make my brain go bad.  \n\nThank you both a ton.",
      "EditableFormat": "bbcode",
      "HTML": "I will try and implement that tonight.  I had a really bizarre work around in game 1, and I had that mess stuck in my head.  It was some funky reset counter that I used at the beginning of the game.  Anyway... Hopefully y'all won't hear from me again for a while.  No offense!  TS's seem to make my brain go bad.  <br/><br/>Thank you both a ton.",
      "PostDate": "2015-04-03T00:11:03+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "36188",
      "UserId": 0,
      "Username": "XanMag",
      "UserAvatar": "7161_1436827710.jpg",
      "UserGravatar": "4b45a3afd18077f76f6569225c422bdb",
      "EditableText": "Okay... I'm seriously considering hiring someone as a permanent turn script author... <!-- s:shock: --><img src=\"{SMILIES_PATH}/icon_eek.gif\" alt=\":shock:\" title=\"Shocked\" /><!-- s:shock: --> \n\nI have another turn script that I am having issues with and I think it is very similar coding to the problem I had earlier in this thread.  So, I decided to use that solution as a template for writing this turn script.  Lo and behold... I am having trouble getting it to fire... again.  I know you all are probably rolling your eyes at me for this because it SEEMS like a simple script to correctly write, but... alas, here I am again...  and again... So, any help would be greatly appreciated.\n\nXanadu enters shower for first time and:\n[code:3kmcw1p1]SetObjectFlagOn (Xanadu, &quot;trapped&quot;)\nmsg (&quot;&lt;br/&gt;&lt;b&gt;Just as you enter the shower and close the curtain, you hear a door slam shut in the locker room&#46;  Someone has just entered the room!!&lt;/b&gt;&quot;)\nplay sound (&quot;80929__bennstir__door-slam-2&#46;wav&quot;, false, false)\nLockExit (showerlock)[/code:3kmcw1p1]\nThis happens.  So far so good...\n\nXanadu 'listens to conversation':\n[code:3kmcw1p1]msg (&quot;\\&quot;I'm telling you&#46;&#46;&#46; that Dingo is scary&#46;\\&quot;  The voice lowers to a whisper and continues, \\&quot;Rumor has it, he is the one poisoned the water supply&#46;  Trying to make us immune for the big plans he has&#46;\\&quot;&lt;br/&gt;&lt;br/&gt;A second voice responds&#46;  \\&quot;It's scary, but also respectable&#46;  That guy knows how to scare folks into obedience&#46;  He's gotten my attention for sure&#46;\\&quot;  &lt;br/&gt;&lt;br/&gt;\\&quot;Agreed,\\&quot; voice one responds, \\&quot;but it's not just us being obedient&#46;  I, for one, believe in his cause&#46;  Our cause, brother&#46;\\&quot;&lt;br/&gt;&lt;br/&gt;The voices fade to a murmur and you can hear lockers opening&#46;&lt;br/&gt;&quot;)\nEnableTurnScript (showerconvo)[/code:3kmcw1p1]\n\nAnd that is where it stops functioning properly.  The problem is, I think, not getting the turn script 'showerconvo' started.  Here is the code I intend to use.\n\n[code:3kmcw1p1]if (GetBoolean(Xanadu, &quot;trapped&quot;)) {\n  Xanadu&#46;showercount = 0\n}\nelse {\n  if (Xanadu&#46;showercount = 1) {\n    msg (&quot;&lt;br/&gt;As you struggle to think of a way to get out of this mess&#46;&#46;&#46; the voices return&#46;&#46;&#46;a little louder&#46;&lt;br/&gt;&lt;br/&gt;\\&quot;&#46;&#46;&#46;area, over by the weights&#46;  I overheard a group of seven or eight whispering&#46;  They hushed up when they noticed me coming&#46;\\&quot;&lt;br/&gt;&lt;br/&gt;The second man responds&#46;  \\&quot;But what did you hear?  You get any thing?  Dingo is expecting us to report soon&#46;\\&quot;&lt;br/&gt;&lt;br/&gt;\\&quot;Well,\\&quot; the voice trails to a whisper again, \\&quot;I'm pretty sure&#46;&#46;&#46; this whole Long John Silver thing going on&#46;&#46;&#46;\\&quot;  The voice fades out&#46;&lt;br/&gt;&lt;br/&gt;The second voice is still mostly a hush, \\&quot;&#46;&#46;&#46;probably&#46;&#46;&#46; coup on his&#46;&#46;&#46; Dingo will NOT like&#46;&#46;&#46; guess, the ringleader&#46;&#46;&#46; you know&#46;&#46;&#46;\\&quot; &lt;br/&gt;&lt;br/&gt;\\&quot;Uh-huh&#46;&#46;&#46; Mongo&#46;&#46;&#46; influential for sure&#46;&#46;&#46; like that?\\&quot;&lt;br/&gt;&lt;br/&gt;The response is louder and clearer this time, \\&quot;I'm okay with blowing the whistle on that guy&#46;  Never like him anyway&#46;\\&quot;&lt;br/&gt;&lt;br/&gt;\\&quot;Okay&#46;  Deal&#46;\\&quot;  The voices are getting louder and you can hear footsteps that sound like they are headed your way&#46;  \\&quot;Let's get showered and we'll go report to Dingo&#46;\\&quot;&quot;)\n  }\n  else if (Xanadu&#46;showercount = 2) {\n    msg (&quot;&lt;br/&gt;\\&quot;Ugh,\\&quot; you hear the other voice issue a protest&#46;  \\&quot;I guess you're right&#46;\\&quot;&lt;br/&gt;&quot;)\n  }\n  else if (Xanadu&#46;showercount = 3) {\n    msg (&quot;Now is the time to think of some clever way to avoid being detected&#46;&#46;&#46;&lt;br/&gt;&quot;)\n  }\n  else if (Xanadu&#46;showercount = 4) {\n    msg (&quot;One set of footsteps fades away to the right and the other draws closer to your own shower&#46;&lt;br/&gt;&quot;)\n  }\n  else if (Xanadu&#46;showercount = 5) {\n    msg (&quot;You see the gnarly knuckles of a dark-skinned, hairy hand grab the curtain in preparation of it being thrown open&#46;&lt;br/&gt;&quot;)\n  }\n  else if (Xanadu&#46;showercount = 6) {\n    msg (&quot;The curtain is thrown open and before you stands a very large, very hairy, and very naked mountain of a man&#46;  He gasps and takes a step backward in surprise, but his look of shock quickly turns to one of lust and ferocity&#46;  Soon, you are being blasted with large fists, massive feet, and other unmentionable anatomical enormities&#46;  &lt;br/&gt;&lt;br/&gt;Unfortunately, this painful ass pummeling you have received has ended your life&#46;  Better luck next time&#46;&quot;)\n    finish\n  }\n  else {\n    if (GetBoolean(farthest shower, &quot;water running&quot;)) {\n      msg (&quot;You see the gnarly knuckles of a dark-skinned, hairy hand grab the curtain in preparation of it being thrown open&#46;&lt;br/&gt;&quot;)\n      wait {\n        msg (&quot;\\&quot;OH!!  So, sorry!\\&quot;  The loud voice exclaims&#46;  \\&quot;Didn't realize someone was in there&#46;\\&quot;  You sigh in relief as the hand disappears and the footsteps fade away, apparently on their way to find an unoccupied stall&#46;&lt;br/&gt;&lt;br/&gt;\\&quot;And don't drop the soap in there, cutie&#46;&#46;&#46;\\&quot; Your sigh ends in an unpleasant shiver as the man cackles at his own bad joke&#46;&lt;br/&gt;&quot;)\n        play sound (&quot;laugh man&#46;mp3&quot;, false, false)\n        UnlockExit (showerlock)\n        SetObjectFlagOff (Xanadu, &quot;trapped&quot;)\n      }\n    }\n  }\n}[/code:3kmcw1p1]\n\nand here is the code I have to get the &quot;water running&quot;\n[code:3kmcw1p1]if (GetBoolean(Xanadu, &quot;trapped&quot;)) {\n  msg (&quot;You lift the lever and the water rushes out and slaps noisily against the drain and tiles&#46;  Hopefully this is obvious enough to those thugs outside that this shower is occupied&#46;&quot;)\n  SetObjectFlagOn (lever2, &quot;water running&quot;)\n}\nelse {\n  msg (&quot;You lift the lever and you hear a clank in the pipes followed by a rush of water from them&#46;  The water slaps noisily against the tiles and drain&#46;  You turn it off immediately, as you don't really need to take a shower right now&#46;&quot;)\n}[/code:3kmcw1p1]\n\nSorry for mucking this up again!  Any help is appreciated!  Thanks in advance.",
      "EditableFormat": "bbcode",
      "HTML": "Okay... I'm seriously considering hiring someone as a permanent turn script author... <!-- s:shock: --><img src=\"{SMILIES_PATH}/icon_eek.gif\" alt=\":shock:\" title=\"Shocked\" /><!-- s:shock: --> <br/><br/>I have another turn script that I am having issues with and I think it is very similar coding to the problem I had earlier in this thread.  So, I decided to use that solution as a template for writing this turn script.  Lo and behold... I am having trouble getting it to fire... again.  I know you all are probably rolling your eyes at me for this because it SEEMS like a simple script to correctly write, but... alas, here I am again...  and again... So, any help would be greatly appreciated.<br/><br/>Xanadu enters shower for first time and:<br/><pre><code>SetObjectFlagOn (Xanadu, &quot;trapped&quot;)<br/>msg (&quot;&lt;br/&gt;&lt;b&gt;Just as you enter the shower and close the curtain, you hear a door slam shut in the locker room&#46;  Someone has just entered the room!!&lt;/b&gt;&quot;)<br/>play sound (&quot;80929__bennstir__door-slam-2&#46;wav&quot;, false, false)<br/>LockExit (showerlock)</code></pre><br/>This happens.  So far so good...<br/><br/>Xanadu 'listens to conversation':<br/><pre><code>msg (&quot;\\&quot;I'm telling you&#46;&#46;&#46; that Dingo is scary&#46;\\&quot;  The voice lowers to a whisper and continues, \\&quot;Rumor has it, he is the one poisoned the water supply&#46;  Trying to make us immune for the big plans he has&#46;\\&quot;&lt;br/&gt;&lt;br/&gt;A second voice responds&#46;  \\&quot;It's scary, but also respectable&#46;  That guy knows how to scare folks into obedience&#46;  He's gotten my attention for sure&#46;\\&quot;  &lt;br/&gt;&lt;br/&gt;\\&quot;Agreed,\\&quot; voice one responds, \\&quot;but it's not just us being obedient&#46;  I, for one, believe in his cause&#46;  Our cause, brother&#46;\\&quot;&lt;br/&gt;&lt;br/&gt;The voices fade to a murmur and you can hear lockers opening&#46;&lt;br/&gt;&quot;)<br/>EnableTurnScript (showerconvo)</code></pre><br/><br/>And that is where it stops functioning properly.  The problem is, I think, not getting the turn script 'showerconvo' started.  Here is the code I intend to use.<br/><br/><pre><code>if (GetBoolean(Xanadu, &quot;trapped&quot;)) {<br/>  Xanadu&#46;showercount = 0<br/>}<br/>else {<br/>  if (Xanadu&#46;showercount = 1) {<br/>    msg (&quot;&lt;br/&gt;As you struggle to think of a way to get out of this mess&#46;&#46;&#46; the voices return&#46;&#46;&#46;a little louder&#46;&lt;br/&gt;&lt;br/&gt;\\&quot;&#46;&#46;&#46;area, over by the weights&#46;  I overheard a group of seven or eight whispering&#46;  They hushed up when they noticed me coming&#46;\\&quot;&lt;br/&gt;&lt;br/&gt;The second man responds&#46;  \\&quot;But what did you hear?  You get any thing?  Dingo is expecting us to report soon&#46;\\&quot;&lt;br/&gt;&lt;br/&gt;\\&quot;Well,\\&quot; the voice trails to a whisper again, \\&quot;I'm pretty sure&#46;&#46;&#46; this whole Long John Silver thing going on&#46;&#46;&#46;\\&quot;  The voice fades out&#46;&lt;br/&gt;&lt;br/&gt;The second voice is still mostly a hush, \\&quot;&#46;&#46;&#46;probably&#46;&#46;&#46; coup on his&#46;&#46;&#46; Dingo will NOT like&#46;&#46;&#46; guess, the ringleader&#46;&#46;&#46; you know&#46;&#46;&#46;\\&quot; &lt;br/&gt;&lt;br/&gt;\\&quot;Uh-huh&#46;&#46;&#46; Mongo&#46;&#46;&#46; influential for sure&#46;&#46;&#46; like that?\\&quot;&lt;br/&gt;&lt;br/&gt;The response is louder and clearer this time, \\&quot;I'm okay with blowing the whistle on that guy&#46;  Never like him anyway&#46;\\&quot;&lt;br/&gt;&lt;br/&gt;\\&quot;Okay&#46;  Deal&#46;\\&quot;  The voices are getting louder and you can hear footsteps that sound like they are headed your way&#46;  \\&quot;Let's get showered and we'll go report to Dingo&#46;\\&quot;&quot;)<br/>  }<br/>  else if (Xanadu&#46;showercount = 2) {<br/>    msg (&quot;&lt;br/&gt;\\&quot;Ugh,\\&quot; you hear the other voice issue a protest&#46;  \\&quot;I guess you're right&#46;\\&quot;&lt;br/&gt;&quot;)<br/>  }<br/>  else if (Xanadu&#46;showercount = 3) {<br/>    msg (&quot;Now is the time to think of some clever way to avoid being detected&#46;&#46;&#46;&lt;br/&gt;&quot;)<br/>  }<br/>  else if (Xanadu&#46;showercount = 4) {<br/>    msg (&quot;One set of footsteps fades away to the right and the other draws closer to your own shower&#46;&lt;br/&gt;&quot;)<br/>  }<br/>  else if (Xanadu&#46;showercount = 5) {<br/>    msg (&quot;You see the gnarly knuckles of a dark-skinned, hairy hand grab the curtain in preparation of it being thrown open&#46;&lt;br/&gt;&quot;)<br/>  }<br/>  else if (Xanadu&#46;showercount = 6) {<br/>    msg (&quot;The curtain is thrown open and before you stands a very large, very hairy, and very naked mountain of a man&#46;  He gasps and takes a step backward in surprise, but his look of shock quickly turns to one of lust and ferocity&#46;  Soon, you are being blasted with large fists, massive feet, and other unmentionable anatomical enormities&#46;  &lt;br/&gt;&lt;br/&gt;Unfortunately, this painful ass pummeling you have received has ended your life&#46;  Better luck next time&#46;&quot;)<br/>    finish<br/>  }<br/>  else {<br/>    if (GetBoolean(farthest shower, &quot;water running&quot;)) {<br/>      msg (&quot;You see the gnarly knuckles of a dark-skinned, hairy hand grab the curtain in preparation of it being thrown open&#46;&lt;br/&gt;&quot;)<br/>      wait {<br/>        msg (&quot;\\&quot;OH!!  So, sorry!\\&quot;  The loud voice exclaims&#46;  \\&quot;Didn't realize someone was in there&#46;\\&quot;  You sigh in relief as the hand disappears and the footsteps fade away, apparently on their way to find an unoccupied stall&#46;&lt;br/&gt;&lt;br/&gt;\\&quot;And don't drop the soap in there, cutie&#46;&#46;&#46;\\&quot; Your sigh ends in an unpleasant shiver as the man cackles at his own bad joke&#46;&lt;br/&gt;&quot;)<br/>        play sound (&quot;laugh man&#46;mp3&quot;, false, false)<br/>        UnlockExit (showerlock)<br/>        SetObjectFlagOff (Xanadu, &quot;trapped&quot;)<br/>      }<br/>    }<br/>  }<br/>}</code></pre><br/><br/>and here is the code I have to get the &quot;water running&quot;<br/><pre><code>if (GetBoolean(Xanadu, &quot;trapped&quot;)) {<br/>  msg (&quot;You lift the lever and the water rushes out and slaps noisily against the drain and tiles&#46;  Hopefully this is obvious enough to those thugs outside that this shower is occupied&#46;&quot;)<br/>  SetObjectFlagOn (lever2, &quot;water running&quot;)<br/>}<br/>else {<br/>  msg (&quot;You lift the lever and you hear a clank in the pipes followed by a rush of water from them&#46;  The water slaps noisily against the tiles and drain&#46;  You turn it off immediately, as you don't really need to take a shower right now&#46;&quot;)<br/>}</code></pre><br/><br/>Sorry for mucking this up again!  Any help is appreciated!  Thanks in advance.",
      "PostDate": "2015-05-25T15:57:16+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "36192",
      "UserId": 0,
      "Username": "The Pixie",
      "UserAvatar": null,
      "UserGravatar": "cfa37e927f96177bcf6053ae8f108f77",
      "EditableText": "Put a command to print something like &quot;This is running&quot; at the very start of your script, then try it again. If it shows  &quot;This is running&quot; each turn, you know the script starts, and the issue is the logic in the script. If it does not, you know the turn script is not being turned on.\n\nWhen does Xanadu.showercount get changed?",
      "EditableFormat": "bbcode",
      "HTML": "Put a command to print something like &quot;This is running&quot; at the very start of your script, then try it again. If it shows  &quot;This is running&quot; each turn, you know the script starts, and the issue is the logic in the script. If it does not, you know the turn script is not being turned on.<br/><br/>When does Xanadu.showercount get changed?",
      "PostDate": "2015-05-25T17:09:29+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "36193",
      "UserId": 0,
      "Username": "jaynabonne",
      "UserAvatar": "6579_1344778256.jpg",
      "UserGravatar": "379859a7f1952a65399fc63997e68f0b",
      "EditableText": "The first thing I would do is put a big fat msg at the top of the turn script, something like &quot;TURN SCRIPT FIRED&quot;. If you don't even see that, then you know you have a problem elsewhere. If you do see that, then try putting msg's in at various places to work out the path the code is taking through the turn script. (Edit: just saw The Pixie's. <!-- s:) --><img src=\"{SMILIES_PATH}/icon_smile.gif\" alt=\":)\" title=\"Smile\" /><!-- s:) --> )\n\nDoes it matter that you set &quot;water running&quot; on &quot;lever2&quot; but check for it on &quot;farthest shower&quot;?\n\nBut for your first turn script, if &quot;trapped&quot; is true, it sets showercount to 0 and does nothing else. If &quot;trapped&quot; is not true, then if the showercount is not 1-6 and &quot;water running&quot; is not set on &quot;farthest shower&quot;, then it does nothing.",
      "EditableFormat": "bbcode",
      "HTML": "The first thing I would do is put a big fat msg at the top of the turn script, something like &quot;TURN SCRIPT FIRED&quot;. If you don't even see that, then you know you have a problem elsewhere. If you do see that, then try putting msg's in at various places to work out the path the code is taking through the turn script. (Edit: just saw The Pixie's. <!-- s:) --><img src=\"{SMILIES_PATH}/icon_smile.gif\" alt=\":)\" title=\"Smile\" /><!-- s:) --> )<br/><br/>Does it matter that you set &quot;water running&quot; on &quot;lever2&quot; but check for it on &quot;farthest shower&quot;?<br/><br/>But for your first turn script, if &quot;trapped&quot; is true, it sets showercount to 0 and does nothing else. If &quot;trapped&quot; is not true, then if the showercount is not 1-6 and &quot;water running&quot; is not set on &quot;farthest shower&quot;, then it does nothing.",
      "PostDate": "2015-05-25T17:10:18+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "36247",
      "UserId": 0,
      "Username": "XanMag",
      "UserAvatar": "7161_1436827710.jpg",
      "UserGravatar": "4b45a3afd18077f76f6569225c422bdb",
      "EditableText": "*SEE EDIT AT BOTTOM FIRST!* Thanks!\n\nI don't get it.  I switched things up a bit to better match my previous script that worked (which Jay helped me on).  \n\nI enter the farthest shower and I run this code upon first entering.\n[code:l8ic0t4e]SetObjectFlagOff (Xanadu, &quot;freetomove&quot;)[/code:l8ic0t4e]\nI set the flag 'freetomove' in the game script at start.\n\nI then require the player to type 'listen to men', 'listen' etc, which enables 'showerconvo' turnscript and it starts...\n[code:l8ic0t4e]if (not GetBoolean(Xanadu, &quot;freetomove&quot;)) {\n  Xanadu&#46;showercount = 0\n  msg (&quot;THE SCRIPT IS FVCKING RUNNING!!&quot;)\n}[/code:l8ic0t4e]\nbecause my message runs. \n\n But this never fires...\n[code:l8ic0t4e]else {\n  if (Xanadu&#46;showercount = 1) {\n    msg (&quot;blah blah blah&#46;&quot;)\n  }[/code:l8ic0t4e]\n\nNow, it seems obvious that showercount never increases.  I looked in my previous code and tried to find a spot where I had a code that increased my sickcount by one with each turn the player took but couldn't find one.  So, I assume it is there but I couldn't find it.  I need to increase the turn counter (showercount) by one with each turn the player takes.  I'm guessing, but I think there is no showercount (attribute? turn counter?) to increase and that I need to have coded that somewhere once I have entered the farthest shower.  In short, I think Pixie's question (when does xanadu.showercount get changed?) has something to do with this not firing?\n\nAlso, the lever and far shower check is a mistake (lol) but I haven't gotten my script that far to have noticed it.  It has been corrected.  Thanks in advance... again... =(\n\n*EDIT* When I play the game in this state, I get &quot;THE SCRIPT IS FVCKING RUNNING!!&quot; after every turn, which means I am always running the 'If' part and never the 'Else' part, so I switched the 'If' to this:\n[code:l8ic0t4e]if (GetBoolean(Xanadu, &quot;freetomove&quot;)) {\n  Xanadu&#46;showercount = 0\n  msg (&quot;THE SCRIPT IS FVCKING RUNNING!!&quot;)[/code:l8ic0t4e]\n\nand then I get this message... Error running script&#058; Error compiling expression 'Xanadu.showercount = 1': CompareElement: Operation 'Equal' is not defined for types 'Object' and 'Int32'\n\nSo, I think my previous assumption is correct... I don't have a showercount turn counter, but how do I establish that?  Thanks again!",
      "EditableFormat": "bbcode",
      "HTML": "*SEE EDIT AT BOTTOM FIRST!* Thanks!<br/><br/>I don't get it.  I switched things up a bit to better match my previous script that worked (which Jay helped me on).  <br/><br/>I enter the farthest shower and I run this code upon first entering.<br/><pre><code>SetObjectFlagOff (Xanadu, &quot;freetomove&quot;)</code></pre><br/>I set the flag 'freetomove' in the game script at start.<br/><br/>I then require the player to type 'listen to men', 'listen' etc, which enables 'showerconvo' turnscript and it starts...<br/><pre><code>if (not GetBoolean(Xanadu, &quot;freetomove&quot;)) {<br/>  Xanadu&#46;showercount = 0<br/>  msg (&quot;THE SCRIPT IS FVCKING RUNNING!!&quot;)<br/>}</code></pre><br/>because my message runs. <br/><br/> But this never fires...<br/><pre><code>else {<br/>  if (Xanadu&#46;showercount = 1) {<br/>    msg (&quot;blah blah blah&#46;&quot;)<br/>  }</code></pre><br/><br/>Now, it seems obvious that showercount never increases.  I looked in my previous code and tried to find a spot where I had a code that increased my sickcount by one with each turn the player took but couldn't find one.  So, I assume it is there but I couldn't find it.  I need to increase the turn counter (showercount) by one with each turn the player takes.  I'm guessing, but I think there is no showercount (attribute? turn counter?) to increase and that I need to have coded that somewhere once I have entered the farthest shower.  In short, I think Pixie's question (when does xanadu.showercount get changed?) has something to do with this not firing?<br/><br/>Also, the lever and far shower check is a mistake (lol) but I haven't gotten my script that far to have noticed it.  It has been corrected.  Thanks in advance... again... =(<br/><br/>*EDIT* When I play the game in this state, I get &quot;THE SCRIPT IS FVCKING RUNNING!!&quot; after every turn, which means I am always running the 'If' part and never the 'Else' part, so I switched the 'If' to this:<br/><pre><code>if (GetBoolean(Xanadu, &quot;freetomove&quot;)) {<br/>  Xanadu&#46;showercount = 0<br/>  msg (&quot;THE SCRIPT IS FVCKING RUNNING!!&quot;)</code></pre><br/><br/>and then I get this message... Error running script&#058; Error compiling expression 'Xanadu.showercount = 1': CompareElement: Operation 'Equal' is not defined for types 'Object' and 'Int32'<br/><br/>So, I think my previous assumption is correct... I don't have a showercount turn counter, but how do I establish that?  Thanks again!",
      "PostDate": "2015-05-27T02:27:02+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "36248",
      "UserId": 0,
      "Username": "jaynabonne",
      "UserAvatar": "6579_1344778256.jpg",
      "UserGravatar": "379859a7f1952a65399fc63997e68f0b",
      "EditableText": "You need to initialise showercount to 0 somewhere. The fact that you're getting that error message means that Xanadu.showercount is not defined.\n\nAs far as incrementing the shower count, generally you need to put a line like this somewhere:\n\n[code:1isa01vq]Xanadu&#46;showercount = Xanadu&#46;showercount+1[/code:1isa01vq]\nprobably somewhere in the turn script.",
      "EditableFormat": "bbcode",
      "HTML": "You need to initialise showercount to 0 somewhere. The fact that you're getting that error message means that Xanadu.showercount is not defined.<br/><br/>As far as incrementing the shower count, generally you need to put a line like this somewhere:<br/><br/><pre><code>Xanadu&#46;showercount = Xanadu&#46;showercount+1</code></pre><br/>probably somewhere in the turn script.",
      "PostDate": "2015-05-27T07:55:32+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "36255",
      "UserId": 0,
      "Username": "XanMag",
      "UserAvatar": "7161_1436827710.jpg",
      "UserGravatar": "4b45a3afd18077f76f6569225c422bdb",
      "EditableText": "I went ahead and threw this bit of code at the top of my 'showerconvo' turn script&#058;\n\n[code:30z7cgo9]Xanadu&#46;showercount = Xanadu&#46;showercount+1\nif (GetBoolean(Xanadu, &quot;freetomove&quot;)) {\n  Xanadu&#46;showercount = 0\n  msg (&quot;RUNNING SCRIPT IF&quot;)\n}\nelse {\n  if (Xanadu&#46;showercount = 1) {\n    msg (&quot;blah blah blah&quot;)\n  }[/code:30z7cgo9]\n\nand I get the following message once I 'listen' (which start the script running):\n\nError running script&#058; Error compiling expression 'Xanadu.showercount+1': ArithmeticElement: Operation 'Add' is not defined for types 'Object' and 'Int32'\n\nEDIT**:  I copy-pasted my code from my sickcount into a text box in word and I copy-pasted my code for showercount in a text box.  I set them side-by-side and made the code IDENTICAL (other than the printed messages) and I get this as a response immediately when entering the farthest shower: Error running script&#058; Error compiling expression 'Xanadu.showercount = 1': CompareElement: Operation 'Equal' is not defined for types 'Object' and 'Int32'\n\nThat means that there is an error when I unset the 'freetomove' flag.  Suggestions/solutions please!  =/\n\nThanks.",
      "EditableFormat": "bbcode",
      "HTML": "I went ahead and threw this bit of code at the top of my 'showerconvo' turn script&#058;<br/><br/><pre><code>Xanadu&#46;showercount = Xanadu&#46;showercount+1<br/>if (GetBoolean(Xanadu, &quot;freetomove&quot;)) {<br/>  Xanadu&#46;showercount = 0<br/>  msg (&quot;RUNNING SCRIPT IF&quot;)<br/>}<br/>else {<br/>  if (Xanadu&#46;showercount = 1) {<br/>    msg (&quot;blah blah blah&quot;)<br/>  }</code></pre><br/><br/>and I get the following message once I 'listen' (which start the script running):<br/><br/>Error running script&#058; Error compiling expression 'Xanadu.showercount+1': ArithmeticElement: Operation 'Add' is not defined for types 'Object' and 'Int32'<br/><br/>EDIT**:  I copy-pasted my code from my sickcount into a text box in word and I copy-pasted my code for showercount in a text box.  I set them side-by-side and made the code IDENTICAL (other than the printed messages) and I get this as a response immediately when entering the farthest shower: Error running script&#058; Error compiling expression 'Xanadu.showercount = 1': CompareElement: Operation 'Equal' is not defined for types 'Object' and 'Int32'<br/><br/>That means that there is an error when I unset the 'freetomove' flag.  Suggestions/solutions please!  =/<br/><br/>Thanks.",
      "PostDate": "2015-05-28T00:06:43+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "36256",
      "UserId": 0,
      "Username": "HegemonKhan",
      "UserAvatar": null,
      "UserGravatar": "a96cf34d8d97c57de38f54ee22b1759b",
      "EditableText": "for your turn script, have your 'Xanadu.showercount = Xanadu.showercount + 1' at the bottom (and not indented at all, nor within any other script~code block: not inside an 'if~whatever' script):\n\n[code:2wk6qyja]if (GetBoolean(Xanadu, &quot;freetomove&quot;)) {\n  Xanadu&#46;showercount = 0\n  msg (&quot;RUNNING SCRIPT IF&quot;)\n}\nelse {\n  if (Xanadu&#46;showercount = 1) {\n    msg (&quot;blah blah blah&quot;)\n  }\n}\nXanadu&#46;showercount = Xanadu&#46;showercount+1[/code:2wk6qyja]\n\nthe reason it is good to put the 'increaser' (or any other such 'state~game state' Attribute) at the end of your main global turnscript, is because it eliminates any possibility of it increasing before your script can act upon that prior~lower value, and thus prevent that script from ever firing~activating~running, which you don't want. Think of it as the last thing to happen, thus in effect, it's like it happens AFTER your turn is over, but before your next turn starts.\n\n-----------------\n\nfor your initial setting of your 'Xanadu.showercount', it should be added~created within your 'Xanadu' Object:\n\n[code:2wk6qyja]&lt;object name=&quot;Xanadu&quot;&gt;\n  // blah code lines\n  &lt;attr name=&quot;showercount&quot; type=&quot;int&quot;&gt;0&lt;/attr&gt;\n  // blah code lines\n&lt;/object&gt;[/code:2wk6qyja]\n\n--------\n\nI'd recommend not using caps at all (such as with your 'Xanadu' Object), unless you're really rigorous in paying attention to caps (upper case) vs lower case usage ...",
      "EditableFormat": "bbcode",
      "HTML": "for your turn script, have your 'Xanadu.showercount = Xanadu.showercount + 1' at the bottom (and not indented at all, nor within any other script~code block: not inside an 'if~whatever' script):<br/><br/><pre><code>if (GetBoolean(Xanadu, &quot;freetomove&quot;)) {<br/>  Xanadu&#46;showercount = 0<br/>  msg (&quot;RUNNING SCRIPT IF&quot;)<br/>}<br/>else {<br/>  if (Xanadu&#46;showercount = 1) {<br/>    msg (&quot;blah blah blah&quot;)<br/>  }<br/>}<br/>Xanadu&#46;showercount = Xanadu&#46;showercount+1</code></pre><br/><br/>the reason it is good to put the 'increaser' (or any other such 'state~game state' Attribute) at the end of your main global turnscript, is because it eliminates any possibility of it increasing before your script can act upon that prior~lower value, and thus prevent that script from ever firing~activating~running, which you don't want. Think of it as the last thing to happen, thus in effect, it's like it happens AFTER your turn is over, but before your next turn starts.<br/><br/>-----------------<br/><br/>for your initial setting of your 'Xanadu.showercount', it should be added~created within your 'Xanadu' Object:<br/><br/><pre><code>&lt;object name=&quot;Xanadu&quot;&gt;<br/>  // blah code lines<br/>  &lt;attr name=&quot;showercount&quot; type=&quot;int&quot;&gt;0&lt;/attr&gt;<br/>  // blah code lines<br/>&lt;/object&gt;</code></pre><br/><br/>--------<br/><br/>I'd recommend not using caps at all (such as with your 'Xanadu' Object), unless you're really rigorous in paying attention to caps (upper case) vs lower case usage ...",
      "PostDate": "2015-05-28T00:49:37+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "36258",
      "UserId": 0,
      "Username": "XanMag",
      "UserAvatar": "7161_1436827710.jpg",
      "UserGravatar": "4b45a3afd18077f76f6569225c422bdb",
      "EditableText": "I SOLVED IT, I SOLVED IT!!  Very excited at the prospect of NOT using turn scripts for the remainder of this game!!\n\nHopefully this thread will remain dormant for quite some time now!  And... with school almost over, this game is slated for release within a month's time!  WOO-HOO!!\n\nThanks again for all your help!",
      "EditableFormat": "bbcode",
      "HTML": "I SOLVED IT, I SOLVED IT!!  Very excited at the prospect of NOT using turn scripts for the remainder of this game!!<br/><br/>Hopefully this thread will remain dormant for quite some time now!  And... with school almost over, this game is slated for release within a month's time!  WOO-HOO!!<br/><br/>Thanks again for all your help!",
      "PostDate": "2015-05-28T01:32:21+01:00",
      "LastEditDate": null
    }
  ]
}
