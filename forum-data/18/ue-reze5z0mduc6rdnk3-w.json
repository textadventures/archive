{
  "Topic": {
    "TopicId": "ue-reze5z0mduc6rdnk3-w",
    "ForumId": "18",
    "Title": "Patch for Quest 5.8.0 Transcript Issue",
    "LastUpdated": "2024-08-25T03:35:46.8815825Z",
    "ReplyCount": 0
  },
  "Posts": [
    {
      "PostId": "824d6309-21d5-4e26-bb56-13f5427f93a0",
      "UserId": 518866,
      "Username": "K.V.",
      "AvatarUrl": "https://secure.gravatar.com/avatar/a97688aadc8152436180b511021e94a7?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "The transcript stuff was my contribution, and yes: I feel appropriately guilty.\r\n\r\nI have a fix, but I'd really like someone else to look and see if I have any errors or flaws or anything.\r\n\r\nClick here to get the Gist: https://gist.github.com/KVonGit/ae3ee4b1aef830456482a4211faad587/raw/54a7ce2ff9450cfaa10717627d1efa3d573d44c2/PatchForQuest5_8_0.aslx\r\n\r\n---\r\n\r\n```\r\n<?xml version=\"1.0\"?>\r\n<!-- \r\n\tPatch for Quest 5.8.0\r\n\tby KV\r\n\t8-31-2024\r\n\tVersion 6\r\n        Fixes **major** issues with the transcript.\r\n-->\r\n\r\n<library>\r\n\r\n  <object name=\"Patch_Obj_For_5_8\">\r\n    <inherit name=\"editor_room\" />\r\n    <description>\r\n      This object will initialise and add the patch to disable the bad transcript code in JS.\r\n    </description>\r\n    <attr name=\"_initialise_\" type=\"script\"><![CDATA[\r\n     JS.eval (\"/* ----TRANSCRIPT-TURN_SCRIPT PATCH---- */ var ASLEventBak = ASLEvent; ASLEvent = function(handler, params){ /*console.log(ASLEvent.caller, handler)*/ if (handler === 'UpdateTranscriptString'){ /*console.log ('Doing nothing.');*/ return; } ASLEventBak(handler, params) }; showTranscript = function(){ showScrollback(); }; printTranscript = function(){ showScrollback(); }; SaveTranscript = function(){ /* DO NOTHING */ }; /*  ====END OF TRANSCRIPT-TURN_SCRIPT PATCH==== */\")\r\n    ]]></attr>\r\n  </object>\r\n\r\n\r\n  <command name=\"view_transcript_cmd\" pattern=\"[view_transcript_cmd]\">\r\n    <script>\r\n      JS.showScrollback()\r\n      game.suppressturnscripts = true\r\n    </script>\r\n  </command>\r\n\r\n  <command name=\"transcript_on_cmd\" pattern=\"[transcript_on_cmd]\">\r\n    <script>\r\n      msg (\"The transcript doesn't turn on or off. It just is.\")\r\n      msg(\"Enter {command:VIEW TRANSCRIPT} to open it.\")\r\n      game.suppressturnscripts = true\r\n    </script>\r\n  </command>\r\n\r\n  <command name=\"transcript_off_cmd\" pattern=\"[transcript_off_cmd]\">\r\n    <script>\r\n      msg (\"The transcript doesn't turn on or off. It just is.\")\r\n      game.suppressturnscripts = true\r\n    </script>\r\n  </command>\r\n   \r\n</library>\r\n```\r\n\r\n---\r\n**UPDATED 8-31-2024 00:34 UTC**\r\n\r\n---\r\nI could use an extra pair of eyes on this before I declare that it is good to go.",
      "EditableFormat": "markdown",
      "HTML": "<p>The transcript stuff was my contribution, and yes: I feel appropriately guilty.</p>\n<p>I have a fix, but I'd really like someone else to look and see if I have any errors or flaws or anything.</p>\n<p>Click here to get the Gist: https://gist.github.com/KVonGit/ae3ee4b1aef830456482a4211faad587/raw/54a7ce2ff9450cfaa10717627d1efa3d573d44c2/PatchForQuest5_8_0.aslx</p>\n<hr>\n<pre><code>&lt;?xml version=\"1.0\"?&gt;\n&lt;!-- \n\tPatch for Quest 5.8.0\n\tby KV\n\t8-31-2024\n\tVersion 6\n        Fixes **major** issues with the transcript.\n--&gt;\n\n&lt;library&gt;\n\n  &lt;object name=\"Patch_Obj_For_5_8\"&gt;\n    &lt;inherit name=\"editor_room\" /&gt;\n    &lt;description&gt;\n      This object will initialise and add the patch to disable the bad transcript code in JS.\n    &lt;/description&gt;\n    &lt;attr name=\"_initialise_\" type=\"script\"&gt;&lt;![CDATA[\n     JS.eval (\"/* ----TRANSCRIPT-TURN_SCRIPT PATCH---- */ var ASLEventBak = ASLEvent; ASLEvent = function(handler, params){ /*console.log(ASLEvent.caller, handler)*/ if (handler === 'UpdateTranscriptString'){ /*console.log ('Doing nothing.');*/ return; } ASLEventBak(handler, params) }; showTranscript = function(){ showScrollback(); }; printTranscript = function(){ showScrollback(); }; SaveTranscript = function(){ /* DO NOTHING */ }; /*  ====END OF TRANSCRIPT-TURN_SCRIPT PATCH==== */\")\n    ]]&gt;&lt;/attr&gt;\n  &lt;/object&gt;\n\n\n  &lt;command name=\"view_transcript_cmd\" pattern=\"[view_transcript_cmd]\"&gt;\n    &lt;script&gt;\n      JS.showScrollback()\n      game.suppressturnscripts = true\n    &lt;/script&gt;\n  &lt;/command&gt;\n\n  &lt;command name=\"transcript_on_cmd\" pattern=\"[transcript_on_cmd]\"&gt;\n    &lt;script&gt;\n      msg (\"The transcript doesn't turn on or off. It just is.\")\n      msg(\"Enter {command:VIEW TRANSCRIPT} to open it.\")\n      game.suppressturnscripts = true\n    &lt;/script&gt;\n  &lt;/command&gt;\n\n  &lt;command name=\"transcript_off_cmd\" pattern=\"[transcript_off_cmd]\"&gt;\n    &lt;script&gt;\n      msg (\"The transcript doesn't turn on or off. It just is.\")\n      game.suppressturnscripts = true\n    &lt;/script&gt;\n  &lt;/command&gt;\n   \n&lt;/library&gt;\n</code></pre>\n<hr>\n<p><strong>UPDATED 8-31-2024 00:34 UTC</strong></p>\n<hr>\n<p>I could use an extra pair of eyes on this before I declare that it is good to go.</p>\n\n",
      "PostDate": "2024-08-25T03:35:46.8815825Z",
      "LastEditDate": "2024-09-12T22:16:12.1369528Z",
      "link": null
    },
    {
      "PostId": "391d6203-ff57-44a1-99b6-c228a73619b3",
      "UserId": 518866,
      "Username": "K.V.",
      "AvatarUrl": "https://secure.gravatar.com/avatar/a97688aadc8152436180b511021e94a7?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "A temporary \"fix\" for online game creators is to add this line to your game's init interface script:\r\n\r\n`JS.eval (\"function SaveTranscript(){ function noop(){savingTranscript = false; console.warn('[:QUEST MESSAGE:> SaveTranscript feature not available online. For now, you can enter showScrollback() in this HTML console to view the transcript with an option to print it.');};savingTranscript = false; SaveTranscript = noop; window.alert('IMPORTANT!!! The transcript feature does not work correctly while playing online!!! You can, however, enter showScrollback() in the HTML dev tools console at any time to view the transcript with an option to print it. (Press F12 to open the dev tools.)'); console.warn('[:QUEST MESSAGE:> SaveTranscript feature not available online. For now, you can enter showScrollback() in this HTML console to view the transcript with an option to print it.');}\")`\r\n\r\n![image](https://raw.githubusercontent.com/KVonGit/quest5-stuff/main/screenshots/362360939-f762a596-aaca-4710-ac45-93564aaae631.png)\r\n\r\n---\r\n<s>I can't test that at the moment because the server is down, but I'm 99% sure</s> that will keep your game from crashing if the player were to enter: `TRANSCRIPT`, `TRANSCRIPT ON`, `SCRIPT`, `SCRIPT ON`, `ENABLE SCRIPT`, or `ENABLE TRANSCRIPT`.\r\n\r\nI just tested this online, and it works.\r\n\r\n---\r\n![quest-online-transcript-fix](https://raw.githubusercontent.com/KVonGit/quest5-stuff/main/screenshots/362361250-b7f3cf73-4099-4863-9f26-20b783fe48fa.gif)",
      "EditableFormat": "markdown",
      "HTML": "<p>A temporary \"fix\" for online game creators is to add this line to your game's init interface script:</p>\n<p><code>JS.eval (\"function SaveTranscript(){ function noop(){savingTranscript = false; console.warn('[:QUEST MESSAGE:&gt; SaveTranscript feature not available online. For now, you can enter showScrollback() in this HTML console to view the transcript with an option to print it.');};savingTranscript = false; SaveTranscript = noop; window.alert('IMPORTANT!!! The transcript feature does not work correctly while playing online!!! You can, however, enter showScrollback() in the HTML dev tools console at any time to view the transcript with an option to print it. (Press F12 to open the dev tools.)'); console.warn('[:QUEST MESSAGE:&gt; SaveTranscript feature not available online. For now, you can enter showScrollback() in this HTML console to view the transcript with an option to print it.');}\")</code></p>\n<p><img src=\"https://raw.githubusercontent.com/KVonGit/quest5-stuff/main/screenshots/362360939-f762a596-aaca-4710-ac45-93564aaae631.png\" alt=\"image\"></p>\n<hr>\n<p><s>I can't test that at the moment because the server is down, but I'm 99% sure</s> that will keep your game from crashing if the player were to enter: <code>TRANSCRIPT</code>, <code>TRANSCRIPT ON</code>, <code>SCRIPT</code>, <code>SCRIPT ON</code>, <code>ENABLE SCRIPT</code>, or <code>ENABLE TRANSCRIPT</code>.</p>\n<p>I just tested this online, and it works.</p>\n<hr>\n<p><img src=\"https://raw.githubusercontent.com/KVonGit/quest5-stuff/main/screenshots/362361250-b7f3cf73-4099-4863-9f26-20b783fe48fa.gif\" alt=\"quest-online-transcript-fix\"></p>\n\n",
      "PostDate": "2024-08-28T13:28:39.5718392Z",
      "LastEditDate": "2024-09-01T07:51:26.7827701Z",
      "link": null
    }
  ]
}
