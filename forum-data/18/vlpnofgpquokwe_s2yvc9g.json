{
  "Topic": {
    "TopicId": "vlpnofgpquokwe_s2yvc9g",
    "ForumId": "18",
    "Title": "quest / task / mission / award / trophy / etc system",
    "LastUpdated": "2016-08-10T13:37:16.051835Z",
    "ReplyCount": 0
  },
  "Posts": [
    {
      "PostId": "e3640d98-98f0-48e3-9f62-1fb84b36648b",
      "UserId": 247325,
      "Username": "hegemonkhan",
      "AvatarUrl": "https://secure.gravatar.com/avatar/a96cf34d8d97c57de38f54ee22b1759b?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "from a thread in the main forum, (just so it doesn't get lost), here's my simple system:\r\n\r\nJay and Pixie can probably create a really fancy/advanced quest/mission/task/award/trophy/etc system, but your idea is how I would do it too (with a bit more stuff for its implementation), with my limited code ability.\r\n\r\n```\r\n// when a quest is discovered/known/made-available, you need to do this:\r\n\r\nadd_quest_status_stringdictionary_function (NAME_OF_QUEST)\r\n\r\n// --------------------------\r\n\r\n// when a quest is completed, you need to do this:\r\n\r\nupdate_quest_status_stringdictionary_function (NAME_OF_QUEST)\r\n\r\n// --------------------------\r\n\r\n<command name=\"quest_screen_command\">\r\n  <pattern>quest</pattern>\r\n  <script>\r\n    quest_screen_function\r\n  </script>\r\n</command>\r\n\r\n<function name=\"quest_screen_function\">\r\n  ClearScreen\r\n  msg (\"Quest Screen:\")\r\n  numbering = 0\r\n  foreach (quest_name_variable, game.pov.quest_stringlist_attribute) {\r\n    numbering = numbering + 1\r\n    msg (\"\")\r\n    msg (numbering + \". \" + quest_name_variable + \" Quest: \" + StringDictionaryItem (game.pov.quest_status_stringdictionary_attribute, quest_name_variable))\r\n    msg (\"\")\r\n    msg (StringDictionaryItem (global_data_object.quest_description_stringdictionary_attribute, quest_name_variable))\r\n  }\r\n  wait {\r\n    ClearScreen\r\n  }\r\n</function>\r\n\r\n<function name=\"add_quest_status_stringdictionary_function\" parameters=\"quest_name_parameter\">\r\n   // HK edit: I forgot this needed code:\r\n  if (not HasAttribute (game.pov, \"quest_status_stringdictionary_attribute\")) {\r\n    game.pov.quest_status_stringdictionary_attribute = NewStringDictionary()\r\n  }\r\n  dictionary add (game.pov.quest_status_stringdictionary_attribute, quest_name_parameter, \"incomplete\")\r\n</function>\r\n\r\n<function name=\"update_quest_status_stringdictionary_function\" parameters=\"quest_name_parameter\">\r\n  // I wasn't sure if the Value can be changed directly, and if it can do changed directly, can it be done with 'set', or is it done some other way and how? We need Pixie or Jay to answer this for us, lol. So, I just did this instead below:\r\n  dictionary remove (game.pov.quest_status_stringdictionary_attribute, quest_name_parameter)\r\n  dictionary add (game.pov.quest_status_stringdictionary_attribute, quest_name_parameter, \"completed\")\r\n</function>\r\n\r\n<object name=\"player\">\r\n  <attr name=\"quest_stringlist_attribute\" type=\"simplestringlist\">quest_name_1;quest_name_2;etc</attr> // as you discover/know quests, add them to this list: your current list of known/discovered quests\r\n</object>\r\n\r\n// if you want etc Player Objects:\r\n<object name=\"player2\">\r\n  <attr name=\"quest_stringlist_attribute\" type=\"simplestringlist\">quest_name_1;quest_name_2;etc</attr> // as you discover/know quests, add them to this list: your current list of known/discovered quests\r\n</object>\r\n\r\n// etc Player Objects, if you want/need\r\n\r\n<object name=\"global_data_object\">\r\n  <attr name=\"quest_stringlist_attribute\" type=\"simplestringlist\">quest_name_1;quest_name_2;etc</attr> // list of ALL quests, this can be used for checking scripting (WHICH I DID NOT PUT INTO THIS CODE --- ask and I can do so for how you want it to be set up)\r\n  <attr name=\"quest_description_stringdictionary_attribute\" type=\"stringdictionary\">\r\n    <item>\r\n      <key>quest_name_1</key>\r\n      <value>DESCRIPTION_OF_QUEST</value>\r\n    </item>\r\n    <item>\r\n      <key>quest_name_2</key>\r\n      <value>DESCRIPTION_OF_QUEST</value>\r\n    </item>\r\n    <item>\r\n      <key>etc</key>\r\n      <value>DESCRIPTION_OF_QUEST</value>\r\n    </item>\r\n  </attr>\r\n</object>\r\n```\r\n\r\n-----------------------------\r\n\r\nthere's not too much going on with my code, but it's able to be expanded pretty easily, but of course the code itself is complicated, despite what it is doing isn't that much, lol.\r\n\r\nThe code is mainly complex to make it handle most of the work for you, and to be able to be easily expanded upon based on your wants/needs.\r\n\r\nyou put all of your quests (names) in your game into the 'global_data_object.quest_stringlist_attribute' list, for example:\r\n\r\n```\r\n<object name=\"global_data_object\">\r\n  <attr name=\"quest_stringlist_attribute\" type=\"simplestringlist\">rescue_kitten;rescue_princess;bring_girl_flowers;etc</attr>\r\n</object>\r\n```\r\n\r\nand if you put in your descriptions/briefing/info/reward/etc of ALL of the quests (this code can be adjusted to handle what you want, additional info/rewards/details/etc and/or changed around if you don't like it):\r\n\r\n```\r\n<attr name=\"quest_description_stringdictionary_attribute\" type=\"stringdictionary\">\r\n    <item>\r\n      <key>rescue_kitten</key>\r\n      <value>You best friend's baby kitten crawled up into a tree and is too scared to climb back down</value>\r\n    </item>\r\n    <item>\r\n      <key>rescue_princess</key>\r\n      <value>The princess has been taken by a dragon, go into the dragon's lair and slay the dragon, to rescue her.</value>\r\n    </item>\r\n    <item>\r\n      <key>give_flowers_to_girl</key>\r\n      <value>There's a girl that you like, go buy some flowers to then give them to her</value>\r\n    </item>\r\n  </attr>\r\n```\r\n\r\nas you discover quests, you add them to that Player Object's 'quest_stringlist_attribute', via using the 'add_quest_status_stringdictionary_function (QUEST_NAME)'\r\n\r\nupon typing in 'quest', you'll see your current quest information (you won't see the quests you've not discovered yet - don't want to spoil the game's future/further progress/content quests --- this is the purpose of the 'quest_stringlist_attribute' for each of your Player Objects, this is the list of your currently discovered quests, so that you're not seeing all of the quests in the game to be discovered - not spoiling the game), for example:\r\n\r\n```\r\nQuest Screen:\r\n\r\n1. Rescue Kitten Quest: incomplete\r\n\r\nYou best friend's baby kitten crawled up into a tree and is too scared to climb back down\r\n\r\n2. Rescue Princess Quest: incomplete\r\n\r\netc etc etc\r\n\r\n3. Give Flowers to Girl Quest: incomplete\r\n\r\netc etc etc\r\n```\r\n\r\nand upon completing a quest, use this Function: 'update_quest_status_stringdictionary_function (QUEST_NAME)'.\r\n\r\nand now, your 'quest_screen_command' Command's display will be for example:\r\n\r\n```\r\nQuest Screen:\r\n\r\n1. Rescue Kitten Quest: completed\r\n\r\nYou best friend's baby kitten crawled up into a tree and is too scared to climb back down\r\n\r\n2. Rescue Princess Quest: completed\r\n\r\netc etc etc\r\n\r\n3. Give Flowers to Girl Quest: incomplete\r\n\r\netc etc etc\r\n\r\n4. Teach townspeople to grow food quest: incomplete\r\n\r\netc etc etc\r\n```\r\n\r\n--------------------------------------\r\n\r\nask if you got any questions, need any explanation, and/or if anything is unclear or confusing.\r\n\r\nP.S.\r\n\r\nlet me know if you want to add in other details, such as what the reward is for completing the quest, and whatever else such details you want included. And, I'll adjust or add to the code to be able to do this for you.\r\n\r\n--------\r\n\r\nif anyone wants to post their own (and hopefully a better one than mine, hehe) system, please do so!",
      "EditableFormat": "markdown",
      "HTML": "<p>from a thread in the main forum, (just so it doesn't get lost), here's my simple system:</p>\n<p>Jay and Pixie can probably create a really fancy/advanced quest/mission/task/award/trophy/etc system, but your idea is how I would do it too (with a bit more stuff for its implementation), with my limited code ability.</p>\n<pre><code>// when a quest is discovered/known/made-available, you need to do this:\n\nadd_quest_status_stringdictionary_function (NAME_OF_QUEST)\n\n// --------------------------\n\n// when a quest is completed, you need to do this:\n\nupdate_quest_status_stringdictionary_function (NAME_OF_QUEST)\n\n// --------------------------\n\n&lt;command name=\"quest_screen_command\"&gt;\n  &lt;pattern&gt;quest&lt;/pattern&gt;\n  &lt;script&gt;\n    quest_screen_function\n  &lt;/script&gt;\n&lt;/command&gt;\n\n&lt;function name=\"quest_screen_function\"&gt;\n  ClearScreen\n  msg (\"Quest Screen:\")\n  numbering = 0\n  foreach (quest_name_variable, game.pov.quest_stringlist_attribute) {\n    numbering = numbering + 1\n    msg (\"\")\n    msg (numbering + \". \" + quest_name_variable + \" Quest: \" + StringDictionaryItem (game.pov.quest_status_stringdictionary_attribute, quest_name_variable))\n    msg (\"\")\n    msg (StringDictionaryItem (global_data_object.quest_description_stringdictionary_attribute, quest_name_variable))\n  }\n  wait {\n    ClearScreen\n  }\n&lt;/function&gt;\n\n&lt;function name=\"add_quest_status_stringdictionary_function\" parameters=\"quest_name_parameter\"&gt;\n   // HK edit: I forgot this needed code:\n  if (not HasAttribute (game.pov, \"quest_status_stringdictionary_attribute\")) {\n    game.pov.quest_status_stringdictionary_attribute = NewStringDictionary()\n  }\n  dictionary add (game.pov.quest_status_stringdictionary_attribute, quest_name_parameter, \"incomplete\")\n&lt;/function&gt;\n\n&lt;function name=\"update_quest_status_stringdictionary_function\" parameters=\"quest_name_parameter\"&gt;\n  // I wasn't sure if the Value can be changed directly, and if it can do changed directly, can it be done with 'set', or is it done some other way and how? We need Pixie or Jay to answer this for us, lol. So, I just did this instead below:\n  dictionary remove (game.pov.quest_status_stringdictionary_attribute, quest_name_parameter)\n  dictionary add (game.pov.quest_status_stringdictionary_attribute, quest_name_parameter, \"completed\")\n&lt;/function&gt;\n\n&lt;object name=\"player\"&gt;\n  &lt;attr name=\"quest_stringlist_attribute\" type=\"simplestringlist\"&gt;quest_name_1;quest_name_2;etc&lt;/attr&gt; // as you discover/know quests, add them to this list: your current list of known/discovered quests\n&lt;/object&gt;\n\n// if you want etc Player Objects:\n&lt;object name=\"player2\"&gt;\n  &lt;attr name=\"quest_stringlist_attribute\" type=\"simplestringlist\"&gt;quest_name_1;quest_name_2;etc&lt;/attr&gt; // as you discover/know quests, add them to this list: your current list of known/discovered quests\n&lt;/object&gt;\n\n// etc Player Objects, if you want/need\n\n&lt;object name=\"global_data_object\"&gt;\n  &lt;attr name=\"quest_stringlist_attribute\" type=\"simplestringlist\"&gt;quest_name_1;quest_name_2;etc&lt;/attr&gt; // list of ALL quests, this can be used for checking scripting (WHICH I DID NOT PUT INTO THIS CODE --- ask and I can do so for how you want it to be set up)\n  &lt;attr name=\"quest_description_stringdictionary_attribute\" type=\"stringdictionary\"&gt;\n    &lt;item&gt;\n      &lt;key&gt;quest_name_1&lt;/key&gt;\n      &lt;value&gt;DESCRIPTION_OF_QUEST&lt;/value&gt;\n    &lt;/item&gt;\n    &lt;item&gt;\n      &lt;key&gt;quest_name_2&lt;/key&gt;\n      &lt;value&gt;DESCRIPTION_OF_QUEST&lt;/value&gt;\n    &lt;/item&gt;\n    &lt;item&gt;\n      &lt;key&gt;etc&lt;/key&gt;\n      &lt;value&gt;DESCRIPTION_OF_QUEST&lt;/value&gt;\n    &lt;/item&gt;\n  &lt;/attr&gt;\n&lt;/object&gt;\n</code></pre>\n<hr>\n<p>there's not too much going on with my code, but it's able to be expanded pretty easily, but of course the code itself is complicated, despite what it is doing isn't that much, lol.</p>\n<p>The code is mainly complex to make it handle most of the work for you, and to be able to be easily expanded upon based on your wants/needs.</p>\n<p>you put all of your quests (names) in your game into the 'global_data_object.quest_stringlist_attribute' list, for example:</p>\n<pre><code>&lt;object name=\"global_data_object\"&gt;\n  &lt;attr name=\"quest_stringlist_attribute\" type=\"simplestringlist\"&gt;rescue_kitten;rescue_princess;bring_girl_flowers;etc&lt;/attr&gt;\n&lt;/object&gt;\n</code></pre>\n<p>and if you put in your descriptions/briefing/info/reward/etc of ALL of the quests (this code can be adjusted to handle what you want, additional info/rewards/details/etc and/or changed around if you don't like it):</p>\n<pre><code>&lt;attr name=\"quest_description_stringdictionary_attribute\" type=\"stringdictionary\"&gt;\n    &lt;item&gt;\n      &lt;key&gt;rescue_kitten&lt;/key&gt;\n      &lt;value&gt;You best friend's baby kitten crawled up into a tree and is too scared to climb back down&lt;/value&gt;\n    &lt;/item&gt;\n    &lt;item&gt;\n      &lt;key&gt;rescue_princess&lt;/key&gt;\n      &lt;value&gt;The princess has been taken by a dragon, go into the dragon's lair and slay the dragon, to rescue her.&lt;/value&gt;\n    &lt;/item&gt;\n    &lt;item&gt;\n      &lt;key&gt;give_flowers_to_girl&lt;/key&gt;\n      &lt;value&gt;There's a girl that you like, go buy some flowers to then give them to her&lt;/value&gt;\n    &lt;/item&gt;\n  &lt;/attr&gt;\n</code></pre>\n<p>as you discover quests, you add them to that Player Object's 'quest_stringlist_attribute', via using the 'add_quest_status_stringdictionary_function (QUEST_NAME)'</p>\n<p>upon typing in 'quest', you'll see your current quest information (you won't see the quests you've not discovered yet - don't want to spoil the game's future/further progress/content quests --- this is the purpose of the 'quest_stringlist_attribute' for each of your Player Objects, this is the list of your currently discovered quests, so that you're not seeing all of the quests in the game to be discovered - not spoiling the game), for example:</p>\n<pre><code>Quest Screen:\n\n1. Rescue Kitten Quest: incomplete\n\nYou best friend's baby kitten crawled up into a tree and is too scared to climb back down\n\n2. Rescue Princess Quest: incomplete\n\netc etc etc\n\n3. Give Flowers to Girl Quest: incomplete\n\netc etc etc\n</code></pre>\n<p>and upon completing a quest, use this Function: 'update_quest_status_stringdictionary_function (QUEST_NAME)'.</p>\n<p>and now, your 'quest_screen_command' Command's display will be for example:</p>\n<pre><code>Quest Screen:\n\n1. Rescue Kitten Quest: completed\n\nYou best friend's baby kitten crawled up into a tree and is too scared to climb back down\n\n2. Rescue Princess Quest: completed\n\netc etc etc\n\n3. Give Flowers to Girl Quest: incomplete\n\netc etc etc\n\n4. Teach townspeople to grow food quest: incomplete\n\netc etc etc\n</code></pre>\n<hr>\n<p>ask if you got any questions, need any explanation, and/or if anything is unclear or confusing.</p>\n<p>P.S.</p>\n<p>let me know if you want to add in other details, such as what the reward is for completing the quest, and whatever else such details you want included. And, I'll adjust or add to the code to be able to do this for you.</p>\n<hr>\n<p>if anyone wants to post their own (and hopefully a better one than mine, hehe) system, please do so!</p>\n\n",
      "PostDate": "2016-08-10T13:37:16.051835Z",
      "LastEditDate": "2016-08-13T08:01:22.4062705Z"
    }
  ]
}
