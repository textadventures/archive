{
  "Topic": {
    "TopicId": "ymuaumf090eastzkv3xj5a",
    "ForumId": "18",
    "Title": "How to make Roblox NPC follow player only, not other NPCs",
    "LastUpdated": "2018-06-21T15:07:55.2114195Z",
    "ReplyCount": 0
  },
  "Posts": [
    {
      "PostId": "a5b96fe8-49e1-4276-89a8-61c4636d57ce",
      "UserId": 365028,
      "Username": "BobNDO",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "I would like to know how to make this script and even explaining it would be better. Thanks a lot, any help appreciated. Edit: a script which automatically follows player when a player gets near them",
      "EditableFormat": "markdown",
      "HTML": "<p>I would like to know how to make this script and even explaining it would be better. Thanks a lot, any help appreciated. Edit: a script which automatically follows player when a player gets near them</p>\n\n",
      "PostDate": "2018-06-21T15:07:55.2114195Z",
      "LastEditDate": "2018-06-21T18:55:47.7575262Z",
      "link": null
    },
    {
      "PostId": "677a90dc-3406-473a-9830-1e15d630712d",
      "UserId": 267336,
      "Username": "jmnevil54",
      "AvatarUrl": "https://secure.gravatar.com/avatar/5d73d7ec1dbe20a5cb46f02a6d53f187?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "I think the player might have an attribute like \"player.player = true\", but if not, you can make your own.\r\nThen you can do:\r\nif object player has attribute player.....",
      "EditableFormat": "markdown",
      "HTML": "<p>I think the player might have an attribute like \"player.player = true\", but if not, you can make your own.<br>\nThen you can do:<br>\nif object player has attribute player.....</p>\n\n",
      "PostDate": "2018-06-21T17:28:20.8241037Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "56a53205-5597-4aa5-9bab-212d6f69abf8",
      "UserId": 247325,
      "Username": "hegemonkhan",
      "AvatarUrl": "https://secure.gravatar.com/avatar/a96cf34d8d97c57de38f54ee22b1759b?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "(I'm using 'npc' instead of 'Roblox' for my example)\r\n\r\n```\r\n<object name=\"room\">\r\n</object>\r\n\r\n<object name=\"room_2\">\r\n</object>\r\n\r\n<object name=\"room_3\">\r\n</object>\r\n\r\n<object name=\"player\">\r\n\r\n  <attr name=\"parent\" type=\"object\">room</attr>\r\n\r\n  <attr name=\"changedparent\" type=\"script\">\r\n\r\n    npc.parent = player.parent\r\n\r\n  </attr>\r\n\r\n</object>\r\n\r\n<object name=\"npc\">\r\n\r\n  <attr name=\"parent\" type=\"object\">room</attr>\r\n\r\n</object>\r\n```\r\n\r\n-----------\r\n\r\nthe special 'changedNAME_OF_ATTRIBUTE' Script Attribute is activated whenever the Value of the 'NAME_OF_ATTRIBUTE' Attribute of its Object (for this example: Object: player, and thus the Object.Attribute is: player.parent), changes:\r\n\r\nthe 'player' is initially set within 'room'\r\nthe 'npc' is initially set within 'room'\r\n\r\n(so, they're both set/within the same room: 'room')\r\n\r\nso, let's say that, the 'player' moves from 'room' to 'room_2', which, such containment/parent-child/\"folder-like\" heirarchy, is actually controlled by the built-in 'parent' Object Attribute, so the player's 'parent' Object Attribute's Value is changed, from 'room' to 'room_2', and thus this causes the player's 'changedparent' Script Attribute to activate.\r\n\r\nnow, about the scripting within the player's 'changedparent' Object Attribute:\r\n\r\nnpc.parent = player.parent\r\n\r\nthe npc's 'parent' Object Attribute's Value will be set to whatever is the player's 'parent' Object Attribute's Value\r\n\r\nso, since the player's 'parent' Object Attribute's Value is now 'room_2', the npc's 'parent' Object Attribute's Value is now also 'room_2', and thus the npc has followed the player, as they're both set within the same room (room_2)\r\n\r\nthe player then moves to 'room_3', and thus the same stuff happens, setting the npc to be in the same room (room_3) as the player\r\n\r\n-------------------\r\n\r\n// they both initially are set to the same room:\r\nplayer.parent = room\r\nnpc.parent = room\r\n\r\n// the player moves to a different room:\r\nplayer.parent = room_2\r\n\r\n// the special 'changedparent' Script Attribute of the 'player' is activated, as its Attribute's (parent) Value has changed (from 'room' to 'room_2'):\r\n\r\nnpc.parent = player.parent\r\n\r\n// player.parent = room_2\r\n//\r\n// npc.parent = player.parent\r\n// npc.parent = (player.parent = room_2)\r\n// npc.parent = player.parent = room_2\r\n// npc.parent = room_2\r\n//\r\n// player.parent = room_2\r\n// npc.parent = room_2\r\n// both the 'player' and 'npc' are in the same new room (room_2), the 'npc' has \"followed\" the 'player' from 'room' to 'room_2'",
      "EditableFormat": "markdown",
      "HTML": "<p>(I'm using 'npc' instead of 'Roblox' for my example)</p>\n<pre><code>&lt;object name=\"room\"&gt;\n&lt;/object&gt;\n\n&lt;object name=\"room_2\"&gt;\n&lt;/object&gt;\n\n&lt;object name=\"room_3\"&gt;\n&lt;/object&gt;\n\n&lt;object name=\"player\"&gt;\n\n  &lt;attr name=\"parent\" type=\"object\"&gt;room&lt;/attr&gt;\n\n  &lt;attr name=\"changedparent\" type=\"script\"&gt;\n\n    npc.parent = player.parent\n\n  &lt;/attr&gt;\n\n&lt;/object&gt;\n\n&lt;object name=\"npc\"&gt;\n\n  &lt;attr name=\"parent\" type=\"object\"&gt;room&lt;/attr&gt;\n\n&lt;/object&gt;\n</code></pre>\n<hr>\n<p>the special 'changedNAME_OF_ATTRIBUTE' Script Attribute is activated whenever the Value of the 'NAME_OF_ATTRIBUTE' Attribute of its Object (for this example: Object: player, and thus the Object.Attribute is: player.parent), changes:</p>\n<p>the 'player' is initially set within 'room'<br>\nthe 'npc' is initially set within 'room'</p>\n<p>(so, they're both set/within the same room: 'room')</p>\n<p>so, let's say that, the 'player' moves from 'room' to 'room_2', which, such containment/parent-child/\"folder-like\" heirarchy, is actually controlled by the built-in 'parent' Object Attribute, so the player's 'parent' Object Attribute's Value is changed, from 'room' to 'room_2', and thus this causes the player's 'changedparent' Script Attribute to activate.</p>\n<p>now, about the scripting within the player's 'changedparent' Object Attribute:</p>\n<p>npc.parent = player.parent</p>\n<p>the npc's 'parent' Object Attribute's Value will be set to whatever is the player's 'parent' Object Attribute's Value</p>\n<p>so, since the player's 'parent' Object Attribute's Value is now 'room_2', the npc's 'parent' Object Attribute's Value is now also 'room_2', and thus the npc has followed the player, as they're both set within the same room (room_2)</p>\n<p>the player then moves to 'room_3', and thus the same stuff happens, setting the npc to be in the same room (room_3) as the player</p>\n<hr>\n<p>// they both initially are set to the same room:<br>\nplayer.parent = room<br>\nnpc.parent = room</p>\n<p>// the player moves to a different room:<br>\nplayer.parent = room_2</p>\n<p>// the special 'changedparent' Script Attribute of the 'player' is activated, as its Attribute's (parent) Value has changed (from 'room' to 'room_2'):</p>\n<p>npc.parent = player.parent</p>\n<p>// player.parent = room_2<br>\n//<br>\n// npc.parent = player.parent<br>\n// npc.parent = (player.parent = room_2)<br>\n// npc.parent = player.parent = room_2<br>\n// npc.parent = room_2<br>\n//<br>\n// player.parent = room_2<br>\n// npc.parent = room_2<br>\n// both the 'player' and 'npc' are in the same new room (room_2), the 'npc' has \"followed\" the 'player' from 'room' to 'room_2'</p>\n\n",
      "PostDate": "2018-06-21T18:18:33.7170719Z",
      "LastEditDate": "2018-06-21T18:39:10.020826Z",
      "link": null
    },
    {
      "PostId": "0e81e5bb-a2f5-4f15-8638-c26cff0b3965",
      "UserId": 365028,
      "Username": "BobNDO",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "No, i mean like a script which automatically follows player when a player gets near them, but that script is useful thx! @hegemonkhan",
      "EditableFormat": "markdown",
      "HTML": "<p>No, i mean like a script which automatically follows player when a player gets near them, but that script is useful thx! @hegemonkhan</p>\n\n",
      "PostDate": "2018-06-21T18:54:53.6185017Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "28b59bb7-c42e-4f30-adc4-98accd612376",
      "UserId": 247325,
      "Username": "hegemonkhan",
      "AvatarUrl": "https://secure.gravatar.com/avatar/a96cf34d8d97c57de38f54ee22b1759b?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "near as in when meet for first time in same room? (same thing as above, except instead of having the 'player.changedparent' existing/created at game start, you'd have it be created upon the player entering the same room as npc for the first time):\r\n\r\n```\r\n// for the npc's initial starting room, for example using, either:\r\n\r\n1. the (if it exists) 'when entering room for first time', within its scripting:\r\n\r\nplayer.changedparent => {\r\n  npc.parent = player.parent\r\n}\r\n\r\n// or, otherwise, using:\r\n\r\n2. 'when entering room' and use the 'firsttime/otherwise' Script/Function, within its scripting:\r\n\r\nfirsttime {\r\n  player.changedparent => {\r\n    npc.parent = player.parent\r\n  }\r\n} otherwise {\r\n  // blah scripting or leave blank\r\n}\r\n```\r\n\r\n------------\r\n\r\nor, near as in, having 'distance/area/volume' Integer Attributes? (a different beast... but not that much harder to do...)",
      "EditableFormat": "markdown",
      "HTML": "<p>near as in when meet for first time in same room? (same thing as above, except instead of having the 'player.changedparent' existing/created at game start, you'd have it be created upon the player entering the same room as npc for the first time):</p>\n<pre><code>// for the npc's initial starting room, for example using, either:\n\n1. the (if it exists) 'when entering room for first time', within its scripting:\n\nplayer.changedparent =&gt; {\n  npc.parent = player.parent\n}\n\n// or, otherwise, using:\n\n2. 'when entering room' and use the 'firsttime/otherwise' Script/Function, within its scripting:\n\nfirsttime {\n  player.changedparent =&gt; {\n    npc.parent = player.parent\n  }\n} otherwise {\n  // blah scripting or leave blank\n}\n</code></pre>\n<hr>\n<p>or, near as in, having 'distance/area/volume' Integer Attributes? (a different beast... but not that much harder to do...)</p>\n\n",
      "PostDate": "2018-06-21T20:18:24.061246Z",
      "LastEditDate": "2018-06-21T20:58:20.1738085Z",
      "link": null
    },
    {
      "PostId": "419ee5bc-ea3a-42a6-879a-fdafff51bbd8",
      "UserId": 365028,
      "Username": "BobNDO",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "I mean as soon as a player reaches a certain distance between the NPC, I want the NPC to react to that player and follow the player. For example look at the game Ro-Ghoul on Roblox, it shows how the NPC follows the player when reaching certain distance between the NPC and player. Also this is outdoors, in open ground, not a room. This is my current follow script - (it's flaw is that it only follows other NPCs and ignores players) :--\r\nlocalPlayerTag = instance.new(\"stringValue\")\r\n\r\nPlayerTag.Name = \"Player\"\r\n\r\nGame.player.PlayerAdded:connect(function)PlayerTag.Clone().Parent = game.players.localPlayer end)\r\nlocal larm = script.Parent:FindFirstChild(\"Left Arm\")\r\nlocal rarm = script.Parent:FindFirstChild(\"Right Arm\")\r\n\r\nfunction findNearestTorso(pos)\r\n    local list = game.Workspace:children()\r\n    local torso = nil\r\n    local dist = 1000\r\n    local temp = nil\r\n    local human = nil\r\n    local temp2 = nil\r\n    for x = 1, #list do\r\n        temp2 = list[x]\r\n        if (temp2.className == \"Model\") and (temp2 ~= script.Parent) then\r\n            temp = temp2:findFirstChild(\"Right Arm\")\r\n            human = temp2:findFirstChild(\"Humanoid\")\r\n            if (temp ~= nil) and (human ~= nil) and (human.Health > 0) then\r\n                if (temp.Position - pos).magnitude < dist then\r\n                    torso = temp\r\n                    dist = (temp.Position - pos).magnitude\r\n                end\r\n            end\r\n        end\r\n    end\r\n    return torso\r\nend\r\n\r\n\r\n\r\n\r\nwhile true do\r\n    wait(math.random(1,5))\r\n    local target = findNearestTorso(script.Parent.Torso.Position)\r\n    if target ~= nil then\r\n        local Tag = findNearestTorso(script.Parent.Torso) if Tag.Player ~= nil\r\n\tscript.Parent.Humanoid:MoveTo(target.Position, target)\r\n    end\r\n\r\nend\r\n\r\n",
      "EditableFormat": "markdown",
      "HTML": "<p>I mean as soon as a player reaches a certain distance between the NPC, I want the NPC to react to that player and follow the player. For example look at the game Ro-Ghoul on Roblox, it shows how the NPC follows the player when reaching certain distance between the NPC and player. Also this is outdoors, in open ground, not a room. This is my current follow script - (it's flaw is that it only follows other NPCs and ignores players) :--<br>\nlocalPlayerTag = instance.new(\"stringValue\")</p>\n<p>PlayerTag.Name = \"Player\"</p>\n<p>Game.player.PlayerAdded:connect(function)PlayerTag.Clone().Parent = game.players.localPlayer end)<br>\nlocal larm = script.Parent:FindFirstChild(\"Left Arm\")<br>\nlocal rarm = script.Parent:FindFirstChild(\"Right Arm\")</p>\n<p>function findNearestTorso(pos)<br>\nlocal list = game.Workspace:children()<br>\nlocal torso = nil<br>\nlocal dist = 1000<br>\nlocal temp = nil<br>\nlocal human = nil<br>\nlocal temp2 = nil<br>\nfor x = 1, #list do<br>\ntemp2 = list[x]<br>\nif (temp2.className == \"Model\") and (temp2 ~= script.Parent) then<br>\ntemp = temp2:findFirstChild(\"Right Arm\")<br>\nhuman = temp2:findFirstChild(\"Humanoid\")<br>\nif (temp ~= nil) and (human ~= nil) and (human.Health &gt; 0) then<br>\nif (temp.Position - pos).magnitude &lt; dist then<br>\ntorso = temp<br>\ndist = (temp.Position - pos).magnitude<br>\nend<br>\nend<br>\nend<br>\nend<br>\nreturn torso<br>\nend</p>\n<p>while true do<br>\nwait(math.random(1,5))<br>\nlocal target = findNearestTorso(script.Parent.Torso.Position)<br>\nif target ~= nil then<br>\nlocal Tag = findNearestTorso(script.Parent.Torso) if Tag.Player ~= nil<br>\nscript.Parent.Humanoid:MoveTo(target.Position, target)<br>\nend</p>\n<p>end</p>\n\n",
      "PostDate": "2018-06-22T15:40:57.7341699Z",
      "LastEditDate": "2018-06-22T15:42:36.3911821Z",
      "link": null
    },
    {
      "PostId": "e4c6e680-8c6f-4bad-a0fa-a4c01e11a1eb",
      "UserId": 301690,
      "Username": "Richard Headkid",
      "AvatarUrl": "http://i.imgur.com/WUGXS8yb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "What are you using to create the game?  (Because it isn't Quest.)",
      "EditableFormat": "markdown",
      "HTML": "<p>What are you using to create the game?  (Because it isn't Quest.)</p>\n\n",
      "PostDate": "2018-06-22T18:00:17.2763289Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "99c224b9-b621-4394-bba8-74985fb9662f",
      "UserId": 301690,
      "Username": "Richard Headkid",
      "AvatarUrl": "http://i.imgur.com/WUGXS8yb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Oh, it's this:\r\n\r\nhttps://www.roblox.com/create\r\n\r\nI believe you want to find your answers here: http://wiki.roblox.com/index.php?title=Main_Page\r\n\r\n...an here's their forum:  https://devforum.roblox.com/",
      "EditableFormat": "markdown",
      "HTML": "<p>Oh, it's this:</p>\n<p>https://www.roblox.com/create</p>\n<p>I believe you want to find your answers here: http://wiki.roblox.com/index.php?title=Main_Page</p>\n<p>...an here's their forum:  https://devforum.roblox.com/</p>\n\n",
      "PostDate": "2018-06-22T18:03:08.0283804Z",
      "LastEditDate": null,
      "link": null
    }
  ]
}
