{
  "Topic": {
    "TopicId": "mxvleq26puqyf3xfxbgwoq",
    "ForumId": "10",
    "Title": "scrollToEnd()",
    "LastUpdated": "2018-05-14T16:39:31.1413581Z",
    "ReplyCount": 0
  },
  "Posts": [
    {
      "PostId": "1456e5ac-3c0c-46c6-ac32-c3d7830d7ec9",
      "UserId": 318253,
      "Username": "K.V.",
      "AvatarUrl": "https://i.imgur.com/mBf7TBeb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "How does everyone think ```scrollToEnd()``` should behave?\r\n\r\nIt currently skips to the bottom of any text on the screen (as I'm sure you all know).  I don't like this for numerous reasons.  The main issue is that it forces most authors into clearing the screen at regular intervals, which perturbs me to no end.  I'm old.  I can't remember all of the prose which has printed during play, and, if I'm playing a good game, I'll need to refer to some of that prose later in the game to solve some puzzles.  (Or I might just feel like going back and re-reading a section or two, if it's well-written.)\r\n\r\nI think it should scroll to the beginning of the current output, like this:\r\n\r\n<a href=\"https://user-images.githubusercontent.com/30656341/40011675-1cb1dc1e-576e-11e8-97bc-8171a43fdae8.gif\"><img loop src=\"https://user-images.githubusercontent.com/30656341/40011675-1cb1dc1e-576e-11e8-97bc-8171a43fdae8.gif\"/></a>\r\n\r\n---\r\nI added this line to game.inituserinterface:\r\n\r\n```\r\nJS.eval (\" function scrollToEnd() {    var scrollTo = _animateScroll ? beginningOfCurrentTurnScrollPosition - 50 - $(\\\"#gamePanelSpacer\\\").height() : $(document).height();    var currentScrollTop = Math.max($(\\\"body\\\").scrollTop(), $(\\\"html\\\").scrollTop());    if (scrollTo > currentScrollTop) {        var maxScrollTop = $(document).height() - $(window).height();        if (scrollTo > maxScrollTop) scrollTo = maxScrollTop;        var distance = scrollTo - currentScrollTop;        var duration = _animateScroll ? distance / 0.4 : 1;        if (duration>2000) duration=2000;        $(\\\"body,html\\\").stop().animate({ scrollTop: scrollTo }, duration, \\\"easeInOutCubic\\\");    }    $(\\\"#txtCommand\\\").focus();};\")\r\n```\r\n\r\n---\r\nThe bit of code I removed had a note which stated that the bit of code I removed was needed to make some browsers behave properly.  I was wondering how long ago this was...  (Maybe those browsers have been updated and no longer have this issue?  (Just wishful thinking.))\r\n\r\n---\r\nThoughts?  \r\n\r\nSuggestions?",
      "EditableFormat": "markdown",
      "HTML": "<p>How does everyone think <code>scrollToEnd()</code> should behave?</p>\n<p>It currently skips to the bottom of any text on the screen (as I'm sure you all know).  I don't like this for numerous reasons.  The main issue is that it forces most authors into clearing the screen at regular intervals, which perturbs me to no end.  I'm old.  I can't remember all of the prose which has printed during play, and, if I'm playing a good game, I'll need to refer to some of that prose later in the game to solve some puzzles.  (Or I might just feel like going back and re-reading a section or two, if it's well-written.)</p>\n<p>I think it should scroll to the beginning of the current output, like this:</p>\n<p><a href=\"https://user-images.githubusercontent.com/30656341/40011675-1cb1dc1e-576e-11e8-97bc-8171a43fdae8.gif\"><img src=\"https://user-images.githubusercontent.com/30656341/40011675-1cb1dc1e-576e-11e8-97bc-8171a43fdae8.gif\"></a></p>\n<hr>\n<p>I added this line to game.inituserinterface:</p>\n<pre><code>JS.eval (\" function scrollToEnd() {    var scrollTo = _animateScroll ? beginningOfCurrentTurnScrollPosition - 50 - $(\\\"#gamePanelSpacer\\\").height() : $(document).height();    var currentScrollTop = Math.max($(\\\"body\\\").scrollTop(), $(\\\"html\\\").scrollTop());    if (scrollTo &gt; currentScrollTop) {        var maxScrollTop = $(document).height() - $(window).height();        if (scrollTo &gt; maxScrollTop) scrollTo = maxScrollTop;        var distance = scrollTo - currentScrollTop;        var duration = _animateScroll ? distance / 0.4 : 1;        if (duration&gt;2000) duration=2000;        $(\\\"body,html\\\").stop().animate({ scrollTop: scrollTo }, duration, \\\"easeInOutCubic\\\");    }    $(\\\"#txtCommand\\\").focus();};\")\n</code></pre>\n<hr>\n<p>The bit of code I removed had a note which stated that the bit of code I removed was needed to make some browsers behave properly.  I was wondering how long ago this was...  (Maybe those browsers have been updated and no longer have this issue?  (Just wishful thinking.))</p>\n<hr>\n<p>Thoughts?</p>\n<p>Suggestions?</p>\n\n",
      "PostDate": "2018-05-14T16:39:31.1413581Z",
      "LastEditDate": "2018-05-14T17:03:16.4556682Z",
      "link": null
    },
    {
      "PostId": "e9ff8db4-93e8-453b-b275-ae33d1348b47",
      "UserId": 318253,
      "Username": "K.V.",
      "AvatarUrl": "https://i.imgur.com/mBf7TBeb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "I forgot to mention that the classic parser games appear to clear the screen sometimes, but they are usually just adding a screenful of blank lines, then adding the text, which produces the same effect.  The only difference being we can still scroll up to see the complete text.  (Play a Z-code game in Frotz in your console to witness this.)\r\n\r\n---\r\n...and it's really not about the screen being cleared.  Not really...\r\n\r\nIt's just off-putting when a large chunk of text scrolls past.  I'm sure many an eyebrow has been raised while scrolling back up to read what just printed.",
      "EditableFormat": "markdown",
      "HTML": "<p>I forgot to mention that the classic parser games appear to clear the screen sometimes, but they are usually just adding a screenful of blank lines, then adding the text, which produces the same effect.  The only difference being we can still scroll up to see the complete text.  (Play a Z-code game in Frotz in your console to witness this.)</p>\n<hr>\n<p>...and it's really not about the screen being cleared.  Not really...</p>\n<p>It's just off-putting when a large chunk of text scrolls past.  I'm sure many an eyebrow has been raised while scrolling back up to read what just printed.</p>\n\n",
      "PostDate": "2018-05-14T16:48:53.5867264Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "343fd385-3736-4559-82dc-3ea0052420c1",
      "UserId": 341771,
      "Username": "JenniferCampbell",
      "AvatarUrl": "https://secure.gravatar.com/avatar/8b9a63b5bbacc531368953df3a1709ec?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "That would be a brilliant fix!  I always hate it when that happens.  I know authors are not *trying* to much up their stories, but this sort of thing frustrates me to no end.",
      "EditableFormat": "markdown",
      "HTML": "<p>That would be a brilliant fix!  I always hate it when that happens.  I know authors are not <em>trying</em> to much up their stories, but this sort of thing frustrates me to no end.</p>\n\n",
      "PostDate": "2018-05-14T17:30:44.2767072Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "0452aace-4dc3-491f-8716-6c765af222cb",
      "UserId": 318253,
      "Username": "K.V.",
      "AvatarUrl": "https://i.imgur.com/mBf7TBeb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": ">  I know authors are not trying to muck up their stories\r\n\r\nI believe this is true.\r\n\r\nWe want be sure our text is at least seen, even if we can't guarantee it will be read.  So, we clear the screen and nest the prose inside of ```wait``` blocks.  (Sometimes there are multiple 'Continue...' links and calls to ```ClearScreen``` within what should be one normal section of text.)",
      "EditableFormat": "markdown",
      "HTML": "<blockquote>\n<p>I know authors are not trying to muck up their stories</p>\n</blockquote>\n<p>I believe this is true.</p>\n<p>We want be sure our text is at least seen, even if we can't guarantee it will be read.  So, we clear the screen and nest the prose inside of <code>wait</code> blocks.  (Sometimes there are multiple 'Continue...' links and calls to <code>ClearScreen</code> within what should be one normal section of text.)</p>\n\n",
      "PostDate": "2018-05-14T17:43:26.7134159Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "96cf8c36-5df9-4528-99e4-fa73a10affd8",
      "UserId": 348994,
      "Username": "CheeseMyBaby",
      "AvatarUrl": "https://i.imgur.com/c5nBbAgb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": ">  So, we clear the screen and nest the prose inside of wait blocks. \r\n\r\nThat's how I roll.",
      "EditableFormat": "markdown",
      "HTML": "<blockquote>\n<p>So, we clear the screen and nest the prose inside of wait blocks.</p>\n</blockquote>\n<p>That's how I roll.</p>\n\n",
      "PostDate": "2018-05-14T19:39:42.072124Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "ad0819f8-02f2-4324-96c2-ee9a9213f0be",
      "UserId": 341771,
      "Username": "JenniferCampbell",
      "AvatarUrl": "https://secure.gravatar.com/avatar/8b9a63b5bbacc531368953df3a1709ec?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "I have always used \"Continue...\" links to the next page.\r\nIs it necessary to clear the screen when using wait scripts?  Like K.V. said, some prefer to be able to look back at where they've come from.  I'd hate to take that away from my readers/players.\r\n\r\nEDIT:\r\nThis seems to work, but it is S-L-O-W...\r\n```\r\n  <object name=\"Page4\">\r\n    <inherit name=\"script\" />\r\n    <description type=\"string\"></description>\r\n    <script type=\"script\">\r\n      msg (\"Tons and tons and tonnes of text.\")\r\n      wait {\r\n        msg (\"More text.\")\r\n        wait {\r\n          msg (\"And finally some more text.\")\r\n          MovePlayer (Page1)\r\n        }\r\n      }\r\n    </script>\r\n    <object name=\"player\">\r\n      <inherit name=\"defaultplayer\" />\r\n    </object>\r\n  </object>\r\n```",
      "EditableFormat": "markdown",
      "HTML": "<p>I have always used \"Continue...\" links to the next page.<br>\nIs it necessary to clear the screen when using wait scripts?  Like K.V. said, some prefer to be able to look back at where they've come from.  I'd hate to take that away from my readers/players.</p>\n<p>EDIT:<br>\nThis seems to work, but it is S-L-O-W...</p>\n<pre><code>  &lt;object name=\"Page4\"&gt;\n    &lt;inherit name=\"script\" /&gt;\n    &lt;description type=\"string\"&gt;&lt;/description&gt;\n    &lt;script type=\"script\"&gt;\n      msg (\"Tons and tons and tonnes of text.\")\n      wait {\n        msg (\"More text.\")\n        wait {\n          msg (\"And finally some more text.\")\n          MovePlayer (Page1)\n        }\n      }\n    &lt;/script&gt;\n    &lt;object name=\"player\"&gt;\n      &lt;inherit name=\"defaultplayer\" /&gt;\n    &lt;/object&gt;\n  &lt;/object&gt;\n</code></pre>\n\n",
      "PostDate": "2018-05-14T20:06:05.4531083Z",
      "LastEditDate": "2018-05-14T20:36:26.13987Z",
      "link": null
    },
    {
      "PostId": "3f86cea5-ffd1-4fb9-9095-a2de7c9ff7e1",
      "UserId": 318253,
      "Username": "K.V.",
      "AvatarUrl": "https://i.imgur.com/mBf7TBeb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": ">Is it necessary to clear the screen when using wait scripts? \r\n\r\nNah, but I have a theory:  We're already adding extra code to make our text display correctly, and we decide we may as well add a ```ClearScreen``` while we're at it.  (It definitely makes the current output hard to miss, after all.  ...which is the current goal.  Plus, it <i>does</I> make everything look all nice and tidy.)\r\n\r\n---\r\n> I'd hate to take that away from my readers/players.\r\n\r\nAh...\r\n\r\nI just recently realized that my games are not actually mine.  I merely set things up, then the player's imagination takes over.  The NPCs \"look\" and \"sound\" different to each player.  The same goes for the locations.  (This especially concerns me, because I suck descriptively!)\r\n\r\n...and the puzzles...\r\n\r\nGuys and gals, let me tell ya' (if ya' don't already know), you think your puzzle makes sense because you came up with it.  You know the solution.  If you have puzzles in your game (and we hope that you do), beta-testers are your (and our) only hope!  Please, please, please, get some feedback!  Give those testers a walkthrough (or at least a list of steps), so they can easily test everything out properly.  Most testers wouldn't use the walkthrough during their first play-through unless there was an unsolvable puzzle anyway, so it's not like it would ruin the game for anyone who was seriously playing it.  Plus, quite a few players never even finish text adventures without clues or a solution.  I think this is especially true when someone is testing a game, because they are trying to finish the game quickly so they can provide their feedback.\r\n\r\n...but I digress.\r\n\r\n---\r\nClearing the screen isn't always a bad thing.  Sometimes it's for the greater good.\r\n\r\nPlus, it really won't matter once Quest 5.8 is released, because it looks like we'll have a new Javascript function: ```showScrollback()```, which will display the entire text in a dialog popup, even the stuff that was wiped out during a ```ClearScreen```.  \r\n\r\nNOTE:  Anything cleared by ```ClearMenu``` will NOT show up when calling ```showScrollback()```.  (I just realized that while typing this.)\r\n\r\nTo use this function, I'd probably create a command with this for the script:\r\n\r\n```JS.showScrollback()```\r\n\r\n---\r\nQuest 5.8 will also have a Transcript feature.\r\n\r\nSCRIPT enables the transcript, just like it does in classic text adventures.\r\n\r\nSCRIPT OFF disables.\r\n\r\nWe will be able to enter SHOW SCRIPT to view the transcript in a dialog popup (which will include a 'Print' button).\r\n\r\nIf an author doesn't want the player to be able to do this, simply add ```game.notranscript = true``` to the start script.  If a player enters any transcript commands, it would return, \"this story has no transcript feature.\"\r\n\r\n---\r\nWait...\r\n\r\nWhat were we talking about, again?\r\n",
      "EditableFormat": "markdown",
      "HTML": "<blockquote>\n<p>Is it necessary to clear the screen when using wait scripts?</p>\n</blockquote>\n<p>Nah, but I have a theory:  We're already adding extra code to make our text display correctly, and we decide we may as well add a <code>ClearScreen</code> while we're at it.  (It definitely makes the current output hard to miss, after all.  ...which is the current goal.  Plus, it <i>does</i> make everything look all nice and tidy.)</p>\n<hr>\n<blockquote>\n<p>I'd hate to take that away from my readers/players.</p>\n</blockquote>\n<p>Ah...</p>\n<p>I just recently realized that my games are not actually mine.  I merely set things up, then the player's imagination takes over.  The NPCs \"look\" and \"sound\" different to each player.  The same goes for the locations.  (This especially concerns me, because I suck descriptively!)</p>\n<p>...and the puzzles...</p>\n<p>Guys and gals, let me tell ya' (if ya' don't already know), you think your puzzle makes sense because you came up with it.  You know the solution.  If you have puzzles in your game (and we hope that you do), beta-testers are your (and our) only hope!  Please, please, please, get some feedback!  Give those testers a walkthrough (or at least a list of steps), so they can easily test everything out properly.  Most testers wouldn't use the walkthrough during their first play-through unless there was an unsolvable puzzle anyway, so it's not like it would ruin the game for anyone who was seriously playing it.  Plus, quite a few players never even finish text adventures without clues or a solution.  I think this is especially true when someone is testing a game, because they are trying to finish the game quickly so they can provide their feedback.</p>\n<p>...but I digress.</p>\n<hr>\n<p>Clearing the screen isn't always a bad thing.  Sometimes it's for the greater good.</p>\n<p>Plus, it really won't matter once Quest 5.8 is released, because it looks like we'll have a new Javascript function: <code>showScrollback()</code>, which will display the entire text in a dialog popup, even the stuff that was wiped out during a <code>ClearScreen</code>.</p>\n<p>NOTE:  Anything cleared by <code>ClearMenu</code> will NOT show up when calling <code>showScrollback()</code>.  (I just realized that while typing this.)</p>\n<p>To use this function, I'd probably create a command with this for the script:</p>\n<p><code>JS.showScrollback()</code></p>\n<hr>\n<p>Quest 5.8 will also have a Transcript feature.</p>\n<p>SCRIPT enables the transcript, just like it does in classic text adventures.</p>\n<p>SCRIPT OFF disables.</p>\n<p>We will be able to enter SHOW SCRIPT to view the transcript in a dialog popup (which will include a 'Print' button).</p>\n<p>If an author doesn't want the player to be able to do this, simply add <code>game.notranscript = true</code> to the start script.  If a player enters any transcript commands, it would return, \"this story has no transcript feature.\"</p>\n<hr>\n<p>Wait...</p>\n<p>What were we talking about, again?</p>\n\n",
      "PostDate": "2018-05-14T20:48:10.7521965Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "eff9d7a3-7b26-4e3f-b395-c23e5fcfd14f",
      "UserId": 318253,
      "Username": "K.V.",
      "AvatarUrl": "https://i.imgur.com/mBf7TBeb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "PS\r\n\r\nIf you are clearing the screen because you like to clear the screen, I'm not downing your game.  I'm talking about the games when you can tell that the screen is only being cleared to properly display large chunks of text.",
      "EditableFormat": "markdown",
      "HTML": "<p>PS</p>\n<p>If you are clearing the screen because you like to clear the screen, I'm not downing your game.  I'm talking about the games when you can tell that the screen is only being cleared to properly display large chunks of text.</p>\n\n",
      "PostDate": "2018-05-14T22:52:08.77221Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "59335dec-ca5f-4158-b8ef-4cf7e05cbca8",
      "UserId": 348994,
      "Username": "CheeseMyBaby",
      "AvatarUrl": "https://i.imgur.com/c5nBbAgb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "> showScrollback(), which will display the entire text in a dialog popup, even the stuff that was wiped out during a ClearScreen.\r\n\r\nAwesome feature!!!\r\n\r\n//A frequent ClearScreen user.",
      "EditableFormat": "markdown",
      "HTML": "<blockquote>\n<p>showScrollback(), which will display the entire text in a dialog popup, even the stuff that was wiped out during a ClearScreen.</p>\n</blockquote>\n<p>Awesome feature!!!</p>\n<p>//A frequent ClearScreen user.</p>\n\n",
      "PostDate": "2018-05-17T11:25:53.1375778Z",
      "LastEditDate": null,
      "link": null
    }
  ]
}
