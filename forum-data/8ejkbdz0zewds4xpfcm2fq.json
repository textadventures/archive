{
  "Topic": {
    "TopicId": "8ejkbdz0zewds4xpfcm2fq",
    "ForumId": "10",
    "Title": "Halp This Newb",
    "LastUpdated": "2016-07-12T00:36:32.1324145Z",
    "ReplyCount": 0
  },
  "Posts": [
    {
      "PostId": "12e89e46-a734-4e72-9381-57747c236990",
      "UserId": 250608,
      "Username": "AtomExplorer",
      "UserAvatar": null,
      "UserGravatar": "955c0f412512ee1d19924d7397a8f36a",
      "EditableText": "I was Just wondering how do i make myself lose health from a Enemy/Object and then lose the game",
      "EditableFormat": "markdown",
      "HTML": "<p>I was Just wondering how do i make myself lose health from a Enemy/Object and then lose the game</p>\n\n",
      "PostDate": "2016-07-12T00:36:32.1324145Z",
      "LastEditDate": null
    },
    {
      "PostId": "ac9ae3b6-b420-4029-ba63-46fc96d0bbcf",
      "UserId": 247325,
      "Username": "hegemonkhan",
      "UserAvatar": null,
      "UserGravatar": "a96cf34d8d97c57de38f54ee22b1759b",
      "EditableText": "here's XanMag's \"tutorial 2\" game, which he probably has lessons within it on doing damage in combat:\r\n\r\nhttp://textadventures.co.uk/forum/games/topic/5940/quest-tutorials-and-templates-published\r\n\r\n---------\r\n\r\nhere's a link of my extensive guide on this type of stuff:\r\n\r\nhttp://textadventures.co.uk/forum/samples/topic/5559/attributes-and-if-script-guide-by-hk (see also the 'statusattributes' link in my 2nd-3rd post a ways scrolled down)\r\n\r\nto end the game:\r\n\r\nin Code: http://docs.textadventures.co.uk/quest/scripts/finish.html\r\n\r\nin GUI~Editor: find/use the Script option that does so\r\n\r\n----------\r\n\r\nhere's a sample game of an example of it:\r\n\r\n```\r\n<asl version=\"550\">\r\n\r\n  <include ref=\"English.aslx\" />\r\n  <include ref=\"Core.aslx\" />\r\n\r\n  <game name=\"example\">\r\n    <gameid>f63f45df-3dba-4dfe-b427-6a76381afd2a</gameid>\r\n    <version>1.0</version>\r\n    <firstpublished>2016</firstpublished>\r\n  </game>\r\n\r\n  <object name=\"room\">\r\n  </object>\r\n\r\n  <object name=\"player\">\r\n    <attr name=\"parent\" type=\"object\">room</attr>\r\n    <attr name=\"current_life_integer_attribute\" type=\"int\">999</attr>\r\n    <attr name=\"damage_integer_attribute\" type=\"int\">100</attr>\r\n  </object>\r\n\r\n  <object name=\"monster\">\r\n    <attr name=\"parent\" type=\"object\">room</attr>\r\n    <attr name=\"alias\" type=\"string\">orc</attr>\r\n    <attr name=\"current_life_integer_attribute\" type=\"int\">500</attr>\r\n    <attr name=\"damage_integer_attribute\" type=\"int\">50</attr>\r\n    <attr name=\"dead_boolean_attribute\" type=\"boolean\">false</attr>\r\n    <attr name=\"displayverbs\" type=\"simplestringlist\">fight</attr>\r\n    <attr name=\"fight\" type=\"script\"><![CDATA[\r\n      if (this.dead_boolean_attribute) {\r\n        msg (\"The \" + this.alias + \" is already dead, silly.\")\r\n      } else {\r\n        this.current_life_integer_attribute = this.current_life_integer_attribute - game.pov.damage_integer_attribute\r\n        msg (game.pov.alias + \" attacks the \" + this.alias + \", doing \" + game.pov.damage_integer_attribute + \" damage to the \" + this.alias + \", leaving it with only \" + this.current_life_integer_attribute + \" life left.\")\r\n        if (this.current_life_integer_attribute <= 0) {\r\n          this.dead_boolean_attribute = true\r\n          msg (game.pov.alias + \" has inflicted so much damage, that the \" + this.alias + \" is dead.\")\r\n        } else {\r\n          game.pov.current_life_integer_attribute = game.pov.current_life_integer_attribute - this.damage_integer_attribute\r\n          msg (\"The \" + this.alias + \" attacks \" + game.pov.alias + \", doing \" + this.damage_integer_attribute + \" damage, leaving \" + game.pov.alias + \" with only \" + game.pov.current_life_integer_attribute + \" life left.\")\r\n          if (game.pov.current_life_integer_attribute <= 0) {\r\n            msg (game.pov.alias + \" was killed by the \" + this.alias + \".\")\r\n            msg (\"GAME OVER\")\r\n            finish\r\n          }\r\n        }\r\n      }\r\n    ]]></attr>\r\n  </object>\r\n\r\n  <verb>\r\n    <property>fight</property>\r\n    <pattern>fight</pattern>\r\n    <defaultexpression>You can't fight that!</defaultexpression>\r\n  </verb>\r\n\r\n</asl>\r\n```",
      "EditableFormat": "markdown",
      "HTML": "<p>here's XanMag's \"tutorial 2\" game, which he probably has lessons within it on doing damage in combat:</p>\n<p>http://textadventures.co.uk/forum/games/topic/5940/quest-tutorials-and-templates-published</p>\n<hr>\n<p>here's a link of my extensive guide on this type of stuff:</p>\n<p>http://textadventures.co.uk/forum/samples/topic/5559/attributes-and-if-script-guide-by-hk (see also the 'statusattributes' link in my 2nd-3rd post a ways scrolled down)</p>\n<p>to end the game:</p>\n<p>in Code: http://docs.textadventures.co.uk/quest/scripts/finish.html</p>\n<p>in GUI~Editor: find/use the Script option that does so</p>\n<hr>\n<p>here's a sample game of an example of it:</p>\n<pre><code>&lt;asl version=\"550\"&gt;\n\n  &lt;include ref=\"English.aslx\" /&gt;\n  &lt;include ref=\"Core.aslx\" /&gt;\n\n  &lt;game name=\"example\"&gt;\n    &lt;gameid&gt;f63f45df-3dba-4dfe-b427-6a76381afd2a&lt;/gameid&gt;\n    &lt;version&gt;1.0&lt;/version&gt;\n    &lt;firstpublished&gt;2016&lt;/firstpublished&gt;\n  &lt;/game&gt;\n\n  &lt;object name=\"room\"&gt;\n  &lt;/object&gt;\n\n  &lt;object name=\"player\"&gt;\n    &lt;attr name=\"parent\" type=\"object\"&gt;room&lt;/attr&gt;\n    &lt;attr name=\"current_life_integer_attribute\" type=\"int\"&gt;999&lt;/attr&gt;\n    &lt;attr name=\"damage_integer_attribute\" type=\"int\"&gt;100&lt;/attr&gt;\n  &lt;/object&gt;\n\n  &lt;object name=\"monster\"&gt;\n    &lt;attr name=\"parent\" type=\"object\"&gt;room&lt;/attr&gt;\n    &lt;attr name=\"alias\" type=\"string\"&gt;orc&lt;/attr&gt;\n    &lt;attr name=\"current_life_integer_attribute\" type=\"int\"&gt;500&lt;/attr&gt;\n    &lt;attr name=\"damage_integer_attribute\" type=\"int\"&gt;50&lt;/attr&gt;\n    &lt;attr name=\"dead_boolean_attribute\" type=\"boolean\"&gt;false&lt;/attr&gt;\n    &lt;attr name=\"displayverbs\" type=\"simplestringlist\"&gt;fight&lt;/attr&gt;\n    &lt;attr name=\"fight\" type=\"script\"&gt;&lt;![CDATA[\n      if (this.dead_boolean_attribute) {\n        msg (\"The \" + this.alias + \" is already dead, silly.\")\n      } else {\n        this.current_life_integer_attribute = this.current_life_integer_attribute - game.pov.damage_integer_attribute\n        msg (game.pov.alias + \" attacks the \" + this.alias + \", doing \" + game.pov.damage_integer_attribute + \" damage to the \" + this.alias + \", leaving it with only \" + this.current_life_integer_attribute + \" life left.\")\n        if (this.current_life_integer_attribute &lt;= 0) {\n          this.dead_boolean_attribute = true\n          msg (game.pov.alias + \" has inflicted so much damage, that the \" + this.alias + \" is dead.\")\n        } else {\n          game.pov.current_life_integer_attribute = game.pov.current_life_integer_attribute - this.damage_integer_attribute\n          msg (\"The \" + this.alias + \" attacks \" + game.pov.alias + \", doing \" + this.damage_integer_attribute + \" damage, leaving \" + game.pov.alias + \" with only \" + game.pov.current_life_integer_attribute + \" life left.\")\n          if (game.pov.current_life_integer_attribute &lt;= 0) {\n            msg (game.pov.alias + \" was killed by the \" + this.alias + \".\")\n            msg (\"GAME OVER\")\n            finish\n          }\n        }\n      }\n    ]]&gt;&lt;/attr&gt;\n  &lt;/object&gt;\n\n  &lt;verb&gt;\n    &lt;property&gt;fight&lt;/property&gt;\n    &lt;pattern&gt;fight&lt;/pattern&gt;\n    &lt;defaultexpression&gt;You can't fight that!&lt;/defaultexpression&gt;\n  &lt;/verb&gt;\n\n&lt;/asl&gt;\n</code></pre>\n\n",
      "PostDate": "2016-07-12T02:13:02.3518681Z",
      "LastEditDate": "2016-07-12T03:09:15.5916977Z"
    },
    {
      "PostId": "21a273ed-bebe-426b-b95c-1a2069d0a8c5",
      "UserId": 250608,
      "Username": "AtomExplorer",
      "UserAvatar": null,
      "UserGravatar": "955c0f412512ee1d19924d7397a8f36a",
      "EditableText": "Thanks man\r\n",
      "EditableFormat": "markdown",
      "HTML": "<p>Thanks man</p>\n\n",
      "PostDate": "2016-07-13T19:21:41.295378Z",
      "LastEditDate": null
    },
    {
      "PostId": "570df4cc-44df-40c7-9d2b-ed5883599fe4",
      "UserId": 247325,
      "Username": "hegemonkhan",
      "UserAvatar": null,
      "UserGravatar": "a96cf34d8d97c57de38f54ee22b1759b",
      "EditableText": "Pixie has some combat libraries that you can look at too, and there's also my old combat code too (it's based off of a part of Pertex' Combat Library).\r\n\r\nPixie's:\r\nhttp://textadventures.co.uk/forum/samples/topic/5976/rpg-style-combat-library-2-0\r\nhttp://textadventures.co.uk/forum/samples/topic/4886/rpg-style-combat-library\r\n\r\nPertex' Combat Libray:\r\nhttp://textadventures.co.uk/forum/samples/topic/2660/library-rpg-elements\r\n\r\nGuides (some of them are on/for combat):\r\nhttp://docs.textadventures.co.uk/quest/guides/\r\n\r\nHK's old combat code (based upon a part of Pertex' Combat Library):\r\n(err, new forum code is limiting my ability, so just going to paste the code below)\r\n```\r\n<asl version=\"530\">\r\n  <include ref=\"English.aslx\" />\r\n  <include ref=\"Core.aslx\" />\r\n  <game name=\"Testing Game Stuff\">\r\n    <gameid>d83ba5bb-2e3c-4f31-80c9-3e88a2dc082c</gameid>\r\n    <version>1.0</version>\r\n    <pov type=\"object\">player</pov>\r\n    <start type=\"script\">\r\n      cc\r\n    </start>\r\n    <turns type=\"int\">0</turns>\r\n    <statusattributes type=\"stringdictionary\">turns = </statusattributes>\r\n  </game>\r\n  <object name=\"room\">\r\n    <inherit name=\"editor_room\" />\r\n    <object name=\"player\">\r\n      <inherit name=\"defaultplayer\" />\r\n      <inherit name=\"pc\" />\r\n      <cur_hp type=\"int\">999</cur_hp>\r\n      <max_hp type=\"int\">999</max_hp>\r\n      <str type=\"int\">100</str>\r\n      <end type=\"int\">100</end>\r\n      <dex type=\"int\">100</dex>\r\n      <agi type=\"int\">100</agi>\r\n      <spd type=\"int\">100</spd>\r\n      <hc type=\"int\">100</hc>\r\n      <pd type=\"int\">100</pd>\r\n      <pr type=\"int\">100</pr>\r\n    </object>\r\n    <object name=\"orc1\">\r\n      <inherit name=\"editor_object\" />\r\n      <inherit name=\"npc\" />\r\n      <hostile type=\"boolean\">true</hostile>\r\n      <dead type=\"boolean\">false</dead>\r\n      <alias>orc</alias>\r\n      <cur_hp type=\"int\">999</cur_hp>\r\n      <max_hp type=\"int\">999</max_hp>\r\n      <str type=\"int\">25</str>\r\n      <end type=\"int\">25</end>\r\n      <dex type=\"int\">25</dex>\r\n      <agi type=\"int\">25</agi>\r\n      <spd type=\"int\">25</spd>\r\n      <hc type=\"int\">25</hc>\r\n      <pd type=\"int\">25</pd>\r\n      <pr type=\"int\">25</pr>\r\n    </object>\r\n  </object>\r\n  <turnscript name=\"game_turns\">\r\n    <enabled />\r\n    <script>\r\n      sa\r\n      game.turns = game.turns + 1\r\n    </script>\r\n  </turnscript>\r\n  <command name=\"fight\">\r\n    <pattern>fight #text#</pattern>\r\n    <script>\r\n      battle_system (game.pov,text)\r\n    </script>\r\n  </command>\r\n  <type name=\"char\">\r\n    <cur_hp type=\"int\">0</cur_hp>\r\n    <drop type=\"boolean\">false</drop>\r\n    <defending type=\"boolean\">false</defending>\r\n    <max_hp type=\"int\">0</max_hp>\r\n    <str type=\"int\">0</str>\r\n    <end type=\"int\">0</end>\r\n    <dex type=\"int\">0</dex>\r\n    <agi type=\"int\">0</agi>\r\n    <spd type=\"int\">0</spd>\r\n    <hp type=\"int\">0</hp>\r\n    <hc type=\"int\">0</hc>\r\n    <pd type=\"int\">0</pd>\r\n    <pr type=\"int\">0</pr>\r\n  </type>\r\n  <type name=\"pc\">\r\n    <inherit name=\"char\" />\r\n    <statusattributes type=\"stringdictionary\">hp = ;str = ;end = ;dex = ;agi = ;spd = ;hc = ;pd = ;pr = </statusattributes>\r\n  </type>\r\n  <type name=\"npc\">\r\n    <inherit name=\"char\" />\r\n    <dead type=\"boolean\">false</dead>\r\n    <hostile type=\"boolean\">false</hostile>\r\n    <displayverbs type=\"list\">Look at; Talk; Fight</displayverbs>\r\n  </type>\r\n  <function name=\"cc\">\r\n    msg (\"What is your name?\")\r\n    get input {\r\n      game.pov.alias = result\r\n      msg (\" - \" + game.pov.alias)\r\n      show menu (\"What is your gender?\", split (\"male;female\" , \";\"), false) {\r\n        game.pov.gender = result\r\n        show menu (\"What is your race?\", split (\"human;dwarf;elf\" , \";\"), false) {\r\n          game.pov.race = result\r\n          show menu (\"What is your class?\", split (\"warrior;cleric;mage;thief\" , \";\"), false) {\r\n            game.pov.class = result\r\n            msg (game.pov.alias + \" is a \" + game.pov.gender + \" \" + game.pov.race + \" \" + game.pov.class + \".\")\r\n            wait {\r\n              ClearScreen\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  </function>\r\n  <function name=\"sa\">\r\n    game.pov.hp = game.pov.cur_hp + \" / \" + game.pov.max_hp\r\n  </function>\r\n  <function name=\"battle_system\" parameters=\"self,text\" type=\"boolean\">\r\n    first_value = false\r\n    enemy = GetObject (text)\r\n    if (enemy = null) {\r\n      foreach (obj,AllObjects()) {\r\n        if (obj.alias=text) {\r\n          enemy = obj\r\n        }\r\n      }\r\n    }\r\n    if (enemy = null) {\r\n      msg (\"There is no \" + text + \" here.\")\r\n      first_value = false\r\n    }\r\n    else if (not Doesinherit (enemy,\"npc\")) {\r\n      msg (\"You can not battle that!\")\r\n      first_value = false\r\n    }\r\n    else if (not npc_reachable (enemy)) {\r\n      msg (\"There is no \" + enemy.alias + \" in your vicinity.\")\r\n      first_value = false\r\n    }\r\n    else if (GetBoolean (enemy,\"dead\") = true) {\r\n      msg (enemy.alias + \" is already dead.\")\r\n      first_value = false\r\n    }\r\n    else if (GetBoolean (enemy,\"hostile\") = false) {\r\n      msg (enemy.alias + \" is not hostile.\")\r\n      first_value = false\r\n    }\r\n    else if (battle_sequence (self,enemy) = true) {\r\n      msg (\"The battle is over.\")\r\n      first_value = true\r\n    }\r\n    return (first_value)\r\n  </function>\r\n  <function name=\"battle_sequence\" parameters=\"self,enemy\" type=\"boolean\"><![CDATA[\r\n    second_value = false\r\n    if (enemy.dead = false) {\r\n      if (GetInt (self,\"spd\") > GetInt (enemy,\"spd\")) {\r\n        on ready {\r\n          msg (\"You get to go first for this round\")\r\n          if (self_battle_turn (self,enemy) = true) {\r\n            battle_sequence (self,enemy)\r\n          }\r\n        }\r\n        on ready {\r\n          if (enemy.dead = false) {\r\n            if (enemy_battle_turn (self,enemy) = true) {\r\n              msg (\"The round has ended.\")\r\n            }\r\n          }\r\n        }\r\n        on ready {\r\n          battle_sequence (self,enemy)\r\n        }\r\n      }\r\n      else if (GetInt (self,\"spd\") < GetInt (enemy,\"spd\")) {\r\n        on ready {\r\n          msg (enemy.alias + \" gets to go first for this round.\")\r\n          if (enemy_battle_turn (self,enemy) = true) {\r\n            msg (\"It is now your turn.\")\r\n          }\r\n        }\r\n        on ready {\r\n          if (self_battle_turn (self,enemy) = true) {\r\n            battle_sequence (self,enemy)\r\n          }\r\n          else {\r\n            msg (\"The round has ended.\")\r\n          }\r\n        }\r\n        on ready {\r\n          battle_sequence (self,enemy)\r\n        }\r\n      }\r\n      else if (GetInt (self,\"spd\") = GetInt (enemy,\"spd\")) {\r\n        if (RandomChance (50) = true) {\r\n          on ready {\r\n            msg (\"You get to go first for this round\")\r\n            if (self_battle_turn (self,enemy) = true) {\r\n              battle_sequence (self,enemy)\r\n            }\r\n          }\r\n          on ready {\r\n            if (enemy_battle_turn (self,enemy) = true) {\r\n              msg (\"The round has ended.\")\r\n            }\r\n          }\r\n          on ready {\r\n            battle_sequence (self,enemy)\r\n          }\r\n        }\r\n        else {\r\n          on ready {\r\n            msg (enemy.alias + \" gets to go first for this round.\")\r\n            if (enemy_battle_turn (self,enemy) = true) {\r\n              msg (\"It is now your turn.\")\r\n            }\r\n          }\r\n          on ready {\r\n            if (self_battle_turn (self,enemy) = true) {\r\n              battle_sequence (self,enemy)\r\n            }\r\n            else {\r\n              msg (\"The round has ended.\")\r\n            }\r\n          }\r\n          on ready {\r\n            battle_sequence (self,enemy)\r\n          }\r\n        }\r\n      }\r\n    }\r\n    else {\r\n      second_value = true\r\n    }\r\n    return (second_value)\r\n  ]]></function>\r\n  <function name=\"self_battle_turn\" parameters=\"self,enemy\" type=\"boolean\"><![CDATA[\r\n    third_value = false\r\n    msg (self.alias + \" has \" + self.cur_hp + \" HP left.\")\r\n    msg (enemy.alias + \" has \" + enemy.cur_hp + \" HP left.\")\r\n    wait {\r\n      show menu (\"What is your battle choice?\", split (\"Attack;Defend;Cast;Item;Run\", \";\"), false) {\r\n        switch (result) {\r\n          case (\"Attack\") {\r\n            fourth_value = false\r\n            if (RandomChance (GetInt (enemy,\"agi\") - GetInt (self,\"spd\")) = true) {\r\n              msg (enemy.alias + \"evaded your attack!\")\r\n              fourth_value = true\r\n            }\r\n            else if (RandomChance (GetInt (enemy,\"Dex\") - GetInt (self,\"agi\")) = true) {\r\n              msg (enemy.alias + \"parried your attack!\")\r\n              fourth_value = true\r\n            }\r\n            else if (RandomChance (GetInt (enemy,\"agi\") - GetInt (self,\"dex\")) = true) {\r\n              msg (enemy.alias + \"blocked your attack!\")\r\n              fourth_value = true\r\n            }\r\n            else if (RandomChance (GetInt (self,\"dex\") - GetInt (enemy,\"spd\")) = false) {\r\n              msg (\"Your attack missed \" + enemy.alias +\"!\")\r\n              fourth_value = true\r\n            }\r\n            else if (RandomChance (GetInt (enemy,\"pr\") - GetInt (self,\"hc\")) = true) {\r\n              msg (\"Your attack got resisted by \" + enemy.alias +\"!\")\r\n              fourth_value = true\r\n            }\r\n            else if (fourth_value = false) {\r\n              if (self.defending = true and enemy.defending = true) {\r\n                enemy.cur_hp = enemy.cur_hp - (crit_hit (self) * 2 * GetInt (self,\"pd\") / 2 + GetInt (self,\"pd\") * (GetInt (self,\"str\") - GetInt (enemy,\"end\")) / 100)\r\n                msg (enemy.alias + \" has \" + enemy.cur_hp + \" HP left.\")\r\n                self.defending = false\r\n              }\r\n              else if (self.defending = true and enemy.defending = false) {\r\n                enemy.cur_hp = enemy.cur_hp - (crit_hit (self) * 2 * GetInt (self,\"pd\") + GetInt (self,\"pd\") * (GetInt (self,\"str\") - GetInt (enemy,\"end\")) / 100)\r\n                msg (enemy.alias + \" has \" + enemy.cur_hp + \" HP left.\")\r\n                self.defending = false\r\n              }\r\n              else if (self.defending = false and enemy.defending = true) {\r\n                enemy.cur_hp = enemy.cur_hp - (crit_hit (self) * GetInt (self,\"pd\") / 2 + GetInt (self,\"pd\") * (GetInt (self,\"str\") - GetInt (enemy,\"end\")) / 100)\r\n                msg (enemy.alias + \" has \" + enemy.cur_hp + \" HP left.\")\r\n              }\r\n              else if (self.defending = false and enemy.defending = false) {\r\n                enemy.cur_hp = enemy.cur_hp - (crit_hit (self) * GetInt (self,\"pd\") + GetInt (self,\"pd\") * (GetInt (self,\"str\") - GetInt (enemy,\"end\")) / 100)\r\n                msg (enemy.alias + \" has \" + enemy.cur_hp + \" HP left.\")\r\n              }\r\n            }\r\n          }\r\n          case (\"Defend\") {\r\n            if (self.defending = false) {\r\n              self.defending = true\r\n            }\r\n          }\r\n          case (\"Cast\") {\r\n            self.defending = false\r\n          }\r\n          case (\"Item\") {\r\n            self.defending = false\r\n          }\r\n          case (\"Run\") {\r\n            self.defending = false\r\n          }\r\n        }\r\n        if (GetInt (enemy,\"cur_hp\") > 0) {\r\n          if (RandomChance (GetInt (self,\"spd\") - GetInt (enemy,\"spd\")) = true) {\r\n            msg (\"You get an extra battle turn!\")\r\n            self_battle_turn (self,enemy)\r\n          }\r\n          else {\r\n            msg (\"Your battle turn is over.\")\r\n            third_value = false\r\n          }\r\n        }\r\n        else if (GetInt (enemy,\"cur_hp\") <= 0) {\r\n          msg (enemy.alias + \" is dead.\")\r\n          msg (\"You have won the battle!\")\r\n          enemy.defending = false\r\n          enemy.dead = true\r\n          third_value = true\r\n          wait {\r\n            ClearScreen\r\n          }\r\n        }\r\n      }\r\n    }\r\n    return (third_value)\r\n  ]]></function>\r\n  <function name=\"enemy_battle_turn\" parameters=\"self,enemy\" type=\"boolean\"><![CDATA[\r\n    fifth_value = false\r\n    msg (self.alias + \" has \" + self.cur_hp + \" HP left.\")\r\n    msg (enemy.alias + \" has \" + enemy.cur_hp + \" HP left.\")\r\n    result = GetRandomInt (1,3)\r\n    switch (result) {\r\n      case (1) {\r\n        sixth_value = false\r\n        if (RandomChance (GetInt (self,\"agi\") - GetInt (enemy,\"spd\")) = true) {\r\n          msg (\"You have evaded the attack!\")\r\n          sixth_value = true\r\n        }\r\n        else if (RandomChance (GetInt (self,\"dex\") - GetInt (enemy,\"agi\")) = true) {\r\n          msg (\"You have parried the attack!\")\r\n          sixth_value = true\r\n        }\r\n        else if (RandomChance (GetInt (self,\"agi\") - GetInt (enemy,\"dex\")) = true) {\r\n          msg (\"You have blocked the attack!\")\r\n          sixth_value = true\r\n        }\r\n        else if (RandomChance (GetInt (enemy,\"dex\") - GetInt (self,\"spd\")) = false) {\r\n          msg (enemy.alias +\"'s attack missed!\")\r\n          sixth_value = true\r\n        }\r\n        else if (RandomChance (GetInt (self,\"pr\") - GetInt (enemy,\"hc\")) = true) {\r\n          msg (\"You resisted the attack!\")\r\n          sixth_value = true\r\n        }\r\n        else if (sixth_value = false) { \r\n          if (enemy.defending = true and self.defending = true) {\r\n            self.cur_hp = self.cur_hp - (crit_hit (enemy) * 2 * GetInt (enemy,\"pd\") / 2 + GetInt (enemy,\"pd\") * (GetInt (enemy,\"str\") - GetInt (self,\"end\")) / 100)\r\n            msg (self.alias + \" has \" + self.cur_hp + \" HP left.\")\r\n            enemy.defending = false\r\n          }\r\n          else if (enemy.defending = true and self.defending = false) {\r\n            self.cur_hp = self.cur_hp - (crit_hit (enemy) * 2 * GetInt (enemy,\"pd\") + GetInt (enemy,\"pd\") * (GetInt (enemy,\"str\") - GetInt (self,\"end\")) / 100)\r\n            msg (self.alias + \" has \" + self.cur_hp + \" HP left.\")\r\n            enemy.defending = false\r\n          }\r\n          else if (enemy.defending = false and self.defending = true) {\r\n            self.cur_hp = self.cur_hp - (crit_hit (enemy) * GetInt (enemy,\"pd\") / 2 + GetInt (enemy,\"pd\") * (GetInt (enemy,\"str\") - GetInt (self,\"end\")) / 100)\r\n            msg (self.alias + \" has \" + self.cur_hp + \" HP left.\")\r\n          }\r\n          else if (enemy.defending = false and self.defending = false) {\r\n            self.cur_hp = self.cur_hp - (crit_hit (enemy) * GetInt (enemy,\"pd\") + GetInt (enemy,\"pd\") * (GetInt (enemy,\"str\") - GetInt (self,\"end\")) / 100)\r\n            msg (self.alias + \" has \" + self.cur_hp + \" HP left.\")\r\n          }\r\n        }\r\n      }\r\n      case (2) {\r\n        if (enemy.defending = false) {\r\n          msg (enemy.alias + \" has choosen to defend itself.\")\r\n          enemy.defending = true\r\n        }\r\n      }\r\n      case (3) {\r\n        enemy.defending = false\r\n        msg (\"Cast\")\r\n      }\r\n    }\r\n    if (GetInt (self,\"cur_hp\") > 0) {\r\n      if (RandomChance (GetInt (enemy,\"spd\") - GetInt (self,\"spd\")) = true) {\r\n        msg (enemy.alias + \" gets an extra battle turn!\")\r\n        wait {\r\n          enemy_battle_turn (self,enemy)\r\n        }\r\n      }\r\n      else {\r\n        msg (enemy.alias + \" 's battle turn is over.\")\r\n        fifth_value = true\r\n      }\r\n    }\r\n    else if (GetInt (self,\"cur_hp\") <= 0) {\r\n      msg (self.alias + \" has died.\")\r\n      msg (\"GAME OVER\")\r\n      finish\r\n    }\r\n    return (fifth_value)\r\n  ]]></function>\r\n  <function name=\"npc_reachable\" parameters=\"object\" type=\"boolean\">\r\n    value = false\r\n    foreach (x,ScopeReachableNotHeld ()) {\r\n      if (x=object) {\r\n        value = true\r\n      }\r\n    }\r\n    return (value)\r\n  </function>\r\n  <function name=\"crit_hit\" parameters=\"object\" type=\"int\">\r\n    if (RandomChance (GetInt (object,\"luck\")) = true) {\r\n      value = 2\r\n    }\r\n    else {\r\n      value = 1\r\n    }\r\n    return (value)\r\n  </function>\r\n</asl>\r\n```\r\n\r\nand my key/legend for it (I've learned since to never use abrevs ever again, lol. It's bad when you yourself don't even know what your abrevs mean, laughs):\r\n```\r\n01. cc = character creation function\r\n02. sa = status attributes (mainly for implementing/displaying of ' cur / max ' stats) function\r\n03. char = character object type (\"pcs\", \"npcs\", \"monsters\", etc., so, not a room, item, equipment, spell, etc)\r\n04. pc = playable character object type (\"player\" characters / game.povs)\r\n05. npc = non-playable character (\"people\", \"monsters\", and etc, so not a \"player\" character / not a game.pov, I'm going to have a hostility system, so any npc can be friendly or hostile, instead of having an actual \"monster/enemy\" type set aside)\r\n06. hp = hit points (life) stat attribute\r\n07. mp = mana points (magic) stat attribute\r\n08. str = strength (physical damage, carry weight / equipment requirement, etc) stat attribute\r\n09. end = endurance (physical defense, and etc) stat attribute\r\n10. dex = dexterity (weapon~attack skill, think of this as \"if your attack connects or not, do you 'whiff' or not\", so not to gete confused with hc, and etc) stat attribute\r\n11. agi = agility (dodging/evading, and etc) stat attribute\r\n12. spd = speed (who goes first in battle, extra battle turns, escaping from battle, and etc) stat attribute\r\n13. hc = hit chance (think of this more as piercing their armor or not, so not to get confused with dex, and etc) stat attribute\r\n14. pd = physical damage stat attribute\r\n15. fp = fire damage stat attribute\r\n16. wp = water damage stat attribute\r\n17. ap = air damage stat attribute\r\n18. ed = earth damage stat attribute\r\n19. ld = light damage stat attribute\r\n20. dd = dark damage stat attribute\r\n21. pr = physical resistance stat attribute\r\n22. fr = fire resistance stat attribute\r\n23. wr = water resistance stat attribute\r\n24. ar = air resistance stat attribute\r\n25. er = earth resistance stat attribute\r\n26. lr = light resistance stat attribute\r\n27. dr = dark resistance stat attribute\r\n28. defending = boolean (reduces damage done for that character and increases the damage done by that character, if they chosoe to attack on the next turn)\r\n29. escaped = boolean, run from battle (not completed/implemented yet)\r\n30. hostile = boolean, any npc can be friendly or a(n) \"monster/enemy\", based upon a hostility scale (0-100), but not completed\r\n31. dead = boolean\r\n32. crit_hit = critical hit (bonus damage based upon luck)\r\n33. luck = luck stat attribute\r\n34. lvl = level stat attribute\r\n35. exp = experience stat attribute\r\n36. cash = cash stat attribute (currency)\r\n37. lvlup = level up function\r\n```",
      "EditableFormat": "markdown",
      "HTML": "<p>Pixie has some combat libraries that you can look at too, and there's also my old combat code too (it's based off of a part of Pertex' Combat Library).</p>\n<p>Pixie's:<br>\nhttp://textadventures.co.uk/forum/samples/topic/5976/rpg-style-combat-library-2-0<br>\nhttp://textadventures.co.uk/forum/samples/topic/4886/rpg-style-combat-library</p>\n<p>Pertex' Combat Libray:<br>\nhttp://textadventures.co.uk/forum/samples/topic/2660/library-rpg-elements</p>\n<p>Guides (some of them are on/for combat):<br>\nhttp://docs.textadventures.co.uk/quest/guides/</p>\n<p>HK's old combat code (based upon a part of Pertex' Combat Library):<br>\n(err, new forum code is limiting my ability, so just going to paste the code below)</p>\n<pre><code>&lt;asl version=\"530\"&gt;\n  &lt;include ref=\"English.aslx\" /&gt;\n  &lt;include ref=\"Core.aslx\" /&gt;\n  &lt;game name=\"Testing Game Stuff\"&gt;\n    &lt;gameid&gt;d83ba5bb-2e3c-4f31-80c9-3e88a2dc082c&lt;/gameid&gt;\n    &lt;version&gt;1.0&lt;/version&gt;\n    &lt;pov type=\"object\"&gt;player&lt;/pov&gt;\n    &lt;start type=\"script\"&gt;\n      cc\n    &lt;/start&gt;\n    &lt;turns type=\"int\"&gt;0&lt;/turns&gt;\n    &lt;statusattributes type=\"stringdictionary\"&gt;turns = &lt;/statusattributes&gt;\n  &lt;/game&gt;\n  &lt;object name=\"room\"&gt;\n    &lt;inherit name=\"editor_room\" /&gt;\n    &lt;object name=\"player\"&gt;\n      &lt;inherit name=\"defaultplayer\" /&gt;\n      &lt;inherit name=\"pc\" /&gt;\n      &lt;cur_hp type=\"int\"&gt;999&lt;/cur_hp&gt;\n      &lt;max_hp type=\"int\"&gt;999&lt;/max_hp&gt;\n      &lt;str type=\"int\"&gt;100&lt;/str&gt;\n      &lt;end type=\"int\"&gt;100&lt;/end&gt;\n      &lt;dex type=\"int\"&gt;100&lt;/dex&gt;\n      &lt;agi type=\"int\"&gt;100&lt;/agi&gt;\n      &lt;spd type=\"int\"&gt;100&lt;/spd&gt;\n      &lt;hc type=\"int\"&gt;100&lt;/hc&gt;\n      &lt;pd type=\"int\"&gt;100&lt;/pd&gt;\n      &lt;pr type=\"int\"&gt;100&lt;/pr&gt;\n    &lt;/object&gt;\n    &lt;object name=\"orc1\"&gt;\n      &lt;inherit name=\"editor_object\" /&gt;\n      &lt;inherit name=\"npc\" /&gt;\n      &lt;hostile type=\"boolean\"&gt;true&lt;/hostile&gt;\n      &lt;dead type=\"boolean\"&gt;false&lt;/dead&gt;\n      &lt;alias&gt;orc&lt;/alias&gt;\n      &lt;cur_hp type=\"int\"&gt;999&lt;/cur_hp&gt;\n      &lt;max_hp type=\"int\"&gt;999&lt;/max_hp&gt;\n      &lt;str type=\"int\"&gt;25&lt;/str&gt;\n      &lt;end type=\"int\"&gt;25&lt;/end&gt;\n      &lt;dex type=\"int\"&gt;25&lt;/dex&gt;\n      &lt;agi type=\"int\"&gt;25&lt;/agi&gt;\n      &lt;spd type=\"int\"&gt;25&lt;/spd&gt;\n      &lt;hc type=\"int\"&gt;25&lt;/hc&gt;\n      &lt;pd type=\"int\"&gt;25&lt;/pd&gt;\n      &lt;pr type=\"int\"&gt;25&lt;/pr&gt;\n    &lt;/object&gt;\n  &lt;/object&gt;\n  &lt;turnscript name=\"game_turns\"&gt;\n    &lt;enabled /&gt;\n    &lt;script&gt;\n      sa\n      game.turns = game.turns + 1\n    &lt;/script&gt;\n  &lt;/turnscript&gt;\n  &lt;command name=\"fight\"&gt;\n    &lt;pattern&gt;fight #text#&lt;/pattern&gt;\n    &lt;script&gt;\n      battle_system (game.pov,text)\n    &lt;/script&gt;\n  &lt;/command&gt;\n  &lt;type name=\"char\"&gt;\n    &lt;cur_hp type=\"int\"&gt;0&lt;/cur_hp&gt;\n    &lt;drop type=\"boolean\"&gt;false&lt;/drop&gt;\n    &lt;defending type=\"boolean\"&gt;false&lt;/defending&gt;\n    &lt;max_hp type=\"int\"&gt;0&lt;/max_hp&gt;\n    &lt;str type=\"int\"&gt;0&lt;/str&gt;\n    &lt;end type=\"int\"&gt;0&lt;/end&gt;\n    &lt;dex type=\"int\"&gt;0&lt;/dex&gt;\n    &lt;agi type=\"int\"&gt;0&lt;/agi&gt;\n    &lt;spd type=\"int\"&gt;0&lt;/spd&gt;\n    &lt;hp type=\"int\"&gt;0&lt;/hp&gt;\n    &lt;hc type=\"int\"&gt;0&lt;/hc&gt;\n    &lt;pd type=\"int\"&gt;0&lt;/pd&gt;\n    &lt;pr type=\"int\"&gt;0&lt;/pr&gt;\n  &lt;/type&gt;\n  &lt;type name=\"pc\"&gt;\n    &lt;inherit name=\"char\" /&gt;\n    &lt;statusattributes type=\"stringdictionary\"&gt;hp = ;str = ;end = ;dex = ;agi = ;spd = ;hc = ;pd = ;pr = &lt;/statusattributes&gt;\n  &lt;/type&gt;\n  &lt;type name=\"npc\"&gt;\n    &lt;inherit name=\"char\" /&gt;\n    &lt;dead type=\"boolean\"&gt;false&lt;/dead&gt;\n    &lt;hostile type=\"boolean\"&gt;false&lt;/hostile&gt;\n    &lt;displayverbs type=\"list\"&gt;Look at; Talk; Fight&lt;/displayverbs&gt;\n  &lt;/type&gt;\n  &lt;function name=\"cc\"&gt;\n    msg (\"What is your name?\")\n    get input {\n      game.pov.alias = result\n      msg (\" - \" + game.pov.alias)\n      show menu (\"What is your gender?\", split (\"male;female\" , \";\"), false) {\n        game.pov.gender = result\n        show menu (\"What is your race?\", split (\"human;dwarf;elf\" , \";\"), false) {\n          game.pov.race = result\n          show menu (\"What is your class?\", split (\"warrior;cleric;mage;thief\" , \";\"), false) {\n            game.pov.class = result\n            msg (game.pov.alias + \" is a \" + game.pov.gender + \" \" + game.pov.race + \" \" + game.pov.class + \".\")\n            wait {\n              ClearScreen\n            }\n          }\n        }\n      }\n    }\n  &lt;/function&gt;\n  &lt;function name=\"sa\"&gt;\n    game.pov.hp = game.pov.cur_hp + \" / \" + game.pov.max_hp\n  &lt;/function&gt;\n  &lt;function name=\"battle_system\" parameters=\"self,text\" type=\"boolean\"&gt;\n    first_value = false\n    enemy = GetObject (text)\n    if (enemy = null) {\n      foreach (obj,AllObjects()) {\n        if (obj.alias=text) {\n          enemy = obj\n        }\n      }\n    }\n    if (enemy = null) {\n      msg (\"There is no \" + text + \" here.\")\n      first_value = false\n    }\n    else if (not Doesinherit (enemy,\"npc\")) {\n      msg (\"You can not battle that!\")\n      first_value = false\n    }\n    else if (not npc_reachable (enemy)) {\n      msg (\"There is no \" + enemy.alias + \" in your vicinity.\")\n      first_value = false\n    }\n    else if (GetBoolean (enemy,\"dead\") = true) {\n      msg (enemy.alias + \" is already dead.\")\n      first_value = false\n    }\n    else if (GetBoolean (enemy,\"hostile\") = false) {\n      msg (enemy.alias + \" is not hostile.\")\n      first_value = false\n    }\n    else if (battle_sequence (self,enemy) = true) {\n      msg (\"The battle is over.\")\n      first_value = true\n    }\n    return (first_value)\n  &lt;/function&gt;\n  &lt;function name=\"battle_sequence\" parameters=\"self,enemy\" type=\"boolean\"&gt;&lt;![CDATA[\n    second_value = false\n    if (enemy.dead = false) {\n      if (GetInt (self,\"spd\") &gt; GetInt (enemy,\"spd\")) {\n        on ready {\n          msg (\"You get to go first for this round\")\n          if (self_battle_turn (self,enemy) = true) {\n            battle_sequence (self,enemy)\n          }\n        }\n        on ready {\n          if (enemy.dead = false) {\n            if (enemy_battle_turn (self,enemy) = true) {\n              msg (\"The round has ended.\")\n            }\n          }\n        }\n        on ready {\n          battle_sequence (self,enemy)\n        }\n      }\n      else if (GetInt (self,\"spd\") &lt; GetInt (enemy,\"spd\")) {\n        on ready {\n          msg (enemy.alias + \" gets to go first for this round.\")\n          if (enemy_battle_turn (self,enemy) = true) {\n            msg (\"It is now your turn.\")\n          }\n        }\n        on ready {\n          if (self_battle_turn (self,enemy) = true) {\n            battle_sequence (self,enemy)\n          }\n          else {\n            msg (\"The round has ended.\")\n          }\n        }\n        on ready {\n          battle_sequence (self,enemy)\n        }\n      }\n      else if (GetInt (self,\"spd\") = GetInt (enemy,\"spd\")) {\n        if (RandomChance (50) = true) {\n          on ready {\n            msg (\"You get to go first for this round\")\n            if (self_battle_turn (self,enemy) = true) {\n              battle_sequence (self,enemy)\n            }\n          }\n          on ready {\n            if (enemy_battle_turn (self,enemy) = true) {\n              msg (\"The round has ended.\")\n            }\n          }\n          on ready {\n            battle_sequence (self,enemy)\n          }\n        }\n        else {\n          on ready {\n            msg (enemy.alias + \" gets to go first for this round.\")\n            if (enemy_battle_turn (self,enemy) = true) {\n              msg (\"It is now your turn.\")\n            }\n          }\n          on ready {\n            if (self_battle_turn (self,enemy) = true) {\n              battle_sequence (self,enemy)\n            }\n            else {\n              msg (\"The round has ended.\")\n            }\n          }\n          on ready {\n            battle_sequence (self,enemy)\n          }\n        }\n      }\n    }\n    else {\n      second_value = true\n    }\n    return (second_value)\n  ]]&gt;&lt;/function&gt;\n  &lt;function name=\"self_battle_turn\" parameters=\"self,enemy\" type=\"boolean\"&gt;&lt;![CDATA[\n    third_value = false\n    msg (self.alias + \" has \" + self.cur_hp + \" HP left.\")\n    msg (enemy.alias + \" has \" + enemy.cur_hp + \" HP left.\")\n    wait {\n      show menu (\"What is your battle choice?\", split (\"Attack;Defend;Cast;Item;Run\", \";\"), false) {\n        switch (result) {\n          case (\"Attack\") {\n            fourth_value = false\n            if (RandomChance (GetInt (enemy,\"agi\") - GetInt (self,\"spd\")) = true) {\n              msg (enemy.alias + \"evaded your attack!\")\n              fourth_value = true\n            }\n            else if (RandomChance (GetInt (enemy,\"Dex\") - GetInt (self,\"agi\")) = true) {\n              msg (enemy.alias + \"parried your attack!\")\n              fourth_value = true\n            }\n            else if (RandomChance (GetInt (enemy,\"agi\") - GetInt (self,\"dex\")) = true) {\n              msg (enemy.alias + \"blocked your attack!\")\n              fourth_value = true\n            }\n            else if (RandomChance (GetInt (self,\"dex\") - GetInt (enemy,\"spd\")) = false) {\n              msg (\"Your attack missed \" + enemy.alias +\"!\")\n              fourth_value = true\n            }\n            else if (RandomChance (GetInt (enemy,\"pr\") - GetInt (self,\"hc\")) = true) {\n              msg (\"Your attack got resisted by \" + enemy.alias +\"!\")\n              fourth_value = true\n            }\n            else if (fourth_value = false) {\n              if (self.defending = true and enemy.defending = true) {\n                enemy.cur_hp = enemy.cur_hp - (crit_hit (self) * 2 * GetInt (self,\"pd\") / 2 + GetInt (self,\"pd\") * (GetInt (self,\"str\") - GetInt (enemy,\"end\")) / 100)\n                msg (enemy.alias + \" has \" + enemy.cur_hp + \" HP left.\")\n                self.defending = false\n              }\n              else if (self.defending = true and enemy.defending = false) {\n                enemy.cur_hp = enemy.cur_hp - (crit_hit (self) * 2 * GetInt (self,\"pd\") + GetInt (self,\"pd\") * (GetInt (self,\"str\") - GetInt (enemy,\"end\")) / 100)\n                msg (enemy.alias + \" has \" + enemy.cur_hp + \" HP left.\")\n                self.defending = false\n              }\n              else if (self.defending = false and enemy.defending = true) {\n                enemy.cur_hp = enemy.cur_hp - (crit_hit (self) * GetInt (self,\"pd\") / 2 + GetInt (self,\"pd\") * (GetInt (self,\"str\") - GetInt (enemy,\"end\")) / 100)\n                msg (enemy.alias + \" has \" + enemy.cur_hp + \" HP left.\")\n              }\n              else if (self.defending = false and enemy.defending = false) {\n                enemy.cur_hp = enemy.cur_hp - (crit_hit (self) * GetInt (self,\"pd\") + GetInt (self,\"pd\") * (GetInt (self,\"str\") - GetInt (enemy,\"end\")) / 100)\n                msg (enemy.alias + \" has \" + enemy.cur_hp + \" HP left.\")\n              }\n            }\n          }\n          case (\"Defend\") {\n            if (self.defending = false) {\n              self.defending = true\n            }\n          }\n          case (\"Cast\") {\n            self.defending = false\n          }\n          case (\"Item\") {\n            self.defending = false\n          }\n          case (\"Run\") {\n            self.defending = false\n          }\n        }\n        if (GetInt (enemy,\"cur_hp\") &gt; 0) {\n          if (RandomChance (GetInt (self,\"spd\") - GetInt (enemy,\"spd\")) = true) {\n            msg (\"You get an extra battle turn!\")\n            self_battle_turn (self,enemy)\n          }\n          else {\n            msg (\"Your battle turn is over.\")\n            third_value = false\n          }\n        }\n        else if (GetInt (enemy,\"cur_hp\") &lt;= 0) {\n          msg (enemy.alias + \" is dead.\")\n          msg (\"You have won the battle!\")\n          enemy.defending = false\n          enemy.dead = true\n          third_value = true\n          wait {\n            ClearScreen\n          }\n        }\n      }\n    }\n    return (third_value)\n  ]]&gt;&lt;/function&gt;\n  &lt;function name=\"enemy_battle_turn\" parameters=\"self,enemy\" type=\"boolean\"&gt;&lt;![CDATA[\n    fifth_value = false\n    msg (self.alias + \" has \" + self.cur_hp + \" HP left.\")\n    msg (enemy.alias + \" has \" + enemy.cur_hp + \" HP left.\")\n    result = GetRandomInt (1,3)\n    switch (result) {\n      case (1) {\n        sixth_value = false\n        if (RandomChance (GetInt (self,\"agi\") - GetInt (enemy,\"spd\")) = true) {\n          msg (\"You have evaded the attack!\")\n          sixth_value = true\n        }\n        else if (RandomChance (GetInt (self,\"dex\") - GetInt (enemy,\"agi\")) = true) {\n          msg (\"You have parried the attack!\")\n          sixth_value = true\n        }\n        else if (RandomChance (GetInt (self,\"agi\") - GetInt (enemy,\"dex\")) = true) {\n          msg (\"You have blocked the attack!\")\n          sixth_value = true\n        }\n        else if (RandomChance (GetInt (enemy,\"dex\") - GetInt (self,\"spd\")) = false) {\n          msg (enemy.alias +\"'s attack missed!\")\n          sixth_value = true\n        }\n        else if (RandomChance (GetInt (self,\"pr\") - GetInt (enemy,\"hc\")) = true) {\n          msg (\"You resisted the attack!\")\n          sixth_value = true\n        }\n        else if (sixth_value = false) { \n          if (enemy.defending = true and self.defending = true) {\n            self.cur_hp = self.cur_hp - (crit_hit (enemy) * 2 * GetInt (enemy,\"pd\") / 2 + GetInt (enemy,\"pd\") * (GetInt (enemy,\"str\") - GetInt (self,\"end\")) / 100)\n            msg (self.alias + \" has \" + self.cur_hp + \" HP left.\")\n            enemy.defending = false\n          }\n          else if (enemy.defending = true and self.defending = false) {\n            self.cur_hp = self.cur_hp - (crit_hit (enemy) * 2 * GetInt (enemy,\"pd\") + GetInt (enemy,\"pd\") * (GetInt (enemy,\"str\") - GetInt (self,\"end\")) / 100)\n            msg (self.alias + \" has \" + self.cur_hp + \" HP left.\")\n            enemy.defending = false\n          }\n          else if (enemy.defending = false and self.defending = true) {\n            self.cur_hp = self.cur_hp - (crit_hit (enemy) * GetInt (enemy,\"pd\") / 2 + GetInt (enemy,\"pd\") * (GetInt (enemy,\"str\") - GetInt (self,\"end\")) / 100)\n            msg (self.alias + \" has \" + self.cur_hp + \" HP left.\")\n          }\n          else if (enemy.defending = false and self.defending = false) {\n            self.cur_hp = self.cur_hp - (crit_hit (enemy) * GetInt (enemy,\"pd\") + GetInt (enemy,\"pd\") * (GetInt (enemy,\"str\") - GetInt (self,\"end\")) / 100)\n            msg (self.alias + \" has \" + self.cur_hp + \" HP left.\")\n          }\n        }\n      }\n      case (2) {\n        if (enemy.defending = false) {\n          msg (enemy.alias + \" has choosen to defend itself.\")\n          enemy.defending = true\n        }\n      }\n      case (3) {\n        enemy.defending = false\n        msg (\"Cast\")\n      }\n    }\n    if (GetInt (self,\"cur_hp\") &gt; 0) {\n      if (RandomChance (GetInt (enemy,\"spd\") - GetInt (self,\"spd\")) = true) {\n        msg (enemy.alias + \" gets an extra battle turn!\")\n        wait {\n          enemy_battle_turn (self,enemy)\n        }\n      }\n      else {\n        msg (enemy.alias + \" 's battle turn is over.\")\n        fifth_value = true\n      }\n    }\n    else if (GetInt (self,\"cur_hp\") &lt;= 0) {\n      msg (self.alias + \" has died.\")\n      msg (\"GAME OVER\")\n      finish\n    }\n    return (fifth_value)\n  ]]&gt;&lt;/function&gt;\n  &lt;function name=\"npc_reachable\" parameters=\"object\" type=\"boolean\"&gt;\n    value = false\n    foreach (x,ScopeReachableNotHeld ()) {\n      if (x=object) {\n        value = true\n      }\n    }\n    return (value)\n  &lt;/function&gt;\n  &lt;function name=\"crit_hit\" parameters=\"object\" type=\"int\"&gt;\n    if (RandomChance (GetInt (object,\"luck\")) = true) {\n      value = 2\n    }\n    else {\n      value = 1\n    }\n    return (value)\n  &lt;/function&gt;\n&lt;/asl&gt;\n</code></pre>\n<p>and my key/legend for it (I've learned since to never use abrevs ever again, lol. It's bad when you yourself don't even know what your abrevs mean, laughs):</p>\n<pre><code>01. cc = character creation function\n02. sa = status attributes (mainly for implementing/displaying of ' cur / max ' stats) function\n03. char = character object type (\"pcs\", \"npcs\", \"monsters\", etc., so, not a room, item, equipment, spell, etc)\n04. pc = playable character object type (\"player\" characters / game.povs)\n05. npc = non-playable character (\"people\", \"monsters\", and etc, so not a \"player\" character / not a game.pov, I'm going to have a hostility system, so any npc can be friendly or hostile, instead of having an actual \"monster/enemy\" type set aside)\n06. hp = hit points (life) stat attribute\n07. mp = mana points (magic) stat attribute\n08. str = strength (physical damage, carry weight / equipment requirement, etc) stat attribute\n09. end = endurance (physical defense, and etc) stat attribute\n10. dex = dexterity (weapon~attack skill, think of this as \"if your attack connects or not, do you 'whiff' or not\", so not to gete confused with hc, and etc) stat attribute\n11. agi = agility (dodging/evading, and etc) stat attribute\n12. spd = speed (who goes first in battle, extra battle turns, escaping from battle, and etc) stat attribute\n13. hc = hit chance (think of this more as piercing their armor or not, so not to get confused with dex, and etc) stat attribute\n14. pd = physical damage stat attribute\n15. fp = fire damage stat attribute\n16. wp = water damage stat attribute\n17. ap = air damage stat attribute\n18. ed = earth damage stat attribute\n19. ld = light damage stat attribute\n20. dd = dark damage stat attribute\n21. pr = physical resistance stat attribute\n22. fr = fire resistance stat attribute\n23. wr = water resistance stat attribute\n24. ar = air resistance stat attribute\n25. er = earth resistance stat attribute\n26. lr = light resistance stat attribute\n27. dr = dark resistance stat attribute\n28. defending = boolean (reduces damage done for that character and increases the damage done by that character, if they chosoe to attack on the next turn)\n29. escaped = boolean, run from battle (not completed/implemented yet)\n30. hostile = boolean, any npc can be friendly or a(n) \"monster/enemy\", based upon a hostility scale (0-100), but not completed\n31. dead = boolean\n32. crit_hit = critical hit (bonus damage based upon luck)\n33. luck = luck stat attribute\n34. lvl = level stat attribute\n35. exp = experience stat attribute\n36. cash = cash stat attribute (currency)\n37. lvlup = level up function\n</code></pre>\n\n",
      "PostDate": "2016-07-14T19:04:16.5856497Z",
      "LastEditDate": null
    }
  ]
}
