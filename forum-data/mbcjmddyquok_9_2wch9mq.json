{
  "Topic": {
    "TopicId": "mbcjmddyquok_9_2wch9mq",
    "ForumId": "18",
    "Title": "Updated version of Enhanced WeatherLib",
    "LastUpdated": "2023-09-18T17:47:23.033541Z",
    "ReplyCount": 0
  },
  "Posts": [
    {
      "PostId": "bde170ac-39e4-499c-bd22-58d2788ca0bc",
      "UserId": 643545,
      "Username": "Ip Man",
      "AvatarUrl": "https://secure.gravatar.com/avatar/3ca198fe75de39041c2e4cd0a8852e3c?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "I changed the \"Classperspectives\" function (which is from one of my games) and gave it a more appropriate name for the WeatherLib.\r\n\r\nAlso fixed a couple minor bugs.\r\n\r\nAlso modified the Tab so that it can be toggled on/off via the Core Game Features Tab by adding a checkbox to CoreEditorGame.aslx (paste it in from the library).\r\n\r\n\r\n```\r\n<?xml version=\"1.0\"?>\r\n<library>\r\n  <!--\r\n  If you are viewing this on GitHub and want to download it, right click on the RAW button\r\n  just above, and select \"Save link as...\"\r\n  -->\r\n\r\n\r\n  <!--\r\n  Foundation is \r\n  WeatherLib v1.0\r\n  \r\n  Quest version: 5.7\r\n  Written by: The Pixie, 2017\r\n\r\n  Tutorial and notes here:\r\n  https://github.com/ThePix/quest/wiki/Weather-Library\r\n  \r\n  Upgrades by IpMan in Quest 5.8 2023\r\n  Notes on upgrades found inside this library.\r\n  \r\n  Weather Tab can be hidden/added via features.  Requires update to CoreEditorGame.aslx\r\n  \r\n      <control>\r\n        <controltype>checkbox</controltype>\r\n        <caption>WeatherLib</caption>\r\n        <attribute>feature_WeatherLib</attribute>\r\n      </control>\t  \r\n  \r\n  -->\r\n\r\n\r\n  <function name=\"Weather\">\r\n    if (not HasInt(game, \"weathercount\")) {\r\n      game.weathercount = 0\r\n    }\r\n    if (game.currentweather = null) {\r\n      game.currentweather = PickOneObject(FilterByType(AllObjects(), \"weather_type\"))\r\n    }\r\n    game.weathercount = game.weathercount + 1\r\n    do (game.currentweather, \"weatherchangescript\")\r\n    if (game.weathertochange) {\r\n      game.weathercount = 0\r\n      exit = PickOneUnlockedExit(game.currentweather)\r\n      game.currentweather = exit.to\r\n      if (HasString(exit, \"message\") and not GetBoolean(game.pov.parent, \"inside\")) {\r\n        msg (exit.message)\r\n      }\r\n    }\r\n    if (not HasInt(game.pov, \"soaking\")) game.pov.soaking = 0\r\n    if (not GetBoolean(game.pov.parent, \"inside\")) {\r\n      game.pov.soaking = game.pov.soaking + game.currentweather.rain\r\n    }\r\n    else {\r\n      game.pov.soaking = game.pov.soaking - 5\r\n    }\r\n    if (game.pov.soaking > 100) game.pov.soaking = 100\r\n    if (0 > game.pov.soaking) game.pov.soaking = 0\r\n  </function>\r\n  \r\n  \r\n  <function name=\"WeatherReport\">\r\n    if (not GetBoolean(game.pov.parent, \"inside\")) {\r\n      if (GetBoolean(game, \"Night\")) {\r\n        do (game.currentweather, \"nightweatherdesc\")\r\n      }\r\n      else {\r\n        msg (\"\" + game.currentweather.alias)\r\n      }\r\n    }\r\n    else if (HasAttribute(game.pov.parent, \"Windowed\")) {\r\n      if (not GetBoolean(game, \"Night\")) {\r\n        msg (\"Outside:\")\r\n        do (game.currentweather, \"look\")\r\n      }\r\n      else {\r\n        msg (\"Outside:\")\r\n        do (game.currentweather, \"nightlook\")\r\n      }\r\n    }\r\n    else {\r\n    }\r\n  </function>\r\n  \r\n  <function name=\"LookAtSky\" type=\"string\">\r\n    return (game.currentweather.look)\r\n  </function>\r\n\r\n  <type name=\"weather_type\">\r\n    <rain type=\"int\">0</rain>\r\n    <weatherchangescript type=\"script\">\r\n      game.weathertochange = RandomChance(game.weathercount)\r\n    </weatherchangescript>\r\n    <desc type=\"script\">\r\n      weatherlook\r\n    </desc>\t\r\n  </type>\r\n  \r\n  <!--\r\n  Allows sky object to read game.currentweather when looked at.\r\n  -->\r\n  \r\n  <function name=\"weatherperspectives\" parameters=\"this\">\r\n    do (this, \"desc\")\r\n  </function>  \r\n\r\n  <!--\r\n  makenight and makeday are complimentary functions which cycle enable and disable the daytime and nighttime turnscripts. \r\n  You can edit them to make them your own, make the days longer/shorter, change the message printed when night time is near.\r\n  -->\r\n\r\n  <function name=\"makenight\">\r\n    msg (\"{random:'15 turns, and what do you get? Another day older and deeper in debt.':'In the jungle, the quiet jungle the lion sleeps tonight.':'I wear my sunglasses at night so I can so I can...':'Now I lay me down to sleep, I pray the Lord my soul to keep.  If I should die before I wake...':'Thank the Lord for the nighttime. Forget the day...':'Sweet dreams baby.'}\")\r\n    msg (\"It'll soon be night time...so you'll have a hard time getting around outside.. and be more likely to die.\")\r\n    SetTurnTimeout (15) {\r\n      DisableTurnScript (daytime)\r\n      EnableTurnScript (nighttime)\r\n      msg (\"The sun has set.  It's now nearly impossible to get about without a lightsource outside... slightly more dangerous too.\")\r\n      SetObjectFlagOn (game, \"Night\")\r\n    }\r\n    SetTurnTimeout (60) {\r\n      makeday\r\n    }\r\n  </function>\r\n  <function name=\"makeday\">\r\n    msg (\"You feel the night is waning.  It shouldn't be long before sunrise.\")\r\n    SetTurnTimeout (15) {\r\n      DisableTurnScript (nighttime)\r\n      EnableTurnScript (daytime)\r\n      msg (\"In 1 turn it will be daytime.\")\r\n      SetTurnTimeout (1) {\r\n        msg (\"{random:'wakeup, get out of bed, drag a comb accross my head.':'Good morning, good morning, good morning, good morning, good morning-ga!':A theme from Peer Gynt plays off in the distance:'Call the sun in the dead of the night and the sun's gonna' rise in the sky!':'Zipadee doo dah, zipadee yay!'}\")\r\n        msg (\"It's now morning. Feel free to move about outside without a lightsource.\")\r\n        SetObjectFlagOff (game, \"Night\")\r\n      }\r\n    }\r\n    SetTurnTimeout (75) {\r\n      makenight\r\n    }\r\n  </function>\r\n  <!--\r\n  More complex look functon which incorporates day/night descriptions \r\n  and outside/Windowed descriptions.\r\n  -->\r\n\r\n  <function name=\"weatherlook\">\r\n    if (not GetBoolean(game.pov.parent, \"inside\")) {\r\n      if (not GetBoolean(game, \"Night\")) {\r\n        do (game.currentweather, \"look\")\r\n      }\r\n      else {\r\n        do (game.currentweather, \"nightlook\")\r\n      }\r\n    }\r\n    else if (HasAttribute(game.pov.parent, \"Windowed\")) {\r\n      if (not GetBoolean(game, \"Night\")) {\r\n        do (game.currentweather, \"look\")\r\n      }\r\n      else {\r\n        do (game.currentweather, \"nightlook\")\r\n      }\r\n    }\r\n    else {\r\n      msg (\"{random: You can't see the sky from here. : You're pretty sure there's a sky outside. : Um...}\")\r\n    }\r\n  </function>\r\n  <!-- \r\n  Built-in weather objects these have scripts on them which read scripts on game.currentweather (your weather rooms). \r\n  They will have different results depending upon whether the player is \"outside\" or in a room with the \"Windowed\" attribute.\r\n  Those scripts can be added to it via the weather tab.  For futher customisation add your own weather objects and use scripts similar to what you see on these objects.\r\n  If there is no description given, they have default message scripts.  The only scripts you MUST put on your weather rooms are:\r\n  nightweatherdesc, look, and nightlook which are the first 3 descriptions that can be added from the weather tab.\r\n  \r\n  You will need to add commands in your game that at least do this:\r\n  taste: do (this, \"tastedesc\")\r\n  touch: do (this, \"touchdesc\")\r\n  listen: do (this, \"listen\")\r\n  smell: do (this, \"smell\") \r\n  -->\r\n\r\n  <object name=\"sky\">\r\n      <inherit name=\"editor_object\" />\r\n      <scenery />\r\n      <alt type=\"stringlist\">\r\n        <value>weather</value>\r\n        <value>climate</value>\r\n      </alt>\r\n      <drop type=\"boolean\">false</drop>\r\n      <feature_lightdark />\r\n      <lightsource />\r\n      <lightstrength>weak</lightstrength>\r\n      <look type=\"script\">\r\n        if (HasAttribute(game.pov.parent, \"Windowed\")) {\r\n          msg (\"Outside:\")\r\n          weatherperspectives (game.currentweather)\r\n        }\r\n        else {\r\n          weatherperspectives (game.currentweather)\r\n        }\r\n      </look>\r\n      <smell type=\"script\">\r\n        if (not GetBoolean(game.pov.parent, \"inside\")) {\r\n          if (HasAttribute(game.currentweather, \"smell\")) {\r\n            do (game.currentweather, \"smell\")\r\n            if (HasAttribute(game.pov.parent, \"smell\")) {\r\n              do (game.pov.parent, \"smell\")\r\n            }\r\n          }\r\n          else if (HasAttribute(game.pov.parent, \"smell\")) {\r\n            do (game.pov.parent, \"smell\")\r\n          }\r\n          else {\r\n            msg (\"You don't smell anything unexpected.\")\r\n          }\r\n        }\r\n        else if (HasAttribute(game.pov.parent, \"smell\")) {\r\n          do (game.pov.parent, \"smell\")\r\n        }\r\n        else {\r\n          msg (\"You don't smell anything unusual.\")\r\n        }\r\n      </smell>\r\n      <touchdesc type=\"script\">\r\n        if (not GetBoolean(game.pov.parent, \"inside\")) {\r\n          if (HasAttribute(game.currentweather, \"touchdesc\")) {\r\n            do (game.currentweather, \"touchdesc\")\r\n          }\r\n          else if () {\r\n          }\r\n          else {\r\n            msg (\"The weather feels as you'd expect it to.\")\r\n          }\r\n        }\r\n        else if (HasAttribute(game.pov.parent, \"Windowed\")) {\r\n          msg (\"You really can't feel the weather from in here, but you imagine how it feels outside.\")\r\n        }\r\n        else {\r\n          msg (\"Um... you can't feel the weather from in here...\")\r\n        }\r\n      </touchdesc>\r\n    </object>\r\n\r\n  <object name=\"clouds\">\r\n      <inherit name=\"editor_object\" />\r\n      <scenery />\r\n      <look type=\"script\">\r\n        if (not GetBoolean(game.pov.parent, \"inside\")) {\r\n          if (not GetBoolean(game, \"Night\")) {\r\n            if (HasAttribute(game.currentweather, \"daycloudsdesc\")) {\r\n              do (game.currentweather, \"daycloudsdesc\")\r\n            }\r\n            else {\r\n              weatherlook\r\n            }\r\n          }\r\n          else {\r\n            if (HasAttribute(game.currentweather, \"nightcloudsdesc\")) {\r\n              do (game.currentweather, \"nightcloudsdesc\")\r\n            }\r\n            else {\r\n              msg (\"Outside:\")\r\n              weatherlook\r\n            }\r\n          }\r\n        }\r\n        else if (HasAttribute(game.pov.parent, \"Windowed\")) {\r\n          if (not GetBoolean(game, \"Night\")) {\r\n            if (HasAttribute(game.currentweather, \"daycloudsdesc\")) {\r\n              msg (\"Outside:\")\r\n              do (game.currentweather, \"daycloudsdesc\")\r\n            }\r\n            else {\r\n              msg (\"Outside:\")\r\n              weatherlook\r\n            }\r\n          }\r\n          else {\r\n            if (HasAttribute(game.currentweather, \"nightcloudsdesc\")) {\r\n              msg (\"Outside:\")\r\n              do (game.currentweather, \"nightcloudsdesc\")\r\n            }\r\n            else {\r\n              msg (\"Outside:\")\r\n              weatherlook\r\n            }\r\n          }\r\n        }\r\n        else {\r\n          msg (\"{random: You can't see the sky from here. : You're pretty sure there's a sky outside. : Um...}\")\r\n        }\r\n      </look>\r\n      <feature_lightdark />\r\n      <lightsource />\r\n      <lightstrength>weak</lightstrength>\r\n    </object>\r\n  <object name=\"rain\">\r\n      <inherit name=\"editor_object\" />\r\n      <alt type=\"stringlist\">\r\n        <value>torrent</value>\r\n        <value>drissle</value>\r\n        <value>drizzle</value>\r\n        <value>sprinkles</value>\r\n        <value>raindrops</value>\r\n      </alt>\r\n      <scenery />\r\n      <look type=\"script\">\r\n        if (not GetBoolean(game.pov.parent, \"inside\")) {\r\n          if (not GetBoolean(game, \"Night\")) {\r\n            if (HasAttribute(game.currentweather, \"dayraindesc\")) {\r\n              do (game.currentweather, \"dayraindesc\")\r\n            }\r\n            else {\r\n              weatherlook\r\n            }\r\n          }\r\n          else {\r\n            if (HasAttribute(game.currentweather, \"nightraindesc\")) {\r\n              do (game.currentweather, \"nightraindesc\")\r\n            }\r\n            else {\r\n              weatherlook\r\n            }\r\n          }\r\n        }\r\n        else if (HasAttribute(game.pov.parent, \"Windowed\")) {\r\n          if (not GetBoolean(game, \"Night\")) {\r\n            if (HasAttribute(game.currentweather, \"dayraindesc\")) {\r\n              msg (\"Outside:\")\r\n              do (game.currentweather, \"dayraindesc\")\r\n            }\r\n            else {\r\n              msg (\"Outside:\")\r\n              weatherlook\r\n            }\r\n          }\r\n          else if (HasAttribute(game.currentweather, \"nightraindesc\")) {\r\n            msg (\"Outside:\")\r\n            do (game.currentweather, \"nightaindesc\")\r\n          }\r\n          else {\r\n            msg (\"Outside:\")\r\n            weatherlook\r\n          }\r\n        }\r\n        else {\r\n          msg (\"{random: You can't see the sky from here. : You're pretty sure there's a sky outside. : Um...}\")\r\n        }\r\n      </look>\r\n      <touchdesc type=\"script\">\r\n        if (not GetBoolean(game.pov.parent, \"inside\")) {\r\n          if (HasAttribute(game.currentweather, \"raintouchdesc\")) {\r\n            do (game.currentweather, \"raintouchdesc\")\r\n          }\r\n          else {\r\n            msg (\"If it's raining, it's wet...\")\r\n          }\r\n        }\r\n        else if (HasAttribute(game.pov.parent, \"Windowed\")) {\r\n          if (HasAttribute(game.currentweather, \"raintouchdesc\")) {\r\n            msg (\"{random: You can't feel the rain from in here. : You're not getting wet... : You'll want to go outside first.}\")\r\n          }\r\n          else {\r\n            msg (\"You don't feel any rain in here.\")\r\n          }\r\n        }\r\n        else {\r\n        }\r\n      </touchdesc>\r\n      <smell type=\"script\">\r\n        if (not GetBoolean(game.pov.parent, \"inside\")) {\r\n          if (HasAttribute(game.currentweather, \"rainsmell\")) {\r\n            do (game.currentweather, \"rainsmell\")\r\n          }\r\n          else if (HasAttribute(game.pov.parent, \"smell\")) {\r\n            msg (\"The rain doesn't have a particular smell, but...\")\r\n            do (game.pov.parent, \"smell\")\r\n          }\r\n          else {\r\n            msg (\"It smells rainy.\")\r\n          }\r\n        }\r\n        else if (HasAttribute(game.pov.parent, \"Windowed\")) {\r\n          msg (\"{random: You can't smell the rain from in here. : You're pretty sure it smells like rain out there.. : Um...}\")\r\n        }\r\n        else {\r\n        }\r\n      </smell>\r\n      <listen type=\"script\">\r\n        if (not GetBoolean(game.pov.parent, \"inside\")) {\r\n          if (HasAttribute(game.currentweather, \"listenraindesc\")) {\r\n            do (game.currentweather, \"listenraindesc\")\r\n          }\r\n          else if (HasAttribute(game.pov.parent, \"listendesc\")) {\r\n            msg (\"Even through the natural rhythm of the rain...\")\r\n            do (game.pov.parent, \"listendesc\")\r\n          }\r\n          else {\r\n            msg (\"You can almost make out a pattern in the sound of the raindrops landing.\")\r\n          }\r\n        }\r\n        else if (HasAttribute(game.pov.parent, \"Windowed\")) {\r\n          if (HasAttribute(game.currentweather, \"listenraindesc\")) {\r\n            msg (\"{random: You can't really hear the rain from in here. : The rainsound is muffled from inside. : What did you want the rain to tell you?}\")\r\n          }\r\n          else {\r\n            msg (\"You don't hear any rain.\")\r\n          }\r\n        }\r\n        else {\r\n        }\r\n      </listen>\r\n      <feature_lightdark />\r\n      <lightsource />\r\n      <lightstrength>weak</lightstrength>\r\n    </object>\r\n  <object name=\"lightning\">\r\n      <inherit name=\"editor_object\" />\r\n      <alt type=\"stringlist\">\r\n        <value>bolts</value>\r\n        <value>flashes</value>\r\n        <value>balllightning</value>\r\n        <value>lightningbolts</value>\r\n      </alt>\r\n      <scenery />\r\n      <look type=\"script\">\r\n        if (not GetBoolean(game.pov.parent, \"inside\")) {\r\n          if (not GetBoolean(game, \"Night\")) {\r\n            if (HasAttribute(game.currentweather, \"daylightningsdesc\")) {\r\n              do (game.currentweather, \"daylightningsdesc\")\r\n            }\r\n            else {\r\n              weatherlook\r\n            }\r\n          }\r\n          else {\r\n            if (HasAttribute(game.currentweather, \"nightlightningsdesc\")) {\r\n              do (game.currentweather, \"nightlightningsdesc\")\r\n            }\r\n            else {\r\n              weatherlook\r\n            }\r\n          }\r\n        }\r\n        else if (HasAttribute(game.pov.parent, \"Windowed\")) {\r\n          if (not GetBoolean(game, \"Night\")) {\r\n            if (HasAttribute(game.currentweather, \"daylightningsdesc\")) {\r\n              msg (\"Outside:\")\r\n              do (game.currentweather, \"daylightningsdesc\")\r\n            }\r\n            else {\r\n              msg (\"Outside:\")\r\n              weatherlook\r\n            }\r\n          }\r\n          else {\r\n            if (HasAttribute(game.currentweather, \"nightlightningsdesc\")) {\r\n              msg (\"Outside:\")\r\n              do (game.currentweather, \"nightlightningsdesc\")\r\n            }\r\n            else {\r\n              msg (\"Outside:\")\r\n              weatherlook\r\n            }\r\n          }\r\n        }\r\n        else {\r\n          msg (\"{random: Why are you looking for lightning?. : You're pretty sure there's a sky outside. : Um...}\")\r\n        }\r\n      </look>\r\n      <smell type=\"script\">\r\n      </smell>\r\n      <listen type=\"script\">\r\n        if (HasAttribute(game.currentweather, \"listenthundesc\")) {\r\n          do (game.currentweather, \"listenthundesc\")\r\n        }\r\n      </listen>\r\n      <attr name=\"feature_usegive\" type=\"boolean\">false</attr>\r\n      <feature_lightdark />\r\n      <lightsource />\r\n      <lightstrength>weak</lightstrength>\r\n    </object>\r\n  <object name=\"thunder\">\r\n      <inherit name=\"editor_object\" />\r\n      <scenery />\r\n      <visible />\r\n      <listen type=\"script\">\r\n        if (HasAttribute(game.currentweather, \"listenthundesc\")) {\r\n          do (game.currentweather, \"listenthundesc\")\r\n        }\r\n      </listen>\r\n      <touchdesc type=\"script\">\r\n      </touchdesc>\r\n      <look type=\"script\">\r\n        if (not GetBoolean(game.pov.parent, \"inside\")) {\r\n          if (not GetBoolean(game, \"Night\")) {\r\n            if (HasAttribute(game.currentweather, \"daylightningsdesc\")) {\r\n              do (game.currentweather, \"daylightningsdesc\")\r\n            }\r\n            else {\r\n              weatherlook\r\n            }\r\n          }\r\n          else {\r\n            if (HasAttribute(game.currentweather, \"nightlightningsdesc\")) {\r\n              do (game.currentweather, \"nightlightningsdesc\")\r\n            }\r\n            else {\r\n              weatherlook\r\n            }\r\n          }\r\n        }\r\n        else if (HasAttribute(game.pov.parent, \"Windowed\")) {\r\n          if (not GetBoolean(game, \"Night\")) {\r\n            if (HasAttribute(game.currentweather, \"daylightningsdesc\")) {\r\n              msg (\"Outside:\")\r\n              do (game.currentweather, \"daylightningsdesc\")\r\n            }\r\n            else {\r\n              msg (\"Outside:\")\r\n              weatherlook\r\n            }\r\n          }\r\n          else {\r\n            if (HasAttribute(game.currentweather, \"nightlightningsdesc\")) {\r\n              msg (\"Outside:\")\r\n              do (game.currentweather, \"nightlightningsdesc\")\r\n            }\r\n            else {\r\n              msg (\"Outside:\")\r\n              weatherlook\r\n            }\r\n          }\r\n        }\r\n        else {\r\n          msg (\"{random: Why are you looking for lightning?. : You're pretty sure there's a sky outside. : Um...}\")\r\n        }\r\n      </look>\r\n      <feature_lightdark />\r\n      <lightsource />\r\n      <lightstrength>weak</lightstrength>\r\n    </object>\r\n  <object name=\"sun\">\r\n      <inherit name=\"editor_object\" />\r\n      <scenery />\r\n      <look type=\"script\">\r\n        if (not GetBoolean(game.pov.parent, \"inside\")) {\r\n          if (not GetBoolean(game, \"Night\")) {\r\n            if (HasAttribute(game.currentweather, \"sundesc\")) {\r\n              do (game.currentweather, \"sundesc\")\r\n            }\r\n            else {\r\n              weatherlook\r\n            }\r\n          }\r\n          else {\r\n            msg (\"The sun has gone to wherever it goes at night.\")\r\n          }\r\n        }\r\n        else if (HasAttribute(game.pov.parent, \"Windowed\")) {\r\n          if (not GetBoolean(game, \"Night\")) {\r\n            if (HasAttribute(game.currentweather, \"sundesc\")) {\r\n              msg (\"Outside:\")\r\n              do (game.currentweather, \"sundesc\")\r\n            }\r\n            else {\r\n              msg (\"Outside:\")\r\n              weatherlook\r\n            }\r\n          }\r\n          else {\r\n            msg (\"The sun has gone to wherever it goes at night.\")\r\n          }\r\n        }\r\n        else {\r\n        }\r\n      </look>\r\n      <smell type=\"script\">\r\n      </smell>\r\n      <touchdesc type=\"script\">\r\n        if (not GetBoolean(game.pov.parent, \"inside\")) {\r\n          if (not GetBoolean(game, \"Night\")) {\r\n            if (HasAttribute(game.currentweather, \"feelsundesc\")) {\r\n              do (game.currentweather, \"feelsundesc\")\r\n            }\r\n            else {\r\n              weatherlook\r\n            }\r\n          }\r\n          else {\r\n            msg (\"The sun has gone to wherever it goes at night.\")\r\n          }\r\n        }\r\n        else if (HasAttribute(game.pov.parent, \"Windowed\")) {\r\n          if (not GetBoolean(game, \"Night\")) {\r\n            if (HasAttribute(game.currentweather, \"sundesc\")) {\r\n              msg (\"You can see the sun outside, but in order to really 'feel' it, you'll have to be out there with it.\")\r\n            }\r\n            else {\r\n              msg (\"The great outdoors would be the right place for trying to feel the sun...\")\r\n            }\r\n          }\r\n          else {\r\n            msg (\"Whatever heat the sun gave to the world while it was here is dissapating now.\")\r\n          }\r\n        }\r\n        else {\r\n        }\r\n      </touchdesc>\r\n      <feature_lightdark />\r\n      <lightsource />\r\n    </object>\r\n  <object name=\"wind\">\r\n      <inherit name=\"editor_object\" />\r\n      <visible />\r\n      <scenery />\r\n      <alt type=\"stringlist\">\r\n        <value>breeze</value>\r\n        <value>gale</value>\r\n        <value>gust</value>\r\n        <value>blowing</value>\r\n      </alt>\r\n      <look type=\"script\">\r\n        if (not GetBoolean(game.pov.parent, \"inside\")) {\r\n          if (HasAttribute(game.currentweather, \"lookwindesc\")) {\r\n            do (game.currentweather, \"lookwindesc\")\r\n          }\r\n          else {\r\n            weatherlook\r\n          }\r\n        }\r\n        else if (HasAttribute(game.pov.parent, \"Windowed\")) {\r\n          if (HasAttribute(game.currentweather, \"lookwindesc\")) {\r\n            msg (\"Outside:\")\r\n            do (game.currentweather, \"lookwindesc\")\r\n          }\r\n          else {\r\n            msg (\"Outside:\")\r\n            weatherlook\r\n          }\r\n        }\r\n        else {\r\n        }\r\n      </look>\r\n      <smell type=\"script\">\r\n        if (not GetBoolean(game.pov.parent, \"inside\")) {\r\n          if (HasAttribute(game.currentweather, \"smellbreezedesc\")) {\r\n            do (game.currentweather, \"smellbreezedesc\")\r\n            if (HasAttribute(game.pov.parent, \"smell\")) {\r\n              do (game.pov.parent, \"smell\")\r\n            }\r\n          }\r\n          else if (HasAttribute(game.pov.parent, \"smell\")) {\r\n            do (game.pov.parent, \"smell\")\r\n          }\r\n          else {\r\n            msg (\"You don't smell anything unexpected.\")\r\n          }\r\n        }\r\n        else if (HasAttribute(game.pov.parent, \"Windowed\")) {\r\n          msg (\"Sniffing the breeze sounds like an interesting idea...but there's no wind inside...\")\r\n        }\r\n        else {\r\n        }\r\n      </smell>\r\n      <listen type=\"script\">\r\n        if (not GetBoolean(game.pov.parent, \"inside\")) {\r\n          if (HasAttribute(game.currentweather, \"listenwindesc\")) {\r\n            do (game.currentweather, \"listenwindesc\")\r\n          }\r\n          else {\r\n            weatherlook\r\n          }\r\n        }\r\n        else if (HasAttribute(game.pov.parent, \"Windowed\")) {\r\n          if (HasAttribute(game.currentweather, \"listenwindesc\")) {\r\n            msg (\"You probably would be able to hear the wind better from outside...\")\r\n          }\r\n          else {\r\n            msg (\"You don't hear any wind.\")\r\n          }\r\n        }\r\n        else {\r\n        }\r\n      </listen>\r\n      <touchdesc type=\"script\">\r\n        if (not GetBoolean(game.pov.parent, \"inside\")) {\r\n          if (HasAttribute(game.currentweather, \"feelwindesc\")) {\r\n            do (game.currentweather, \"feelwindesc\")\r\n          }\r\n          else {\r\n            weatherlook\r\n          }\r\n        }\r\n        else if (HasAttribute(game.pov.parent, \"Windowed\")) {\r\n          if (HasAttribute(game.currentweather, \"feelwindesc\")) {\r\n            msg (\"You're sheltered enough here that you don't feel the wind.\")\r\n          }\r\n          else {\r\n            msg (\"There's no wind to feel in here.\")\r\n          }\r\n        }\r\n        else {\r\n        }\r\n      </touchdesc>\r\n      <feature_lightdark />\r\n      <lightsource />\r\n      <lightstrength>weak</lightstrength>\r\n    </object>\r\n  <object name=\"snow\">\r\n      <inherit name=\"editor_object\" />\r\n      <scenery />\r\n      <look type=\"script\">\r\n        if (not GetBoolean(game.pov.parent, \"inside\")) {\r\n          if (HasAttribute(game.currentweather, \"looksnowdesc\")) {\r\n            do (game.currentweather, \"looksnowdesc\")\r\n          }\r\n          else {\r\n            weatherlook\r\n          }\r\n        }\r\n        else if (HasAttribute(game.pov.parent, \"Windowed\")) {\r\n          if (HasAttribute(game.currentweather, \"looksnowdesc\")) {\r\n            msg (\"Outside:\")\r\n            do (game.currentweather, \"looksnowdesc\")\r\n          }\r\n          else {\r\n            msg (\"Outside:\")\r\n            weatherlook\r\n          }\r\n        }\r\n        else {\r\n        }\r\n      </look>\r\n      <touchdesc type=\"script\">\r\n        if (not GetBoolean(game.pov.parent, \"inside\")) {\r\n          if (HasAttribute(game.currentweather, \"feelsnowdesc\")) {\r\n            do (game.currentweather, \"feelsnowdesc\")\r\n          }\r\n          else {\r\n            weatherlook\r\n          }\r\n        }\r\n        else if (HasAttribute(game.pov.parent, \"Windowed\")) {\r\n          if (HasAttribute(game.currentweather, \"feelsnowdesc\")) {\r\n            msg (\"You're sheltered enough here that you don't feel the snow.\")\r\n          }\r\n          else {\r\n            msg (\"There's no snow to feel in here.\")\r\n          }\r\n        }\r\n        else {\r\n        }\r\n      </touchdesc>\r\n      <tastedesc type=\"script\">\r\n        if (not GetBoolean(game.pov.parent, \"inside\")) {\r\n          if (HasAttribute(game.currentweather, \"snowtastedesc\")) {\r\n            do (game.currentweather, \"snowtastedesc\")\r\n          }\r\n          else {\r\n            weatherlook\r\n          }\r\n        }\r\n        else if (HasAttribute(game.pov.parent, \"Windowed\")) {\r\n          if (HasAttribute(game.currentweather, \"snowtastedesc\")) {\r\n            msg (\"In the mood for a snowcone?  You can't taste the snow from here.\")\r\n          }\r\n          else {\r\n            msg (\"There's no snow to taste in here.\")\r\n          }\r\n        }\r\n        else {\r\n        }\r\n      </tastedesc>\r\n      <listen type=\"script\">\r\n        if (not GetBoolean(game.pov.parent, \"inside\")) {\r\n          if (HasAttribute(game.currentweather, \"listensnow\")) {\r\n            do (game.currentweather, \"listensnow\")\r\n          }\r\n          else {\r\n            msg (\"You don't hear any snow...\")\r\n          }\r\n        }\r\n        else if (HasAttribute(game.pov.parent, \"Windowed\")) {\r\n          if (HasAttribute(game.currentweather, \"listensnow\")) {\r\n            msg (\"You'd have to be out in the snow to hear it.\")\r\n          }\r\n          else {\r\n            msg (\"You don't hear any snow...\")\r\n          }\r\n        }\r\n        else {\r\n        }\r\n      </listen>\r\n      <feature_lightdark />\r\n      <lightsource />\r\n      <lightstrength>weak</lightstrength>\r\n    </object>\r\n  <object name=\"sleet\">\r\n      <inherit name=\"editor_object\" />\r\n      <scenery />\r\n      <look type=\"script\">\r\n        if (not GetBoolean(game.pov.parent, \"inside\")) {\r\n          if (HasAttribute(game.currentweather, \"looksleetdesc\")) {\r\n            do (game.currentweather, \"looksleetdesc\")\r\n          }\r\n          else {\r\n            weatherlook\r\n          }\r\n        }\r\n        else if (HasAttribute(game.pov.parent, \"Windowed\")) {\r\n          if (HasAttribute(game.currentweather, \"looksleetdesc\")) {\r\n            msg (\"Outside:\")\r\n            do (game.currentweather, \"looksleetdesc\")\r\n          }\r\n          else {\r\n            msg (\"Outside:\")\r\n            weatherlook\r\n          }\r\n        }\r\n        else {\r\n        }\r\n      </look>\r\n      <listen type=\"script\">\r\n        if (not GetBoolean(game.pov.parent, \"inside\")) {\r\n          if (HasAttribute(game.currentweather, \"listensleet\")) {\r\n            do (game.currentweather, \"listensleet\")\r\n          }\r\n          else {\r\n            msg (\"You don't hear any sleet...\")\r\n          }\r\n        }\r\n        else if (HasAttribute(game.pov.parent, \"Windowed\")) {\r\n          if (HasAttribute(game.currentweather, \"listensleet\")) {\r\n            msg (\"You'd have to be out in the sleet to really hear it.\")\r\n          }\r\n          else {\r\n            msg (\"You don't hear any sleet...\")\r\n          }\r\n        }\r\n        else {\r\n        }\r\n      </listen>\r\n      <touchdesc type=\"script\">\r\n        if (not GetBoolean(game.pov.parent, \"inside\")) {\r\n          if (HasAttribute(game.currentweather, \"sleettouch\")) {\r\n            do (game.currentweather, \"sleettouch\")\r\n          }\r\n          else {\r\n            weatherlook\r\n          }\r\n        }\r\n        else if (HasAttribute(game.pov.parent, \"Windowed\")) {\r\n          if (HasAttribute(game.currentweather, \"sleettouch\")) {\r\n            msg (\"You'd have to be out in the sleet to touch it.\")\r\n          }\r\n          else {\r\n            msg (\"You don't hear any sleet...\")\r\n          }\r\n        }\r\n        else {\r\n        }\r\n      </touchdesc>\r\n      <tastedesc type=\"script\">\r\n        if (not GetBoolean(game.pov.parent, \"inside\")) {\r\n          if (HasAttribute(game.currentweather, \"sleettaste\")) {\r\n            do (game.currentweather, \"sleettaste\")\r\n          }\r\n          else {\r\n            msg (\"You don't taste any sleet...\")\r\n          }\r\n        }\r\n        else if (HasAttribute(game.pov.parent, \"Windowed\")) {\r\n          if (HasAttribute(game.currentweather, \"sleettaste\")) {\r\n            msg (\"You'd have to be out in the falling sleet to try to taste it\")\r\n          }\r\n          else {\r\n            msg (\"um....\")\r\n          }\r\n        }\r\n        else {\r\n        }\r\n      </tastedesc>\r\n      <feature_lightdark />\r\n      <lightsource />\r\n      <lightstrength>weak</lightstrength>\r\n    </object>\r\n  <object name=\"hail\">\r\n      <inherit name=\"editor_object\" />\r\n      <scenery />\r\n      <look type=\"script\">\r\n        if (not GetBoolean(game.pov.parent, \"inside\")) {\r\n          if (HasAttribute(game.currentweather, \"lookhaildesc\")) {\r\n            do (game.currentweather, \"lookhaildesc\")\r\n          }\r\n          else {\r\n            weatherlook\r\n          }\r\n        }\r\n        else if (HasAttribute(game.pov.parent, \"Windowed\")) {\r\n          if (HasAttribute(game.currentweather, \"lookhaildesc\")) {\r\n            msg (\"Outside:\")\r\n            do (game.currentweather, \"lookhaildesc\")\r\n          }\r\n          else {\r\n            msg (\"Outside:\")\r\n            weatherlook\r\n          }\r\n        }\r\n        else {\r\n        }\r\n      </look>\r\n      <listen type=\"script\">\r\n        if (not GetBoolean(game.pov.parent, \"inside\")) {\r\n          if (HasAttribute(game.currentweather, \"listenhail\")) {\r\n            do (game.currentweather, \"listenhail\")\r\n          }\r\n          else {\r\n            msg (\"You don't hear any hail...\")\r\n          }\r\n        }\r\n        else if (HasAttribute(game.pov.parent, \"Windowed\")) {\r\n          if (HasAttribute(game.currentweather, \"listenhail\")) {\r\n            msg (\"You can hear the hail falling faintly from in here.  It must be noisy outside!\")\r\n          }\r\n          else {\r\n            msg (\"You don't hear any hail...\")\r\n          }\r\n        }\r\n        else {\r\n        }\r\n      </listen>\r\n      <touchdesc type=\"script\">\r\n        if (not GetBoolean(game.pov.parent, \"inside\")) {\r\n          if (HasAttribute(game.currentweather, \"hailfeel\")) {\r\n            do (game.currentweather, \"hailfeel\")\r\n          }\r\n          else {\r\n            msg (\"You don't feel any hail...\")\r\n          }\r\n        }\r\n        else if (HasAttribute(game.pov.parent, \"Windowed\")) {\r\n          if (HasAttribute(game.currentweather, \"hailfeel\")) {\r\n            msg (\"You should be grateful that the hail isn't hitting you in here!\")\r\n          }\r\n          else {\r\n            msg (\"You can't feel any hail...\")\r\n          }\r\n        }\r\n        else {\r\n        }\r\n      </touchdesc>\r\n      <tastedesc type=\"script\">\r\n      </tastedesc>\r\n      <feature_lightdark />\r\n      <lightsource />\r\n      <lightstrength>weak</lightstrength>\r\n    </object>\r\n  <object name=\"rainbow1\">\r\n      <inherit name=\"editor_object\" />\r\n      <alias>rainbow</alias>\r\n      <scenery />\r\n      <look type=\"script\">\r\n        if (not GetBoolean(game.pov.parent, \"inside\")) {\r\n          if (HasAttribute(game.currentweather, \"lookrainbowdesc\")) {\r\n            do (game.currentweather, \"lookrainbowdesc\")\r\n          }\r\n          else {\r\n            weatherlook\r\n          }\r\n        }\r\n        else if (HasAttribute(game.pov.parent, \"Windowed\")) {\r\n          if (HasAttribute(game.currentweather, \"lookrainbowdesc\")) {\r\n            msg (\"Outside:\")\r\n            do (game.currentweather, \"lookrainbowdesc\")\r\n          }\r\n          else {\r\n            msg (\"Outside:\")\r\n            weatherlook\r\n          }\r\n        }\r\n        else {\r\n        }\r\n      </look>\r\n      <tastedesc type=\"script\">\r\n        if (not GetBoolean(game.pov.parent, \"inside\")) {\r\n          if (HasAttribute(game.currentweather, \"rainbowtastedesc\")) {\r\n            do (game.currentweather, \"rainbowtastedesc\")\r\n          }\r\n          else {\r\n            msg (\"Taste the rainbow, eh?  Is that an original idea?  Very interesting premise, but you just can't seem to taste one right now...\")\r\n          }\r\n        }\r\n        else if (HasAttribute(game.pov.parent, \"Windowed\")) {\r\n          if (HasAttribute(game.currentweather, \"rainbowtastedesc\")) {\r\n            msg (\"Taste the rainbow, eh?  I'm glad you tried it, but you probably should at least go out there before trying to taste the thing...\")\r\n          }\r\n          else {\r\n            msg (\"There's no rainbow to taste in here.\")\r\n          }\r\n        }\r\n        else {\r\n        }\r\n      </tastedesc>\r\n      <feature_lightdark />\r\n      <lightsource />\r\n      <lightstrength>weak</lightstrength>\r\n    </object>\r\n  <object name=\"moon\">\r\n      <inherit name=\"editor_object\" />\r\n      <scenery />\r\n      <look type=\"script\">\r\n        if (not GetBoolean(game.pov.parent, \"inside\")) {\r\n          if (not GetBoolean(game, \"Night\")) {\r\n            if (HasAttribute(game.currentweather, \"daymoondesc\")) {\r\n              do (game.currentweather, \"daymoondesc\")\r\n            }\r\n            else {\r\n              weatherlook\r\n            }\r\n          }\r\n          else {\r\n            if (HasAttribute(game.currentweather, \"nightmoondesc\")) {\r\n              do (game.currentweather, \"nightmoondesc\")\r\n            }\r\n            else {\r\n              weatherlook\r\n            }\r\n          }\r\n        }\r\n        else if (HasAttribute(game.pov.parent, \"Windowed\")) {\r\n          if (not GetBoolean(game, \"Night\")) {\r\n            if (HasAttribute(game.currentweather, \"daymoondesc\")) {\r\n              msg (\"Outside:\")\r\n              do (game.currentweather, \"daymoondesc\")\r\n            }\r\n            else {\r\n              msg (\"Outside:\")\r\n              weatherlook\r\n            }\r\n          }\r\n          else {\r\n            if (HasAttribute(game.currentweather, \"nightmoondesc\")) {\r\n              msg (\"Outside:\")\r\n              do (game.currentweather, \"nightmoondesc\")\r\n            }\r\n            else {\r\n              msg (\"Outside:\")\r\n              weatherlook\r\n            }\r\n          }\r\n        }\r\n        else {\r\n        }\r\n      </look>\r\n    </object>\r\n  <object name=\"air\">\r\n      <inherit name=\"editor_object\" />\r\n      <scenery />\r\n      <touchdesc type=\"script\">\r\n        if (not GetBoolean(game.pov.parent, \"inside\")) {\r\n          if (HasAttribute(game.currentweather, \"touchdesc\")) {\r\n            do (game.currentweather, \"touchdesc\")\r\n          }\r\n          else {\r\n            msg (\"You don't feel anything unexpected in the air.\")\r\n          }\r\n        }\r\n        else {\r\n        }\r\n      </touchdesc>\r\n      <smell type=\"script\">\r\n        if (not GetBoolean(game.pov.parent, \"inside\")) {\r\n          if (HasAttribute(game.currentweather, \"smell\")) {\r\n            do (game.currentweather, \"smell\")\r\n          }\r\n          else {\r\n            msg (\"You don't smell anything unexpected.\")\r\n          }\r\n        }\r\n        else {\r\n          msg (\"You don't smell anything unusual.\")\r\n        }\r\n      </smell>\r\n      <look type=\"script\">\r\n        if (not GetBoolean(game.pov.parent, \"inside\")) {\r\n          if (HasAttribute(game.currentweather, \"desc\")) {\r\n            classperspectives (game.currentweather)\r\n          }\r\n          else {\r\n            msg (\"Air is invisiblel.\")\r\n          }\r\n        }\r\n        else {\r\n          msg (\"You don't see anything unusual.\")\r\n        }\r\n      </look>\r\n      <feature_lightdark />\r\n      <lightsource />\r\n      <lightstrength>weak</lightstrength>\r\n    </object>\r\n  <object name=\"stars\">\r\n      <inherit name=\"editor_object\" />\r\n      <look type=\"script\">\r\n        if (not GetBoolean(game.pov.parent, \"inside\")) {\r\n          if (GetBoolean(game, \"Night\")) {\r\n            if (HasAttribute(game.currentweather, \"starsdesc\")) {\r\n              do (game.currentweather, \"starsdesc\")\r\n            }\r\n            else {\r\n              weatherlook\r\n            }\r\n          }\r\n          else {\r\n          }\r\n        }\r\n        else if (HasAttribute(game.pov.parent, \"Windowed\")) {\r\n          if (GetBoolean(game, \"Night\")) {\r\n            if (HasAttribute(game.currentweather, \"starsdesc\")) {\r\n              msg (\"Outside:\")\r\n              do (game.currentweather, \"starsdesc\")\r\n            }\r\n            else {\r\n              msg (\"Outside:\")\r\n              weatherlook\r\n            }\r\n          }\r\n          else {\r\n          }\r\n        }\r\n        else {\r\n        }\r\n      </look>\r\n      <feature_lightdark />\r\n      <lightsource />\r\n      <lightstrength>weak</lightstrength>\r\n    </object>\r\n  <!--\r\n  mimis starts the \"makenight\" function and wakey starts the makeday function for testing or as a cheat code.\r\n  -->\r\n\r\n  <command>\r\n    <pattern>mimis</pattern>\r\n    <script>\r\n      makenight\r\n    </script>\r\n  </command>\r\n\r\n  <command>\r\n    <pattern>wakey</pattern>\r\n    <script>\r\n      makeday\r\n    </script>\r\n  </command>\r\n\r\n  <!--\r\n  daytime and nighttime turnscripts are simple.  They set lightness/darkness of outside rooms.  \r\n  They set background color Gray for night and if you chose to set a daycolor script on the weather tab, will run that.  \r\n  If you chose not to set a daycolor script, the outside rooms will return to White background during the day. \r\n  They also move weather objects to appropriate outdoor/Windowed rooms.\r\n  -->\r\n\r\n  <turnscript name=\"nighttime\">\r\n    <script>\r\n      if (not GetBoolean(game.pov.parent, \"inside\")) {\r\n        SetDark (game.pov.parent)\r\n        MoveObjectHere (sky)\r\n        MoveObjectHere (clouds)\r\n        MoveObjectHere (rain)\r\n        MoveObjectHere (lightning)\r\n        MoveObjectHere (thunder)\r\n        MoveObjectHere (sun)\r\n        MoveObjectHere (snow)\r\n        MoveObjectHere (sleet)\r\n        MoveObjectHere (hail)\r\n        MoveObjectHere (rainbow1)\r\n        MoveObjectHere (moon)\r\n        MoveObjectHere (wind)\r\n        MoveObjectHere (air)\r\n        MoveObjectHere (stars)\t\t\r\n        if (HasAttribute(game.currentweather, \"fullmoon\")) {\r\n          SetBackgroundColour (\"Gainsboro\")\r\n          SetObjectLightstrength (moon, \"strong\")\r\n        }\r\n        else if (HasAttribute(game.currentweather, \"bloodmoon\")) {\r\n          SetBackgroundColour (\"Tan\")\r\n          SetObjectLightstrength (moon, \"strong\")\r\n        }\r\n        else if (HasAttribute(game.currentweather, \"gibbousmoon\")) {\r\n          SetBackgroundColour (\"DarkGray\")\r\n          foreach (obj, GetDirectChildren(game.pov.parent)) {\r\n            SetObjectLightstrength (moon, \"weak\")\r\n          }\r\n        }\r\n        else if (HasAttribute(game.currentweather, \"crescentmoon\")) {\r\n          SetBackgroundColour (\"DimGray\")\r\n        }\r\n        else if (HasAttribute(game.currentweather, \"newmoon\")) {\r\n          SetBackgroundColour (\"Black\")\r\n          SetForegroundColour (\"White\")\r\n          SetObjectLightstrength (moon, \"\")\r\n        }\r\n        else {\r\n          SetObjectLightstrength (moon, \"\")\r\n        }\r\n      }\r\n      else if (HasAttribute(game.pov.parent, \"Windowed\")) {\r\n        MoveObjectHere (sky)\r\n        MoveObjectHere (clouds)\r\n        MoveObjectHere (rain)\r\n        MoveObjectHere (lightning)\r\n        MoveObjectHere (thunder)\r\n        MoveObjectHere (sun)\r\n        MoveObjectHere (snow)\r\n        MoveObjectHere (sleet)\r\n        MoveObjectHere (hail)\r\n        MoveObjectHere (rainbow1)\r\n        MoveObjectHere (moon)\r\n        MoveObjectHere (wind)\r\n        MoveObjectHere (stars)\t\t\r\n        if (HasAttribute(game.currentweather, \"fullmoon\")) {\r\n          SetObjectLightstrength (moon, \"weak\")\r\n        }\r\n        else if (HasAttribute(game.currentweather, \"bloodmoon\")) {\r\n          SetObjectLightstrength (moon, \"weak\")\r\n        }\r\n        else if (HasAttribute(game.currentweather, \"gibbousmoon\")) {\r\n          SetObjectLightstrength (moon, \"weak\")\r\n        }\r\n        else if (HasAttribute(game.currentweather, \"crescentmoon\")) {\r\n          SetObjectLightstrength (moon, \"weak\")\r\n        }\r\n        else if (HasAttribute(game.currentweather, \"newmoon\")) {\r\n          SetObjectLightstrength (moon, \"\")\r\n        }\r\n        else {\r\n          SetObjectLightstrength (moon, \"\")\r\n        }\r\n      }\r\n    </script>\r\n  </turnscript>\r\n  <turnscript name=\"daytime\">\r\n    <enabled />\r\n    <script>\r\n      if (not GetBoolean(game.pov.parent, \"inside\")) {\r\n        SetLight (game.pov.parent)\r\n        if (HasAttribute(game.pov.parent, \"daycolor\")) {\r\n          do (game.pov.parent, \"daycolor\")\r\n        }\r\n        else {\r\n          SetBackgroundColour (\"White\")\r\n        }\r\n        MoveObjectHere (sky)\r\n        MoveObjectHere (clouds)\r\n        MoveObjectHere (rain)\r\n        MoveObjectHere (lightning)\r\n        MoveObjectHere (thunder)\r\n        MoveObjectHere (sun)\r\n        MoveObjectHere (snow)\r\n        MoveObjectHere (sleet)\r\n        MoveObjectHere (hail)\r\n        MoveObjectHere (rainbow1)\r\n        MoveObjectHere (moon)\r\n        MoveObjectHere (wind)\r\n        MoveObjectHere (air)\r\n        SetForegroundColour (\"Black\")\r\n      }\r\n      else if (HasAttribute(game.pov.parent, \"Windowed\")) {\r\n        MoveObjectHere (sky)\r\n        MoveObjectHere (clouds)\r\n        MoveObjectHere (rain)\r\n        MoveObjectHere (lightning)\r\n        MoveObjectHere (thunder)\r\n        MoveObjectHere (sun)\r\n        MoveObjectHere (snow)\r\n        MoveObjectHere (sleet)\r\n        MoveObjectHere (hail)\r\n        MoveObjectHere (rainbow1)\r\n        MoveObjectHere (moon)\r\n        MoveObjectHere (wind)\r\n      }\r\n    </script>\r\n  </turnscript>\r\n  \r\n  <tab>\r\n    <parent>_ObjectEditor</parent>\r\n    <caption>Weather</caption>\r\n    <mustnotinherit>editor_object; editor_player</mustnotinherit>\r\n    <onlydisplayif>game.feature_WeatherLib</onlydisplayif> \t\r\n    \r\n    <control>\r\n      <controltype>dropdowntypes</controltype>\r\n      <types>*=Not weather; weather_type=Weather</types>\r\n      <caption>Weather</caption>\r\n    </control>\r\n    \r\n    <control>\r\n      <controltype>label</controltype>\r\n      <caption>These options add weather functionality.</caption>\r\n      <mustinherit>weather_type</mustinherit>\r\n    </control>\t\r\n\r\n    <control>\r\n      <controltype>script</controltype>\r\n      <caption>Weather change script (must set game.weathertochange)</caption>\r\n      <attribute>weatherchangescript</attribute>\r\n      <mustinherit>weather_type</mustinherit>\r\n    </control>\r\n    \r\n    <control>\r\n      <controltype>checkbox</controltype>\r\n      <caption>Inside?</caption>\r\n      <attribute>inside</attribute>\r\n      <mustnotinherit>weather_type</mustnotinherit>\r\n    </control>  \r\n\r\n    <control>\r\n      <controltype>label</controltype>\r\n      <caption>Indoor rooms from which the player can see the weather will run a variation of \"weatherlook\" function  when player types \"look sky,\" and will have visible objects from currentweather in them.</caption>\r\n      <mustnotinherit>weather_type</mustnotinherit>\r\n    </control>\t\r\n\r\n    <control>\r\n      <controltype>checkbox</controltype>\r\n      <caption>Can See Outside?</caption>\r\n      <attribute>Windowed</attribute>\r\n      <mustnotinherit>weather_type</mustnotinherit>\r\n    </control>\r\n\r\n    <control>\r\n      <controltype>label</controltype>\r\n      <caption>Day color script is meant to assign a background color to outside rooms during the daytime. Can automatically run any script on entry into an outside room durning the day. If not assigned, the room will turn white.</caption>\r\n      <mustnotinherit>weather_type</mustnotinherit>\r\n    </control>\t\r\n\r\n\t<control>\r\n      <controltype>script</controltype>\r\n      <caption>Daytime Room Color(If Not Inside)</caption>\r\n      <attribute>daycolor</attribute>\r\n      <mustnotinherit>weather_type</mustnotinherit>\r\n    </control>\t\r\n\r\n    <control>\r\n      <controltype>label</controltype>\r\n      <caption>Check boxes to add weather elements to this weather.</caption>\r\n      <mustinherit>weather_type</mustinherit>\t  \r\n    </control>\t\r\n\r\n    <control>\r\n      <controltype>checkbox</controltype>\r\n      <caption>Moon</caption>\r\n      <attribute>presentmoon</attribute>\r\n      <mustinherit>weather_type</mustinherit>\r\n    </control> \t\r\n\r\n    <control>\r\n      <controltype>checkbox</controltype>\r\n      <caption>Clouds</caption>\r\n      <attribute>presentclouds</attribute>\r\n      <mustinherit>weather_type</mustinherit>\r\n    </control> \r\n\r\n    <control>\r\n      <controltype>checkbox</controltype>\r\n      <caption>Rain</caption>\r\n      <attribute>presentrain</attribute>\r\n      <mustinherit>weather_type</mustinherit>\r\n    </control> \r\n\r\n    <control>\r\n      <controltype>checkbox</controltype>\r\n      <caption>Lightning</caption>\r\n      <attribute>presentlightning</attribute>\r\n      <mustinherit>weather_type</mustinherit>\r\n    </control> \r\n\r\n    <control>\r\n      <controltype>checkbox</controltype>\r\n      <caption>Wind</caption>\r\n      <attribute>presentwind</attribute>\r\n      <mustinherit>weather_type</mustinherit>\r\n    </control> \r\n\r\n    <control>\r\n      <controltype>checkbox</controltype>\r\n      <caption>Snow</caption>\r\n      <attribute>presentsnow</attribute>\r\n      <mustinherit>weather_type</mustinherit>\r\n    </control> \r\n\r\n    <control>\r\n      <controltype>checkbox</controltype>\r\n      <caption>Sleet</caption>\r\n      <attribute>presentsleet</attribute>\r\n      <mustinherit>weather_type</mustinherit>\r\n    </control> \r\n\r\n    <control>\r\n      <controltype>checkbox</controltype>\r\n      <caption>Hail</caption>\r\n      <attribute>presenthail</attribute>\r\n      <mustinherit>weather_type</mustinherit>\r\n    </control> \r\n\r\n    <control>\r\n      <controltype>checkbox</controltype>\r\n      <caption>Rainbow</caption>\r\n      <attribute>presentrainbow</attribute>\r\n      <mustinherit>weather_type</mustinherit>\r\n    </control> \r\n\r\n    <control>\r\n      <controltype>checkbox</controltype>\r\n      <caption>Stars</caption>\r\n      <attribute>presentstars</attribute>\r\n      <mustinherit>weather_type</mustinherit>\r\n    </control> \r\n\r\n    <control>\r\n      <controltype>label</controltype>\r\n      <caption>If the moon is present in your weather, choose a phase. The nighttime turnscript will set background color and lighting accordingly.</caption>\r\n      <mustinherit>weather_type</mustinherit>\r\n      <onlydisplayif>this.presentmoon</onlydisplayif> \t  \r\n    </control>\t\r\n\r\n    <control>\r\n      <controltype>checkbox</controltype>\r\n      <caption>Moon Is Full</caption>\r\n      <attribute>fullmoon</attribute>\r\n      <mustinherit>weather_type</mustinherit>\r\n      <onlydisplayif>this.presentmoon</onlydisplayif> \t  \r\n    </control>  \r\n\r\n    <control>\r\n      <controltype>checkbox</controltype>\r\n      <caption>Blood Moon</caption>\r\n      <attribute>bloodmoon</attribute>\r\n      <mustinherit>weather_type</mustinherit>\r\n      <onlydisplayif>this.presentmoon</onlydisplayif> \r\n    </control> \r\n\r\n    <control>\r\n      <controltype>checkbox</controltype>\r\n      <caption>Moon Half Or More</caption>\r\n      <attribute>gibbousmoon</attribute>\r\n      <mustinherit>weather_type</mustinherit>\r\n      <onlydisplayif>this.presentmoon</onlydisplayif> \r\n    </control>\r\n\r\n    <control>\r\n      <controltype>checkbox</controltype>\r\n      <caption>Crescent Moon</caption>\r\n      <attribute>crescentmoon</attribute>\r\n      <mustinherit>weather_type</mustinherit>\r\n      <onlydisplayif>this.presentmoon</onlydisplayif> \r\n    </control> \r\n\r\n    <control>\r\n      <controltype>checkbox</controltype>\r\n      <caption>New Moon</caption>\r\n      <attribute>newmoon</attribute>\r\n      <mustinherit>weather_type</mustinherit>\r\n      <onlydisplayif>this.presentmoon</onlydisplayif> \r\n    </control>\r\n\t\r\n    <control>\r\n      <controltype>label</controltype>\r\n      <caption>Below are various descriptions which can be set for when the senses are used on elements of the weather. The first 3 are mandatory in the same way as the room alias.</caption>\r\n      <mustinherit>weather_type</mustinherit>\r\n    </control>\t\r\n    \r\n    <control>\r\n      <controltype>script</controltype>\r\n      <caption>Night Weather Description</caption>\r\n      <attribute>nightweatherdesc</attribute>\r\n      <mustinherit>weather_type</mustinherit>\r\n    </control>  \r\n    \r\n    <control>\r\n      <controltype>script</controltype>\r\n      <caption>Look At Sky</caption>\r\n      <attribute>look</attribute>\r\n      <mustinherit>weather_type</mustinherit>\r\n    </control>    \r\n    \r\n\t<control>\r\n      <controltype>script</controltype>\r\n      <caption>Look At Night Sky</caption>\r\n      <attribute>nightlook</attribute>\r\n      <mustinherit>weather_type</mustinherit>\r\n    </control>   \r\n\r\n    <control>\r\n      <controltype>script</controltype>\r\n      <caption>Look At Sun</caption>\r\n      <attribute>sundesc</attribute>\r\n      <mustinherit>weather_type</mustinherit>\r\n    </control>    \r\n    \r\n\t<control>\r\n      <controltype>script</controltype>\r\n      <caption>Feel Sun</caption>\r\n      <attribute>feelsundesc</attribute>\r\n      <mustinherit>weather_type</mustinherit>\r\n    </control>   \r\n\r\n    <control>\r\n      <controltype>script</controltype>\r\n      <caption>Day Moon Description</caption>\r\n      <attribute>daymoondesc</attribute>\r\n      <mustinherit>weather_type</mustinherit>\r\n      <onlydisplayif>this.presentmoon</onlydisplayif> \r\n    </control> \r\n\r\n    <control>\r\n      <controltype>script</controltype>\r\n      <caption>Night Moon Description</caption>\r\n      <attribute>nightmoondesc</attribute>\r\n      <mustinherit>weather_type</mustinherit>\r\n      <onlydisplayif>this.presentmoon</onlydisplayif> \r\n    </control> \r\n\t\r\n    <control>\r\n      <controltype>script</controltype>\r\n      <caption>Night Clouds Description</caption>\r\n      <attribute>nightcloudsdesc</attribute>\r\n      <mustinherit>weather_type</mustinherit>\r\n      <onlydisplayif>this.presentclouds</onlydisplayif> \t\r\n    </control> \r\n\r\n    <control>\r\n      <controltype>script</controltype>\r\n      <caption>Day Clouds Description</caption>\r\n      <attribute>daycloudsdesc</attribute>\r\n      <mustinherit>weather_type</mustinherit>\r\n      <onlydisplayif>this.presentclouds</onlydisplayif> \t\r\n    </control> \r\n\r\n    <control>\r\n      <controltype>number</controltype>\r\n      <caption>Rain amount</caption>\r\n      <attribute>rain</attribute>\r\n      <mustinherit>weather_type</mustinherit>\r\n      <onlydisplayif>this.presentrain</onlydisplayif> \t\r\n    </control>\r\n\r\n    <control>\r\n      <controltype>script</controltype>\r\n      <caption>Night Rain Description</caption>\r\n      <attribute>nightraindesc</attribute>\r\n      <mustinherit>weather_type</mustinherit>\r\n      <onlydisplayif>this.presentrain</onlydisplayif> \t\r\n    </control> \r\n\r\n    <control>\r\n      <controltype>script</controltype>\r\n      <caption>Day Rain Description</caption>\r\n      <attribute>dayraindesc</attribute>\r\n      <mustinherit>weather_type</mustinherit>\r\n      <onlydisplayif>this.presentrain</onlydisplayif> \t\r\n    </control> \r\n\r\n    <control>\r\n      <controltype>script</controltype>\r\n      <caption>Rain Feel Description</caption>\r\n      <attribute>raintouchdesc</attribute>\r\n      <mustinherit>weather_type</mustinherit>\r\n      <onlydisplayif>this.presentrain</onlydisplayif> \t\r\n    </control> \r\n\r\n    <control>\r\n      <controltype>script</controltype>\r\n      <caption>Rain Smell Description</caption>\r\n      <attribute>rainsmell</attribute>\r\n      <mustinherit>weather_type</mustinherit>\r\n      <onlydisplayif>this.presentrain</onlydisplayif> \t\r\n    </control> \r\n\r\n    <control>\r\n      <controltype>script</controltype>\r\n      <caption>Rain Sound Description</caption>\r\n      <attribute>listenraindesc</attribute>\r\n      <mustinherit>weather_type</mustinherit>\r\n      <onlydisplayif>this.presentrain</onlydisplayif> \t\r\n    </control> \r\n\r\n    <control>\r\n      <controltype>script</controltype>\r\n      <caption>Night Lightning Description</caption>\r\n      <attribute>nightlightningsdesc</attribute>\r\n      <mustinherit>weather_type</mustinherit>\r\n      <onlydisplayif>this.presentlightning</onlydisplayif> \t\r\n    </control> \r\n\r\n    <control>\r\n      <controltype>script</controltype>\r\n      <caption>Day Lightning Description</caption>\r\n      <attribute>daylightningsdesc</attribute>\r\n      <mustinherit>weather_type</mustinherit>\r\n      <onlydisplayif>this.presentlightning</onlydisplayif> \t\r\n    </control> \r\n\r\n    <control>\r\n      <controltype>script</controltype>\r\n      <caption>Thunder Listen Description</caption>\r\n      <attribute>listenthundesc</attribute>\r\n      <mustinherit>weather_type</mustinherit>\r\n      <onlydisplayif>this.presentlightning</onlydisplayif> \t\r\n    </control> \r\n\r\n    <control>\r\n      <controltype>script</controltype>\r\n      <caption>Look Wind</caption>\r\n      <attribute>lookwindesc</attribute>\r\n      <mustinherit>weather_type</mustinherit>\r\n      <onlydisplayif>this.presentwind</onlydisplayif> \t\r\n    </control>  \r\n\r\n    <control>\r\n      <controltype>script</controltype>\r\n      <caption>Smell Wind</caption>\r\n      <attribute>smellbreezedesc</attribute>\r\n      <mustinherit>weather_type</mustinherit>\r\n      <onlydisplayif>this.presentwind</onlydisplayif> \t\r\n    </control> \r\n\r\n    <control>\r\n      <controltype>script</controltype>\r\n      <caption>Listen Wind</caption>\r\n      <attribute>listenwindesc</attribute>\r\n      <mustinherit>weather_type</mustinherit>\r\n      <onlydisplayif>this.presentwind</onlydisplayif> \t\r\n    </control> \r\n\r\n    <control>\r\n      <controltype>script</controltype>\r\n      <caption>Feel Wind</caption>\r\n      <attribute>feelwindesc</attribute>\r\n      <mustinherit>weather_type</mustinherit>\r\n      <onlydisplayif>this.presentwind</onlydisplayif> \t\r\n    </control> \r\n\r\n    <control>\r\n      <controltype>script</controltype>\r\n      <caption>Look Snow</caption>\r\n      <attribute>looksnowdesc</attribute>\r\n      <mustinherit>weather_type</mustinherit>\r\n      <onlydisplayif>this.presentsnow</onlydisplayif> \t\r\n    </control> \r\n\r\n    <control>\r\n      <controltype>script</controltype>\r\n      <caption>Listen Snow</caption>\r\n      <attribute>listensnowdesc</attribute>\r\n      <mustinherit>weather_type</mustinherit>\r\n      <onlydisplayif>this.presentsnow</onlydisplayif> \t\r\n    </control> \r\n\r\n    <control>\r\n      <controltype>script</controltype>\r\n      <caption>Feel Snow</caption>\r\n      <attribute>feelsnowdesc</attribute>\r\n      <mustinherit>weather_type</mustinherit>\r\n      <onlydisplayif>this.presentsnow</onlydisplayif> \t\r\n    </control> \r\n\r\n    <control>\r\n      <controltype>script</controltype>\r\n      <caption>Taste Snow</caption>\r\n      <attribute>tastesnowdesc</attribute>\r\n      <mustinherit>weather_type</mustinherit>\r\n      <onlydisplayif>this.presentsnow</onlydisplayif> \t\r\n    </control> \r\n\r\n    <control>\r\n      <controltype>script</controltype>\r\n      <caption>Look Sleet</caption>\r\n      <attribute>looksleetdesc</attribute>\r\n      <mustinherit>weather_type</mustinherit>\r\n      <onlydisplayif>this.presentsleet</onlydisplayif> \t\r\n    </control> \r\n\r\n    <control>\r\n      <controltype>script</controltype>\r\n      <caption>Listen Sleet</caption>\r\n      <attribute>listensleetdesc</attribute>\r\n      <mustinherit>weather_type</mustinherit>\r\n      <onlydisplayif>this.presentsleet</onlydisplayif> \t\r\n    </control> \r\n\r\n    <control>\r\n      <controltype>script</controltype>\r\n      <caption>Feel Sleet</caption>\r\n      <attribute>sleettouch</attribute>\r\n      <mustinherit>weather_type</mustinherit>\r\n      <onlydisplayif>this.presentsleet</onlydisplayif> \t\r\n    </control> \r\n\r\n    <control>\r\n      <controltype>script</controltype>\r\n      <caption>Taste Sleet</caption>\r\n      <attribute>sleettaste</attribute>\r\n      <mustinherit>weather_type</mustinherit>\r\n      <onlydisplayif>this.presentsleet</onlydisplayif> \t\r\n    </control>    \r\n    \r\n\t<control>\r\n      <controltype>script</controltype>\r\n      <caption>Look Hail</caption>\r\n      <attribute>lookhaildesc</attribute>\r\n      <mustinherit>weather_type</mustinherit>\r\n      <onlydisplayif>this.presenthail</onlydisplayif> \t\r\n    </control>   \r\n\r\n    <control>\r\n      <controltype>script</controltype>\r\n      <caption>Listen Hail</caption>\r\n      <attribute>listenhail</attribute>\r\n      <mustinherit>weather_type</mustinherit>\r\n      <onlydisplayif>this.presenthail</onlydisplayif> \t\r\n    </control>  \r\n\r\n    <control>\r\n      <controltype>script</controltype>\r\n      <caption>Feel Hail</caption>\r\n      <attribute>hailfeel</attribute>\r\n      <mustinherit>weather_type</mustinherit>\r\n      <onlydisplayif>this.presenthail</onlydisplayif> \t\r\n    </control> \r\n\r\n    <control>\r\n      <controltype>script</controltype>\r\n      <caption>Look Rainbow</caption>\r\n      <attribute>lookrainbowdesc</attribute>\r\n      <mustinherit>weather_type</mustinherit>\r\n      <onlydisplayif>this.presentrainbow</onlydisplayif> \t\r\n    </control> \r\n\r\n    <control>\r\n      <controltype>script</controltype>\r\n      <caption>Taste Rainbow</caption>\r\n      <attribute>rainbowtastedesc</attribute>\r\n      <mustinherit>weather_type</mustinherit>\r\n      <onlydisplayif>this.presentrainbow</onlydisplayif> \t\r\n    </control> \r\n\r\n    <control>\r\n      <controltype>script</controltype>\r\n      <caption>Look Stars</caption>\r\n      <attribute>starsdesc</attribute>\r\n      <mustinherit>weather_type</mustinherit>\r\n      <onlydisplayif>this.presentstars</onlydisplayif> \t\r\n    </control> \r\n  </tab>\r\n  \r\n  \r\n</library>\r\n```",
      "EditableFormat": "markdown",
      "HTML": "<p>I changed the \"Classperspectives\" function (which is from one of my games) and gave it a more appropriate name for the WeatherLib.</p>\n<p>Also fixed a couple minor bugs.</p>\n<p>Also modified the Tab so that it can be toggled on/off via the Core Game Features Tab by adding a checkbox to CoreEditorGame.aslx (paste it in from the library).</p>\n<pre><code>&lt;?xml version=\"1.0\"?&gt;\n&lt;library&gt;\n  &lt;!--\n  If you are viewing this on GitHub and want to download it, right click on the RAW button\n  just above, and select \"Save link as...\"\n  --&gt;\n\n\n  &lt;!--\n  Foundation is \n  WeatherLib v1.0\n  \n  Quest version: 5.7\n  Written by: The Pixie, 2017\n\n  Tutorial and notes here:\n  https://github.com/ThePix/quest/wiki/Weather-Library\n  \n  Upgrades by IpMan in Quest 5.8 2023\n  Notes on upgrades found inside this library.\n  \n  Weather Tab can be hidden/added via features.  Requires update to CoreEditorGame.aslx\n  \n      &lt;control&gt;\n        &lt;controltype&gt;checkbox&lt;/controltype&gt;\n        &lt;caption&gt;WeatherLib&lt;/caption&gt;\n        &lt;attribute&gt;feature_WeatherLib&lt;/attribute&gt;\n      &lt;/control&gt;\t  \n  \n  --&gt;\n\n\n  &lt;function name=\"Weather\"&gt;\n    if (not HasInt(game, \"weathercount\")) {\n      game.weathercount = 0\n    }\n    if (game.currentweather = null) {\n      game.currentweather = PickOneObject(FilterByType(AllObjects(), \"weather_type\"))\n    }\n    game.weathercount = game.weathercount + 1\n    do (game.currentweather, \"weatherchangescript\")\n    if (game.weathertochange) {\n      game.weathercount = 0\n      exit = PickOneUnlockedExit(game.currentweather)\n      game.currentweather = exit.to\n      if (HasString(exit, \"message\") and not GetBoolean(game.pov.parent, \"inside\")) {\n        msg (exit.message)\n      }\n    }\n    if (not HasInt(game.pov, \"soaking\")) game.pov.soaking = 0\n    if (not GetBoolean(game.pov.parent, \"inside\")) {\n      game.pov.soaking = game.pov.soaking + game.currentweather.rain\n    }\n    else {\n      game.pov.soaking = game.pov.soaking - 5\n    }\n    if (game.pov.soaking &gt; 100) game.pov.soaking = 100\n    if (0 &gt; game.pov.soaking) game.pov.soaking = 0\n  &lt;/function&gt;\n  \n  \n  &lt;function name=\"WeatherReport\"&gt;\n    if (not GetBoolean(game.pov.parent, \"inside\")) {\n      if (GetBoolean(game, \"Night\")) {\n        do (game.currentweather, \"nightweatherdesc\")\n      }\n      else {\n        msg (\"\" + game.currentweather.alias)\n      }\n    }\n    else if (HasAttribute(game.pov.parent, \"Windowed\")) {\n      if (not GetBoolean(game, \"Night\")) {\n        msg (\"Outside:\")\n        do (game.currentweather, \"look\")\n      }\n      else {\n        msg (\"Outside:\")\n        do (game.currentweather, \"nightlook\")\n      }\n    }\n    else {\n    }\n  &lt;/function&gt;\n  \n  &lt;function name=\"LookAtSky\" type=\"string\"&gt;\n    return (game.currentweather.look)\n  &lt;/function&gt;\n\n  &lt;type name=\"weather_type\"&gt;\n    &lt;rain type=\"int\"&gt;0&lt;/rain&gt;\n    &lt;weatherchangescript type=\"script\"&gt;\n      game.weathertochange = RandomChance(game.weathercount)\n    &lt;/weatherchangescript&gt;\n    &lt;desc type=\"script\"&gt;\n      weatherlook\n    &lt;/desc&gt;\t\n  &lt;/type&gt;\n  \n  &lt;!--\n  Allows sky object to read game.currentweather when looked at.\n  --&gt;\n  \n  &lt;function name=\"weatherperspectives\" parameters=\"this\"&gt;\n    do (this, \"desc\")\n  &lt;/function&gt;  \n\n  &lt;!--\n  makenight and makeday are complimentary functions which cycle enable and disable the daytime and nighttime turnscripts. \n  You can edit them to make them your own, make the days longer/shorter, change the message printed when night time is near.\n  --&gt;\n\n  &lt;function name=\"makenight\"&gt;\n    msg (\"{random:'15 turns, and what do you get? Another day older and deeper in debt.':'In the jungle, the quiet jungle the lion sleeps tonight.':'I wear my sunglasses at night so I can so I can...':'Now I lay me down to sleep, I pray the Lord my soul to keep.  If I should die before I wake...':'Thank the Lord for the nighttime. Forget the day...':'Sweet dreams baby.'}\")\n    msg (\"It'll soon be night time...so you'll have a hard time getting around outside.. and be more likely to die.\")\n    SetTurnTimeout (15) {\n      DisableTurnScript (daytime)\n      EnableTurnScript (nighttime)\n      msg (\"The sun has set.  It's now nearly impossible to get about without a lightsource outside... slightly more dangerous too.\")\n      SetObjectFlagOn (game, \"Night\")\n    }\n    SetTurnTimeout (60) {\n      makeday\n    }\n  &lt;/function&gt;\n  &lt;function name=\"makeday\"&gt;\n    msg (\"You feel the night is waning.  It shouldn't be long before sunrise.\")\n    SetTurnTimeout (15) {\n      DisableTurnScript (nighttime)\n      EnableTurnScript (daytime)\n      msg (\"In 1 turn it will be daytime.\")\n      SetTurnTimeout (1) {\n        msg (\"{random:'wakeup, get out of bed, drag a comb accross my head.':'Good morning, good morning, good morning, good morning, good morning-ga!':A theme from Peer Gynt plays off in the distance:'Call the sun in the dead of the night and the sun's gonna' rise in the sky!':'Zipadee doo dah, zipadee yay!'}\")\n        msg (\"It's now morning. Feel free to move about outside without a lightsource.\")\n        SetObjectFlagOff (game, \"Night\")\n      }\n    }\n    SetTurnTimeout (75) {\n      makenight\n    }\n  &lt;/function&gt;\n  &lt;!--\n  More complex look functon which incorporates day/night descriptions \n  and outside/Windowed descriptions.\n  --&gt;\n\n  &lt;function name=\"weatherlook\"&gt;\n    if (not GetBoolean(game.pov.parent, \"inside\")) {\n      if (not GetBoolean(game, \"Night\")) {\n        do (game.currentweather, \"look\")\n      }\n      else {\n        do (game.currentweather, \"nightlook\")\n      }\n    }\n    else if (HasAttribute(game.pov.parent, \"Windowed\")) {\n      if (not GetBoolean(game, \"Night\")) {\n        do (game.currentweather, \"look\")\n      }\n      else {\n        do (game.currentweather, \"nightlook\")\n      }\n    }\n    else {\n      msg (\"{random: You can't see the sky from here. : You're pretty sure there's a sky outside. : Um...}\")\n    }\n  &lt;/function&gt;\n  &lt;!-- \n  Built-in weather objects these have scripts on them which read scripts on game.currentweather (your weather rooms). \n  They will have different results depending upon whether the player is \"outside\" or in a room with the \"Windowed\" attribute.\n  Those scripts can be added to it via the weather tab.  For futher customisation add your own weather objects and use scripts similar to what you see on these objects.\n  If there is no description given, they have default message scripts.  The only scripts you MUST put on your weather rooms are:\n  nightweatherdesc, look, and nightlook which are the first 3 descriptions that can be added from the weather tab.\n  \n  You will need to add commands in your game that at least do this:\n  taste: do (this, \"tastedesc\")\n  touch: do (this, \"touchdesc\")\n  listen: do (this, \"listen\")\n  smell: do (this, \"smell\") \n  --&gt;\n\n  &lt;object name=\"sky\"&gt;\n      &lt;inherit name=\"editor_object\" /&gt;\n      &lt;scenery /&gt;\n      &lt;alt type=\"stringlist\"&gt;\n        &lt;value&gt;weather&lt;/value&gt;\n        &lt;value&gt;climate&lt;/value&gt;\n      &lt;/alt&gt;\n      &lt;drop type=\"boolean\"&gt;false&lt;/drop&gt;\n      &lt;feature_lightdark /&gt;\n      &lt;lightsource /&gt;\n      &lt;lightstrength&gt;weak&lt;/lightstrength&gt;\n      &lt;look type=\"script\"&gt;\n        if (HasAttribute(game.pov.parent, \"Windowed\")) {\n          msg (\"Outside:\")\n          weatherperspectives (game.currentweather)\n        }\n        else {\n          weatherperspectives (game.currentweather)\n        }\n      &lt;/look&gt;\n      &lt;smell type=\"script\"&gt;\n        if (not GetBoolean(game.pov.parent, \"inside\")) {\n          if (HasAttribute(game.currentweather, \"smell\")) {\n            do (game.currentweather, \"smell\")\n            if (HasAttribute(game.pov.parent, \"smell\")) {\n              do (game.pov.parent, \"smell\")\n            }\n          }\n          else if (HasAttribute(game.pov.parent, \"smell\")) {\n            do (game.pov.parent, \"smell\")\n          }\n          else {\n            msg (\"You don't smell anything unexpected.\")\n          }\n        }\n        else if (HasAttribute(game.pov.parent, \"smell\")) {\n          do (game.pov.parent, \"smell\")\n        }\n        else {\n          msg (\"You don't smell anything unusual.\")\n        }\n      &lt;/smell&gt;\n      &lt;touchdesc type=\"script\"&gt;\n        if (not GetBoolean(game.pov.parent, \"inside\")) {\n          if (HasAttribute(game.currentweather, \"touchdesc\")) {\n            do (game.currentweather, \"touchdesc\")\n          }\n          else if () {\n          }\n          else {\n            msg (\"The weather feels as you'd expect it to.\")\n          }\n        }\n        else if (HasAttribute(game.pov.parent, \"Windowed\")) {\n          msg (\"You really can't feel the weather from in here, but you imagine how it feels outside.\")\n        }\n        else {\n          msg (\"Um... you can't feel the weather from in here...\")\n        }\n      &lt;/touchdesc&gt;\n    &lt;/object&gt;\n\n  &lt;object name=\"clouds\"&gt;\n      &lt;inherit name=\"editor_object\" /&gt;\n      &lt;scenery /&gt;\n      &lt;look type=\"script\"&gt;\n        if (not GetBoolean(game.pov.parent, \"inside\")) {\n          if (not GetBoolean(game, \"Night\")) {\n            if (HasAttribute(game.currentweather, \"daycloudsdesc\")) {\n              do (game.currentweather, \"daycloudsdesc\")\n            }\n            else {\n              weatherlook\n            }\n          }\n          else {\n            if (HasAttribute(game.currentweather, \"nightcloudsdesc\")) {\n              do (game.currentweather, \"nightcloudsdesc\")\n            }\n            else {\n              msg (\"Outside:\")\n              weatherlook\n            }\n          }\n        }\n        else if (HasAttribute(game.pov.parent, \"Windowed\")) {\n          if (not GetBoolean(game, \"Night\")) {\n            if (HasAttribute(game.currentweather, \"daycloudsdesc\")) {\n              msg (\"Outside:\")\n              do (game.currentweather, \"daycloudsdesc\")\n            }\n            else {\n              msg (\"Outside:\")\n              weatherlook\n            }\n          }\n          else {\n            if (HasAttribute(game.currentweather, \"nightcloudsdesc\")) {\n              msg (\"Outside:\")\n              do (game.currentweather, \"nightcloudsdesc\")\n            }\n            else {\n              msg (\"Outside:\")\n              weatherlook\n            }\n          }\n        }\n        else {\n          msg (\"{random: You can't see the sky from here. : You're pretty sure there's a sky outside. : Um...}\")\n        }\n      &lt;/look&gt;\n      &lt;feature_lightdark /&gt;\n      &lt;lightsource /&gt;\n      &lt;lightstrength&gt;weak&lt;/lightstrength&gt;\n    &lt;/object&gt;\n  &lt;object name=\"rain\"&gt;\n      &lt;inherit name=\"editor_object\" /&gt;\n      &lt;alt type=\"stringlist\"&gt;\n        &lt;value&gt;torrent&lt;/value&gt;\n        &lt;value&gt;drissle&lt;/value&gt;\n        &lt;value&gt;drizzle&lt;/value&gt;\n        &lt;value&gt;sprinkles&lt;/value&gt;\n        &lt;value&gt;raindrops&lt;/value&gt;\n      &lt;/alt&gt;\n      &lt;scenery /&gt;\n      &lt;look type=\"script\"&gt;\n        if (not GetBoolean(game.pov.parent, \"inside\")) {\n          if (not GetBoolean(game, \"Night\")) {\n            if (HasAttribute(game.currentweather, \"dayraindesc\")) {\n              do (game.currentweather, \"dayraindesc\")\n            }\n            else {\n              weatherlook\n            }\n          }\n          else {\n            if (HasAttribute(game.currentweather, \"nightraindesc\")) {\n              do (game.currentweather, \"nightraindesc\")\n            }\n            else {\n              weatherlook\n            }\n          }\n        }\n        else if (HasAttribute(game.pov.parent, \"Windowed\")) {\n          if (not GetBoolean(game, \"Night\")) {\n            if (HasAttribute(game.currentweather, \"dayraindesc\")) {\n              msg (\"Outside:\")\n              do (game.currentweather, \"dayraindesc\")\n            }\n            else {\n              msg (\"Outside:\")\n              weatherlook\n            }\n          }\n          else if (HasAttribute(game.currentweather, \"nightraindesc\")) {\n            msg (\"Outside:\")\n            do (game.currentweather, \"nightaindesc\")\n          }\n          else {\n            msg (\"Outside:\")\n            weatherlook\n          }\n        }\n        else {\n          msg (\"{random: You can't see the sky from here. : You're pretty sure there's a sky outside. : Um...}\")\n        }\n      &lt;/look&gt;\n      &lt;touchdesc type=\"script\"&gt;\n        if (not GetBoolean(game.pov.parent, \"inside\")) {\n          if (HasAttribute(game.currentweather, \"raintouchdesc\")) {\n            do (game.currentweather, \"raintouchdesc\")\n          }\n          else {\n            msg (\"If it's raining, it's wet...\")\n          }\n        }\n        else if (HasAttribute(game.pov.parent, \"Windowed\")) {\n          if (HasAttribute(game.currentweather, \"raintouchdesc\")) {\n            msg (\"{random: You can't feel the rain from in here. : You're not getting wet... : You'll want to go outside first.}\")\n          }\n          else {\n            msg (\"You don't feel any rain in here.\")\n          }\n        }\n        else {\n        }\n      &lt;/touchdesc&gt;\n      &lt;smell type=\"script\"&gt;\n        if (not GetBoolean(game.pov.parent, \"inside\")) {\n          if (HasAttribute(game.currentweather, \"rainsmell\")) {\n            do (game.currentweather, \"rainsmell\")\n          }\n          else if (HasAttribute(game.pov.parent, \"smell\")) {\n            msg (\"The rain doesn't have a particular smell, but...\")\n            do (game.pov.parent, \"smell\")\n          }\n          else {\n            msg (\"It smells rainy.\")\n          }\n        }\n        else if (HasAttribute(game.pov.parent, \"Windowed\")) {\n          msg (\"{random: You can't smell the rain from in here. : You're pretty sure it smells like rain out there.. : Um...}\")\n        }\n        else {\n        }\n      &lt;/smell&gt;\n      &lt;listen type=\"script\"&gt;\n        if (not GetBoolean(game.pov.parent, \"inside\")) {\n          if (HasAttribute(game.currentweather, \"listenraindesc\")) {\n            do (game.currentweather, \"listenraindesc\")\n          }\n          else if (HasAttribute(game.pov.parent, \"listendesc\")) {\n            msg (\"Even through the natural rhythm of the rain...\")\n            do (game.pov.parent, \"listendesc\")\n          }\n          else {\n            msg (\"You can almost make out a pattern in the sound of the raindrops landing.\")\n          }\n        }\n        else if (HasAttribute(game.pov.parent, \"Windowed\")) {\n          if (HasAttribute(game.currentweather, \"listenraindesc\")) {\n            msg (\"{random: You can't really hear the rain from in here. : The rainsound is muffled from inside. : What did you want the rain to tell you?}\")\n          }\n          else {\n            msg (\"You don't hear any rain.\")\n          }\n        }\n        else {\n        }\n      &lt;/listen&gt;\n      &lt;feature_lightdark /&gt;\n      &lt;lightsource /&gt;\n      &lt;lightstrength&gt;weak&lt;/lightstrength&gt;\n    &lt;/object&gt;\n  &lt;object name=\"lightning\"&gt;\n      &lt;inherit name=\"editor_object\" /&gt;\n      &lt;alt type=\"stringlist\"&gt;\n        &lt;value&gt;bolts&lt;/value&gt;\n        &lt;value&gt;flashes&lt;/value&gt;\n        &lt;value&gt;balllightning&lt;/value&gt;\n        &lt;value&gt;lightningbolts&lt;/value&gt;\n      &lt;/alt&gt;\n      &lt;scenery /&gt;\n      &lt;look type=\"script\"&gt;\n        if (not GetBoolean(game.pov.parent, \"inside\")) {\n          if (not GetBoolean(game, \"Night\")) {\n            if (HasAttribute(game.currentweather, \"daylightningsdesc\")) {\n              do (game.currentweather, \"daylightningsdesc\")\n            }\n            else {\n              weatherlook\n            }\n          }\n          else {\n            if (HasAttribute(game.currentweather, \"nightlightningsdesc\")) {\n              do (game.currentweather, \"nightlightningsdesc\")\n            }\n            else {\n              weatherlook\n            }\n          }\n        }\n        else if (HasAttribute(game.pov.parent, \"Windowed\")) {\n          if (not GetBoolean(game, \"Night\")) {\n            if (HasAttribute(game.currentweather, \"daylightningsdesc\")) {\n              msg (\"Outside:\")\n              do (game.currentweather, \"daylightningsdesc\")\n            }\n            else {\n              msg (\"Outside:\")\n              weatherlook\n            }\n          }\n          else {\n            if (HasAttribute(game.currentweather, \"nightlightningsdesc\")) {\n              msg (\"Outside:\")\n              do (game.currentweather, \"nightlightningsdesc\")\n            }\n            else {\n              msg (\"Outside:\")\n              weatherlook\n            }\n          }\n        }\n        else {\n          msg (\"{random: Why are you looking for lightning?. : You're pretty sure there's a sky outside. : Um...}\")\n        }\n      &lt;/look&gt;\n      &lt;smell type=\"script\"&gt;\n      &lt;/smell&gt;\n      &lt;listen type=\"script\"&gt;\n        if (HasAttribute(game.currentweather, \"listenthundesc\")) {\n          do (game.currentweather, \"listenthundesc\")\n        }\n      &lt;/listen&gt;\n      &lt;attr name=\"feature_usegive\" type=\"boolean\"&gt;false&lt;/attr&gt;\n      &lt;feature_lightdark /&gt;\n      &lt;lightsource /&gt;\n      &lt;lightstrength&gt;weak&lt;/lightstrength&gt;\n    &lt;/object&gt;\n  &lt;object name=\"thunder\"&gt;\n      &lt;inherit name=\"editor_object\" /&gt;\n      &lt;scenery /&gt;\n      &lt;visible /&gt;\n      &lt;listen type=\"script\"&gt;\n        if (HasAttribute(game.currentweather, \"listenthundesc\")) {\n          do (game.currentweather, \"listenthundesc\")\n        }\n      &lt;/listen&gt;\n      &lt;touchdesc type=\"script\"&gt;\n      &lt;/touchdesc&gt;\n      &lt;look type=\"script\"&gt;\n        if (not GetBoolean(game.pov.parent, \"inside\")) {\n          if (not GetBoolean(game, \"Night\")) {\n            if (HasAttribute(game.currentweather, \"daylightningsdesc\")) {\n              do (game.currentweather, \"daylightningsdesc\")\n            }\n            else {\n              weatherlook\n            }\n          }\n          else {\n            if (HasAttribute(game.currentweather, \"nightlightningsdesc\")) {\n              do (game.currentweather, \"nightlightningsdesc\")\n            }\n            else {\n              weatherlook\n            }\n          }\n        }\n        else if (HasAttribute(game.pov.parent, \"Windowed\")) {\n          if (not GetBoolean(game, \"Night\")) {\n            if (HasAttribute(game.currentweather, \"daylightningsdesc\")) {\n              msg (\"Outside:\")\n              do (game.currentweather, \"daylightningsdesc\")\n            }\n            else {\n              msg (\"Outside:\")\n              weatherlook\n            }\n          }\n          else {\n            if (HasAttribute(game.currentweather, \"nightlightningsdesc\")) {\n              msg (\"Outside:\")\n              do (game.currentweather, \"nightlightningsdesc\")\n            }\n            else {\n              msg (\"Outside:\")\n              weatherlook\n            }\n          }\n        }\n        else {\n          msg (\"{random: Why are you looking for lightning?. : You're pretty sure there's a sky outside. : Um...}\")\n        }\n      &lt;/look&gt;\n      &lt;feature_lightdark /&gt;\n      &lt;lightsource /&gt;\n      &lt;lightstrength&gt;weak&lt;/lightstrength&gt;\n    &lt;/object&gt;\n  &lt;object name=\"sun\"&gt;\n      &lt;inherit name=\"editor_object\" /&gt;\n      &lt;scenery /&gt;\n      &lt;look type=\"script\"&gt;\n        if (not GetBoolean(game.pov.parent, \"inside\")) {\n          if (not GetBoolean(game, \"Night\")) {\n            if (HasAttribute(game.currentweather, \"sundesc\")) {\n              do (game.currentweather, \"sundesc\")\n            }\n            else {\n              weatherlook\n            }\n          }\n          else {\n            msg (\"The sun has gone to wherever it goes at night.\")\n          }\n        }\n        else if (HasAttribute(game.pov.parent, \"Windowed\")) {\n          if (not GetBoolean(game, \"Night\")) {\n            if (HasAttribute(game.currentweather, \"sundesc\")) {\n              msg (\"Outside:\")\n              do (game.currentweather, \"sundesc\")\n            }\n            else {\n              msg (\"Outside:\")\n              weatherlook\n            }\n          }\n          else {\n            msg (\"The sun has gone to wherever it goes at night.\")\n          }\n        }\n        else {\n        }\n      &lt;/look&gt;\n      &lt;smell type=\"script\"&gt;\n      &lt;/smell&gt;\n      &lt;touchdesc type=\"script\"&gt;\n        if (not GetBoolean(game.pov.parent, \"inside\")) {\n          if (not GetBoolean(game, \"Night\")) {\n            if (HasAttribute(game.currentweather, \"feelsundesc\")) {\n              do (game.currentweather, \"feelsundesc\")\n            }\n            else {\n              weatherlook\n            }\n          }\n          else {\n            msg (\"The sun has gone to wherever it goes at night.\")\n          }\n        }\n        else if (HasAttribute(game.pov.parent, \"Windowed\")) {\n          if (not GetBoolean(game, \"Night\")) {\n            if (HasAttribute(game.currentweather, \"sundesc\")) {\n              msg (\"You can see the sun outside, but in order to really 'feel' it, you'll have to be out there with it.\")\n            }\n            else {\n              msg (\"The great outdoors would be the right place for trying to feel the sun...\")\n            }\n          }\n          else {\n            msg (\"Whatever heat the sun gave to the world while it was here is dissapating now.\")\n          }\n        }\n        else {\n        }\n      &lt;/touchdesc&gt;\n      &lt;feature_lightdark /&gt;\n      &lt;lightsource /&gt;\n    &lt;/object&gt;\n  &lt;object name=\"wind\"&gt;\n      &lt;inherit name=\"editor_object\" /&gt;\n      &lt;visible /&gt;\n      &lt;scenery /&gt;\n      &lt;alt type=\"stringlist\"&gt;\n        &lt;value&gt;breeze&lt;/value&gt;\n        &lt;value&gt;gale&lt;/value&gt;\n        &lt;value&gt;gust&lt;/value&gt;\n        &lt;value&gt;blowing&lt;/value&gt;\n      &lt;/alt&gt;\n      &lt;look type=\"script\"&gt;\n        if (not GetBoolean(game.pov.parent, \"inside\")) {\n          if (HasAttribute(game.currentweather, \"lookwindesc\")) {\n            do (game.currentweather, \"lookwindesc\")\n          }\n          else {\n            weatherlook\n          }\n        }\n        else if (HasAttribute(game.pov.parent, \"Windowed\")) {\n          if (HasAttribute(game.currentweather, \"lookwindesc\")) {\n            msg (\"Outside:\")\n            do (game.currentweather, \"lookwindesc\")\n          }\n          else {\n            msg (\"Outside:\")\n            weatherlook\n          }\n        }\n        else {\n        }\n      &lt;/look&gt;\n      &lt;smell type=\"script\"&gt;\n        if (not GetBoolean(game.pov.parent, \"inside\")) {\n          if (HasAttribute(game.currentweather, \"smellbreezedesc\")) {\n            do (game.currentweather, \"smellbreezedesc\")\n            if (HasAttribute(game.pov.parent, \"smell\")) {\n              do (game.pov.parent, \"smell\")\n            }\n          }\n          else if (HasAttribute(game.pov.parent, \"smell\")) {\n            do (game.pov.parent, \"smell\")\n          }\n          else {\n            msg (\"You don't smell anything unexpected.\")\n          }\n        }\n        else if (HasAttribute(game.pov.parent, \"Windowed\")) {\n          msg (\"Sniffing the breeze sounds like an interesting idea...but there's no wind inside...\")\n        }\n        else {\n        }\n      &lt;/smell&gt;\n      &lt;listen type=\"script\"&gt;\n        if (not GetBoolean(game.pov.parent, \"inside\")) {\n          if (HasAttribute(game.currentweather, \"listenwindesc\")) {\n            do (game.currentweather, \"listenwindesc\")\n          }\n          else {\n            weatherlook\n          }\n        }\n        else if (HasAttribute(game.pov.parent, \"Windowed\")) {\n          if (HasAttribute(game.currentweather, \"listenwindesc\")) {\n            msg (\"You probably would be able to hear the wind better from outside...\")\n          }\n          else {\n            msg (\"You don't hear any wind.\")\n          }\n        }\n        else {\n        }\n      &lt;/listen&gt;\n      &lt;touchdesc type=\"script\"&gt;\n        if (not GetBoolean(game.pov.parent, \"inside\")) {\n          if (HasAttribute(game.currentweather, \"feelwindesc\")) {\n            do (game.currentweather, \"feelwindesc\")\n          }\n          else {\n            weatherlook\n          }\n        }\n        else if (HasAttribute(game.pov.parent, \"Windowed\")) {\n          if (HasAttribute(game.currentweather, \"feelwindesc\")) {\n            msg (\"You're sheltered enough here that you don't feel the wind.\")\n          }\n          else {\n            msg (\"There's no wind to feel in here.\")\n          }\n        }\n        else {\n        }\n      &lt;/touchdesc&gt;\n      &lt;feature_lightdark /&gt;\n      &lt;lightsource /&gt;\n      &lt;lightstrength&gt;weak&lt;/lightstrength&gt;\n    &lt;/object&gt;\n  &lt;object name=\"snow\"&gt;\n      &lt;inherit name=\"editor_object\" /&gt;\n      &lt;scenery /&gt;\n      &lt;look type=\"script\"&gt;\n        if (not GetBoolean(game.pov.parent, \"inside\")) {\n          if (HasAttribute(game.currentweather, \"looksnowdesc\")) {\n            do (game.currentweather, \"looksnowdesc\")\n          }\n          else {\n            weatherlook\n          }\n        }\n        else if (HasAttribute(game.pov.parent, \"Windowed\")) {\n          if (HasAttribute(game.currentweather, \"looksnowdesc\")) {\n            msg (\"Outside:\")\n            do (game.currentweather, \"looksnowdesc\")\n          }\n          else {\n            msg (\"Outside:\")\n            weatherlook\n          }\n        }\n        else {\n        }\n      &lt;/look&gt;\n      &lt;touchdesc type=\"script\"&gt;\n        if (not GetBoolean(game.pov.parent, \"inside\")) {\n          if (HasAttribute(game.currentweather, \"feelsnowdesc\")) {\n            do (game.currentweather, \"feelsnowdesc\")\n          }\n          else {\n            weatherlook\n          }\n        }\n        else if (HasAttribute(game.pov.parent, \"Windowed\")) {\n          if (HasAttribute(game.currentweather, \"feelsnowdesc\")) {\n            msg (\"You're sheltered enough here that you don't feel the snow.\")\n          }\n          else {\n            msg (\"There's no snow to feel in here.\")\n          }\n        }\n        else {\n        }\n      &lt;/touchdesc&gt;\n      &lt;tastedesc type=\"script\"&gt;\n        if (not GetBoolean(game.pov.parent, \"inside\")) {\n          if (HasAttribute(game.currentweather, \"snowtastedesc\")) {\n            do (game.currentweather, \"snowtastedesc\")\n          }\n          else {\n            weatherlook\n          }\n        }\n        else if (HasAttribute(game.pov.parent, \"Windowed\")) {\n          if (HasAttribute(game.currentweather, \"snowtastedesc\")) {\n            msg (\"In the mood for a snowcone?  You can't taste the snow from here.\")\n          }\n          else {\n            msg (\"There's no snow to taste in here.\")\n          }\n        }\n        else {\n        }\n      &lt;/tastedesc&gt;\n      &lt;listen type=\"script\"&gt;\n        if (not GetBoolean(game.pov.parent, \"inside\")) {\n          if (HasAttribute(game.currentweather, \"listensnow\")) {\n            do (game.currentweather, \"listensnow\")\n          }\n          else {\n            msg (\"You don't hear any snow...\")\n          }\n        }\n        else if (HasAttribute(game.pov.parent, \"Windowed\")) {\n          if (HasAttribute(game.currentweather, \"listensnow\")) {\n            msg (\"You'd have to be out in the snow to hear it.\")\n          }\n          else {\n            msg (\"You don't hear any snow...\")\n          }\n        }\n        else {\n        }\n      &lt;/listen&gt;\n      &lt;feature_lightdark /&gt;\n      &lt;lightsource /&gt;\n      &lt;lightstrength&gt;weak&lt;/lightstrength&gt;\n    &lt;/object&gt;\n  &lt;object name=\"sleet\"&gt;\n      &lt;inherit name=\"editor_object\" /&gt;\n      &lt;scenery /&gt;\n      &lt;look type=\"script\"&gt;\n        if (not GetBoolean(game.pov.parent, \"inside\")) {\n          if (HasAttribute(game.currentweather, \"looksleetdesc\")) {\n            do (game.currentweather, \"looksleetdesc\")\n          }\n          else {\n            weatherlook\n          }\n        }\n        else if (HasAttribute(game.pov.parent, \"Windowed\")) {\n          if (HasAttribute(game.currentweather, \"looksleetdesc\")) {\n            msg (\"Outside:\")\n            do (game.currentweather, \"looksleetdesc\")\n          }\n          else {\n            msg (\"Outside:\")\n            weatherlook\n          }\n        }\n        else {\n        }\n      &lt;/look&gt;\n      &lt;listen type=\"script\"&gt;\n        if (not GetBoolean(game.pov.parent, \"inside\")) {\n          if (HasAttribute(game.currentweather, \"listensleet\")) {\n            do (game.currentweather, \"listensleet\")\n          }\n          else {\n            msg (\"You don't hear any sleet...\")\n          }\n        }\n        else if (HasAttribute(game.pov.parent, \"Windowed\")) {\n          if (HasAttribute(game.currentweather, \"listensleet\")) {\n            msg (\"You'd have to be out in the sleet to really hear it.\")\n          }\n          else {\n            msg (\"You don't hear any sleet...\")\n          }\n        }\n        else {\n        }\n      &lt;/listen&gt;\n      &lt;touchdesc type=\"script\"&gt;\n        if (not GetBoolean(game.pov.parent, \"inside\")) {\n          if (HasAttribute(game.currentweather, \"sleettouch\")) {\n            do (game.currentweather, \"sleettouch\")\n          }\n          else {\n            weatherlook\n          }\n        }\n        else if (HasAttribute(game.pov.parent, \"Windowed\")) {\n          if (HasAttribute(game.currentweather, \"sleettouch\")) {\n            msg (\"You'd have to be out in the sleet to touch it.\")\n          }\n          else {\n            msg (\"You don't hear any sleet...\")\n          }\n        }\n        else {\n        }\n      &lt;/touchdesc&gt;\n      &lt;tastedesc type=\"script\"&gt;\n        if (not GetBoolean(game.pov.parent, \"inside\")) {\n          if (HasAttribute(game.currentweather, \"sleettaste\")) {\n            do (game.currentweather, \"sleettaste\")\n          }\n          else {\n            msg (\"You don't taste any sleet...\")\n          }\n        }\n        else if (HasAttribute(game.pov.parent, \"Windowed\")) {\n          if (HasAttribute(game.currentweather, \"sleettaste\")) {\n            msg (\"You'd have to be out in the falling sleet to try to taste it\")\n          }\n          else {\n            msg (\"um....\")\n          }\n        }\n        else {\n        }\n      &lt;/tastedesc&gt;\n      &lt;feature_lightdark /&gt;\n      &lt;lightsource /&gt;\n      &lt;lightstrength&gt;weak&lt;/lightstrength&gt;\n    &lt;/object&gt;\n  &lt;object name=\"hail\"&gt;\n      &lt;inherit name=\"editor_object\" /&gt;\n      &lt;scenery /&gt;\n      &lt;look type=\"script\"&gt;\n        if (not GetBoolean(game.pov.parent, \"inside\")) {\n          if (HasAttribute(game.currentweather, \"lookhaildesc\")) {\n            do (game.currentweather, \"lookhaildesc\")\n          }\n          else {\n            weatherlook\n          }\n        }\n        else if (HasAttribute(game.pov.parent, \"Windowed\")) {\n          if (HasAttribute(game.currentweather, \"lookhaildesc\")) {\n            msg (\"Outside:\")\n            do (game.currentweather, \"lookhaildesc\")\n          }\n          else {\n            msg (\"Outside:\")\n            weatherlook\n          }\n        }\n        else {\n        }\n      &lt;/look&gt;\n      &lt;listen type=\"script\"&gt;\n        if (not GetBoolean(game.pov.parent, \"inside\")) {\n          if (HasAttribute(game.currentweather, \"listenhail\")) {\n            do (game.currentweather, \"listenhail\")\n          }\n          else {\n            msg (\"You don't hear any hail...\")\n          }\n        }\n        else if (HasAttribute(game.pov.parent, \"Windowed\")) {\n          if (HasAttribute(game.currentweather, \"listenhail\")) {\n            msg (\"You can hear the hail falling faintly from in here.  It must be noisy outside!\")\n          }\n          else {\n            msg (\"You don't hear any hail...\")\n          }\n        }\n        else {\n        }\n      &lt;/listen&gt;\n      &lt;touchdesc type=\"script\"&gt;\n        if (not GetBoolean(game.pov.parent, \"inside\")) {\n          if (HasAttribute(game.currentweather, \"hailfeel\")) {\n            do (game.currentweather, \"hailfeel\")\n          }\n          else {\n            msg (\"You don't feel any hail...\")\n          }\n        }\n        else if (HasAttribute(game.pov.parent, \"Windowed\")) {\n          if (HasAttribute(game.currentweather, \"hailfeel\")) {\n            msg (\"You should be grateful that the hail isn't hitting you in here!\")\n          }\n          else {\n            msg (\"You can't feel any hail...\")\n          }\n        }\n        else {\n        }\n      &lt;/touchdesc&gt;\n      &lt;tastedesc type=\"script\"&gt;\n      &lt;/tastedesc&gt;\n      &lt;feature_lightdark /&gt;\n      &lt;lightsource /&gt;\n      &lt;lightstrength&gt;weak&lt;/lightstrength&gt;\n    &lt;/object&gt;\n  &lt;object name=\"rainbow1\"&gt;\n      &lt;inherit name=\"editor_object\" /&gt;\n      &lt;alias&gt;rainbow&lt;/alias&gt;\n      &lt;scenery /&gt;\n      &lt;look type=\"script\"&gt;\n        if (not GetBoolean(game.pov.parent, \"inside\")) {\n          if (HasAttribute(game.currentweather, \"lookrainbowdesc\")) {\n            do (game.currentweather, \"lookrainbowdesc\")\n          }\n          else {\n            weatherlook\n          }\n        }\n        else if (HasAttribute(game.pov.parent, \"Windowed\")) {\n          if (HasAttribute(game.currentweather, \"lookrainbowdesc\")) {\n            msg (\"Outside:\")\n            do (game.currentweather, \"lookrainbowdesc\")\n          }\n          else {\n            msg (\"Outside:\")\n            weatherlook\n          }\n        }\n        else {\n        }\n      &lt;/look&gt;\n      &lt;tastedesc type=\"script\"&gt;\n        if (not GetBoolean(game.pov.parent, \"inside\")) {\n          if (HasAttribute(game.currentweather, \"rainbowtastedesc\")) {\n            do (game.currentweather, \"rainbowtastedesc\")\n          }\n          else {\n            msg (\"Taste the rainbow, eh?  Is that an original idea?  Very interesting premise, but you just can't seem to taste one right now...\")\n          }\n        }\n        else if (HasAttribute(game.pov.parent, \"Windowed\")) {\n          if (HasAttribute(game.currentweather, \"rainbowtastedesc\")) {\n            msg (\"Taste the rainbow, eh?  I'm glad you tried it, but you probably should at least go out there before trying to taste the thing...\")\n          }\n          else {\n            msg (\"There's no rainbow to taste in here.\")\n          }\n        }\n        else {\n        }\n      &lt;/tastedesc&gt;\n      &lt;feature_lightdark /&gt;\n      &lt;lightsource /&gt;\n      &lt;lightstrength&gt;weak&lt;/lightstrength&gt;\n    &lt;/object&gt;\n  &lt;object name=\"moon\"&gt;\n      &lt;inherit name=\"editor_object\" /&gt;\n      &lt;scenery /&gt;\n      &lt;look type=\"script\"&gt;\n        if (not GetBoolean(game.pov.parent, \"inside\")) {\n          if (not GetBoolean(game, \"Night\")) {\n            if (HasAttribute(game.currentweather, \"daymoondesc\")) {\n              do (game.currentweather, \"daymoondesc\")\n            }\n            else {\n              weatherlook\n            }\n          }\n          else {\n            if (HasAttribute(game.currentweather, \"nightmoondesc\")) {\n              do (game.currentweather, \"nightmoondesc\")\n            }\n            else {\n              weatherlook\n            }\n          }\n        }\n        else if (HasAttribute(game.pov.parent, \"Windowed\")) {\n          if (not GetBoolean(game, \"Night\")) {\n            if (HasAttribute(game.currentweather, \"daymoondesc\")) {\n              msg (\"Outside:\")\n              do (game.currentweather, \"daymoondesc\")\n            }\n            else {\n              msg (\"Outside:\")\n              weatherlook\n            }\n          }\n          else {\n            if (HasAttribute(game.currentweather, \"nightmoondesc\")) {\n              msg (\"Outside:\")\n              do (game.currentweather, \"nightmoondesc\")\n            }\n            else {\n              msg (\"Outside:\")\n              weatherlook\n            }\n          }\n        }\n        else {\n        }\n      &lt;/look&gt;\n    &lt;/object&gt;\n  &lt;object name=\"air\"&gt;\n      &lt;inherit name=\"editor_object\" /&gt;\n      &lt;scenery /&gt;\n      &lt;touchdesc type=\"script\"&gt;\n        if (not GetBoolean(game.pov.parent, \"inside\")) {\n          if (HasAttribute(game.currentweather, \"touchdesc\")) {\n            do (game.currentweather, \"touchdesc\")\n          }\n          else {\n            msg (\"You don't feel anything unexpected in the air.\")\n          }\n        }\n        else {\n        }\n      &lt;/touchdesc&gt;\n      &lt;smell type=\"script\"&gt;\n        if (not GetBoolean(game.pov.parent, \"inside\")) {\n          if (HasAttribute(game.currentweather, \"smell\")) {\n            do (game.currentweather, \"smell\")\n          }\n          else {\n            msg (\"You don't smell anything unexpected.\")\n          }\n        }\n        else {\n          msg (\"You don't smell anything unusual.\")\n        }\n      &lt;/smell&gt;\n      &lt;look type=\"script\"&gt;\n        if (not GetBoolean(game.pov.parent, \"inside\")) {\n          if (HasAttribute(game.currentweather, \"desc\")) {\n            classperspectives (game.currentweather)\n          }\n          else {\n            msg (\"Air is invisiblel.\")\n          }\n        }\n        else {\n          msg (\"You don't see anything unusual.\")\n        }\n      &lt;/look&gt;\n      &lt;feature_lightdark /&gt;\n      &lt;lightsource /&gt;\n      &lt;lightstrength&gt;weak&lt;/lightstrength&gt;\n    &lt;/object&gt;\n  &lt;object name=\"stars\"&gt;\n      &lt;inherit name=\"editor_object\" /&gt;\n      &lt;look type=\"script\"&gt;\n        if (not GetBoolean(game.pov.parent, \"inside\")) {\n          if (GetBoolean(game, \"Night\")) {\n            if (HasAttribute(game.currentweather, \"starsdesc\")) {\n              do (game.currentweather, \"starsdesc\")\n            }\n            else {\n              weatherlook\n            }\n          }\n          else {\n          }\n        }\n        else if (HasAttribute(game.pov.parent, \"Windowed\")) {\n          if (GetBoolean(game, \"Night\")) {\n            if (HasAttribute(game.currentweather, \"starsdesc\")) {\n              msg (\"Outside:\")\n              do (game.currentweather, \"starsdesc\")\n            }\n            else {\n              msg (\"Outside:\")\n              weatherlook\n            }\n          }\n          else {\n          }\n        }\n        else {\n        }\n      &lt;/look&gt;\n      &lt;feature_lightdark /&gt;\n      &lt;lightsource /&gt;\n      &lt;lightstrength&gt;weak&lt;/lightstrength&gt;\n    &lt;/object&gt;\n  &lt;!--\n  mimis starts the \"makenight\" function and wakey starts the makeday function for testing or as a cheat code.\n  --&gt;\n\n  &lt;command&gt;\n    &lt;pattern&gt;mimis&lt;/pattern&gt;\n    &lt;script&gt;\n      makenight\n    &lt;/script&gt;\n  &lt;/command&gt;\n\n  &lt;command&gt;\n    &lt;pattern&gt;wakey&lt;/pattern&gt;\n    &lt;script&gt;\n      makeday\n    &lt;/script&gt;\n  &lt;/command&gt;\n\n  &lt;!--\n  daytime and nighttime turnscripts are simple.  They set lightness/darkness of outside rooms.  \n  They set background color Gray for night and if you chose to set a daycolor script on the weather tab, will run that.  \n  If you chose not to set a daycolor script, the outside rooms will return to White background during the day. \n  They also move weather objects to appropriate outdoor/Windowed rooms.\n  --&gt;\n\n  &lt;turnscript name=\"nighttime\"&gt;\n    &lt;script&gt;\n      if (not GetBoolean(game.pov.parent, \"inside\")) {\n        SetDark (game.pov.parent)\n        MoveObjectHere (sky)\n        MoveObjectHere (clouds)\n        MoveObjectHere (rain)\n        MoveObjectHere (lightning)\n        MoveObjectHere (thunder)\n        MoveObjectHere (sun)\n        MoveObjectHere (snow)\n        MoveObjectHere (sleet)\n        MoveObjectHere (hail)\n        MoveObjectHere (rainbow1)\n        MoveObjectHere (moon)\n        MoveObjectHere (wind)\n        MoveObjectHere (air)\n        MoveObjectHere (stars)\t\t\n        if (HasAttribute(game.currentweather, \"fullmoon\")) {\n          SetBackgroundColour (\"Gainsboro\")\n          SetObjectLightstrength (moon, \"strong\")\n        }\n        else if (HasAttribute(game.currentweather, \"bloodmoon\")) {\n          SetBackgroundColour (\"Tan\")\n          SetObjectLightstrength (moon, \"strong\")\n        }\n        else if (HasAttribute(game.currentweather, \"gibbousmoon\")) {\n          SetBackgroundColour (\"DarkGray\")\n          foreach (obj, GetDirectChildren(game.pov.parent)) {\n            SetObjectLightstrength (moon, \"weak\")\n          }\n        }\n        else if (HasAttribute(game.currentweather, \"crescentmoon\")) {\n          SetBackgroundColour (\"DimGray\")\n        }\n        else if (HasAttribute(game.currentweather, \"newmoon\")) {\n          SetBackgroundColour (\"Black\")\n          SetForegroundColour (\"White\")\n          SetObjectLightstrength (moon, \"\")\n        }\n        else {\n          SetObjectLightstrength (moon, \"\")\n        }\n      }\n      else if (HasAttribute(game.pov.parent, \"Windowed\")) {\n        MoveObjectHere (sky)\n        MoveObjectHere (clouds)\n        MoveObjectHere (rain)\n        MoveObjectHere (lightning)\n        MoveObjectHere (thunder)\n        MoveObjectHere (sun)\n        MoveObjectHere (snow)\n        MoveObjectHere (sleet)\n        MoveObjectHere (hail)\n        MoveObjectHere (rainbow1)\n        MoveObjectHere (moon)\n        MoveObjectHere (wind)\n        MoveObjectHere (stars)\t\t\n        if (HasAttribute(game.currentweather, \"fullmoon\")) {\n          SetObjectLightstrength (moon, \"weak\")\n        }\n        else if (HasAttribute(game.currentweather, \"bloodmoon\")) {\n          SetObjectLightstrength (moon, \"weak\")\n        }\n        else if (HasAttribute(game.currentweather, \"gibbousmoon\")) {\n          SetObjectLightstrength (moon, \"weak\")\n        }\n        else if (HasAttribute(game.currentweather, \"crescentmoon\")) {\n          SetObjectLightstrength (moon, \"weak\")\n        }\n        else if (HasAttribute(game.currentweather, \"newmoon\")) {\n          SetObjectLightstrength (moon, \"\")\n        }\n        else {\n          SetObjectLightstrength (moon, \"\")\n        }\n      }\n    &lt;/script&gt;\n  &lt;/turnscript&gt;\n  &lt;turnscript name=\"daytime\"&gt;\n    &lt;enabled /&gt;\n    &lt;script&gt;\n      if (not GetBoolean(game.pov.parent, \"inside\")) {\n        SetLight (game.pov.parent)\n        if (HasAttribute(game.pov.parent, \"daycolor\")) {\n          do (game.pov.parent, \"daycolor\")\n        }\n        else {\n          SetBackgroundColour (\"White\")\n        }\n        MoveObjectHere (sky)\n        MoveObjectHere (clouds)\n        MoveObjectHere (rain)\n        MoveObjectHere (lightning)\n        MoveObjectHere (thunder)\n        MoveObjectHere (sun)\n        MoveObjectHere (snow)\n        MoveObjectHere (sleet)\n        MoveObjectHere (hail)\n        MoveObjectHere (rainbow1)\n        MoveObjectHere (moon)\n        MoveObjectHere (wind)\n        MoveObjectHere (air)\n        SetForegroundColour (\"Black\")\n      }\n      else if (HasAttribute(game.pov.parent, \"Windowed\")) {\n        MoveObjectHere (sky)\n        MoveObjectHere (clouds)\n        MoveObjectHere (rain)\n        MoveObjectHere (lightning)\n        MoveObjectHere (thunder)\n        MoveObjectHere (sun)\n        MoveObjectHere (snow)\n        MoveObjectHere (sleet)\n        MoveObjectHere (hail)\n        MoveObjectHere (rainbow1)\n        MoveObjectHere (moon)\n        MoveObjectHere (wind)\n      }\n    &lt;/script&gt;\n  &lt;/turnscript&gt;\n  \n  &lt;tab&gt;\n    &lt;parent&gt;_ObjectEditor&lt;/parent&gt;\n    &lt;caption&gt;Weather&lt;/caption&gt;\n    &lt;mustnotinherit&gt;editor_object; editor_player&lt;/mustnotinherit&gt;\n    &lt;onlydisplayif&gt;game.feature_WeatherLib&lt;/onlydisplayif&gt; \t\n    \n    &lt;control&gt;\n      &lt;controltype&gt;dropdowntypes&lt;/controltype&gt;\n      &lt;types&gt;*=Not weather; weather_type=Weather&lt;/types&gt;\n      &lt;caption&gt;Weather&lt;/caption&gt;\n    &lt;/control&gt;\n    \n    &lt;control&gt;\n      &lt;controltype&gt;label&lt;/controltype&gt;\n      &lt;caption&gt;These options add weather functionality.&lt;/caption&gt;\n      &lt;mustinherit&gt;weather_type&lt;/mustinherit&gt;\n    &lt;/control&gt;\t\n\n    &lt;control&gt;\n      &lt;controltype&gt;script&lt;/controltype&gt;\n      &lt;caption&gt;Weather change script (must set game.weathertochange)&lt;/caption&gt;\n      &lt;attribute&gt;weatherchangescript&lt;/attribute&gt;\n      &lt;mustinherit&gt;weather_type&lt;/mustinherit&gt;\n    &lt;/control&gt;\n    \n    &lt;control&gt;\n      &lt;controltype&gt;checkbox&lt;/controltype&gt;\n      &lt;caption&gt;Inside?&lt;/caption&gt;\n      &lt;attribute&gt;inside&lt;/attribute&gt;\n      &lt;mustnotinherit&gt;weather_type&lt;/mustnotinherit&gt;\n    &lt;/control&gt;  \n\n    &lt;control&gt;\n      &lt;controltype&gt;label&lt;/controltype&gt;\n      &lt;caption&gt;Indoor rooms from which the player can see the weather will run a variation of \"weatherlook\" function  when player types \"look sky,\" and will have visible objects from currentweather in them.&lt;/caption&gt;\n      &lt;mustnotinherit&gt;weather_type&lt;/mustnotinherit&gt;\n    &lt;/control&gt;\t\n\n    &lt;control&gt;\n      &lt;controltype&gt;checkbox&lt;/controltype&gt;\n      &lt;caption&gt;Can See Outside?&lt;/caption&gt;\n      &lt;attribute&gt;Windowed&lt;/attribute&gt;\n      &lt;mustnotinherit&gt;weather_type&lt;/mustnotinherit&gt;\n    &lt;/control&gt;\n\n    &lt;control&gt;\n      &lt;controltype&gt;label&lt;/controltype&gt;\n      &lt;caption&gt;Day color script is meant to assign a background color to outside rooms during the daytime. Can automatically run any script on entry into an outside room durning the day. If not assigned, the room will turn white.&lt;/caption&gt;\n      &lt;mustnotinherit&gt;weather_type&lt;/mustnotinherit&gt;\n    &lt;/control&gt;\t\n\n\t&lt;control&gt;\n      &lt;controltype&gt;script&lt;/controltype&gt;\n      &lt;caption&gt;Daytime Room Color(If Not Inside)&lt;/caption&gt;\n      &lt;attribute&gt;daycolor&lt;/attribute&gt;\n      &lt;mustnotinherit&gt;weather_type&lt;/mustnotinherit&gt;\n    &lt;/control&gt;\t\n\n    &lt;control&gt;\n      &lt;controltype&gt;label&lt;/controltype&gt;\n      &lt;caption&gt;Check boxes to add weather elements to this weather.&lt;/caption&gt;\n      &lt;mustinherit&gt;weather_type&lt;/mustinherit&gt;\t  \n    &lt;/control&gt;\t\n\n    &lt;control&gt;\n      &lt;controltype&gt;checkbox&lt;/controltype&gt;\n      &lt;caption&gt;Moon&lt;/caption&gt;\n      &lt;attribute&gt;presentmoon&lt;/attribute&gt;\n      &lt;mustinherit&gt;weather_type&lt;/mustinherit&gt;\n    &lt;/control&gt; \t\n\n    &lt;control&gt;\n      &lt;controltype&gt;checkbox&lt;/controltype&gt;\n      &lt;caption&gt;Clouds&lt;/caption&gt;\n      &lt;attribute&gt;presentclouds&lt;/attribute&gt;\n      &lt;mustinherit&gt;weather_type&lt;/mustinherit&gt;\n    &lt;/control&gt; \n\n    &lt;control&gt;\n      &lt;controltype&gt;checkbox&lt;/controltype&gt;\n      &lt;caption&gt;Rain&lt;/caption&gt;\n      &lt;attribute&gt;presentrain&lt;/attribute&gt;\n      &lt;mustinherit&gt;weather_type&lt;/mustinherit&gt;\n    &lt;/control&gt; \n\n    &lt;control&gt;\n      &lt;controltype&gt;checkbox&lt;/controltype&gt;\n      &lt;caption&gt;Lightning&lt;/caption&gt;\n      &lt;attribute&gt;presentlightning&lt;/attribute&gt;\n      &lt;mustinherit&gt;weather_type&lt;/mustinherit&gt;\n    &lt;/control&gt; \n\n    &lt;control&gt;\n      &lt;controltype&gt;checkbox&lt;/controltype&gt;\n      &lt;caption&gt;Wind&lt;/caption&gt;\n      &lt;attribute&gt;presentwind&lt;/attribute&gt;\n      &lt;mustinherit&gt;weather_type&lt;/mustinherit&gt;\n    &lt;/control&gt; \n\n    &lt;control&gt;\n      &lt;controltype&gt;checkbox&lt;/controltype&gt;\n      &lt;caption&gt;Snow&lt;/caption&gt;\n      &lt;attribute&gt;presentsnow&lt;/attribute&gt;\n      &lt;mustinherit&gt;weather_type&lt;/mustinherit&gt;\n    &lt;/control&gt; \n\n    &lt;control&gt;\n      &lt;controltype&gt;checkbox&lt;/controltype&gt;\n      &lt;caption&gt;Sleet&lt;/caption&gt;\n      &lt;attribute&gt;presentsleet&lt;/attribute&gt;\n      &lt;mustinherit&gt;weather_type&lt;/mustinherit&gt;\n    &lt;/control&gt; \n\n    &lt;control&gt;\n      &lt;controltype&gt;checkbox&lt;/controltype&gt;\n      &lt;caption&gt;Hail&lt;/caption&gt;\n      &lt;attribute&gt;presenthail&lt;/attribute&gt;\n      &lt;mustinherit&gt;weather_type&lt;/mustinherit&gt;\n    &lt;/control&gt; \n\n    &lt;control&gt;\n      &lt;controltype&gt;checkbox&lt;/controltype&gt;\n      &lt;caption&gt;Rainbow&lt;/caption&gt;\n      &lt;attribute&gt;presentrainbow&lt;/attribute&gt;\n      &lt;mustinherit&gt;weather_type&lt;/mustinherit&gt;\n    &lt;/control&gt; \n\n    &lt;control&gt;\n      &lt;controltype&gt;checkbox&lt;/controltype&gt;\n      &lt;caption&gt;Stars&lt;/caption&gt;\n      &lt;attribute&gt;presentstars&lt;/attribute&gt;\n      &lt;mustinherit&gt;weather_type&lt;/mustinherit&gt;\n    &lt;/control&gt; \n\n    &lt;control&gt;\n      &lt;controltype&gt;label&lt;/controltype&gt;\n      &lt;caption&gt;If the moon is present in your weather, choose a phase. The nighttime turnscript will set background color and lighting accordingly.&lt;/caption&gt;\n      &lt;mustinherit&gt;weather_type&lt;/mustinherit&gt;\n      &lt;onlydisplayif&gt;this.presentmoon&lt;/onlydisplayif&gt; \t  \n    &lt;/control&gt;\t\n\n    &lt;control&gt;\n      &lt;controltype&gt;checkbox&lt;/controltype&gt;\n      &lt;caption&gt;Moon Is Full&lt;/caption&gt;\n      &lt;attribute&gt;fullmoon&lt;/attribute&gt;\n      &lt;mustinherit&gt;weather_type&lt;/mustinherit&gt;\n      &lt;onlydisplayif&gt;this.presentmoon&lt;/onlydisplayif&gt; \t  \n    &lt;/control&gt;  \n\n    &lt;control&gt;\n      &lt;controltype&gt;checkbox&lt;/controltype&gt;\n      &lt;caption&gt;Blood Moon&lt;/caption&gt;\n      &lt;attribute&gt;bloodmoon&lt;/attribute&gt;\n      &lt;mustinherit&gt;weather_type&lt;/mustinherit&gt;\n      &lt;onlydisplayif&gt;this.presentmoon&lt;/onlydisplayif&gt; \n    &lt;/control&gt; \n\n    &lt;control&gt;\n      &lt;controltype&gt;checkbox&lt;/controltype&gt;\n      &lt;caption&gt;Moon Half Or More&lt;/caption&gt;\n      &lt;attribute&gt;gibbousmoon&lt;/attribute&gt;\n      &lt;mustinherit&gt;weather_type&lt;/mustinherit&gt;\n      &lt;onlydisplayif&gt;this.presentmoon&lt;/onlydisplayif&gt; \n    &lt;/control&gt;\n\n    &lt;control&gt;\n      &lt;controltype&gt;checkbox&lt;/controltype&gt;\n      &lt;caption&gt;Crescent Moon&lt;/caption&gt;\n      &lt;attribute&gt;crescentmoon&lt;/attribute&gt;\n      &lt;mustinherit&gt;weather_type&lt;/mustinherit&gt;\n      &lt;onlydisplayif&gt;this.presentmoon&lt;/onlydisplayif&gt; \n    &lt;/control&gt; \n\n    &lt;control&gt;\n      &lt;controltype&gt;checkbox&lt;/controltype&gt;\n      &lt;caption&gt;New Moon&lt;/caption&gt;\n      &lt;attribute&gt;newmoon&lt;/attribute&gt;\n      &lt;mustinherit&gt;weather_type&lt;/mustinherit&gt;\n      &lt;onlydisplayif&gt;this.presentmoon&lt;/onlydisplayif&gt; \n    &lt;/control&gt;\n\t\n    &lt;control&gt;\n      &lt;controltype&gt;label&lt;/controltype&gt;\n      &lt;caption&gt;Below are various descriptions which can be set for when the senses are used on elements of the weather. The first 3 are mandatory in the same way as the room alias.&lt;/caption&gt;\n      &lt;mustinherit&gt;weather_type&lt;/mustinherit&gt;\n    &lt;/control&gt;\t\n    \n    &lt;control&gt;\n      &lt;controltype&gt;script&lt;/controltype&gt;\n      &lt;caption&gt;Night Weather Description&lt;/caption&gt;\n      &lt;attribute&gt;nightweatherdesc&lt;/attribute&gt;\n      &lt;mustinherit&gt;weather_type&lt;/mustinherit&gt;\n    &lt;/control&gt;  \n    \n    &lt;control&gt;\n      &lt;controltype&gt;script&lt;/controltype&gt;\n      &lt;caption&gt;Look At Sky&lt;/caption&gt;\n      &lt;attribute&gt;look&lt;/attribute&gt;\n      &lt;mustinherit&gt;weather_type&lt;/mustinherit&gt;\n    &lt;/control&gt;    \n    \n\t&lt;control&gt;\n      &lt;controltype&gt;script&lt;/controltype&gt;\n      &lt;caption&gt;Look At Night Sky&lt;/caption&gt;\n      &lt;attribute&gt;nightlook&lt;/attribute&gt;\n      &lt;mustinherit&gt;weather_type&lt;/mustinherit&gt;\n    &lt;/control&gt;   \n\n    &lt;control&gt;\n      &lt;controltype&gt;script&lt;/controltype&gt;\n      &lt;caption&gt;Look At Sun&lt;/caption&gt;\n      &lt;attribute&gt;sundesc&lt;/attribute&gt;\n      &lt;mustinherit&gt;weather_type&lt;/mustinherit&gt;\n    &lt;/control&gt;    \n    \n\t&lt;control&gt;\n      &lt;controltype&gt;script&lt;/controltype&gt;\n      &lt;caption&gt;Feel Sun&lt;/caption&gt;\n      &lt;attribute&gt;feelsundesc&lt;/attribute&gt;\n      &lt;mustinherit&gt;weather_type&lt;/mustinherit&gt;\n    &lt;/control&gt;   \n\n    &lt;control&gt;\n      &lt;controltype&gt;script&lt;/controltype&gt;\n      &lt;caption&gt;Day Moon Description&lt;/caption&gt;\n      &lt;attribute&gt;daymoondesc&lt;/attribute&gt;\n      &lt;mustinherit&gt;weather_type&lt;/mustinherit&gt;\n      &lt;onlydisplayif&gt;this.presentmoon&lt;/onlydisplayif&gt; \n    &lt;/control&gt; \n\n    &lt;control&gt;\n      &lt;controltype&gt;script&lt;/controltype&gt;\n      &lt;caption&gt;Night Moon Description&lt;/caption&gt;\n      &lt;attribute&gt;nightmoondesc&lt;/attribute&gt;\n      &lt;mustinherit&gt;weather_type&lt;/mustinherit&gt;\n      &lt;onlydisplayif&gt;this.presentmoon&lt;/onlydisplayif&gt; \n    &lt;/control&gt; \n\t\n    &lt;control&gt;\n      &lt;controltype&gt;script&lt;/controltype&gt;\n      &lt;caption&gt;Night Clouds Description&lt;/caption&gt;\n      &lt;attribute&gt;nightcloudsdesc&lt;/attribute&gt;\n      &lt;mustinherit&gt;weather_type&lt;/mustinherit&gt;\n      &lt;onlydisplayif&gt;this.presentclouds&lt;/onlydisplayif&gt; \t\n    &lt;/control&gt; \n\n    &lt;control&gt;\n      &lt;controltype&gt;script&lt;/controltype&gt;\n      &lt;caption&gt;Day Clouds Description&lt;/caption&gt;\n      &lt;attribute&gt;daycloudsdesc&lt;/attribute&gt;\n      &lt;mustinherit&gt;weather_type&lt;/mustinherit&gt;\n      &lt;onlydisplayif&gt;this.presentclouds&lt;/onlydisplayif&gt; \t\n    &lt;/control&gt; \n\n    &lt;control&gt;\n      &lt;controltype&gt;number&lt;/controltype&gt;\n      &lt;caption&gt;Rain amount&lt;/caption&gt;\n      &lt;attribute&gt;rain&lt;/attribute&gt;\n      &lt;mustinherit&gt;weather_type&lt;/mustinherit&gt;\n      &lt;onlydisplayif&gt;this.presentrain&lt;/onlydisplayif&gt; \t\n    &lt;/control&gt;\n\n    &lt;control&gt;\n      &lt;controltype&gt;script&lt;/controltype&gt;\n      &lt;caption&gt;Night Rain Description&lt;/caption&gt;\n      &lt;attribute&gt;nightraindesc&lt;/attribute&gt;\n      &lt;mustinherit&gt;weather_type&lt;/mustinherit&gt;\n      &lt;onlydisplayif&gt;this.presentrain&lt;/onlydisplayif&gt; \t\n    &lt;/control&gt; \n\n    &lt;control&gt;\n      &lt;controltype&gt;script&lt;/controltype&gt;\n      &lt;caption&gt;Day Rain Description&lt;/caption&gt;\n      &lt;attribute&gt;dayraindesc&lt;/attribute&gt;\n      &lt;mustinherit&gt;weather_type&lt;/mustinherit&gt;\n      &lt;onlydisplayif&gt;this.presentrain&lt;/onlydisplayif&gt; \t\n    &lt;/control&gt; \n\n    &lt;control&gt;\n      &lt;controltype&gt;script&lt;/controltype&gt;\n      &lt;caption&gt;Rain Feel Description&lt;/caption&gt;\n      &lt;attribute&gt;raintouchdesc&lt;/attribute&gt;\n      &lt;mustinherit&gt;weather_type&lt;/mustinherit&gt;\n      &lt;onlydisplayif&gt;this.presentrain&lt;/onlydisplayif&gt; \t\n    &lt;/control&gt; \n\n    &lt;control&gt;\n      &lt;controltype&gt;script&lt;/controltype&gt;\n      &lt;caption&gt;Rain Smell Description&lt;/caption&gt;\n      &lt;attribute&gt;rainsmell&lt;/attribute&gt;\n      &lt;mustinherit&gt;weather_type&lt;/mustinherit&gt;\n      &lt;onlydisplayif&gt;this.presentrain&lt;/onlydisplayif&gt; \t\n    &lt;/control&gt; \n\n    &lt;control&gt;\n      &lt;controltype&gt;script&lt;/controltype&gt;\n      &lt;caption&gt;Rain Sound Description&lt;/caption&gt;\n      &lt;attribute&gt;listenraindesc&lt;/attribute&gt;\n      &lt;mustinherit&gt;weather_type&lt;/mustinherit&gt;\n      &lt;onlydisplayif&gt;this.presentrain&lt;/onlydisplayif&gt; \t\n    &lt;/control&gt; \n\n    &lt;control&gt;\n      &lt;controltype&gt;script&lt;/controltype&gt;\n      &lt;caption&gt;Night Lightning Description&lt;/caption&gt;\n      &lt;attribute&gt;nightlightningsdesc&lt;/attribute&gt;\n      &lt;mustinherit&gt;weather_type&lt;/mustinherit&gt;\n      &lt;onlydisplayif&gt;this.presentlightning&lt;/onlydisplayif&gt; \t\n    &lt;/control&gt; \n\n    &lt;control&gt;\n      &lt;controltype&gt;script&lt;/controltype&gt;\n      &lt;caption&gt;Day Lightning Description&lt;/caption&gt;\n      &lt;attribute&gt;daylightningsdesc&lt;/attribute&gt;\n      &lt;mustinherit&gt;weather_type&lt;/mustinherit&gt;\n      &lt;onlydisplayif&gt;this.presentlightning&lt;/onlydisplayif&gt; \t\n    &lt;/control&gt; \n\n    &lt;control&gt;\n      &lt;controltype&gt;script&lt;/controltype&gt;\n      &lt;caption&gt;Thunder Listen Description&lt;/caption&gt;\n      &lt;attribute&gt;listenthundesc&lt;/attribute&gt;\n      &lt;mustinherit&gt;weather_type&lt;/mustinherit&gt;\n      &lt;onlydisplayif&gt;this.presentlightning&lt;/onlydisplayif&gt; \t\n    &lt;/control&gt; \n\n    &lt;control&gt;\n      &lt;controltype&gt;script&lt;/controltype&gt;\n      &lt;caption&gt;Look Wind&lt;/caption&gt;\n      &lt;attribute&gt;lookwindesc&lt;/attribute&gt;\n      &lt;mustinherit&gt;weather_type&lt;/mustinherit&gt;\n      &lt;onlydisplayif&gt;this.presentwind&lt;/onlydisplayif&gt; \t\n    &lt;/control&gt;  \n\n    &lt;control&gt;\n      &lt;controltype&gt;script&lt;/controltype&gt;\n      &lt;caption&gt;Smell Wind&lt;/caption&gt;\n      &lt;attribute&gt;smellbreezedesc&lt;/attribute&gt;\n      &lt;mustinherit&gt;weather_type&lt;/mustinherit&gt;\n      &lt;onlydisplayif&gt;this.presentwind&lt;/onlydisplayif&gt; \t\n    &lt;/control&gt; \n\n    &lt;control&gt;\n      &lt;controltype&gt;script&lt;/controltype&gt;\n      &lt;caption&gt;Listen Wind&lt;/caption&gt;\n      &lt;attribute&gt;listenwindesc&lt;/attribute&gt;\n      &lt;mustinherit&gt;weather_type&lt;/mustinherit&gt;\n      &lt;onlydisplayif&gt;this.presentwind&lt;/onlydisplayif&gt; \t\n    &lt;/control&gt; \n\n    &lt;control&gt;\n      &lt;controltype&gt;script&lt;/controltype&gt;\n      &lt;caption&gt;Feel Wind&lt;/caption&gt;\n      &lt;attribute&gt;feelwindesc&lt;/attribute&gt;\n      &lt;mustinherit&gt;weather_type&lt;/mustinherit&gt;\n      &lt;onlydisplayif&gt;this.presentwind&lt;/onlydisplayif&gt; \t\n    &lt;/control&gt; \n\n    &lt;control&gt;\n      &lt;controltype&gt;script&lt;/controltype&gt;\n      &lt;caption&gt;Look Snow&lt;/caption&gt;\n      &lt;attribute&gt;looksnowdesc&lt;/attribute&gt;\n      &lt;mustinherit&gt;weather_type&lt;/mustinherit&gt;\n      &lt;onlydisplayif&gt;this.presentsnow&lt;/onlydisplayif&gt; \t\n    &lt;/control&gt; \n\n    &lt;control&gt;\n      &lt;controltype&gt;script&lt;/controltype&gt;\n      &lt;caption&gt;Listen Snow&lt;/caption&gt;\n      &lt;attribute&gt;listensnowdesc&lt;/attribute&gt;\n      &lt;mustinherit&gt;weather_type&lt;/mustinherit&gt;\n      &lt;onlydisplayif&gt;this.presentsnow&lt;/onlydisplayif&gt; \t\n    &lt;/control&gt; \n\n    &lt;control&gt;\n      &lt;controltype&gt;script&lt;/controltype&gt;\n      &lt;caption&gt;Feel Snow&lt;/caption&gt;\n      &lt;attribute&gt;feelsnowdesc&lt;/attribute&gt;\n      &lt;mustinherit&gt;weather_type&lt;/mustinherit&gt;\n      &lt;onlydisplayif&gt;this.presentsnow&lt;/onlydisplayif&gt; \t\n    &lt;/control&gt; \n\n    &lt;control&gt;\n      &lt;controltype&gt;script&lt;/controltype&gt;\n      &lt;caption&gt;Taste Snow&lt;/caption&gt;\n      &lt;attribute&gt;tastesnowdesc&lt;/attribute&gt;\n      &lt;mustinherit&gt;weather_type&lt;/mustinherit&gt;\n      &lt;onlydisplayif&gt;this.presentsnow&lt;/onlydisplayif&gt; \t\n    &lt;/control&gt; \n\n    &lt;control&gt;\n      &lt;controltype&gt;script&lt;/controltype&gt;\n      &lt;caption&gt;Look Sleet&lt;/caption&gt;\n      &lt;attribute&gt;looksleetdesc&lt;/attribute&gt;\n      &lt;mustinherit&gt;weather_type&lt;/mustinherit&gt;\n      &lt;onlydisplayif&gt;this.presentsleet&lt;/onlydisplayif&gt; \t\n    &lt;/control&gt; \n\n    &lt;control&gt;\n      &lt;controltype&gt;script&lt;/controltype&gt;\n      &lt;caption&gt;Listen Sleet&lt;/caption&gt;\n      &lt;attribute&gt;listensleetdesc&lt;/attribute&gt;\n      &lt;mustinherit&gt;weather_type&lt;/mustinherit&gt;\n      &lt;onlydisplayif&gt;this.presentsleet&lt;/onlydisplayif&gt; \t\n    &lt;/control&gt; \n\n    &lt;control&gt;\n      &lt;controltype&gt;script&lt;/controltype&gt;\n      &lt;caption&gt;Feel Sleet&lt;/caption&gt;\n      &lt;attribute&gt;sleettouch&lt;/attribute&gt;\n      &lt;mustinherit&gt;weather_type&lt;/mustinherit&gt;\n      &lt;onlydisplayif&gt;this.presentsleet&lt;/onlydisplayif&gt; \t\n    &lt;/control&gt; \n\n    &lt;control&gt;\n      &lt;controltype&gt;script&lt;/controltype&gt;\n      &lt;caption&gt;Taste Sleet&lt;/caption&gt;\n      &lt;attribute&gt;sleettaste&lt;/attribute&gt;\n      &lt;mustinherit&gt;weather_type&lt;/mustinherit&gt;\n      &lt;onlydisplayif&gt;this.presentsleet&lt;/onlydisplayif&gt; \t\n    &lt;/control&gt;    \n    \n\t&lt;control&gt;\n      &lt;controltype&gt;script&lt;/controltype&gt;\n      &lt;caption&gt;Look Hail&lt;/caption&gt;\n      &lt;attribute&gt;lookhaildesc&lt;/attribute&gt;\n      &lt;mustinherit&gt;weather_type&lt;/mustinherit&gt;\n      &lt;onlydisplayif&gt;this.presenthail&lt;/onlydisplayif&gt; \t\n    &lt;/control&gt;   \n\n    &lt;control&gt;\n      &lt;controltype&gt;script&lt;/controltype&gt;\n      &lt;caption&gt;Listen Hail&lt;/caption&gt;\n      &lt;attribute&gt;listenhail&lt;/attribute&gt;\n      &lt;mustinherit&gt;weather_type&lt;/mustinherit&gt;\n      &lt;onlydisplayif&gt;this.presenthail&lt;/onlydisplayif&gt; \t\n    &lt;/control&gt;  \n\n    &lt;control&gt;\n      &lt;controltype&gt;script&lt;/controltype&gt;\n      &lt;caption&gt;Feel Hail&lt;/caption&gt;\n      &lt;attribute&gt;hailfeel&lt;/attribute&gt;\n      &lt;mustinherit&gt;weather_type&lt;/mustinherit&gt;\n      &lt;onlydisplayif&gt;this.presenthail&lt;/onlydisplayif&gt; \t\n    &lt;/control&gt; \n\n    &lt;control&gt;\n      &lt;controltype&gt;script&lt;/controltype&gt;\n      &lt;caption&gt;Look Rainbow&lt;/caption&gt;\n      &lt;attribute&gt;lookrainbowdesc&lt;/attribute&gt;\n      &lt;mustinherit&gt;weather_type&lt;/mustinherit&gt;\n      &lt;onlydisplayif&gt;this.presentrainbow&lt;/onlydisplayif&gt; \t\n    &lt;/control&gt; \n\n    &lt;control&gt;\n      &lt;controltype&gt;script&lt;/controltype&gt;\n      &lt;caption&gt;Taste Rainbow&lt;/caption&gt;\n      &lt;attribute&gt;rainbowtastedesc&lt;/attribute&gt;\n      &lt;mustinherit&gt;weather_type&lt;/mustinherit&gt;\n      &lt;onlydisplayif&gt;this.presentrainbow&lt;/onlydisplayif&gt; \t\n    &lt;/control&gt; \n\n    &lt;control&gt;\n      &lt;controltype&gt;script&lt;/controltype&gt;\n      &lt;caption&gt;Look Stars&lt;/caption&gt;\n      &lt;attribute&gt;starsdesc&lt;/attribute&gt;\n      &lt;mustinherit&gt;weather_type&lt;/mustinherit&gt;\n      &lt;onlydisplayif&gt;this.presentstars&lt;/onlydisplayif&gt; \t\n    &lt;/control&gt; \n  &lt;/tab&gt;\n  \n  \n&lt;/library&gt;\n</code></pre>\n\n",
      "PostDate": "2023-09-18T17:47:23.033541Z",
      "LastEditDate": null,
      "link": null
    }
  ]
}
