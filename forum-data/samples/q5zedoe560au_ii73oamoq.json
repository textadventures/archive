{
  "Topic": {
    "TopicId": "q5zedoe560au_ii73oamoq",
    "ForumId": "18",
    "Title": "Adding graphics in a specific location (GUI) (SOLVED)",
    "LastUpdated": "2018-04-04T14:00:44.9205118Z",
    "ReplyCount": 0
  },
  "Posts": [
    {
      "PostId": "b4030c12-4112-4cc5-8770-0c70c7317ef6",
      "UserId": 348994,
      "Username": "CheeseMyBaby",
      "AvatarUrl": "https://i.imgur.com/c5nBbAgb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Today I created 3d models of the first three rooms in my game...\r\n\r\nMain character's living room: \r\n<img src=\"http://www.rockstrom.com/bro/livingroom.jpg\" width=50% height=50%>\r\n\r\n\r\n... and I've been playing around with how to implement them into the game.\r\nI've decided what I want to do (and of course it's something I have no idea how to, or if it's actually possible?).\r\n\r\n<font size=5>Is it possible to show a picture <s>under</s> over the inventory pane? \r\nUsing the same width as the other panes?</font>\r\n(sorry for reusing an old screenie, I CBA to make a new one)\r\n<small><sup><font color=gray>It would be super extra mega cool if I could put the picture inside a fancy pane with rounded corners, like the \"status\" or \"inventory\"... but I'm afraid to even ask.</sup></small></font>\r\n<img src=\"http://whywelovemusic.com/quest/anx.png\">\r\n\r\n\r\n\r\n\r\n\r\n<b>Edit:\r\nSomething like this? Possible, yes?</b>\r\n<img src=\"http://rockstrom.com/bro/example.jpg\">\r\n\r\n",
      "EditableFormat": "markdown",
      "HTML": "<p>Today I created 3d models of the first three rooms in my game...</p>\n<p>Main character's living room:<br>\n<img src=\"http://www.rockstrom.com/bro/livingroom.jpg\" width=\"50%\" height=\"50%\"></p>\n<p>... and I've been playing around with how to implement them into the game.<br>\nI've decided what I want to do (and of course it's something I have no idea how to, or if it's actually possible?).</p>\n<p><font size=\"5\">Is it possible to show a picture <s>under</s> over the inventory pane?<br>\nUsing the same width as the other panes?</font><br>\n(sorry for reusing an old screenie, I CBA to make a new one)<br>\n<small><sup><font color=\"gray\">It would be super extra mega cool if I could put the picture inside a fancy pane with rounded corners, like the \"status\" or \"inventory\"... but I'm afraid to even ask.</font></sup></small><br>\n<img src=\"http://whywelovemusic.com/quest/anx.png\"></p>\n<p><b>Edit:<br>\nSomething like this? Possible, yes?</b><br>\n<img src=\"http://rockstrom.com/bro/example.jpg\"></p>\n\n",
      "PostDate": "2018-04-04T14:00:44.9205118Z",
      "LastEditDate": "2018-04-04T20:21:19.3026221Z",
      "link": null
    },
    {
      "PostId": "0ae44e23-2df4-4106-812f-604a12cc1f8c",
      "UserId": 277074,
      "Username": "Dcoder",
      "AvatarUrl": "http://i.imgur.com/d9UrZ6lb.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "I was also interested in this question.  I wanted to have a map and picture frame in the same game.  I guess you could add an image to the custom status pane (even though you're already using it), but that's an inelegant solution.  Javascript anyone?",
      "EditableFormat": "markdown",
      "HTML": "<p>I was also interested in this question.  I wanted to have a map and picture frame in the same game.  I guess you could add an image to the custom status pane (even though you're already using it), but that's an inelegant solution.  Javascript anyone?</p>\n\n",
      "PostDate": "2018-04-04T15:49:31.1131583Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "e0e72c22-e487-4725-8877-104f40b1564f",
      "UserId": 318253,
      "Username": "K.V.",
      "AvatarUrl": "https://i.imgur.com/mBf7TBeb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "If you want this to be there when a new or saved game loads, add this to your room's \"Before entering room\" script:\r\n```\r\nmsg (\"<img id='pane-pic1' style='display:none;' src='http://whywelovemusic.com/quest/anx.png' />\")\r\nJS.eval(\"$('#pane-pic1').insertBefore($('#inventoryLabel')).show().width('100%');\")\r\n```\r\n<a href=\"https://user-images.githubusercontent.com/30656341/38321159-5cc3bfde-37fc-11e8-8547-74f0866ed969.png\"><img src=\"https://user-images.githubusercontent.com/30656341/38321159-5cc3bfde-37fc-11e8-8547-74f0866ed969.png\" width=\"50%\"/></a>\r\n\r\n---\r\n### If you want to get fancy...\r\n\r\nYou could PUFF it in (there are other animations, too):\r\n```\r\nSetTimeout(2){\r\n  msg (\"<img id='pane-pic1' style='display:none;' src='http://whywelovemusic.com/quest/anx.png' />\")\r\n  JS.eval (\"$('#pane-pic1').insertBefore($('#inventoryLabel')).width('100%').toggle('puff');\")\r\n}\r\n```\r\n<a href=\"https://user-images.githubusercontent.com/30656341/38321447-55ffc836-37fd-11e8-95e2-f8d61f3d31a1.gif\" title=\"View original image\"><img width=\"50%\" src=\"https://user-images.githubusercontent.com/30656341/38321447-55ffc836-37fd-11e8-95e2-f8d61f3d31a1.gif\" /></a>",
      "EditableFormat": "markdown",
      "HTML": "<p>If you want this to be there when a new or saved game loads, add this to your room's \"Before entering room\" script:</p>\n<pre><code>msg (\"&lt;img id='pane-pic1' style='display:none;' src='http://whywelovemusic.com/quest/anx.png' /&gt;\")\nJS.eval(\"$('#pane-pic1').insertBefore($('#inventoryLabel')).show().width('100%');\")\n</code></pre>\n<p><a href=\"https://user-images.githubusercontent.com/30656341/38321159-5cc3bfde-37fc-11e8-8547-74f0866ed969.png\"><img src=\"https://user-images.githubusercontent.com/30656341/38321159-5cc3bfde-37fc-11e8-8547-74f0866ed969.png\" width=\"50%\"></a></p>\n<hr>\n<h3>If you want to get fancy...</h3>\n<p>You could PUFF it in (there are other animations, too):</p>\n<pre><code>SetTimeout(2){\n  msg (\"&lt;img id='pane-pic1' style='display:none;' src='http://whywelovemusic.com/quest/anx.png' /&gt;\")\n  JS.eval (\"$('#pane-pic1').insertBefore($('#inventoryLabel')).width('100%').toggle('puff');\")\n}\n</code></pre>\n<p><a href=\"https://user-images.githubusercontent.com/30656341/38321447-55ffc836-37fd-11e8-95e2-f8d61f3d31a1.gif\" title=\"View original image\"><img width=\"50%\" src=\"https://user-images.githubusercontent.com/30656341/38321447-55ffc836-37fd-11e8-95e2-f8d61f3d31a1.gif\"></a></p>\n\n",
      "PostDate": "2018-04-04T16:33:53.4565385Z",
      "LastEditDate": "2018-04-04T17:01:28.2835188Z",
      "link": null
    },
    {
      "PostId": "a6850238-d1c0-4679-9f44-1004f943a5fa",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "I think I got this.\r\n\r\nNo internet here, so I'm on my mobile again and can't easily test (but can look through the source still)\r\n\r\n```\r\n(function () {\r\n  $('<h3 id=\"pictureLabel\" class=\"ui-accordion-header ui-helper-reset ui-state-active ui-corner-top\"><span class=\"ui-icon ui-icon-triangle-1-s\"></span><span class=\"accordion-header-text\">Picture</span></h3><div id=\"pictureAccordion\" class=\"ui-accordion-content-active ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom\"></div>').insertBefore(\"#inventoryLabel\");\r\n  var picturediv = $(\"#pictureAccordion\");\r\n  setPanelHeight = function() {\r\n    $(\"#gamePanel\").hide();\r\n    $(\"#gamePanelSpacer\").hide();\r\n    picturediv.empty();\r\n    var h = 0;\r\n    $(\"#gamePanel img\").each(function (i) {\r\n      $(this).appendTo(picturediv);\r\n      $(this).css(\"width\", \"100%\");\r\n      h += $(this).outerHeight() + 2;\r\n    });\r\n    picturediv.animate({height: h}, 100);\r\n  };\r\n})();\r\n```\r\nIf I got it right, that should cause the image specified by the room's `picture` property to load in a pane above the inventory pane, instead of in the standard location.\r\n\r\nI also figured out a way to get it so that when you move from one room with a picture to another, the old one scrolls out and the new one comes in, in a direction determined by the compass direction. But that's a little silly, and quite a lot of code :p",
      "EditableFormat": "markdown",
      "HTML": "<p>I think I got this.</p>\n<p>No internet here, so I'm on my mobile again and can't easily test (but can look through the source still)</p>\n<pre><code>(function () {\n  $('&lt;h3 id=\"pictureLabel\" class=\"ui-accordion-header ui-helper-reset ui-state-active ui-corner-top\"&gt;&lt;span class=\"ui-icon ui-icon-triangle-1-s\"&gt;&lt;/span&gt;&lt;span class=\"accordion-header-text\"&gt;Picture&lt;/span&gt;&lt;/h3&gt;&lt;div id=\"pictureAccordion\" class=\"ui-accordion-content-active ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom\"&gt;&lt;/div&gt;').insertBefore(\"#inventoryLabel\");\n  var picturediv = $(\"#pictureAccordion\");\n  setPanelHeight = function() {\n    $(\"#gamePanel\").hide();\n    $(\"#gamePanelSpacer\").hide();\n    picturediv.empty();\n    var h = 0;\n    $(\"#gamePanel img\").each(function (i) {\n      $(this).appendTo(picturediv);\n      $(this).css(\"width\", \"100%\");\n      h += $(this).outerHeight() + 2;\n    });\n    picturediv.animate({height: h}, 100);\n  };\n})();\n</code></pre>\n<p>If I got it right, that should cause the image specified by the room's <code>picture</code> property to load in a pane above the inventory pane, instead of in the standard location.</p>\n<p>I also figured out a way to get it so that when you move from one room with a picture to another, the old one scrolls out and the new one comes in, in a direction determined by the compass direction. But that's a little silly, and quite a lot of code :p</p>\n\n",
      "PostDate": "2018-04-04T16:50:09.6046298Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "2a916e58-175c-4372-a84d-a1d2934aca8a",
      "UserId": 318253,
      "Username": "K.V.",
      "AvatarUrl": "https://i.imgur.com/mBf7TBeb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "> I also figured out a way to get it so that when you move from one room with a picture to another, the old one scrolls out and the new one comes in, in a direction determined by the compass direction. But that's a little silly, and quite a lot of code\r\n\r\nThat is cool.  It may be silly, too, but so be it.",
      "EditableFormat": "markdown",
      "HTML": "<blockquote>\n<p>I also figured out a way to get it so that when you move from one room with a picture to another, the old one scrolls out and the new one comes in, in a direction determined by the compass direction. But that's a little silly, and quite a lot of code</p>\n</blockquote>\n<p>That is cool.  It may be silly, too, but so be it.</p>\n\n",
      "PostDate": "2018-04-04T16:59:08.3757349Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "a6a3a23e-ff4b-4ce0-b8db-281ce9020203",
      "UserId": 348994,
      "Username": "CheeseMyBaby",
      "AvatarUrl": "https://i.imgur.com/c5nBbAgb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Wow, I really though it would be a super difficult task and you did it in 2 lines of code K.V.! Thanks a <b>bunch</b>!!!!1!!!11\r\n\r\nOn another note:\r\nOn the subway ride home I checked the forum and noticed that highly annoying hotlink picture above...  do you still see those (i tried to alter the .htacess file on my web space from my phone) or can you see the actual pictures now?\r\n\r\nAgain; super thanks to all of you for your quick replies!",
      "EditableFormat": "markdown",
      "HTML": "<p>Wow, I really though it would be a super difficult task and you did it in 2 lines of code K.V.! Thanks a <b>bunch</b>!!!!1!!!11</p>\n<p>On another note:<br>\nOn the subway ride home I checked the forum and noticed that highly annoying hotlink picture above...  do you still see those (i tried to alter the .htacess file on my web space from my phone) or can you see the actual pictures now?</p>\n<p>Again; super thanks to all of you for your quick replies!</p>\n\n",
      "PostDate": "2018-04-04T17:26:53.165419Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "7aa42cfb-c87c-4888-a19a-e07ed6478d6e",
      "UserId": 348994,
      "Username": "CheeseMyBaby",
      "AvatarUrl": "https://i.imgur.com/c5nBbAgb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Again, thanks K.V.!!\r\nIt works perfectly!\r\n<img src=\"http://whywelovemusic.com/quest/thxkv.png\">\r\n",
      "EditableFormat": "markdown",
      "HTML": "<p>Again, thanks K.V.!!<br>\nIt works perfectly!<br>\n<img src=\"http://whywelovemusic.com/quest/thxkv.png\"></p>\n\n",
      "PostDate": "2018-04-04T17:39:43.6975174Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "edb95758-42b4-442c-b4f0-7cbc6824a448",
      "UserId": 318253,
      "Username": "K.V.",
      "AvatarUrl": "https://i.imgur.com/mBf7TBeb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "To change the picture:\r\n\r\n```\r\nJS.eval(\"$('#pane-pic1').attr('src', 'https://i.imgur.com/mBf7TBeb.png');\")\r\n```\r\n\r\nTo remove an image completely:\r\n```\r\nJS.eval(\"$('#pane-pic1').remove();\")\r\n```",
      "EditableFormat": "markdown",
      "HTML": "<p>To change the picture:</p>\n<pre><code>JS.eval(\"$('#pane-pic1').attr('src', 'https://i.imgur.com/mBf7TBeb.png');\")\n</code></pre>\n<p>To remove an image completely:</p>\n<pre><code>JS.eval(\"$('#pane-pic1').remove();\")\n</code></pre>\n\n",
      "PostDate": "2018-04-04T20:04:44.1773014Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "2c520813-ea2d-4254-9354-2e27423a4dc7",
      "UserId": 348994,
      "Username": "CheeseMyBaby",
      "AvatarUrl": "https://i.imgur.com/c5nBbAgb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Ah yes. Exactly what I needed!\r\n\r\nSoon you need to start charging me by the hour. Or by the line of code :)\r\n\r\nThank you K.V.!",
      "EditableFormat": "markdown",
      "HTML": "<p>Ah yes. Exactly what I needed!</p>\n<p>Soon you need to start charging me by the hour. Or by the line of code :)</p>\n<p>Thank you K.V.!</p>\n\n",
      "PostDate": "2018-04-04T20:16:16.4055382Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "d244e5e1-579e-422a-99db-7ac7867b2144",
      "UserId": 318253,
      "Username": "K.V.",
      "AvatarUrl": "https://i.imgur.com/mBf7TBeb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "To round the edges:\r\n\r\n```\r\nJS.eval(\"$('#pane-pic1').css('border-radius','5px');\")\r\n```",
      "EditableFormat": "markdown",
      "HTML": "<p>To round the edges:</p>\n<pre><code>JS.eval(\"$('#pane-pic1').css('border-radius','5px');\")\n</code></pre>\n\n",
      "PostDate": "2018-04-04T20:20:50.0507199Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "d771ee0a-813a-4bbb-b4ef-8fcef8558fc2",
      "UserId": 348994,
      "Username": "CheeseMyBaby",
      "AvatarUrl": "https://i.imgur.com/c5nBbAgb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "It's looking great!!\r\n",
      "EditableFormat": "markdown",
      "HTML": "<p>It's looking great!!</p>\n\n",
      "PostDate": "2018-04-04T20:26:03.0955776Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "e10746bb-8141-40e8-8dee-1d2bb345ea66",
      "UserId": 277074,
      "Username": "Dcoder",
      "AvatarUrl": "http://i.imgur.com/d9UrZ6lb.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Impressive KV!  I played around with it in my game and it's working great.  Now I can display both a map and room picture.  Thank you!\r\n\r\nI don't get how simple it was to create the additional pane just by giving it an ID and printing it?  That was too easy!  It's also strange how the print script has to precede the JS.eval script.",
      "EditableFormat": "markdown",
      "HTML": "<p>Impressive KV!  I played around with it in my game and it's working great.  Now I can display both a map and room picture.  Thank you!</p>\n<p>I don't get how simple it was to create the additional pane just by giving it an ID and printing it?  That was too easy!  It's also strange how the print script has to precede the JS.eval script.</p>\n\n",
      "PostDate": "2018-04-05T03:36:03.1180874Z",
      "LastEditDate": "2018-04-05T03:41:41.0232499Z",
      "link": null
    },
    {
      "PostId": "06f94c7e-5202-49ba-8a95-67bb1e33ccc3",
      "UserId": 277074,
      "Username": "Dcoder",
      "AvatarUrl": "http://i.imgur.com/d9UrZ6lb.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "I have a different room picture in each room.  But when traveling quickly from one room to the next, the changing room pictures and their differing heights cause the compass to bounce up and down.  To remedy this, I added a couple of CSS properties to the end of KV's original second line:\r\n```\r\nJS.eval(\"$('#pane-pic1').insertBefore($('#inventoryLabel')).show().width('100%').css({'min-height': '150px', 'max-height': '150px'});\")\r\n```\r\nThat sets the minimum and maximum heights of the room pic to the same absolute value of 150px or whatever you like.",
      "EditableFormat": "markdown",
      "HTML": "<p>I have a different room picture in each room.  But when traveling quickly from one room to the next, the changing room pictures and their differing heights cause the compass to bounce up and down.  To remedy this, I added a couple of CSS properties to the end of KV's original second line:</p>\n<pre><code>JS.eval(\"$('#pane-pic1').insertBefore($('#inventoryLabel')).show().width('100%').css({'min-height': '150px', 'max-height': '150px'});\")\n</code></pre>\n<p>That sets the minimum and maximum heights of the room pic to the same absolute value of 150px or whatever you like.</p>\n\n",
      "PostDate": "2018-04-05T06:54:59.3809667Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "bbbff4fc-62ca-45c7-8387-09dccb964653",
      "UserId": 348994,
      "Username": "CheeseMyBaby",
      "AvatarUrl": "https://i.imgur.com/c5nBbAgb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "@mrangel\r\nI haven't looked into your way of doing it yet but I do appreciate you taking the time  and I'll check it out in a bit. Thanks for replying!\r\n\r\n\r\n@Dcoder\r\nI haven't had any problems like that but if it happens, I now know how to solve it. Thanks!",
      "EditableFormat": "markdown",
      "HTML": "<p>@mrangel<br>\nI haven't looked into your way of doing it yet but I do appreciate you taking the time  and I'll check it out in a bit. Thanks for replying!</p>\n<p>@Dcoder<br>\nI haven't had any problems like that but if it happens, I now know how to solve it. Thanks!</p>\n\n",
      "PostDate": "2018-04-05T07:44:26.2789977Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "7e5387a3-563e-43c1-a667-8982545fb887",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "My version is pretty much the same as KV's I think; except instead of printing a new `<img/>` tag I took the one already used by the \"room picture\" system and moved it into the sidebar. Looking at it now, that code could have been a whole lot cleaner. (I also have no idea if it works; I was on my phone when I wrote it, so had to just skim-read the relevant bits of playercore.js and then write code off the top of my head)\r\n\r\n@Dcoder\r\n>  Now I can display both a map and room picture.\r\n\r\nAnd now you've got me thinking that it shouldn't be that hard to move the picture *and* the map into sidebar panes, and let the player \"maximise\" whichever they want back up to usual size.",
      "EditableFormat": "markdown",
      "HTML": "<p>My version is pretty much the same as KV's I think; except instead of printing a new <code>&lt;img/&gt;</code> tag I took the one already used by the \"room picture\" system and moved it into the sidebar. Looking at it now, that code could have been a whole lot cleaner. (I also have no idea if it works; I was on my phone when I wrote it, so had to just skim-read the relevant bits of playercore.js and then write code off the top of my head)</p>\n<p>@Dcoder</p>\n<blockquote>\n<p>Now I can display both a map and room picture.</p>\n</blockquote>\n<p>And now you've got me thinking that it shouldn't be that hard to move the picture <em>and</em> the map into sidebar panes, and let the player \"maximise\" whichever they want back up to usual size.</p>\n\n",
      "PostDate": "2018-04-05T09:43:57.6157338Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "96307a0a-83a4-42a5-9034-4f2bdcbc3f9d",
      "UserId": 348994,
      "Username": "CheeseMyBaby",
      "AvatarUrl": "https://i.imgur.com/c5nBbAgb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "> And now you've got me thinking that it shouldn't be that hard to move the picture and the map into sidebar panes, and let the\r\n player \"maximise\" whichever they want back up to usual size.\r\n\r\n\r\nThat would be extremely useful!",
      "EditableFormat": "markdown",
      "HTML": "<blockquote>\n<p>And now you've got me thinking that it shouldn't be that hard to move the picture and the map into sidebar panes, and let the<br>\nplayer \"maximise\" whichever they want back up to usual size.</p>\n</blockquote>\n<p>That would be extremely useful!</p>\n\n",
      "PostDate": "2018-04-05T11:45:31.1948242Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "b63a28db-c67d-4918-8ef5-dbf53df6326f",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "> That would be extremely useful!\r\n\r\nHere's a step in the right direction:\r\n\r\n<details>\r\n<summary>Hidden: Various things I tried which may be useful to other people</summary>\r\n\r\n```\r\n$('<h3 id=\"mapLabel\" class=\"ui-accordion-header ui-helper-reset ui-state-active ui-corner-top\"><span class=\"ui-icon ui-icon-triangle-1-s\"></span><span class=\"accordion-header-text\">Map</span></h3><div id=\"mapAccordion\" class=\"ui-accordion-content-active ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom\"></div>').insertBefore(\"#inventoryLabel\");\r\nvar size = $(\"#mapAccordion\").innerWidth();\r\n$(\"#gridCanvas\").width(size).height(size).appendTo(\"#mapAccordion\");\r\npaper.view.viewSize.width = size;\r\npaper.view.viewSize.height = size;\r\n$(\"#gridPanel\").hide();\r\n```\r\nTried out in the browser's javascript console (as none of my test games have the map enabled), it moves the map of a functional game into the sidebar, and everything seems to work fine.\r\n\r\nNOTE: The map pane looks like the other panes, but can't be expanded/collapsed. That's because multiOpenAccordion doesn't allow you to add panes once it's been created.\r\n\r\nNormally you'd unregister the accordion widget and create it again, but this doesn't work due to a known bug in the MultiOpenAccordion UI widget, which a fix has been submitted for but not yet accepted. This is from the widget's bugtracker; I haven't actually tested it. In `quest-5.7.2/Prototypes/jsrunner/ui/jquery.multi-open-accordion-1.5.3.js` line 83, `destroy` should be `_destroy`. If that works, you could then do:\r\n```\r\n$(\"#gamePanesRunning\").multiOpenAccordion(\"destroy\");\r\n$('<h3 id=\"mapLabel\"><span>Map</span></h3><div id=\"mapAccordion\"></div>').insertBefore(\"#inventoryLabel\");\r\nvar size = $(\"#mapAccordion\").innerWidth();\r\n$(\"#gridCanvas\").width(size).height(size).appendTo(\"#mapAccordion\");\r\npaper.view.viewSize.width = size;\r\npaper.view.viewSize.height = size;\r\n$(\"#gridPanel\").hide();\r\n$(\"#gamePanesRunning\").multiOpenAccordion();\r\n```\r\n...\r\n\r\nI'm trying to find a workaround for this book, but it's being a bit flaky.\r\n</details>\r\n<br/>Finally, the code you were looking for:\r\n\r\nIt *works*, but…\r\n\r\n```\r\n$('<h3 id=\"mapLabel\" class=\"ui-accordion-header ui-helper-reset ui-state-active ui-corner-top\"><span class=\"ui-icon ui-icon-triangle-1-s\"></span><span class=\"accordion-header-text\">Map</span></h3><div id=\"mapAccordion\" class=\"ui-accordion-content-active ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom\"></div>').insertBefore(\"#inventoryLabel\");\r\nvar size = $(\"#mapAccordion\").innerWidth();\r\n$(\"#gridCanvas\").width(size).height(size).appendTo(\"#mapAccordion\");\r\npaper.view.viewSize.width = size;\r\npaper.view.viewSize.height = size;\r\n$(\"#gridPanel\").hide();\r\n$(\"#mapLabel\").bind(\"click\", $._data($(\"#inventoryLabel\")[0]).events['click'][0]['handler']);\r\n$(\"#mapLabel\").bind(\"mouseover\", $._data($(\"#inventoryLabel\")[0]).events['mouseover'][0]['handler']);\r\n$(\"#mapLabel\").bind(\"mouseout\", $._data($(\"#inventoryLabel\")[0]).events['mouseout'][0]['handler']);\r\n```\r\n(I've given up on working around the bugs in multiOpenAccordion, and manually copied the event handler functions out of jQuery's internal data structure onto my new pane)\r\nNote that you could do the same trick for the picture code I posted above, to let the player show/hide the picture like all the other sidebar panes.",
      "EditableFormat": "markdown",
      "HTML": "<blockquote>\n<p>That would be extremely useful!</p>\n</blockquote>\n<p>Here's a step in the right direction:</p>\n<details>\n<summary>Hidden: Various things I tried which may be useful to other people</summary>\n<pre><code>$('&lt;h3 id=\"mapLabel\" class=\"ui-accordion-header ui-helper-reset ui-state-active ui-corner-top\"&gt;&lt;span class=\"ui-icon ui-icon-triangle-1-s\"&gt;&lt;/span&gt;&lt;span class=\"accordion-header-text\"&gt;Map&lt;/span&gt;&lt;/h3&gt;&lt;div id=\"mapAccordion\" class=\"ui-accordion-content-active ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom\"&gt;&lt;/div&gt;').insertBefore(\"#inventoryLabel\");\nvar size = $(\"#mapAccordion\").innerWidth();\n$(\"#gridCanvas\").width(size).height(size).appendTo(\"#mapAccordion\");\npaper.view.viewSize.width = size;\npaper.view.viewSize.height = size;\n$(\"#gridPanel\").hide();\n</code></pre>\n<p>Tried out in the browser's javascript console (as none of my test games have the map enabled), it moves the map of a functional game into the sidebar, and everything seems to work fine.</p>\n<p>NOTE: The map pane looks like the other panes, but can't be expanded/collapsed. That's because multiOpenAccordion doesn't allow you to add panes once it's been created.</p>\n<p>Normally you'd unregister the accordion widget and create it again, but this doesn't work due to a known bug in the MultiOpenAccordion UI widget, which a fix has been submitted for but not yet accepted. This is from the widget's bugtracker; I haven't actually tested it. In <code>quest-5.7.2/Prototypes/jsrunner/ui/jquery.multi-open-accordion-1.5.3.js</code> line 83, <code>destroy</code> should be <code>_destroy</code>. If that works, you could then do:</p>\n<pre><code>$(\"#gamePanesRunning\").multiOpenAccordion(\"destroy\");\n$('&lt;h3 id=\"mapLabel\"&gt;&lt;span&gt;Map&lt;/span&gt;&lt;/h3&gt;&lt;div id=\"mapAccordion\"&gt;&lt;/div&gt;').insertBefore(\"#inventoryLabel\");\nvar size = $(\"#mapAccordion\").innerWidth();\n$(\"#gridCanvas\").width(size).height(size).appendTo(\"#mapAccordion\");\npaper.view.viewSize.width = size;\npaper.view.viewSize.height = size;\n$(\"#gridPanel\").hide();\n$(\"#gamePanesRunning\").multiOpenAccordion();\n</code></pre>\n<p>...</p>\n<p>I'm trying to find a workaround for this book, but it's being a bit flaky.</p>\n</details>\n<br>Finally, the code you were looking for:\n<p>It <em>works</em>, but…</p>\n<pre><code>$('&lt;h3 id=\"mapLabel\" class=\"ui-accordion-header ui-helper-reset ui-state-active ui-corner-top\"&gt;&lt;span class=\"ui-icon ui-icon-triangle-1-s\"&gt;&lt;/span&gt;&lt;span class=\"accordion-header-text\"&gt;Map&lt;/span&gt;&lt;/h3&gt;&lt;div id=\"mapAccordion\" class=\"ui-accordion-content-active ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom\"&gt;&lt;/div&gt;').insertBefore(\"#inventoryLabel\");\nvar size = $(\"#mapAccordion\").innerWidth();\n$(\"#gridCanvas\").width(size).height(size).appendTo(\"#mapAccordion\");\npaper.view.viewSize.width = size;\npaper.view.viewSize.height = size;\n$(\"#gridPanel\").hide();\n$(\"#mapLabel\").bind(\"click\", $._data($(\"#inventoryLabel\")[0]).events['click'][0]['handler']);\n$(\"#mapLabel\").bind(\"mouseover\", $._data($(\"#inventoryLabel\")[0]).events['mouseover'][0]['handler']);\n$(\"#mapLabel\").bind(\"mouseout\", $._data($(\"#inventoryLabel\")[0]).events['mouseout'][0]['handler']);\n</code></pre>\n<p>(I've given up on working around the bugs in multiOpenAccordion, and manually copied the event handler functions out of jQuery's internal data structure onto my new pane)<br>\nNote that you could do the same trick for the picture code I posted above, to let the player show/hide the picture like all the other sidebar panes.</p>\n\n",
      "PostDate": "2018-04-05T13:39:42.8137393Z",
      "LastEditDate": "2018-04-05T13:48:35.4414988Z",
      "link": null
    },
    {
      "PostId": "c95ee0e3-a36e-4d0c-bb6d-74732af67a55",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "(also noting that if you do that after the grid has initially been displayed, it won't scroll the map, so the initial room will be off the right hand side of the map. You need to call `Grid_Redraw()` to get the player's position to scroll back to the center)",
      "EditableFormat": "markdown",
      "HTML": "<p>(also noting that if you do that after the grid has initially been displayed, it won't scroll the map, so the initial room will be off the right hand side of the map. You need to call <code>Grid_Redraw()</code> to get the player's position to scroll back to the center)</p>\n\n",
      "PostDate": "2018-04-05T13:42:27.8859069Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "22255939-cf2b-4603-b44f-6c0d96a3303d",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "> it shouldn't be that hard to move the picture and the map into sidebar panes, and let the\r\nplayer \"maximise\" whichever they want back up to usual size.\r\n\r\nOK, I'm doing this :D\r\nBut also doing campNanoWrimo, and trying to get a novel released by the end of the month, and do all the promotion for it. So must force myself to stop coding now, and work on those. Javascript hacking will resume either when I met all my goals for today, or in the morning.",
      "EditableFormat": "markdown",
      "HTML": "<blockquote>\n<p>it shouldn't be that hard to move the picture and the map into sidebar panes, and let the<br>\nplayer \"maximise\" whichever they want back up to usual size.</p>\n</blockquote>\n<p>OK, I'm doing this :D<br>\nBut also doing campNanoWrimo, and trying to get a novel released by the end of the month, and do all the promotion for it. So must force myself to stop coding now, and work on those. Javascript hacking will resume either when I met all my goals for today, or in the morning.</p>\n\n",
      "PostDate": "2018-04-05T14:58:06.4552863Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "57b221e2-1442-4b5a-aacb-6774c0d12f30",
      "UserId": 348994,
      "Username": "CheeseMyBaby",
      "AvatarUrl": "https://i.imgur.com/c5nBbAgb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "@mrangel \r\nlol! \r\nGo work on your novel man! Stop spoiling me :)",
      "EditableFormat": "markdown",
      "HTML": "<p>@mrangel<br>\nlol!<br>\nGo work on your novel man! Stop spoiling me :)</p>\n\n",
      "PostDate": "2018-04-05T15:19:57.8276064Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "1bba49ff-9326-4f77-93b2-20abc06ea502",
      "UserId": 277074,
      "Username": "Dcoder",
      "AvatarUrl": "http://i.imgur.com/d9UrZ6lb.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "@mrangel\r\nYes, go pay the bills first!",
      "EditableFormat": "markdown",
      "HTML": "<p>@mrangel<br>\nYes, go pay the bills first!</p>\n\n",
      "PostDate": "2018-04-05T15:24:56.3193552Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "f0fb0c26-641a-48db-b61b-b1668218ebed",
      "UserId": 318253,
      "Username": "K.V.",
      "AvatarUrl": "https://i.imgur.com/mBf7TBeb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "You can play with this while waiting on mrangel:\r\n\r\n```\r\n  <!-- You must add SetupMapWindow to your User Interface Initialisation script!!! -->\r\n\r\n  <function name=\"SetupMapWindow\"><![CDATA[\r\n    JS.eval (\"$('#gamePanelSpacer').height(0);\")\r\n    msg (\"<div id='mapHolder' style='display:none;'></div>\")\r\n    JS.eval (\"$('#gridPanel').appendTo($('#mapHolder')).css({'left':'63%','position':'absolute'});var mh = $('#mapHolder');mh.dialog({height: 400, width: 700,close: function(){mh.dialog('close');$('#txtCommandDiv').focus();}});mh.dialog('option', 'title', 'Map');mh.dialog('open');$('.ui-dialog').css('position', 'fixed');openMap = function(){mh.dialog('open');};\")\r\n    JS.setCommands (\"SHOW MAP\")\r\n  ]]></function>\r\n\t\r\n  <command name=\"view_map_command\">\r\n    <pattern>view map;open map;map;show map</pattern>\r\n    <script>\r\n      JS.openMap ()\r\n      game.notarealturn = true\r\n    </script>\r\n  </command>\r\n```",
      "EditableFormat": "markdown",
      "HTML": "<p>You can play with this while waiting on mrangel:</p>\n<pre><code>  &lt;!-- You must add SetupMapWindow to your User Interface Initialisation script!!! --&gt;\n\n  &lt;function name=\"SetupMapWindow\"&gt;&lt;![CDATA[\n    JS.eval (\"$('#gamePanelSpacer').height(0);\")\n    msg (\"&lt;div id='mapHolder' style='display:none;'&gt;&lt;/div&gt;\")\n    JS.eval (\"$('#gridPanel').appendTo($('#mapHolder')).css({'left':'63%','position':'absolute'});var mh = $('#mapHolder');mh.dialog({height: 400, width: 700,close: function(){mh.dialog('close');$('#txtCommandDiv').focus();}});mh.dialog('option', 'title', 'Map');mh.dialog('open');$('.ui-dialog').css('position', 'fixed');openMap = function(){mh.dialog('open');};\")\n    JS.setCommands (\"SHOW MAP\")\n  ]]&gt;&lt;/function&gt;\n\t\n  &lt;command name=\"view_map_command\"&gt;\n    &lt;pattern&gt;view map;open map;map;show map&lt;/pattern&gt;\n    &lt;script&gt;\n      JS.openMap ()\n      game.notarealturn = true\n    &lt;/script&gt;\n  &lt;/command&gt;\n</code></pre>\n\n",
      "PostDate": "2018-04-05T15:47:37.2808986Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "4c1cdf55-dc4e-499a-bb60-90c6544c0a12",
      "UserId": 318253,
      "Username": "K.V.",
      "AvatarUrl": "https://i.imgur.com/mBf7TBeb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "...and here is a paste-able version of mrangel's current code:\r\n\r\n```\r\nJS.eval (\"$('<h3 id=\\\"mapLabel\\\" class=\\\"ui-accordion-header ui-helper-reset ui-state-active ui-corner-top\\\"><span class=\\\"ui-icon ui-icon-triangle-1-s\\\"></span><span class=\\\"accordion-header-text\\\">Map</span></h3><div id=\\\"mapAccordion\\\" class=\\\"ui-accordion-content-active ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom\\\"></div>').insertBefore(\\\"#inventoryLabel\\\");$('#gridPanel').hide();$('#gamePanelSpacer').height('0');var size = $(\\\"#mapAccordion\\\").innerWidth();$('#gridCanvas').width(size).height(size).appendTo($('#mapAccordion'));paper.view.viewSize.width = size;paper.view.viewSize.height = size;$(\\\"#gridPanel\\\").hide();$(\\\"#mapLabel\\\").bind(\\\"click\\\", $._data($(\\\"#inventoryLabel\\\")[0]).events['click'][0]['handler']);$(\\\"#mapLabel\\\").bind(\\\"mouseover\\\", $._data($(\\\"#inventoryLabel\\\")[0]).events['mouseover'][0]['handler']);$(\\\"#mapLabel\\\").bind(\\\"mouseout\\\", $._data($(\\\"#inventoryLabel\\\")[0]).events['mouseout'][0]['handler']);\")\r\n```\r\n\r\n\r\n---\r\nThat belongs in the \"User Interface Initialisation\" script.\r\n\r\nIt works for me in the desktop player and online in Firefox and Chrome.\r\n\r\n![image](https://user-images.githubusercontent.com/30656341/38377986-ffc668c4-38c1-11e8-859a-1485e8bbc62c.png)",
      "EditableFormat": "markdown",
      "HTML": "<p>...and here is a paste-able version of mrangel's current code:</p>\n<pre><code>JS.eval (\"$('&lt;h3 id=\\\"mapLabel\\\" class=\\\"ui-accordion-header ui-helper-reset ui-state-active ui-corner-top\\\"&gt;&lt;span class=\\\"ui-icon ui-icon-triangle-1-s\\\"&gt;&lt;/span&gt;&lt;span class=\\\"accordion-header-text\\\"&gt;Map&lt;/span&gt;&lt;/h3&gt;&lt;div id=\\\"mapAccordion\\\" class=\\\"ui-accordion-content-active ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom\\\"&gt;&lt;/div&gt;').insertBefore(\\\"#inventoryLabel\\\");$('#gridPanel').hide();$('#gamePanelSpacer').height('0');var size = $(\\\"#mapAccordion\\\").innerWidth();$('#gridCanvas').width(size).height(size).appendTo($('#mapAccordion'));paper.view.viewSize.width = size;paper.view.viewSize.height = size;$(\\\"#gridPanel\\\").hide();$(\\\"#mapLabel\\\").bind(\\\"click\\\", $._data($(\\\"#inventoryLabel\\\")[0]).events['click'][0]['handler']);$(\\\"#mapLabel\\\").bind(\\\"mouseover\\\", $._data($(\\\"#inventoryLabel\\\")[0]).events['mouseover'][0]['handler']);$(\\\"#mapLabel\\\").bind(\\\"mouseout\\\", $._data($(\\\"#inventoryLabel\\\")[0]).events['mouseout'][0]['handler']);\")\n</code></pre>\n<hr>\n<p>That belongs in the \"User Interface Initialisation\" script.</p>\n<p>It works for me in the desktop player and online in Firefox and Chrome.</p>\n<p><img src=\"https://user-images.githubusercontent.com/30656341/38377986-ffc668c4-38c1-11e8-859a-1485e8bbc62c.png\" alt=\"image\"></p>\n\n",
      "PostDate": "2018-04-05T16:11:29.014484Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "3f221e75-852a-4100-8e39-0980a427b498",
      "UserId": 318253,
      "Username": "K.V.",
      "AvatarUrl": "https://i.imgur.com/mBf7TBeb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "That's nice, mrangel!\r\n\r\nI like it like this.  The grid click function even still works!\r\n\r\nWould the grid clicks still work with the hover thing you mentioned?  (If not, I'd vote for adding a MAP command which switches it from the pane to the old style.)\r\n\r\n---\r\nPS\r\n\r\nI had to add ```$('#gamePanelSpacer').height('0');``` to make it look right on the desktop player.  (It looked right without that online for some reason.)",
      "EditableFormat": "markdown",
      "HTML": "<p>That's nice, mrangel!</p>\n<p>I like it like this.  The grid click function even still works!</p>\n<p>Would the grid clicks still work with the hover thing you mentioned?  (If not, I'd vote for adding a MAP command which switches it from the pane to the old style.)</p>\n<hr>\n<p>PS</p>\n<p>I had to add <code>$('#gamePanelSpacer').height('0');</code> to make it look right on the desktop player.  (It looked right without that online for some reason.)</p>\n\n",
      "PostDate": "2018-04-05T16:42:08.7546774Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "e75cd945-dc83-4e55-87c4-df8388987390",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "I was thinking of giving the map pane a button in the title bar that reverts to Quest's default layout.",
      "EditableFormat": "markdown",
      "HTML": "<p>I was thinking of giving the map pane a button in the title bar that reverts to Quest's default layout.</p>\n\n",
      "PostDate": "2018-04-05T19:04:52.5699151Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "528b9f93-fb3a-4bfb-8f4f-267cef35644e",
      "UserId": 318253,
      "Username": "K.V.",
      "AvatarUrl": "https://i.imgur.com/mBf7TBeb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "That sounds better than a command.",
      "EditableFormat": "markdown",
      "HTML": "<p>That sounds better than a command.</p>\n\n",
      "PostDate": "2018-04-05T19:25:52.1829079Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "a2fe4b39-9cbd-4c37-81f3-ff7cc2926239",
      "UserId": 348994,
      "Username": "CheeseMyBaby",
      "AvatarUrl": "https://i.imgur.com/c5nBbAgb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Two things:\r\n\r\n\r\n#1: Sweet cheeeesus! Look at you guys go! This is amazing!\r\n\r\n#2: Just realized I opened this thread in the wrong forum. My apologies!",
      "EditableFormat": "markdown",
      "HTML": "<p>Two things:</p>\n<p>#1: Sweet cheeeesus! Look at you guys go! This is amazing!</p>\n<p>#2: Just realized I opened this thread in the wrong forum. My apologies!</p>\n\n",
      "PostDate": "2018-04-06T07:59:11.2578276Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "ec8c1a43-ba2e-47b8-a5b1-196a8e212377",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "... this is why I never made it as a software developer. I can't just move things around, the popout option has to *animate* the map/picture moving from its standard big position to the sidebar. As a result, I've spent an hour working on this, got a hundred lines of javascript, but only the maximised→sidebar transition is done. Well, that's 1 out of 3; and the collapse/expand pane should be a lot easier.",
      "EditableFormat": "markdown",
      "HTML": "<p>... this is why I never made it as a software developer. I can't just move things around, the popout option has to <em>animate</em> the map/picture moving from its standard big position to the sidebar. As a result, I've spent an hour working on this, got a hundred lines of javascript, but only the maximised→sidebar transition is done. Well, that's 1 out of 3; and the collapse/expand pane should be a lot easier.</p>\n\n",
      "PostDate": "2018-04-06T08:53:29.8481396Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "218ace23-dcdf-4591-b31a-a1a23a98f278",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "The thing I'm struggling with now is getting the grid to redraw. As far as I can tell, it only actually recentres the grid if a new object is drawn; which means that after zooming, the player is outside the grid window until they move. There must be a way around that, but I only see redraw functions in Quest, not in JS.\r\n\r\nI can do this though (:\r\n\r\nEdit: Got that sorted now. I can animate the map moving to different parts of the screen, zooming in, and resizing, and have the player stay in the middle. I can have the map fly from its default position to a place in the sidebar, and then change from fixed to relative display so that it moves up and down as the size of panes above it changes. And I can have `room.picture` fly to the sidebar in the same way. Just tidying up now.\r\n\r\nOnce finished, you should just need to include the javascript and do:\r\n`JS.MapToSidebar(\"Mini Map\", \"inventory\")`\r\n`JS.PictureToSidebar(\"Room View\", \"placesObjects\")`\r\n`JS.CreateExtraPane(\"customPane\", \"map\")`\r\n(the last argument in the previous three lines is which pane to insert it before; omit this to put your new pane at the end)\r\n`JS.SetExtraPaneContent(\"customPane\", \"Wow! I can have more than one custom pane now!\")`\r\n(that was a bonus. Because to add the map pane, I had to pull apart the MultiOpenAccordion UI plugin, and deal with the issues that prevent you adding new panes once the game has started. So you're no longer limited to a single custom pane)",
      "EditableFormat": "markdown",
      "HTML": "<p>The thing I'm struggling with now is getting the grid to redraw. As far as I can tell, it only actually recentres the grid if a new object is drawn; which means that after zooming, the player is outside the grid window until they move. There must be a way around that, but I only see redraw functions in Quest, not in JS.</p>\n<p>I can do this though (:</p>\n<p>Edit: Got that sorted now. I can animate the map moving to different parts of the screen, zooming in, and resizing, and have the player stay in the middle. I can have the map fly from its default position to a place in the sidebar, and then change from fixed to relative display so that it moves up and down as the size of panes above it changes. And I can have <code>room.picture</code> fly to the sidebar in the same way. Just tidying up now.</p>\n<p>Once finished, you should just need to include the javascript and do:<br>\n<code>JS.MapToSidebar(\"Mini Map\", \"inventory\")</code><br>\n<code>JS.PictureToSidebar(\"Room View\", \"placesObjects\")</code><br>\n<code>JS.CreateExtraPane(\"customPane\", \"map\")</code><br>\n(the last argument in the previous three lines is which pane to insert it before; omit this to put your new pane at the end)<br>\n<code>JS.SetExtraPaneContent(\"customPane\", \"Wow! I can have more than one custom pane now!\")</code><br>\n(that was a bonus. Because to add the map pane, I had to pull apart the MultiOpenAccordion UI plugin, and deal with the issues that prevent you adding new panes once the game has started. So you're no longer limited to a single custom pane)</p>\n\n",
      "PostDate": "2018-04-06T09:05:11.9629703Z",
      "LastEditDate": "2018-04-06T15:12:59.7225223Z",
      "link": null
    },
    {
      "PostId": "869644a7-11e9-45a7-9e99-416a5122ee90",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "OK; I think I kind of burned out my brain now.\r\n\r\nI don't even know if this works. I've been refactoring what I had before into a more sensible organisation, and fixing errors at the same time. I need to test and debug, but I can't face staring at this any more today. So, you want to try it and tell me how much I screwed up?\r\n\r\n```\r\nSorry, you can't post that here.\r\n```\r\nI give up",
      "EditableFormat": "markdown",
      "HTML": "<p>OK; I think I kind of burned out my brain now.</p>\n<p>I don't even know if this works. I've been refactoring what I had before into a more sensible organisation, and fixing errors at the same time. I need to test and debug, but I can't face staring at this any more today. So, you want to try it and tell me how much I screwed up?</p>\n<pre><code>Sorry, you can't post that here.\n</code></pre>\n<p>I give up</p>\n\n",
      "PostDate": "2018-04-06T16:03:16.1287511Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "1ffc7eb7-2f06-48e8-8fc3-bdabef5e02d5",
      "UserId": 318253,
      "Username": "K.V.",
      "AvatarUrl": "https://i.imgur.com/mBf7TBeb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Nothing simultaneously saddens and frustrates me more than \"You can't post that here.\"\r\n\r\n\r\n---\r\n> The thing I'm struggling with now is getting the grid to redraw. As far as I can tell, it only actually recentres the grid if a new object is drawn;\r\n\r\nIt seems to already be centered when I use [this code](http://textadventures.co.uk/forum/samples/topic/q5zedoe560au_ii73oamoq/adding-graphics-in-a-specific-location-gui-solved#4c1cdf55-dc4e-499a-bb60-90c6544c0a12), but my tester only has three rooms, so I may need more rooms to see that it doesn't center...",
      "EditableFormat": "markdown",
      "HTML": "<p>Nothing simultaneously saddens and frustrates me more than \"You can't post that here.\"</p>\n<hr>\n<blockquote>\n<p>The thing I'm struggling with now is getting the grid to redraw. As far as I can tell, it only actually recentres the grid if a new object is drawn;</p>\n</blockquote>\n<p>It seems to already be centered when I use <a href=\"http://textadventures.co.uk/forum/samples/topic/q5zedoe560au_ii73oamoq/adding-graphics-in-a-specific-location-gui-solved#4c1cdf55-dc4e-499a-bb60-90c6544c0a12\">this code</a>, but my tester only has three rooms, so I may need more rooms to see that it doesn't center...</p>\n\n",
      "PostDate": "2018-04-06T17:22:41.9781168Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "9d8cfd33-de8b-4c23-98e9-cf19c349f233",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "> It seems to already be centered when I use this code, but my tester only has three rooms, so I may need more rooms to see that it doesn't center...\r\n\r\nFor me, the \"player\" dot remains the same distance from the top-left corner of the map (so off the right edge of the map) from the point that function is called, until the next time the player circle on the map is moved. If you're putting it in the UI initialisation, the map will recentre correctly when the first room is drawn, I think. But if you want to move the map around the screen once the game has started, you'd need to adjust it manually.\r\n\r\nHere's my (untested, may have reintroduced bugs when refactoring) script.\r\nhttp://mrangel.info/FancySidebar.js\r\n\r\nEDIT: Ugh, 9 pairs of mismatched brackets.\r\nI'll sort it out when I've actually written something today.\r\n\r\nEDIT2: typos, extra/missing brackets, and missing quotes all sorted.\r\n\r\nNext challenge: order of operations. I have it creating the elements, then triggering the script to animate the map moving into the newly-created space in the sidebar. *Before* the elements are actually inserted into the DOM. togglePopout and toggleVisibility need to be exposed to the main code, so the \"actually display this\" function can be called once the elements are in the document.",
      "EditableFormat": "markdown",
      "HTML": "<blockquote>\n<p>It seems to already be centered when I use this code, but my tester only has three rooms, so I may need more rooms to see that it doesn't center...</p>\n</blockquote>\n<p>For me, the \"player\" dot remains the same distance from the top-left corner of the map (so off the right edge of the map) from the point that function is called, until the next time the player circle on the map is moved. If you're putting it in the UI initialisation, the map will recentre correctly when the first room is drawn, I think. But if you want to move the map around the screen once the game has started, you'd need to adjust it manually.</p>\n<p>Here's my (untested, may have reintroduced bugs when refactoring) script.<br>\nhttp://mrangel.info/FancySidebar.js</p>\n<p>EDIT: Ugh, 9 pairs of mismatched brackets.<br>\nI'll sort it out when I've actually written something today.</p>\n<p>EDIT2: typos, extra/missing brackets, and missing quotes all sorted.</p>\n<p>Next challenge: order of operations. I have it creating the elements, then triggering the script to animate the map moving into the newly-created space in the sidebar. <em>Before</em> the elements are actually inserted into the DOM. togglePopout and toggleVisibility need to be exposed to the main code, so the \"actually display this\" function can be called once the elements are in the document.</p>\n\n",
      "PostDate": "2018-04-06T17:41:57.1919424Z",
      "LastEditDate": "2018-04-06T21:32:06.6376981Z",
      "link": null
    },
    {
      "PostId": "f8effbfc-877a-4ba9-bc51-cd06b9b9e28c",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Progress… it works (ish), but somehow ends up at the wrong location. I've probably ended up confusing some of the coordinates.\r\n\r\nRefactoring again, so I don't have two functions doing the same thing. This should work soon.",
      "EditableFormat": "markdown",
      "HTML": "<p>Progress… it works (ish), but somehow ends up at the wrong location. I've probably ended up confusing some of the coordinates.</p>\n<p>Refactoring again, so I don't have two functions doing the same thing. This should work soon.</p>\n\n",
      "PostDate": "2018-04-07T18:33:56.367669Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "12a6616d-4b2c-4e19-85a9-4c9bc41ffbfa",
      "UserId": 348994,
      "Username": "CheeseMyBaby",
      "AvatarUrl": "https://i.imgur.com/c5nBbAgb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "I wish I could do these stuff too!",
      "EditableFormat": "markdown",
      "HTML": "<p>I wish I could do these stuff too!</p>\n\n",
      "PostDate": "2018-04-08T20:38:40.5117285Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "102846dd-9c89-435f-ad69-146413f655f1",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "I got distracted :p\r\nThe library Quest uses to display the sidebar (MultiOpenAccordion) has so many known bugs in it. Like you can't add panes after it's started. So I ended up throwing it out and using my own functions to expand/collapse the sidebar sections. Then added a function to destroy the existing accordion, and apply my commands to the default panes too, allowing the same commands to be used for rearranging any of them.",
      "EditableFormat": "markdown",
      "HTML": "<p>I got distracted :p<br>\nThe library Quest uses to display the sidebar (MultiOpenAccordion) has so many known bugs in it. Like you can't add panes after it's started. So I ended up throwing it out and using my own functions to expand/collapse the sidebar sections. Then added a function to destroy the existing accordion, and apply my commands to the default panes too, allowing the same commands to be used for rearranging any of them.</p>\n\n",
      "PostDate": "2018-04-08T21:31:25.8749502Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "2bba2f90-9ed1-486d-8776-900f38e308a5",
      "UserId": 348994,
      "Username": "CheeseMyBaby",
      "AvatarUrl": "https://i.imgur.com/c5nBbAgb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "That's what I'm talking about... things like that... I wish I could do that too! :)",
      "EditableFormat": "markdown",
      "HTML": "<p>That's what I'm talking about... things like that... I wish I could do that too! :)</p>\n\n",
      "PostDate": "2018-04-08T22:01:23.6019163Z",
      "LastEditDate": null,
      "link": null
    }
  ]
}
