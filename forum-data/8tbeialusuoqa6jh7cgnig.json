{
  "Topic": {
    "TopicId": "8tbeialusuoqa6jh7cgnig",
    "ForumId": "10",
    "Title": "Using Unscramble & Typewritter with the Text Processor?",
    "LastUpdated": "2019-05-28T22:07:49.5724915Z",
    "ReplyCount": 0
  },
  "Posts": [
    {
      "PostId": "8f7433e0-83fc-4cd5-be7c-631cc0c80b00",
      "UserId": 418279,
      "Username": "Zesc",
      "AvatarUrl": "https://i.imgur.com/bGcfC7sb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Greetings there!\r\n\r\nThis is more a thing i stumbled across out of curiosity/boredom, but i found the two TextFX script commands interesting.\r\n\r\nHowever, their usefullness seems to be grossly limited by the fact they can only output plain text. No commands, no ```{random:}```, not even italics or bold text. Or line breaks...\r\n\r\nHas anyone ever put effort into tweaking this? In a way that would for example allow me to output a dialogue using typewritter? Probably even makes it possible to output this way in the middle of a page?\r\n\r\nAlso, is it possible to make the game wait till the output is finished?\r\n\r\nAnd why can't you make a ```TextFX_Unscramble``` set to reveal 0 characters at a time to get a permanently shifting text?\r\n\r\nI know these functionalities might be nichy, but if anyone knows something, i'd be glad to be helped.",
      "EditableFormat": "markdown",
      "HTML": "<p>Greetings there!</p>\n<p>This is more a thing i stumbled across out of curiosity/boredom, but i found the two TextFX script commands interesting.</p>\n<p>However, their usefullness seems to be grossly limited by the fact they can only output plain text. No commands, no <code>{random:}</code>, not even italics or bold text. Or line breaks...</p>\n<p>Has anyone ever put effort into tweaking this? In a way that would for example allow me to output a dialogue using typewritter? Probably even makes it possible to output this way in the middle of a page?</p>\n<p>Also, is it possible to make the game wait till the output is finished?</p>\n<p>And why can't you make a <code>TextFX_Unscramble</code> set to reveal 0 characters at a time to get a permanently shifting text?</p>\n<p>I know these functionalities might be nichy, but if anyone knows something, i'd be glad to be helped.</p>\n\n",
      "PostDate": "2019-05-28T22:07:49.5724915Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "7f217e97-2a24-42b7-a736-6c77f1b722d0",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Text processor commands are run when you call the `ProcessText()` function on a string.\r\n\r\n`msg()` does this automatically, but some other functions don't. If you want to use the text processor with them, you need to call `ProcessText()` yourself.\r\n\r\nThe problem with making the game wait until the text animation has finished is that Quest sends the text to the browser, and the animation is done using Javascript. You could do it using more javascript, but it would probably be very inefficient. the best way would be to start a new section after the FX, and hide it until the FX has finished.",
      "EditableFormat": "markdown",
      "HTML": "<p>Text processor commands are run when you call the <code>ProcessText()</code> function on a string.</p>\n<p><code>msg()</code> does this automatically, but some other functions don't. If you want to use the text processor with them, you need to call <code>ProcessText()</code> yourself.</p>\n<p>The problem with making the game wait until the text animation has finished is that Quest sends the text to the browser, and the animation is done using Javascript. You could do it using more javascript, but it would probably be very inefficient. the best way would be to start a new section after the FX, and hide it until the FX has finished.</p>\n\n",
      "PostDate": "2019-05-28T23:35:34.079951Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "dd6092ad-2465-4e23-b302-30e6b4e5e110",
      "UserId": 260569,
      "Username": "DarkLizerd",
      "AvatarUrl": "https://i.imgur.com/vjdH3t6b.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "\"And why can't you make a TextFX_Unscramble set to reveal 0 characters at a time to get a permanently shifting text?\"\r\nYou can:\r\nTextFX_Unscramble (\"This is a secret message! \" , 200, 0)\r\nJust set the Reveal to expression 0 characters at a time...\r\nI guess, if you set the random text first, then passed that to the TextFX_ function, it may work.\r\n(Maybe for commands as well... checking now...)\r\nYep...\r\n````\r\nM=\"This is a test... 1,2,3... \" + DiceRoll(\"1d100\")\r\nTextFX_Typewriter (M, 200)\r\nTextFX_Unscramble (M , 200, 1)\r\n\r\n````\r\nBut, for a command IN a string???\r\n\r\n",
      "EditableFormat": "markdown",
      "HTML": "<p>\"And why can't you make a TextFX_Unscramble set to reveal 0 characters at a time to get a permanently shifting text?\"<br>\nYou can:<br>\nTextFX_Unscramble (\"This is a secret message! \" , 200, 0)<br>\nJust set the Reveal to expression 0 characters at a time...<br>\nI guess, if you set the random text first, then passed that to the TextFX_ function, it may work.<br>\n(Maybe for commands as well... checking now...)<br>\nYep...</p>\n<pre><code>M=\"This is a test... 1,2,3... \" + DiceRoll(\"1d100\")\nTextFX_Typewriter (M, 200)\nTextFX_Unscramble (M , 200, 1)\n\n</code></pre>\n<p>But, for a command IN a string???</p>\n\n",
      "PostDate": "2019-05-30T01:37:10.0188186Z",
      "LastEditDate": "2019-05-30T01:40:56.7209802Z",
      "link": null
    },
    {
      "PostId": "e9779ce4-49f1-435a-8400-d6af66472f33",
      "UserId": 418279,
      "Username": "Zesc",
      "AvatarUrl": "https://i.imgur.com/bGcfC7sb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Thanks for the replies.\r\n\r\nDarkLizerd, you're right, your example works... But setting them to 0 with the graphic interface doesn't works? Or i just missed something when testing and should be emberassed now.\r\n\r\nRegarding ```ProcessText()```, i think i'm not using it correctly. When i use it, it returns plain strings bare of any markup/scripting, just like if someone copy'n'pasted it in there. Or it throws up an error (which interestingly has working command links).\r\n\r\nIs there a way to make the TextFX scripts automatically run ```ProcessText()``` just like ```msg()``` does? Probably by directly editing the function? Afterall, i can't see how this would harm as a default.\r\n\r\nAlso, i figured out that making the game just wait a set amount of time before proceeding to the next step is the easiest method of syncing FXs. Afterall you can just multiply the ms per character with the number of characters + X.\r\n\r\nI guess that if you want to show of, you could also use ```LengthOf()``` in an expression, but that's to convoluted for my taste.",
      "EditableFormat": "markdown",
      "HTML": "<p>Thanks for the replies.</p>\n<p>DarkLizerd, you're right, your example works... But setting them to 0 with the graphic interface doesn't works? Or i just missed something when testing and should be emberassed now.</p>\n<p>Regarding <code>ProcessText()</code>, i think i'm not using it correctly. When i use it, it returns plain strings bare of any markup/scripting, just like if someone copy'n'pasted it in there. Or it throws up an error (which interestingly has working command links).</p>\n<p>Is there a way to make the TextFX scripts automatically run <code>ProcessText()</code> just like <code>msg()</code> does? Probably by directly editing the function? Afterall, i can't see how this would harm as a default.</p>\n<p>Also, i figured out that making the game just wait a set amount of time before proceeding to the next step is the easiest method of syncing FXs. Afterall you can just multiply the ms per character with the number of characters + X.</p>\n<p>I guess that if you want to show of, you could also use <code>LengthOf()</code> in an expression, but that's to convoluted for my taste.</p>\n\n",
      "PostDate": "2019-05-31T20:26:08.6728415Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "2c52435a-c9a9-45e7-b875-f515e68e0c78",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "> When i use it, it returns plain strings bare of any markup/scripting\r\n\r\nNot sure what you mean there. If you're using `random` (as in your original question), it should work fine.\r\n\r\nIf you're using text processor directives that generate HTML markup, it probably won't work because I think the FX functions operate on a text string, not an HTML string. Making them work with HTML would make those functions a lot more complex.",
      "EditableFormat": "markdown",
      "HTML": "<blockquote>\n<p>When i use it, it returns plain strings bare of any markup/scripting</p>\n</blockquote>\n<p>Not sure what you mean there. If you're using <code>random</code> (as in your original question), it should work fine.</p>\n<p>If you're using text processor directives that generate HTML markup, it probably won't work because I think the FX functions operate on a text string, not an HTML string. Making them work with HTML would make those functions a lot more complex.</p>\n\n",
      "PostDate": "2019-06-01T01:50:52.939136Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "cbd9d50f-39b1-4cd6-9eb7-e143324669ed",
      "UserId": 418279,
      "Username": "Zesc",
      "AvatarUrl": "https://i.imgur.com/bGcfC7sb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Ah, yeah, random works.\r\n\r\nWell, as i said, it is like someone copy'n'pasted it, meaning that all markup is gone. This is especially true when i want to put ```{command:}``` or ```{page:}```.\r\n\r\nSo, seems like i can't use coloured text or clickables in there, darn.",
      "EditableFormat": "markdown",
      "HTML": "<p>Ah, yeah, random works.</p>\n<p>Well, as i said, it is like someone copy'n'pasted it, meaning that all markup is gone. This is especially true when i want to put <code>{command:}</code> or <code>{page:}</code>.</p>\n<p>So, seems like i can't use coloured text or clickables in there, darn.</p>\n\n",
      "PostDate": "2019-06-02T15:22:24.787141Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "589921ad-ae53-41a7-9b4d-ac3a76a6f3ad",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Yeah. You'd have to rewrite the FX functions, because they currently deal with the text one character at a time. Andthose text processor directives output HTML, which would become invalid if you add part of a tag, so it's just stripped.\r\n\r\nYou'd need to have the FX functions operate recursively, descending into HTML elements inside the one they're operating on. I think I can see how I'd structure it, but that's quite a complex mass of code.",
      "EditableFormat": "markdown",
      "HTML": "<p>Yeah. You'd have to rewrite the FX functions, because they currently deal with the text one character at a time. Andthose text processor directives output HTML, which would become invalid if you add part of a tag, so it's just stripped.</p>\n<p>You'd need to have the FX functions operate recursively, descending into HTML elements inside the one they're operating on. I think I can see how I'd structure it, but that's quite a complex mass of code.</p>\n\n",
      "PostDate": "2019-06-02T22:01:49.0957914Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "7e3682ad-c63c-42ea-bd01-0b5af543e5af",
      "UserId": 418279,
      "Username": "Zesc",
      "AvatarUrl": "https://i.imgur.com/bGcfC7sb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Thanks for the input.\r\n\r\nNo need to get into anything to advanced and gimmicky, this was primarily something i started messing with out of curiosity.\r\n\r\nAtleast you can get the text coloured by calling ```SetForegroundColour ()``` before and after the TextFX, although it means you can't have coloured words in-line. (I was thinking of some RPG-esque way of marking important persons/things.)",
      "EditableFormat": "markdown",
      "HTML": "<p>Thanks for the input.</p>\n<p>No need to get into anything to advanced and gimmicky, this was primarily something i started messing with out of curiosity.</p>\n<p>Atleast you can get the text coloured by calling <code>SetForegroundColour ()</code> before and after the TextFX, although it means you can't have coloured words in-line. (I was thinking of some RPG-esque way of marking important persons/things.)</p>\n\n",
      "PostDate": "2019-06-03T09:57:17.6804837Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "c7a1d7a9-f72e-4e7b-95c1-7c7e127ac894",
      "UserId": 260569,
      "Username": "DarkLizerd",
      "AvatarUrl": "https://i.imgur.com/vjdH3t6b.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Alt plan...\r\nIs there a way to delete a line of text and replace it with a new line???\r\nIE:\r\nThis is line 1\r\nThis is line 2\r\nThis line 3 is being decoded\r\n(Delete line 3, replace with)\r\nThis line **Link text** is a replacement.\r\nShort of a clear screen and re-print...\r\n\r\n",
      "EditableFormat": "markdown",
      "HTML": "<p>Alt plan...<br>\nIs there a way to delete a line of text and replace it with a new line???<br>\nIE:<br>\nThis is line 1<br>\nThis is line 2<br>\nThis line 3 is being decoded<br>\n(Delete line 3, replace with)<br>\nThis line <strong>Link text</strong> is a replacement.<br>\nShort of a clear screen and re-print...</p>\n\n",
      "PostDate": "2019-06-04T00:26:07.2343568Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "9b90c9b2-a119-46c6-86fb-9178ee49ae05",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "> Is there a way to delete a line of text and replace it with a new line???\r\n\r\nHmm…\r\n\r\n```\r\n    $.fn.typewriter = function (speed) {\r\n        this.each(function () {\r\n            var $ele = $(this), str = $ele.text(), fullstr = $ele.html(), progress = 0;\r\n            $ele.text('');\r\n            var timer = setInterval(function () {\r\n                $ele.text(str.substring(0, progress++) + ((progress & 1) && progress < str.length ? '_' : ''));\r\n                if (progress >= str.length) {clearInterval(timer); $ele.html(fullstr);}\r\n            }, speed);\r\n        });\r\n        return this;\r\n    };\r\n```\r\n\r\nModified from the default typewriter code. Takes two copies of the element';s contents; a plain-text one in the JS variable `str`, to display one character at a time, and the HTML in the JS variable `fullstr`, to replace it with once the entire string has displayed.\r\n\r\nTyping on my phone, so haven't tested it yet. But putting this chunk of javascript in your game *might* make the typewriter function behave nicely with formatting and HTML (even if it doesn't format text until it's finished)",
      "EditableFormat": "markdown",
      "HTML": "<blockquote>\n<p>Is there a way to delete a line of text and replace it with a new line???</p>\n</blockquote>\n<p>Hmm…</p>\n<pre><code>    $.fn.typewriter = function (speed) {\n        this.each(function () {\n            var $ele = $(this), str = $ele.text(), fullstr = $ele.html(), progress = 0;\n            $ele.text('');\n            var timer = setInterval(function () {\n                $ele.text(str.substring(0, progress++) + ((progress &amp; 1) &amp;&amp; progress &lt; str.length ? '_' : ''));\n                if (progress &gt;= str.length) {clearInterval(timer); $ele.html(fullstr);}\n            }, speed);\n        });\n        return this;\n    };\n</code></pre>\n<p>Modified from the default typewriter code. Takes two copies of the element';s contents; a plain-text one in the JS variable <code>str</code>, to display one character at a time, and the HTML in the JS variable <code>fullstr</code>, to replace it with once the entire string has displayed.</p>\n<p>Typing on my phone, so haven't tested it yet. But putting this chunk of javascript in your game <em>might</em> make the typewriter function behave nicely with formatting and HTML (even if it doesn't format text until it's finished)</p>\n\n",
      "PostDate": "2019-06-04T09:07:55.5332577Z",
      "LastEditDate": null,
      "link": null
    }
  ]
}
