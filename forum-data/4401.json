{
  "Topic": {
    "TopicId": "4401",
    "ForumId": "10",
    "Title": "Help with a keypad code script?",
    "LastUpdated": "2014-06-12T15:12:22+01:00",
    "ReplyCount": 1
  },
  "Posts": [
    {
      "PostId": "29086",
      "UserId": 0,
      "Username": "eleisha93",
      "UserAvatar": null,
      "UserGravatar": "6cdf315be78b6a46f7ebd591bc3a663c",
      "EditableText": "Hi,\n\nJust a quick question regarding one of my scripts for my keypad. This is the code:\n\nPrintCentered (&quot;PLEASE ENTER SECURITY CODE&quot;)\nget input {\n  if (result=&quot;4863&quot;) {\n    UnlockExit (office exit)\n    PrintCentered (&quot;PASSWORD ACCEPTED, ACCESS GRANTED,&quot;)\n    PrintCentered (&quot;OFFICE DOOR UNLOCKED&quot;)\n  }\n  else {\n    PrintCentered (&quot;ACCESS DENIED&quot;)\n    PrintCentered (&quot;You notice a strange sound, like a machine being powered on.&quot;)\n    Ask (&quot;Try Again?&quot;) {\n      if (result) {\n        PrintCentered (&quot;PLEASE ENTER SECURITY CODE&quot;)\n        get input {\n          if (result=&quot;4863&quot;) {\n            UnlockExit (office exit)\n            PrintCentered (&quot;PASSWORD ACCEPTED, ACCESS GRANTED,&quot;)\n            PrintCentered (&quot;OFFICE DOOR UNLOCKED&quot;)\n          }\n          else {\n            PrintCentered (&quot;ACCESS DENIED. SECURITY NOTIFIED&quot;)\n            PrintCentered (&quot;You notice the wall above the door opens and a machine gun emerges. It is pointed at you.&quot;)\n            Ask (&quot;Try Again?&quot;) {\n              if (result) {\n                PrintCentered (&quot;PLEASE ENTER SECURITY CODE&quot;)\n                get input {\n                  if (result=&quot;4863&quot;) {\n                    UnlockExit (office exit)\n                    PrintCentered (&quot;PASSWORD ACCEPTED, ACCESS GRANTED,&quot;)\n                    PrintCentered (&quot;OFFICE DOOR UNLOCKED&quot;)\n                  }\n                  else {\n                    PrintCentered (&quot;ACCESS DENIED. BEEEEEEEEP. ACCESS DENIED. BEEEEEEEEP.  ACCESS DENIED. BEEEEEEEEP. ACCESS DENIED. BEEEEEEEEP&quot;)\n                    PrintCentered (&quot;An alarm sounds. The machine gun starts up. There is no way you can escape in time.&quot;)\n                    PrintCentered (&quot;YOU ARE NOW DEAD&quot;)\n                    finish\n                  }\n                }\n              }\n              else {\n                SwitchOff (Office Door Keypad)\n                msg (&quot;You step away from the keypad&quot;)\n              }\n            }\n          }\n        }\n      }\n      else {\n        SwitchOff (Office Door Keypad)\n        msg (&quot;You step away from the keypad&quot;)\n      }\n    }\n  }\n}\n\nIt is working fine, however the only problem I have is when the player steps away from the keypad and uses it again the scripts starts again. What I was wanting to do is when you use the keypad 3 times, no matter if you stop using it and start again, or use it 3 times in a row (which is working) you die. The issue I am having is that you can bypass this by entering and exiting the keypad and it keeps starting from the start. I wanted to make it so if you step out and step back into the keypad then second or third time the script would start on the second or third script I had created. eg these points:\n\n2.   PrintCentered (&quot;ACCESS DENIED. SECURITY NOTIFIED&quot;)\n            PrintCentered (&quot;You notice the wall above the door opens and a machine gun emerges. It is pointed at you.&quot;)\n\n3.   PrintCentered (&quot;ACCESS DENIED. BEEEEEEEEP. ACCESS DENIED. BEEEEEEEEP.  ACCESS DENIED. BEEEEEEEEP. ACCESS DENIED. BEEEEEEEEP&quot;)\n                    PrintCentered (&quot;An alarm sounds. The machine gun starts up. There is no way you can escape in time.&quot;)\n                    PrintCentered (&quot;YOU ARE NOW DEAD&quot;)\n                    finish\n\nAny help would be much appreciated in solving this issue.",
      "EditableFormat": "bbcode",
      "HTML": "Hi,<br/><br/>Just a quick question regarding one of my scripts for my keypad. This is the code:<br/><br/>PrintCentered (&quot;PLEASE ENTER SECURITY CODE&quot;)<br/>get input {<br/>  if (result=&quot;4863&quot;) {<br/>    UnlockExit (office exit)<br/>    PrintCentered (&quot;PASSWORD ACCEPTED, ACCESS GRANTED,&quot;)<br/>    PrintCentered (&quot;OFFICE DOOR UNLOCKED&quot;)<br/>  }<br/>  else {<br/>    PrintCentered (&quot;ACCESS DENIED&quot;)<br/>    PrintCentered (&quot;You notice a strange sound, like a machine being powered on.&quot;)<br/>    Ask (&quot;Try Again?&quot;) {<br/>      if (result) {<br/>        PrintCentered (&quot;PLEASE ENTER SECURITY CODE&quot;)<br/>        get input {<br/>          if (result=&quot;4863&quot;) {<br/>            UnlockExit (office exit)<br/>            PrintCentered (&quot;PASSWORD ACCEPTED, ACCESS GRANTED,&quot;)<br/>            PrintCentered (&quot;OFFICE DOOR UNLOCKED&quot;)<br/>          }<br/>          else {<br/>            PrintCentered (&quot;ACCESS DENIED. SECURITY NOTIFIED&quot;)<br/>            PrintCentered (&quot;You notice the wall above the door opens and a machine gun emerges. It is pointed at you.&quot;)<br/>            Ask (&quot;Try Again?&quot;) {<br/>              if (result) {<br/>                PrintCentered (&quot;PLEASE ENTER SECURITY CODE&quot;)<br/>                get input {<br/>                  if (result=&quot;4863&quot;) {<br/>                    UnlockExit (office exit)<br/>                    PrintCentered (&quot;PASSWORD ACCEPTED, ACCESS GRANTED,&quot;)<br/>                    PrintCentered (&quot;OFFICE DOOR UNLOCKED&quot;)<br/>                  }<br/>                  else {<br/>                    PrintCentered (&quot;ACCESS DENIED. BEEEEEEEEP. ACCESS DENIED. BEEEEEEEEP.  ACCESS DENIED. BEEEEEEEEP. ACCESS DENIED. BEEEEEEEEP&quot;)<br/>                    PrintCentered (&quot;An alarm sounds. The machine gun starts up. There is no way you can escape in time.&quot;)<br/>                    PrintCentered (&quot;YOU ARE NOW DEAD&quot;)<br/>                    finish<br/>                  }<br/>                }<br/>              }<br/>              else {<br/>                SwitchOff (Office Door Keypad)<br/>                msg (&quot;You step away from the keypad&quot;)<br/>              }<br/>            }<br/>          }<br/>        }<br/>      }<br/>      else {<br/>        SwitchOff (Office Door Keypad)<br/>        msg (&quot;You step away from the keypad&quot;)<br/>      }<br/>    }<br/>  }<br/>}<br/><br/>It is working fine, however the only problem I have is when the player steps away from the keypad and uses it again the scripts starts again. What I was wanting to do is when you use the keypad 3 times, no matter if you stop using it and start again, or use it 3 times in a row (which is working) you die. The issue I am having is that you can bypass this by entering and exiting the keypad and it keeps starting from the start. I wanted to make it so if you step out and step back into the keypad then second or third time the script would start on the second or third script I had created. eg these points:<br/><br/>2.   PrintCentered (&quot;ACCESS DENIED. SECURITY NOTIFIED&quot;)<br/>            PrintCentered (&quot;You notice the wall above the door opens and a machine gun emerges. It is pointed at you.&quot;)<br/><br/>3.   PrintCentered (&quot;ACCESS DENIED. BEEEEEEEEP. ACCESS DENIED. BEEEEEEEEP.  ACCESS DENIED. BEEEEEEEEP. ACCESS DENIED. BEEEEEEEEP&quot;)<br/>                    PrintCentered (&quot;An alarm sounds. The machine gun starts up. There is no way you can escape in time.&quot;)<br/>                    PrintCentered (&quot;YOU ARE NOW DEAD&quot;)<br/>                    finish<br/><br/>Any help would be much appreciated in solving this issue.",
      "PostDate": "2014-06-12T10:12:38+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "29090",
      "UserId": 0,
      "Username": "Pertex",
      "UserAvatar": "5940_1369854251.gif",
      "UserGravatar": "4cc1e52f99452e841ecf4cbee9eadde9",
      "EditableText": "I would do it this way:\nadding a use script to the keypad which can be used 3 times. here is a picture of it:\n[attachment=0:1ec7am3j]<!-- ia0 -->pad.jpg<!-- ia0 -->[/attachment:1ec7am3j]\n\nand here the code of the script&#058;\n\n[code:1ec7am3j]\nif (not HasAttribute(game, &quot;keypadused&quot;)) {\n  game&#46;keypadused = 0\n}\nPrintCentered (&quot;PLEASE ENTER SECURITY CODE&quot;)\nget input {\n  if (result=&quot;4863&quot;) {\n    UnlockExit (office exit)\n    PrintCentered (&quot;PASSWORD ACCEPTED, ACCESS GRANTED,&quot;)\n    PrintCentered (&quot;OFFICE DOOR UNLOCKED&quot;)\n  }\n  else {\n    game&#46;keypadused = game&#46;keypadused+1\n    if (3&gt;game&#46;keypadused) {\n      PrintCentered (&quot;ACCESS DENIED&quot;)\n      PrintCentered (&quot;You notice a strange sound, like a machine being powered on&#46;&quot;)\n    }\n    else {\n      PrintCentered (&quot;ACCESS DENIED&#46; BEEEEEEEEP&#46; ACCESS DENIED&#46; BEEEEEEEEP&#46; ACCESS DENIED&#46; BEEEEEEEEP&#46; ACCESS DENIED&#46; BEEEEEEEEP&quot;)\n      PrintCentered (&quot;An alarm sounds&#46; The machine gun starts up&#46; There is no way you can escape in time&#46;&quot;)\n      PrintCentered (&quot;YOU ARE NOW DEAD&quot;)\n      finish\n    }\n  }\n}\n[/code:1ec7am3j]",
      "EditableFormat": "bbcode",
      "HTML": "I would do it this way:<br/>adding a use script to the keypad which can be used 3 times. here is a picture of it:<br/><div><img src=\"/attachment/923\" alt=\"pad.jpg\" /></div><br/><br/>and here the code of the script&#058;<br/><br/><pre><code><br/>if (not HasAttribute(game, &quot;keypadused&quot;)) {<br/>  game&#46;keypadused = 0<br/>}<br/>PrintCentered (&quot;PLEASE ENTER SECURITY CODE&quot;)<br/>get input {<br/>  if (result=&quot;4863&quot;) {<br/>    UnlockExit (office exit)<br/>    PrintCentered (&quot;PASSWORD ACCEPTED, ACCESS GRANTED,&quot;)<br/>    PrintCentered (&quot;OFFICE DOOR UNLOCKED&quot;)<br/>  }<br/>  else {<br/>    game&#46;keypadused = game&#46;keypadused+1<br/>    if (3&gt;game&#46;keypadused) {<br/>      PrintCentered (&quot;ACCESS DENIED&quot;)<br/>      PrintCentered (&quot;You notice a strange sound, like a machine being powered on&#46;&quot;)<br/>    }<br/>    else {<br/>      PrintCentered (&quot;ACCESS DENIED&#46; BEEEEEEEEP&#46; ACCESS DENIED&#46; BEEEEEEEEP&#46; ACCESS DENIED&#46; BEEEEEEEEP&#46; ACCESS DENIED&#46; BEEEEEEEEP&quot;)<br/>      PrintCentered (&quot;An alarm sounds&#46; The machine gun starts up&#46; There is no way you can escape in time&#46;&quot;)<br/>      PrintCentered (&quot;YOU ARE NOW DEAD&quot;)<br/>      finish<br/>    }<br/>  }<br/>}<br/></code></pre>",
      "PostDate": "2014-06-12T15:12:22+01:00",
      "LastEditDate": null
    }
  ]
}
