{
  "Topic": {
    "TopicId": "natvg3iwbeogetwvhhwn4w",
    "ForumId": "10",
    "Title": "Online Save Failure",
    "LastUpdated": "2020-11-24T23:40:54.3944734Z",
    "ReplyCount": 0
  },
  "Posts": [
    {
      "PostId": "651543e3-ee10-435a-819d-c8c970c229a6",
      "UserId": 410093,
      "Username": "Mewmewmew423",
      "AvatarUrl": "https://secure.gravatar.com/avatar/986cff892b720a1186488a189ce8f767?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "For some reason, my game is failing to save while playing with the online client. It does NOT fail while playing the downloaded version with the desktop client. Save files also load just fine with the desktop client.\r\n\r\nThe only error message I receive is:\r\n\r\n```\r\nSaving game...\r\nFailed to save game.\r\n```\r\n\r\nWhat might be the issue? I saw suggestions that it might be a missing bracket in some other threads, but how would I find that? I've been looking through every object and have yet to find an instance, though I could have missed it.\r\n\r\nEDIT: My save files are about 3.25 MB. Might they be too big for the online client to handle? My game does lag a lot while trying to play it online too.",
      "EditableFormat": "markdown",
      "HTML": "<p>For some reason, my game is failing to save while playing with the online client. It does NOT fail while playing the downloaded version with the desktop client. Save files also load just fine with the desktop client.</p>\n<p>The only error message I receive is:</p>\n<pre><code>Saving game...\nFailed to save game.\n</code></pre>\n<p>What might be the issue? I saw suggestions that it might be a missing bracket in some other threads, but how would I find that? I've been looking through every object and have yet to find an instance, though I could have missed it.</p>\n<p>EDIT: My save files are about 3.25 MB. Might they be too big for the online client to handle? My game does lag a lot while trying to play it online too.</p>\n\n",
      "PostDate": "2020-11-24T23:40:54.3944734Z",
      "LastEditDate": "2020-11-24T23:45:12.6528746Z",
      "link": null
    },
    {
      "PostId": "2823c6aa-af4f-46a3-ad40-206911de70de",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Does your game have a lot of text in the output area, leading to the large filesize?\r\n\r\nIf there is a problem in the game file which stops it saying, the message will be `\"Failed to save game: \" + result.Reason + \"<br/>\"`. If the Quest backend doesn't supply a reason, it would appear as `Failed to save game: .`\r\n\r\nWithout the colon, that indicates a HTTP error rather than a Quest error. Most likely, the request has timed out or your connection to the server was interrupted. It isn't the most stable at the best of times, so it's entirely possible that the amount of text in your output (which the browser has to send back to the server before saving) is taking too long and causing the save to time out.\r\n\r\nYou could try including an option to clear the screen at some point and disable `saveClearedText`, to see if this makes a difference.",
      "EditableFormat": "markdown",
      "HTML": "<p>Does your game have a lot of text in the output area, leading to the large filesize?</p>\n<p>If there is a problem in the game file which stops it saying, the message will be <code>\"Failed to save game: \" + result.Reason + \"&lt;br/&gt;\"</code>. If the Quest backend doesn't supply a reason, it would appear as <code>Failed to save game: .</code></p>\n<p>Without the colon, that indicates a HTTP error rather than a Quest error. Most likely, the request has timed out or your connection to the server was interrupted. It isn't the most stable at the best of times, so it's entirely possible that the amount of text in your output (which the browser has to send back to the server before saving) is taking too long and causing the save to time out.</p>\n<p>You could try including an option to clear the screen at some point and disable <code>saveClearedText</code>, to see if this makes a difference.</p>\n\n",
      "PostDate": "2020-11-25T09:55:33.798517Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "3ede3aa2-f24c-47b5-9f0b-a2646623eef4",
      "UserId": 410093,
      "Username": "Mewmewmew423",
      "AvatarUrl": "https://secure.gravatar.com/avatar/986cff892b720a1186488a189ce8f767?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "I clear the screen every time the player enters a new room, and each room doesn't have a whole lot of text until you interact with things. I've also tried saving the game right at the start and get the same result.\r\n\r\nWhere would I disable saveClearedText?",
      "EditableFormat": "markdown",
      "HTML": "<p>I clear the screen every time the player enters a new room, and each room doesn't have a whole lot of text until you interact with things. I've also tried saving the game right at the start and get the same result.</p>\n<p>Where would I disable saveClearedText?</p>\n\n",
      "PostDate": "2020-11-25T11:19:46.5352481Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "8c49f323-ed11-4f5b-a22f-4f124ea33d88",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "> Where would I disable saveClearedText?\r\n\r\nI believe the relevant line is:\r\n```\r\nJS.eval(\"saveClearedText = false;\")\r\n```\r\nWithout this, clearing the screen hides the text currently displayed, but doesn't remove it, so it will all still be sent back to the server when you attempt to save.",
      "EditableFormat": "markdown",
      "HTML": "<blockquote>\n<p>Where would I disable saveClearedText?</p>\n</blockquote>\n<p>I believe the relevant line is:</p>\n<pre><code>JS.eval(\"saveClearedText = false;\")\n</code></pre>\n<p>Without this, clearing the screen hides the text currently displayed, but doesn't remove it, so it will all still be sent back to the server when you attempt to save.</p>\n\n",
      "PostDate": "2020-11-25T12:11:56.9265884Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "7f0e7548-3cd3-47f0-b0a8-9336fdac472c",
      "UserId": 410093,
      "Username": "Mewmewmew423",
      "AvatarUrl": "https://secure.gravatar.com/avatar/986cff892b720a1186488a189ce8f767?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "I tried pasting this line into the start script section of the game object's Scripts tab, but I'm still getting the save error. Is this the right spot to place it or does it need to go somewhere else?",
      "EditableFormat": "markdown",
      "HTML": "<p>I tried pasting this line into the start script section of the game object's Scripts tab, but I'm still getting the save error. Is this the right spot to place it or does it need to go somewhere else?</p>\n\n",
      "PostDate": "2020-12-08T09:44:24.4220919Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "58cb3ec3-c384-4272-87a2-d441fe18b4c4",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "It should work in the start script; but then it wouldn't take effect when reloading a saved game.\r\n(If it worked, you'd need to move it to the 'UI Initialisation script' on the 'Advanced Scripts' tab - this is the case for most code that starts with `JS.`)\r\n\r\nIf you can't save once, then I'd guess it isn't helping.\r\nI'm not sure if the online player has a limit to the size of the save file; I've only looked at the code for Quest itself, not the website.\r\nIf you have a save file you could share, that might make it easier to see if there are any other problems, or if there's anything that could be made more efficient to reduce its size.",
      "EditableFormat": "markdown",
      "HTML": "<p>It should work in the start script; but then it wouldn't take effect when reloading a saved game.<br>\n(If it worked, you'd need to move it to the 'UI Initialisation script' on the 'Advanced Scripts' tab - this is the case for most code that starts with <code>JS.</code>)</p>\n<p>If you can't save once, then I'd guess it isn't helping.<br>\nI'm not sure if the online player has a limit to the size of the save file; I've only looked at the code for Quest itself, not the website.<br>\nIf you have a save file you could share, that might make it easier to see if there are any other problems, or if there's anything that could be made more efficient to reduce its size.</p>\n\n",
      "PostDate": "2020-12-08T13:47:54.4907568Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "fd462ff3-1ba1-4aa3-b874-7c7838410814",
      "UserId": 410093,
      "Username": "Mewmewmew423",
      "AvatarUrl": "https://secure.gravatar.com/avatar/986cff892b720a1186488a189ce8f767?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "My save file is around 3.3MB. I did recently add some music to the game. Will I have to remove that for the online version?",
      "EditableFormat": "markdown",
      "HTML": "<p>My save file is around 3.3MB. I did recently add some music to the game. Will I have to remove that for the online version?</p>\n\n",
      "PostDate": "2020-12-08T14:47:02.2820291Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "80f047f5-f508-4b34-a2b1-05b436f2d2e0",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "I don't think resources are included in the save file, but not sure.",
      "EditableFormat": "markdown",
      "HTML": "<p>I don't think resources are included in the save file, but not sure.</p>\n\n",
      "PostDate": "2020-12-08T16:13:40.22965Z",
      "LastEditDate": null,
      "link": null
    }
  ]
}
