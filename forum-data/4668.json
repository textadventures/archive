{
  "Topic": {
    "TopicId": "4668",
    "ForumId": "10",
    "Title": "Knowing when a saved game has been reloaded",
    "LastUpdated": "2015-01-28T17:07:58+00:00",
    "ReplyCount": 19
  },
  "Posts": [
    {
      "PostId": "30746",
      "UserId": 0,
      "Username": "jaynabonne",
      "UserAvatar": "6579_1344778256.jpg",
      "UserGravatar": "379859a7f1952a65399fc63997e68f0b",
      "EditableText": "This will either be easy or impossible, so...\n\nWhen I save and then load the saved game, all the HTML layout changes I have made (e.g turning off the side bar, turning off the command prompt) and any JS hooking I have done are not restored. Is there a way to know when a saved game has been loaded so I can set things back the way they should be?",
      "EditableFormat": "bbcode",
      "HTML": "This will either be easy or impossible, so...<br/><br/>When I save and then load the saved game, all the HTML layout changes I have made (e.g turning off the side bar, turning off the command prompt) and any JS hooking I have done are not restored. Is there a way to know when a saved game has been loaded so I can set things back the way they should be?",
      "PostDate": "2014-10-16T22:08:23+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "30747",
      "UserId": 0,
      "Username": "Pertex",
      "UserAvatar": "5940_1369854251.gif",
      "UserGravatar": "4cc1e52f99452e841ecf4cbee9eadde9",
      "EditableText": "You can overwrite the empty function inituserinterface \n<!-- m --><a class=\"postlink\" href=\"http://docs.textadventures.co.uk/quest/functions/corelibrary/inituserinterface.html\">http://docs.textadventures.co.uk/quest/ ... rface.html</a><!-- m -->",
      "EditableFormat": "bbcode",
      "HTML": "You can overwrite the empty function inituserinterface <br/><!-- m --><a class=\"postlink\" href=\"http://docs.textadventures.co.uk/quest/functions/corelibrary/inituserinterface.html\">http://docs.textadventures.co.uk/quest/ ... rface.html</a><!-- m -->",
      "PostDate": "2014-10-16T22:14:02+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "30748",
      "UserId": 0,
      "Username": "jaynabonne",
      "UserAvatar": "6579_1344778256.jpg",
      "UserGravatar": "379859a7f1952a65399fc63997e68f0b",
      "EditableText": "Great! Thanks. I was hoping it was easy. <!-- s:) --><img src=\"{SMILIES_PATH}/icon_smile.gif\" alt=\":)\" title=\"Smile\" /><!-- s:) -->",
      "EditableFormat": "bbcode",
      "HTML": "Great! Thanks. I was hoping it was easy. <!-- s:) --><img src=\"{SMILIES_PATH}/icon_smile.gif\" alt=\":)\" title=\"Smile\" /><!-- s:) -->",
      "PostDate": "2014-10-16T22:46:41+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "30750",
      "UserId": 0,
      "Username": "TextStories",
      "UserAvatar": null,
      "UserGravatar": "ec4fb09a0b797424dd59ffabd1a1b788",
      "EditableText": "When I load a saved game, the entire screen fills up with everything that had been typed/read and done last time.  Is that normal?",
      "EditableFormat": "bbcode",
      "HTML": "When I load a saved game, the entire screen fills up with everything that had been typed/read and done last time.  Is that normal?",
      "PostDate": "2014-10-17T05:53:10+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "30752",
      "UserId": 0,
      "Username": "jaynabonne",
      "UserAvatar": "6579_1344778256.jpg",
      "UserGravatar": "379859a7f1952a65399fc63997e68f0b",
      "EditableText": "Yes, that's normal and automatic. The output text is restored for you.",
      "EditableFormat": "bbcode",
      "HTML": "Yes, that's normal and automatic. The output text is restored for you.",
      "PostDate": "2014-10-17T07:31:33+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "30754",
      "UserId": 0,
      "Username": "TextStories",
      "UserAvatar": null,
      "UserGravatar": "ec4fb09a0b797424dd59ffabd1a1b788",
      "EditableText": "Oh... is there a way to stop that?",
      "EditableFormat": "bbcode",
      "HTML": "Oh... is there a way to stop that?",
      "PostDate": "2014-10-17T07:48:07+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "30756",
      "UserId": 0,
      "Username": "jaynabonne",
      "UserAvatar": "6579_1344778256.jpg",
      "UserGravatar": "379859a7f1952a65399fc63997e68f0b",
      "EditableText": "You could probably implement the function &quot;InitUserInterface&quot; mentioned above and then clear the screen. <!-- s:) --><img src=\"{SMILIES_PATH}/icon_smile.gif\" alt=\":)\" title=\"Smile\" /><!-- s:) --> You'd probably also have to show the room description again so that the player isn't facing a blank screen. (It does mean that from the player's point of view, save/restore don't put you back in the same state you were before. Before the save you had all the previous text to look at, whereas after a reload you don't. But that's your design decision.)",
      "EditableFormat": "bbcode",
      "HTML": "You could probably implement the function &quot;InitUserInterface&quot; mentioned above and then clear the screen. <!-- s:) --><img src=\"{SMILIES_PATH}/icon_smile.gif\" alt=\":)\" title=\"Smile\" /><!-- s:) --> You'd probably also have to show the room description again so that the player isn't facing a blank screen. (It does mean that from the player's point of view, save/restore don't put you back in the same state you were before. Before the save you had all the previous text to look at, whereas after a reload you don't. But that's your design decision.)",
      "PostDate": "2014-10-17T09:44:25+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "30758",
      "UserId": 0,
      "Username": "Silver",
      "UserAvatar": null,
      "UserGravatar": "13024be5ccbb463906b024d5bd3cb5e8",
      "EditableText": "I  can forsee me having problems with regards to backing audio in this regard. Need to test but I bet a reload won't remember audio playing. Is there a way to perform a check and retrigger? I think my background audio will be controlled by flags indicating various game states rather than room by room.",
      "EditableFormat": "bbcode",
      "HTML": "I  can forsee me having problems with regards to backing audio in this regard. Need to test but I bet a reload won't remember audio playing. Is there a way to perform a check and retrigger? I think my background audio will be controlled by flags indicating various game states rather than room by room.",
      "PostDate": "2014-10-17T10:11:30+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "30759",
      "UserId": 0,
      "Username": "jaynabonne",
      "UserAvatar": "6579_1344778256.jpg",
      "UserGravatar": "379859a7f1952a65399fc63997e68f0b",
      "EditableText": "You should be able to restart the audio in InitUserInterface. What I was thinking (even for my own game) is to set a flag the first time through on the game object. That flag will be persisted during a save and reload. When the game is reloaded, you'll see the flag set and know it's not the first time. Something like:\n\n[code:30fjbus5]if (GetBoolean(game, &quot;inprogress&quot;)) {\n  // game is in progress&#46; Restart things based on current state\n} else {\n  // first time launching game&#46;\n  game&#46;inprogress = true\n}[/code:30fjbus5]",
      "EditableFormat": "bbcode",
      "HTML": "You should be able to restart the audio in InitUserInterface. What I was thinking (even for my own game) is to set a flag the first time through on the game object. That flag will be persisted during a save and reload. When the game is reloaded, you'll see the flag set and know it's not the first time. Something like:<br/><br/><pre><code>if (GetBoolean(game, &quot;inprogress&quot;)) {<br/>  // game is in progress&#46; Restart things based on current state<br/>} else {<br/>  // first time launching game&#46;<br/>  game&#46;inprogress = true<br/>}</code></pre>",
      "PostDate": "2014-10-17T10:19:49+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "30760",
      "UserId": 0,
      "Username": "Silver",
      "UserAvatar": null,
      "UserGravatar": "13024be5ccbb463906b024d5bd3cb5e8",
      "EditableText": "&quot;inprogress&quot; being the flag?\n\nThanks for this.",
      "EditableFormat": "bbcode",
      "HTML": "&quot;inprogress&quot; being the flag?<br/><br/>Thanks for this.",
      "PostDate": "2014-10-17T10:24:19+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "30762",
      "UserId": 0,
      "Username": "jaynabonne",
      "UserAvatar": "6579_1344778256.jpg",
      "UserGravatar": "379859a7f1952a65399fc63997e68f0b",
      "EditableText": "Yes. It would be &quot;game.inprogress&quot; (which I thought read nicely). You wouldn't need to create it up front. It would be set the first time through.",
      "EditableFormat": "bbcode",
      "HTML": "Yes. It would be &quot;game.inprogress&quot; (which I thought read nicely). You wouldn't need to create it up front. It would be set the first time through.",
      "PostDate": "2014-10-17T10:26:29+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "30766",
      "UserId": 0,
      "Username": "Silver",
      "UserAvatar": null,
      "UserGravatar": "13024be5ccbb463906b024d5bd3cb5e8",
      "EditableText": "Cheers, I'll give that a try.",
      "EditableFormat": "bbcode",
      "HTML": "Cheers, I'll give that a try.",
      "PostDate": "2014-10-17T14:27:08+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "30768",
      "UserId": 0,
      "Username": "TextStories",
      "UserAvatar": null,
      "UserGravatar": "ec4fb09a0b797424dd59ffabd1a1b788",
      "EditableText": "[quote=&quot;jaynabonne&quot;:2x5s7vab]You could probably implement the function &quot;InitUserInterface&quot; mentioned above and then clear the screen. <!-- s:) --><img src=\"{SMILIES_PATH}/icon_smile.gif\" alt=\":)\" title=\"Smile\" /><!-- s:) --> You'd probably also have to show the room description again so that the player isn't facing a blank screen. (It does mean that from the player's point of view, save/restore don't put you back in the same state you were before. Before the save you had all the previous text to look at, whereas after a reload you don't. But that's your design decision.)[/quote:2x5s7vab]\n\nI meant specifically for me.  I know when I load a TA from a different system, I do not have this program and they have less resources running in the background.  I was not sure if there was a file folder some where I could note pad something to stop it before it even began.",
      "EditableFormat": "bbcode",
      "HTML": "<blockquote><cite>jaynabonne wrote:</cite>You could probably implement the function &quot;InitUserInterface&quot; mentioned above and then clear the screen. <!-- s:) --><img src=\"{SMILIES_PATH}/icon_smile.gif\" alt=\":)\" title=\"Smile\" /><!-- s:) --> You'd probably also have to show the room description again so that the player isn't facing a blank screen. (It does mean that from the player's point of view, save/restore don't put you back in the same state you were before. Before the save you had all the previous text to look at, whereas after a reload you don't. But that's your design decision.)</blockquote><br/><br/>I meant specifically for me.  I know when I load a TA from a different system, I do not have this program and they have less resources running in the background.  I was not sure if there was a file folder some where I could note pad something to stop it before it even began.",
      "PostDate": "2014-10-17T18:07:27+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "34240",
      "UserId": 0,
      "Username": "Silver",
      "UserAvatar": null,
      "UserGravatar": "13024be5ccbb463906b024d5bd3cb5e8",
      "EditableText": "[quote=&quot;jaynabonne&quot;:2bz9jjr7]You should be able to restart the audio in InitUserInterface. What I was thinking (even for my own game) is to set a flag the first time through on the game object. That flag will be persisted during a save and reload. When the game is reloaded, you'll see the flag set and know it's not the first time. Something like:\n\n[code:2bz9jjr7]if (GetBoolean(game, &quot;inprogress&quot;)) {\n  // game is in progress&#46; Restart things based on current state\n} else {\n  // first time launching game&#46;\n  game&#46;inprogress = true\n}[/code:2bz9jjr7][/quote:2bz9jjr7]\n\nI can't get this to work either. I'm not even sure I understand why it would work. All it's saying, if I understand it correctly, is have you played this before? Yes/no you haven't played this before. But there's nothing saying to the game to retrigger the audio.",
      "EditableFormat": "bbcode",
      "HTML": "<blockquote><cite>jaynabonne wrote:</cite>You should be able to restart the audio in InitUserInterface. What I was thinking (even for my own game) is to set a flag the first time through on the game object. That flag will be persisted during a save and reload. When the game is reloaded, you'll see the flag set and know it's not the first time. Something like:<br/><br/><pre><code>if (GetBoolean(game, &quot;inprogress&quot;)) {<br/>  // game is in progress&#46; Restart things based on current state<br/>} else {<br/>  // first time launching game&#46;<br/>  game&#46;inprogress = true<br/>}</code></pre></blockquote><br/><br/>I can't get this to work either. I'm not even sure I understand why it would work. All it's saying, if I understand it correctly, is have you played this before? Yes/no you haven't played this before. But there's nothing saying to the game to retrigger the audio.",
      "PostDate": "2015-01-28T16:09:54+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "34241",
      "UserId": 0,
      "Username": "Silver",
      "UserAvatar": null,
      "UserGravatar": "13024be5ccbb463906b024d5bd3cb5e8",
      "EditableText": "Or was I supposed to set a flag elsewhere other than just that bit of script in inituserinterface?",
      "EditableFormat": "bbcode",
      "HTML": "Or was I supposed to set a flag elsewhere other than just that bit of script in inituserinterface?",
      "PostDate": "2015-01-28T16:11:10+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "34243",
      "UserId": 0,
      "Username": "jaynabonne",
      "UserAvatar": "6579_1344778256.jpg",
      "UserGravatar": "379859a7f1952a65399fc63997e68f0b",
      "EditableText": "Where it says &quot;Restart things based on current state&quot; in the comment, that's where you'd put in your specific code to restart whatever you wish (audio in this case).",
      "EditableFormat": "bbcode",
      "HTML": "Where it says &quot;Restart things based on current state&quot; in the comment, that's where you'd put in your specific code to restart whatever you wish (audio in this case).",
      "PostDate": "2015-01-28T17:01:54+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "34244",
      "UserId": 0,
      "Username": "Silver",
      "UserAvatar": null,
      "UserGravatar": "13024be5ccbb463906b024d5bd3cb5e8",
      "EditableText": "Oh hang on, I just opened the inituserinterface and bolted that bit of script on. I'm afk atm but will take another look.",
      "EditableFormat": "bbcode",
      "HTML": "Oh hang on, I just opened the inituserinterface and bolted that bit of script on. I'm afk atm but will take another look.",
      "PostDate": "2015-01-28T17:03:49+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "34245",
      "UserId": 0,
      "Username": "Silver",
      "UserAvatar": null,
      "UserGravatar": "13024be5ccbb463906b024d5bd3cb5e8",
      "EditableText": "[quote=&quot;jaynabonne&quot;:1t9szn9v]Where it says &quot;Restart things based on current state&quot; in the comment, that's where you'd put in your specific code to restart whatever you wish (audio in this case).[/quote:1t9szn9v]\n\nSorry lol right... what code does that? Or do I have to create some elaborate if script to do it? which is fine.. at least I know that's what's needed.",
      "EditableFormat": "bbcode",
      "HTML": "<blockquote><cite>jaynabonne wrote:</cite>Where it says &quot;Restart things based on current state&quot; in the comment, that's where you'd put in your specific code to restart whatever you wish (audio in this case).</blockquote><br/><br/>Sorry lol right... what code does that? Or do I have to create some elaborate if script to do it? which is fine.. at least I know that's what's needed.",
      "PostDate": "2015-01-28T17:05:52+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "34246",
      "UserId": 0,
      "Username": "jaynabonne",
      "UserAvatar": "6579_1344778256.jpg",
      "UserGravatar": "379859a7f1952a65399fc63997e68f0b",
      "EditableText": "I would guess it's whatever script you used to start the audio the first time. <!-- s:) --><img src=\"{SMILIES_PATH}/icon_smile.gif\" alt=\":)\" title=\"Smile\" /><!-- s:) -->",
      "EditableFormat": "bbcode",
      "HTML": "I would guess it's whatever script you used to start the audio the first time. <!-- s:) --><img src=\"{SMILIES_PATH}/icon_smile.gif\" alt=\":)\" title=\"Smile\" /><!-- s:) -->",
      "PostDate": "2015-01-28T17:07:34+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "34247",
      "UserId": 0,
      "Username": "Silver",
      "UserAvatar": null,
      "UserGravatar": "13024be5ccbb463906b024d5bd3cb5e8",
      "EditableText": "That explains the open then shut curly braces. Duh. Cheers.",
      "EditableFormat": "bbcode",
      "HTML": "That explains the open then shut curly braces. Duh. Cheers.",
      "PostDate": "2015-01-28T17:07:58+00:00",
      "LastEditDate": null
    }
  ]
}
