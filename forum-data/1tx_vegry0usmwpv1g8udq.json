{
  "Topic": {
    "TopicId": "1tx_vegry0usmwpv1g8udq",
    "ForumId": "10",
    "Title": "Too many items, can't scroll. (resolved)",
    "LastUpdated": "2019-01-16T00:13:31.6159211Z",
    "ReplyCount": 0
  },
  "Posts": [
    {
      "PostId": "bd5a3203-5ff0-468e-94e5-585d60c9b6b8",
      "UserId": 232787,
      "Username": "RobBronson",
      "AvatarUrl": "https://graph.facebook.com/10206073401859041/picture?width=80&height=80",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Okay...not sure how to add an image here...so here is a link to the image in hosting site:\r\nhttps://i.postimg.cc/KYfm5jBC/scroll-issue.jpg\r\n\r\nHere is my problem...I had my wife testing my game for me. She ran around collecting items and dropping them all in the same room so she would remember where they were.\r\nIf you look at the image I provided you will see the scroll bar stops at the bottom of object list...yet when you click an item the options fall below the scroll bar.( 2 ) So, when that object list gets too long it pushes the action buttons ( 1 ) off the bottom of the screen and you can not access them. (3)\r\nIs there a way to extend the scroll bar in order to scroll below the bottom of the page (3) if something is there. \r\n\r\nAny help would be much appreciated...otherwise I am screwed if anyone tries to do as she did. Which I'm certain is a good idea and will happen often.",
      "EditableFormat": "markdown",
      "HTML": "<p>Okay...not sure how to add an image here...so here is a link to the image in hosting site:<br>\nhttps://i.postimg.cc/KYfm5jBC/scroll-issue.jpg</p>\n<p>Here is my problem...I had my wife testing my game for me. She ran around collecting items and dropping them all in the same room so she would remember where they were.<br>\nIf you look at the image I provided you will see the scroll bar stops at the bottom of object list...yet when you click an item the options fall below the scroll bar.( 2 ) So, when that object list gets too long it pushes the action buttons ( 1 ) off the bottom of the screen and you can not access them. (3)<br>\nIs there a way to extend the scroll bar in order to scroll below the bottom of the page (3) if something is there.</p>\n<p>Any help would be much appreciated...otherwise I am screwed if anyone tries to do as she did. Which I'm certain is a good idea and will happen often.</p>\n\n",
      "PostDate": "2019-01-16T00:13:31.6159211Z",
      "LastEditDate": "2019-01-17T18:19:44.9523827Z",
      "link": null
    },
    {
      "PostId": "a037b899-1bdd-40e0-b9f7-09aba33dbbab",
      "UserId": 142763,
      "Username": "Forgewright",
      "AvatarUrl": "http://i.imgur.com/Ea6HecZb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "PC, online, offline, mobile? Either way I'm sure there is a solution. \r\nUnfortunately I don't have it. Should be along soon. \r\nI'm guessing you are playing it on mobile because I have never had the issue on PC.",
      "EditableFormat": "markdown",
      "HTML": "<p>PC, online, offline, mobile? Either way I'm sure there is a solution.<br>\nUnfortunately I don't have it. Should be along soon.<br>\nI'm guessing you are playing it on mobile because I have never had the issue on PC.</p>\n\n",
      "PostDate": "2019-01-16T09:14:16.6232648Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "d3cbb069-d82b-439a-ba1e-d43d44765816",
      "UserId": 277074,
      "Username": "Dcoder",
      "AvatarUrl": "http://i.imgur.com/d9UrZ6lb.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "This is only a workaround -- in local code view, put this in the Advanced Scripts tab (which is check-enabled in the \"Features\" tab):\r\n```\r\nJS.eval (\"$('#placesObjectsLabel, #placesObjectsAccordion').insertBefore('#inventoryLabel');\")\r\n```\r\nNow the \"Places and Objects\" pane will appear above the \"Inventory\" pane, giving you more room.",
      "EditableFormat": "markdown",
      "HTML": "<p>This is only a workaround -- in local code view, put this in the Advanced Scripts tab (which is check-enabled in the \"Features\" tab):</p>\n<pre><code>JS.eval (\"$('#placesObjectsLabel, #placesObjectsAccordion').insertBefore('#inventoryLabel');\")\n</code></pre>\n<p>Now the \"Places and Objects\" pane will appear above the \"Inventory\" pane, giving you more room.</p>\n\n",
      "PostDate": "2019-01-16T09:49:59.1977292Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "f7541eb0-c2f6-4c6a-a253-8b0e0490fddd",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "I've seen the issue before, if I'm understanding you correctly. Can't replicate it on my current setup, though. I think whoever designed the javascript parts of Quest made assumptions about the screen resolution.\r\n\r\nMy first guess was to try `JS.eval(\"$('#gamePanes').css{overflow:'scroll',height:'100%'});\")` - which adds a scroill bar so you can see everything, but the width of the scroll bar means that the compass might no longer fit in the sidebar, causing it to gain a horizontal scroll bar.\r\n\r\nI'm sure there's a better way to do this by playing around with numbers, but it's hard to work out what's the best option. Maybe adjust `updateList` so that instead of making each item list gain a scrollbar when it reaches 12 items, it should add up the height of the compass, status, and command panes (if shown), and then work out how much space is left at the bottom of the window and reduce the size of the inventory and placesobjects lists to the actual number of items the window can contain.",
      "EditableFormat": "markdown",
      "HTML": "<p>I've seen the issue before, if I'm understanding you correctly. Can't replicate it on my current setup, though. I think whoever designed the javascript parts of Quest made assumptions about the screen resolution.</p>\n<p>My first guess was to try <code>JS.eval(\"$('#gamePanes').css{overflow:'scroll',height:'100%'});\")</code> - which adds a scroill bar so you can see everything, but the width of the scroll bar means that the compass might no longer fit in the sidebar, causing it to gain a horizontal scroll bar.</p>\n<p>I'm sure there's a better way to do this by playing around with numbers, but it's hard to work out what's the best option. Maybe adjust <code>updateList</code> so that instead of making each item list gain a scrollbar when it reaches 12 items, it should add up the height of the compass, status, and command panes (if shown), and then work out how much space is left at the bottom of the window and reduce the size of the inventory and placesobjects lists to the actual number of items the window can contain.</p>\n\n",
      "PostDate": "2019-01-16T10:17:43.3545984Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "1542a247-08c0-42d3-a0c5-35c614c21a85",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Off the top of my head (as my head's very much not in a coding space this last month, and I've not got a project of my own to test it on), this javascript might help:\r\n```\r\n$(function () {\r\n  var isListUpdating = 0;\r\n  var realUpdateList = updateList;\r\n  var realUpdateVerbButtons = updateVerbButtons;\r\n  updateList = function (name, data) {\r\n    isListUpdating = 1;\r\n    realUpdateList(name, data);\r\n    isListUpdating = 0;\r\n    if (name == \"placesobjects\") {\r\n      forceListResize();\r\n    }\r\n  };\r\n  updateVerbButtons = function (item, verbsArray, prefix) {\r\n    realUpdateVerbButtons(item, verbsArray, prefix);\r\n    if (!isListUpdating) {\r\n      forceListResize();\r\n    }\r\n  };\r\n  forceListResize = function () {\r\n    $('#gamePanesRunning').css({overflow: 'auto', height: 'auto'});\r\n    var invSize = inventoryVerbs.length;\r\n    var objSize = placesObjectsVerbs.length;\r\n    while ($('#gamePanesRunning').height() > window.innerHeight - 25) {\r\n      if (invSize > objSize) {\r\n        invSize--;\r\n      } else {\r\n        objSize--;\r\n      }\r\n      if (invSize < 3 || objSize < 3) {\r\n        // if the window is way too small, remove the scrollbars for each list and create a single scroll bar for the whole sidebar\r\n        $('#lstInventory').attr('size', inventoryVerbs.length);\r\n        $('#lstPlacesObjects').attr('size', placesObjectsVerbs.length);\r\n        $('#gamePanesRunning').css({overflow: 'scroll', height: window.innerHeight-24});\r\n        return;\r\n      } else {\r\n        $('#lstInventory').attr('size', invSize);\r\n        $('#lstPlacesObjects').attr('size', objSize);\r\n      }\r\n    }\r\n  };\r\n  $(window).resize(forceListResize);\r\n});\r\n```\r\nHoping there's not any typos or dumb mistakes in that; I'll come back and take another look at this when my brain feels up to handling code again.",
      "EditableFormat": "markdown",
      "HTML": "<p>Off the top of my head (as my head's very much not in a coding space this last month, and I've not got a project of my own to test it on), this javascript might help:</p>\n<pre><code>$(function () {\n  var isListUpdating = 0;\n  var realUpdateList = updateList;\n  var realUpdateVerbButtons = updateVerbButtons;\n  updateList = function (name, data) {\n    isListUpdating = 1;\n    realUpdateList(name, data);\n    isListUpdating = 0;\n    if (name == \"placesobjects\") {\n      forceListResize();\n    }\n  };\n  updateVerbButtons = function (item, verbsArray, prefix) {\n    realUpdateVerbButtons(item, verbsArray, prefix);\n    if (!isListUpdating) {\n      forceListResize();\n    }\n  };\n  forceListResize = function () {\n    $('#gamePanesRunning').css({overflow: 'auto', height: 'auto'});\n    var invSize = inventoryVerbs.length;\n    var objSize = placesObjectsVerbs.length;\n    while ($('#gamePanesRunning').height() &gt; window.innerHeight - 25) {\n      if (invSize &gt; objSize) {\n        invSize--;\n      } else {\n        objSize--;\n      }\n      if (invSize &lt; 3 || objSize &lt; 3) {\n        // if the window is way too small, remove the scrollbars for each list and create a single scroll bar for the whole sidebar\n        $('#lstInventory').attr('size', inventoryVerbs.length);\n        $('#lstPlacesObjects').attr('size', placesObjectsVerbs.length);\n        $('#gamePanesRunning').css({overflow: 'scroll', height: window.innerHeight-24});\n        return;\n      } else {\n        $('#lstInventory').attr('size', invSize);\n        $('#lstPlacesObjects').attr('size', objSize);\n      }\n    }\n  };\n  $(window).resize(forceListResize);\n});\n</code></pre>\n<p>Hoping there's not any typos or dumb mistakes in that; I'll come back and take another look at this when my brain feels up to handling code again.</p>\n\n",
      "PostDate": "2019-01-16T10:48:13.4921059Z",
      "LastEditDate": "2019-01-17T13:17:52.8321481Z",
      "link": null
    },
    {
      "PostId": "0bb8445e-b9f0-4db3-9a3b-621a55fa7e49",
      "UserId": 232787,
      "Username": "RobBronson",
      "AvatarUrl": "https://graph.facebook.com/10206073401859041/picture?width=80&height=80",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "@ Forgewrite: I am building the game offline on PC. My wife was playing it through the editor. I'm not certain if the game would have any special or different scroll actions available once it's in a browser.\r\n\r\n@ Decoder: Okay so I set that in and tested it. I tried the scenario I mentioned and now when you walk into a room filled with objects it pushes the Inventory action keys out of the frame and you can not access them. By having it like that isn't ideal but at least it stops a player from being able to drop more items there. In order to access Inventory the player just has to move to another room where the object list isn't as long. At least the player is able to pick up items in the overcrowded room and move them, whereas before she couldn't pick them up.\r\nI'll still look for other options...but if I can't figure something out, I may have to go with this. Thank you.\r\n\r\n@Mrangel: I put in the first line of code and it didn't change anything. I put in the long script you wrote and the game wouldn't load. I put them both in advanced scripts / user interface initialisation...should I be putting that code somewhere else? \r\n\r\n\r\n",
      "EditableFormat": "markdown",
      "HTML": "<p>@ Forgewrite: I am building the game offline on PC. My wife was playing it through the editor. I'm not certain if the game would have any special or different scroll actions available once it's in a browser.</p>\n<p>@ Decoder: Okay so I set that in and tested it. I tried the scenario I mentioned and now when you walk into a room filled with objects it pushes the Inventory action keys out of the frame and you can not access them. By having it like that isn't ideal but at least it stops a player from being able to drop more items there. In order to access Inventory the player just has to move to another room where the object list isn't as long. At least the player is able to pick up items in the overcrowded room and move them, whereas before she couldn't pick them up.<br>\nI'll still look for other options...but if I can't figure something out, I may have to go with this. Thank you.</p>\n<p>@Mrangel: I put in the first line of code and it didn't change anything. I put in the long script you wrote and the game wouldn't load. I put them both in advanced scripts / user interface initialisation...should I be putting that code somewhere else?</p>\n\n",
      "PostDate": "2019-01-16T22:27:12.4242398Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "91f54beb-10e3-4454-aca2-71f79e4a7ada",
      "UserId": 277074,
      "Username": "Dcoder",
      "AvatarUrl": "http://i.imgur.com/d9UrZ6lb.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "You could move the status pane down to the bottom instead:\r\n```\r\nJS.eval (\"$('#statusVarsLabel, #statusVarsAccordion').insertAfter('#inventoryLabel');\")\r\n```\r\n...or order the panes however you want using the above format (.insertBefore or .insertAfter).  The IDs of the various panes/pane labels can be found in-game under HTML Tools tool button --> Elements tab --> \"gameBorder\" drop-down menu --> \"gamePanes\" --> \"gamePanesRunning\".  Insert/replace the element that you want into the above format.\r\n\r\nYou can do this while you try implementing MrAngel's solution.",
      "EditableFormat": "markdown",
      "HTML": "<p>You could move the status pane down to the bottom instead:</p>\n<pre><code>JS.eval (\"$('#statusVarsLabel, #statusVarsAccordion').insertAfter('#inventoryLabel');\")\n</code></pre>\n<p>...or order the panes however you want using the above format (.insertBefore or .insertAfter).  The IDs of the various panes/pane labels can be found in-game under HTML Tools tool button --&gt; Elements tab --&gt; \"gameBorder\" drop-down menu --&gt; \"gamePanes\" --&gt; \"gamePanesRunning\".  Insert/replace the element that you want into the above format.</p>\n<p>You can do this while you try implementing MrAngel's solution.</p>\n\n",
      "PostDate": "2019-01-16T22:56:39.0693366Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "8b3fb3e7-63d4-4a3a-a33c-8aadf4ba91df",
      "UserId": 232787,
      "Username": "RobBronson",
      "AvatarUrl": "https://graph.facebook.com/10206073401859041/picture?width=80&height=80",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "How about making it so that the places and objects pane as well as the inventory pain only show 3 items and you have to scroll for the rest? That might fix the problem. How would I do that?\r\n\r\nBTW...I truly appreciate the help. Thank you guys :)",
      "EditableFormat": "markdown",
      "HTML": "<p>How about making it so that the places and objects pane as well as the inventory pain only show 3 items and you have to scroll for the rest? That might fix the problem. How would I do that?</p>\n<p>BTW...I truly appreciate the help. Thank you guys :)</p>\n\n",
      "PostDate": "2019-01-16T23:49:53.1040519Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "f918d0db-146b-4e0d-8dc9-a33f64300c7e",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "> How about making it so that the places and objects pane as well as the inventory pain only show 3 items and you have to scroll for the rest? That might fix the problem. How would I do that?\r\n\r\nUnfortunately, you'd have to copy the `updateList` function and change the number.\r\n\r\nThe big script I posted was supposed to start off with the lists long enough to fit all items without scrolling, and then shrink whichever list is longer until all panes fit on the screen. It's Javascript, not Quest script. So you'd need to either put it in a .js file (not sure how you set that up as I haven't got Windows so can't run Quest on desktop), or remove all the line breaks and wrap it in an eval statement.\r\n\r\nHowever, it looks like I've made a couple of mistakes in the code; and my net connection right now is taking ~5 minutes to reload the test game every time I try to fix it. I'll try to work out later what I've done wrong there.\r\n\r\nHave made some changes on the version above, so it's kind of usable but still ugly.\r\nHere's a one-line version that you can put into Quest's UI initialisation script:\r\n```\r\nJS.eval(\"$(function(){var n=0,s=updateList,i=updateVerbButtons;updateList=function(e,t){n=1,s(e,t),n=0,'placesobjects'==e&&flr()},updateVerbButtons=function(e,t,s){i(e,t,s),n||flr()},var flr=function(){$('#gamePanesRunning').css({overflow:'auto',height:'auto'});for(var e=inventoryVerbs.length,t=placesObjectsVerbs.length;$('#gamePanesRunning').height()>window.innerHeight-25;){if(t<e?e--:t--,e<3||t<3)return $('#lstInventory').attr('size',inventoryVerbs.length),$('#lstPlacesObjects').attr('size',placesObjectsVerbs.length),void $('#gamePanesRunning').css({overflow:'scroll',height:window.innerHeight-24});$('#lstInventory').attr('size',e),$('#lstPlacesObjects').attr('size',t)}},$(window).resize(flr)});\")\r\n```\r\n\r\nI still need to make this neater.",
      "EditableFormat": "markdown",
      "HTML": "<blockquote>\n<p>How about making it so that the places and objects pane as well as the inventory pain only show 3 items and you have to scroll for the rest? That might fix the problem. How would I do that?</p>\n</blockquote>\n<p>Unfortunately, you'd have to copy the <code>updateList</code> function and change the number.</p>\n<p>The big script I posted was supposed to start off with the lists long enough to fit all items without scrolling, and then shrink whichever list is longer until all panes fit on the screen. It's Javascript, not Quest script. So you'd need to either put it in a .js file (not sure how you set that up as I haven't got Windows so can't run Quest on desktop), or remove all the line breaks and wrap it in an eval statement.</p>\n<p>However, it looks like I've made a couple of mistakes in the code; and my net connection right now is taking ~5 minutes to reload the test game every time I try to fix it. I'll try to work out later what I've done wrong there.</p>\n<p>Have made some changes on the version above, so it's kind of usable but still ugly.<br>\nHere's a one-line version that you can put into Quest's UI initialisation script:</p>\n<pre><code>JS.eval(\"$(function(){var n=0,s=updateList,i=updateVerbButtons;updateList=function(e,t){n=1,s(e,t),n=0,'placesobjects'==e&amp;&amp;flr()},updateVerbButtons=function(e,t,s){i(e,t,s),n||flr()},var flr=function(){$('#gamePanesRunning').css({overflow:'auto',height:'auto'});for(var e=inventoryVerbs.length,t=placesObjectsVerbs.length;$('#gamePanesRunning').height()&gt;window.innerHeight-25;){if(t&lt;e?e--:t--,e&lt;3||t&lt;3)return $('#lstInventory').attr('size',inventoryVerbs.length),$('#lstPlacesObjects').attr('size',placesObjectsVerbs.length),void $('#gamePanesRunning').css({overflow:'scroll',height:window.innerHeight-24});$('#lstInventory').attr('size',e),$('#lstPlacesObjects').attr('size',t)}},$(window).resize(flr)});\")\n</code></pre>\n<p>I still need to make this neater.</p>\n\n",
      "PostDate": "2019-01-17T13:16:02.2159636Z",
      "LastEditDate": "2019-01-17T13:23:32.6045184Z",
      "link": null
    },
    {
      "PostId": "5ffcf18e-2e09-42ca-9fc5-23ea7bb3585d",
      "UserId": 232787,
      "Username": "RobBronson",
      "AvatarUrl": "https://graph.facebook.com/10206073401859041/picture?width=80&height=80",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "I'm going to test this out some more...but this latest one seems to be working.\r\nVery much appreciated :)\r\nThank you",
      "EditableFormat": "markdown",
      "HTML": "<p>I'm going to test this out some more...but this latest one seems to be working.<br>\nVery much appreciated :)<br>\nThank you</p>\n\n",
      "PostDate": "2019-01-17T18:18:23.6001595Z",
      "LastEditDate": null,
      "link": null
    }
  ]
}
