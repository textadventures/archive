{
  "Topic": {
    "TopicId": "5702",
    "ForumId": "18",
    "Title": "Water Supply",
    "LastUpdated": "2015-12-10T23:38:08+00:00",
    "ReplyCount": 17
  },
  "Posts": [
    {
      "PostId": "39272",
      "UserId": 0,
      "Username": "OurJud",
      "UserAvatar": "7473_1417206896.jpg",
      "UserGravatar": "7892e1059c02a91b34ffd60deb7402ff",
      "EditableText": "[b:1uzpsj3b][size=150:1uzpsj3b]NB - Many thanks to all who helped me tidy up my code, especially Pertex, whose revised scripts you see here.[/size:1uzpsj3b][/b:1uzpsj3b]\n\nThese scripts don't deal with a gradually diminishing supply (I ain't clever enough for that), but they do handle a number of factors.\n\nIt uses two objects ('full bottle of water' and 'empty bottle of water'), one flag ('water' - on rooms with water source), an 'offstage' room, and two custom commands (added to 'game' to make them global); 'drink water' and 'fill bottle' (feel free to add variations)\n\nScript features (in no particular order):\n\n[list:1uzpsj3b]\nChecks to see if player is carrying water bottle\nSwaps between 'full bottle of water' and 'empty bottle of water' in inventory\n\nCOMMAND - DRINK:\nIf there IS a source of water in a given location, the command of 'drink' will not take the water from the bottle. It will take it from the source.\nIf there is NO water source and the bottle is FULL, the command of 'drink' will replace the 'full bottle of water in your inventory with 'empty bottle of water'\nIf player is NOT carrying bottle and there's NO water source, return response &quot;There's no water here.&quot;\nIf player is carrying EMPTY bottle and there's NO water source, return response &quot;Your bottle is empty.&quot;\n\nCOMMAND - FILL:\nIf player is carrying EMPTY bottle and there IS a water source, the command 'fill bottle' will replace 'empty bottle of water' with 'full bottle of water' in your inventory.\nIf player is carrying FULL bottle and there IS a water source, the command 'fill bottle' will get the response &quot;The bottle is already full.&quot;[/list:u:1uzpsj3b]\n\n[b:1uzpsj3b]Remember, a flag (''water' in the case of this script) must be set on the 'player', on any location with a water source.\nAlso remember to unset the 'water' flag on any exits from the room with a water source.[/b:1uzpsj3b]\n\nCOMMAND SCRIPT ('drink water; drink; etc etc etc)\n\n[code:1uzpsj3b]if (GetBoolean(player, &quot;water&quot;)) {\n    msg (&quot;You drink the water&#46;&quot;)\n} else if (Got(empty water bottle)) {\n    msg (&quot;Your bottle is empty&#46;&quot;)\n} else if (Got(full water bottle)) {\n    msg (&quot;You drink the water&#46;&quot;)\n    MoveObject (full water bottle, offstage)\n    MoveObject (empty water bottle, player)\n} else {\n msg(&quot;There's no water here&quot;)\n}[/code:1uzpsj3b]\nCOMMAND SCRIPTS ('fill bottle; gather water; collect water etc etc etc)\n\n[code:1uzpsj3b]  if (not GetBoolean(player, &quot;water&quot;)) {\n    msg (&quot;There's no water here&#46;&quot;)\n  }\n  else if (not Got(empty water bottle)) {\n     msg (&quot;You don't have a bottle&#46;&quot;)\n  }\n  else if (Got(full water bottle)) {\n      msg (&quot;It's already full&#46;&quot;)\n  }\n  else {\n    msg (&quot;You fill the bottle&#46;&quot;)\n    MoveObject (empty water bottle, offstage)\n    MoveObject (full water bottle, player)\n  }   \n  [/code:1uzpsj3b]",
      "EditableFormat": "bbcode",
      "HTML": "<span style=\"font-weight:bold;\"><span style=\"font-size:150\">NB - Many thanks to all who helped me tidy up my code, especially Pertex, whose revised scripts you see here.</span></span><br/><br/>These scripts don't deal with a gradually diminishing supply (I ain't clever enough for that), but they do handle a number of factors.<br/><br/>It uses two objects ('full bottle of water' and 'empty bottle of water'), one flag ('water' - on rooms with water source), an 'offstage' room, and two custom commands (added to 'game' to make them global); 'drink water' and 'fill bottle' (feel free to add variations)<br/><br/>Script features (in no particular order):<br/><br/>[list]<br/>Checks to see if player is carrying water bottle<br/>Swaps between 'full bottle of water' and 'empty bottle of water' in inventory<br/><br/>COMMAND - DRINK:<br/>If there IS a source of water in a given location, the command of 'drink' will not take the water from the bottle. It will take it from the source.<br/>If there is NO water source and the bottle is FULL, the command of 'drink' will replace the 'full bottle of water in your inventory with 'empty bottle of water'<br/>If player is NOT carrying bottle and there's NO water source, return response &quot;There's no water here.&quot;<br/>If player is carrying EMPTY bottle and there's NO water source, return response &quot;Your bottle is empty.&quot;<br/><br/>COMMAND - FILL:<br/>If player is carrying EMPTY bottle and there IS a water source, the command 'fill bottle' will replace 'empty bottle of water' with 'full bottle of water' in your inventory.<br/>If player is carrying FULL bottle and there IS a water source, the command 'fill bottle' will get the response &quot;The bottle is already full.&quot;[/list:u]<br/><br/><span style=\"font-weight:bold;\">Remember, a flag (''water' in the case of this script) must be set on the 'player', on any location with a water source.<br/>Also remember to unset the 'water' flag on any exits from the room with a water source.</span><br/><br/>COMMAND SCRIPT ('drink water; drink; etc etc etc)<br/><br/><pre><code>if (GetBoolean(player, &quot;water&quot;)) {<br/>    msg (&quot;You drink the water&#46;&quot;)<br/>} else if (Got(empty water bottle)) {<br/>    msg (&quot;Your bottle is empty&#46;&quot;)<br/>} else if (Got(full water bottle)) {<br/>    msg (&quot;You drink the water&#46;&quot;)<br/>    MoveObject (full water bottle, offstage)<br/>    MoveObject (empty water bottle, player)<br/>} else {<br/> msg(&quot;There's no water here&quot;)<br/>}</code></pre><br/>COMMAND SCRIPTS ('fill bottle; gather water; collect water etc etc etc)<br/><br/><pre><code>  if (not GetBoolean(player, &quot;water&quot;)) {<br/>    msg (&quot;There's no water here&#46;&quot;)<br/>  }<br/>  else if (not Got(empty water bottle)) {<br/>     msg (&quot;You don't have a bottle&#46;&quot;)<br/>  }<br/>  else if (Got(full water bottle)) {<br/>      msg (&quot;It's already full&#46;&quot;)<br/>  }<br/>  else {<br/>    msg (&quot;You fill the bottle&#46;&quot;)<br/>    MoveObject (empty water bottle, offstage)<br/>    MoveObject (full water bottle, player)<br/>  }   <br/>  </code></pre>",
      "PostDate": "2015-12-07T11:40:01+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "39276",
      "UserId": 0,
      "Username": "Pertex",
      "UserAvatar": "5940_1369854251.gif",
      "UserGravatar": "4cc1e52f99452e841ecf4cbee9eadde9",
      "EditableText": "Wouldn't it possible to shorten your scripts e.g the drink script like this:\n[code:636hsi3p]\nif (GetBoolean(player, &quot;water&quot;)) {\n    msg (&quot;You drink the water&#46;&quot;)\n} else if (Got(empty water bottle)) {\n    msg (&quot;Your bottle is empty&#46;&quot;)\n} else if (Got(full water bottle)) {\n    msg (&quot;You drink the water&#46;&quot;)\n    MoveObject (full water bottle, offstage)\n    MoveObject (empty water bottle, player)\n}\n[/code:636hsi3p]",
      "EditableFormat": "bbcode",
      "HTML": "Wouldn't it possible to shorten your scripts e.g the drink script like this:<br/><pre><code><br/>if (GetBoolean(player, &quot;water&quot;)) {<br/>    msg (&quot;You drink the water&#46;&quot;)<br/>} else if (Got(empty water bottle)) {<br/>    msg (&quot;Your bottle is empty&#46;&quot;)<br/>} else if (Got(full water bottle)) {<br/>    msg (&quot;You drink the water&#46;&quot;)<br/>    MoveObject (full water bottle, offstage)<br/>    MoveObject (empty water bottle, player)<br/>}<br/></code></pre>",
      "PostDate": "2015-12-07T14:15:52+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "39277",
      "UserId": 0,
      "Username": "OurJud",
      "UserAvatar": "7473_1417206896.jpg",
      "UserGravatar": "7892e1059c02a91b34ffd60deb7402ff",
      "EditableText": "Possibly, Pertex, but would that shortened version cover all the permutations?\n\nLet me see if I can run through all the possibilities required for 'drink':\n\nFULL water bottle AND water source = grants drink, but doesn't take it from the bottle.\nFULL water bottle and NO water source = grants drink (from the bottle) AND replaces full bottle in inventory with empty bottle.\nEMPTY water bottle AND water source = grants drink (from source) but keeps bottle empty (unless players 'fills bottle')\nEMPTY water bottle and NO source - denies drink.\n\nIf the shortened version covers all this, then great, but if I'm understanding it properly, your code wouldn't allow the player to drink from the source if their bottle was empty.\n\nTell you what, I'll whack it in and see.\n\nSeems to work, Pertex, but for one thing. If the player drops the bottle outside of a water source, 'drink' should return 'There's no water here', but with your script it returns a null.",
      "EditableFormat": "bbcode",
      "HTML": "Possibly, Pertex, but would that shortened version cover all the permutations?<br/><br/>Let me see if I can run through all the possibilities required for 'drink':<br/><br/>FULL water bottle AND water source = grants drink, but doesn't take it from the bottle.<br/>FULL water bottle and NO water source = grants drink (from the bottle) AND replaces full bottle in inventory with empty bottle.<br/>EMPTY water bottle AND water source = grants drink (from source) but keeps bottle empty (unless players 'fills bottle')<br/>EMPTY water bottle and NO source - denies drink.<br/><br/>If the shortened version covers all this, then great, but if I'm understanding it properly, your code wouldn't allow the player to drink from the source if their bottle was empty.<br/><br/>Tell you what, I'll whack it in and see.<br/><br/>Seems to work, Pertex, but for one thing. If the player drops the bottle outside of a water source, 'drink' should return 'There's no water here', but with your script it returns a null.",
      "PostDate": "2015-12-07T14:59:43+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "39279",
      "UserId": 0,
      "Username": "OurJud",
      "UserAvatar": "7473_1417206896.jpg",
      "UserGravatar": "7892e1059c02a91b34ffd60deb7402ff",
      "EditableText": "Can't get my head around this, which isn't helped because I don't know the difference between 'ifs', 'else ifs' and 'else' !!!\n\nIf the player types &quot;fill bottle&quot; in succession, I want the response, &quot;It's already full.&quot; But when I test it, I get:\n&quot;It's already full.\nYou don't have the bottle.&quot;\n\nThis is the script&#058;\n\n[code:1c4jgejo]if (Got(full water bottle)) {\n  if (GetBoolean(player, &quot;water&quot;)) {\n    msg (&quot;It's already full&#46;&quot;)\n  }\n}\nif (Got(empty water bottle)) {\n  if (GetBoolean(player, &quot;water&quot;)) {\n    msg (&quot;You fill the bottle&#46;&quot;)\n    MoveObject (empty water bottle, offstage)\n    MoveObject (full water bottle, player)\n  }\n}\nif (Got(empty water bottle)) {\n  if (not GetBoolean(player, &quot;water&quot;)) {\n    msg (&quot;There's no water here&#46;&quot;)\n  }\n}\nelse if (Got(empty water bottle)) {\n  if (not GetBoolean(player, &quot;water&quot;)) {\n    msg (&quot;There is no water here&#46;&quot;)\n  }\n}\nelse if (Got(full water bottle)) {\n  if (not GetBoolean(player, &quot;water&quot;)) {\n    msg (&quot;It's already full&#46;&quot;)\n  }\n}\nelse if (not Got(empty water bottle)) {\n  if (not GetBoolean(player, &quot;water&quot;)) {\n    msg (&quot;You don't have a bottle&#46;&quot;)\n  }\n}\nelse if (not Got(full water bottle)) {\n  if (not GetBoolean(player, &quot;water&quot;)) {\n    msg (&quot;You don't have a bottle&#46;&quot;)\n  }\n}\nelse if (not Got(empty water bottle)) {\n  if (GetBoolean(player, &quot;water&quot;)) {\n    msg (&quot;You don't have a bottle&#46;&quot;)\n  }\n}\nelse if (not Got(full water bottle)) {\n  if (GetBoolean(player, &quot;water&quot;)) {\n    msg (&quot;You don't have a bottle&#46;&quot;)\n  }\n}[/code:1c4jgejo]",
      "EditableFormat": "bbcode",
      "HTML": "Can't get my head around this, which isn't helped because I don't know the difference between 'ifs', 'else ifs' and 'else' !!!<br/><br/>If the player types &quot;fill bottle&quot; in succession, I want the response, &quot;It's already full.&quot; But when I test it, I get:<br/>&quot;It's already full.<br/>You don't have the bottle.&quot;<br/><br/>This is the script&#058;<br/><br/><pre><code>if (Got(full water bottle)) {<br/>  if (GetBoolean(player, &quot;water&quot;)) {<br/>    msg (&quot;It's already full&#46;&quot;)<br/>  }<br/>}<br/>if (Got(empty water bottle)) {<br/>  if (GetBoolean(player, &quot;water&quot;)) {<br/>    msg (&quot;You fill the bottle&#46;&quot;)<br/>    MoveObject (empty water bottle, offstage)<br/>    MoveObject (full water bottle, player)<br/>  }<br/>}<br/>if (Got(empty water bottle)) {<br/>  if (not GetBoolean(player, &quot;water&quot;)) {<br/>    msg (&quot;There's no water here&#46;&quot;)<br/>  }<br/>}<br/>else if (Got(empty water bottle)) {<br/>  if (not GetBoolean(player, &quot;water&quot;)) {<br/>    msg (&quot;There is no water here&#46;&quot;)<br/>  }<br/>}<br/>else if (Got(full water bottle)) {<br/>  if (not GetBoolean(player, &quot;water&quot;)) {<br/>    msg (&quot;It's already full&#46;&quot;)<br/>  }<br/>}<br/>else if (not Got(empty water bottle)) {<br/>  if (not GetBoolean(player, &quot;water&quot;)) {<br/>    msg (&quot;You don't have a bottle&#46;&quot;)<br/>  }<br/>}<br/>else if (not Got(full water bottle)) {<br/>  if (not GetBoolean(player, &quot;water&quot;)) {<br/>    msg (&quot;You don't have a bottle&#46;&quot;)<br/>  }<br/>}<br/>else if (not Got(empty water bottle)) {<br/>  if (GetBoolean(player, &quot;water&quot;)) {<br/>    msg (&quot;You don't have a bottle&#46;&quot;)<br/>  }<br/>}<br/>else if (not Got(full water bottle)) {<br/>  if (GetBoolean(player, &quot;water&quot;)) {<br/>    msg (&quot;You don't have a bottle&#46;&quot;)<br/>  }<br/>}</code></pre>",
      "PostDate": "2015-12-07T15:45:38+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "39285",
      "UserId": 0,
      "Username": "Anonynn",
      "UserAvatar": "7661_1463890118.jpg",
      "UserGravatar": "2eea18890a69714beb5b926a7b559e64",
      "EditableText": "I dealt with it like this...\n\n[u:q5gcla39]create two objects: [/u:q5gcla39]\n\nclean_water\ndirty_water. \n\n[u:q5gcla39]then drink verbs: [/u:q5gcla39]\n\nClean Drink\n[code:q5gcla39]msg (&quot;&lt;br/&gt;The cool water glides downs your throat; not only refreshing you but it also makes you feel better&#46; &lt;br/&gt;&quot;)\nplayer&#46;health = player&#46;health + 3\nRemoveObject (fresh_water)[/code:q5gcla39]\n\nDirty Drink\n[code:q5gcla39]if (RandomChance(50)) {\n  msg (&quot;&lt;br/&gt;The warm, dirty water glides downs your throat making you gag a little; it's not very refreshing you but it did manage to quench some of your thirst&#46; &lt;br/&gt;&quot;)\n  player&#46;health = player&#46;health + 5\n  RemoveObject (dirty_water)\n}\nelse {\n  player&#46;health = player&#46;health - 5\n  msg (&quot;&lt;br/&gt;After drinking the dirty water, you suddenly feel sick to your stomach&#46; Moments later, your stomach turns which causes you to vomit! Ugh!! You feel worse now&#46;&#46;&#46;&lt;br/&gt;&quot;)\n  RemoveObject (dirty_water)\n}[/code:q5gcla39]\n\nAnd then in situations where there is like a lake or a source of water, you can clone either of the objects so they have a large resource to utilize. \n\n[u:q5gcla39]and then containers that can hold water, and containers that cannot hold water. [/u:q5gcla39]\n\nHold Water (and other objects) make NO special parameters. Anything with a certain volume can be put inside the bottle.\nsmall_bottle\nmedium_bottle\netc.\n\nAnd NOT Hold Water (only regular objects) make special parameters. Anything can be placed inside this container, except water or watery substances.\nExample: \nsmall_sack\n\nAfter Opening Object:\n[code:q5gcla39]if (Contains (small_sack,fresh_water)) {\n  msg (&quot;&lt;br/&gt;You cannot store liquids in this small sack! &lt;br/&gt;&quot;)\n  RemoveObject (fresh_water)\n}\nelse if (Contains (small_sack,dirty_water)) {\n  msg (&quot;&lt;br/&gt;You cannot store liquids in this small sack! &lt;br/&gt;&quot;)\n  RemoveObject (dirty_water)\n}[/code:q5gcla39]\n\nAfter Closing Object:\n[code:q5gcla39]if (Contains (small_sack,fresh_water)) {\n  msg (&quot;&lt;br/&gt;You cannot store liquids in this small sack! &lt;br/&gt;&quot;)\n  RemoveObject (fresh_water)\n}\nelse if (Contains (small_sack,dirty_water)) {\n  msg (&quot;&lt;br/&gt;You cannot store liquids in this small sack! &lt;br/&gt;&quot;)\n  RemoveObject (dirty_water)\n}[/code:q5gcla39]\n\nAnd as you create more water objects, you can just add them to each of the objects. Or create &quot;Types&quot; if you want to make it easier. Water-Type Container, Dry Container. \n\nIf the player DOES NOT have any of these containers...you make one for fresh and dirty water under the &quot;Take&quot; You just have to put in any objects that CAN hold water and update it as you go. \nTake\nRun script\nFresh Water\n[code:q5gcla39]MoveObject (fresh_water, waterskin)\nif (Contains (waterskin,fresh_water)) {\n  msg (&quot;It is already full&#46; &quot;)\n}\nelse if (not waterskin&#46;isopen) {\n  msg (&quot;You must open the waterskin first!&quot;)\n}\nelse if (not Got(waterskin)) {\n  msg (&quot;You cannot hold onto this&#46; &quot;)\n  msg (&quot;You drop it&#46; &quot;)\n  RemoveObject (fresh_water)\n}\nelse if (Contains (waterskin,dirty_water)) {\n  msg (&quot;It is already full&#46; &quot;)\n}\nMoveObject (fresh_water, small_bottle)\nif (Contains (small_bottle,fresh_water)) {\n  msg (&quot;It is already full&#46; &quot;)\n}\nelse if (not Got(small_bottle)) {\n  msg (&quot;You cannot hold onto this&#46; &quot;)\n  msg (&quot;You drop it&#46; &quot;)\n  RemoveObject (fresh_water)\n}\nelse if (Contains (small_bottle,dirty_water)) {\n  msg (&quot;It is already full&#46; &quot;)\n}\nMoveObject (fresh_water, medium_bottle)\nif (Contains (medium_bottle,fresh_water)) {\n  msg (&quot;It is already full&#46; &quot;)\n}\nelse if (not Got(medium_bottle)) {\n  msg (&quot;You cannot hold onto this&#46; &quot;)\n  msg (&quot;You drop it&#46; &quot;)\n  RemoveObject (fresh_water)\n}\nelse if (Contains (medium_bottle,dirty_water)) {\n  msg (&quot;It is already full&#46; &quot;)\n}\nMoveObject (fresh_water, large_bottle)\nif (Contains (large_bottle,fresh_water)) {\n  msg (&quot;It is already full&#46; &quot;)\n}\nelse if (not Got(large_bottle)) {\n  msg (&quot;You cannot hold onto this&#46; &quot;)\n  msg (&quot;You drop it&#46; &quot;)\n  RemoveObject (fresh_water)\n}\nelse if (Contains (large_bottle,dirty_water)) {\n  msg (&quot;It is already full&#46; &quot;)\n}[/code:q5gcla39]\n\nDirty Water\nTake\nRun Script\n[code:q5gcla39]MoveObject (dirty_water, waterskin)\nif (Contains (waterskin,fresh_water)) {\n  msg (&quot;It is already full&#46; &quot;)\n}\nelse if (not waterskin&#46;isopen) {\n  msg (&quot;You must open the waterskin first!&quot;)\n}\nelse if (not Got(waterskin)) {\n  msg (&quot;You cannot hold onto this&#46; &quot;)\n  msg (&quot;You drop it&#46; &quot;)\n  RemoveObject (dirty_water)\n}\nelse if (Contains (waterskin,fresh_water)) {\n  msg (&quot;It is already full&#46; &quot;)\n}\nMoveObject (dirty_water, small_bottle)\nif (Contains (small_bottle,dirty_water)) {\n  msg (&quot;It is already full&#46; &quot;)\n}\nelse if (not Got(small_bottle)) {\n  msg (&quot;You cannot hold onto this&#46; &quot;)\n  msg (&quot;You drop it&#46; &quot;)\n  RemoveObject (dirty_water)\n}\nelse if (Contains (small_bottle,fresh_water)) {\n  msg (&quot;It is already full&#46; &quot;)\n}\nMoveObject (dirty_water, medium_bottle)\nif (Contains (medium_bottle,fresh_water)) {\n  msg (&quot;It is already full&#46; &quot;)\n}\nelse if (not Got(medium_bottle)) {\n  msg (&quot;You cannot hold onto this&#46; &quot;)\n  msg (&quot;You drop it&#46; &quot;)\n  RemoveObject (dirty_water)\n}\nelse if (Contains (medium_bottle,fresh_water)) {\n  msg (&quot;It is already full&#46; &quot;)\n}\nMoveObject (dirty_water, large_bottle)\nif (Contains (large_bottle,dirty_water)) {\n  msg (&quot;It is already full&#46; &quot;)\n}\nelse if (not Got(large_bottle)) {\n  msg (&quot;You cannot hold onto this&#46; &quot;)\n  msg (&quot;You drop it&#46; &quot;)\n  RemoveObject (dirty_water)\n}\nelse if (Contains (large_bottle,fresh_water)) {\n  msg (&quot;It is already full&#46; &quot;)\n}[/code:q5gcla39]\n\nHope that helps!\n\n\n------------------------------\n\n[u:q5gcla39]If-Scripts[/u:q5gcla39]\n\nHow I understand it is ...\n\nIf (this scenario) = blah blah\n   then (do this)\n\nelse if (this scenario) = blah blah\n   then (do this) \n\nelse (this scenario ((meaning none of the other scenarios have happened))) = blah blah\n then (do this) \n\nDoes that clarify that?",
      "EditableFormat": "bbcode",
      "HTML": "I dealt with it like this...<br/><br/><span style=\"text-decoration:underline;\">create two objects: </span><br/><br/>clean_water<br/>dirty_water. <br/><br/><span style=\"text-decoration:underline;\">then drink verbs: </span><br/><br/>Clean Drink<br/><pre><code>msg (&quot;&lt;br/&gt;The cool water glides downs your throat; not only refreshing you but it also makes you feel better&#46; &lt;br/&gt;&quot;)<br/>player&#46;health = player&#46;health + 3<br/>RemoveObject (fresh_water)</code></pre><br/><br/>Dirty Drink<br/><pre><code>if (RandomChance(50)) {<br/>  msg (&quot;&lt;br/&gt;The warm, dirty water glides downs your throat making you gag a little; it's not very refreshing you but it did manage to quench some of your thirst&#46; &lt;br/&gt;&quot;)<br/>  player&#46;health = player&#46;health + 5<br/>  RemoveObject (dirty_water)<br/>}<br/>else {<br/>  player&#46;health = player&#46;health - 5<br/>  msg (&quot;&lt;br/&gt;After drinking the dirty water, you suddenly feel sick to your stomach&#46; Moments later, your stomach turns which causes you to vomit! Ugh!! You feel worse now&#46;&#46;&#46;&lt;br/&gt;&quot;)<br/>  RemoveObject (dirty_water)<br/>}</code></pre><br/><br/>And then in situations where there is like a lake or a source of water, you can clone either of the objects so they have a large resource to utilize. <br/><br/><span style=\"text-decoration:underline;\">and then containers that can hold water, and containers that cannot hold water. </span><br/><br/>Hold Water (and other objects) make NO special parameters. Anything with a certain volume can be put inside the bottle.<br/>small_bottle<br/>medium_bottle<br/>etc.<br/><br/>And NOT Hold Water (only regular objects) make special parameters. Anything can be placed inside this container, except water or watery substances.<br/>Example: <br/>small_sack<br/><br/>After Opening Object:<br/><pre><code>if (Contains (small_sack,fresh_water)) {<br/>  msg (&quot;&lt;br/&gt;You cannot store liquids in this small sack! &lt;br/&gt;&quot;)<br/>  RemoveObject (fresh_water)<br/>}<br/>else if (Contains (small_sack,dirty_water)) {<br/>  msg (&quot;&lt;br/&gt;You cannot store liquids in this small sack! &lt;br/&gt;&quot;)<br/>  RemoveObject (dirty_water)<br/>}</code></pre><br/><br/>After Closing Object:<br/><pre><code>if (Contains (small_sack,fresh_water)) {<br/>  msg (&quot;&lt;br/&gt;You cannot store liquids in this small sack! &lt;br/&gt;&quot;)<br/>  RemoveObject (fresh_water)<br/>}<br/>else if (Contains (small_sack,dirty_water)) {<br/>  msg (&quot;&lt;br/&gt;You cannot store liquids in this small sack! &lt;br/&gt;&quot;)<br/>  RemoveObject (dirty_water)<br/>}</code></pre><br/><br/>And as you create more water objects, you can just add them to each of the objects. Or create &quot;Types&quot; if you want to make it easier. Water-Type Container, Dry Container. <br/><br/>If the player DOES NOT have any of these containers...you make one for fresh and dirty water under the &quot;Take&quot; You just have to put in any objects that CAN hold water and update it as you go. <br/>Take<br/>Run script<br/>Fresh Water<br/><pre><code>MoveObject (fresh_water, waterskin)<br/>if (Contains (waterskin,fresh_water)) {<br/>  msg (&quot;It is already full&#46; &quot;)<br/>}<br/>else if (not waterskin&#46;isopen) {<br/>  msg (&quot;You must open the waterskin first!&quot;)<br/>}<br/>else if (not Got(waterskin)) {<br/>  msg (&quot;You cannot hold onto this&#46; &quot;)<br/>  msg (&quot;You drop it&#46; &quot;)<br/>  RemoveObject (fresh_water)<br/>}<br/>else if (Contains (waterskin,dirty_water)) {<br/>  msg (&quot;It is already full&#46; &quot;)<br/>}<br/>MoveObject (fresh_water, small_bottle)<br/>if (Contains (small_bottle,fresh_water)) {<br/>  msg (&quot;It is already full&#46; &quot;)<br/>}<br/>else if (not Got(small_bottle)) {<br/>  msg (&quot;You cannot hold onto this&#46; &quot;)<br/>  msg (&quot;You drop it&#46; &quot;)<br/>  RemoveObject (fresh_water)<br/>}<br/>else if (Contains (small_bottle,dirty_water)) {<br/>  msg (&quot;It is already full&#46; &quot;)<br/>}<br/>MoveObject (fresh_water, medium_bottle)<br/>if (Contains (medium_bottle,fresh_water)) {<br/>  msg (&quot;It is already full&#46; &quot;)<br/>}<br/>else if (not Got(medium_bottle)) {<br/>  msg (&quot;You cannot hold onto this&#46; &quot;)<br/>  msg (&quot;You drop it&#46; &quot;)<br/>  RemoveObject (fresh_water)<br/>}<br/>else if (Contains (medium_bottle,dirty_water)) {<br/>  msg (&quot;It is already full&#46; &quot;)<br/>}<br/>MoveObject (fresh_water, large_bottle)<br/>if (Contains (large_bottle,fresh_water)) {<br/>  msg (&quot;It is already full&#46; &quot;)<br/>}<br/>else if (not Got(large_bottle)) {<br/>  msg (&quot;You cannot hold onto this&#46; &quot;)<br/>  msg (&quot;You drop it&#46; &quot;)<br/>  RemoveObject (fresh_water)<br/>}<br/>else if (Contains (large_bottle,dirty_water)) {<br/>  msg (&quot;It is already full&#46; &quot;)<br/>}</code></pre><br/><br/>Dirty Water<br/>Take<br/>Run Script<br/><pre><code>MoveObject (dirty_water, waterskin)<br/>if (Contains (waterskin,fresh_water)) {<br/>  msg (&quot;It is already full&#46; &quot;)<br/>}<br/>else if (not waterskin&#46;isopen) {<br/>  msg (&quot;You must open the waterskin first!&quot;)<br/>}<br/>else if (not Got(waterskin)) {<br/>  msg (&quot;You cannot hold onto this&#46; &quot;)<br/>  msg (&quot;You drop it&#46; &quot;)<br/>  RemoveObject (dirty_water)<br/>}<br/>else if (Contains (waterskin,fresh_water)) {<br/>  msg (&quot;It is already full&#46; &quot;)<br/>}<br/>MoveObject (dirty_water, small_bottle)<br/>if (Contains (small_bottle,dirty_water)) {<br/>  msg (&quot;It is already full&#46; &quot;)<br/>}<br/>else if (not Got(small_bottle)) {<br/>  msg (&quot;You cannot hold onto this&#46; &quot;)<br/>  msg (&quot;You drop it&#46; &quot;)<br/>  RemoveObject (dirty_water)<br/>}<br/>else if (Contains (small_bottle,fresh_water)) {<br/>  msg (&quot;It is already full&#46; &quot;)<br/>}<br/>MoveObject (dirty_water, medium_bottle)<br/>if (Contains (medium_bottle,fresh_water)) {<br/>  msg (&quot;It is already full&#46; &quot;)<br/>}<br/>else if (not Got(medium_bottle)) {<br/>  msg (&quot;You cannot hold onto this&#46; &quot;)<br/>  msg (&quot;You drop it&#46; &quot;)<br/>  RemoveObject (dirty_water)<br/>}<br/>else if (Contains (medium_bottle,fresh_water)) {<br/>  msg (&quot;It is already full&#46; &quot;)<br/>}<br/>MoveObject (dirty_water, large_bottle)<br/>if (Contains (large_bottle,dirty_water)) {<br/>  msg (&quot;It is already full&#46; &quot;)<br/>}<br/>else if (not Got(large_bottle)) {<br/>  msg (&quot;You cannot hold onto this&#46; &quot;)<br/>  msg (&quot;You drop it&#46; &quot;)<br/>  RemoveObject (dirty_water)<br/>}<br/>else if (Contains (large_bottle,fresh_water)) {<br/>  msg (&quot;It is already full&#46; &quot;)<br/>}</code></pre><br/><br/>Hope that helps!<br/><br/><br/>------------------------------<br/><br/><span style=\"text-decoration:underline;\">If-Scripts</span><br/><br/>How I understand it is ...<br/><br/>If (this scenario) = blah blah<br/>   then (do this)<br/><br/>else if (this scenario) = blah blah<br/>   then (do this) <br/><br/>else (this scenario ((meaning none of the other scenarios have happened))) = blah blah<br/> then (do this) <br/><br/>Does that clarify that?",
      "PostDate": "2015-12-07T19:08:15+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "39287",
      "UserId": 0,
      "Username": "Pertex",
      "UserAvatar": "5940_1369854251.gif",
      "UserGravatar": "4cc1e52f99452e841ecf4cbee9eadde9",
      "EditableText": "[quote=&quot;OurJud&quot;:38m6yyjz]\nSeems to work, Pertex, but for one thing. If the player drops the bottle outside of a water source, 'drink' should return 'There's no water here', but with your script it returns a null.[/quote:38m6yyjz]\n\nTHen this should work:[code:38m6yyjz]\nif (GetBoolean(player, &quot;water&quot;)) {\n    msg (&quot;You drink the water&#46;&quot;)\n} else if (Got(empty water bottle)) {\n    msg (&quot;Your bottle is empty&#46;&quot;)\n} else if (Got(full water bottle)) {\n    msg (&quot;You drink the water&#46;&quot;)\n    MoveObject (full water bottle, offstage)\n    MoveObject (empty water bottle, player)\n} else {\n msg(&quot;There's no water here&quot;)\n}\n[/code:38m6yyjz]\n\nAnd the fill-script should look like this\n[code:38m6yyjz]\n  if (not GetBoolean(player, &quot;water&quot;)) {\n    msg (&quot;There's no water here&#46;&quot;)\n  }\n  else if (not Got(empty water bottle)) {\n     msg (&quot;You don't have a bottle&#46;&quot;)\n  }\n  else if (Got(full water bottle)) {\n      msg (&quot;It's already full&#46;&quot;)\n  }\n  else {\n    msg (&quot;You fill the bottle&#46;&quot;)\n    MoveObject (empty water bottle, offstage)\n    MoveObject (full water bottle, player)\n  }\t\n  [/code:38m6yyjz]",
      "EditableFormat": "bbcode",
      "HTML": "<blockquote><cite>OurJud wrote:</cite><br/>Seems to work, Pertex, but for one thing. If the player drops the bottle outside of a water source, 'drink' should return 'There's no water here', but with your script it returns a null.</blockquote><br/><br/>THen this should work:<pre><code><br/>if (GetBoolean(player, &quot;water&quot;)) {<br/>    msg (&quot;You drink the water&#46;&quot;)<br/>} else if (Got(empty water bottle)) {<br/>    msg (&quot;Your bottle is empty&#46;&quot;)<br/>} else if (Got(full water bottle)) {<br/>    msg (&quot;You drink the water&#46;&quot;)<br/>    MoveObject (full water bottle, offstage)<br/>    MoveObject (empty water bottle, player)<br/>} else {<br/> msg(&quot;There's no water here&quot;)<br/>}<br/></code></pre><br/><br/>And the fill-script should look like this<br/><pre><code><br/>  if (not GetBoolean(player, &quot;water&quot;)) {<br/>    msg (&quot;There's no water here&#46;&quot;)<br/>  }<br/>  else if (not Got(empty water bottle)) {<br/>     msg (&quot;You don't have a bottle&#46;&quot;)<br/>  }<br/>  else if (Got(full water bottle)) {<br/>      msg (&quot;It's already full&#46;&quot;)<br/>  }<br/>  else {<br/>    msg (&quot;You fill the bottle&#46;&quot;)<br/>    MoveObject (empty water bottle, offstage)<br/>    MoveObject (full water bottle, player)<br/>  }\t<br/>  </code></pre>",
      "PostDate": "2015-12-07T20:52:28+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "39288",
      "UserId": 0,
      "Username": "OurJud",
      "UserAvatar": "7473_1417206896.jpg",
      "UserGravatar": "7892e1059c02a91b34ffd60deb7402ff",
      "EditableText": "[quote=&quot;Neonayon&quot;:1aqihj2q]\nHope that helps!\n\n\n------------------------------\n\n[u:1aqihj2q]If-Scripts[/u:1aqihj2q]\n\nHow I understand it is ...\n\nIf (this scenario) = blah blah\n   then (do this)\n\nelse if (this scenario) = blah blah\n   then (do this) \n\nelse (this scenario ((meaning none of the other scenarios have happened))) = blah blah\n then (do this) \n\nDoes that clarify that?[/quote:1aqihj2q]\nThanks, Neonayon. I think what your script does and how I want my water supply to work are a little bit too different to cross over in any way.\n\nAs for if-Scripts, what you say kind of make sense, but when I should use which is still a bit of a mystery. When I was trying to get my scripts to work and avoid double response outputs etc, I was just blindly tossing 'ifs' and 'else ifs' all over the place until it did what I wanted it to do.\n\n[quote=&quot;Pertex&quot;:1aqihj2q][quote=&quot;OurJud&quot;:1aqihj2q]\nSeems to work, Pertex, but for one thing. If the player drops the bottle outside of a water source, 'drink' should return 'There's no water here', but with your script it returns a null.[/quote:1aqihj2q]\n\nTHen this should work:[/quote:1aqihj2q]\nThanks, Pertex. Mine still isn't perfect, so next time I'm working on it, I'll throw these two scripts in place and see how well they work.\n\nIt really annoys me that I can't see a simple and logical way to do this, like you so obviously have. Your scripts are a fraction the length of mine, and three times as economical.",
      "EditableFormat": "bbcode",
      "HTML": "<blockquote><cite>Neonayon wrote:</cite><br/>Hope that helps!<br/><br/><br/>------------------------------<br/><br/><span style=\"text-decoration:underline;\">If-Scripts</span><br/><br/>How I understand it is ...<br/><br/>If (this scenario) = blah blah<br/>   then (do this)<br/><br/>else if (this scenario) = blah blah<br/>   then (do this) <br/><br/>else (this scenario ((meaning none of the other scenarios have happened))) = blah blah<br/> then (do this) <br/><br/>Does that clarify that?</blockquote><br/>Thanks, Neonayon. I think what your script does and how I want my water supply to work are a little bit too different to cross over in any way.<br/><br/>As for if-Scripts, what you say kind of make sense, but when I should use which is still a bit of a mystery. When I was trying to get my scripts to work and avoid double response outputs etc, I was just blindly tossing 'ifs' and 'else ifs' all over the place until it did what I wanted it to do.<br/><br/><blockquote><cite>Pertex wrote:</cite><blockquote><p><b>&quot;OurJud&quot;</b></p><p><br/>Seems to work, Pertex, but for one thing. If the player drops the bottle outside of a water source, 'drink' should return 'There's no water here', but with your script it returns a null.</blockquote><br/><br/>THen this should work:</p></blockquote><br/>Thanks, Pertex. Mine still isn't perfect, so next time I'm working on it, I'll throw these two scripts in place and see how well they work.<br/><br/>It really annoys me that I can't see a simple and logical way to do this, like you so obviously have. Your scripts are a fraction the length of mine, and three times as economical.",
      "PostDate": "2015-12-07T21:46:13+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "39290",
      "UserId": 0,
      "Username": "Forgewright",
      "UserAvatar": "6526_1436782372.jpg",
      "UserGravatar": "7cd39eda147e41376a7192dbd0bb386e",
      "EditableText": "I saw a post earlier referring to the water container needing an diminishing integer to calculate the the amount of water in it. Your refill scripts only account for empty or full containers. If the container's integer is less than it's max integer shouldn't it be set to max again at a given &quot;fill&quot; command?",
      "EditableFormat": "bbcode",
      "HTML": "I saw a post earlier referring to the water container needing an diminishing integer to calculate the the amount of water in it. Your refill scripts only account for empty or full containers. If the container's integer is less than it's max integer shouldn't it be set to max again at a given &quot;fill&quot; command?",
      "PostDate": "2015-12-07T22:01:01+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "39296",
      "UserId": 0,
      "Username": "HegemonKhan",
      "UserAvatar": null,
      "UserGravatar": "a96cf34d8d97c57de38f54ee22b1759b",
      "EditableText": "@ Ourjud (and others):\n\nhere's a guide~explanation thread that I've started for you and others struggling with the IF block:\n\n<!-- l --><a class=\"postlink-local\" href=\"http://forum.textadventures.co.uk/viewtopic.php?f=18&amp;t=5705\">viewtopic.php?f=18&amp;t=5705</a><!-- l -->\n\n(I'll have it finished up definately after finals: ~ 3 weeks from now)",
      "EditableFormat": "bbcode",
      "HTML": "@ Ourjud (and others):<br/><br/>here's a guide~explanation thread that I've started for you and others struggling with the IF block:<br/><br/><!-- l --><a class=\"postlink-local\" href=\"http://forum.textadventures.co.uk/viewtopic.php?f=18&amp;t=5705\">viewtopic.php?f=18&amp;t=5705</a><!-- l --><br/><br/>(I'll have it finished up definately after finals: ~ 3 weeks from now)",
      "PostDate": "2015-12-08T01:13:01+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "39300",
      "UserId": 0,
      "Username": "Anonynn",
      "UserAvatar": "7661_1463890118.jpg",
      "UserGravatar": "2eea18890a69714beb5b926a7b559e64",
      "EditableText": "[quote:2wsyk8ch]As for if-Scripts, what you say kind of make sense, but when I should use which is still a bit of a mystery. When I was trying to get my scripts to work and avoid double response outputs etc, I was just blindly tossing 'ifs' and 'else ifs' all over the place until it did what I wanted it to do.[/quote:2wsyk8ch]\n\nAnother thing that helps me with the &quot;IF&quot; scripts is...\n\nThe first IF is your primary scenario.\nIf (list of different possible scenarios: we'll go with &quot;if player is carrying&quot; for the example) \n\nIf (player is carrying blah blah object)\nthen \ndo blah blah   \n\nthe &quot;else if's&quot; are basically for secondary things that could happen if the player isn't carrying that object, or it can be the &quot;else&quot;. For example...\n\nIf (player is carrying blah blah object)                       &lt;----- your main scenario\nthen\ndo blah blah. \n\nelse ((player is not carrying blah blah object))              &lt;---- &quot;else&quot; acts as a default to your main scenario not happening.\ndo blah blah. \n\nNow let's say you have a secondary scenario that could happen. Let's do &quot;random chance&quot; now. \n\nIf (random chance 25%)                             &lt;------ main scenario (best scenario let's say)\nthen\naddtoinventory golden coin\n\nelse if (random chance 25%)                &lt;---- secondary scenario (so-so scenario)\nthen \naddtoinventory silver coin. \n\nelse (if neither of those fire)                         &lt;----- default scenario (the other two didn't fire! Oh noes!)  \nthen\naddtoinventory bronze coin\n\n\nSo see --- you don't even NEED to use &quot;else&quot;, and you can use &quot;else if&quot; for the same thing as &quot;else&quot; if you really want. The &quot;else&quot; script just allows you to &quot;close out&quot; events with something being said, where &quot;else if's&quot; allow you to keep adding events that could happen other than your main scenario. Like variations. Basically, if you don't use &quot;else&quot; --- this will happen....\n\n\nIf (random chance 25%)                             &lt;------ main scenario (best scenario let's say)\nthen\naddtoinventory golden coin\nmsg (&quot;You can now move on!&quot;)\n\nelse if (random chance 25%)                &lt;---- secondary scenario (so-so scenario)\nthen \naddtoinventory silver coin. \nmsg (&quot;You can now move on!&quot;)\n\nelse  (let's say neither of the above two fire. So when this event happens, the player will receive no information. So you could just go...)\n--------------------------------------------\n\n\n\nIf (random chance 25%)                             &lt;------ main scenario (best scenario let's say)\nthen\naddtoinventory golden coin\n\nelse if (random chance 25%)                &lt;---- secondary scenario (so-so scenario)\nthen \naddtoinventory silver coin. \n\nelse (if neither of those fire)                         &lt;----- default scenario (the other two didn't fire! Oh noes!)  \nthen\nmsg (&quot;Oh! Sorry about your luck! You didn't get either coin&quot;)\n\nNow when the other two scenarios don't fire, the &quot;else&quot; script will give this information to the player...\n&quot;Oh! Sorry about your luck! You didn't get either coin&quot;\n\nDoes that help?",
      "EditableFormat": "bbcode",
      "HTML": "<blockquote><p>As for if-Scripts, what you say kind of make sense, but when I should use which is still a bit of a mystery. When I was trying to get my scripts to work and avoid double response outputs etc, I was just blindly tossing 'ifs' and 'else ifs' all over the place until it did what I wanted it to do.</p></blockquote><br/><br/>Another thing that helps me with the &quot;IF&quot; scripts is...<br/><br/>The first IF is your primary scenario.<br/>If (list of different possible scenarios: we'll go with &quot;if player is carrying&quot; for the example) <br/><br/>If (player is carrying blah blah object)<br/>then <br/>do blah blah   <br/><br/>the &quot;else if's&quot; are basically for secondary things that could happen if the player isn't carrying that object, or it can be the &quot;else&quot;. For example...<br/><br/>If (player is carrying blah blah object)                       &lt;----- your main scenario<br/>then<br/>do blah blah. <br/><br/>else ((player is not carrying blah blah object))              &lt;---- &quot;else&quot; acts as a default to your main scenario not happening.<br/>do blah blah. <br/><br/>Now let's say you have a secondary scenario that could happen. Let's do &quot;random chance&quot; now. <br/><br/>If (random chance 25%)                             &lt;------ main scenario (best scenario let's say)<br/>then<br/>addtoinventory golden coin<br/><br/>else if (random chance 25%)                &lt;---- secondary scenario (so-so scenario)<br/>then <br/>addtoinventory silver coin. <br/><br/>else (if neither of those fire)                         &lt;----- default scenario (the other two didn't fire! Oh noes!)  <br/>then<br/>addtoinventory bronze coin<br/><br/><br/>So see --- you don't even NEED to use &quot;else&quot;, and you can use &quot;else if&quot; for the same thing as &quot;else&quot; if you really want. The &quot;else&quot; script just allows you to &quot;close out&quot; events with something being said, where &quot;else if's&quot; allow you to keep adding events that could happen other than your main scenario. Like variations. Basically, if you don't use &quot;else&quot; --- this will happen....<br/><br/><br/>If (random chance 25%)                             &lt;------ main scenario (best scenario let's say)<br/>then<br/>addtoinventory golden coin<br/>msg (&quot;You can now move on!&quot;)<br/><br/>else if (random chance 25%)                &lt;---- secondary scenario (so-so scenario)<br/>then <br/>addtoinventory silver coin. <br/>msg (&quot;You can now move on!&quot;)<br/><br/>else  (let's say neither of the above two fire. So when this event happens, the player will receive no information. So you could just go...)<br/>--------------------------------------------<br/><br/><br/><br/>If (random chance 25%)                             &lt;------ main scenario (best scenario let's say)<br/>then<br/>addtoinventory golden coin<br/><br/>else if (random chance 25%)                &lt;---- secondary scenario (so-so scenario)<br/>then <br/>addtoinventory silver coin. <br/><br/>else (if neither of those fire)                         &lt;----- default scenario (the other two didn't fire! Oh noes!)  <br/>then<br/>msg (&quot;Oh! Sorry about your luck! You didn't get either coin&quot;)<br/><br/>Now when the other two scenarios don't fire, the &quot;else&quot; script will give this information to the player...<br/>&quot;Oh! Sorry about your luck! You didn't get either coin&quot;<br/><br/>Does that help?",
      "PostDate": "2015-12-08T02:07:33+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "39303",
      "UserId": 0,
      "Username": "OurJud",
      "UserAvatar": "7473_1417206896.jpg",
      "UserGravatar": "7892e1059c02a91b34ffd60deb7402ff",
      "EditableText": "[quote=&quot;Forgewright&quot;:2ku5ei2h]I saw a post earlier referring to the water container needing an diminishing integer to calculate the the amount of water in it. Your refill scripts only account for empty or full containers. If the container's integer is less than it's max integer shouldn't it be set to max again at a given &quot;fill&quot; command?[/quote:2ku5ei2h]\nThat was the original plan, Forgewright, but I scrapped the idea when TP started talking about integers. I don't even know what the word means, let alone how to script them. If I'd used a diminishing supply, I would also have wanted it to be reflected in the inventory, rather than by some floating value on the screen. This would have meant creating at least four water bottle objects; empty, 1/4 full, 1/2 full, 3/4 full, and full. I was thrashing around in the dark as it was, so further complications like that had to be scrapped.\n\n[quote=&quot;Neonayon&quot;:2ku5ei2h][quote:2ku5ei2h]As for if-Scripts, what you say kind of make sense, but when I should use which is still a bit of a mystery. When I was trying to get my scripts to work and avoid double response outputs etc, I was just blindly tossing 'ifs' and 'else ifs' all over the place until it did what I wanted it to do.[/quote:2ku5ei2h]\n\nAnother thing that helps me with the &quot;IF&quot; scripts is...\n[/quote:2ku5ei2h]\nThat's slightly clearer, Neon. Thanks.\n\nI think I'd still get a bit confused if I was trying to offer multiple outcomes to an action or situation. Take my script for the water supply, for instance. I've got it working pretty much how I want using my messed-up scripts, but there are still certain scenarios where the game spits out two responses (either two identical responses or two conflicting ones). They don't get flagged as errors, but it's still not right.\n\nIf I try and fill the bottle in rapid succession, I should get &quot;It's already full.&quot; Instead I get &quot;It's already full.&quot; AND &quot;You don't have a bottle.&quot;\n\nI can see what's happening in the script, but not how to avoid it. It's something to do with the line that swaps the empty bottle in my inventory with the full one. It sees that and says &quot;It's already full.&quot; BUT then it finds another 'if' condition which tells it to output a &quot;You don't have a bottle&quot; too.\n\nAnother one is if I &quot;drop&quot; the bottle outside a room with the 'water' source flag, and then type &quot;fill bottle&quot;. I should get &quot;You don't have a bottle.&quot; but instead I get a null return (blank).",
      "EditableFormat": "bbcode",
      "HTML": "<blockquote><cite>Forgewright wrote:</cite>I saw a post earlier referring to the water container needing an diminishing integer to calculate the the amount of water in it. Your refill scripts only account for empty or full containers. If the container's integer is less than it's max integer shouldn't it be set to max again at a given &quot;fill&quot; command?</blockquote><br/>That was the original plan, Forgewright, but I scrapped the idea when TP started talking about integers. I don't even know what the word means, let alone how to script them. If I'd used a diminishing supply, I would also have wanted it to be reflected in the inventory, rather than by some floating value on the screen. This would have meant creating at least four water bottle objects; empty, 1/4 full, 1/2 full, 3/4 full, and full. I was thrashing around in the dark as it was, so further complications like that had to be scrapped.<br/><br/><blockquote><cite>Neonayon wrote:</cite><blockquote><p>As for if-Scripts, what you say kind of make sense, but when I should use which is still a bit of a mystery. When I was trying to get my scripts to work and avoid double response outputs etc, I was just blindly tossing 'ifs' and 'else ifs' all over the place until it did what I wanted it to do.</blockquote><br/><br/>Another thing that helps me with the &quot;IF&quot; scripts is...<br/></p></blockquote><br/>That's slightly clearer, Neon. Thanks.<br/><br/>I think I'd still get a bit confused if I was trying to offer multiple outcomes to an action or situation. Take my script for the water supply, for instance. I've got it working pretty much how I want using my messed-up scripts, but there are still certain scenarios where the game spits out two responses (either two identical responses or two conflicting ones). They don't get flagged as errors, but it's still not right.<br/><br/>If I try and fill the bottle in rapid succession, I should get &quot;It's already full.&quot; Instead I get &quot;It's already full.&quot; AND &quot;You don't have a bottle.&quot;<br/><br/>I can see what's happening in the script, but not how to avoid it. It's something to do with the line that swaps the empty bottle in my inventory with the full one. It sees that and says &quot;It's already full.&quot; BUT then it finds another 'if' condition which tells it to output a &quot;You don't have a bottle&quot; too.<br/><br/>Another one is if I &quot;drop&quot; the bottle outside a room with the 'water' source flag, and then type &quot;fill bottle&quot;. I should get &quot;You don't have a bottle.&quot; but instead I get a null return (blank).",
      "PostDate": "2015-12-08T08:29:42+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "39305",
      "UserId": 0,
      "Username": "The Pixie",
      "UserAvatar": null,
      "UserGravatar": "cfa37e927f96177bcf6053ae8f108f77",
      "EditableText": "A useful approach with &quot;if&quot; scripts is to check each of the conditions when the command would fail, and if you get to the end, then you actually do the command (though sometimes you cannot do it this). For your FILL command, you want it to [i:14u5czqy]fail[/i:14u5czqy] if (1) there is no water source present; (2) the container is full; and (3) the player has no container.\n\nThen you set up a series of if/else if/else like this.\n[code:14u5czqy]// Check water source in the current room (player&#46;parent)\nif (not GetBoolean(player&#46;parent, &quot;watersource&quot;)) {\n  msg(&quot;There is no water source here&quot;)\n}\n// Check container is not full\nelse if (full water bottle&#46;parent = player) {\n  msg(&quot;You water bottle is full already&quot;)\n}\n// Check player has the empty container\nelse if (empty water bottle&#46;parent = player) {\n  msg(&quot;You have no water bottle&quot;)\n}\n// Everything is okay, so fill the bottle\nelse {\n  msg(&quot;You fill your water bottle&quot;)\n    MoveObject (empty water bottle, offstage)\n    MoveObject (full water bottle, player)\n}[/code:14u5czqy]",
      "EditableFormat": "bbcode",
      "HTML": "A useful approach with &quot;if&quot; scripts is to check each of the conditions when the command would fail, and if you get to the end, then you actually do the command (though sometimes you cannot do it this). For your FILL command, you want it to <span style=\"font-style:italic;\">fail</span> if (1) there is no water source present; (2) the container is full; and (3) the player has no container.<br/><br/>Then you set up a series of if/else if/else like this.<br/><pre><code>// Check water source in the current room (player&#46;parent)<br/>if (not GetBoolean(player&#46;parent, &quot;watersource&quot;)) {<br/>  msg(&quot;There is no water source here&quot;)<br/>}<br/>// Check container is not full<br/>else if (full water bottle&#46;parent = player) {<br/>  msg(&quot;You water bottle is full already&quot;)<br/>}<br/>// Check player has the empty container<br/>else if (empty water bottle&#46;parent = player) {<br/>  msg(&quot;You have no water bottle&quot;)<br/>}<br/>// Everything is okay, so fill the bottle<br/>else {<br/>  msg(&quot;You fill your water bottle&quot;)<br/>    MoveObject (empty water bottle, offstage)<br/>    MoveObject (full water bottle, player)<br/>}</code></pre>",
      "PostDate": "2015-12-08T09:58:18+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "39368",
      "UserId": 0,
      "Username": "OurJud",
      "UserAvatar": "7473_1417206896.jpg",
      "UserGravatar": "7892e1059c02a91b34ffd60deb7402ff",
      "EditableText": "[quote=&quot;Pertex&quot;:qtisqbxz]THen this should work:[/quote:qtisqbxz]\nThose two scripts work perfectly, Pertex. I'll update the original post and credit you. Thanks.\n\nTP, thanks. I've no doubt your script is just as effective, but I'm wrapping this up while I'm ahead.",
      "EditableFormat": "bbcode",
      "HTML": "<blockquote><cite>Pertex wrote:</cite>THen this should work:</blockquote><br/>Those two scripts work perfectly, Pertex. I'll update the original post and credit you. Thanks.<br/><br/>TP, thanks. I've no doubt your script is just as effective, but I'm wrapping this up while I'm ahead.",
      "PostDate": "2015-12-09T09:49:15+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "39430",
      "UserId": 0,
      "Username": "HegemonKhan",
      "UserAvatar": null,
      "UserGravatar": "a96cf34d8d97c57de38f54ee22b1759b",
      "EditableText": "I don't know if this will help ya OurJud, but I'm giving it a try, lol\n\nyou got two conditionals: 'water' and 'canteen'\n\nthis means you got 4 factors:\n\n1. have water\n2. don't have water\n3. have canteen\n4. don't have canteen\n\nso, you got 4 combinations:\n\nif (have water and have canteen)\nelse if (have water and don't have canteen)\nelse if (don't have water and have canteen)\nelse if (don't have water and don't have canteen)\n\nthis can then be simplified (which is what Pertex did) due to order of operations: top to bottom, and made more code efficient:\n\nif (have water and have canteen)\nelse if (have water)\nelse if (have canteen)\nelse // (you have neither water nor canteen)\n\n----------\n\nerr... just realized your scenario is a bit different, but this is still the same base design as your scenerio, I think...",
      "EditableFormat": "bbcode",
      "HTML": "I don't know if this will help ya OurJud, but I'm giving it a try, lol<br/><br/>you got two conditionals: 'water' and 'canteen'<br/><br/>this means you got 4 factors:<br/><br/>1. have water<br/>2. don't have water<br/>3. have canteen<br/>4. don't have canteen<br/><br/>so, you got 4 combinations:<br/><br/>if (have water and have canteen)<br/>else if (have water and don't have canteen)<br/>else if (don't have water and have canteen)<br/>else if (don't have water and don't have canteen)<br/><br/>this can then be simplified (which is what Pertex did) due to order of operations: top to bottom, and made more code efficient:<br/><br/>if (have water and have canteen)<br/>else if (have water)<br/>else if (have canteen)<br/>else // (you have neither water nor canteen)<br/><br/>----------<br/><br/>err... just realized your scenario is a bit different, but this is still the same base design as your scenerio, I think...",
      "PostDate": "2015-12-10T06:37:46+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "39432",
      "UserId": 0,
      "Username": "Pertex",
      "UserAvatar": "5940_1369854251.gif",
      "UserGravatar": "4cc1e52f99452e841ecf4cbee9eadde9",
      "EditableText": "HK: not completely true. It depends on what should happen in the script block of the if.If you have the same commands when water is true and canteen is false you need other if clauses",
      "EditableFormat": "bbcode",
      "HTML": "HK: not completely true. It depends on what should happen in the script block of the if.If you have the same commands when water is true and canteen is false you need other if clauses",
      "PostDate": "2015-12-10T07:12:34+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "39434",
      "UserId": 0,
      "Username": "OurJud",
      "UserAvatar": "7473_1417206896.jpg",
      "UserGravatar": "7892e1059c02a91b34ffd60deb7402ff",
      "EditableText": "[quote=&quot;Pertex&quot;:3nbxev0z]HK: not completely true. It depends on what should happen in the script block of the if.If you have the same commands when water is true and canteen is false you need other if clauses[/quote:3nbxev0z]\nIndeed. The script as it stands does exactly what I need it to, and handles several possibilities:\n\nNEGATIVES:\n1. No water source AND no bottle [i:3nbxev0z](no drink given)[/i:3nbxev0z]\n2. No water source and EMPTY bottle [i:3nbxev0z](no drink given)[/i:3nbxev0z]\nPOSITIVES:\n3. Water source AND no bottle [i:3nbxev0z](drink given from source)[/i:3nbxev0z]\n4. Water source AND full bottle [i:3nbxev0z](drink given from source)[/i:3nbxev0z]\n5. Water source and EMPTY bottle [i:3nbxev0z](drink given from source, bottle can be filled - replace empty bottle with full bottle in inventory)[/i:3nbxev0z]\n6. No water source BUT full  bottle [i:3nbxev0z](drink given from bottle - replace full bottle with empty bottle in inventory)[/i:3nbxev0z]",
      "EditableFormat": "bbcode",
      "HTML": "<blockquote><cite>Pertex wrote:</cite>HK: not completely true. It depends on what should happen in the script block of the if.If you have the same commands when water is true and canteen is false you need other if clauses</blockquote><br/>Indeed. The script as it stands does exactly what I need it to, and handles several possibilities:<br/><br/>NEGATIVES:<br/>1. No water source AND no bottle <span style=\"font-style:italic;\">(no drink given)</span><br/>2. No water source and EMPTY bottle <span style=\"font-style:italic;\">(no drink given)</span><br/>POSITIVES:<br/>3. Water source AND no bottle <span style=\"font-style:italic;\">(drink given from source)</span><br/>4. Water source AND full bottle <span style=\"font-style:italic;\">(drink given from source)</span><br/>5. Water source and EMPTY bottle <span style=\"font-style:italic;\">(drink given from source, bottle can be filled - replace empty bottle with full bottle in inventory)</span><br/>6. No water source BUT full  bottle <span style=\"font-style:italic;\">(drink given from bottle - replace full bottle with empty bottle in inventory)</span>",
      "PostDate": "2015-12-10T10:13:40+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "39453",
      "UserId": 0,
      "Username": "HegemonKhan",
      "UserAvatar": null,
      "UserGravatar": "a96cf34d8d97c57de38f54ee22b1759b",
      "EditableText": "ya, not quite the same, but the good news is, is that you seem to understand it quite well, hehe. That was the intent of my lazy (as I didn't check exactly what your scenerio was, mssing that it involved 'full vs empty' and not 'have canteen vs don't have canteen', lol) post, in trying to help you understand what was happening in Pertex' code, in case you didn't, but you definately understand it already.",
      "EditableFormat": "bbcode",
      "HTML": "ya, not quite the same, but the good news is, is that you seem to understand it quite well, hehe. That was the intent of my lazy (as I didn't check exactly what your scenerio was, mssing that it involved 'full vs empty' and not 'have canteen vs don't have canteen', lol) post, in trying to help you understand what was happening in Pertex' code, in case you didn't, but you definately understand it already.",
      "PostDate": "2015-12-10T18:52:52+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "39461",
      "UserId": 0,
      "Username": "OurJud",
      "UserAvatar": "7473_1417206896.jpg",
      "UserGravatar": "7892e1059c02a91b34ffd60deb7402ff",
      "EditableText": "[quote=&quot;HegemonKhan&quot;:1qgfvsbs]ya, not quite the same, but the good news is, is that you seem to understand it quite well, hehe.[/quote:1qgfvsbs]\nI wouldn't say that, HK.\n\nI understand what I [i:1qgfvsbs]wanted [/i:1qgfvsbs]the script to do... and I did get there in my own unique way, but it needed better coders like yourself and others to get it down to the tidy little block I have now.",
      "EditableFormat": "bbcode",
      "HTML": "<blockquote><cite>HegemonKhan wrote:</cite>ya, not quite the same, but the good news is, is that you seem to understand it quite well, hehe.</blockquote><br/>I wouldn't say that, HK.<br/><br/>I understand what I <span style=\"font-style:italic;\">wanted </span>the script to do... and I did get there in my own unique way, but it needed better coders like yourself and others to get it down to the tidy little block I have now.",
      "PostDate": "2015-12-10T23:38:08+00:00",
      "LastEditDate": null
    }
  ]
}
