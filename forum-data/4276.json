{
  "Topic": {
    "TopicId": "4276",
    "ForumId": "10",
    "Title": "Uploading text files with your game",
    "LastUpdated": "2015-02-24T18:14:03+00:00",
    "ReplyCount": 15
  },
  "Posts": [
    {
      "PostId": "28391",
      "UserId": 0,
      "Username": "The Pixie",
      "UserAvatar": null,
      "UserGravatar": "cfa37e927f96177bcf6053ae8f108f77",
      "EditableText": "There is a function GetFileData that will open and read a text file. It works fine offline, but what happens when you put your game on-line? How do you upload your text files to the Quest site?",
      "EditableFormat": "bbcode",
      "HTML": "There is a function GetFileData that will open and read a text file. It works fine offline, but what happens when you put your game on-line? How do you upload your text files to the Quest site?",
      "PostDate": "2014-04-11T11:50:10+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "28392",
      "UserId": 0,
      "Username": "Pertex",
      "UserAvatar": "5940_1369854251.gif",
      "UserGravatar": "4cc1e52f99452e841ecf4cbee9eadde9",
      "EditableText": "This only works with files within your published .quest-file. I wish it would be possible to load and write files on other servers that easy",
      "EditableFormat": "bbcode",
      "HTML": "This only works with files within your published .quest-file. I wish it would be possible to load and write files on other servers that easy",
      "PostDate": "2014-04-11T12:02:41+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "28393",
      "UserId": 0,
      "Username": "The Pixie",
      "UserAvatar": null,
      "UserGravatar": "cfa37e927f96177bcf6053ae8f108f77",
      "EditableText": "So how do you include files in your .quest file?",
      "EditableFormat": "bbcode",
      "HTML": "So how do you include files in your .quest file?",
      "PostDate": "2014-04-11T12:53:17+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "28394",
      "UserId": 0,
      "Username": "Alex",
      "UserAvatar": null,
      "UserGravatar": "188b72c5e13327f4fde3989dca7d7d53",
      "EditableText": "[quote=&quot;Pertex&quot;:dbfaonkq]I wish it would be possible to load and write files on other servers that easy[/quote:dbfaonkq]\n\nYou can use JavaScript to get or post data via an AJAX call.",
      "EditableFormat": "bbcode",
      "HTML": "<blockquote><cite>Pertex wrote:</cite>I wish it would be possible to load and write files on other servers that easy</blockquote><br/><br/>You can use JavaScript to get or post data via an AJAX call.",
      "PostDate": "2014-04-11T13:19:36+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "28395",
      "UserId": 0,
      "Username": "Pertex",
      "UserAvatar": "5940_1369854251.gif",
      "UserGravatar": "4cc1e52f99452e841ecf4cbee9eadde9",
      "EditableText": "[quote=&quot;The Pixie&quot;:1dwtyfxz]So how do you include files in your .quest file?[/quote:1dwtyfxz]\n\nchoose 'publish' in the Tools menu of the editor and quest copys the game file and all ressource files from the game directory into the .quest file. Vou can't change the quest file at runtime.\n\n[quote=&quot;Alex&quot;:1dwtyfxz]You can use JavaScript to get or post data via an AJAX call.[/quote:1dwtyfxz]\n\nThat's possible, but not that easy. I had several problems with it. There seems to be a sort of caching. After you have added a new entry to it loading a file a second time returns the old values . And the chrome/javascript engine doesn't allow access to files on other servers.",
      "EditableFormat": "bbcode",
      "HTML": "<blockquote><cite>The Pixie wrote:</cite>So how do you include files in your .quest file?</blockquote><br/><br/>choose 'publish' in the Tools menu of the editor and quest copys the game file and all ressource files from the game directory into the .quest file. Vou can't change the quest file at runtime.<br/><br/><blockquote><cite>Alex wrote:</cite>You can use JavaScript to get or post data via an AJAX call.</blockquote><br/><br/>That's possible, but not that easy. I had several problems with it. There seems to be a sort of caching. After you have added a new entry to it loading a file a second time returns the old values . And the chrome/javascript engine doesn't allow access to files on other servers.",
      "PostDate": "2014-04-11T13:46:05+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "28398",
      "UserId": 0,
      "Username": "The Pixie",
      "UserAvatar": null,
      "UserGravatar": "cfa37e927f96177bcf6053ae8f108f77",
      "EditableText": "[quote=&quot;Pertex&quot;:foqesk9g]choose 'publish' in the Tools menu of the editor and quest copys the game file and all ressource files from the game directory into the .quest file. Vou can't change the quest file at runtime.[/quote:foqesk9g]\nThat is what I tried originally, but the files were not there. Is there some mechanism to tell quest which to include? Or are certain file types not included? Presumably it works for sound and images okay.",
      "EditableFormat": "bbcode",
      "HTML": "<blockquote><cite>Pertex wrote:</cite>choose 'publish' in the Tools menu of the editor and quest copys the game file and all ressource files from the game directory into the .quest file. Vou can't change the quest file at runtime.</blockquote><br/>That is what I tried originally, but the files were not there. Is there some mechanism to tell quest which to include? Or are certain file types not included? Presumably it works for sound and images okay.",
      "PostDate": "2014-04-11T14:59:07+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "28399",
      "UserId": 0,
      "Username": "Alex",
      "UserAvatar": null,
      "UserGravatar": "188b72c5e13327f4fde3989dca7d7d53",
      "EditableText": "Only certain file extensions are included.\n\nSee <!-- m --><a class=\"postlink\" href=\"https://quest.codeplex.com/SourceControl/latest#WorldModel/WorldModel/GameLoader/Packager.cs\">https://quest.codeplex.com/SourceContro ... ackager.cs</a><!-- m -->\n\nIt adds these: *.jpg;*.jpeg;*.png;*.gif;*.js;*.wav;*.mp3;*.htm;*.html\n\nLooks like you should be able to manually add extra files by setting them as a resource in your ASLX (see <!-- m --><a class=\"postlink\" href=\"http://quest5.net/wiki/Resource_element\">http://quest5.net/wiki/Resource_element</a><!-- m -->) although looking at that code, it seems that will only work if the resource element is defined in a library.",
      "EditableFormat": "bbcode",
      "HTML": "Only certain file extensions are included.<br/><br/>See <!-- m --><a class=\"postlink\" href=\"https://quest.codeplex.com/SourceControl/latest#WorldModel/WorldModel/GameLoader/Packager.cs\">https://quest.codeplex.com/SourceContro ... ackager.cs</a><!-- m --><br/><br/>It adds these: *.jpg;*.jpeg;*.png;*.gif;*.js;*.wav;*.mp3;*.htm;*.html<br/><br/>Looks like you should be able to manually add extra files by setting them as a resource in your ASLX (see <!-- m --><a class=\"postlink\" href=\"http://quest5.net/wiki/Resource_element\">http://quest5.net/wiki/Resource_element</a><!-- m -->) although looking at that code, it seems that will only work if the resource element is defined in a library.",
      "PostDate": "2014-04-11T16:06:47+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "28400",
      "UserId": 0,
      "Username": "The Pixie",
      "UserAvatar": null,
      "UserGravatar": "cfa37e927f96177bcf6053ae8f108f77",
      "EditableText": "Presumably I can just rename a text file to whatever.html, and include that?\n\nETA: I have tested this, and naming a text file as whatever.html will get it included in your .quest package, and when you upload it, you can open it up with:\n\n[code:28ggrl1o]mystring = GetFileData (&quot;whatever&#46;html&quot;)[/code:28ggrl1o]",
      "EditableFormat": "bbcode",
      "HTML": "Presumably I can just rename a text file to whatever.html, and include that?<br/><br/>ETA: I have tested this, and naming a text file as whatever.html will get it included in your .quest package, and when you upload it, you can open it up with:<br/><br/><pre><code>mystring = GetFileData (&quot;whatever&#46;html&quot;)</code></pre>",
      "PostDate": "2014-04-11T17:01:42+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "34867",
      "UserId": 0,
      "Username": "Silver",
      "UserAvatar": null,
      "UserGravatar": "13024be5ccbb463906b024d5bd3cb5e8",
      "EditableText": "[quote=&quot;Alex&quot;:20p0ku89]Only certain file extensions are included.\n\nSee <!-- m --><a class=\"postlink\" href=\"https://quest.codeplex.com/SourceControl/latest#WorldModel/WorldModel/GameLoader/Packager.cs\">https://quest.codeplex.com/SourceContro ... ackager.cs</a><!-- m -->\n\nIt adds these: *.jpg;*.jpeg;*.png;*.gif;*.js;*.wav;*.mp3;*.htm;*.html\n\nLooks like you should be able to manually add extra files by setting them as a resource in your ASLX (see <!-- m --><a class=\"postlink\" href=\"http://quest5.net/wiki/Resource_element\">http://quest5.net/wiki/Resource_element</a><!-- m -->) although looking at that code, it seems that will only work if the resource element is defined in a library.[/quote:20p0ku89]\n\nArghh, which means although vorbis makes multiple sounds viable in chromium, it won't work online because that extension isn't included but mp3 will work online but not with chromium. That's easily solved by including [i:20p0ku89]both[/i:20p0ku89] files, as html5 will read down them until it finds a compatible one it can play, but it'll bump up the game file size somewhat.",
      "EditableFormat": "bbcode",
      "HTML": "<blockquote><cite>Alex wrote:</cite>Only certain file extensions are included.<br/><br/>See <!-- m --><a class=\"postlink\" href=\"https://quest.codeplex.com/SourceControl/latest#WorldModel/WorldModel/GameLoader/Packager.cs\">https://quest.codeplex.com/SourceContro ... ackager.cs</a><!-- m --><br/><br/>It adds these: *.jpg;*.jpeg;*.png;*.gif;*.js;*.wav;*.mp3;*.htm;*.html<br/><br/>Looks like you should be able to manually add extra files by setting them as a resource in your ASLX (see <!-- m --><a class=\"postlink\" href=\"http://quest5.net/wiki/Resource_element\">http://quest5.net/wiki/Resource_element</a><!-- m -->) although looking at that code, it seems that will only work if the resource element is defined in a library.</blockquote><br/><br/>Arghh, which means although vorbis makes multiple sounds viable in chromium, it won't work online because that extension isn't included but mp3 will work online but not with chromium. That's easily solved by including <span style=\"font-style:italic;\">both</span> files, as html5 will read down them until it finds a compatible one it can play, but it'll bump up the game file size somewhat.",
      "PostDate": "2015-02-22T08:15:24+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "34874",
      "UserId": 0,
      "Username": "Silver",
      "UserAvatar": null,
      "UserGravatar": "13024be5ccbb463906b024d5bd3cb5e8",
      "EditableText": "Thinking on that means vorbis isn't supported at all If they're disregarded at the publish stage as anyone downloading the game to chromium won't have the files. \n\nWhich means I'll have to try incuding them as a resource which looks complicated.",
      "EditableFormat": "bbcode",
      "HTML": "Thinking on that means vorbis isn't supported at all If they're disregarded at the publish stage as anyone downloading the game to chromium won't have the files. <br/><br/>Which means I'll have to try incuding them as a resource which looks complicated.",
      "PostDate": "2015-02-22T11:12:33+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "34878",
      "UserId": 0,
      "Username": "Alex",
      "UserAvatar": null,
      "UserGravatar": "188b72c5e13327f4fde3989dca7d7d53",
      "EditableText": "As of Quest 5.6 you can update the publishfileextensions attribute on the game element to set which file extensions are included, so you can just add *.ogg to this.",
      "EditableFormat": "bbcode",
      "HTML": "As of Quest 5.6 you can update the publishfileextensions attribute on the game element to set which file extensions are included, so you can just add *.ogg to this.",
      "PostDate": "2015-02-22T13:30:24+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "34879",
      "UserId": 0,
      "Username": "Silver",
      "UserAvatar": null,
      "UserGravatar": "13024be5ccbb463906b024d5bd3cb5e8",
      "EditableText": "I was literally just about to start creating a library and was coming back to this thread to find the link. <!-- s:lol: --><img src=\"{SMILIES_PATH}/icon_lol.gif\" alt=\":lol:\" title=\"Laughing\" /><!-- s:lol: -->\n\nThat sounds a lot easier. Cheers!",
      "EditableFormat": "bbcode",
      "HTML": "I was literally just about to start creating a library and was coming back to this thread to find the link. <!-- s:lol: --><img src=\"{SMILIES_PATH}/icon_lol.gif\" alt=\":lol:\" title=\"Laughing\" /><!-- s:lol: --><br/><br/>That sounds a lot easier. Cheers!",
      "PostDate": "2015-02-22T13:48:30+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "34890",
      "UserId": 0,
      "Username": "The Pixie",
      "UserAvatar": null,
      "UserGravatar": "cfa37e927f96177bcf6053ae8f108f77",
      "EditableText": "[quote=&quot;Alex&quot;:1p8kus6i]As of Quest 5.6 you can update the publishfileextensions attribute on the game element to set which file extensions are included, so you can just add *.ogg to this.[/quote:1p8kus6i]\nThat is good. But the default list does not include XML, which used to be included automatically,",
      "EditableFormat": "bbcode",
      "HTML": "<blockquote><cite>Alex wrote:</cite>As of Quest 5.6 you can update the publishfileextensions attribute on the game element to set which file extensions are included, so you can just add *.ogg to this.</blockquote><br/>That is good. But the default list does not include XML, which used to be included automatically,",
      "PostDate": "2015-02-23T11:40:03+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "34891",
      "UserId": 0,
      "Username": "The Pixie",
      "UserAvatar": null,
      "UserGravatar": "cfa37e927f96177bcf6053ae8f108f77",
      "EditableText": "Another rather important issue is that my game is now unable to access the included files. I had tried this in 5.5, using files with a .xml extension and they worked fine. Now in Quest 5.6, both .txt and .xml are included in thr package, once publishfileextensions is set accordingly, but GetFileData will no longer open the file:\n[code:28lnbyhy]Error running script&#058; Error evaluating expression 'GetFileData(filename)'&#58; Cannot find a file called 'father&#46;txt' in current [/code:28lnbyhy]\n\nIf it is any help, this is the test game:\n<!-- m --><a class=\"postlink\" href=\"http://textadventures.co.uk/games/view/raszjttde0_xv4rcxhtuqa/waiting-for-a-train\">http://textadventures.co.uk/games/view/ ... or-a-train</a><!-- m -->",
      "EditableFormat": "bbcode",
      "HTML": "Another rather important issue is that my game is now unable to access the included files. I had tried this in 5.5, using files with a .xml extension and they worked fine. Now in Quest 5.6, both .txt and .xml are included in thr package, once publishfileextensions is set accordingly, but GetFileData will no longer open the file:<br/><pre><code>Error running script&#058; Error evaluating expression 'GetFileData(filename)'&#58; Cannot find a file called 'father&#46;txt' in current </code></pre><br/><br/>If it is any help, this is the test game:<br/><!-- m --><a class=\"postlink\" href=\"http://textadventures.co.uk/games/view/raszjttde0_xv4rcxhtuqa/waiting-for-a-train\">http://textadventures.co.uk/games/view/ ... or-a-train</a><!-- m -->",
      "PostDate": "2015-02-23T12:43:55+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "34894",
      "UserId": 0,
      "Username": "Alex",
      "UserAvatar": null,
      "UserGravatar": "188b72c5e13327f4fde3989dca7d7d53",
      "EditableText": "XML files never used to be included automatically. You can see the change here - <!-- m --><a class=\"postlink\" href=\"https://github.com/textadventures/quest/commit/190c50e6feed0524a41267cbd415a7d8d8b2b677\">https://github.com/textadventures/quest ... d8d8b2b677</a><!-- m -->. The default included file extensions are the same, with the addition of .svg.\n\nIf GetFileData is not working please log an issue, as it will get lost here otherwise.",
      "EditableFormat": "bbcode",
      "HTML": "XML files never used to be included automatically. You can see the change here - <!-- m --><a class=\"postlink\" href=\"https://github.com/textadventures/quest/commit/190c50e6feed0524a41267cbd415a7d8d8b2b677\">https://github.com/textadventures/quest ... d8d8b2b677</a><!-- m -->. The default included file extensions are the same, with the addition of .svg.<br/><br/>If GetFileData is not working please log an issue, as it will get lost here otherwise.",
      "PostDate": "2015-02-23T14:01:04+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "34917",
      "UserId": 0,
      "Username": "Silver",
      "UserAvatar": null,
      "UserGravatar": "13024be5ccbb463906b024d5bd3cb5e8",
      "EditableText": "So, [i:21ijcfzd]in theory[/i:21ijcfzd], adding filename extensions should also work with fonts?",
      "EditableFormat": "bbcode",
      "HTML": "So, <span style=\"font-style:italic;\">in theory</span>, adding filename extensions should also work with fonts?",
      "PostDate": "2015-02-24T18:14:03+00:00",
      "LastEditDate": null
    }
  ]
}
