{
  "Topic": {
    "TopicId": "4342",
    "ForumId": "10",
    "Title": "\"If game.score\"-script not working properly",
    "LastUpdated": "2014-05-17T08:15:07+01:00",
    "ReplyCount": 2
  },
  "Posts": [
    {
      "PostId": "28806",
      "UserId": 0,
      "Username": "chellkafka",
      "UserAvatar": null,
      "UserGravatar": "eff29d4fab3b92a9d9ccd647e42bf40f",
      "EditableText": "So, there is a series of three rooms. And you can get +1 or -1 in each rooms depending on how you play. And I want if the player is in the third room and if his score is -2, that he gets a different response from when he has a different score. But for some reason I never get the different response.\nI run a &quot;Call function&quot;-script after entering the room. The function is called &quot;GetScore&quot; and I set an if script in the function that takes the room and the score in account.\nAny idea what's wrong?\nTyping in &quot;pullroom&quot; sets the score to -2 and moves you to the third room.",
      "EditableFormat": "bbcode",
      "HTML": "So, there is a series of three rooms. And you can get +1 or -1 in each rooms depending on how you play. And I want if the player is in the third room and if his score is -2, that he gets a different response from when he has a different score. But for some reason I never get the different response.<br/>I run a &quot;Call function&quot;-script after entering the room. The function is called &quot;GetScore&quot; and I set an if script in the function that takes the room and the score in account.<br/>Any idea what's wrong?<br/>Typing in &quot;pullroom&quot; sets the score to -2 and moves you to the third room.<div><a href=\"/attachment/902\">Game design game.7z</a></div>",
      "PostDate": "2014-05-16T18:02:50+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "28807",
      "UserId": 0,
      "Username": "jaynabonne",
      "UserAvatar": "6579_1344778256.jpg",
      "UserGravatar": "379859a7f1952a65399fc63997e68f0b",
      "EditableText": "If I type &quot;pullroom&quot; from the beginning, it prints out &quot;There is a lever. Please look around first and then pull it.&quot; That's what the code is saying to do. If it's 0, it will do one thing; else it will do the other, and the other is what it does for me.\n\nAt the beginning, the score is 1. When you type &quot;pullroom&quot;, it moves the player to the &quot;pull room&quot; and then decreases the score by 3 to -2. Note that that is slightly different from what you said. You don't set the score to -2 and then move the player. You move the player and then set the score to -2. I'm not sure if that's the problem, as the score won't be -2 when you enter the room. It will still be 1. It doesn't become -2 until after the player movement is done.",
      "EditableFormat": "bbcode",
      "HTML": "If I type &quot;pullroom&quot; from the beginning, it prints out &quot;There is a lever. Please look around first and then pull it.&quot; That's what the code is saying to do. If it's 0, it will do one thing; else it will do the other, and the other is what it does for me.<br/><br/>At the beginning, the score is 1. When you type &quot;pullroom&quot;, it moves the player to the &quot;pull room&quot; and then decreases the score by 3 to -2. Note that that is slightly different from what you said. You don't set the score to -2 and then move the player. You move the player and then set the score to -2. I'm not sure if that's the problem, as the score won't be -2 when you enter the room. It will still be 1. It doesn't become -2 until after the player movement is done.",
      "PostDate": "2014-05-16T21:23:01+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "28813",
      "UserId": 0,
      "Username": "chellkafka",
      "UserAvatar": null,
      "UserGravatar": "eff29d4fab3b92a9d9ccd647e42bf40f",
      "EditableText": "ah, ok, thanks. I tried it moving the player 1 second after changing the score and now it works. thanks, didn't think that there needs to be a clear order for the scripts.",
      "EditableFormat": "bbcode",
      "HTML": "ah, ok, thanks. I tried it moving the player 1 second after changing the score and now it works. thanks, didn't think that there needs to be a clear order for the scripts.",
      "PostDate": "2014-05-17T08:15:07+01:00",
      "LastEditDate": null
    }
  ]
}
