{
  "Topic": {
    "TopicId": "258",
    "ForumId": "10",
    "Title": "SAMPLE COMBAT SYSTEM",
    "LastUpdated": "2004-02-07T15:22:13+00:00",
    "ReplyCount": 12
  },
  "Posts": [
    {
      "PostId": "1812",
      "UserId": 0,
      "Username": "I think Im Dead",
      "UserAvatar": null,
      "UserGravatar": "662782b48efa4728f8d0773b83c01ddf",
      "EditableText": "The SAMPLE COMBAT SYSTEM(as it will be known now) is provided for open use and modification by all and may freely be used in whatever project/game/etc. without any recognition. All that is asked is that you contritbute your modifications to the public in the form of guides, further sample code, tutorials, help or whatever on these forums in the future. A quick \"cheat sheet\" can be found at the bottom, and for further reference you can find a somewhat-original copy of this file at [url=http&#58;//s88880570&#46;onlinehome&#46;us/asl/qnetbat&#46;asl:2annsupr]http://s88880570.onlinehome.us/asl/qnetbat.asl[/url:2annsupr].  Blah blah blah.\n\nThe following was written quite a while ago, and while other modified inclinations of it exist, this has proven to be the most stable and balanced. That said, you are still offerered no assurance that it in it's entirety will work for you in your present situation. At most it is to be seen as a learning text to be modified and improved upon by any and all. This code has been heavily modified out of my game, and into this text and as such provides no guarantees, but merely is a base to work from with a minimal of \"filling in the blanks\" to figure out and do. I'm not looking for any recognition or criticism, aim any praise or code picking directly towards anyone else who chooses to learn from or use this code in the form of advice and contributions.\n\nThe first step of adding this code to an ASL file is understanding it, but as that is no fun, here's a simple guide of what you need to copy and paste(the why and where will be discussed as well).\n\n\n\"The First Bit of Code\"\n\n[b:2annsupr]This combat engine utilizes time(or a \"game tick\"; \"tick\") to bring combat to life. Players receive\na roundtime for any combat action taken from attempting to strike an opponent to taking a defensive\nstance preparing to block an enemy. This roundtime is by default calculated by a crude math funciton\nderived from a player's dexterity(DEX). The game tick controls combat actions and is meant to be\nused to control other basic player functions as well, once you get used to the system structure, you\nwill find it easy to incorporate it all over as well.[/b:2annsupr]\n\nCODE EXPLAINED\n[code:2annsupr]\nstartscript &#123; 'This is defining our servers startscript, it sets initial variables for time and such'\n\tset numeric &lt;second-time; 00&gt;'This is all self-explanatory the game stores time intervals in  '\n\tproperty &lt;game&#46;info; second-time=00&gt;'numeric variables and rights them to a game&#46;info object&#46; '\n\tset numeric &lt;minute-time; 00&gt;'This is basically cosmetic, it helps to format the time, and    '\n\tproperty &lt;game&#46;info; minute-time=00&gt;'follows along the building structure of objects storing  '\n\tset numeric &lt;hour-time; 00&gt;'properties&#46;                                                       '\n\tproperty &lt;game&#46;info; hour-time=00&gt;'                                                           '\n\tset numeric &lt;player&#46;count; 0&gt;'These aren't implemented yet, but were going to be expanded&#46;    '\n\tset numeric &lt;object&#46;count; 0&gt;'                         NOT IMPLEMENTED                        '\n\tset string &lt;player&#46;list; null&gt;'                        NOT IMPLEMENTED                        '\n\tset string &lt;format&#46;objects; null&gt;'                     NOT IMPLEMENTED                        '\n\t&#125;\n\tplayer startscript &#123;\n\t\tpanes off 'This is a preference of mine, can be on or off&#46;'\n\t\tbackground &lt;black&gt; 'Again preference, can be set to any \n\t\tforeground &lt;white&gt; 'available color&#46;                      '\n\t\tcreate room &lt;player%userid%-r-hand&gt;'These give the player the ability to hold objects in'\n\t\tproperty &lt;player%userid%-r-hand; held=null&gt;'hands, it is left open for some definition  '\n\t\tproperty &lt;player%userid%-r-hand; held-name=null&gt;'eventually support ambidexterity as well'\n\t\tproperty &lt;player%userid%-r-hand; held-short=a bare fist&gt;'as choosing to be left or right'\n\t\tproperty &lt;player%userid%-r-hand; held-display=nothing&gt;'handed'\n\t\tcreate room &lt;player%userid%-l-hand&gt; 'Same as above'\n\t\tproperty &lt;player%userid%-l-hand; held=null&gt;\n\t\tproperty &lt;player%userid%-l-hand; held-name=null&gt;\n\t\tproperty &lt;player%userid%-l-hand; held-short=a bare fist&gt;\n\t\tproperty &lt;player%userid%-l-hand; held-display=nothing&gt;\n\t\tset string &lt;name; $name&#40;%userid%&#41;$&gt; 'Defines display name variable as the entered Quest name'\n\t\tset numeric &lt;age; $rand&#40;16;35&#41;$&gt; 'Defines a random age for the player&#40;novelty&#41;'\n\t\tproperty &lt;player%userid%; name=$capfirst&#40;#name#&#41;$&gt; 'Formats the name and gives to player object'\n\t\tproperty &lt;player%userid%; alias=$capfirst&#40;#name#&#41;$&gt; 'Sets the display name'\n\t\tproperty &lt;player%userid%; race=Human&gt; 'Sets the player's race&#40;novelty&#41;'\n\t\tproperty &lt;player%userid%; sex=Male&gt; 'Sets the player's sex&#40;novelty&#41;'\n\t\tproperty &lt;player%userid%; level=0&gt; 'Sets the player's level&#40;novelty for now, but can be expanded&#41;'\n\t\tproperty &lt;player%userid%; age=%age%&gt; 'Applies the afore mentioned random age'\n\t\tproperty &lt;player%userid%; sexdesc=him&gt; 'Provides accurate description when using actions'\n\t\tproperty &lt;player%userid%; sexposs=his&gt; 'Same as above'\n\t\tproperty &lt;player%userid%; visibility=1&gt; 'Implemented for future use in redefining the &quot;look&quot; command'\n\t\tproperty &lt;player%userid%; look=You see $objectproperty&#40;player%userid%; name&#41;$ the $objectproperty&#40;player%userid%; race&#41;$&#46;|n&gt; 'Defines a default look description to override Quest default'\n\t\tproperty &lt;player%userid%; stance=5&gt; 'Puts the player by default in a defensive stance'\n\t\tproperty &lt;player%userid%; stance-display=defensive&gt; 'Describes the above'\n\t\tproperty &lt;player%userid%; offhand=player%userid%-l-hand&gt; 'Implemented for future support of choosing left-handed or right-handed'\n\t\tproperty &lt;player%userid%; mainhand=player%userid%-r-hand&gt; 'Same as above'\n\t\tproperty &lt;player%userid%; readied=null&gt; 'Set as null&#40;empty handed&#41;'\n\t\tproperty &lt;player%userid%; wielded=null&gt; 'Same as above'\n\t\tproperty &lt;player%userid%; as-boost=0&gt; 'Set to zero&#40;no boost&#41; property given for object/spells that provide generic attack boost'\n\t\tproperty &lt;player%userid%; ds-boost=0&gt; 'Same as above but for generic defense boost'\n\t\tproperty &lt;player%userid%; player&gt; 'Defines as a human controlled object'\n\t\tproperty &lt;player%userid%; STR=$rand&#40;20;100&#41;$&gt; 'Supplies random STRENGTH&#40;STR&#41; stat to initially start off with'\n\t\tproperty &lt;player%userid%; CON=$rand&#40;20;100&#41;$&gt; 'Supplies random CONSTITUTION&#40;CON&#41; stat to initially start off with'\n\t\tproperty &lt;player%userid%; DEX=$rand&#40;20;100&#41;$&gt; 'Supplies random DEXTERITY&#40;DEX&#41; stat to initially start off with'\n\t\tproperty &lt;player%userid%; INT=$rand&#40;20;100&#41;$&gt; 'Supplies random INTELLIGENCE&#40;INT&#41; stat to initially start off with'\n\t\tproperty &lt;player%userid%; WIS=$rand&#40;20;100&#41;$&gt; 'Supplies random WISDOM&#40;WIS&#41; stat to initially start off with'\n\t\tproperty &lt;player%userid%; AUR=$rand&#40;20;100&#41;$&gt; 'Supplies random AURA&#40;AUR&#41; stat to initially start off with'\n\t\tproperty &lt;player%userid%; CHA=$rand&#40;20;100&#41;$&gt; 'Supplies random CHARISMA&#40;CHA&#41; stat to initially start off with'\n\t\tproperty &lt;player%userid%; DIS=$rand&#40;20;100&#41;$&gt; 'Supplies random DISCIPLINE&#40;DIS&#41; stat to initially start off with'\n\t\tproperty &lt;player%userid%; engaged=no&gt; 'Set to no&#40;not engaged in combat&#41; used by combat system'\n\t\tproperty &lt;player%userid%; enemies=0&gt; 'Not engaged to any enemies so set to zero, used by combat system'\n\t\tproperty &lt;player%userid%; attacking=null&gt; 'Not currently attacking anybody or thing, set to null'\n\t\tproperty &lt;player%userid%; stealth=0&gt; 'A factor included for integration with a hiding system, ie; for redefined LOOK command'\n\t\tproperty &lt;player%userid%; visibility=1&gt; 'Included for integration with a hiding system, ie; for redefined LOOK command'\n\t\tproperty &lt;player%userid%; spotted=0&gt; 'Included for integration with a hiding system, ie; for redefined LOOK command'\n\t\tset numeric &lt;HP-temp; $objectproperty&#40;player%userid%; CON&#41;$ + $objectproperty&#40;player%userid%; AUR&#41;$&gt; 'Step in stat-based Hit Point calculation' \n\t\tset numeric &lt;HP; %HP-temp% /4&gt; 'step in stat-based Hit Point calculation'\n\t\tproperty &lt;player%userid%; HP-MAX=%HP%&gt; 'Assigns stat-based Hit Point maximum'\n\t\tproperty &lt;player%userid%; HP=%HP%&gt; 'Assigns current Hit Points out of maximum possible'\n\t\tset numeric &lt;player%userid%; 0&gt; 'Not documented yet'\n\t\tproperty &lt;player%userid%; rt=0&gt; 'Defines a natural zero roundtime property, a player can only act with a roundtime of zero'\n\n\t&#125;\n[/code:2annsupr]\n\n[b:2annsupr]Those two pieces of code are the server and player startscripts, they define properties and variables necessary for the engine to work properly. As you can see from the code,\nwe are assigning properties to an object called, player%userid%, this is the name of the default player object and literally translates to player1, player2, or whatever the\nplayers ID generated by QuestNet is. Object properties are a bit easier to work with than status variables, and as this engine was created before scoping status variables were\nimplemented, it widely uses object properties, for players and most things alike. By definition the games infrastructure is \"object-oriented\" in the sense that, there are\n\"MASTER OBJECTS\" that control all objects of their type. The current damage system is a good example(though in later versions was redefined, this manner will be easiest for \nbeginners to learn). Objects such as 'a broadsword' are tied to a master weapon-type of broadsword. This allows you to have all subsequent broadswords adopt the properties and\nactions of the master object. This could be done in a manner using ASL's type properties, but instead was done through a literal sense so once in game, commands could be used\nto create an entirely new type of object with it's own changable properties from within the environment. The ASL type properties would not be as easily modified, so the decision\nwas made. A broadsword does for example does swinging, stabbing and slashing damage, and has linked damage scales and damage messages in the master object. Eventually this was\nupdated to a more \"on the fly\" and random system, but that turned into a d20 based battle system entirely unrelated. Less talky more codey.[/b:2annsupr]\n\n[code:2annsupr]\n\tdisconnect &#123; \n\t\tset string &lt;disconnecting&#46;player; player%userid%&gt;\n\t\tfor each object in &lt;player%userid%-l-hand&gt; move &lt;#quest&#46;thing#; arena&gt;\n\t\tproperty &lt;player%userid%-l-hand; held=null&gt;\n\t\tproperty &lt;player%userid%-l-hand; held-name=null&gt;\n\t\tproperty &lt;player%userid%-l-hand; held-short=a bare fist&gt;\n\t\tproperty &lt;player%userid%-l-hand; held-display=nothing&gt;\n\t\tfor each object in &lt;player%userid%-r-hand&gt; move &lt;#quest&#46;thing#; arena&gt;\n\t\tproperty &lt;player%userid%-r-hand; held=null&gt;\n\t\tproperty &lt;player%userid%-r-hand; held-name=null&gt;\n\t\tproperty &lt;player%userid%-r-hand; held-short=a bare fist&gt;\n\t\tproperty &lt;player%userid%-r-hand; held-display=nothing&gt;\n\t\tfor &lt;local&#46;enemies; 1; $objectproperty&#40;player%userid%; enemies&#41;$&gt; &#123;\n\t\t\tset string &lt;disengage&#46;enemy; $objectproperty&#40;player%userid%; enemy-%local&#46;enemies%&#41;$&gt;\n\t\t\tset numeric &lt;enemy&#46;subtract; $objectproperty&#40;#disengage&#46;enemy#; enemies&#41;$ - 1&gt;\n\t\t\tset numeric &lt;local&#46;subtract; $objectproperty&#40;player%userid%; enemies&#41;$ - 1&gt;\n\t\t\tproperty &lt;player%userid%; enemy-%enemies%=null&gt;\n\t\t\tfor &lt;enemy&#46;enemies; 1; $objectproperty&#40;#disengage&#46;enemy#; enemies&#41;$&gt; if &#40; $objectproperty&#40;#disengage&#46;enemy#; enemy-%enemy&#46;enemies%&#41;$ = #disconnecting&#46;player# &#41; then &#123;\n\t\t\t\tproperty &lt;#disengage&#46;enemy#; enemy-%enemy&#46;enemies%=null&gt;\n\t\t\t\tproperty &lt;#disengage&#46;enemy#; enemy-%enemy&#46;enemies%-distance=null&gt;\n\t\t\t\tproperty &lt;#disengage&#46;enemy#; enemies=%enemy&#46;subtract%&gt;\n\t\t\t\tif &#40; $objectproperty&#40;#disengaged&#46;enemy#; enemies&#41;$ = 0 &#41; then property &lt;#disengaged&#46;enemy#; engaged=no&gt;\n\t\t\t&#125;\n\t\t\tproperty &lt;player%userid%; enemy-%enemies%-distance=null&gt;\n\t\t\tproperty &lt;player%userid%; enemies=%enemy&#46;subtract%&gt;\n\t\t\tif &#40; $objectproperty&#40;player%userid%; enemies&#41;$ = 0 &#41; then property &lt;player%userid%; engaged=no&gt;\n\t\t&#125;\n\t&#125;\n[/code:2annsupr]\n\n[b:2annsupr]This is the disconnect string, it places all objects in a player's hands in the arena room(can easily be changed to #quest.currentroom[userid]#) and disengages from any combat situations\non both attack and defender ends. Speaking of hands lets put out the procedure and command to use the new take implemented.[/b:2annsupr]\n\n[code:2annsupr]\ndefine procedure &lt;take-check&gt; if here &lt;#target-object#&gt; then &#123;\n\tif property &lt;#target-object#; take&gt; then exec &lt;take-do&gt; else msg &lt;You cannot take that&#46;|n&gt;&#125;\n\telse msg &lt;I could not find what you were referring to&#46;|n&gt;\t\nend define\n\n'AT THE TIME THIS WAS MADE QUEST DIDN'T ALWAYS ALLOW A PROCEDURE CALLING ANOTHER PROCEDURE AND THUSLY THE TAKE PROCEDURE WAS FORCED TO CALL A COMMAND &quot;TAKE-DO&quot; HERE IT IS'\n'IT CAN EASILY BE UPDATED TO BE MORE COHESIVE IF ONE WERE TO LOOK INTO IT'\n\n\tcommand &lt;take-do&gt; if &#40; $objectproperty&#40;player%userid%-r-hand; held&#41;$ = null &#41; then &#123;\n\t\tset string &lt;target-object; $getobjectname&#40;#target-object#&#41;$&gt;\n\t\tmove &lt;#target-object#; player%userid%-r-hand&gt;\n\t\tproperty &lt;player%userid%-r-hand; held=#target-object#&gt;\n\t\tproperty &lt;player%userid%-r-hand; held-name=$displayname&#40;#target-object#&#41;$&gt;\n\t\tproperty &lt;player%userid%-r-hand; held-short=$objectproperty&#40;#target-object#; short&#41;$&gt;\n\t\tif property &lt;#target-object#; prefix&gt; then property &lt;player%userid%-r-hand; held-display=$objectproperty&#40;#target-object#; prefix&#41;$ $displayname&#40;#target-object#&#41;$&gt;\n\t\tif property &lt;#target-object#; suffix&gt; then property &lt;player%userid%-r-hand; held-display=$objectproperty&#40;#target-object#; prefix&#41;$ $displayname&#40;#target-object#&#41;$$objectproperty&#40;#target-object#; suffix&#41;$&gt;\n\t\tmsg &lt;You pick up the $displayname&#40;#target-object#&#41;$ with your right hand&#46;|n&gt;\n\t&#125;\n\telse &#123;\n\t\tif &#40; $objectproperty&#40;player%userid%-l-hand; held&#41;$ = null &#41; then &#123;\n\t\t\tmove &lt;#target-object#; player%userid%-l-hand&gt;\n\t\t\tproperty &lt;player%userid%-l-hand; held=#target-object#&gt;\n\t\t\tproperty &lt;player%userid%-l-hand; held-name=$displayname&#40;#target-object#&#41;$&gt;\n\t\t\tproperty &lt;player%userid%-l-hand; held-short=$objectproperty&#40;#target-object#; short&#41;$&gt;\n\t\t\tif property &lt;#target-object#; prefix&gt; then property &lt;player%userid%-l-hand; held-display=$objectproperty&#40;#target-object#; prefix&#41;$ $displayname&#40;#target-object#&#41;$&gt;\n\t\t\tif property &lt;#target-object#; suffix&gt; then property &lt;player%userid%-l-hand; held-display=$objectproperty&#40;#target-object#; prefix&#41;$ $displayname&#40;#target-object#&#41;$$objectproperty&#40;#target-object#; suffix&#41;$&gt;\n\t\t\tmsg &lt;You pick up the $displayname&#40;#target-object#&#41;$ with your left hand&#46;|n&gt;\n\t\t&#125;\n\t\telse msg &lt;Both of your hands are full&#46;|n&gt;\n\t&#125;\n\n[/code:2annsupr]\n\n[b:2annsupr]Of course a way to drop objects from the newly created hands had to be created so here's the procedure[/b:2annsupr]\n\n[code:2annsupr]\ndefine procedure &lt;drop&gt;\nif not &#40; $objectproperty&#40;player%userid%; HP&#41;$ &gt;= 0 &#41; then msg &lt;You are dead&#46;|n&gt; else &#123;\n\tif &#40; $objectproperty&#40;player%userid%; rt&#41;$ &lt;&gt; 0 &#41; then msg &lt;You haven't recovered enough from your last action to drop anything&#46;|n&gt; else &#123;\n\tif &#40; $objectproperty&#40;player%userid%-r-hand; held-name&#41;$ = #target-object# &#41; or &#40; $objectproperty&#40;player%userid%-l-hand; held-name&#41;$ = #target-object# &#41; then &#123;\n\t\tif &#40; $objectproperty&#40;player%userid%-r-hand; held-name&#41;$ = #target-object# &#41; then &#123;\n\t\t\tif &#40; $objectproperty&#40;player%userid%; offhand&#41;$ = player%userid%-r-hand &#41; then property &lt;player%userid%; readied=null&gt;\n\t\t\tif &#40; $objectproperty&#40;player%userid%; mainhand&#41;$ = player%userid%-r-hand &#41; then property &lt;player%userid%; wielded=null&gt;\n\t\t\tset string &lt;target-object; $objectproperty&#40;player%userid%-r-hand; held&#41;$&gt;\n\t\t\tmove &lt;#target-object#; #quest&#46;currentroom&#91;userid&#93;#&gt;\n\t\t\tproperty &lt;player%userid%-r-hand; held=null&gt;\n\t\t\tproperty &lt;player%userid%-r-hand; held-name=null&gt;\n\t\t\tproperty &lt;player%userid%-r-hand; held-short=a bare fist&gt;\n\t\t\tproperty &lt;player%userid%-r-hand; held-display=nothing&gt;\n\t\t\tmsg &lt;You drop $objectproperty&#40;#target-object#; short&#41;$ from your right hand&#46;|n&gt;\n\t\t&#125;\n\t\tif &#40; $objectproperty&#40;player%userid%-l-hand; held-name&#41;$ = #target-object# &#41; then &#123;\n\t\t\tif &#40; $objectproperty&#40;player%userid%; offhand&#41;$ = player%userid%-l-hand &#41; then property &lt;player%userid%; readied=null&gt;\n\t\t\tif &#40; $objectproperty&#40;player%userid%; mainhand&#41;$ = player%userid%-l-hand &#41; then property &lt;player%userid%; wielded=null&gt;\n\t\t\tset string &lt;target-object; $objectproperty&#40;player%userid%-l-hand; held&#41;$&gt;\n\t\t\tmove &lt;#target-object#; #quest&#46;currentroom&#91;userid&#93;#&gt;\n\t\t\tproperty &lt;player%userid%-l-hand; held=null&gt;\n\t\t\tproperty &lt;player%userid%-l-hand; held-name=null&gt;\n\t\t\tproperty &lt;player%userid%-l-hand; held-short=a bare fist&gt;\n\t\t\tproperty &lt;player%userid%-l-hand; held-display=nothing&gt;\n\t\t\tmsg &lt;You drop $objectproperty&#40;#target-object#; short&#41;$ from your left hand&#46;|n&gt;\n\t\t&#125;\n\t&#125;\n\telse msg &lt;You are not holding that&#46;|n&gt;\n\t&#125;\n\t&#125;\nend define\n[/code:2annsupr]\n\n[b:2annsupr]Eventually it came to mind that people would get confused having to wield what is in their left hand and ready what is in their right, and having to pick things up with the right hand, so a way to check the contents of your hands was created as well as a way to switch the contents of your hands, here are the procedures for that[/b:2annsupr]\n\n[code:2annsupr]\ndefine procedure &lt;glance&gt;\n\tmsg &lt;You have $objectproperty&#40;player%userid%-r-hand; held-display&#41;$ in your right hand and $objectproperty&#40;player%userid%-l-hand; held-display&#41;$ in your left hand&#46;|n&gt;\nend define\n'\n' SwAP PROCEDURES\n'\ndefine procedure &lt;swap-check&gt;\n\tif not &#40; $objectproperty&#40;player%userid%; HP&#41;$ &gt;= 0 &#41; then msg &lt;You are dead&#46;|n&gt; else &#123;\n\t\tif &#40; $objectproperty&#40;player%userid%; rt&#41;$ &lt;&gt; 0 &#41; then msg &lt;You haven't recovered enough from your last action to swap your hands&#46;|n&gt; else &#123;\n\t\t\tset string &lt;r-held; $objectproperty&#40;player%userid%-r-hand; held&#41;$&gt;\n\t\t\tset string &lt;l-held; $objectproperty&#40;player%userid%-l-hand; held&#41;$&gt;\n\t\t\tif exists &lt;#r-held#&gt; and exists &lt;#l-held#&gt; then do &lt;swap-both&gt; else &#123;\n\t\t\t\tif exists &lt;#r-held#&gt; and not exists &lt;#l-held#&gt; then do &lt;swap-right&gt; else &#123;\t\t\n\t\t\t\t\tif exists &lt;#l-held#&gt; and not exists &lt;#r-held#&gt; then do &lt;swap-left&gt; else msg &lt;You fidget with your hands&#46;|n&gt;\n\t\t\t\t&#125; \n\t\t\t&#125; \n\t\t&#125; \n\t&#125;\nend define\ndefine procedure &lt;swap-right&gt;\n\tif &#40; $objectproperty&#40;player%userid%; offhand&#41;$ = player%userid%-r-hand &#41; then property &lt;player%userid%; readied=null&gt;\n\tif &#40; $objectproperty&#40;player%userid%; mainhand&#41;$ = player%userid%-r-hand &#41; then property &lt;player%userid%; wielded=null&gt;\n\tset string &lt;r-object; $objectproperty&#40;player%userid%-r-hand; held&#41;$&gt;\n\tmove &lt;#r-object#; player%userid%-l-hand&gt;\n\tproperty &lt;player%userid%-r-hand; held=null&gt;\n\tproperty &lt;player%userid%-r-hand; held-name=null&gt;\n\tproperty &lt;player%userid%-r-hand; held-short=a bare fist&gt;\n\tproperty &lt;player%userid%-r-hand; held-display=nothing&gt;\n\tproperty &lt;player%userid%-l-hand; held=#r-object#&gt;\n\tproperty &lt;player%userid%-l-hand; held-name=$displayname&#40;#r-object#&#41;$&gt;\n\tproperty &lt;player%userid%-l-hand; held-short=$objectproperty&#40;#r-object#; short&#41;$&gt;\n\tif property &lt;#r-object#; prefix&gt; then property &lt;player%userid%-l-hand; held-display=$objectproperty&#40;#r-object#; prefix&#41;$ $displayname&#40;#r-object#&#41;$&gt;\n\tif property &lt;#r-object#; suffix&gt; then property &lt;player%userid%-l-hand; held-display=$objectproperty&#40;#r-object#; prefix&#41;$ $displayname&#40;#r-object#&#41;$$objectproperty&#40;#r-object#; suffix&#41;$&gt;\n\tmsg &lt;Ok&#46;|n&gt;\nend define\ndefine procedure &lt;swap-left&gt;\n\tif &#40; $objectproperty&#40;player%userid%; offhand&#41;$ = player%userid%-l-hand &#41; then property &lt;player%userid%; readied=null&gt;\n\tif &#40; $objectproperty&#40;player%userid%; mainhand&#41;$ = player%userid%-l-hand &#41; then property &lt;player%userid%; wielded=null&gt;\n\tset string &lt;l-object; $objectproperty&#40;player%userid%-l-hand; held&#41;$&gt;\n\tmove &lt;#l-object#; player%userid%-r-hand&gt;\n\tproperty &lt;player%userid%-l-hand; held=null&gt;\n\tproperty &lt;player%userid%-l-hand; held-name=null&gt;\n\tproperty &lt;player%userid%-l-hand; held-short=a bare fist&gt;\n\tproperty &lt;player%userid%-l-hand; held-display=nothing&gt;\n\tproperty &lt;player%userid%-r-hand; held=#l-object#&gt;\n\tproperty &lt;player%userid%-r-hand; held-name=$displayname&#40;#l-object#&#41;$&gt;\n\tproperty &lt;player%userid%-r-hand; held-short=$objectproperty&#40;#l-object#; short&#41;$&gt;\n\tif property &lt;#l-object#; prefix&gt; then property &lt;player%userid%-r-hand; held-display=$objectproperty&#40;#l-object#; prefix&#41;$ $displayname&#40;#l-object#&#41;$&gt;\n\tif property &lt;#l-object#; suffix&gt; then property &lt;player%userid%-r-hand; held-display=$objectproperty&#40;#l-object#; prefix&#41;$ $displayname&#40;#l-object#&#41;$$objectproperty&#40;#l-object#; suffix&#41;$&gt;\n\tmsg &lt;Ok&#46;|n&gt;\nend define\ndefine procedure &lt;swap-both&gt;\n\tif &#40; $objectproperty&#40;player%userid%; offhand&#41;$ = player%userid%-r-hand &#41; or &#40; $objectproperty&#40;player%userid%; offhand&#41;$ = player%userid%-l-hand &#41; then property &lt;player%userid%; readied=null&gt;\n\tif &#40; $objectproperty&#40;player%userid%; mainhand&#41;$ = player%userid%-r-hand &#41; or &#40; $objectproperty&#40;player%userid%; mainhand&#41;$ = player%userid%-l-hand &#41; then property &lt;player%userid%; wielded=null&gt;\n\tset string &lt;r-object; $objectproperty&#40;player%userid%-r-hand; held&#41;$&gt;\n\tset string &lt;l-object; $objectproperty&#40;player%userid%-l-hand; held&#41;$&gt;\n\tmove &lt;#r-object#; player%userid%-l-hand&gt;\n\tmove &lt;#l-object#; player%userid%-r-hand&gt;\n\tproperty &lt;player%userid%-l-hand; held=#r-object#&gt;\n\tproperty &lt;player%userid%-r-hand; held=#l-object#&gt;\n\tproperty &lt;player%userid%-l-hand; held-name=$displayname&#40;#r-object#&#41;$&gt;\n\tproperty &lt;player%userid%-r-hand; held-name=$displayname&#40;#l-object#&#41;$&gt;\n\tproperty &lt;player%userid%-l-hand; held-short=$objectproperty&#40;#r-object#; short&#41;$&gt;\n\tproperty &lt;player%userid%-r-hand; held-short=$objectproperty&#40;#l-object#; short&#41;$&gt;\n\tif property &lt;#l-object#; prefix&gt; then property &lt;player%userid%-r-hand; held-display=$objectproperty&#40;#l-object#; prefix&#41;$ $displayname&#40;#l-object#&#41;$&gt;\n\tif property &lt;#l-object#; suffix&gt; then property &lt;player%userid%-r-hand; held-display=$objectproperty&#40;#l-object#; prefix&#41;$ $displayname&#40;#l-object#&#41;$$objectproperty&#40;#l-object#; suffix&#41;$&gt;\n\tif property &lt;#r-object#; prefix&gt; then property &lt;player%userid%-l-hand; held-display=$objectproperty&#40;#r-object#; prefix&#41;$ $displayname&#40;#r-object#&#41;$&gt;\n\tif property &lt;#r-object#; suffix&gt; then property &lt;player%userid%-l-hand; held-display=$objectproperty&#40;#r-object#; prefix&#41;$ $displayname&#40;#r-object#&#41;$$objectproperty&#40;#r-object#; suffix&#41;$&gt;\n\tmsg &lt;Ok&#46;|n&gt;\nend define\n[/code:2annsupr]\n\n[b:2annsupr]!!!MORE CODE!!![/b:2annsupr]\n\n[code:2annsupr]\ndefine room &lt;arena&gt;\n\tproperties &lt;title=The Arena; sanct=0; look=Massive stone walls surround you on all sides forming the octagon you stand in&#46; The dirt beneath your feet is hard packed and riddled with traces of footsteps, all around you see remnants of skin and bones&#46;&gt;\n\tdefine object &lt;item1&gt;\n\t\talias &lt;falchion&gt;\n\t\tproperties &lt;visibility=1; range=1; take; object; weapon; type=broadsword; weight=3; speed=0; bonus=5; prefix=an engraved mithril; short=an engraved mithril falchion; look=The sword appears to be well-crafted and the intricate elven markings engraved into it only increase it's alure&#46;&gt;\n\tend define\n\tdefine object &lt;item2&gt;\n\t\talias &lt;club&gt;\n\t\tproperties &lt;visibility=1; range=1; take; object; weapon; weight=3; type=club; speed=0; bonus=5; prefix=a heavy iron; suffix=with a leather handle; short=a heavy iron club; look=The club is crudely crafted of oak and wrapped with a few strips of leather at the bottom for increased grip&#46;&gt;\n\tend define\n\tdefine object &lt;item3&gt;\n\t\talias &lt;shield&gt;\n\t\tproperties &lt;visibility=1; take; object; shield; bonus=5; prefix=a small; short=a small shield; look=The small shield is covered with dents and scratches, it appears to have survived more than a few battles&#46;|n&gt;\n\tend define\nend define\n\ndefine room &lt;vault&gt;\n\tproperties &lt;title=The Vault; sanct=0; look=This is the most sacred area of the game, the items found here contain properties all other items in the game use during the many complicated procedures that are run&#46;&gt;\n\tdefine object &lt;game&#46;info&gt;\n\t\talias &lt;game&#46;info&gt;\n\t\tproperties &lt;look=null; hour-time=00; minute-time=00; second-time=00&gt;\n\tend define\n\tdefine object &lt;game&#46;temp&gt;\n\t\talias &lt;game&#46;temp&gt;\n\t\tproperties &lt;look=null; player&#46;count=0; object&#46;count=0; format&#46;objects=null; format&#46;players=null; player&#46;list; object&#46;list&gt;\n\tend define\n\tdefine object &lt;broadsword&gt;\n\t\talias &lt;broadsword&gt;\n\t\tproperties &lt;look=null; short=the broadsword; weight=3; speed=0; types=3; 1=swing; 1-plural=swings; 2=stab; 2-plural=stabs; 3=slash; 3-plural=slashes; 1-1=Light swing clips the shoulder!; 1-2=Well-aimed shot bruises the leg!; 1-3=Solid blow to the stomach&#46;&#46;&#46; Those ribs might be broken!; 1-4=Huge swing breaks the spinal cord!; 1-5=Massive strike to the head caves in the skull!; 2-1=Weak jab to the leg, stop it that tickles!; 2-2=Quick stab to the chest draws blood!; 2-3=Skillfull strike to the leg&#46;&#46;&#46; That should slow 'em down!; 2-4=Powerful lunge to the stomach leaves quite a mess!; 2-5=Perfect attack impales opponent on blade!; 3-1=Flick of the wrist leaves a few scratches on the face!; 3-2=Quick slash to the leg exposes some muscle!; 3-3=Solid strike to the left arm digs into the bone!; 3-4=Deep swipe to the stomach reveals the insides!; 3-5=Incredible slash to the neck removes the head!&gt;\n\tend define\n\tdefine object &lt;club&gt;\n\t\talias &lt;club&gt;\n\t\tproperties &lt;look=null; short=the club; weight=1; speed=0; types=1; 1=swing; 1-plural=swings; 1-1=Off-balance swing taps the shin&#46; That might bruise!; 1-2=Sturdy shot to the forearm sprains the wrist!; 1-3=Strong blow to the shoulder knocks it out of the socket; 1-4=Powerful strike breaks both kneecaps!; 1-5=Enormous swing shatters the spine and ribcage to pieces!&gt;\n\tend define\n\tdefine object &lt;fist&gt;\n\t\talias &lt;fist&gt;\n\t\tproperties &lt;range=1; look=null; short=the fist weight=0; speed=0; types=1; 1=swing; 1-plural=swings; 1-1=Weak swing taps the forearm!; 1-2=Firm punch leaves the ribs sore!; 1-3=Quick jab to the face breaks the nose!; 1-4=Uppercut to the jaw breaks it!; 1-5=Two-handed hammer to the skull caves in the temples!&gt;\n\tend define\nend define\n\ndefine room &lt;accounts&gt;\n\tproperties &lt;title=Account Administration; sanct=1; look=This is the area of the game where player accounts are stored&#46;&gt;\nend define\n[/code:2annsupr]\n\n[b:2annsupr]These our default rooms, included in some, such as the vault and arena are objects. In the vault, these objects are all critical to game running, they are master objects and can be changed to effect the effects of all objects they control. Players should never enter this room. In the ARENA room you see working examples of the objects being controlled by the master objects. Weapons\nare to be wielded(WIELD) before using, as shields are to be readied(READY). Eventually these commands would be extended to apply to whatever is in the wield(mainhand or default right) hand and ready(offhand or default left) hand, but as they stand they only effect weapons.[/b:2annsupr]\n\n[code:2annsupr]\ndefine procedure &lt;ready&gt;\nif not &#40; $objectproperty&#40;player%userid%; HP&#41;$ &gt;= 0 &#41; then msg &lt;You are dead&#46;|n&gt; else &#123;\n\tif &#40; $objectproperty&#40;player%userid%; rt&#41;$ &lt;&gt; 0 &#41; then msg &lt;You haven't recovered enough from your last action to ready anything&#46;|n&gt; else &#123;\n\tset string &lt;offhand; $objectproperty&#40;player%userid%; offhand&#41;$&gt;\n\tif &#40; $objectproperty&#40;#offhand#; held&#41;$ &lt;&gt; null &#41; then &#123;\n\t\tif property &lt;$objectproperty&#40;#offhand#; held&#41;$; weapon&gt; or property &lt;$objectproperty&#40;#offhand#; held&#41;$; shield&gt; then &#123;\n\t\t\tset string &lt;readied; $objectproperty&#40;#offhand#; held&#41;$&gt;\n\t\t\tproperty &lt;player%userid%; readied=#readied#&gt;\n\t\t\tmsg &lt;You ready $objectproperty&#40;#readied#; short&#41;$&#46;|n&gt;\n\t\t&#125;\n\t\telse msg &lt;You cannot ready that&#46;|n&gt;\n\t&#125;\n\telse msg &lt;You are not carrying anything to ready in your left hand&#46;|n&gt;\n\t&#125;\n\t&#125;\nend define\ndefine procedure &lt;wield&gt;\nif not &#40; $objectproperty&#40;player%userid%; HP&#41;$ &gt;= 0 &#41; then msg &lt;You are dead&#46;|n&gt; else &#123;\n\tif &#40; $objectproperty&#40;player%userid%; rt&#41;$ &lt;&gt; 0 &#41; then msg &lt;You haven't recovered enough from your last action to wield anything&#46;|n&gt; else &#123;\n\tset string &lt;mainhand; $objectproperty&#40;player%userid%; mainhand&#41;$&gt;\n\tif &#40; $objectproperty&#40;#mainhand#; held&#41;$ &lt;&gt; null &#41; then &#123;\n\t\tif property &lt;$objectproperty&#40;#mainhand#; held&#41;$; weapon&gt; then &#123;\n\t\t\tset string &lt;wielded; $objectproperty&#40;#mainhand#; held&#41;$&gt;\n\t\t\tproperty &lt;player%userid%; wielded=#wielded#&gt;\n\t\t\tmsg &lt;You wield $objectproperty&#40;#wielded#; short&#41;$&#46;|n&gt;\n\t\t&#125;\n\t\telse msg &lt;You cannot wield that&#46;|n&gt;\n\t&#125;\n\telse msg &lt;You are not carrying anything to wield&#46;|n&gt;\n\t&#125;\n\t&#125;\nend define\n[/code:2annsupr]\n\n[b:2annsupr]That is the procedures that must be placed into your file to enable using of the commands WIELD and READY which call those procedures.[/b:2annsupr]\n\n[code:2annsupr]\ndefine procedure &lt;stance defensive&gt;\n\tproperty &lt;player%userid%; stance=5&gt;\n\tproperty &lt;player%userid%; stance-display=defensive&gt;\n\tmsg &lt;You move into a defensive stance&#46;|n&gt;\nend define\ndefine procedure &lt;stance guarded&gt;\n\tproperty &lt;player%userid%; stance=4&gt;\n\tproperty &lt;player%userid%; stance-display=guarded&gt;\n\tmsg &lt;You move into a guarded stance&#46;|n&gt;\nend define\ndefine procedure &lt;stance neutral&gt;\n\tproperty &lt;player%userid%; stance=3&gt;\n\tproperty &lt;player%userid%; stance-display=neutral&gt;\n\tmsg &lt;You move into a neutral stance&#46;|n&gt;\nend define\ndefine procedure &lt;stance forward&gt;\n\tproperty &lt;player%userid%; stance=2&gt;\n\tproperty &lt;player%userid%; stance-display=forward&gt;\n\tmsg &lt;You move into a forward stance&#46;|n&gt;\nend define\ndefine procedure &lt;stance offensive&gt;\n\tproperty &lt;player%userid%; stance=1&gt;\n\tproperty &lt;player%userid%; stance-display=offensive&gt;\n\tmsg &lt;You move into a offensive stance&#46;|n&gt;\nend define\ndefine procedure &lt;defensive-stance-rt-check&gt;\n\tif not &#40; $objectproperty&#40;player%userid%; HP&#41;$ &gt;= 0 &#41; then msg &lt;You are dead&#46;|n&gt; else &#123;\n\t\tif &#40; $objectproperty&#40;player%userid%; rt&#41;$ = 0 &#41; then do &lt;stance defensive&gt; else msg &lt;You haven't recovered enough from your last action to take a defensive stance&#46;|n&gt;\n\t&#125;\nend define\ndefine procedure &lt;guarded-stance-rt-check&gt;\n\tif not &#40; $objectproperty&#40;player%userid%; HP&#41;$ &gt;= 0 &#41; then msg &lt;You are dead&#46;|n&gt; else &#123;\n\t\tif &#40; $objectproperty&#40;player%userid%; rt&#41;$ = 0 &#41; then do &lt;stance guarded&gt; else msg &lt;You haven't recovered enough from your last action to take a guarded stance&#46;|n&gt;\n\t&#125;\nend define\ndefine procedure &lt;neutral-stance-rt-check&gt;\n\tif not &#40; $objectproperty&#40;player%userid%; HP&#41;$ &gt;= 0 &#41; then msg &lt;You are dead&#46;|n&gt; else &#123;\n\t\tif &#40; $objectproperty&#40;player%userid%; rt&#41;$ = 0 &#41; then do &lt;stance neutral&gt; else msg &lt;You haven't recovered enough from your last action to take a neutral stance&#46;|n&gt;\n\t&#125;\nend define\ndefine procedure &lt;forward-stance-rt-check&gt;\n\tif not &#40; $objectproperty&#40;player%userid%; HP&#41;$ &gt;= 0 &#41; then msg &lt;You are dead&#46;|n&gt; else &#123;\n\t\tif &#40; $objectproperty&#40;player%userid%; rt&#41;$ = 0 &#41; then do &lt;stance forward&gt; else msg &lt;You haven't recovered enough from your last action to take a forward stance&#46;|n&gt;\n\t&#125;\nend define\ndefine procedure &lt;offensive-stance-rt-check&gt;\n\tif not &#40; $objectproperty&#40;player%userid%; HP&#41;$ &gt;= 0 &#41; then msg &lt;You are dead&#46;|n&gt; else &#123;\n\t\tif &#40; $objectproperty&#40;player%userid%; rt&#41;$ = 0 &#41; then do &lt;stance offensive&gt; else msg &lt;You haven't recovered enough from your last action to take an offensive stance&#46;|n&gt;\n\t&#125;\nend define\t\n[/code:2annsupr]\n\n[b:2annsupr]Before fighting you will want to understand your stances. Stances are how readied for attacking or defensding you are and modify your overall Attack Strength(AS) and Defense Strength(DS).\nGemstone fans may recognize those terms. After stances comes engagement. Engagement is basically challenging a foe, putting you in combat with it. You do not get a chance to decline an\nengagement but you can retreat from your opponent and disengage when able. From being engaged in combat you can advance and retreat from your enemy to give you a tactical edge or use \nweapons more effective at certain range as you see fit.[/b:2annsupr]\n\n[code:2annsupr]\ndefine procedure &lt;engage-check&gt;\nif not &#40; $objectproperty&#40;player%userid%; hp&#41;$ &gt;= 0 &#41; then msg &lt;You are dead&#46;|n&gt; else &#123;\n\tif &#40; $objectproperty&#40;player%userid%; rt&#41;$ &lt;&gt; 0 &#41; then msg &lt;You haven't recovered enough from your last action to engage anything&#46;|n&gt; else &#123;\n\t\tif here &lt;#target-object#&gt; then &#123;\n\t\t\tif property &lt;#target-object#; mob&gt; or property &lt;#target-object#; player&gt; then &#123;\n\t\t\t\tif &#40; #target-object# = player%userid% &#41; then msg &lt;You cannot engage yourself&#46;|n&gt; else &#123;\n\t\t\t\t\tif &#40; $objectproperty&#40;#target-object#; hp&#41;$ &lt;= 0 &#41; then msg &lt;That is already dead&#46;|n&gt; else &#123;\n\t\t\t\t\t\tif &#40; $objectproperty&#40;player%userid%; engaged&#41;$ = yes &#41; then msg &lt;You are already engaged&#46;|n&gt; else do &lt;engage-detect&gt;\n\t\t\t\t\t&#125;\n\t\t\t\telse msg &lt;You cannot engage that&#46;|n&gt;\n\t\t\t\t&#125;\n\t\t\telse msg &lt;I could not find what you were referring to&#46;|n&gt;\n\t\t\t&#125;\n\t\t&#125;\n\t&#125;\n&#125;\t\nend define\n\ndefine procedure &lt;engage-detect&gt;\nif property &lt;#target-object#; mob&gt; then do &lt;engage-mob&gt;\nif property &lt;#target-object#; player&gt; then do &lt;engage-player&gt;\nend define\n\ndefine procedure &lt;engage-player&gt;\nset string &lt;engager; $objectproperty&#40;player%userid%; name&#41;$&gt;\nset string &lt;engagee; $objectproperty&#40;#target-object#; name&#41;$&gt;\nset numeric &lt;engager&#46;add&#46;enemy; $objectproperty&#40;player%userid%; enemies&#41;$ + 1&gt;\nset numeric &lt;engagee&#46;add&#46;enemy; $objectproperty&#40;#target-object#; enemies&#41;$ + 1&gt;\nproperty &lt;player%userid%; enemies=%engager&#46;add&#46;enemy%&gt;\nproperty &lt;#target-object#; enemies=%engagee&#46;add&#46;enemy%&gt;\nproperty &lt;player%userid%; enemy-%engager&#46;add&#46;enemy%=#target-object#&gt;\nproperty &lt;#target-object#; enemy-%engagee&#46;add&#46;enemy%=player%userid%&gt;\nproperty &lt;player%userid%; enemy-%engager&#46;add&#46;enemy%-distance=5&gt;\nproperty &lt;#target-object#; enemy-%engagee&#46;add&#46;enemy%-distance=5&gt;\nproperty &lt;player%userid%; engaged=yes&gt;\nproperty &lt;#target-object#; engaged=yes&gt;\nmsg &lt;You engage #engagee# in combat&#46;|n&gt;\nfor each object in &lt;#quest&#46;currentroom#&gt; if property &lt;#quest&#46;thing#; player&gt; then &#123;\n\tif &#40; $objectproperty&#40;#quest&#46;thing#; name&#41;$ &lt;&gt; #engager# &#41; and &#40; $objectproperty&#40;#quest&#46;thing#; name&#41;$ &lt;&gt; #engagee#&#41; then msgto &lt;#quest&#46;thing#; #engager# engages #engagee# in combat&#46;|n&gt;\n\t&#125;\nmsgto &lt;#target-object#; #engager# engages you in combat&#46;|n&gt;\nend define\n\ndefine procedure &lt;engage-mob&gt;\nset string &lt;engager; $objectproperty&#40;player%userid%; name&#41;$&gt;\nif property &lt;#target-object#; prefix&gt; then set string &lt;engagee; $objectproperty&#40;#target-object#; prefix&#41;$ $objectproperty&#40;#target-object#; name&#41;$&gt; else set string &lt;engagee; $objectproperty&#40;#target-object#; name&#41;$&gt;\nset numeric &lt;engager&#46;add&#46;enemy; $objectproperty&#40;player%userid%; enemies&#41;$ + 1&gt;\nset numeric &lt;engagee&#46;add&#46;enemy; $objectproperty&#40;#target-object#; enemies&#41;$ + 1&gt;\nproperty &lt;player%userid%; enemies=%engager&#46;add&#46;enemy%&gt;\nproperty &lt;#target-object#; enemies=%engagee&#46;add&#46;enemy%&gt;\nproperty &lt;player%userid%; enemy-%engager&#46;add&#46;enemy%=#target-object#&gt;\nproperty &lt;#target-object#; enemy-%engagee&#46;add&#46;enemy%=player%userid%&gt;\nproperty &lt;player%userid%; enemy-%engager&#46;add&#46;enemy%-distance=5&gt;\nproperty &lt;#target-object#; enemy-%engagee&#46;add&#46;enemy%-distance=5&gt;\nproperty &lt;player%userid%; engaged=yes&gt;\nproperty &lt;player%userid%; engaged=yes&gt;\nmsg &lt;You engage #engagee# in combat&#46;|n&gt;\nfor each object in &lt;#quest&#46;currentroom#&gt; if property &lt;#quest&#46;thing#; player&gt; then &#123;\n\tif &#40; $objectproperty&#40;#quest&#46;thing#; name&#41;$ &lt;&gt; #engager# &#41; then msgto &lt;#quest&#46;thing#; #engager# engages #engagee# in combat&#46;|n&gt;\n\t&#125;\nend define\n\ndefine procedure &lt;disengage-check&gt;\nif not &#40; $objectproperty&#40;player%userid%; hp&#41;$ &gt;= 0 &#41; then msg &lt;You are dead&#46;|n&gt; else &#123;\n\tif &#40; $objectproperty&#40;player%userid%; rt&#41;$ &lt;&gt; 0 &#41; then msg &lt;You haven't recovered enough from your last action to disengage from combat&#46;|n&gt; else &#123;\n\t\tif &#40; $objectproperty&#40;player%userid%; engaged&#41;$ = no &#41; then msg &lt;You aren't engaged&#46;|n&gt; else do &lt;disengage&gt;\n\t\t&#125;\n\t&#125;\t\nend define\n\ndefine procedure &lt;disengage&gt;\nset string &lt;disengager; player%userid%&gt;\nset string &lt;disengager&#46;name; $objectproperty&#40;player%userid%; name&#41;$&gt;\nif &#40; $objectproperty&#40;player%userid%; engaged&#41;$ = no &#41; then msg &lt;You are not engaged&#46;|n&gt; else &#123;\n\tfor &lt;enemies; 1; $objectproperty&#40;player%userid%; enemies&#41;$&gt; if &#40; $objectproperty&#40;player%userid%; enemy-%enemies%-distance&#41;$ = 5 &#41; then &#123;\n\t\tset string &lt;disengaged; $objectproperty&#40;player%userid%; enemy-%enemies%&#41;$&gt;\n\t\tif property &lt;#disengaged#; prefix&gt; then set string &lt;disengaged&#46;enemy; $objectproperty&#40;#disengaged#; prefix&#41;$ $objectproperty&#40;#disengaged#; name&#41;$&gt; else set string &lt;disengaged&#46;enemy; $objectproperty&#40;#disengaged#; name&#41;$&gt;\n\t\tset numeric &lt;disengager&#46;enemies; $objectproperty&#40;player%userid%; enemies&#41;$ - 1&gt;\n\t\tset numeric &lt;disengaged&#46;enemies; $objectproperty&#40;#disengaged#; enemies&#41;$ - 1&gt;\n\t\tfor &lt;disengaging&#46;enemy; 1; $objectproperty&#40;#disengaged#; enemies&#41;$&gt; if &#40; $objectproperty&#40;#disengaged#; enemy-%disengaging&#46;enemy%&#41;$ = #disengager# &#41; then &#123; \n\t\t\tproperty &lt;#disengaged#; enemy-%disengaging&#46;enemy%=null&gt;\n\t\t\tproperty &lt;#disengaged#; enemy-%disengaging&#46;enemy%-distance=null&gt;\n\t\t&#125;\n\t\tproperty &lt;player%userid%; enemies=%disengager&#46;enemies%&gt;\n\t\tproperty &lt;#disengaged#; enemies=%disengaged&#46;enemies%&gt;\n\t\tproperty &lt;player%userid%; enemy-%enemies%-distance=null&gt;\n\t\tproperty &lt;player%userid%; enemy-%enemies%=null&gt;\n\t\tproperty &lt;player%userid%; attacking=null&gt;\n\t\tif &#40; $objectproperty&#40;player%userid%; enemies&#41;$ = 0 &#41; then property &lt;player%userid%; engaged=no&gt;\n\t\tif &#40; $objectproperty&#40;#disengaged#; enemies&#41;$ = 0 &#41; then property &lt;#disengaged#; engaged=no&gt;\n\t\tmsg &lt;You disengage from combat with #disengaged&#46;enemy#&#46;|n&gt;\n\t\tfor each object in &lt;#quest&#46;currentroom#&gt; if property &lt;#quest&#46;thing#; player&gt; then &#123;\n\t\t\tif &#40; $objectproperty&#40;#quest&#46;thing#; name&#41;$ &lt;&gt; #disengager&#46;name# &#41; and &#40; $objectproperty&#40;#quest&#46;thing#; name&#41;$ &lt;&gt; #disengaged&#46;enemy#&#41; then msgto &lt;#quest&#46;thing#; #disengager&#46;name# disengages from combat with #disengaged&#46;enemy#&#46;|n&gt;\n\t\t\t&#125;\n\t\tif property &lt;#disengaged#; player&gt; then msgto &lt;#disengaged#; #disengager&#46;name# disengages from combat with you&#46;|n&gt;\t\t\n\t\t&#125;\n\t\telse &#123;\n\t\t\tfor &lt;engaged&#46;enemies; 1; $objectproperty&#40;player%userid%; enemies&#41;$&gt; if &#40; $objectproperty&#40;player%userid%; enemy-%engaged&#46;enemies%-distance&#41;$ &lt;= 4 &#41; then &#123;\n\t\t\t\tset string &lt;engaged; $objectproperty&#40;player%userid%; enemy-%engaged&#46;enemies%&#41;$&gt;\n\t\t\t\tif property &lt;#engaged#; prefix&gt; then set string &lt;engaged&#46;enemy; $objectproperty&#40;#enaged#; prefix&#41;$ $objectproperty&#40;#engaged#; name&#41;$&gt; else set string &lt;engaged&#46;enemy; $objectproperty&#40;#engaged#; name&#41;$&gt;\n\t\t\t\tmsg &lt;You must retreat further in order to disengage from #engaged&#46;enemy#&#46;|n&gt;\n\t\t\t&#125;\n\t\t&#125;\n\t&#125;\nend define\n\ndefine procedure &lt;advance-check&gt;\nif not &#40; $objectproperty&#40;player%userid%; hp&#41;$ &gt;= 0 &#41; then msg &lt;You are dead&#46;|n&gt; else &#123;\n\tif &#40; $objectproperty&#40;player%userid%; rt&#41;$ &lt;&gt; 0 &#41; then msg &lt;You haven't recovered enough from your last action to advance&#46;|n&gt; else &#123;\n\t\tif &#40; $objectproperty&#40;player%userid%; engaged&#41;$ = no &#41; then msg &lt;You aren't engaged&#46;|n&gt; else do &lt;advance&gt;\n\t\t&#125;\n\t&#125;\t\nend define\n\ndefine procedure &lt;advance&gt;\nif &#40; $objectproperty&#40;player%userid%; engaged&#41;$ = no &#41; then msg &lt;You must engage an enemy before you can advance&#46;|n&gt; else &#123;\n\tfor &lt;enemies; 1; $objectproperty&#40;player%userid%; enemies&#41;$&gt; if &#40; $objectproperty&#40;player%userid%; enemy-%enemies%-distance&#41;$ &lt;= 1 &#41; then msg &lt;You cannot advance any closer to your opponent&#46;|n&gt; else &#123;\n\t\tset string &lt;advancee; $objectproperty&#40;player%userid%; enemy-%enemies%&#41;$&gt;\n\t\tset string &lt;advancer; player%userid%&gt;\n\t\tset string &lt;advancer&#46;name; $objectproperty&#40;player%userid%; name&#41;$&gt;\n\t\tset string &lt;advancee&#46;name; $objectproperty&#40;#advancee#; name&#41;$&gt;\n\t\tset numeric &lt;enemy&#46;distance; $objectproperty&#40;player%userid%; enemy-%enemies%-distance&#41;$ - 1&gt;\n\t\tproperty &lt;player%userid%; enemy-%enemies%-distance=%enemy&#46;distance%&gt;\n\t\tfor &lt;advancee&#46;enemies; 1; $objectproperty&#40;#advancee#; enemies&#41;$&gt; if &#40; $objectproperty&#40;#advancee#; enemy-%advancee&#46;enemies%&#41;$ = #advancer# &#41; then &#123; \n\t\t\tproperty &lt;#advancee#; enemy-%advancee&#46;enemies%-distance=%enemy&#46;distance%&gt;\n\t\t&#125;\n\t\tif &#40; %enemy&#46;distance% = 1 &#41; then &#123;\n\t\t\tproperty &lt;#advancer#; rt= 1&gt; \n\t\t\tmsg &lt;You close in on #advancee&#46;name#, coming within melee range&#46;|nRoundtime&#58; $objectproperty&#40;player%userid%; rt&#41;$ seconds|n&gt;\n\t\t\tmsgto &lt;#advancee#; #advancer&#46;name# closes in on you, coming within melee range&#46;|n&gt;\n\t\t\tfor each object in &lt;#quest&#46;currentroom#&gt; if property &lt;#quest&#46;thing#; player&gt; then &#123;\n\t\t\t\tif &#40; $objectproperty&#40;#quest&#46;thing#; name&#41;$ &lt;&gt; #advancer&#46;name# &#41; and &#40; $objectproperty&#40;#quest&#46;thing#; name&#41;$ &lt;&gt; #advancee&#46;name#&#41; then msgto &lt;#quest&#46;thing#; #advancer&#46;name# closes in on #advancee&#46;name#, coming within melee range&#46;|n&gt;\n\t\t\t&#125;\n\t\t&#125;\n\t\tif &#40; %enemy&#46;distance% = 2 &#41; then &#123; \n\t\t\tproperty &lt;#advancer#; rt= 2&gt;\n\t\t\tmsg &lt;You move within polearm range of #advancee&#46;name#&#46;|nRoundtime&#58; $objectproperty&#40;player%userid%; rt&#41;$ seconds|n&gt;\n\t\t\tmsgto &lt;#advancee#; #advancer&#46;name# moves in on you, coming within polearm range&#46;|n&gt;\n\t\t\tfor each object in &lt;#quest&#46;currentroom#&gt; if property &lt;#quest&#46;thing#; player&gt; then &#123;\n\t\t\t\tif &#40; $objectproperty&#40;#quest&#46;thing#; name&#41;$ &lt;&gt; #advancer&#46;name# &#41; and &#40; $objectproperty&#40;#quest&#46;thing#; name&#41;$ &lt;&gt; #advancee&#46;name#&#41; then msgto &lt;#quest&#46;thing#; #advancer&#46;name# moves to polearm range of #advancee&#46;name#&#46;|n&gt;\n\t\t\t&#125;\n\t\t&#125;\n\t\tif &#40; %enemy&#46;distance% = 3 &#41; then &#123; \n\t\t\tproperty &lt;#advancer#; rt= 2&gt;\n\t\t\tmsg &lt;You advance closer to #advancee&#46;name#&#46;|nRoundtime&#58; $objectproperty&#40;player%userid%; rt&#41;$ seconds|n&gt;\n\t\t\tmsgto &lt;#advancee#; #advancer&#46;name# advances closer towards you&#46;|nRoundtime&#58; $objectproperty&#40;player%userid%; rt&#41;$ seconds|n&gt;\n\t\t\tfor each object in &lt;#quest&#46;currentroom#&gt; if property &lt;#quest&#46;thing#; player&gt; then &#123;\n\t\t\t\tif &#40; $objectproperty&#40;#quest&#46;thing#; name&#41;$ &lt;&gt; #advancer&#46;name# &#41; and &#40; $objectproperty&#40;#quest&#46;thing#; name&#41;$ &lt;&gt; #advancee&#46;name#&#41; then msgto &lt;#quest&#46;thing#; #advancer&#46;name# advances closer towards #advancee&#46;name#&#46;|n&gt;\n\t\t\t&#125;\n\t\t&#125;\n\t\tif &#40; %enemy&#46;distance% = 4 &#41; then &#123;\n\t\t\tproperty &lt;#advancer#; rt= 3&gt;\n\t\t\tmsg &lt;You begin advancing towards #advancee&#46;name#&#46;|nRoundtime&#58; $objectproperty&#40;player%userid%; rt&#41;$ seconds|n&gt;\n\t\t\tmsgto &lt;#advancee#; #advancer&#46;name# begins advancing towards you&#46;|nRoundtime&#58; $objectproperty&#40;player%userid%; rt&#41;$ seconds|n&gt;\n\t\t\tfor each object in &lt;#quest&#46;currentroom#&gt; if property &lt;#quest&#46;thing#; player&gt; then &#123;\n\t\t\t\tif &#40; $objectproperty&#40;#quest&#46;thing#; name&#41;$ &lt;&gt; #advancer&#46;name# &#41; and &#40; $objectproperty&#40;#quest&#46;thing#; name&#41;$ &lt;&gt; #advancee&#46;name#&#41; then msgto &lt;#quest&#46;thing#; #advancer&#46;name# begins advancing on #advancee&#46;name#&#46;|n&gt;\n\t\t\t&#125;\n\t\t&#125;\n\t&#125;\n&#125;\nend define\n\ndefine procedure &lt;retreat-check&gt;\nif not &#40; $objectproperty&#40;player%userid%; hp&#41;$ &gt;= 0 &#41; then msg &lt;You are dead&#46;|n&gt; else &#123;\n\tif &#40; $objectproperty&#40;player%userid%; rt&#41;$ &lt;&gt; 0 &#41; then msg &lt;You haven't recovered enough from your last action to retreat&#46;|n&gt; else &#123;\n\t\tif &#40; $objectproperty&#40;player%userid%; engaged&#41;$ = no &#41; then msg &lt;You aren't engaged&#46;|n&gt; else do &lt;retreat&gt;\n\t\t&#125;\n\t&#125;\t\nend define\n\ndefine procedure &lt;retreat&gt;\nif &#40; $objectproperty&#40;player%userid%; engaged&#41;$ = no &#41; then msg &lt;You must engage an enemy before you can advance&#46;|n&gt; else &#123;\n\tfor &lt;enemies; 1; $objectproperty&#40;player%userid%; enemies&#41;$&gt; if &#40; $objectproperty&#40;player%userid%; enemy-%enemies%-distance&#41;$ = 5 &#41; then msg &lt;You cannot retreat any further without disengaging&#46;|n&gt; else &#123;\n\t\tset string &lt;retreatee; $objectproperty&#40;player%userid%; enemy-%enemies%&#41;$&gt;\n\t\tset string &lt;retreater; player%userid%&gt;\n\t\tset string &lt;retreater&#46;name; $objectproperty&#40;player%userid%; name&#41;$&gt;\n\t\tset string &lt;retreatee&#46;name; $objectproperty&#40;#retreatee#; name&#41;$&gt;\n\t\tset numeric &lt;enemy&#46;distance; $objectproperty&#40;player%userid%; enemy-%enemies%-distance&#41;$ + 1&gt;\n\t\tproperty &lt;player%userid%; enemy-%enemies%-distance=%enemy&#46;distance%&gt;\n\t\tfor &lt;retreatee&#46;enemies; 1; $objectproperty&#40;#retreatee#; enemies&#41;$&gt; if &#40; $objectproperty&#40;#retreatee#; enemy-%retreatee&#46;enemies%&#41;$ = #retreater# &#41; then &#123; \n\t\t\tproperty &lt;#retreatee#; enemy-%retreatee&#46;enemies%-distance=%enemy&#46;distance%&gt;\n\t\t&#125;\n\t\tif &#40; %enemy&#46;distance% = 2 &#41; then &#123;\n\t\t\tproperty &lt;#retreater#; rt= 1&gt; \n\t\t\tmsg &lt;You back away from #retreatee&#46;name# to polearm range&#46;|nRoundtime&#58; $objectproperty&#40;player%userid%; rt&#41;$ seconds|n&gt;\n\t\t\tmsgto &lt;#retreatee#; #retreater&#46;name# backs away to polearm range&#46;|n&gt;\n\t\t\tfor each object in &lt;#quest&#46;currentroom#&gt; if property &lt;#quest&#46;thing#; player&gt; then &#123;\n\t\t\t\tif &#40; $objectproperty&#40;#quest&#46;thing#; name&#41;$ &lt;&gt; #retreater&#46;name# &#41; and &#40; $objectproperty&#40;#quest&#46;thing#; name&#41;$ &lt;&gt; #retreatee&#46;name#&#41; then msgto &lt;#quest&#46;thing#; #retreater&#46;name# backs away from #retreatee&#46;name# to polearm range&#46;|n&gt;\n\t\t\t&#125;\n\t\t&#125;\n\t\tif &#40; %enemy&#46;distance% = 3 &#41; then &#123;\n\t\t\tproperty &lt;#retreater#; rt= 2&gt; \n\t\t\tmsg &lt;You fall back a bit from #retreatee&#46;name#&#46;|nRoundtime&#58; $objectproperty&#40;player%userid%; rt&#41;$ seconds|n&gt;\n\t\t\tmsgto &lt;#retreatee#; #retreater&#46;name# falls back a bit&#46;|n&gt;\n\t\t\tfor each object in &lt;#quest&#46;currentroom#&gt; if property &lt;#quest&#46;thing#; player&gt; then &#123;\n\t\t\t\tif &#40; $objectproperty&#40;#quest&#46;thing#; name&#41;$ &lt;&gt; #retreater&#46;name# &#41; and &#40; $objectproperty&#40;#quest&#46;thing#; name&#41;$ &lt;&gt; #retreatee&#46;name#&#41; then msgto &lt;#quest&#46;thing#; #retreater&#46;name# falls back from #retreatee&#46;name#&#46;|n&gt;\n\t\t\t&#125;\n\t\t&#125;\n\t\tif &#40; %enemy&#46;distance% = 4 &#41; then &#123;\n\t\t\tproperty &lt;#retreater#; rt= 2&gt;\n\t\t\tmsg &lt;You withdraw, putting some distance between you and #retreatee&#46;name#&#46;|nRoundtime&#58; $objectproperty&#40;player%userid%; rt&#41;$ seconds|n&gt;\n\t\t\tmsgto &lt;#retreatee#; #retreater&#46;name# withdraws, putting some distance between you&#46;|n&gt;\n\t\t\tfor each object in &lt;#quest&#46;currentroom#&gt; if property &lt;#quest&#46;thing#; player&gt; then &#123;\n\t\t\t\tif &#40; $objectproperty&#40;#quest&#46;thing#; name&#41;$ &lt;&gt; #retreater&#46;name# &#41; and &#40; $objectproperty&#40;#quest&#46;thing#; name&#41;$ &lt;&gt; #retreatee&#46;name#&#41; then msgto &lt;#quest&#46;thing#; #retreater&#46;name# withdraws, putting distance between $objectproperty&#40;player%userid%; sexdesc&#41;$self and #retreatee&#46;name#&#46;|n&gt;\n\t\t\t&#125;\n\t\t&#125;\n\t\tif &#40; %enemy&#46;distance% = 5 &#41; then &#123;\n\t\t\tproperty &lt;#retreater#; rt= 3&gt;\n\t\t\tmsg &lt;You retreat from #retreatee&#46;name# to a safe distance&#46;|nRoundtime&#58; $objectproperty&#40;player%userid%; rt&#41;$ seconds|n&gt;\n\t\t\tmsgto &lt;#retreatee#; #retreater&#46;name# retreats to a safe distance&#46;|n&gt;\n\t\t\tfor each object in &lt;#quest&#46;currentroom#&gt; if property &lt;#quest&#46;thing#; player&gt; then &#123;\n\t\t\t\tif &#40; $objectproperty&#40;#quest&#46;thing#; name&#41;$ &lt;&gt; #retreater&#46;name# &#41; and &#40; $objectproperty&#40;#quest&#46;thing#; name&#41;$ &lt;&gt; #retreatee&#46;name#&#41; then msgto &lt;#quest&#46;thing#; #retreater&#46;name# retreats to a safe distance from #retreatee&#46;name#&#46;|n&gt;\n\t\t\t&#125;\n\t\t&#125;\n\t&#125;\n&#125;\nend define\n\n[/code:2annsupr] \n\n[b:2annsupr]The actual combat system, simply checks if your current weapon is acceptable to attack an enemy with at your current range(which changes when you advance or retreat), checks if you have a weapon to do so with, and then does the math and executes it. You want your total roll to equal over one hundred in order to successfully hit a target, it's determined by your attack strength, weapon enchantment, weapon bonus, and a d100 roll. The output is displayed and then a roundtime is figured and applied to the attacker. It's hard to explain, here's some archaic code to reference.[/b:2annsupr]\n\n[code:2annsupr]\ndefine procedure &lt;range-check&gt;\nif &#40; $objectproperty&#40;player%userid%; wielded&#41;$ &lt;&gt; null &#41; then set string &lt;weapon; $objectproperty&#40;player%userid%; wielded&#41;$&gt; else set string &lt;weapon; fist&gt;\nfor &lt;enemy&#46;range; 1; $objectproperty&#40;player%userid%; enemies&#41;$&gt; if &#40; $objectproperty&#40;player%userid%; enemy-%enemy&#46;range%&#41;$ = #target-object# &#41; then &#123;\n\tif &#40; $objectproperty&#40;player%userid%; enemy-%enemy&#46;range%-distance&#41;$ &lt;= $objectproperty&#40;#weapon#; range&#41;$ &#41; then do &lt;combat-info&gt; else msg &lt;You must advance within range of your target&#46;|n&gt;\n\t&#125;\nend define\n\ndefine procedure &lt;engaged-check&gt;\nif &#40; $objectproperty&#40;player%userid%; engaged&#41;$ &lt;&gt; yes &#41; then msg &lt;You are not engaged in combat&#46;|n&gt; else &#123;\n\tfor &lt;enemies&#46;engaged; 1; $objectproperty&#40;player%userid%; enemies&#41;$&gt; if &#40; $objectproperty&#40;player%userid%; enemy-%enemies&#46;engaged%&#41;$ &lt;&gt; #target-object# &#41; then msg &lt;You must engage your target first&#46;|n&gt; else do &lt;range-check&gt;\n\t&#125;\nend define\n\ndefine procedure &lt;combat-check&gt; \nif &#40; player%userid% = #target-object# &#41; then msg &lt;You cannot attack yourself&#46;|n&gt; else &#123;\n\tif not &#40; $objectproperty&#40;player%userid%; HP&#41;$ &gt;= 0 &#41; then msg &lt;You are dead&#46;|n&gt; else &#123;\n\t\tif &#40; $objectproperty&#40;player%userid%; rt&#41;$ &lt;&gt; 0 &#41; then msg &lt;You haven't recovered enough from your last action to attack anything&#46;|n&gt; else &#123;\n\t\tif here &lt;#target-object#&gt; then &#123;\n\t\tif property &lt;#target-object#; object&gt; then msg &lt;You cannot attack that&#46;|n&gt; else &#123;\n\t\t\tif property &lt;#target-object#; mob&gt; or property &lt;#target-object#; player&gt; then &#123;\n\t\t\t\tif &#40; $objectproperty&#40;#target-object#; hp&#41;$ &lt;= 0 &#41; then msg &lt;That is already dead&#46;|n&gt; else &#123;\n\t\t\t\t\tset string &lt;mainhand; $objectproperty&#40;player%userid%; mainhand&#41;$&gt;\n\t\t\t\t\tif &#40; $objectproperty&#40;player%userid%; wielded&#41;$ = null &#41; and &#40; $objectproperty&#40;#mainhand#; held&#41;$ &lt;&gt; null &#41; then msg &lt;You must wield a weapon or empty your hand before attacking&#46;|n&gt; else do &lt;engaged-check&gt;\n\t\t\t\t&#125;\n\t\t\t&#125;\n\t\t&#125;\n\t\telse msg &lt;I could not find what you were referring to&#46;|n&gt;\n\t\t&#125;\n\t\t&#125;\t\n\t&#125;\n\t&#125;\nend define\n\ndefine procedure &lt;combat-info&gt;\n\tproperty &lt;player%userid%; attacking=#target-object#&gt;\n\tset string &lt;attacker; player%userid%&gt;\n\tset string &lt;attacker-name; $objectproperty&#40;player%userid%; name&#41;$&gt;\n\tset string &lt;defender; #target-object#&gt;\n\tset string &lt;defender-name; $objectproperty&#40;#defender#; name&#41;$&gt;\n\tset numeric &lt;defender-con; $objectproperty&#40;#defender#; CON&#41;$&gt;\n\tset numeric &lt;defender-con-factor; %defender-con% / 10&gt;\n\tset string &lt;attacker-wielded; $objectproperty&#40;#attacker#; wielded&#41;$&gt;\n\tif &#40; $objectproperty&#40;#attacker#; wielded&#41;$ &lt;&gt; null &#41; then set string &lt;weapon-type; $objectproperty&#40;#attacker-wielded#; type&#41;$&gt; else set string &lt;weapon-type; fist&gt;\n\tset numeric &lt;types; $objectproperty&#40;#weapon-type#; types&#41;$&gt;\n\tset numeric &lt;attack-type-number; $rand&#40;1;%types%&#41;$&gt;\n\tset string &lt;attack-type; $objectproperty&#40;#weapon-type#; %attack-type-number%&#41;$&gt;\n\tset string &lt;attack-type-plural; $objectproperty&#40;#weapon-type#; %attack-type-number%-plural&#41;$&gt;\n\tset string &lt;attacker-readied; $objectproperty&#40;#attacker#; readied&#41;$&gt;\n\tif &#40; #attacker-wielded# &lt;&gt; null &#41; then set string &lt;attacker-wielded-short; $objectproperty&#40;#attacker-wielded#; short&#41;$&gt; else set string &lt;attacker-wielded-short; a bare fist&gt;\n\tset string &lt;defender-wielded; $objectproperty&#40;#defender#; wielded&#41;$&gt;\n\tset string &lt;defender-readied; $objectproperty&#40;#defender#; readied&#41;$&gt;\n\tset numeric &lt;attacker-bonus; $objectproperty&#40;#attacker#; as-boost&#41;$&gt;\n\tset numeric &lt;attacker-base-strength; $objectproperty&#40;#attacker#; STR&#41;$ / 4&gt;\n\tset numeric &lt;attacker-base-speed; $objectproperty&#40;#attacker#; DEX&#41;$ / 20&gt;\n\tif &#40; #attacker-wielded# = null &#41; then set numeric &lt;attacker-wielded-weight; 0&gt; else &#123;\n\t\tif property &lt;#attacker-wielded#; weight&gt; then set numeric &lt;attacker-wielded-weight; $objectproperty&#40;#attacker-wielded#; weight&#41;$&gt; else set numeric &lt;attacker-wielded-weight; $objectproperty&#40;#weapon-type#; weight&#41;$&gt;\n\t\t&#125;\n\tif &#40; #attacker-wielded# = null &#41; then set numeric &lt;attacker-wielded-speed; 0&gt; else &#123;\n\t\tif property &lt;#attacker-wielded#; speed&gt; then set numeric &lt;attacker-wielded-speed; $objectproperty&#40;#attacker-wielded#; speed&#41;$&gt; else set numeric &lt;attacker-wielded-speed; $objectproperty&#40;#weapon-type#; speed&#41;$&gt;\n\t\t&#125;\n\tset numeric &lt;attacker-wielded-rt; %attacker-wielded-weight% + %attacker-wielded-speed%&gt;\n\tset numeric &lt;attacker-skill-rt; 10 - %attacker-base-speed%&gt;\n\tset numeric &lt;attacker-rt; %attacker-wielded-rt% + %attacker-skill-rt%&gt;\n\tif &#40; #attacker-wielded# &lt;&gt; null &#41; then set numeric &lt;attacker-wielded-bonus; $objectproperty&#40;#attacker-wielded#; bonus&#41;$&gt; else set numeric &lt;attacker-wielded-bonus; 0&gt;\n\tset numeric &lt;attacker-stance; $objectproperty&#40;#attacker#; stance&#41;$&gt;\n\tset numeric &lt;attacker-stance-base; %attacker-base-strength% / %attacker-stance%&gt;\n\tset numeric &lt;defender-base-defense; $objectproperty&#40;#defender#; DEX&#41;$ / 4&gt;\n\tset numeric &lt;defender-stance; $objectproperty&#40;#defender#; stance&#41;$&gt;\n\tset numeric &lt;defender-stance-base; %defender-base-defense% * %defender-stance%&gt;\n\tif &#40; #defender-wielded# &lt;&gt; null &#41; then set numeric &lt;defender-wielded-bonus; $objectproperty&#40;#defender-wielded#; bonus&#41;$ / 2&gt; else set numeric &lt;defender-wielded-bonus; 0&gt;\n\tif &#40; #defender-wielded# &lt;&gt; null &#41; then set numeric &lt;defender-readied-bonus; $objectproperty&#40;#defender-readied#; bonus&#41;$&gt; else set numeric &lt;defender-readied-bonus; 0&gt;\n\tset numeric &lt;defender-equip-bonus; %defender-wielded-bonus% + %defender-readied-bonus%&gt;\n\tset numeric &lt;weapon-attack-strength; %attacker-stance-base% + %attacker-wielded-bonus%&gt;\n\tset numeric &lt;attack-strength; %weapon-attack-strength% + %attacker-bonus%&gt;\n\tset numeric &lt;defense-strength; %defender-stance-base% + %defender-equip-bonus%&gt;\n\tset numeric &lt;d100; $rand&#40;1;100&#41;$&gt;\n\tset numeric &lt;as-ds; %attack-strength% - %defense-strength%&gt;\n\tset numeric &lt;endroll; %as-ds% + %d100%&gt;\n\tset numeric &lt;endnum; %endroll% - 100&gt;\n\tif &#40; %endroll% &lt;= 100 &#41; then set string &lt;combat-message; A clean miss!&gt; else &#123;\n\t\tset numeric &lt;damage-num; %endnum% - %defender-con-factor%&gt;\n\t\tif &#40; %damage-num% &lt;= 0 &#41; then set numeric &lt;damage; 1&gt; else set numeric &lt;damage; %damage-num%&gt;\n\t\tset numeric &lt;new-hp; $objectproperty&#40;#defender#; hp&#41;$ - %damage%&gt;\n\t\tif &#40; %endnum% &gt;= 1 &#41; and &#40; %endnum% &lt;= 20 &#41; then set string &lt;combat-message; $objectproperty&#40;#weapon-type#; %attack-type-number%-1&#41;$ %damage% damage!&gt;\n\t\tif &#40; %endnum% &gt;= 20 &#41; and &#40; %endnum% &lt;= 40 &#41; then set string &lt;combat-message; $objectproperty&#40;#weapon-type#; %attack-type-number%-2&#41;$ %damage% damage!&gt;\n\t\tif &#40; %endnum% &gt;= 40 &#41; and &#40; %endnum% &lt;= 60 &#41; then set string &lt;combat-message; $objectproperty&#40;#weapon-type#; %attack-type-number%-3&#41;$ %damage% damage!&gt;\n\t\tif &#40; %endnum% &gt;= 60 &#41; and &#40; %endnum% &lt;= 80 &#41; then set string &lt;combat-message; $objectproperty&#40;#weapon-type#; %attack-type-number%-4&#41;$ %damage% damage!&gt;\n\t\tif &#40; %endnum% &gt;= 80 &#41; then set string &lt;combat-message; $objectproperty&#40;#weapon-type#; %attack-type-number%-5&#41;$ %damage% damage!&gt;\n\t\tproperty &lt;#defender#; hp=%new-hp%&gt;\n\t&#125;\n\tif &#40; $objectproperty&#40;#defender#; hp&#41;$ &lt;= 0 &#41; then set string &lt;combat-message; #combat-message#|n#defender-name# slumps to the ground and ceases living!&gt;\n\tmsg &lt;You #attack-type# at #defender-name# with #attacker-wielded-short#!|nAS&#58; %attack-strength% vs DS&#58; %defense-strength% + d100 roll&#58; %d100% = %endroll%|n#combat-message#|nRoundtime&#58; %attacker-rt% seconds|n|n&gt;\n\tif not property &lt;#defender#; mob&gt; then msgto &lt;#defender#; #attacker-name# #attack-type-plural# at you with #attacker-wielded-short#!|nAS&#58; %attack-strength% vs DS&#58; %defense-strength% + d100 roll&#58; %d100% = %endroll%|n#combat-message#|n|n&gt;\n\tdo &lt;activate-rt&gt;\nend define\n[/code:2annsupr]\n\n[b:2annsupr]Now the RT procedure[/b:2annsupr]\n\n[code:2annsupr]\ndefine procedure &lt;activate-rt&gt;\n\tproperty &lt;player%userid%; rt=%attacker-rt%&gt;\nend define\n[/code:2annsupr]",
      "EditableFormat": "bbcode",
      "HTML": "The SAMPLE COMBAT SYSTEM(as it will be known now) is provided for open use and modification by all and may freely be used in whatever project/game/etc. without any recognition. All that is asked is that you contritbute your modifications to the public in the form of guides, further sample code, tutorials, help or whatever on these forums in the future. A quick \"cheat sheet\" can be found at the bottom, and for further reference you can find a somewhat-original copy of this file at <a href=\"http&#58;//s88880570&#46;onlinehome&#46;us/asl/qnetbat&#46;asl\" rel=\"nofollow\">http://s88880570.onlinehome.us/asl/qnetbat.asl</a>.  Blah blah blah.<br/><br/>The following was written quite a while ago, and while other modified inclinations of it exist, this has proven to be the most stable and balanced. That said, you are still offerered no assurance that it in it's entirety will work for you in your present situation. At most it is to be seen as a learning text to be modified and improved upon by any and all. This code has been heavily modified out of my game, and into this text and as such provides no guarantees, but merely is a base to work from with a minimal of \"filling in the blanks\" to figure out and do. I'm not looking for any recognition or criticism, aim any praise or code picking directly towards anyone else who chooses to learn from or use this code in the form of advice and contributions.<br/><br/>The first step of adding this code to an ASL file is understanding it, but as that is no fun, here's a simple guide of what you need to copy and paste(the why and where will be discussed as well).<br/><br/><br/>\"The First Bit of Code\"<br/><br/><span style=\"font-weight:bold;\">This combat engine utilizes time(or a \"game tick\"; \"tick\") to bring combat to life. Players receive<br/>a roundtime for any combat action taken from attempting to strike an opponent to taking a defensive<br/>stance preparing to block an enemy. This roundtime is by default calculated by a crude math funciton<br/>derived from a player's dexterity(DEX). The game tick controls combat actions and is meant to be<br/>used to control other basic player functions as well, once you get used to the system structure, you<br/>will find it easy to incorporate it all over as well.</span><br/><br/>CODE EXPLAINED<br/><pre><code><br/>startscript &#123; 'This is defining our servers startscript, it sets initial variables for time and such'<br/>\tset numeric &lt;second-time; 00&gt;'This is all self-explanatory the game stores time intervals in  '<br/>\tproperty &lt;game&#46;info; second-time=00&gt;'numeric variables and rights them to a game&#46;info object&#46; '<br/>\tset numeric &lt;minute-time; 00&gt;'This is basically cosmetic, it helps to format the time, and    '<br/>\tproperty &lt;game&#46;info; minute-time=00&gt;'follows along the building structure of objects storing  '<br/>\tset numeric &lt;hour-time; 00&gt;'properties&#46;                                                       '<br/>\tproperty &lt;game&#46;info; hour-time=00&gt;'                                                           '<br/>\tset numeric &lt;player&#46;count; 0&gt;'These aren't implemented yet, but were going to be expanded&#46;    '<br/>\tset numeric &lt;object&#46;count; 0&gt;'                         NOT IMPLEMENTED                        '<br/>\tset string &lt;player&#46;list; null&gt;'                        NOT IMPLEMENTED                        '<br/>\tset string &lt;format&#46;objects; null&gt;'                     NOT IMPLEMENTED                        '<br/>\t&#125;<br/>\tplayer startscript &#123;<br/>\t\tpanes off 'This is a preference of mine, can be on or off&#46;'<br/>\t\tbackground &lt;black&gt; 'Again preference, can be set to any <br/>\t\tforeground &lt;white&gt; 'available color&#46;                      '<br/>\t\tcreate room &lt;player%userid%-r-hand&gt;'These give the player the ability to hold objects in'<br/>\t\tproperty &lt;player%userid%-r-hand; held=null&gt;'hands, it is left open for some definition  '<br/>\t\tproperty &lt;player%userid%-r-hand; held-name=null&gt;'eventually support ambidexterity as well'<br/>\t\tproperty &lt;player%userid%-r-hand; held-short=a bare fist&gt;'as choosing to be left or right'<br/>\t\tproperty &lt;player%userid%-r-hand; held-display=nothing&gt;'handed'<br/>\t\tcreate room &lt;player%userid%-l-hand&gt; 'Same as above'<br/>\t\tproperty &lt;player%userid%-l-hand; held=null&gt;<br/>\t\tproperty &lt;player%userid%-l-hand; held-name=null&gt;<br/>\t\tproperty &lt;player%userid%-l-hand; held-short=a bare fist&gt;<br/>\t\tproperty &lt;player%userid%-l-hand; held-display=nothing&gt;<br/>\t\tset string &lt;name; $name&#40;%userid%&#41;$&gt; 'Defines display name variable as the entered Quest name'<br/>\t\tset numeric &lt;age; $rand&#40;16;35&#41;$&gt; 'Defines a random age for the player&#40;novelty&#41;'<br/>\t\tproperty &lt;player%userid%; name=$capfirst&#40;#name#&#41;$&gt; 'Formats the name and gives to player object'<br/>\t\tproperty &lt;player%userid%; alias=$capfirst&#40;#name#&#41;$&gt; 'Sets the display name'<br/>\t\tproperty &lt;player%userid%; race=Human&gt; 'Sets the player's race&#40;novelty&#41;'<br/>\t\tproperty &lt;player%userid%; sex=Male&gt; 'Sets the player's sex&#40;novelty&#41;'<br/>\t\tproperty &lt;player%userid%; level=0&gt; 'Sets the player's level&#40;novelty for now, but can be expanded&#41;'<br/>\t\tproperty &lt;player%userid%; age=%age%&gt; 'Applies the afore mentioned random age'<br/>\t\tproperty &lt;player%userid%; sexdesc=him&gt; 'Provides accurate description when using actions'<br/>\t\tproperty &lt;player%userid%; sexposs=his&gt; 'Same as above'<br/>\t\tproperty &lt;player%userid%; visibility=1&gt; 'Implemented for future use in redefining the &quot;look&quot; command'<br/>\t\tproperty &lt;player%userid%; look=You see $objectproperty&#40;player%userid%; name&#41;$ the $objectproperty&#40;player%userid%; race&#41;$&#46;|n&gt; 'Defines a default look description to override Quest default'<br/>\t\tproperty &lt;player%userid%; stance=5&gt; 'Puts the player by default in a defensive stance'<br/>\t\tproperty &lt;player%userid%; stance-display=defensive&gt; 'Describes the above'<br/>\t\tproperty &lt;player%userid%; offhand=player%userid%-l-hand&gt; 'Implemented for future support of choosing left-handed or right-handed'<br/>\t\tproperty &lt;player%userid%; mainhand=player%userid%-r-hand&gt; 'Same as above'<br/>\t\tproperty &lt;player%userid%; readied=null&gt; 'Set as null&#40;empty handed&#41;'<br/>\t\tproperty &lt;player%userid%; wielded=null&gt; 'Same as above'<br/>\t\tproperty &lt;player%userid%; as-boost=0&gt; 'Set to zero&#40;no boost&#41; property given for object/spells that provide generic attack boost'<br/>\t\tproperty &lt;player%userid%; ds-boost=0&gt; 'Same as above but for generic defense boost'<br/>\t\tproperty &lt;player%userid%; player&gt; 'Defines as a human controlled object'<br/>\t\tproperty &lt;player%userid%; STR=$rand&#40;20;100&#41;$&gt; 'Supplies random STRENGTH&#40;STR&#41; stat to initially start off with'<br/>\t\tproperty &lt;player%userid%; CON=$rand&#40;20;100&#41;$&gt; 'Supplies random CONSTITUTION&#40;CON&#41; stat to initially start off with'<br/>\t\tproperty &lt;player%userid%; DEX=$rand&#40;20;100&#41;$&gt; 'Supplies random DEXTERITY&#40;DEX&#41; stat to initially start off with'<br/>\t\tproperty &lt;player%userid%; INT=$rand&#40;20;100&#41;$&gt; 'Supplies random INTELLIGENCE&#40;INT&#41; stat to initially start off with'<br/>\t\tproperty &lt;player%userid%; WIS=$rand&#40;20;100&#41;$&gt; 'Supplies random WISDOM&#40;WIS&#41; stat to initially start off with'<br/>\t\tproperty &lt;player%userid%; AUR=$rand&#40;20;100&#41;$&gt; 'Supplies random AURA&#40;AUR&#41; stat to initially start off with'<br/>\t\tproperty &lt;player%userid%; CHA=$rand&#40;20;100&#41;$&gt; 'Supplies random CHARISMA&#40;CHA&#41; stat to initially start off with'<br/>\t\tproperty &lt;player%userid%; DIS=$rand&#40;20;100&#41;$&gt; 'Supplies random DISCIPLINE&#40;DIS&#41; stat to initially start off with'<br/>\t\tproperty &lt;player%userid%; engaged=no&gt; 'Set to no&#40;not engaged in combat&#41; used by combat system'<br/>\t\tproperty &lt;player%userid%; enemies=0&gt; 'Not engaged to any enemies so set to zero, used by combat system'<br/>\t\tproperty &lt;player%userid%; attacking=null&gt; 'Not currently attacking anybody or thing, set to null'<br/>\t\tproperty &lt;player%userid%; stealth=0&gt; 'A factor included for integration with a hiding system, ie; for redefined LOOK command'<br/>\t\tproperty &lt;player%userid%; visibility=1&gt; 'Included for integration with a hiding system, ie; for redefined LOOK command'<br/>\t\tproperty &lt;player%userid%; spotted=0&gt; 'Included for integration with a hiding system, ie; for redefined LOOK command'<br/>\t\tset numeric &lt;HP-temp; $objectproperty&#40;player%userid%; CON&#41;$ + $objectproperty&#40;player%userid%; AUR&#41;$&gt; 'Step in stat-based Hit Point calculation' <br/>\t\tset numeric &lt;HP; %HP-temp% /4&gt; 'step in stat-based Hit Point calculation'<br/>\t\tproperty &lt;player%userid%; HP-MAX=%HP%&gt; 'Assigns stat-based Hit Point maximum'<br/>\t\tproperty &lt;player%userid%; HP=%HP%&gt; 'Assigns current Hit Points out of maximum possible'<br/>\t\tset numeric &lt;player%userid%; 0&gt; 'Not documented yet'<br/>\t\tproperty &lt;player%userid%; rt=0&gt; 'Defines a natural zero roundtime property, a player can only act with a roundtime of zero'<br/><br/>\t&#125;<br/></code></pre><br/><br/><span style=\"font-weight:bold;\">Those two pieces of code are the server and player startscripts, they define properties and variables necessary for the engine to work properly. As you can see from the code,<br/>we are assigning properties to an object called, player%userid%, this is the name of the default player object and literally translates to player1, player2, or whatever the<br/>players ID generated by QuestNet is. Object properties are a bit easier to work with than status variables, and as this engine was created before scoping status variables were<br/>implemented, it widely uses object properties, for players and most things alike. By definition the games infrastructure is \"object-oriented\" in the sense that, there are<br/>\"MASTER OBJECTS\" that control all objects of their type. The current damage system is a good example(though in later versions was redefined, this manner will be easiest for <br/>beginners to learn). Objects such as 'a broadsword' are tied to a master weapon-type of broadsword. This allows you to have all subsequent broadswords adopt the properties and<br/>actions of the master object. This could be done in a manner using ASL's type properties, but instead was done through a literal sense so once in game, commands could be used<br/>to create an entirely new type of object with it's own changable properties from within the environment. The ASL type properties would not be as easily modified, so the decision<br/>was made. A broadsword does for example does swinging, stabbing and slashing damage, and has linked damage scales and damage messages in the master object. Eventually this was<br/>updated to a more \"on the fly\" and random system, but that turned into a d20 based battle system entirely unrelated. Less talky more codey.</span><br/><br/><pre><code><br/>\tdisconnect &#123; <br/>\t\tset string &lt;disconnecting&#46;player; player%userid%&gt;<br/>\t\tfor each object in &lt;player%userid%-l-hand&gt; move &lt;#quest&#46;thing#; arena&gt;<br/>\t\tproperty &lt;player%userid%-l-hand; held=null&gt;<br/>\t\tproperty &lt;player%userid%-l-hand; held-name=null&gt;<br/>\t\tproperty &lt;player%userid%-l-hand; held-short=a bare fist&gt;<br/>\t\tproperty &lt;player%userid%-l-hand; held-display=nothing&gt;<br/>\t\tfor each object in &lt;player%userid%-r-hand&gt; move &lt;#quest&#46;thing#; arena&gt;<br/>\t\tproperty &lt;player%userid%-r-hand; held=null&gt;<br/>\t\tproperty &lt;player%userid%-r-hand; held-name=null&gt;<br/>\t\tproperty &lt;player%userid%-r-hand; held-short=a bare fist&gt;<br/>\t\tproperty &lt;player%userid%-r-hand; held-display=nothing&gt;<br/>\t\tfor &lt;local&#46;enemies; 1; $objectproperty&#40;player%userid%; enemies&#41;$&gt; &#123;<br/>\t\t\tset string &lt;disengage&#46;enemy; $objectproperty&#40;player%userid%; enemy-%local&#46;enemies%&#41;$&gt;<br/>\t\t\tset numeric &lt;enemy&#46;subtract; $objectproperty&#40;#disengage&#46;enemy#; enemies&#41;$ - 1&gt;<br/>\t\t\tset numeric &lt;local&#46;subtract; $objectproperty&#40;player%userid%; enemies&#41;$ - 1&gt;<br/>\t\t\tproperty &lt;player%userid%; enemy-%enemies%=null&gt;<br/>\t\t\tfor &lt;enemy&#46;enemies; 1; $objectproperty&#40;#disengage&#46;enemy#; enemies&#41;$&gt; if &#40; $objectproperty&#40;#disengage&#46;enemy#; enemy-%enemy&#46;enemies%&#41;$ = #disconnecting&#46;player# &#41; then &#123;<br/>\t\t\t\tproperty &lt;#disengage&#46;enemy#; enemy-%enemy&#46;enemies%=null&gt;<br/>\t\t\t\tproperty &lt;#disengage&#46;enemy#; enemy-%enemy&#46;enemies%-distance=null&gt;<br/>\t\t\t\tproperty &lt;#disengage&#46;enemy#; enemies=%enemy&#46;subtract%&gt;<br/>\t\t\t\tif &#40; $objectproperty&#40;#disengaged&#46;enemy#; enemies&#41;$ = 0 &#41; then property &lt;#disengaged&#46;enemy#; engaged=no&gt;<br/>\t\t\t&#125;<br/>\t\t\tproperty &lt;player%userid%; enemy-%enemies%-distance=null&gt;<br/>\t\t\tproperty &lt;player%userid%; enemies=%enemy&#46;subtract%&gt;<br/>\t\t\tif &#40; $objectproperty&#40;player%userid%; enemies&#41;$ = 0 &#41; then property &lt;player%userid%; engaged=no&gt;<br/>\t\t&#125;<br/>\t&#125;<br/></code></pre><br/><br/><span style=\"font-weight:bold;\">This is the disconnect string, it places all objects in a player's hands in the arena room(can easily be changed to #quest.currentroom[userid]#) and disengages from any combat situations<br/>on both attack and defender ends. Speaking of hands lets put out the procedure and command to use the new take implemented.</span><br/><br/><pre><code><br/>define procedure &lt;take-check&gt; if here &lt;#target-object#&gt; then &#123;<br/>\tif property &lt;#target-object#; take&gt; then exec &lt;take-do&gt; else msg &lt;You cannot take that&#46;|n&gt;&#125;<br/>\telse msg &lt;I could not find what you were referring to&#46;|n&gt;\t<br/>end define<br/><br/>'AT THE TIME THIS WAS MADE QUEST DIDN'T ALWAYS ALLOW A PROCEDURE CALLING ANOTHER PROCEDURE AND THUSLY THE TAKE PROCEDURE WAS FORCED TO CALL A COMMAND &quot;TAKE-DO&quot; HERE IT IS'<br/>'IT CAN EASILY BE UPDATED TO BE MORE COHESIVE IF ONE WERE TO LOOK INTO IT'<br/><br/>\tcommand &lt;take-do&gt; if &#40; $objectproperty&#40;player%userid%-r-hand; held&#41;$ = null &#41; then &#123;<br/>\t\tset string &lt;target-object; $getobjectname&#40;#target-object#&#41;$&gt;<br/>\t\tmove &lt;#target-object#; player%userid%-r-hand&gt;<br/>\t\tproperty &lt;player%userid%-r-hand; held=#target-object#&gt;<br/>\t\tproperty &lt;player%userid%-r-hand; held-name=$displayname&#40;#target-object#&#41;$&gt;<br/>\t\tproperty &lt;player%userid%-r-hand; held-short=$objectproperty&#40;#target-object#; short&#41;$&gt;<br/>\t\tif property &lt;#target-object#; prefix&gt; then property &lt;player%userid%-r-hand; held-display=$objectproperty&#40;#target-object#; prefix&#41;$ $displayname&#40;#target-object#&#41;$&gt;<br/>\t\tif property &lt;#target-object#; suffix&gt; then property &lt;player%userid%-r-hand; held-display=$objectproperty&#40;#target-object#; prefix&#41;$ $displayname&#40;#target-object#&#41;$$objectproperty&#40;#target-object#; suffix&#41;$&gt;<br/>\t\tmsg &lt;You pick up the $displayname&#40;#target-object#&#41;$ with your right hand&#46;|n&gt;<br/>\t&#125;<br/>\telse &#123;<br/>\t\tif &#40; $objectproperty&#40;player%userid%-l-hand; held&#41;$ = null &#41; then &#123;<br/>\t\t\tmove &lt;#target-object#; player%userid%-l-hand&gt;<br/>\t\t\tproperty &lt;player%userid%-l-hand; held=#target-object#&gt;<br/>\t\t\tproperty &lt;player%userid%-l-hand; held-name=$displayname&#40;#target-object#&#41;$&gt;<br/>\t\t\tproperty &lt;player%userid%-l-hand; held-short=$objectproperty&#40;#target-object#; short&#41;$&gt;<br/>\t\t\tif property &lt;#target-object#; prefix&gt; then property &lt;player%userid%-l-hand; held-display=$objectproperty&#40;#target-object#; prefix&#41;$ $displayname&#40;#target-object#&#41;$&gt;<br/>\t\t\tif property &lt;#target-object#; suffix&gt; then property &lt;player%userid%-l-hand; held-display=$objectproperty&#40;#target-object#; prefix&#41;$ $displayname&#40;#target-object#&#41;$$objectproperty&#40;#target-object#; suffix&#41;$&gt;<br/>\t\t\tmsg &lt;You pick up the $displayname&#40;#target-object#&#41;$ with your left hand&#46;|n&gt;<br/>\t\t&#125;<br/>\t\telse msg &lt;Both of your hands are full&#46;|n&gt;<br/>\t&#125;<br/><br/></code></pre><br/><br/><span style=\"font-weight:bold;\">Of course a way to drop objects from the newly created hands had to be created so here's the procedure</span><br/><br/><pre><code><br/>define procedure &lt;drop&gt;<br/>if not &#40; $objectproperty&#40;player%userid%; HP&#41;$ &gt;= 0 &#41; then msg &lt;You are dead&#46;|n&gt; else &#123;<br/>\tif &#40; $objectproperty&#40;player%userid%; rt&#41;$ &lt;&gt; 0 &#41; then msg &lt;You haven't recovered enough from your last action to drop anything&#46;|n&gt; else &#123;<br/>\tif &#40; $objectproperty&#40;player%userid%-r-hand; held-name&#41;$ = #target-object# &#41; or &#40; $objectproperty&#40;player%userid%-l-hand; held-name&#41;$ = #target-object# &#41; then &#123;<br/>\t\tif &#40; $objectproperty&#40;player%userid%-r-hand; held-name&#41;$ = #target-object# &#41; then &#123;<br/>\t\t\tif &#40; $objectproperty&#40;player%userid%; offhand&#41;$ = player%userid%-r-hand &#41; then property &lt;player%userid%; readied=null&gt;<br/>\t\t\tif &#40; $objectproperty&#40;player%userid%; mainhand&#41;$ = player%userid%-r-hand &#41; then property &lt;player%userid%; wielded=null&gt;<br/>\t\t\tset string &lt;target-object; $objectproperty&#40;player%userid%-r-hand; held&#41;$&gt;<br/>\t\t\tmove &lt;#target-object#; #quest&#46;currentroom&#91;userid&#93;#&gt;<br/>\t\t\tproperty &lt;player%userid%-r-hand; held=null&gt;<br/>\t\t\tproperty &lt;player%userid%-r-hand; held-name=null&gt;<br/>\t\t\tproperty &lt;player%userid%-r-hand; held-short=a bare fist&gt;<br/>\t\t\tproperty &lt;player%userid%-r-hand; held-display=nothing&gt;<br/>\t\t\tmsg &lt;You drop $objectproperty&#40;#target-object#; short&#41;$ from your right hand&#46;|n&gt;<br/>\t\t&#125;<br/>\t\tif &#40; $objectproperty&#40;player%userid%-l-hand; held-name&#41;$ = #target-object# &#41; then &#123;<br/>\t\t\tif &#40; $objectproperty&#40;player%userid%; offhand&#41;$ = player%userid%-l-hand &#41; then property &lt;player%userid%; readied=null&gt;<br/>\t\t\tif &#40; $objectproperty&#40;player%userid%; mainhand&#41;$ = player%userid%-l-hand &#41; then property &lt;player%userid%; wielded=null&gt;<br/>\t\t\tset string &lt;target-object; $objectproperty&#40;player%userid%-l-hand; held&#41;$&gt;<br/>\t\t\tmove &lt;#target-object#; #quest&#46;currentroom&#91;userid&#93;#&gt;<br/>\t\t\tproperty &lt;player%userid%-l-hand; held=null&gt;<br/>\t\t\tproperty &lt;player%userid%-l-hand; held-name=null&gt;<br/>\t\t\tproperty &lt;player%userid%-l-hand; held-short=a bare fist&gt;<br/>\t\t\tproperty &lt;player%userid%-l-hand; held-display=nothing&gt;<br/>\t\t\tmsg &lt;You drop $objectproperty&#40;#target-object#; short&#41;$ from your left hand&#46;|n&gt;<br/>\t\t&#125;<br/>\t&#125;<br/>\telse msg &lt;You are not holding that&#46;|n&gt;<br/>\t&#125;<br/>\t&#125;<br/>end define<br/></code></pre><br/><br/><span style=\"font-weight:bold;\">Eventually it came to mind that people would get confused having to wield what is in their left hand and ready what is in their right, and having to pick things up with the right hand, so a way to check the contents of your hands was created as well as a way to switch the contents of your hands, here are the procedures for that</span><br/><br/><pre><code><br/>define procedure &lt;glance&gt;<br/>\tmsg &lt;You have $objectproperty&#40;player%userid%-r-hand; held-display&#41;$ in your right hand and $objectproperty&#40;player%userid%-l-hand; held-display&#41;$ in your left hand&#46;|n&gt;<br/>end define<br/>'<br/>' SwAP PROCEDURES<br/>'<br/>define procedure &lt;swap-check&gt;<br/>\tif not &#40; $objectproperty&#40;player%userid%; HP&#41;$ &gt;= 0 &#41; then msg &lt;You are dead&#46;|n&gt; else &#123;<br/>\t\tif &#40; $objectproperty&#40;player%userid%; rt&#41;$ &lt;&gt; 0 &#41; then msg &lt;You haven't recovered enough from your last action to swap your hands&#46;|n&gt; else &#123;<br/>\t\t\tset string &lt;r-held; $objectproperty&#40;player%userid%-r-hand; held&#41;$&gt;<br/>\t\t\tset string &lt;l-held; $objectproperty&#40;player%userid%-l-hand; held&#41;$&gt;<br/>\t\t\tif exists &lt;#r-held#&gt; and exists &lt;#l-held#&gt; then do &lt;swap-both&gt; else &#123;<br/>\t\t\t\tif exists &lt;#r-held#&gt; and not exists &lt;#l-held#&gt; then do &lt;swap-right&gt; else &#123;\t\t<br/>\t\t\t\t\tif exists &lt;#l-held#&gt; and not exists &lt;#r-held#&gt; then do &lt;swap-left&gt; else msg &lt;You fidget with your hands&#46;|n&gt;<br/>\t\t\t\t&#125; <br/>\t\t\t&#125; <br/>\t\t&#125; <br/>\t&#125;<br/>end define<br/>define procedure &lt;swap-right&gt;<br/>\tif &#40; $objectproperty&#40;player%userid%; offhand&#41;$ = player%userid%-r-hand &#41; then property &lt;player%userid%; readied=null&gt;<br/>\tif &#40; $objectproperty&#40;player%userid%; mainhand&#41;$ = player%userid%-r-hand &#41; then property &lt;player%userid%; wielded=null&gt;<br/>\tset string &lt;r-object; $objectproperty&#40;player%userid%-r-hand; held&#41;$&gt;<br/>\tmove &lt;#r-object#; player%userid%-l-hand&gt;<br/>\tproperty &lt;player%userid%-r-hand; held=null&gt;<br/>\tproperty &lt;player%userid%-r-hand; held-name=null&gt;<br/>\tproperty &lt;player%userid%-r-hand; held-short=a bare fist&gt;<br/>\tproperty &lt;player%userid%-r-hand; held-display=nothing&gt;<br/>\tproperty &lt;player%userid%-l-hand; held=#r-object#&gt;<br/>\tproperty &lt;player%userid%-l-hand; held-name=$displayname&#40;#r-object#&#41;$&gt;<br/>\tproperty &lt;player%userid%-l-hand; held-short=$objectproperty&#40;#r-object#; short&#41;$&gt;<br/>\tif property &lt;#r-object#; prefix&gt; then property &lt;player%userid%-l-hand; held-display=$objectproperty&#40;#r-object#; prefix&#41;$ $displayname&#40;#r-object#&#41;$&gt;<br/>\tif property &lt;#r-object#; suffix&gt; then property &lt;player%userid%-l-hand; held-display=$objectproperty&#40;#r-object#; prefix&#41;$ $displayname&#40;#r-object#&#41;$$objectproperty&#40;#r-object#; suffix&#41;$&gt;<br/>\tmsg &lt;Ok&#46;|n&gt;<br/>end define<br/>define procedure &lt;swap-left&gt;<br/>\tif &#40; $objectproperty&#40;player%userid%; offhand&#41;$ = player%userid%-l-hand &#41; then property &lt;player%userid%; readied=null&gt;<br/>\tif &#40; $objectproperty&#40;player%userid%; mainhand&#41;$ = player%userid%-l-hand &#41; then property &lt;player%userid%; wielded=null&gt;<br/>\tset string &lt;l-object; $objectproperty&#40;player%userid%-l-hand; held&#41;$&gt;<br/>\tmove &lt;#l-object#; player%userid%-r-hand&gt;<br/>\tproperty &lt;player%userid%-l-hand; held=null&gt;<br/>\tproperty &lt;player%userid%-l-hand; held-name=null&gt;<br/>\tproperty &lt;player%userid%-l-hand; held-short=a bare fist&gt;<br/>\tproperty &lt;player%userid%-l-hand; held-display=nothing&gt;<br/>\tproperty &lt;player%userid%-r-hand; held=#l-object#&gt;<br/>\tproperty &lt;player%userid%-r-hand; held-name=$displayname&#40;#l-object#&#41;$&gt;<br/>\tproperty &lt;player%userid%-r-hand; held-short=$objectproperty&#40;#l-object#; short&#41;$&gt;<br/>\tif property &lt;#l-object#; prefix&gt; then property &lt;player%userid%-r-hand; held-display=$objectproperty&#40;#l-object#; prefix&#41;$ $displayname&#40;#l-object#&#41;$&gt;<br/>\tif property &lt;#l-object#; suffix&gt; then property &lt;player%userid%-r-hand; held-display=$objectproperty&#40;#l-object#; prefix&#41;$ $displayname&#40;#l-object#&#41;$$objectproperty&#40;#l-object#; suffix&#41;$&gt;<br/>\tmsg &lt;Ok&#46;|n&gt;<br/>end define<br/>define procedure &lt;swap-both&gt;<br/>\tif &#40; $objectproperty&#40;player%userid%; offhand&#41;$ = player%userid%-r-hand &#41; or &#40; $objectproperty&#40;player%userid%; offhand&#41;$ = player%userid%-l-hand &#41; then property &lt;player%userid%; readied=null&gt;<br/>\tif &#40; $objectproperty&#40;player%userid%; mainhand&#41;$ = player%userid%-r-hand &#41; or &#40; $objectproperty&#40;player%userid%; mainhand&#41;$ = player%userid%-l-hand &#41; then property &lt;player%userid%; wielded=null&gt;<br/>\tset string &lt;r-object; $objectproperty&#40;player%userid%-r-hand; held&#41;$&gt;<br/>\tset string &lt;l-object; $objectproperty&#40;player%userid%-l-hand; held&#41;$&gt;<br/>\tmove &lt;#r-object#; player%userid%-l-hand&gt;<br/>\tmove &lt;#l-object#; player%userid%-r-hand&gt;<br/>\tproperty &lt;player%userid%-l-hand; held=#r-object#&gt;<br/>\tproperty &lt;player%userid%-r-hand; held=#l-object#&gt;<br/>\tproperty &lt;player%userid%-l-hand; held-name=$displayname&#40;#r-object#&#41;$&gt;<br/>\tproperty &lt;player%userid%-r-hand; held-name=$displayname&#40;#l-object#&#41;$&gt;<br/>\tproperty &lt;player%userid%-l-hand; held-short=$objectproperty&#40;#r-object#; short&#41;$&gt;<br/>\tproperty &lt;player%userid%-r-hand; held-short=$objectproperty&#40;#l-object#; short&#41;$&gt;<br/>\tif property &lt;#l-object#; prefix&gt; then property &lt;player%userid%-r-hand; held-display=$objectproperty&#40;#l-object#; prefix&#41;$ $displayname&#40;#l-object#&#41;$&gt;<br/>\tif property &lt;#l-object#; suffix&gt; then property &lt;player%userid%-r-hand; held-display=$objectproperty&#40;#l-object#; prefix&#41;$ $displayname&#40;#l-object#&#41;$$objectproperty&#40;#l-object#; suffix&#41;$&gt;<br/>\tif property &lt;#r-object#; prefix&gt; then property &lt;player%userid%-l-hand; held-display=$objectproperty&#40;#r-object#; prefix&#41;$ $displayname&#40;#r-object#&#41;$&gt;<br/>\tif property &lt;#r-object#; suffix&gt; then property &lt;player%userid%-l-hand; held-display=$objectproperty&#40;#r-object#; prefix&#41;$ $displayname&#40;#r-object#&#41;$$objectproperty&#40;#r-object#; suffix&#41;$&gt;<br/>\tmsg &lt;Ok&#46;|n&gt;<br/>end define<br/></code></pre><br/><br/><span style=\"font-weight:bold;\">!!!MORE CODE!!!</span><br/><br/><pre><code><br/>define room &lt;arena&gt;<br/>\tproperties &lt;title=The Arena; sanct=0; look=Massive stone walls surround you on all sides forming the octagon you stand in&#46; The dirt beneath your feet is hard packed and riddled with traces of footsteps, all around you see remnants of skin and bones&#46;&gt;<br/>\tdefine object &lt;item1&gt;<br/>\t\talias &lt;falchion&gt;<br/>\t\tproperties &lt;visibility=1; range=1; take; object; weapon; type=broadsword; weight=3; speed=0; bonus=5; prefix=an engraved mithril; short=an engraved mithril falchion; look=The sword appears to be well-crafted and the intricate elven markings engraved into it only increase it's alure&#46;&gt;<br/>\tend define<br/>\tdefine object &lt;item2&gt;<br/>\t\talias &lt;club&gt;<br/>\t\tproperties &lt;visibility=1; range=1; take; object; weapon; weight=3; type=club; speed=0; bonus=5; prefix=a heavy iron; suffix=with a leather handle; short=a heavy iron club; look=The club is crudely crafted of oak and wrapped with a few strips of leather at the bottom for increased grip&#46;&gt;<br/>\tend define<br/>\tdefine object &lt;item3&gt;<br/>\t\talias &lt;shield&gt;<br/>\t\tproperties &lt;visibility=1; take; object; shield; bonus=5; prefix=a small; short=a small shield; look=The small shield is covered with dents and scratches, it appears to have survived more than a few battles&#46;|n&gt;<br/>\tend define<br/>end define<br/><br/>define room &lt;vault&gt;<br/>\tproperties &lt;title=The Vault; sanct=0; look=This is the most sacred area of the game, the items found here contain properties all other items in the game use during the many complicated procedures that are run&#46;&gt;<br/>\tdefine object &lt;game&#46;info&gt;<br/>\t\talias &lt;game&#46;info&gt;<br/>\t\tproperties &lt;look=null; hour-time=00; minute-time=00; second-time=00&gt;<br/>\tend define<br/>\tdefine object &lt;game&#46;temp&gt;<br/>\t\talias &lt;game&#46;temp&gt;<br/>\t\tproperties &lt;look=null; player&#46;count=0; object&#46;count=0; format&#46;objects=null; format&#46;players=null; player&#46;list; object&#46;list&gt;<br/>\tend define<br/>\tdefine object &lt;broadsword&gt;<br/>\t\talias &lt;broadsword&gt;<br/>\t\tproperties &lt;look=null; short=the broadsword; weight=3; speed=0; types=3; 1=swing; 1-plural=swings; 2=stab; 2-plural=stabs; 3=slash; 3-plural=slashes; 1-1=Light swing clips the shoulder!; 1-2=Well-aimed shot bruises the leg!; 1-3=Solid blow to the stomach&#46;&#46;&#46; Those ribs might be broken!; 1-4=Huge swing breaks the spinal cord!; 1-5=Massive strike to the head caves in the skull!; 2-1=Weak jab to the leg, stop it that tickles!; 2-2=Quick stab to the chest draws blood!; 2-3=Skillfull strike to the leg&#46;&#46;&#46; That should slow 'em down!; 2-4=Powerful lunge to the stomach leaves quite a mess!; 2-5=Perfect attack impales opponent on blade!; 3-1=Flick of the wrist leaves a few scratches on the face!; 3-2=Quick slash to the leg exposes some muscle!; 3-3=Solid strike to the left arm digs into the bone!; 3-4=Deep swipe to the stomach reveals the insides!; 3-5=Incredible slash to the neck removes the head!&gt;<br/>\tend define<br/>\tdefine object &lt;club&gt;<br/>\t\talias &lt;club&gt;<br/>\t\tproperties &lt;look=null; short=the club; weight=1; speed=0; types=1; 1=swing; 1-plural=swings; 1-1=Off-balance swing taps the shin&#46; That might bruise!; 1-2=Sturdy shot to the forearm sprains the wrist!; 1-3=Strong blow to the shoulder knocks it out of the socket; 1-4=Powerful strike breaks both kneecaps!; 1-5=Enormous swing shatters the spine and ribcage to pieces!&gt;<br/>\tend define<br/>\tdefine object &lt;fist&gt;<br/>\t\talias &lt;fist&gt;<br/>\t\tproperties &lt;range=1; look=null; short=the fist weight=0; speed=0; types=1; 1=swing; 1-plural=swings; 1-1=Weak swing taps the forearm!; 1-2=Firm punch leaves the ribs sore!; 1-3=Quick jab to the face breaks the nose!; 1-4=Uppercut to the jaw breaks it!; 1-5=Two-handed hammer to the skull caves in the temples!&gt;<br/>\tend define<br/>end define<br/><br/>define room &lt;accounts&gt;<br/>\tproperties &lt;title=Account Administration; sanct=1; look=This is the area of the game where player accounts are stored&#46;&gt;<br/>end define<br/></code></pre><br/><br/><span style=\"font-weight:bold;\">These our default rooms, included in some, such as the vault and arena are objects. In the vault, these objects are all critical to game running, they are master objects and can be changed to effect the effects of all objects they control. Players should never enter this room. In the ARENA room you see working examples of the objects being controlled by the master objects. Weapons<br/>are to be wielded(WIELD) before using, as shields are to be readied(READY). Eventually these commands would be extended to apply to whatever is in the wield(mainhand or default right) hand and ready(offhand or default left) hand, but as they stand they only effect weapons.</span><br/><br/><pre><code><br/>define procedure &lt;ready&gt;<br/>if not &#40; $objectproperty&#40;player%userid%; HP&#41;$ &gt;= 0 &#41; then msg &lt;You are dead&#46;|n&gt; else &#123;<br/>\tif &#40; $objectproperty&#40;player%userid%; rt&#41;$ &lt;&gt; 0 &#41; then msg &lt;You haven't recovered enough from your last action to ready anything&#46;|n&gt; else &#123;<br/>\tset string &lt;offhand; $objectproperty&#40;player%userid%; offhand&#41;$&gt;<br/>\tif &#40; $objectproperty&#40;#offhand#; held&#41;$ &lt;&gt; null &#41; then &#123;<br/>\t\tif property &lt;$objectproperty&#40;#offhand#; held&#41;$; weapon&gt; or property &lt;$objectproperty&#40;#offhand#; held&#41;$; shield&gt; then &#123;<br/>\t\t\tset string &lt;readied; $objectproperty&#40;#offhand#; held&#41;$&gt;<br/>\t\t\tproperty &lt;player%userid%; readied=#readied#&gt;<br/>\t\t\tmsg &lt;You ready $objectproperty&#40;#readied#; short&#41;$&#46;|n&gt;<br/>\t\t&#125;<br/>\t\telse msg &lt;You cannot ready that&#46;|n&gt;<br/>\t&#125;<br/>\telse msg &lt;You are not carrying anything to ready in your left hand&#46;|n&gt;<br/>\t&#125;<br/>\t&#125;<br/>end define<br/>define procedure &lt;wield&gt;<br/>if not &#40; $objectproperty&#40;player%userid%; HP&#41;$ &gt;= 0 &#41; then msg &lt;You are dead&#46;|n&gt; else &#123;<br/>\tif &#40; $objectproperty&#40;player%userid%; rt&#41;$ &lt;&gt; 0 &#41; then msg &lt;You haven't recovered enough from your last action to wield anything&#46;|n&gt; else &#123;<br/>\tset string &lt;mainhand; $objectproperty&#40;player%userid%; mainhand&#41;$&gt;<br/>\tif &#40; $objectproperty&#40;#mainhand#; held&#41;$ &lt;&gt; null &#41; then &#123;<br/>\t\tif property &lt;$objectproperty&#40;#mainhand#; held&#41;$; weapon&gt; then &#123;<br/>\t\t\tset string &lt;wielded; $objectproperty&#40;#mainhand#; held&#41;$&gt;<br/>\t\t\tproperty &lt;player%userid%; wielded=#wielded#&gt;<br/>\t\t\tmsg &lt;You wield $objectproperty&#40;#wielded#; short&#41;$&#46;|n&gt;<br/>\t\t&#125;<br/>\t\telse msg &lt;You cannot wield that&#46;|n&gt;<br/>\t&#125;<br/>\telse msg &lt;You are not carrying anything to wield&#46;|n&gt;<br/>\t&#125;<br/>\t&#125;<br/>end define<br/></code></pre><br/><br/><span style=\"font-weight:bold;\">That is the procedures that must be placed into your file to enable using of the commands WIELD and READY which call those procedures.</span><br/><br/><pre><code><br/>define procedure &lt;stance defensive&gt;<br/>\tproperty &lt;player%userid%; stance=5&gt;<br/>\tproperty &lt;player%userid%; stance-display=defensive&gt;<br/>\tmsg &lt;You move into a defensive stance&#46;|n&gt;<br/>end define<br/>define procedure &lt;stance guarded&gt;<br/>\tproperty &lt;player%userid%; stance=4&gt;<br/>\tproperty &lt;player%userid%; stance-display=guarded&gt;<br/>\tmsg &lt;You move into a guarded stance&#46;|n&gt;<br/>end define<br/>define procedure &lt;stance neutral&gt;<br/>\tproperty &lt;player%userid%; stance=3&gt;<br/>\tproperty &lt;player%userid%; stance-display=neutral&gt;<br/>\tmsg &lt;You move into a neutral stance&#46;|n&gt;<br/>end define<br/>define procedure &lt;stance forward&gt;<br/>\tproperty &lt;player%userid%; stance=2&gt;<br/>\tproperty &lt;player%userid%; stance-display=forward&gt;<br/>\tmsg &lt;You move into a forward stance&#46;|n&gt;<br/>end define<br/>define procedure &lt;stance offensive&gt;<br/>\tproperty &lt;player%userid%; stance=1&gt;<br/>\tproperty &lt;player%userid%; stance-display=offensive&gt;<br/>\tmsg &lt;You move into a offensive stance&#46;|n&gt;<br/>end define<br/>define procedure &lt;defensive-stance-rt-check&gt;<br/>\tif not &#40; $objectproperty&#40;player%userid%; HP&#41;$ &gt;= 0 &#41; then msg &lt;You are dead&#46;|n&gt; else &#123;<br/>\t\tif &#40; $objectproperty&#40;player%userid%; rt&#41;$ = 0 &#41; then do &lt;stance defensive&gt; else msg &lt;You haven't recovered enough from your last action to take a defensive stance&#46;|n&gt;<br/>\t&#125;<br/>end define<br/>define procedure &lt;guarded-stance-rt-check&gt;<br/>\tif not &#40; $objectproperty&#40;player%userid%; HP&#41;$ &gt;= 0 &#41; then msg &lt;You are dead&#46;|n&gt; else &#123;<br/>\t\tif &#40; $objectproperty&#40;player%userid%; rt&#41;$ = 0 &#41; then do &lt;stance guarded&gt; else msg &lt;You haven't recovered enough from your last action to take a guarded stance&#46;|n&gt;<br/>\t&#125;<br/>end define<br/>define procedure &lt;neutral-stance-rt-check&gt;<br/>\tif not &#40; $objectproperty&#40;player%userid%; HP&#41;$ &gt;= 0 &#41; then msg &lt;You are dead&#46;|n&gt; else &#123;<br/>\t\tif &#40; $objectproperty&#40;player%userid%; rt&#41;$ = 0 &#41; then do &lt;stance neutral&gt; else msg &lt;You haven't recovered enough from your last action to take a neutral stance&#46;|n&gt;<br/>\t&#125;<br/>end define<br/>define procedure &lt;forward-stance-rt-check&gt;<br/>\tif not &#40; $objectproperty&#40;player%userid%; HP&#41;$ &gt;= 0 &#41; then msg &lt;You are dead&#46;|n&gt; else &#123;<br/>\t\tif &#40; $objectproperty&#40;player%userid%; rt&#41;$ = 0 &#41; then do &lt;stance forward&gt; else msg &lt;You haven't recovered enough from your last action to take a forward stance&#46;|n&gt;<br/>\t&#125;<br/>end define<br/>define procedure &lt;offensive-stance-rt-check&gt;<br/>\tif not &#40; $objectproperty&#40;player%userid%; HP&#41;$ &gt;= 0 &#41; then msg &lt;You are dead&#46;|n&gt; else &#123;<br/>\t\tif &#40; $objectproperty&#40;player%userid%; rt&#41;$ = 0 &#41; then do &lt;stance offensive&gt; else msg &lt;You haven't recovered enough from your last action to take an offensive stance&#46;|n&gt;<br/>\t&#125;<br/>end define\t<br/></code></pre><br/><br/><span style=\"font-weight:bold;\">Before fighting you will want to understand your stances. Stances are how readied for attacking or defensding you are and modify your overall Attack Strength(AS) and Defense Strength(DS).<br/>Gemstone fans may recognize those terms. After stances comes engagement. Engagement is basically challenging a foe, putting you in combat with it. You do not get a chance to decline an<br/>engagement but you can retreat from your opponent and disengage when able. From being engaged in combat you can advance and retreat from your enemy to give you a tactical edge or use <br/>weapons more effective at certain range as you see fit.</span><br/><br/><pre><code><br/>define procedure &lt;engage-check&gt;<br/>if not &#40; $objectproperty&#40;player%userid%; hp&#41;$ &gt;= 0 &#41; then msg &lt;You are dead&#46;|n&gt; else &#123;<br/>\tif &#40; $objectproperty&#40;player%userid%; rt&#41;$ &lt;&gt; 0 &#41; then msg &lt;You haven't recovered enough from your last action to engage anything&#46;|n&gt; else &#123;<br/>\t\tif here &lt;#target-object#&gt; then &#123;<br/>\t\t\tif property &lt;#target-object#; mob&gt; or property &lt;#target-object#; player&gt; then &#123;<br/>\t\t\t\tif &#40; #target-object# = player%userid% &#41; then msg &lt;You cannot engage yourself&#46;|n&gt; else &#123;<br/>\t\t\t\t\tif &#40; $objectproperty&#40;#target-object#; hp&#41;$ &lt;= 0 &#41; then msg &lt;That is already dead&#46;|n&gt; else &#123;<br/>\t\t\t\t\t\tif &#40; $objectproperty&#40;player%userid%; engaged&#41;$ = yes &#41; then msg &lt;You are already engaged&#46;|n&gt; else do &lt;engage-detect&gt;<br/>\t\t\t\t\t&#125;<br/>\t\t\t\telse msg &lt;You cannot engage that&#46;|n&gt;<br/>\t\t\t\t&#125;<br/>\t\t\telse msg &lt;I could not find what you were referring to&#46;|n&gt;<br/>\t\t\t&#125;<br/>\t\t&#125;<br/>\t&#125;<br/>&#125;\t<br/>end define<br/><br/>define procedure &lt;engage-detect&gt;<br/>if property &lt;#target-object#; mob&gt; then do &lt;engage-mob&gt;<br/>if property &lt;#target-object#; player&gt; then do &lt;engage-player&gt;<br/>end define<br/><br/>define procedure &lt;engage-player&gt;<br/>set string &lt;engager; $objectproperty&#40;player%userid%; name&#41;$&gt;<br/>set string &lt;engagee; $objectproperty&#40;#target-object#; name&#41;$&gt;<br/>set numeric &lt;engager&#46;add&#46;enemy; $objectproperty&#40;player%userid%; enemies&#41;$ + 1&gt;<br/>set numeric &lt;engagee&#46;add&#46;enemy; $objectproperty&#40;#target-object#; enemies&#41;$ + 1&gt;<br/>property &lt;player%userid%; enemies=%engager&#46;add&#46;enemy%&gt;<br/>property &lt;#target-object#; enemies=%engagee&#46;add&#46;enemy%&gt;<br/>property &lt;player%userid%; enemy-%engager&#46;add&#46;enemy%=#target-object#&gt;<br/>property &lt;#target-object#; enemy-%engagee&#46;add&#46;enemy%=player%userid%&gt;<br/>property &lt;player%userid%; enemy-%engager&#46;add&#46;enemy%-distance=5&gt;<br/>property &lt;#target-object#; enemy-%engagee&#46;add&#46;enemy%-distance=5&gt;<br/>property &lt;player%userid%; engaged=yes&gt;<br/>property &lt;#target-object#; engaged=yes&gt;<br/>msg &lt;You engage #engagee# in combat&#46;|n&gt;<br/>for each object in &lt;#quest&#46;currentroom#&gt; if property &lt;#quest&#46;thing#; player&gt; then &#123;<br/>\tif &#40; $objectproperty&#40;#quest&#46;thing#; name&#41;$ &lt;&gt; #engager# &#41; and &#40; $objectproperty&#40;#quest&#46;thing#; name&#41;$ &lt;&gt; #engagee#&#41; then msgto &lt;#quest&#46;thing#; #engager# engages #engagee# in combat&#46;|n&gt;<br/>\t&#125;<br/>msgto &lt;#target-object#; #engager# engages you in combat&#46;|n&gt;<br/>end define<br/><br/>define procedure &lt;engage-mob&gt;<br/>set string &lt;engager; $objectproperty&#40;player%userid%; name&#41;$&gt;<br/>if property &lt;#target-object#; prefix&gt; then set string &lt;engagee; $objectproperty&#40;#target-object#; prefix&#41;$ $objectproperty&#40;#target-object#; name&#41;$&gt; else set string &lt;engagee; $objectproperty&#40;#target-object#; name&#41;$&gt;<br/>set numeric &lt;engager&#46;add&#46;enemy; $objectproperty&#40;player%userid%; enemies&#41;$ + 1&gt;<br/>set numeric &lt;engagee&#46;add&#46;enemy; $objectproperty&#40;#target-object#; enemies&#41;$ + 1&gt;<br/>property &lt;player%userid%; enemies=%engager&#46;add&#46;enemy%&gt;<br/>property &lt;#target-object#; enemies=%engagee&#46;add&#46;enemy%&gt;<br/>property &lt;player%userid%; enemy-%engager&#46;add&#46;enemy%=#target-object#&gt;<br/>property &lt;#target-object#; enemy-%engagee&#46;add&#46;enemy%=player%userid%&gt;<br/>property &lt;player%userid%; enemy-%engager&#46;add&#46;enemy%-distance=5&gt;<br/>property &lt;#target-object#; enemy-%engagee&#46;add&#46;enemy%-distance=5&gt;<br/>property &lt;player%userid%; engaged=yes&gt;<br/>property &lt;player%userid%; engaged=yes&gt;<br/>msg &lt;You engage #engagee# in combat&#46;|n&gt;<br/>for each object in &lt;#quest&#46;currentroom#&gt; if property &lt;#quest&#46;thing#; player&gt; then &#123;<br/>\tif &#40; $objectproperty&#40;#quest&#46;thing#; name&#41;$ &lt;&gt; #engager# &#41; then msgto &lt;#quest&#46;thing#; #engager# engages #engagee# in combat&#46;|n&gt;<br/>\t&#125;<br/>end define<br/><br/>define procedure &lt;disengage-check&gt;<br/>if not &#40; $objectproperty&#40;player%userid%; hp&#41;$ &gt;= 0 &#41; then msg &lt;You are dead&#46;|n&gt; else &#123;<br/>\tif &#40; $objectproperty&#40;player%userid%; rt&#41;$ &lt;&gt; 0 &#41; then msg &lt;You haven't recovered enough from your last action to disengage from combat&#46;|n&gt; else &#123;<br/>\t\tif &#40; $objectproperty&#40;player%userid%; engaged&#41;$ = no &#41; then msg &lt;You aren't engaged&#46;|n&gt; else do &lt;disengage&gt;<br/>\t\t&#125;<br/>\t&#125;\t<br/>end define<br/><br/>define procedure &lt;disengage&gt;<br/>set string &lt;disengager; player%userid%&gt;<br/>set string &lt;disengager&#46;name; $objectproperty&#40;player%userid%; name&#41;$&gt;<br/>if &#40; $objectproperty&#40;player%userid%; engaged&#41;$ = no &#41; then msg &lt;You are not engaged&#46;|n&gt; else &#123;<br/>\tfor &lt;enemies; 1; $objectproperty&#40;player%userid%; enemies&#41;$&gt; if &#40; $objectproperty&#40;player%userid%; enemy-%enemies%-distance&#41;$ = 5 &#41; then &#123;<br/>\t\tset string &lt;disengaged; $objectproperty&#40;player%userid%; enemy-%enemies%&#41;$&gt;<br/>\t\tif property &lt;#disengaged#; prefix&gt; then set string &lt;disengaged&#46;enemy; $objectproperty&#40;#disengaged#; prefix&#41;$ $objectproperty&#40;#disengaged#; name&#41;$&gt; else set string &lt;disengaged&#46;enemy; $objectproperty&#40;#disengaged#; name&#41;$&gt;<br/>\t\tset numeric &lt;disengager&#46;enemies; $objectproperty&#40;player%userid%; enemies&#41;$ - 1&gt;<br/>\t\tset numeric &lt;disengaged&#46;enemies; $objectproperty&#40;#disengaged#; enemies&#41;$ - 1&gt;<br/>\t\tfor &lt;disengaging&#46;enemy; 1; $objectproperty&#40;#disengaged#; enemies&#41;$&gt; if &#40; $objectproperty&#40;#disengaged#; enemy-%disengaging&#46;enemy%&#41;$ = #disengager# &#41; then &#123; <br/>\t\t\tproperty &lt;#disengaged#; enemy-%disengaging&#46;enemy%=null&gt;<br/>\t\t\tproperty &lt;#disengaged#; enemy-%disengaging&#46;enemy%-distance=null&gt;<br/>\t\t&#125;<br/>\t\tproperty &lt;player%userid%; enemies=%disengager&#46;enemies%&gt;<br/>\t\tproperty &lt;#disengaged#; enemies=%disengaged&#46;enemies%&gt;<br/>\t\tproperty &lt;player%userid%; enemy-%enemies%-distance=null&gt;<br/>\t\tproperty &lt;player%userid%; enemy-%enemies%=null&gt;<br/>\t\tproperty &lt;player%userid%; attacking=null&gt;<br/>\t\tif &#40; $objectproperty&#40;player%userid%; enemies&#41;$ = 0 &#41; then property &lt;player%userid%; engaged=no&gt;<br/>\t\tif &#40; $objectproperty&#40;#disengaged#; enemies&#41;$ = 0 &#41; then property &lt;#disengaged#; engaged=no&gt;<br/>\t\tmsg &lt;You disengage from combat with #disengaged&#46;enemy#&#46;|n&gt;<br/>\t\tfor each object in &lt;#quest&#46;currentroom#&gt; if property &lt;#quest&#46;thing#; player&gt; then &#123;<br/>\t\t\tif &#40; $objectproperty&#40;#quest&#46;thing#; name&#41;$ &lt;&gt; #disengager&#46;name# &#41; and &#40; $objectproperty&#40;#quest&#46;thing#; name&#41;$ &lt;&gt; #disengaged&#46;enemy#&#41; then msgto &lt;#quest&#46;thing#; #disengager&#46;name# disengages from combat with #disengaged&#46;enemy#&#46;|n&gt;<br/>\t\t\t&#125;<br/>\t\tif property &lt;#disengaged#; player&gt; then msgto &lt;#disengaged#; #disengager&#46;name# disengages from combat with you&#46;|n&gt;\t\t<br/>\t\t&#125;<br/>\t\telse &#123;<br/>\t\t\tfor &lt;engaged&#46;enemies; 1; $objectproperty&#40;player%userid%; enemies&#41;$&gt; if &#40; $objectproperty&#40;player%userid%; enemy-%engaged&#46;enemies%-distance&#41;$ &lt;= 4 &#41; then &#123;<br/>\t\t\t\tset string &lt;engaged; $objectproperty&#40;player%userid%; enemy-%engaged&#46;enemies%&#41;$&gt;<br/>\t\t\t\tif property &lt;#engaged#; prefix&gt; then set string &lt;engaged&#46;enemy; $objectproperty&#40;#enaged#; prefix&#41;$ $objectproperty&#40;#engaged#; name&#41;$&gt; else set string &lt;engaged&#46;enemy; $objectproperty&#40;#engaged#; name&#41;$&gt;<br/>\t\t\t\tmsg &lt;You must retreat further in order to disengage from #engaged&#46;enemy#&#46;|n&gt;<br/>\t\t\t&#125;<br/>\t\t&#125;<br/>\t&#125;<br/>end define<br/><br/>define procedure &lt;advance-check&gt;<br/>if not &#40; $objectproperty&#40;player%userid%; hp&#41;$ &gt;= 0 &#41; then msg &lt;You are dead&#46;|n&gt; else &#123;<br/>\tif &#40; $objectproperty&#40;player%userid%; rt&#41;$ &lt;&gt; 0 &#41; then msg &lt;You haven't recovered enough from your last action to advance&#46;|n&gt; else &#123;<br/>\t\tif &#40; $objectproperty&#40;player%userid%; engaged&#41;$ = no &#41; then msg &lt;You aren't engaged&#46;|n&gt; else do &lt;advance&gt;<br/>\t\t&#125;<br/>\t&#125;\t<br/>end define<br/><br/>define procedure &lt;advance&gt;<br/>if &#40; $objectproperty&#40;player%userid%; engaged&#41;$ = no &#41; then msg &lt;You must engage an enemy before you can advance&#46;|n&gt; else &#123;<br/>\tfor &lt;enemies; 1; $objectproperty&#40;player%userid%; enemies&#41;$&gt; if &#40; $objectproperty&#40;player%userid%; enemy-%enemies%-distance&#41;$ &lt;= 1 &#41; then msg &lt;You cannot advance any closer to your opponent&#46;|n&gt; else &#123;<br/>\t\tset string &lt;advancee; $objectproperty&#40;player%userid%; enemy-%enemies%&#41;$&gt;<br/>\t\tset string &lt;advancer; player%userid%&gt;<br/>\t\tset string &lt;advancer&#46;name; $objectproperty&#40;player%userid%; name&#41;$&gt;<br/>\t\tset string &lt;advancee&#46;name; $objectproperty&#40;#advancee#; name&#41;$&gt;<br/>\t\tset numeric &lt;enemy&#46;distance; $objectproperty&#40;player%userid%; enemy-%enemies%-distance&#41;$ - 1&gt;<br/>\t\tproperty &lt;player%userid%; enemy-%enemies%-distance=%enemy&#46;distance%&gt;<br/>\t\tfor &lt;advancee&#46;enemies; 1; $objectproperty&#40;#advancee#; enemies&#41;$&gt; if &#40; $objectproperty&#40;#advancee#; enemy-%advancee&#46;enemies%&#41;$ = #advancer# &#41; then &#123; <br/>\t\t\tproperty &lt;#advancee#; enemy-%advancee&#46;enemies%-distance=%enemy&#46;distance%&gt;<br/>\t\t&#125;<br/>\t\tif &#40; %enemy&#46;distance% = 1 &#41; then &#123;<br/>\t\t\tproperty &lt;#advancer#; rt= 1&gt; <br/>\t\t\tmsg &lt;You close in on #advancee&#46;name#, coming within melee range&#46;|nRoundtime&#58; $objectproperty&#40;player%userid%; rt&#41;$ seconds|n&gt;<br/>\t\t\tmsgto &lt;#advancee#; #advancer&#46;name# closes in on you, coming within melee range&#46;|n&gt;<br/>\t\t\tfor each object in &lt;#quest&#46;currentroom#&gt; if property &lt;#quest&#46;thing#; player&gt; then &#123;<br/>\t\t\t\tif &#40; $objectproperty&#40;#quest&#46;thing#; name&#41;$ &lt;&gt; #advancer&#46;name# &#41; and &#40; $objectproperty&#40;#quest&#46;thing#; name&#41;$ &lt;&gt; #advancee&#46;name#&#41; then msgto &lt;#quest&#46;thing#; #advancer&#46;name# closes in on #advancee&#46;name#, coming within melee range&#46;|n&gt;<br/>\t\t\t&#125;<br/>\t\t&#125;<br/>\t\tif &#40; %enemy&#46;distance% = 2 &#41; then &#123; <br/>\t\t\tproperty &lt;#advancer#; rt= 2&gt;<br/>\t\t\tmsg &lt;You move within polearm range of #advancee&#46;name#&#46;|nRoundtime&#58; $objectproperty&#40;player%userid%; rt&#41;$ seconds|n&gt;<br/>\t\t\tmsgto &lt;#advancee#; #advancer&#46;name# moves in on you, coming within polearm range&#46;|n&gt;<br/>\t\t\tfor each object in &lt;#quest&#46;currentroom#&gt; if property &lt;#quest&#46;thing#; player&gt; then &#123;<br/>\t\t\t\tif &#40; $objectproperty&#40;#quest&#46;thing#; name&#41;$ &lt;&gt; #advancer&#46;name# &#41; and &#40; $objectproperty&#40;#quest&#46;thing#; name&#41;$ &lt;&gt; #advancee&#46;name#&#41; then msgto &lt;#quest&#46;thing#; #advancer&#46;name# moves to polearm range of #advancee&#46;name#&#46;|n&gt;<br/>\t\t\t&#125;<br/>\t\t&#125;<br/>\t\tif &#40; %enemy&#46;distance% = 3 &#41; then &#123; <br/>\t\t\tproperty &lt;#advancer#; rt= 2&gt;<br/>\t\t\tmsg &lt;You advance closer to #advancee&#46;name#&#46;|nRoundtime&#58; $objectproperty&#40;player%userid%; rt&#41;$ seconds|n&gt;<br/>\t\t\tmsgto &lt;#advancee#; #advancer&#46;name# advances closer towards you&#46;|nRoundtime&#58; $objectproperty&#40;player%userid%; rt&#41;$ seconds|n&gt;<br/>\t\t\tfor each object in &lt;#quest&#46;currentroom#&gt; if property &lt;#quest&#46;thing#; player&gt; then &#123;<br/>\t\t\t\tif &#40; $objectproperty&#40;#quest&#46;thing#; name&#41;$ &lt;&gt; #advancer&#46;name# &#41; and &#40; $objectproperty&#40;#quest&#46;thing#; name&#41;$ &lt;&gt; #advancee&#46;name#&#41; then msgto &lt;#quest&#46;thing#; #advancer&#46;name# advances closer towards #advancee&#46;name#&#46;|n&gt;<br/>\t\t\t&#125;<br/>\t\t&#125;<br/>\t\tif &#40; %enemy&#46;distance% = 4 &#41; then &#123;<br/>\t\t\tproperty &lt;#advancer#; rt= 3&gt;<br/>\t\t\tmsg &lt;You begin advancing towards #advancee&#46;name#&#46;|nRoundtime&#58; $objectproperty&#40;player%userid%; rt&#41;$ seconds|n&gt;<br/>\t\t\tmsgto &lt;#advancee#; #advancer&#46;name# begins advancing towards you&#46;|nRoundtime&#58; $objectproperty&#40;player%userid%; rt&#41;$ seconds|n&gt;<br/>\t\t\tfor each object in &lt;#quest&#46;currentroom#&gt; if property &lt;#quest&#46;thing#; player&gt; then &#123;<br/>\t\t\t\tif &#40; $objectproperty&#40;#quest&#46;thing#; name&#41;$ &lt;&gt; #advancer&#46;name# &#41; and &#40; $objectproperty&#40;#quest&#46;thing#; name&#41;$ &lt;&gt; #advancee&#46;name#&#41; then msgto &lt;#quest&#46;thing#; #advancer&#46;name# begins advancing on #advancee&#46;name#&#46;|n&gt;<br/>\t\t\t&#125;<br/>\t\t&#125;<br/>\t&#125;<br/>&#125;<br/>end define<br/><br/>define procedure &lt;retreat-check&gt;<br/>if not &#40; $objectproperty&#40;player%userid%; hp&#41;$ &gt;= 0 &#41; then msg &lt;You are dead&#46;|n&gt; else &#123;<br/>\tif &#40; $objectproperty&#40;player%userid%; rt&#41;$ &lt;&gt; 0 &#41; then msg &lt;You haven't recovered enough from your last action to retreat&#46;|n&gt; else &#123;<br/>\t\tif &#40; $objectproperty&#40;player%userid%; engaged&#41;$ = no &#41; then msg &lt;You aren't engaged&#46;|n&gt; else do &lt;retreat&gt;<br/>\t\t&#125;<br/>\t&#125;\t<br/>end define<br/><br/>define procedure &lt;retreat&gt;<br/>if &#40; $objectproperty&#40;player%userid%; engaged&#41;$ = no &#41; then msg &lt;You must engage an enemy before you can advance&#46;|n&gt; else &#123;<br/>\tfor &lt;enemies; 1; $objectproperty&#40;player%userid%; enemies&#41;$&gt; if &#40; $objectproperty&#40;player%userid%; enemy-%enemies%-distance&#41;$ = 5 &#41; then msg &lt;You cannot retreat any further without disengaging&#46;|n&gt; else &#123;<br/>\t\tset string &lt;retreatee; $objectproperty&#40;player%userid%; enemy-%enemies%&#41;$&gt;<br/>\t\tset string &lt;retreater; player%userid%&gt;<br/>\t\tset string &lt;retreater&#46;name; $objectproperty&#40;player%userid%; name&#41;$&gt;<br/>\t\tset string &lt;retreatee&#46;name; $objectproperty&#40;#retreatee#; name&#41;$&gt;<br/>\t\tset numeric &lt;enemy&#46;distance; $objectproperty&#40;player%userid%; enemy-%enemies%-distance&#41;$ + 1&gt;<br/>\t\tproperty &lt;player%userid%; enemy-%enemies%-distance=%enemy&#46;distance%&gt;<br/>\t\tfor &lt;retreatee&#46;enemies; 1; $objectproperty&#40;#retreatee#; enemies&#41;$&gt; if &#40; $objectproperty&#40;#retreatee#; enemy-%retreatee&#46;enemies%&#41;$ = #retreater# &#41; then &#123; <br/>\t\t\tproperty &lt;#retreatee#; enemy-%retreatee&#46;enemies%-distance=%enemy&#46;distance%&gt;<br/>\t\t&#125;<br/>\t\tif &#40; %enemy&#46;distance% = 2 &#41; then &#123;<br/>\t\t\tproperty &lt;#retreater#; rt= 1&gt; <br/>\t\t\tmsg &lt;You back away from #retreatee&#46;name# to polearm range&#46;|nRoundtime&#58; $objectproperty&#40;player%userid%; rt&#41;$ seconds|n&gt;<br/>\t\t\tmsgto &lt;#retreatee#; #retreater&#46;name# backs away to polearm range&#46;|n&gt;<br/>\t\t\tfor each object in &lt;#quest&#46;currentroom#&gt; if property &lt;#quest&#46;thing#; player&gt; then &#123;<br/>\t\t\t\tif &#40; $objectproperty&#40;#quest&#46;thing#; name&#41;$ &lt;&gt; #retreater&#46;name# &#41; and &#40; $objectproperty&#40;#quest&#46;thing#; name&#41;$ &lt;&gt; #retreatee&#46;name#&#41; then msgto &lt;#quest&#46;thing#; #retreater&#46;name# backs away from #retreatee&#46;name# to polearm range&#46;|n&gt;<br/>\t\t\t&#125;<br/>\t\t&#125;<br/>\t\tif &#40; %enemy&#46;distance% = 3 &#41; then &#123;<br/>\t\t\tproperty &lt;#retreater#; rt= 2&gt; <br/>\t\t\tmsg &lt;You fall back a bit from #retreatee&#46;name#&#46;|nRoundtime&#58; $objectproperty&#40;player%userid%; rt&#41;$ seconds|n&gt;<br/>\t\t\tmsgto &lt;#retreatee#; #retreater&#46;name# falls back a bit&#46;|n&gt;<br/>\t\t\tfor each object in &lt;#quest&#46;currentroom#&gt; if property &lt;#quest&#46;thing#; player&gt; then &#123;<br/>\t\t\t\tif &#40; $objectproperty&#40;#quest&#46;thing#; name&#41;$ &lt;&gt; #retreater&#46;name# &#41; and &#40; $objectproperty&#40;#quest&#46;thing#; name&#41;$ &lt;&gt; #retreatee&#46;name#&#41; then msgto &lt;#quest&#46;thing#; #retreater&#46;name# falls back from #retreatee&#46;name#&#46;|n&gt;<br/>\t\t\t&#125;<br/>\t\t&#125;<br/>\t\tif &#40; %enemy&#46;distance% = 4 &#41; then &#123;<br/>\t\t\tproperty &lt;#retreater#; rt= 2&gt;<br/>\t\t\tmsg &lt;You withdraw, putting some distance between you and #retreatee&#46;name#&#46;|nRoundtime&#58; $objectproperty&#40;player%userid%; rt&#41;$ seconds|n&gt;<br/>\t\t\tmsgto &lt;#retreatee#; #retreater&#46;name# withdraws, putting some distance between you&#46;|n&gt;<br/>\t\t\tfor each object in &lt;#quest&#46;currentroom#&gt; if property &lt;#quest&#46;thing#; player&gt; then &#123;<br/>\t\t\t\tif &#40; $objectproperty&#40;#quest&#46;thing#; name&#41;$ &lt;&gt; #retreater&#46;name# &#41; and &#40; $objectproperty&#40;#quest&#46;thing#; name&#41;$ &lt;&gt; #retreatee&#46;name#&#41; then msgto &lt;#quest&#46;thing#; #retreater&#46;name# withdraws, putting distance between $objectproperty&#40;player%userid%; sexdesc&#41;$self and #retreatee&#46;name#&#46;|n&gt;<br/>\t\t\t&#125;<br/>\t\t&#125;<br/>\t\tif &#40; %enemy&#46;distance% = 5 &#41; then &#123;<br/>\t\t\tproperty &lt;#retreater#; rt= 3&gt;<br/>\t\t\tmsg &lt;You retreat from #retreatee&#46;name# to a safe distance&#46;|nRoundtime&#58; $objectproperty&#40;player%userid%; rt&#41;$ seconds|n&gt;<br/>\t\t\tmsgto &lt;#retreatee#; #retreater&#46;name# retreats to a safe distance&#46;|n&gt;<br/>\t\t\tfor each object in &lt;#quest&#46;currentroom#&gt; if property &lt;#quest&#46;thing#; player&gt; then &#123;<br/>\t\t\t\tif &#40; $objectproperty&#40;#quest&#46;thing#; name&#41;$ &lt;&gt; #retreater&#46;name# &#41; and &#40; $objectproperty&#40;#quest&#46;thing#; name&#41;$ &lt;&gt; #retreatee&#46;name#&#41; then msgto &lt;#quest&#46;thing#; #retreater&#46;name# retreats to a safe distance from #retreatee&#46;name#&#46;|n&gt;<br/>\t\t\t&#125;<br/>\t\t&#125;<br/>\t&#125;<br/>&#125;<br/>end define<br/><br/></code></pre> <br/><br/><span style=\"font-weight:bold;\">The actual combat system, simply checks if your current weapon is acceptable to attack an enemy with at your current range(which changes when you advance or retreat), checks if you have a weapon to do so with, and then does the math and executes it. You want your total roll to equal over one hundred in order to successfully hit a target, it's determined by your attack strength, weapon enchantment, weapon bonus, and a d100 roll. The output is displayed and then a roundtime is figured and applied to the attacker. It's hard to explain, here's some archaic code to reference.</span><br/><br/><pre><code><br/>define procedure &lt;range-check&gt;<br/>if &#40; $objectproperty&#40;player%userid%; wielded&#41;$ &lt;&gt; null &#41; then set string &lt;weapon; $objectproperty&#40;player%userid%; wielded&#41;$&gt; else set string &lt;weapon; fist&gt;<br/>for &lt;enemy&#46;range; 1; $objectproperty&#40;player%userid%; enemies&#41;$&gt; if &#40; $objectproperty&#40;player%userid%; enemy-%enemy&#46;range%&#41;$ = #target-object# &#41; then &#123;<br/>\tif &#40; $objectproperty&#40;player%userid%; enemy-%enemy&#46;range%-distance&#41;$ &lt;= $objectproperty&#40;#weapon#; range&#41;$ &#41; then do &lt;combat-info&gt; else msg &lt;You must advance within range of your target&#46;|n&gt;<br/>\t&#125;<br/>end define<br/><br/>define procedure &lt;engaged-check&gt;<br/>if &#40; $objectproperty&#40;player%userid%; engaged&#41;$ &lt;&gt; yes &#41; then msg &lt;You are not engaged in combat&#46;|n&gt; else &#123;<br/>\tfor &lt;enemies&#46;engaged; 1; $objectproperty&#40;player%userid%; enemies&#41;$&gt; if &#40; $objectproperty&#40;player%userid%; enemy-%enemies&#46;engaged%&#41;$ &lt;&gt; #target-object# &#41; then msg &lt;You must engage your target first&#46;|n&gt; else do &lt;range-check&gt;<br/>\t&#125;<br/>end define<br/><br/>define procedure &lt;combat-check&gt; <br/>if &#40; player%userid% = #target-object# &#41; then msg &lt;You cannot attack yourself&#46;|n&gt; else &#123;<br/>\tif not &#40; $objectproperty&#40;player%userid%; HP&#41;$ &gt;= 0 &#41; then msg &lt;You are dead&#46;|n&gt; else &#123;<br/>\t\tif &#40; $objectproperty&#40;player%userid%; rt&#41;$ &lt;&gt; 0 &#41; then msg &lt;You haven't recovered enough from your last action to attack anything&#46;|n&gt; else &#123;<br/>\t\tif here &lt;#target-object#&gt; then &#123;<br/>\t\tif property &lt;#target-object#; object&gt; then msg &lt;You cannot attack that&#46;|n&gt; else &#123;<br/>\t\t\tif property &lt;#target-object#; mob&gt; or property &lt;#target-object#; player&gt; then &#123;<br/>\t\t\t\tif &#40; $objectproperty&#40;#target-object#; hp&#41;$ &lt;= 0 &#41; then msg &lt;That is already dead&#46;|n&gt; else &#123;<br/>\t\t\t\t\tset string &lt;mainhand; $objectproperty&#40;player%userid%; mainhand&#41;$&gt;<br/>\t\t\t\t\tif &#40; $objectproperty&#40;player%userid%; wielded&#41;$ = null &#41; and &#40; $objectproperty&#40;#mainhand#; held&#41;$ &lt;&gt; null &#41; then msg &lt;You must wield a weapon or empty your hand before attacking&#46;|n&gt; else do &lt;engaged-check&gt;<br/>\t\t\t\t&#125;<br/>\t\t\t&#125;<br/>\t\t&#125;<br/>\t\telse msg &lt;I could not find what you were referring to&#46;|n&gt;<br/>\t\t&#125;<br/>\t\t&#125;\t<br/>\t&#125;<br/>\t&#125;<br/>end define<br/><br/>define procedure &lt;combat-info&gt;<br/>\tproperty &lt;player%userid%; attacking=#target-object#&gt;<br/>\tset string &lt;attacker; player%userid%&gt;<br/>\tset string &lt;attacker-name; $objectproperty&#40;player%userid%; name&#41;$&gt;<br/>\tset string &lt;defender; #target-object#&gt;<br/>\tset string &lt;defender-name; $objectproperty&#40;#defender#; name&#41;$&gt;<br/>\tset numeric &lt;defender-con; $objectproperty&#40;#defender#; CON&#41;$&gt;<br/>\tset numeric &lt;defender-con-factor; %defender-con% / 10&gt;<br/>\tset string &lt;attacker-wielded; $objectproperty&#40;#attacker#; wielded&#41;$&gt;<br/>\tif &#40; $objectproperty&#40;#attacker#; wielded&#41;$ &lt;&gt; null &#41; then set string &lt;weapon-type; $objectproperty&#40;#attacker-wielded#; type&#41;$&gt; else set string &lt;weapon-type; fist&gt;<br/>\tset numeric &lt;types; $objectproperty&#40;#weapon-type#; types&#41;$&gt;<br/>\tset numeric &lt;attack-type-number; $rand&#40;1;%types%&#41;$&gt;<br/>\tset string &lt;attack-type; $objectproperty&#40;#weapon-type#; %attack-type-number%&#41;$&gt;<br/>\tset string &lt;attack-type-plural; $objectproperty&#40;#weapon-type#; %attack-type-number%-plural&#41;$&gt;<br/>\tset string &lt;attacker-readied; $objectproperty&#40;#attacker#; readied&#41;$&gt;<br/>\tif &#40; #attacker-wielded# &lt;&gt; null &#41; then set string &lt;attacker-wielded-short; $objectproperty&#40;#attacker-wielded#; short&#41;$&gt; else set string &lt;attacker-wielded-short; a bare fist&gt;<br/>\tset string &lt;defender-wielded; $objectproperty&#40;#defender#; wielded&#41;$&gt;<br/>\tset string &lt;defender-readied; $objectproperty&#40;#defender#; readied&#41;$&gt;<br/>\tset numeric &lt;attacker-bonus; $objectproperty&#40;#attacker#; as-boost&#41;$&gt;<br/>\tset numeric &lt;attacker-base-strength; $objectproperty&#40;#attacker#; STR&#41;$ / 4&gt;<br/>\tset numeric &lt;attacker-base-speed; $objectproperty&#40;#attacker#; DEX&#41;$ / 20&gt;<br/>\tif &#40; #attacker-wielded# = null &#41; then set numeric &lt;attacker-wielded-weight; 0&gt; else &#123;<br/>\t\tif property &lt;#attacker-wielded#; weight&gt; then set numeric &lt;attacker-wielded-weight; $objectproperty&#40;#attacker-wielded#; weight&#41;$&gt; else set numeric &lt;attacker-wielded-weight; $objectproperty&#40;#weapon-type#; weight&#41;$&gt;<br/>\t\t&#125;<br/>\tif &#40; #attacker-wielded# = null &#41; then set numeric &lt;attacker-wielded-speed; 0&gt; else &#123;<br/>\t\tif property &lt;#attacker-wielded#; speed&gt; then set numeric &lt;attacker-wielded-speed; $objectproperty&#40;#attacker-wielded#; speed&#41;$&gt; else set numeric &lt;attacker-wielded-speed; $objectproperty&#40;#weapon-type#; speed&#41;$&gt;<br/>\t\t&#125;<br/>\tset numeric &lt;attacker-wielded-rt; %attacker-wielded-weight% + %attacker-wielded-speed%&gt;<br/>\tset numeric &lt;attacker-skill-rt; 10 - %attacker-base-speed%&gt;<br/>\tset numeric &lt;attacker-rt; %attacker-wielded-rt% + %attacker-skill-rt%&gt;<br/>\tif &#40; #attacker-wielded# &lt;&gt; null &#41; then set numeric &lt;attacker-wielded-bonus; $objectproperty&#40;#attacker-wielded#; bonus&#41;$&gt; else set numeric &lt;attacker-wielded-bonus; 0&gt;<br/>\tset numeric &lt;attacker-stance; $objectproperty&#40;#attacker#; stance&#41;$&gt;<br/>\tset numeric &lt;attacker-stance-base; %attacker-base-strength% / %attacker-stance%&gt;<br/>\tset numeric &lt;defender-base-defense; $objectproperty&#40;#defender#; DEX&#41;$ / 4&gt;<br/>\tset numeric &lt;defender-stance; $objectproperty&#40;#defender#; stance&#41;$&gt;<br/>\tset numeric &lt;defender-stance-base; %defender-base-defense% * %defender-stance%&gt;<br/>\tif &#40; #defender-wielded# &lt;&gt; null &#41; then set numeric &lt;defender-wielded-bonus; $objectproperty&#40;#defender-wielded#; bonus&#41;$ / 2&gt; else set numeric &lt;defender-wielded-bonus; 0&gt;<br/>\tif &#40; #defender-wielded# &lt;&gt; null &#41; then set numeric &lt;defender-readied-bonus; $objectproperty&#40;#defender-readied#; bonus&#41;$&gt; else set numeric &lt;defender-readied-bonus; 0&gt;<br/>\tset numeric &lt;defender-equip-bonus; %defender-wielded-bonus% + %defender-readied-bonus%&gt;<br/>\tset numeric &lt;weapon-attack-strength; %attacker-stance-base% + %attacker-wielded-bonus%&gt;<br/>\tset numeric &lt;attack-strength; %weapon-attack-strength% + %attacker-bonus%&gt;<br/>\tset numeric &lt;defense-strength; %defender-stance-base% + %defender-equip-bonus%&gt;<br/>\tset numeric &lt;d100; $rand&#40;1;100&#41;$&gt;<br/>\tset numeric &lt;as-ds; %attack-strength% - %defense-strength%&gt;<br/>\tset numeric &lt;endroll; %as-ds% + %d100%&gt;<br/>\tset numeric &lt;endnum; %endroll% - 100&gt;<br/>\tif &#40; %endroll% &lt;= 100 &#41; then set string &lt;combat-message; A clean miss!&gt; else &#123;<br/>\t\tset numeric &lt;damage-num; %endnum% - %defender-con-factor%&gt;<br/>\t\tif &#40; %damage-num% &lt;= 0 &#41; then set numeric &lt;damage; 1&gt; else set numeric &lt;damage; %damage-num%&gt;<br/>\t\tset numeric &lt;new-hp; $objectproperty&#40;#defender#; hp&#41;$ - %damage%&gt;<br/>\t\tif &#40; %endnum% &gt;= 1 &#41; and &#40; %endnum% &lt;= 20 &#41; then set string &lt;combat-message; $objectproperty&#40;#weapon-type#; %attack-type-number%-1&#41;$ %damage% damage!&gt;<br/>\t\tif &#40; %endnum% &gt;= 20 &#41; and &#40; %endnum% &lt;= 40 &#41; then set string &lt;combat-message; $objectproperty&#40;#weapon-type#; %attack-type-number%-2&#41;$ %damage% damage!&gt;<br/>\t\tif &#40; %endnum% &gt;= 40 &#41; and &#40; %endnum% &lt;= 60 &#41; then set string &lt;combat-message; $objectproperty&#40;#weapon-type#; %attack-type-number%-3&#41;$ %damage% damage!&gt;<br/>\t\tif &#40; %endnum% &gt;= 60 &#41; and &#40; %endnum% &lt;= 80 &#41; then set string &lt;combat-message; $objectproperty&#40;#weapon-type#; %attack-type-number%-4&#41;$ %damage% damage!&gt;<br/>\t\tif &#40; %endnum% &gt;= 80 &#41; then set string &lt;combat-message; $objectproperty&#40;#weapon-type#; %attack-type-number%-5&#41;$ %damage% damage!&gt;<br/>\t\tproperty &lt;#defender#; hp=%new-hp%&gt;<br/>\t&#125;<br/>\tif &#40; $objectproperty&#40;#defender#; hp&#41;$ &lt;= 0 &#41; then set string &lt;combat-message; #combat-message#|n#defender-name# slumps to the ground and ceases living!&gt;<br/>\tmsg &lt;You #attack-type# at #defender-name# with #attacker-wielded-short#!|nAS&#58; %attack-strength% vs DS&#58; %defense-strength% + d100 roll&#58; %d100% = %endroll%|n#combat-message#|nRoundtime&#58; %attacker-rt% seconds|n|n&gt;<br/>\tif not property &lt;#defender#; mob&gt; then msgto &lt;#defender#; #attacker-name# #attack-type-plural# at you with #attacker-wielded-short#!|nAS&#58; %attack-strength% vs DS&#58; %defense-strength% + d100 roll&#58; %d100% = %endroll%|n#combat-message#|n|n&gt;<br/>\tdo &lt;activate-rt&gt;<br/>end define<br/></code></pre><br/><br/><span style=\"font-weight:bold;\">Now the RT procedure</span><br/><br/><pre><code><br/>define procedure &lt;activate-rt&gt;<br/>\tproperty &lt;player%userid%; rt=%attacker-rt%&gt;<br/>end define<br/></code></pre>",
      "PostDate": "2003-12-16T00:20:50+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "1814",
      "UserId": 0,
      "Username": "I think Im Dead",
      "UserAvatar": null,
      "UserGravatar": "662782b48efa4728f8d0773b83c01ddf",
      "EditableText": "The time running script makes all this come together, and it's a procedure to be included as well.\n\n[code:3rthmzl1]\ndefine procedure &lt;time&gt;\n'\n'Basic time running part of the script, goes through 24 hours of each day&#46;&#46;&#46; Note&#58; expand to include days, months, and years for wider range of use&#46;\n'\n\tset numeric &lt;second-time; $objectproperty&#40;game&#46;info; second-time&#41;$ + 01&gt;\n\tif &#40; %second-time% &gt;= 60 &#41; then &#123;\n\t\tset numeric &lt;minute-time; $objectproperty&#40;game&#46;info; minute-time&#41;$ +01&gt;\n\t\tset numeric &lt;second-time; 0&gt;\n\t\tset string &lt;s-format; %second-time%&gt;\n\t\tif &#40; $lengthof&#40;#s-format#&#41;$ = 1 &#41; then set string &lt;second-time; 0%second-time%&gt; else set string &lt;second-time; %second-time%&gt;\n\t\tif &#40; %minute-time% &gt;= 60 &#41; then &#123;\n\t\t\tset numeric &lt;hour-time; $objectproperty&#40;game&#46;info; hour-time&#41;$ +01&gt;\n\t\t\tset numeric &lt;minute-time; 0&gt;\n\t\t\tset string &lt;m-format; %minute-time%&gt;\n\t\t\tif &#40; $lengthof&#40;#m-format#&#41;$ = 1 &#41; then set string &lt;minute-time; 0%minute-time%&gt; else set string &lt;minute-time; %minute-time%&gt;\n\t\t\tif &#40; %hour-time% &gt;= 24 &#41; then &#123;\n\t\t\t\tset numeric &lt;hour-time; 0&gt;\n\t\t\t\tset string &lt;h-format; %hour-time%&gt;\n\t\t\t\tif &#40; $lengthof&#40;#h-format#&#41;$ = 1 &#41; then set string &lt;hour-time; 0%hour-time%&gt; else set string &lt;hour-time; %hour-time%&gt;\n\t\t\t&#125;\n\t\t\telse set string &lt;h-format; %hour-time%&gt;\n\t\t\tif &#40; $lengthof&#40;#h-format#&#41;$ = 1 &#41; then set string &lt;hour-time; 0%hour-time%&gt; else set string &lt;hour-time; %hour-time%&gt;\n\t\t\tproperty &lt;game&#46;info; hour-time=#hour-time#&gt;\n\t\t\tset string &lt;time; $objectproperty&#40;game&#46;info; hour-time&#41;$&#58;$objectproperty&#40;game&#46;info; minute-time&#41;$&#58;$objectproperty&#40;game&#46;info; second-time&#41;$&gt;\n\t\t&#125;\n\t\telse set string &lt;m-format; %minute-time%&gt;\n\t\tif &#40; $lengthof&#40;#m-format#&#41;$ = 1 &#41; then set string &lt;minute-time; 0%minute-time%&gt; else set string &lt;minute-time; %minute-time%&gt;\n\t\tproperty &lt;game&#46;info; minute-time=#minute-time#&gt;\n\t\tset string &lt;time; $objectproperty&#40;game&#46;info; hour-time&#41;$&#58;$objectproperty&#40;game&#46;info; minute-time&#41;$&#58;$objectproperty&#40;game&#46;info; second-time&#41;$&gt;\n\t&#125;\n\telse set string &lt;s-format; %second-time%&gt;\n\tif &#40; $lengthof&#40;#s-format#&#41;$ = 1 &#41; then set string &lt;second-time; 0%second-time%&gt; else set string &lt;second-time; %second-time%&gt;\t\n\tproperty &lt;game&#46;info; second-time=#second-time#&gt;\n\tset string &lt;time; $objectproperty&#40;game&#46;info; hour-time&#41;$&#58;$objectproperty&#40;game&#46;info; minute-time&#41;$&#58;$objectproperty&#40;game&#46;info; second-time&#41;$&gt;\n'\t\n'Roundtime modifying part of the script&#46;\n'\n\tfor each object in game &#123;\n\t\tif property &lt;#quest&#46;thing#; rt&gt; then &#123;\n\t\t\tif &#40; $objectproperty&#40;#quest&#46;thing#; rt&#41;$ &lt;&gt; 0 &#41; then &#123;\n\t\t\t\tset numeric &lt;#quest&#46;thing#-rt; $objectproperty&#40;#quest&#46;thing#; rt&#41;$ - 1&gt;\n\t\t\t\tproperty &lt;#quest&#46;thing#; rt=%#quest&#46;thing#-rt%&gt;\n\t\t\t\tif &#40; $objectproperty&#40;#quest&#46;thing#; rt&#41;$ = 0 &#41; then msgto &lt;#quest&#46;thing#; You feel ready to move again&#46;|n&gt;\n\t\t\t&#125;\n\t\t&#125;\n\t&#125;\n'\n'\n'\n\ttimeron &lt;time&gt;\nend define\n[/code:3rthmzl1]\n\n[b:3rthmzl1]And also the timer needs to be placed in the code for the time procedure to function.[/b:3rthmzl1]\n\n[code:3rthmzl1]\ndefine timer &lt;time&gt;\n\tinterval &lt;1&gt;\n\taction do &lt;time&gt;\n\tenabled\nend define\n[/code:3rthmzl1]\n\n[b:3rthmzl1]In a cosmetic factor, you may want the timer to give off the actual time, you can set this with the following commands. They contain IF situations, I used user levels(usrlvl) as a way, ie; admins are a high user level, super admin can set clock, you can easily change this to something like if the $name(player%userid%)$ is equal to your usual name or whatever.[/b:3rthmzl1]\n\n[code:3rthmzl1]\n\tcommand &lt;set-hour #new-hour#&gt; if &#40; $objectproperty&#40;player%userid%; usrlvl&#41;$ &gt;= 5 &#41; then msg &lt;I don't understand what you typed&#46;|n&gt; else &#123;\n\t\tif &#40; $lengthof&#40;#new-hour#&#41;$ = 1 &#41; then set string &lt;hour-time; 0#new-hour#&gt; else set string &lt;hour-time; #new-hour#&gt;\n\t\tproperty &lt;game&#46;info; hour-time=#hour-time#&gt;\n\t\tmsg &lt;You set the current hour to #new-hour#&#46; The current time is now $objectproperty&#40;game&#46;info; hour-time&#41;$&#58;$objectproperty&#40;game&#46;info; minute-time&#41;$&#58;$objectproperty&#40;game&#46;info; second-time&#41;$ PST&#46;|n&gt;\n\t&#125;\n\tcommand &lt;set-minute #new-minute#&gt; if &#40; $objectproperty&#40;player%userid%; usrlvl&#41;$ &gt;= 5 &#41; then msg &lt;I don't understand what you typed&#46;|n&gt; else &#123;\n\t\tif &#40; $lengthof&#40;#new-minute#&#41;$ = 1 &#41; then set string &lt;minute-time; 0#new-minute#&gt; else set string &lt;minute-time; #new-minute#&gt;\n\t\tproperty &lt;game&#46;info; minute-time=#minute-time#&gt;\n\t\tmsg &lt;You set the current minute to #new-minute#&#46; The current time is now $objectproperty&#40;game&#46;info; hour-time&#41;$&#58;$objectproperty&#40;game&#46;info; minute-time&#41;$&#58;$objectproperty&#40;game&#46;info; second-time&#41;$ PST&#46;|n&gt;\n\t&#125;\n\tcommand &lt;set-second #new-second#&gt; if &#40; $objectproperty&#40;player%userid%; usrlvl&#41;$ &gt;= 5 &#41; then msg &lt;I don't understand what you typed&#46;|n&gt; else &#123;\n\t\tif &#40; $lengthof&#40;#new-second#&#41;$ = 1 &#41; then set string &lt;second-time; 0#new-second#&gt; else set string &lt;second-time; #new-second#&gt;\n\t\tproperty &lt;game&#46;info; second-time=#second-time#&gt;\n\t\tmsg &lt;You set the current second to #new-second#&#46; The current time is now $objectproperty&#40;game&#46;info; hour-time&#41;$&#58;$objectproperty&#40;game&#46;info; minute-time&#41;$&#58;$objectproperty&#40;game&#46;info; second-time&#41;$ PST&#46;|n&gt;\n\t&#125;\n[/code:3rthmzl1]\n\n[b:3rthmzl1] At the time this was made, Quest had a few more glitches than it does now, and wouldn't let one procedure reference another procedure at times, and other such inconveniences, so a cheat guide has been included of everything flat out that needs to be added. Also commands to properly call all the functions are needed, so they are included as well[/b:3rthmzl1]\n\n\n[b:3rthmzl1]PROCEDURES[/b:3rthmzl1]\n[code:3rthmzl1]\ndefine procedure &lt;login&gt;\n\t\tproperty &lt;player%userid%; name=$objectproperty&#40;#login-name#-charsheet; name&#41;$&gt;\n\t\tproperty &lt;player%userid%; race=$objectproperty&#40;#login-name#-charsheet; race&#41;$&gt;\n\t\tproperty &lt;player%userid%; look=$objectproperty&#40;#login-name#-charsheet; look&#41;$&gt;\n\t\tproperty &lt;player%userid%; stance=$objectproperty&#40;#login-name#-charsheet; stance&#41;$&gt;\n\t\tproperty &lt;player%userid%; readied=$objectproperty&#40;#login-name#-charsheet; readied&#41;$&gt;\n\t\tproperty &lt;player%userid%; wielded=$objectproperty&#40;#login-name#-charsheet; wielded&#41;$&gt;\n\t\tproperty &lt;player%userid%; STR=$objectproperty&#40;#login-name#-charsheet; STR&#41;$&gt;\n\t\tproperty &lt;player%userid%; CON=$objectproperty&#40;#login-name#-charsheet; CON&#41;$&gt;\n\t\tproperty &lt;player%userid%; DEX=$objectproperty&#40;#login-name#-charsheet; DEX&#41;$&gt;\n\t\tproperty &lt;player%userid%; INT=$objectproperty&#40;#login-name#-charsheet; INT&#41;$&gt;\n\t\tproperty &lt;player%userid%; WIS=$objectproperty&#40;#login-name#-charsheet; WIS&#41;$&gt;\n\t\tproperty &lt;player%userid%; AUR=$objectproperty&#40;#login-name#-charsheet; AUR&#41;$&gt;\n\t\tproperty &lt;player%userid%; CHA=$objectproperty&#40;#login-name#-charsheet; CHA&#41;$&gt;\n\t\tproperty &lt;player%userid%; DIS=$objectproperty&#40;#login-name#-charsheet; DIS&#41;$&gt;\n\t\tproperty &lt;player%userid%; HP-MAX=$objectproperty&#40;#login-name#-charsheet; HP-MAX&#41;$&gt;\n\t\tproperty &lt;player%userid%; HP=$objectproperty&#40;#login-name#-charsheet; HP&#41;$&gt;\n\t\tproperty &lt;player%userid%; rt=$objectproperty&#40;#login-name#-charsheet; rt&#41;$&gt;\nend define\ndefine procedure &lt;take-check&gt; if here &lt;#target-object#&gt; then &#123;\n\tif property &lt;#target-object#; take&gt; then exec &lt;take-do&gt; else msg &lt;You cannot take that&#46;|n&gt;&#125;\n\telse msg &lt;I could not find what you were referring to&#46;|n&gt;\t\nend define\ndefine procedure &lt;take-do&gt; if &#40; $objectproperty&#40;player%userid%-r-hand; held&#41;$ = null &#41; then &#123;\n\t\tmove &lt;#target-object#; player%userid%-r-hand&gt;\n\t\tproperty &lt;player%userid%-r-hand; held=#target-object#&gt;\n\t\tmsg &lt;You pick up the $displayname&#40;#target-object# with your right hand&#46;|n&gt;\n\t&#125;\n\telse &#123;\n\t\tif &#40; $objectproperty&#40;player%userid%-l-hand; held&#41;$ = null &#41; then &#123;\n\t\t\tmove &lt;#target-object#; player%userid%-l-hand&gt;\n\t\t\tproperty &lt;player%userid%-l-hand; held=#target-object#&gt;\n\t\t\tmsg &lt;You pick up the #target-object# with your left hand&#46;|n&gt;\n\t\t&#125;\n\t\telse msg &lt;Both of your hands are full&#46;|n&gt;\n\t&#125;\n\nend define\ndefine procedure &lt;look&gt; if here &lt;#target-object#&gt; then &#123; \n\tif &#40; $objectproperty&#40;#target-object#;look&#41;$ &lt;&gt; null &#41; then msg &lt;$objectproperty&#40;#target-object#; look&#41;$|n&gt; else &#123;\n\t\tmsg &lt;You notice nothing in particular about $objectproperty&#40;#target-object#; short&#41;$&#46;|n&gt;\n\t&#125;\n\telse msg &lt;I could not find what you were referring to&#46;|n&gt;\n\t&#125;\nend define\ndefine procedure &lt;drop&gt;\nif not &#40; $objectproperty&#40;player%userid%; HP&#41;$ &gt;= 0 &#41; then msg &lt;You are dead&#46;|n&gt; else &#123;\n\tif &#40; $objectproperty&#40;player%userid%; rt&#41;$ &lt;&gt; 0 &#41; then msg &lt;You haven't recovered enough from your last action to drop anything&#46;|n&gt; else &#123;\n\tif &#40; $objectproperty&#40;player%userid%-r-hand; held-name&#41;$ = #target-object# &#41; or &#40; $objectproperty&#40;player%userid%-l-hand; held-name&#41;$ = #target-object# &#41; then &#123;\n\t\tif &#40; $objectproperty&#40;player%userid%-r-hand; held-name&#41;$ = #target-object# &#41; then &#123;\n\t\t\tif &#40; $objectproperty&#40;player%userid%; offhand&#41;$ = player%userid%-r-hand &#41; then property &lt;player%userid%; readied=null&gt;\n\t\t\tif &#40; $objectproperty&#40;player%userid%; mainhand&#41;$ = player%userid%-r-hand &#41; then property &lt;player%userid%; wielded=null&gt;\n\t\t\tset string &lt;target-object; $objectproperty&#40;player%userid%-r-hand; held&#41;$&gt;\n\t\t\tmove &lt;#target-object#; #quest&#46;currentroom&#91;userid&#93;#&gt;\n\t\t\tproperty &lt;player%userid%-r-hand; held=null&gt;\n\t\t\tproperty &lt;player%userid%-r-hand; held-name=null&gt;\n\t\t\tproperty &lt;player%userid%-r-hand; held-short=a bare fist&gt;\n\t\t\tproperty &lt;player%userid%-r-hand; held-display=nothing&gt;\n\t\t\tmsg &lt;You drop $objectproperty&#40;#target-object#; short&#41;$ from your right hand&#46;|n&gt;\n\t\t&#125;\n\t\tif &#40; $objectproperty&#40;player%userid%-l-hand; held-name&#41;$ = #target-object# &#41; then &#123;\n\t\t\tif &#40; $objectproperty&#40;player%userid%; offhand&#41;$ = player%userid%-l-hand &#41; then property &lt;player%userid%; readied=null&gt;\n\t\t\tif &#40; $objectproperty&#40;player%userid%; mainhand&#41;$ = player%userid%-l-hand &#41; then property &lt;player%userid%; wielded=null&gt;\n\t\t\tset string &lt;target-object; $objectproperty&#40;player%userid%-l-hand; held&#41;$&gt;\n\t\t\tmove &lt;#target-object#; #quest&#46;currentroom&#91;userid&#93;#&gt;\n\t\t\tproperty &lt;player%userid%-l-hand; held=null&gt;\n\t\t\tproperty &lt;player%userid%-l-hand; held-name=null&gt;\n\t\t\tproperty &lt;player%userid%-l-hand; held-short=a bare fist&gt;\n\t\t\tproperty &lt;player%userid%-l-hand; held-display=nothing&gt;\n\t\t\tmsg &lt;You drop $objectproperty&#40;#target-object#; short&#41;$ from your left hand&#46;|n&gt;\n\t\t&#125;\n\t&#125;\n\telse msg &lt;You are not holding that&#46;|n&gt;\n\t&#125;\n\t&#125;\nend define\ndefine procedure &lt;glance&gt;\n\tmsg &lt;You have $objectproperty&#40;player%userid%-r-hand; held-display&#41;$ in your right hand and $objectproperty&#40;player%userid%-l-hand; held-display&#41;$ in your left hand&#46;|n&gt;\nend define\n'\n' SwAP PROCEDURES\n'\ndefine procedure &lt;swap-check&gt;\n\tif not &#40; $objectproperty&#40;player%userid%; HP&#41;$ &gt;= 0 &#41; then msg &lt;You are dead&#46;|n&gt; else &#123;\n\t\tif &#40; $objectproperty&#40;player%userid%; rt&#41;$ &lt;&gt; 0 &#41; then msg &lt;You haven't recovered enough from your last action to swap your hands&#46;|n&gt; else &#123;\n\t\t\tset string &lt;r-held; $objectproperty&#40;player%userid%-r-hand; held&#41;$&gt;\n\t\t\tset string &lt;l-held; $objectproperty&#40;player%userid%-l-hand; held&#41;$&gt;\n\t\t\tif exists &lt;#r-held#&gt; and exists &lt;#l-held#&gt; then do &lt;swap-both&gt; else &#123;\n\t\t\t\tif exists &lt;#r-held#&gt; and not exists &lt;#l-held#&gt; then do &lt;swap-right&gt; else &#123;\t\t\n\t\t\t\t\tif exists &lt;#l-held#&gt; and not exists &lt;#r-held#&gt; then do &lt;swap-left&gt; else msg &lt;You fidget with your hands&#46;|n&gt;\n\t\t\t\t&#125; \n\t\t\t&#125; \n\t\t&#125; \n\t&#125;\nend define\ndefine procedure &lt;swap-right&gt;\n\tif &#40; $objectproperty&#40;player%userid%; offhand&#41;$ = player%userid%-r-hand &#41; then property &lt;player%userid%; readied=null&gt;\n\tif &#40; $objectproperty&#40;player%userid%; mainhand&#41;$ = player%userid%-r-hand &#41; then property &lt;player%userid%; wielded=null&gt;\n\tset string &lt;r-object; $objectproperty&#40;player%userid%-r-hand; held&#41;$&gt;\n\tmove &lt;#r-object#; player%userid%-l-hand&gt;\n\tproperty &lt;player%userid%-r-hand; held=null&gt;\n\tproperty &lt;player%userid%-r-hand; held-name=null&gt;\n\tproperty &lt;player%userid%-r-hand; held-short=a bare fist&gt;\n\tproperty &lt;player%userid%-r-hand; held-display=nothing&gt;\n\tproperty &lt;player%userid%-l-hand; held=#r-object#&gt;\n\tproperty &lt;player%userid%-l-hand; held-name=$displayname&#40;#r-object#&#41;$&gt;\n\tproperty &lt;player%userid%-l-hand; held-short=$objectproperty&#40;#r-object#; short&#41;$&gt;\n\tif property &lt;#r-object#; prefix&gt; then property &lt;player%userid%-l-hand; held-display=$objectproperty&#40;#r-object#; prefix&#41;$ $displayname&#40;#r-object#&#41;$&gt;\n\tif property &lt;#r-object#; suffix&gt; then property &lt;player%userid%-l-hand; held-display=$objectproperty&#40;#r-object#; prefix&#41;$ $displayname&#40;#r-object#&#41;$$objectproperty&#40;#r-object#; suffix&#41;$&gt;\n\tmsg &lt;Ok&#46;|n&gt;\nend define\ndefine procedure &lt;swap-left&gt;\n\tif &#40; $objectproperty&#40;player%userid%; offhand&#41;$ = player%userid%-l-hand &#41; then property &lt;player%userid%; readied=null&gt;\n\tif &#40; $objectproperty&#40;player%userid%; mainhand&#41;$ = player%userid%-l-hand &#41; then property &lt;player%userid%; wielded=null&gt;\n\tset string &lt;l-object; $objectproperty&#40;player%userid%-l-hand; held&#41;$&gt;\n\tmove &lt;#l-object#; player%userid%-r-hand&gt;\n\tproperty &lt;player%userid%-l-hand; held=null&gt;\n\tproperty &lt;player%userid%-l-hand; held-name=null&gt;\n\tproperty &lt;player%userid%-l-hand; held-short=a bare fist&gt;\n\tproperty &lt;player%userid%-l-hand; held-display=nothing&gt;\n\tproperty &lt;player%userid%-r-hand; held=#l-object#&gt;\n\tproperty &lt;player%userid%-r-hand; held-name=$displayname&#40;#l-object#&#41;$&gt;\n\tproperty &lt;player%userid%-r-hand; held-short=$objectproperty&#40;#l-object#; short&#41;$&gt;\n\tif property &lt;#l-object#; prefix&gt; then property &lt;player%userid%-r-hand; held-display=$objectproperty&#40;#l-object#; prefix&#41;$ $displayname&#40;#l-object#&#41;$&gt;\n\tif property &lt;#l-object#; suffix&gt; then property &lt;player%userid%-r-hand; held-display=$objectproperty&#40;#l-object#; prefix&#41;$ $displayname&#40;#l-object#&#41;$$objectproperty&#40;#l-object#; suffix&#41;$&gt;\n\tmsg &lt;Ok&#46;|n&gt;\nend define\ndefine procedure &lt;swap-both&gt;\n\tif &#40; $objectproperty&#40;player%userid%; offhand&#41;$ = player%userid%-r-hand &#41; or &#40; $objectproperty&#40;player%userid%; offhand&#41;$ = player%userid%-l-hand &#41; then property &lt;player%userid%; readied=null&gt;\n\tif &#40; $objectproperty&#40;player%userid%; mainhand&#41;$ = player%userid%-r-hand &#41; or &#40; $objectproperty&#40;player%userid%; mainhand&#41;$ = player%userid%-l-hand &#41; then property &lt;player%userid%; wielded=null&gt;\n\tset string &lt;r-object; $objectproperty&#40;player%userid%-r-hand; held&#41;$&gt;\n\tset string &lt;l-object; $objectproperty&#40;player%userid%-l-hand; held&#41;$&gt;\n\tmove &lt;#r-object#; player%userid%-l-hand&gt;\n\tmove &lt;#l-object#; player%userid%-r-hand&gt;\n\tproperty &lt;player%userid%-l-hand; held=#r-object#&gt;\n\tproperty &lt;player%userid%-r-hand; held=#l-object#&gt;\n\tproperty &lt;player%userid%-l-hand; held-name=$displayname&#40;#r-object#&#41;$&gt;\n\tproperty &lt;player%userid%-r-hand; held-name=$displayname&#40;#l-object#&#41;$&gt;\n\tproperty &lt;player%userid%-l-hand; held-short=$objectproperty&#40;#r-object#; short&#41;$&gt;\n\tproperty &lt;player%userid%-r-hand; held-short=$objectproperty&#40;#l-object#; short&#41;$&gt;\n\tif property &lt;#l-object#; prefix&gt; then property &lt;player%userid%-r-hand; held-display=$objectproperty&#40;#l-object#; prefix&#41;$ $displayname&#40;#l-object#&#41;$&gt;\n\tif property &lt;#l-object#; suffix&gt; then property &lt;player%userid%-r-hand; held-display=$objectproperty&#40;#l-object#; prefix&#41;$ $displayname&#40;#l-object#&#41;$$objectproperty&#40;#l-object#; suffix&#41;$&gt;\n\tif property &lt;#r-object#; prefix&gt; then property &lt;player%userid%-l-hand; held-display=$objectproperty&#40;#r-object#; prefix&#41;$ $displayname&#40;#r-object#&#41;$&gt;\n\tif property &lt;#r-object#; suffix&gt; then property &lt;player%userid%-l-hand; held-display=$objectproperty&#40;#r-object#; prefix&#41;$ $displayname&#40;#r-object#&#41;$$objectproperty&#40;#r-object#; suffix&#41;$&gt;\n\tmsg &lt;Ok&#46;|n&gt;\nend define\ndefine procedure &lt;ready&gt;\nif not &#40; $objectproperty&#40;player%userid%; HP&#41;$ &gt;= 0 &#41; then msg &lt;You are dead&#46;|n&gt; else &#123;\n\tif &#40; $objectproperty&#40;player%userid%; rt&#41;$ &lt;&gt; 0 &#41; then msg &lt;You haven't recovered enough from your last action to ready anything&#46;|n&gt; else &#123;\n\tset string &lt;offhand; $objectproperty&#40;player%userid%; offhand&#41;$&gt;\n\tif &#40; $objectproperty&#40;#offhand#; held&#41;$ &lt;&gt; null &#41; then &#123;\n\t\tif property &lt;$objectproperty&#40;#offhand#; held&#41;$; weapon&gt; or property &lt;$objectproperty&#40;#offhand#; held&#41;$; shield&gt; then &#123;\n\t\t\tset string &lt;readied; $objectproperty&#40;#offhand#; held&#41;$&gt;\n\t\t\tproperty &lt;player%userid%; readied=#readied#&gt;\n\t\t\tmsg &lt;You ready $objectproperty&#40;#readied#; short&#41;$&#46;|n&gt;\n\t\t&#125;\n\t\telse msg &lt;You cannot ready that&#46;|n&gt;\n\t&#125;\n\telse msg &lt;You are not carrying anything to ready in your left hand&#46;|n&gt;\n\t&#125;\n\t&#125;\nend define\ndefine procedure &lt;wield&gt;\nif not &#40; $objectproperty&#40;player%userid%; HP&#41;$ &gt;= 0 &#41; then msg &lt;You are dead&#46;|n&gt; else &#123;\n\tif &#40; $objectproperty&#40;player%userid%; rt&#41;$ &lt;&gt; 0 &#41; then msg &lt;You haven't recovered enough from your last action to wield anything&#46;|n&gt; else &#123;\n\tset string &lt;mainhand; $objectproperty&#40;player%userid%; mainhand&#41;$&gt;\n\tif &#40; $objectproperty&#40;#mainhand#; held&#41;$ &lt;&gt; null &#41; then &#123;\n\t\tif property &lt;$objectproperty&#40;#mainhand#; held&#41;$; weapon&gt; then &#123;\n\t\t\tset string &lt;wielded; $objectproperty&#40;#mainhand#; held&#41;$&gt;\n\t\t\tproperty &lt;player%userid%; wielded=#wielded#&gt;\n\t\t\tmsg &lt;You wield $objectproperty&#40;#wielded#; short&#41;$&#46;|n&gt;\n\t\t&#125;\n\t\telse msg &lt;You cannot wield that&#46;|n&gt;\n\t&#125;\n\telse msg &lt;You are not carrying anything to wield&#46;|n&gt;\n\t&#125;\n\t&#125;\nend define\n\ndefine procedure &lt;stance defensive&gt;\n\tproperty &lt;player%userid%; stance=5&gt;\n\tproperty &lt;player%userid%; stance-display=defensive&gt;\n\tmsg &lt;You move into a defensive stance&#46;|n&gt;\nend define\ndefine procedure &lt;stance guarded&gt;\n\tproperty &lt;player%userid%; stance=4&gt;\n\tproperty &lt;player%userid%; stance-display=guarded&gt;\n\tmsg &lt;You move into a guarded stance&#46;|n&gt;\nend define\ndefine procedure &lt;stance neutral&gt;\n\tproperty &lt;player%userid%; stance=3&gt;\n\tproperty &lt;player%userid%; stance-display=neutral&gt;\n\tmsg &lt;You move into a neutral stance&#46;|n&gt;\nend define\ndefine procedure &lt;stance forward&gt;\n\tproperty &lt;player%userid%; stance=2&gt;\n\tproperty &lt;player%userid%; stance-display=forward&gt;\n\tmsg &lt;You move into a forward stance&#46;|n&gt;\nend define\ndefine procedure &lt;stance offensive&gt;\n\tproperty &lt;player%userid%; stance=1&gt;\n\tproperty &lt;player%userid%; stance-display=offensive&gt;\n\tmsg &lt;You move into a offensive stance&#46;|n&gt;\nend define\ndefine procedure &lt;defensive-stance-rt-check&gt;\n\tif not &#40; $objectproperty&#40;player%userid%; HP&#41;$ &gt;= 0 &#41; then msg &lt;You are dead&#46;|n&gt; else &#123;\n\t\tif &#40; $objectproperty&#40;player%userid%; rt&#41;$ = 0 &#41; then do &lt;stance defensive&gt; else msg &lt;You haven't recovered enough from your last action to take a defensive stance&#46;|n&gt;\n\t&#125;\nend define\ndefine procedure &lt;guarded-stance-rt-check&gt;\n\tif not &#40; $objectproperty&#40;player%userid%; HP&#41;$ &gt;= 0 &#41; then msg &lt;You are dead&#46;|n&gt; else &#123;\n\t\tif &#40; $objectproperty&#40;player%userid%; rt&#41;$ = 0 &#41; then do &lt;stance guarded&gt; else msg &lt;You haven't recovered enough from your last action to take a guarded stance&#46;|n&gt;\n\t&#125;\nend define\ndefine procedure &lt;neutral-stance-rt-check&gt;\n\tif not &#40; $objectproperty&#40;player%userid%; HP&#41;$ &gt;= 0 &#41; then msg &lt;You are dead&#46;|n&gt; else &#123;\n\t\tif &#40; $objectproperty&#40;player%userid%; rt&#41;$ = 0 &#41; then do &lt;stance neutral&gt; else msg &lt;You haven't recovered enough from your last action to take a neutral stance&#46;|n&gt;\n\t&#125;\nend define\ndefine procedure &lt;forward-stance-rt-check&gt;\n\tif not &#40; $objectproperty&#40;player%userid%; HP&#41;$ &gt;= 0 &#41; then msg &lt;You are dead&#46;|n&gt; else &#123;\n\t\tif &#40; $objectproperty&#40;player%userid%; rt&#41;$ = 0 &#41; then do &lt;stance forward&gt; else msg &lt;You haven't recovered enough from your last action to take a forward stance&#46;|n&gt;\n\t&#125;\nend define\ndefine procedure &lt;offensive-stance-rt-check&gt;\n\tif not &#40; $objectproperty&#40;player%userid%; HP&#41;$ &gt;= 0 &#41; then msg &lt;You are dead&#46;|n&gt; else &#123;\n\t\tif &#40; $objectproperty&#40;player%userid%; rt&#41;$ = 0 &#41; then do &lt;stance offensive&gt; else msg &lt;You haven't recovered enough from your last action to take an offensive stance&#46;|n&gt;\n\t&#125;\nend define\t\n'\n' ENGAGEMENT SYSTEM\n'\ndefine procedure &lt;engage-check&gt;\nif not &#40; $objectproperty&#40;player%userid%; hp&#41;$ &gt;= 0 &#41; then msg &lt;You are dead&#46;|n&gt; else &#123;\n\tif &#40; $objectproperty&#40;player%userid%; rt&#41;$ &lt;&gt; 0 &#41; then msg &lt;You haven't recovered enough from your last action to engage anything&#46;|n&gt; else &#123;\n\t\tif here &lt;#target-object#&gt; then &#123;\n\t\t\tif property &lt;#target-object#; mob&gt; or property &lt;#target-object#; player&gt; then &#123;\n\t\t\t\tif &#40; #target-object# = player%userid% &#41; then msg &lt;You cannot engage yourself&#46;|n&gt; else &#123;\n\t\t\t\t\tif &#40; $objectproperty&#40;#target-object#; hp&#41;$ &lt;= 0 &#41; then msg &lt;That is already dead&#46;|n&gt; else &#123;\n\t\t\t\t\t\tif &#40; $objectproperty&#40;player%userid%; engaged&#41;$ = yes &#41; then msg &lt;You are already engaged&#46;|n&gt; else do &lt;engage-detect&gt;\n\t\t\t\t\t&#125;\n\t\t\t\telse msg &lt;You cannot engage that&#46;|n&gt;\n\t\t\t\t&#125;\n\t\t\telse msg &lt;I could not find what you were referring to&#46;|n&gt;\n\t\t\t&#125;\n\t\t&#125;\n\t&#125;\n&#125;\t\nend define\n\ndefine procedure &lt;engage-detect&gt;\nif property &lt;#target-object#; mob&gt; then do &lt;engage-mob&gt;\nif property &lt;#target-object#; player&gt; then do &lt;engage-player&gt;\nend define\n\ndefine procedure &lt;engage-player&gt;\nset string &lt;engager; $objectproperty&#40;player%userid%; name&#41;$&gt;\nset string &lt;engagee; $objectproperty&#40;#target-object#; name&#41;$&gt;\nset numeric &lt;engager&#46;add&#46;enemy; $objectproperty&#40;player%userid%; enemies&#41;$ + 1&gt;\nset numeric &lt;engagee&#46;add&#46;enemy; $objectproperty&#40;#target-object#; enemies&#41;$ + 1&gt;\nproperty &lt;player%userid%; enemies=%engager&#46;add&#46;enemy%&gt;\nproperty &lt;#target-object#; enemies=%engagee&#46;add&#46;enemy%&gt;\nproperty &lt;player%userid%; enemy-%engager&#46;add&#46;enemy%=#target-object#&gt;\nproperty &lt;#target-object#; enemy-%engagee&#46;add&#46;enemy%=player%userid%&gt;\nproperty &lt;player%userid%; enemy-%engager&#46;add&#46;enemy%-distance=5&gt;\nproperty &lt;#target-object#; enemy-%engagee&#46;add&#46;enemy%-distance=5&gt;\nproperty &lt;player%userid%; engaged=yes&gt;\nproperty &lt;#target-object#; engaged=yes&gt;\nmsg &lt;You engage #engagee# in combat&#46;|n&gt;\nfor each object in &lt;#quest&#46;currentroom#&gt; if property &lt;#quest&#46;thing#; player&gt; then &#123;\n\tif &#40; $objectproperty&#40;#quest&#46;thing#; name&#41;$ &lt;&gt; #engager# &#41; and &#40; $objectproperty&#40;#quest&#46;thing#; name&#41;$ &lt;&gt; #engagee#&#41; then msgto &lt;#quest&#46;thing#; #engager# engages #engagee# in combat&#46;|n&gt;\n\t&#125;\nmsgto &lt;#target-object#; #engager# engages you in combat&#46;|n&gt;\nend define\n\ndefine procedure &lt;engage-mob&gt;\nset string &lt;engager; $objectproperty&#40;player%userid%; name&#41;$&gt;\nif property &lt;#target-object#; prefix&gt; then set string &lt;engagee; $objectproperty&#40;#target-object#; prefix&#41;$ $objectproperty&#40;#target-object#; name&#41;$&gt; else set string &lt;engagee; $objectproperty&#40;#target-object#; name&#41;$&gt;\nset numeric &lt;engager&#46;add&#46;enemy; $objectproperty&#40;player%userid%; enemies&#41;$ + 1&gt;\nset numeric &lt;engagee&#46;add&#46;enemy; $objectproperty&#40;#target-object#; enemies&#41;$ + 1&gt;\nproperty &lt;player%userid%; enemies=%engager&#46;add&#46;enemy%&gt;\nproperty &lt;#target-object#; enemies=%engagee&#46;add&#46;enemy%&gt;\nproperty &lt;player%userid%; enemy-%engager&#46;add&#46;enemy%=#target-object#&gt;\nproperty &lt;#target-object#; enemy-%engagee&#46;add&#46;enemy%=player%userid%&gt;\nproperty &lt;player%userid%; enemy-%engager&#46;add&#46;enemy%-distance=5&gt;\nproperty &lt;#target-object#; enemy-%engagee&#46;add&#46;enemy%-distance=5&gt;\nproperty &lt;player%userid%; engaged=yes&gt;\nproperty &lt;player%userid%; engaged=yes&gt;\nmsg &lt;You engage #engagee# in combat&#46;|n&gt;\nfor each object in &lt;#quest&#46;currentroom#&gt; if property &lt;#quest&#46;thing#; player&gt; then &#123;\n\tif &#40; $objectproperty&#40;#quest&#46;thing#; name&#41;$ &lt;&gt; #engager# &#41; then msgto &lt;#quest&#46;thing#; #engager# engages #engagee# in combat&#46;|n&gt;\n\t&#125;\nend define\n\ndefine procedure &lt;disengage-check&gt;\nif not &#40; $objectproperty&#40;player%userid%; hp&#41;$ &gt;= 0 &#41; then msg &lt;You are dead&#46;|n&gt; else &#123;\n\tif &#40; $objectproperty&#40;player%userid%; rt&#41;$ &lt;&gt; 0 &#41; then msg &lt;You haven't recovered enough from your last action to disengage from combat&#46;|n&gt; else &#123;\n\t\tif &#40; $objectproperty&#40;player%userid%; engaged&#41;$ = no &#41; then msg &lt;You aren't engaged&#46;|n&gt; else do &lt;disengage&gt;\n\t\t&#125;\n\t&#125;\t\nend define\n\ndefine procedure &lt;disengage&gt;\nset string &lt;disengager; player%userid%&gt;\nset string &lt;disengager&#46;name; $objectproperty&#40;player%userid%; name&#41;$&gt;\nif &#40; $objectproperty&#40;player%userid%; engaged&#41;$ = no &#41; then msg &lt;You are not engaged&#46;|n&gt; else &#123;\n\tfor &lt;enemies; 1; $objectproperty&#40;player%userid%; enemies&#41;$&gt; if &#40; $objectproperty&#40;player%userid%; enemy-%enemies%-distance&#41;$ = 5 &#41; then &#123;\n\t\tset string &lt;disengaged; $objectproperty&#40;player%userid%; enemy-%enemies%&#41;$&gt;\n\t\tif property &lt;#disengaged#; prefix&gt; then set string &lt;disengaged&#46;enemy; $objectproperty&#40;#disengaged#; prefix&#41;$ $objectproperty&#40;#disengaged#; name&#41;$&gt; else set string &lt;disengaged&#46;enemy; $objectproperty&#40;#disengaged#; name&#41;$&gt;\n\t\tset numeric &lt;disengager&#46;enemies; $objectproperty&#40;player%userid%; enemies&#41;$ - 1&gt;\n\t\tset numeric &lt;disengaged&#46;enemies; $objectproperty&#40;#disengaged#; enemies&#41;$ - 1&gt;\n\t\tfor &lt;disengaging&#46;enemy; 1; $objectproperty&#40;#disengaged#; enemies&#41;$&gt; if &#40; $objectproperty&#40;#disengaged#; enemy-%disengaging&#46;enemy%&#41;$ = #disengager# &#41; then &#123; \n\t\t\tproperty &lt;#disengaged#; enemy-%disengaging&#46;enemy%=null&gt;\n\t\t\tproperty &lt;#disengaged#; enemy-%disengaging&#46;enemy%-distance=null&gt;\n\t\t&#125;\n\t\tproperty &lt;player%userid%; enemies=%disengager&#46;enemies%&gt;\n\t\tproperty &lt;#disengaged#; enemies=%disengaged&#46;enemies%&gt;\n\t\tproperty &lt;player%userid%; enemy-%enemies%-distance=null&gt;\n\t\tproperty &lt;player%userid%; enemy-%enemies%=null&gt;\n\t\tproperty &lt;player%userid%; attacking=null&gt;\n\t\tif &#40; $objectproperty&#40;player%userid%; enemies&#41;$ = 0 &#41; then property &lt;player%userid%; engaged=no&gt;\n\t\tif &#40; $objectproperty&#40;#disengaged#; enemies&#41;$ = 0 &#41; then property &lt;#disengaged#; engaged=no&gt;\n\t\tmsg &lt;You disengage from combat with #disengaged&#46;enemy#&#46;|n&gt;\n\t\tfor each object in &lt;#quest&#46;currentroom#&gt; if property &lt;#quest&#46;thing#; player&gt; then &#123;\n\t\t\tif &#40; $objectproperty&#40;#quest&#46;thing#; name&#41;$ &lt;&gt; #disengager&#46;name# &#41; and &#40; $objectproperty&#40;#quest&#46;thing#; name&#41;$ &lt;&gt; #disengaged&#46;enemy#&#41; then msgto &lt;#quest&#46;thing#; #disengager&#46;name# disengages from combat with #disengaged&#46;enemy#&#46;|n&gt;\n\t\t\t&#125;\n\t\tif property &lt;#disengaged#; player&gt; then msgto &lt;#disengaged#; #disengager&#46;name# disengages from combat with you&#46;|n&gt;\t\t\n\t\t&#125;\n\t\telse &#123;\n\t\t\tfor &lt;engaged&#46;enemies; 1; $objectproperty&#40;player%userid%; enemies&#41;$&gt; if &#40; $objectproperty&#40;player%userid%; enemy-%engaged&#46;enemies%-distance&#41;$ &lt;= 4 &#41; then &#123;\n\t\t\t\tset string &lt;engaged; $objectproperty&#40;player%userid%; enemy-%engaged&#46;enemies%&#41;$&gt;\n\t\t\t\tif property &lt;#engaged#; prefix&gt; then set string &lt;engaged&#46;enemy; $objectproperty&#40;#enaged#; prefix&#41;$ $objectproperty&#40;#engaged#; name&#41;$&gt; else set string &lt;engaged&#46;enemy; $objectproperty&#40;#engaged#; name&#41;$&gt;\n\t\t\t\tmsg &lt;You must retreat further in order to disengage from #engaged&#46;enemy#&#46;|n&gt;\n\t\t\t&#125;\n\t\t&#125;\n\t&#125;\nend define\n\ndefine procedure &lt;advance-check&gt;\nif not &#40; $objectproperty&#40;player%userid%; hp&#41;$ &gt;= 0 &#41; then msg &lt;You are dead&#46;|n&gt; else &#123;\n\tif &#40; $objectproperty&#40;player%userid%; rt&#41;$ &lt;&gt; 0 &#41; then msg &lt;You haven't recovered enough from your last action to advance&#46;|n&gt; else &#123;\n\t\tif &#40; $objectproperty&#40;player%userid%; engaged&#41;$ = no &#41; then msg &lt;You aren't engaged&#46;|n&gt; else do &lt;advance&gt;\n\t\t&#125;\n\t&#125;\t\nend define\n\ndefine procedure &lt;advance&gt;\nif &#40; $objectproperty&#40;player%userid%; engaged&#41;$ = no &#41; then msg &lt;You must engage an enemy before you can advance&#46;|n&gt; else &#123;\n\tfor &lt;enemies; 1; $objectproperty&#40;player%userid%; enemies&#41;$&gt; if &#40; $objectproperty&#40;player%userid%; enemy-%enemies%-distance&#41;$ &lt;= 1 &#41; then msg &lt;You cannot advance any closer to your opponent&#46;|n&gt; else &#123;\n\t\tset string &lt;advancee; $objectproperty&#40;player%userid%; enemy-%enemies%&#41;$&gt;\n\t\tset string &lt;advancer; player%userid%&gt;\n\t\tset string &lt;advancer&#46;name; $objectproperty&#40;player%userid%; name&#41;$&gt;\n\t\tset string &lt;advancee&#46;name; $objectproperty&#40;#advancee#; name&#41;$&gt;\n\t\tset numeric &lt;enemy&#46;distance; $objectproperty&#40;player%userid%; enemy-%enemies%-distance&#41;$ - 1&gt;\n\t\tproperty &lt;player%userid%; enemy-%enemies%-distance=%enemy&#46;distance%&gt;\n\t\tfor &lt;advancee&#46;enemies; 1; $objectproperty&#40;#advancee#; enemies&#41;$&gt; if &#40; $objectproperty&#40;#advancee#; enemy-%advancee&#46;enemies%&#41;$ = #advancer# &#41; then &#123; \n\t\t\tproperty &lt;#advancee#; enemy-%advancee&#46;enemies%-distance=%enemy&#46;distance%&gt;\n\t\t&#125;\n\t\tif &#40; %enemy&#46;distance% = 1 &#41; then &#123;\n\t\t\tproperty &lt;#advancer#; rt= 1&gt; \n\t\t\tmsg &lt;You close in on #advancee&#46;name#, coming within melee range&#46;|nRoundtime&#58; $objectproperty&#40;player%userid%; rt&#41;$ seconds|n&gt;\n\t\t\tmsgto &lt;#advancee#; #advancer&#46;name# closes in on you, coming within melee range&#46;|n&gt;\n\t\t\tfor each object in &lt;#quest&#46;currentroom#&gt; if property &lt;#quest&#46;thing#; player&gt; then &#123;\n\t\t\t\tif &#40; $objectproperty&#40;#quest&#46;thing#; name&#41;$ &lt;&gt; #advancer&#46;name# &#41; and &#40; $objectproperty&#40;#quest&#46;thing#; name&#41;$ &lt;&gt; #advancee&#46;name#&#41; then msgto &lt;#quest&#46;thing#; #advancer&#46;name# closes in on #advancee&#46;name#, coming within melee range&#46;|n&gt;\n\t\t\t&#125;\n\t\t&#125;\n\t\tif &#40; %enemy&#46;distance% = 2 &#41; then &#123; \n\t\t\tproperty &lt;#advancer#; rt= 2&gt;\n\t\t\tmsg &lt;You move within polearm range of #advancee&#46;name#&#46;|nRoundtime&#58; $objectproperty&#40;player%userid%; rt&#41;$ seconds|n&gt;\n\t\t\tmsgto &lt;#advancee#; #advancer&#46;name# moves in on you, coming within polearm range&#46;|n&gt;\n\t\t\tfor each object in &lt;#quest&#46;currentroom#&gt; if property &lt;#quest&#46;thing#; player&gt; then &#123;\n\t\t\t\tif &#40; $objectproperty&#40;#quest&#46;thing#; name&#41;$ &lt;&gt; #advancer&#46;name# &#41; and &#40; $objectproperty&#40;#quest&#46;thing#; name&#41;$ &lt;&gt; #advancee&#46;name#&#41; then msgto &lt;#quest&#46;thing#; #advancer&#46;name# moves to polearm range of #advancee&#46;name#&#46;|n&gt;\n\t\t\t&#125;\n\t\t&#125;\n\t\tif &#40; %enemy&#46;distance% = 3 &#41; then &#123; \n\t\t\tproperty &lt;#advancer#; rt= 2&gt;\n\t\t\tmsg &lt;You advance closer to #advancee&#46;name#&#46;|nRoundtime&#58; $objectproperty&#40;player%userid%; rt&#41;$ seconds|n&gt;\n\t\t\tmsgto &lt;#advancee#; #advancer&#46;name# advances closer towards you&#46;|nRoundtime&#58; $objectproperty&#40;player%userid%; rt&#41;$ seconds|n&gt;\n\t\t\tfor each object in &lt;#quest&#46;currentroom#&gt; if property &lt;#quest&#46;thing#; player&gt; then &#123;\n\t\t\t\tif &#40; $objectproperty&#40;#quest&#46;thing#; name&#41;$ &lt;&gt; #advancer&#46;name# &#41; and &#40; $objectproperty&#40;#quest&#46;thing#; name&#41;$ &lt;&gt; #advancee&#46;name#&#41; then msgto &lt;#quest&#46;thing#; #advancer&#46;name# advances closer towards #advancee&#46;name#&#46;|n&gt;\n\t\t\t&#125;\n\t\t&#125;\n\t\tif &#40; %enemy&#46;distance% = 4 &#41; then &#123;\n\t\t\tproperty &lt;#advancer#; rt= 3&gt;\n\t\t\tmsg &lt;You begin advancing towards #advancee&#46;name#&#46;|nRoundtime&#58; $objectproperty&#40;player%userid%; rt&#41;$ seconds|n&gt;\n\t\t\tmsgto &lt;#advancee#; #advancer&#46;name# begins advancing towards you&#46;|nRoundtime&#58; $objectproperty&#40;player%userid%; rt&#41;$ seconds|n&gt;\n\t\t\tfor each object in &lt;#quest&#46;currentroom#&gt; if property &lt;#quest&#46;thing#; player&gt; then &#123;\n\t\t\t\tif &#40; $objectproperty&#40;#quest&#46;thing#; name&#41;$ &lt;&gt; #advancer&#46;name# &#41; and &#40; $objectproperty&#40;#quest&#46;thing#; name&#41;$ &lt;&gt; #advancee&#46;name#&#41; then msgto &lt;#quest&#46;thing#; #advancer&#46;name# begins advancing on #advancee&#46;name#&#46;|n&gt;\n\t\t\t&#125;\n\t\t&#125;\n\t&#125;\n&#125;\nend define\n\ndefine procedure &lt;retreat-check&gt;\nif not &#40; $objectproperty&#40;player%userid%; hp&#41;$ &gt;= 0 &#41; then msg &lt;You are dead&#46;|n&gt; else &#123;\n\tif &#40; $objectproperty&#40;player%userid%; rt&#41;$ &lt;&gt; 0 &#41; then msg &lt;You haven't recovered enough from your last action to retreat&#46;|n&gt; else &#123;\n\t\tif &#40; $objectproperty&#40;player%userid%; engaged&#41;$ = no &#41; then msg &lt;You aren't engaged&#46;|n&gt; else do &lt;retreat&gt;\n\t\t&#125;\n\t&#125;\t\nend define\n\ndefine procedure &lt;retreat&gt;\nif &#40; $objectproperty&#40;player%userid%; engaged&#41;$ = no &#41; then msg &lt;You must engage an enemy before you can advance&#46;|n&gt; else &#123;\n\tfor &lt;enemies; 1; $objectproperty&#40;player%userid%; enemies&#41;$&gt; if &#40; $objectproperty&#40;player%userid%; enemy-%enemies%-distance&#41;$ = 5 &#41; then msg &lt;You cannot retreat any further without disengaging&#46;|n&gt; else &#123;\n\t\tset string &lt;retreatee; $objectproperty&#40;player%userid%; enemy-%enemies%&#41;$&gt;\n\t\tset string &lt;retreater; player%userid%&gt;\n\t\tset string &lt;retreater&#46;name; $objectproperty&#40;player%userid%; name&#41;$&gt;\n\t\tset string &lt;retreatee&#46;name; $objectproperty&#40;#retreatee#; name&#41;$&gt;\n\t\tset numeric &lt;enemy&#46;distance; $objectproperty&#40;player%userid%; enemy-%enemies%-distance&#41;$ + 1&gt;\n\t\tproperty &lt;player%userid%; enemy-%enemies%-distance=%enemy&#46;distance%&gt;\n\t\tfor &lt;retreatee&#46;enemies; 1; $objectproperty&#40;#retreatee#; enemies&#41;$&gt; if &#40; $objectproperty&#40;#retreatee#; enemy-%retreatee&#46;enemies%&#41;$ = #retreater# &#41; then &#123; \n\t\t\tproperty &lt;#retreatee#; enemy-%retreatee&#46;enemies%-distance=%enemy&#46;distance%&gt;\n\t\t&#125;\n\t\tif &#40; %enemy&#46;distance% = 2 &#41; then &#123;\n\t\t\tproperty &lt;#retreater#; rt= 1&gt; \n\t\t\tmsg &lt;You back away from #retreatee&#46;name# to polearm range&#46;|nRoundtime&#58; $objectproperty&#40;player%userid%; rt&#41;$ seconds|n&gt;\n\t\t\tmsgto &lt;#retreatee#; #retreater&#46;name# backs away to polearm range&#46;|n&gt;\n\t\t\tfor each object in &lt;#quest&#46;currentroom#&gt; if property &lt;#quest&#46;thing#; player&gt; then &#123;\n\t\t\t\tif &#40; $objectproperty&#40;#quest&#46;thing#; name&#41;$ &lt;&gt; #retreater&#46;name# &#41; and &#40; $objectproperty&#40;#quest&#46;thing#; name&#41;$ &lt;&gt; #retreatee&#46;name#&#41; then msgto &lt;#quest&#46;thing#; #retreater&#46;name# backs away from #retreatee&#46;name# to polearm range&#46;|n&gt;\n\t\t\t&#125;\n\t\t&#125;\n\t\tif &#40; %enemy&#46;distance% = 3 &#41; then &#123;\n\t\t\tproperty &lt;#retreater#; rt= 2&gt; \n\t\t\tmsg &lt;You fall back a bit from #retreatee&#46;name#&#46;|nRoundtime&#58; $objectproperty&#40;player%userid%; rt&#41;$ seconds|n&gt;\n\t\t\tmsgto &lt;#retreatee#; #retreater&#46;name# falls back a bit&#46;|n&gt;\n\t\t\tfor each object in &lt;#quest&#46;currentroom#&gt; if property &lt;#quest&#46;thing#; player&gt; then &#123;\n\t\t\t\tif &#40; $objectproperty&#40;#quest&#46;thing#; name&#41;$ &lt;&gt; #retreater&#46;name# &#41; and &#40; $objectproperty&#40;#quest&#46;thing#; name&#41;$ &lt;&gt; #retreatee&#46;name#&#41; then msgto &lt;#quest&#46;thing#; #retreater&#46;name# falls back from #retreatee&#46;name#&#46;|n&gt;\n\t\t\t&#125;\n\t\t&#125;\n\t\tif &#40; %enemy&#46;distance% = 4 &#41; then &#123;\n\t\t\tproperty &lt;#retreater#; rt= 2&gt;\n\t\t\tmsg &lt;You withdraw, putting some distance between you and #retreatee&#46;name#&#46;|nRoundtime&#58; $objectproperty&#40;player%userid%; rt&#41;$ seconds|n&gt;\n\t\t\tmsgto &lt;#retreatee#; #retreater&#46;name# withdraws, putting some distance between you&#46;|n&gt;\n\t\t\tfor each object in &lt;#quest&#46;currentroom#&gt; if property &lt;#quest&#46;thing#; player&gt; then &#123;\n\t\t\t\tif &#40; $objectproperty&#40;#quest&#46;thing#; name&#41;$ &lt;&gt; #retreater&#46;name# &#41; and &#40; $objectproperty&#40;#quest&#46;thing#; name&#41;$ &lt;&gt; #retreatee&#46;name#&#41; then msgto &lt;#quest&#46;thing#; #retreater&#46;name# withdraws, putting distance between $objectproperty&#40;player%userid%; sexdesc&#41;$self and #retreatee&#46;name#&#46;|n&gt;\n\t\t\t&#125;\n\t\t&#125;\n\t\tif &#40; %enemy&#46;distance% = 5 &#41; then &#123;\n\t\t\tproperty &lt;#retreater#; rt= 3&gt;\n\t\t\tmsg &lt;You retreat from #retreatee&#46;name# to a safe distance&#46;|nRoundtime&#58; $objectproperty&#40;player%userid%; rt&#41;$ seconds|n&gt;\n\t\t\tmsgto &lt;#retreatee#; #retreater&#46;name# retreats to a safe distance&#46;|n&gt;\n\t\t\tfor each object in &lt;#quest&#46;currentroom#&gt; if property &lt;#quest&#46;thing#; player&gt; then &#123;\n\t\t\t\tif &#40; $objectproperty&#40;#quest&#46;thing#; name&#41;$ &lt;&gt; #retreater&#46;name# &#41; and &#40; $objectproperty&#40;#quest&#46;thing#; name&#41;$ &lt;&gt; #retreatee&#46;name#&#41; then msgto &lt;#quest&#46;thing#; #retreater&#46;name# retreats to a safe distance from #retreatee&#46;name#&#46;|n&gt;\n\t\t\t&#125;\n\t\t&#125;\n\t&#125;\n&#125;\nend define\n\ndefine procedure &lt;range-check&gt;\nif &#40; $objectproperty&#40;player%userid%; wielded&#41;$ &lt;&gt; null &#41; then set string &lt;weapon; $objectproperty&#40;player%userid%; wielded&#41;$&gt; else set string &lt;weapon; fist&gt;\nfor &lt;enemy&#46;range; 1; $objectproperty&#40;player%userid%; enemies&#41;$&gt; if &#40; $objectproperty&#40;player%userid%; enemy-%enemy&#46;range%&#41;$ = #target-object# &#41; then &#123;\n\tif &#40; $objectproperty&#40;player%userid%; enemy-%enemy&#46;range%-distance&#41;$ &lt;= $objectproperty&#40;#weapon#; range&#41;$ &#41; then do &lt;combat-info&gt; else msg &lt;You must advance within range of your target&#46;|n&gt;\n\t&#125;\nend define\n\ndefine procedure &lt;engaged-check&gt;\nif &#40; $objectproperty&#40;player%userid%; engaged&#41;$ &lt;&gt; yes &#41; then msg &lt;You are not engaged in combat&#46;|n&gt; else &#123;\n\tfor &lt;enemies&#46;engaged; 1; $objectproperty&#40;player%userid%; enemies&#41;$&gt; if &#40; $objectproperty&#40;player%userid%; enemy-%enemies&#46;engaged%&#41;$ &lt;&gt; #target-object# &#41; then msg &lt;You must engage your target first&#46;|n&gt; else do &lt;range-check&gt;\n\t&#125;\nend define\n\ndefine procedure &lt;combat-check&gt; \nif &#40; player%userid% = #target-object# &#41; then msg &lt;You cannot attack yourself&#46;|n&gt; else &#123;\n\tif not &#40; $objectproperty&#40;player%userid%; HP&#41;$ &gt;= 0 &#41; then msg &lt;You are dead&#46;|n&gt; else &#123;\n\t\tif &#40; $objectproperty&#40;player%userid%; rt&#41;$ &lt;&gt; 0 &#41; then msg &lt;You haven't recovered enough from your last action to attack anything&#46;|n&gt; else &#123;\n\t\tif here &lt;#target-object#&gt; then &#123;\n\t\tif property &lt;#target-object#; object&gt; then msg &lt;You cannot attack that&#46;|n&gt; else &#123;\n\t\t\tif property &lt;#target-object#; mob&gt; or property &lt;#target-object#; player&gt; then &#123;\n\t\t\t\tif &#40; $objectproperty&#40;#target-object#; hp&#41;$ &lt;= 0 &#41; then msg &lt;That is already dead&#46;|n&gt; else &#123;\n\t\t\t\t\tset string &lt;mainhand; $objectproperty&#40;player%userid%; mainhand&#41;$&gt;\n\t\t\t\t\tif &#40; $objectproperty&#40;player%userid%; wielded&#41;$ = null &#41; and &#40; $objectproperty&#40;#mainhand#; held&#41;$ &lt;&gt; null &#41; then msg &lt;You must wield a weapon or empty your hand before attacking&#46;|n&gt; else do &lt;engaged-check&gt;\n\t\t\t\t&#125;\n\t\t\t&#125;\n\t\t&#125;\n\t\telse msg &lt;I could not find what you were referring to&#46;|n&gt;\n\t\t&#125;\n\t\t&#125;\t\n\t&#125;\n\t&#125;\nend define\n\ndefine procedure &lt;combat-info&gt;\n\tproperty &lt;player%userid%; attacking=#target-object#&gt;\n\tset string &lt;attacker; player%userid%&gt;\n\tset string &lt;attacker-name; $objectproperty&#40;player%userid%; name&#41;$&gt;\n\tset string &lt;defender; #target-object#&gt;\n\tset string &lt;defender-name; $objectproperty&#40;#defender#; name&#41;$&gt;\n\tset numeric &lt;defender-con; $objectproperty&#40;#defender#; CON&#41;$&gt;\n\tset numeric &lt;defender-con-factor; %defender-con% / 10&gt;\n\tset string &lt;attacker-wielded; $objectproperty&#40;#attacker#; wielded&#41;$&gt;\n\tif &#40; $objectproperty&#40;#attacker#; wielded&#41;$ &lt;&gt; null &#41; then set string &lt;weapon-type; $objectproperty&#40;#attacker-wielded#; type&#41;$&gt; else set string &lt;weapon-type; fist&gt;\n\tset numeric &lt;types; $objectproperty&#40;#weapon-type#; types&#41;$&gt;\n\tset numeric &lt;attack-type-number; $rand&#40;1;%types%&#41;$&gt;\n\tset string &lt;attack-type; $objectproperty&#40;#weapon-type#; %attack-type-number%&#41;$&gt;\n\tset string &lt;attack-type-plural; $objectproperty&#40;#weapon-type#; %attack-type-number%-plural&#41;$&gt;\n\tset string &lt;attacker-readied; $objectproperty&#40;#attacker#; readied&#41;$&gt;\n\tif &#40; #attacker-wielded# &lt;&gt; null &#41; then set string &lt;attacker-wielded-short; $objectproperty&#40;#attacker-wielded#; short&#41;$&gt; else set string &lt;attacker-wielded-short; a bare fist&gt;\n\tset string &lt;defender-wielded; $objectproperty&#40;#defender#; wielded&#41;$&gt;\n\tset string &lt;defender-readied; $objectproperty&#40;#defender#; readied&#41;$&gt;\n\tset numeric &lt;attacker-bonus; $objectproperty&#40;#attacker#; as-boost&#41;$&gt;\n\tset numeric &lt;attacker-base-strength; $objectproperty&#40;#attacker#; STR&#41;$ / 4&gt;\n\tset numeric &lt;attacker-base-speed; $objectproperty&#40;#attacker#; DEX&#41;$ / 20&gt;\n\tif &#40; #attacker-wielded# = null &#41; then set numeric &lt;attacker-wielded-weight; 0&gt; else &#123;\n\t\tif property &lt;#attacker-wielded#; weight&gt; then set numeric &lt;attacker-wielded-weight; $objectproperty&#40;#attacker-wielded#; weight&#41;$&gt; else set numeric &lt;attacker-wielded-weight; $objectproperty&#40;#weapon-type#; weight&#41;$&gt;\n\t\t&#125;\n\tif &#40; #attacker-wielded# = null &#41; then set numeric &lt;attacker-wielded-speed; 0&gt; else &#123;\n\t\tif property &lt;#attacker-wielded#; speed&gt; then set numeric &lt;attacker-wielded-speed; $objectproperty&#40;#attacker-wielded#; speed&#41;$&gt; else set numeric &lt;attacker-wielded-speed; $objectproperty&#40;#weapon-type#; speed&#41;$&gt;\n\t\t&#125;\n\tset numeric &lt;attacker-wielded-rt; %attacker-wielded-weight% + %attacker-wielded-speed%&gt;\n\tset numeric &lt;attacker-skill-rt; 10 - %attacker-base-speed%&gt;\n\tset numeric &lt;attacker-rt; %attacker-wielded-rt% + %attacker-skill-rt%&gt;\n\tif &#40; #attacker-wielded# &lt;&gt; null &#41; then set numeric &lt;attacker-wielded-bonus; $objectproperty&#40;#attacker-wielded#; bonus&#41;$&gt; else set numeric &lt;attacker-wielded-bonus; 0&gt;\n\tset numeric &lt;attacker-stance; $objectproperty&#40;#attacker#; stance&#41;$&gt;\n\tset numeric &lt;attacker-stance-base; %attacker-base-strength% / %attacker-stance%&gt;\n\tset numeric &lt;defender-base-defense; $objectproperty&#40;#defender#; DEX&#41;$ / 4&gt;\n\tset numeric &lt;defender-stance; $objectproperty&#40;#defender#; stance&#41;$&gt;\n\tset numeric &lt;defender-stance-base; %defender-base-defense% * %defender-stance%&gt;\n\tif &#40; #defender-wielded# &lt;&gt; null &#41; then set numeric &lt;defender-wielded-bonus; $objectproperty&#40;#defender-wielded#; bonus&#41;$ / 2&gt; else set numeric &lt;defender-wielded-bonus; 0&gt;\n\tif &#40; #defender-wielded# &lt;&gt; null &#41; then set numeric &lt;defender-readied-bonus; $objectproperty&#40;#defender-readied#; bonus&#41;$&gt; else set numeric &lt;defender-readied-bonus; 0&gt;\n\tset numeric &lt;defender-equip-bonus; %defender-wielded-bonus% + %defender-readied-bonus%&gt;\n\tset numeric &lt;weapon-attack-strength; %attacker-stance-base% + %attacker-wielded-bonus%&gt;\n\tset numeric &lt;attack-strength; %weapon-attack-strength% + %attacker-bonus%&gt;\n\tset numeric &lt;defense-strength; %defender-stance-base% + %defender-equip-bonus%&gt;\n\tset numeric &lt;d100; $rand&#40;1;100&#41;$&gt;\n\tset numeric &lt;as-ds; %attack-strength% - %defense-strength%&gt;\n\tset numeric &lt;endroll; %as-ds% + %d100%&gt;\n\tset numeric &lt;endnum; %endroll% - 100&gt;\n\tif &#40; %endroll% &lt;= 100 &#41; then set string &lt;combat-message; A clean miss!&gt; else &#123;\n\t\tset numeric &lt;damage-num; %endnum% - %defender-con-factor%&gt;\n\t\tif &#40; %damage-num% &lt;= 0 &#41; then set numeric &lt;damage; 1&gt; else set numeric &lt;damage; %damage-num%&gt;\n\t\tset numeric &lt;new-hp; $objectproperty&#40;#defender#; hp&#41;$ - %damage%&gt;\n\t\tif &#40; %endnum% &gt;= 1 &#41; and &#40; %endnum% &lt;= 20 &#41; then set string &lt;combat-message; $objectproperty&#40;#weapon-type#; %attack-type-number%-1&#41;$ %damage% damage!&gt;\n\t\tif &#40; %endnum% &gt;= 20 &#41; and &#40; %endnum% &lt;= 40 &#41; then set string &lt;combat-message; $objectproperty&#40;#weapon-type#; %attack-type-number%-2&#41;$ %damage% damage!&gt;\n\t\tif &#40; %endnum% &gt;= 40 &#41; and &#40; %endnum% &lt;= 60 &#41; then set string &lt;combat-message; $objectproperty&#40;#weapon-type#; %attack-type-number%-3&#41;$ %damage% damage!&gt;\n\t\tif &#40; %endnum% &gt;= 60 &#41; and &#40; %endnum% &lt;= 80 &#41; then set string &lt;combat-message; $objectproperty&#40;#weapon-type#; %attack-type-number%-4&#41;$ %damage% damage!&gt;\n\t\tif &#40; %endnum% &gt;= 80 &#41; then set string &lt;combat-message; $objectproperty&#40;#weapon-type#; %attack-type-number%-5&#41;$ %damage% damage!&gt;\n\t\tproperty &lt;#defender#; hp=%new-hp%&gt;\n\t&#125;\n\tif &#40; $objectproperty&#40;#defender#; hp&#41;$ &lt;= 0 &#41; then set string &lt;combat-message; #combat-message#|n#defender-name# slumps to the ground and ceases living!&gt;\n\tmsg &lt;You #attack-type# at #defender-name# with #attacker-wielded-short#!|nAS&#58; %attack-strength% vs DS&#58; %defense-strength% + d100 roll&#58; %d100% = %endroll%|n#combat-message#|nRoundtime&#58; %attacker-rt% seconds|n|n&gt;\n\tif not property &lt;#defender#; mob&gt; then msgto &lt;#defender#; #attacker-name# #attack-type-plural# at you with #attacker-wielded-short#!|nAS&#58; %attack-strength% vs DS&#58; %defense-strength% + d100 roll&#58; %d100% = %endroll%|n#combat-message#|n|n&gt;\n\tdo &lt;activate-rt&gt;\nend define\ndefine procedure &lt;activate-rt&gt;\n\tproperty &lt;player%userid%; rt=%attacker-rt%&gt;\nend define\n\ndefine procedure &lt;time&gt;\n'\n'Basic time running part of the script, goes through 24 hours of each day&#46;&#46;&#46; Note&#58; expand to include days, months, and years for wider range of use&#46;\n'\n\tset numeric &lt;second-time; $objectproperty&#40;game&#46;info; second-time&#41;$ + 01&gt;\n\tif &#40; %second-time% &gt;= 60 &#41; then &#123;\n\t\tset numeric &lt;minute-time; $objectproperty&#40;game&#46;info; minute-time&#41;$ +01&gt;\n\t\tset numeric &lt;second-time; 0&gt;\n\t\tset string &lt;s-format; %second-time%&gt;\n\t\tif &#40; $lengthof&#40;#s-format#&#41;$ = 1 &#41; then set string &lt;second-time; 0%second-time%&gt; else set string &lt;second-time; %second-time%&gt;\n\t\tif &#40; %minute-time% &gt;= 60 &#41; then &#123;\n\t\t\tset numeric &lt;hour-time; $objectproperty&#40;game&#46;info; hour-time&#41;$ +01&gt;\n\t\t\tset numeric &lt;minute-time; 0&gt;\n\t\t\tset string &lt;m-format; %minute-time%&gt;\n\t\t\tif &#40; $lengthof&#40;#m-format#&#41;$ = 1 &#41; then set string &lt;minute-time; 0%minute-time%&gt; else set string &lt;minute-time; %minute-time%&gt;\n\t\t\tif &#40; %hour-time% &gt;= 24 &#41; then &#123;\n\t\t\t\tset numeric &lt;hour-time; 0&gt;\n\t\t\t\tset string &lt;h-format; %hour-time%&gt;\n\t\t\t\tif &#40; $lengthof&#40;#h-format#&#41;$ = 1 &#41; then set string &lt;hour-time; 0%hour-time%&gt; else set string &lt;hour-time; %hour-time%&gt;\n\t\t\t&#125;\n\t\t\telse set string &lt;h-format; %hour-time%&gt;\n\t\t\tif &#40; $lengthof&#40;#h-format#&#41;$ = 1 &#41; then set string &lt;hour-time; 0%hour-time%&gt; else set string &lt;hour-time; %hour-time%&gt;\n\t\t\tproperty &lt;game&#46;info; hour-time=#hour-time#&gt;\n\t\t\tset string &lt;time; $objectproperty&#40;game&#46;info; hour-time&#41;$&#58;$objectproperty&#40;game&#46;info; minute-time&#41;$&#58;$objectproperty&#40;game&#46;info; second-time&#41;$&gt;\n\t\t&#125;\n\t\telse set string &lt;m-format; %minute-time%&gt;\n\t\tif &#40; $lengthof&#40;#m-format#&#41;$ = 1 &#41; then set string &lt;minute-time; 0%minute-time%&gt; else set string &lt;minute-time; %minute-time%&gt;\n\t\tproperty &lt;game&#46;info; minute-time=#minute-time#&gt;\n\t\tset string &lt;time; $objectproperty&#40;game&#46;info; hour-time&#41;$&#58;$objectproperty&#40;game&#46;info; minute-time&#41;$&#58;$objectproperty&#40;game&#46;info; second-time&#41;$&gt;\n\t&#125;\n\telse set string &lt;s-format; %second-time%&gt;\n\tif &#40; $lengthof&#40;#s-format#&#41;$ = 1 &#41; then set string &lt;second-time; 0%second-time%&gt; else set string &lt;second-time; %second-time%&gt;\t\n\tproperty &lt;game&#46;info; second-time=#second-time#&gt;\n\tset string &lt;time; $objectproperty&#40;game&#46;info; hour-time&#41;$&#58;$objectproperty&#40;game&#46;info; minute-time&#41;$&#58;$objectproperty&#40;game&#46;info; second-time&#41;$&gt;\n'\t\n'Roundtime modifying part of the script&#46;\n'\n\tfor each object in game &#123;\n\t\tif property &lt;#quest&#46;thing#; rt&gt; then &#123;\n\t\t\tif &#40; $objectproperty&#40;#quest&#46;thing#; rt&#41;$ &lt;&gt; 0 &#41; then &#123;\n\t\t\t\tset numeric &lt;#quest&#46;thing#-rt; $objectproperty&#40;#quest&#46;thing#; rt&#41;$ - 1&gt;\n\t\t\t\tproperty &lt;#quest&#46;thing#; rt=%#quest&#46;thing#-rt%&gt;\n\t\t\t\tif &#40; $objectproperty&#40;#quest&#46;thing#; rt&#41;$ = 0 &#41; then msgto &lt;#quest&#46;thing#; You feel ready to move again&#46;|n&gt;\n\t\t\t&#125;\n\t\t&#125;\n\t&#125;\n'\n'\n'\n\ttimeron &lt;time&gt;\nend define\n[/code:3rthmzl1]\n\n\n[b:3rthmzl1]TIMERS[/b:3rthmzl1]\n[code:3rthmzl1]\ndefine timer &lt;time&gt;\n\tinterval &lt;1&gt;\n\taction do &lt;time&gt;\n\tenabled\nend define\n[/code:3rthmzl1]\n\n[b:3rthmzl1]STARTSCRIPTS[/b:3rthmzl1]\n[code:3rthmzl1]\n\tstartscript &#123;\n\t\tmsg &lt;TO DO LIST&#58;|n----------------------|nCreate clothing/armor/inventory system&#46;|nFigure out an automated merchant system&#46;|nOverride traveling system and connect/disconnect&#46;|nRevamp combat system&#46;&#46;&#46;|nie&#58; balance, attack verbs, ranged/dual/two-handed weapons, etc&#46;|n&gt;\n\t\tset numeric &lt;second-time; 00&gt;\n\t\tproperty &lt;game&#46;info; second-time=00&gt;\n\t\tset numeric &lt;minute-time; 00&gt;\n\t\tproperty &lt;game&#46;info; minute-time=00&gt;\n\t\tset numeric &lt;hour-time; 00&gt;\n\t\tproperty &lt;game&#46;info; hour-time=00&gt;\n\t\tset numeric &lt;player&#46;count; 0&gt;\n\t\tset numeric &lt;object&#46;count; 0&gt;\n\t\tset string &lt;player&#46;list; null&gt;\n\t\tset string &lt;format&#46;objects; null &gt;\n\t&#125;\n\tplayer startscript &#123;\n\t\tpanes off 'This is a preference of mine, can be on or off&#46;'\n\t\tbackground &lt;black&gt; 'Again preference, can be set to any \n\t\tforeground &lt;white&gt; 'available color&#46;                      '\n\t\tcreate room &lt;player%userid%-r-hand&gt;'These give the player the ability to hold objects in'\n\t\tproperty &lt;player%userid%-r-hand; held=null&gt;'hands, it is left open for some definition  '\n\t\tproperty &lt;player%userid%-r-hand; held-name=null&gt;'eventually support ambidexterity as well'\n\t\tproperty &lt;player%userid%-r-hand; held-short=a bare fist&gt;'as choosing to be left or right'\n\t\tproperty &lt;player%userid%-r-hand; held-display=nothing&gt;'handed'\n\t\tcreate room &lt;player%userid%-l-hand&gt; 'Same as above'\n\t\tproperty &lt;player%userid%-l-hand; held=null&gt;\n\t\tproperty &lt;player%userid%-l-hand; held-name=null&gt;\n\t\tproperty &lt;player%userid%-l-hand; held-short=a bare fist&gt;\n\t\tproperty &lt;player%userid%-l-hand; held-display=nothing&gt;\n\t\tset string &lt;name; $name&#40;%userid%&#41;$&gt; 'Defines display name variable as the entered Quest name'\n\t\tset numeric &lt;age; $rand&#40;16;35&#41;$&gt; 'Defines a random age for the player&#40;novelty&#41;'\n\t\tproperty &lt;player%userid%; name=$capfirst&#40;#name#&#41;$&gt; 'Formats the name and gives to player object'\n\t\tproperty &lt;player%userid%; alias=$capfirst&#40;#name#&#41;$&gt; 'Sets the display name'\n\t\tproperty &lt;player%userid%; race=Human&gt; 'Sets the player's race&#40;novelty&#41;'\n\t\tproperty &lt;player%userid%; sex=Male&gt; 'Sets the player's sex&#40;novelty&#41;'\n\t\tproperty &lt;player%userid%; level=0&gt; 'Sets the player's level&#40;novelty for now, but can be expanded&#41;'\n\t\tproperty &lt;player%userid%; age=%age%&gt; 'Applies the afore mentioned random age'\n\t\tproperty &lt;player%userid%; sexdesc=him&gt; 'Provides accurate description when using actions'\n\t\tproperty &lt;player%userid%; sexposs=his&gt; 'Same as above'\n\t\tproperty &lt;player%userid%; visibility=1&gt; 'Implemented for future use in redefining the &quot;look&quot; command'\n\t\tproperty &lt;player%userid%; look=You see $objectproperty&#40;player%userid%; name&#41;$ the $objectproperty&#40;player%userid%; race&#41;$&#46;|n&gt; 'Defines a default look description to override Quest default'\n\t\tproperty &lt;player%userid%; stance=5&gt; 'Puts the player by default in a defensive stance'\n\t\tproperty &lt;player%userid%; stance-display=defensive&gt; 'Describes the above'\n\t\tproperty &lt;player%userid%; offhand=player%userid%-l-hand&gt; 'Implemented for future support of choosing left-handed or right-handed'\n\t\tproperty &lt;player%userid%; mainhand=player%userid%-r-hand&gt; 'Same as above'\n\t\tproperty &lt;player%userid%; readied=null&gt; 'Set as null&#40;empty handed&#41;'\n\t\tproperty &lt;player%userid%; wielded=null&gt; 'Same as above'\n\t\tproperty &lt;player%userid%; as-boost=0&gt; 'Set to zero&#40;no boost&#41; property given for object/spells that provide generic attack boost'\n\t\tproperty &lt;player%userid%; ds-boost=0&gt; 'Same as above but for generic defense boost'\n\t\tproperty &lt;player%userid%; player&gt; 'Defines as a human controlled object'\n\t\tproperty &lt;player%userid%; STR=$rand&#40;20;100&#41;$&gt; 'Supplies random STRENGTH&#40;STR&#41; stat to initially start off with'\n\t\tproperty &lt;player%userid%; CON=$rand&#40;20;100&#41;$&gt; 'Supplies random CONSTITUTION&#40;CON&#41; stat to initially start off with'\n\t\tproperty &lt;player%userid%; DEX=$rand&#40;20;100&#41;$&gt; 'Supplies random DEXTERITY&#40;DEX&#41; stat to initially start off with'\n\t\tproperty &lt;player%userid%; INT=$rand&#40;20;100&#41;$&gt; 'Supplies random INTELLIGENCE&#40;INT&#41; stat to initially start off with'\n\t\tproperty &lt;player%userid%; WIS=$rand&#40;20;100&#41;$&gt; 'Supplies random WISDOM&#40;WIS&#41; stat to initially start off with'\n\t\tproperty &lt;player%userid%; AUR=$rand&#40;20;100&#41;$&gt; 'Supplies random AURA&#40;AUR&#41; stat to initially start off with'\n\t\tproperty &lt;player%userid%; CHA=$rand&#40;20;100&#41;$&gt; 'Supplies random CHARISMA&#40;CHA&#41; stat to initially start off with'\n\t\tproperty &lt;player%userid%; DIS=$rand&#40;20;100&#41;$&gt; 'Supplies random DISCIPLINE&#40;DIS&#41; stat to initially start off with'\n\t\tproperty &lt;player%userid%; engaged=no&gt; 'Set to no&#40;not engaged in combat&#41; used by combat system'\n\t\tproperty &lt;player%userid%; enemies=0&gt; 'Not engaged to any enemies so set to zero, used by combat system'\n\t\tproperty &lt;player%userid%; attacking=null&gt; 'Not currently attacking anybody or thing, set to null'\n\t\tproperty &lt;player%userid%; stealth=0&gt; 'A factor included for integration with a hiding system, ie; for redefined LOOK command'\n\t\tproperty &lt;player%userid%; visibility=1&gt; 'Included for integration with a hiding system, ie; for redefined LOOK command'\n\t\tproperty &lt;player%userid%; spotted=0&gt; 'Included for integration with a hiding system, ie; for redefined LOOK command'\n\t\tset numeric &lt;HP-temp; $objectproperty&#40;player%userid%; CON&#41;$ + $objectproperty&#40;player%userid%; AUR&#41;$&gt; 'Step in stat-based Hit Point calculation' \n\t\tset numeric &lt;HP; %HP-temp% /4&gt; 'step in stat-based Hit Point calculation'\n\t\tproperty &lt;player%userid%; HP-MAX=%HP%&gt; 'Assigns stat-based Hit Point maximum'\n\t\tproperty &lt;player%userid%; HP=%HP%&gt; 'Assigns current Hit Points out of maximum possible'\n\t\tset numeric &lt;player%userid%; 0&gt; 'Not documented yet'\n\t\tproperty &lt;player%userid%; rt=0&gt; 'Defines a natural zero roundtime property, a player can only act with a roundtime of zero'\n\n\t&#125;\n\n[/code:3rthmzl1]",
      "EditableFormat": "bbcode",
      "HTML": "The time running script makes all this come together, and it's a procedure to be included as well.<br/><br/><pre><code><br/>define procedure &lt;time&gt;<br/>'<br/>'Basic time running part of the script, goes through 24 hours of each day&#46;&#46;&#46; Note&#58; expand to include days, months, and years for wider range of use&#46;<br/>'<br/>\tset numeric &lt;second-time; $objectproperty&#40;game&#46;info; second-time&#41;$ + 01&gt;<br/>\tif &#40; %second-time% &gt;= 60 &#41; then &#123;<br/>\t\tset numeric &lt;minute-time; $objectproperty&#40;game&#46;info; minute-time&#41;$ +01&gt;<br/>\t\tset numeric &lt;second-time; 0&gt;<br/>\t\tset string &lt;s-format; %second-time%&gt;<br/>\t\tif &#40; $lengthof&#40;#s-format#&#41;$ = 1 &#41; then set string &lt;second-time; 0%second-time%&gt; else set string &lt;second-time; %second-time%&gt;<br/>\t\tif &#40; %minute-time% &gt;= 60 &#41; then &#123;<br/>\t\t\tset numeric &lt;hour-time; $objectproperty&#40;game&#46;info; hour-time&#41;$ +01&gt;<br/>\t\t\tset numeric &lt;minute-time; 0&gt;<br/>\t\t\tset string &lt;m-format; %minute-time%&gt;<br/>\t\t\tif &#40; $lengthof&#40;#m-format#&#41;$ = 1 &#41; then set string &lt;minute-time; 0%minute-time%&gt; else set string &lt;minute-time; %minute-time%&gt;<br/>\t\t\tif &#40; %hour-time% &gt;= 24 &#41; then &#123;<br/>\t\t\t\tset numeric &lt;hour-time; 0&gt;<br/>\t\t\t\tset string &lt;h-format; %hour-time%&gt;<br/>\t\t\t\tif &#40; $lengthof&#40;#h-format#&#41;$ = 1 &#41; then set string &lt;hour-time; 0%hour-time%&gt; else set string &lt;hour-time; %hour-time%&gt;<br/>\t\t\t&#125;<br/>\t\t\telse set string &lt;h-format; %hour-time%&gt;<br/>\t\t\tif &#40; $lengthof&#40;#h-format#&#41;$ = 1 &#41; then set string &lt;hour-time; 0%hour-time%&gt; else set string &lt;hour-time; %hour-time%&gt;<br/>\t\t\tproperty &lt;game&#46;info; hour-time=#hour-time#&gt;<br/>\t\t\tset string &lt;time; $objectproperty&#40;game&#46;info; hour-time&#41;$&#58;$objectproperty&#40;game&#46;info; minute-time&#41;$&#58;$objectproperty&#40;game&#46;info; second-time&#41;$&gt;<br/>\t\t&#125;<br/>\t\telse set string &lt;m-format; %minute-time%&gt;<br/>\t\tif &#40; $lengthof&#40;#m-format#&#41;$ = 1 &#41; then set string &lt;minute-time; 0%minute-time%&gt; else set string &lt;minute-time; %minute-time%&gt;<br/>\t\tproperty &lt;game&#46;info; minute-time=#minute-time#&gt;<br/>\t\tset string &lt;time; $objectproperty&#40;game&#46;info; hour-time&#41;$&#58;$objectproperty&#40;game&#46;info; minute-time&#41;$&#58;$objectproperty&#40;game&#46;info; second-time&#41;$&gt;<br/>\t&#125;<br/>\telse set string &lt;s-format; %second-time%&gt;<br/>\tif &#40; $lengthof&#40;#s-format#&#41;$ = 1 &#41; then set string &lt;second-time; 0%second-time%&gt; else set string &lt;second-time; %second-time%&gt;\t<br/>\tproperty &lt;game&#46;info; second-time=#second-time#&gt;<br/>\tset string &lt;time; $objectproperty&#40;game&#46;info; hour-time&#41;$&#58;$objectproperty&#40;game&#46;info; minute-time&#41;$&#58;$objectproperty&#40;game&#46;info; second-time&#41;$&gt;<br/>'\t<br/>'Roundtime modifying part of the script&#46;<br/>'<br/>\tfor each object in game &#123;<br/>\t\tif property &lt;#quest&#46;thing#; rt&gt; then &#123;<br/>\t\t\tif &#40; $objectproperty&#40;#quest&#46;thing#; rt&#41;$ &lt;&gt; 0 &#41; then &#123;<br/>\t\t\t\tset numeric &lt;#quest&#46;thing#-rt; $objectproperty&#40;#quest&#46;thing#; rt&#41;$ - 1&gt;<br/>\t\t\t\tproperty &lt;#quest&#46;thing#; rt=%#quest&#46;thing#-rt%&gt;<br/>\t\t\t\tif &#40; $objectproperty&#40;#quest&#46;thing#; rt&#41;$ = 0 &#41; then msgto &lt;#quest&#46;thing#; You feel ready to move again&#46;|n&gt;<br/>\t\t\t&#125;<br/>\t\t&#125;<br/>\t&#125;<br/>'<br/>'<br/>'<br/>\ttimeron &lt;time&gt;<br/>end define<br/></code></pre><br/><br/><span style=\"font-weight:bold;\">And also the timer needs to be placed in the code for the time procedure to function.</span><br/><br/><pre><code><br/>define timer &lt;time&gt;<br/>\tinterval &lt;1&gt;<br/>\taction do &lt;time&gt;<br/>\tenabled<br/>end define<br/></code></pre><br/><br/><span style=\"font-weight:bold;\">In a cosmetic factor, you may want the timer to give off the actual time, you can set this with the following commands. They contain IF situations, I used user levels(usrlvl) as a way, ie; admins are a high user level, super admin can set clock, you can easily change this to something like if the $name(player%userid%)$ is equal to your usual name or whatever.</span><br/><br/><pre><code><br/>\tcommand &lt;set-hour #new-hour#&gt; if &#40; $objectproperty&#40;player%userid%; usrlvl&#41;$ &gt;= 5 &#41; then msg &lt;I don't understand what you typed&#46;|n&gt; else &#123;<br/>\t\tif &#40; $lengthof&#40;#new-hour#&#41;$ = 1 &#41; then set string &lt;hour-time; 0#new-hour#&gt; else set string &lt;hour-time; #new-hour#&gt;<br/>\t\tproperty &lt;game&#46;info; hour-time=#hour-time#&gt;<br/>\t\tmsg &lt;You set the current hour to #new-hour#&#46; The current time is now $objectproperty&#40;game&#46;info; hour-time&#41;$&#58;$objectproperty&#40;game&#46;info; minute-time&#41;$&#58;$objectproperty&#40;game&#46;info; second-time&#41;$ PST&#46;|n&gt;<br/>\t&#125;<br/>\tcommand &lt;set-minute #new-minute#&gt; if &#40; $objectproperty&#40;player%userid%; usrlvl&#41;$ &gt;= 5 &#41; then msg &lt;I don't understand what you typed&#46;|n&gt; else &#123;<br/>\t\tif &#40; $lengthof&#40;#new-minute#&#41;$ = 1 &#41; then set string &lt;minute-time; 0#new-minute#&gt; else set string &lt;minute-time; #new-minute#&gt;<br/>\t\tproperty &lt;game&#46;info; minute-time=#minute-time#&gt;<br/>\t\tmsg &lt;You set the current minute to #new-minute#&#46; The current time is now $objectproperty&#40;game&#46;info; hour-time&#41;$&#58;$objectproperty&#40;game&#46;info; minute-time&#41;$&#58;$objectproperty&#40;game&#46;info; second-time&#41;$ PST&#46;|n&gt;<br/>\t&#125;<br/>\tcommand &lt;set-second #new-second#&gt; if &#40; $objectproperty&#40;player%userid%; usrlvl&#41;$ &gt;= 5 &#41; then msg &lt;I don't understand what you typed&#46;|n&gt; else &#123;<br/>\t\tif &#40; $lengthof&#40;#new-second#&#41;$ = 1 &#41; then set string &lt;second-time; 0#new-second#&gt; else set string &lt;second-time; #new-second#&gt;<br/>\t\tproperty &lt;game&#46;info; second-time=#second-time#&gt;<br/>\t\tmsg &lt;You set the current second to #new-second#&#46; The current time is now $objectproperty&#40;game&#46;info; hour-time&#41;$&#58;$objectproperty&#40;game&#46;info; minute-time&#41;$&#58;$objectproperty&#40;game&#46;info; second-time&#41;$ PST&#46;|n&gt;<br/>\t&#125;<br/></code></pre><br/><br/><span style=\"font-weight:bold;\"> At the time this was made, Quest had a few more glitches than it does now, and wouldn't let one procedure reference another procedure at times, and other such inconveniences, so a cheat guide has been included of everything flat out that needs to be added. Also commands to properly call all the functions are needed, so they are included as well</span><br/><br/><br/><span style=\"font-weight:bold;\">PROCEDURES</span><br/><pre><code><br/>define procedure &lt;login&gt;<br/>\t\tproperty &lt;player%userid%; name=$objectproperty&#40;#login-name#-charsheet; name&#41;$&gt;<br/>\t\tproperty &lt;player%userid%; race=$objectproperty&#40;#login-name#-charsheet; race&#41;$&gt;<br/>\t\tproperty &lt;player%userid%; look=$objectproperty&#40;#login-name#-charsheet; look&#41;$&gt;<br/>\t\tproperty &lt;player%userid%; stance=$objectproperty&#40;#login-name#-charsheet; stance&#41;$&gt;<br/>\t\tproperty &lt;player%userid%; readied=$objectproperty&#40;#login-name#-charsheet; readied&#41;$&gt;<br/>\t\tproperty &lt;player%userid%; wielded=$objectproperty&#40;#login-name#-charsheet; wielded&#41;$&gt;<br/>\t\tproperty &lt;player%userid%; STR=$objectproperty&#40;#login-name#-charsheet; STR&#41;$&gt;<br/>\t\tproperty &lt;player%userid%; CON=$objectproperty&#40;#login-name#-charsheet; CON&#41;$&gt;<br/>\t\tproperty &lt;player%userid%; DEX=$objectproperty&#40;#login-name#-charsheet; DEX&#41;$&gt;<br/>\t\tproperty &lt;player%userid%; INT=$objectproperty&#40;#login-name#-charsheet; INT&#41;$&gt;<br/>\t\tproperty &lt;player%userid%; WIS=$objectproperty&#40;#login-name#-charsheet; WIS&#41;$&gt;<br/>\t\tproperty &lt;player%userid%; AUR=$objectproperty&#40;#login-name#-charsheet; AUR&#41;$&gt;<br/>\t\tproperty &lt;player%userid%; CHA=$objectproperty&#40;#login-name#-charsheet; CHA&#41;$&gt;<br/>\t\tproperty &lt;player%userid%; DIS=$objectproperty&#40;#login-name#-charsheet; DIS&#41;$&gt;<br/>\t\tproperty &lt;player%userid%; HP-MAX=$objectproperty&#40;#login-name#-charsheet; HP-MAX&#41;$&gt;<br/>\t\tproperty &lt;player%userid%; HP=$objectproperty&#40;#login-name#-charsheet; HP&#41;$&gt;<br/>\t\tproperty &lt;player%userid%; rt=$objectproperty&#40;#login-name#-charsheet; rt&#41;$&gt;<br/>end define<br/>define procedure &lt;take-check&gt; if here &lt;#target-object#&gt; then &#123;<br/>\tif property &lt;#target-object#; take&gt; then exec &lt;take-do&gt; else msg &lt;You cannot take that&#46;|n&gt;&#125;<br/>\telse msg &lt;I could not find what you were referring to&#46;|n&gt;\t<br/>end define<br/>define procedure &lt;take-do&gt; if &#40; $objectproperty&#40;player%userid%-r-hand; held&#41;$ = null &#41; then &#123;<br/>\t\tmove &lt;#target-object#; player%userid%-r-hand&gt;<br/>\t\tproperty &lt;player%userid%-r-hand; held=#target-object#&gt;<br/>\t\tmsg &lt;You pick up the $displayname&#40;#target-object# with your right hand&#46;|n&gt;<br/>\t&#125;<br/>\telse &#123;<br/>\t\tif &#40; $objectproperty&#40;player%userid%-l-hand; held&#41;$ = null &#41; then &#123;<br/>\t\t\tmove &lt;#target-object#; player%userid%-l-hand&gt;<br/>\t\t\tproperty &lt;player%userid%-l-hand; held=#target-object#&gt;<br/>\t\t\tmsg &lt;You pick up the #target-object# with your left hand&#46;|n&gt;<br/>\t\t&#125;<br/>\t\telse msg &lt;Both of your hands are full&#46;|n&gt;<br/>\t&#125;<br/><br/>end define<br/>define procedure &lt;look&gt; if here &lt;#target-object#&gt; then &#123; <br/>\tif &#40; $objectproperty&#40;#target-object#;look&#41;$ &lt;&gt; null &#41; then msg &lt;$objectproperty&#40;#target-object#; look&#41;$|n&gt; else &#123;<br/>\t\tmsg &lt;You notice nothing in particular about $objectproperty&#40;#target-object#; short&#41;$&#46;|n&gt;<br/>\t&#125;<br/>\telse msg &lt;I could not find what you were referring to&#46;|n&gt;<br/>\t&#125;<br/>end define<br/>define procedure &lt;drop&gt;<br/>if not &#40; $objectproperty&#40;player%userid%; HP&#41;$ &gt;= 0 &#41; then msg &lt;You are dead&#46;|n&gt; else &#123;<br/>\tif &#40; $objectproperty&#40;player%userid%; rt&#41;$ &lt;&gt; 0 &#41; then msg &lt;You haven't recovered enough from your last action to drop anything&#46;|n&gt; else &#123;<br/>\tif &#40; $objectproperty&#40;player%userid%-r-hand; held-name&#41;$ = #target-object# &#41; or &#40; $objectproperty&#40;player%userid%-l-hand; held-name&#41;$ = #target-object# &#41; then &#123;<br/>\t\tif &#40; $objectproperty&#40;player%userid%-r-hand; held-name&#41;$ = #target-object# &#41; then &#123;<br/>\t\t\tif &#40; $objectproperty&#40;player%userid%; offhand&#41;$ = player%userid%-r-hand &#41; then property &lt;player%userid%; readied=null&gt;<br/>\t\t\tif &#40; $objectproperty&#40;player%userid%; mainhand&#41;$ = player%userid%-r-hand &#41; then property &lt;player%userid%; wielded=null&gt;<br/>\t\t\tset string &lt;target-object; $objectproperty&#40;player%userid%-r-hand; held&#41;$&gt;<br/>\t\t\tmove &lt;#target-object#; #quest&#46;currentroom&#91;userid&#93;#&gt;<br/>\t\t\tproperty &lt;player%userid%-r-hand; held=null&gt;<br/>\t\t\tproperty &lt;player%userid%-r-hand; held-name=null&gt;<br/>\t\t\tproperty &lt;player%userid%-r-hand; held-short=a bare fist&gt;<br/>\t\t\tproperty &lt;player%userid%-r-hand; held-display=nothing&gt;<br/>\t\t\tmsg &lt;You drop $objectproperty&#40;#target-object#; short&#41;$ from your right hand&#46;|n&gt;<br/>\t\t&#125;<br/>\t\tif &#40; $objectproperty&#40;player%userid%-l-hand; held-name&#41;$ = #target-object# &#41; then &#123;<br/>\t\t\tif &#40; $objectproperty&#40;player%userid%; offhand&#41;$ = player%userid%-l-hand &#41; then property &lt;player%userid%; readied=null&gt;<br/>\t\t\tif &#40; $objectproperty&#40;player%userid%; mainhand&#41;$ = player%userid%-l-hand &#41; then property &lt;player%userid%; wielded=null&gt;<br/>\t\t\tset string &lt;target-object; $objectproperty&#40;player%userid%-l-hand; held&#41;$&gt;<br/>\t\t\tmove &lt;#target-object#; #quest&#46;currentroom&#91;userid&#93;#&gt;<br/>\t\t\tproperty &lt;player%userid%-l-hand; held=null&gt;<br/>\t\t\tproperty &lt;player%userid%-l-hand; held-name=null&gt;<br/>\t\t\tproperty &lt;player%userid%-l-hand; held-short=a bare fist&gt;<br/>\t\t\tproperty &lt;player%userid%-l-hand; held-display=nothing&gt;<br/>\t\t\tmsg &lt;You drop $objectproperty&#40;#target-object#; short&#41;$ from your left hand&#46;|n&gt;<br/>\t\t&#125;<br/>\t&#125;<br/>\telse msg &lt;You are not holding that&#46;|n&gt;<br/>\t&#125;<br/>\t&#125;<br/>end define<br/>define procedure &lt;glance&gt;<br/>\tmsg &lt;You have $objectproperty&#40;player%userid%-r-hand; held-display&#41;$ in your right hand and $objectproperty&#40;player%userid%-l-hand; held-display&#41;$ in your left hand&#46;|n&gt;<br/>end define<br/>'<br/>' SwAP PROCEDURES<br/>'<br/>define procedure &lt;swap-check&gt;<br/>\tif not &#40; $objectproperty&#40;player%userid%; HP&#41;$ &gt;= 0 &#41; then msg &lt;You are dead&#46;|n&gt; else &#123;<br/>\t\tif &#40; $objectproperty&#40;player%userid%; rt&#41;$ &lt;&gt; 0 &#41; then msg &lt;You haven't recovered enough from your last action to swap your hands&#46;|n&gt; else &#123;<br/>\t\t\tset string &lt;r-held; $objectproperty&#40;player%userid%-r-hand; held&#41;$&gt;<br/>\t\t\tset string &lt;l-held; $objectproperty&#40;player%userid%-l-hand; held&#41;$&gt;<br/>\t\t\tif exists &lt;#r-held#&gt; and exists &lt;#l-held#&gt; then do &lt;swap-both&gt; else &#123;<br/>\t\t\t\tif exists &lt;#r-held#&gt; and not exists &lt;#l-held#&gt; then do &lt;swap-right&gt; else &#123;\t\t<br/>\t\t\t\t\tif exists &lt;#l-held#&gt; and not exists &lt;#r-held#&gt; then do &lt;swap-left&gt; else msg &lt;You fidget with your hands&#46;|n&gt;<br/>\t\t\t\t&#125; <br/>\t\t\t&#125; <br/>\t\t&#125; <br/>\t&#125;<br/>end define<br/>define procedure &lt;swap-right&gt;<br/>\tif &#40; $objectproperty&#40;player%userid%; offhand&#41;$ = player%userid%-r-hand &#41; then property &lt;player%userid%; readied=null&gt;<br/>\tif &#40; $objectproperty&#40;player%userid%; mainhand&#41;$ = player%userid%-r-hand &#41; then property &lt;player%userid%; wielded=null&gt;<br/>\tset string &lt;r-object; $objectproperty&#40;player%userid%-r-hand; held&#41;$&gt;<br/>\tmove &lt;#r-object#; player%userid%-l-hand&gt;<br/>\tproperty &lt;player%userid%-r-hand; held=null&gt;<br/>\tproperty &lt;player%userid%-r-hand; held-name=null&gt;<br/>\tproperty &lt;player%userid%-r-hand; held-short=a bare fist&gt;<br/>\tproperty &lt;player%userid%-r-hand; held-display=nothing&gt;<br/>\tproperty &lt;player%userid%-l-hand; held=#r-object#&gt;<br/>\tproperty &lt;player%userid%-l-hand; held-name=$displayname&#40;#r-object#&#41;$&gt;<br/>\tproperty &lt;player%userid%-l-hand; held-short=$objectproperty&#40;#r-object#; short&#41;$&gt;<br/>\tif property &lt;#r-object#; prefix&gt; then property &lt;player%userid%-l-hand; held-display=$objectproperty&#40;#r-object#; prefix&#41;$ $displayname&#40;#r-object#&#41;$&gt;<br/>\tif property &lt;#r-object#; suffix&gt; then property &lt;player%userid%-l-hand; held-display=$objectproperty&#40;#r-object#; prefix&#41;$ $displayname&#40;#r-object#&#41;$$objectproperty&#40;#r-object#; suffix&#41;$&gt;<br/>\tmsg &lt;Ok&#46;|n&gt;<br/>end define<br/>define procedure &lt;swap-left&gt;<br/>\tif &#40; $objectproperty&#40;player%userid%; offhand&#41;$ = player%userid%-l-hand &#41; then property &lt;player%userid%; readied=null&gt;<br/>\tif &#40; $objectproperty&#40;player%userid%; mainhand&#41;$ = player%userid%-l-hand &#41; then property &lt;player%userid%; wielded=null&gt;<br/>\tset string &lt;l-object; $objectproperty&#40;player%userid%-l-hand; held&#41;$&gt;<br/>\tmove &lt;#l-object#; player%userid%-r-hand&gt;<br/>\tproperty &lt;player%userid%-l-hand; held=null&gt;<br/>\tproperty &lt;player%userid%-l-hand; held-name=null&gt;<br/>\tproperty &lt;player%userid%-l-hand; held-short=a bare fist&gt;<br/>\tproperty &lt;player%userid%-l-hand; held-display=nothing&gt;<br/>\tproperty &lt;player%userid%-r-hand; held=#l-object#&gt;<br/>\tproperty &lt;player%userid%-r-hand; held-name=$displayname&#40;#l-object#&#41;$&gt;<br/>\tproperty &lt;player%userid%-r-hand; held-short=$objectproperty&#40;#l-object#; short&#41;$&gt;<br/>\tif property &lt;#l-object#; prefix&gt; then property &lt;player%userid%-r-hand; held-display=$objectproperty&#40;#l-object#; prefix&#41;$ $displayname&#40;#l-object#&#41;$&gt;<br/>\tif property &lt;#l-object#; suffix&gt; then property &lt;player%userid%-r-hand; held-display=$objectproperty&#40;#l-object#; prefix&#41;$ $displayname&#40;#l-object#&#41;$$objectproperty&#40;#l-object#; suffix&#41;$&gt;<br/>\tmsg &lt;Ok&#46;|n&gt;<br/>end define<br/>define procedure &lt;swap-both&gt;<br/>\tif &#40; $objectproperty&#40;player%userid%; offhand&#41;$ = player%userid%-r-hand &#41; or &#40; $objectproperty&#40;player%userid%; offhand&#41;$ = player%userid%-l-hand &#41; then property &lt;player%userid%; readied=null&gt;<br/>\tif &#40; $objectproperty&#40;player%userid%; mainhand&#41;$ = player%userid%-r-hand &#41; or &#40; $objectproperty&#40;player%userid%; mainhand&#41;$ = player%userid%-l-hand &#41; then property &lt;player%userid%; wielded=null&gt;<br/>\tset string &lt;r-object; $objectproperty&#40;player%userid%-r-hand; held&#41;$&gt;<br/>\tset string &lt;l-object; $objectproperty&#40;player%userid%-l-hand; held&#41;$&gt;<br/>\tmove &lt;#r-object#; player%userid%-l-hand&gt;<br/>\tmove &lt;#l-object#; player%userid%-r-hand&gt;<br/>\tproperty &lt;player%userid%-l-hand; held=#r-object#&gt;<br/>\tproperty &lt;player%userid%-r-hand; held=#l-object#&gt;<br/>\tproperty &lt;player%userid%-l-hand; held-name=$displayname&#40;#r-object#&#41;$&gt;<br/>\tproperty &lt;player%userid%-r-hand; held-name=$displayname&#40;#l-object#&#41;$&gt;<br/>\tproperty &lt;player%userid%-l-hand; held-short=$objectproperty&#40;#r-object#; short&#41;$&gt;<br/>\tproperty &lt;player%userid%-r-hand; held-short=$objectproperty&#40;#l-object#; short&#41;$&gt;<br/>\tif property &lt;#l-object#; prefix&gt; then property &lt;player%userid%-r-hand; held-display=$objectproperty&#40;#l-object#; prefix&#41;$ $displayname&#40;#l-object#&#41;$&gt;<br/>\tif property &lt;#l-object#; suffix&gt; then property &lt;player%userid%-r-hand; held-display=$objectproperty&#40;#l-object#; prefix&#41;$ $displayname&#40;#l-object#&#41;$$objectproperty&#40;#l-object#; suffix&#41;$&gt;<br/>\tif property &lt;#r-object#; prefix&gt; then property &lt;player%userid%-l-hand; held-display=$objectproperty&#40;#r-object#; prefix&#41;$ $displayname&#40;#r-object#&#41;$&gt;<br/>\tif property &lt;#r-object#; suffix&gt; then property &lt;player%userid%-l-hand; held-display=$objectproperty&#40;#r-object#; prefix&#41;$ $displayname&#40;#r-object#&#41;$$objectproperty&#40;#r-object#; suffix&#41;$&gt;<br/>\tmsg &lt;Ok&#46;|n&gt;<br/>end define<br/>define procedure &lt;ready&gt;<br/>if not &#40; $objectproperty&#40;player%userid%; HP&#41;$ &gt;= 0 &#41; then msg &lt;You are dead&#46;|n&gt; else &#123;<br/>\tif &#40; $objectproperty&#40;player%userid%; rt&#41;$ &lt;&gt; 0 &#41; then msg &lt;You haven't recovered enough from your last action to ready anything&#46;|n&gt; else &#123;<br/>\tset string &lt;offhand; $objectproperty&#40;player%userid%; offhand&#41;$&gt;<br/>\tif &#40; $objectproperty&#40;#offhand#; held&#41;$ &lt;&gt; null &#41; then &#123;<br/>\t\tif property &lt;$objectproperty&#40;#offhand#; held&#41;$; weapon&gt; or property &lt;$objectproperty&#40;#offhand#; held&#41;$; shield&gt; then &#123;<br/>\t\t\tset string &lt;readied; $objectproperty&#40;#offhand#; held&#41;$&gt;<br/>\t\t\tproperty &lt;player%userid%; readied=#readied#&gt;<br/>\t\t\tmsg &lt;You ready $objectproperty&#40;#readied#; short&#41;$&#46;|n&gt;<br/>\t\t&#125;<br/>\t\telse msg &lt;You cannot ready that&#46;|n&gt;<br/>\t&#125;<br/>\telse msg &lt;You are not carrying anything to ready in your left hand&#46;|n&gt;<br/>\t&#125;<br/>\t&#125;<br/>end define<br/>define procedure &lt;wield&gt;<br/>if not &#40; $objectproperty&#40;player%userid%; HP&#41;$ &gt;= 0 &#41; then msg &lt;You are dead&#46;|n&gt; else &#123;<br/>\tif &#40; $objectproperty&#40;player%userid%; rt&#41;$ &lt;&gt; 0 &#41; then msg &lt;You haven't recovered enough from your last action to wield anything&#46;|n&gt; else &#123;<br/>\tset string &lt;mainhand; $objectproperty&#40;player%userid%; mainhand&#41;$&gt;<br/>\tif &#40; $objectproperty&#40;#mainhand#; held&#41;$ &lt;&gt; null &#41; then &#123;<br/>\t\tif property &lt;$objectproperty&#40;#mainhand#; held&#41;$; weapon&gt; then &#123;<br/>\t\t\tset string &lt;wielded; $objectproperty&#40;#mainhand#; held&#41;$&gt;<br/>\t\t\tproperty &lt;player%userid%; wielded=#wielded#&gt;<br/>\t\t\tmsg &lt;You wield $objectproperty&#40;#wielded#; short&#41;$&#46;|n&gt;<br/>\t\t&#125;<br/>\t\telse msg &lt;You cannot wield that&#46;|n&gt;<br/>\t&#125;<br/>\telse msg &lt;You are not carrying anything to wield&#46;|n&gt;<br/>\t&#125;<br/>\t&#125;<br/>end define<br/><br/>define procedure &lt;stance defensive&gt;<br/>\tproperty &lt;player%userid%; stance=5&gt;<br/>\tproperty &lt;player%userid%; stance-display=defensive&gt;<br/>\tmsg &lt;You move into a defensive stance&#46;|n&gt;<br/>end define<br/>define procedure &lt;stance guarded&gt;<br/>\tproperty &lt;player%userid%; stance=4&gt;<br/>\tproperty &lt;player%userid%; stance-display=guarded&gt;<br/>\tmsg &lt;You move into a guarded stance&#46;|n&gt;<br/>end define<br/>define procedure &lt;stance neutral&gt;<br/>\tproperty &lt;player%userid%; stance=3&gt;<br/>\tproperty &lt;player%userid%; stance-display=neutral&gt;<br/>\tmsg &lt;You move into a neutral stance&#46;|n&gt;<br/>end define<br/>define procedure &lt;stance forward&gt;<br/>\tproperty &lt;player%userid%; stance=2&gt;<br/>\tproperty &lt;player%userid%; stance-display=forward&gt;<br/>\tmsg &lt;You move into a forward stance&#46;|n&gt;<br/>end define<br/>define procedure &lt;stance offensive&gt;<br/>\tproperty &lt;player%userid%; stance=1&gt;<br/>\tproperty &lt;player%userid%; stance-display=offensive&gt;<br/>\tmsg &lt;You move into a offensive stance&#46;|n&gt;<br/>end define<br/>define procedure &lt;defensive-stance-rt-check&gt;<br/>\tif not &#40; $objectproperty&#40;player%userid%; HP&#41;$ &gt;= 0 &#41; then msg &lt;You are dead&#46;|n&gt; else &#123;<br/>\t\tif &#40; $objectproperty&#40;player%userid%; rt&#41;$ = 0 &#41; then do &lt;stance defensive&gt; else msg &lt;You haven't recovered enough from your last action to take a defensive stance&#46;|n&gt;<br/>\t&#125;<br/>end define<br/>define procedure &lt;guarded-stance-rt-check&gt;<br/>\tif not &#40; $objectproperty&#40;player%userid%; HP&#41;$ &gt;= 0 &#41; then msg &lt;You are dead&#46;|n&gt; else &#123;<br/>\t\tif &#40; $objectproperty&#40;player%userid%; rt&#41;$ = 0 &#41; then do &lt;stance guarded&gt; else msg &lt;You haven't recovered enough from your last action to take a guarded stance&#46;|n&gt;<br/>\t&#125;<br/>end define<br/>define procedure &lt;neutral-stance-rt-check&gt;<br/>\tif not &#40; $objectproperty&#40;player%userid%; HP&#41;$ &gt;= 0 &#41; then msg &lt;You are dead&#46;|n&gt; else &#123;<br/>\t\tif &#40; $objectproperty&#40;player%userid%; rt&#41;$ = 0 &#41; then do &lt;stance neutral&gt; else msg &lt;You haven't recovered enough from your last action to take a neutral stance&#46;|n&gt;<br/>\t&#125;<br/>end define<br/>define procedure &lt;forward-stance-rt-check&gt;<br/>\tif not &#40; $objectproperty&#40;player%userid%; HP&#41;$ &gt;= 0 &#41; then msg &lt;You are dead&#46;|n&gt; else &#123;<br/>\t\tif &#40; $objectproperty&#40;player%userid%; rt&#41;$ = 0 &#41; then do &lt;stance forward&gt; else msg &lt;You haven't recovered enough from your last action to take a forward stance&#46;|n&gt;<br/>\t&#125;<br/>end define<br/>define procedure &lt;offensive-stance-rt-check&gt;<br/>\tif not &#40; $objectproperty&#40;player%userid%; HP&#41;$ &gt;= 0 &#41; then msg &lt;You are dead&#46;|n&gt; else &#123;<br/>\t\tif &#40; $objectproperty&#40;player%userid%; rt&#41;$ = 0 &#41; then do &lt;stance offensive&gt; else msg &lt;You haven't recovered enough from your last action to take an offensive stance&#46;|n&gt;<br/>\t&#125;<br/>end define\t<br/>'<br/>' ENGAGEMENT SYSTEM<br/>'<br/>define procedure &lt;engage-check&gt;<br/>if not &#40; $objectproperty&#40;player%userid%; hp&#41;$ &gt;= 0 &#41; then msg &lt;You are dead&#46;|n&gt; else &#123;<br/>\tif &#40; $objectproperty&#40;player%userid%; rt&#41;$ &lt;&gt; 0 &#41; then msg &lt;You haven't recovered enough from your last action to engage anything&#46;|n&gt; else &#123;<br/>\t\tif here &lt;#target-object#&gt; then &#123;<br/>\t\t\tif property &lt;#target-object#; mob&gt; or property &lt;#target-object#; player&gt; then &#123;<br/>\t\t\t\tif &#40; #target-object# = player%userid% &#41; then msg &lt;You cannot engage yourself&#46;|n&gt; else &#123;<br/>\t\t\t\t\tif &#40; $objectproperty&#40;#target-object#; hp&#41;$ &lt;= 0 &#41; then msg &lt;That is already dead&#46;|n&gt; else &#123;<br/>\t\t\t\t\t\tif &#40; $objectproperty&#40;player%userid%; engaged&#41;$ = yes &#41; then msg &lt;You are already engaged&#46;|n&gt; else do &lt;engage-detect&gt;<br/>\t\t\t\t\t&#125;<br/>\t\t\t\telse msg &lt;You cannot engage that&#46;|n&gt;<br/>\t\t\t\t&#125;<br/>\t\t\telse msg &lt;I could not find what you were referring to&#46;|n&gt;<br/>\t\t\t&#125;<br/>\t\t&#125;<br/>\t&#125;<br/>&#125;\t<br/>end define<br/><br/>define procedure &lt;engage-detect&gt;<br/>if property &lt;#target-object#; mob&gt; then do &lt;engage-mob&gt;<br/>if property &lt;#target-object#; player&gt; then do &lt;engage-player&gt;<br/>end define<br/><br/>define procedure &lt;engage-player&gt;<br/>set string &lt;engager; $objectproperty&#40;player%userid%; name&#41;$&gt;<br/>set string &lt;engagee; $objectproperty&#40;#target-object#; name&#41;$&gt;<br/>set numeric &lt;engager&#46;add&#46;enemy; $objectproperty&#40;player%userid%; enemies&#41;$ + 1&gt;<br/>set numeric &lt;engagee&#46;add&#46;enemy; $objectproperty&#40;#target-object#; enemies&#41;$ + 1&gt;<br/>property &lt;player%userid%; enemies=%engager&#46;add&#46;enemy%&gt;<br/>property &lt;#target-object#; enemies=%engagee&#46;add&#46;enemy%&gt;<br/>property &lt;player%userid%; enemy-%engager&#46;add&#46;enemy%=#target-object#&gt;<br/>property &lt;#target-object#; enemy-%engagee&#46;add&#46;enemy%=player%userid%&gt;<br/>property &lt;player%userid%; enemy-%engager&#46;add&#46;enemy%-distance=5&gt;<br/>property &lt;#target-object#; enemy-%engagee&#46;add&#46;enemy%-distance=5&gt;<br/>property &lt;player%userid%; engaged=yes&gt;<br/>property &lt;#target-object#; engaged=yes&gt;<br/>msg &lt;You engage #engagee# in combat&#46;|n&gt;<br/>for each object in &lt;#quest&#46;currentroom#&gt; if property &lt;#quest&#46;thing#; player&gt; then &#123;<br/>\tif &#40; $objectproperty&#40;#quest&#46;thing#; name&#41;$ &lt;&gt; #engager# &#41; and &#40; $objectproperty&#40;#quest&#46;thing#; name&#41;$ &lt;&gt; #engagee#&#41; then msgto &lt;#quest&#46;thing#; #engager# engages #engagee# in combat&#46;|n&gt;<br/>\t&#125;<br/>msgto &lt;#target-object#; #engager# engages you in combat&#46;|n&gt;<br/>end define<br/><br/>define procedure &lt;engage-mob&gt;<br/>set string &lt;engager; $objectproperty&#40;player%userid%; name&#41;$&gt;<br/>if property &lt;#target-object#; prefix&gt; then set string &lt;engagee; $objectproperty&#40;#target-object#; prefix&#41;$ $objectproperty&#40;#target-object#; name&#41;$&gt; else set string &lt;engagee; $objectproperty&#40;#target-object#; name&#41;$&gt;<br/>set numeric &lt;engager&#46;add&#46;enemy; $objectproperty&#40;player%userid%; enemies&#41;$ + 1&gt;<br/>set numeric &lt;engagee&#46;add&#46;enemy; $objectproperty&#40;#target-object#; enemies&#41;$ + 1&gt;<br/>property &lt;player%userid%; enemies=%engager&#46;add&#46;enemy%&gt;<br/>property &lt;#target-object#; enemies=%engagee&#46;add&#46;enemy%&gt;<br/>property &lt;player%userid%; enemy-%engager&#46;add&#46;enemy%=#target-object#&gt;<br/>property &lt;#target-object#; enemy-%engagee&#46;add&#46;enemy%=player%userid%&gt;<br/>property &lt;player%userid%; enemy-%engager&#46;add&#46;enemy%-distance=5&gt;<br/>property &lt;#target-object#; enemy-%engagee&#46;add&#46;enemy%-distance=5&gt;<br/>property &lt;player%userid%; engaged=yes&gt;<br/>property &lt;player%userid%; engaged=yes&gt;<br/>msg &lt;You engage #engagee# in combat&#46;|n&gt;<br/>for each object in &lt;#quest&#46;currentroom#&gt; if property &lt;#quest&#46;thing#; player&gt; then &#123;<br/>\tif &#40; $objectproperty&#40;#quest&#46;thing#; name&#41;$ &lt;&gt; #engager# &#41; then msgto &lt;#quest&#46;thing#; #engager# engages #engagee# in combat&#46;|n&gt;<br/>\t&#125;<br/>end define<br/><br/>define procedure &lt;disengage-check&gt;<br/>if not &#40; $objectproperty&#40;player%userid%; hp&#41;$ &gt;= 0 &#41; then msg &lt;You are dead&#46;|n&gt; else &#123;<br/>\tif &#40; $objectproperty&#40;player%userid%; rt&#41;$ &lt;&gt; 0 &#41; then msg &lt;You haven't recovered enough from your last action to disengage from combat&#46;|n&gt; else &#123;<br/>\t\tif &#40; $objectproperty&#40;player%userid%; engaged&#41;$ = no &#41; then msg &lt;You aren't engaged&#46;|n&gt; else do &lt;disengage&gt;<br/>\t\t&#125;<br/>\t&#125;\t<br/>end define<br/><br/>define procedure &lt;disengage&gt;<br/>set string &lt;disengager; player%userid%&gt;<br/>set string &lt;disengager&#46;name; $objectproperty&#40;player%userid%; name&#41;$&gt;<br/>if &#40; $objectproperty&#40;player%userid%; engaged&#41;$ = no &#41; then msg &lt;You are not engaged&#46;|n&gt; else &#123;<br/>\tfor &lt;enemies; 1; $objectproperty&#40;player%userid%; enemies&#41;$&gt; if &#40; $objectproperty&#40;player%userid%; enemy-%enemies%-distance&#41;$ = 5 &#41; then &#123;<br/>\t\tset string &lt;disengaged; $objectproperty&#40;player%userid%; enemy-%enemies%&#41;$&gt;<br/>\t\tif property &lt;#disengaged#; prefix&gt; then set string &lt;disengaged&#46;enemy; $objectproperty&#40;#disengaged#; prefix&#41;$ $objectproperty&#40;#disengaged#; name&#41;$&gt; else set string &lt;disengaged&#46;enemy; $objectproperty&#40;#disengaged#; name&#41;$&gt;<br/>\t\tset numeric &lt;disengager&#46;enemies; $objectproperty&#40;player%userid%; enemies&#41;$ - 1&gt;<br/>\t\tset numeric &lt;disengaged&#46;enemies; $objectproperty&#40;#disengaged#; enemies&#41;$ - 1&gt;<br/>\t\tfor &lt;disengaging&#46;enemy; 1; $objectproperty&#40;#disengaged#; enemies&#41;$&gt; if &#40; $objectproperty&#40;#disengaged#; enemy-%disengaging&#46;enemy%&#41;$ = #disengager# &#41; then &#123; <br/>\t\t\tproperty &lt;#disengaged#; enemy-%disengaging&#46;enemy%=null&gt;<br/>\t\t\tproperty &lt;#disengaged#; enemy-%disengaging&#46;enemy%-distance=null&gt;<br/>\t\t&#125;<br/>\t\tproperty &lt;player%userid%; enemies=%disengager&#46;enemies%&gt;<br/>\t\tproperty &lt;#disengaged#; enemies=%disengaged&#46;enemies%&gt;<br/>\t\tproperty &lt;player%userid%; enemy-%enemies%-distance=null&gt;<br/>\t\tproperty &lt;player%userid%; enemy-%enemies%=null&gt;<br/>\t\tproperty &lt;player%userid%; attacking=null&gt;<br/>\t\tif &#40; $objectproperty&#40;player%userid%; enemies&#41;$ = 0 &#41; then property &lt;player%userid%; engaged=no&gt;<br/>\t\tif &#40; $objectproperty&#40;#disengaged#; enemies&#41;$ = 0 &#41; then property &lt;#disengaged#; engaged=no&gt;<br/>\t\tmsg &lt;You disengage from combat with #disengaged&#46;enemy#&#46;|n&gt;<br/>\t\tfor each object in &lt;#quest&#46;currentroom#&gt; if property &lt;#quest&#46;thing#; player&gt; then &#123;<br/>\t\t\tif &#40; $objectproperty&#40;#quest&#46;thing#; name&#41;$ &lt;&gt; #disengager&#46;name# &#41; and &#40; $objectproperty&#40;#quest&#46;thing#; name&#41;$ &lt;&gt; #disengaged&#46;enemy#&#41; then msgto &lt;#quest&#46;thing#; #disengager&#46;name# disengages from combat with #disengaged&#46;enemy#&#46;|n&gt;<br/>\t\t\t&#125;<br/>\t\tif property &lt;#disengaged#; player&gt; then msgto &lt;#disengaged#; #disengager&#46;name# disengages from combat with you&#46;|n&gt;\t\t<br/>\t\t&#125;<br/>\t\telse &#123;<br/>\t\t\tfor &lt;engaged&#46;enemies; 1; $objectproperty&#40;player%userid%; enemies&#41;$&gt; if &#40; $objectproperty&#40;player%userid%; enemy-%engaged&#46;enemies%-distance&#41;$ &lt;= 4 &#41; then &#123;<br/>\t\t\t\tset string &lt;engaged; $objectproperty&#40;player%userid%; enemy-%engaged&#46;enemies%&#41;$&gt;<br/>\t\t\t\tif property &lt;#engaged#; prefix&gt; then set string &lt;engaged&#46;enemy; $objectproperty&#40;#enaged#; prefix&#41;$ $objectproperty&#40;#engaged#; name&#41;$&gt; else set string &lt;engaged&#46;enemy; $objectproperty&#40;#engaged#; name&#41;$&gt;<br/>\t\t\t\tmsg &lt;You must retreat further in order to disengage from #engaged&#46;enemy#&#46;|n&gt;<br/>\t\t\t&#125;<br/>\t\t&#125;<br/>\t&#125;<br/>end define<br/><br/>define procedure &lt;advance-check&gt;<br/>if not &#40; $objectproperty&#40;player%userid%; hp&#41;$ &gt;= 0 &#41; then msg &lt;You are dead&#46;|n&gt; else &#123;<br/>\tif &#40; $objectproperty&#40;player%userid%; rt&#41;$ &lt;&gt; 0 &#41; then msg &lt;You haven't recovered enough from your last action to advance&#46;|n&gt; else &#123;<br/>\t\tif &#40; $objectproperty&#40;player%userid%; engaged&#41;$ = no &#41; then msg &lt;You aren't engaged&#46;|n&gt; else do &lt;advance&gt;<br/>\t\t&#125;<br/>\t&#125;\t<br/>end define<br/><br/>define procedure &lt;advance&gt;<br/>if &#40; $objectproperty&#40;player%userid%; engaged&#41;$ = no &#41; then msg &lt;You must engage an enemy before you can advance&#46;|n&gt; else &#123;<br/>\tfor &lt;enemies; 1; $objectproperty&#40;player%userid%; enemies&#41;$&gt; if &#40; $objectproperty&#40;player%userid%; enemy-%enemies%-distance&#41;$ &lt;= 1 &#41; then msg &lt;You cannot advance any closer to your opponent&#46;|n&gt; else &#123;<br/>\t\tset string &lt;advancee; $objectproperty&#40;player%userid%; enemy-%enemies%&#41;$&gt;<br/>\t\tset string &lt;advancer; player%userid%&gt;<br/>\t\tset string &lt;advancer&#46;name; $objectproperty&#40;player%userid%; name&#41;$&gt;<br/>\t\tset string &lt;advancee&#46;name; $objectproperty&#40;#advancee#; name&#41;$&gt;<br/>\t\tset numeric &lt;enemy&#46;distance; $objectproperty&#40;player%userid%; enemy-%enemies%-distance&#41;$ - 1&gt;<br/>\t\tproperty &lt;player%userid%; enemy-%enemies%-distance=%enemy&#46;distance%&gt;<br/>\t\tfor &lt;advancee&#46;enemies; 1; $objectproperty&#40;#advancee#; enemies&#41;$&gt; if &#40; $objectproperty&#40;#advancee#; enemy-%advancee&#46;enemies%&#41;$ = #advancer# &#41; then &#123; <br/>\t\t\tproperty &lt;#advancee#; enemy-%advancee&#46;enemies%-distance=%enemy&#46;distance%&gt;<br/>\t\t&#125;<br/>\t\tif &#40; %enemy&#46;distance% = 1 &#41; then &#123;<br/>\t\t\tproperty &lt;#advancer#; rt= 1&gt; <br/>\t\t\tmsg &lt;You close in on #advancee&#46;name#, coming within melee range&#46;|nRoundtime&#58; $objectproperty&#40;player%userid%; rt&#41;$ seconds|n&gt;<br/>\t\t\tmsgto &lt;#advancee#; #advancer&#46;name# closes in on you, coming within melee range&#46;|n&gt;<br/>\t\t\tfor each object in &lt;#quest&#46;currentroom#&gt; if property &lt;#quest&#46;thing#; player&gt; then &#123;<br/>\t\t\t\tif &#40; $objectproperty&#40;#quest&#46;thing#; name&#41;$ &lt;&gt; #advancer&#46;name# &#41; and &#40; $objectproperty&#40;#quest&#46;thing#; name&#41;$ &lt;&gt; #advancee&#46;name#&#41; then msgto &lt;#quest&#46;thing#; #advancer&#46;name# closes in on #advancee&#46;name#, coming within melee range&#46;|n&gt;<br/>\t\t\t&#125;<br/>\t\t&#125;<br/>\t\tif &#40; %enemy&#46;distance% = 2 &#41; then &#123; <br/>\t\t\tproperty &lt;#advancer#; rt= 2&gt;<br/>\t\t\tmsg &lt;You move within polearm range of #advancee&#46;name#&#46;|nRoundtime&#58; $objectproperty&#40;player%userid%; rt&#41;$ seconds|n&gt;<br/>\t\t\tmsgto &lt;#advancee#; #advancer&#46;name# moves in on you, coming within polearm range&#46;|n&gt;<br/>\t\t\tfor each object in &lt;#quest&#46;currentroom#&gt; if property &lt;#quest&#46;thing#; player&gt; then &#123;<br/>\t\t\t\tif &#40; $objectproperty&#40;#quest&#46;thing#; name&#41;$ &lt;&gt; #advancer&#46;name# &#41; and &#40; $objectproperty&#40;#quest&#46;thing#; name&#41;$ &lt;&gt; #advancee&#46;name#&#41; then msgto &lt;#quest&#46;thing#; #advancer&#46;name# moves to polearm range of #advancee&#46;name#&#46;|n&gt;<br/>\t\t\t&#125;<br/>\t\t&#125;<br/>\t\tif &#40; %enemy&#46;distance% = 3 &#41; then &#123; <br/>\t\t\tproperty &lt;#advancer#; rt= 2&gt;<br/>\t\t\tmsg &lt;You advance closer to #advancee&#46;name#&#46;|nRoundtime&#58; $objectproperty&#40;player%userid%; rt&#41;$ seconds|n&gt;<br/>\t\t\tmsgto &lt;#advancee#; #advancer&#46;name# advances closer towards you&#46;|nRoundtime&#58; $objectproperty&#40;player%userid%; rt&#41;$ seconds|n&gt;<br/>\t\t\tfor each object in &lt;#quest&#46;currentroom#&gt; if property &lt;#quest&#46;thing#; player&gt; then &#123;<br/>\t\t\t\tif &#40; $objectproperty&#40;#quest&#46;thing#; name&#41;$ &lt;&gt; #advancer&#46;name# &#41; and &#40; $objectproperty&#40;#quest&#46;thing#; name&#41;$ &lt;&gt; #advancee&#46;name#&#41; then msgto &lt;#quest&#46;thing#; #advancer&#46;name# advances closer towards #advancee&#46;name#&#46;|n&gt;<br/>\t\t\t&#125;<br/>\t\t&#125;<br/>\t\tif &#40; %enemy&#46;distance% = 4 &#41; then &#123;<br/>\t\t\tproperty &lt;#advancer#; rt= 3&gt;<br/>\t\t\tmsg &lt;You begin advancing towards #advancee&#46;name#&#46;|nRoundtime&#58; $objectproperty&#40;player%userid%; rt&#41;$ seconds|n&gt;<br/>\t\t\tmsgto &lt;#advancee#; #advancer&#46;name# begins advancing towards you&#46;|nRoundtime&#58; $objectproperty&#40;player%userid%; rt&#41;$ seconds|n&gt;<br/>\t\t\tfor each object in &lt;#quest&#46;currentroom#&gt; if property &lt;#quest&#46;thing#; player&gt; then &#123;<br/>\t\t\t\tif &#40; $objectproperty&#40;#quest&#46;thing#; name&#41;$ &lt;&gt; #advancer&#46;name# &#41; and &#40; $objectproperty&#40;#quest&#46;thing#; name&#41;$ &lt;&gt; #advancee&#46;name#&#41; then msgto &lt;#quest&#46;thing#; #advancer&#46;name# begins advancing on #advancee&#46;name#&#46;|n&gt;<br/>\t\t\t&#125;<br/>\t\t&#125;<br/>\t&#125;<br/>&#125;<br/>end define<br/><br/>define procedure &lt;retreat-check&gt;<br/>if not &#40; $objectproperty&#40;player%userid%; hp&#41;$ &gt;= 0 &#41; then msg &lt;You are dead&#46;|n&gt; else &#123;<br/>\tif &#40; $objectproperty&#40;player%userid%; rt&#41;$ &lt;&gt; 0 &#41; then msg &lt;You haven't recovered enough from your last action to retreat&#46;|n&gt; else &#123;<br/>\t\tif &#40; $objectproperty&#40;player%userid%; engaged&#41;$ = no &#41; then msg &lt;You aren't engaged&#46;|n&gt; else do &lt;retreat&gt;<br/>\t\t&#125;<br/>\t&#125;\t<br/>end define<br/><br/>define procedure &lt;retreat&gt;<br/>if &#40; $objectproperty&#40;player%userid%; engaged&#41;$ = no &#41; then msg &lt;You must engage an enemy before you can advance&#46;|n&gt; else &#123;<br/>\tfor &lt;enemies; 1; $objectproperty&#40;player%userid%; enemies&#41;$&gt; if &#40; $objectproperty&#40;player%userid%; enemy-%enemies%-distance&#41;$ = 5 &#41; then msg &lt;You cannot retreat any further without disengaging&#46;|n&gt; else &#123;<br/>\t\tset string &lt;retreatee; $objectproperty&#40;player%userid%; enemy-%enemies%&#41;$&gt;<br/>\t\tset string &lt;retreater; player%userid%&gt;<br/>\t\tset string &lt;retreater&#46;name; $objectproperty&#40;player%userid%; name&#41;$&gt;<br/>\t\tset string &lt;retreatee&#46;name; $objectproperty&#40;#retreatee#; name&#41;$&gt;<br/>\t\tset numeric &lt;enemy&#46;distance; $objectproperty&#40;player%userid%; enemy-%enemies%-distance&#41;$ + 1&gt;<br/>\t\tproperty &lt;player%userid%; enemy-%enemies%-distance=%enemy&#46;distance%&gt;<br/>\t\tfor &lt;retreatee&#46;enemies; 1; $objectproperty&#40;#retreatee#; enemies&#41;$&gt; if &#40; $objectproperty&#40;#retreatee#; enemy-%retreatee&#46;enemies%&#41;$ = #retreater# &#41; then &#123; <br/>\t\t\tproperty &lt;#retreatee#; enemy-%retreatee&#46;enemies%-distance=%enemy&#46;distance%&gt;<br/>\t\t&#125;<br/>\t\tif &#40; %enemy&#46;distance% = 2 &#41; then &#123;<br/>\t\t\tproperty &lt;#retreater#; rt= 1&gt; <br/>\t\t\tmsg &lt;You back away from #retreatee&#46;name# to polearm range&#46;|nRoundtime&#58; $objectproperty&#40;player%userid%; rt&#41;$ seconds|n&gt;<br/>\t\t\tmsgto &lt;#retreatee#; #retreater&#46;name# backs away to polearm range&#46;|n&gt;<br/>\t\t\tfor each object in &lt;#quest&#46;currentroom#&gt; if property &lt;#quest&#46;thing#; player&gt; then &#123;<br/>\t\t\t\tif &#40; $objectproperty&#40;#quest&#46;thing#; name&#41;$ &lt;&gt; #retreater&#46;name# &#41; and &#40; $objectproperty&#40;#quest&#46;thing#; name&#41;$ &lt;&gt; #retreatee&#46;name#&#41; then msgto &lt;#quest&#46;thing#; #retreater&#46;name# backs away from #retreatee&#46;name# to polearm range&#46;|n&gt;<br/>\t\t\t&#125;<br/>\t\t&#125;<br/>\t\tif &#40; %enemy&#46;distance% = 3 &#41; then &#123;<br/>\t\t\tproperty &lt;#retreater#; rt= 2&gt; <br/>\t\t\tmsg &lt;You fall back a bit from #retreatee&#46;name#&#46;|nRoundtime&#58; $objectproperty&#40;player%userid%; rt&#41;$ seconds|n&gt;<br/>\t\t\tmsgto &lt;#retreatee#; #retreater&#46;name# falls back a bit&#46;|n&gt;<br/>\t\t\tfor each object in &lt;#quest&#46;currentroom#&gt; if property &lt;#quest&#46;thing#; player&gt; then &#123;<br/>\t\t\t\tif &#40; $objectproperty&#40;#quest&#46;thing#; name&#41;$ &lt;&gt; #retreater&#46;name# &#41; and &#40; $objectproperty&#40;#quest&#46;thing#; name&#41;$ &lt;&gt; #retreatee&#46;name#&#41; then msgto &lt;#quest&#46;thing#; #retreater&#46;name# falls back from #retreatee&#46;name#&#46;|n&gt;<br/>\t\t\t&#125;<br/>\t\t&#125;<br/>\t\tif &#40; %enemy&#46;distance% = 4 &#41; then &#123;<br/>\t\t\tproperty &lt;#retreater#; rt= 2&gt;<br/>\t\t\tmsg &lt;You withdraw, putting some distance between you and #retreatee&#46;name#&#46;|nRoundtime&#58; $objectproperty&#40;player%userid%; rt&#41;$ seconds|n&gt;<br/>\t\t\tmsgto &lt;#retreatee#; #retreater&#46;name# withdraws, putting some distance between you&#46;|n&gt;<br/>\t\t\tfor each object in &lt;#quest&#46;currentroom#&gt; if property &lt;#quest&#46;thing#; player&gt; then &#123;<br/>\t\t\t\tif &#40; $objectproperty&#40;#quest&#46;thing#; name&#41;$ &lt;&gt; #retreater&#46;name# &#41; and &#40; $objectproperty&#40;#quest&#46;thing#; name&#41;$ &lt;&gt; #retreatee&#46;name#&#41; then msgto &lt;#quest&#46;thing#; #retreater&#46;name# withdraws, putting distance between $objectproperty&#40;player%userid%; sexdesc&#41;$self and #retreatee&#46;name#&#46;|n&gt;<br/>\t\t\t&#125;<br/>\t\t&#125;<br/>\t\tif &#40; %enemy&#46;distance% = 5 &#41; then &#123;<br/>\t\t\tproperty &lt;#retreater#; rt= 3&gt;<br/>\t\t\tmsg &lt;You retreat from #retreatee&#46;name# to a safe distance&#46;|nRoundtime&#58; $objectproperty&#40;player%userid%; rt&#41;$ seconds|n&gt;<br/>\t\t\tmsgto &lt;#retreatee#; #retreater&#46;name# retreats to a safe distance&#46;|n&gt;<br/>\t\t\tfor each object in &lt;#quest&#46;currentroom#&gt; if property &lt;#quest&#46;thing#; player&gt; then &#123;<br/>\t\t\t\tif &#40; $objectproperty&#40;#quest&#46;thing#; name&#41;$ &lt;&gt; #retreater&#46;name# &#41; and &#40; $objectproperty&#40;#quest&#46;thing#; name&#41;$ &lt;&gt; #retreatee&#46;name#&#41; then msgto &lt;#quest&#46;thing#; #retreater&#46;name# retreats to a safe distance from #retreatee&#46;name#&#46;|n&gt;<br/>\t\t\t&#125;<br/>\t\t&#125;<br/>\t&#125;<br/>&#125;<br/>end define<br/><br/>define procedure &lt;range-check&gt;<br/>if &#40; $objectproperty&#40;player%userid%; wielded&#41;$ &lt;&gt; null &#41; then set string &lt;weapon; $objectproperty&#40;player%userid%; wielded&#41;$&gt; else set string &lt;weapon; fist&gt;<br/>for &lt;enemy&#46;range; 1; $objectproperty&#40;player%userid%; enemies&#41;$&gt; if &#40; $objectproperty&#40;player%userid%; enemy-%enemy&#46;range%&#41;$ = #target-object# &#41; then &#123;<br/>\tif &#40; $objectproperty&#40;player%userid%; enemy-%enemy&#46;range%-distance&#41;$ &lt;= $objectproperty&#40;#weapon#; range&#41;$ &#41; then do &lt;combat-info&gt; else msg &lt;You must advance within range of your target&#46;|n&gt;<br/>\t&#125;<br/>end define<br/><br/>define procedure &lt;engaged-check&gt;<br/>if &#40; $objectproperty&#40;player%userid%; engaged&#41;$ &lt;&gt; yes &#41; then msg &lt;You are not engaged in combat&#46;|n&gt; else &#123;<br/>\tfor &lt;enemies&#46;engaged; 1; $objectproperty&#40;player%userid%; enemies&#41;$&gt; if &#40; $objectproperty&#40;player%userid%; enemy-%enemies&#46;engaged%&#41;$ &lt;&gt; #target-object# &#41; then msg &lt;You must engage your target first&#46;|n&gt; else do &lt;range-check&gt;<br/>\t&#125;<br/>end define<br/><br/>define procedure &lt;combat-check&gt; <br/>if &#40; player%userid% = #target-object# &#41; then msg &lt;You cannot attack yourself&#46;|n&gt; else &#123;<br/>\tif not &#40; $objectproperty&#40;player%userid%; HP&#41;$ &gt;= 0 &#41; then msg &lt;You are dead&#46;|n&gt; else &#123;<br/>\t\tif &#40; $objectproperty&#40;player%userid%; rt&#41;$ &lt;&gt; 0 &#41; then msg &lt;You haven't recovered enough from your last action to attack anything&#46;|n&gt; else &#123;<br/>\t\tif here &lt;#target-object#&gt; then &#123;<br/>\t\tif property &lt;#target-object#; object&gt; then msg &lt;You cannot attack that&#46;|n&gt; else &#123;<br/>\t\t\tif property &lt;#target-object#; mob&gt; or property &lt;#target-object#; player&gt; then &#123;<br/>\t\t\t\tif &#40; $objectproperty&#40;#target-object#; hp&#41;$ &lt;= 0 &#41; then msg &lt;That is already dead&#46;|n&gt; else &#123;<br/>\t\t\t\t\tset string &lt;mainhand; $objectproperty&#40;player%userid%; mainhand&#41;$&gt;<br/>\t\t\t\t\tif &#40; $objectproperty&#40;player%userid%; wielded&#41;$ = null &#41; and &#40; $objectproperty&#40;#mainhand#; held&#41;$ &lt;&gt; null &#41; then msg &lt;You must wield a weapon or empty your hand before attacking&#46;|n&gt; else do &lt;engaged-check&gt;<br/>\t\t\t\t&#125;<br/>\t\t\t&#125;<br/>\t\t&#125;<br/>\t\telse msg &lt;I could not find what you were referring to&#46;|n&gt;<br/>\t\t&#125;<br/>\t\t&#125;\t<br/>\t&#125;<br/>\t&#125;<br/>end define<br/><br/>define procedure &lt;combat-info&gt;<br/>\tproperty &lt;player%userid%; attacking=#target-object#&gt;<br/>\tset string &lt;attacker; player%userid%&gt;<br/>\tset string &lt;attacker-name; $objectproperty&#40;player%userid%; name&#41;$&gt;<br/>\tset string &lt;defender; #target-object#&gt;<br/>\tset string &lt;defender-name; $objectproperty&#40;#defender#; name&#41;$&gt;<br/>\tset numeric &lt;defender-con; $objectproperty&#40;#defender#; CON&#41;$&gt;<br/>\tset numeric &lt;defender-con-factor; %defender-con% / 10&gt;<br/>\tset string &lt;attacker-wielded; $objectproperty&#40;#attacker#; wielded&#41;$&gt;<br/>\tif &#40; $objectproperty&#40;#attacker#; wielded&#41;$ &lt;&gt; null &#41; then set string &lt;weapon-type; $objectproperty&#40;#attacker-wielded#; type&#41;$&gt; else set string &lt;weapon-type; fist&gt;<br/>\tset numeric &lt;types; $objectproperty&#40;#weapon-type#; types&#41;$&gt;<br/>\tset numeric &lt;attack-type-number; $rand&#40;1;%types%&#41;$&gt;<br/>\tset string &lt;attack-type; $objectproperty&#40;#weapon-type#; %attack-type-number%&#41;$&gt;<br/>\tset string &lt;attack-type-plural; $objectproperty&#40;#weapon-type#; %attack-type-number%-plural&#41;$&gt;<br/>\tset string &lt;attacker-readied; $objectproperty&#40;#attacker#; readied&#41;$&gt;<br/>\tif &#40; #attacker-wielded# &lt;&gt; null &#41; then set string &lt;attacker-wielded-short; $objectproperty&#40;#attacker-wielded#; short&#41;$&gt; else set string &lt;attacker-wielded-short; a bare fist&gt;<br/>\tset string &lt;defender-wielded; $objectproperty&#40;#defender#; wielded&#41;$&gt;<br/>\tset string &lt;defender-readied; $objectproperty&#40;#defender#; readied&#41;$&gt;<br/>\tset numeric &lt;attacker-bonus; $objectproperty&#40;#attacker#; as-boost&#41;$&gt;<br/>\tset numeric &lt;attacker-base-strength; $objectproperty&#40;#attacker#; STR&#41;$ / 4&gt;<br/>\tset numeric &lt;attacker-base-speed; $objectproperty&#40;#attacker#; DEX&#41;$ / 20&gt;<br/>\tif &#40; #attacker-wielded# = null &#41; then set numeric &lt;attacker-wielded-weight; 0&gt; else &#123;<br/>\t\tif property &lt;#attacker-wielded#; weight&gt; then set numeric &lt;attacker-wielded-weight; $objectproperty&#40;#attacker-wielded#; weight&#41;$&gt; else set numeric &lt;attacker-wielded-weight; $objectproperty&#40;#weapon-type#; weight&#41;$&gt;<br/>\t\t&#125;<br/>\tif &#40; #attacker-wielded# = null &#41; then set numeric &lt;attacker-wielded-speed; 0&gt; else &#123;<br/>\t\tif property &lt;#attacker-wielded#; speed&gt; then set numeric &lt;attacker-wielded-speed; $objectproperty&#40;#attacker-wielded#; speed&#41;$&gt; else set numeric &lt;attacker-wielded-speed; $objectproperty&#40;#weapon-type#; speed&#41;$&gt;<br/>\t\t&#125;<br/>\tset numeric &lt;attacker-wielded-rt; %attacker-wielded-weight% + %attacker-wielded-speed%&gt;<br/>\tset numeric &lt;attacker-skill-rt; 10 - %attacker-base-speed%&gt;<br/>\tset numeric &lt;attacker-rt; %attacker-wielded-rt% + %attacker-skill-rt%&gt;<br/>\tif &#40; #attacker-wielded# &lt;&gt; null &#41; then set numeric &lt;attacker-wielded-bonus; $objectproperty&#40;#attacker-wielded#; bonus&#41;$&gt; else set numeric &lt;attacker-wielded-bonus; 0&gt;<br/>\tset numeric &lt;attacker-stance; $objectproperty&#40;#attacker#; stance&#41;$&gt;<br/>\tset numeric &lt;attacker-stance-base; %attacker-base-strength% / %attacker-stance%&gt;<br/>\tset numeric &lt;defender-base-defense; $objectproperty&#40;#defender#; DEX&#41;$ / 4&gt;<br/>\tset numeric &lt;defender-stance; $objectproperty&#40;#defender#; stance&#41;$&gt;<br/>\tset numeric &lt;defender-stance-base; %defender-base-defense% * %defender-stance%&gt;<br/>\tif &#40; #defender-wielded# &lt;&gt; null &#41; then set numeric &lt;defender-wielded-bonus; $objectproperty&#40;#defender-wielded#; bonus&#41;$ / 2&gt; else set numeric &lt;defender-wielded-bonus; 0&gt;<br/>\tif &#40; #defender-wielded# &lt;&gt; null &#41; then set numeric &lt;defender-readied-bonus; $objectproperty&#40;#defender-readied#; bonus&#41;$&gt; else set numeric &lt;defender-readied-bonus; 0&gt;<br/>\tset numeric &lt;defender-equip-bonus; %defender-wielded-bonus% + %defender-readied-bonus%&gt;<br/>\tset numeric &lt;weapon-attack-strength; %attacker-stance-base% + %attacker-wielded-bonus%&gt;<br/>\tset numeric &lt;attack-strength; %weapon-attack-strength% + %attacker-bonus%&gt;<br/>\tset numeric &lt;defense-strength; %defender-stance-base% + %defender-equip-bonus%&gt;<br/>\tset numeric &lt;d100; $rand&#40;1;100&#41;$&gt;<br/>\tset numeric &lt;as-ds; %attack-strength% - %defense-strength%&gt;<br/>\tset numeric &lt;endroll; %as-ds% + %d100%&gt;<br/>\tset numeric &lt;endnum; %endroll% - 100&gt;<br/>\tif &#40; %endroll% &lt;= 100 &#41; then set string &lt;combat-message; A clean miss!&gt; else &#123;<br/>\t\tset numeric &lt;damage-num; %endnum% - %defender-con-factor%&gt;<br/>\t\tif &#40; %damage-num% &lt;= 0 &#41; then set numeric &lt;damage; 1&gt; else set numeric &lt;damage; %damage-num%&gt;<br/>\t\tset numeric &lt;new-hp; $objectproperty&#40;#defender#; hp&#41;$ - %damage%&gt;<br/>\t\tif &#40; %endnum% &gt;= 1 &#41; and &#40; %endnum% &lt;= 20 &#41; then set string &lt;combat-message; $objectproperty&#40;#weapon-type#; %attack-type-number%-1&#41;$ %damage% damage!&gt;<br/>\t\tif &#40; %endnum% &gt;= 20 &#41; and &#40; %endnum% &lt;= 40 &#41; then set string &lt;combat-message; $objectproperty&#40;#weapon-type#; %attack-type-number%-2&#41;$ %damage% damage!&gt;<br/>\t\tif &#40; %endnum% &gt;= 40 &#41; and &#40; %endnum% &lt;= 60 &#41; then set string &lt;combat-message; $objectproperty&#40;#weapon-type#; %attack-type-number%-3&#41;$ %damage% damage!&gt;<br/>\t\tif &#40; %endnum% &gt;= 60 &#41; and &#40; %endnum% &lt;= 80 &#41; then set string &lt;combat-message; $objectproperty&#40;#weapon-type#; %attack-type-number%-4&#41;$ %damage% damage!&gt;<br/>\t\tif &#40; %endnum% &gt;= 80 &#41; then set string &lt;combat-message; $objectproperty&#40;#weapon-type#; %attack-type-number%-5&#41;$ %damage% damage!&gt;<br/>\t\tproperty &lt;#defender#; hp=%new-hp%&gt;<br/>\t&#125;<br/>\tif &#40; $objectproperty&#40;#defender#; hp&#41;$ &lt;= 0 &#41; then set string &lt;combat-message; #combat-message#|n#defender-name# slumps to the ground and ceases living!&gt;<br/>\tmsg &lt;You #attack-type# at #defender-name# with #attacker-wielded-short#!|nAS&#58; %attack-strength% vs DS&#58; %defense-strength% + d100 roll&#58; %d100% = %endroll%|n#combat-message#|nRoundtime&#58; %attacker-rt% seconds|n|n&gt;<br/>\tif not property &lt;#defender#; mob&gt; then msgto &lt;#defender#; #attacker-name# #attack-type-plural# at you with #attacker-wielded-short#!|nAS&#58; %attack-strength% vs DS&#58; %defense-strength% + d100 roll&#58; %d100% = %endroll%|n#combat-message#|n|n&gt;<br/>\tdo &lt;activate-rt&gt;<br/>end define<br/>define procedure &lt;activate-rt&gt;<br/>\tproperty &lt;player%userid%; rt=%attacker-rt%&gt;<br/>end define<br/><br/>define procedure &lt;time&gt;<br/>'<br/>'Basic time running part of the script, goes through 24 hours of each day&#46;&#46;&#46; Note&#58; expand to include days, months, and years for wider range of use&#46;<br/>'<br/>\tset numeric &lt;second-time; $objectproperty&#40;game&#46;info; second-time&#41;$ + 01&gt;<br/>\tif &#40; %second-time% &gt;= 60 &#41; then &#123;<br/>\t\tset numeric &lt;minute-time; $objectproperty&#40;game&#46;info; minute-time&#41;$ +01&gt;<br/>\t\tset numeric &lt;second-time; 0&gt;<br/>\t\tset string &lt;s-format; %second-time%&gt;<br/>\t\tif &#40; $lengthof&#40;#s-format#&#41;$ = 1 &#41; then set string &lt;second-time; 0%second-time%&gt; else set string &lt;second-time; %second-time%&gt;<br/>\t\tif &#40; %minute-time% &gt;= 60 &#41; then &#123;<br/>\t\t\tset numeric &lt;hour-time; $objectproperty&#40;game&#46;info; hour-time&#41;$ +01&gt;<br/>\t\t\tset numeric &lt;minute-time; 0&gt;<br/>\t\t\tset string &lt;m-format; %minute-time%&gt;<br/>\t\t\tif &#40; $lengthof&#40;#m-format#&#41;$ = 1 &#41; then set string &lt;minute-time; 0%minute-time%&gt; else set string &lt;minute-time; %minute-time%&gt;<br/>\t\t\tif &#40; %hour-time% &gt;= 24 &#41; then &#123;<br/>\t\t\t\tset numeric &lt;hour-time; 0&gt;<br/>\t\t\t\tset string &lt;h-format; %hour-time%&gt;<br/>\t\t\t\tif &#40; $lengthof&#40;#h-format#&#41;$ = 1 &#41; then set string &lt;hour-time; 0%hour-time%&gt; else set string &lt;hour-time; %hour-time%&gt;<br/>\t\t\t&#125;<br/>\t\t\telse set string &lt;h-format; %hour-time%&gt;<br/>\t\t\tif &#40; $lengthof&#40;#h-format#&#41;$ = 1 &#41; then set string &lt;hour-time; 0%hour-time%&gt; else set string &lt;hour-time; %hour-time%&gt;<br/>\t\t\tproperty &lt;game&#46;info; hour-time=#hour-time#&gt;<br/>\t\t\tset string &lt;time; $objectproperty&#40;game&#46;info; hour-time&#41;$&#58;$objectproperty&#40;game&#46;info; minute-time&#41;$&#58;$objectproperty&#40;game&#46;info; second-time&#41;$&gt;<br/>\t\t&#125;<br/>\t\telse set string &lt;m-format; %minute-time%&gt;<br/>\t\tif &#40; $lengthof&#40;#m-format#&#41;$ = 1 &#41; then set string &lt;minute-time; 0%minute-time%&gt; else set string &lt;minute-time; %minute-time%&gt;<br/>\t\tproperty &lt;game&#46;info; minute-time=#minute-time#&gt;<br/>\t\tset string &lt;time; $objectproperty&#40;game&#46;info; hour-time&#41;$&#58;$objectproperty&#40;game&#46;info; minute-time&#41;$&#58;$objectproperty&#40;game&#46;info; second-time&#41;$&gt;<br/>\t&#125;<br/>\telse set string &lt;s-format; %second-time%&gt;<br/>\tif &#40; $lengthof&#40;#s-format#&#41;$ = 1 &#41; then set string &lt;second-time; 0%second-time%&gt; else set string &lt;second-time; %second-time%&gt;\t<br/>\tproperty &lt;game&#46;info; second-time=#second-time#&gt;<br/>\tset string &lt;time; $objectproperty&#40;game&#46;info; hour-time&#41;$&#58;$objectproperty&#40;game&#46;info; minute-time&#41;$&#58;$objectproperty&#40;game&#46;info; second-time&#41;$&gt;<br/>'\t<br/>'Roundtime modifying part of the script&#46;<br/>'<br/>\tfor each object in game &#123;<br/>\t\tif property &lt;#quest&#46;thing#; rt&gt; then &#123;<br/>\t\t\tif &#40; $objectproperty&#40;#quest&#46;thing#; rt&#41;$ &lt;&gt; 0 &#41; then &#123;<br/>\t\t\t\tset numeric &lt;#quest&#46;thing#-rt; $objectproperty&#40;#quest&#46;thing#; rt&#41;$ - 1&gt;<br/>\t\t\t\tproperty &lt;#quest&#46;thing#; rt=%#quest&#46;thing#-rt%&gt;<br/>\t\t\t\tif &#40; $objectproperty&#40;#quest&#46;thing#; rt&#41;$ = 0 &#41; then msgto &lt;#quest&#46;thing#; You feel ready to move again&#46;|n&gt;<br/>\t\t\t&#125;<br/>\t\t&#125;<br/>\t&#125;<br/>'<br/>'<br/>'<br/>\ttimeron &lt;time&gt;<br/>end define<br/></code></pre><br/><br/><br/><span style=\"font-weight:bold;\">TIMERS</span><br/><pre><code><br/>define timer &lt;time&gt;<br/>\tinterval &lt;1&gt;<br/>\taction do &lt;time&gt;<br/>\tenabled<br/>end define<br/></code></pre><br/><br/><span style=\"font-weight:bold;\">STARTSCRIPTS</span><br/><pre><code><br/>\tstartscript &#123;<br/>\t\tmsg &lt;TO DO LIST&#58;|n----------------------|nCreate clothing/armor/inventory system&#46;|nFigure out an automated merchant system&#46;|nOverride traveling system and connect/disconnect&#46;|nRevamp combat system&#46;&#46;&#46;|nie&#58; balance, attack verbs, ranged/dual/two-handed weapons, etc&#46;|n&gt;<br/>\t\tset numeric &lt;second-time; 00&gt;<br/>\t\tproperty &lt;game&#46;info; second-time=00&gt;<br/>\t\tset numeric &lt;minute-time; 00&gt;<br/>\t\tproperty &lt;game&#46;info; minute-time=00&gt;<br/>\t\tset numeric &lt;hour-time; 00&gt;<br/>\t\tproperty &lt;game&#46;info; hour-time=00&gt;<br/>\t\tset numeric &lt;player&#46;count; 0&gt;<br/>\t\tset numeric &lt;object&#46;count; 0&gt;<br/>\t\tset string &lt;player&#46;list; null&gt;<br/>\t\tset string &lt;format&#46;objects; null &gt;<br/>\t&#125;<br/>\tplayer startscript &#123;<br/>\t\tpanes off 'This is a preference of mine, can be on or off&#46;'<br/>\t\tbackground &lt;black&gt; 'Again preference, can be set to any <br/>\t\tforeground &lt;white&gt; 'available color&#46;                      '<br/>\t\tcreate room &lt;player%userid%-r-hand&gt;'These give the player the ability to hold objects in'<br/>\t\tproperty &lt;player%userid%-r-hand; held=null&gt;'hands, it is left open for some definition  '<br/>\t\tproperty &lt;player%userid%-r-hand; held-name=null&gt;'eventually support ambidexterity as well'<br/>\t\tproperty &lt;player%userid%-r-hand; held-short=a bare fist&gt;'as choosing to be left or right'<br/>\t\tproperty &lt;player%userid%-r-hand; held-display=nothing&gt;'handed'<br/>\t\tcreate room &lt;player%userid%-l-hand&gt; 'Same as above'<br/>\t\tproperty &lt;player%userid%-l-hand; held=null&gt;<br/>\t\tproperty &lt;player%userid%-l-hand; held-name=null&gt;<br/>\t\tproperty &lt;player%userid%-l-hand; held-short=a bare fist&gt;<br/>\t\tproperty &lt;player%userid%-l-hand; held-display=nothing&gt;<br/>\t\tset string &lt;name; $name&#40;%userid%&#41;$&gt; 'Defines display name variable as the entered Quest name'<br/>\t\tset numeric &lt;age; $rand&#40;16;35&#41;$&gt; 'Defines a random age for the player&#40;novelty&#41;'<br/>\t\tproperty &lt;player%userid%; name=$capfirst&#40;#name#&#41;$&gt; 'Formats the name and gives to player object'<br/>\t\tproperty &lt;player%userid%; alias=$capfirst&#40;#name#&#41;$&gt; 'Sets the display name'<br/>\t\tproperty &lt;player%userid%; race=Human&gt; 'Sets the player's race&#40;novelty&#41;'<br/>\t\tproperty &lt;player%userid%; sex=Male&gt; 'Sets the player's sex&#40;novelty&#41;'<br/>\t\tproperty &lt;player%userid%; level=0&gt; 'Sets the player's level&#40;novelty for now, but can be expanded&#41;'<br/>\t\tproperty &lt;player%userid%; age=%age%&gt; 'Applies the afore mentioned random age'<br/>\t\tproperty &lt;player%userid%; sexdesc=him&gt; 'Provides accurate description when using actions'<br/>\t\tproperty &lt;player%userid%; sexposs=his&gt; 'Same as above'<br/>\t\tproperty &lt;player%userid%; visibility=1&gt; 'Implemented for future use in redefining the &quot;look&quot; command'<br/>\t\tproperty &lt;player%userid%; look=You see $objectproperty&#40;player%userid%; name&#41;$ the $objectproperty&#40;player%userid%; race&#41;$&#46;|n&gt; 'Defines a default look description to override Quest default'<br/>\t\tproperty &lt;player%userid%; stance=5&gt; 'Puts the player by default in a defensive stance'<br/>\t\tproperty &lt;player%userid%; stance-display=defensive&gt; 'Describes the above'<br/>\t\tproperty &lt;player%userid%; offhand=player%userid%-l-hand&gt; 'Implemented for future support of choosing left-handed or right-handed'<br/>\t\tproperty &lt;player%userid%; mainhand=player%userid%-r-hand&gt; 'Same as above'<br/>\t\tproperty &lt;player%userid%; readied=null&gt; 'Set as null&#40;empty handed&#41;'<br/>\t\tproperty &lt;player%userid%; wielded=null&gt; 'Same as above'<br/>\t\tproperty &lt;player%userid%; as-boost=0&gt; 'Set to zero&#40;no boost&#41; property given for object/spells that provide generic attack boost'<br/>\t\tproperty &lt;player%userid%; ds-boost=0&gt; 'Same as above but for generic defense boost'<br/>\t\tproperty &lt;player%userid%; player&gt; 'Defines as a human controlled object'<br/>\t\tproperty &lt;player%userid%; STR=$rand&#40;20;100&#41;$&gt; 'Supplies random STRENGTH&#40;STR&#41; stat to initially start off with'<br/>\t\tproperty &lt;player%userid%; CON=$rand&#40;20;100&#41;$&gt; 'Supplies random CONSTITUTION&#40;CON&#41; stat to initially start off with'<br/>\t\tproperty &lt;player%userid%; DEX=$rand&#40;20;100&#41;$&gt; 'Supplies random DEXTERITY&#40;DEX&#41; stat to initially start off with'<br/>\t\tproperty &lt;player%userid%; INT=$rand&#40;20;100&#41;$&gt; 'Supplies random INTELLIGENCE&#40;INT&#41; stat to initially start off with'<br/>\t\tproperty &lt;player%userid%; WIS=$rand&#40;20;100&#41;$&gt; 'Supplies random WISDOM&#40;WIS&#41; stat to initially start off with'<br/>\t\tproperty &lt;player%userid%; AUR=$rand&#40;20;100&#41;$&gt; 'Supplies random AURA&#40;AUR&#41; stat to initially start off with'<br/>\t\tproperty &lt;player%userid%; CHA=$rand&#40;20;100&#41;$&gt; 'Supplies random CHARISMA&#40;CHA&#41; stat to initially start off with'<br/>\t\tproperty &lt;player%userid%; DIS=$rand&#40;20;100&#41;$&gt; 'Supplies random DISCIPLINE&#40;DIS&#41; stat to initially start off with'<br/>\t\tproperty &lt;player%userid%; engaged=no&gt; 'Set to no&#40;not engaged in combat&#41; used by combat system'<br/>\t\tproperty &lt;player%userid%; enemies=0&gt; 'Not engaged to any enemies so set to zero, used by combat system'<br/>\t\tproperty &lt;player%userid%; attacking=null&gt; 'Not currently attacking anybody or thing, set to null'<br/>\t\tproperty &lt;player%userid%; stealth=0&gt; 'A factor included for integration with a hiding system, ie; for redefined LOOK command'<br/>\t\tproperty &lt;player%userid%; visibility=1&gt; 'Included for integration with a hiding system, ie; for redefined LOOK command'<br/>\t\tproperty &lt;player%userid%; spotted=0&gt; 'Included for integration with a hiding system, ie; for redefined LOOK command'<br/>\t\tset numeric &lt;HP-temp; $objectproperty&#40;player%userid%; CON&#41;$ + $objectproperty&#40;player%userid%; AUR&#41;$&gt; 'Step in stat-based Hit Point calculation' <br/>\t\tset numeric &lt;HP; %HP-temp% /4&gt; 'step in stat-based Hit Point calculation'<br/>\t\tproperty &lt;player%userid%; HP-MAX=%HP%&gt; 'Assigns stat-based Hit Point maximum'<br/>\t\tproperty &lt;player%userid%; HP=%HP%&gt; 'Assigns current Hit Points out of maximum possible'<br/>\t\tset numeric &lt;player%userid%; 0&gt; 'Not documented yet'<br/>\t\tproperty &lt;player%userid%; rt=0&gt; 'Defines a natural zero roundtime property, a player can only act with a roundtime of zero'<br/><br/>\t&#125;<br/><br/></code></pre>",
      "PostDate": "2003-12-16T00:24:38+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "1815",
      "UserId": 0,
      "Username": "I think Im Dead",
      "UserAvatar": null,
      "UserGravatar": "662782b48efa4728f8d0773b83c01ddf",
      "EditableText": "[b:8ats3e8w]COMMANDS[/b:8ats3e8w]\n[code:8ats3e8w]\n\tcommand &lt;advance&gt; do &lt;advance-check&gt;\n\tcommand &lt;advanc&gt; do &lt;advance-check&gt;\n\tcommand &lt;advan&gt; do &lt;advance-check&gt;\n\tcommand &lt;adva&gt; do &lt;advance-check&gt;\n\tcommand &lt;adv&gt; do &lt;advance-check&gt;\n\tcommand &lt;retreat&gt; do &lt;retreat-check&gt;\n\tcommand &lt;retrea&gt; do &lt;retreat-check&gt;\n\tcommand &lt;retre&gt; do &lt;retreat-check&gt;\n\tcommand &lt;retr&gt; do &lt;retreat-check&gt;\n\tcommand &lt;ret&gt; do &lt;retreat-check&gt;\n\tcommand &lt;engage #@target-object#&gt; do &lt;engage-check&gt;\n\tcommand &lt;engag #@target-object#&gt; do &lt;engage-check&gt;\n\tcommand &lt;enga #@target-object#&gt; do &lt;engage-check&gt;\n\tcommand &lt;eng #@target-object#&gt; do &lt;engage-check&gt;\n\tcommand &lt;disengage&gt; do &lt;disengage-check&gt;\n\tcommand &lt;disengag&gt; do &lt;disengage-check&gt;\n\tcommand &lt;disenga&gt; do &lt;disengage-check&gt;\n\tcommand &lt;diseng&gt; do &lt;disengage-check&gt;\n\tcommand &lt;disen&gt; do &lt;disengage-check&gt;\n\tcommand &lt;time&gt; msg &lt;The current time is #time# PST&#46;|n&gt;\n\tcommand &lt;stance&gt; msg &lt;Your current stance is $objectproperty&#40;player%userid%; stance-display&#41;$&#46;|n|nAvailable stances are&#58;|nDefensive|nGuarded|nNeutral|nForward|nOffensive|n&gt;\n\tcommand &lt;stance defensive&gt; do &lt;defensive-stance-rt-check&gt;\n\tcommand &lt;stance defensiv&gt; do &lt;defensive-stance-rt-check&gt;\n\tcommand &lt;stance defensi&gt; do &lt;defensive-stance-rt-check&gt;\n\tcommand &lt;stance defens&gt; do &lt;defensive-stance-rt-check&gt;\n\tcommand &lt;stance defen&gt; do &lt;defensive-stance-rt-check&gt;\n\tcommand &lt;stance defe&gt; do &lt;defensive-stance-rt-check&gt;\n\tcommand &lt;stance def&gt; do &lt;defensive-stance-rt-check&gt;\n\tcommand &lt;stance de&gt; do &lt;defensive-stance-rt-check&gt;\n\tcommand &lt;stance d&gt; do &lt;defensive-stance-rt-check&gt;\n\tcommand &lt;stance guarded&gt; do &lt;guarded-stance-rt-check&gt;\n\tcommand &lt;stance guarde&gt; do &lt;guarded-stance-rt-check&gt;\n\tcommand &lt;stance guard&gt; do &lt;guarded-stance-rt-check&gt;\n\tcommand &lt;stance guar&gt; do &lt;guarded-stance-rt-check&gt;\n\tcommand &lt;stance gua&gt; do &lt;guarded-stance-rt-check&gt;\n\tcommand &lt;stance gu&gt; do &lt;guarded-stance-rt-check&gt;\n\tcommand &lt;stance g&gt; do &lt;guarded-stance-rt-check&gt;\n\tcommand &lt;stance neutral&gt; do &lt;neutral-stance-rt-check&gt;\n\tcommand &lt;stance neutra&gt; do &lt;neutral-stance-rt-check&gt;\n\tcommand &lt;stance neutr&gt; do &lt;neutral-stance-rt-check&gt;\n\tcommand &lt;stance neut&gt; do &lt;neutral-stance-rt-check&gt;\n\tcommand &lt;stance neu&gt; do &lt;neutral-stance-rt-check&gt;\n\tcommand &lt;stance ne&gt; do &lt;neutral-stance-rt-check&gt;\n\tcommand &lt;stance n&gt; do &lt;neutral-stance-rt-check&gt;\n\tcommand &lt;stance forward&gt; do &lt;forward-stance-rt-check&gt;\n\tcommand &lt;stance forwar&gt; do &lt;forward-stance-rt-check&gt;\n\tcommand &lt;stance forwa&gt; do &lt;forward-stance-rt-check&gt;\n\tcommand &lt;stance forw&gt; do &lt;forward-stance-rt-check&gt;\n\tcommand &lt;stance for&gt; do &lt;forward-stance-rt-check&gt;\n\tcommand &lt;stance fo&gt; do &lt;forward-stance-rt-check&gt;\n\tcommand &lt;stance f&gt; do &lt;forward-stance-rt-check&gt;\n\tcommand &lt;stance offensive&gt; do &lt;offensive-stance-rt-check&gt;\n\tcommand &lt;stance offensiv&gt; do &lt;offensive-stance-rt-check&gt;\n\tcommand &lt;stance offensi&gt; do &lt;offensive-stance-rt-check&gt;\n\tcommand &lt;stance offens&gt; do &lt;offensive-stance-rt-check&gt;\n\tcommand &lt;stance offen&gt; do &lt;offensive-stance-rt-check&gt;\n\tcommand &lt;stance offe&gt; do &lt;offensive-stance-rt-check&gt;\n\tcommand &lt;stance off&gt; do &lt;offensive-stance-rt-check&gt;\n\tcommand &lt;stance of&gt; do &lt;offensive-stance-rt-check&gt;\n\tcommand &lt;stance o&gt; do &lt;offensive-stance-rt-check&gt;\n\tcommand &lt;attack&gt; if &#40; $objectproperty&#40;player%userid%; attacking&#41;$ &lt;&gt; null &#41; then &#123;\n\t\tset string &lt;target-object; $objectproperty&#40;player%userid%; attacking&#41;$&gt;\n\t\tdo &lt;combat-check&gt;\n\t&#125;\n\telse msg &lt;Attack what?|n&gt;\n\tcommand &lt;attac&gt; if &#40; $objectproperty&#40;player%userid%; attacking&#41;$ &lt;&gt; null &#41; then &#123;\n\t\tset string &lt;target-object; $objectproperty&#40;player%userid%; attacking&#41;$&gt;\n\t\tdo &lt;combat-check&gt;\n\t&#125;\n\telse msg &lt;Attack what?|n&gt;\n\tcommand &lt;atta&gt; if &#40; $objectproperty&#40;player%userid%; attacking&#41;$ &lt;&gt; null &#41; then &#123;\n\t\tset string &lt;target-object; $objectproperty&#40;player%userid%; attacking&#41;$&gt;\n\t\tdo &lt;combat-check&gt;\n\t&#125;\n\telse msg &lt;Attack what?|n&gt;\n\tcommand &lt;att&gt; if &#40; $objectproperty&#40;player%userid%; attacking&#41;$ &lt;&gt; null &#41; then &#123;\n\t\tset string &lt;target-object; $objectproperty&#40;player%userid%; attacking&#41;$&gt;\n\t\tdo &lt;combat-check&gt;\n\t&#125;\n\telse msg &lt;Attack what?|n&gt;\n\tcommand &lt;kill&gt; if &#40; $objectproperty&#40;player%userid%; attacking&#41;$ &lt;&gt; null &#41; then &#123;\n\t\tset string &lt;target-object; $objectproperty&#40;player%userid%; attacking&#41;$&gt;\n\t\tdo &lt;combat-check&gt;\n\t&#125;\n\telse msg &lt;Kill what?|n&gt;\n\tcommand &lt;kil&gt; if &#40; $objectproperty&#40;player%userid%; attacking&#41;$ &lt;&gt; null &#41; then &#123;\n\t\tset string &lt;target-object; $objectproperty&#40;player%userid%; attacking&#41;$&gt;\n\t\tdo &lt;combat-check&gt;\n\t&#125;\n\telse msg &lt;Kill what?|n&gt;\n\tcommand &lt;hit&gt; if &#40; $objectproperty&#40;player%userid%; attacking&#41;$ &lt;&gt; null &#41; then &#123;\n\t\tset string &lt;target-object; $objectproperty&#40;player%userid%; attacking&#41;$&gt;\n\t\tdo &lt;combat-check&gt;\n\t&#125;\n\telse msg &lt;Hit what?|n&gt;\n\tcommand &lt;hi&gt; if &#40; $objectproperty&#40;player%userid%; attacking&#41;$ &lt;&gt; null &#41; then &#123;\n\t\tset string &lt;target-object; $objectproperty&#40;player%userid%; attacking&#41;$&gt;\n\t\tdo &lt;combat-check&gt;\n\t&#125;\n\telse msg &lt;Hit what?|n&gt;\n\tcommand &lt;attac&gt; do &lt;combat-check&gt;\n\tcommand &lt;atta&gt; do &lt;combat-check&gt;\n\tcommand &lt;attack #@target-object#&gt; do &lt;combat-check&gt;\n\tcommand &lt;attac #@target-object#&gt; do &lt;combat-check&gt;\n\tcommand &lt;atta #@target-object#&gt; do &lt;combat-check&gt;\n\tcommand &lt;att #@target-object#&gt; do &lt;combat-check&gt;\n\tcommand &lt;at #@target-object#&gt; do &lt;combat-check&gt;\n\tcommand &lt;kill #@target-object#&gt; do &lt;combat-check&gt;\n\tcommand &lt;kil #@target-object#&gt; do &lt;combat-check&gt;\n\tcommand &lt;hit #@target-object#&gt; do &lt;combat-check&gt;\n\tcommand &lt;hi #@target-object#&gt; do &lt;combat-check&gt;\n\tcommand &lt;ready&gt; do &lt;ready&gt;\n\tcommand &lt;wield&gt; do &lt;wield&gt;\n\tcommand &lt;swap&gt; do &lt;swap-check&gt;\n\tcommand &lt;swa&gt; do &lt;swap-check&gt;\n\tcommand &lt;sw&gt; do &lt;swap-check&gt;\n\tcommand &lt;look #@target-object#&gt; do &lt;look&gt;\n\tcommand &lt;loo #@target-object#&gt; do &lt;look&gt;\n\tcommand &lt;lo #@target-object#&gt; do &lt;look&gt;\n\tcommand &lt;l #@target-object#&gt; do &lt;look&gt;\n\tcommand &lt;look at #@target-object#&gt; do &lt;look&gt;\n\tcommand &lt;loo at #@target-object#&gt; do &lt;look&gt;\n\tcommand &lt;lo at #@target-object#&gt; do &lt;look&gt;\n\tcommand &lt;l at #@target-object#&gt; do &lt;look&gt;\n\tcommand &lt;take #@target-object#&gt; do &lt;take-check&gt;\n\tcommand &lt;get #@target-object#&gt; do &lt;take-check&gt;\n\tcommand &lt;grab #@target-object#&gt; do &lt;take-check&gt;\n\tcommand &lt;drop #target-object#&gt; do &lt;drop&gt;\n\tcommand &lt;glance&gt; do &lt;glance&gt;\n\tcommand &lt;as-boost #boost-number#&gt; if &#40; $objectproperty&#40;player%userid%; usrlvl&#41;$ &gt;= 2 &#41; then msg &lt;I don't understand what you typed&#46;|n&gt; else &#123;\n\t\tset numeric &lt;as-boost; $objectproperty&#40;player%userid%; as-boost&#41;$ + #boost-number#&gt;\n\t\tproperty &lt;player%userid%; as-boost=%as-boost%&gt;\n\t\tmsg &lt;You feel stronger&#46;|n&gt;\n\t\t&#125;\n\tcommand &lt;ds-boost #boost-number#&gt; if &#40; $objectproperty&#40;player%userid%; usrlvl&#41;$ &gt;= 2 &#41; then msg &lt;I don't understand what you typed&#46;|n&gt; else &#123;\n\t\tset numeric &lt;ds-boost; $objectproperty&#40;player%userid%; ds-boost&#41;$ + #boost-number#&gt;\n\t\tproperty &lt;player%userid%; ds-boost=%ds-boost%&gt;\n\t\tmsg &lt;You feel stronger&#46;|n&gt;\n\t\t&#125;\n\tcommand &lt;act&gt; if &#40; $objectproperty&#40;player%userid%; usrlvl&#41;$ &gt;= 2 &#41; then msg &lt;I don't understand what you typed&#46;|n&gt; else &#123;\n\t\tproperty &lt;player%userid%; rt=0&gt;\n\t\tmsg &lt;You feel ready to move again&#46;|n&gt;\n\t&#125;\n\tcommand &lt;stats&gt; &#123;\n\t\tproperty &lt;player%userid%; STR=$rand&#40;20;100&#41;$&gt;\n\t\tproperty &lt;player%userid%; CON=$rand&#40;20;100&#41;$&gt;\n\t\tproperty &lt;player%userid%; DEX=$rand&#40;20;100&#41;$&gt;\n\t\tproperty &lt;player%userid%; INT=$rand&#40;20;100&#41;$&gt;\n\t\tproperty &lt;player%userid%; WIS=$rand&#40;20;100&#41;$&gt;\n\t\tproperty &lt;player%userid%; AUR=$rand&#40;20;100&#41;$&gt;\n\t\tproperty &lt;player%userid%; CHA=$rand&#40;20;100&#41;$&gt;\n\t\tproperty &lt;player%userid%; DIS=$rand&#40;20;100&#41;$&gt;\n\t\tset numeric &lt;HP-temp; $objectproperty&#40;player%userid%; CON&#41;$ + $objectproperty&#40;player%userid%; AUR&#41;$&gt;\n\t\tset numeric &lt;HP; %HP-temp% /4&gt;\n\t\tproperty &lt;player%userid%; HP-MAX=%HP%&gt;\n\t\tproperty &lt;player%userid%; HP=%HP%&gt;\n\t\tset numeric &lt;player%userid%; 0&gt;\n\t\tmsg &lt;Your Stats are now&#46;&#46;&#46;|n|nStrength - $objectproperty&#40;player%userid%; STR&#41;$|nConstitution - $objectproperty&#40;player%userid%; CON&#41;$|nDexterity - $objectproperty&#40;player%userid%; DEX&#41;$|nIntelligence - $objectproperty&#40;player%userid%; INT&#41;$|nWisdom - $objectproperty&#40;player%userid%; WIS&#41;$|nAura - $objectproperty&#40;player%userid%; AUR&#41;$|nCharisma - $objectproperty&#40;player%userid%; CHA&#41;$|nDiscipline - $objectproperty&#40;player%userid%; DIS&#41;$|n&gt;\n\t&#125;\n\tcommand &lt;info&gt; &#123;\n\t\tmsg &lt;Name&#58; $objectproperty&#40;player%userid%; name&#41;$     Level&#58; $objectproperty&#40;player%userid%; level&#41;$|nRace&#58; $objectproperty&#40;player%userid%; race&#41;$      Age&#58; $objectproperty&#40;player%userid%; age&#41;$|nHealth&#58; $objectproperty&#40;player%userid%; hp&#41;$/$objectproperty&#40;player%userid%; hp-max&#41;$|n-----------------|nStrength - $objectproperty&#40;player%userid%; STR&#41;$|nConstitution - $objectproperty&#40;player%userid%; CON&#41;$|nDexterity - $objectproperty&#40;player%userid%; DEX&#41;$|nIntelligence - $objectproperty&#40;player%userid%; INT&#41;$|nWisdom - $objectproperty&#40;player%userid%; WIS&#41;$|nAura - $objectproperty&#40;player%userid%; AUR&#41;$|nCharisma - $objectproperty&#40;player%userid%; CHA&#41;$|nDiscipline - $objectproperty&#40;player%userid%; DIS&#41;$|n&gt;\n\t&#125;\n\tcommand &lt;inf&gt; &#123;\n\t\tmsg &lt;Name&#58; $objectproperty&#40;player%userid%; name&#41;$     Level&#58; $objectproperty&#40;player%userid%; level&#41;$|nRace&#58; $objectproperty&#40;player%userid%; race&#41;$      Age&#58; $objectproperty&#40;player%userid%; age&#41;$|nHealth&#58; $objectproperty&#40;player%userid%; hp&#41;$/$objectproperty&#40;player%userid%; hp-max&#41;$|n-----------------|nStrength - $objectproperty&#40;player%userid%; STR&#41;$|nConstitution - $objectproperty&#40;player%userid%; CON&#41;$|nDexterity - $objectproperty&#40;player%userid%; DEX&#41;$|nIntelligence - $objectproperty&#40;player%userid%; INT&#41;$|nWisdom - $objectproperty&#40;player%userid%; WIS&#41;$|nAura - $objectproperty&#40;player%userid%; AUR&#41;$|nCharisma - $objectproperty&#40;player%userid%; CHA&#41;$|nDiscipline - $objectproperty&#40;player%userid%; DIS&#41;$|n&gt;\n\t&#125;\n\tcommand &lt;warp to #target-room#&gt; if &#40; $objectproperty&#40;player%userid%; usrlvl&#41;$ &gt;= 2 &#41; then msg &lt;I don't understand what you typed&#46;|n&gt; else &#123; \n\t\t\tmsg &lt;You focus intently on your destination and begin to plane shift&#46;|n&gt;\n\t\t\tgoto &lt;#target-room#&gt;\n\t\t&#125;\n\tcommand &lt;show info&gt; displaytext &lt;info&gt;\n\tcommand &lt;take-do&gt; if &#40; $objectproperty&#40;player%userid%-r-hand; held&#41;$ = null &#41; then &#123;\n\t\tset string &lt;target-object; $getobjectname&#40;#target-object#&#41;$&gt;\n\t\tmove &lt;#target-object#; player%userid%-r-hand&gt;\n\t\tproperty &lt;player%userid%-r-hand; held=#target-object#&gt;\n\t\tproperty &lt;player%userid%-r-hand; held-name=$displayname&#40;#target-object#&#41;$&gt;\n\t\tproperty &lt;player%userid%-r-hand; held-short=$objectproperty&#40;#target-object#; short&#41;$&gt;\n\t\tif property &lt;#target-object#; prefix&gt; then property &lt;player%userid%-r-hand; held-display=$objectproperty&#40;#target-object#; prefix&#41;$ $displayname&#40;#target-object#&#41;$&gt;\n\t\tif property &lt;#target-object#; suffix&gt; then property &lt;player%userid%-r-hand; held-display=$objectproperty&#40;#target-object#; prefix&#41;$ $displayname&#40;#target-object#&#41;$$objectproperty&#40;#target-object#; suffix&#41;$&gt;\n\t\tmsg &lt;You pick up the $displayname&#40;#target-object#&#41;$ with your right hand&#46;|n&gt;\n\t&#125;\n\telse &#123;\n\t\tif &#40; $objectproperty&#40;player%userid%-l-hand; held&#41;$ = null &#41; then &#123;\n\t\t\tmove &lt;#target-object#; player%userid%-l-hand&gt;\n\t\t\tproperty &lt;player%userid%-l-hand; held=#target-object#&gt;\n\t\t\tproperty &lt;player%userid%-l-hand; held-name=$displayname&#40;#target-object#&#41;$&gt;\n\t\t\tproperty &lt;player%userid%-l-hand; held-short=$objectproperty&#40;#target-object#; short&#41;$&gt;\n\t\t\tif property &lt;#target-object#; prefix&gt; then property &lt;player%userid%-l-hand; held-display=$objectproperty&#40;#target-object#; prefix&#41;$ $displayname&#40;#target-object#&#41;$&gt;\n\t\t\tif property &lt;#target-object#; suffix&gt; then property &lt;player%userid%-l-hand; held-display=$objectproperty&#40;#target-object#; prefix&#41;$ $displayname&#40;#target-object#&#41;$$objectproperty&#40;#target-object#; suffix&#41;$&gt;\n\t\t\tmsg &lt;You pick up the $displayname&#40;#target-object#&#41;$ with your left hand&#46;|n&gt;\n\t\t&#125;\n\t\telse msg &lt;Both of your hands are full&#46;|n&gt;\n\t&#125;\n'\n'OBJECT-EDITING IMMORTAL COMMANDS\n'\n\tcommand &lt;set-hour #new-hour#&gt; if &#40; $objectproperty&#40;player%userid%; usrlvl&#41;$ &gt;= 5 &#41; then msg &lt;I don't understand what you typed&#46;|n&gt; else &#123;\n\t\tif &#40; $lengthof&#40;#new-hour#&#41;$ = 1 &#41; then set string &lt;hour-time; 0#new-hour#&gt; else set string &lt;hour-time; #new-hour#&gt;\n\t\tproperty &lt;game&#46;info; hour-time=#hour-time#&gt;\n\t\tmsg &lt;You set the current hour to #new-hour#&#46; The current time is now $objectproperty&#40;game&#46;info; hour-time&#41;$&#58;$objectproperty&#40;game&#46;info; minute-time&#41;$&#58;$objectproperty&#40;game&#46;info; second-time&#41;$ PST&#46;|n&gt;\n\t&#125;\n\tcommand &lt;set-minute #new-minute#&gt; if &#40; $objectproperty&#40;player%userid%; usrlvl&#41;$ &gt;= 5 &#41; then msg &lt;I don't understand what you typed&#46;|n&gt; else &#123;\n\t\tif &#40; $lengthof&#40;#new-minute#&#41;$ = 1 &#41; then set string &lt;minute-time; 0#new-minute#&gt; else set string &lt;minute-time; #new-minute#&gt;\n\t\tproperty &lt;game&#46;info; minute-time=#minute-time#&gt;\n\t\tmsg &lt;You set the current minute to #new-minute#&#46; The current time is now $objectproperty&#40;game&#46;info; hour-time&#41;$&#58;$objectproperty&#40;game&#46;info; minute-time&#41;$&#58;$objectproperty&#40;game&#46;info; second-time&#41;$ PST&#46;|n&gt;\n\t&#125;\n\tcommand &lt;set-second #new-second#&gt; if &#40; $objectproperty&#40;player%userid%; usrlvl&#41;$ &gt;= 5 &#41; then msg &lt;I don't understand what you typed&#46;|n&gt; else &#123;\n\t\tif &#40; $lengthof&#40;#new-second#&#41;$ = 1 &#41; then set string &lt;second-time; 0#new-second#&gt; else set string &lt;second-time; #new-second#&gt;\n\t\tproperty &lt;game&#46;info; second-time=#second-time#&gt;\n\t\tmsg &lt;You set the current second to #new-second#&#46; The current time is now $objectproperty&#40;game&#46;info; hour-time&#41;$&#58;$objectproperty&#40;game&#46;info; minute-time&#41;$&#58;$objectproperty&#40;game&#46;info; second-time&#41;$ PST&#46;|n&gt;\n\t&#125;\n[/code:8ats3e8w]\n\n[b:8ats3e8w]DISCONNECT[/b:8ats3e8w]\n\n[code:8ats3e8w]\n\tdisconnect &#123; \n\t\tset string &lt;disconnecting&#46;player; player%userid%&gt;\n\t\tfor each object in &lt;player%userid%-l-hand&gt; move &lt;#quest&#46;thing#; arena&gt;\n\t\tproperty &lt;player%userid%-l-hand; held=null&gt;\n\t\tproperty &lt;player%userid%-l-hand; held-name=null&gt;\n\t\tproperty &lt;player%userid%-l-hand; held-short=a bare fist&gt;\n\t\tproperty &lt;player%userid%-l-hand; held-display=nothing&gt;\n\t\tfor each object in &lt;player%userid%-r-hand&gt; move &lt;#quest&#46;thing#; arena&gt;\n\t\tproperty &lt;player%userid%-r-hand; held=null&gt;\n\t\tproperty &lt;player%userid%-r-hand; held-name=null&gt;\n\t\tproperty &lt;player%userid%-r-hand; held-short=a bare fist&gt;\n\t\tproperty &lt;player%userid%-r-hand; held-display=nothing&gt;\n\t\tfor &lt;local&#46;enemies; 1; $objectproperty&#40;player%userid%; enemies&#41;$&gt; &#123;\n\t\t\tset string &lt;disengage&#46;enemy; $objectproperty&#40;player%userid%; enemy-%local&#46;enemies%&#41;$&gt;\n\t\t\tset numeric &lt;enemy&#46;subtract; $objectproperty&#40;#disengage&#46;enemy#; enemies&#41;$ - 1&gt;\n\t\t\tset numeric &lt;local&#46;subtract; $objectproperty&#40;player%userid%; enemies&#41;$ - 1&gt;\n\t\t\tproperty &lt;player%userid%; enemy-%enemies%=null&gt;\n\t\t\tfor &lt;enemy&#46;enemies; 1; $objectproperty&#40;#disengage&#46;enemy#; enemies&#41;$&gt; if &#40; $objectproperty&#40;#disengage&#46;enemy#; enemy-%enemy&#46;enemies%&#41;$ = #disconnecting&#46;player# &#41; then &#123;\n\t\t\t\tproperty &lt;#disengage&#46;enemy#; enemy-%enemy&#46;enemies%=null&gt;\n\t\t\t\tproperty &lt;#disengage&#46;enemy#; enemy-%enemy&#46;enemies%-distance=null&gt;\n\t\t\t\tproperty &lt;#disengage&#46;enemy#; enemies=%enemy&#46;subtract%&gt;\n\t\t\t\tif &#40; $objectproperty&#40;#disengaged&#46;enemy#; enemies&#41;$ = 0 &#41; then property &lt;#disengaged&#46;enemy#; engaged=no&gt;\n\t\t\t&#125;\n\t\t\tproperty &lt;player%userid%; enemy-%enemies%-distance=null&gt;\n\t\t\tproperty &lt;player%userid%; enemies=%enemy&#46;subtract%&gt;\n\t\t\tif &#40; $objectproperty&#40;player%userid%; enemies&#41;$ = 0 &#41; then property &lt;player%userid%; engaged=no&gt;\n\t\t&#125;\n\t&#125;\n[/code:8ats3e8w]\n\n[b:8ats3e8w]ROOMS[/b:8ats3e8w]\n[code:8ats3e8w]\n\ndefine room &lt;arena&gt;\n\tproperties &lt;title=The Arena; sanct=0; look=Massive stone walls surround you on all sides forming the octagon you stand in&#46; The dirt beneath your feet is hard packed and riddled with traces of footsteps, all around you see remnants of skin and bones&#46;&gt;\n\tdefine object &lt;item1&gt;\n\t\talias &lt;falchion&gt;\n\t\tproperties &lt;visibility=1; range=1; take; object; weapon; type=broadsword; weight=3; speed=0; bonus=5; prefix=an engraved mithril; short=an engraved mithril falchion; look=The sword appears to be well-crafted and the intricate elven markings engraved into it only increase it's alure&#46;&gt;\n\tend define\n\tdefine object &lt;item2&gt;\n\t\talias &lt;club&gt;\n\t\tproperties &lt;visibility=1; range=1; take; object; weapon; weight=3; type=club; speed=0; bonus=5; prefix=a heavy iron; suffix=with a leather handle; short=a heavy iron club; look=The club is crudely crafted of oak and wrapped with a few strips of leather at the bottom for increased grip&#46;&gt;\n\tend define\n\tdefine object &lt;item3&gt;\n\t\talias &lt;shield&gt;\n\t\tproperties &lt;visibility=1; take; object; shield; bonus=5; prefix=a small; short=a small shield; look=The small shield is covered with dents and scratches, it appears to have survived more than a few battles&#46;|n&gt;\n\tend define\nend define\n\ndefine room &lt;vault&gt;\n\tproperties &lt;title=The Vault; sanct=0; look=This is the most sacred area of the game, the items found here contain properties all other items in the game use during the many complicated procedures that are run&#46;&gt;\n\tdefine object &lt;game&#46;info&gt;\n\t\talias &lt;game&#46;info&gt;\n\t\tproperties &lt;look=null; hour-time=00; minute-time=00; second-time=00&gt;\n\tend define\n\tdefine object &lt;game&#46;temp&gt;\n\t\talias &lt;game&#46;temp&gt;\n\t\tproperties &lt;look=null; player&#46;count=0; object&#46;count=0; format&#46;objects=null; format&#46;players=null; player&#46;list; object&#46;list&gt;\n\tend define\n\tdefine object &lt;broadsword&gt;\n\t\talias &lt;broadsword&gt;\n\t\tproperties &lt;look=null; short=the broadsword; weight=3; speed=0; types=3; 1=swing; 1-plural=swings; 2=stab; 2-plural=stabs; 3=slash; 3-plural=slashes; 1-1=Light swing clips the shoulder!; 1-2=Well-aimed shot bruises the leg!; 1-3=Solid blow to the stomach&#46;&#46;&#46; Those ribs might be broken!; 1-4=Huge swing breaks the spinal cord!; 1-5=Massive strike to the head caves in the skull!; 2-1=Weak jab to the leg, stop it that tickles!; 2-2=Quick stab to the chest draws blood!; 2-3=Skillfull strike to the leg&#46;&#46;&#46; That should slow 'em down!; 2-4=Powerful lunge to the stomach leaves quite a mess!; 2-5=Perfect attack impales opponent on blade!; 3-1=Flick of the wrist leaves a few scratches on the face!; 3-2=Quick slash to the leg exposes some muscle!; 3-3=Solid strike to the left arm digs into the bone!; 3-4=Deep swipe to the stomach reveals the insides!; 3-5=Incredible slash to the neck removes the head!&gt;\n\tend define\n\tdefine object &lt;club&gt;\n\t\talias &lt;club&gt;\n\t\tproperties &lt;look=null; short=the club; weight=1; speed=0; types=1; 1=swing; 1-plural=swings; 1-1=Off-balance swing taps the shin&#46; That might bruise!; 1-2=Sturdy shot to the forearm sprains the wrist!; 1-3=Strong blow to the shoulder knocks it out of the socket; 1-4=Powerful strike breaks both kneecaps!; 1-5=Enormous swing shatters the spine and ribcage to pieces!&gt;\n\tend define\n\tdefine object &lt;fist&gt;\n\t\talias &lt;fist&gt;\n\t\tproperties &lt;range=1; look=null; short=the fist weight=0; speed=0; types=1; 1=swing; 1-plural=swings; 1-1=Weak swing taps the forearm!; 1-2=Firm punch leaves the ribs sore!; 1-3=Quick jab to the face breaks the nose!; 1-4=Uppercut to the jaw breaks it!; 1-5=Two-handed hammer to the skull caves in the temples!&gt;\n\tend define\nend define\n\ndefine room &lt;accounts&gt;\n\tproperties &lt;title=Account Administration; sanct=1; look=This is the area of the game where player accounts are stored&#46;&gt;\nend define\n[/code:8ats3e8w]\n\n[b:8ats3e8w]AND IF ALL ELSE FAILS YOU CAN REFERENCE A COPY OF THE SOMEWHAT-ORIGINAL FILE AT [url=http&#58;//s88880570&#46;onlinehome&#46;us/asl/qnetbat&#46;asl:8ats3e8w]http://s88880570.onlinehome.us/asl/qnetbat.asl[/url:8ats3e8w][/b:8ats3e8w]",
      "EditableFormat": "bbcode",
      "HTML": "<span style=\"font-weight:bold;\">COMMANDS</span><br/><pre><code><br/>\tcommand &lt;advance&gt; do &lt;advance-check&gt;<br/>\tcommand &lt;advanc&gt; do &lt;advance-check&gt;<br/>\tcommand &lt;advan&gt; do &lt;advance-check&gt;<br/>\tcommand &lt;adva&gt; do &lt;advance-check&gt;<br/>\tcommand &lt;adv&gt; do &lt;advance-check&gt;<br/>\tcommand &lt;retreat&gt; do &lt;retreat-check&gt;<br/>\tcommand &lt;retrea&gt; do &lt;retreat-check&gt;<br/>\tcommand &lt;retre&gt; do &lt;retreat-check&gt;<br/>\tcommand &lt;retr&gt; do &lt;retreat-check&gt;<br/>\tcommand &lt;ret&gt; do &lt;retreat-check&gt;<br/>\tcommand &lt;engage #@target-object#&gt; do &lt;engage-check&gt;<br/>\tcommand &lt;engag #@target-object#&gt; do &lt;engage-check&gt;<br/>\tcommand &lt;enga #@target-object#&gt; do &lt;engage-check&gt;<br/>\tcommand &lt;eng #@target-object#&gt; do &lt;engage-check&gt;<br/>\tcommand &lt;disengage&gt; do &lt;disengage-check&gt;<br/>\tcommand &lt;disengag&gt; do &lt;disengage-check&gt;<br/>\tcommand &lt;disenga&gt; do &lt;disengage-check&gt;<br/>\tcommand &lt;diseng&gt; do &lt;disengage-check&gt;<br/>\tcommand &lt;disen&gt; do &lt;disengage-check&gt;<br/>\tcommand &lt;time&gt; msg &lt;The current time is #time# PST&#46;|n&gt;<br/>\tcommand &lt;stance&gt; msg &lt;Your current stance is $objectproperty&#40;player%userid%; stance-display&#41;$&#46;|n|nAvailable stances are&#58;|nDefensive|nGuarded|nNeutral|nForward|nOffensive|n&gt;<br/>\tcommand &lt;stance defensive&gt; do &lt;defensive-stance-rt-check&gt;<br/>\tcommand &lt;stance defensiv&gt; do &lt;defensive-stance-rt-check&gt;<br/>\tcommand &lt;stance defensi&gt; do &lt;defensive-stance-rt-check&gt;<br/>\tcommand &lt;stance defens&gt; do &lt;defensive-stance-rt-check&gt;<br/>\tcommand &lt;stance defen&gt; do &lt;defensive-stance-rt-check&gt;<br/>\tcommand &lt;stance defe&gt; do &lt;defensive-stance-rt-check&gt;<br/>\tcommand &lt;stance def&gt; do &lt;defensive-stance-rt-check&gt;<br/>\tcommand &lt;stance de&gt; do &lt;defensive-stance-rt-check&gt;<br/>\tcommand &lt;stance d&gt; do &lt;defensive-stance-rt-check&gt;<br/>\tcommand &lt;stance guarded&gt; do &lt;guarded-stance-rt-check&gt;<br/>\tcommand &lt;stance guarde&gt; do &lt;guarded-stance-rt-check&gt;<br/>\tcommand &lt;stance guard&gt; do &lt;guarded-stance-rt-check&gt;<br/>\tcommand &lt;stance guar&gt; do &lt;guarded-stance-rt-check&gt;<br/>\tcommand &lt;stance gua&gt; do &lt;guarded-stance-rt-check&gt;<br/>\tcommand &lt;stance gu&gt; do &lt;guarded-stance-rt-check&gt;<br/>\tcommand &lt;stance g&gt; do &lt;guarded-stance-rt-check&gt;<br/>\tcommand &lt;stance neutral&gt; do &lt;neutral-stance-rt-check&gt;<br/>\tcommand &lt;stance neutra&gt; do &lt;neutral-stance-rt-check&gt;<br/>\tcommand &lt;stance neutr&gt; do &lt;neutral-stance-rt-check&gt;<br/>\tcommand &lt;stance neut&gt; do &lt;neutral-stance-rt-check&gt;<br/>\tcommand &lt;stance neu&gt; do &lt;neutral-stance-rt-check&gt;<br/>\tcommand &lt;stance ne&gt; do &lt;neutral-stance-rt-check&gt;<br/>\tcommand &lt;stance n&gt; do &lt;neutral-stance-rt-check&gt;<br/>\tcommand &lt;stance forward&gt; do &lt;forward-stance-rt-check&gt;<br/>\tcommand &lt;stance forwar&gt; do &lt;forward-stance-rt-check&gt;<br/>\tcommand &lt;stance forwa&gt; do &lt;forward-stance-rt-check&gt;<br/>\tcommand &lt;stance forw&gt; do &lt;forward-stance-rt-check&gt;<br/>\tcommand &lt;stance for&gt; do &lt;forward-stance-rt-check&gt;<br/>\tcommand &lt;stance fo&gt; do &lt;forward-stance-rt-check&gt;<br/>\tcommand &lt;stance f&gt; do &lt;forward-stance-rt-check&gt;<br/>\tcommand &lt;stance offensive&gt; do &lt;offensive-stance-rt-check&gt;<br/>\tcommand &lt;stance offensiv&gt; do &lt;offensive-stance-rt-check&gt;<br/>\tcommand &lt;stance offensi&gt; do &lt;offensive-stance-rt-check&gt;<br/>\tcommand &lt;stance offens&gt; do &lt;offensive-stance-rt-check&gt;<br/>\tcommand &lt;stance offen&gt; do &lt;offensive-stance-rt-check&gt;<br/>\tcommand &lt;stance offe&gt; do &lt;offensive-stance-rt-check&gt;<br/>\tcommand &lt;stance off&gt; do &lt;offensive-stance-rt-check&gt;<br/>\tcommand &lt;stance of&gt; do &lt;offensive-stance-rt-check&gt;<br/>\tcommand &lt;stance o&gt; do &lt;offensive-stance-rt-check&gt;<br/>\tcommand &lt;attack&gt; if &#40; $objectproperty&#40;player%userid%; attacking&#41;$ &lt;&gt; null &#41; then &#123;<br/>\t\tset string &lt;target-object; $objectproperty&#40;player%userid%; attacking&#41;$&gt;<br/>\t\tdo &lt;combat-check&gt;<br/>\t&#125;<br/>\telse msg &lt;Attack what?|n&gt;<br/>\tcommand &lt;attac&gt; if &#40; $objectproperty&#40;player%userid%; attacking&#41;$ &lt;&gt; null &#41; then &#123;<br/>\t\tset string &lt;target-object; $objectproperty&#40;player%userid%; attacking&#41;$&gt;<br/>\t\tdo &lt;combat-check&gt;<br/>\t&#125;<br/>\telse msg &lt;Attack what?|n&gt;<br/>\tcommand &lt;atta&gt; if &#40; $objectproperty&#40;player%userid%; attacking&#41;$ &lt;&gt; null &#41; then &#123;<br/>\t\tset string &lt;target-object; $objectproperty&#40;player%userid%; attacking&#41;$&gt;<br/>\t\tdo &lt;combat-check&gt;<br/>\t&#125;<br/>\telse msg &lt;Attack what?|n&gt;<br/>\tcommand &lt;att&gt; if &#40; $objectproperty&#40;player%userid%; attacking&#41;$ &lt;&gt; null &#41; then &#123;<br/>\t\tset string &lt;target-object; $objectproperty&#40;player%userid%; attacking&#41;$&gt;<br/>\t\tdo &lt;combat-check&gt;<br/>\t&#125;<br/>\telse msg &lt;Attack what?|n&gt;<br/>\tcommand &lt;kill&gt; if &#40; $objectproperty&#40;player%userid%; attacking&#41;$ &lt;&gt; null &#41; then &#123;<br/>\t\tset string &lt;target-object; $objectproperty&#40;player%userid%; attacking&#41;$&gt;<br/>\t\tdo &lt;combat-check&gt;<br/>\t&#125;<br/>\telse msg &lt;Kill what?|n&gt;<br/>\tcommand &lt;kil&gt; if &#40; $objectproperty&#40;player%userid%; attacking&#41;$ &lt;&gt; null &#41; then &#123;<br/>\t\tset string &lt;target-object; $objectproperty&#40;player%userid%; attacking&#41;$&gt;<br/>\t\tdo &lt;combat-check&gt;<br/>\t&#125;<br/>\telse msg &lt;Kill what?|n&gt;<br/>\tcommand &lt;hit&gt; if &#40; $objectproperty&#40;player%userid%; attacking&#41;$ &lt;&gt; null &#41; then &#123;<br/>\t\tset string &lt;target-object; $objectproperty&#40;player%userid%; attacking&#41;$&gt;<br/>\t\tdo &lt;combat-check&gt;<br/>\t&#125;<br/>\telse msg &lt;Hit what?|n&gt;<br/>\tcommand &lt;hi&gt; if &#40; $objectproperty&#40;player%userid%; attacking&#41;$ &lt;&gt; null &#41; then &#123;<br/>\t\tset string &lt;target-object; $objectproperty&#40;player%userid%; attacking&#41;$&gt;<br/>\t\tdo &lt;combat-check&gt;<br/>\t&#125;<br/>\telse msg &lt;Hit what?|n&gt;<br/>\tcommand &lt;attac&gt; do &lt;combat-check&gt;<br/>\tcommand &lt;atta&gt; do &lt;combat-check&gt;<br/>\tcommand &lt;attack #@target-object#&gt; do &lt;combat-check&gt;<br/>\tcommand &lt;attac #@target-object#&gt; do &lt;combat-check&gt;<br/>\tcommand &lt;atta #@target-object#&gt; do &lt;combat-check&gt;<br/>\tcommand &lt;att #@target-object#&gt; do &lt;combat-check&gt;<br/>\tcommand &lt;at #@target-object#&gt; do &lt;combat-check&gt;<br/>\tcommand &lt;kill #@target-object#&gt; do &lt;combat-check&gt;<br/>\tcommand &lt;kil #@target-object#&gt; do &lt;combat-check&gt;<br/>\tcommand &lt;hit #@target-object#&gt; do &lt;combat-check&gt;<br/>\tcommand &lt;hi #@target-object#&gt; do &lt;combat-check&gt;<br/>\tcommand &lt;ready&gt; do &lt;ready&gt;<br/>\tcommand &lt;wield&gt; do &lt;wield&gt;<br/>\tcommand &lt;swap&gt; do &lt;swap-check&gt;<br/>\tcommand &lt;swa&gt; do &lt;swap-check&gt;<br/>\tcommand &lt;sw&gt; do &lt;swap-check&gt;<br/>\tcommand &lt;look #@target-object#&gt; do &lt;look&gt;<br/>\tcommand &lt;loo #@target-object#&gt; do &lt;look&gt;<br/>\tcommand &lt;lo #@target-object#&gt; do &lt;look&gt;<br/>\tcommand &lt;l #@target-object#&gt; do &lt;look&gt;<br/>\tcommand &lt;look at #@target-object#&gt; do &lt;look&gt;<br/>\tcommand &lt;loo at #@target-object#&gt; do &lt;look&gt;<br/>\tcommand &lt;lo at #@target-object#&gt; do &lt;look&gt;<br/>\tcommand &lt;l at #@target-object#&gt; do &lt;look&gt;<br/>\tcommand &lt;take #@target-object#&gt; do &lt;take-check&gt;<br/>\tcommand &lt;get #@target-object#&gt; do &lt;take-check&gt;<br/>\tcommand &lt;grab #@target-object#&gt; do &lt;take-check&gt;<br/>\tcommand &lt;drop #target-object#&gt; do &lt;drop&gt;<br/>\tcommand &lt;glance&gt; do &lt;glance&gt;<br/>\tcommand &lt;as-boost #boost-number#&gt; if &#40; $objectproperty&#40;player%userid%; usrlvl&#41;$ &gt;= 2 &#41; then msg &lt;I don't understand what you typed&#46;|n&gt; else &#123;<br/>\t\tset numeric &lt;as-boost; $objectproperty&#40;player%userid%; as-boost&#41;$ + #boost-number#&gt;<br/>\t\tproperty &lt;player%userid%; as-boost=%as-boost%&gt;<br/>\t\tmsg &lt;You feel stronger&#46;|n&gt;<br/>\t\t&#125;<br/>\tcommand &lt;ds-boost #boost-number#&gt; if &#40; $objectproperty&#40;player%userid%; usrlvl&#41;$ &gt;= 2 &#41; then msg &lt;I don't understand what you typed&#46;|n&gt; else &#123;<br/>\t\tset numeric &lt;ds-boost; $objectproperty&#40;player%userid%; ds-boost&#41;$ + #boost-number#&gt;<br/>\t\tproperty &lt;player%userid%; ds-boost=%ds-boost%&gt;<br/>\t\tmsg &lt;You feel stronger&#46;|n&gt;<br/>\t\t&#125;<br/>\tcommand &lt;act&gt; if &#40; $objectproperty&#40;player%userid%; usrlvl&#41;$ &gt;= 2 &#41; then msg &lt;I don't understand what you typed&#46;|n&gt; else &#123;<br/>\t\tproperty &lt;player%userid%; rt=0&gt;<br/>\t\tmsg &lt;You feel ready to move again&#46;|n&gt;<br/>\t&#125;<br/>\tcommand &lt;stats&gt; &#123;<br/>\t\tproperty &lt;player%userid%; STR=$rand&#40;20;100&#41;$&gt;<br/>\t\tproperty &lt;player%userid%; CON=$rand&#40;20;100&#41;$&gt;<br/>\t\tproperty &lt;player%userid%; DEX=$rand&#40;20;100&#41;$&gt;<br/>\t\tproperty &lt;player%userid%; INT=$rand&#40;20;100&#41;$&gt;<br/>\t\tproperty &lt;player%userid%; WIS=$rand&#40;20;100&#41;$&gt;<br/>\t\tproperty &lt;player%userid%; AUR=$rand&#40;20;100&#41;$&gt;<br/>\t\tproperty &lt;player%userid%; CHA=$rand&#40;20;100&#41;$&gt;<br/>\t\tproperty &lt;player%userid%; DIS=$rand&#40;20;100&#41;$&gt;<br/>\t\tset numeric &lt;HP-temp; $objectproperty&#40;player%userid%; CON&#41;$ + $objectproperty&#40;player%userid%; AUR&#41;$&gt;<br/>\t\tset numeric &lt;HP; %HP-temp% /4&gt;<br/>\t\tproperty &lt;player%userid%; HP-MAX=%HP%&gt;<br/>\t\tproperty &lt;player%userid%; HP=%HP%&gt;<br/>\t\tset numeric &lt;player%userid%; 0&gt;<br/>\t\tmsg &lt;Your Stats are now&#46;&#46;&#46;|n|nStrength - $objectproperty&#40;player%userid%; STR&#41;$|nConstitution - $objectproperty&#40;player%userid%; CON&#41;$|nDexterity - $objectproperty&#40;player%userid%; DEX&#41;$|nIntelligence - $objectproperty&#40;player%userid%; INT&#41;$|nWisdom - $objectproperty&#40;player%userid%; WIS&#41;$|nAura - $objectproperty&#40;player%userid%; AUR&#41;$|nCharisma - $objectproperty&#40;player%userid%; CHA&#41;$|nDiscipline - $objectproperty&#40;player%userid%; DIS&#41;$|n&gt;<br/>\t&#125;<br/>\tcommand &lt;info&gt; &#123;<br/>\t\tmsg &lt;Name&#58; $objectproperty&#40;player%userid%; name&#41;$     Level&#58; $objectproperty&#40;player%userid%; level&#41;$|nRace&#58; $objectproperty&#40;player%userid%; race&#41;$      Age&#58; $objectproperty&#40;player%userid%; age&#41;$|nHealth&#58; $objectproperty&#40;player%userid%; hp&#41;$/$objectproperty&#40;player%userid%; hp-max&#41;$|n-----------------|nStrength - $objectproperty&#40;player%userid%; STR&#41;$|nConstitution - $objectproperty&#40;player%userid%; CON&#41;$|nDexterity - $objectproperty&#40;player%userid%; DEX&#41;$|nIntelligence - $objectproperty&#40;player%userid%; INT&#41;$|nWisdom - $objectproperty&#40;player%userid%; WIS&#41;$|nAura - $objectproperty&#40;player%userid%; AUR&#41;$|nCharisma - $objectproperty&#40;player%userid%; CHA&#41;$|nDiscipline - $objectproperty&#40;player%userid%; DIS&#41;$|n&gt;<br/>\t&#125;<br/>\tcommand &lt;inf&gt; &#123;<br/>\t\tmsg &lt;Name&#58; $objectproperty&#40;player%userid%; name&#41;$     Level&#58; $objectproperty&#40;player%userid%; level&#41;$|nRace&#58; $objectproperty&#40;player%userid%; race&#41;$      Age&#58; $objectproperty&#40;player%userid%; age&#41;$|nHealth&#58; $objectproperty&#40;player%userid%; hp&#41;$/$objectproperty&#40;player%userid%; hp-max&#41;$|n-----------------|nStrength - $objectproperty&#40;player%userid%; STR&#41;$|nConstitution - $objectproperty&#40;player%userid%; CON&#41;$|nDexterity - $objectproperty&#40;player%userid%; DEX&#41;$|nIntelligence - $objectproperty&#40;player%userid%; INT&#41;$|nWisdom - $objectproperty&#40;player%userid%; WIS&#41;$|nAura - $objectproperty&#40;player%userid%; AUR&#41;$|nCharisma - $objectproperty&#40;player%userid%; CHA&#41;$|nDiscipline - $objectproperty&#40;player%userid%; DIS&#41;$|n&gt;<br/>\t&#125;<br/>\tcommand &lt;warp to #target-room#&gt; if &#40; $objectproperty&#40;player%userid%; usrlvl&#41;$ &gt;= 2 &#41; then msg &lt;I don't understand what you typed&#46;|n&gt; else &#123; <br/>\t\t\tmsg &lt;You focus intently on your destination and begin to plane shift&#46;|n&gt;<br/>\t\t\tgoto &lt;#target-room#&gt;<br/>\t\t&#125;<br/>\tcommand &lt;show info&gt; displaytext &lt;info&gt;<br/>\tcommand &lt;take-do&gt; if &#40; $objectproperty&#40;player%userid%-r-hand; held&#41;$ = null &#41; then &#123;<br/>\t\tset string &lt;target-object; $getobjectname&#40;#target-object#&#41;$&gt;<br/>\t\tmove &lt;#target-object#; player%userid%-r-hand&gt;<br/>\t\tproperty &lt;player%userid%-r-hand; held=#target-object#&gt;<br/>\t\tproperty &lt;player%userid%-r-hand; held-name=$displayname&#40;#target-object#&#41;$&gt;<br/>\t\tproperty &lt;player%userid%-r-hand; held-short=$objectproperty&#40;#target-object#; short&#41;$&gt;<br/>\t\tif property &lt;#target-object#; prefix&gt; then property &lt;player%userid%-r-hand; held-display=$objectproperty&#40;#target-object#; prefix&#41;$ $displayname&#40;#target-object#&#41;$&gt;<br/>\t\tif property &lt;#target-object#; suffix&gt; then property &lt;player%userid%-r-hand; held-display=$objectproperty&#40;#target-object#; prefix&#41;$ $displayname&#40;#target-object#&#41;$$objectproperty&#40;#target-object#; suffix&#41;$&gt;<br/>\t\tmsg &lt;You pick up the $displayname&#40;#target-object#&#41;$ with your right hand&#46;|n&gt;<br/>\t&#125;<br/>\telse &#123;<br/>\t\tif &#40; $objectproperty&#40;player%userid%-l-hand; held&#41;$ = null &#41; then &#123;<br/>\t\t\tmove &lt;#target-object#; player%userid%-l-hand&gt;<br/>\t\t\tproperty &lt;player%userid%-l-hand; held=#target-object#&gt;<br/>\t\t\tproperty &lt;player%userid%-l-hand; held-name=$displayname&#40;#target-object#&#41;$&gt;<br/>\t\t\tproperty &lt;player%userid%-l-hand; held-short=$objectproperty&#40;#target-object#; short&#41;$&gt;<br/>\t\t\tif property &lt;#target-object#; prefix&gt; then property &lt;player%userid%-l-hand; held-display=$objectproperty&#40;#target-object#; prefix&#41;$ $displayname&#40;#target-object#&#41;$&gt;<br/>\t\t\tif property &lt;#target-object#; suffix&gt; then property &lt;player%userid%-l-hand; held-display=$objectproperty&#40;#target-object#; prefix&#41;$ $displayname&#40;#target-object#&#41;$$objectproperty&#40;#target-object#; suffix&#41;$&gt;<br/>\t\t\tmsg &lt;You pick up the $displayname&#40;#target-object#&#41;$ with your left hand&#46;|n&gt;<br/>\t\t&#125;<br/>\t\telse msg &lt;Both of your hands are full&#46;|n&gt;<br/>\t&#125;<br/>'<br/>'OBJECT-EDITING IMMORTAL COMMANDS<br/>'<br/>\tcommand &lt;set-hour #new-hour#&gt; if &#40; $objectproperty&#40;player%userid%; usrlvl&#41;$ &gt;= 5 &#41; then msg &lt;I don't understand what you typed&#46;|n&gt; else &#123;<br/>\t\tif &#40; $lengthof&#40;#new-hour#&#41;$ = 1 &#41; then set string &lt;hour-time; 0#new-hour#&gt; else set string &lt;hour-time; #new-hour#&gt;<br/>\t\tproperty &lt;game&#46;info; hour-time=#hour-time#&gt;<br/>\t\tmsg &lt;You set the current hour to #new-hour#&#46; The current time is now $objectproperty&#40;game&#46;info; hour-time&#41;$&#58;$objectproperty&#40;game&#46;info; minute-time&#41;$&#58;$objectproperty&#40;game&#46;info; second-time&#41;$ PST&#46;|n&gt;<br/>\t&#125;<br/>\tcommand &lt;set-minute #new-minute#&gt; if &#40; $objectproperty&#40;player%userid%; usrlvl&#41;$ &gt;= 5 &#41; then msg &lt;I don't understand what you typed&#46;|n&gt; else &#123;<br/>\t\tif &#40; $lengthof&#40;#new-minute#&#41;$ = 1 &#41; then set string &lt;minute-time; 0#new-minute#&gt; else set string &lt;minute-time; #new-minute#&gt;<br/>\t\tproperty &lt;game&#46;info; minute-time=#minute-time#&gt;<br/>\t\tmsg &lt;You set the current minute to #new-minute#&#46; The current time is now $objectproperty&#40;game&#46;info; hour-time&#41;$&#58;$objectproperty&#40;game&#46;info; minute-time&#41;$&#58;$objectproperty&#40;game&#46;info; second-time&#41;$ PST&#46;|n&gt;<br/>\t&#125;<br/>\tcommand &lt;set-second #new-second#&gt; if &#40; $objectproperty&#40;player%userid%; usrlvl&#41;$ &gt;= 5 &#41; then msg &lt;I don't understand what you typed&#46;|n&gt; else &#123;<br/>\t\tif &#40; $lengthof&#40;#new-second#&#41;$ = 1 &#41; then set string &lt;second-time; 0#new-second#&gt; else set string &lt;second-time; #new-second#&gt;<br/>\t\tproperty &lt;game&#46;info; second-time=#second-time#&gt;<br/>\t\tmsg &lt;You set the current second to #new-second#&#46; The current time is now $objectproperty&#40;game&#46;info; hour-time&#41;$&#58;$objectproperty&#40;game&#46;info; minute-time&#41;$&#58;$objectproperty&#40;game&#46;info; second-time&#41;$ PST&#46;|n&gt;<br/>\t&#125;<br/></code></pre><br/><br/><span style=\"font-weight:bold;\">DISCONNECT</span><br/><br/><pre><code><br/>\tdisconnect &#123; <br/>\t\tset string &lt;disconnecting&#46;player; player%userid%&gt;<br/>\t\tfor each object in &lt;player%userid%-l-hand&gt; move &lt;#quest&#46;thing#; arena&gt;<br/>\t\tproperty &lt;player%userid%-l-hand; held=null&gt;<br/>\t\tproperty &lt;player%userid%-l-hand; held-name=null&gt;<br/>\t\tproperty &lt;player%userid%-l-hand; held-short=a bare fist&gt;<br/>\t\tproperty &lt;player%userid%-l-hand; held-display=nothing&gt;<br/>\t\tfor each object in &lt;player%userid%-r-hand&gt; move &lt;#quest&#46;thing#; arena&gt;<br/>\t\tproperty &lt;player%userid%-r-hand; held=null&gt;<br/>\t\tproperty &lt;player%userid%-r-hand; held-name=null&gt;<br/>\t\tproperty &lt;player%userid%-r-hand; held-short=a bare fist&gt;<br/>\t\tproperty &lt;player%userid%-r-hand; held-display=nothing&gt;<br/>\t\tfor &lt;local&#46;enemies; 1; $objectproperty&#40;player%userid%; enemies&#41;$&gt; &#123;<br/>\t\t\tset string &lt;disengage&#46;enemy; $objectproperty&#40;player%userid%; enemy-%local&#46;enemies%&#41;$&gt;<br/>\t\t\tset numeric &lt;enemy&#46;subtract; $objectproperty&#40;#disengage&#46;enemy#; enemies&#41;$ - 1&gt;<br/>\t\t\tset numeric &lt;local&#46;subtract; $objectproperty&#40;player%userid%; enemies&#41;$ - 1&gt;<br/>\t\t\tproperty &lt;player%userid%; enemy-%enemies%=null&gt;<br/>\t\t\tfor &lt;enemy&#46;enemies; 1; $objectproperty&#40;#disengage&#46;enemy#; enemies&#41;$&gt; if &#40; $objectproperty&#40;#disengage&#46;enemy#; enemy-%enemy&#46;enemies%&#41;$ = #disconnecting&#46;player# &#41; then &#123;<br/>\t\t\t\tproperty &lt;#disengage&#46;enemy#; enemy-%enemy&#46;enemies%=null&gt;<br/>\t\t\t\tproperty &lt;#disengage&#46;enemy#; enemy-%enemy&#46;enemies%-distance=null&gt;<br/>\t\t\t\tproperty &lt;#disengage&#46;enemy#; enemies=%enemy&#46;subtract%&gt;<br/>\t\t\t\tif &#40; $objectproperty&#40;#disengaged&#46;enemy#; enemies&#41;$ = 0 &#41; then property &lt;#disengaged&#46;enemy#; engaged=no&gt;<br/>\t\t\t&#125;<br/>\t\t\tproperty &lt;player%userid%; enemy-%enemies%-distance=null&gt;<br/>\t\t\tproperty &lt;player%userid%; enemies=%enemy&#46;subtract%&gt;<br/>\t\t\tif &#40; $objectproperty&#40;player%userid%; enemies&#41;$ = 0 &#41; then property &lt;player%userid%; engaged=no&gt;<br/>\t\t&#125;<br/>\t&#125;<br/></code></pre><br/><br/><span style=\"font-weight:bold;\">ROOMS</span><br/><pre><code><br/><br/>define room &lt;arena&gt;<br/>\tproperties &lt;title=The Arena; sanct=0; look=Massive stone walls surround you on all sides forming the octagon you stand in&#46; The dirt beneath your feet is hard packed and riddled with traces of footsteps, all around you see remnants of skin and bones&#46;&gt;<br/>\tdefine object &lt;item1&gt;<br/>\t\talias &lt;falchion&gt;<br/>\t\tproperties &lt;visibility=1; range=1; take; object; weapon; type=broadsword; weight=3; speed=0; bonus=5; prefix=an engraved mithril; short=an engraved mithril falchion; look=The sword appears to be well-crafted and the intricate elven markings engraved into it only increase it's alure&#46;&gt;<br/>\tend define<br/>\tdefine object &lt;item2&gt;<br/>\t\talias &lt;club&gt;<br/>\t\tproperties &lt;visibility=1; range=1; take; object; weapon; weight=3; type=club; speed=0; bonus=5; prefix=a heavy iron; suffix=with a leather handle; short=a heavy iron club; look=The club is crudely crafted of oak and wrapped with a few strips of leather at the bottom for increased grip&#46;&gt;<br/>\tend define<br/>\tdefine object &lt;item3&gt;<br/>\t\talias &lt;shield&gt;<br/>\t\tproperties &lt;visibility=1; take; object; shield; bonus=5; prefix=a small; short=a small shield; look=The small shield is covered with dents and scratches, it appears to have survived more than a few battles&#46;|n&gt;<br/>\tend define<br/>end define<br/><br/>define room &lt;vault&gt;<br/>\tproperties &lt;title=The Vault; sanct=0; look=This is the most sacred area of the game, the items found here contain properties all other items in the game use during the many complicated procedures that are run&#46;&gt;<br/>\tdefine object &lt;game&#46;info&gt;<br/>\t\talias &lt;game&#46;info&gt;<br/>\t\tproperties &lt;look=null; hour-time=00; minute-time=00; second-time=00&gt;<br/>\tend define<br/>\tdefine object &lt;game&#46;temp&gt;<br/>\t\talias &lt;game&#46;temp&gt;<br/>\t\tproperties &lt;look=null; player&#46;count=0; object&#46;count=0; format&#46;objects=null; format&#46;players=null; player&#46;list; object&#46;list&gt;<br/>\tend define<br/>\tdefine object &lt;broadsword&gt;<br/>\t\talias &lt;broadsword&gt;<br/>\t\tproperties &lt;look=null; short=the broadsword; weight=3; speed=0; types=3; 1=swing; 1-plural=swings; 2=stab; 2-plural=stabs; 3=slash; 3-plural=slashes; 1-1=Light swing clips the shoulder!; 1-2=Well-aimed shot bruises the leg!; 1-3=Solid blow to the stomach&#46;&#46;&#46; Those ribs might be broken!; 1-4=Huge swing breaks the spinal cord!; 1-5=Massive strike to the head caves in the skull!; 2-1=Weak jab to the leg, stop it that tickles!; 2-2=Quick stab to the chest draws blood!; 2-3=Skillfull strike to the leg&#46;&#46;&#46; That should slow 'em down!; 2-4=Powerful lunge to the stomach leaves quite a mess!; 2-5=Perfect attack impales opponent on blade!; 3-1=Flick of the wrist leaves a few scratches on the face!; 3-2=Quick slash to the leg exposes some muscle!; 3-3=Solid strike to the left arm digs into the bone!; 3-4=Deep swipe to the stomach reveals the insides!; 3-5=Incredible slash to the neck removes the head!&gt;<br/>\tend define<br/>\tdefine object &lt;club&gt;<br/>\t\talias &lt;club&gt;<br/>\t\tproperties &lt;look=null; short=the club; weight=1; speed=0; types=1; 1=swing; 1-plural=swings; 1-1=Off-balance swing taps the shin&#46; That might bruise!; 1-2=Sturdy shot to the forearm sprains the wrist!; 1-3=Strong blow to the shoulder knocks it out of the socket; 1-4=Powerful strike breaks both kneecaps!; 1-5=Enormous swing shatters the spine and ribcage to pieces!&gt;<br/>\tend define<br/>\tdefine object &lt;fist&gt;<br/>\t\talias &lt;fist&gt;<br/>\t\tproperties &lt;range=1; look=null; short=the fist weight=0; speed=0; types=1; 1=swing; 1-plural=swings; 1-1=Weak swing taps the forearm!; 1-2=Firm punch leaves the ribs sore!; 1-3=Quick jab to the face breaks the nose!; 1-4=Uppercut to the jaw breaks it!; 1-5=Two-handed hammer to the skull caves in the temples!&gt;<br/>\tend define<br/>end define<br/><br/>define room &lt;accounts&gt;<br/>\tproperties &lt;title=Account Administration; sanct=1; look=This is the area of the game where player accounts are stored&#46;&gt;<br/>end define<br/></code></pre><br/><br/><span style=\"font-weight:bold;\">AND IF ALL ELSE FAILS YOU CAN REFERENCE A COPY OF THE SOMEWHAT-ORIGINAL FILE AT <a href=\"http&#58;//s88880570&#46;onlinehome&#46;us/asl/qnetbat&#46;asl\" rel=\"nofollow\">http://s88880570.onlinehome.us/asl/qnetbat.asl</a></span>",
      "PostDate": "2003-12-16T00:27:20+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "1821",
      "UserId": 0,
      "Username": "paul_one",
      "UserAvatar": null,
      "UserGravatar": "fef8a1875028f4300bb683f29c432894",
      "EditableText": "DAMN YOU ITID!!!! <!-- s:lol: --><img src=\"{SMILIES_PATH}/icon_lol.gif\" alt=\":lol:\" title=\"Laughing\" /><!-- s:lol: --> \n\nAnyway, yeah. Loads of things that can be fixed and stuff...\n\nMy curiosity is why the multiple stances atc instead of parsing the first 3 letters after \"stance \" which would be easier (and I believe is used alot in TADS games).\n\nAnd why the multiple attacks? Surely you would have done exactly what you'd done with the multiple stances - just point them to the same procedure...\n\nAnyway, I'll have a look in some free time (probably at work most of the time) and contribute some stuff... You got any preferences over what is to be done? Like submit an e-mail to you or whatever? Produce several diversions of your file (like I have one, Ste has another and *you* have another).",
      "EditableFormat": "bbcode",
      "HTML": "DAMN YOU ITID!!!! <!-- s:lol: --><img src=\"{SMILIES_PATH}/icon_lol.gif\" alt=\":lol:\" title=\"Laughing\" /><!-- s:lol: --> <br/><br/>Anyway, yeah. Loads of things that can be fixed and stuff...<br/><br/>My curiosity is why the multiple stances atc instead of parsing the first 3 letters after \"stance \" which would be easier (and I believe is used alot in TADS games).<br/><br/>And why the multiple attacks? Surely you would have done exactly what you'd done with the multiple stances - just point them to the same procedure...<br/><br/>Anyway, I'll have a look in some free time (probably at work most of the time) and contribute some stuff... You got any preferences over what is to be done? Like submit an e-mail to you or whatever? Produce several diversions of your file (like I have one, Ste has another and *you* have another).",
      "PostDate": "2003-12-16T08:51:21+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "1825",
      "UserId": 0,
      "Username": "I think Im Dead",
      "UserAvatar": null,
      "UserGravatar": "662782b48efa4728f8d0773b83c01ddf",
      "EditableText": "Eh, I'm setting up an alternate section on my ftp space for asl and I'll make it public so you could create your own folder there and update a \"nightly\" whenever you make any modifications and put your own little readme in the folder with it stating what you've improved upon if that seems easy enough to everyone.\n\nAlso, at the time, I believe I was just like, eh, \"multiple commands for people who don't want to type it out all the way\", parsing would have been smarter but instead... a bout of complete laziness.",
      "EditableFormat": "bbcode",
      "HTML": "Eh, I'm setting up an alternate section on my ftp space for asl and I'll make it public so you could create your own folder there and update a \"nightly\" whenever you make any modifications and put your own little readme in the folder with it stating what you've improved upon if that seems easy enough to everyone.<br/><br/>Also, at the time, I believe I was just like, eh, \"multiple commands for people who don't want to type it out all the way\", parsing would have been smarter but instead... a bout of complete laziness.",
      "PostDate": "2003-12-16T15:59:12+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "1829",
      "UserId": 0,
      "Username": "Cryophile",
      "UserAvatar": null,
      "UserGravatar": "cbb093447274bd6d64613a0a60a7ab52",
      "EditableText": "Hmmm, kind of similar to how my script was going to be  <!-- s:shock: --><img src=\"{SMILIES_PATH}/icon_eek.gif\" alt=\":shock:\" title=\"Shocked\" /><!-- s:shock: --> \n\nMy magic system and map system are probably going to end up that large.   <!-- s:? --><img src=\"{SMILIES_PATH}/icon_e_confused.gif\" alt=\":?\" title=\"Confused\" /><!-- s:? -->  That's not including the battle system and my other systems.\n\nVery complex to the newbies lol. You'll have them confused after the third line.",
      "EditableFormat": "bbcode",
      "HTML": "Hmmm, kind of similar to how my script was going to be  <!-- s:shock: --><img src=\"{SMILIES_PATH}/icon_eek.gif\" alt=\":shock:\" title=\"Shocked\" /><!-- s:shock: --> <br/><br/>My magic system and map system are probably going to end up that large.   <!-- s:? --><img src=\"{SMILIES_PATH}/icon_e_confused.gif\" alt=\":?\" title=\"Confused\" /><!-- s:? -->  That's not including the battle system and my other systems.<br/><br/>Very complex to the newbies lol. You'll have them confused after the third line.",
      "PostDate": "2003-12-16T18:27:00+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "1831",
      "UserId": 0,
      "Username": "Cryophile",
      "UserAvatar": null,
      "UserGravatar": "cbb093447274bd6d64613a0a60a7ab52",
      "EditableText": "I hate to say this, but maybe I'll just incorporate ITID's combat system into The Sh4d0w Pr0j3kt (which has been halted for a while).\n\nI think I'm going to scrap the single-player version and not enter it in the IF Comp 2004. I'll start work on the multiplayer version as well as my client. Anyone got any ideas for a name?\n\nI may start on the single-player again some time, but I feel that a huge single-player RPG is somewhat boring. It was a good storyline and idea, but I know I won't get a good score in the competition because it's too long and involving. Since you can only play the game for two hour before voting, the players will only vaguely understand the plot before they are required to vote.\n\nThe multiplayer will sport a modified, as well as extended, version of ITID's script. Since it's got many of the features I was planning to add, why bother writing it myself?",
      "EditableFormat": "bbcode",
      "HTML": "I hate to say this, but maybe I'll just incorporate ITID's combat system into The Sh4d0w Pr0j3kt (which has been halted for a while).<br/><br/>I think I'm going to scrap the single-player version and not enter it in the IF Comp 2004. I'll start work on the multiplayer version as well as my client. Anyone got any ideas for a name?<br/><br/>I may start on the single-player again some time, but I feel that a huge single-player RPG is somewhat boring. It was a good storyline and idea, but I know I won't get a good score in the competition because it's too long and involving. Since you can only play the game for two hour before voting, the players will only vaguely understand the plot before they are required to vote.<br/><br/>The multiplayer will sport a modified, as well as extended, version of ITID's script. Since it's got many of the features I was planning to add, why bother writing it myself?",
      "PostDate": "2003-12-16T20:01:42+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "1834",
      "UserId": 0,
      "Username": "I think Im Dead",
      "UserAvatar": null,
      "UserGravatar": "662782b48efa4728f8d0773b83c01ddf",
      "EditableText": "Though it's pretty straight forward after looking at the code, I'll type up a quick tutorial on what properties player's need to use this, and perhaps a bit more, for now, I'd suggest to anyone that wants to use this for whatever reasons, to download the file and run it in QuestNet, then log on to their localhost and get a feel for it all. Eventually it needs to be put in a library, but for now, get used to running it and post away with any questions. \n\nIt's a beast but once you get aquainted, tame and easy going.",
      "EditableFormat": "bbcode",
      "HTML": "Though it's pretty straight forward after looking at the code, I'll type up a quick tutorial on what properties player's need to use this, and perhaps a bit more, for now, I'd suggest to anyone that wants to use this for whatever reasons, to download the file and run it in QuestNet, then log on to their localhost and get a feel for it all. Eventually it needs to be put in a library, but for now, get used to running it and post away with any questions. <br/><br/>It's a beast but once you get aquainted, tame and easy going.",
      "PostDate": "2003-12-17T03:46:56+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "1838",
      "UserId": 0,
      "Username": "paul_one",
      "UserAvatar": null,
      "UserGravatar": "fef8a1875028f4300bb683f29c432894",
      "EditableText": ".... It's actually about 4x larger than my current RPG battle system code.... <!-- s:oops: --><img src=\"{SMILIES_PATH}/icon_redface.gif\" alt=\":oops:\" title=\"Embarrassed\" /><!-- s:oops: --> \n\nMine's currently 15K, but is still missing loads of stuff I need to add. Plus I parse some stuff instead of using the loads of method's you used in that file <!-- s:P --><img src=\"{SMILIES_PATH}/icon_razz.gif\" alt=\":P\" title=\"Razz\" /><!-- s:P --> .\n\n.... Could you please re-explain what that game-tick thing is again?\nI remember you explained it in a private chat we had but I have forgotten and just need it re-explained. <!-- s:D --><img src=\"{SMILIES_PATH}/icon_e_biggrin.gif\" alt=\":D\" title=\"Very Happy\" /><!-- s:D -->",
      "EditableFormat": "bbcode",
      "HTML": ".... It's actually about 4x larger than my current RPG battle system code.... <!-- s:oops: --><img src=\"{SMILIES_PATH}/icon_redface.gif\" alt=\":oops:\" title=\"Embarrassed\" /><!-- s:oops: --> <br/><br/>Mine's currently 15K, but is still missing loads of stuff I need to add. Plus I parse some stuff instead of using the loads of method's you used in that file <!-- s:P --><img src=\"{SMILIES_PATH}/icon_razz.gif\" alt=\":P\" title=\"Razz\" /><!-- s:P --> .<br/><br/>.... Could you please re-explain what that game-tick thing is again?<br/>I remember you explained it in a private chat we had but I have forgotten and just need it re-explained. <!-- s:D --><img src=\"{SMILIES_PATH}/icon_e_biggrin.gif\" alt=\":D\" title=\"Very Happy\" /><!-- s:D -->",
      "PostDate": "2003-12-17T08:36:38+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "2066",
      "UserId": 0,
      "Username": "kingmorgoth99",
      "UserAvatar": null,
      "UserGravatar": "6e16b45adcde2bdc32a3e18443db0111",
      "EditableText": "THATS A SMALL SAMPLE CODE?!??!!?!?!?!!!?!!",
      "EditableFormat": "bbcode",
      "HTML": "THATS A SMALL SAMPLE CODE?!??!!?!?!?!!!?!!",
      "PostDate": "2004-01-08T21:29:18+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "2074",
      "UserId": 0,
      "Username": "GameBoy",
      "UserAvatar": null,
      "UserGravatar": "554e89a053350b96f686f324a6049e9d",
      "EditableText": "there is probably an even more advanced one he could do.  like adding experience charts, attribute charts, skill charts.  he could have is so depending on the weapon you have effects EVERYTHING you do in battle.",
      "EditableFormat": "bbcode",
      "HTML": "there is probably an even more advanced one he could do.  like adding experience charts, attribute charts, skill charts.  he could have is so depending on the weapon you have effects EVERYTHING you do in battle.",
      "PostDate": "2004-01-09T13:32:29+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "2085",
      "UserId": 0,
      "Username": "Cryophile",
      "UserAvatar": null,
      "UserGravatar": "cbb093447274bd6d64613a0a60a7ab52",
      "EditableText": "I was going to make an AD&amp;D game once... I never got around to it lol.",
      "EditableFormat": "bbcode",
      "HTML": "I was going to make an AD&amp;D game once... I never got around to it lol.",
      "PostDate": "2004-01-09T20:09:05+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "2329",
      "UserId": 0,
      "Username": "endymion",
      "UserAvatar": null,
      "UserGravatar": "de26ef9cb2dab8dfdf0b822ff60c03b2",
      "EditableText": "wow my battle system is nowhere near that complex...then again im only on the first 1/4 of my first game so im using workarounds and tossing the rand(#;#) function liberally around. \n\nI need to learn ASL i guess...use real coding so all the battles arent scripted.",
      "EditableFormat": "bbcode",
      "HTML": "wow my battle system is nowhere near that complex...then again im only on the first 1/4 of my first game so im using workarounds and tossing the rand(#;#) function liberally around. <br/><br/>I need to learn ASL i guess...use real coding so all the battles arent scripted.",
      "PostDate": "2004-02-07T15:22:13+00:00",
      "LastEditDate": null
    }
  ]
}
