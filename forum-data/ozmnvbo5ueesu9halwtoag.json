{
  "Topic": {
    "TopicId": "ozmnvbo5ueesu9halwtoag",
    "ForumId": "10",
    "Title": "Cannot figure out how to give",
    "LastUpdated": "2022-01-05T04:21:04.8717957Z",
    "ReplyCount": 0
  },
  "Posts": [
    {
      "PostId": "e7e115cc-4071-4ffb-a2a0-16cc8b02e21a",
      "UserId": 574990,
      "Username": "wariodude128",
      "AvatarUrl": "https://secure.gravatar.com/avatar/21a860b11d3438a330ea156bbea65c30?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "So I've set it up so an object can be given to another object while said object is in my inventory, but when I play the game to test it nothing happens. Even when I add Give to the inventory verbs on the Object tab. In the Use/Give tab for the first object, I have Handle objects individually for Give this to (other object) and a thing to happen. In the Use/Give tab for the second object, I have Handle object individually for Give (other object) to this. I thought one of those should have caused me to give the object to the other, but nope. Even specified which object it should be given to and what object is being given. What am I missing?",
      "EditableFormat": "markdown",
      "HTML": "<p>So I've set it up so an object can be given to another object while said object is in my inventory, but when I play the game to test it nothing happens. Even when I add Give to the inventory verbs on the Object tab. In the Use/Give tab for the first object, I have Handle objects individually for Give this to (other object) and a thing to happen. In the Use/Give tab for the second object, I have Handle object individually for Give (other object) to this. I thought one of those should have caused me to give the object to the other, but nope. Even specified which object it should be given to and what object is being given. What am I missing?</p>\n\n",
      "PostDate": "2022-01-05T04:21:04.8717957Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "0249360a-ae14-4dd4-85ee-6c345efbefa7",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "> In the Use/Give tab for the first object, I have Handle objects individually for Give this to (other object) and a thing to happen. In the Use/Give tab for the second object, I have Handle object individually for Give (other object) to this.\r\n\r\nSo is the thing not happening?\r\n\r\nIs the code you've put in there not working as expected? Is it giving an error message? Is it just doing nothing?\r\n\r\nYou have two scripts there. One of them should be running.  If it isn't, I think we'll need to see your game to work out why not.",
      "EditableFormat": "markdown",
      "HTML": "<blockquote>\n<p>In the Use/Give tab for the first object, I have Handle objects individually for Give this to (other object) and a thing to happen. In the Use/Give tab for the second object, I have Handle object individually for Give (other object) to this.</p>\n</blockquote>\n<p>So is the thing not happening?</p>\n<p>Is the code you've put in there not working as expected? Is it giving an error message? Is it just doing nothing?</p>\n<p>You have two scripts there. One of them should be running.  If it isn't, I think we'll need to see your game to work out why not.</p>\n\n",
      "PostDate": "2022-01-05T12:51:31.1758036Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "1824ddf4-ca17-463f-bcfd-ed5c6cd5ce14",
      "UserId": 574990,
      "Username": "wariodude128",
      "AvatarUrl": "https://secure.gravatar.com/avatar/21a860b11d3438a330ea156bbea65c30?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Well, when I click on give this to when running the game, what comes out is the game thinking I'm giving the object in my inventory to the object in my inventory. Obviously that should not be happening.",
      "EditableFormat": "markdown",
      "HTML": "<p>Well, when I click on give this to when running the game, what comes out is the game thinking I'm giving the object in my inventory to the object in my inventory. Obviously that should not be happening.</p>\n\n",
      "PostDate": "2022-01-05T15:27:12.1511374Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "9a1b8567-a669-4bdb-943b-20302858aa13",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "I'm sorry, that description isn't helpful. You say \"the game thinking I'm giving the object in my inventory to the object in my inventory\" - how do you know that? Have you got a script set to run in this case?\r\n\r\nIt would be much easier to solve this problem if you could share the game in question (or just the code for the relevant objects).\r\n\r\nI assume that for the inventory object, the option for \"Give (on its own)\" is set to \"Default behaviour\", and you have ticked the box for \"Display menu of objects this can be given to\". Is that right?\r\n\r\nDoes it display a menu of objects to choose from, or does it give the wrong response right away?",
      "EditableFormat": "markdown",
      "HTML": "<p>I'm sorry, that description isn't helpful. You say \"the game thinking I'm giving the object in my inventory to the object in my inventory\" - how do you know that? Have you got a script set to run in this case?</p>\n<p>It would be much easier to solve this problem if you could share the game in question (or just the code for the relevant objects).</p>\n<p>I assume that for the inventory object, the option for \"Give (on its own)\" is set to \"Default behaviour\", and you have ticked the box for \"Display menu of objects this can be given to\". Is that right?</p>\n<p>Does it display a menu of objects to choose from, or does it give the wrong response right away?</p>\n\n",
      "PostDate": "2022-01-05T21:32:32.969866Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "d8f6e273-0747-4455-8f3d-f1081022551e",
      "UserId": 574990,
      "Username": "wariodude128",
      "AvatarUrl": "https://secure.gravatar.com/avatar/21a860b11d3438a330ea156bbea65c30?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Well, that was silly of me. I didn't realize I had to checkmark a thing saying to display menu of objects this can be given to. Played the game and now I have a new problem: It lists objects other than the one it can be given to despite writing in the menu caption which object it should work on. Is there a way to make it so only the object I want to have it used on shows up as a hyperlink?",
      "EditableFormat": "markdown",
      "HTML": "<p>Well, that was silly of me. I didn't realize I had to checkmark a thing saying to display menu of objects this can be given to. Played the game and now I have a new problem: It lists objects other than the one it can be given to despite writing in the menu caption which object it should work on. Is there a way to make it so only the object I want to have it used on shows up as a hyperlink?</p>\n\n",
      "PostDate": "2022-01-05T22:53:54.5484083Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "d6fc4c95-267d-4d0a-b96e-71c538513924",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "The menu shows all objects that the player can see. So the player can attempt to give it to the wrong object, and then get a message telling them they did it wrong.\r\n\r\nIf you want them to only have one option, why not change the behaviour to \"Run script\" and make it do whatever the thing is.\r\nYou could have a script like:\r\n```\r\nif (ContainsReachable (game.pov.parent, object_you_can_give_it_to)) {\r\n  msg (\"You give it to the {object:object_you_can_give_it_to}.\")\r\n  HandleGiveTo (this, object_you_can_give_it_to)\r\n}\r\nelse {\r\n  msg (\"The guy you can give it to isn't here.\")\r\n}\r\n```\r\n\r\nThat will mean that when the player types \"give thing\" when they are in the same place as the other object, it will show  a  message and then act the same as \"give thing to other object\".\r\n\r\nIf you want to display a menu even when there's only one object you can give it to, you could make the \"Give single\" script something like:\r\n```\r\n        candidates = NewObjectList()\r\n\r\n        // Add a line here for any other objects the player can try to give it to\r\n        list add (candidates, object_you_can_give_it_to)\r\n\r\n        not_accessible = ListExclude (candidates, ScopeReachable())\r\n        candidates = ListExclude (candidates, not_accessible)\r\n        if (ListCount(candidates) = 0) {\r\n          msg (Template(\"NoObjectsAvailable\"))\r\n        }\r\n        else {\r\n          game.pov.givemenuobject = this\r\n          if (HasString(this, \"givemenuprompt\")) {\r\n            menucaption = this.givemenuprompt\r\n          }\r\n          else {\r\n            menucaption = Template(\"GiveToMenu\")\r\n          }\r\n          ShowMenu (menucaption, candidates, true) {\r\n            if (result <> null) {\r\n              HandleGiveTo (game.pov.givemenuobject, GetObject(result))\r\n              game.pov.givemenuobject = null\r\n            }\r\n          }\r\n        }\r\n```\r\n(This is just a copy of the \"Default behaviour\" script, with the way it generates the list changed)",
      "EditableFormat": "markdown",
      "HTML": "<p>The menu shows all objects that the player can see. So the player can attempt to give it to the wrong object, and then get a message telling them they did it wrong.</p>\n<p>If you want them to only have one option, why not change the behaviour to \"Run script\" and make it do whatever the thing is.<br>\nYou could have a script like:</p>\n<pre><code>if (ContainsReachable (game.pov.parent, object_you_can_give_it_to)) {\n  msg (\"You give it to the {object:object_you_can_give_it_to}.\")\n  HandleGiveTo (this, object_you_can_give_it_to)\n}\nelse {\n  msg (\"The guy you can give it to isn't here.\")\n}\n</code></pre>\n<p>That will mean that when the player types \"give thing\" when they are in the same place as the other object, it will show  a  message and then act the same as \"give thing to other object\".</p>\n<p>If you want to display a menu even when there's only one object you can give it to, you could make the \"Give single\" script something like:</p>\n<pre><code>        candidates = NewObjectList()\n\n        // Add a line here for any other objects the player can try to give it to\n        list add (candidates, object_you_can_give_it_to)\n\n        not_accessible = ListExclude (candidates, ScopeReachable())\n        candidates = ListExclude (candidates, not_accessible)\n        if (ListCount(candidates) = 0) {\n          msg (Template(\"NoObjectsAvailable\"))\n        }\n        else {\n          game.pov.givemenuobject = this\n          if (HasString(this, \"givemenuprompt\")) {\n            menucaption = this.givemenuprompt\n          }\n          else {\n            menucaption = Template(\"GiveToMenu\")\n          }\n          ShowMenu (menucaption, candidates, true) {\n            if (result &lt;&gt; null) {\n              HandleGiveTo (game.pov.givemenuobject, GetObject(result))\n              game.pov.givemenuobject = null\n            }\n          }\n        }\n</code></pre>\n<p>(This is just a copy of the \"Default behaviour\" script, with the way it generates the list changed)</p>\n\n",
      "PostDate": "2022-01-06T01:00:44.420558Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "3d0cb776-f266-4649-9039-b4aa17112ec2",
      "UserId": 574990,
      "Username": "wariodude128",
      "AvatarUrl": "https://secure.gravatar.com/avatar/21a860b11d3438a330ea156bbea65c30?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Is there a way to do that without looking at code? The tutorial made it seem like you could do almost everything by using the interface alone. ",
      "EditableFormat": "markdown",
      "HTML": "<p>Is there a way to do that without looking at code? The tutorial made it seem like you could do almost everything by using the interface alone.</p>\n\n",
      "PostDate": "2022-01-06T01:21:22.2776595Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "58ae83f3-2750-4d4e-ad44-1f9bac3815d1",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "You can enter all that using the point-and-click UI; but it will be quite time consuming.\r\n\r\nOne big advantage of code view is that you can paste in a chunk of code somebody gave you and then switch back to whichever editing mode you prefer.",
      "EditableFormat": "markdown",
      "HTML": "<p>You can enter all that using the point-and-click UI; but it will be quite time consuming.</p>\n<p>One big advantage of code view is that you can paste in a chunk of code somebody gave you and then switch back to whichever editing mode you prefer.</p>\n\n",
      "PostDate": "2022-01-06T10:20:00.4650102Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "772b1d4b-694e-4031-9558-955c4952a469",
      "UserId": 574990,
      "Username": "wariodude128",
      "AvatarUrl": "https://secure.gravatar.com/avatar/21a860b11d3438a330ea156bbea65c30?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "I think I'm just going to deal with it, seems like too much of a hassle. Point is, I figured out how to give. Now I just need to figure out how to make it so an image appears after setting a flag on an object. One appears originally and when you give an object like a ball to it another image appears when you look at it along with a new description. Did it with with an \"if\" command for the first one, now I just need to figure out how to use \"else if\" to do the other.",
      "EditableFormat": "markdown",
      "HTML": "<p>I think I'm just going to deal with it, seems like too much of a hassle. Point is, I figured out how to give. Now I just need to figure out how to make it so an image appears after setting a flag on an object. One appears originally and when you give an object like a ball to it another image appears when you look at it along with a new description. Did it with with an \"if\" command for the first one, now I just need to figure out how to use \"else if\" to do the other.</p>\n\n",
      "PostDate": "2022-01-06T14:52:15.9877611Z",
      "LastEditDate": null,
      "link": null
    }
  ]
}
