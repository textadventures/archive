{
  "Topic": {
    "TopicId": "5837",
    "ForumId": "10",
    "Title": "Clone not inheriting verbs from original object",
    "LastUpdated": "2016-01-10T04:56:10+00:00",
    "ReplyCount": 8
  },
  "Posts": [
    {
      "PostId": "40372",
      "UserId": 0,
      "Username": "writtenhigh",
      "UserAvatar": null,
      "UserGravatar": "256cda5532ef7c80302226d79a493cce",
      "EditableText": "I set up a custom eat verb on my blackberries, but the clones I create are not inheriting that custom verb, they inherit the default eat command. Even when I &quot;delete&quot; the eat command from the left hand panel after selecting to show library elements, it clones with the default eat command (so it's obviously not really being deleted.) Plus, I don't want to get rid of the default eat command, I just need additional scripts to run on the blackberries. How can I make it clone with the proper verb?",
      "EditableFormat": "bbcode",
      "HTML": "I set up a custom eat verb on my blackberries, but the clones I create are not inheriting that custom verb, they inherit the default eat command. Even when I &quot;delete&quot; the eat command from the left hand panel after selecting to show library elements, it clones with the default eat command (so it's obviously not really being deleted.) Plus, I don't want to get rid of the default eat command, I just need additional scripts to run on the blackberries. How can I make it clone with the proper verb?",
      "PostDate": "2016-01-09T04:40:36+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "40378",
      "UserId": 0,
      "Username": "OurJud",
      "UserAvatar": "7473_1417206896.jpg",
      "UserGravatar": "7892e1059c02a91b34ffd60deb7402ff",
      "EditableText": "I don't really understand what you're saying.\n\nAre you saying 'eat blackberries' doesn't get the correct response? What response [i:2nk0w25i]does [/i:2nk0w25i]it get?\n\n[edit] Reading your post again, I see that this is some kind of cloning issue. It's not something I've ever experimented with, because I don't destroy my objects.\n\nIf that's what you're doing, then I have to ask why? Instead of destroy then clone, why destroy at all? If you just want the player to be able to pick and eat berries from a tree, indefinitely, then don't destroy them.\n\nIn truth, though, I'm still not clear on what you're trying to achieve.",
      "EditableFormat": "bbcode",
      "HTML": "I don't really understand what you're saying.<br/><br/>Are you saying 'eat blackberries' doesn't get the correct response? What response <span style=\"font-style:italic;\">does </span>it get?<br/><br/>[edit] Reading your post again, I see that this is some kind of cloning issue. It's not something I've ever experimented with, because I don't destroy my objects.<br/><br/>If that's what you're doing, then I have to ask why? Instead of destroy then clone, why destroy at all? If you just want the player to be able to pick and eat berries from a tree, indefinitely, then don't destroy them.<br/><br/>In truth, though, I'm still not clear on what you're trying to achieve.",
      "PostDate": "2016-01-09T18:22:23+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "40383",
      "UserId": 0,
      "Username": "The Pixie",
      "UserAvatar": null,
      "UserGravatar": "cfa37e927f96177bcf6053ae8f108f77",
      "EditableText": "What happens when you eat the original blackberries? Does it use the default eat then? I use types (and &quot;edible&quot; is a type) with verbs and clone them a lot, and it works okay.",
      "EditableFormat": "bbcode",
      "HTML": "What happens when you eat the original blackberries? Does it use the default eat then? I use types (and &quot;edible&quot; is a type) with verbs and clone them a lot, and it works okay.",
      "PostDate": "2016-01-09T20:13:25+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "40386",
      "UserId": 0,
      "Username": "writtenhigh",
      "UserAvatar": null,
      "UserGravatar": "256cda5532ef7c80302226d79a493cce",
      "EditableText": "No. It uses the script when I eat the original blackberries. It just uses the default script for the cloned blackberries.",
      "EditableFormat": "bbcode",
      "HTML": "No. It uses the script when I eat the original blackberries. It just uses the default script for the cloned blackberries.",
      "PostDate": "2016-01-09T20:46:25+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "40390",
      "UserId": 0,
      "Username": "writtenhigh",
      "UserAvatar": null,
      "UserGravatar": "256cda5532ef7c80302226d79a493cce",
      "EditableText": "[code:ntcnic24]&lt;object name=&quot;blackberries&quot;&gt;\n      &lt;inherit name=&quot;editor_object&quot; /&gt;\n      &lt;alias&gt;blackberries&lt;/alias&gt;\n      &lt;look&gt;These berries look so purpley and juicy&#46;  God must be a rocket scientist to come up with this shit, man!&lt;/look&gt;\n      &lt;alt type=&quot;stringlist&quot;&gt;\n        &lt;value&gt;blackberry&lt;/value&gt;\n        &lt;value&gt;berries&lt;/value&gt;\n        &lt;value&gt;berry&lt;/value&gt;\n      &lt;/alt&gt;\n      &lt;displayverbs type=&quot;stringlist&quot;&gt;\n        &lt;value&gt;Look at&lt;/value&gt;\n        &lt;value&gt;Take&lt;/value&gt;\n      &lt;/displayverbs&gt;\n      &lt;take /&gt;\n      &lt;takemsg&gt;Right on, man! You're taking some berries for later&#46;&lt;/takemsg&gt;\n      &lt;dropmsg&gt;I understand, man&#46; Berries were never meant to go in pockets&#46;&lt;/dropmsg&gt;\n      &lt;attr name=&quot;feature_edible&quot; type=&quot;boolean&quot;&gt;false&lt;/attr&gt;\n      &lt;eatmsg&gt;Erhmahgherd! Mershed blackburrs!&lt;/eatmsg&gt;\n      &lt;inventoryverbs type=&quot;stringlist&quot;&gt;\n        &lt;value&gt;Look at&lt;/value&gt;\n        &lt;value&gt;Drop&lt;/value&gt;\n      &lt;/inventoryverbs&gt;\n      &lt;listalias&gt;Blackberry&lt;/listalias&gt;\n      &lt;ontake type=&quot;script&quot;&gt;\n      &lt;/ontake&gt;\n      &lt;eat type=&quot;script&quot;&gt;\n        CloneObjectAndMove (blackberries, player)\n        if (HasString(this, &quot;eatmsg&quot;)) {\n          msg (this&#46;eatmsg)\n        }\n        else {\n          msg (DynamicTemplate(&quot;Eaten&quot;, this))\n        }\n        if (HasInt(game&#46;pov, &quot;health&quot;)) {\n          game&#46;pov&#46;health = game&#46;pov&#46;health + this&#46;eathealth\n        }\n        destroy (this&#46;name)\n        MoveObject (blackberries1, blackberry_manor)\n        blackberries1&#46;alias = &quot;blackberries&quot;\n      &lt;/eat&gt;\n    &lt;/object&gt;[/code:ntcnic24]",
      "EditableFormat": "bbcode",
      "HTML": "<pre><code>&lt;object name=&quot;blackberries&quot;&gt;<br/>      &lt;inherit name=&quot;editor_object&quot; /&gt;<br/>      &lt;alias&gt;blackberries&lt;/alias&gt;<br/>      &lt;look&gt;These berries look so purpley and juicy&#46;  God must be a rocket scientist to come up with this shit, man!&lt;/look&gt;<br/>      &lt;alt type=&quot;stringlist&quot;&gt;<br/>        &lt;value&gt;blackberry&lt;/value&gt;<br/>        &lt;value&gt;berries&lt;/value&gt;<br/>        &lt;value&gt;berry&lt;/value&gt;<br/>      &lt;/alt&gt;<br/>      &lt;displayverbs type=&quot;stringlist&quot;&gt;<br/>        &lt;value&gt;Look at&lt;/value&gt;<br/>        &lt;value&gt;Take&lt;/value&gt;<br/>      &lt;/displayverbs&gt;<br/>      &lt;take /&gt;<br/>      &lt;takemsg&gt;Right on, man! You're taking some berries for later&#46;&lt;/takemsg&gt;<br/>      &lt;dropmsg&gt;I understand, man&#46; Berries were never meant to go in pockets&#46;&lt;/dropmsg&gt;<br/>      &lt;attr name=&quot;feature_edible&quot; type=&quot;boolean&quot;&gt;false&lt;/attr&gt;<br/>      &lt;eatmsg&gt;Erhmahgherd! Mershed blackburrs!&lt;/eatmsg&gt;<br/>      &lt;inventoryverbs type=&quot;stringlist&quot;&gt;<br/>        &lt;value&gt;Look at&lt;/value&gt;<br/>        &lt;value&gt;Drop&lt;/value&gt;<br/>      &lt;/inventoryverbs&gt;<br/>      &lt;listalias&gt;Blackberry&lt;/listalias&gt;<br/>      &lt;ontake type=&quot;script&quot;&gt;<br/>      &lt;/ontake&gt;<br/>      &lt;eat type=&quot;script&quot;&gt;<br/>        CloneObjectAndMove (blackberries, player)<br/>        if (HasString(this, &quot;eatmsg&quot;)) {<br/>          msg (this&#46;eatmsg)<br/>        }<br/>        else {<br/>          msg (DynamicTemplate(&quot;Eaten&quot;, this))<br/>        }<br/>        if (HasInt(game&#46;pov, &quot;health&quot;)) {<br/>          game&#46;pov&#46;health = game&#46;pov&#46;health + this&#46;eathealth<br/>        }<br/>        destroy (this&#46;name)<br/>        MoveObject (blackberries1, blackberry_manor)<br/>        blackberries1&#46;alias = &quot;blackberries&quot;<br/>      &lt;/eat&gt;<br/>    &lt;/object&gt;</code></pre>",
      "PostDate": "2016-01-09T20:49:52+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "40392",
      "UserId": 0,
      "Username": "writtenhigh",
      "UserAvatar": null,
      "UserGravatar": "256cda5532ef7c80302226d79a493cce",
      "EditableText": "[quote=&quot;OurJud&quot;:1x0my6b5]\nIf that's what you're doing, then I have to ask why? Instead of destroy then clone, why destroy at all? If you just want the player to be able to pick and eat berries from a tree, indefinitely, then don't destroy them.[/quote:1x0my6b5]\n\nUltimately I'll probably be modifying it so that they can take multiple berries (maybe) or make some other stuff will happen when they eat them (definitely). And I was basing is off of the default eat script, and just modifying it to add the additional features I need, so that's the ultimate reason it's being destroyed.",
      "EditableFormat": "bbcode",
      "HTML": "<blockquote><cite>OurJud wrote:</cite><br/>If that's what you're doing, then I have to ask why? Instead of destroy then clone, why destroy at all? If you just want the player to be able to pick and eat berries from a tree, indefinitely, then don't destroy them.</blockquote><br/><br/>Ultimately I'll probably be modifying it so that they can take multiple berries (maybe) or make some other stuff will happen when they eat them (definitely). And I was basing is off of the default eat script, and just modifying it to add the additional features I need, so that's the ultimate reason it's being destroyed.",
      "PostDate": "2016-01-09T20:56:30+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "40393",
      "UserId": 0,
      "Username": "jaynabonne",
      "UserAvatar": "6579_1344778256.jpg",
      "UserGravatar": "379859a7f1952a65399fc63997e68f0b",
      "EditableText": "writtenhigh, the script you posted doesn't work, as you clone a new object named &quot;blackberries1&quot;, but when you try to eat it, it still refers to &quot;blackberries&quot; in the script which no longer exists. If you change the usage of &quot;blackberries&quot; to &quot;this&quot;, then it still fails on the second eat, as there is then no blackberries1 (since it has been destroyed at that point), since the clone is now called blackberries2.\n\nThe trick (as The Pixie has shown before) is that CloneObjectAndMove returns the new object.\n\nThis script will not give errors:\n\n[code:koxrlqcx]     &lt;eat type=&quot;script&quot;&gt;\n        new_object = CloneObjectAndMove (this, player)\n        if (HasString(this, &quot;eatmsg&quot;)) {\n          msg (this&#46;eatmsg)\n        }\n        else {\n          msg (DynamicTemplate(&quot;Eaten&quot;, this))\n        }\n        if (HasInt(game&#46;pov, &quot;health&quot;)) {\n          game&#46;pov&#46;health = game&#46;pov&#46;health + this&#46;eathealth\n        }\n        destroy (this&#46;name)\n        MoveObject (new_object, blackberry_manor)\n        new_object&#46;alias = &quot;blackberries&quot;\n      &lt;/eat&gt;[/code:koxrlqcx]\nbut I have to ask what you're trying to do. Why do you need to create a clone? If you're going to destroy the original after cloning, there is still only one blackberries object in the universe. Why not just reuse it?\n\nJust because the blackberries are eaten from the player's point of view doesn't mean they have to be destroyed in your code!\n\nAlso other minor details: if you give the original blackberries the alias &quot;blackberries&quot;, then clone picks it up for free without you having to assign it. Also, if you're going to be moving the object to blackberry_manor, why not just clone it there to begin with?\n\n[code:koxrlqcx]CloneObjectAndMove (this, blackberry_manor)[/code:koxrlqcx]\n\nI still think you can save yourself all this cloning and deleting business by just moving the original blackberries to blackberry_manor when they're eaten.",
      "EditableFormat": "bbcode",
      "HTML": "writtenhigh, the script you posted doesn't work, as you clone a new object named &quot;blackberries1&quot;, but when you try to eat it, it still refers to &quot;blackberries&quot; in the script which no longer exists. If you change the usage of &quot;blackberries&quot; to &quot;this&quot;, then it still fails on the second eat, as there is then no blackberries1 (since it has been destroyed at that point), since the clone is now called blackberries2.<br/><br/>The trick (as The Pixie has shown before) is that CloneObjectAndMove returns the new object.<br/><br/>This script will not give errors:<br/><br/><pre><code>     &lt;eat type=&quot;script&quot;&gt;<br/>        new_object = CloneObjectAndMove (this, player)<br/>        if (HasString(this, &quot;eatmsg&quot;)) {<br/>          msg (this&#46;eatmsg)<br/>        }<br/>        else {<br/>          msg (DynamicTemplate(&quot;Eaten&quot;, this))<br/>        }<br/>        if (HasInt(game&#46;pov, &quot;health&quot;)) {<br/>          game&#46;pov&#46;health = game&#46;pov&#46;health + this&#46;eathealth<br/>        }<br/>        destroy (this&#46;name)<br/>        MoveObject (new_object, blackberry_manor)<br/>        new_object&#46;alias = &quot;blackberries&quot;<br/>      &lt;/eat&gt;</code></pre><br/>but I have to ask what you're trying to do. Why do you need to create a clone? If you're going to destroy the original after cloning, there is still only one blackberries object in the universe. Why not just reuse it?<br/><br/>Just because the blackberries are eaten from the player's point of view doesn't mean they have to be destroyed in your code!<br/><br/>Also other minor details: if you give the original blackberries the alias &quot;blackberries&quot;, then clone picks it up for free without you having to assign it. Also, if you're going to be moving the object to blackberry_manor, why not just clone it there to begin with?<br/><br/><pre><code>CloneObjectAndMove (this, blackberry_manor)</code></pre><br/><br/>I still think you can save yourself all this cloning and deleting business by just moving the original blackberries to blackberry_manor when they're eaten.",
      "PostDate": "2016-01-09T21:13:55+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "40397",
      "UserId": 0,
      "Username": "OurJud",
      "UserAvatar": "7473_1417206896.jpg",
      "UserGravatar": "7892e1059c02a91b34ffd60deb7402ff",
      "EditableText": "Glad it's not just me who's confused.\n\nwrittenhigh, can you explain exactly what it is you want to happen when a player eats the blackberries? LIke Jay before me, I'm totally failing to see why you want to clone them.",
      "EditableFormat": "bbcode",
      "HTML": "Glad it's not just me who's confused.<br/><br/>writtenhigh, can you explain exactly what it is you want to happen when a player eats the blackberries? LIke Jay before me, I'm totally failing to see why you want to clone them.",
      "PostDate": "2016-01-09T23:23:05+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "40416",
      "UserId": 0,
      "Username": "writtenhigh",
      "UserAvatar": null,
      "UserGravatar": "256cda5532ef7c80302226d79a493cce",
      "EditableText": "[quote=&quot;jaynabonne&quot;:3ps9ank1]writtenhigh, the script you posted doesn't work, as you clone a new object named &quot;blackberries1&quot;, but when you try to eat it, it still refers to &quot;blackberries&quot; in the script which no longer exists. If you change the usage of &quot;blackberries&quot; to &quot;this&quot;, then it still fails on the second eat, as there is then no blackberries1 (since it has been destroyed at that point), since the clone is now called blackberries2.[/quote:3ps9ank1]\n\nYup. Part of what I was trying to figure out was how it was going to rename sequential clones of blackberries given the destruction.\n\n[quote=&quot;jaynabonne&quot;:3ps9ank1]The trick (as The Pixie has shown before) is that CloneObjectAndMove returns the new object.\n\nThis script will not give errors:\n\n[code:3ps9ank1]     &lt;eat type=&quot;script&quot;&gt;\n        new_object = CloneObjectAndMove (this, player)\n        if (HasString(this, &quot;eatmsg&quot;)) {\n          msg (this&#46;eatmsg)\n        }\n        else {\n          msg (DynamicTemplate(&quot;Eaten&quot;, this))\n        }\n        if (HasInt(game&#46;pov, &quot;health&quot;)) {\n          game&#46;pov&#46;health = game&#46;pov&#46;health + this&#46;eathealth\n        }\n        destroy (this&#46;name)\n        MoveObject (new_object, blackberry_manor)\n        new_object&#46;alias = &quot;blackberries&quot;\n      &lt;/eat&gt;[/code:3ps9ank1][/quote:3ps9ank1]\n\nI code so little and so infrequently that I always forget that I can create objects with variables to refer to them. Thanks for that!\n\n[quote=&quot;jaynabonne&quot;:3ps9ank1]but I have to ask what you're trying to do. Why do you need to create a clone? If you're going to destroy the original after cloning, there is still only one blackberries object in the universe. Why not just reuse it?[/quote:3ps9ank1]\n\nThere are multiple berries, now. That's just how my thought process works. Each iteration of code gets progressively more complex as I verify that the previous bit works as expected. Mostly because I'm a writer, and not a coder, so I expect no code I write to work correctly the first time. Now that I can clone and destroy things at will, it's gotten progressively more complex.\n\nI'm mostly playing with the cloning option to learn it and see what all I can make happen with it, and how quest handles the clones themselves. Whatever I end up doing with the blackberries might not be the best use of it. I think ultimately each berry will have unique, randomly generated stats, and I can probably get by with moving things around and changing the stats on existing objects. We'll see.\n\nMostly I'm just coming up with random ideas and stretching myself to see what I can make happen. I don't have a set story yet, but it's coming together as I figure out how to code different things and figure out what Quest can do.\n\n[quote=&quot;jaynabonne&quot;:3ps9ank1]Also other minor details: if you give the original blackberries the alias &quot;blackberries&quot;, then clone picks it up for free without you having to assign it.[/quote:3ps9ank1]\n\nThat's another quirk that I couldn't figure out. I presumed that the &quot;name&quot; of the object would get passed as an alias... but I suppose many names will not end up being things that are nice for humans to read or write.\n\n[quote=&quot;jaynabonne&quot;:3ps9ank1]Also, if you're going to be moving the object to blackberry_manor, why not just clone it there to begin with?\n\n[code:3ps9ank1]CloneObjectAndMove (this, blackberry_manor)[/code:3ps9ank1][/quote:3ps9ank1]\n\nI think that was from an iteration of the code where I was trying to figure out the naming convention for clones, and I wanted to move them out of the current room so I could see what all was going on. But yeah, not really necessary now.\n\nThanks again for all the help. It's starting to come back to me now that I'm back to a coding project instead of just a writing one. Because, let's be honest, most of the questions I've asked have been rookie questions I've just forgotten the obvious answers to.\n\nAlso, I'm assuming there's an advanced search option in the forums to exclude replies (now that I notice that there's an advanced button next to the search box.) Keep trying to search for stuff, but am bombarded by reply after reply from the same unhelpful threads...",
      "EditableFormat": "bbcode",
      "HTML": "<blockquote><cite>jaynabonne wrote:</cite>writtenhigh, the script you posted doesn't work, as you clone a new object named &quot;blackberries1&quot;, but when you try to eat it, it still refers to &quot;blackberries&quot; in the script which no longer exists. If you change the usage of &quot;blackberries&quot; to &quot;this&quot;, then it still fails on the second eat, as there is then no blackberries1 (since it has been destroyed at that point), since the clone is now called blackberries2.</blockquote><br/><br/>Yup. Part of what I was trying to figure out was how it was going to rename sequential clones of blackberries given the destruction.<br/><br/><blockquote><cite>jaynabonne wrote:</cite>The trick (as The Pixie has shown before) is that CloneObjectAndMove returns the new object.<br/><br/>This script will not give errors:<br/><br/><pre><code>     &lt;eat type=&quot;script&quot;&gt;<br/>        new_object = CloneObjectAndMove (this, player)<br/>        if (HasString(this, &quot;eatmsg&quot;)) {<br/>          msg (this&#46;eatmsg)<br/>        }<br/>        else {<br/>          msg (DynamicTemplate(&quot;Eaten&quot;, this))<br/>        }<br/>        if (HasInt(game&#46;pov, &quot;health&quot;)) {<br/>          game&#46;pov&#46;health = game&#46;pov&#46;health + this&#46;eathealth<br/>        }<br/>        destroy (this&#46;name)<br/>        MoveObject (new_object, blackberry_manor)<br/>        new_object&#46;alias = &quot;blackberries&quot;<br/>      &lt;/eat&gt;</code></pre></blockquote><br/><br/>I code so little and so infrequently that I always forget that I can create objects with variables to refer to them. Thanks for that!<br/><br/><blockquote><cite>jaynabonne wrote:</cite>but I have to ask what you're trying to do. Why do you need to create a clone? If you're going to destroy the original after cloning, there is still only one blackberries object in the universe. Why not just reuse it?</blockquote><br/><br/>There are multiple berries, now. That's just how my thought process works. Each iteration of code gets progressively more complex as I verify that the previous bit works as expected. Mostly because I'm a writer, and not a coder, so I expect no code I write to work correctly the first time. Now that I can clone and destroy things at will, it's gotten progressively more complex.<br/><br/>I'm mostly playing with the cloning option to learn it and see what all I can make happen with it, and how quest handles the clones themselves. Whatever I end up doing with the blackberries might not be the best use of it. I think ultimately each berry will have unique, randomly generated stats, and I can probably get by with moving things around and changing the stats on existing objects. We'll see.<br/><br/>Mostly I'm just coming up with random ideas and stretching myself to see what I can make happen. I don't have a set story yet, but it's coming together as I figure out how to code different things and figure out what Quest can do.<br/><br/><blockquote><cite>jaynabonne wrote:</cite>Also other minor details: if you give the original blackberries the alias &quot;blackberries&quot;, then clone picks it up for free without you having to assign it.</blockquote><br/><br/>That's another quirk that I couldn't figure out. I presumed that the &quot;name&quot; of the object would get passed as an alias... but I suppose many names will not end up being things that are nice for humans to read or write.<br/><br/><blockquote><cite>jaynabonne wrote:</cite>Also, if you're going to be moving the object to blackberry_manor, why not just clone it there to begin with?<br/><br/><pre><code>CloneObjectAndMove (this, blackberry_manor)</code></pre></blockquote><br/><br/>I think that was from an iteration of the code where I was trying to figure out the naming convention for clones, and I wanted to move them out of the current room so I could see what all was going on. But yeah, not really necessary now.<br/><br/>Thanks again for all the help. It's starting to come back to me now that I'm back to a coding project instead of just a writing one. Because, let's be honest, most of the questions I've asked have been rookie questions I've just forgotten the obvious answers to.<br/><br/>Also, I'm assuming there's an advanced search option in the forums to exclude replies (now that I notice that there's an advanced button next to the search box.) Keep trying to search for stuff, but am bombarded by reply after reply from the same unhelpful threads...",
      "PostDate": "2016-01-10T04:56:10+00:00",
      "LastEditDate": null
    }
  ]
}
