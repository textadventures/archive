{
  "Topic": {
    "TopicId": "dr8skmoyc0qjhvphjzal3q",
    "ForumId": "10",
    "Title": "Randomizing the Randomizer",
    "LastUpdated": "2017-10-06T03:00:45.8989209Z",
    "ReplyCount": 0
  },
  "Posts": [
    {
      "PostId": "ba5eacf3-3df8-40bf-a1a5-3b9ec6988dcc",
      "UserId": 260969,
      "Username": "Enpherdaen",
      "AvatarUrl": "http://i.imgur.com/OSFSM1ab.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "So I have a function that causes different objects to spawn randomly in different rooms. Thing is, it only spawns one of them in. I could manually tell the function the add more than just 1, but then it'd spawn in the exact number I typed in every time that object has been chosen to spawn in. How do I get Quest to randomly decide whether it will spawn in 1, 2, 3, etc.of the same object rather than just one?",
      "EditableFormat": "markdown",
      "HTML": "<p>So I have a function that causes different objects to spawn randomly in different rooms. Thing is, it only spawns one of them in. I could manually tell the function the add more than just 1, but then it'd spawn in the exact number I typed in every time that object has been chosen to spawn in. How do I get Quest to randomly decide whether it will spawn in 1, 2, 3, etc.of the same object rather than just one?</p>\n\n",
      "PostDate": "2017-10-06T03:00:45.8989209Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "31f8400d-587a-4b40-99f2-2861a9e1d54f",
      "UserId": 325816,
      "Username": "Amochure",
      "AvatarUrl": "https://i.imgur.com/qVl9es3b.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "I noticed it has a dice roll function. Could that be helpful?",
      "EditableFormat": "markdown",
      "HTML": "<p>I noticed it has a dice roll function. Could that be helpful?</p>\n\n",
      "PostDate": "2017-10-06T06:47:36.0610992Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "7789519a-8c84-46b8-ab03-8e8aa79473dc",
      "UserId": 1346,
      "Username": "The Pixie",
      "AvatarUrl": "https://secure.gravatar.com/avatar/cfa37e927f96177bcf6053ae8f108f77?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Spawn then inside a loop:\r\n```\r\nfor (i, 1, GetRandomInt(1, 3)) {\r\n  SpawnThing\r\n}",
      "EditableFormat": "markdown",
      "HTML": "<p>Spawn then inside a loop:</p>\n<pre><code>for (i, 1, GetRandomInt(1, 3)) {\n  SpawnThing\n}\n</code></pre>\n\n",
      "PostDate": "2017-10-06T07:39:32.3292254Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "ed56cabc-af3a-406a-8914-a7594c52cdc4",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "(sorry, this post ended up being longer than I intended. Feel free to ignore. Also, edited for typo)\r\n\r\nThere are different ways to generate a random number. And different ways might \"feel\" more random to the player in different situations. I normally end up trying different methods until I hit on the one that seems natural. Here's some of the ones I've used:\r\n```\r\nwhile (RandomChance(60)) {\r\n  code that spawns a thing goes here\r\n}\r\n```\r\n↑ Means there's a 60% chance of getting one or more objects, 36% of getting 2+, 21.6% change of 3+, and so on.\r\n\r\n\r\nOr with independent items:\r\n```\r\nif (RandomChance(50)) {\r\n  CloneObjectAndMove (stick, room)\r\n}\r\nif (RandomChance(30)) {\r\n  CloneObjectAndMove (stone, room)\r\n}\r\nif (RandomChance(3)) {\r\n  CloneObjectAndMove (gold nugget, room)\r\n}\r\n```\r\n\r\nThe system I'm currently poking on my own has an unreachable room called \"prototypes\" containing all the objects that I might want to clone into the forest; and I've given them an attribute \"spawn_chance_forest\" that determines their chance of showing up in any given room, and \"spawn_multiple\" which governs the chance of showing up more than once in the same room. Then I use:\r\n```\r\nforeach (room, list_of_forest_rooms) {\r\n  possible_objects = NewObjectList()\r\n  objects_created = 0\r\n  foreach (o, GetDirectChildren(prototypes)) {\r\n    if (HasInt(o, \"spawn_chance_forest\")) {\r\n      list add (possible_objects, o)\r\n      if (not HasInt(o, \"number_spawned\")) {\r\n        o.number_spawned = 0\r\n      }\r\n    }\r\n  }\r\n  while (ListCount(possible_objects) > 0) {\r\n    objects_created = objects_created + 1\r\n    object = PickOneObject(possible_objects)\r\n    list remove (possible_objects, object)\r\n    count = o.number_spawned\r\n    if (object.spawn_chance_forest < GetRandomInt(count, 15*objects_created)) {\r\n      o.number_spawned = count + 1\r\n      CloneObjectAndMove (o, room)\r\n      if (HasInt(object, \"spawn_multiple\")) {\r\n        if (RandomChance(object.spawn_multiple)) {\r\n          list add (possible_objects, object)\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\n... that's a pretty complex way to do it, but efficiently handles scattering multiple objects through multiple rooms.",
      "EditableFormat": "markdown",
      "HTML": "<p>(sorry, this post ended up being longer than I intended. Feel free to ignore. Also, edited for typo)</p>\n<p>There are different ways to generate a random number. And different ways might \"feel\" more random to the player in different situations. I normally end up trying different methods until I hit on the one that seems natural. Here's some of the ones I've used:</p>\n<pre><code>while (RandomChance(60)) {\n  code that spawns a thing goes here\n}\n</code></pre>\n<p>↑ Means there's a 60% chance of getting one or more objects, 36% of getting 2+, 21.6% change of 3+, and so on.</p>\n<p>Or with independent items:</p>\n<pre><code>if (RandomChance(50)) {\n  CloneObjectAndMove (stick, room)\n}\nif (RandomChance(30)) {\n  CloneObjectAndMove (stone, room)\n}\nif (RandomChance(3)) {\n  CloneObjectAndMove (gold nugget, room)\n}\n</code></pre>\n<p>The system I'm currently poking on my own has an unreachable room called \"prototypes\" containing all the objects that I might want to clone into the forest; and I've given them an attribute \"spawn_chance_forest\" that determines their chance of showing up in any given room, and \"spawn_multiple\" which governs the chance of showing up more than once in the same room. Then I use:</p>\n<pre><code>foreach (room, list_of_forest_rooms) {\n  possible_objects = NewObjectList()\n  objects_created = 0\n  foreach (o, GetDirectChildren(prototypes)) {\n    if (HasInt(o, \"spawn_chance_forest\")) {\n      list add (possible_objects, o)\n      if (not HasInt(o, \"number_spawned\")) {\n        o.number_spawned = 0\n      }\n    }\n  }\n  while (ListCount(possible_objects) &gt; 0) {\n    objects_created = objects_created + 1\n    object = PickOneObject(possible_objects)\n    list remove (possible_objects, object)\n    count = o.number_spawned\n    if (object.spawn_chance_forest &lt; GetRandomInt(count, 15*objects_created)) {\n      o.number_spawned = count + 1\n      CloneObjectAndMove (o, room)\n      if (HasInt(object, \"spawn_multiple\")) {\n        if (RandomChance(object.spawn_multiple)) {\n          list add (possible_objects, object)\n        }\n      }\n    }\n  }\n}\n</code></pre>\n<p>... that's a pretty complex way to do it, but efficiently handles scattering multiple objects through multiple rooms.</p>\n\n",
      "PostDate": "2017-10-06T09:43:37.4706479Z",
      "LastEditDate": "2017-10-06T19:24:42.2802879Z",
      "link": null
    },
    {
      "PostId": "c4562ae4-4d3e-497c-a6f5-c5fa67cdc2b5",
      "UserId": 260969,
      "Username": "Enpherdaen",
      "AvatarUrl": "http://i.imgur.com/OSFSM1ab.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "This is how my function looks like:\r\n\r\n```if (RandomChance(50)) {\r\n  CloneObjectAndMove (Large Leaves, player.parent)\r\n}\r\nif (RandomChance(50)) {\r\n  CloneObjectAndMove (Stones, player.parent)\r\n}\r\nif (RandomChance(50)) {\r\n  CloneObjectAndMove (Sticks, player.parent)\r\n}\r\nif (RandomChance(10)) {\r\n  CloneObjectAndMove (Aloe Vera, player.parent)\r\n}\r\nif (RandomChance(10)) {\r\n  CloneObjectAndMove (Sap Tree, player.parent)\r\n}\r\nif (RandomChance(10)) {\r\n  CloneObjectAndMove (Boar, player.parent)\r\n}\r\nCloneObjectAndMove (Trees, player.parent)\r\nif (RandomChance(50)) {\r\n  CloneObjectAndMove (Worm, player.parent)\r\n}\r\nif (RandomChance(10)) {\r\n  CloneObjectAndMove (Thorn Bush, player.parent)\r\n} \r\n```\r\nMrangel, are you saying I should do while (RandomChange(60)) {in the room itself, and then add then call this function within it?",
      "EditableFormat": "markdown",
      "HTML": "<p>This is how my function looks like:</p>\n<pre><code>  CloneObjectAndMove (Large Leaves, player.parent)\n}\nif (RandomChance(50)) {\n  CloneObjectAndMove (Stones, player.parent)\n}\nif (RandomChance(50)) {\n  CloneObjectAndMove (Sticks, player.parent)\n}\nif (RandomChance(10)) {\n  CloneObjectAndMove (Aloe Vera, player.parent)\n}\nif (RandomChance(10)) {\n  CloneObjectAndMove (Sap Tree, player.parent)\n}\nif (RandomChance(10)) {\n  CloneObjectAndMove (Boar, player.parent)\n}\nCloneObjectAndMove (Trees, player.parent)\nif (RandomChance(50)) {\n  CloneObjectAndMove (Worm, player.parent)\n}\nif (RandomChance(10)) {\n  CloneObjectAndMove (Thorn Bush, player.parent)\n} \n</code></pre>\n<p>Mrangel, are you saying I should do while (RandomChange(60)) {in the room itself, and then add then call this function within it?</p>\n\n",
      "PostDate": "2017-10-06T15:50:10.7727953Z",
      "LastEditDate": "2017-10-06T16:02:39.2458444Z",
      "link": null
    },
    {
      "PostId": "90725dde-3f0e-4691-9a06-2a20b52b297b",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "On the random chances, changing \"if\" to \"while\" will allow more than one of the same item to appear, in a way that can feel like a natural distribution. There are more complex ways to do it, but you might find that's all you need.",
      "EditableFormat": "markdown",
      "HTML": "<p>On the random chances, changing \"if\" to \"while\" will allow more than one of the same item to appear, in a way that can feel like a natural distribution. There are more complex ways to do it, but you might find that's all you need.</p>\n\n",
      "PostDate": "2017-10-06T19:28:10.925804Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "25a5e82f-57b9-4462-b984-4fa482e23b03",
      "UserId": 260969,
      "Username": "Enpherdaen",
      "AvatarUrl": "http://i.imgur.com/OSFSM1ab.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Yes but, what else? Are you saying I should do while (RandomChange(60)) {in the room itself, and then add then call this function within it?",
      "EditableFormat": "markdown",
      "HTML": "<p>Yes but, what else? Are you saying I should do while (RandomChange(60)) {in the room itself, and then add then call this function within it?</p>\n\n",
      "PostDate": "2017-10-06T20:06:52.0088917Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "937c68c4-f6da-4c71-8fea-aed57456c320",
      "UserId": 247325,
      "Username": "hegemonkhan",
      "AvatarUrl": "https://secure.gravatar.com/avatar/a96cf34d8d97c57de38f54ee22b1759b?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "wow, ingenious use of 'while' with 'RandomChance', that's really cool, never knew this could be done!\r\n\r\nthe RandomChance continues, so long as its successful, that's really cool!\r\n\r\n--------\r\n\r\nanother simple use of the randomization functions:\r\n\r\n(the common 'item drop' functionality in rpgs)\r\n\r\nuse 'GetRandomInt' to select an item from a list, and then you can use 'RandomChance' to determine whether you actually get that item or not.",
      "EditableFormat": "markdown",
      "HTML": "<p>wow, ingenious use of 'while' with 'RandomChance', that's really cool, never knew this could be done!</p>\n<p>the RandomChance continues, so long as its successful, that's really cool!</p>\n<hr>\n<p>another simple use of the randomization functions:</p>\n<p>(the common 'item drop' functionality in rpgs)</p>\n<p>use 'GetRandomInt' to select an item from a list, and then you can use 'RandomChance' to determine whether you actually get that item or not.</p>\n\n",
      "PostDate": "2017-10-06T21:02:05.1069453Z",
      "LastEditDate": "2017-10-06T21:04:41.5783757Z",
      "link": null
    },
    {
      "PostId": "e151b2df-66be-47d6-81a0-706b2da7e1a8",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "> Yes but, what else?\r\n\r\nI don't think there is any else.\r\n\r\nI posted a couple of different methods. Now that I've seen your original code, I think the simplest one is going to be changing \"if\" to \"while\". So you get something like:\r\n```\r\nwhile (RandomChance(50)) {\r\n  CloneObjectAndMove (Stones, player.parent)\r\n}\r\nwhile (RandomChance(50)) {\r\n  CloneObjectAndMove (Sticks, player.parent)\r\n}\r\nwhile (RandomChance(10)) {\r\n  CloneObjectAndMove (Aloe Vera, player.parent)\r\n}\r\nwhile (RandomChance(10)) {\r\n  CloneObjectAndMove (Sap Tree, player.parent)\r\n}\r\nwhile (RandomChance(10)) {\r\n  CloneObjectAndMove (Boar, player.parent)\r\n}\r\nCloneObjectAndMove (Trees, player.parent)\r\nwhile (RandomChance(50)) {\r\n  CloneObjectAndMove (Worm, player.parent)\r\n}\r\nwhile (RandomChance(10)) {\r\n  CloneObjectAndMove (Thorn Bush, player.parent)\r\n} \r\n```",
      "EditableFormat": "markdown",
      "HTML": "<blockquote>\n<p>Yes but, what else?</p>\n</blockquote>\n<p>I don't think there is any else.</p>\n<p>I posted a couple of different methods. Now that I've seen your original code, I think the simplest one is going to be changing \"if\" to \"while\". So you get something like:</p>\n<pre><code>while (RandomChance(50)) {\n  CloneObjectAndMove (Stones, player.parent)\n}\nwhile (RandomChance(50)) {\n  CloneObjectAndMove (Sticks, player.parent)\n}\nwhile (RandomChance(10)) {\n  CloneObjectAndMove (Aloe Vera, player.parent)\n}\nwhile (RandomChance(10)) {\n  CloneObjectAndMove (Sap Tree, player.parent)\n}\nwhile (RandomChance(10)) {\n  CloneObjectAndMove (Boar, player.parent)\n}\nCloneObjectAndMove (Trees, player.parent)\nwhile (RandomChance(50)) {\n  CloneObjectAndMove (Worm, player.parent)\n}\nwhile (RandomChance(10)) {\n  CloneObjectAndMove (Thorn Bush, player.parent)\n} \n</code></pre>\n\n",
      "PostDate": "2017-10-06T21:13:48.3356578Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "1f0a81e6-0baf-4f2b-b48a-17e58b95a209",
      "UserId": 260969,
      "Username": "Enpherdaen",
      "AvatarUrl": "http://i.imgur.com/OSFSM1ab.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "What does changing one word do though?",
      "EditableFormat": "markdown",
      "HTML": "<p>What does changing one word do though?</p>\n\n",
      "PostDate": "2017-10-06T23:02:05.2379062Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "91942eb7-9137-4875-95e7-4f30c2fed188",
      "UserId": 267336,
      "Username": "jmnevil54",
      "AvatarUrl": "https://secure.gravatar.com/avatar/5d73d7ec1dbe20a5cb46f02a6d53f187?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "While = doing everything at the same time.\r\n\r\nMinor, but important difference!",
      "EditableFormat": "markdown",
      "HTML": "<p>While = doing everything at the same time.</p>\n<p>Minor, but important difference!</p>\n\n",
      "PostDate": "2017-10-07T15:04:05.5461399Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "8cd1fda6-3d5d-4920-bdd1-c8ad5bad3741",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Changing 'if' to 'while' just means it can happen more than once. Imagine tossing a coin for it; every time you get heads, you add a stone and flip again. When you get tails, it's time to move on to the next type of item.\r\n\r\n> While = doing everything at the same time.\r\n\r\nNot in programming.",
      "EditableFormat": "markdown",
      "HTML": "<p>Changing 'if' to 'while' just means it can happen more than once. Imagine tossing a coin for it; every time you get heads, you add a stone and flip again. When you get tails, it's time to move on to the next type of item.</p>\n<blockquote>\n<p>While = doing everything at the same time.</p>\n</blockquote>\n<p>Not in programming.</p>\n\n",
      "PostDate": "2017-10-07T15:11:49.0305152Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "893f22d1-50ba-4498-89c1-8298e3ac6805",
      "UserId": 260969,
      "Username": "Enpherdaen",
      "AvatarUrl": "http://i.imgur.com/OSFSM1ab.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "But how does it know what the chance of spawning in more than 1 of the same item is?",
      "EditableFormat": "markdown",
      "HTML": "<p>But how does it know what the chance of spawning in more than 1 of the same item is?</p>\n\n",
      "PostDate": "2017-10-07T15:28:26.4744678Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "74213e42-be78-4369-8126-77426aa0b517",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Same as the chance of spawning the original. It keeps on using the same RandomChance.\r\nYou can make them different if you want, it just takes a little more code.",
      "EditableFormat": "markdown",
      "HTML": "<p>Same as the chance of spawning the original. It keeps on using the same RandomChance.<br>\nYou can make them different if you want, it just takes a little more code.</p>\n\n",
      "PostDate": "2017-10-07T16:27:47.7161788Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "3553a73c-9fe7-4bf2-88aa-b9c5964ce8cc",
      "UserId": 247325,
      "Username": "hegemonkhan",
      "AvatarUrl": "https://secure.gravatar.com/avatar/a96cf34d8d97c57de38f54ee22b1759b?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "for example:\r\n\r\n```\r\nwhile (RandomChance(50)) {\r\n  CloneObjectAndMove (Stones, player.parent)\r\n}\r\n```\r\n\r\nyou got a 50% chance ('effectively a coin toss') of the 'cloneobjectandmove' happening, and so long as you're successful, it'll keep doing the 50% chance ('coin flip') for more chances of doing the 'cloneobjectandmove', but the moment it fails (the 50% chance / 'coin flip' fails to do the 'cloneobjectandmove'), it ends, no more 'flipping of the coin'.\r\n\r\nso, if you had godly-luck, it'd keep succeeding forever... and crash quest as an infinite loop, lol.",
      "EditableFormat": "markdown",
      "HTML": "<p>for example:</p>\n<pre><code>while (RandomChance(50)) {\n  CloneObjectAndMove (Stones, player.parent)\n}\n</code></pre>\n<p>you got a 50% chance ('effectively a coin toss') of the 'cloneobjectandmove' happening, and so long as you're successful, it'll keep doing the 50% chance ('coin flip') for more chances of doing the 'cloneobjectandmove', but the moment it fails (the 50% chance / 'coin flip' fails to do the 'cloneobjectandmove'), it ends, no more 'flipping of the coin'.</p>\n<p>so, if you had godly-luck, it'd keep succeeding forever... and crash quest as an infinite loop, lol.</p>\n\n",
      "PostDate": "2017-10-07T17:55:02.0943989Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "0edbdbf1-9d34-4e97-805e-f8e6a59b547f",
      "UserId": 267336,
      "Username": "jmnevil54",
      "AvatarUrl": "https://secure.gravatar.com/avatar/5d73d7ec1dbe20a5cb46f02a6d53f187?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "My mistake.\r\n\r\nWhy would you do it multiple times, though?",
      "EditableFormat": "markdown",
      "HTML": "<p>My mistake.</p>\n<p>Why would you do it multiple times, though?</p>\n\n",
      "PostDate": "2017-10-07T19:34:03.2159176Z",
      "LastEditDate": "2017-10-07T19:35:39.0373983Z",
      "link": null
    },
    {
      "PostId": "fa98d785-c08d-4afe-9138-2590fa5113ac",
      "UserId": 260969,
      "Username": "Enpherdaen",
      "AvatarUrl": "http://i.imgur.com/OSFSM1ab.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Oh! I see now. Wow such a simple and clever solution.",
      "EditableFormat": "markdown",
      "HTML": "<p>Oh! I see now. Wow such a simple and clever solution.</p>\n\n",
      "PostDate": "2017-10-07T22:11:40.2083696Z",
      "LastEditDate": null,
      "link": null
    }
  ]
}
