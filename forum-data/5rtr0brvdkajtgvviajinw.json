{
  "Topic": {
    "TopicId": "5rtr0brvdkajtgvviajinw",
    "ForumId": "10",
    "Title": "How to create an image which permits text to appear on top of it?",
    "LastUpdated": "2020-01-26T00:34:18.0273256Z",
    "ReplyCount": 0
  },
  "Posts": [
    {
      "PostId": "a49d9dec-f73a-464d-80ac-839921c779b3",
      "UserId": 207026,
      "Username": "Pykrete",
      "AvatarUrl": "https://i.imgur.com/n9Ygszeb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Yo! Been a while since I had questions. Recently I've developed a hacking minigame for the player to perform when trying to gain access to password-locked computers, with various difficulties and all that jazz. Got a few more features for it planned, but it's mostly complete. As a result, I'm trying to see about jazzing it up a bit.\r\n\r\nAt the moment I've got some fun changes in font colour, 'terminal green' text, all that stuff. What I'd really like, though, is to be able to insert an image as normal, but have it set up so that text flows on top of it rather than wrapping around it or just being shoved below it, as the image in question is a mockup of an old-school terminal screen.\r\n\r\nBefore getting too far with making such a thing, I figured I should actually see if I can implement it in the way I wanted to, first. I've worked out how to set it as a background image, but that looks bad and it doesn't resize the image to frame (it has a black border around the edges to simulate a screen, though if worst comes to worst and I can't figure out a solution, I may just simply remove this and go with the background replacement method.)\r\n\r\nI've done up a little mockup of what I'd like to accomplish, which can be found here; https://i.imgur.com/ikv5B2E.png\r\n\r\nThis would be within the display width of the game, that's already handled by the script for inserting an image.\r\n\r\nSo, is this doable? Not the end of the world if it isn't, but I'm enamored with how it'd look, so I hope it is!",
      "EditableFormat": "markdown",
      "HTML": "<p>Yo! Been a while since I had questions. Recently I've developed a hacking minigame for the player to perform when trying to gain access to password-locked computers, with various difficulties and all that jazz. Got a few more features for it planned, but it's mostly complete. As a result, I'm trying to see about jazzing it up a bit.</p>\n<p>At the moment I've got some fun changes in font colour, 'terminal green' text, all that stuff. What I'd really like, though, is to be able to insert an image as normal, but have it set up so that text flows on top of it rather than wrapping around it or just being shoved below it, as the image in question is a mockup of an old-school terminal screen.</p>\n<p>Before getting too far with making such a thing, I figured I should actually see if I can implement it in the way I wanted to, first. I've worked out how to set it as a background image, but that looks bad and it doesn't resize the image to frame (it has a black border around the edges to simulate a screen, though if worst comes to worst and I can't figure out a solution, I may just simply remove this and go with the background replacement method.)</p>\n<p>I've done up a little mockup of what I'd like to accomplish, which can be found here; https://i.imgur.com/ikv5B2E.png</p>\n<p>This would be within the display width of the game, that's already handled by the script for inserting an image.</p>\n<p>So, is this doable? Not the end of the world if it isn't, but I'm enamored with how it'd look, so I hope it is!</p>\n\n",
      "PostDate": "2020-01-26T00:34:18.0273256Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "5a01d27b-a12f-4a6c-8063-9c66cf00d047",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "You probably want to do this using Javascript.\r\n\r\nOff the top of my head…\r\n```\r\nsection = StartNewOutputSection()\r\nJS.eval (\"$('.\"+section+\"').css('background-image', 'url(\"+GetFileURL(\"SomeImage.png\")+\")');\")\r\nJS.setCss(\".\"+section, \"width: 650px; height: 380px; overflow: scroll;\")\r\n```\r\n(Note: I'm not using `JS.setCss` for the image because it looks like it will break on properties which contain a colon; which URLs generally do.)\r\n\r\nThat sets a background image for the current section, and forces the section to be the right size for the image (change the numbers to the actual size of the image), causing the image to gain its own scroll bar if there's too much text inside it.\r\n\r\nIt's probably a good idea to store the `section` name in a variable somewhere.\r\nSome functions such as `ShowMenu` will start a new section, exiting the image. So after running this (maybe as a turnscript?) you would move any new sections into the one that's displaying the image:\r\n<pre><code>JS.eval(\"(function (s) {var img = $('.'+s).first(); img.nextAll('.'+s).appendTo(img);})('\"+<b style=\"color: blue\">section</b>+\"');\")</code></pre>\r\n\r\nAnd then when you're finished, you would do:\r\n<pre><code>EndOutputSection (<b style=\"color: blue\">section</b>)</code></pre>\r\n(bviously, replacing `section` with the attribute you stored it in)",
      "EditableFormat": "markdown",
      "HTML": "<p>You probably want to do this using Javascript.</p>\n<p>Off the top of my head…</p>\n<pre><code>section = StartNewOutputSection()\nJS.eval (\"$('.\"+section+\"').css('background-image', 'url(\"+GetFileURL(\"SomeImage.png\")+\")');\")\nJS.setCss(\".\"+section, \"width: 650px; height: 380px; overflow: scroll;\")\n</code></pre>\n<p>(Note: I'm not using <code>JS.setCss</code> for the image because it looks like it will break on properties which contain a colon; which URLs generally do.)</p>\n<p>That sets a background image for the current section, and forces the section to be the right size for the image (change the numbers to the actual size of the image), causing the image to gain its own scroll bar if there's too much text inside it.</p>\n<p>It's probably a good idea to store the <code>section</code> name in a variable somewhere.<br>\nSome functions such as <code>ShowMenu</code> will start a new section, exiting the image. So after running this (maybe as a turnscript?) you would move any new sections into the one that's displaying the image:</p>\n<pre><code>JS.eval(\"(function (s) {var img = $('.'+s).first(); img.nextAll('.'+s).appendTo(img);})('\"+<b style=\"color: blue\">section</b>+\"');\")</code></pre>\n<p>And then when you're finished, you would do:</p>\n<pre><code>EndOutputSection (<b style=\"color: blue\">section</b>)</code></pre>\n<p>(bviously, replacing <code>section</code> with the attribute you stored it in)</p>\n\n",
      "PostDate": "2020-01-26T09:52:15.0864485Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "932a7ef9-84c9-407c-8137-c82fead816ff",
      "UserId": 207026,
      "Username": "Pykrete",
      "AvatarUrl": "https://i.imgur.com/n9Ygszeb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Alright, nice, that gets me somewhere. I think I'll have to manually resize the image and reposition the text to get it looking right, but this should work just fine. Thank you!",
      "EditableFormat": "markdown",
      "HTML": "<p>Alright, nice, that gets me somewhere. I think I'll have to manually resize the image and reposition the text to get it looking right, but this should work just fine. Thank you!</p>\n\n",
      "PostDate": "2020-01-27T02:36:54.5476682Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "3d53bd34-a898-49b8-bb25-526b3f141801",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "You can add `background-size:` to the setCss line to resize the image, and use `padding:` to control the positioning of the text inside it.\r\n\r\nIt's probably a lot of work fine-tuning all the positions, but it's mostly going to be trial and error.",
      "EditableFormat": "markdown",
      "HTML": "<p>You can add <code>background-size:</code> to the setCss line to resize the image, and use <code>padding:</code> to control the positioning of the text inside it.</p>\n<p>It's probably a lot of work fine-tuning all the positions, but it's mostly going to be trial and error.</p>\n\n",
      "PostDate": "2020-01-27T03:04:36.6655686Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "3a635856-b2ac-4549-94b6-5a8e5fce931a",
      "UserId": 207026,
      "Username": "Pykrete",
      "AvatarUrl": "https://i.imgur.com/n9Ygszeb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Oh, that might be easier than fiddling around with resizing the image itself. That said, once I know how big it'll be at maximum, I should probably resize it anyway for filesize purposes.\r\n\r\nThanks for the help! I'll play around when things become a little less frantic for me today.",
      "EditableFormat": "markdown",
      "HTML": "<p>Oh, that might be easier than fiddling around with resizing the image itself. That said, once I know how big it'll be at maximum, I should probably resize it anyway for filesize purposes.</p>\n<p>Thanks for the help! I'll play around when things become a little less frantic for me today.</p>\n\n",
      "PostDate": "2020-01-27T11:45:24.0899185Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "eefb1bf3-9dbf-4f91-b054-29a6f5d0d343",
      "UserId": 207026,
      "Username": "Pykrete",
      "AvatarUrl": "https://i.imgur.com/n9Ygszeb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "I'm a bit stumped on how to properly use background-size, as so far everything I've tried hasn't changed the image at all.",
      "EditableFormat": "markdown",
      "HTML": "<p>I'm a bit stumped on how to properly use background-size, as so far everything I've tried hasn't changed the image at all.</p>\n\n",
      "PostDate": "2020-01-27T14:26:02.5800245Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "1932c268-34ec-41a9-a613-413176b1ecd0",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "In the CSS, you probably want either `background-size: cover;` (stretches the image to fit the div) or `background-size: contain;` (maintains aspect ratio, but shrinks the image to fit within the box). Alternatively, you can use actual sizes, such as `background-size: 500px 350px;`. Width then height. I'd expect it to work if you use the same dimensions you used for the width/height of the section, but there may be some fiddling to account for the border model.\r\n\r\nIt's a while since I played with this stuff. If it's not working, I can try to take a look when I get a break.",
      "EditableFormat": "markdown",
      "HTML": "<p>In the CSS, you probably want either <code>background-size: cover;</code> (stretches the image to fit the div) or <code>background-size: contain;</code> (maintains aspect ratio, but shrinks the image to fit within the box). Alternatively, you can use actual sizes, such as <code>background-size: 500px 350px;</code>. Width then height. I'd expect it to work if you use the same dimensions you used for the width/height of the section, but there may be some fiddling to account for the border model.</p>\n<p>It's a while since I played with this stuff. If it's not working, I can try to take a look when I get a break.</p>\n\n",
      "PostDate": "2020-01-27T15:39:48.2978451Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "f609ca80-3e20-419d-9fc7-4cdb120cfea3",
      "UserId": 207026,
      "Username": "Pykrete",
      "AvatarUrl": "https://i.imgur.com/n9Ygszeb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Huuuuugh this is frustrating.\r\n\r\nBackground-size and Padding both only work if they're at the very front of the setcss line. Trying to put them anywhere else in the sequence results in no errors, but no effect.\r\n\r\n```setCss (\".\"+section, \"background-size: 1000px 485px; padding: 50px 50px; width: 900px; height: 480px; overflow: scroll;\")```\r\n\r\nThis got the image the right size eye-perfect, but then Padding doesn't trigger. I move padding in front of background size, it triggers, background size stops working.\r\n\r\nI'm completely new to this sort of thing- is there some obvious missed/superfluous character I've left out/injected here?",
      "EditableFormat": "markdown",
      "HTML": "<p>Huuuuugh this is frustrating.</p>\n<p>Background-size and Padding both only work if they're at the very front of the setcss line. Trying to put them anywhere else in the sequence results in no errors, but no effect.</p>\n<p><code>setCss (\".\"+section, \"background-size: 1000px 485px; padding: 50px 50px; width: 900px; height: 480px; overflow: scroll;\")</code></p>\n<p>This got the image the right size eye-perfect, but then Padding doesn't trigger. I move padding in front of background size, it triggers, background size stops working.</p>\n<p>I'm completely new to this sort of thing- is there some obvious missed/superfluous character I've left out/injected here?</p>\n\n",
      "PostDate": "2020-01-28T02:12:45.8450642Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "551b8306-e135-4ba0-acc1-c20dc15068cb",
      "UserId": 207026,
      "Username": "Pykrete",
      "AvatarUrl": "https://i.imgur.com/n9Ygszeb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Poked at it a few more times, but I'm still stumped. Padding or Background-size, but never both at once, and only if they're at the beginning of the string. Outside of realizing that 50px 50px is superfluous (just 50px works, applying that padding to all sides which is what I wanted), I'm no closer to understanding what no-doubt glaringly obvious thing I've typed wrong.",
      "EditableFormat": "markdown",
      "HTML": "<p>Poked at it a few more times, but I'm still stumped. Padding or Background-size, but never both at once, and only if they're at the beginning of the string. Outside of realizing that 50px 50px is superfluous (just 50px works, applying that padding to all sides which is what I wanted), I'm no closer to understanding what no-doubt glaringly obvious thing I've typed wrong.</p>\n\n",
      "PostDate": "2020-01-31T12:53:13.8202413Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "ec2a65c5-ed9d-48be-ac98-3f2269eb13c2",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "I'm trying it, and it seems to work fine.\r\n\r\nCan you share a link to your game (or a test game which replicates the issue) so I can see what you're doing different?\r\n(I don't have Windows, so for testing purposes I'm stuck on the web version of Quest)",
      "EditableFormat": "markdown",
      "HTML": "<p>I'm trying it, and it seems to work fine.</p>\n<p>Can you share a link to your game (or a test game which replicates the issue) so I can see what you're doing different?<br>\n(I don't have Windows, so for testing purposes I'm stuck on the web version of Quest)</p>\n\n",
      "PostDate": "2020-01-31T16:06:11.0022248Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "99392873-f6e7-484a-9ad2-d13f3a0228be",
      "UserId": 207026,
      "Username": "Pykrete",
      "AvatarUrl": "https://i.imgur.com/n9Ygszeb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Did you copy what I had exactly? If it works for you but inexplicably doesn't for me, then I don't know what testing it could solve.\r\n\r\nI can send you a link to the project - I tried to throw together a test version of this, but it's nested within the hacking game code and it's a bit of a nightmare to peel it apart.\r\n\r\nUPDATE;\r\n\r\nIn a moment of madness I decided to just do lots of single-action setcss lines, one for each element adjustment, aaaaaaaaaaaaaaaaaaaaaaaand now it works fine. I'm again assuming that I've got some superfluous missing or additional characters gunking up the single-line version up there, but I'm now beyond caring.\r\n\r\nOh, also, I added in ```background-repeat: no-repeat``` to get rid of the tiling effect, which means I don't have to get this quite so ridiculously pixel perfect.\r\n\r\n```section = StartNewOutputSection()\r\nJS.eval (\"$('.\"+section+\"').css('background-image', 'url(\"+GetFileURL(\"Terminal_Screen.png\")+\")');\")\r\nJS.setCss (\".\"+section, \"padding: 40px;\")\r\nJS.setCss (\".\"+section, \"background-size: 1000px 500px\")\r\nJS.setCss (\".\"+section, \"background-repeat: no-repeat\")\r\nJS.eval (\"(function (s) {var img = $('.'+s).first(); img.nextAll('.'+s).appendTo(img);})('\"+section+\"');\")```\r\n\r\nThat's how it looks in code view, in the end. It works, I'm not touching it any further, save my soul.",
      "EditableFormat": "markdown",
      "HTML": "<p>Did you copy what I had exactly? If it works for you but inexplicably doesn't for me, then I don't know what testing it could solve.</p>\n<p>I can send you a link to the project - I tried to throw together a test version of this, but it's nested within the hacking game code and it's a bit of a nightmare to peel it apart.</p>\n<p>UPDATE;</p>\n<p>In a moment of madness I decided to just do lots of single-action setcss lines, one for each element adjustment, aaaaaaaaaaaaaaaaaaaaaaaand now it works fine. I'm again assuming that I've got some superfluous missing or additional characters gunking up the single-line version up there, but I'm now beyond caring.</p>\n<p>Oh, also, I added in <code>background-repeat: no-repeat</code> to get rid of the tiling effect, which means I don't have to get this quite so ridiculously pixel perfect.</p>\n<pre><code>JS.eval (\"$('.\"+section+\"').css('background-image', 'url(\"+GetFileURL(\"Terminal_Screen.png\")+\")');\")\nJS.setCss (\".\"+section, \"padding: 40px;\")\nJS.setCss (\".\"+section, \"background-size: 1000px 500px\")\nJS.setCss (\".\"+section, \"background-repeat: no-repeat\")\nJS.eval (\"(function (s) {var img = $('.'+s).first(); img.nextAll('.'+s).appendTo(img);})('\"+section+\"');\")```\n\nThat's how it looks in code view, in the end. It works, I'm not touching it any further, save my soul.\n</code></pre>\n\n",
      "PostDate": "2020-02-01T03:07:29.7590082Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "0423f860-24b8-49e8-a717-19c3916ba95b",
      "UserId": 277074,
      "Username": "Dcoder",
      "AvatarUrl": "https://i.imgur.com/O07mlRtb.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Maybe modifying both ```background-size``` and ```width``` and ```height``` properties for the same element confuses Quest?",
      "EditableFormat": "markdown",
      "HTML": "<p>Maybe modifying both <code>background-size</code> and <code>width</code> and <code>height</code> properties for the same element confuses Quest?</p>\n\n",
      "PostDate": "2020-02-02T09:28:06.0687873Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "f61c5fd9-d137-47a3-9879-2c29a3594d1d",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "> Maybe modifying both background-size and width and height properties for the same element confuses Quest?\r\n\r\nIt doesn't appear to, unless there's a bug I haven't found in the `setCss` function. Although setting `background:` in the same line would cause oddities (because it resets the values of `background-size`, `background-position`, `background-origin` and `background-attachment`)\r\n\r\nAll I can guess is that a nonprinting character sneaked into the code somewhere, an invisible typo. (jQuery is pretty good at coping with stuff like wide spaces, narrow spaces, 'do not autohyphenate here' markers, and Greek colons in its CSS. Quest isn't so good where the impact isn't exactly as expected)",
      "EditableFormat": "markdown",
      "HTML": "<blockquote>\n<p>Maybe modifying both background-size and width and height properties for the same element confuses Quest?</p>\n</blockquote>\n<p>It doesn't appear to, unless there's a bug I haven't found in the <code>setCss</code> function. Although setting <code>background:</code> in the same line would cause oddities (because it resets the values of <code>background-size</code>, <code>background-position</code>, <code>background-origin</code> and <code>background-attachment</code>)</p>\n<p>All I can guess is that a nonprinting character sneaked into the code somewhere, an invisible typo. (jQuery is pretty good at coping with stuff like wide spaces, narrow spaces, 'do not autohyphenate here' markers, and Greek colons in its CSS. Quest isn't so good where the impact isn't exactly as expected)</p>\n\n",
      "PostDate": "2020-02-02T09:46:08.0098868Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "1b2cac9c-5e73-4a4f-919b-0a9988bd0ee7",
      "UserId": 207026,
      "Username": "Pykrete",
      "AvatarUrl": "https://i.imgur.com/n9Ygszeb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Eh, doing it multi-line works for me! At the end of the day the framework I'm building only really needs to be understood by me and me alone, if I decide to share it with friends I'll figure out how to streamline it then.\r\n\r\nThanks for the help!",
      "EditableFormat": "markdown",
      "HTML": "<p>Eh, doing it multi-line works for me! At the end of the day the framework I'm building only really needs to be understood by me and me alone, if I decide to share it with friends I'll figure out how to streamline it then.</p>\n<p>Thanks for the help!</p>\n\n",
      "PostDate": "2020-02-03T06:22:55.3636439Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "5273b955-0908-4ed1-805a-ed6a70222fc5",
      "UserId": 462675,
      "Username": "mogiben461",
      "AvatarUrl": "https://secure.gravatar.com/avatar/2f74a52d6b65b503581ecf6f52372ca1?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "<a href=\"https://hotmailgr.com/\">Hotmail είσοδοσ</a>\r\n",
      "EditableFormat": "markdown",
      "HTML": "<p><a href=\"https://hotmailgr.com/\">Hotmail είσοδοσ</a></p>\n\n",
      "PostDate": "2020-02-03T08:04:48.3860246Z",
      "LastEditDate": null,
      "link": null
    }
  ]
}
