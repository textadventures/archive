{
  "Topic": {
    "TopicId": "zjqf2taxeek-6v5srsgxgq",
    "ForumId": "10",
    "Title": "using thumbnails in a menu instead of text",
    "LastUpdated": "2018-12-01T09:42:10.1547726Z",
    "ReplyCount": 0
  },
  "Posts": [
    {
      "PostId": "136116cc-5233-4636-8e9b-520a87ea7372",
      "UserId": 385800,
      "Username": "egoproctor",
      "AvatarUrl": "https://i.imgur.com/PLDGAZAb.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "I am playing with setting up a menu that displays thumbnail images instead of text, \r\nbut I don't think I am formatting the the code correctly, if it is even possible.\r\nThis is just part of the code, the compiler keeps truncating the code and I have to keep retyping it.  \r\n\r\n```\r\nmenuPic1 = \"chr(60) + \" a href =  'https://i.imgur.com/vmFz0gn.jpg' + chr(62)\" // here I would add the img src as per html to load the thumbnail with a width of say 50px\r\n\r\nlist add (menuList, menuPic1)\r\n```",
      "EditableFormat": "markdown",
      "HTML": "<p>I am playing with setting up a menu that displays thumbnail images instead of text,<br>\nbut I don't think I am formatting the the code correctly, if it is even possible.<br>\nThis is just part of the code, the compiler keeps truncating the code and I have to keep retyping it.</p>\n<pre><code>menuPic1 = \"chr(60) + \" a href =  'https://i.imgur.com/vmFz0gn.jpg' + chr(62)\" // here I would add the img src as per html to load the thumbnail with a width of say 50px\n\nlist add (menuList, menuPic1)\n</code></pre>\n\n",
      "PostDate": "2018-12-01T09:42:10.1547726Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "bcfc8abc-52c0-48c9-af2f-0efb3f1ff87c",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Are you using this for `show menu` or `ShowMenu`, or is it just a menu in a stylistic sense?\r\nQuest's menu functions will already be wrapping an `<a>` tag around the text you pass to it, and having nested `<a>`s is invalid HTML. Also, there should not be a space between the `<` and the element name.\r\n\r\nThe more direct problem is that your quotes don't match up.\r\nYou have a `\"` right after the equals sign, so the Quest interpreter knows that `chr(60) + ` is literal text that you want to send to the player, rather than a function to run. Then, after the closing quote, it sees an `a` on its own. So you want to use the `a` operator to combine the string `\"chr(60) + \"` with whatever comes next. And it fails here, because `a` isn't an operator in Quest's expression language.\r\n\r\nIf you want your string to contain the HTML: <code>&lt;a href=\"htt<span />ps://i.imgur.com/vmFz0gn.jpg\" &gt;</code>\r\nthen your code should be:\r\n<code style=\"color: darkgreen\">menuPic1 = Chr(60) + \"a href=&#92;\"htt<span />ps://i.imgur.com/vmFz0gn.jpg&#92;\" \" + Chr(62)</code>\r\n(presumably with the rest of the HTML after it)",
      "EditableFormat": "markdown",
      "HTML": "<p>Are you using this for <code>show menu</code> or <code>ShowMenu</code>, or is it just a menu in a stylistic sense?<br>\nQuest's menu functions will already be wrapping an <code>&lt;a&gt;</code> tag around the text you pass to it, and having nested <code>&lt;a&gt;</code>s is invalid HTML. Also, there should not be a space between the <code>&lt;</code> and the element name.</p>\n<p>The more direct problem is that your quotes don't match up.<br>\nYou have a <code>\"</code> right after the equals sign, so the Quest interpreter knows that <code>chr(60) +</code> is literal text that you want to send to the player, rather than a function to run. Then, after the closing quote, it sees an <code>a</code> on its own. So you want to use the <code>a</code> operator to combine the string <code>\"chr(60) + \"</code> with whatever comes next. And it fails here, because <code>a</code> isn't an operator in Quest's expression language.</p>\n<p>If you want your string to contain the HTML: <code>&lt;a href=\"htt<span>ps://i.imgur.com/vmFz0gn.jpg\" &gt;</span></code><br>\nthen your code should be:<br>\n<code style=\"color: darkgreen\">menuPic1 = Chr(60) + \"a href=\\\"htt<span>ps://i.imgur.com/vmFz0gn.jpg\\\" \" + Chr(62)</span></code><br>\n(presumably with the rest of the HTML after it)</p>\n\n",
      "PostDate": "2018-12-01T11:30:55.710707Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "47a7294f-9899-4aa2-a7c5-73a41007a35a",
      "UserId": 318253,
      "Username": "K.V.",
      "AvatarUrl": "https://i.imgur.com/mBf7TBeb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Maybe:\r\n\r\n```\r\nmenuPic1 = Chr (60) + \"a href = \\\"https://i.imgur.com/vmFz0gn.jpg\\\"\" + Chr (62)\r\n```\r\n\r\nThat's the Quest equivalent of this in HTML: ```<a href=\"https://i.imgur.com/vmFz0gn.jpg\">```\r\n\r\n---\r\n**EDIT**\r\n\r\nHa ha!\r\n\r\nmrangel provided a more thorough answer, and he must have clicked \"Post Reply\" as soon as I started typing my answer.\r\n\r\nWe do that a lot.  Great minds and all...",
      "EditableFormat": "markdown",
      "HTML": "<p>Maybe:</p>\n<pre><code>menuPic1 = Chr (60) + \"a href = \\\"https://i.imgur.com/vmFz0gn.jpg\\\"\" + Chr (62)\n</code></pre>\n<p>That's the Quest equivalent of this in HTML: <code>&lt;a href=\"https://i.imgur.com/vmFz0gn.jpg\"&gt;</code></p>\n<hr>\n<p><strong>EDIT</strong></p>\n<p>Ha ha!</p>\n<p>mrangel provided a more thorough answer, and he must have clicked \"Post Reply\" as soon as I started typing my answer.</p>\n<p>We do that a lot.  Great minds and all...</p>\n\n",
      "PostDate": "2018-12-01T11:32:20.8009044Z",
      "LastEditDate": "2018-12-01T11:38:05.8154833Z",
      "link": null
    },
    {
      "PostId": "9d5c67bc-2932-46b5-b19c-c2e4ca3885f8",
      "UserId": 385800,
      "Username": "egoproctor",
      "AvatarUrl": "https://i.imgur.com/PLDGAZAb.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Tried it again, the menu shows the raw HTML, it is not being processed as HTML, just as straight text.  \r\n\r\n```\r\nmenuList = NewStringList()\r\nmenuPic1 = Chr(60) +\"a href = \\\" https://i.imgur.com/vmFz0gn.jpg\\\"\" + Chr(62)  //this is the text in the menu\r\nlist add (menuList, menuPic1)\r\nlist add (menuList, \"showing\")\r\nlist add (menuList, \"menus\")\r\nshow menu (\"Welcome to Chapel Perilous\", videos.videoList, true) {\r\n  ShowYouTube (result)  //works fine\r\n  wait {\r\n    show menu (\"Test menu after videos\", menuList, true) {  //the menu is rendered, but with raw HTML as the text\r\n      if (result = menuPic1) { //nothing happens here\r\n        msg (\"menuPic1\")  \r\n      }\r\n      else if (result = \"showing\") {\r\n        msg (\"showing\")\r\n      }\r\n      else if (result = \"menus\") {\r\n        msg (\"menus\")\r\n      }\r\n      else {\r\n        msg (\"How did that happen\")\r\n      }\r\n    }\r\n  }\r\n}\r\n```",
      "EditableFormat": "markdown",
      "HTML": "<p>Tried it again, the menu shows the raw HTML, it is not being processed as HTML, just as straight text.</p>\n<pre><code>menuList = NewStringList()\nmenuPic1 = Chr(60) +\"a href = \\\" https://i.imgur.com/vmFz0gn.jpg\\\"\" + Chr(62)  //this is the text in the menu\nlist add (menuList, menuPic1)\nlist add (menuList, \"showing\")\nlist add (menuList, \"menus\")\nshow menu (\"Welcome to Chapel Perilous\", videos.videoList, true) {\n  ShowYouTube (result)  //works fine\n  wait {\n    show menu (\"Test menu after videos\", menuList, true) {  //the menu is rendered, but with raw HTML as the text\n      if (result = menuPic1) { //nothing happens here\n        msg (\"menuPic1\")  \n      }\n      else if (result = \"showing\") {\n        msg (\"showing\")\n      }\n      else if (result = \"menus\") {\n        msg (\"menus\")\n      }\n      else {\n        msg (\"How did that happen\")\n      }\n    }\n  }\n}\n</code></pre>\n\n",
      "PostDate": "2018-12-01T19:54:45.927526Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "8e464f81-82b8-40b9-9bf2-643f38375ec2",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Not sure how to approach that, I'm afraid. I know it should work with `ShowMenu`, but I can't find the source for `show menu` to see where the problem is.",
      "EditableFormat": "markdown",
      "HTML": "<p>Not sure how to approach that, I'm afraid. I know it should work with <code>ShowMenu</code>, but I can't find the source for <code>show menu</code> to see where the problem is.</p>\n\n",
      "PostDate": "2018-12-01T20:18:36.7641202Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "bc75a21c-6c0b-4547-a000-4d8cafbe55c5",
      "UserId": 385800,
      "Username": "egoproctor",
      "AvatarUrl": "https://i.imgur.com/PLDGAZAb.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "tried ShowMenu for the nested menu, with and without the a href bit\r\n\r\n```\r\nmenuList = NewStringList()\r\nmenuPic1 = chr(60) +\" img src = 'https://i.imgur.com/vmFz0gn.jpg' /\" + chr(62)\r\nlist add (menuList, menuPic1)\r\nlist add (menuList, \"showing\")\r\nlist add (menuList, \"menus\")\r\nshow menu (\"Welcome to Chapel Perilous\", videos.videoList, true) {\r\n  ShowYouTube (result)\r\n  wait {\r\n    ShowMenu (\"Test menu after videos\", menuList, true) {\r\n      if (result = menuPic1) {\r\n        msg (chr(60) + \"img src = https://i.imgur.com/vmFz0gn.jpg /\" + chr(62))\r\n      }\r\n      else if (result = \"showing\") {\r\n        msg (\"showing\")\r\n      }\r\n      else if (result = \"menus\") {\r\n        msg (\"menus\")\r\n      }\r\n      else {\r\n        msg (\"How did that happen\")\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\nwith <a href = ... code, the menu creates a link that takes me to another website.  Not what I am looking for.\r\nWithout <a href = ... code\r\n\r\n```\r\nTest menu after videos\r\n1: < img src = 'https://i.imgur.com/vmFz0gn.jpg' />\r\n2: showing\r\n3: menus\r\n```",
      "EditableFormat": "markdown",
      "HTML": "<p>tried ShowMenu for the nested menu, with and without the a href bit</p>\n<pre><code>menuList = NewStringList()\nmenuPic1 = chr(60) +\" img src = 'https://i.imgur.com/vmFz0gn.jpg' /\" + chr(62)\nlist add (menuList, menuPic1)\nlist add (menuList, \"showing\")\nlist add (menuList, \"menus\")\nshow menu (\"Welcome to Chapel Perilous\", videos.videoList, true) {\n  ShowYouTube (result)\n  wait {\n    ShowMenu (\"Test menu after videos\", menuList, true) {\n      if (result = menuPic1) {\n        msg (chr(60) + \"img src = https://i.imgur.com/vmFz0gn.jpg /\" + chr(62))\n      }\n      else if (result = \"showing\") {\n        msg (\"showing\")\n      }\n      else if (result = \"menus\") {\n        msg (\"menus\")\n      }\n      else {\n        msg (\"How did that happen\")\n      }\n    }\n  }\n}\n</code></pre>\n<p>with &lt;a href = ... code, the menu creates a link that takes me to another website.  Not what I am looking for.<br>\nWithout &lt;a href = ... code</p>\n<pre><code>Test menu after videos\n1: &lt; img src = 'https://i.imgur.com/vmFz0gn.jpg' /&gt;\n2: showing\n3: menus\n</code></pre>\n\n",
      "PostDate": "2018-12-01T21:18:18.6853177Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "6560851b-6bae-47c8-a139-8c4247cf6c9e",
      "UserId": 385800,
      "Username": "egoproctor",
      "AvatarUrl": "https://i.imgur.com/PLDGAZAb.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "simplified the code to see what would happen\r\n\r\n```\r\nmenuList = NewStringList()\r\nmenuPic1 = \"squatterman\"\r\nlist add (menuList, menuPic1)\r\nlist add (menuList, \"showing\")\r\nlist add (menuList, \"menus\")\r\nshow menu (\"Welcome to Chapel Perilous\", videos.videoList, true) {\r\n  ShowYouTube (result)\r\n  wait {\r\n    ShowMenu (\"Test menu after videos\", menuList, true) {\r\n      if (result = menuPic1) {\r\n        msg (chr(60) + \"img src = https://i.imgur.com/vmFz0gn.jpg /\" + chr(62))\r\n      }\r\n      else if (result = \"showing\") {\r\n        msg (\"showing\")\r\n      }\r\n      else if (result = \"menus\") {\r\n        msg (\"menus\")\r\n      }\r\n      else {\r\n        msg (\"How did that happen\")\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n\r\nError running script: Error compiling expression 'result = menuPic1': Unknown object or variable 'menuPic1'",
      "EditableFormat": "markdown",
      "HTML": "<p>simplified the code to see what would happen</p>\n<pre><code>menuList = NewStringList()\nmenuPic1 = \"squatterman\"\nlist add (menuList, menuPic1)\nlist add (menuList, \"showing\")\nlist add (menuList, \"menus\")\nshow menu (\"Welcome to Chapel Perilous\", videos.videoList, true) {\n  ShowYouTube (result)\n  wait {\n    ShowMenu (\"Test menu after videos\", menuList, true) {\n      if (result = menuPic1) {\n        msg (chr(60) + \"img src = https://i.imgur.com/vmFz0gn.jpg /\" + chr(62))\n      }\n      else if (result = \"showing\") {\n        msg (\"showing\")\n      }\n      else if (result = \"menus\") {\n        msg (\"menus\")\n      }\n      else {\n        msg (\"How did that happen\")\n      }\n    }\n  }\n}\n</code></pre>\n<p>Error running script: Error compiling expression 'result = menuPic1': Unknown object or variable 'menuPic1'</p>\n\n",
      "PostDate": "2018-12-01T21:45:48.5496912Z",
      "LastEditDate": "2018-12-01T21:46:31.5820326Z",
      "link": null
    },
    {
      "PostId": "3f4af649-d9d5-4393-b23c-166c5bf77fb2",
      "UserId": 318253,
      "Username": "K.V.",
      "AvatarUrl": "https://i.imgur.com/mBf7TBeb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Local variables aren't accessible from within that ```ShowMenu``` block of code (or from within that ```wait``` block of code).\r\n\r\nTry making ```menuList``` and ```menuPic1``` game attributes (global variables) instead of local variables, this:\r\n\r\n```\r\ngame.menuList = NewStringList()\r\ngame.menuPic1 = \"squatterman\"\r\nlist add (game.menuList, game.menuPic1)\r\nlist add (game.menuList, \"showing\")\r\nlist add (game.menuList, \"menus\")\r\nshow menu (\"Welcome to Chapel Perilous\", videos.videoList, true) {\r\n  ShowYouTube (result)\r\n  wait {\r\n    ShowMenu (\"Test menu after videos\", game.menuList, true) {\r\n      if (result = game.menuPic1) {\r\n        msg (Chr(60) + \"img src=\\\"https://i.imgur.com/vmFz0gn.jpg\\\" /\" + Chr(62))\r\n      }\r\n      else if (result = \"showing\") {\r\n        msg (\"showing\")\r\n      }\r\n      else if (result = \"menus\") {\r\n        msg (\"menus\")\r\n      }\r\n      else {\r\n        msg (\"How did that happen\")\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n---\r\nReference:\r\nhttp://docs.textadventures.co.uk/quest/blocks_and_scripts.html\r\n\r\n---\r\nI also changed your ```chr()``` to ```Chr()``` in both instances.\r\n\r\nReference:\r\nhttp://docs.textadventures.co.uk/quest/functions/string/chr.html\r\n\r\n---\r\nI also removed the spacing and added the quotation marks around the url in the image tag.",
      "EditableFormat": "markdown",
      "HTML": "<p>Local variables aren't accessible from within that <code>ShowMenu</code> block of code (or from within that <code>wait</code> block of code).</p>\n<p>Try making <code>menuList</code> and <code>menuPic1</code> game attributes (global variables) instead of local variables, this:</p>\n<pre><code>game.menuList = NewStringList()\ngame.menuPic1 = \"squatterman\"\nlist add (game.menuList, game.menuPic1)\nlist add (game.menuList, \"showing\")\nlist add (game.menuList, \"menus\")\nshow menu (\"Welcome to Chapel Perilous\", videos.videoList, true) {\n  ShowYouTube (result)\n  wait {\n    ShowMenu (\"Test menu after videos\", game.menuList, true) {\n      if (result = game.menuPic1) {\n        msg (Chr(60) + \"img src=\\\"https://i.imgur.com/vmFz0gn.jpg\\\" /\" + Chr(62))\n      }\n      else if (result = \"showing\") {\n        msg (\"showing\")\n      }\n      else if (result = \"menus\") {\n        msg (\"menus\")\n      }\n      else {\n        msg (\"How did that happen\")\n      }\n    }\n  }\n}\n</code></pre>\n<hr>\n<p>Reference:<br>\nhttp://docs.textadventures.co.uk/quest/blocks_and_scripts.html</p>\n<hr>\n<p>I also changed your <code>chr()</code> to <code>Chr()</code> in both instances.</p>\n<p>Reference:<br>\nhttp://docs.textadventures.co.uk/quest/functions/string/chr.html</p>\n<hr>\n<p>I also removed the spacing and added the quotation marks around the url in the image tag.</p>\n\n",
      "PostDate": "2018-12-01T21:59:13.6663077Z",
      "LastEditDate": "2018-12-01T22:10:57.5785516Z",
      "link": null
    },
    {
      "PostId": "c80ce6d0-3e67-4267-ad71-9daaa02e36b0",
      "UserId": 318253,
      "Username": "K.V.",
      "AvatarUrl": "https://i.imgur.com/mBf7TBeb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "PS\r\n\r\nmrangel, here is the ```show menu``` Quest script (if this helps anything).\r\n\r\nhttps://github.com/textadventures/quest/blob/beaeade160c4c1a2912b9d0b52f9ac7a5c4b78f8/WorldModel/WorldModel/Scripts/ShowMenuScript.cs",
      "EditableFormat": "markdown",
      "HTML": "<p>PS</p>\n<p>mrangel, here is the <code>show menu</code> Quest script (if this helps anything).</p>\n<p>https://github.com/textadventures/quest/blob/beaeade160c4c1a2912b9d0b52f9ac7a5c4b78f8/WorldModel/WorldModel/Scripts/ShowMenuScript.cs</p>\n\n",
      "PostDate": "2018-12-01T22:02:30.8159405Z",
      "LastEditDate": "2018-12-01T22:07:25.7000633Z",
      "link": null
    }
  ]
}
