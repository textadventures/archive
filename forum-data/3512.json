{
  "Topic": {
    "TopicId": "3512",
    "ForumId": "10",
    "Title": "Creating \"New\" Dictionaries",
    "LastUpdated": "2013-03-07T15:14:44+00:00",
    "ReplyCount": 4
  },
  "Posts": [
    {
      "PostId": "23124",
      "UserId": 0,
      "Username": "TriangleGames",
      "UserAvatar": null,
      "UserGravatar": "134d9e995777da65c5cf8efda551d579",
      "EditableText": "I actually found a way to make my scripts do what I want, but I'm perplexed by why it did not work the way I tried it originally.\nI'm using a StringDictionary named &quot;view&quot; to hold a selection of possible things seen out a window.\n(I have a function set up to convert int's to string's, so I can use GetRandomint to choose what dictionary item is printed out.)\nAssuming that I would only need to create and fill the dictionary once, I put the declaration and item definitions in a &quot;FirstTime&quot; script, like so...\n[attachment=1:bsgv0cj8]<!-- ia1 -->NewFirstTime.png<!-- ia1 -->[/attachment:bsgv0cj8]\nBut when I played it, it only recognized the dictionary name &quot;view&quot; the [i:bsgv0cj8]first time[/i:bsgv0cj8] I looked at the window.\nEvery time after that, it gave me an error, &quot;Unknown object or variable 'view'.&quot;\nSo, I got rid of the &quot;FirstTime&quot; script, and let it just do the whole thing every time I look at the window, Like so...\n[attachment=0:bsgv0cj8]<!-- ia0 -->NewEveryTime.png<!-- ia0 -->[/attachment:bsgv0cj8]\nIt seems to work just fine this way, but I'm confused as to why it did [i:bsgv0cj8]not[/i:bsgv0cj8] work the other way.\nOnce a &quot;new StringDictionary&quot; has been created, shouldn't it be accessible at any time later?\nIt feels weird to &quot;create&quot; the same &quot;new&quot; dictionary repeatedly. Wouldn't it waste extra memory on redundant copies of the dictionary?\n\nEDIT: BTW, is there already a method for converting int's to string's that can be used in Quest? My &quot;IntString&quot; function uses a switch with a separate case for [i:bsgv0cj8]each[/i:bsgv0cj8] number. Right now it can only handle numbers 1 through 5.",
      "EditableFormat": "bbcode",
      "HTML": "I actually found a way to make my scripts do what I want, but I'm perplexed by why it did not work the way I tried it originally.<br/>I'm using a StringDictionary named &quot;view&quot; to hold a selection of possible things seen out a window.<br/>(I have a function set up to convert int's to string's, so I can use GetRandomint to choose what dictionary item is printed out.)<br/>Assuming that I would only need to create and fill the dictionary once, I put the declaration and item definitions in a &quot;FirstTime&quot; script, like so...<br/><div><img src=\"/attachment/524\" alt=\"NewFirstTime.png\" /></div><br/>But when I played it, it only recognized the dictionary name &quot;view&quot; the <span style=\"font-style:italic;\">first time</span> I looked at the window.<br/>Every time after that, it gave me an error, &quot;Unknown object or variable 'view'.&quot;<br/>So, I got rid of the &quot;FirstTime&quot; script, and let it just do the whole thing every time I look at the window, Like so...<br/><div><img src=\"/attachment/525\" alt=\"NewEveryTime.png\" /></div><br/>It seems to work just fine this way, but I'm confused as to why it did <span style=\"font-style:italic;\">not</span> work the other way.<br/>Once a &quot;new StringDictionary&quot; has been created, shouldn't it be accessible at any time later?<br/>It feels weird to &quot;create&quot; the same &quot;new&quot; dictionary repeatedly. Wouldn't it waste extra memory on redundant copies of the dictionary?<br/><br/>EDIT: BTW, is there already a method for converting int's to string's that can be used in Quest? My &quot;IntString&quot; function uses a switch with a separate case for <span style=\"font-style:italic;\">each</span> number. Right now it can only handle numbers 1 through 5.",
      "PostDate": "2013-03-07T14:44:04+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "23126",
      "UserId": 0,
      "Username": "levicki",
      "UserAvatar": null,
      "UserGravatar": "be743462cd257b8490bed6cc0d3795ea",
      "EditableText": "Your variable [i:3mkyy3mw]view[/i:3mkyy3mw] is [b:3mkyy3mw]local[/b:3mkyy3mw]. If you put it in FirstTime it lives only in that if () scope. Also, if you create it in a script, it is visible only in that script and exists while the script is executed which means it does not get created multiple times (you can check in debugger to see how many you have).\n\nIn order to have persistent dictionaries or lists you would need to create them at the start of the game and assign them to some global variables.",
      "EditableFormat": "bbcode",
      "HTML": "Your variable <span style=\"font-style:italic;\">view</span> is <span style=\"font-weight:bold;\">local</span>. If you put it in FirstTime it lives only in that if () scope. Also, if you create it in a script, it is visible only in that script and exists while the script is executed which means it does not get created multiple times (you can check in debugger to see how many you have).<br/><br/>In order to have persistent dictionaries or lists you would need to create them at the start of the game and assign them to some global variables.",
      "PostDate": "2013-03-07T14:55:28+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "23127",
      "UserId": 0,
      "Username": "TriangleGames",
      "UserAvatar": null,
      "UserGravatar": "134d9e995777da65c5cf8efda551d579",
      "EditableText": "Oh, well that makes sense. I guess I've been thinking of &quot;scope&quot; in game terms so much that I forgot programs have scopes too, lol.\nThank you for clearing that up, I'm sure it'll very helpful in the future.",
      "EditableFormat": "bbcode",
      "HTML": "Oh, well that makes sense. I guess I've been thinking of &quot;scope&quot; in game terms so much that I forgot programs have scopes too, lol.<br/>Thank you for clearing that up, I'm sure it'll very helpful in the future.",
      "PostDate": "2013-03-07T14:59:13+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "23129",
      "UserId": 0,
      "Username": "HegemonKhan",
      "UserAvatar": null,
      "UserGravatar": "a96cf34d8d97c57de38f54ee22b1759b",
      "EditableText": "yep, your &quot;view&quot; simply needs to be changed to:\n\ngame.view, game.pov.view, or object.view\n(technically, these are all object.view 's lol)\n\nI make this mistake all the time myself, due to forgetting to add the needed permanent location (so it's not a local variable) to it, lol.\n\n-------------\n\nI'm trying to figure out how to use dictionaries myself, I got a question about them in the Noob HK Help Me thread, that no one has answered yet, though I think I figured out how to use them on my own (hopefully), but I haven't tested using them (well my methods~attempts of using them, lol) yet on my own.\n\nI don't think you should need the IntString converter function...\n\nmy understanding is that the\n\nDictionaryItem, StringDictionaryItem, ObjectDictionaryItem, and ScriptDictionaryItem, RETURNS the value (strings, objects, or scripts) for you, upon choosing (such as via randomly) its keys (1,2,3,etc or one,two,three,etc or red,blue,yellow,etc or whatever strings).\n\nIt took me along time to figure out how to add a ScriptDictionary item, lol.\n\nI'm like how do I write a script into its code ???\n\ncode (I think) = dictionary add (dictionary,key,value)\n\nthen I finally realized, to make a script code, and thus I could just plug in its name to the value:\n\n&lt;move type=&quot;script&quot;&gt;\n  yada yada yada\n&lt;/move&gt;\n\ndictionary add (travel_object_structure.travel_dictionary,home,move)\n\n---------\n\nhere's the questions I was asking on the other thread:\n\nI was asking if people could look over this code of mine, and see if it would work or not, and etc.\n\n(I think I've since figured out how to properly use dictionaries, lists, and etc, but I still haven't gotten around to testing it yet)\n\n(this was written prior to me figuring out how to hopefully do the stuff correctly, lol. this was before I realized to make a script code, so I could add it into the add dictionary code via its name)\n\n[code:3krilyee]&lt;library&gt;\n  &lt;!-- Commands --&gt;\n  \n  &lt;command name=&quot;help_command&quot;&gt;\n    &lt;pattern&gt;help&lt;/pattern&gt;\n   &lt;script&gt;\n     help_function\n   &lt;/script&gt;\n  &lt;/command&gt;\n  \n  &lt;command name=&quot;statistics_command&quot;&gt;\n    &lt;pattern&gt;stats&lt;/pattern&gt;\n   &lt;script&gt;\n     statistics_function\n   &lt;/script&gt;\n  &lt;/command&gt;\n  \n  &lt;command name=&quot;explore_command&quot;&gt;\n    &lt;pattern&gt;explore&lt;/pattern&gt;\n   &lt;script&gt;\n     explore_function\n   &lt;/script&gt;\n  &lt;/command&gt;\n  \n  &lt;command name=&quot;travel_command&quot;&gt;\n    &lt;pattern&gt;goto&lt;/pattern&gt;\n   &lt;script&gt;\n     travel_function\n   &lt;/script&gt;\n  &lt;/command&gt;\n  \n  &lt;command name=&quot;storage_command&quot;&gt;\n    &lt;pattern&gt;storage&lt;/pattern&gt;\n   &lt;script&gt;\n     storage_function\n   &lt;/script&gt;\n  &lt;/command&gt;\n  \n  &lt;command name=&quot;equipment_command&quot;&gt;\n    &lt;pattern&gt;gear&lt;/pattern&gt;\n   &lt;script&gt;\n     equipment_function\n   &lt;/script&gt;\n  &lt;/command&gt;\n\n  &lt;!-- Functions --&gt;\n  \n  &lt;function name=&quot;help_function&quot;&gt;\n  &lt;/function&gt;\n  \n  &lt;function name=&quot;statistics_function&quot;&gt;\n  &lt;/function&gt;\n  \n  &lt;function name=&quot;explore_function&quot;&gt;\n    switch (game&#46;pov&#46;parent) {\n     case (&quot;homeland&quot;) {\n       if (firsttime) {\n        ScriptDictionaryItem (dictionary_structures&#46;homeland_events_script_dictionary,&quot;homeland_discovery&quot;)\n      } otherwise {\n        ScriptDictionaryItem (dictionary_structures&#46;homeland_events_script_dictionary,GetRandomInt(1,max_value))\n      }\n     }\n   }\n  &lt;/function&gt;\n  \n  &lt;function name=&quot;travel_function&quot;&gt;\n    show menu (&quot;Where do you wish to travel?&quot;,dictionary_structures&#46;travel_script_dictionary,true) {\n     ScriptDictionaryItem (dictionary_structures&#46;travel_script_dictionary,result)\n   }  \n  &lt;/function&gt;\n  \n  &lt;function name=&quot;storage_function&quot;&gt;\n  &lt;/function&gt;\n  \n  &lt;function name=&quot;equipment_function&quot;&gt;\n  &lt;/function&gt;\n  \n  &lt;function name=&quot;travel_script_dictionary_function&quot;&gt;&lt;!&#91;CDATA&#91;\n    if (boolean_structures&#46;homeland_discovered = true) {\n      dictionary add (dictionary_structures&#46;travel_script_dictionary,&quot;homeland&quot;, etc etc and script (if (game&#46;pov&#46;parent &lt;&gt; homeland) then script (game&#46;pov&#46;parent = homeland))\n   }\n  &#93;&#93;&gt;&lt;/function&gt;\n  \n  &lt;function name=&quot;game_turns_function&quot;&gt;\n    game&#46;turns = game&#46;turns + 1\n  &lt;/function&gt;\n\n  &lt;!-- Turnscripts --&gt;\n  \n  &lt;turnscript name=&quot;game_turns_turnscript&quot;&gt;\n    travel_script_dictionary_function\n   game_turns_function\n  &lt;/turnscript&gt;\n  \n  &lt;!-- Object Structures (Data Storage) --&gt;\n  \n  &lt;object name=&quot;dictionary_structures&quot;&gt;\n    &lt;parent&gt;null&lt;/parent&gt;\n   &lt;travel_script_dictionary type=&quot;scriptdictionary&quot;&gt;\n     &lt;item key=&quot;homeland&quot;&gt;&lt;!&#91;CDATA&#91;\n       if (game&#46;pov&#46;parent = homeland) {\n        msg (&quot;You are already here at the homeland! Try again&#46;&quot;)\n        wait {\n          travel_function\n        }\n      } else if (game&#46;pov&#46;parent &lt;&gt; homeland) {\n        game&#46;pov&#46;parent = homeland\n     &#93;&#93;&gt;&lt;/item&gt;\n   &lt;/travel_script_dictionary&gt;\n    &lt;homeland_events_script_dictionary type=&quot;scriptdictionary&quot;&gt;\n     &lt;item key=&quot;homeland_discovery&quot;&gt;\n       boolean_structures&#46;homeland_discovered = true\n      msg (&quot;You've discovered the homeland! Now, you can truly explore, and also travel to, the homeland!&quot;)\n     &lt;/item&gt;\n   &lt;/homeland_events_script_dictionary&gt;\n  &lt;/object&gt;\n&lt;/library&gt;[/code:3krilyee]",
      "EditableFormat": "bbcode",
      "HTML": "yep, your &quot;view&quot; simply needs to be changed to:<br/><br/>game.view, game.pov.view, or object.view<br/>(technically, these are all object.view 's lol)<br/><br/>I make this mistake all the time myself, due to forgetting to add the needed permanent location (so it's not a local variable) to it, lol.<br/><br/>-------------<br/><br/>I'm trying to figure out how to use dictionaries myself, I got a question about them in the Noob HK Help Me thread, that no one has answered yet, though I think I figured out how to use them on my own (hopefully), but I haven't tested using them (well my methods~attempts of using them, lol) yet on my own.<br/><br/>I don't think you should need the IntString converter function...<br/><br/>my understanding is that the<br/><br/>DictionaryItem, StringDictionaryItem, ObjectDictionaryItem, and ScriptDictionaryItem, RETURNS the value (strings, objects, or scripts) for you, upon choosing (such as via randomly) its keys (1,2,3,etc or one,two,three,etc or red,blue,yellow,etc or whatever strings).<br/><br/>It took me along time to figure out how to add a ScriptDictionary item, lol.<br/><br/>I'm like how do I write a script into its code ???<br/><br/>code (I think) = dictionary add (dictionary,key,value)<br/><br/>then I finally realized, to make a script code, and thus I could just plug in its name to the value:<br/><br/>&lt;move type=&quot;script&quot;&gt;<br/>  yada yada yada<br/>&lt;/move&gt;<br/><br/>dictionary add (travel_object_structure.travel_dictionary,home,move)<br/><br/>---------<br/><br/>here's the questions I was asking on the other thread:<br/><br/>I was asking if people could look over this code of mine, and see if it would work or not, and etc.<br/><br/>(I think I've since figured out how to properly use dictionaries, lists, and etc, but I still haven't gotten around to testing it yet)<br/><br/>(this was written prior to me figuring out how to hopefully do the stuff correctly, lol. this was before I realized to make a script code, so I could add it into the add dictionary code via its name)<br/><br/><pre><code>&lt;library&gt;<br/>  &lt;!-- Commands --&gt;<br/>  <br/>  &lt;command name=&quot;help_command&quot;&gt;<br/>    &lt;pattern&gt;help&lt;/pattern&gt;<br/>   &lt;script&gt;<br/>     help_function<br/>   &lt;/script&gt;<br/>  &lt;/command&gt;<br/>  <br/>  &lt;command name=&quot;statistics_command&quot;&gt;<br/>    &lt;pattern&gt;stats&lt;/pattern&gt;<br/>   &lt;script&gt;<br/>     statistics_function<br/>   &lt;/script&gt;<br/>  &lt;/command&gt;<br/>  <br/>  &lt;command name=&quot;explore_command&quot;&gt;<br/>    &lt;pattern&gt;explore&lt;/pattern&gt;<br/>   &lt;script&gt;<br/>     explore_function<br/>   &lt;/script&gt;<br/>  &lt;/command&gt;<br/>  <br/>  &lt;command name=&quot;travel_command&quot;&gt;<br/>    &lt;pattern&gt;goto&lt;/pattern&gt;<br/>   &lt;script&gt;<br/>     travel_function<br/>   &lt;/script&gt;<br/>  &lt;/command&gt;<br/>  <br/>  &lt;command name=&quot;storage_command&quot;&gt;<br/>    &lt;pattern&gt;storage&lt;/pattern&gt;<br/>   &lt;script&gt;<br/>     storage_function<br/>   &lt;/script&gt;<br/>  &lt;/command&gt;<br/>  <br/>  &lt;command name=&quot;equipment_command&quot;&gt;<br/>    &lt;pattern&gt;gear&lt;/pattern&gt;<br/>   &lt;script&gt;<br/>     equipment_function<br/>   &lt;/script&gt;<br/>  &lt;/command&gt;<br/><br/>  &lt;!-- Functions --&gt;<br/>  <br/>  &lt;function name=&quot;help_function&quot;&gt;<br/>  &lt;/function&gt;<br/>  <br/>  &lt;function name=&quot;statistics_function&quot;&gt;<br/>  &lt;/function&gt;<br/>  <br/>  &lt;function name=&quot;explore_function&quot;&gt;<br/>    switch (game&#46;pov&#46;parent) {<br/>     case (&quot;homeland&quot;) {<br/>       if (firsttime) {<br/>        ScriptDictionaryItem (dictionary_structures&#46;homeland_events_script_dictionary,&quot;homeland_discovery&quot;)<br/>      } otherwise {<br/>        ScriptDictionaryItem (dictionary_structures&#46;homeland_events_script_dictionary,GetRandomInt(1,max_value))<br/>      }<br/>     }<br/>   }<br/>  &lt;/function&gt;<br/>  <br/>  &lt;function name=&quot;travel_function&quot;&gt;<br/>    show menu (&quot;Where do you wish to travel?&quot;,dictionary_structures&#46;travel_script_dictionary,true) {<br/>     ScriptDictionaryItem (dictionary_structures&#46;travel_script_dictionary,result)<br/>   }  <br/>  &lt;/function&gt;<br/>  <br/>  &lt;function name=&quot;storage_function&quot;&gt;<br/>  &lt;/function&gt;<br/>  <br/>  &lt;function name=&quot;equipment_function&quot;&gt;<br/>  &lt;/function&gt;<br/>  <br/>  &lt;function name=&quot;travel_script_dictionary_function&quot;&gt;&lt;!&#91;CDATA&#91;<br/>    if (boolean_structures&#46;homeland_discovered = true) {<br/>      dictionary add (dictionary_structures&#46;travel_script_dictionary,&quot;homeland&quot;, etc etc and script (if (game&#46;pov&#46;parent &lt;&gt; homeland) then script (game&#46;pov&#46;parent = homeland))<br/>   }<br/>  &#93;&#93;&gt;&lt;/function&gt;<br/>  <br/>  &lt;function name=&quot;game_turns_function&quot;&gt;<br/>    game&#46;turns = game&#46;turns + 1<br/>  &lt;/function&gt;<br/><br/>  &lt;!-- Turnscripts --&gt;<br/>  <br/>  &lt;turnscript name=&quot;game_turns_turnscript&quot;&gt;<br/>    travel_script_dictionary_function<br/>   game_turns_function<br/>  &lt;/turnscript&gt;<br/>  <br/>  &lt;!-- Object Structures (Data Storage) --&gt;<br/>  <br/>  &lt;object name=&quot;dictionary_structures&quot;&gt;<br/>    &lt;parent&gt;null&lt;/parent&gt;<br/>   &lt;travel_script_dictionary type=&quot;scriptdictionary&quot;&gt;<br/>     &lt;item key=&quot;homeland&quot;&gt;&lt;!&#91;CDATA&#91;<br/>       if (game&#46;pov&#46;parent = homeland) {<br/>        msg (&quot;You are already here at the homeland! Try again&#46;&quot;)<br/>        wait {<br/>          travel_function<br/>        }<br/>      } else if (game&#46;pov&#46;parent &lt;&gt; homeland) {<br/>        game&#46;pov&#46;parent = homeland<br/>     &#93;&#93;&gt;&lt;/item&gt;<br/>   &lt;/travel_script_dictionary&gt;<br/>    &lt;homeland_events_script_dictionary type=&quot;scriptdictionary&quot;&gt;<br/>     &lt;item key=&quot;homeland_discovery&quot;&gt;<br/>       boolean_structures&#46;homeland_discovered = true<br/>      msg (&quot;You've discovered the homeland! Now, you can truly explore, and also travel to, the homeland!&quot;)<br/>     &lt;/item&gt;<br/>   &lt;/homeland_events_script_dictionary&gt;<br/>  &lt;/object&gt;<br/>&lt;/library&gt;</code></pre>",
      "PostDate": "2013-03-07T15:12:11+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "23130",
      "UserId": 0,
      "Username": "Alex",
      "UserAvatar": null,
      "UserGravatar": "188b72c5e13327f4fde3989dca7d7d53",
      "EditableText": "You can convert a string to an int using ToInt()",
      "EditableFormat": "bbcode",
      "HTML": "You can convert a string to an int using ToInt()",
      "PostDate": "2013-03-07T15:14:44+00:00",
      "LastEditDate": null
    }
  ]
}
