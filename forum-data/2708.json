{
  "Topic": {
    "TopicId": "2708",
    "ForumId": "10",
    "Title": "Subtracting Bullets",
    "LastUpdated": "2011-11-01T09:35:44+00:00",
    "ReplyCount": 6
  },
  "Posts": [
    {
      "PostId": "19132",
      "UserId": 0,
      "Username": "Weiand",
      "UserAvatar": null,
      "UserGravatar": "1b24e04cb86e43beb383d57654334349",
      "EditableText": "Here is where I am at.\n\nWant to shoot gun, count down the bullets, be empty, relaod it, then start it all over\n\nHave object Gun. Gun is object, not a container.\nWhen taking Gun\n\n &lt;ontake type=&quot;script&quot;&gt;\n              SetObjectFlagOn (Gun, &quot;6&quot;)\n            &lt;/ontake&gt;\n\nSo that puts Gun in player inventory &amp; sets obj Gun flag to 6, giving Gun 6 bullets\n\nThere is an object Ammo  (a box of ammo for gun)\n Ammo has a &quot;Load&quot; button in inventory when taken\n\n &lt;Load type=&quot;script&quot;&gt;\n              if (GetBoolean(Gun, &quot;0&quot;)) {\n                SetObjectFlagOn (Gun, &quot;6&quot;)\n                msg (&quot;You loaded the gun&quot;)\n              }\n              else {\n                if (not GetBoolean(Gun, &quot;0&quot;)) {\n                  msg (&quot;Gun does not need to be reloaded&quot;)\n                }\n              }\n            &lt;/Load&gt;\n\nSo if obj Gun flag is not 0, says does not need to be reloaded, which works fine\nif obj Gun flag is 0, should &quot;load&quot; set obj Gun flag to 6\n\nNow to the part that doesn't work\n\n\n&lt;command name=&quot;Shoot&quot;&gt;\n    &lt;pattern&gt;shoot #object#&lt;/pattern&gt;\n    &lt;script&gt;\n      if (GetBoolean(Gun, &quot;6&quot;)) {\n        SetObjectFlagOn (Gun, &quot;5&quot;)\n      }\n      else {\n        if (GetBoolean(Gun, &quot;5&quot;)) {\n          SetObjectFlagOn (Gun, &quot;4&quot;)\n        }\n        else {\n          if (GetBoolean(Gun, &quot;4&quot;)) {\n            SetObjectFlagOn (Gun, &quot;3&quot;)\n          }\n          else {\n            if (GetBoolean(Gun, &quot;3&quot;)) {\n              SetObjectFlagOn (Gun, &quot;2&quot;)\n            }\n            else {\n              if (GetBoolean(Gun, &quot;2&quot;)) {\n                SetObjectFlagOn (Gun, &quot;1&quot;)\n              }\n              else {\n                if (GetBoolean(Gun, &quot;1&quot;)) {\n                  SetObjectFlagOn (Gun, &quot;0&quot;)\n                }\n                else {\n                  if (GetBoolean(Gun, &quot;0&quot;)) {\n                    msg (&quot;You are out of bullets&quot;)\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n      switch (object) {\n        case (player) {\n          msg (&quot;You don't really want to shoot yourself&quot;)\n        }\n        default {\n          msg (&quot;You shoot \\&quot;&quot; + object.name + &quot;\\&quot;and cause heavy damage&quot;)\n        }\n      }\n    &lt;/script&gt;\n  &lt;/command&gt;\n\n\nWhen typing in  shoot wall I get the msg You shoot wall &amp; cause heavy damage, but it doesn't lower the bullet count.\nAt the same time, there must be a better way to do the count other than the long line of if else   if's that I put in.\nBut this method doesn't do anything all.\nSo in short, just what am I missing here? I know I did it wrong.",
      "EditableFormat": "bbcode",
      "HTML": "Here is where I am at.<br/><br/>Want to shoot gun, count down the bullets, be empty, relaod it, then start it all over<br/><br/>Have object Gun. Gun is object, not a container.<br/>When taking Gun<br/><br/> &lt;ontake type=&quot;script&quot;&gt;<br/>              SetObjectFlagOn (Gun, &quot;6&quot;)<br/>            &lt;/ontake&gt;<br/><br/>So that puts Gun in player inventory &amp; sets obj Gun flag to 6, giving Gun 6 bullets<br/><br/>There is an object Ammo  (a box of ammo for gun)<br/> Ammo has a &quot;Load&quot; button in inventory when taken<br/><br/> &lt;Load type=&quot;script&quot;&gt;<br/>              if (GetBoolean(Gun, &quot;0&quot;)) {<br/>                SetObjectFlagOn (Gun, &quot;6&quot;)<br/>                msg (&quot;You loaded the gun&quot;)<br/>              }<br/>              else {<br/>                if (not GetBoolean(Gun, &quot;0&quot;)) {<br/>                  msg (&quot;Gun does not need to be reloaded&quot;)<br/>                }<br/>              }<br/>            &lt;/Load&gt;<br/><br/>So if obj Gun flag is not 0, says does not need to be reloaded, which works fine<br/>if obj Gun flag is 0, should &quot;load&quot; set obj Gun flag to 6<br/><br/>Now to the part that doesn't work<br/><br/><br/>&lt;command name=&quot;Shoot&quot;&gt;<br/>    &lt;pattern&gt;shoot #object#&lt;/pattern&gt;<br/>    &lt;script&gt;<br/>      if (GetBoolean(Gun, &quot;6&quot;)) {<br/>        SetObjectFlagOn (Gun, &quot;5&quot;)<br/>      }<br/>      else {<br/>        if (GetBoolean(Gun, &quot;5&quot;)) {<br/>          SetObjectFlagOn (Gun, &quot;4&quot;)<br/>        }<br/>        else {<br/>          if (GetBoolean(Gun, &quot;4&quot;)) {<br/>            SetObjectFlagOn (Gun, &quot;3&quot;)<br/>          }<br/>          else {<br/>            if (GetBoolean(Gun, &quot;3&quot;)) {<br/>              SetObjectFlagOn (Gun, &quot;2&quot;)<br/>            }<br/>            else {<br/>              if (GetBoolean(Gun, &quot;2&quot;)) {<br/>                SetObjectFlagOn (Gun, &quot;1&quot;)<br/>              }<br/>              else {<br/>                if (GetBoolean(Gun, &quot;1&quot;)) {<br/>                  SetObjectFlagOn (Gun, &quot;0&quot;)<br/>                }<br/>                else {<br/>                  if (GetBoolean(Gun, &quot;0&quot;)) {<br/>                    msg (&quot;You are out of bullets&quot;)<br/>                  }<br/>                }<br/>              }<br/>            }<br/>          }<br/>        }<br/>      }<br/>      switch (object) {<br/>        case (player) {<br/>          msg (&quot;You don't really want to shoot yourself&quot;)<br/>        }<br/>        default {<br/>          msg (&quot;You shoot \\&quot;&quot; + object.name + &quot;\\&quot;and cause heavy damage&quot;)<br/>        }<br/>      }<br/>    &lt;/script&gt;<br/>  &lt;/command&gt;<br/><br/><br/>When typing in  shoot wall I get the msg You shoot wall &amp; cause heavy damage, but it doesn't lower the bullet count.<br/>At the same time, there must be a better way to do the count other than the long line of if else   if's that I put in.<br/>But this method doesn't do anything all.<br/>So in short, just what am I missing here? I know I did it wrong.",
      "PostDate": "2011-10-26T02:55:58+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "19134",
      "UserId": 0,
      "Username": "Alex",
      "UserAvatar": null,
      "UserGravatar": "188b72c5e13327f4fde3989dca7d7d53",
      "EditableText": "I wouldn't use flags at all here. Flags are for things that are &quot;on&quot; or &quot;off&quot;, but the number of bullets in a gun is... a number.\n\nSo I would use an attribute instead. Go to the Attributes tab for the gun, and add a &quot;bullets&quot; attribute (integer). You can then change the number of bullets in the gun by modifying &quot;gun.bullets&quot; in an expression, so for example when you fire the gun, set:\n\n[code:1e86266x]\ngun&#46;bullets = gun&#46;bullets - 1\n[/code:1e86266x]",
      "EditableFormat": "bbcode",
      "HTML": "I wouldn't use flags at all here. Flags are for things that are &quot;on&quot; or &quot;off&quot;, but the number of bullets in a gun is... a number.<br/><br/>So I would use an attribute instead. Go to the Attributes tab for the gun, and add a &quot;bullets&quot; attribute (integer). You can then change the number of bullets in the gun by modifying &quot;gun.bullets&quot; in an expression, so for example when you fire the gun, set:<br/><br/><pre><code><br/>gun&#46;bullets = gun&#46;bullets - 1<br/></code></pre>",
      "PostDate": "2011-10-26T09:41:56+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "19144",
      "UserId": 0,
      "Username": "Weiand",
      "UserAvatar": null,
      "UserGravatar": "1b24e04cb86e43beb383d57654334349",
      "EditableText": "Much thanks Alex. That did the trick to make the bullets countdown.\n\nI kept poking around to get the rest of the desired effects. Not sure if I took the long way around &amp; if there is a faster cleaner way to do so, but I did get all the results I wanted.\n\nBasic concept is:\nPick up gun, has 6 bullets. Pick up Ammo that reloads 6 bullets. If gun is not empty, says doesn't need to be reloaded, if empty, does so.\nplayer types shoot #object# gun fires, prnt msg saying did so &amp; caused damage.\nwhen gun is empty, does not show damage msg &amp; instead of just the msg shoot gun, it gives msg to reload\nif player typed in shoot self, gives a warning, then if done again, shoots player, msg of being dead, uses a bullet, pause game, then msg as alive\nI had to set gun attrib to 7 to get the gun to actually fire 6 times, then give msg of empty\n\nI made two cmds for shoot #object# &amp; shoot self\nwhen I type in shoot self, that works, but shoot me or shoot myself, treats it as a #object#\ndo I need to make serperate cmd's for me  myself as well as self, or could that be done with a switch?\n\nAs said, I have gotten the desired result for objects &amp; for self, if needed I can just make two more cmd's for me &amp; my self\n\nHere is how it is all coded:\n\n&lt;object name=&quot;Gun&quot;&gt;\n            &lt;inherit name=&quot;editor_object&quot; /&gt;\n            &lt;look&gt;A very large .44 Magnum&lt;/look&gt;\n            &lt;take /&gt;\n            &lt;takemsg&gt;Now you feel like Dirty Harry&lt;/takemsg&gt;\n            &lt;dropmsg&gt;You drop the gun to the floor with a loud thud&lt;/dropmsg&gt;\n            &lt;inventoryverbs&gt;Look at; Drop&lt;/inventoryverbs&gt;\n            &lt;bullets type=&quot;int&quot;&gt;7&lt;/bullets&gt;\n          &lt;/object&gt;\n\n&lt;object name=&quot;Box of Ammo Sm&quot;&gt;\n            &lt;inherit name=&quot;editor_object&quot; /&gt;\n            &lt;alias&gt;Ammo&lt;/alias&gt;\n            &lt;look&gt;A big box of ammo for a .44&lt;/look&gt;\n            &lt;take /&gt;\n            &lt;takemsg&gt;Thinking you will want to reload, you take the box of ammo&lt;/takemsg&gt;\n            &lt;dropmsg&gt;You decide you don't need any more ammo and drop the box on the ground&lt;/dropmsg&gt;\n            &lt;inventoryverbs&gt;Look at; Load; Drop&lt;/inventoryverbs&gt;\n            &lt;Load type=&quot;script&quot;&gt;\n              if (GetBoolean(Gun, &quot;empty&quot;)) {\n                msg (&quot;You loaded the gun&quot;)\n                SetObjectFlagOff (Gun, &quot;empty&quot;)\n                Gun.bullets = 7\n              }\n              else {\n                if (not GetBoolean(Gun, &quot;empty&quot;)) {\n                  msg (&quot;Gun does not need to be reloaded&quot;)\n                }\n              }\n            &lt;/Load&gt;\n\n&lt;command name=&quot;Shoot&quot;&gt;\n    &lt;pattern&gt;shoot #object#&lt;/pattern&gt;\n    &lt;script&gt;\n      Gun.bullets = Gun.bullets  - 1\n      if (Gun.bullets = 0) {\n        SetObjectFlagOn (Gun, &quot;empty&quot;)\n        msg (&quot;You are out of bullets&quot;)\n      }\n      else {\n        if (GetBoolean(Gun, &quot;empty&quot;)) {\n          msg (&quot;You pull the trigger getting only a click. You need to reload the gun&quot;)\n        }\n      }\n      if (not GetBoolean(Gun, &quot;empty&quot;)) {\n        msg (&quot;You shoot \\&quot;&quot; + object.name + &quot;\\&quot;and cause heavy damage&quot;)\n      }\n    &lt;/script&gt;\n  &lt;/command&gt;\n\n&lt;command name=&quot;Shoot Self&quot;&gt;\n    &lt;pattern&gt;shoot self&lt;/pattern&gt;\n    &lt;script&gt;\n      if (not GetBoolean(player, &quot;warn&quot;)) {\n        SetObjectFlagOn (player, &quot;warn&quot;)\n        msg (&quot;You don't really want to shoot yourself do you?&quot;)\n      }\n      else {\n        if (GetBoolean(player, &quot;warn&quot;)) {\n          msg (&quot;You shot yourself and are dead&quot;)\n          Pause (10)\n          msg (&quot;Lucky you! You came back to life&quot;)\n        }\n      }\n      Gun.bullets = Gun.bullets  - 1\n    &lt;/script&gt;\n  &lt;/command&gt;\n\nOr did I take the long road to get it to do what I wanted?\n\nEDIT:  Not sure why I didn't remember...  On the Shoot Self cmd I added shoot self; shoot me; shoot myself &amp; that took care of that part\n    guess I just overlooked that at the time",
      "EditableFormat": "bbcode",
      "HTML": "Much thanks Alex. That did the trick to make the bullets countdown.<br/><br/>I kept poking around to get the rest of the desired effects. Not sure if I took the long way around &amp; if there is a faster cleaner way to do so, but I did get all the results I wanted.<br/><br/>Basic concept is:<br/>Pick up gun, has 6 bullets. Pick up Ammo that reloads 6 bullets. If gun is not empty, says doesn't need to be reloaded, if empty, does so.<br/>player types shoot #object# gun fires, prnt msg saying did so &amp; caused damage.<br/>when gun is empty, does not show damage msg &amp; instead of just the msg shoot gun, it gives msg to reload<br/>if player typed in shoot self, gives a warning, then if done again, shoots player, msg of being dead, uses a bullet, pause game, then msg as alive<br/>I had to set gun attrib to 7 to get the gun to actually fire 6 times, then give msg of empty<br/><br/>I made two cmds for shoot #object# &amp; shoot self<br/>when I type in shoot self, that works, but shoot me or shoot myself, treats it as a #object#<br/>do I need to make serperate cmd's for me  myself as well as self, or could that be done with a switch?<br/><br/>As said, I have gotten the desired result for objects &amp; for self, if needed I can just make two more cmd's for me &amp; my self<br/><br/>Here is how it is all coded:<br/><br/>&lt;object name=&quot;Gun&quot;&gt;<br/>            &lt;inherit name=&quot;editor_object&quot; /&gt;<br/>            &lt;look&gt;A very large .44 Magnum&lt;/look&gt;<br/>            &lt;take /&gt;<br/>            &lt;takemsg&gt;Now you feel like Dirty Harry&lt;/takemsg&gt;<br/>            &lt;dropmsg&gt;You drop the gun to the floor with a loud thud&lt;/dropmsg&gt;<br/>            &lt;inventoryverbs&gt;Look at; Drop&lt;/inventoryverbs&gt;<br/>            &lt;bullets type=&quot;int&quot;&gt;7&lt;/bullets&gt;<br/>          &lt;/object&gt;<br/><br/>&lt;object name=&quot;Box of Ammo Sm&quot;&gt;<br/>            &lt;inherit name=&quot;editor_object&quot; /&gt;<br/>            &lt;alias&gt;Ammo&lt;/alias&gt;<br/>            &lt;look&gt;A big box of ammo for a .44&lt;/look&gt;<br/>            &lt;take /&gt;<br/>            &lt;takemsg&gt;Thinking you will want to reload, you take the box of ammo&lt;/takemsg&gt;<br/>            &lt;dropmsg&gt;You decide you don't need any more ammo and drop the box on the ground&lt;/dropmsg&gt;<br/>            &lt;inventoryverbs&gt;Look at; Load; Drop&lt;/inventoryverbs&gt;<br/>            &lt;Load type=&quot;script&quot;&gt;<br/>              if (GetBoolean(Gun, &quot;empty&quot;)) {<br/>                msg (&quot;You loaded the gun&quot;)<br/>                SetObjectFlagOff (Gun, &quot;empty&quot;)<br/>                Gun.bullets = 7<br/>              }<br/>              else {<br/>                if (not GetBoolean(Gun, &quot;empty&quot;)) {<br/>                  msg (&quot;Gun does not need to be reloaded&quot;)<br/>                }<br/>              }<br/>            &lt;/Load&gt;<br/><br/>&lt;command name=&quot;Shoot&quot;&gt;<br/>    &lt;pattern&gt;shoot #object#&lt;/pattern&gt;<br/>    &lt;script&gt;<br/>      Gun.bullets = Gun.bullets  - 1<br/>      if (Gun.bullets = 0) {<br/>        SetObjectFlagOn (Gun, &quot;empty&quot;)<br/>        msg (&quot;You are out of bullets&quot;)<br/>      }<br/>      else {<br/>        if (GetBoolean(Gun, &quot;empty&quot;)) {<br/>          msg (&quot;You pull the trigger getting only a click. You need to reload the gun&quot;)<br/>        }<br/>      }<br/>      if (not GetBoolean(Gun, &quot;empty&quot;)) {<br/>        msg (&quot;You shoot \\&quot;&quot; + object.name + &quot;\\&quot;and cause heavy damage&quot;)<br/>      }<br/>    &lt;/script&gt;<br/>  &lt;/command&gt;<br/><br/>&lt;command name=&quot;Shoot Self&quot;&gt;<br/>    &lt;pattern&gt;shoot self&lt;/pattern&gt;<br/>    &lt;script&gt;<br/>      if (not GetBoolean(player, &quot;warn&quot;)) {<br/>        SetObjectFlagOn (player, &quot;warn&quot;)<br/>        msg (&quot;You don't really want to shoot yourself do you?&quot;)<br/>      }<br/>      else {<br/>        if (GetBoolean(player, &quot;warn&quot;)) {<br/>          msg (&quot;You shot yourself and are dead&quot;)<br/>          Pause (10)<br/>          msg (&quot;Lucky you! You came back to life&quot;)<br/>        }<br/>      }<br/>      Gun.bullets = Gun.bullets  - 1<br/>    &lt;/script&gt;<br/>  &lt;/command&gt;<br/><br/>Or did I take the long road to get it to do what I wanted?<br/><br/>EDIT:  Not sure why I didn't remember...  On the Shoot Self cmd I added shoot self; shoot me; shoot myself &amp; that took care of that part<br/>    guess I just overlooked that at the time",
      "PostDate": "2011-10-27T00:51:46+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "19147",
      "UserId": 0,
      "Username": "Pertex",
      "UserAvatar": "5940_1369854251.gif",
      "UserGravatar": "4cc1e52f99452e841ecf4cbee9eadde9",
      "EditableText": "You are on a good way, but you have one Problem. You can shoot yourself without bullets in your gun  <!-- s:D --><img src=\"{SMILIES_PATH}/icon_biggrin.gif\" alt=\":D\" title=\"Very Happy\" /><!-- s:D --> \n\nYou could combine the two shoot-commands something like\n[quote:y2kscqui]\nif (object=&quot;me&quot; or object=&quot;self&quot; or object=&quot;myself&quot;) {\n... code of shot self command\n} else {\n... code of shoot comand\n}\n[/quote:y2kscqui]\n\n\n[code:y2kscqui]if (not GetBoolean(player, &quot;warn&quot;)) {\nSetObjectFlagOn (player, &quot;warn&quot;)\nmsg (&quot;You don't really want to shoot yourself do you?&quot;)\n}\nelse {\nif (GetBoolean(player, &quot;warn&quot;)) {              &lt;------you dont need this if\nmsg (&quot;You shot yourself and are dead&quot;)\nPause (10)\nmsg (&quot;Lucky you! You came back to life&quot;)\n}\n}\nGun&#46;bullets = Gun&#46;bullets - 1[/code:y2kscqui]\n\nYou are often using something like \n[quote:y2kscqui]\nelse {\nif \n[/quote:y2kscqui]\nif within an else. Why not using &quot;else if&quot; ? With it you dont need so much layers.",
      "EditableFormat": "bbcode",
      "HTML": "You are on a good way, but you have one Problem. You can shoot yourself without bullets in your gun  <!-- s:D --><img src=\"{SMILIES_PATH}/icon_biggrin.gif\" alt=\":D\" title=\"Very Happy\" /><!-- s:D --> <br/><br/>You could combine the two shoot-commands something like<br/><blockquote><p><br/>if (object=&quot;me&quot; or object=&quot;self&quot; or object=&quot;myself&quot;) {<br/>... code of shot self command<br/>} else {<br/>... code of shoot comand<br/>}<br/></p></blockquote><br/><br/><br/><pre><code>if (not GetBoolean(player, &quot;warn&quot;)) {<br/>SetObjectFlagOn (player, &quot;warn&quot;)<br/>msg (&quot;You don't really want to shoot yourself do you?&quot;)<br/>}<br/>else {<br/>if (GetBoolean(player, &quot;warn&quot;)) {              &lt;------you dont need this if<br/>msg (&quot;You shot yourself and are dead&quot;)<br/>Pause (10)<br/>msg (&quot;Lucky you! You came back to life&quot;)<br/>}<br/>}<br/>Gun&#46;bullets = Gun&#46;bullets - 1</code></pre><br/><br/>You are often using something like <br/><blockquote><p><br/>else {<br/>if <br/></p></blockquote><br/>if within an else. Why not using &quot;else if&quot; ? With it you dont need so much layers.",
      "PostDate": "2011-10-27T08:25:04+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "19152",
      "UserId": 0,
      "Username": "Weiand",
      "UserAvatar": null,
      "UserGravatar": "1b24e04cb86e43beb383d57654334349",
      "EditableText": "[quote=&quot;Pertex&quot;:i6oi3i9j]You are on a good way, but you have one Problem. You can shoot yourself without bullets in your gun  <!-- s:D --><img src=\"{SMILIES_PATH}/icon_biggrin.gif\" alt=\":D\" title=\"Very Happy\" /><!-- s:D --> \n\nYou could combine the two shoot-commands something like\n[quote:i6oi3i9j]\nif (object=&quot;me&quot; or object=&quot;self&quot; or object=&quot;myself&quot;) {\n... code of shot self command\n} else {\n... code of shoot comand\n}\n[/quote:i6oi3i9j]\n\nGood point. I didn't notice that. I'll have to figure out how to implement that.\n\n[quote:i6oi3i9j]\nif within an else. Why not using &quot;else if&quot; ? With it you dont need so much layers.[/quote:i6oi3i9j][/quote:i6oi3i9j]\n\nMainly, I use Else because it seems when selecting Else if from the UI the program tends to lock up more often\nthan if selecting the Else then adding the if. So to save the frustration of it locking up on me &amp; having to start that section all over\nI have been using the Else",
      "EditableFormat": "bbcode",
      "HTML": "<blockquote><cite>Pertex wrote:</cite>You are on a good way, but you have one Problem. You can shoot yourself without bullets in your gun  <!-- s:D --><img src=\"{SMILIES_PATH}/icon_biggrin.gif\" alt=\":D\" title=\"Very Happy\" /><!-- s:D --> <br/><br/>You could combine the two shoot-commands something like<br/><blockquote><p><br/>if (object=&quot;me&quot; or object=&quot;self&quot; or object=&quot;myself&quot;) {<br/>... code of shot self command<br/>} else {<br/>... code of shoot comand<br/>}<br/></blockquote><br/><br/>Good point. I didn't notice that. I'll have to figure out how to implement that.<br/><br/>[quote]<br/>if within an else. Why not using &quot;else if&quot; ? With it you dont need so much layers.</p></blockquote>[/quote]<br/><br/>Mainly, I use Else because it seems when selecting Else if from the UI the program tends to lock up more often<br/>than if selecting the Else then adding the if. So to save the frustration of it locking up on me &amp; having to start that section all over<br/>I have been using the Else",
      "PostDate": "2011-10-27T16:57:46+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "19153",
      "UserId": 0,
      "Username": "Weiand",
      "UserAvatar": null,
      "UserGravatar": "1b24e04cb86e43beb383d57654334349",
      "EditableText": "I now have 3 different &quot;shoot&quot; cmd's\n\nwhen first picking up gun, the shoot #obj# works perfect\nThe shoot self cmd works (still will work if out of bullets)\nbut after using the 3rd shoot bum cmd, the bullet countdown no longer works\n\n\n&lt;command name=&quot;Shoot&quot;&gt;\n    &lt;pattern&gt;shoot #object#&lt;/pattern&gt;\n    &lt;script&gt;\n      Gun.bullets = Gun.bullets  - 1\n      if (Gun.bullets = 0) {\n        SetObjectFlagOn (Gun, &quot;empty&quot;)\n        msg (&quot;You are out of bullets&quot;)\n      }\n      else {\n        if (GetBoolean(Gun, &quot;empty&quot;)) {\n          msg (&quot;You pull the trigger getting only a click. You need to reload the gun&quot;)\n        }\n      }\n      if (not GetBoolean(Gun, &quot;empty&quot;)) {\n        msg (&quot;You shoot \\&quot;&quot; + object.name + &quot;\\&quot;and cause heavy damage&quot;)\n      }\n    &lt;/script&gt;\n  &lt;/command&gt;\n\n\n&lt;command name=&quot;Shoot Self&quot;&gt;\n    &lt;pattern&gt;shoot self; shoot me; shoot myself&lt;/pattern&gt;\n    &lt;script&gt;\n      if (not GetBoolean(player, &quot;warn&quot;)) {\n        SetObjectFlagOn (player, &quot;warn&quot;)\n        msg (&quot;You don't really want to shoot yourself do you?&quot;)\n      }\n      else {\n        if (GetBoolean(player, &quot;warn&quot;)) {\n          msg (&quot;You shot yourself and are dead&quot;)\n          Pause (10)\n          msg (&quot;Lucky you! You came back to life&quot;)\n        }\n      }\n      Gun.bullets = Gun.bullets  - 1\n    &lt;/script&gt;\n  &lt;/command&gt;\n\n\n&lt;command name=&quot;Shoot Bum&quot;&gt;\n    &lt;pattern&gt;shoot Bum; shoot bum&lt;/pattern&gt;\n    &lt;script&gt;\n      if (GetBoolean(Bum, &quot;dead&quot;)) {\n        msg (&quot;The bum is already dead, no need to waste bullets&quot;)\n      }\n      if (GetBoolean(Gun, &quot;empty&quot;)) {\n        msg (&quot;You are out of bullets!!!!&quot;)\n      }\n      else {\n        if (not GetBoolean(Gun, &quot;empty&quot;)) {\n          SetObjectFlagOn (Bum, &quot;dead&quot;)\n          msg (&quot;You shoot the bum with your mighty .44 blowing a large hole in him. He drops to the floor in a heap&quot;)\n          Gun.bullets = - 1\n        }\n      }\n    &lt;/script&gt;\n  &lt;/command&gt;\n\nWith the 3rd, when Bum has flag dead, shooting again gives the damage &amp; the already dead msg.\n\nI'm not sure why the shoot #obj# cmd stops counting down bullets after shooting bum.\nAfter that, gun will shoot infinate times &amp; not empty",
      "EditableFormat": "bbcode",
      "HTML": "I now have 3 different &quot;shoot&quot; cmd's<br/><br/>when first picking up gun, the shoot #obj# works perfect<br/>The shoot self cmd works (still will work if out of bullets)<br/>but after using the 3rd shoot bum cmd, the bullet countdown no longer works<br/><br/><br/>&lt;command name=&quot;Shoot&quot;&gt;<br/>    &lt;pattern&gt;shoot #object#&lt;/pattern&gt;<br/>    &lt;script&gt;<br/>      Gun.bullets = Gun.bullets  - 1<br/>      if (Gun.bullets = 0) {<br/>        SetObjectFlagOn (Gun, &quot;empty&quot;)<br/>        msg (&quot;You are out of bullets&quot;)<br/>      }<br/>      else {<br/>        if (GetBoolean(Gun, &quot;empty&quot;)) {<br/>          msg (&quot;You pull the trigger getting only a click. You need to reload the gun&quot;)<br/>        }<br/>      }<br/>      if (not GetBoolean(Gun, &quot;empty&quot;)) {<br/>        msg (&quot;You shoot \\&quot;&quot; + object.name + &quot;\\&quot;and cause heavy damage&quot;)<br/>      }<br/>    &lt;/script&gt;<br/>  &lt;/command&gt;<br/><br/><br/>&lt;command name=&quot;Shoot Self&quot;&gt;<br/>    &lt;pattern&gt;shoot self; shoot me; shoot myself&lt;/pattern&gt;<br/>    &lt;script&gt;<br/>      if (not GetBoolean(player, &quot;warn&quot;)) {<br/>        SetObjectFlagOn (player, &quot;warn&quot;)<br/>        msg (&quot;You don't really want to shoot yourself do you?&quot;)<br/>      }<br/>      else {<br/>        if (GetBoolean(player, &quot;warn&quot;)) {<br/>          msg (&quot;You shot yourself and are dead&quot;)<br/>          Pause (10)<br/>          msg (&quot;Lucky you! You came back to life&quot;)<br/>        }<br/>      }<br/>      Gun.bullets = Gun.bullets  - 1<br/>    &lt;/script&gt;<br/>  &lt;/command&gt;<br/><br/><br/>&lt;command name=&quot;Shoot Bum&quot;&gt;<br/>    &lt;pattern&gt;shoot Bum; shoot bum&lt;/pattern&gt;<br/>    &lt;script&gt;<br/>      if (GetBoolean(Bum, &quot;dead&quot;)) {<br/>        msg (&quot;The bum is already dead, no need to waste bullets&quot;)<br/>      }<br/>      if (GetBoolean(Gun, &quot;empty&quot;)) {<br/>        msg (&quot;You are out of bullets!!!!&quot;)<br/>      }<br/>      else {<br/>        if (not GetBoolean(Gun, &quot;empty&quot;)) {<br/>          SetObjectFlagOn (Bum, &quot;dead&quot;)<br/>          msg (&quot;You shoot the bum with your mighty .44 blowing a large hole in him. He drops to the floor in a heap&quot;)<br/>          Gun.bullets = - 1<br/>        }<br/>      }<br/>    &lt;/script&gt;<br/>  &lt;/command&gt;<br/><br/>With the 3rd, when Bum has flag dead, shooting again gives the damage &amp; the already dead msg.<br/><br/>I'm not sure why the shoot #obj# cmd stops counting down bullets after shooting bum.<br/>After that, gun will shoot infinate times &amp; not empty",
      "PostDate": "2011-10-31T02:09:13+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "19156",
      "UserId": 0,
      "Username": "Alex",
      "UserAvatar": null,
      "UserGravatar": "188b72c5e13327f4fde3989dca7d7d53",
      "EditableText": "Your &quot;shoot bum&quot; is a separate command to &quot;shoot #object#&quot;, and you're only decreasing the bullets in &quot;shoot #object#&quot;. When the player types &quot;shoot bum&quot;, none of that &quot;shoot #object#&quot; script is triggered, because the &quot;shoot bum&quot; script is handling it instead.\n\nYou should put all three of these in the same command, &quot;shoot #object#&quot; should be the parent for everything. Then you can use something like this:\n\n[code:4ig1gw1c]\nGun&#46;bullets = Gun&#46;bullets - 1\nif (Gun&#46;bullets = 0) {\n  SetObjectFlagOn (Gun, &quot;empty&quot;)\n  msg (&quot;You are out of bullets&quot;)\n}\nelse {\n  if (object = player) {\n    // shoot self, shoot me etc&#46; will all be handled here automatically, as they're all valid names for the player object\n  }\n  else if (object = bum) {\n    // shoot bum will be handled here\n  }\n  else {\n    // shoot any other object will be handled here\n  }\n}\n[/code:4ig1gw1c]",
      "EditableFormat": "bbcode",
      "HTML": "Your &quot;shoot bum&quot; is a separate command to &quot;shoot #object#&quot;, and you're only decreasing the bullets in &quot;shoot #object#&quot;. When the player types &quot;shoot bum&quot;, none of that &quot;shoot #object#&quot; script is triggered, because the &quot;shoot bum&quot; script is handling it instead.<br/><br/>You should put all three of these in the same command, &quot;shoot #object#&quot; should be the parent for everything. Then you can use something like this:<br/><br/><pre><code><br/>Gun&#46;bullets = Gun&#46;bullets - 1<br/>if (Gun&#46;bullets = 0) {<br/>  SetObjectFlagOn (Gun, &quot;empty&quot;)<br/>  msg (&quot;You are out of bullets&quot;)<br/>}<br/>else {<br/>  if (object = player) {<br/>    // shoot self, shoot me etc&#46; will all be handled here automatically, as they're all valid names for the player object<br/>  }<br/>  else if (object = bum) {<br/>    // shoot bum will be handled here<br/>  }<br/>  else {<br/>    // shoot any other object will be handled here<br/>  }<br/>}<br/></code></pre>",
      "PostDate": "2011-11-01T09:35:44+00:00",
      "LastEditDate": null
    }
  ]
}
