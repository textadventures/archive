{
  "Topic": {
    "TopicId": "x9trqjnaf0a5t1jv5pjpoa",
    "ForumId": "10",
    "Title": "Item Health",
    "LastUpdated": "2018-03-21T19:39:33.3030461Z",
    "ReplyCount": 0
  },
  "Posts": [
    {
      "PostId": "47c04059-10ef-4c88-a71d-437ca23f528e",
      "UserId": 283362,
      "Username": "billypaulhaley",
      "AvatarUrl": "https://secure.gravatar.com/avatar/fd156cc3611a1989414352f90185e7bd?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Is there a way to make an item only have a certain amount of uses before they get destroyed?",
      "EditableFormat": "markdown",
      "HTML": "<p>Is there a way to make an item only have a certain amount of uses before they get destroyed?</p>\n\n",
      "PostDate": "2018-03-21T19:39:33.3030461Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "5d760757-f5a7-409e-8a53-860aaf510226",
      "UserId": 56551,
      "Username": "XanMag",
      "AvatarUrl": "https://secure.gravatar.com/avatar/4b45a3afd18077f76f6569225c422bdb?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Depending on your methodology...\r\n\r\n**Hackers way...** and only reasonable to use if the object is only used a few times\r\n1.  Create an empty room (that is one with no entrances or exits).\r\n2.  Create your object (I made a \"Fart Machine\" in code below) that you want to use and put it in whatever room you want it.\r\n3.  Go to the Features tab and and select 'use (on its own)'.\r\n4.  Choose to run a script.  \r\n5.  Print whatever message you want to appear when you use the object.\r\n6.  Run a Remove Object script and choose this object.\r\n7.  Run a Move Object To Inventory (if it is an inventory object) or a Move Object To Current Room (if it is a stationary object) and move the copied object (from step 8 below) to the appropriate place (inventory or current room)\r\n8.  Copy this object and paste it in the empty room (from #1) however many times you want the object to be used before it 'breaks' (or whatever). Make sure you change the 'alias' to get rid of the number that follows the object name.\r\n9.  On the last object coming out of the empty room, you will probably want to print a message saying the object is now useless (or whatever) and maybe remove the object (or whatever =)\r\n\r\n**More Elegant Way**\r\n1.  Create your object and place it in your room.\r\n2.  Go to the attributes tab and click 'add' next to 'attributes'\r\n3.  Add an attribute and name it something like 'TimesUsedCount' and set it to an 'Integer' attribute (at bottom) equal to zero.\r\n4.  Go to the features tab and click use.  \r\n5.  On the Use (on its own) section...\r\n6.  Add an 'If ' script and select 'attribute  equals'\r\n7.  If [object attribute equals] Object [fart machine] Attribute [TimesUsedCount] = [0]\r\nthen print whatever message you want.\r\n8.  Add another script here and select 'set a variable or attribute'.  It should look like this:\r\nSet variable [fart machine.TimesUsedCount] = expression [fart machine.TimesUsedCount + 1]\r\n9.  Add an Else If script in the same script box but just change the 0 (in step 7) to a 1.  If you want a different message to print, go ahead and change it.\r\n10.  Continue adding Else If scripts for the number of times you want the object to be used (MAKE sure you add 1 to the previous number each time you add an else if).  ^NOTE:  If the object is something you can use a BUNCH of times, you will only want to add as many Else Ifs as you want the message printed when used to change.\r\n11.  When complete, add an Else message that indicates that using the object no longer works.\r\n12.  In the example below, I also added set a flag script to change the 'look at' response when you look at the object.\r\n\r\n**FOR THE USE OBJECT SCRIPT** (I also copy-pasted this on the 'push' verb on the button of the machine)\r\n```\r\nif (fart machine.TimesUsedCount = 0) {\r\n  msg (\"You push the button and a squeaky sounding fart emits from the machine.\")\r\n  fart machine.TimesUsedCount = fart machine.TimesUsedCount + 1\r\n}\r\nelse if (fart machine.TimesUsedCount = 1) {\r\n  msg (\"You push the button and a wet, rumbling noise emits from the machine.\")\r\n  fart machine.TimesUsedCount = fart machine.TimesUsedCount + 1\r\n}\r\nelse if (fart machine.TimesUsedCount = 2) {\r\n  msg (\"You push the button and the fart machine produces a VERY loud sound similar to the explosion of a hand grenade followed by a ker-thunk.\")\r\n  fart machine.TimesUsedCount = fart machine.TimesUsedCount + 1\r\n  SetObjectFlagOn (fart machine, \"broken\")\r\n}\r\nelse {\r\n  msg (\"You push the button, but the machine does nothing.  Must be broken.\")\r\n}\r\n```\r\n\r\n**FOR THE LOOK AT DESCRIPTION:**\r\n```\r\nif (GetBoolean(fart machine, \"broken\")) {\r\n  msg (\"It's a fart machine, but you think it is broken.  It appears to do nothing.\")\r\n}\r\nelse {\r\n  msg (\"It's a fart machine with a button on it.\")\r\n}\r\n```\r\nHopefully that is clear enough.  If you need clarification, please ask!\r\n\r\n^If it is an object that you use a BUNCH, indicate that and I will help there too.  It's a little different, but not too bad.",
      "EditableFormat": "markdown",
      "HTML": "<p>Depending on your methodology...</p>\n<p><strong>Hackers way...</strong> and only reasonable to use if the object is only used a few times</p>\n<ol>\n<li>Create an empty room (that is one with no entrances or exits).</li>\n<li>Create your object (I made a \"Fart Machine\" in code below) that you want to use and put it in whatever room you want it.</li>\n<li>Go to the Features tab and and select 'use (on its own)'.</li>\n<li>Choose to run a script.</li>\n<li>Print whatever message you want to appear when you use the object.</li>\n<li>Run a Remove Object script and choose this object.</li>\n<li>Run a Move Object To Inventory (if it is an inventory object) or a Move Object To Current Room (if it is a stationary object) and move the copied object (from step 8 below) to the appropriate place (inventory or current room)</li>\n<li>Copy this object and paste it in the empty room (from #1) however many times you want the object to be used before it 'breaks' (or whatever). Make sure you change the 'alias' to get rid of the number that follows the object name.</li>\n<li>On the last object coming out of the empty room, you will probably want to print a message saying the object is now useless (or whatever) and maybe remove the object (or whatever =)</li>\n</ol>\n<p><strong>More Elegant Way</strong></p>\n<ol>\n<li>Create your object and place it in your room.</li>\n<li>Go to the attributes tab and click 'add' next to 'attributes'</li>\n<li>Add an attribute and name it something like 'TimesUsedCount' and set it to an 'Integer' attribute (at bottom) equal to zero.</li>\n<li>Go to the features tab and click use.</li>\n<li>On the Use (on its own) section...</li>\n<li>Add an 'If ' script and select 'attribute  equals'</li>\n<li>If [object attribute equals] Object [fart machine] Attribute [TimesUsedCount] = [0]<br>\nthen print whatever message you want.</li>\n<li>Add another script here and select 'set a variable or attribute'.  It should look like this:<br>\nSet variable [fart machine.TimesUsedCount] = expression [fart machine.TimesUsedCount + 1]</li>\n<li>Add an Else If script in the same script box but just change the 0 (in step 7) to a 1.  If you want a different message to print, go ahead and change it.</li>\n<li>Continue adding Else If scripts for the number of times you want the object to be used (MAKE sure you add 1 to the previous number each time you add an else if).  ^NOTE:  If the object is something you can use a BUNCH of times, you will only want to add as many Else Ifs as you want the message printed when used to change.</li>\n<li>When complete, add an Else message that indicates that using the object no longer works.</li>\n<li>In the example below, I also added set a flag script to change the 'look at' response when you look at the object.</li>\n</ol>\n<p><strong>FOR THE USE OBJECT SCRIPT</strong> (I also copy-pasted this on the 'push' verb on the button of the machine)</p>\n<pre><code>if (fart machine.TimesUsedCount = 0) {\n  msg (\"You push the button and a squeaky sounding fart emits from the machine.\")\n  fart machine.TimesUsedCount = fart machine.TimesUsedCount + 1\n}\nelse if (fart machine.TimesUsedCount = 1) {\n  msg (\"You push the button and a wet, rumbling noise emits from the machine.\")\n  fart machine.TimesUsedCount = fart machine.TimesUsedCount + 1\n}\nelse if (fart machine.TimesUsedCount = 2) {\n  msg (\"You push the button and the fart machine produces a VERY loud sound similar to the explosion of a hand grenade followed by a ker-thunk.\")\n  fart machine.TimesUsedCount = fart machine.TimesUsedCount + 1\n  SetObjectFlagOn (fart machine, \"broken\")\n}\nelse {\n  msg (\"You push the button, but the machine does nothing.  Must be broken.\")\n}\n</code></pre>\n<p><strong>FOR THE LOOK AT DESCRIPTION:</strong></p>\n<pre><code>if (GetBoolean(fart machine, \"broken\")) {\n  msg (\"It's a fart machine, but you think it is broken.  It appears to do nothing.\")\n}\nelse {\n  msg (\"It's a fart machine with a button on it.\")\n}\n</code></pre>\n<p>Hopefully that is clear enough.  If you need clarification, please ask!</p>\n<p>^If it is an object that you use a BUNCH, indicate that and I will help there too.  It's a little different, but not too bad.</p>\n\n",
      "PostDate": "2018-03-21T20:36:36.5533386Z",
      "LastEditDate": "2018-03-21T20:41:36.8307495Z",
      "link": null
    },
    {
      "PostId": "8c5d78bf-5f3e-4a94-b8eb-f28a3ffced99",
      "UserId": 247325,
      "Username": "hegemonkhan",
      "AvatarUrl": "https://secure.gravatar.com/avatar/a96cf34d8d97c57de38f54ee22b1759b?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "a simple example (using scripting only, might be missing some stuff and/or wrong syntax, too lazy to test it)\r\n\r\n```\r\ncreate (\"room_x\")\r\n\r\nobject_variable = create (\"potion\")\r\n\r\nobject_variable.parent = room_x\r\n\r\nobject_variable.quantity = GetRandomInt (1,9)\r\n\r\nobject_variable.consume => {\r\n  this.quantity = this.quantity - 1\r\n}\r\n\r\nlist add (object_variable.displayverbs, \"consume\")\r\nlist add (object_variable.inventoryverbs, \"consume\")\r\n\r\nobject_variable.changedquantity => {\r\n  if (object_variable.quantity = 0) {\r\n    destroy (object_variable.name)\r\n  }\r\n}\r\n```",
      "EditableFormat": "markdown",
      "HTML": "<p>a simple example (using scripting only, might be missing some stuff and/or wrong syntax, too lazy to test it)</p>\n<pre><code>create (\"room_x\")\n\nobject_variable = create (\"potion\")\n\nobject_variable.parent = room_x\n\nobject_variable.quantity = GetRandomInt (1,9)\n\nobject_variable.consume =&gt; {\n  this.quantity = this.quantity - 1\n}\n\nlist add (object_variable.displayverbs, \"consume\")\nlist add (object_variable.inventoryverbs, \"consume\")\n\nobject_variable.changedquantity =&gt; {\n  if (object_variable.quantity = 0) {\n    destroy (object_variable.name)\n  }\n}\n</code></pre>\n\n",
      "PostDate": "2018-03-22T08:49:03.1779815Z",
      "LastEditDate": "2018-03-22T08:57:42.3548409Z",
      "link": null
    }
  ]
}
