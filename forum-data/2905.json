{
  "Topic": {
    "TopicId": "2905",
    "ForumId": "10",
    "Title": "Hello - and a few newbie Qs",
    "LastUpdated": "2012-04-08T21:33:08+01:00",
    "ReplyCount": 14
  },
  "Posts": [
    {
      "PostId": "19958",
      "UserId": 0,
      "Username": "demonboy",
      "UserAvatar": null,
      "UserGravatar": "30d5e72d183f691852c8b0534ccc2b90",
      "EditableText": "First of all I just wanted to say 'hello' to Alex and everyone on this forum. I am very excited about this as I used to play text adventure games on my Vic-20 as a young teenager! Last year I tried Inform 7 but a) it was a bit buggy (I was in Linux) and b) it was a little too complicated for my ageing brain. Quest looks fantastic, I have to say, and I'm encouraged to see an active forum too.\n\nOK, some questions. These are really simple questions and I'm sure they've been asked before but I'm only using the Wiki for my guidance and can't find a quick answer to these. Bear in mind I'm not used to scripts, I'm using the WYSIWYG editor. If I solve any questions I'll keep them in in case others are looking for the same solution.\n\n[color=#BF80BF:3984xn0x]1) Is it easy to publish from desktop to the web? How is this done? In the web version does it save your progress?[/color:3984xn0x] \nOK, I've just seen that this can't be done at the moment. Ignore this one.\n\n2) I want an object to only be taken when the person asks for it. If they just try and take it, they get a ticking off, but if they say 'can I have X' then I want to be able to add it to their inventory. I got as far as going to the Inventory tab of the object X, Run script, Ask question/Text and then in the field I placed 'have', then print the message to confirm that they have it, then Move object to ... to where? I was looking for 'inventory'. Also I'm not convinced this is quite right as the field 'have' doesn't really seem to cover the question.\n\n[color=#BF80BF:3984xn0x]3) Turning lights on and off. How do I reveal the room only after a light has been turned on?[/color:3984xn0x]\nThink I have solved this with this setting:\n[img:3984xn0x]http&#58;//dl&#46;dropbox&#46;com/u/25233603/temp/quest3&#46;gif[/img:3984xn0x]\n\n[color=#BF80BF:3984xn0x]4) How do I reveal an exit once a light has been turned on? I have the following:\n\nCorridor\n - wall\n    -  - switch\n\nThe switch is switched off to start with. Under options when the switch is switched on I thought I would run a script that 'Creates' an exit' or 'creates an object', but neither of these seem to work. Should the room and/or the exit exist already? Perhaps the new room should be [i:3984xn0x]under [/i:3984xn0x]the switch? What's the trick?[/color:3984xn0x]\nThis was just a simple script that had 'If object is switched on [object name] / Elseif object is switched off'. Couldn't be easier, I just confused myself somehow.\n\n5) What's the best way to approach paying for something? The player is not allowed an object until they have paid their bill. They cannot pay their bill until they find their wallet. They can pick up, read and take the bill but until they pay it they don't get the object.\n\nIn order to pay the bill I have read that I need to set up a shop. I have seen that there is a shop library, which is a zip file containing Shopping.aslx and Shopping_lib.aslx. Where do I put these? I've tried putting them in the root of my new game and adding library. When I select 'add library' it says &quot;Unable to copy file. The following error occurred. The file ../../Shopping.aslx already exists&quot;. Except it doesn't, at least not in my Library tree. Why is this happening? Is this library for Q4 and not Q5 or is it now included in Q5 by default? If so, where is it?\n\n6) The 'Intro' guide here [url:3984xn0x]http&#58;//quest5&#46;net/wiki/Introduction[/url:3984xn0x] doesn't really make sense if you are using the WYSIWYG.  So far I have done the following (assume it tells the user to press a key):\n\na) Set Game start script to move the player to the startroom.\nb) In start room I've added the following:\n\n[img:3984xn0x]http&#58;//dl&#46;dropbox&#46;com/u/25233603/temp/quest1&#46;gif[/img:3984xn0x]\n\nThe problem is that it does not wait for the player to press a key. Instead it prints this out:\n\n [img:3984xn0x]http&#58;//dl&#46;dropbox&#46;com/u/25233603/temp/quest2&#46;gif[/img:3984xn0x]\n\n\n\nAny help on these would be gratefully received. No doubt you'll be hearing from me again as I continue to post up seemingly-obvious questions. I presume the version I am using is new and therefore not every subject is covered by the wiki, but if there is anywhere else I can be looking for these answers, please let me know.\n\nThanks in advance.\n\nJamie",
      "EditableFormat": "bbcode",
      "HTML": "First of all I just wanted to say 'hello' to Alex and everyone on this forum. I am very excited about this as I used to play text adventure games on my Vic-20 as a young teenager! Last year I tried Inform 7 but a) it was a bit buggy (I was in Linux) and b) it was a little too complicated for my ageing brain. Quest looks fantastic, I have to say, and I'm encouraged to see an active forum too.<br/><br/>OK, some questions. These are really simple questions and I'm sure they've been asked before but I'm only using the Wiki for my guidance and can't find a quick answer to these. Bear in mind I'm not used to scripts, I'm using the WYSIWYG editor. If I solve any questions I'll keep them in in case others are looking for the same solution.<br/><br/><span style=\"color:#BF80BF\">1) Is it easy to publish from desktop to the web? How is this done? In the web version does it save your progress?</span> <br/>OK, I've just seen that this can't be done at the moment. Ignore this one.<br/><br/>2) I want an object to only be taken when the person asks for it. If they just try and take it, they get a ticking off, but if they say 'can I have X' then I want to be able to add it to their inventory. I got as far as going to the Inventory tab of the object X, Run script, Ask question/Text and then in the field I placed 'have', then print the message to confirm that they have it, then Move object to ... to where? I was looking for 'inventory'. Also I'm not convinced this is quite right as the field 'have' doesn't really seem to cover the question.<br/><br/><span style=\"color:#BF80BF\">3) Turning lights on and off. How do I reveal the room only after a light has been turned on?</span><br/>Think I have solved this with this setting:<br/><img src=\"http&#58;//dl&#46;dropbox&#46;com/u/25233603/temp/quest3&#46;gif\" alt=\"\" /><br/><br/><span style=\"color:#BF80BF\">4) How do I reveal an exit once a light has been turned on? I have the following:<br/><br/>Corridor<br/> - wall<br/>    -  - switch<br/><br/>The switch is switched off to start with. Under options when the switch is switched on I thought I would run a script that 'Creates' an exit' or 'creates an object', but neither of these seem to work. Should the room and/or the exit exist already? Perhaps the new room should be <span style=\"font-style:italic;\">under </span>the switch? What's the trick?</span><br/>This was just a simple script that had 'If object is switched on [object name] / Elseif object is switched off'. Couldn't be easier, I just confused myself somehow.<br/><br/>5) What's the best way to approach paying for something? The player is not allowed an object until they have paid their bill. They cannot pay their bill until they find their wallet. They can pick up, read and take the bill but until they pay it they don't get the object.<br/><br/>In order to pay the bill I have read that I need to set up a shop. I have seen that there is a shop library, which is a zip file containing Shopping.aslx and Shopping_lib.aslx. Where do I put these? I've tried putting them in the root of my new game and adding library. When I select 'add library' it says &quot;Unable to copy file. The following error occurred. The file ../../Shopping.aslx already exists&quot;. Except it doesn't, at least not in my Library tree. Why is this happening? Is this library for Q4 and not Q5 or is it now included in Q5 by default? If so, where is it?<br/><br/>6) The 'Intro' guide here <a href=\"http&#58;//quest5&#46;net/wiki/Introduction\" rel=\"nofollow\">http&#58;//quest5&#46;net/wiki/Introduction</a> doesn't really make sense if you are using the WYSIWYG.  So far I have done the following (assume it tells the user to press a key):<br/><br/>a) Set Game start script to move the player to the startroom.<br/>b) In start room I've added the following:<br/><br/><img src=\"http&#58;//dl&#46;dropbox&#46;com/u/25233603/temp/quest1&#46;gif\" alt=\"\" /><br/><br/>The problem is that it does not wait for the player to press a key. Instead it prints this out:<br/><br/> <img src=\"http&#58;//dl&#46;dropbox&#46;com/u/25233603/temp/quest2&#46;gif\" alt=\"\" /><br/><br/><br/><br/>Any help on these would be gratefully received. No doubt you'll be hearing from me again as I continue to post up seemingly-obvious questions. I presume the version I am using is new and therefore not every subject is covered by the wiki, but if there is anywhere else I can be looking for these answers, please let me know.<br/><br/>Thanks in advance.<br/><br/>Jamie",
      "PostDate": "2012-04-05T20:34:17+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "19960",
      "UserId": 0,
      "Username": "sgreig",
      "UserAvatar": null,
      "UserGravatar": "9117185af66d72729b195384e3a446f0",
      "EditableText": "Hi Jamie,\n\nI'll take a crack at answering some of your questions.\n\n[quote:l77ywinu]1) Is it easy to publish from desktop to the web? How is this done? In the web version does it save your progress? \nOK, I've just seen that this can't be done at the moment. Ignore this one.[/quote:l77ywinu]\n\nIf you mean can you upload a game you're working on with the desktop client so you can work on it with the web editor, then no. You can ask Alex to upload the file for you, but at the moment you can't UL/DL files to/from the web editor. You can publish finished games to the web player, however.\n\n[quote:l77ywinu]2) I want an object to only be taken when the person asks for it. If they just try and take it, they get a ticking off, but if they say 'can I have X' then I want to be able to add it to their inventory. I got as far as going to the Inventory tab of the object X, Run script, Ask question/Text and then in the field I placed 'have', then print the message to confirm that they have it, then Move object to ... to where? I was looking for 'inventory'. Also I'm not convinced this is quite right as the field 'have' doesn't really seem to cover the question.[/quote:l77ywinu]\n\nThere's no &quot;inventory&quot; to move it to, per se. What you do is change the parent attribute of the object to &quot;player&quot;. I don't want to fire up Quest to take a screenshot, but in the editor, you would choose &quot;Set variable or attribute to&quot; and enter object.parent = player, replacing &quot;object&quot; with whatever the object name is. That moves the object to the player's &quot;inventory&quot;.\n\n#3 seems right to me.\n\n[quote:l77ywinu]4) How do I reveal an exit once a light has been turned on? I have the following:\n\nCorridor\n- wall\n- - switch\n\nThe switch is switched off to start with. Under options when the switch is switched on I thought I would run a script that 'Creates' an exit' or 'creates an object', but neither of these seem to work. Should the room and/or the exit exist already? Perhaps the new room should be under the switch? What's the trick?[/quote:l77ywinu]\n\nOff the top of my head, I'm not sure of a simple way to do this. I'm not sure if Quest has an ability to conditionally &quot;hide&quot; or &quot;reveal&quot; exits, so I suppose you could do it by creating/deleting the exits in the script. I would think there has to be a more elegant solution. Perhaps Alex or Pertex can weigh in on this one?\n\nFor #5, I don't know anything about the shop template, but I would imagine it's probably designed for something a little more complex than what you're describing here. The way I would go about this would be to create a custom &quot;pay&quot; command, and in the script, I would first check to see if the player had a wallet with an if statement, and if not it would generate an appropriate response. If the player did have the wallet, then I would set a flag like &quot;item_to_be_paid_for.paid = true&quot;. Then, in the script of the object under the inventory tab, I would have a small script that would only allow the object to be taken if that flag was present.\n\nAs for #6, where are you putting the script? The wait for key press function is a little persnickety. If you search this forum you should be able to find information on how to get it working properly.\n\nIf anyone else wants to give their 2 cents or correct something I've said, please feel free. <!-- s:-) --><img src=\"{SMILIES_PATH}/icon_smile.gif\" alt=\":-)\" title=\"Smile\" /><!-- s:-) -->",
      "EditableFormat": "bbcode",
      "HTML": "Hi Jamie,<br/><br/>I'll take a crack at answering some of your questions.<br/><br/><blockquote><p>1) Is it easy to publish from desktop to the web? How is this done? In the web version does it save your progress? <br/>OK, I've just seen that this can't be done at the moment. Ignore this one.</p></blockquote><br/><br/>If you mean can you upload a game you're working on with the desktop client so you can work on it with the web editor, then no. You can ask Alex to upload the file for you, but at the moment you can't UL/DL files to/from the web editor. You can publish finished games to the web player, however.<br/><br/><blockquote><p>2) I want an object to only be taken when the person asks for it. If they just try and take it, they get a ticking off, but if they say 'can I have X' then I want to be able to add it to their inventory. I got as far as going to the Inventory tab of the object X, Run script, Ask question/Text and then in the field I placed 'have', then print the message to confirm that they have it, then Move object to ... to where? I was looking for 'inventory'. Also I'm not convinced this is quite right as the field 'have' doesn't really seem to cover the question.</p></blockquote><br/><br/>There's no &quot;inventory&quot; to move it to, per se. What you do is change the parent attribute of the object to &quot;player&quot;. I don't want to fire up Quest to take a screenshot, but in the editor, you would choose &quot;Set variable or attribute to&quot; and enter object.parent = player, replacing &quot;object&quot; with whatever the object name is. That moves the object to the player's &quot;inventory&quot;.<br/><br/>#3 seems right to me.<br/><br/><blockquote><p>4) How do I reveal an exit once a light has been turned on? I have the following:<br/><br/>Corridor<br/>- wall<br/>- - switch<br/><br/>The switch is switched off to start with. Under options when the switch is switched on I thought I would run a script that 'Creates' an exit' or 'creates an object', but neither of these seem to work. Should the room and/or the exit exist already? Perhaps the new room should be under the switch? What's the trick?</p></blockquote><br/><br/>Off the top of my head, I'm not sure of a simple way to do this. I'm not sure if Quest has an ability to conditionally &quot;hide&quot; or &quot;reveal&quot; exits, so I suppose you could do it by creating/deleting the exits in the script. I would think there has to be a more elegant solution. Perhaps Alex or Pertex can weigh in on this one?<br/><br/>For #5, I don't know anything about the shop template, but I would imagine it's probably designed for something a little more complex than what you're describing here. The way I would go about this would be to create a custom &quot;pay&quot; command, and in the script, I would first check to see if the player had a wallet with an if statement, and if not it would generate an appropriate response. If the player did have the wallet, then I would set a flag like &quot;item_to_be_paid_for.paid = true&quot;. Then, in the script of the object under the inventory tab, I would have a small script that would only allow the object to be taken if that flag was present.<br/><br/>As for #6, where are you putting the script? The wait for key press function is a little persnickety. If you search this forum you should be able to find information on how to get it working properly.<br/><br/>If anyone else wants to give their 2 cents or correct something I've said, please feel free. <!-- s:-) --><img src=\"{SMILIES_PATH}/icon_smile.gif\" alt=\":-)\" title=\"Smile\" /><!-- s:-) -->",
      "PostDate": "2012-04-07T03:09:01+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "19962",
      "UserId": 0,
      "Username": "MerchantToo",
      "UserAvatar": null,
      "UserGravatar": "4473548b882c95d13eed24acd916e029",
      "EditableText": "As for the error you get with shopping, that aslx file should be somewhere else than the root directory of your game. When you try to add a library, Quest makes a copy of it exactly in the place you have put it, and seeing that there's aleady something there with the same name it errors. So make a library directory, and put any libraries you want in there. Then you can add a specific library to a game without the problem you've got now.  <!-- s:D --><img src=\"{SMILIES_PATH}/icon_biggrin.gif\" alt=\":D\" title=\"Very Happy\" /><!-- s:D -->",
      "EditableFormat": "bbcode",
      "HTML": "As for the error you get with shopping, that aslx file should be somewhere else than the root directory of your game. When you try to add a library, Quest makes a copy of it exactly in the place you have put it, and seeing that there's aleady something there with the same name it errors. So make a library directory, and put any libraries you want in there. Then you can add a specific library to a game without the problem you've got now.  <!-- s:D --><img src=\"{SMILIES_PATH}/icon_biggrin.gif\" alt=\":D\" title=\"Very Happy\" /><!-- s:D -->",
      "PostDate": "2012-04-07T09:30:41+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "19963",
      "UserId": 0,
      "Username": "demonboy",
      "UserAvatar": null,
      "UserGravatar": "30d5e72d183f691852c8b0534ccc2b90",
      "EditableText": "Thank you both for your replies, in particular to sgreig for your really comprehensive answer. I appreciate it.\n\nI'll take a look at your suggested ideas later. My Quest project is an 'after-hours' project, one to be cracking on with after I've done my daily chores. This time I intend to see it through though. I got quite far with the (same) story on Inform 7 but things happened and it got binned.\n\nI'll be back  <!-- s:wink: --><img src=\"{SMILIES_PATH}/icon_wink.gif\" alt=\":wink:\" title=\"Wink\" /><!-- s:wink: -->",
      "EditableFormat": "bbcode",
      "HTML": "Thank you both for your replies, in particular to sgreig for your really comprehensive answer. I appreciate it.<br/><br/>I'll take a look at your suggested ideas later. My Quest project is an 'after-hours' project, one to be cracking on with after I've done my daily chores. This time I intend to see it through though. I got quite far with the (same) story on Inform 7 but things happened and it got binned.<br/><br/>I'll be back  <!-- s:wink: --><img src=\"{SMILIES_PATH}/icon_wink.gif\" alt=\":wink:\" title=\"Wink\" /><!-- s:wink: -->",
      "PostDate": "2012-04-07T10:00:48+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "19968",
      "UserId": 0,
      "Username": "Alex",
      "UserAvatar": null,
      "UserGravatar": "188b72c5e13327f4fde3989dca7d7d53",
      "EditableText": "When you use a &quot;wait&quot; script, only the script [i:bboedc5d]inside[/i:bboedc5d] the wait is run after the user has pressed a key. If you use this inside a game start script, there is more script that runs afterwards which moves the player to the start room. This is, of course, not inside your &quot;wait&quot; script, so it runs immediately.\n\nI've made this a bit easier in Quest 5.2. Now, the player is only moved to the start room when there are no outstanding &quot;wait&quot; scripts, so this whole area works a bit more as you might expect.",
      "EditableFormat": "bbcode",
      "HTML": "When you use a &quot;wait&quot; script, only the script <span style=\"font-style:italic;\">inside</span> the wait is run after the user has pressed a key. If you use this inside a game start script, there is more script that runs afterwards which moves the player to the start room. This is, of course, not inside your &quot;wait&quot; script, so it runs immediately.<br/><br/>I've made this a bit easier in Quest 5.2. Now, the player is only moved to the start room when there are no outstanding &quot;wait&quot; scripts, so this whole area works a bit more as you might expect.",
      "PostDate": "2012-04-07T18:16:59+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "19970",
      "UserId": 0,
      "Username": "demonboy",
      "UserAvatar": null,
      "UserGravatar": "30d5e72d183f691852c8b0534ccc2b90",
      "EditableText": "Thanks, Alex. \n\nWhat I did, and I'm not sure if this is a bit unorthodox, is open the intro.aslx and mygame.aslx in Dreamweaver and copy over the relevant bit from intro.aslx into my game. I was struggling with importing the Intro.aslx into my library (it was saying it was already there when it wasn't...long story but I can explain in more detail if you require), so the copying solution worked for me.\n\nAnd actually, perhaps the copying thing wasn't such a good idea as I've noticed that the engine is giving the full description of the room, even though I have unticked the option 'Show room description when entering the room' Any idea why it is doing this, or perhaps the bit of script I failed to copy over to my game?\n\n[Edit] It seems I have all the answers now except the one about the shop, which I'll worry about later, and the asking of the object before adding it to the inventory. I'm still none the wiser on this so any help would be appreciated. I'm not sure the suggested answer sgreig gave is correct because what you are suggesting is moving the object to the player's inventory, away from the desk on which it sits. Surely it has to sit on the desk, the desk is the parent to the object. If I move the item to the inventory (physically moving the object using the tree in the left) then it has no association with the desk and now it is immediately in the inventory.\n\nAm I missing a trick here? Do all possible items that could exist in the inventory, go under Player in the tree?",
      "EditableFormat": "bbcode",
      "HTML": "Thanks, Alex. <br/><br/>What I did, and I'm not sure if this is a bit unorthodox, is open the intro.aslx and mygame.aslx in Dreamweaver and copy over the relevant bit from intro.aslx into my game. I was struggling with importing the Intro.aslx into my library (it was saying it was already there when it wasn't...long story but I can explain in more detail if you require), so the copying solution worked for me.<br/><br/>And actually, perhaps the copying thing wasn't such a good idea as I've noticed that the engine is giving the full description of the room, even though I have unticked the option 'Show room description when entering the room' Any idea why it is doing this, or perhaps the bit of script I failed to copy over to my game?<br/><br/>[Edit] It seems I have all the answers now except the one about the shop, which I'll worry about later, and the asking of the object before adding it to the inventory. I'm still none the wiser on this so any help would be appreciated. I'm not sure the suggested answer sgreig gave is correct because what you are suggesting is moving the object to the player's inventory, away from the desk on which it sits. Surely it has to sit on the desk, the desk is the parent to the object. If I move the item to the inventory (physically moving the object using the tree in the left) then it has no association with the desk and now it is immediately in the inventory.<br/><br/>Am I missing a trick here? Do all possible items that could exist in the inventory, go under Player in the tree?",
      "PostDate": "2012-04-07T18:27:24+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "19973",
      "UserId": 0,
      "Username": "sgreig",
      "UserAvatar": null,
      "UserGravatar": "9117185af66d72729b195384e3a446f0",
      "EditableText": "I think I might have caused some more confusion, so let me try to explain myself a bit better. I'm assuming this &quot;transcript&quot; is similar to the behavior you're trying to create:\n\n[quote:34zugurq]\nYou are in a store.\nYou can see an object and a shopkeeper here.\nYou can go east.\n\n&gt; take object\nThe shopkeeper replied, &quot;Hey! You haven't paid for that yet!&quot;\n&gt; pay for object\nYou don't seem to have your wallet.\n&gt; east\n\nYou are in the east room.\nYou can see a wallet here.\nYou can go west.\n\n&gt; take wallet\nTaken.\n&gt; west\n\nYou are in a shop.\n\n&gt; pay for object\nThe shopkeeper processes your payment and thanks you.\n&gt; take object\nTaken.\n[/quote:34zugurq]\n\nIf that's along the lines of what you're trying to do,  this isn't really too difficult, it's just wrapping your head around how to solve the problem that provides the challenge, as with most programming languages.\n\nSo, what you want first is a script on the object that checks to see if the object has been paid for or not, and if not, won't allow the object to be taken. For this example, the script will look for a flag on the object called &quot;paid&quot;. If that flag exists, the script knows the object has been paid for. (We'll set this flag a little later in the example.) (Bear in mind, my screenshots are taken from the web editor version of Quest, but it's almost identical to the downloaded client so you shouldn't have any trouble.)\n\nWhat you want to do is create the object, and in the inventory tab, change default behavior to &quot;run script&quot; and use the script I have here, obviously using the object in your game instead of my sample one here.\n\n[attachment=2:34zugurq]<!-- ia2 -->Quest - Test-133136.png<!-- ia2 -->[/attachment:34zugurq]\n\nNow with part out of the way, we need a custom pay command. It will look like this:\n\n[attachment=1:34zugurq]<!-- ia1 -->Quest - Test-134531.png<!-- ia1 -->[/attachment:34zugurq]\n\nAnd that's all there is to it. I'll attach the game file to this post so you can try it yourself. You should be able to figure out how to adapt this to your game, but if you have more problems we'll obviously try to help out. <!-- s:) --><img src=\"{SMILIES_PATH}/icon_smile.gif\" alt=\":)\" title=\"Smile\" /><!-- s:) -->\n\n[attachment=0:34zugurq]<!-- ia0 -->buyingobject-sample.aslx<!-- ia0 -->[/attachment:34zugurq]",
      "EditableFormat": "bbcode",
      "HTML": "I think I might have caused some more confusion, so let me try to explain myself a bit better. I'm assuming this &quot;transcript&quot; is similar to the behavior you're trying to create:<br/><br/><blockquote><p><br/>You are in a store.<br/>You can see an object and a shopkeeper here.<br/>You can go east.<br/><br/>&gt; take object<br/>The shopkeeper replied, &quot;Hey! You haven't paid for that yet!&quot;<br/>&gt; pay for object<br/>You don't seem to have your wallet.<br/>&gt; east<br/><br/>You are in the east room.<br/>You can see a wallet here.<br/>You can go west.<br/><br/>&gt; take wallet<br/>Taken.<br/>&gt; west<br/><br/>You are in a shop.<br/><br/>&gt; pay for object<br/>The shopkeeper processes your payment and thanks you.<br/>&gt; take object<br/>Taken.<br/></p></blockquote><br/><br/>If that's along the lines of what you're trying to do,  this isn't really too difficult, it's just wrapping your head around how to solve the problem that provides the challenge, as with most programming languages.<br/><br/>So, what you want first is a script on the object that checks to see if the object has been paid for or not, and if not, won't allow the object to be taken. For this example, the script will look for a flag on the object called &quot;paid&quot;. If that flag exists, the script knows the object has been paid for. (We'll set this flag a little later in the example.) (Bear in mind, my screenshots are taken from the web editor version of Quest, but it's almost identical to the downloaded client so you shouldn't have any trouble.)<br/><br/>What you want to do is create the object, and in the inventory tab, change default behavior to &quot;run script&quot; and use the script I have here, obviously using the object in your game instead of my sample one here.<br/><br/><div><img src=\"/attachment/230\" alt=\"Quest - Test-133136.png\" /></div><br/><br/>Now with part out of the way, we need a custom pay command. It will look like this:<br/><br/><div><img src=\"/attachment/231\" alt=\"Quest - Test-134531.png\" /></div><br/><br/>And that's all there is to it. I'll attach the game file to this post so you can try it yourself. You should be able to figure out how to adapt this to your game, but if you have more problems we'll obviously try to help out. <!-- s:) --><img src=\"{SMILIES_PATH}/icon_smile.gif\" alt=\":)\" title=\"Smile\" /><!-- s:) --><br/><br/><div><a href=\"/attachment/232\">buyingobject-sample.aslx</a></div>",
      "PostDate": "2012-04-07T19:53:19+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "19974",
      "UserId": 0,
      "Username": "demonboy",
      "UserAvatar": null,
      "UserGravatar": "30d5e72d183f691852c8b0534ccc2b90",
      "EditableText": "That must have taken you a little time to reply so thank you so much for that, sgreig. This now answers my question about the shopping issue, which is great. I could complicate things further by asking how you buy different items at different prices and subtract those costs from the kitty, but I think I'm trying to run before I can walk!\n\nRegarding Q2 in my OP, however, that was slightly different to buying something. In Q2 what I was trying to get across was how you can acquire an object by [i:1js3u40l]asking [/i:1js3u40l]for it instead of just taking it. What I was trying to work out was how I tell Quest that a player is asking for an object and therefore is given it. How does Quest know that? I'm trying to get the player to type in 'Can I have that book' and for Quest to understand that because the words 'can', 'have' and 'book' were typed it, it must be a question about wanting the book, and therefore to give it to him and add it to his inventory.\n\nTo be honest, though, I have other questions about Quest that are more important than this issue. Please don't spend any more time trying to answer that problem as your one about shopping is enough to get me going. Thanks, sgreig.",
      "EditableFormat": "bbcode",
      "HTML": "That must have taken you a little time to reply so thank you so much for that, sgreig. This now answers my question about the shopping issue, which is great. I could complicate things further by asking how you buy different items at different prices and subtract those costs from the kitty, but I think I'm trying to run before I can walk!<br/><br/>Regarding Q2 in my OP, however, that was slightly different to buying something. In Q2 what I was trying to get across was how you can acquire an object by <span style=\"font-style:italic;\">asking </span>for it instead of just taking it. What I was trying to work out was how I tell Quest that a player is asking for an object and therefore is given it. How does Quest know that? I'm trying to get the player to type in 'Can I have that book' and for Quest to understand that because the words 'can', 'have' and 'book' were typed it, it must be a question about wanting the book, and therefore to give it to him and add it to his inventory.<br/><br/>To be honest, though, I have other questions about Quest that are more important than this issue. Please don't spend any more time trying to answer that problem as your one about shopping is enough to get me going. Thanks, sgreig.",
      "PostDate": "2012-04-07T20:33:54+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "19975",
      "UserId": 0,
      "Username": "demonboy",
      "UserAvatar": null,
      "UserGravatar": "30d5e72d183f691852c8b0534ccc2b90",
      "EditableText": "OK, almost there. I have an object called a 'bill'. It is set up thus:\n\n[img:1c7budcg]http&#58;//dl&#46;dropbox&#46;com/u/25233603/temp/quest2&#46;jpg[/img:1c7budcg]\n\nUnder that, I have a command, set up thus:\n\n[img:1c7budcg]http&#58;//dl&#46;dropbox&#46;com/u/25233603/temp/quest1&#46;jpg[/img:1c7budcg]\n\nHow do I then let Quest know to accept the player typing 'pay bill'? It is coming back saying 'I don't understand your command'. Do I have to set a verb under 'bill' and then run a script on that verb?\n\nAlso, how do I differentiate between 'pay the bill', 'pay bill', pay for the bill' etc?",
      "EditableFormat": "bbcode",
      "HTML": "OK, almost there. I have an object called a 'bill'. It is set up thus:<br/><br/><img src=\"http&#58;//dl&#46;dropbox&#46;com/u/25233603/temp/quest2&#46;jpg\" alt=\"\" /><br/><br/>Under that, I have a command, set up thus:<br/><br/><img src=\"http&#58;//dl&#46;dropbox&#46;com/u/25233603/temp/quest1&#46;jpg\" alt=\"\" /><br/><br/>How do I then let Quest know to accept the player typing 'pay bill'? It is coming back saying 'I don't understand your command'. Do I have to set a verb under 'bill' and then run a script on that verb?<br/><br/>Also, how do I differentiate between 'pay the bill', 'pay bill', pay for the bill' etc?",
      "PostDate": "2012-04-07T21:03:20+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "19977",
      "UserId": 0,
      "Username": "sgreig",
      "UserAvatar": null,
      "UserGravatar": "9117185af66d72729b195384e3a446f0",
      "EditableText": "Ah, that's my fault. Sorry.\n\nWhen you create custom commands, the part stored between the #'s has to be specified as either a string or an object. In your case, you would use &quot;pay for #object_bill#&quot;, or you could simply just leave it as &quot;pay for #object#&quot;. Then at which point you would either check for object_bill.paid or object.paid, depending which one you used. This screwed me up in my game as well until Alex explained it to me. <!-- s:) --><img src=\"{SMILIES_PATH}/icon_smile.gif\" alt=\":)\" title=\"Smile\" /><!-- s:) -->\n\nAs for making the player have to ask for an object, the principle is exactly the same. I would create an &quot;ask&quot; command that sets a flag on the object to true when it's used, then in the take script for the object, just check for that flag to determine if the object can be taken or not.",
      "EditableFormat": "bbcode",
      "HTML": "Ah, that's my fault. Sorry.<br/><br/>When you create custom commands, the part stored between the #'s has to be specified as either a string or an object. In your case, you would use &quot;pay for #object_bill#&quot;, or you could simply just leave it as &quot;pay for #object#&quot;. Then at which point you would either check for object_bill.paid or object.paid, depending which one you used. This screwed me up in my game as well until Alex explained it to me. <!-- s:) --><img src=\"{SMILIES_PATH}/icon_smile.gif\" alt=\":)\" title=\"Smile\" /><!-- s:) --><br/><br/>As for making the player have to ask for an object, the principle is exactly the same. I would create an &quot;ask&quot; command that sets a flag on the object to true when it's used, then in the take script for the object, just check for that flag to determine if the object can be taken or not.",
      "PostDate": "2012-04-07T21:44:22+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "19979",
      "UserId": 0,
      "Username": "demonboy",
      "UserAvatar": null,
      "UserGravatar": "30d5e72d183f691852c8b0534ccc2b90",
      "EditableText": "Good morning sgrieg, I'm in India so I'm guessing I'm a fair few hours ahead of you, hence my delayed response. I figured if I posted now I might jut catch you before you go to bed!\n\nSo are you saying I set a Verb (under the object 'bill') to 'pay', with a script that says:\n[quote:ygvoqcsc]\nIf: expression 'pay for #bill#'\nThen:\n[/quote:ygvoqcsc]\n\nWhat's the missing bit in the Then part of the script? How do I say Then 'bill.paid = true' or something?",
      "EditableFormat": "bbcode",
      "HTML": "Good morning sgrieg, I'm in India so I'm guessing I'm a fair few hours ahead of you, hence my delayed response. I figured if I posted now I might jut catch you before you go to bed!<br/><br/>So are you saying I set a Verb (under the object 'bill') to 'pay', with a script that says:<br/><blockquote><p><br/>If: expression 'pay for #bill#'<br/>Then:<br/></p></blockquote><br/><br/>What's the missing bit in the Then part of the script? How do I say Then 'bill.paid = true' or something?",
      "PostDate": "2012-04-08T04:37:01+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "19980",
      "UserId": 0,
      "Username": "sgreig",
      "UserAvatar": null,
      "UserGravatar": "9117185af66d72729b195384e3a446f0",
      "EditableText": "What I mean is that in command pattern, you have to have it set to either &quot;pay for #object_bill#&quot; or &quot;pay for #object#&quot;. If you set it to &quot;pay for #bill#&quot; it won't work because Quest won't be able to tell if #bill# is an object or a string.",
      "EditableFormat": "bbcode",
      "HTML": "What I mean is that in command pattern, you have to have it set to either &quot;pay for #object_bill#&quot; or &quot;pay for #object#&quot;. If you set it to &quot;pay for #bill#&quot; it won't work because Quest won't be able to tell if #bill# is an object or a string.",
      "PostDate": "2012-04-08T05:46:04+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "19981",
      "UserId": 0,
      "Username": "demonboy",
      "UserAvatar": null,
      "UserGravatar": "30d5e72d183f691852c8b0534ccc2b90",
      "EditableText": "Just remembered you included the aslx file for me to check. Will examine this first, thanks!",
      "EditableFormat": "bbcode",
      "HTML": "Just remembered you included the aslx file for me to check. Will examine this first, thanks!",
      "PostDate": "2012-04-08T06:27:14+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "19982",
      "UserId": 0,
      "Username": "demonboy",
      "UserAvatar": null,
      "UserGravatar": "30d5e72d183f691852c8b0534ccc2b90",
      "EditableText": "Success! I have managed to 'pay for bill'! Thank you, sgreig! Wonderful stuff. Also I came across the way of adding different variations, i.e. adding the semi-colon, so I'm pretty made up now. \n\nThank you so much for your patience, it's really appreciated.",
      "EditableFormat": "bbcode",
      "HTML": "Success! I have managed to 'pay for bill'! Thank you, sgreig! Wonderful stuff. Also I came across the way of adding different variations, i.e. adding the semi-colon, so I'm pretty made up now. <br/><br/>Thank you so much for your patience, it's really appreciated.",
      "PostDate": "2012-04-08T11:50:32+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "19985",
      "UserId": 0,
      "Username": "sgreig",
      "UserAvatar": null,
      "UserGravatar": "9117185af66d72729b195384e3a446f0",
      "EditableText": "Glad I could help. <!-- s:) --><img src=\"{SMILIES_PATH}/icon_smile.gif\" alt=\":)\" title=\"Smile\" /><!-- s:) -->",
      "EditableFormat": "bbcode",
      "HTML": "Glad I could help. <!-- s:) --><img src=\"{SMILIES_PATH}/icon_smile.gif\" alt=\":)\" title=\"Smile\" /><!-- s:) -->",
      "PostDate": "2012-04-08T21:33:08+01:00",
      "LastEditDate": null
    }
  ]
}
