{
  "Topic": {
    "TopicId": "dd-o07sngeyre8ja2qchow",
    "ForumId": "10",
    "Title": "Frames per second - or something",
    "LastUpdated": "2023-07-07T15:09:29.310774Z",
    "ReplyCount": 0
  },
  "Posts": [
    {
      "PostId": "61c53901-2f43-42e0-b849-981629170455",
      "UserId": 579655,
      "Username": "Jennifer Wren",
      "AvatarUrl": "https://i.imgur.com/t1XUS1Kb.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Does anyone have an idea how many fractions of a second it takes to put an image onto the screen, and clear it? If I did that 1000 times, could I create a one or two second animation? Or is it even more than that? If you don't factor in lag for slow computers, is there a set \"frames\" (or activities of that size, ie: show picture - clearscreen) per second? \r\nI will benefit even from well educated guesses, here, if no one has access to the actual number.\r\nI would really like to try it.",
      "EditableFormat": "markdown",
      "HTML": "<p>Does anyone have an idea how many fractions of a second it takes to put an image onto the screen, and clear it? If I did that 1000 times, could I create a one or two second animation? Or is it even more than that? If you don't factor in lag for slow computers, is there a set \"frames\" (or activities of that size, ie: show picture - clearscreen) per second?<br>\nI will benefit even from well educated guesses, here, if no one has access to the actual number.<br>\nI would really like to try it.</p>\n\n",
      "PostDate": "2023-07-07T15:09:29.310774Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "64fd412e-d447-412d-9c39-160b3178569c",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "The frame rate would be whatever you set it to. If you add an image then remove it again, it probably wouldn't be visible because the script does not wait for the image to be displayed before continuing.\r\n\r\nSo if you wanted to do frame based animation, it would be up to you to decide how long to wait between drawing an image and removing it.",
      "EditableFormat": "markdown",
      "HTML": "<p>The frame rate would be whatever you set it to. If you add an image then remove it again, it probably wouldn't be visible because the script does not wait for the image to be displayed before continuing.</p>\n<p>So if you wanted to do frame based animation, it would be up to you to decide how long to wait between drawing an image and removing it.</p>\n\n",
      "PostDate": "2023-07-07T18:09:27.5176986Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "d3e22afd-79ab-4db9-9fba-bb169988b56d",
      "UserId": 579655,
      "Username": "Jennifer Wren",
      "AvatarUrl": "https://i.imgur.com/t1XUS1Kb.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Can I make it be 1/4 of a second per image?",
      "EditableFormat": "markdown",
      "HTML": "<p>Can I make it be 1/4 of a second per image?</p>\n\n",
      "PostDate": "2023-07-07T19:47:59.8126695Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "20fe2e38-5ac0-4f44-ad75-a730d94a7fa0",
      "UserId": 579655,
      "Username": "Jennifer Wren",
      "AvatarUrl": "https://i.imgur.com/t1XUS1Kb.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "I just thought that if, since the timer only works with seconds, I could add an image and clear screen 500x and have at least a blip of that image (if at 50% opacity), then, a different image 500x, and so on image a, image b, image c, image b, and loop it. Would that not be half visible? And it could look like a hologram of something in three positions.\r\n\r\nIs there a way to find out, would it be 1000 activities per second, or 1,000,000,000? I know I couldn't do 1,000,000,000, but I could do 1000.",
      "EditableFormat": "markdown",
      "HTML": "<p>I just thought that if, since the timer only works with seconds, I could add an image and clear screen 500x and have at least a blip of that image (if at 50% opacity), then, a different image 500x, and so on image a, image b, image c, image b, and loop it. Would that not be half visible? And it could look like a hologram of something in three positions.</p>\n<p>Is there a way to find out, would it be 1000 activities per second, or 1,000,000,000? I know I couldn't do 1,000,000,000, but I could do 1000.</p>\n\n",
      "PostDate": "2023-07-07T19:52:56.0676946Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "92b4425e-91fd-499d-8142-a26d77fe5348",
      "UserId": 579655,
      "Username": "Jennifer Wren",
      "AvatarUrl": "https://i.imgur.com/t1XUS1Kb.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "If there is a way to cut seconds in half, I would take that.",
      "EditableFormat": "markdown",
      "HTML": "<p>If there is a way to cut seconds in half, I would take that.</p>\n\n",
      "PostDate": "2023-07-07T19:53:41.9180027Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "f572c131-f03b-4e7c-82df-108960b75f2f",
      "UserId": 427776,
      "Username": "HelpMePlease",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Why not use a gif? I feel like doing that many actions in such a small timespan is bound to cause something funky.",
      "EditableFormat": "markdown",
      "HTML": "<p>Why not use a gif? I feel like doing that many actions in such a small timespan is bound to cause something funky.</p>\n\n",
      "PostDate": "2023-07-07T21:25:23.5321004Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "22459f16-dea6-4b14-8cd6-c691235c05a7",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Quest's timers can be up to a second earlier or later than the time you specify. To do something like this, you would need to use a javascript `setTimeout`, which takes a time in milliseconds as its parameter. However, if you want to create an animation it would probably be much more efficient to use an animated GIF or some other format that supports it. If necessary, you could add a couple of seconds of the last frame, and then use a timer to remove it after it finishes.",
      "EditableFormat": "markdown",
      "HTML": "<p>Quest's timers can be up to a second earlier or later than the time you specify. To do something like this, you would need to use a javascript <code>setTimeout</code>, which takes a time in milliseconds as its parameter. However, if you want to create an animation it would probably be much more efficient to use an animated GIF or some other format that supports it. If necessary, you could add a couple of seconds of the last frame, and then use a timer to remove it after it finishes.</p>\n\n",
      "PostDate": "2023-07-07T22:53:05.6391495Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "02270011-68e9-4286-be7f-62aa38df783b",
      "UserId": 579655,
      "Username": "Jennifer Wren",
      "AvatarUrl": "https://i.imgur.com/t1XUS1Kb.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Thanks! It was actually easy to find. I'll see if I can make it work.",
      "EditableFormat": "markdown",
      "HTML": "<p>Thanks! It was actually easy to find. I'll see if I can make it work.</p>\n\n",
      "PostDate": "2023-07-08T01:41:17.0615782Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "84976ab4-1880-4b07-b48a-e71e6f10b281",
      "UserId": 579655,
      "Username": "Jennifer Wren",
      "AvatarUrl": "https://i.imgur.com/t1XUS1Kb.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "I haven't been able to upload animation or anything to Quest. Maybe, my connection is too slow.  I might be able to use the setTimeout for milliseconds, though.",
      "EditableFormat": "markdown",
      "HTML": "<p>I haven't been able to upload animation or anything to Quest. Maybe, my connection is too slow.  I might be able to use the setTimeout for milliseconds, though.</p>\n\n",
      "PostDate": "2023-07-08T01:50:47.2452902Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "d4b3d3a2-f52c-4132-8b7d-21cd93965f6d",
      "UserId": 579655,
      "Username": "Jennifer Wren",
      "AvatarUrl": "https://i.imgur.com/t1XUS1Kb.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Is this how that would be done? The page I was reading wasn't specific to Quest, so this is my best guess. Hmm.\r\npicture (\"\")\r\nJS.setTimeout (ClearScreen, 300)\r\nJS.setTimeout (picture (\"\"), 600)\r\nJS.setTimeout (ClearScreen, 900)\r\nJS.setTimeout (picture (\"\"), 1200)",
      "EditableFormat": "markdown",
      "HTML": "<p>Is this how that would be done? The page I was reading wasn't specific to Quest, so this is my best guess. Hmm.<br>\npicture (\"\")<br>\nJS.setTimeout (ClearScreen, 300)<br>\nJS.setTimeout (picture (\"\"), 600)<br>\nJS.setTimeout (ClearScreen, 900)<br>\nJS.setTimeout (picture (\"\"), 1200)</p>\n\n",
      "PostDate": "2023-07-08T01:58:18.4882863Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "b2f6c406-31c4-48e6-b44b-28c9e1101138",
      "UserId": 579655,
      "Username": "Jennifer Wren",
      "AvatarUrl": "https://i.imgur.com/t1XUS1Kb.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "So, no. That didn't work because \"ClearScreen\" was an unknown object.\r\nAlright. I have discovered using tabs and typing in .5, instead of 1, which works, incredibly.\r\nI would never have guessed.",
      "EditableFormat": "markdown",
      "HTML": "<p>So, no. That didn't work because \"ClearScreen\" was an unknown object.<br>\nAlright. I have discovered using tabs and typing in .5, instead of 1, which works, incredibly.<br>\nI would never have guessed.</p>\n\n",
      "PostDate": "2023-07-08T02:05:36.6053886Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "03f3c990-7f7d-4c29-b21d-5608f52599f8",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "If it's working, I think that's a good thing. But I suspect the timing will be erratic, especially playing online. Hope it works for you :)\r\n\r\n<hr style=\"border-top: 1px dashed navy; border-bottom: 1px dotted black; height: 1px\"/>\r\n\r\nFor the JS.setTimeout option you would need to pass a javascript command as the parameter. I think there is a JS ClearScreen function; but not sure if it has the same name.\r\n\r\nIn this case, I suspect that rather than removing the image, it would be better to hide it; so that to display a new one you can just take the one that already exists and change it to a different image.\r\n\r\nOff the top of my head (and typing on my phone, so sorry for any typos) I think you could use something like:\r\n```\r\n$(function() {\r\n  var timerid;\r\n  var img = $('#divOutput img').last();\r\n  var frames = [];\r\n  window.animateImage = function() {\r\n    frames.push(arguments);\r\n    if (!timerid) {\r\n      processFrame();\r\n    };\r\n  };\r\n  var processFrame = function() {\r\n    timerid = 0;\r\n    while (frames.length) {\r\n      var i = frames.shift();\r\n      if (!i) {\r\n        img.hide();\r\n      } else if (isNaN(i)) {\r\n        img.show().attr('src',i);\r\n      } else {\r\n        return(timerid = setTimeout(processFrame, i));\r\n      }\r\n    }\r\n  };\r\n});\r\n```\r\n\r\nOK, that's probably a little over-engineered.\r\nAn example usage in Quest (with the code compressed a little) might be:\r\n```\r\npicture(\"image1.png\")\r\n\r\nJS.eval(\"$(function(){var t,n=$('#divOutput img').last(),a=[];window.animateImage=function(){a.push(arguments),t||e()};var e=function(){for(t=0;a.length;){var i=a.shift();if(i){if(!isNaN(i))return t=setTimeout(e,i);n.show().attr('src',i)}else n.hide()}}});\")\r\n\r\nJS.animateImage(500, \"\", 500, GetFileURL(\"image2.png\"))\r\nJS.animateImage(500, GetFileURL(\"image3.png\"))\r\nJS.animateImage(1000)\r\nJS.animateImage(0)\r\n```\r\nIn this case, the new function `JS.animateImage` can take as many parameters as you want to give it. `\"\"` or `0` tells it to hide the image, a URL tells it to show that image, and a nonzero number tells it to wait for that many milliseconds. Calling it more than once adds instructions to the end of the queue, so you can put each picture on its own line, or all on the same line, whichever you prefer.",
      "EditableFormat": "markdown",
      "HTML": "<p>If it's working, I think that's a good thing. But I suspect the timing will be erratic, especially playing online. Hope it works for you :)</p>\n<hr style=\"border-top: 1px dashed navy; border-bottom: 1px dotted black; height: 1px\">\n<p>For the JS.setTimeout option you would need to pass a javascript command as the parameter. I think there is a JS ClearScreen function; but not sure if it has the same name.</p>\n<p>In this case, I suspect that rather than removing the image, it would be better to hide it; so that to display a new one you can just take the one that already exists and change it to a different image.</p>\n<p>Off the top of my head (and typing on my phone, so sorry for any typos) I think you could use something like:</p>\n<pre><code>$(function() {\n  var timerid;\n  var img = $('#divOutput img').last();\n  var frames = [];\n  window.animateImage = function() {\n    frames.push(arguments);\n    if (!timerid) {\n      processFrame();\n    };\n  };\n  var processFrame = function() {\n    timerid = 0;\n    while (frames.length) {\n      var i = frames.shift();\n      if (!i) {\n        img.hide();\n      } else if (isNaN(i)) {\n        img.show().attr('src',i);\n      } else {\n        return(timerid = setTimeout(processFrame, i));\n      }\n    }\n  };\n});\n</code></pre>\n<p>OK, that's probably a little over-engineered.<br>\nAn example usage in Quest (with the code compressed a little) might be:</p>\n<pre><code>picture(\"image1.png\")\n\nJS.eval(\"$(function(){var t,n=$('#divOutput img').last(),a=[];window.animateImage=function(){a.push(arguments),t||e()};var e=function(){for(t=0;a.length;){var i=a.shift();if(i){if(!isNaN(i))return t=setTimeout(e,i);n.show().attr('src',i)}else n.hide()}}});\")\n\nJS.animateImage(500, \"\", 500, GetFileURL(\"image2.png\"))\nJS.animateImage(500, GetFileURL(\"image3.png\"))\nJS.animateImage(1000)\nJS.animateImage(0)\n</code></pre>\n<p>In this case, the new function <code>JS.animateImage</code> can take as many parameters as you want to give it. <code>\"\"</code> or <code>0</code> tells it to hide the image, a URL tells it to show that image, and a nonzero number tells it to wait for that many milliseconds. Calling it more than once adds instructions to the end of the queue, so you can put each picture on its own line, or all on the same line, whichever you prefer.</p>\n\n",
      "PostDate": "2023-07-08T16:32:25.9753481Z",
      "LastEditDate": "2023-07-08T23:05:01.4091745Z",
      "link": null
    },
    {
      "PostId": "ae458db1-4570-42f7-b0e4-df802171fbfa",
      "UserId": 579655,
      "Username": "Jennifer Wren",
      "AvatarUrl": "https://i.imgur.com/t1XUS1Kb.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "How does the game engine know how to GetfileURL for the .png?\r\nI tried with offline png, first, and with online URL, copylink, instead of .png, after that, but neither worked. I am a bit behind the times, so I am still not sure how to include the URL based \".png\"\r\nThe bottom script with cop and paste gives me a blank image, meaning the first image has shown, the second two weren't accessed. I think maybe a single second would be appropriate if it weren't for the timer lag I usually get from the tab timer. Using \".5\", with the tab, blipped really fast, too.\r\nI think when (and if) I find out how to attach online images (or offline) with this script, I might use it for full second images or 7.5 or something. (Don't worry. I can do that much math myself.)",
      "EditableFormat": "markdown",
      "HTML": "<p>How does the game engine know how to GetfileURL for the .png?<br>\nI tried with offline png, first, and with online URL, copylink, instead of .png, after that, but neither worked. I am a bit behind the times, so I am still not sure how to include the URL based \".png\"<br>\nThe bottom script with cop and paste gives me a blank image, meaning the first image has shown, the second two weren't accessed. I think maybe a single second would be appropriate if it weren't for the timer lag I usually get from the tab timer. Using \".5\", with the tab, blipped really fast, too.<br>\nI think when (and if) I find out how to attach online images (or offline) with this script, I might use it for full second images or 7.5 or something. (Don't worry. I can do that much math myself.)</p>\n\n",
      "PostDate": "2023-07-08T19:51:09.5877486Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "8e8908f8-ac14-4a58-9424-6cffff80db83",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "The `picture` command calls `GetFileURL` internally. If you're passing images to a javascript function, you need to use the function to convert a filename to an actual URL. If you're using the URL of an image hosted on an external site, you don't need the `GetFileURL`.\r\n\r\n`GetFileURL` just adds a prefix to the filename, so the browser knows where to find files that are part of the game package. I think it's something like http:&#47;&zwnj;&#47;media.textadventures.co.uk&#47;(game-ID)&#47;(filename) when you're playing online, and res:&#47;&#47;(filename) when playing offline; but I don't remember the exact format.\r\n\r\n That code was all typed out on my phone and without access to the documentation, so I can't be sure that there aren't some mistakes on it.",
      "EditableFormat": "markdown",
      "HTML": "<p>The <code>picture</code> command calls <code>GetFileURL</code> internally. If you're passing images to a javascript function, you need to use the function to convert a filename to an actual URL. If you're using the URL of an image hosted on an external site, you don't need the <code>GetFileURL</code>.</p>\n<p><code>GetFileURL</code> just adds a prefix to the filename, so the browser knows where to find files that are part of the game package. I think it's something like http:/‌/media.textadventures.co.uk/(game-ID)/(filename) when you're playing online, and res://(filename) when playing offline; but I don't remember the exact format.</p>\n<p>That code was all typed out on my phone and without access to the documentation, so I can't be sure that there aren't some mistakes on it.</p>\n\n",
      "PostDate": "2023-07-08T23:01:15.0927854Z",
      "LastEditDate": "2023-07-08T23:02:15.9653187Z",
      "link": null
    },
    {
      "PostId": "e4ca7f85-9e61-45ca-85d0-4622250afe4b",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Slight tweak to the code… I changed `'img'` to `'#divOutput img'`; so it'll replace the last image in the game's output area rather than the last image on the page (thought I'm not sure whether there would be any images outside the output area or not)",
      "EditableFormat": "markdown",
      "HTML": "<p>Slight tweak to the code… I changed <code>'img'</code> to <code>'#divOutput img'</code>; so it'll replace the last image in the game's output area rather than the last image on the page (thought I'm not sure whether there would be any images outside the output area or not)</p>\n\n",
      "PostDate": "2023-07-08T23:06:58.1544287Z",
      "LastEditDate": null,
      "link": null
    }
  ]
}
