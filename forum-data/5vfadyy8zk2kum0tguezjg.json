{
  "Topic": {
    "TopicId": "5vfadyy8zk2kum0tguezjg",
    "ForumId": "10",
    "Title": "Adding a command - \"AGAIN;G\"",
    "LastUpdated": "2017-07-16T23:39:22.7217913Z",
    "ReplyCount": 0
  },
  "Posts": [
    {
      "PostId": "e7e5e5ee-4d8b-4a33-bf92-b6f3f964228f",
      "UserId": 315210,
      "Username": "W.H. Dunnlatch",
      "AvatarUrl": "http://i.imgur.com/XZr8onEb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Hello, everyone!\r\n\r\nHow might one go about creating a command to repeat the last command entered by the player? I'd very much like 'AGAIN' or 'G' to do the same thing as pressing the UP arrow, then pressing ENTER.\r\n\r\nThanks!",
      "EditableFormat": "markdown",
      "HTML": "<p>Hello, everyone!</p>\n<p>How might one go about creating a command to repeat the last command entered by the player? I'd very much like 'AGAIN' or 'G' to do the same thing as pressing the UP arrow, then pressing ENTER.</p>\n<p>Thanks!</p>\n\n",
      "PostDate": "2017-07-16T23:39:22.7217913Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "a7483a55-869b-421c-aee5-02135ce000da",
      "UserId": 247325,
      "Username": "hegemonkhan",
      "AvatarUrl": "https://secure.gravatar.com/avatar/a96cf34d8d97c57de38f54ee22b1759b?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "this is really complex stuff...\r\n\r\nyou'd need to store but check (as you don't want to be storing everything the person playing might input, only relevant inputs) every input/command into a Stringlist Attribute, which you can then pretty easily (if you know coding/programing: 'push/pop' off of a stack... err... list, lol. Getting the List index of the last item, and then handling it, or not, when you're done: after doing your Command) use to get/do its last item (input/command), for your Command.\r\n\r\n--------\r\n\r\nthe 'walkthrough' feature of quest does this for you already... so it might be easier trying to figure out how to use it for with your Command.\r\n\r\n-------\r\n\r\nthis stuff is beyond my ability, but maybe someone else can help with this stuff.",
      "EditableFormat": "markdown",
      "HTML": "<p>this is really complex stuff...</p>\n<p>you'd need to store but check (as you don't want to be storing everything the person playing might input, only relevant inputs) every input/command into a Stringlist Attribute, which you can then pretty easily (if you know coding/programing: 'push/pop' off of a stack... err... list, lol. Getting the List index of the last item, and then handling it, or not, when you're done: after doing your Command) use to get/do its last item (input/command), for your Command.</p>\n<hr>\n<p>the 'walkthrough' feature of quest does this for you already... so it might be easier trying to figure out how to use it for with your Command.</p>\n<hr>\n<p>this stuff is beyond my ability, but maybe someone else can help with this stuff.</p>\n\n",
      "PostDate": "2017-07-17T00:54:14.0367055Z",
      "LastEditDate": "2017-07-17T00:56:49.1169277Z",
      "link": null
    },
    {
      "PostId": "c40189ad-74ae-47e3-854a-225b9111d441",
      "UserId": 301690,
      "Username": "Richard Headkid",
      "AvatarUrl": "http://i.imgur.com/WUGXS8yb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Yeah...\r\n\r\nI got it to work the first time you entered G/AGAIN, but if you entered G/AGAIN a second time, it caused a stack error. (Es no bueno.)\r\n\r\nMaybe The Pixie will add it to 5.8. It's a common command in all the Infocom games, after all.\r\n\r\n<details><summary>Little things that threw me off while first playing Quest games (Constructive 'criticism' from a 40 year old text adventurer)</summary>\r\n\r\n\r\n<br/>\r\n\r\n- Can't enter AGAIN/G to repeat the last command (obviously)\r\n\r\n- **This one really can't be helped. I'm just throwing it out there because it was my main hurdle.**  Many instances where one must use the command USE (in the old Infocom games, this usually returned a derogatory response; i.e., BE MORE SPECIFIC)\r\n\r\n- When in a room you entered by using the IN command, EXIT is not an alias for OUT\r\n\r\n- Can't enter multiple commands, separated by THEN or \".\" by default (I've discovered that there is an option to allow \".\" to do this, but it wasn't turned on in any of the first Quest games I played. And THEN still isn't included in that option, that I'm aware of. I plan on trying to add the THEN to that script sometime soon.)\r\n\r\nMany of the 'standard commands' **are** included in Quest, and I promise: I'm not downing anything. I've simply fallen in love with Quest, and I'd like to help by providing feedback which may lead to improvements that would make Quest more comfortable for us old-timers to transition to.\r\n\r\n(Ended that sentence in a preposition. All apologies.)\r\n\r\n</details>",
      "EditableFormat": "markdown",
      "HTML": "<p>Yeah...</p>\n<p>I got it to work the first time you entered G/AGAIN, but if you entered G/AGAIN a second time, it caused a stack error. (Es no bueno.)</p>\n<p>Maybe The Pixie will add it to 5.8. It's a common command in all the Infocom games, after all.</p>\n<details><summary>Little things that threw me off while first playing Quest games (Constructive 'criticism' from a 40 year old text adventurer)</summary>\n<br>\n<ul>\n<li>\n<p>Can't enter AGAIN/G to repeat the last command (obviously)</p>\n</li>\n<li>\n<p><strong>This one really can't be helped. I'm just throwing it out there because it was my main hurdle.</strong>  Many instances where one must use the command USE (in the old Infocom games, this usually returned a derogatory response; i.e., BE MORE SPECIFIC)</p>\n</li>\n<li>\n<p>When in a room you entered by using the IN command, EXIT is not an alias for OUT</p>\n</li>\n<li>\n<p>Can't enter multiple commands, separated by THEN or \".\" by default (I've discovered that there is an option to allow \".\" to do this, but it wasn't turned on in any of the first Quest games I played. And THEN still isn't included in that option, that I'm aware of. I plan on trying to add the THEN to that script sometime soon.)</p>\n</li>\n</ul>\n<p>Many of the 'standard commands' <strong>are</strong> included in Quest, and I promise: I'm not downing anything. I've simply fallen in love with Quest, and I'd like to help by providing feedback which may lead to improvements that would make Quest more comfortable for us old-timers to transition to.</p>\n<p>(Ended that sentence in a preposition. All apologies.)</p>\n</details>\n\n",
      "PostDate": "2017-07-17T01:26:39.3313884Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "21ba0205-d079-4e18-889c-fbcb623c68db",
      "UserId": 247325,
      "Username": "hegemonkhan",
      "AvatarUrl": "https://secure.gravatar.com/avatar/a96cf34d8d97c57de38f54ee22b1759b?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "aside from going into the scripting for the 'get input' Function and/or Commands and/or whatever/where-ever handles it (maybe the 'handlecommand' is what you go into), here's quick look of something of what it'd be like (minus all the handling required):\r\n\r\n```\r\n// scripting for every time this Function is done:\r\n\r\nget input { // or Command, but not sure how to handle it\r\n  // if result = valid Command Pattern input:\r\n  list add (game.user_input_commands_stringlist_attribute, result)\r\n}\r\n\r\n// ----------------------\r\n\r\n<command name=\"repeat_action_command\">\r\n  <pattern>AGAIN;Again;again;G;g</attr> // you can probably use the 'regex' for getting/using the 'up' arrow key too (whatever it's ASCII/whatever Value is)\r\n  <script>\r\n    last_index_integer_variable = ListCount (game.user_input_commands_stringlist_attribute) - 1\r\n    command_pattern_input_string_variable = StringListItem (game.user_input_commands_stringlist_attribute, last_index_integer_variable)\r\n    do (command, command_pattern_input_string_variable) // I'm not sure how to do Commands... but I'm sure it can be done.\r\n    list remove (game.user_input_commands_stringlist_attribute, command_pattern_input_string_variable)\r\n  </script>\r\n</command>\r\n```",
      "EditableFormat": "markdown",
      "HTML": "<p>aside from going into the scripting for the 'get input' Function and/or Commands and/or whatever/where-ever handles it (maybe the 'handlecommand' is what you go into), here's quick look of something of what it'd be like (minus all the handling required):</p>\n<pre><code>// scripting for every time this Function is done:\n\nget input { // or Command, but not sure how to handle it\n  // if result = valid Command Pattern input:\n  list add (game.user_input_commands_stringlist_attribute, result)\n}\n\n// ----------------------\n\n&lt;command name=\"repeat_action_command\"&gt;\n  &lt;pattern&gt;AGAIN;Again;again;G;g&lt;/attr&gt; // you can probably use the 'regex' for getting/using the 'up' arrow key too (whatever it's ASCII/whatever Value is)\n  &lt;script&gt;\n    last_index_integer_variable = ListCount (game.user_input_commands_stringlist_attribute) - 1\n    command_pattern_input_string_variable = StringListItem (game.user_input_commands_stringlist_attribute, last_index_integer_variable)\n    do (command, command_pattern_input_string_variable) // I'm not sure how to do Commands... but I'm sure it can be done.\n    list remove (game.user_input_commands_stringlist_attribute, command_pattern_input_string_variable)\n  &lt;/script&gt;\n&lt;/command&gt;\n</code></pre>\n\n",
      "PostDate": "2017-07-17T01:47:17.3843753Z",
      "LastEditDate": "2017-07-17T01:55:44.1438032Z",
      "link": null
    },
    {
      "PostId": "e1623f1a-ec41-4d21-bb19-dd7dd7b7743a",
      "UserId": 301690,
      "Username": "Richard Headkid",
      "AvatarUrl": "http://i.imgur.com/WUGXS8yb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "I'll post it here when I figure it out (or when someone reveals the answer, whichever comes first).\r\n\r\nThanks, HK!",
      "EditableFormat": "markdown",
      "HTML": "<p>I'll post it here when I figure it out (or when someone reveals the answer, whichever comes first).</p>\n<p>Thanks, HK!</p>\n\n",
      "PostDate": "2017-07-17T02:13:15.8432756Z",
      "LastEditDate": "2017-07-17T02:21:03.7288576Z",
      "link": null
    },
    {
      "PostId": "b2e56bf9-1ccc-4777-881d-4fa326adc2c5",
      "UserId": 247325,
      "Username": "hegemonkhan",
      "AvatarUrl": "https://secure.gravatar.com/avatar/a96cf34d8d97c57de38f54ee22b1759b?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Pixie can probably be of help, as this is similar to saving a game's contents for being able to load the game, and he's familiar with the built-in stuff of quest. There's other's too, but Pixie is the main forum post'er.\r\n\r\n(maybe some of the old quest people have moved on too along with Alex, and/or are too busy in real life, not sure if Pertex is still around and/or Jay and/or Sgreig/Greg, not sure who has stayed with quest and just don't post much in the forums or if they've moved on from quest and/or real life is just too busy for them for engaging with quest)",
      "EditableFormat": "markdown",
      "HTML": "<p>Pixie can probably be of help, as this is similar to saving a game's contents for being able to load the game, and he's familiar with the built-in stuff of quest. There's other's too, but Pixie is the main forum post'er.</p>\n<p>(maybe some of the old quest people have moved on too along with Alex, and/or are too busy in real life, not sure if Pertex is still around and/or Jay and/or Sgreig/Greg, not sure who has stayed with quest and just don't post much in the forums or if they've moved on from quest and/or real life is just too busy for them for engaging with quest)</p>\n\n",
      "PostDate": "2017-07-17T03:47:10.5902226Z",
      "LastEditDate": "2017-07-17T03:48:21.9073075Z",
      "link": null
    },
    {
      "PostId": "8d9fbefd-287f-4efd-830a-d9ddd13be3ee",
      "UserId": 301690,
      "Username": "Richard Headkid",
      "AvatarUrl": "http://i.imgur.com/WUGXS8yb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "## SUCCESS!\r\n\r\n---\r\n\r\n# How I set up a command to repeat the last turn with ```AGAIN;G;REDO;REPEAT```\r\n\r\n---\r\nTurn script - 'capture_again_command':\r\n```\r\n\r\nif (not player.currentcommand = \"g\") {\r\n  if (not player.currentcommand = \"again\") {\r\n    player.cc = player.currentcommand\r\n  }\r\n}\r\n```\r\n\r\nThe 'Again' command:\r\n**Command pattern**\r\n```again;g;repeat;redo```\r\n\r\n```\r\nif (player.cc = null) {\r\n  msg (\"There is nothing to repeat.\")\r\n}\r\nelse {\r\n  msg (\"(\"+player.cc+\")\")\r\n  HandleSingleCommand (player.cc)\r\n}\r\n```",
      "EditableFormat": "markdown",
      "HTML": "<h2>SUCCESS!</h2>\n<hr>\n<h1>How I set up a command to repeat the last turn with <code>AGAIN;G;REDO;REPEAT</code></h1>\n<hr>\n<p>Turn script - 'capture_again_command':</p>\n<pre><code>\nif (not player.currentcommand = \"g\") {\n  if (not player.currentcommand = \"again\") {\n    player.cc = player.currentcommand\n  }\n}\n</code></pre>\n<p>The 'Again' command:<br>\n<strong>Command pattern</strong><br>\n<code>again;g;repeat;redo</code></p>\n<pre><code>if (player.cc = null) {\n  msg (\"There is nothing to repeat.\")\n}\nelse {\n  msg (\"(\"+player.cc+\")\")\n  HandleSingleCommand (player.cc)\n}\n</code></pre>\n\n",
      "PostDate": "2017-07-17T06:00:55.7598345Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "742bbdb1-937a-4a54-be19-b6ff1bd254ef",
      "UserId": 1346,
      "Username": "The Pixie",
      "AvatarUrl": "https://secure.gravatar.com/avatar/cfa37e927f96177bcf6053ae8f108f77?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Players can scroll through their previous input using the up and down arrows, which is better than an AGAIN command in my opinion, and I guess why the command has not been implemented. ",
      "EditableFormat": "markdown",
      "HTML": "<p>Players can scroll through their previous input using the up and down arrows, which is better than an AGAIN command in my opinion, and I guess why the command has not been implemented.</p>\n\n",
      "PostDate": "2017-07-17T07:02:36.6456785Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "2a22d90d-66fa-4326-9c9b-ee7437baa7cd",
      "UserId": 301690,
      "Username": "Richard Headkid",
      "AvatarUrl": "http://i.imgur.com/WUGXS8yb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": ">Players can scroll through their previous input using the up and down arrows, which is better than an AGAIN command in my opinion, and I guess why the command has not been implemented.\r\n\r\nVery true, and I'm with you on using the arrows. Honestly, I didn't even care about it until I began porting my Inform 7 game to Quest. I'm tweaking everything I can find so the player can play with or without a keyboard, which led to this realization: phones and tablets don't have arrow keys. (Well, Android devices don't, at any rate.)\r\n\r\nI'll be posting the port within the week (I hope), and I hope EVERYONE tries their best to poke holes in it so I can patch them all up.\r\n\r\nThe story might not be award-winning material, but it will have all sorts of ways to interact which will (hopefully) come smoothly to those who play parser AND those who prefer to point and click, with no learning curve for anyone. They can get right on down to the map and the puzzles, without learning the mechanics and proper terminology first.\r\n\r\n(It's a small dream, but it's a dream!)\r\n\r\n---\r\nThank again for all the help! (I definitely need it!)",
      "EditableFormat": "markdown",
      "HTML": "<blockquote>\n<p>Players can scroll through their previous input using the up and down arrows, which is better than an AGAIN command in my opinion, and I guess why the command has not been implemented.</p>\n</blockquote>\n<p>Very true, and I'm with you on using the arrows. Honestly, I didn't even care about it until I began porting my Inform 7 game to Quest. I'm tweaking everything I can find so the player can play with or without a keyboard, which led to this realization: phones and tablets don't have arrow keys. (Well, Android devices don't, at any rate.)</p>\n<p>I'll be posting the port within the week (I hope), and I hope EVERYONE tries their best to poke holes in it so I can patch them all up.</p>\n<p>The story might not be award-winning material, but it will have all sorts of ways to interact which will (hopefully) come smoothly to those who play parser AND those who prefer to point and click, with no learning curve for anyone. They can get right on down to the map and the puzzles, without learning the mechanics and proper terminology first.</p>\n<p>(It's a small dream, but it's a dream!)</p>\n<hr>\n<p>Thank again for all the help! (I definitely need it!)</p>\n\n",
      "PostDate": "2017-07-17T09:02:34.1407091Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "c28c8622-6d58-4538-94c1-6108a8193b5d",
      "UserId": 247325,
      "Username": "hegemonkhan",
      "AvatarUrl": "https://secure.gravatar.com/avatar/a96cf34d8d97c57de38f54ee22b1759b?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "however quest 'hooks' to the arrow keys, can be done to 'hook' to other keys (for devices that don't have whatever keys), just need someone who knows how quest does this and understands it, lol. (that's not me! lol)\r\n\r\nAlex and co really made a powerful engine/software with quest, it has a lot of really useful stuff built into it already (beyond the power of the engine itself), though we do have to learn all of that stuff, and how quest works with it, so it's better to use what's already there for us to use and modify/tweak/build-upon it as needed.\r\n\r\nThat said, even if you do whatever stuff, regardless, it's still practice and learning for you, so still always have value, even if there might be easier/better methods/ways/designs out there and/or if it's not needed for its purpose.\r\n\r\n\"re-learning the wheel is useful when you don't understand the wheel in the first place, lol, and if you don't understand the wheel, you can't make/understand more advanced stuff like a wagon/car/etc, lol (HegemonKhan)\"",
      "EditableFormat": "markdown",
      "HTML": "<p>however quest 'hooks' to the arrow keys, can be done to 'hook' to other keys (for devices that don't have whatever keys), just need someone who knows how quest does this and understands it, lol. (that's not me! lol)</p>\n<p>Alex and co really made a powerful engine/software with quest, it has a lot of really useful stuff built into it already (beyond the power of the engine itself), though we do have to learn all of that stuff, and how quest works with it, so it's better to use what's already there for us to use and modify/tweak/build-upon it as needed.</p>\n<p>That said, even if you do whatever stuff, regardless, it's still practice and learning for you, so still always have value, even if there might be easier/better methods/ways/designs out there and/or if it's not needed for its purpose.</p>\n<p>\"re-learning the wheel is useful when you don't understand the wheel in the first place, lol, and if you don't understand the wheel, you can't make/understand more advanced stuff like a wagon/car/etc, lol (HegemonKhan)\"</p>\n\n",
      "PostDate": "2017-07-17T10:51:24.7252947Z",
      "LastEditDate": "2017-07-17T11:00:19.5154737Z",
      "link": null
    },
    {
      "PostId": "e593eb21-d0b4-4348-ac73-b7c595b5a207",
      "UserId": 251335,
      "Username": "Proudly Humble",
      "AvatarUrl": "http://i.imgur.com/BIofNn8b.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Here I am, having often wanted to repeat a command, totally oblivious to using the arrows to reuse previous commands. I've longed for \"g\" (or at least \"again\") in Quest, as I frequently used them in a text adventure app on my old iPad. \r\n\r\nI suspected that a command could be created easily by using some of the stored attributes, but I didn't know exactly which one(s) I needed -- or how to re-execute them. This thread provides the answer!\r\n\r\nSo \"thank you\" to both Richard Headkid and Pixie for your contribution to this thread.",
      "EditableFormat": "markdown",
      "HTML": "<p>Here I am, having often wanted to repeat a command, totally oblivious to using the arrows to reuse previous commands. I've longed for \"g\" (or at least \"again\") in Quest, as I frequently used them in a text adventure app on my old iPad.</p>\n<p>I suspected that a command could be created easily by using some of the stored attributes, but I didn't know exactly which one(s) I needed -- or how to re-execute them. This thread provides the answer!</p>\n<p>So \"thank you\" to both Richard Headkid and Pixie for your contribution to this thread.</p>\n\n",
      "PostDate": "2017-07-30T20:36:27.9376586Z",
      "LastEditDate": null,
      "link": null
    }
  ]
}
