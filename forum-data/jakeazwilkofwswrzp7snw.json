{
  "Topic": {
    "TopicId": "jakeazwilkofwswrzp7snw",
    "ForumId": "10",
    "Title": "Zombie Code Broken Again",
    "LastUpdated": "2017-05-11T21:53:28.0536582Z",
    "ReplyCount": 0
  },
  "Posts": [
    {
      "PostId": "ccdf48ce-f334-4d8e-a3c6-85e2fd2eeda8",
      "UserId": 267336,
      "Username": "jmnevil54",
      "AvatarUrl": "https://secure.gravatar.com/avatar/5d73d7ec1dbe20a5cb46f02a6d53f187?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Has The Pixie gotten some work done?\r\n\r\nSo anyways, I tried making a new functinon, a \"SpawnGhoul\" function. Lo and Behold, I ended up going to where I got the code from, and ended up messing the SpawnZombie function too.\r\n\r\nI keep getting this error message that says it doesn't know what \"CapFirst\" is.\r\n\r\nFunctionCallElement: Could find not function 'CapFirst(Object)'\r\n\r\nLink: http://textadventures.co.uk/games/view/kmwqh7zyrkcrseuqrzuigg/zombie-2",
      "EditableFormat": "markdown",
      "HTML": "<p>Has The Pixie gotten some work done?</p>\n<p>So anyways, I tried making a new functinon, a \"SpawnGhoul\" function. Lo and Behold, I ended up going to where I got the code from, and ended up messing the SpawnZombie function too.</p>\n<p>I keep getting this error message that says it doesn't know what \"CapFirst\" is.</p>\n<p>FunctionCallElement: Could find not function 'CapFirst(Object)'</p>\n<p>Link: http://textadventures.co.uk/games/view/kmwqh7zyrkcrseuqrzuigg/zombie-2</p>\n\n",
      "PostDate": "2017-05-11T21:53:28.0536582Z",
      "LastEditDate": "2017-05-15T00:41:18.2053062Z"
    },
    {
      "PostId": "7b61a30c-58e0-4dd0-b432-6c06540355cd",
      "UserId": 260569,
      "Username": "DarkLizerd",
      "AvatarUrl": "http://i.imgur.com/BXvaaIub.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "\"CapFirst\" takes the text \"this is text.\" and changes it to read \"This is text.\"\r\nit capitalizes the first letter of the first word, sentence style...\r\nYou should be able to drop it without causing any problems...\r\n(personally... the \"help\" documentation needs help!)\r\nhttp://docs.textadventures.co.uk/quest/functions/string/capfirst.html",
      "EditableFormat": "markdown",
      "HTML": "<p>\"CapFirst\" takes the text \"this is text.\" and changes it to read \"This is text.\"<br>\nit capitalizes the first letter of the first word, sentence style...<br>\nYou should be able to drop it without causing any problems...<br>\n(personally... the \"help\" documentation needs help!)<br>\nhttp://docs.textadventures.co.uk/quest/functions/string/capfirst.html</p>\n\n",
      "PostDate": "2017-05-12T03:28:21.4049094Z",
      "LastEditDate": "2017-05-12T03:30:25.0125152Z"
    },
    {
      "PostId": "64d35d45-7e4b-4db5-bdf1-0b8567c78623",
      "UserId": 1346,
      "Username": "The Pixie",
      "AvatarUrl": "https://secure.gravatar.com/avatar/cfa37e927f96177bcf6053ae8f108f77?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Further to DarkLizerd's comment, it sounds like you are using CapFirst wrongly.  The tutorial uses CapFirst with the monster's alias to ensure sentences start with a capital letter, and it should look like this (though it could be \"obj\" or \"defender\" instead of attack)\r\n\r\n```\r\nCapFirst(attacker.alias)\r\n```\r\n\r\nSomewhere, you have CapFirst without the bit afterwards.\r\n\r\nThat said, when I played it, I got a different error:\r\n\r\n> FunctionCallElement: Could find not function 'CapFirst(Object)'\r\n\r\nThat would indicate the alias is not set for the zombie, so you might want to check that in SpawnZombie. If you could paste the code from SpawnZombie we could take a look.",
      "EditableFormat": "markdown",
      "HTML": "<p>Further to DarkLizerd's comment, it sounds like you are using CapFirst wrongly.  The tutorial uses CapFirst with the monster's alias to ensure sentences start with a capital letter, and it should look like this (though it could be \"obj\" or \"defender\" instead of attack)</p>\n<pre><code>CapFirst(attacker.alias)\n</code></pre>\n<p>Somewhere, you have CapFirst without the bit afterwards.</p>\n<p>That said, when I played it, I got a different error:</p>\n<blockquote>\n<p>FunctionCallElement: Could find not function 'CapFirst(Object)'</p>\n</blockquote>\n<p>That would indicate the alias is not set for the zombie, so you might want to check that in SpawnZombie. If you could paste the code from SpawnZombie we could take a look.</p>\n\n",
      "PostDate": "2017-05-12T07:10:28.0710839Z",
      "LastEditDate": "2017-05-12T07:15:07.3540966Z"
    },
    {
      "PostId": "2086ffe9-a92e-46b6-8209-4a00a26ef9ae",
      "UserId": 267336,
      "Username": "jmnevil54",
      "AvatarUrl": "https://secure.gravatar.com/avatar/5d73d7ec1dbe20a5cb46f02a6d53f187?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "@The Pixie Yeah, that's the same error I got. I'll take a look at it.",
      "EditableFormat": "markdown",
      "HTML": "<p>@The Pixie Yeah, that's the same error I got. I'll take a look at it.</p>\n\n",
      "PostDate": "2017-05-15T00:42:35.8349357Z",
      "LastEditDate": null
    },
    {
      "PostId": "b16e5025-f42b-42d8-be7f-56c233883d64",
      "UserId": 267336,
      "Username": "jmnevil54",
      "AvatarUrl": "https://secure.gravatar.com/avatar/5d73d7ec1dbe20a5cb46f02a6d53f187?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Strange. The code says \"CapFirst(obj.alias)\" but the game says:\r\nError running script: Error compiling expression 'CapFirst(attacker.alias) + \" attack \" + target.alias + \" and hit (\" + damage + \" hits).\"': FunctionCallElement: Could find not function 'CapFirst(Object)'\r\nDoAttack has 'CapFirst(attacker.alias) though.\r\n\r\nMight as well take a look at the code.\r\n\r\nZombie:\r\nif (HasInt(game, \"crittercount\")) {\r\n  game.crittercount = game.crittercount + 1\r\n}\r\nelse {\r\n  game.crittercount = 1\r\n}\r\ncreate (\"crittercount\" + game.crittercount)\r\nobj = GetObject(\"crittercount\" + game.crittercount)\r\nobj.parent = room\r\nobj.displayverbs = Split(\"Look at;Attack;Shoot\", \";\")\r\nobj.dead = false\r\nobj.changedhitpoints => {\r\n  if (this.hitpoints < 1) {\r\n    msg (\"It is dead!\")\r\n    this.dead = true\r\n    player.exp = player.exp + 20\r\n    love\r\n  }\r\n}\r\nnames = Split (\"decipit;decomposing;shambling;disgusting;filthy;falling-apart\", \";\")\r\nobj.alias = StringListItem (names, game.crittercount % ListCount(names)) + \" zombie\"\r\nobj.listalias = CapFirst(obj.alias)\r\nobj.look = ProcessText(\"A \" + obj.alias + \", {random:covered in maggots:missing an arm:one eye hanging out}.\")\r\nobj.hitpoints = 8\r\nobj.damage = 2\r\nobj.attack = 0\r\nobj.defence = 0\r\nobj.armour = 0\r\n\r\n\r\nDoAttack\r\nif (firearm) {\r\n  damageatt = \"firearmdamage\"\r\n  attackatt = \"firearmattack\"\r\n  weapon.ammo = weapon.ammo - 1\r\n}\r\nelse {\r\n  damageatt = \"damage\"\r\n  attackatt = \"attack\"\r\n}\r\nroll = GetRandomInt(1, 20) + GetInt(weapon, attackatt) - target.defence\r\nif (HasInt(weapon, damageatt)) {\r\n  damage = GetInt(weapon, damageatt)\r\n}\r\nelse {\r\n  damage = DiceRoll(GetString(weapon, damageatt))\r\n}\r\ndamage = damage * (100 - target.armour) / 100\r\nif (damage < 1) {\r\n  damage = 1\r\n}\r\nif (roll > 15) {\r\n  damage = damage * 3\r\n  msg (CapFirst(attacker.alias) + \" attack \" + target.alias + \" and get a critical (\" + damage + \" hits)!\")\r\n  target.hitpoints = target.hitpoints - damage\r\n}\r\nelse if (roll > 4) {\r\n  msg (CapFirst(attacker.alias) + \" attack \" + target.alias + \" and hit (\" + damage + \" hits).\")\r\n  target.hitpoints = target.hitpoints - damage\r\n}\r\nelse {\r\n  msg (CapFirst(attacker.alias) + \" attack \" + target.alias + \" and miss...\")\r\n}",
      "EditableFormat": "markdown",
      "HTML": "<p>Strange. The code says \"CapFirst(obj.alias)\" but the game says:<br>\nError running script: Error compiling expression 'CapFirst(attacker.alias) + \" attack \" + target.alias + \" and hit (\" + damage + \" hits).\"': FunctionCallElement: Could find not function 'CapFirst(Object)'<br>\nDoAttack has 'CapFirst(attacker.alias) though.</p>\n<p>Might as well take a look at the code.</p>\n<p>Zombie:<br>\nif (HasInt(game, \"crittercount\")) {<br>\ngame.crittercount = game.crittercount + 1<br>\n}<br>\nelse {<br>\ngame.crittercount = 1<br>\n}<br>\ncreate (\"crittercount\" + game.crittercount)<br>\nobj = GetObject(\"crittercount\" + game.crittercount)<br>\nobj.parent = room<br>\nobj.displayverbs = Split(\"Look at;Attack;Shoot\", \";\")<br>\nobj.dead = false<br>\nobj.changedhitpoints =&gt; {<br>\nif (this.hitpoints &lt; 1) {<br>\nmsg (\"It is dead!\")<br>\nthis.dead = true<br>\nplayer.exp = player.exp + 20<br>\nlove<br>\n}<br>\n}<br>\nnames = Split (\"decipit;decomposing;shambling;disgusting;filthy;falling-apart\", \";\")<br>\nobj.alias = StringListItem (names, game.crittercount % ListCount(names)) + \" zombie\"<br>\nobj.listalias = CapFirst(obj.alias)<br>\nobj.look = ProcessText(\"A \" + obj.alias + \", {random:covered in maggots:missing an arm:one eye hanging out}.\")<br>\nobj.hitpoints = 8<br>\nobj.damage = 2<br>\nobj.attack = 0<br>\nobj.defence = 0<br>\nobj.armour = 0</p>\n<p>DoAttack<br>\nif (firearm) {<br>\ndamageatt = \"firearmdamage\"<br>\nattackatt = \"firearmattack\"<br>\nweapon.ammo = weapon.ammo - 1<br>\n}<br>\nelse {<br>\ndamageatt = \"damage\"<br>\nattackatt = \"attack\"<br>\n}<br>\nroll = GetRandomInt(1, 20) + GetInt(weapon, attackatt) - target.defence<br>\nif (HasInt(weapon, damageatt)) {<br>\ndamage = GetInt(weapon, damageatt)<br>\n}<br>\nelse {<br>\ndamage = DiceRoll(GetString(weapon, damageatt))<br>\n}<br>\ndamage = damage * (100 - target.armour) / 100<br>\nif (damage &lt; 1) {<br>\ndamage = 1<br>\n}<br>\nif (roll &gt; 15) {<br>\ndamage = damage * 3<br>\nmsg (CapFirst(attacker.alias) + \" attack \" + target.alias + \" and get a critical (\" + damage + \" hits)!\")<br>\ntarget.hitpoints = target.hitpoints - damage<br>\n}<br>\nelse if (roll &gt; 4) {<br>\nmsg (CapFirst(attacker.alias) + \" attack \" + target.alias + \" and hit (\" + damage + \" hits).\")<br>\ntarget.hitpoints = target.hitpoints - damage<br>\n}<br>\nelse {<br>\nmsg (CapFirst(attacker.alias) + \" attack \" + target.alias + \" and miss...\")<br>\n}</p>\n\n",
      "PostDate": "2017-05-15T00:50:12.5978871Z",
      "LastEditDate": "2017-05-15T00:51:58.0916399Z"
    },
    {
      "PostId": "2bbf656c-6499-47f5-a1bf-8b045180a959",
      "UserId": 1346,
      "Username": "The Pixie",
      "AvatarUrl": "https://secure.gravatar.com/avatar/cfa37e927f96177bcf6053ae8f108f77?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "The DoAttack function needs to have three parameters, \"attacker\", \"weapon\" and \"target\" (without quotes). I would guess \"attacker\" is either missing or mis-spelled.",
      "EditableFormat": "markdown",
      "HTML": "<p>The DoAttack function needs to have three parameters, \"attacker\", \"weapon\" and \"target\" (without quotes). I would guess \"attacker\" is either missing or mis-spelled.</p>\n\n",
      "PostDate": "2017-05-15T07:07:39.3061598Z",
      "LastEditDate": null
    },
    {
      "PostId": "054b7c9f-751f-46c1-8778-954ba2aa7e2c",
      "UserId": 267336,
      "Username": "jmnevil54",
      "AvatarUrl": "https://secure.gravatar.com/avatar/5d73d7ec1dbe20a5cb46f02a6d53f187?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Nah. I think the game just broke somehow. Is your's working too?",
      "EditableFormat": "markdown",
      "HTML": "<p>Nah. I think the game just broke somehow. Is your's working too?</p>\n\n",
      "PostDate": "2017-05-15T18:33:28.12638Z",
      "LastEditDate": null
    },
    {
      "PostId": "158584fd-25a6-462b-9a33-869db804a030",
      "UserId": 267336,
      "Username": "jmnevil54",
      "AvatarUrl": "https://secure.gravatar.com/avatar/5d73d7ec1dbe20a5cb46f02a6d53f187?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Nevermind, I got it. The parameters needed to be in a certain order, for some reason.",
      "EditableFormat": "markdown",
      "HTML": "<p>Nevermind, I got it. The parameters needed to be in a certain order, for some reason.</p>\n\n",
      "PostDate": "2017-05-16T22:19:15.561478Z",
      "LastEditDate": null
    },
    {
      "PostId": "972aa4a2-638c-4cf4-b3ef-39ae37c896a5",
      "UserId": 260569,
      "Username": "DarkLizerd",
      "AvatarUrl": "http://i.imgur.com/BXvaaIub.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Darn computer code!!! Always wanting things a certain way, in a certain order, and with the correct case!!!\r\n:)\r\n",
      "EditableFormat": "markdown",
      "HTML": "<p>Darn computer code!!! Always wanting things a certain way, in a certain order, and with the correct case!!!<br>\n:)</p>\n\n",
      "PostDate": "2017-05-17T02:22:40.4723016Z",
      "LastEditDate": null
    },
    {
      "PostId": "d4d79674-04b6-4dbb-89c7-192adfeb2e28",
      "UserId": 267336,
      "Username": "jmnevil54",
      "AvatarUrl": "https://secure.gravatar.com/avatar/5d73d7ec1dbe20a5cb46f02a6d53f187?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": ":)",
      "EditableFormat": "markdown",
      "HTML": "<p>:)</p>\n\n",
      "PostDate": "2017-05-17T02:33:28.8008924Z",
      "LastEditDate": null
    }
  ]
}
