{
  "Topic": {
    "TopicId": "4227",
    "ForumId": "10",
    "Title": "Key Not In Dictionary",
    "LastUpdated": "2014-03-11T02:39:16+00:00",
    "ReplyCount": 1
  },
  "Posts": [
    {
      "PostId": "28104",
      "UserId": 0,
      "Username": "cybernetsurfer7",
      "UserAvatar": "6978_1393092591.jpg",
      "UserGravatar": "c9692eeb1a6b9318315707773d5d6972",
      "EditableText": "Hello, I'm trying to create a switch statement to simulate a conversation.  Normally it works just fine because the previous possibilities are removed after choosing one.  However, they are not removed on the mobile version.  I can fix this by setting a case for when the result of the choice is not in the dictionary.  Then it would just say you've already talked about that.  But I can't figure out how to set that up.  Here's the code:\n\n[code:3df3dqqq]ShowMenu (&quot;Talk Options&quot;, IntroDanyel&#46;talkTopics, false) {\n  switch (result) {\n    case (1) {\n      msg (&quot;Topic 1, OK!&lt;br/&gt;&quot;)\n      dictionary remove (IntroDanyel&#46;talkTopics, &quot;1&quot;)\n      IntroDanyel&#46;talkRemaining = IntroDanyel&#46;talkRemaining - 1\n    }\n    case (2) {\n      msg (&quot;Topic 2, OK!&lt;br/&gt;&quot;)\n      dictionary remove (IntroDanyel&#46;talkTopics, &quot;2&quot;)\n      IntroDanyel&#46;talkRemaining = IntroDanyel&#46;talkRemaining - 1\n      dictionary add (IntroDanyel&#46;talkTopics, &quot;4&quot;, &quot;Topic 4&quot;)\n      IntroDanyel&#46;talkRemaining = IntroDanyel&#46;talkRemaining + 1\n    }\n    case (4) {\n      msg (&quot;Topic 4, OK!&lt;br/&gt;&quot;)\n      dictionary remove (IntroDanyel&#46;talkTopics, &quot;4&quot;)\n      IntroDanyel&#46;talkRemaining = IntroDanyel&#46;talkRemaining - 1\n      dictionary add (IntroDanyel&#46;talkTopics, &quot;5&quot;, &quot;Topic 5&quot;)\n      IntroDanyel&#46;talkRemaining = IntroDanyel&#46;talkRemaining + 1\n    }\n    case (5) {\n      msg (&quot;Topic 5, OK!&lt;br/&gt;&quot;)\n      dictionary remove (IntroDanyel&#46;talkTopics, &quot;5&quot;)\n      IntroDanyel&#46;talkRemaining = IntroDanyel&#46;talkRemaining - 1\n    }\n    case (6) {\n      msg (&quot;Topic 6, OK!&lt;br/&gt;&quot;)\n      dictionary remove (IntroDanyel&#46;talkTopics, &quot;6&quot;)\n      IntroDanyel&#46;talkRemaining = IntroDanyel&#46;talkRemaining - 1\n    }\n    case (999) {\n      msg (&quot;Exit Convo, OK!&lt;br/&gt;&quot;)\n      MoveObject (player, LivingRoom)\n      IntroDanyel&#46;leaving = true\n    }\n   case (null) {\n      msg (&quot;You've already talked about that&quot;)\n    }\n  }\n  if (IntroDanyel&#46;talkRemaining  &gt;  0) {\n    DanyelTalk1\n  }\n  else if (IntroDanyel&#46;leaving = true) {\n    IntroDanyel&#46;leaving = false\n  }\n  else {\n    if (DictionaryContains(IntroDanyel&#46;talkTopics, &quot;999&quot;) &lt;&gt; true) {\n      dictionary add (IntroDanyel&#46;talkTopics, &quot;999&quot;, &quot;Exit Convo&quot;)\n    }\n    DanyelTalk1\n  }\n}[/code:3df3dqqq]\n\nEDIT:  I thought I could add an if statement at the beginning to first see if the result was in the dictionary.  That works, but then still causes an error.  I'll poke at it some more.\n\nEDIT AGAIN:  I needed to call the show menu function again.  It's not a totally ideal situation, but it works.",
      "EditableFormat": "bbcode",
      "HTML": "Hello, I'm trying to create a switch statement to simulate a conversation.  Normally it works just fine because the previous possibilities are removed after choosing one.  However, they are not removed on the mobile version.  I can fix this by setting a case for when the result of the choice is not in the dictionary.  Then it would just say you've already talked about that.  But I can't figure out how to set that up.  Here's the code:<br/><br/><pre><code>ShowMenu (&quot;Talk Options&quot;, IntroDanyel&#46;talkTopics, false) {<br/>  switch (result) {<br/>    case (1) {<br/>      msg (&quot;Topic 1, OK!&lt;br/&gt;&quot;)<br/>      dictionary remove (IntroDanyel&#46;talkTopics, &quot;1&quot;)<br/>      IntroDanyel&#46;talkRemaining = IntroDanyel&#46;talkRemaining - 1<br/>    }<br/>    case (2) {<br/>      msg (&quot;Topic 2, OK!&lt;br/&gt;&quot;)<br/>      dictionary remove (IntroDanyel&#46;talkTopics, &quot;2&quot;)<br/>      IntroDanyel&#46;talkRemaining = IntroDanyel&#46;talkRemaining - 1<br/>      dictionary add (IntroDanyel&#46;talkTopics, &quot;4&quot;, &quot;Topic 4&quot;)<br/>      IntroDanyel&#46;talkRemaining = IntroDanyel&#46;talkRemaining + 1<br/>    }<br/>    case (4) {<br/>      msg (&quot;Topic 4, OK!&lt;br/&gt;&quot;)<br/>      dictionary remove (IntroDanyel&#46;talkTopics, &quot;4&quot;)<br/>      IntroDanyel&#46;talkRemaining = IntroDanyel&#46;talkRemaining - 1<br/>      dictionary add (IntroDanyel&#46;talkTopics, &quot;5&quot;, &quot;Topic 5&quot;)<br/>      IntroDanyel&#46;talkRemaining = IntroDanyel&#46;talkRemaining + 1<br/>    }<br/>    case (5) {<br/>      msg (&quot;Topic 5, OK!&lt;br/&gt;&quot;)<br/>      dictionary remove (IntroDanyel&#46;talkTopics, &quot;5&quot;)<br/>      IntroDanyel&#46;talkRemaining = IntroDanyel&#46;talkRemaining - 1<br/>    }<br/>    case (6) {<br/>      msg (&quot;Topic 6, OK!&lt;br/&gt;&quot;)<br/>      dictionary remove (IntroDanyel&#46;talkTopics, &quot;6&quot;)<br/>      IntroDanyel&#46;talkRemaining = IntroDanyel&#46;talkRemaining - 1<br/>    }<br/>    case (999) {<br/>      msg (&quot;Exit Convo, OK!&lt;br/&gt;&quot;)<br/>      MoveObject (player, LivingRoom)<br/>      IntroDanyel&#46;leaving = true<br/>    }<br/>   case (null) {<br/>      msg (&quot;You've already talked about that&quot;)<br/>    }<br/>  }<br/>  if (IntroDanyel&#46;talkRemaining  &gt;  0) {<br/>    DanyelTalk1<br/>  }<br/>  else if (IntroDanyel&#46;leaving = true) {<br/>    IntroDanyel&#46;leaving = false<br/>  }<br/>  else {<br/>    if (DictionaryContains(IntroDanyel&#46;talkTopics, &quot;999&quot;) &lt;&gt; true) {<br/>      dictionary add (IntroDanyel&#46;talkTopics, &quot;999&quot;, &quot;Exit Convo&quot;)<br/>    }<br/>    DanyelTalk1<br/>  }<br/>}</code></pre><br/><br/>EDIT:  I thought I could add an if statement at the beginning to first see if the result was in the dictionary.  That works, but then still causes an error.  I'll poke at it some more.<br/><br/>EDIT AGAIN:  I needed to call the show menu function again.  It's not a totally ideal situation, but it works.",
      "PostDate": "2014-03-10T20:30:03+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "28110",
      "UserId": 0,
      "Username": "HegemonKhan",
      "UserAvatar": null,
      "UserGravatar": "a96cf34d8d97c57de38f54ee22b1759b",
      "EditableText": "I don't use thus don't know about the mobile version, so I don't know what needs to be done (aka what type of workaround you need) for it to work for you.\n\n------\n\nthough if you want to look at some code design methods of doing topics~events and removing~adding them as you select them, you can take a look at some of my works:\n\n(see the ~ last posts of this thread: <!-- l --><a class=\"postlink-local\" href=\"http://forum.textadventures.co.uk/viewtopic.php?f=10&amp;t=4224\">viewtopic.php?f=10&amp;t=4224</a><!-- l --> )\n\nmy method is to use a List (String~Object) with a Dictionary (String~Object~Script), using &quot;string comparison&quot; (List's item String = Dictionary's item key String), to whether it activates the corresponding Dictionary's Value\n\nthus, I can keep my Dictionary as a &quot;database&quot; for being &quot;called upon&quot; by the List.\n\nalternating the List, for what can be activated in the dictionary, for (conceptual) example:\n\nString List:\n(1) dragon\n(2) sword\n(3) princess\n\nScript dictionary:\ndragon = msg (&quot;d for dragon&quot;)\nsword = msg (&quot;s for sword&quot;)\nprincess = msg (&quot;p for princess&quot;)\n\nif (String List's String of &quot;dragon&quot; = Script Dictionary's String of &quot;dragon&quot;), then run the corresponding script&#058; msg (&quot;d for dragon&quot;)\n\nwell, what if I removed, &quot;dragon&quot;, from the string list?\n\nmy &quot;database&quot; Script Dictionary is still intact, and also, I've eliminated the ' msg (&quot;d for dragon&quot;) ' from running again. I've only altered my string list, which can be easily and quickly altered back to having &quot;dragon&quot; again.\n\nanyways, here's two game codings of mine (though the &quot;topic&quot; game code doesn't have the list item removal code lines in it) that you can play around with (my &quot;explore and travel&quot; game code has all the elements that you want):\n\n&quot;Explore and Travel&quot; Game Code:\n\n[code:2kxvptrt]&lt;asl version=&quot;540&quot;&gt;\n  &lt;include ref=&quot;English&#46;aslx&quot; /&gt;\n  &lt;include ref=&quot;Core&#46;aslx&quot; /&gt;\n  &lt;game name=&quot;Testing Game Stuff&quot;&gt;\n    &lt;gameid&gt;eef801a1-4e6b-4b0a-bdbf-8f3ecfa8389c&lt;/gameid&gt;\n    &lt;version&gt;1&#46;0&lt;/version&gt;\n    &lt;firstpublished&gt;2013&lt;/firstpublished&gt;\n    &lt;turns type=&quot;int&quot;&gt;0&lt;/turns&gt;\n    &lt;statusattributes type=&quot;simplestringdictionary&quot;&gt;turns=&lt;/statusattributes&gt;\n\t&lt;start type=&quot;script&quot;&gt;\n\t  msg (&quot;Important Note&#58;&quot;)\n\t  msg (&quot;Type in&#58; help&quot;)\n\t&lt;/start&gt;\n  &lt;/game&gt;\n  &lt;object name=&quot;homeland&quot;&gt;\n    &lt;inherit name=&quot;editor_room&quot; /&gt;\n    &lt;object name=&quot;player&quot;&gt;\n      &lt;inherit name=&quot;editor_object&quot; /&gt;\n      &lt;inherit name=&quot;editor_player&quot; /&gt;\n    &lt;/object&gt;\n  &lt;/object&gt;\n  &lt;object name=&quot;grassland&quot;&gt;\n    &lt;inherit name=&quot;editor_room&quot; /&gt;\n  &lt;/object&gt;\n  &lt;object name=&quot;plains&quot;&gt;\n    &lt;inherit name=&quot;editor_room&quot; /&gt;\n  &lt;/object&gt;\n  &lt;object name=&quot;desert&quot;&gt;\n    &lt;inherit name=&quot;editor_room&quot; /&gt;\n  &lt;/object&gt;\n  &lt;object name=&quot;tundra&quot;&gt;\n    &lt;inherit name=&quot;editor_room&quot; /&gt;\n  &lt;/object&gt;\n  &lt;object name=&quot;swampland&quot;&gt;\n    &lt;inherit name=&quot;editor_room&quot; /&gt;\n  &lt;/object&gt;\n  &lt;object name=&quot;mountains&quot;&gt;\n    &lt;inherit name=&quot;editor_room&quot; /&gt;\n  &lt;/object&gt;\n  &lt;object name=&quot;forest&quot;&gt;\n    &lt;inherit name=&quot;editor_room&quot; /&gt;\n  &lt;/object&gt;\n  &lt;object name=&quot;wasteland&quot;&gt;\n    &lt;inherit name=&quot;editor_room&quot; /&gt;\n  &lt;/object&gt;\n  &lt;object name=&quot;coastland&quot;&gt;\n    &lt;inherit name=&quot;editor_room&quot; /&gt;\n  &lt;/object&gt;\n  &lt;object name=&quot;hills&quot;&gt;\n    &lt;inherit name=&quot;editor_room&quot; /&gt;\n  &lt;/object&gt;\n  &lt;command name=&quot;help_command&quot;&gt;\n    &lt;pattern&gt;help&lt;/pattern&gt;\n\t&lt;script&gt;\n\t  help_function\n\t&lt;/script&gt;\n  &lt;/command&gt;\n  &lt;command name=&quot;explore_command&quot;&gt;\n    &lt;pattern&gt;explore&lt;/pattern&gt;\n    &lt;script&gt;\n      explore_function\n    &lt;/script&gt;\n  &lt;/command&gt;\n  &lt;command name=&quot;travel_command&quot;&gt;\n    &lt;pattern&gt;travel&lt;/pattern&gt;\n\t&lt;script&gt;\n\t  travel_function\n\t&lt;/script&gt;\n  &lt;/command&gt;\n  &lt;object name=&quot;data_object&quot;&gt;\n    &lt;inherit name=&quot;editor_object&quot; /&gt;\n\t&lt;travel_string_list type=&quot;simplestringlist&quot;&gt;homeland&lt;/travel_string_list&gt;\n    &lt;homeland_events_string_list type=&quot;simplestringlist&quot;&gt;grassland_discovery;plains_discovery;desert_discovery;tundra_discovery;swampland_discovery;forest_discovery;mountains_discovery;hills_discovery;wasteland_discovery;coastland_discovery&lt;/homeland_events_string_list&gt;\n    &lt;homeland_events_script_dictionary type=&quot;scriptdictionary&quot;&gt;\n\t  &lt;item key=&quot;grassland_discovery&quot;&gt;\n\t    list add (data_object&#46;travel_string_list, &quot;grassland&quot;)\n\t\tmsg (&quot;You've discovered the grassland! Now, you can travel to the grassland and explore it!&quot;)\n\t  &lt;/item&gt;\n\t  &lt;item key=&quot;plains_discovery&quot;&gt;\n\t    list add (data_object&#46;travel_string_list, &quot;plains&quot;)\n\t\tmsg (&quot;You've discovered the plains! Now, you can travel to the plains and explore it!&quot;)\n\t  &lt;/item&gt;\n\t  &lt;item key=&quot;desert_discovery&quot;&gt;\n\t    list add (data_object&#46;travel_string_list, &quot;desert&quot;)\n\t\tmsg (&quot;You've discovered the desert! Now, you can travel to the desert and explore it!&quot;)\n\t  &lt;/item&gt;\n\t  &lt;item key=&quot;tundra_discovery&quot;&gt;\n\t    list add (data_object&#46;travel_string_list, &quot;tundra&quot;)\n\t\tmsg (&quot;You've discovered the tundra! Now, you can travel to the tundra and explore it!&quot;)\n\t  &lt;/item&gt;\n\t  &lt;item key=&quot;swampland_discovery&quot;&gt;\n\t    list add (data_object&#46;travel_string_list, &quot;swampland&quot;)\n\t\tmsg (&quot;You've discovered the swampland! Now, you can travel to the swampland and explore it!&quot;)\n\t  &lt;/item&gt;\n\t  &lt;item key=&quot;forest_discovery&quot;&gt;\n\t    list add (data_object&#46;travel_string_list, &quot;forest&quot;)\n\t\tmsg (&quot;You've discovered the forest! Now, you can travel to the forest and explore it!&quot;)\n\t  &lt;/item&gt;\n\t  &lt;item key=&quot;mountains_discovery&quot;&gt;\n\t    list add (data_object&#46;travel_string_list, &quot;mountains&quot;)\n\t\tmsg (&quot;You've discovered the mountains! Now, you can travel to the mountains and explore it!&quot;)\n\t  &lt;/item&gt;\n\t  &lt;item key=&quot;hills_discovery&quot;&gt;\n\t    list add (data_object&#46;travel_string_list, &quot;hills&quot;)\n\t\tmsg (&quot;You've discovered the hills! Now, you can travel to the hills and explore it!&quot;)\n\t  &lt;/item&gt;\n\t  &lt;item key=&quot;wasteland_discovery&quot;&gt;\n\t    list add (data_object&#46;travel_string_list, &quot;wasteland&quot;)\n\t\tmsg (&quot;You've discovered the wasteland! Now, you can travel to the wasteland and explore it!&quot;)\n\t  &lt;/item&gt;\n\t  &lt;item key=&quot;coastland_discovery&quot;&gt;\n\t    list add (data_object&#46;travel_string_list, &quot;coastland&quot;)\n\t\tmsg (&quot;You've discovered the coastland! Now, you can travel to the coastland and explore it!&quot;)\n\t  &lt;/item&gt;\n\t&lt;/homeland_events_script_dictionary&gt;\n  &lt;/object&gt;\n  &lt;turnscript name=&quot;global_turnscript&quot;&gt;\n    &lt;enabled /&gt;\n    &lt;script&gt;\n      game&#46;turns = game&#46;turns + 1\n    &lt;/script&gt;\n  &lt;/turnscript&gt;\n  &lt;function name=&quot;help_function&quot;&gt;\n    msg (&quot;Type 'explore' to explore your area&#46;&quot;)\n\tmsg (&quot;Type 'travel' to travel to different areas&#46;&quot;)\n  &lt;/function&gt;\n  &lt;function name=&quot;explore_function&quot;&gt;&lt;!&#91;CDATA&#91;\n    switch (game&#46;pov&#46;parent) {\n\t  case (homeland) {\n\t\tresult_1 = ListCount (data_object&#46;homeland_events_string_list) - 1\n\t\tif (result_1 &gt;= 0) {\n          result_2 = StringListItem (data_object&#46;homeland_events_string_list,GetRandomInt(0,result_1))\n          invoke (ScriptDictionaryItem (data_object&#46;homeland_events_script_dictionary,result_2))\n\t\t  on ready {\n\t\t    foreach (item_x, split (&quot;grassland_discovery;plains_discovery;desert_discovery;tundra_discovery;swampland_discovery;forest_discovery;mountains_discovery;hills_discovery;wasteland_discovery;coastland_discovery&quot;,&quot;;&quot;)) {\n\t\t      if (result_2 = item_x) {\n\t\t\t    list remove (data_object&#46;homeland_events_string_list, result_2)\n\t\t\t  }\n\t\t\t}\n\t\t  }\n\t\t} else {\n\t\t  msg (&quot;There seemingly is nothing left to explore in this area&#46;&quot;)\n\t\t}\n\t  }\n    }\n  &#93;&#93;&gt;&lt;/function&gt;\n  &lt;function name=&quot;travel_function&quot;&gt;\n    show menu (&quot;Where do you wish to travel?&quot;,data_object&#46;travel_string_list,false) {\n\t  if (not game&#46;pov&#46;parent = GetObject (result)) {\n\t    game&#46;pov&#46;parent = GetObject (result)\n\t  } else {\n\t    msg (&quot;You are already at this area&#46;&quot;)\n\t\task (&quot;Try again?&quot;) {\n\t\t  if (result=true) {\n\t\t    travel_function\n\t\t  } else {\n\t\t    msg (&quot;You realize that you need to discover a new area to travel to first, before you can travel to that place&#46;&quot;)\n\t\t  }\n\t\t}\n\t  }\n\t}\n  &lt;/function&gt;\n&lt;/asl&gt;[/code:2kxvptrt]\n\n&quot;Topics&quot; Game Code:\n\n(missing the code lines for removing a topic choice, as that's not what I wanted to occur for this test of code design)\n\n[code:2kxvptrt]&lt;asl version=&quot;540&quot;&gt;\n  &lt;include ref=&quot;English&#46;aslx&quot; /&gt;\n  &lt;include ref=&quot;Core&#46;aslx&quot; /&gt;\n  &lt;game name=&quot;Testing Game Stuff&quot;&gt;\n    &lt;gameid&gt;d67ec73f-f879-4911-9d88-c02ea527c534&lt;/gameid&gt;\n    &lt;version&gt;1&#46;0&lt;/version&gt;\n    &lt;firstpublished&gt;2013&lt;/firstpublished&gt;\n  &lt;/game&gt;\n  &lt;object name=&quot;room&quot;&gt;\n    &lt;inherit name=&quot;editor_room&quot; /&gt;\n    &lt;object name=&quot;player&quot;&gt;\n      &lt;inherit name=&quot;editor_object&quot; /&gt;\n      &lt;inherit name=&quot;editor_player&quot; /&gt;\n    &lt;/object&gt;\n    &lt;object name=&quot;wise_owl_npc&quot;&gt;\n      &lt;inherit name=&quot;editor_object&quot; /&gt;\n      &lt;alias&gt;Wise Owl&lt;/alias&gt;\n      &lt;displayverbs type=&quot;stringlist&quot;&gt;\n        &lt;value&gt;Inquire&lt;/value&gt;\n      &lt;/displayverbs&gt;\n      &lt;inquire type=&quot;script&quot;&gt;\n        show menu (&quot;What do you wish to inquire about?&quot;, global_data_object&#46;inquire_topics_string_list, false) {\n\t\t  invoke (ScriptDictionaryItem (global_data_object&#46;inquire_topics_script_dictionary, result))\n\t\t}\n      &lt;/inquire&gt;\n    &lt;/object&gt;\n  &lt;/object&gt;\n  &lt;object name=&quot;global_data_object&quot;&gt;\n    &lt;inherit name=&quot;editor_object&quot; /&gt;\n    &lt;inquire_topics_string_list type=&quot;stringlist&quot;&gt;\n      &lt;value&gt;princess&lt;/value&gt;\n      &lt;value&gt;sword&lt;/value&gt;\n      &lt;value&gt;dragon&lt;/value&gt;\n    &lt;/inquire_topics_string_list&gt;\n    &lt;dragon_topics_string_list type=&quot;stringlist&quot;&gt;\n      &lt;value&gt;weakness&lt;/value&gt;\n      &lt;value&gt;location&lt;/value&gt;\n    &lt;/dragon_topics_string_list&gt;\n    &lt;inquire_topics_script_dictionary type=&quot;scriptdictionary&quot;&gt;\n      &lt;item key=&quot;princess&quot;&gt;\n        msg (&quot;The princess has been captured by the dragon&#46; Rescue her, and the King will wed thee to her, as his heir to his throne and kingdom! You'll become the new king of this land!&quot;)\n      &lt;/item&gt;\n      &lt;item key=&quot;sword&quot;&gt;\n        msg (&quot;Ah the legendary dragon slayer sword, magically forged&#46;&#46;&#46; and guarded by a powerful sorcerer&#46;&#46;&#46;&quot;)\n      &lt;/item&gt;\n      &lt;item key=&quot;dragon&quot;&gt;\n        show menu (&quot;What about the dragon do you wish to know?&quot;, global_data_object&#46;dragon_topics_string_list, false) {\n          invoke (ScriptDictionaryItem (global_data_object&#46;inquire_topics_script_dictionary, result))\n        }\n      &lt;/item&gt;\n      &lt;item key=&quot;weakness&quot;&gt;\n        msg (&quot;Only the legendary dragon slayer sword can pierce its adamantium scales and thus kill it&quot;)\n      &lt;/item&gt;\n      &lt;item key=&quot;location&quot;&gt;\n        msg (&quot;within the volcano in the lava scorched wasteland far to the eastern edge of this world&quot;)\n      &lt;/item&gt;\n    &lt;/inquire_topics_script_dictionary&gt;\n  &lt;/object&gt;\n  &lt;verb name=&quot;inquire&quot;&gt;\n    &lt;property&gt;inquire&lt;/property&gt;\n    &lt;pattern&gt;Inquire&lt;/pattern&gt;\n  &lt;/verb&gt;\n&lt;/asl&gt;[/code:2kxvptrt]",
      "EditableFormat": "bbcode",
      "HTML": "I don't use thus don't know about the mobile version, so I don't know what needs to be done (aka what type of workaround you need) for it to work for you.<br/><br/>------<br/><br/>though if you want to look at some code design methods of doing topics~events and removing~adding them as you select them, you can take a look at some of my works:<br/><br/>(see the ~ last posts of this thread: <!-- l --><a class=\"postlink-local\" href=\"http://forum.textadventures.co.uk/viewtopic.php?f=10&amp;t=4224\">viewtopic.php?f=10&amp;t=4224</a><!-- l --> )<br/><br/>my method is to use a List (String~Object) with a Dictionary (String~Object~Script), using &quot;string comparison&quot; (List's item String = Dictionary's item key String), to whether it activates the corresponding Dictionary's Value<br/><br/>thus, I can keep my Dictionary as a &quot;database&quot; for being &quot;called upon&quot; by the List.<br/><br/>alternating the List, for what can be activated in the dictionary, for (conceptual) example:<br/><br/>String List:<br/>(1) dragon<br/>(2) sword<br/>(3) princess<br/><br/>Script dictionary:<br/>dragon = msg (&quot;d for dragon&quot;)<br/>sword = msg (&quot;s for sword&quot;)<br/>princess = msg (&quot;p for princess&quot;)<br/><br/>if (String List's String of &quot;dragon&quot; = Script Dictionary's String of &quot;dragon&quot;), then run the corresponding script&#058; msg (&quot;d for dragon&quot;)<br/><br/>well, what if I removed, &quot;dragon&quot;, from the string list?<br/><br/>my &quot;database&quot; Script Dictionary is still intact, and also, I've eliminated the ' msg (&quot;d for dragon&quot;) ' from running again. I've only altered my string list, which can be easily and quickly altered back to having &quot;dragon&quot; again.<br/><br/>anyways, here's two game codings of mine (though the &quot;topic&quot; game code doesn't have the list item removal code lines in it) that you can play around with (my &quot;explore and travel&quot; game code has all the elements that you want):<br/><br/>&quot;Explore and Travel&quot; Game Code:<br/><br/><pre><code>&lt;asl version=&quot;540&quot;&gt;<br/>  &lt;include ref=&quot;English&#46;aslx&quot; /&gt;<br/>  &lt;include ref=&quot;Core&#46;aslx&quot; /&gt;<br/>  &lt;game name=&quot;Testing Game Stuff&quot;&gt;<br/>    &lt;gameid&gt;eef801a1-4e6b-4b0a-bdbf-8f3ecfa8389c&lt;/gameid&gt;<br/>    &lt;version&gt;1&#46;0&lt;/version&gt;<br/>    &lt;firstpublished&gt;2013&lt;/firstpublished&gt;<br/>    &lt;turns type=&quot;int&quot;&gt;0&lt;/turns&gt;<br/>    &lt;statusattributes type=&quot;simplestringdictionary&quot;&gt;turns=&lt;/statusattributes&gt;<br/>\t&lt;start type=&quot;script&quot;&gt;<br/>\t  msg (&quot;Important Note&#58;&quot;)<br/>\t  msg (&quot;Type in&#58; help&quot;)<br/>\t&lt;/start&gt;<br/>  &lt;/game&gt;<br/>  &lt;object name=&quot;homeland&quot;&gt;<br/>    &lt;inherit name=&quot;editor_room&quot; /&gt;<br/>    &lt;object name=&quot;player&quot;&gt;<br/>      &lt;inherit name=&quot;editor_object&quot; /&gt;<br/>      &lt;inherit name=&quot;editor_player&quot; /&gt;<br/>    &lt;/object&gt;<br/>  &lt;/object&gt;<br/>  &lt;object name=&quot;grassland&quot;&gt;<br/>    &lt;inherit name=&quot;editor_room&quot; /&gt;<br/>  &lt;/object&gt;<br/>  &lt;object name=&quot;plains&quot;&gt;<br/>    &lt;inherit name=&quot;editor_room&quot; /&gt;<br/>  &lt;/object&gt;<br/>  &lt;object name=&quot;desert&quot;&gt;<br/>    &lt;inherit name=&quot;editor_room&quot; /&gt;<br/>  &lt;/object&gt;<br/>  &lt;object name=&quot;tundra&quot;&gt;<br/>    &lt;inherit name=&quot;editor_room&quot; /&gt;<br/>  &lt;/object&gt;<br/>  &lt;object name=&quot;swampland&quot;&gt;<br/>    &lt;inherit name=&quot;editor_room&quot; /&gt;<br/>  &lt;/object&gt;<br/>  &lt;object name=&quot;mountains&quot;&gt;<br/>    &lt;inherit name=&quot;editor_room&quot; /&gt;<br/>  &lt;/object&gt;<br/>  &lt;object name=&quot;forest&quot;&gt;<br/>    &lt;inherit name=&quot;editor_room&quot; /&gt;<br/>  &lt;/object&gt;<br/>  &lt;object name=&quot;wasteland&quot;&gt;<br/>    &lt;inherit name=&quot;editor_room&quot; /&gt;<br/>  &lt;/object&gt;<br/>  &lt;object name=&quot;coastland&quot;&gt;<br/>    &lt;inherit name=&quot;editor_room&quot; /&gt;<br/>  &lt;/object&gt;<br/>  &lt;object name=&quot;hills&quot;&gt;<br/>    &lt;inherit name=&quot;editor_room&quot; /&gt;<br/>  &lt;/object&gt;<br/>  &lt;command name=&quot;help_command&quot;&gt;<br/>    &lt;pattern&gt;help&lt;/pattern&gt;<br/>\t&lt;script&gt;<br/>\t  help_function<br/>\t&lt;/script&gt;<br/>  &lt;/command&gt;<br/>  &lt;command name=&quot;explore_command&quot;&gt;<br/>    &lt;pattern&gt;explore&lt;/pattern&gt;<br/>    &lt;script&gt;<br/>      explore_function<br/>    &lt;/script&gt;<br/>  &lt;/command&gt;<br/>  &lt;command name=&quot;travel_command&quot;&gt;<br/>    &lt;pattern&gt;travel&lt;/pattern&gt;<br/>\t&lt;script&gt;<br/>\t  travel_function<br/>\t&lt;/script&gt;<br/>  &lt;/command&gt;<br/>  &lt;object name=&quot;data_object&quot;&gt;<br/>    &lt;inherit name=&quot;editor_object&quot; /&gt;<br/>\t&lt;travel_string_list type=&quot;simplestringlist&quot;&gt;homeland&lt;/travel_string_list&gt;<br/>    &lt;homeland_events_string_list type=&quot;simplestringlist&quot;&gt;grassland_discovery;plains_discovery;desert_discovery;tundra_discovery;swampland_discovery;forest_discovery;mountains_discovery;hills_discovery;wasteland_discovery;coastland_discovery&lt;/homeland_events_string_list&gt;<br/>    &lt;homeland_events_script_dictionary type=&quot;scriptdictionary&quot;&gt;<br/>\t  &lt;item key=&quot;grassland_discovery&quot;&gt;<br/>\t    list add (data_object&#46;travel_string_list, &quot;grassland&quot;)<br/>\t\tmsg (&quot;You've discovered the grassland! Now, you can travel to the grassland and explore it!&quot;)<br/>\t  &lt;/item&gt;<br/>\t  &lt;item key=&quot;plains_discovery&quot;&gt;<br/>\t    list add (data_object&#46;travel_string_list, &quot;plains&quot;)<br/>\t\tmsg (&quot;You've discovered the plains! Now, you can travel to the plains and explore it!&quot;)<br/>\t  &lt;/item&gt;<br/>\t  &lt;item key=&quot;desert_discovery&quot;&gt;<br/>\t    list add (data_object&#46;travel_string_list, &quot;desert&quot;)<br/>\t\tmsg (&quot;You've discovered the desert! Now, you can travel to the desert and explore it!&quot;)<br/>\t  &lt;/item&gt;<br/>\t  &lt;item key=&quot;tundra_discovery&quot;&gt;<br/>\t    list add (data_object&#46;travel_string_list, &quot;tundra&quot;)<br/>\t\tmsg (&quot;You've discovered the tundra! Now, you can travel to the tundra and explore it!&quot;)<br/>\t  &lt;/item&gt;<br/>\t  &lt;item key=&quot;swampland_discovery&quot;&gt;<br/>\t    list add (data_object&#46;travel_string_list, &quot;swampland&quot;)<br/>\t\tmsg (&quot;You've discovered the swampland! Now, you can travel to the swampland and explore it!&quot;)<br/>\t  &lt;/item&gt;<br/>\t  &lt;item key=&quot;forest_discovery&quot;&gt;<br/>\t    list add (data_object&#46;travel_string_list, &quot;forest&quot;)<br/>\t\tmsg (&quot;You've discovered the forest! Now, you can travel to the forest and explore it!&quot;)<br/>\t  &lt;/item&gt;<br/>\t  &lt;item key=&quot;mountains_discovery&quot;&gt;<br/>\t    list add (data_object&#46;travel_string_list, &quot;mountains&quot;)<br/>\t\tmsg (&quot;You've discovered the mountains! Now, you can travel to the mountains and explore it!&quot;)<br/>\t  &lt;/item&gt;<br/>\t  &lt;item key=&quot;hills_discovery&quot;&gt;<br/>\t    list add (data_object&#46;travel_string_list, &quot;hills&quot;)<br/>\t\tmsg (&quot;You've discovered the hills! Now, you can travel to the hills and explore it!&quot;)<br/>\t  &lt;/item&gt;<br/>\t  &lt;item key=&quot;wasteland_discovery&quot;&gt;<br/>\t    list add (data_object&#46;travel_string_list, &quot;wasteland&quot;)<br/>\t\tmsg (&quot;You've discovered the wasteland! Now, you can travel to the wasteland and explore it!&quot;)<br/>\t  &lt;/item&gt;<br/>\t  &lt;item key=&quot;coastland_discovery&quot;&gt;<br/>\t    list add (data_object&#46;travel_string_list, &quot;coastland&quot;)<br/>\t\tmsg (&quot;You've discovered the coastland! Now, you can travel to the coastland and explore it!&quot;)<br/>\t  &lt;/item&gt;<br/>\t&lt;/homeland_events_script_dictionary&gt;<br/>  &lt;/object&gt;<br/>  &lt;turnscript name=&quot;global_turnscript&quot;&gt;<br/>    &lt;enabled /&gt;<br/>    &lt;script&gt;<br/>      game&#46;turns = game&#46;turns + 1<br/>    &lt;/script&gt;<br/>  &lt;/turnscript&gt;<br/>  &lt;function name=&quot;help_function&quot;&gt;<br/>    msg (&quot;Type 'explore' to explore your area&#46;&quot;)<br/>\tmsg (&quot;Type 'travel' to travel to different areas&#46;&quot;)<br/>  &lt;/function&gt;<br/>  &lt;function name=&quot;explore_function&quot;&gt;&lt;!&#91;CDATA&#91;<br/>    switch (game&#46;pov&#46;parent) {<br/>\t  case (homeland) {<br/>\t\tresult_1 = ListCount (data_object&#46;homeland_events_string_list) - 1<br/>\t\tif (result_1 &gt;= 0) {<br/>          result_2 = StringListItem (data_object&#46;homeland_events_string_list,GetRandomInt(0,result_1))<br/>          invoke (ScriptDictionaryItem (data_object&#46;homeland_events_script_dictionary,result_2))<br/>\t\t  on ready {<br/>\t\t    foreach (item_x, split (&quot;grassland_discovery;plains_discovery;desert_discovery;tundra_discovery;swampland_discovery;forest_discovery;mountains_discovery;hills_discovery;wasteland_discovery;coastland_discovery&quot;,&quot;;&quot;)) {<br/>\t\t      if (result_2 = item_x) {<br/>\t\t\t    list remove (data_object&#46;homeland_events_string_list, result_2)<br/>\t\t\t  }<br/>\t\t\t}<br/>\t\t  }<br/>\t\t} else {<br/>\t\t  msg (&quot;There seemingly is nothing left to explore in this area&#46;&quot;)<br/>\t\t}<br/>\t  }<br/>    }<br/>  &#93;&#93;&gt;&lt;/function&gt;<br/>  &lt;function name=&quot;travel_function&quot;&gt;<br/>    show menu (&quot;Where do you wish to travel?&quot;,data_object&#46;travel_string_list,false) {<br/>\t  if (not game&#46;pov&#46;parent = GetObject (result)) {<br/>\t    game&#46;pov&#46;parent = GetObject (result)<br/>\t  } else {<br/>\t    msg (&quot;You are already at this area&#46;&quot;)<br/>\t\task (&quot;Try again?&quot;) {<br/>\t\t  if (result=true) {<br/>\t\t    travel_function<br/>\t\t  } else {<br/>\t\t    msg (&quot;You realize that you need to discover a new area to travel to first, before you can travel to that place&#46;&quot;)<br/>\t\t  }<br/>\t\t}<br/>\t  }<br/>\t}<br/>  &lt;/function&gt;<br/>&lt;/asl&gt;</code></pre><br/><br/>&quot;Topics&quot; Game Code:<br/><br/>(missing the code lines for removing a topic choice, as that's not what I wanted to occur for this test of code design)<br/><br/><pre><code>&lt;asl version=&quot;540&quot;&gt;<br/>  &lt;include ref=&quot;English&#46;aslx&quot; /&gt;<br/>  &lt;include ref=&quot;Core&#46;aslx&quot; /&gt;<br/>  &lt;game name=&quot;Testing Game Stuff&quot;&gt;<br/>    &lt;gameid&gt;d67ec73f-f879-4911-9d88-c02ea527c534&lt;/gameid&gt;<br/>    &lt;version&gt;1&#46;0&lt;/version&gt;<br/>    &lt;firstpublished&gt;2013&lt;/firstpublished&gt;<br/>  &lt;/game&gt;<br/>  &lt;object name=&quot;room&quot;&gt;<br/>    &lt;inherit name=&quot;editor_room&quot; /&gt;<br/>    &lt;object name=&quot;player&quot;&gt;<br/>      &lt;inherit name=&quot;editor_object&quot; /&gt;<br/>      &lt;inherit name=&quot;editor_player&quot; /&gt;<br/>    &lt;/object&gt;<br/>    &lt;object name=&quot;wise_owl_npc&quot;&gt;<br/>      &lt;inherit name=&quot;editor_object&quot; /&gt;<br/>      &lt;alias&gt;Wise Owl&lt;/alias&gt;<br/>      &lt;displayverbs type=&quot;stringlist&quot;&gt;<br/>        &lt;value&gt;Inquire&lt;/value&gt;<br/>      &lt;/displayverbs&gt;<br/>      &lt;inquire type=&quot;script&quot;&gt;<br/>        show menu (&quot;What do you wish to inquire about?&quot;, global_data_object&#46;inquire_topics_string_list, false) {<br/>\t\t  invoke (ScriptDictionaryItem (global_data_object&#46;inquire_topics_script_dictionary, result))<br/>\t\t}<br/>      &lt;/inquire&gt;<br/>    &lt;/object&gt;<br/>  &lt;/object&gt;<br/>  &lt;object name=&quot;global_data_object&quot;&gt;<br/>    &lt;inherit name=&quot;editor_object&quot; /&gt;<br/>    &lt;inquire_topics_string_list type=&quot;stringlist&quot;&gt;<br/>      &lt;value&gt;princess&lt;/value&gt;<br/>      &lt;value&gt;sword&lt;/value&gt;<br/>      &lt;value&gt;dragon&lt;/value&gt;<br/>    &lt;/inquire_topics_string_list&gt;<br/>    &lt;dragon_topics_string_list type=&quot;stringlist&quot;&gt;<br/>      &lt;value&gt;weakness&lt;/value&gt;<br/>      &lt;value&gt;location&lt;/value&gt;<br/>    &lt;/dragon_topics_string_list&gt;<br/>    &lt;inquire_topics_script_dictionary type=&quot;scriptdictionary&quot;&gt;<br/>      &lt;item key=&quot;princess&quot;&gt;<br/>        msg (&quot;The princess has been captured by the dragon&#46; Rescue her, and the King will wed thee to her, as his heir to his throne and kingdom! You'll become the new king of this land!&quot;)<br/>      &lt;/item&gt;<br/>      &lt;item key=&quot;sword&quot;&gt;<br/>        msg (&quot;Ah the legendary dragon slayer sword, magically forged&#46;&#46;&#46; and guarded by a powerful sorcerer&#46;&#46;&#46;&quot;)<br/>      &lt;/item&gt;<br/>      &lt;item key=&quot;dragon&quot;&gt;<br/>        show menu (&quot;What about the dragon do you wish to know?&quot;, global_data_object&#46;dragon_topics_string_list, false) {<br/>          invoke (ScriptDictionaryItem (global_data_object&#46;inquire_topics_script_dictionary, result))<br/>        }<br/>      &lt;/item&gt;<br/>      &lt;item key=&quot;weakness&quot;&gt;<br/>        msg (&quot;Only the legendary dragon slayer sword can pierce its adamantium scales and thus kill it&quot;)<br/>      &lt;/item&gt;<br/>      &lt;item key=&quot;location&quot;&gt;<br/>        msg (&quot;within the volcano in the lava scorched wasteland far to the eastern edge of this world&quot;)<br/>      &lt;/item&gt;<br/>    &lt;/inquire_topics_script_dictionary&gt;<br/>  &lt;/object&gt;<br/>  &lt;verb name=&quot;inquire&quot;&gt;<br/>    &lt;property&gt;inquire&lt;/property&gt;<br/>    &lt;pattern&gt;Inquire&lt;/pattern&gt;<br/>  &lt;/verb&gt;<br/>&lt;/asl&gt;</code></pre>",
      "PostDate": "2014-03-11T02:39:16+00:00",
      "LastEditDate": null
    }
  ]
}
