{
  "Topic": {
    "TopicId": "gdewtdtd_uyuh2rwjivbjg",
    "ForumId": "10",
    "Title": "Overriding all commands in specific room",
    "LastUpdated": "2022-07-08T04:07:06.9724755Z",
    "ReplyCount": 0
  },
  "Posts": [
    {
      "PostId": "2ccc8f47-39be-4f3e-8f45-12f5ed3224c8",
      "UserId": 480792,
      "Username": "deadvermin97",
      "AvatarUrl": "https://i.imgur.com/cBfHOn1b.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "I'm trying to do something similar to what's described here:\r\nhttps://textadventures.co.uk/forum/quest/topic/3650/while-loop-that-loops-until-the-user-types-the-right-thing\r\nwhere I'm waiting for a particular command, and throwing the same message for anything else the user might type.\r\n\r\nHowever I don't really want to use ```get input{}``` cause they don't display the same way commands do (e.g. the users commands continue to be shown but inputs disappear). I tried making a room-specific command with the pattern ```#text#``` (and I would check if it matched the particular command I'm looking for) as I just assumed that would override everything else, but it seems that commands like **look**, **inv** or **x self** would still work as usual.\r\n\r\nOne possible solution I'm considering is just \"faking\" the command display (by printing the user's input as part of the message each turn) but I would still like to know why doesn't the ```#text#``` command in the room override everything like I thought it would and if there's any way I could still make that work, cause it just seems simpler. Tys.",
      "EditableFormat": "markdown",
      "HTML": "<p>I'm trying to do something similar to what's described here:<br>\nhttps://textadventures.co.uk/forum/quest/topic/3650/while-loop-that-loops-until-the-user-types-the-right-thing<br>\nwhere I'm waiting for a particular command, and throwing the same message for anything else the user might type.</p>\n<p>However I don't really want to use <code>get input{}</code> cause they don't display the same way commands do (e.g. the users commands continue to be shown but inputs disappear). I tried making a room-specific command with the pattern <code>#text#</code> (and I would check if it matched the particular command I'm looking for) as I just assumed that would override everything else, but it seems that commands like <strong>look</strong>, <strong>inv</strong> or <strong>x self</strong> would still work as usual.</p>\n<p>One possible solution I'm considering is just \"faking\" the command display (by printing the user's input as part of the message each turn) but I would still like to know why doesn't the <code>#text#</code> command in the room override everything like I thought it would and if there's any way I could still make that work, cause it just seems simpler. Tys.</p>\n\n",
      "PostDate": "2022-07-08T04:07:06.9724755Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "aa94b366-e8e8-44b2-b445-d1f7ffcf0d96",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "> I tried making a room-specific command with the pattern #text# (and I would check if it matched the particular command I'm looking for) as I just assumed that would override everything else, but it seems that commands like look, inv or x self would still work as usual.\r\n\r\nThis should work. A command in the current room always takes priority. Can you show us the game (or an example game showing this issue)?",
      "EditableFormat": "markdown",
      "HTML": "<blockquote>\n<p>I tried making a room-specific command with the pattern #text# (and I would check if it matched the particular command I'm looking for) as I just assumed that would override everything else, but it seems that commands like look, inv or x self would still work as usual.</p>\n</blockquote>\n<p>This should work. A command in the current room always takes priority. Can you show us the game (or an example game showing this issue)?</p>\n\n",
      "PostDate": "2022-07-08T05:05:42.4230197Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "85b28b7d-ebe5-418a-9c68-569580b92179",
      "UserId": 480792,
      "Username": "deadvermin97",
      "AvatarUrl": "https://i.imgur.com/cBfHOn1b.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Sorry, I just realised I don't even know how to put an attachment on forum posts ðŸ˜…",
      "EditableFormat": "markdown",
      "HTML": "<p>Sorry, I just realised I don't even know how to put an attachment on forum posts ðŸ˜…</p>\n\n",
      "PostDate": "2022-07-08T05:47:23.9066073Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "bd6df0b7-4cdc-455d-aad7-e0ae13d78bea",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "> Sorry, I just realised I don't even know how to put an attachment on forum posts ðŸ˜…\r\n\r\nSadly they don't do attachments. But if you upload it to the website you can post the address here. (You can publish a game with the privacy set to \"only people I share the link with\" or something, so other people can't see it, and then change it to public when the game is ready for release - although once published, you can only hide a game, not delete it, so it's on your \"my games\" page forever)",
      "EditableFormat": "markdown",
      "HTML": "<blockquote>\n<p>Sorry, I just realised I don't even know how to put an attachment on forum posts ðŸ˜…</p>\n</blockquote>\n<p>Sadly they don't do attachments. But if you upload it to the website you can post the address here. (You can publish a game with the privacy set to \"only people I share the link with\" or something, so other people can't see it, and then change it to public when the game is ready for release - although once published, you can only hide a game, not delete it, so it's on your \"my games\" page forever)</p>\n\n",
      "PostDate": "2022-07-08T12:34:30.3889278Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "918fb1c6-d7be-4f6e-afd3-9402a9b882b1",
      "UserId": 480792,
      "Username": "deadvermin97",
      "AvatarUrl": "https://i.imgur.com/cBfHOn1b.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Mmmm, here's a dropbox share link:\r\nhttps://www.dropbox.com/s/jcm7w9sk6x261rw/Game.aslx?dl=0\r\nhope that works.\r\n\r\nIn particular, **x self** is surprising here in that it neither displays my \"intended\" message nor the player's description, but the default.",
      "EditableFormat": "markdown",
      "HTML": "<p>Mmmm, here's a dropbox share link:<br>\nhttps://www.dropbox.com/s/jcm7w9sk6x261rw/Game.aslx?dl=0<br>\nhope that works.</p>\n<p>In particular, <strong>x self</strong> is surprising here in that it neither displays my \"intended\" message nor the player's description, but the default.</p>\n\n",
      "PostDate": "2022-07-09T06:53:30.2377402Z",
      "LastEditDate": "2022-07-09T07:24:44.3845131Z",
      "link": null
    },
    {
      "PostId": "94436ce2-054f-40ca-ad54-c796bbaeb36a",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "One alternative woild be giving the command a regular expression pattern like `.*` rather than `#text#`; as it doesn't capture the actual command typed, so the parser thinks it's more specific. But this really shouldn't be necessary.",
      "EditableFormat": "markdown",
      "HTML": "<p>One alternative woild be giving the command a regular expression pattern like <code>.*</code> rather than <code>#text#</code>; as it doesn't capture the actual command typed, so the parser thinks it's more specific. But this really shouldn't be necessary.</p>\n\n",
      "PostDate": "2022-07-09T10:38:57.2825092Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "0c25f994-8417-40ec-9b12-2f5bf0b2040c",
      "UserId": 480792,
      "Username": "deadvermin97",
      "AvatarUrl": "https://i.imgur.com/cBfHOn1b.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "That worked, thanks so much!\r\nJust in case anyone's interested, I had two room specific commands now: one with the other with the pattern ```.*```,  and another with the particular command pattern I'm waiting the player to type in.\r\nI don't know if the order I created those commands matters but it was in the order as was described.",
      "EditableFormat": "markdown",
      "HTML": "<p>That worked, thanks so much!<br>\nJust in case anyone's interested, I had two room specific commands now: one with the other with the pattern <code>.*</code>,  and another with the particular command pattern I'm waiting the player to type in.<br>\nI don't know if the order I created those commands matters but it was in the order as was described.</p>\n\n",
      "PostDate": "2022-07-09T13:48:09.4453611Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "439a503f-72da-4b3c-a909-6579780ea6ae",
      "UserId": 480792,
      "Username": "deadvermin97",
      "AvatarUrl": "https://i.imgur.com/cBfHOn1b.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Oh wait, actually I have one more question quite unrelated if that's okay!\r\n\r\nHow can I find the first key of a dictionary? I noticed they seem to be ordered as when I iterate over every key in a dictionary, it always happens in the order that I added the keys in. But what if I want to print the value of the first key only?",
      "EditableFormat": "markdown",
      "HTML": "<p>Oh wait, actually I have one more question quite unrelated if that's okay!</p>\n<p>How can I find the first key of a dictionary? I noticed they seem to be ordered as when I iterate over every key in a dictionary, it always happens in the order that I added the keys in. But what if I want to print the value of the first key only?</p>\n\n",
      "PostDate": "2022-07-09T16:30:42.0181331Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "273d1650-e21b-4113-a142-ff050af88a22",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Oddly enough, there doesn't seem to be an easy way to access the keys of a dictionary. And in the absence of a break/last command, it's not so easy to retrieve it. I would recommend making a function:\r\n```\r\n<function name=\"FirstKey\" parameters=\"dict\" type=\"string\">\r\n  foreach (key, dict) {\r\n    return (key)\r\n  }\r\n</function>\r\n```\r\nBasically, using a foreach loop, and exiting it by using `return` on the first time through.",
      "EditableFormat": "markdown",
      "HTML": "<p>Oddly enough, there doesn't seem to be an easy way to access the keys of a dictionary. And in the absence of a break/last command, it's not so easy to retrieve it. I would recommend making a function:</p>\n<pre><code>&lt;function name=\"FirstKey\" parameters=\"dict\" type=\"string\"&gt;\n  foreach (key, dict) {\n    return (key)\n  }\n&lt;/function&gt;\n</code></pre>\n<p>Basically, using a foreach loop, and exiting it by using <code>return</code> on the first time through.</p>\n\n",
      "PostDate": "2022-07-09T21:44:13.1833826Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "ab952de4-f348-4dd4-b35b-f546baf32445",
      "UserId": 480792,
      "Username": "deadvermin97",
      "AvatarUrl": "https://i.imgur.com/cBfHOn1b.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "God bless you dear sir",
      "EditableFormat": "markdown",
      "HTML": "<p>God bless you dear sir</p>\n\n",
      "PostDate": "2022-07-11T02:05:11.996753Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "fd315ab5-97ce-4e2e-9088-9e332c4167d7",
      "UserId": 597876,
      "Username": "jord",
      "AvatarUrl": "https://secure.gravatar.com/avatar/69210ab2b10f98ffada25511b63ed2ed?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "such an informative thread, thanks everyone",
      "EditableFormat": "markdown",
      "HTML": "<p>such an informative thread, thanks everyone</p>\n\n",
      "PostDate": "2022-07-14T12:40:20.0179133Z",
      "LastEditDate": null,
      "link": null
    }
  ]
}
