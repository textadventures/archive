{
  "Topic": {
    "TopicId": "gv8tjdacvuwcn6kc9zcxhq",
    "ForumId": "10",
    "Title": "Can I teleport using lists?",
    "LastUpdated": "2017-11-08T20:13:48.8488634Z",
    "ReplyCount": 0
  },
  "Posts": [
    {
      "PostId": "5cf668c0-052b-427c-98f6-6cc3cdf3ca71",
      "UserId": 267336,
      "Username": "jmnevil54",
      "AvatarUrl": "https://secure.gravatar.com/avatar/5d73d7ec1dbe20a5cb46f02a6d53f187?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Teleporting using lists.\r\n\r\nAt the moment, I'm trying to develop a system that uses lists and the ShowMenu function to teleport.\r\n\r\nI really want to teleport like they do in the Elder Scrolls and the Fallout games, by only teleporting to locations you've visited.\r\n(Don't be like my dad who says teleporting is bad, and then he teleports in the game...)\r\n\r\nThis is just what was in the Start script.\r\n\r\n```\r\nrooms = NewStringList()\r\nlist add (rooms, The Lab)\r\n```\r\nAnd this is what happens when you step into the teleport location.\r\n\r\n```\r\nlist add (rooms, Teleport 1)\r\n```\r\n\r\nAnd this is what the first teleport command looks like.\r\n\r\n```\r\nShowMenu (\"Teleport\", rooms, true) {\r\n  switch (result) {\r\n    case (\"Teleport 1\") {\r\n      MoveObject (player, Teleport 1)\r\n    }\r\n    default {\r\n      msg (\"...It didn't work...\")\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nShould I be using multiple teleport commands? And... I'd like general advice too...\r\n\r\nGame link http://textadventures.co.uk/games/view/5jllte-m4e2e2whw4gf5jq/pokemon-type-harley-johto-and-sinnoh",
      "EditableFormat": "markdown",
      "HTML": "<p>Teleporting using lists.</p>\n<p>At the moment, I'm trying to develop a system that uses lists and the ShowMenu function to teleport.</p>\n<p>I really want to teleport like they do in the Elder Scrolls and the Fallout games, by only teleporting to locations you've visited.<br>\n(Don't be like my dad who says teleporting is bad, and then he teleports in the game...)</p>\n<p>This is just what was in the Start script.</p>\n<pre><code>rooms = NewStringList()\nlist add (rooms, The Lab)\n</code></pre>\n<p>And this is what happens when you step into the teleport location.</p>\n<pre><code>list add (rooms, Teleport 1)\n</code></pre>\n<p>And this is what the first teleport command looks like.</p>\n<pre><code>ShowMenu (\"Teleport\", rooms, true) {\n  switch (result) {\n    case (\"Teleport 1\") {\n      MoveObject (player, Teleport 1)\n    }\n    default {\n      msg (\"...It didn't work...\")\n    }\n  }\n}\n</code></pre>\n<p>Should I be using multiple teleport commands? And... I'd like general advice too...</p>\n<p>Game link http://textadventures.co.uk/games/view/5jllte-m4e2e2whw4gf5jq/pokemon-type-harley-johto-and-sinnoh</p>\n\n",
      "PostDate": "2017-11-08T20:13:48.8488634Z",
      "LastEditDate": "2017-11-08T20:39:12.9830543Z",
      "link": null
    },
    {
      "PostId": "6458fb74-c7fe-41d9-9852-7330ca7bf809",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "I'm not sure why it's a string list. Wouldn't an objectlist be better?\r\n\r\nStarting with:\r\n```\r\ngame.teleportlocations = NewObjectList()\r\n```\r\nthen add rooms to the list with:\r\n```\r\nlist add (game.teleportlocations, Some Room)\r\n```\r\nand then your teleport command is:\r\n```\r\nShowMenu (\"Where to?\", game.teleportlocations, true) {\r\n  MoveObject (game.pov, GetObject(result))\r\n}\r\n```\r\n\r\n(I guess it doesn't matter that much if you use a stringlist or objectlist; though it makes it easier to give particular locations a different colour in the menu. But I'm not sure what that switch statement is for)",
      "EditableFormat": "markdown",
      "HTML": "<p>I'm not sure why it's a string list. Wouldn't an objectlist be better?</p>\n<p>Starting with:</p>\n<pre><code>game.teleportlocations = NewObjectList()\n</code></pre>\n<p>then add rooms to the list with:</p>\n<pre><code>list add (game.teleportlocations, Some Room)\n</code></pre>\n<p>and then your teleport command is:</p>\n<pre><code>ShowMenu (\"Where to?\", game.teleportlocations, true) {\n  MoveObject (game.pov, GetObject(result))\n}\n</code></pre>\n<p>(I guess it doesn't matter that much if you use a stringlist or objectlist; though it makes it easier to give particular locations a different colour in the menu. But I'm not sure what that switch statement is for)</p>\n\n",
      "PostDate": "2017-11-08T21:45:18.2147195Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "f2e22d27-c1d2-472c-a397-2b093ceae10c",
      "UserId": 267336,
      "Username": "jmnevil54",
      "AvatarUrl": "https://secure.gravatar.com/avatar/5d73d7ec1dbe20a5cb46f02a6d53f187?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Not sure. Will try it out.\r\n\r\nI'm just really wondering how this will go if I go to new locations...",
      "EditableFormat": "markdown",
      "HTML": "<p>Not sure. Will try it out.</p>\n<p>I'm just really wondering how this will go if I go to new locations...</p>\n\n",
      "PostDate": "2017-11-09T01:16:09.6091135Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "938ad614-5703-4026-8fa3-69a9d87679ef",
      "UserId": 318253,
      "Username": "K.V.",
      "AvatarUrl": "http://i.imgur.com/FOIjtApb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "It looks like you're using the ```switch``` because you're planning on having a ```case``` for each location you can teleport to. \r\n\r\nThe string list would work this way, but you'd have to edit the script each time you added a new destination. (This sets you up for extra work when/if you want to add a new destination later on.)\r\n\r\n```\r\nswitch (result) {\r\n    case (\"Teleport 1\") {\r\n      MoveObject (player, Teleport 1)\r\n    }\r\n```\r\n\r\n\r\n\r\n---\r\nThis sets up a local variable, ```rooms```, as a string list, then tries to add the object **The Lab** to it.  \r\n\r\n```\r\nrooms = NewStringList()\r\nlist add (rooms, The Lab)\r\n```\r\nThat throws this error:\r\n\r\n<samp>\r\nError running script: Unable to cast object of type 'TextAdventures.Quest.Element' to type 'System.String'.\r\n</samp>\r\n\r\n---\r\nAlso, if you alter it so it works (make it an object list or add The Lab.name instead of The Lab), once this script has run, ```rooms``` no longer exists.  So, it will throw this error when entering **Teleport 1**:\r\n\r\n<samp>\r\nError running script: Error compiling expression 'rooms': Unknown object or variable 'rooms'\r\n</samp>\r\n\r\n\r\n---\r\nThat's why mrangel went with ```game.teleportlocations``` instead of just ```teleportlocations```.  (You could just as easily make it ```game.rooms```, or whatever you'd like the list to be named, as long as you set it up as an attribute on an object, like the game object.  This makes it a global variable, so it will be accessible throughout the game.)\r\n\r\n\r\n---\r\nFrom here on, I'm using the ```result``` from ```ShowMenu``` (bypassing the ```switch``` script), just as mrangel did.  This makes it so you can just add to the list ```game.room``` at any time, and you can teleport there without changing anything else.  (You could also alter the list, adding or removing destinations, during the game very easily this way.)\r\n\r\n\r\n---\r\nSo, let's try out mrangel's method, only with your room names and words and with ```game.rooms``` as the list name.\r\n\r\nNOTE:  I added ```can_teleport``` to the rooms you can teleport from, so you'll only need one command to handle everything.\r\n\r\n```\r\n    <start type=\"script\">\r\n      game.rooms = NewObjectList()\r\n      list add (game.rooms, The Lab)\r\n      The Lab.can_teleport = true\r\n      Teleport 1.can_teleport = true\r\n    </start>\r\n```\r\n```\r\n  <object name=\"The Lab\">\r\n    <inherit name=\"editor_room\" />\r\n  </object>\r\n```\r\n\r\n```\r\n  <object name=\"Teleport 1\">\r\n    <inherit name=\"editor_room\" />\r\n    <beforefirstenter type=\"script\">\r\n      list add (game.rooms, Teleport 1)\r\n    </beforefirstenter>\r\n  </object>\r\n```\r\n```\r\n  <command name=\"teleport\">\r\n    <pattern>teleport;tele;port;t;travel</pattern>\r\n    <script>\r\n      if (game.pov.parent.can_teleport) {\r\n        ShowMenu (\"Teleport\", game.rooms, true) {\r\n          MoveObject (game.pov, GetObject(result))\r\n        }\r\n      }\r\n      else {\r\n        msg (\"You can't do that from here.\")\r\n      }\r\n    </script>\r\n  </command>\r\n```\r\n<samp>\r\n\r\n\\> teleport\r\nTeleport\r\n1: [The Lab]()\r\n2: [Teleport 1]()\r\n\r\n**[...after selecting...]**\r\n\r\n\\> teleport\r\n\r\nYou are in The Lab.\r\n\r\n</samp>\r\n\r\n---\r\nYay!  It works!  (I never doubted mrangel.  It just seemed fitting to celebrate.)\r\n\r\n\r\n---\r\nSo, with this setup, any time you want to add a room (in this example, it will be **Ballroom**), you can to this:\r\n\r\n```\r\nlist add (game.rooms, Ballroom)\r\n```\r\n\r\nTo remove it, just do this:\r\n\r\n```\r\nlist remove (game.rooms, Ballroom)\r\n```\r\n\r\nThis would work for any room, but, if you want to be able to teleport FROM that room, do this:\r\n\r\n```\r\nBallroom.can_teleport = true\r\n```\r\n\r\n\r\nThen, to turn it off, you can just:\r\n\r\n```\r\nBallroom.can_teleport = false\r\n```\r\n\r\n---\r\nEverything else should fall right into place.\r\n\r\nHere's an example game:\r\n\r\n<details><summary>CLICK HERE TO VIEW THE CODE</summary>\r\n\r\n```\r\n<!--Saved by Quest 5.7.6404.15496-->\r\n<asl version=\"550\">\r\n  <include ref=\"English.aslx\" />\r\n  <include ref=\"Core.aslx\" />\r\n  <game name=\"Teleporting\">\r\n    <gameid>b1109d19-2c86-407b-972b-7ee2da530b2c</gameid>\r\n    <version>1.0</version>\r\n    <firstpublished>2017</firstpublished>\r\n    <start type=\"script\">\r\n      game.rooms = NewObjectList()\r\n      list add (game.rooms, The Lab)\r\n      The Lab.can_teleport = true\r\n      Teleport 1.can_teleport = true\r\n    </start>\r\n  </game>\r\n  <object name=\"room\">\r\n    <inherit name=\"editor_room\" />\r\n    <object name=\"player\">\r\n      <inherit name=\"editor_object\" />\r\n      <inherit name=\"editor_player\" />\r\n    </object>\r\n    <exit alias=\"into the teleport booth\" to=\"Teleport 1\">\r\n      <inherit name=\"indirection\" />\r\n    </exit>\r\n  </object>\r\n  <object name=\"The Lab\">\r\n    <inherit name=\"editor_room\" />\r\n    <usedefaultprefix type=\"boolean\">false</usedefaultprefix>\r\n  </object>\r\n  <object name=\"Teleport 1\">\r\n    <inherit name=\"editor_room\" />\r\n    <beforefirstenter type=\"script\">\r\n      list add (game.rooms, Teleport 1)\r\n    </beforefirstenter>\r\n    <usedefaultprefix type=\"boolean\">false</usedefaultprefix>\r\n    <exit alias=\"out\" to=\"room\">\r\n      <inherit name=\"outdirection\" />\r\n    </exit>\r\n  </object>\r\n  <command name=\"teleport\">\r\n    <pattern>teleport;tele;port;t;travel</pattern>\r\n    <script>\r\n      if (game.pov.parent.can_teleport) {\r\n        ShowMenu (\"Teleport\", game.rooms, true) {\r\n          MoveObject (game.pov, GetObject(result))\r\n        }\r\n      }\r\n      else {\r\n        msg (\"You can't do that from here.\")\r\n      }\r\n    </script>\r\n  </command>\r\n</asl>\r\n```\r\n\r\n</details>",
      "EditableFormat": "markdown",
      "HTML": "<p>It looks like you're using the <code>switch</code> because you're planning on having a <code>case</code> for each location you can teleport to.</p>\n<p>The string list would work this way, but you'd have to edit the script each time you added a new destination. (This sets you up for extra work when/if you want to add a new destination later on.)</p>\n<pre><code>switch (result) {\n    case (\"Teleport 1\") {\n      MoveObject (player, Teleport 1)\n    }\n</code></pre>\n<hr>\n<p>This sets up a local variable, <code>rooms</code>, as a string list, then tries to add the object <strong>The Lab</strong> to it.</p>\n<pre><code>rooms = NewStringList()\nlist add (rooms, The Lab)\n</code></pre>\n<p>That throws this error:</p>\n<samp>\nError running script: Unable to cast object of type 'TextAdventures.Quest.Element' to type 'System.String'.\n</samp>\n<hr>\n<p>Also, if you alter it so it works (make it an object list or add The Lab.name instead of The Lab), once this script has run, <code>rooms</code> no longer exists.  So, it will throw this error when entering <strong>Teleport 1</strong>:</p>\n<samp>\nError running script: Error compiling expression 'rooms': Unknown object or variable 'rooms'\n</samp>\n<hr>\n<p>That's why mrangel went with <code>game.teleportlocations</code> instead of just <code>teleportlocations</code>.  (You could just as easily make it <code>game.rooms</code>, or whatever you'd like the list to be named, as long as you set it up as an attribute on an object, like the game object.  This makes it a global variable, so it will be accessible throughout the game.)</p>\n<hr>\n<p>From here on, I'm using the <code>result</code> from <code>ShowMenu</code> (bypassing the <code>switch</code> script), just as mrangel did.  This makes it so you can just add to the list <code>game.room</code> at any time, and you can teleport there without changing anything else.  (You could also alter the list, adding or removing destinations, during the game very easily this way.)</p>\n<hr>\n<p>So, let's try out mrangel's method, only with your room names and words and with <code>game.rooms</code> as the list name.</p>\n<p>NOTE:  I added <code>can_teleport</code> to the rooms you can teleport from, so you'll only need one command to handle everything.</p>\n<pre><code>    &lt;start type=\"script\"&gt;\n      game.rooms = NewObjectList()\n      list add (game.rooms, The Lab)\n      The Lab.can_teleport = true\n      Teleport 1.can_teleport = true\n    &lt;/start&gt;\n</code></pre>\n<pre><code>  &lt;object name=\"The Lab\"&gt;\n    &lt;inherit name=\"editor_room\" /&gt;\n  &lt;/object&gt;\n</code></pre>\n<pre><code>  &lt;object name=\"Teleport 1\"&gt;\n    &lt;inherit name=\"editor_room\" /&gt;\n    &lt;beforefirstenter type=\"script\"&gt;\n      list add (game.rooms, Teleport 1)\n    &lt;/beforefirstenter&gt;\n  &lt;/object&gt;\n</code></pre>\n<pre><code>  &lt;command name=\"teleport\"&gt;\n    &lt;pattern&gt;teleport;tele;port;t;travel&lt;/pattern&gt;\n    &lt;script&gt;\n      if (game.pov.parent.can_teleport) {\n        ShowMenu (\"Teleport\", game.rooms, true) {\n          MoveObject (game.pov, GetObject(result))\n        }\n      }\n      else {\n        msg (\"You can't do that from here.\")\n      }\n    &lt;/script&gt;\n  &lt;/command&gt;\n</code></pre>\n<samp>\n<p>&gt; teleport<br>\nTeleport<br>\n1: <a href=\"\">The Lab</a><br>\n2: <a href=\"\">Teleport 1</a></p>\n<p><strong>[...after selecting...]</strong></p>\n<p>&gt; teleport</p>\n<p>You are in The Lab.</p>\n</samp>\n<hr>\n<p>Yay!  It works!  (I never doubted mrangel.  It just seemed fitting to celebrate.)</p>\n<hr>\n<p>So, with this setup, any time you want to add a room (in this example, it will be <strong>Ballroom</strong>), you can to this:</p>\n<pre><code>list add (game.rooms, Ballroom)\n</code></pre>\n<p>To remove it, just do this:</p>\n<pre><code>list remove (game.rooms, Ballroom)\n</code></pre>\n<p>This would work for any room, but, if you want to be able to teleport FROM that room, do this:</p>\n<pre><code>Ballroom.can_teleport = true\n</code></pre>\n<p>Then, to turn it off, you can just:</p>\n<pre><code>Ballroom.can_teleport = false\n</code></pre>\n<hr>\n<p>Everything else should fall right into place.</p>\n<p>Here's an example game:</p>\n<details><summary>CLICK HERE TO VIEW THE CODE</summary>\n<pre><code>&lt;!--Saved by Quest 5.7.6404.15496--&gt;\n&lt;asl version=\"550\"&gt;\n  &lt;include ref=\"English.aslx\" /&gt;\n  &lt;include ref=\"Core.aslx\" /&gt;\n  &lt;game name=\"Teleporting\"&gt;\n    &lt;gameid&gt;b1109d19-2c86-407b-972b-7ee2da530b2c&lt;/gameid&gt;\n    &lt;version&gt;1.0&lt;/version&gt;\n    &lt;firstpublished&gt;2017&lt;/firstpublished&gt;\n    &lt;start type=\"script\"&gt;\n      game.rooms = NewObjectList()\n      list add (game.rooms, The Lab)\n      The Lab.can_teleport = true\n      Teleport 1.can_teleport = true\n    &lt;/start&gt;\n  &lt;/game&gt;\n  &lt;object name=\"room\"&gt;\n    &lt;inherit name=\"editor_room\" /&gt;\n    &lt;object name=\"player\"&gt;\n      &lt;inherit name=\"editor_object\" /&gt;\n      &lt;inherit name=\"editor_player\" /&gt;\n    &lt;/object&gt;\n    &lt;exit alias=\"into the teleport booth\" to=\"Teleport 1\"&gt;\n      &lt;inherit name=\"indirection\" /&gt;\n    &lt;/exit&gt;\n  &lt;/object&gt;\n  &lt;object name=\"The Lab\"&gt;\n    &lt;inherit name=\"editor_room\" /&gt;\n    &lt;usedefaultprefix type=\"boolean\"&gt;false&lt;/usedefaultprefix&gt;\n  &lt;/object&gt;\n  &lt;object name=\"Teleport 1\"&gt;\n    &lt;inherit name=\"editor_room\" /&gt;\n    &lt;beforefirstenter type=\"script\"&gt;\n      list add (game.rooms, Teleport 1)\n    &lt;/beforefirstenter&gt;\n    &lt;usedefaultprefix type=\"boolean\"&gt;false&lt;/usedefaultprefix&gt;\n    &lt;exit alias=\"out\" to=\"room\"&gt;\n      &lt;inherit name=\"outdirection\" /&gt;\n    &lt;/exit&gt;\n  &lt;/object&gt;\n  &lt;command name=\"teleport\"&gt;\n    &lt;pattern&gt;teleport;tele;port;t;travel&lt;/pattern&gt;\n    &lt;script&gt;\n      if (game.pov.parent.can_teleport) {\n        ShowMenu (\"Teleport\", game.rooms, true) {\n          MoveObject (game.pov, GetObject(result))\n        }\n      }\n      else {\n        msg (\"You can't do that from here.\")\n      }\n    &lt;/script&gt;\n  &lt;/command&gt;\n&lt;/asl&gt;\n</code></pre>\n</details>\n\n",
      "PostDate": "2017-11-09T03:14:11.9884418Z",
      "LastEditDate": "2017-11-10T05:57:55.7496881Z",
      "link": null
    },
    {
      "PostId": "a15a50e0-eb6b-48df-8aef-18b60b6a5ed1",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Or, if you don't want to keep track of which locations a player has unlocked…\r\n\r\nStart script:\r\n```\r\ngame.teleportrooms = NewObjectList()\r\nforeach (room, Split(\"Some Lab;Some Forest;Room 101;Another Location;Big list of room names\",\";\")) {\r\n  list add (game.teleportrooms, GetObject(room))\r\n}\r\n```\r\nAnd the teleport command:\r\n```\r\nShowMenu (\"Where to?\", FilterByAttribute(ListExclude(game.teleportrooms, game.pov.parent), \"visited\", true), true) {\r\n  MoveObject (game.pov, GetObject(result))\r\n}\r\n```",
      "EditableFormat": "markdown",
      "HTML": "<p>Or, if you don't want to keep track of which locations a player has unlocked…</p>\n<p>Start script:</p>\n<pre><code>game.teleportrooms = NewObjectList()\nforeach (room, Split(\"Some Lab;Some Forest;Room 101;Another Location;Big list of room names\",\";\")) {\n  list add (game.teleportrooms, GetObject(room))\n}\n</code></pre>\n<p>And the teleport command:</p>\n<pre><code>ShowMenu (\"Where to?\", FilterByAttribute(ListExclude(game.teleportrooms, game.pov.parent), \"visited\", true), true) {\n  MoveObject (game.pov, GetObject(result))\n}\n</code></pre>\n\n",
      "PostDate": "2017-11-09T03:15:36.819774Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "ad85c364-f529-4419-a581-3933ed39f297",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "(I'd likely ditch the list, and give an attribute to rooms you can teleport to.  `FilterByAttribute(FilterByAttribute(AllObjects(), \"teleport destination\", true), \"visited\", true)` or similar)",
      "EditableFormat": "markdown",
      "HTML": "<p>(I'd likely ditch the list, and give an attribute to rooms you can teleport to.  <code>FilterByAttribute(FilterByAttribute(AllObjects(), \"teleport destination\", true), \"visited\", true)</code> or similar)</p>\n\n",
      "PostDate": "2017-11-09T03:22:05.214383Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "fc6e7566-e153-47cd-827e-7b1bdf796af9",
      "UserId": 318253,
      "Username": "K.V.",
      "AvatarUrl": "http://i.imgur.com/FOIjtApb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Oh, that's good stuff right there, mrangel!  (That's sort of how Pixie does it, too, I think.)",
      "EditableFormat": "markdown",
      "HTML": "<p>Oh, that's good stuff right there, mrangel!  (That's sort of how Pixie does it, too, I think.)</p>\n\n",
      "PostDate": "2017-11-09T03:22:39.158247Z",
      "LastEditDate": "2017-11-09T03:24:02.1632043Z",
      "link": null
    },
    {
      "PostId": "60bc080b-0a52-4706-88fe-5a115f9c1da0",
      "UserId": 247325,
      "Username": "hegemonkhan",
      "AvatarUrl": "https://secure.gravatar.com/avatar/a96cf34d8d97c57de38f54ee22b1759b?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "there's already a built-in 'visited' Boolean Attribute, so you could create a 'changedvisited' special Script Attribute, for example:\r\n\r\n(actually... there probably already is a 'changedvisited'... so this might be over-writing its built-in functionalities... which would be bad... to be safe... you'd have to create your own 'my_visited' functionality... or edit the built-in 'changedvisited' script attribute)\r\n\r\n```\r\n<object name=\"player\">\r\n  <inherit name=\"editor_object\" />\r\n  <inherit name=\"editor_player\" />\r\n  <attr name=\"parent\" type=\"object\">room</attr>\r\n  <attr name=\"visited_objectlist_attribute\" type=\"objectlist\">room</attr>\r\n</object>\r\n\r\n<object name=\"room\">\r\n  <inherit name=\"editor_room\" />\r\n  <inherit name=\"room_type\" />\r\n</object>\r\n\r\n<object name=\"room_2\">\r\n  <inherit name=\"editor_room\" />\r\n  <inherit name=\"room_type\" />\r\n</object>\r\n\r\n<type name=\"room_type\">\r\n  <attr name=\"changedvisited\" type=\"script\">\r\n    list add (player.visited_objectlist_attribute, player.parent)\r\n  </attr>\r\n</type>\r\n\r\n<command name=\"teleport_command\">\r\n  <pattern>teleport</pattern>\r\n  <script>\r\n    show menu (\"Destination?\", player.visited_objectlist_attribute, false) {\r\n      if (player.parent = result) {\r\n        // do (teleport_command, \"script\") // not sure if this will work to re-call/re-do/loop this Command or not, otherwise this can be made as a Function or an Object's Script Attribute, in order to be able to loop it\r\n        msg (\"You just tried to teleport to where you already are at, silly\")\r\n      } else {\r\n        player.parent = result\r\n        msg (\"You teleport to \" + result.name)\r\n      }\r\n    }\r\n  </script>\r\n</command>\r\n```\r\n\r\n-------------------\r\n\r\njust for an extra resource (though you guys already got it covered), here's my old code of moving without Exits (warping/teleporting), back when I was first learning how to do this type of stuff:\r\n\r\nhttp://textadventures.co.uk/forum/samples/topic/5138/explore-and-travel-code-sample-by-hk\r\n\r\nyou 'explore' (only done for the 'homeland' location, being just an example) and can get random events of discovering a new location (new location gets added to the 'travel' list), which you can then 'travel (as a Command's input)' (warp/teleport) to, as a destination.",
      "EditableFormat": "markdown",
      "HTML": "<p>there's already a built-in 'visited' Boolean Attribute, so you could create a 'changedvisited' special Script Attribute, for example:</p>\n<p>(actually... there probably already is a 'changedvisited'... so this might be over-writing its built-in functionalities... which would be bad... to be safe... you'd have to create your own 'my_visited' functionality... or edit the built-in 'changedvisited' script attribute)</p>\n<pre><code>&lt;object name=\"player\"&gt;\n  &lt;inherit name=\"editor_object\" /&gt;\n  &lt;inherit name=\"editor_player\" /&gt;\n  &lt;attr name=\"parent\" type=\"object\"&gt;room&lt;/attr&gt;\n  &lt;attr name=\"visited_objectlist_attribute\" type=\"objectlist\"&gt;room&lt;/attr&gt;\n&lt;/object&gt;\n\n&lt;object name=\"room\"&gt;\n  &lt;inherit name=\"editor_room\" /&gt;\n  &lt;inherit name=\"room_type\" /&gt;\n&lt;/object&gt;\n\n&lt;object name=\"room_2\"&gt;\n  &lt;inherit name=\"editor_room\" /&gt;\n  &lt;inherit name=\"room_type\" /&gt;\n&lt;/object&gt;\n\n&lt;type name=\"room_type\"&gt;\n  &lt;attr name=\"changedvisited\" type=\"script\"&gt;\n    list add (player.visited_objectlist_attribute, player.parent)\n  &lt;/attr&gt;\n&lt;/type&gt;\n\n&lt;command name=\"teleport_command\"&gt;\n  &lt;pattern&gt;teleport&lt;/pattern&gt;\n  &lt;script&gt;\n    show menu (\"Destination?\", player.visited_objectlist_attribute, false) {\n      if (player.parent = result) {\n        // do (teleport_command, \"script\") // not sure if this will work to re-call/re-do/loop this Command or not, otherwise this can be made as a Function or an Object's Script Attribute, in order to be able to loop it\n        msg (\"You just tried to teleport to where you already are at, silly\")\n      } else {\n        player.parent = result\n        msg (\"You teleport to \" + result.name)\n      }\n    }\n  &lt;/script&gt;\n&lt;/command&gt;\n</code></pre>\n<hr>\n<p>just for an extra resource (though you guys already got it covered), here's my old code of moving without Exits (warping/teleporting), back when I was first learning how to do this type of stuff:</p>\n<p>http://textadventures.co.uk/forum/samples/topic/5138/explore-and-travel-code-sample-by-hk</p>\n<p>you 'explore' (only done for the 'homeland' location, being just an example) and can get random events of discovering a new location (new location gets added to the 'travel' list), which you can then 'travel (as a Command's input)' (warp/teleport) to, as a destination.</p>\n\n",
      "PostDate": "2017-11-09T04:25:31.2782179Z",
      "LastEditDate": "2017-11-09T04:34:49.0604026Z",
      "link": null
    },
    {
      "PostId": "23bb8da1-42c6-4067-b49f-a37f4e1af858",
      "UserId": 267336,
      "Username": "jmnevil54",
      "AvatarUrl": "https://secure.gravatar.com/avatar/5d73d7ec1dbe20a5cb46f02a6d53f187?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Thanks. I'll try it out.",
      "EditableFormat": "markdown",
      "HTML": "<p>Thanks. I'll try it out.</p>\n\n",
      "PostDate": "2017-11-09T17:41:17.9261574Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "066ac9ef-199e-4bcf-85b6-fd5dcaee7e9b",
      "UserId": 267336,
      "Username": "jmnevil54",
      "AvatarUrl": "https://secure.gravatar.com/avatar/5d73d7ec1dbe20a5cb46f02a6d53f187?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Okay....\r\n\r\nSo what happens it is now prints The Lab when the player is already there.\r\n\r\nBut it does send the player to the second place, Teleport 1, if I've been there before.\r\n\r\nThis is what's in the start script now.\r\n\r\n```\r\ngame.rooms = NewObjectList()\r\nlist add (game.rooms, The Lab)\r\n```\r\nThis is the command now.\r\n\r\n```\r\nif (HasAttribute(game, \"rooms\")) {\r\n  ShowMenu (\"Teleport\", game.rooms, true) {\r\n    MoveObject (player, GetObject(result))\r\n  }\r\n}\r\nelse {\r\n  msg (\"...It didn't work...\")\r\n}\r\n```",
      "EditableFormat": "markdown",
      "HTML": "<p>Okay....</p>\n<p>So what happens it is now prints The Lab when the player is already there.</p>\n<p>But it does send the player to the second place, Teleport 1, if I've been there before.</p>\n<p>This is what's in the start script now.</p>\n<pre><code>game.rooms = NewObjectList()\nlist add (game.rooms, The Lab)\n</code></pre>\n<p>This is the command now.</p>\n<pre><code>if (HasAttribute(game, \"rooms\")) {\n  ShowMenu (\"Teleport\", game.rooms, true) {\n    MoveObject (player, GetObject(result))\n  }\n}\nelse {\n  msg (\"...It didn't work...\")\n}\n</code></pre>\n\n",
      "PostDate": "2017-11-10T00:55:35.0212861Z",
      "LastEditDate": "2017-11-10T01:05:59.4220611Z",
      "link": null
    },
    {
      "PostId": "0fc60594-d6a3-49c0-9158-ed955d8fb2d6",
      "UserId": 247325,
      "Username": "hegemonkhan",
      "AvatarUrl": "https://secure.gravatar.com/avatar/a96cf34d8d97c57de38f54ee22b1759b?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "you don't have to have the 'if (HasAttribute (game, \"room\"s)) { /* scripting */ }', as its extra UN-needed operations, but it's a good practice in general to have such a check.\r\n\r\nAlso, since you're using an Object List Attribute, you don't need the 'GetObject()', as the list items are already Objects. If you were using a String List Attribute instead, then you'd need to use the 'GetObject()'\r\n\r\nif you want to prevent from moving to the same place (not really too big of a deal if you do... pros/cons of it in terms of various programming operations/issues), you can put in a check, like so:\r\n\r\n```\r\n<game name=\"example_game\">\r\n  <attr name=\"rooms\" type=\"objectlist\">room</attr>\r\n  <attr name=\"start\" type=\"script\">\r\n    list add (this.rooms, lab_1_object)\r\n  </attr>\r\n</game>\r\n\r\n<object name=\"room\">\r\n  <inherit name=\"editor_room\" />\r\n</object>\r\n\r\n<object name=\"lab_1_object\">\r\n  <inherit name=\"editor_room\" />\r\n  <alias>The Lab</alias>\r\n</object>\r\n\r\n<object name=\"player\">\r\n  <inherit name=\"editor_object\" />\r\n  <inherit name=\"editor_player\" />\r\n  <attr name=\"parent\" type=\"object\">room</attr>\r\n</object>\r\n\r\n<command name=\"teleport_command\">\r\n  <pattern>teleport</pattern>\r\n  <script>\r\n\r\n    list remove (game.rooms, player.parent) // removing the room you're currently in/at from the list, so you can't select it as a teleport location\r\n\r\n    ShowMenu (\"Teleport\", game.rooms, true) {\r\n\r\n      list add (game.rooms, player.parent) // restoring/re-adding the room you're currently in/at into/to the list. This MUST be done before (above) the 'MoveObject()', as otherwise, you're moved into a new current room, and thus the previous current room is still missing from the list (as the new current location is what now gets added to the list, as you're no longer at the previous location)\r\n\r\n      MoveObject (player, result)\r\n      msg (\"You teleport to \" + result.alias + \".\")\r\n    }\r\n  </script>\r\n</command>\r\n```",
      "EditableFormat": "markdown",
      "HTML": "<p>you don't have to have the 'if (HasAttribute (game, \"room\"s)) { /* scripting */ }', as its extra UN-needed operations, but it's a good practice in general to have such a check.</p>\n<p>Also, since you're using an Object List Attribute, you don't need the 'GetObject()', as the list items are already Objects. If you were using a String List Attribute instead, then you'd need to use the 'GetObject()'</p>\n<p>if you want to prevent from moving to the same place (not really too big of a deal if you do... pros/cons of it in terms of various programming operations/issues), you can put in a check, like so:</p>\n<pre><code>&lt;game name=\"example_game\"&gt;\n  &lt;attr name=\"rooms\" type=\"objectlist\"&gt;room&lt;/attr&gt;\n  &lt;attr name=\"start\" type=\"script\"&gt;\n    list add (this.rooms, lab_1_object)\n  &lt;/attr&gt;\n&lt;/game&gt;\n\n&lt;object name=\"room\"&gt;\n  &lt;inherit name=\"editor_room\" /&gt;\n&lt;/object&gt;\n\n&lt;object name=\"lab_1_object\"&gt;\n  &lt;inherit name=\"editor_room\" /&gt;\n  &lt;alias&gt;The Lab&lt;/alias&gt;\n&lt;/object&gt;\n\n&lt;object name=\"player\"&gt;\n  &lt;inherit name=\"editor_object\" /&gt;\n  &lt;inherit name=\"editor_player\" /&gt;\n  &lt;attr name=\"parent\" type=\"object\"&gt;room&lt;/attr&gt;\n&lt;/object&gt;\n\n&lt;command name=\"teleport_command\"&gt;\n  &lt;pattern&gt;teleport&lt;/pattern&gt;\n  &lt;script&gt;\n\n    list remove (game.rooms, player.parent) // removing the room you're currently in/at from the list, so you can't select it as a teleport location\n\n    ShowMenu (\"Teleport\", game.rooms, true) {\n\n      list add (game.rooms, player.parent) // restoring/re-adding the room you're currently in/at into/to the list. This MUST be done before (above) the 'MoveObject()', as otherwise, you're moved into a new current room, and thus the previous current room is still missing from the list (as the new current location is what now gets added to the list, as you're no longer at the previous location)\n\n      MoveObject (player, result)\n      msg (\"You teleport to \" + result.alias + \".\")\n    }\n  &lt;/script&gt;\n&lt;/command&gt;\n</code></pre>\n\n",
      "PostDate": "2017-11-10T02:36:35.3878149Z",
      "LastEditDate": "2017-11-10T02:46:45.5932614Z",
      "link": null
    },
    {
      "PostId": "8d94de4b-717a-4b39-a152-0b7650912fc9",
      "UserId": 260569,
      "Username": "DarkLizerd",
      "AvatarUrl": "https://i.imgur.com/vjdH3t6b.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Or use a funny response like:\r\n\"You arrive at you destination, but discover nothing has changed... You recheck destination command... and get ready to try again.\"\r\n",
      "EditableFormat": "markdown",
      "HTML": "<p>Or use a funny response like:<br>\n\"You arrive at you destination, but discover nothing has changed... You recheck destination command... and get ready to try again.\"</p>\n\n",
      "PostDate": "2017-11-10T03:35:22.802275Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "9db415fe-a2e4-4d91-a625-bac8a1cede7a",
      "UserId": 318253,
      "Username": "K.V.",
      "AvatarUrl": "http://i.imgur.com/FOIjtApb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": ">since you're using an Object List Attribute, you don't need the ```GetObject()```\r\n\r\nI thought that, too, but testing proved otherwise.\r\n\r\n```\r\n    <start type=\"script\">\r\n      game.rooms = NewObjectList()\r\n      list add (game.rooms, The Lab)\r\n      The Lab.can_teleport = true\r\n      Teleport 1.can_teleport = true\r\n    </start>\r\n\r\n\r\n    <script>\r\n      if (game.pov.parent.can_teleport) {\r\n        ShowMenu (\"Teleport\", game.rooms, true) {\r\n          MoveObject (game.pov, result)\r\n        }\r\n      }\r\n      else {\r\n        msg (\"You can't do that from here.\")\r\n      }\r\n```\r\n\r\n\r\n<samp>\r\n\r\nError running script: Error evaluating expression '(not GetBoolean(game.pov.parent, \"visited\")) and HasScript(game.pov.parent, \"beforefirstenter\")': GetBoolean function expected object parameter but was passed 'The Lab'\r\nError running script: Error evaluating expression 'GetBoolean(game.pov.parent, \"dark\")': GetBoolean function expected object parameter but was passed 'The Lab'\r\nError running script: Error evaluating expression 'GetAllChildObjects(room)': GetAllChildObjects function expected object parameter but was passed 'The Lab'\r\nError running script: Error evaluating expression 'GetAllChildObjects(room)': GetAllChildObjects function expected object parameter but was passed 'The Lab'\r\nError running script: Error evaluating expression 'GetBoolean(room, \"transparent\")': GetBoolean function expected object parameter but was passed 'The Lab'\r\nError running script: Error evaluating expression 'GetAllChildObjects(newParent)': GetAllChildObjects function expected object parameter but was passed 'null'\r\nError running script: Error evaluating expression 'GetAllChildObjects(room)': GetAllChildObjects function expected object parameter but was passed 'The Lab'\r\nError running script: Error evaluating expression 'GetAllChildObjects(room)': GetAllChildObjects function expected object parameter but was passed 'The Lab'\r\nError running script: Error evaluating expression 'GetBoolean(room, \"transparent\")': GetBoolean function expected object parameter but was passed 'The Lab'\r\nError running script: Error evaluating expression 'GetAllChildObjects(newParent)': GetAllChildObjects function expected object parameter but was passed 'null'\r\n\r\n</samp>\r\n\r\n---\r\n\r\n```\r\n  <command name=\"teleport\">\r\n    <pattern>teleport;tele;port;t;travel</pattern>\r\n    <script>\r\n      if (game.pov.parent.can_teleport) {\r\n        ShowMenu (\"Teleport\", game.rooms, true) {\r\n          MoveObject (game.pov, GetObject(result))\r\n        }\r\n      }\r\n      else {\r\n        msg (\"You can't do that from here.\")\r\n      }\r\n    </script>\r\n  </command>\r\n```\r\n\r\n<samp>\r\n\r\n\\> tele\r\n\r\nYou are in The Lab.\r\n\r\n</samp>",
      "EditableFormat": "markdown",
      "HTML": "<blockquote>\n<p>since you're using an Object List Attribute, you don't need the <code>GetObject()</code></p>\n</blockquote>\n<p>I thought that, too, but testing proved otherwise.</p>\n<pre><code>    &lt;start type=\"script\"&gt;\n      game.rooms = NewObjectList()\n      list add (game.rooms, The Lab)\n      The Lab.can_teleport = true\n      Teleport 1.can_teleport = true\n    &lt;/start&gt;\n\n\n    &lt;script&gt;\n      if (game.pov.parent.can_teleport) {\n        ShowMenu (\"Teleport\", game.rooms, true) {\n          MoveObject (game.pov, result)\n        }\n      }\n      else {\n        msg (\"You can't do that from here.\")\n      }\n</code></pre>\n<samp>\n<p>Error running script: Error evaluating expression '(not GetBoolean(game.pov.parent, \"visited\")) and HasScript(game.pov.parent, \"beforefirstenter\")': GetBoolean function expected object parameter but was passed 'The Lab'<br>\nError running script: Error evaluating expression 'GetBoolean(game.pov.parent, \"dark\")': GetBoolean function expected object parameter but was passed 'The Lab'<br>\nError running script: Error evaluating expression 'GetAllChildObjects(room)': GetAllChildObjects function expected object parameter but was passed 'The Lab'<br>\nError running script: Error evaluating expression 'GetAllChildObjects(room)': GetAllChildObjects function expected object parameter but was passed 'The Lab'<br>\nError running script: Error evaluating expression 'GetBoolean(room, \"transparent\")': GetBoolean function expected object parameter but was passed 'The Lab'<br>\nError running script: Error evaluating expression 'GetAllChildObjects(newParent)': GetAllChildObjects function expected object parameter but was passed 'null'<br>\nError running script: Error evaluating expression 'GetAllChildObjects(room)': GetAllChildObjects function expected object parameter but was passed 'The Lab'<br>\nError running script: Error evaluating expression 'GetAllChildObjects(room)': GetAllChildObjects function expected object parameter but was passed 'The Lab'<br>\nError running script: Error evaluating expression 'GetBoolean(room, \"transparent\")': GetBoolean function expected object parameter but was passed 'The Lab'<br>\nError running script: Error evaluating expression 'GetAllChildObjects(newParent)': GetAllChildObjects function expected object parameter but was passed 'null'</p>\n</samp>\n<hr>\n<pre><code>  &lt;command name=\"teleport\"&gt;\n    &lt;pattern&gt;teleport;tele;port;t;travel&lt;/pattern&gt;\n    &lt;script&gt;\n      if (game.pov.parent.can_teleport) {\n        ShowMenu (\"Teleport\", game.rooms, true) {\n          MoveObject (game.pov, GetObject(result))\n        }\n      }\n      else {\n        msg (\"You can't do that from here.\")\n      }\n    &lt;/script&gt;\n  &lt;/command&gt;\n</code></pre>\n<samp>\n<p>&gt; tele</p>\n<p>You are in The Lab.</p>\n</samp>\n\n",
      "PostDate": "2017-11-10T05:56:20.62438Z",
      "LastEditDate": "2017-11-10T06:00:30.6726642Z",
      "link": null
    },
    {
      "PostId": "13236532-a067-471e-9e16-1c48e6e9ebdc",
      "UserId": 318253,
      "Username": "K.V.",
      "AvatarUrl": "http://i.imgur.com/FOIjtApb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Here ya' go, jmne:\r\n\r\nLose the list in the start script.\r\n\r\nDo like mrangel suggested, just add a Boolean attribute named ```can_teleport``` to each room you want your **teleport** command to work in, and set that Boolean to ```true```.\r\n\r\nIf you don't want the room to show up on the list of destinations (or if you don't want the **teleport** command to work) at any point during play, just set the ```can_teleport``` Boolean on that room to ```false```.\r\n\r\n---\r\nSo, all you will need to do is set that attribute up on the rooms you want, and add this command:\r\n\r\n```\r\n  <command name=\"teleport\">\r\n    <pattern>teleport;tele;port;t;travel</pattern>\r\n    <script>\r\n      if (HasAttribute(game.pov.parent, \"can_teleport\")) {\r\n        if (game.pov.parent.can_teleport) {\r\n          ShowMenu (\"Teleport\", ListExclude(FilterByAttribute(AllObjects(), \"can_teleport\", true), game.pov.parent), true) {\r\n            result = GetObject(result)\r\n            msg (\"You teleport to: \"+GetDisplayName(result)+\".\")\r\n            MoveObject (game.pov,result)\r\n          }\r\n        }\r\n        else {\r\n          msg (\"...It didn't work...\")\r\n        }\r\n      }\r\n      else {\r\n        msg (\"You can't teleport from here.\")\r\n      }\r\n    </script>\r\n  </command>\r\n```\r\n\r\n---\r\nThat ```ListExclude``` bit will keep the current room from showing up as on option.\r\n\r\n\r\n---\r\n\r\n<details><summary>CLICK HERE TO VIEW THE REVISED Example game:</summary>\r\n\r\n```\r\n<!--Saved by Quest 5.7.6404.15496-->\r\n<asl version=\"550\">\r\n  <include ref=\"English.aslx\" />\r\n  <include ref=\"Core.aslx\" />\r\n  <game name=\"Teleporting\">\r\n    <gameid>b1109d19-2c86-407b-972b-7ee2da530b2c</gameid>\r\n    <version>1.0</version>\r\n    <firstpublished>2017</firstpublished>\r\n    <start type=\"script\">\r\n      The Lab.can_teleport = true\r\n    </start>\r\n  </game>\r\n  <object name=\"room\">\r\n    <inherit name=\"editor_room\" />\r\n    <object name=\"player\">\r\n      <inherit name=\"editor_object\" />\r\n      <inherit name=\"editor_player\" />\r\n    </object>\r\n    <exit alias=\"into the teleport booth\" to=\"Teleport 1\">\r\n      <inherit name=\"indirection\" />\r\n    </exit>\r\n  </object>\r\n  <object name=\"The Lab\">\r\n    <inherit name=\"editor_room\" />\r\n    <usedefaultprefix type=\"boolean\">false</usedefaultprefix>\r\n  </object>\r\n  <object name=\"Teleport 1\">\r\n    <inherit name=\"editor_room\" />\r\n    <usedefaultprefix type=\"boolean\">false</usedefaultprefix>\r\n    <beforefirstenter type=\"script\">\r\n      Teleport 1.can_teleport = true\r\n    </beforefirstenter>\r\n    <exit alias=\"out\" to=\"room\">\r\n      <inherit name=\"outdirection\" />\r\n    </exit>\r\n  </object>\r\n  <command name=\"teleport\">\r\n    <pattern>teleport;tele;port;t;travel</pattern>\r\n    <script>\r\n      if (HasAttribute(game.pov.parent, \"can_teleport\")) {\r\n        if (game.pov.parent.can_teleport) {\r\n          ShowMenu (\"Teleport\", ListExclude(FilterByAttribute(AllObjects(), \"can_teleport\", true), game.pov.parent), true) {\r\n            result = GetObject(result)\r\n            msg (\"You teleport to: \"+GetDisplayName(result)+\".\")\r\n            MoveObject (game.pov,result)\r\n          }\r\n        }\r\n        else {\r\n          msg (\"...It didn't work...\")\r\n        }\r\n      }\r\n      else {\r\n        msg (\"You can't teleport from here.\")\r\n      }\r\n    </script>\r\n  </command>\r\n</asl>\r\n```\r\n\r\n</details>\r\n\r\n---\r\nEDITED:  Added HK's teleport message.",
      "EditableFormat": "markdown",
      "HTML": "<p>Here ya' go, jmne:</p>\n<p>Lose the list in the start script.</p>\n<p>Do like mrangel suggested, just add a Boolean attribute named <code>can_teleport</code> to each room you want your <strong>teleport</strong> command to work in, and set that Boolean to <code>true</code>.</p>\n<p>If you don't want the room to show up on the list of destinations (or if you don't want the <strong>teleport</strong> command to work) at any point during play, just set the <code>can_teleport</code> Boolean on that room to <code>false</code>.</p>\n<hr>\n<p>So, all you will need to do is set that attribute up on the rooms you want, and add this command:</p>\n<pre><code>  &lt;command name=\"teleport\"&gt;\n    &lt;pattern&gt;teleport;tele;port;t;travel&lt;/pattern&gt;\n    &lt;script&gt;\n      if (HasAttribute(game.pov.parent, \"can_teleport\")) {\n        if (game.pov.parent.can_teleport) {\n          ShowMenu (\"Teleport\", ListExclude(FilterByAttribute(AllObjects(), \"can_teleport\", true), game.pov.parent), true) {\n            result = GetObject(result)\n            msg (\"You teleport to: \"+GetDisplayName(result)+\".\")\n            MoveObject (game.pov,result)\n          }\n        }\n        else {\n          msg (\"...It didn't work...\")\n        }\n      }\n      else {\n        msg (\"You can't teleport from here.\")\n      }\n    &lt;/script&gt;\n  &lt;/command&gt;\n</code></pre>\n<hr>\n<p>That <code>ListExclude</code> bit will keep the current room from showing up as on option.</p>\n<hr>\n<details><summary>CLICK HERE TO VIEW THE REVISED Example game:</summary>\n<pre><code>&lt;!--Saved by Quest 5.7.6404.15496--&gt;\n&lt;asl version=\"550\"&gt;\n  &lt;include ref=\"English.aslx\" /&gt;\n  &lt;include ref=\"Core.aslx\" /&gt;\n  &lt;game name=\"Teleporting\"&gt;\n    &lt;gameid&gt;b1109d19-2c86-407b-972b-7ee2da530b2c&lt;/gameid&gt;\n    &lt;version&gt;1.0&lt;/version&gt;\n    &lt;firstpublished&gt;2017&lt;/firstpublished&gt;\n    &lt;start type=\"script\"&gt;\n      The Lab.can_teleport = true\n    &lt;/start&gt;\n  &lt;/game&gt;\n  &lt;object name=\"room\"&gt;\n    &lt;inherit name=\"editor_room\" /&gt;\n    &lt;object name=\"player\"&gt;\n      &lt;inherit name=\"editor_object\" /&gt;\n      &lt;inherit name=\"editor_player\" /&gt;\n    &lt;/object&gt;\n    &lt;exit alias=\"into the teleport booth\" to=\"Teleport 1\"&gt;\n      &lt;inherit name=\"indirection\" /&gt;\n    &lt;/exit&gt;\n  &lt;/object&gt;\n  &lt;object name=\"The Lab\"&gt;\n    &lt;inherit name=\"editor_room\" /&gt;\n    &lt;usedefaultprefix type=\"boolean\"&gt;false&lt;/usedefaultprefix&gt;\n  &lt;/object&gt;\n  &lt;object name=\"Teleport 1\"&gt;\n    &lt;inherit name=\"editor_room\" /&gt;\n    &lt;usedefaultprefix type=\"boolean\"&gt;false&lt;/usedefaultprefix&gt;\n    &lt;beforefirstenter type=\"script\"&gt;\n      Teleport 1.can_teleport = true\n    &lt;/beforefirstenter&gt;\n    &lt;exit alias=\"out\" to=\"room\"&gt;\n      &lt;inherit name=\"outdirection\" /&gt;\n    &lt;/exit&gt;\n  &lt;/object&gt;\n  &lt;command name=\"teleport\"&gt;\n    &lt;pattern&gt;teleport;tele;port;t;travel&lt;/pattern&gt;\n    &lt;script&gt;\n      if (HasAttribute(game.pov.parent, \"can_teleport\")) {\n        if (game.pov.parent.can_teleport) {\n          ShowMenu (\"Teleport\", ListExclude(FilterByAttribute(AllObjects(), \"can_teleport\", true), game.pov.parent), true) {\n            result = GetObject(result)\n            msg (\"You teleport to: \"+GetDisplayName(result)+\".\")\n            MoveObject (game.pov,result)\n          }\n        }\n        else {\n          msg (\"...It didn't work...\")\n        }\n      }\n      else {\n        msg (\"You can't teleport from here.\")\n      }\n    &lt;/script&gt;\n  &lt;/command&gt;\n&lt;/asl&gt;\n</code></pre>\n</details>\n<hr>\n<p>EDITED:  Added HK's teleport message.</p>\n\n",
      "PostDate": "2017-11-10T07:35:54.730985Z",
      "LastEditDate": "2017-11-10T08:16:57.8350083Z",
      "link": null
    },
    {
      "PostId": "e34ba828-106d-4ddc-a74d-a3a06037452c",
      "UserId": 318253,
      "Username": "K.V.",
      "AvatarUrl": "http://i.imgur.com/FOIjtApb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "```\r\nShowMenu (\"Teleport\", ListExclude(FilterByAttribute(AllObjects(), \"can_teleport\", true), game.pov.parent), true) {\r\n  //script goes here\r\n}\r\n``` \r\nThe above is pretty much a shortcut for:\r\n\r\n```\r\nmyList = NewObjectList()\r\nforeach (o, AllObjects()){\r\n  if (HasAttribute(o, \"can_teleport\"){\r\n    if (o.can_teleport){\r\n      list add (myList, o)\r\n    }\r\n  }\r\n}\r\nmyExcludedList = ListExclude(myList,  game.pov.parent)\r\nShowMenu (\"Teleport\", myExcludedList, true) {\r\n  //script goes here\r\n}\r\n```",
      "EditableFormat": "markdown",
      "HTML": "<pre><code>ShowMenu (\"Teleport\", ListExclude(FilterByAttribute(AllObjects(), \"can_teleport\", true), game.pov.parent), true) {\n  //script goes here\n}\n</code></pre>\n<p>The above is pretty much a shortcut for:</p>\n<pre><code>myList = NewObjectList()\nforeach (o, AllObjects()){\n  if (HasAttribute(o, \"can_teleport\"){\n    if (o.can_teleport){\n      list add (myList, o)\n    }\n  }\n}\nmyExcludedList = ListExclude(myList,  game.pov.parent)\nShowMenu (\"Teleport\", myExcludedList, true) {\n  //script goes here\n}\n</code></pre>\n\n",
      "PostDate": "2017-11-10T08:26:47.2022676Z",
      "LastEditDate": "2017-11-10T09:08:14.7812392Z",
      "link": null
    },
    {
      "PostId": "d270fed7-f900-4497-9235-cfe60f85cbd4",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "I figured it's probably easier to filter twice, check for \"can_teleport\" and then check for \"visited\". That way you don't need to worry about adding the room to the list manually.\r\n\r\n@HK\r\n> Also, since you're using an Object List Attribute, you don't need the 'GetObject()', as the list items are already Objects\r\n\r\nPretty sure that's wrong. If you pass an objectlist to ShowMenu, then `result` will be a string, the name of the selected object.",
      "EditableFormat": "markdown",
      "HTML": "<p>I figured it's probably easier to filter twice, check for \"can_teleport\" and then check for \"visited\". That way you don't need to worry about adding the room to the list manually.</p>\n<p>@HK</p>\n<blockquote>\n<p>Also, since you're using an Object List Attribute, you don't need the 'GetObject()', as the list items are already Objects</p>\n</blockquote>\n<p>Pretty sure that's wrong. If you pass an objectlist to ShowMenu, then <code>result</code> will be a string, the name of the selected object.</p>\n\n",
      "PostDate": "2017-11-10T10:09:05.8768879Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "106dedb2-049b-4d2d-a106-48b57650673e",
      "UserId": 267336,
      "Username": "jmnevil54",
      "AvatarUrl": "https://secure.gravatar.com/avatar/5d73d7ec1dbe20a5cb46f02a6d53f187?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "HK's sugesstion works (list remove + list add). Thanks!\r\n\r\n(I ended up setting a new value, game.firstteleport = false...)",
      "EditableFormat": "markdown",
      "HTML": "<p>HK's sugesstion works (list remove + list add). Thanks!</p>\n<p>(I ended up setting a new value, game.firstteleport = false...)</p>\n\n",
      "PostDate": "2017-11-10T13:19:59.3004808Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "b80742a2-c55d-4750-bf82-847e3b889a04",
      "UserId": 247325,
      "Username": "hegemonkhan",
      "AvatarUrl": "https://secure.gravatar.com/avatar/a96cf34d8d97c57de38f54ee22b1759b?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "ah, my bad... about the Object List Attribute and show menu, just assumed it'd be an Object due to using an Object List Attribute... whoopsy... sorry about that. Just put back in the 'GetObject (result)', as it is actually needed.",
      "EditableFormat": "markdown",
      "HTML": "<p>ah, my bad... about the Object List Attribute and show menu, just assumed it'd be an Object due to using an Object List Attribute... whoopsy... sorry about that. Just put back in the 'GetObject (result)', as it is actually needed.</p>\n\n",
      "PostDate": "2017-11-11T06:15:45.4580476Z",
      "LastEditDate": "2017-11-11T06:21:02.4747602Z",
      "link": null
    }
  ]
}
