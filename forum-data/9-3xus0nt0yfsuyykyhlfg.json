{
  "Topic": {
    "TopicId": "9-3xus0nt0yfsuyykyhlfg",
    "ForumId": "10",
    "Title": "External popup picture over the gamewindow.",
    "LastUpdated": "2018-05-04T09:17:37.6108369Z",
    "ReplyCount": 0
  },
  "Posts": [
    {
      "PostId": "1829b90b-4404-46bf-8ffc-8ff036497d77",
      "UserId": 348994,
      "Username": "CheeseMyBaby",
      "AvatarUrl": "https://i.imgur.com/c5nBbAgb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "My eyes hurts from all the post I've read to try to answer this myself.\r\n\r\nLong story short:\r\nI want to be able to type \"map\" and get a pop up containing a, well.. map (<b>not</b> a quest map though, I mean a picture).\r\nI have two problems at the moment:\r\n\r\n1. I can't get it to work with an external URL (and I have to be able to do this because of the sheer amount  of picture this will need).\r\n2. I want it to popup 'over' the text in the game. Not in it. \r\n\r\nIs this doable? Someone tell me to drop it and I will.\r\n\r\n",
      "EditableFormat": "markdown",
      "HTML": "<p>My eyes hurts from all the post I've read to try to answer this myself.</p>\n<p>Long story short:<br>\nI want to be able to type \"map\" and get a pop up containing a, well.. map (<b>not</b> a quest map though, I mean a picture).<br>\nI have two problems at the moment:</p>\n<ol>\n<li>I can't get it to work with an external URL (and I have to be able to do this because of the sheer amount  of picture this will need).</li>\n<li>I want it to popup 'over' the text in the game. Not in it.</li>\n</ol>\n<p>Is this doable? Someone tell me to drop it and I will.</p>\n\n",
      "PostDate": "2018-05-04T09:17:37.6108369Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "722777e5-c686-4f47-8771-c2a541d68106",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Should be doable, I think.\r\n\r\nMy first attempt would be a little javascript, something along the lines of:\r\n```\r\nSetFloatingImage = function (image) {\r\n  var pane = $(\"#floatingImage\");\r\n  if (!pane.length) {\r\n    pane = $(\"<img>\", {id: \"floatingImage\"}).appendTo(\"#divOutput\").css({position: \"fixed\", left: 100, top: 100, width: 200});\r\n  }\r\n  pane.attr(\"src\", image);\r\n};\r\n```\r\nThen in Quest you can do:\r\n```\r\nJS.SetFloatingImage(\"http://some.domain.com/some_image.png\")\r\n```\r\nOf course, if you want to give the popup a title bar, a close widget, and let the player drag or resize it, those are all extra elements you need to add in. But none of them should be particularly difficult.",
      "EditableFormat": "markdown",
      "HTML": "<p>Should be doable, I think.</p>\n<p>My first attempt would be a little javascript, something along the lines of:</p>\n<pre><code>SetFloatingImage = function (image) {\n  var pane = $(\"#floatingImage\");\n  if (!pane.length) {\n    pane = $(\"&lt;img&gt;\", {id: \"floatingImage\"}).appendTo(\"#divOutput\").css({position: \"fixed\", left: 100, top: 100, width: 200});\n  }\n  pane.attr(\"src\", image);\n};\n</code></pre>\n<p>Then in Quest you can do:</p>\n<pre><code>JS.SetFloatingImage(\"http://some.domain.com/some_image.png\")\n</code></pre>\n<p>Of course, if you want to give the popup a title bar, a close widget, and let the player drag or resize it, those are all extra elements you need to add in. But none of them should be particularly difficult.</p>\n\n",
      "PostDate": "2018-05-04T10:02:03.5131174Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "84c4ae1d-1a06-4d58-9a11-893b5a3917ea",
      "UserId": 318253,
      "Username": "K.V.",
      "AvatarUrl": "https://i.imgur.com/mBf7TBeb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "To add a JS file:\r\n\r\n\r\nClick 'Add'\r\n\r\n![image](https://user-images.githubusercontent.com/30656341/39622852-4c871b38-4f59-11e8-9f0e-2bfa647e25c3.png)\r\n\r\n---\r\nClick 'New' then 'Save'\r\n\r\n![image](https://user-images.githubusercontent.com/30656341/39622895-6ed6721a-4f59-11e8-966b-d631e82ca94c.png)\r\n\r\n\r\n---\r\nNow you can enter JS into the field.\r\n\r\n![image](https://user-images.githubusercontent.com/30656341/39622918-7ddf71b2-4f59-11e8-9409-8960b3dfb4b0.png)\r\n\r\n---\r\nAdd this to a JS file:\r\n\r\n```js\r\nfunction showPopup(title, text) {\r\n\t$('#msgboxCaption').html(text);\r\n\r\n\tvar msgboxOptions = {\r\n\t\tautoOpen: false,\r\n\t\ttitle: title,\r\n\t\tbuttons: [\r\n\t\t\t{\r\n\t\t\t\ttext: 'OK',\r\n\t\t\t\tclick: function () { $(this).dialog('close'); }\r\n\t\t\t},\r\n\t\t],\r\n\t\tcloseOnEscape: false,\r\n\t};\r\n\r\n\t$('#msgbox').dialog(msgboxOptions);\r\n\t$('#msgbox').dialog('open');\r\n};\r\n```\r\n\r\n---\r\nThat will look like this:\r\n\r\n![image](https://user-images.githubusercontent.com/30656341/39622975-b6d0680a-4f59-11e8-9867-ac0527d416b1.png)\r\n\r\n---\r\nThen in a Quest script (I'm putting this in a MAP command in this example):\r\n\r\n```\r\nsrc = \"https://i.imgur.com/c5nBbAgb.png\"\r\nelem = \"<img src='\"+src+\"'/>\"\r\nJS.showPopup(\"Map\", elem)\r\n```\r\n\r\n![image](https://user-images.githubusercontent.com/30656341/39623005-d87ba3e8-4f59-11e8-80b7-c22801dbe276.png)\r\n\r\n---\r\n![image](https://user-images.githubusercontent.com/30656341/39623054-03e701b2-4f5a-11e8-8b5e-434ab67c02ca.png)\r\n\r\n\r\n---\r\nIf you want it to be fullscreen, add this one to your JS file:\r\n\r\n```\r\nfunction showPopupFullscreen(title, text) {\r\n\t$('#msgboxCaption').html(text);\r\n\r\n\tvar msgboxOptions = {\r\n\t\tmodal: true,\r\n\t\tautoOpen: false,\r\n\t\ttitle: title,\r\n\t\twidth: $(window).width(),\r\n\t\theight: $(window).height(),\r\n\t\tbuttons: [\r\n\t\t\t{\r\n\t\t\t\ttext: 'OK',\r\n\t\t\t\tclick: function () { $(this).dialog('close'); }\r\n\t\t\t},\r\n\t\t],\r\n\t\tcloseOnEscape: false,\r\n\t};\r\n\r\n\t$('#msgbox').dialog(msgboxOptions);\r\n\t$('#msgbox').dialog('open');\r\n};\r\n```\r\n\r\n---\r\nThen change your Quest script to this (NOTE: You may need to add 'width:100%' to that inline CSS, depending on your image's size):\r\n\r\n```\r\nsrc = \"https://i.imgur.com/c5nBbAgb.png\"\r\nelem = \"<center><img style='max-width:100%;' src='\"+src+\"'/></center>\"\r\nJS.showPopupFullscreen (\"Map\", elem)\r\n```\r\n\r\n---\r\n![image](https://user-images.githubusercontent.com/30656341/39623280-ba669376-4f5a-11e8-8197-f2f63a5d3afa.png)\r\n\r\n\r\n---\r\n### These functions will be included in the next release of Quest.\r\n\r\n---\r\nOne extra function is here:\r\n\r\nhttps://github.com/KVonGit/QuestStuff/wiki/Custom-Popups\r\n\r\n---\r\njavascript.js\r\n\r\n```js\r\nfunction showPopup(title, text) {\r\n\t$('#msgboxCaption').html(text);\r\n\r\n\tvar msgboxOptions = {\r\n\t\tmodal: true,\r\n\t\tautoOpen: false,\r\n\t\ttitle: title,\r\n\t\tbuttons: [\r\n\t\t\t{\r\n\t\t\t\ttext: 'OK',\r\n\t\t\t\tclick: function () { $(this).dialog('close'); }\r\n\t\t\t},\r\n\t\t],\r\n\t\tcloseOnEscape: false,\r\n\t};\r\n\r\n\t$('#msgbox').dialog(msgboxOptions);\r\n\t$('#msgbox').dialog('open');\r\n};\r\n\r\n\r\nfunction showPopupFullscreen(title, text) {\r\n\t$('#msgboxCaption').html(text);\r\n\r\n\tvar msgboxOptions = {\r\n\t\tmodal: true,\r\n\t\tautoOpen: false,\r\n\t\ttitle: title,\r\n\t\twidth: $(window).width(),\r\n\t\theight: $(window).height(),\r\n\t\tbuttons: [\r\n\t\t\t{\r\n\t\t\t\ttext: 'OK',\r\n\t\t\t\tclick: function () { $(this).dialog('close'); }\r\n\t\t\t},\r\n\t\t],\r\n\t\tcloseOnEscape: false,\r\n\t};\r\n\r\n\t$('#msgbox').dialog(msgboxOptions);\r\n\t$('#msgbox').dialog('open');\r\n};\r\n```\r\n\r\n---\r\nExample game file:\r\n\r\n```\r\n<!--Saved by Quest 5.7.6606.27193-->\r\n<asl version=\"550\">\r\n  <include ref=\"English.aslx\" />\r\n  <include ref=\"Core.aslx\" />\r\n  <game name=\"External Image In Popup\">\r\n    <gameid>ab0fd9c2-b1de-4bf7-9f9e-e7fbae8c067b</gameid>\r\n    <version>1.0</version>\r\n    <firstpublished>2018</firstpublished>\r\n  </game>\r\n  <object name=\"room\">\r\n    <inherit name=\"editor_room\" />\r\n    <object name=\"player\">\r\n      <inherit name=\"editor_object\" />\r\n      <inherit name=\"editor_player\" />\r\n    </object>\r\n  </object>\r\n  <command name=\"map_cmd\">\r\n    <pattern>map;show map</pattern>\r\n    <script><![CDATA[\r\n      src = \"https://i.imgur.com/c5nBbAgb.png\"\r\n      elem = \"<center><img style='max-width:100%;' src='\"+src+\"'/></center>\"\r\n      JS.showPopupFullscreen (\"Map\", elem)\r\n    ]]></script>\r\n  </command>\r\n  <javascript src=\"javascript.js\" />\r\n</asl>\r\n```",
      "EditableFormat": "markdown",
      "HTML": "<p>To add a JS file:</p>\n<p>Click 'Add'</p>\n<p><img src=\"https://user-images.githubusercontent.com/30656341/39622852-4c871b38-4f59-11e8-9f0e-2bfa647e25c3.png\" alt=\"image\"></p>\n<hr>\n<p>Click 'New' then 'Save'</p>\n<p><img src=\"https://user-images.githubusercontent.com/30656341/39622895-6ed6721a-4f59-11e8-966b-d631e82ca94c.png\" alt=\"image\"></p>\n<hr>\n<p>Now you can enter JS into the field.</p>\n<p><img src=\"https://user-images.githubusercontent.com/30656341/39622918-7ddf71b2-4f59-11e8-9409-8960b3dfb4b0.png\" alt=\"image\"></p>\n<hr>\n<p>Add this to a JS file:</p>\n<pre><code>function showPopup(title, text) {\n\t$('#msgboxCaption').html(text);\n\n\tvar msgboxOptions = {\n\t\tautoOpen: false,\n\t\ttitle: title,\n\t\tbuttons: [\n\t\t\t{\n\t\t\t\ttext: 'OK',\n\t\t\t\tclick: function () { $(this).dialog('close'); }\n\t\t\t},\n\t\t],\n\t\tcloseOnEscape: false,\n\t};\n\n\t$('#msgbox').dialog(msgboxOptions);\n\t$('#msgbox').dialog('open');\n};\n</code></pre>\n<hr>\n<p>That will look like this:</p>\n<p><img src=\"https://user-images.githubusercontent.com/30656341/39622975-b6d0680a-4f59-11e8-9867-ac0527d416b1.png\" alt=\"image\"></p>\n<hr>\n<p>Then in a Quest script (I'm putting this in a MAP command in this example):</p>\n<pre><code>src = \"https://i.imgur.com/c5nBbAgb.png\"\nelem = \"&lt;img src='\"+src+\"'/&gt;\"\nJS.showPopup(\"Map\", elem)\n</code></pre>\n<p><img src=\"https://user-images.githubusercontent.com/30656341/39623005-d87ba3e8-4f59-11e8-80b7-c22801dbe276.png\" alt=\"image\"></p>\n<hr>\n<p><img src=\"https://user-images.githubusercontent.com/30656341/39623054-03e701b2-4f5a-11e8-8b5e-434ab67c02ca.png\" alt=\"image\"></p>\n<hr>\n<p>If you want it to be fullscreen, add this one to your JS file:</p>\n<pre><code>function showPopupFullscreen(title, text) {\n\t$('#msgboxCaption').html(text);\n\n\tvar msgboxOptions = {\n\t\tmodal: true,\n\t\tautoOpen: false,\n\t\ttitle: title,\n\t\twidth: $(window).width(),\n\t\theight: $(window).height(),\n\t\tbuttons: [\n\t\t\t{\n\t\t\t\ttext: 'OK',\n\t\t\t\tclick: function () { $(this).dialog('close'); }\n\t\t\t},\n\t\t],\n\t\tcloseOnEscape: false,\n\t};\n\n\t$('#msgbox').dialog(msgboxOptions);\n\t$('#msgbox').dialog('open');\n};\n</code></pre>\n<hr>\n<p>Then change your Quest script to this (NOTE: You may need to add 'width:100%' to that inline CSS, depending on your image's size):</p>\n<pre><code>src = \"https://i.imgur.com/c5nBbAgb.png\"\nelem = \"&lt;center&gt;&lt;img style='max-width:100%;' src='\"+src+\"'/&gt;&lt;/center&gt;\"\nJS.showPopupFullscreen (\"Map\", elem)\n</code></pre>\n<hr>\n<p><img src=\"https://user-images.githubusercontent.com/30656341/39623280-ba669376-4f5a-11e8-8197-f2f63a5d3afa.png\" alt=\"image\"></p>\n<hr>\n<h3>These functions will be included in the next release of Quest.</h3>\n<hr>\n<p>One extra function is here:</p>\n<p>https://github.com/KVonGit/QuestStuff/wiki/Custom-Popups</p>\n<hr>\n<p>javascript.js</p>\n<pre><code>function showPopup(title, text) {\n\t$('#msgboxCaption').html(text);\n\n\tvar msgboxOptions = {\n\t\tmodal: true,\n\t\tautoOpen: false,\n\t\ttitle: title,\n\t\tbuttons: [\n\t\t\t{\n\t\t\t\ttext: 'OK',\n\t\t\t\tclick: function () { $(this).dialog('close'); }\n\t\t\t},\n\t\t],\n\t\tcloseOnEscape: false,\n\t};\n\n\t$('#msgbox').dialog(msgboxOptions);\n\t$('#msgbox').dialog('open');\n};\n\n\nfunction showPopupFullscreen(title, text) {\n\t$('#msgboxCaption').html(text);\n\n\tvar msgboxOptions = {\n\t\tmodal: true,\n\t\tautoOpen: false,\n\t\ttitle: title,\n\t\twidth: $(window).width(),\n\t\theight: $(window).height(),\n\t\tbuttons: [\n\t\t\t{\n\t\t\t\ttext: 'OK',\n\t\t\t\tclick: function () { $(this).dialog('close'); }\n\t\t\t},\n\t\t],\n\t\tcloseOnEscape: false,\n\t};\n\n\t$('#msgbox').dialog(msgboxOptions);\n\t$('#msgbox').dialog('open');\n};\n</code></pre>\n<hr>\n<p>Example game file:</p>\n<pre><code>&lt;!--Saved by Quest 5.7.6606.27193--&gt;\n&lt;asl version=\"550\"&gt;\n  &lt;include ref=\"English.aslx\" /&gt;\n  &lt;include ref=\"Core.aslx\" /&gt;\n  &lt;game name=\"External Image In Popup\"&gt;\n    &lt;gameid&gt;ab0fd9c2-b1de-4bf7-9f9e-e7fbae8c067b&lt;/gameid&gt;\n    &lt;version&gt;1.0&lt;/version&gt;\n    &lt;firstpublished&gt;2018&lt;/firstpublished&gt;\n  &lt;/game&gt;\n  &lt;object name=\"room\"&gt;\n    &lt;inherit name=\"editor_room\" /&gt;\n    &lt;object name=\"player\"&gt;\n      &lt;inherit name=\"editor_object\" /&gt;\n      &lt;inherit name=\"editor_player\" /&gt;\n    &lt;/object&gt;\n  &lt;/object&gt;\n  &lt;command name=\"map_cmd\"&gt;\n    &lt;pattern&gt;map;show map&lt;/pattern&gt;\n    &lt;script&gt;&lt;![CDATA[\n      src = \"https://i.imgur.com/c5nBbAgb.png\"\n      elem = \"&lt;center&gt;&lt;img style='max-width:100%;' src='\"+src+\"'/&gt;&lt;/center&gt;\"\n      JS.showPopupFullscreen (\"Map\", elem)\n    ]]&gt;&lt;/script&gt;\n  &lt;/command&gt;\n  &lt;javascript src=\"javascript.js\" /&gt;\n&lt;/asl&gt;\n</code></pre>\n\n",
      "PostDate": "2018-05-04T10:21:41.7366802Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "afa53419-041e-471e-ab96-bb838576e032",
      "UserId": 348994,
      "Username": "CheeseMyBaby",
      "AvatarUrl": "https://i.imgur.com/c5nBbAgb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "MrAngel!\r\nThanks! It works exactly as I'd hoped it would!!!\r\n\r\nNow I just need to see to those things supposedly none of witch \"<i>should be particularly difficult</i>\" :)\r\n",
      "EditableFormat": "markdown",
      "HTML": "<p>MrAngel!<br>\nThanks! It works exactly as I'd hoped it would!!!</p>\n<p>Now I just need to see to those things supposedly none of witch \"<i>should be particularly difficult</i>\" :)</p>\n\n",
      "PostDate": "2018-05-04T10:32:33.5544524Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "009954f2-260a-4a1f-b892-27eac8a4077d",
      "UserId": 348994,
      "Username": "CheeseMyBaby",
      "AvatarUrl": "https://i.imgur.com/c5nBbAgb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Woah, K.V., lots of interesting stuff. MrAngels thing worked really well, but I'll read and analyze your code and try to learn!\r\nThanks a lot, both of you!",
      "EditableFormat": "markdown",
      "HTML": "<p>Woah, K.V., lots of interesting stuff. MrAngels thing worked really well, but I'll read and analyze your code and try to learn!<br>\nThanks a lot, both of you!</p>\n\n",
      "PostDate": "2018-05-04T10:35:55.895668Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "22cd93f0-6782-4d22-82a7-5deccfcdba89",
      "UserId": 318253,
      "Username": "K.V.",
      "AvatarUrl": "https://i.imgur.com/mBf7TBeb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Oh, I didn't even see mrangel's.  Ha-ha!  Yeah, that looks a little easier than the jQueryUI dialog popup!",
      "EditableFormat": "markdown",
      "HTML": "<p>Oh, I didn't even see mrangel's.  Ha-ha!  Yeah, that looks a little easier than the jQueryUI dialog popup!</p>\n\n",
      "PostDate": "2018-05-04T10:42:08.5140112Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "7234474e-1094-4331-b841-3153133dd5c9",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "The popup version is probably better if you want the title bar and everything … most of the code pre-built for you",
      "EditableFormat": "markdown",
      "HTML": "<p>The popup version is probably better if you want the title bar and everything … most of the code pre-built for you</p>\n\n",
      "PostDate": "2018-05-04T10:43:55.3236238Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "1325dbc3-b42c-4f3d-b6aa-46eb925f5450",
      "UserId": 318253,
      "Username": "K.V.",
      "AvatarUrl": "https://i.imgur.com/mBf7TBeb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "> Now I just need to see to those things supposedly none of witch \"should be particularly difficult\"\r\n\r\nMy first function (not the Fullscreen one) does these things 'out of the box', by the way:\r\n\r\ntitle bar, a close widget, and let the player drag or resize it",
      "EditableFormat": "markdown",
      "HTML": "<blockquote>\n<p>Now I just need to see to those things supposedly none of witch \"should be particularly difficult\"</p>\n</blockquote>\n<p>My first function (not the Fullscreen one) does these things 'out of the box', by the way:</p>\n<p>title bar, a close widget, and let the player drag or resize it</p>\n\n",
      "PostDate": "2018-05-04T10:44:35.2603081Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "b4b796cc-e882-43d9-9433-fccb04559c0f",
      "UserId": 318253,
      "Username": "K.V.",
      "AvatarUrl": "https://i.imgur.com/mBf7TBeb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Ha!\r\n\r\nHey, Cheese... You're sort of new.  mrangel and I have this thing every once in a while.  I call it 'simultaneous posting', due to lack of a better term.\r\n\r\n---\r\nAlso note that when this happens, you should usually go with what mrangel says.  (mrangel thinks like a coder.  I just do what I can to make things work.)",
      "EditableFormat": "markdown",
      "HTML": "<p>Ha!</p>\n<p>Hey, Cheese... You're sort of new.  mrangel and I have this thing every once in a while.  I call it 'simultaneous posting', due to lack of a better term.</p>\n<hr>\n<p>Also note that when this happens, you should usually go with what mrangel says.  (mrangel thinks like a coder.  I just do what I can to make things work.)</p>\n\n",
      "PostDate": "2018-05-04T10:49:23.4551453Z",
      "LastEditDate": null,
      "link": null
    }
  ]
}
