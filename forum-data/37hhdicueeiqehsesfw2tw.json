{
  "Topic": {
    "TopicId": "37hhdicueeiqehsesfw2tw",
    "ForumId": "10",
    "Title": "combat system. [solved]",
    "LastUpdated": "2019-06-06T01:57:04.3580881Z",
    "ReplyCount": 0
  },
  "Posts": [
    {
      "PostId": "c29ac242-7d72-4767-9f27-709e0e5ab05a",
      "UserId": 381795,
      "Username": "devilmaymoan",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "So I'm trying to create a combat system but I'm completely lost as to how to even begin with. I've tried to look at Pixie combat lib but it is really extensive and complicated, there is a lot there I just don't need so I thought I'd ask if anyone could help me either create from scratch or modify the Lib for my need. It's a zombie game and here what I would like for the combat.\r\n\r\n1- A simple system where the weapon dictates the damage done.\r\n2- Enemy that attack when you enter a room and a way to set up outdoor room with a chance to spawn enemy and be attacked.\r\n3- Armor for the player. (some wearable that reduces incoming damages)\r\n4- Loot from a dead enemy, no need to be random.\r\n5- Firearms with a reload. ( something like Handgun ammo: 13/15 ) the reload could be via clips where the player loses the current ammo remaining or via straight ammo for something like a shotgun. (if clips are too complicated straight ammo would do just fine.)\r\n6-(optional) Accuracy - a chance for the gun to miss \r\n7-(optional) a way to have multiple enemies attack at the same time.\r\n\r\nThings I don't really like with Pixies Lib is the fact that it relies on stats and random roll for an attack, also the ammo system seems to be overlooked which is totally understandable for an RPG Lib but for a zombie game where you gradually get better guns allowing you to fight harder enemies it seems lacking unless I missed something and that wouldn't surprise me lol.",
      "EditableFormat": "markdown",
      "HTML": "<p>So I'm trying to create a combat system but I'm completely lost as to how to even begin with. I've tried to look at Pixie combat lib but it is really extensive and complicated, there is a lot there I just don't need so I thought I'd ask if anyone could help me either create from scratch or modify the Lib for my need. It's a zombie game and here what I would like for the combat.</p>\n<p>1- A simple system where the weapon dictates the damage done.<br>\n2- Enemy that attack when you enter a room and a way to set up outdoor room with a chance to spawn enemy and be attacked.<br>\n3- Armor for the player. (some wearable that reduces incoming damages)<br>\n4- Loot from a dead enemy, no need to be random.<br>\n5- Firearms with a reload. ( something like Handgun ammo: 13/15 ) the reload could be via clips where the player loses the current ammo remaining or via straight ammo for something like a shotgun. (if clips are too complicated straight ammo would do just fine.)<br>\n6-(optional) Accuracy - a chance for the gun to miss<br>\n7-(optional) a way to have multiple enemies attack at the same time.</p>\n<p>Things I don't really like with Pixies Lib is the fact that it relies on stats and random roll for an attack, also the ammo system seems to be overlooked which is totally understandable for an RPG Lib but for a zombie game where you gradually get better guns allowing you to fight harder enemies it seems lacking unless I missed something and that wouldn't surprise me lol.</p>\n\n",
      "PostDate": "2019-06-06T01:57:04.3580881Z",
      "LastEditDate": "2019-06-10T12:16:00.6972018Z",
      "link": null
    },
    {
      "PostId": "bd504445-bcb2-43be-bac5-e0e6a3af8df7",
      "UserId": 247325,
      "Username": "hegemonkhan",
      "AvatarUrl": "https://secure.gravatar.com/avatar/a96cf34d8d97c57de38f54ee22b1759b?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "you can take a look at my old combat code (this is for an earlier version of quest, and some of the syntax, the list/dictionary stuff, has changed for the newer versions, so this won't work without updating it) for a start/idea on how to do a combat system:\r\n\r\n(also, I got confused with some of my stats stuff, the damage vs resistance, as well, so my code also has these errors in it too)\r\n\r\nsee if this makes sense to you or not... if not, you can ask me to help you with it and to explain it\r\n\r\n```\r\n    <asl version=\"530\">\r\n      <include ref=\"English.aslx\" />\r\n      <include ref=\"Core.aslx\" />\r\n      <game name=\"Test\">\r\n        <gameid>d83ba5bb-2e3c-4f31-80c9-3e88a2dc082c</gameid>\r\n        <version>1.0</version>\r\n        <pov type=\"object\">player</pov>\r\n        <start type=\"script\">\r\n          cc\r\n        </start>\r\n        <turns type=\"int\">0</turns>\r\n        <statusattributes type=\"stringdictionary\">turns = </statusattributes>\r\n      </game>\r\n      <object name=\"room\">\r\n        <inherit name=\"editor_room\" />\r\n        <object name=\"player\">\r\n          <inherit name=\"defaultplayer\" />\r\n          <inherit name=\"pc\" />\r\n          <cur_hp type=\"int\">999</cur_hp>\r\n          <max_hp type=\"int\">999</max_hp>\r\n          <str type=\"int\">100</str>\r\n          <end type=\"int\">100</end>\r\n          <dex type=\"int\">100</dex>\r\n          <agi type=\"int\">100</agi>\r\n          <spd type=\"int\">100</spd>\r\n          <hc type=\"int\">100</hc>\r\n          <pd type=\"int\">100</pd>\r\n          <pr type=\"int\">100</pr>\r\n        </object>\r\n        <object name=\"orc1\">\r\n          <inherit name=\"editor_object\" />\r\n          <inherit name=\"npc\" />\r\n          <hostile type=\"boolean\">true</hostile>\r\n          <dead type=\"boolean\">false</dead>\r\n          <alias>orc</alias>\r\n          <cur_hp type=\"int\">999</cur_hp>\r\n          <max_hp type=\"int\">999</max_hp>\r\n          <str type=\"int\">25</str>\r\n          <end type=\"int\">25</end>\r\n          <dex type=\"int\">25</dex>\r\n          <agi type=\"int\">25</agi>\r\n          <spd type=\"int\">75</spd>\r\n          <hc type=\"int\">25</hc>\r\n          <pd type=\"int\">25</pd>\r\n          <pr type=\"int\">25</pr>\r\n        </object>\r\n      </object>\r\n      <turnscript name=\"game_turns\">\r\n        <enabled />\r\n        <script>\r\n          sa\r\n          game.turns = game.turns + 1\r\n        </script>\r\n      </turnscript>\r\n      <command name=\"fight\">\r\n        <pattern>fight #text#</pattern>\r\n        <script>\r\n          battle_system (game.pov,text)\r\n        </script>\r\n      </command>\r\n      <type name=\"char\">\r\n        <cur_hp type=\"int\">0</cur_hp>\r\n        <drop type=\"boolean\">false</drop>\r\n        <defending type=\"boolean\">false</defending>\r\n        <max_hp type=\"int\">0</max_hp>\r\n        <str type=\"int\">0</str>\r\n        <end type=\"int\">0</end>\r\n        <dex type=\"int\">0</dex>\r\n        <agi type=\"int\">0</agi>\r\n        <spd type=\"int\">0</spd>\r\n        <hp type=\"int\">0</hp>\r\n        <hc type=\"int\">0</hc>\r\n        <pd type=\"int\">0</pd>\r\n        <pr type=\"int\">0</pr>\r\n      </type>\r\n      <type name=\"pc\">\r\n        <inherit name=\"char\" />\r\n        <statusattributes type=\"stringdictionary\">hp = ;str = ;end = ;dex = ;agi = ;spd = ;hc = ;pd = ;pr = </statusattributes>\r\n      </type>\r\n      <type name=\"npc\">\r\n        <inherit name=\"char\" />\r\n        <dead type=\"boolean\">false</dead>\r\n        <hostile type=\"boolean\">false</hostile>\r\n        <displayverbs type=\"list\">Look at; Talk; Fight</displayverbs>\r\n      </type>\r\n      <function name=\"cc\">\r\n        msg (\"What is your name?\")\r\n        get input {\r\n          game.pov.alias = result\r\n          msg (\" - \" + game.pov.alias)\r\n          show menu (\"What is your gender?\", split (\"male;female\" , \";\"), false) {\r\n            game.pov.gender = result\r\n            show menu (\"What is your race?\", split (\"human;dwarf;elf\" , \";\"), false) {\r\n              game.pov.race = result\r\n              show menu (\"What is your class?\", split (\"warrior;cleric;mage;thief\" , \";\"), false) {\r\n                game.pov.class = result\r\n                msg (game.pov.alias + \" is a \" + game.pov.gender + \" \" + game.pov.race + \" \" + game.pov.class + \".\")\r\n                wait {\r\n                  ClearScreen\r\n\t\t\t\t  \r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      </function>\r\n      <function name=\"sa\">\r\n        game.pov.hp = game.pov.cur_hp + \" / \" + game.pov.max_hp\r\n      </function>\r\n      <function name=\"battle_system\" parameters=\"self,text\">\r\n        enemy = GetObject (text)\r\n        if (enemy = null) {\r\n          foreach (obj,AllObjects()) {\r\n            if (obj.alias=text) {\r\n              enemy = obj\r\n            }\r\n          }\r\n        }\r\n        if (enemy = null) {\r\n          msg (\"There is no \" + text + \" here.\")\r\n        }\r\n        else if (not Doesinherit (enemy,\"npc\")) {\r\n          msg (\"You can not battle that!\")\r\n        }\r\n        else if (not npc_reachable (enemy)) {\r\n          msg (\"There is no \" + enemy.alias + \" in your vicinity.\")\r\n        }\r\n        else if (GetBoolean (enemy,\"dead\") = true) {\r\n          msg (enemy.alias + \" is already dead.\")\r\n        }\r\n        else if (GetBoolean (enemy,\"hostile\") = false) {\r\n          msg (enemy.alias + \" is not hostile.\")\r\n        }\r\n        else {\r\n\t\t\tbattle_sequence (self,enemy)\r\n    \t} \r\n\r\n      </function>\r\n      <function name=\"battle_sequence\" parameters=\"self,enemy\"><![CDATA[\r\n\t\tif (enemy.dead = false) {\r\n\t\t\tplayerfirst=false\r\n\t\t\tif (GetInt (self,\"spd\") > GetInt (enemy,\"spd\")) {\r\n\t\t\t\tplayerfirst=true\r\n\t\t\t} else if (GetInt (self,\"spd\") = GetInt (enemy,\"spd\") and RandomChance (50)) {\r\n\t\t\t\tplayerfirst=true\r\n\t\t\t}   \t\t  \r\n\t\t\t\r\n\t\t\tif (playerfirst) {\r\n\t\t\t   msg (\"You get to go first for this round\")\r\n\t\t\t   self_battle_turn (self,enemy) \r\n\t\t\t   on ready {\r\n\t\t\t\t if (not enemy.dead){\r\n\t\t\t\t   enemy_battle_turn (self,enemy) \r\n\t\t\t\t }\r\n\t\t\t   }\r\n\t\t\t} else {\r\n\t\t\t   msg (enemy.alias + \" gets to go first for this round.\")\r\n\t\t\t\tenemy_battle_turn (self,enemy) \r\n\t\t\t\tmsg (\"It is now your turn.\")\r\n\t\t\t\tself_battle_turn (self,enemy) \r\n\t\t\t}\r\n\t\t\ton ready {\r\n\t\t\t\tmsg (\"The round has ended.\")\r\n\t\t\t\tmsg(\"\")  \r\n\t\t\t\tbattle_sequence (self,enemy)\t\r\n\t\t\t}\t\r\n        } \telse { \r\n\t\t\t\tmsg (\"The battle is over.\")\r\n        }\r\n      ]]></function>\r\n      <function name=\"self_battle_turn\" parameters=\"self,enemy\"><![CDATA[\r\n\t\tmsg (self.alias + \" has \" + self.cur_hp + \" HP left.\")\r\n        msg (enemy.alias + \" has \" + enemy.cur_hp + \" HP left.\")\r\n        wait {\r\n          show menu (\"What is your battle choice?\", split (\"Attack;Defend;Cast;Item;Run\", \";\"), false) {\r\n            switch (result) {\r\n              case (\"Attack\") {\r\n                fourth_value = false\r\n                if (RandomChance (GetInt (enemy,\"agi\") - GetInt (self,\"spd\")) = true) {\r\n                  msg (enemy.alias + \"evaded your attack!\")\r\n                  fourth_value = true\r\n                }\r\n                else if (RandomChance (GetInt (enemy,\"Dex\") - GetInt (self,\"agi\")) = true) {\r\n                  msg (enemy.alias + \"parried your attack!\")\r\n                  fourth_value = true\r\n                }\r\n                else if (RandomChance (GetInt (enemy,\"agi\") - GetInt (self,\"dex\")) = true) {\r\n                  msg (enemy.alias + \"blocked your attack!\")\r\n                  fourth_value = true\r\n                }\r\n                else if (RandomChance (GetInt (self,\"dex\") - GetInt (enemy,\"spd\")) = false) {\r\n                  msg (\"Your attack missed \" + enemy.alias +\"!\")\r\n                  fourth_value = true\r\n                }\r\n                else if (RandomChance (GetInt (enemy,\"pr\") - GetInt (self,\"hc\")) = true) {\r\n                  msg (\"Your attack got resisted by \" + enemy.alias +\"!\")\r\n                  fourth_value = true\r\n                }\r\n                else if (fourth_value = false) {\r\n                  if (self.defending = true and enemy.defending = true) {\r\n                    enemy.cur_hp = enemy.cur_hp - (crit_hit (self) * 2 * GetInt (self,\"pd\") / 2 + GetInt (self,\"pd\") * (GetInt (self,\"str\") - GetInt (enemy,\"end\")) / 100)\r\n                    msg (enemy.alias + \" has \" + enemy.cur_hp + \" HP left.\")\r\n                    self.defending = false\r\n                  }\r\n                  else if (self.defending = true and enemy.defending = false) {\r\n                    enemy.cur_hp = enemy.cur_hp - (crit_hit (self) * 2 * GetInt (self,\"pd\") + GetInt (self,\"pd\") * (GetInt (self,\"str\") - GetInt (enemy,\"end\")) / 100)\r\n                    msg (enemy.alias + \" has \" + enemy.cur_hp + \" HP left.\")\r\n                    self.defending = false\r\n                  }\r\n                  else if (self.defending = false and enemy.defending = true) {\r\n                    enemy.cur_hp = enemy.cur_hp - (crit_hit (self) * GetInt (self,\"pd\") / 2 + GetInt (self,\"pd\") * (GetInt (self,\"str\") - GetInt (enemy,\"end\")) / 100)\r\n                    msg (enemy.alias + \" has \" + enemy.cur_hp + \" HP left.\")\r\n                  }\r\n                  else if (self.defending = false and enemy.defending = false) {\r\n                    enemy.cur_hp = enemy.cur_hp - (crit_hit (self) * GetInt (self,\"pd\") + GetInt (self,\"pd\") * (GetInt (self,\"str\") - GetInt (enemy,\"end\")) / 100)\r\n                    msg (enemy.alias + \" has \" + enemy.cur_hp + \" HP left.\")\r\n                  }\r\n                }\r\n              }\r\n              case (\"Defend\") {\r\n                if (self.defending = false) {\r\n                  self.defending = true\r\n                }\r\n              }\r\n              case (\"Cast\") {\r\n                self.defending = false\r\n              }\r\n              case (\"Item\") {\r\n                self.defending = false\r\n              }\r\n              case (\"Run\") {\r\n                self.defending = false\r\n              }\r\n            }\r\n            if (GetInt (enemy,\"cur_hp\") > 0) {\r\n\t\t\t  if ( RandomChance (GetInt (self,\"spd\") - GetInt (enemy,\"spd\"))= true) {\r\n                msg (\"You get an extra battle turn!\")\r\n                self_battle_turn (self,enemy)\r\n              }\r\n              else {\r\n                msg (\"Your battle turn is over.\")\r\n              }\r\n            }\r\n            else if (GetInt (enemy,\"cur_hp\") <= 0) {\r\n              msg (enemy.alias + \" is dead.\")\r\n              msg (\"You have won the battle!\")\r\n              enemy.defending = false\r\n              enemy.dead = true\r\n              }\r\n\r\n          }\r\n        }\r\n      ]]></function>\r\n      <function name=\"enemy_battle_turn\" parameters=\"self,enemy\"><![CDATA[\r\n        msg (self.alias + \" has \" + self.cur_hp + \" HP left.\")\r\n        msg (enemy.alias + \" has \" + enemy.cur_hp + \" HP left.\")\r\n        result = GetRandomInt (1,3)\r\n        switch (result) {\r\n          case (1) {\r\n            sixth_value = false\r\n            if (RandomChance (GetInt (self,\"agi\") - GetInt (enemy,\"spd\")) = true) {\r\n              msg (\"You have evaded the attack!\")\r\n              sixth_value = true\r\n            }\r\n            else if (RandomChance (GetInt (self,\"dex\") - GetInt (enemy,\"agi\")) = true) {\r\n              msg (\"You have parried the attack!\")\r\n              sixth_value = true\r\n            }\r\n            else if (RandomChance (GetInt (self,\"agi\") - GetInt (enemy,\"dex\")) = true) {\r\n              msg (\"You have blocked the attack!\")\r\n              sixth_value = true\r\n            }\r\n            else if (RandomChance (GetInt (enemy,\"dex\") - GetInt (self,\"spd\")) = false) {\r\n              msg (enemy.alias +\"'s attack missed!\")\r\n              sixth_value = true\r\n            }\r\n            else if (RandomChance (GetInt (self,\"pr\") - GetInt (enemy,\"hc\")) = true) {\r\n              msg (\"You resisted the attack!\")\r\n              sixth_value = true\r\n            }\r\n            else if (sixth_value = false) {\r\n              if (enemy.defending = true and self.defending = true) {\r\n                self.cur_hp = self.cur_hp - (crit_hit (enemy) * 2 * GetInt (enemy,\"pd\") / 2 + GetInt (enemy,\"pd\") * (GetInt (enemy,\"str\") - GetInt (self,\"end\")) / 100)\r\n                msg (self.alias + \" has \" + self.cur_hp + \" HP left.\")\r\n                enemy.defending = false\r\n              }\r\n              else if (enemy.defending = true and self.defending = false) {\r\n                self.cur_hp = self.cur_hp - (crit_hit (enemy) * 2 * GetInt (enemy,\"pd\") + GetInt (enemy,\"pd\") * (GetInt (enemy,\"str\") - GetInt (self,\"end\")) / 100)\r\n                msg (self.alias + \" has \" + self.cur_hp + \" HP left.\")\r\n                enemy.defending = false\r\n              }\r\n              else if (enemy.defending = false and self.defending = true) {\r\n                self.cur_hp = self.cur_hp - (crit_hit (enemy) * GetInt (enemy,\"pd\") / 2 + GetInt (enemy,\"pd\") * (GetInt (enemy,\"str\") - GetInt (self,\"end\")) / 100)\r\n                msg (self.alias + \" has \" + self.cur_hp + \" HP left.\")\r\n              }\r\n              else if (enemy.defending = false and self.defending = false) {\r\n                self.cur_hp = self.cur_hp - (crit_hit (enemy) * GetInt (enemy,\"pd\") + GetInt (enemy,\"pd\") * (GetInt (enemy,\"str\") - GetInt (self,\"end\")) / 100)\r\n                msg (self.alias + \" has \" + self.cur_hp + \" HP left.\")\r\n              }\r\n            }\r\n          }\r\n          case (2) {\r\n            if (enemy.defending = false) {\r\n              msg (enemy.alias + \" has choosen to defend itself.\")\r\n              enemy.defending = true\r\n            }\r\n          }\r\n          case (3) {\r\n            enemy.defending = false\r\n            msg (\"Cast\")\r\n          }\r\n        }\r\n        if (GetInt (self,\"cur_hp\") > 0) {\r\n          if (RandomChance (GetInt (enemy,\"spd\") - GetInt (self,\"spd\")) = true) {\r\n            msg (enemy.alias + \" gets an extra battle turn!\")\r\n            wait {\r\n              enemy_battle_turn (self,enemy)\r\n            }\r\n          }\r\n          else {\r\n            msg (enemy.alias + \" 's battle turn is over.\")\r\n          }\r\n        }\r\n        else if (GetInt (self,\"cur_hp\") <= 0) {\r\n          msg (self.alias + \" has died.\")\r\n          msg (\"GAME OVER\")\r\n          finish\r\n        }\r\n      ]]></function>\r\n      <function name=\"npc_reachable\" parameters=\"object\" type=\"boolean\">\r\n        value = false\r\n        foreach (x,ScopeReachableNotHeld ()) {\r\n          if (x=object) {\r\n            value = true\r\n          }\r\n        }\r\n        return (value)\r\n      </function>\r\n      <function name=\"crit_hit\" parameters=\"object\" type=\"int\">\r\n        if (RandomChance (GetInt (object,\"luck\")) = true) {\r\n          value = 2\r\n        }\r\n        else {\r\n          value = 1\r\n        }\r\n        return (value)\r\n      </function>\r\n    </asl>\r\n```\r\n\r\n--------------\r\n\r\nand here is my key/legend for all of the abrevs I've used in it (I learned ever since to NEVER EVER use abrevs, lol):\r\n\r\n```\r\n01. cc = character creation function\r\n02. sa = status attributes (mainly for implementing/displaying of ' cur / max ' stats) function\r\n03. char = character object type (\"pcs\", \"npcs\", \"monsters\", etc., so, not a room, item, equipment, spell, etc)\r\n04. pc = playable character object type (\"player\" characters / game.povs)\r\n05. npc = non-playable character (\"people\", \"monsters\", and etc, so not a \"player\" character / not a game.pov, I'm going to have a hostility system, so any npc can be friendly or hostile, instead of having an actual \"monster/enemy\" type set aside)\r\n06. hp = hit points (life) stat attribute\r\n07. mp = mana points (magic) stat attribute\r\n08. str = strength (physical damage, carry weight / equipment requirement, etc) stat attribute\r\n09. end = endurance (physical defense, and etc) stat attribute\r\n10. dex = dexterity (weapon~attack skill, think of this as \"if your attack connects or not, do you 'whiff' or not\", so not to gete confused with hc, and etc) stat attribute\r\n11. agi = agility (dodging/evading, and etc) stat attribute\r\n12. spd = speed (who goes first in battle, extra battle turns, escaping from battle, and etc) stat attribute\r\n13. hc = hit chance (think of this more as piercing their armor or not, so not to get confused with dex, and etc) stat attribute\r\n14. pd = physical damage stat attribute\r\n15. fp = fire damage stat attribute\r\n16. wp = water damage stat attribute\r\n17. ap = air damage stat attribute\r\n18. ed = earth damage stat attribute\r\n19. ld = light damage stat attribute\r\n20. dd = dark damage stat attribute\r\n21. pr = physical resistance stat attribute\r\n22. fr = fire resistance stat attribute\r\n23. wr = water resistance stat attribute\r\n24. ar = air resistance stat attribute\r\n25. er = earth resistance stat attribute\r\n26. lr = light resistance stat attribute\r\n27. dr = dark resistance stat attribute\r\n28. defending = boolean (reduces damage done for that character and increases the damage done by that character, if they chosoe to attack on the next turn)\r\n29. escaped = boolean, run from battle (not completed/implemented yet)\r\n30. hostile = boolean, any npc can be friendly or a(n) \"monster/enemy\", based upon a hostility scale (0-100), but not completed\r\n31. dead = boolean\r\n32. crit_hit = critical hit (bonus damage based upon luck)\r\n33. luck = luck stat attribute\r\n34. lvl = level stat attribute\r\n35. exp = experience stat attribute\r\n36. cash = cash stat attribute (currency)\r\n37. lvlup = level up function\r\n```",
      "EditableFormat": "markdown",
      "HTML": "<p>you can take a look at my old combat code (this is for an earlier version of quest, and some of the syntax, the list/dictionary stuff, has changed for the newer versions, so this won't work without updating it) for a start/idea on how to do a combat system:</p>\n<p>(also, I got confused with some of my stats stuff, the damage vs resistance, as well, so my code also has these errors in it too)</p>\n<p>see if this makes sense to you or not... if not, you can ask me to help you with it and to explain it</p>\n<pre><code>    &lt;asl version=\"530\"&gt;\n      &lt;include ref=\"English.aslx\" /&gt;\n      &lt;include ref=\"Core.aslx\" /&gt;\n      &lt;game name=\"Test\"&gt;\n        &lt;gameid&gt;d83ba5bb-2e3c-4f31-80c9-3e88a2dc082c&lt;/gameid&gt;\n        &lt;version&gt;1.0&lt;/version&gt;\n        &lt;pov type=\"object\"&gt;player&lt;/pov&gt;\n        &lt;start type=\"script\"&gt;\n          cc\n        &lt;/start&gt;\n        &lt;turns type=\"int\"&gt;0&lt;/turns&gt;\n        &lt;statusattributes type=\"stringdictionary\"&gt;turns = &lt;/statusattributes&gt;\n      &lt;/game&gt;\n      &lt;object name=\"room\"&gt;\n        &lt;inherit name=\"editor_room\" /&gt;\n        &lt;object name=\"player\"&gt;\n          &lt;inherit name=\"defaultplayer\" /&gt;\n          &lt;inherit name=\"pc\" /&gt;\n          &lt;cur_hp type=\"int\"&gt;999&lt;/cur_hp&gt;\n          &lt;max_hp type=\"int\"&gt;999&lt;/max_hp&gt;\n          &lt;str type=\"int\"&gt;100&lt;/str&gt;\n          &lt;end type=\"int\"&gt;100&lt;/end&gt;\n          &lt;dex type=\"int\"&gt;100&lt;/dex&gt;\n          &lt;agi type=\"int\"&gt;100&lt;/agi&gt;\n          &lt;spd type=\"int\"&gt;100&lt;/spd&gt;\n          &lt;hc type=\"int\"&gt;100&lt;/hc&gt;\n          &lt;pd type=\"int\"&gt;100&lt;/pd&gt;\n          &lt;pr type=\"int\"&gt;100&lt;/pr&gt;\n        &lt;/object&gt;\n        &lt;object name=\"orc1\"&gt;\n          &lt;inherit name=\"editor_object\" /&gt;\n          &lt;inherit name=\"npc\" /&gt;\n          &lt;hostile type=\"boolean\"&gt;true&lt;/hostile&gt;\n          &lt;dead type=\"boolean\"&gt;false&lt;/dead&gt;\n          &lt;alias&gt;orc&lt;/alias&gt;\n          &lt;cur_hp type=\"int\"&gt;999&lt;/cur_hp&gt;\n          &lt;max_hp type=\"int\"&gt;999&lt;/max_hp&gt;\n          &lt;str type=\"int\"&gt;25&lt;/str&gt;\n          &lt;end type=\"int\"&gt;25&lt;/end&gt;\n          &lt;dex type=\"int\"&gt;25&lt;/dex&gt;\n          &lt;agi type=\"int\"&gt;25&lt;/agi&gt;\n          &lt;spd type=\"int\"&gt;75&lt;/spd&gt;\n          &lt;hc type=\"int\"&gt;25&lt;/hc&gt;\n          &lt;pd type=\"int\"&gt;25&lt;/pd&gt;\n          &lt;pr type=\"int\"&gt;25&lt;/pr&gt;\n        &lt;/object&gt;\n      &lt;/object&gt;\n      &lt;turnscript name=\"game_turns\"&gt;\n        &lt;enabled /&gt;\n        &lt;script&gt;\n          sa\n          game.turns = game.turns + 1\n        &lt;/script&gt;\n      &lt;/turnscript&gt;\n      &lt;command name=\"fight\"&gt;\n        &lt;pattern&gt;fight #text#&lt;/pattern&gt;\n        &lt;script&gt;\n          battle_system (game.pov,text)\n        &lt;/script&gt;\n      &lt;/command&gt;\n      &lt;type name=\"char\"&gt;\n        &lt;cur_hp type=\"int\"&gt;0&lt;/cur_hp&gt;\n        &lt;drop type=\"boolean\"&gt;false&lt;/drop&gt;\n        &lt;defending type=\"boolean\"&gt;false&lt;/defending&gt;\n        &lt;max_hp type=\"int\"&gt;0&lt;/max_hp&gt;\n        &lt;str type=\"int\"&gt;0&lt;/str&gt;\n        &lt;end type=\"int\"&gt;0&lt;/end&gt;\n        &lt;dex type=\"int\"&gt;0&lt;/dex&gt;\n        &lt;agi type=\"int\"&gt;0&lt;/agi&gt;\n        &lt;spd type=\"int\"&gt;0&lt;/spd&gt;\n        &lt;hp type=\"int\"&gt;0&lt;/hp&gt;\n        &lt;hc type=\"int\"&gt;0&lt;/hc&gt;\n        &lt;pd type=\"int\"&gt;0&lt;/pd&gt;\n        &lt;pr type=\"int\"&gt;0&lt;/pr&gt;\n      &lt;/type&gt;\n      &lt;type name=\"pc\"&gt;\n        &lt;inherit name=\"char\" /&gt;\n        &lt;statusattributes type=\"stringdictionary\"&gt;hp = ;str = ;end = ;dex = ;agi = ;spd = ;hc = ;pd = ;pr = &lt;/statusattributes&gt;\n      &lt;/type&gt;\n      &lt;type name=\"npc\"&gt;\n        &lt;inherit name=\"char\" /&gt;\n        &lt;dead type=\"boolean\"&gt;false&lt;/dead&gt;\n        &lt;hostile type=\"boolean\"&gt;false&lt;/hostile&gt;\n        &lt;displayverbs type=\"list\"&gt;Look at; Talk; Fight&lt;/displayverbs&gt;\n      &lt;/type&gt;\n      &lt;function name=\"cc\"&gt;\n        msg (\"What is your name?\")\n        get input {\n          game.pov.alias = result\n          msg (\" - \" + game.pov.alias)\n          show menu (\"What is your gender?\", split (\"male;female\" , \";\"), false) {\n            game.pov.gender = result\n            show menu (\"What is your race?\", split (\"human;dwarf;elf\" , \";\"), false) {\n              game.pov.race = result\n              show menu (\"What is your class?\", split (\"warrior;cleric;mage;thief\" , \";\"), false) {\n                game.pov.class = result\n                msg (game.pov.alias + \" is a \" + game.pov.gender + \" \" + game.pov.race + \" \" + game.pov.class + \".\")\n                wait {\n                  ClearScreen\n\t\t\t\t  \n                }\n              }\n            }\n          }\n        }\n      &lt;/function&gt;\n      &lt;function name=\"sa\"&gt;\n        game.pov.hp = game.pov.cur_hp + \" / \" + game.pov.max_hp\n      &lt;/function&gt;\n      &lt;function name=\"battle_system\" parameters=\"self,text\"&gt;\n        enemy = GetObject (text)\n        if (enemy = null) {\n          foreach (obj,AllObjects()) {\n            if (obj.alias=text) {\n              enemy = obj\n            }\n          }\n        }\n        if (enemy = null) {\n          msg (\"There is no \" + text + \" here.\")\n        }\n        else if (not Doesinherit (enemy,\"npc\")) {\n          msg (\"You can not battle that!\")\n        }\n        else if (not npc_reachable (enemy)) {\n          msg (\"There is no \" + enemy.alias + \" in your vicinity.\")\n        }\n        else if (GetBoolean (enemy,\"dead\") = true) {\n          msg (enemy.alias + \" is already dead.\")\n        }\n        else if (GetBoolean (enemy,\"hostile\") = false) {\n          msg (enemy.alias + \" is not hostile.\")\n        }\n        else {\n\t\t\tbattle_sequence (self,enemy)\n    \t} \n\n      &lt;/function&gt;\n      &lt;function name=\"battle_sequence\" parameters=\"self,enemy\"&gt;&lt;![CDATA[\n\t\tif (enemy.dead = false) {\n\t\t\tplayerfirst=false\n\t\t\tif (GetInt (self,\"spd\") &gt; GetInt (enemy,\"spd\")) {\n\t\t\t\tplayerfirst=true\n\t\t\t} else if (GetInt (self,\"spd\") = GetInt (enemy,\"spd\") and RandomChance (50)) {\n\t\t\t\tplayerfirst=true\n\t\t\t}   \t\t  \n\t\t\t\n\t\t\tif (playerfirst) {\n\t\t\t   msg (\"You get to go first for this round\")\n\t\t\t   self_battle_turn (self,enemy) \n\t\t\t   on ready {\n\t\t\t\t if (not enemy.dead){\n\t\t\t\t   enemy_battle_turn (self,enemy) \n\t\t\t\t }\n\t\t\t   }\n\t\t\t} else {\n\t\t\t   msg (enemy.alias + \" gets to go first for this round.\")\n\t\t\t\tenemy_battle_turn (self,enemy) \n\t\t\t\tmsg (\"It is now your turn.\")\n\t\t\t\tself_battle_turn (self,enemy) \n\t\t\t}\n\t\t\ton ready {\n\t\t\t\tmsg (\"The round has ended.\")\n\t\t\t\tmsg(\"\")  \n\t\t\t\tbattle_sequence (self,enemy)\t\n\t\t\t}\t\n        } \telse { \n\t\t\t\tmsg (\"The battle is over.\")\n        }\n      ]]&gt;&lt;/function&gt;\n      &lt;function name=\"self_battle_turn\" parameters=\"self,enemy\"&gt;&lt;![CDATA[\n\t\tmsg (self.alias + \" has \" + self.cur_hp + \" HP left.\")\n        msg (enemy.alias + \" has \" + enemy.cur_hp + \" HP left.\")\n        wait {\n          show menu (\"What is your battle choice?\", split (\"Attack;Defend;Cast;Item;Run\", \";\"), false) {\n            switch (result) {\n              case (\"Attack\") {\n                fourth_value = false\n                if (RandomChance (GetInt (enemy,\"agi\") - GetInt (self,\"spd\")) = true) {\n                  msg (enemy.alias + \"evaded your attack!\")\n                  fourth_value = true\n                }\n                else if (RandomChance (GetInt (enemy,\"Dex\") - GetInt (self,\"agi\")) = true) {\n                  msg (enemy.alias + \"parried your attack!\")\n                  fourth_value = true\n                }\n                else if (RandomChance (GetInt (enemy,\"agi\") - GetInt (self,\"dex\")) = true) {\n                  msg (enemy.alias + \"blocked your attack!\")\n                  fourth_value = true\n                }\n                else if (RandomChance (GetInt (self,\"dex\") - GetInt (enemy,\"spd\")) = false) {\n                  msg (\"Your attack missed \" + enemy.alias +\"!\")\n                  fourth_value = true\n                }\n                else if (RandomChance (GetInt (enemy,\"pr\") - GetInt (self,\"hc\")) = true) {\n                  msg (\"Your attack got resisted by \" + enemy.alias +\"!\")\n                  fourth_value = true\n                }\n                else if (fourth_value = false) {\n                  if (self.defending = true and enemy.defending = true) {\n                    enemy.cur_hp = enemy.cur_hp - (crit_hit (self) * 2 * GetInt (self,\"pd\") / 2 + GetInt (self,\"pd\") * (GetInt (self,\"str\") - GetInt (enemy,\"end\")) / 100)\n                    msg (enemy.alias + \" has \" + enemy.cur_hp + \" HP left.\")\n                    self.defending = false\n                  }\n                  else if (self.defending = true and enemy.defending = false) {\n                    enemy.cur_hp = enemy.cur_hp - (crit_hit (self) * 2 * GetInt (self,\"pd\") + GetInt (self,\"pd\") * (GetInt (self,\"str\") - GetInt (enemy,\"end\")) / 100)\n                    msg (enemy.alias + \" has \" + enemy.cur_hp + \" HP left.\")\n                    self.defending = false\n                  }\n                  else if (self.defending = false and enemy.defending = true) {\n                    enemy.cur_hp = enemy.cur_hp - (crit_hit (self) * GetInt (self,\"pd\") / 2 + GetInt (self,\"pd\") * (GetInt (self,\"str\") - GetInt (enemy,\"end\")) / 100)\n                    msg (enemy.alias + \" has \" + enemy.cur_hp + \" HP left.\")\n                  }\n                  else if (self.defending = false and enemy.defending = false) {\n                    enemy.cur_hp = enemy.cur_hp - (crit_hit (self) * GetInt (self,\"pd\") + GetInt (self,\"pd\") * (GetInt (self,\"str\") - GetInt (enemy,\"end\")) / 100)\n                    msg (enemy.alias + \" has \" + enemy.cur_hp + \" HP left.\")\n                  }\n                }\n              }\n              case (\"Defend\") {\n                if (self.defending = false) {\n                  self.defending = true\n                }\n              }\n              case (\"Cast\") {\n                self.defending = false\n              }\n              case (\"Item\") {\n                self.defending = false\n              }\n              case (\"Run\") {\n                self.defending = false\n              }\n            }\n            if (GetInt (enemy,\"cur_hp\") &gt; 0) {\n\t\t\t  if ( RandomChance (GetInt (self,\"spd\") - GetInt (enemy,\"spd\"))= true) {\n                msg (\"You get an extra battle turn!\")\n                self_battle_turn (self,enemy)\n              }\n              else {\n                msg (\"Your battle turn is over.\")\n              }\n            }\n            else if (GetInt (enemy,\"cur_hp\") &lt;= 0) {\n              msg (enemy.alias + \" is dead.\")\n              msg (\"You have won the battle!\")\n              enemy.defending = false\n              enemy.dead = true\n              }\n\n          }\n        }\n      ]]&gt;&lt;/function&gt;\n      &lt;function name=\"enemy_battle_turn\" parameters=\"self,enemy\"&gt;&lt;![CDATA[\n        msg (self.alias + \" has \" + self.cur_hp + \" HP left.\")\n        msg (enemy.alias + \" has \" + enemy.cur_hp + \" HP left.\")\n        result = GetRandomInt (1,3)\n        switch (result) {\n          case (1) {\n            sixth_value = false\n            if (RandomChance (GetInt (self,\"agi\") - GetInt (enemy,\"spd\")) = true) {\n              msg (\"You have evaded the attack!\")\n              sixth_value = true\n            }\n            else if (RandomChance (GetInt (self,\"dex\") - GetInt (enemy,\"agi\")) = true) {\n              msg (\"You have parried the attack!\")\n              sixth_value = true\n            }\n            else if (RandomChance (GetInt (self,\"agi\") - GetInt (enemy,\"dex\")) = true) {\n              msg (\"You have blocked the attack!\")\n              sixth_value = true\n            }\n            else if (RandomChance (GetInt (enemy,\"dex\") - GetInt (self,\"spd\")) = false) {\n              msg (enemy.alias +\"'s attack missed!\")\n              sixth_value = true\n            }\n            else if (RandomChance (GetInt (self,\"pr\") - GetInt (enemy,\"hc\")) = true) {\n              msg (\"You resisted the attack!\")\n              sixth_value = true\n            }\n            else if (sixth_value = false) {\n              if (enemy.defending = true and self.defending = true) {\n                self.cur_hp = self.cur_hp - (crit_hit (enemy) * 2 * GetInt (enemy,\"pd\") / 2 + GetInt (enemy,\"pd\") * (GetInt (enemy,\"str\") - GetInt (self,\"end\")) / 100)\n                msg (self.alias + \" has \" + self.cur_hp + \" HP left.\")\n                enemy.defending = false\n              }\n              else if (enemy.defending = true and self.defending = false) {\n                self.cur_hp = self.cur_hp - (crit_hit (enemy) * 2 * GetInt (enemy,\"pd\") + GetInt (enemy,\"pd\") * (GetInt (enemy,\"str\") - GetInt (self,\"end\")) / 100)\n                msg (self.alias + \" has \" + self.cur_hp + \" HP left.\")\n                enemy.defending = false\n              }\n              else if (enemy.defending = false and self.defending = true) {\n                self.cur_hp = self.cur_hp - (crit_hit (enemy) * GetInt (enemy,\"pd\") / 2 + GetInt (enemy,\"pd\") * (GetInt (enemy,\"str\") - GetInt (self,\"end\")) / 100)\n                msg (self.alias + \" has \" + self.cur_hp + \" HP left.\")\n              }\n              else if (enemy.defending = false and self.defending = false) {\n                self.cur_hp = self.cur_hp - (crit_hit (enemy) * GetInt (enemy,\"pd\") + GetInt (enemy,\"pd\") * (GetInt (enemy,\"str\") - GetInt (self,\"end\")) / 100)\n                msg (self.alias + \" has \" + self.cur_hp + \" HP left.\")\n              }\n            }\n          }\n          case (2) {\n            if (enemy.defending = false) {\n              msg (enemy.alias + \" has choosen to defend itself.\")\n              enemy.defending = true\n            }\n          }\n          case (3) {\n            enemy.defending = false\n            msg (\"Cast\")\n          }\n        }\n        if (GetInt (self,\"cur_hp\") &gt; 0) {\n          if (RandomChance (GetInt (enemy,\"spd\") - GetInt (self,\"spd\")) = true) {\n            msg (enemy.alias + \" gets an extra battle turn!\")\n            wait {\n              enemy_battle_turn (self,enemy)\n            }\n          }\n          else {\n            msg (enemy.alias + \" 's battle turn is over.\")\n          }\n        }\n        else if (GetInt (self,\"cur_hp\") &lt;= 0) {\n          msg (self.alias + \" has died.\")\n          msg (\"GAME OVER\")\n          finish\n        }\n      ]]&gt;&lt;/function&gt;\n      &lt;function name=\"npc_reachable\" parameters=\"object\" type=\"boolean\"&gt;\n        value = false\n        foreach (x,ScopeReachableNotHeld ()) {\n          if (x=object) {\n            value = true\n          }\n        }\n        return (value)\n      &lt;/function&gt;\n      &lt;function name=\"crit_hit\" parameters=\"object\" type=\"int\"&gt;\n        if (RandomChance (GetInt (object,\"luck\")) = true) {\n          value = 2\n        }\n        else {\n          value = 1\n        }\n        return (value)\n      &lt;/function&gt;\n    &lt;/asl&gt;\n</code></pre>\n<hr>\n<p>and here is my key/legend for all of the abrevs I've used in it (I learned ever since to NEVER EVER use abrevs, lol):</p>\n<pre><code>01. cc = character creation function\n02. sa = status attributes (mainly for implementing/displaying of ' cur / max ' stats) function\n03. char = character object type (\"pcs\", \"npcs\", \"monsters\", etc., so, not a room, item, equipment, spell, etc)\n04. pc = playable character object type (\"player\" characters / game.povs)\n05. npc = non-playable character (\"people\", \"monsters\", and etc, so not a \"player\" character / not a game.pov, I'm going to have a hostility system, so any npc can be friendly or hostile, instead of having an actual \"monster/enemy\" type set aside)\n06. hp = hit points (life) stat attribute\n07. mp = mana points (magic) stat attribute\n08. str = strength (physical damage, carry weight / equipment requirement, etc) stat attribute\n09. end = endurance (physical defense, and etc) stat attribute\n10. dex = dexterity (weapon~attack skill, think of this as \"if your attack connects or not, do you 'whiff' or not\", so not to gete confused with hc, and etc) stat attribute\n11. agi = agility (dodging/evading, and etc) stat attribute\n12. spd = speed (who goes first in battle, extra battle turns, escaping from battle, and etc) stat attribute\n13. hc = hit chance (think of this more as piercing their armor or not, so not to get confused with dex, and etc) stat attribute\n14. pd = physical damage stat attribute\n15. fp = fire damage stat attribute\n16. wp = water damage stat attribute\n17. ap = air damage stat attribute\n18. ed = earth damage stat attribute\n19. ld = light damage stat attribute\n20. dd = dark damage stat attribute\n21. pr = physical resistance stat attribute\n22. fr = fire resistance stat attribute\n23. wr = water resistance stat attribute\n24. ar = air resistance stat attribute\n25. er = earth resistance stat attribute\n26. lr = light resistance stat attribute\n27. dr = dark resistance stat attribute\n28. defending = boolean (reduces damage done for that character and increases the damage done by that character, if they chosoe to attack on the next turn)\n29. escaped = boolean, run from battle (not completed/implemented yet)\n30. hostile = boolean, any npc can be friendly or a(n) \"monster/enemy\", based upon a hostility scale (0-100), but not completed\n31. dead = boolean\n32. crit_hit = critical hit (bonus damage based upon luck)\n33. luck = luck stat attribute\n34. lvl = level stat attribute\n35. exp = experience stat attribute\n36. cash = cash stat attribute (currency)\n37. lvlup = level up function\n</code></pre>\n\n",
      "PostDate": "2019-06-06T05:40:13.3260135Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "55ad3fc1-5a9a-4a29-a99a-8c02d74e5633",
      "UserId": 1346,
      "Username": "The Pixie",
      "AvatarUrl": "https://secure.gravatar.com/avatar/cfa37e927f96177bcf6053ae8f108f77?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Have you looked at the docs?\r\nhttp://docs.textadventures.co.uk/quest/zombie-apocalypse-1.html",
      "EditableFormat": "markdown",
      "HTML": "<p>Have you looked at the docs?<br>\nhttp://docs.textadventures.co.uk/quest/zombie-apocalypse-1.html</p>\n\n",
      "PostDate": "2019-06-06T06:38:18.7648314Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "a6dc4f0b-769b-4f23-817f-ae105d1d488a",
      "UserId": 381795,
      "Username": "devilmaymoan",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Wow thanks Pixie:) I've gone through the first part and it seems to be everything I need.\r\n\r\nOne thing tho, what this exactly mean? so I can adjust it \r\n\r\nobj.damage = 1d8\r\n\r\n\r\n\r\n",
      "EditableFormat": "markdown",
      "HTML": "<p>Wow thanks Pixie:) I've gone through the first part and it seems to be everything I need.</p>\n<p>One thing tho, what this exactly mean? so I can adjust it</p>\n<p>obj.damage = 1d8</p>\n\n",
      "PostDate": "2019-06-06T11:59:01.093113Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "53866785-56f0-4b8b-8461-3c25de2c924a",
      "UserId": 142763,
      "Username": "Forgewright",
      "AvatarUrl": "http://i.imgur.com/Ea6HecZb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "1 eight sided dice is rolled to determine the damage a weapon gives. You can make either number whatever you want.",
      "EditableFormat": "markdown",
      "HTML": "<p>1 eight sided dice is rolled to determine the damage a weapon gives. You can make either number whatever you want.</p>\n\n",
      "PostDate": "2019-06-07T01:04:38.9184829Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "c9d4ea92-0e0e-4b2c-b08e-de4ea2081802",
      "UserId": 381795,
      "Username": "devilmaymoan",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Is there anything I would do differently for the desktop version?\r\n",
      "EditableFormat": "markdown",
      "HTML": "<p>Is there anything I would do differently for the desktop version?</p>\n\n",
      "PostDate": "2019-06-07T12:39:42.6539005Z",
      "LastEditDate": null,
      "link": null
    }
  ]
}
