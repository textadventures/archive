{
  "Topic": {
    "TopicId": "hzh8brc1fusb7drmpxqojw",
    "ForumId": "10",
    "Title": "Trouble with the Custom Commands. ",
    "LastUpdated": "2017-07-14T21:33:26.6997921Z",
    "ReplyCount": 0
  },
  "Posts": [
    {
      "PostId": "712d3a43-3c49-4032-9f7c-ee039294953f",
      "UserId": 316011,
      "Username": "NinjaNin",
      "AvatarUrl": "https://secure.gravatar.com/avatar/404cc44b9e0a72308fe02e5a99b23aa4?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "I'm completely stuck in the tutorial. I want to be able to do the switch command in the custom commands part, where you can have your character talk to different people and get different outcomes for it, but I cannot seem to get the code to work. My game says there's an error running the script. Error compiling the expression and unknown variable. I did it exactly in the tutorial, but I've only started trying to code this game yesterday. Am I missing something? ",
      "EditableFormat": "markdown",
      "HTML": "<p>I'm completely stuck in the tutorial. I want to be able to do the switch command in the custom commands part, where you can have your character talk to different people and get different outcomes for it, but I cannot seem to get the code to work. My game says there's an error running the script. Error compiling the expression and unknown variable. I did it exactly in the tutorial, but I've only started trying to code this game yesterday. Am I missing something?</p>\n\n",
      "PostDate": "2017-07-14T21:33:26.6997921Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "80a289fb-cd2f-4bc5-a311-3f2b2b1d4c8e",
      "UserId": 316011,
      "Username": "NinjaNin",
      "AvatarUrl": "https://secure.gravatar.com/avatar/404cc44b9e0a72308fe02e5a99b23aa4?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "So I mucked around with it more, and figured out its two scripts in one script. I finally got it to work but I had a bit of trouble where it was still exactly the same but wasn't working well. Either way what a ride. ",
      "EditableFormat": "markdown",
      "HTML": "<p>So I mucked around with it more, and figured out its two scripts in one script. I finally got it to work but I had a bit of trouble where it was still exactly the same but wasn't working well. Either way what a ride.</p>\n\n",
      "PostDate": "2017-07-14T22:25:48.1954516Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "3747cae9-ca89-47a0-8289-84c43d7ccba8",
      "UserId": 301690,
      "Username": "Richard Headkid",
      "AvatarUrl": "http://i.imgur.com/WUGXS8yb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Hello, NinjaNin.\r\n\r\nSorry none of us saw this in time to help, but I'm glad you got it going! (And in less than an hour! Kudos!)\r\n\r\nIf you need any more help, post it up. \r\n\r\nBest wishes!",
      "EditableFormat": "markdown",
      "HTML": "<p>Hello, NinjaNin.</p>\n<p>Sorry none of us saw this in time to help, but I'm glad you got it going! (And in less than an hour! Kudos!)</p>\n<p>If you need any more help, post it up.</p>\n<p>Best wishes!</p>\n\n",
      "PostDate": "2017-07-14T23:47:21.8314776Z",
      "LastEditDate": "2017-07-14T23:48:38.238126Z",
      "link": null
    },
    {
      "PostId": "f941791e-8da6-4d61-b711-cf597ee615f9",
      "UserId": 247325,
      "Username": "hegemonkhan",
      "AvatarUrl": "https://secure.gravatar.com/avatar/a96cf34d8d97c57de38f54ee22b1759b?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "here is my completed tutorial game code, which you can use to compare with your own, if you're stuck on anything:\r\n\r\n(this is old, and the tutorial might have changed a bit since when I did it, so everything may not be exactly the same. Also, I have some extra stuff in it that I was trying out)\r\n\r\n```\r\n<asl version=\"550\">\r\n  <include ref=\"English.aslx\" />\r\n  <include ref=\"Core.aslx\" />\r\n  <game name=\"Tutorial Game\">\r\n    <gameid>842278ef-87f7-4fa9-8a9f-7f81f2933f46</gameid>\r\n    <version>1.0</version>\r\n  </game>\r\n  <object name=\"lounge\">\r\n    <inherit name=\"editor_room\" />\r\n    <description>This is quite a plain lounge with an old beige carpet and peeling wallpaper.</description>\r\n    <object name=\"player\">\r\n      <inherit name=\"defaultplayer\" />\r\n      <scenery />\r\n      <alias>me</alias>\r\n      <usedefaultprefix type=\"boolean\">false</usedefaultprefix>\r\n      <turns type=\"int\">0</turns>\r\n      <statusattributes type=\"simplestringdictionary\">turns = </statusattributes>\r\n    </object>\r\n    <exit alias=\"south\" to=\"kitchen\">\r\n      <inherit name=\"southdirection\" />\r\n    </exit>\r\n    <object name=\"tv\">\r\n      <inherit name=\"editor_object\" />\r\n      <inherit name=\"switchable\" />\r\n      <alt>television; telly</alt>\r\n      <look>The tv is an old model, possibly 20 years old.</look>\r\n      <switchedondesc>It is currently showing an old western.</switchedondesc>\r\n      <switchedoffdesc>It is currently switched off.</switchedoffdesc>\r\n      <switchonmsg>You press the power button and the tv turns on.</switchonmsg>\r\n      <switchoffmsg>You press the power button again and the tv turns off.</switchoffmsg>\r\n      <watch type=\"script\">\r\n        if (IsSwitchedOn(tv)) {\r\n          msg (\"You watch for a few minutes. As your will to live slowly ebbs away, you remember that you‚Äôve always hated watching westerns.\")\r\n        }\r\n        else {\r\n          msg (\"You watch for a few minutes, thinking that the latest episode of ‚ÄòBig Brother‚Äô is even more boring than usual. You then realise that the TV is in fact switched off.\")\r\n        }\r\n      </watch>\r\n    </object>\r\n    <object name=\"sofa\">\r\n      <inherit name=\"editor_object\" />\r\n      <look>You see a big soft red sofa to sit on.</look>\r\n      <sit>There's no time for lounging about now.</sit>\r\n    </object>\r\n    <object name=\"table\">\r\n      <inherit name=\"editor_object\" />\r\n      <inherit name=\"surface\" />\r\n      <look>There's a large wooden table in the middle of the lounge.</look>\r\n      <object name=\"lamp\">\r\n        <inherit name=\"editor_object\" />\r\n        <inherit name=\"switchable\" />\r\n        <look>This is an old fashioned lamp.</look>\r\n        <switchedon />\r\n        <switchonmsg>The switched on lamp shines brightly.</switchonmsg>\r\n        <switchoffmsg>The switched off lamp goes dim quickly.</switchoffmsg>\r\n        <switchedondesc>The lamp smells of burning candle wax.</switchedondesc>\r\n        <switchedoffdesc>Your eyes slowly adjust to the darkened room.</switchedoffdesc>\r\n        <take />\r\n      </object>\r\n      <object name=\"flowers\">\r\n        <inherit name=\"editor_object\" />\r\n        <inherit name=\"plural\" />\r\n        <look>They are very pretty and sweet smelling red roses.</look>\r\n        <take />\r\n        <usedefaultprefix />\r\n      </object>\r\n      <object name=\"newspaper\">\r\n        <inherit name=\"editor_object\" />\r\n        <look>You see a newspaper from last week.</look>\r\n        <read>You read the old newspaper's contents, learning nothing new.</read>\r\n        <take />\r\n        <takemsg>You fold the newspaper and place it neatly under your arm.</takemsg>\r\n        <dropmsg>You forget about the newspaper under your arm, dropping it as you move and use your arms.</dropmsg>\r\n      </object>\r\n      <object name=\"defibrillator\">\r\n        <inherit name=\"editor_object\" />\r\n        <look>A heart defibrillator can magically revive a dead person, if all those hospital dramas are to be believed.</look>\r\n        <take />\r\n        <use type=\"script\">\r\n          if (player.parent = lounge) {\r\n            revive Bob\r\n          }\r\n          else {\r\n            msg (\"You're not even remotely close enough to place the defibrillator on Bob's chest.\")\r\n          }\r\n        </use>\r\n      </object>\r\n      <object name=\"spellbook\">\r\n        <inherit name=\"editor_object\" />\r\n        <inherit name=\"container_open\" />\r\n        <take />\r\n        <listchildren />\r\n        <object name=\"fireball\">\r\n          <inherit name=\"editor_object\" />\r\n          <drop />\r\n          <spell />\r\n          <learn type=\"string\"></learn>\r\n          <cast type=\"string\"></cast>\r\n        </object>\r\n      </object>\r\n    </object>\r\n    <object name=\"wallpaper\">\r\n      <inherit name=\"editor_object\" />\r\n      <scenery />\r\n      <look>The horrible beige wallpaper hangs loosely on the walls.</look>\r\n    </object>\r\n    <object name=\"carpet\">\r\n      <inherit name=\"editor_object\" />\r\n      <scenery />\r\n      <look>The old beige carpet really is dirty and smells bad, you need to replace it with a new carpet soon.</look>\r\n    </object>\r\n    <object name=\"Bob\">\r\n      <inherit name=\"editor_object\" />\r\n      <inherit name=\"male\" />\r\n      <usedefaultprefix type=\"boolean\">false</usedefaultprefix>\r\n      <alt type=\"list\"></alt>\r\n      <look type=\"script\">\r\n        if (GetBoolean(Bob, \"alive\")) {\r\n          msg (\"Bob is sitting up, appearing to feel somewhat under the weather.\")\r\n        }\r\n        else {\r\n          msg (\"Bob is lying on the floor, a lot more still than usual.\")\r\n        }\r\n      </look>\r\n      <askdefault type=\"script\">\r\n        if (GetBoolean(Bob, \"alive\")) {\r\n          msg (\"I can't help you, sorry.\")\r\n        }\r\n        else {\r\n          msg (\"He is dead, you won't get an answer from him.\")\r\n        }\r\n      </askdefault>\r\n      <useon type=\"scriptdictionary\">\r\n        <item key=\"defibrillator\">\r\n          revive Bob\r\n        </item>\r\n      </useon>\r\n      <tell type=\"scriptdictionary\" />\r\n      <ask type=\"scriptdictionary\">\r\n        <item key=\"heart attack cardiac arrest\">\r\n          if (GetBoolean(Bob, \"alive\")) {\r\n            msg (\"Well, one moment I was sitting there, feeling pretty happy with myself after eating my afternoon snack - a cheeseburger, pizza and ice cream pie, smothered in bacon, which I'd washed down with a bucket of coffee and six cans of Red Bull - when all of a sudden, I was in terrible pain, and then everything was peaceful. Then you came along.\")\r\n          }\r\n          else {\r\n            msg (\"He is dead, you won't get an answer from him.\")\r\n          }\r\n        </item>\r\n      </ask>\r\n    </object>\r\n    <object name=\"troll\">\r\n      <inherit name=\"editor_object\" />\r\n      <inherit name=\"male\" />\r\n      <look>He's a big green ugly troll.</look>\r\n      <usedefaultprefix type=\"boolean\">false</usedefaultprefix>\r\n      <alt type=\"list\"></alt>\r\n    </object>\r\n  </object>\r\n  <object name=\"kitchen\">\r\n    <inherit name=\"editor_room\" />\r\n    <description>The kitchen is is an ordinary kitchen with a trash bin, a fridge, and Sarah.</description>\r\n    <exit alias=\"north\" to=\"lounge\">\r\n      <inherit name=\"northdirection\" />\r\n    </exit>\r\n    <object name=\"bin\">\r\n      <inherit name=\"editor_object\" />\r\n      <scenery />\r\n      <look>This is the trash bin, it smells very bad.</look>\r\n      <alt type=\"list\"></alt>\r\n    </object>\r\n    <object name=\"Sarah\">\r\n      <inherit name=\"editor_object\" />\r\n      <inherit name=\"female\" />\r\n      <inherit name=\"surface\" />\r\n      <look>She is beautiful with curly long blond hair and blue eyes.</look>\r\n      <usedefaultprefix type=\"boolean\">false</usedefaultprefix>\r\n      <open type=\"boolean\">false</open>\r\n      <close type=\"boolean\">false</close>\r\n      <give type=\"scriptdictionary\">\r\n        <item key=\"flowers\">\r\n          msg (\"Sarah takes the flowers and kisses you.\")\r\n          MoveObject (flowers, Sarah)\r\n        </item>\r\n      </give>\r\n    </object>\r\n    <object name=\"fridge\">\r\n      <inherit name=\"editor_object\" />\r\n      <inherit name=\"container_closed\" />\r\n      <listchildren />\r\n      <look type=\"script\">\r\n        if (fridge.isopen) {\r\n          msg (\"The fridge is open, casting its light out into the gloomy kitchen.\")\r\n        }\r\n        else {\r\n          msg (\"A big old refrigerator sits in the corner, humming quietly.\")\r\n        }\r\n      </look>\r\n      <object name=\"flour\">\r\n        <inherit name=\"editor_object\" />\r\n        <inherit name=\"plural\" />\r\n        <weight type=\"int\">500</weight>\r\n        <usedefaultprefix type=\"boolean\">false</usedefaultprefix>\r\n        <prefix>some</prefix>\r\n        <take />\r\n      </object>\r\n      <object name=\"eggs\">\r\n        <inherit name=\"editor_object\" />\r\n        <inherit name=\"plural\" />\r\n        <weight type=\"int\">250</weight>\r\n        <usedefaultprefix type=\"boolean\">false</usedefaultprefix>\r\n        <prefix>some</prefix>\r\n        <take />\r\n        <look type=\"script\">\r\n          msg (\"A box of eggs, weighing \" + eggs.weight + \" grams.\")\r\n        </look>\r\n      </object>\r\n      <object name=\"sugar\">\r\n        <inherit name=\"editor_object\" />\r\n        <weight type=\"int\">1000</weight>\r\n        <usedefaultprefix type=\"boolean\">false</usedefaultprefix>\r\n        <prefix>some</prefix>\r\n        <take />\r\n      </object>\r\n      <object name=\"milk\">\r\n        <inherit name=\"editor_object\" />\r\n        <look>This is milk is rotten.</look>\r\n        <usedefaultprefix type=\"boolean\">false</usedefaultprefix>\r\n        <prefix>some</prefix>\r\n        <take />\r\n        <weight type=\"int\">200</weight>\r\n      </object>\r\n      <object name=\"cheese\">\r\n        <inherit name=\"editor_object\" />\r\n        <look>This is ordinary yellow cheese.</look>\r\n        <usedefaultprefix type=\"boolean\">false</usedefaultprefix>\r\n        <prefix>some</prefix>\r\n        <take />\r\n        <weight type=\"int\">100</weight>\r\n      </object>\r\n      <object name=\"beer\">\r\n        <inherit name=\"editor_object\" />\r\n        <look>This is really powerful beer, that will get anyone drunk.</look>\r\n        <usedefaultprefix type=\"boolean\">false</usedefaultprefix>\r\n        <prefix>some</prefix>\r\n        <take />\r\n        <weight type=\"int\">750</weight>\r\n      </object>\r\n      <object name=\"apple\">\r\n        <inherit name=\"editor_object\" />\r\n        <look>It is a yummy red apple.</look>\r\n        <take />\r\n        <eat type=\"script\">\r\n          msg (\"You eat the apple. Tasty.\")\r\n          RemoveObject (apple)\r\n        </eat>\r\n      </object>\r\n    </object>\r\n    <object name=\"cupboard\">\r\n      <inherit name=\"editor_object\" />\r\n      <inherit name=\"container_closed\" />\r\n      <look>You see an ordinary cupboard.</look>\r\n      <listchildren />\r\n      <listchildrenprefix>The cupboard is bare except for...</listchildrenprefix>\r\n      <object name=\"beans\">\r\n        <inherit name=\"editor_object\" />\r\n        <inherit name=\"plural\" />\r\n        <look>These are ordinary dark beans.</look>\r\n        <take />\r\n        <weight type=\"int\">400</weight>\r\n        <usedefaultprefix type=\"boolean\">false</usedefaultprefix>\r\n        <prefix>some</prefix>\r\n      </object>\r\n      <object name=\"rice\">\r\n        <inherit name=\"editor_object\" />\r\n        <look>This is ordinary white rice.</look>\r\n        <take />\r\n        <weight type=\"int\">600</weight>\r\n        <usedefaultprefix type=\"boolean\">false</usedefaultprefix>\r\n        <prefix>some</prefix>\r\n      </object>\r\n    </object>\r\n    <object name=\"window\">\r\n      <inherit name=\"editor_object\" />\r\n      <inherit name=\"openable\" />\r\n      <look>This is an ordinary glass window.</look>\r\n      <openscript type=\"script\">\r\n        HelperOpenObject (window)\r\n        if (Contains (kitchen,bee)) {\r\n          msg (\"You open the window. Not much happens.\")\r\n        }\r\n        else {\r\n          msg (\"You open the window and a bee flies into the kitchen.\")\r\n          MoveObject (bee, kitchen)\r\n          EnableTimer (bee timer)\r\n        }\r\n      </openscript>\r\n      <closescript type=\"script\">\r\n        msg (\"You close the window.\")\r\n        HelperCloseObject (window)\r\n      </closescript>\r\n    </object>\r\n  </object>\r\n  <verb>\r\n    <property>watch</property>\r\n    <pattern>watch</pattern>\r\n    <defaultexpression>\"You can't watch \" + object.article + \".\"</defaultexpression>\r\n  </verb>\r\n  <command name=\"say\">\r\n    <pattern>say #text#</pattern>\r\n    <script>\r\n      msg (\"You say, \\\"\" + text + \"\\\", but nobody replies.\")\r\n    </script>\r\n  </command>\r\n  <command name=\"weigh\">\r\n    <pattern>weigh #object#</pattern>\r\n    <script>\r\n      if (HasAttribute(object, \"weight\")) {\r\n        msg (\"It weighs \" + object.weight + \" grams.\")\r\n      }\r\n      else {\r\n        msg (\"You can't weigh that.\")\r\n      }\r\n    </script>\r\n  </command>\r\n  <object name=\"bee\">\r\n    <inherit name=\"editor_object\" />\r\n    <look>This is an african killer bee.</look>\r\n  </object>\r\n  <turnscript>\r\n    <enabled />\r\n    <script>\r\n      player.turns = player.turns + 1\r\n    </script>\r\n  </turnscript>\r\n  <verb>\r\n    <property>learn</property>\r\n    <pattern>learn</pattern>\r\n    <defaultexpression>\"You can't learn \" + object.article + \".\"</defaultexpression>\r\n  </verb>\r\n  <verb>\r\n    <property>cast</property>\r\n    <pattern>cast</pattern>\r\n    <defaultexpression>\"You can't cast \" + object.article + \".\"</defaultexpression>\r\n  </verb>\r\n  <command name=\"saying\">\r\n    <pattern>say #text_talk# to #object_troll#</pattern>\r\n    <script>\r\n      if (object_troll.parent=player.parent) {\r\n        msg (\"You say: \" + text_talk)\r\n        msg (object_troll.name + \" ignores you.\")\r\n      }\r\n    </script>\r\n  </command>\r\n  <type name=\"spell\">\r\n    <drop type=\"boolean\">false</drop>\r\n    <take type=\"boolean\">false</take>\r\n    <learn type=\"script\">\r\n      if (not this.parent = player) {\r\n        this.parent = player\r\n        msg (\"How about that? You can now cast \" + this.alias + \".\")\r\n      }\r\n      else {\r\n        msg (\"Er, you already know that one!\")\r\n      }\r\n    </learn>\r\n  </type>\r\n  <function name=\"revive Bob\">\r\n    if (GetBoolean(Bob, \"alive\")) {\r\n      msg (\"Bob is already alive.\")\r\n    }\r\n    else {\r\n      msg (\"Miraculously, the defibrillator lived up to its promise, and Bob is now alive again. He says his head feels kind of fuzzy.\")\r\n      SetObjectFlagOn (Bob, \"alive\")\r\n    }\r\n  </function>\r\n  <timer name=\"bee timer\">\r\n    <interval>20</interval>\r\n    <script>\r\n      if (player.parent = kitchen) {\r\n        msg (\"The bee buzzes past you. Pesky bee.\")\r\n      }\r\n    </script>\r\n  </timer>\r\n</asl>\r\n```",
      "EditableFormat": "markdown",
      "HTML": "<p>here is my completed tutorial game code, which you can use to compare with your own, if you're stuck on anything:</p>\n<p>(this is old, and the tutorial might have changed a bit since when I did it, so everything may not be exactly the same. Also, I have some extra stuff in it that I was trying out)</p>\n<pre><code>&lt;asl version=\"550\"&gt;\n  &lt;include ref=\"English.aslx\" /&gt;\n  &lt;include ref=\"Core.aslx\" /&gt;\n  &lt;game name=\"Tutorial Game\"&gt;\n    &lt;gameid&gt;842278ef-87f7-4fa9-8a9f-7f81f2933f46&lt;/gameid&gt;\n    &lt;version&gt;1.0&lt;/version&gt;\n  &lt;/game&gt;\n  &lt;object name=\"lounge\"&gt;\n    &lt;inherit name=\"editor_room\" /&gt;\n    &lt;description&gt;This is quite a plain lounge with an old beige carpet and peeling wallpaper.&lt;/description&gt;\n    &lt;object name=\"player\"&gt;\n      &lt;inherit name=\"defaultplayer\" /&gt;\n      &lt;scenery /&gt;\n      &lt;alias&gt;me&lt;/alias&gt;\n      &lt;usedefaultprefix type=\"boolean\"&gt;false&lt;/usedefaultprefix&gt;\n      &lt;turns type=\"int\"&gt;0&lt;/turns&gt;\n      &lt;statusattributes type=\"simplestringdictionary\"&gt;turns = &lt;/statusattributes&gt;\n    &lt;/object&gt;\n    &lt;exit alias=\"south\" to=\"kitchen\"&gt;\n      &lt;inherit name=\"southdirection\" /&gt;\n    &lt;/exit&gt;\n    &lt;object name=\"tv\"&gt;\n      &lt;inherit name=\"editor_object\" /&gt;\n      &lt;inherit name=\"switchable\" /&gt;\n      &lt;alt&gt;television; telly&lt;/alt&gt;\n      &lt;look&gt;The tv is an old model, possibly 20 years old.&lt;/look&gt;\n      &lt;switchedondesc&gt;It is currently showing an old western.&lt;/switchedondesc&gt;\n      &lt;switchedoffdesc&gt;It is currently switched off.&lt;/switchedoffdesc&gt;\n      &lt;switchonmsg&gt;You press the power button and the tv turns on.&lt;/switchonmsg&gt;\n      &lt;switchoffmsg&gt;You press the power button again and the tv turns off.&lt;/switchoffmsg&gt;\n      &lt;watch type=\"script\"&gt;\n        if (IsSwitchedOn(tv)) {\n          msg (\"You watch for a few minutes. As your will to live slowly ebbs away, you remember that you‚Äôve always hated watching westerns.\")\n        }\n        else {\n          msg (\"You watch for a few minutes, thinking that the latest episode of ‚ÄòBig Brother‚Äô is even more boring than usual. You then realise that the TV is in fact switched off.\")\n        }\n      &lt;/watch&gt;\n    &lt;/object&gt;\n    &lt;object name=\"sofa\"&gt;\n      &lt;inherit name=\"editor_object\" /&gt;\n      &lt;look&gt;You see a big soft red sofa to sit on.&lt;/look&gt;\n      &lt;sit&gt;There's no time for lounging about now.&lt;/sit&gt;\n    &lt;/object&gt;\n    &lt;object name=\"table\"&gt;\n      &lt;inherit name=\"editor_object\" /&gt;\n      &lt;inherit name=\"surface\" /&gt;\n      &lt;look&gt;There's a large wooden table in the middle of the lounge.&lt;/look&gt;\n      &lt;object name=\"lamp\"&gt;\n        &lt;inherit name=\"editor_object\" /&gt;\n        &lt;inherit name=\"switchable\" /&gt;\n        &lt;look&gt;This is an old fashioned lamp.&lt;/look&gt;\n        &lt;switchedon /&gt;\n        &lt;switchonmsg&gt;The switched on lamp shines brightly.&lt;/switchonmsg&gt;\n        &lt;switchoffmsg&gt;The switched off lamp goes dim quickly.&lt;/switchoffmsg&gt;\n        &lt;switchedondesc&gt;The lamp smells of burning candle wax.&lt;/switchedondesc&gt;\n        &lt;switchedoffdesc&gt;Your eyes slowly adjust to the darkened room.&lt;/switchedoffdesc&gt;\n        &lt;take /&gt;\n      &lt;/object&gt;\n      &lt;object name=\"flowers\"&gt;\n        &lt;inherit name=\"editor_object\" /&gt;\n        &lt;inherit name=\"plural\" /&gt;\n        &lt;look&gt;They are very pretty and sweet smelling red roses.&lt;/look&gt;\n        &lt;take /&gt;\n        &lt;usedefaultprefix /&gt;\n      &lt;/object&gt;\n      &lt;object name=\"newspaper\"&gt;\n        &lt;inherit name=\"editor_object\" /&gt;\n        &lt;look&gt;You see a newspaper from last week.&lt;/look&gt;\n        &lt;read&gt;You read the old newspaper's contents, learning nothing new.&lt;/read&gt;\n        &lt;take /&gt;\n        &lt;takemsg&gt;You fold the newspaper and place it neatly under your arm.&lt;/takemsg&gt;\n        &lt;dropmsg&gt;You forget about the newspaper under your arm, dropping it as you move and use your arms.&lt;/dropmsg&gt;\n      &lt;/object&gt;\n      &lt;object name=\"defibrillator\"&gt;\n        &lt;inherit name=\"editor_object\" /&gt;\n        &lt;look&gt;A heart defibrillator can magically revive a dead person, if all those hospital dramas are to be believed.&lt;/look&gt;\n        &lt;take /&gt;\n        &lt;use type=\"script\"&gt;\n          if (player.parent = lounge) {\n            revive Bob\n          }\n          else {\n            msg (\"You're not even remotely close enough to place the defibrillator on Bob's chest.\")\n          }\n        &lt;/use&gt;\n      &lt;/object&gt;\n      &lt;object name=\"spellbook\"&gt;\n        &lt;inherit name=\"editor_object\" /&gt;\n        &lt;inherit name=\"container_open\" /&gt;\n        &lt;take /&gt;\n        &lt;listchildren /&gt;\n        &lt;object name=\"fireball\"&gt;\n          &lt;inherit name=\"editor_object\" /&gt;\n          &lt;drop /&gt;\n          &lt;spell /&gt;\n          &lt;learn type=\"string\"&gt;&lt;/learn&gt;\n          &lt;cast type=\"string\"&gt;&lt;/cast&gt;\n        &lt;/object&gt;\n      &lt;/object&gt;\n    &lt;/object&gt;\n    &lt;object name=\"wallpaper\"&gt;\n      &lt;inherit name=\"editor_object\" /&gt;\n      &lt;scenery /&gt;\n      &lt;look&gt;The horrible beige wallpaper hangs loosely on the walls.&lt;/look&gt;\n    &lt;/object&gt;\n    &lt;object name=\"carpet\"&gt;\n      &lt;inherit name=\"editor_object\" /&gt;\n      &lt;scenery /&gt;\n      &lt;look&gt;The old beige carpet really is dirty and smells bad, you need to replace it with a new carpet soon.&lt;/look&gt;\n    &lt;/object&gt;\n    &lt;object name=\"Bob\"&gt;\n      &lt;inherit name=\"editor_object\" /&gt;\n      &lt;inherit name=\"male\" /&gt;\n      &lt;usedefaultprefix type=\"boolean\"&gt;false&lt;/usedefaultprefix&gt;\n      &lt;alt type=\"list\"&gt;&lt;/alt&gt;\n      &lt;look type=\"script\"&gt;\n        if (GetBoolean(Bob, \"alive\")) {\n          msg (\"Bob is sitting up, appearing to feel somewhat under the weather.\")\n        }\n        else {\n          msg (\"Bob is lying on the floor, a lot more still than usual.\")\n        }\n      &lt;/look&gt;\n      &lt;askdefault type=\"script\"&gt;\n        if (GetBoolean(Bob, \"alive\")) {\n          msg (\"I can't help you, sorry.\")\n        }\n        else {\n          msg (\"He is dead, you won't get an answer from him.\")\n        }\n      &lt;/askdefault&gt;\n      &lt;useon type=\"scriptdictionary\"&gt;\n        &lt;item key=\"defibrillator\"&gt;\n          revive Bob\n        &lt;/item&gt;\n      &lt;/useon&gt;\n      &lt;tell type=\"scriptdictionary\" /&gt;\n      &lt;ask type=\"scriptdictionary\"&gt;\n        &lt;item key=\"heart attack cardiac arrest\"&gt;\n          if (GetBoolean(Bob, \"alive\")) {\n            msg (\"Well, one moment I was sitting there, feeling pretty happy with myself after eating my afternoon snack - a cheeseburger, pizza and ice cream pie, smothered in bacon, which I'd washed down with a bucket of coffee and six cans of Red Bull - when all of a sudden, I was in terrible pain, and then everything was peaceful. Then you came along.\")\n          }\n          else {\n            msg (\"He is dead, you won't get an answer from him.\")\n          }\n        &lt;/item&gt;\n      &lt;/ask&gt;\n    &lt;/object&gt;\n    &lt;object name=\"troll\"&gt;\n      &lt;inherit name=\"editor_object\" /&gt;\n      &lt;inherit name=\"male\" /&gt;\n      &lt;look&gt;He's a big green ugly troll.&lt;/look&gt;\n      &lt;usedefaultprefix type=\"boolean\"&gt;false&lt;/usedefaultprefix&gt;\n      &lt;alt type=\"list\"&gt;&lt;/alt&gt;\n    &lt;/object&gt;\n  &lt;/object&gt;\n  &lt;object name=\"kitchen\"&gt;\n    &lt;inherit name=\"editor_room\" /&gt;\n    &lt;description&gt;The kitchen is is an ordinary kitchen with a trash bin, a fridge, and Sarah.&lt;/description&gt;\n    &lt;exit alias=\"north\" to=\"lounge\"&gt;\n      &lt;inherit name=\"northdirection\" /&gt;\n    &lt;/exit&gt;\n    &lt;object name=\"bin\"&gt;\n      &lt;inherit name=\"editor_object\" /&gt;\n      &lt;scenery /&gt;\n      &lt;look&gt;This is the trash bin, it smells very bad.&lt;/look&gt;\n      &lt;alt type=\"list\"&gt;&lt;/alt&gt;\n    &lt;/object&gt;\n    &lt;object name=\"Sarah\"&gt;\n      &lt;inherit name=\"editor_object\" /&gt;\n      &lt;inherit name=\"female\" /&gt;\n      &lt;inherit name=\"surface\" /&gt;\n      &lt;look&gt;She is beautiful with curly long blond hair and blue eyes.&lt;/look&gt;\n      &lt;usedefaultprefix type=\"boolean\"&gt;false&lt;/usedefaultprefix&gt;\n      &lt;open type=\"boolean\"&gt;false&lt;/open&gt;\n      &lt;close type=\"boolean\"&gt;false&lt;/close&gt;\n      &lt;give type=\"scriptdictionary\"&gt;\n        &lt;item key=\"flowers\"&gt;\n          msg (\"Sarah takes the flowers and kisses you.\")\n          MoveObject (flowers, Sarah)\n        &lt;/item&gt;\n      &lt;/give&gt;\n    &lt;/object&gt;\n    &lt;object name=\"fridge\"&gt;\n      &lt;inherit name=\"editor_object\" /&gt;\n      &lt;inherit name=\"container_closed\" /&gt;\n      &lt;listchildren /&gt;\n      &lt;look type=\"script\"&gt;\n        if (fridge.isopen) {\n          msg (\"The fridge is open, casting its light out into the gloomy kitchen.\")\n        }\n        else {\n          msg (\"A big old refrigerator sits in the corner, humming quietly.\")\n        }\n      &lt;/look&gt;\n      &lt;object name=\"flour\"&gt;\n        &lt;inherit name=\"editor_object\" /&gt;\n        &lt;inherit name=\"plural\" /&gt;\n        &lt;weight type=\"int\"&gt;500&lt;/weight&gt;\n        &lt;usedefaultprefix type=\"boolean\"&gt;false&lt;/usedefaultprefix&gt;\n        &lt;prefix&gt;some&lt;/prefix&gt;\n        &lt;take /&gt;\n      &lt;/object&gt;\n      &lt;object name=\"eggs\"&gt;\n        &lt;inherit name=\"editor_object\" /&gt;\n        &lt;inherit name=\"plural\" /&gt;\n        &lt;weight type=\"int\"&gt;250&lt;/weight&gt;\n        &lt;usedefaultprefix type=\"boolean\"&gt;false&lt;/usedefaultprefix&gt;\n        &lt;prefix&gt;some&lt;/prefix&gt;\n        &lt;take /&gt;\n        &lt;look type=\"script\"&gt;\n          msg (\"A box of eggs, weighing \" + eggs.weight + \" grams.\")\n        &lt;/look&gt;\n      &lt;/object&gt;\n      &lt;object name=\"sugar\"&gt;\n        &lt;inherit name=\"editor_object\" /&gt;\n        &lt;weight type=\"int\"&gt;1000&lt;/weight&gt;\n        &lt;usedefaultprefix type=\"boolean\"&gt;false&lt;/usedefaultprefix&gt;\n        &lt;prefix&gt;some&lt;/prefix&gt;\n        &lt;take /&gt;\n      &lt;/object&gt;\n      &lt;object name=\"milk\"&gt;\n        &lt;inherit name=\"editor_object\" /&gt;\n        &lt;look&gt;This is milk is rotten.&lt;/look&gt;\n        &lt;usedefaultprefix type=\"boolean\"&gt;false&lt;/usedefaultprefix&gt;\n        &lt;prefix&gt;some&lt;/prefix&gt;\n        &lt;take /&gt;\n        &lt;weight type=\"int\"&gt;200&lt;/weight&gt;\n      &lt;/object&gt;\n      &lt;object name=\"cheese\"&gt;\n        &lt;inherit name=\"editor_object\" /&gt;\n        &lt;look&gt;This is ordinary yellow cheese.&lt;/look&gt;\n        &lt;usedefaultprefix type=\"boolean\"&gt;false&lt;/usedefaultprefix&gt;\n        &lt;prefix&gt;some&lt;/prefix&gt;\n        &lt;take /&gt;\n        &lt;weight type=\"int\"&gt;100&lt;/weight&gt;\n      &lt;/object&gt;\n      &lt;object name=\"beer\"&gt;\n        &lt;inherit name=\"editor_object\" /&gt;\n        &lt;look&gt;This is really powerful beer, that will get anyone drunk.&lt;/look&gt;\n        &lt;usedefaultprefix type=\"boolean\"&gt;false&lt;/usedefaultprefix&gt;\n        &lt;prefix&gt;some&lt;/prefix&gt;\n        &lt;take /&gt;\n        &lt;weight type=\"int\"&gt;750&lt;/weight&gt;\n      &lt;/object&gt;\n      &lt;object name=\"apple\"&gt;\n        &lt;inherit name=\"editor_object\" /&gt;\n        &lt;look&gt;It is a yummy red apple.&lt;/look&gt;\n        &lt;take /&gt;\n        &lt;eat type=\"script\"&gt;\n          msg (\"You eat the apple. Tasty.\")\n          RemoveObject (apple)\n        &lt;/eat&gt;\n      &lt;/object&gt;\n    &lt;/object&gt;\n    &lt;object name=\"cupboard\"&gt;\n      &lt;inherit name=\"editor_object\" /&gt;\n      &lt;inherit name=\"container_closed\" /&gt;\n      &lt;look&gt;You see an ordinary cupboard.&lt;/look&gt;\n      &lt;listchildren /&gt;\n      &lt;listchildrenprefix&gt;The cupboard is bare except for...&lt;/listchildrenprefix&gt;\n      &lt;object name=\"beans\"&gt;\n        &lt;inherit name=\"editor_object\" /&gt;\n        &lt;inherit name=\"plural\" /&gt;\n        &lt;look&gt;These are ordinary dark beans.&lt;/look&gt;\n        &lt;take /&gt;\n        &lt;weight type=\"int\"&gt;400&lt;/weight&gt;\n        &lt;usedefaultprefix type=\"boolean\"&gt;false&lt;/usedefaultprefix&gt;\n        &lt;prefix&gt;some&lt;/prefix&gt;\n      &lt;/object&gt;\n      &lt;object name=\"rice\"&gt;\n        &lt;inherit name=\"editor_object\" /&gt;\n        &lt;look&gt;This is ordinary white rice.&lt;/look&gt;\n        &lt;take /&gt;\n        &lt;weight type=\"int\"&gt;600&lt;/weight&gt;\n        &lt;usedefaultprefix type=\"boolean\"&gt;false&lt;/usedefaultprefix&gt;\n        &lt;prefix&gt;some&lt;/prefix&gt;\n      &lt;/object&gt;\n    &lt;/object&gt;\n    &lt;object name=\"window\"&gt;\n      &lt;inherit name=\"editor_object\" /&gt;\n      &lt;inherit name=\"openable\" /&gt;\n      &lt;look&gt;This is an ordinary glass window.&lt;/look&gt;\n      &lt;openscript type=\"script\"&gt;\n        HelperOpenObject (window)\n        if (Contains (kitchen,bee)) {\n          msg (\"You open the window. Not much happens.\")\n        }\n        else {\n          msg (\"You open the window and a bee flies into the kitchen.\")\n          MoveObject (bee, kitchen)\n          EnableTimer (bee timer)\n        }\n      &lt;/openscript&gt;\n      &lt;closescript type=\"script\"&gt;\n        msg (\"You close the window.\")\n        HelperCloseObject (window)\n      &lt;/closescript&gt;\n    &lt;/object&gt;\n  &lt;/object&gt;\n  &lt;verb&gt;\n    &lt;property&gt;watch&lt;/property&gt;\n    &lt;pattern&gt;watch&lt;/pattern&gt;\n    &lt;defaultexpression&gt;\"You can't watch \" + object.article + \".\"&lt;/defaultexpression&gt;\n  &lt;/verb&gt;\n  &lt;command name=\"say\"&gt;\n    &lt;pattern&gt;say #text#&lt;/pattern&gt;\n    &lt;script&gt;\n      msg (\"You say, \\\"\" + text + \"\\\", but nobody replies.\")\n    &lt;/script&gt;\n  &lt;/command&gt;\n  &lt;command name=\"weigh\"&gt;\n    &lt;pattern&gt;weigh #object#&lt;/pattern&gt;\n    &lt;script&gt;\n      if (HasAttribute(object, \"weight\")) {\n        msg (\"It weighs \" + object.weight + \" grams.\")\n      }\n      else {\n        msg (\"You can't weigh that.\")\n      }\n    &lt;/script&gt;\n  &lt;/command&gt;\n  &lt;object name=\"bee\"&gt;\n    &lt;inherit name=\"editor_object\" /&gt;\n    &lt;look&gt;This is an african killer bee.&lt;/look&gt;\n  &lt;/object&gt;\n  &lt;turnscript&gt;\n    &lt;enabled /&gt;\n    &lt;script&gt;\n      player.turns = player.turns + 1\n    &lt;/script&gt;\n  &lt;/turnscript&gt;\n  &lt;verb&gt;\n    &lt;property&gt;learn&lt;/property&gt;\n    &lt;pattern&gt;learn&lt;/pattern&gt;\n    &lt;defaultexpression&gt;\"You can't learn \" + object.article + \".\"&lt;/defaultexpression&gt;\n  &lt;/verb&gt;\n  &lt;verb&gt;\n    &lt;property&gt;cast&lt;/property&gt;\n    &lt;pattern&gt;cast&lt;/pattern&gt;\n    &lt;defaultexpression&gt;\"You can't cast \" + object.article + \".\"&lt;/defaultexpression&gt;\n  &lt;/verb&gt;\n  &lt;command name=\"saying\"&gt;\n    &lt;pattern&gt;say #text_talk# to #object_troll#&lt;/pattern&gt;\n    &lt;script&gt;\n      if (object_troll.parent=player.parent) {\n        msg (\"You say: \" + text_talk)\n        msg (object_troll.name + \" ignores you.\")\n      }\n    &lt;/script&gt;\n  &lt;/command&gt;\n  &lt;type name=\"spell\"&gt;\n    &lt;drop type=\"boolean\"&gt;false&lt;/drop&gt;\n    &lt;take type=\"boolean\"&gt;false&lt;/take&gt;\n    &lt;learn type=\"script\"&gt;\n      if (not this.parent = player) {\n        this.parent = player\n        msg (\"How about that? You can now cast \" + this.alias + \".\")\n      }\n      else {\n        msg (\"Er, you already know that one!\")\n      }\n    &lt;/learn&gt;\n  &lt;/type&gt;\n  &lt;function name=\"revive Bob\"&gt;\n    if (GetBoolean(Bob, \"alive\")) {\n      msg (\"Bob is already alive.\")\n    }\n    else {\n      msg (\"Miraculously, the defibrillator lived up to its promise, and Bob is now alive again. He says his head feels kind of fuzzy.\")\n      SetObjectFlagOn (Bob, \"alive\")\n    }\n  &lt;/function&gt;\n  &lt;timer name=\"bee timer\"&gt;\n    &lt;interval&gt;20&lt;/interval&gt;\n    &lt;script&gt;\n      if (player.parent = kitchen) {\n        msg (\"The bee buzzes past you. Pesky bee.\")\n      }\n    &lt;/script&gt;\n  &lt;/timer&gt;\n&lt;/asl&gt;\n</code></pre>\n\n",
      "PostDate": "2017-07-15T01:37:37.8036434Z",
      "LastEditDate": null,
      "link": null
    }
  ]
}
