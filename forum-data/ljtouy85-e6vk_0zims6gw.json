{
  "Topic": {
    "TopicId": "ljtouy85-e6vk_0zims6gw",
    "ForumId": "18",
    "Title": "Letting the game know you're running a walkthrough.",
    "LastUpdated": "2018-01-20T01:54:59.9273897Z",
    "ReplyCount": 0
  },
  "Posts": [
    {
      "PostId": "cfc76e99-16ba-4117-86b5-88d40b1403b1",
      "UserId": 318253,
      "Username": "K.V.",
      "AvatarUrl": "https://i.imgur.com/mBf7TBeb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Have you ever wished there was a way to tell Quest that a walkthrough is running so you could make the scripts behave differently?  (Like when you have a ```SetTimeout()``` in a script or something of that nature?)\r\n\r\nThere may be a built-in way to do it, but I couldn't dig anything up, so I did this:\r\n\r\n---\r\n1\\. Create a function.\r\n\r\n```\r\n  <function name=\"SetWalkthrough\" parameters=\"bool\">\r\n    if (bool =\"true\") {\r\n      game.wt = true\r\n    }\r\n    else {\r\n      game.wt = false\r\n    }\r\n  </function>\r\n```\r\n\r\n---\r\n2\\. Call that function from your walkthrough.\r\n\r\n```\r\n  <walkthrough name=\"kv\">\r\n    <steps type=\"simplestringlist\">\r\n      event:SetWalkthrough;true\r\n      jump\r\n      l\r\n      z\r\n      n\r\n      event:SetWalkthrough;false\r\n    </steps>\r\n  </walkthrough>\r\n```\r\n\r\n---\r\n3\\. Use the attribute:\r\n\r\n```\r\n    <firstenter type=\"script\"><![CDATA[\r\n      if (not game.wt) {\r\n        SetTimeout (4) {\r\n          if (game.pov.parent=bedroom) {\r\n            JS.addTextAndScroll (\"<br/>You can hear someone talking in the living room.\")\r\n          }\r\n        }\r\n      }\r\n      else {\r\n        msg (\"<br/>You can hear someone talking in the living room.\")\r\n      }\r\n      Fred.visible = true\r\n      Ethel.visible = true\r\n    ]]></firstenter>\r\n```\r\n\r\n---\r\nAn example game:\r\n\r\n```\r\n<!--Saved by Quest 5.7.6404.15496-->\r\n<asl version=\"550\">\r\n  <include ref=\"English.aslx\" />\r\n  <include ref=\"Core.aslx\" />\r\n  <game name=\"wt\">\r\n    <gameid>cff27ed4-50eb-43f3-a56d-361e3d089b28</gameid>\r\n    <version>1.0</version>\r\n    <firstpublished>2018</firstpublished>\r\n    <wt type=\"boolean\">false</wt>\r\n  </game>\r\n  <object name=\"living room\">\r\n    <inherit name=\"editor_room\" />\r\n    <beforeenter type=\"script\">\r\n    </beforeenter>\r\n    <enter type=\"script\">\r\n      if (Fred.visible) {\r\n        msg (\"Fred and Ethel appear to be having a slight disagreement.  (Ethel seems to be winning the argument.)\")\r\n      }\r\n    </enter>\r\n    <description>You've just moved in, and there's nothing in here yet.</description>\r\n    <object name=\"player\">\r\n      <inherit name=\"editor_object\" />\r\n      <inherit name=\"editor_player\" />\r\n    </object>\r\n    <exit alias=\"north\" to=\"bedroom\">\r\n      <inherit name=\"northdirection\" />\r\n    </exit>\r\n    <object name=\"Fred\">\r\n      <inherit name=\"editor_object\" />\r\n      <inherit name=\"namedmale\" />\r\n      <visible type=\"boolean\">false</visible>\r\n      <look>He is arguing with Ethel.</look>\r\n      <speak>{once:\"Oh, shut up, will ya', Ricky?!?\" Fred explodes.  \"Can't you see that Ethel and I are busy?\"}{notfirst:\"Stow it!\" he yells.}</speak>\r\n    </object>\r\n    <object name=\"Ethel\">\r\n      <inherit name=\"editor_object\" />\r\n      <inherit name=\"namedfemale\" />\r\n      <visible type=\"boolean\">false</visible>\r\n      <look>She is arguing with Fred.</look>\r\n      <speak>{once:She gives you a stern look, hands on her hips.  \"I'm a little busy with Fred right now, Ricky!\"}{notfirst:\"Later,\" says Ethel, waving you off.}</speak>\r\n    </object>\r\n  </object>\r\n  <object name=\"bedroom\">\r\n    <inherit name=\"editor_room\" />\r\n    <description>You've just moved in, and there's nothing in here yet.</description>\r\n    <firstenter type=\"script\"><![CDATA[\r\n      if (not game.wt) {\r\n        SetTimeout (4) {\r\n          if (game.pov.parent=bedroom) {\r\n            JS.addTextAndScroll (\"<br/>You can hear someone talking in the living room.\")\r\n          }\r\n        }\r\n      }\r\n      else {\r\n        msg (\"<br/>You can hear someone talking in the living room.\")\r\n      }\r\n      Fred.visible = true\r\n      Ethel.visible = true\r\n    ]]></firstenter>\r\n    <exit alias=\"south\" to=\"living room\">\r\n      <inherit name=\"southdirection\" />\r\n    </exit>\r\n  </object>\r\n  <function name=\"SetWalkthrough\" parameters=\"bool\">\r\n    if (bool =\"true\") {\r\n      game.wt = true\r\n    }\r\n    else {\r\n      game.wt = false\r\n    }\r\n  </function>\r\n  <walkthrough name=\"kv\">\r\n    <steps type=\"simplestringlist\">\r\n      event:SetWalkthrough;true\r\n      jump\r\n      l\r\n      z\r\n      n\r\n      event:SetWalkthrough;false\r\n    </steps>\r\n  </walkthrough>\r\n</asl>\r\n```",
      "EditableFormat": "markdown",
      "HTML": "<p>Have you ever wished there was a way to tell Quest that a walkthrough is running so you could make the scripts behave differently?  (Like when you have a <code>SetTimeout()</code> in a script or something of that nature?)</p>\n<p>There may be a built-in way to do it, but I couldn't dig anything up, so I did this:</p>\n<hr>\n<p>1. Create a function.</p>\n<pre><code>  &lt;function name=\"SetWalkthrough\" parameters=\"bool\"&gt;\n    if (bool =\"true\") {\n      game.wt = true\n    }\n    else {\n      game.wt = false\n    }\n  &lt;/function&gt;\n</code></pre>\n<hr>\n<p>2. Call that function from your walkthrough.</p>\n<pre><code>  &lt;walkthrough name=\"kv\"&gt;\n    &lt;steps type=\"simplestringlist\"&gt;\n      event:SetWalkthrough;true\n      jump\n      l\n      z\n      n\n      event:SetWalkthrough;false\n    &lt;/steps&gt;\n  &lt;/walkthrough&gt;\n</code></pre>\n<hr>\n<p>3. Use the attribute:</p>\n<pre><code>    &lt;firstenter type=\"script\"&gt;&lt;![CDATA[\n      if (not game.wt) {\n        SetTimeout (4) {\n          if (game.pov.parent=bedroom) {\n            JS.addTextAndScroll (\"&lt;br/&gt;You can hear someone talking in the living room.\")\n          }\n        }\n      }\n      else {\n        msg (\"&lt;br/&gt;You can hear someone talking in the living room.\")\n      }\n      Fred.visible = true\n      Ethel.visible = true\n    ]]&gt;&lt;/firstenter&gt;\n</code></pre>\n<hr>\n<p>An example game:</p>\n<pre><code>&lt;!--Saved by Quest 5.7.6404.15496--&gt;\n&lt;asl version=\"550\"&gt;\n  &lt;include ref=\"English.aslx\" /&gt;\n  &lt;include ref=\"Core.aslx\" /&gt;\n  &lt;game name=\"wt\"&gt;\n    &lt;gameid&gt;cff27ed4-50eb-43f3-a56d-361e3d089b28&lt;/gameid&gt;\n    &lt;version&gt;1.0&lt;/version&gt;\n    &lt;firstpublished&gt;2018&lt;/firstpublished&gt;\n    &lt;wt type=\"boolean\"&gt;false&lt;/wt&gt;\n  &lt;/game&gt;\n  &lt;object name=\"living room\"&gt;\n    &lt;inherit name=\"editor_room\" /&gt;\n    &lt;beforeenter type=\"script\"&gt;\n    &lt;/beforeenter&gt;\n    &lt;enter type=\"script\"&gt;\n      if (Fred.visible) {\n        msg (\"Fred and Ethel appear to be having a slight disagreement.  (Ethel seems to be winning the argument.)\")\n      }\n    &lt;/enter&gt;\n    &lt;description&gt;You've just moved in, and there's nothing in here yet.&lt;/description&gt;\n    &lt;object name=\"player\"&gt;\n      &lt;inherit name=\"editor_object\" /&gt;\n      &lt;inherit name=\"editor_player\" /&gt;\n    &lt;/object&gt;\n    &lt;exit alias=\"north\" to=\"bedroom\"&gt;\n      &lt;inherit name=\"northdirection\" /&gt;\n    &lt;/exit&gt;\n    &lt;object name=\"Fred\"&gt;\n      &lt;inherit name=\"editor_object\" /&gt;\n      &lt;inherit name=\"namedmale\" /&gt;\n      &lt;visible type=\"boolean\"&gt;false&lt;/visible&gt;\n      &lt;look&gt;He is arguing with Ethel.&lt;/look&gt;\n      &lt;speak&gt;{once:\"Oh, shut up, will ya', Ricky?!?\" Fred explodes.  \"Can't you see that Ethel and I are busy?\"}{notfirst:\"Stow it!\" he yells.}&lt;/speak&gt;\n    &lt;/object&gt;\n    &lt;object name=\"Ethel\"&gt;\n      &lt;inherit name=\"editor_object\" /&gt;\n      &lt;inherit name=\"namedfemale\" /&gt;\n      &lt;visible type=\"boolean\"&gt;false&lt;/visible&gt;\n      &lt;look&gt;She is arguing with Fred.&lt;/look&gt;\n      &lt;speak&gt;{once:She gives you a stern look, hands on her hips.  \"I'm a little busy with Fred right now, Ricky!\"}{notfirst:\"Later,\" says Ethel, waving you off.}&lt;/speak&gt;\n    &lt;/object&gt;\n  &lt;/object&gt;\n  &lt;object name=\"bedroom\"&gt;\n    &lt;inherit name=\"editor_room\" /&gt;\n    &lt;description&gt;You've just moved in, and there's nothing in here yet.&lt;/description&gt;\n    &lt;firstenter type=\"script\"&gt;&lt;![CDATA[\n      if (not game.wt) {\n        SetTimeout (4) {\n          if (game.pov.parent=bedroom) {\n            JS.addTextAndScroll (\"&lt;br/&gt;You can hear someone talking in the living room.\")\n          }\n        }\n      }\n      else {\n        msg (\"&lt;br/&gt;You can hear someone talking in the living room.\")\n      }\n      Fred.visible = true\n      Ethel.visible = true\n    ]]&gt;&lt;/firstenter&gt;\n    &lt;exit alias=\"south\" to=\"living room\"&gt;\n      &lt;inherit name=\"southdirection\" /&gt;\n    &lt;/exit&gt;\n  &lt;/object&gt;\n  &lt;function name=\"SetWalkthrough\" parameters=\"bool\"&gt;\n    if (bool =\"true\") {\n      game.wt = true\n    }\n    else {\n      game.wt = false\n    }\n  &lt;/function&gt;\n  &lt;walkthrough name=\"kv\"&gt;\n    &lt;steps type=\"simplestringlist\"&gt;\n      event:SetWalkthrough;true\n      jump\n      l\n      z\n      n\n      event:SetWalkthrough;false\n    &lt;/steps&gt;\n  &lt;/walkthrough&gt;\n&lt;/asl&gt;\n</code></pre>\n\n",
      "PostDate": "2018-01-20T01:54:59.9273897Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "9f855b2b-7d19-4185-859d-c4e96739575f",
      "UserId": 318253,
      "Username": "K.V.",
      "AvatarUrl": "https://i.imgur.com/mBf7TBeb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "You can also use ```assert:```.\r\n\r\n```assert:not game.wt```\r\n\r\n\r\nIf game.wt is true:\r\n\r\n[![image](https://user-images.githubusercontent.com/30656341/35178765-1e9eed48-fd53-11e7-9524-33fffef13e42.png)](https://user-images.githubusercontent.com/30656341/35178765-1e9eed48-fd53-11e7-9524-33fffef13e42.png)\r\n\r\n---\r\nIf game.wt is false:\r\n\r\n[![image](https://user-images.githubusercontent.com/30656341/35178772-36c74f5a-fd53-11e7-80d6-d35da232dfbe.png)](https://user-images.githubusercontent.com/30656341/35178772-36c74f5a-fd53-11e7-80d6-d35da232dfbe.png)\r\n\r\n---\r\nhttp://docs.textadventures.co.uk/quest/guides/walkthroughs.html",
      "EditableFormat": "markdown",
      "HTML": "<p>You can also use <code>assert:</code>.</p>\n<p><code>assert:not game.wt</code></p>\n<p>If game.wt is true:</p>\n<p><a href=\"https://user-images.githubusercontent.com/30656341/35178765-1e9eed48-fd53-11e7-9524-33fffef13e42.png\"><img src=\"https://user-images.githubusercontent.com/30656341/35178765-1e9eed48-fd53-11e7-9524-33fffef13e42.png\" alt=\"image\"></a></p>\n<hr>\n<p>If game.wt is false:</p>\n<p><a href=\"https://user-images.githubusercontent.com/30656341/35178772-36c74f5a-fd53-11e7-80d6-d35da232dfbe.png\"><img src=\"https://user-images.githubusercontent.com/30656341/35178772-36c74f5a-fd53-11e7-80d6-d35da232dfbe.png\" alt=\"image\"></a></p>\n<hr>\n<p>http://docs.textadventures.co.uk/quest/guides/walkthroughs.html</p>\n\n",
      "PostDate": "2018-01-20T01:59:48.3262196Z",
      "LastEditDate": null,
      "link": null
    }
  ]
}
