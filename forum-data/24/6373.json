{
  "Topic": {
    "TopicId": "6373",
    "ForumId": "24",
    "Title": "Go to new section without linking",
    "LastUpdated": "2016-05-27T02:19:40+01:00",
    "ReplyCount": 3
  },
  "Posts": [
    {
      "PostId": "43122",
      "UserId": 0,
      "Username": "Dennis Carlyle",
      "UserAvatar": null,
      "UserGravatar": "85ebb8105680cf9551a4943b3c2c28c8",
      "EditableText": "Here's one way of sending the game to a new section when an attribute reaches a certain value.  The advantage of using a function is that it you don't have to force the player to click on a link to get to the desired section. (Although this example only has one option each time, you could add other options at every point.)\n\nIt does, however, require the author to specifically 'call' the function with a line of Javascript at any section where the attribute might have reached the conditional value.\n\nI did try to include more 'auto' behaviour in the Master section, but so far I'm only having any luck with JS functions in the Master section.  To my mind, this isn't really a disadvantage. It gives the author control over when / if to use the function. \n\n[code:1jx29lxx]\n@start start\n\n&#91;&#91;&#93;&#93;&#58;\n    /* This 'Master' section loads automatically on every section change&#46; */\n    /* So the 'drinkCoffee' function is always 'available', and can be    */\n    /* 'called' (with Javascript) from any point in the game&#46;             */\n    \n    squiffy&#46;drinkCoffee = function() {\n    if (squiffy&#46;get(&quot;coffee&quot;) &lt; 1) {\n       squiffy&#46;story&#46;go(&quot;End&quot;); } \n    }\n\n&lt;!-- \nNOTE&#58; The &quot;drinkUp&quot; section below is just an example of 'calling' on textual content\nthat's repeated several times in the game&#46; Things like &quot;@set&quot; or Javascript\nstatements in the section will *not* be picked up and &quot;embedded&quot; or run in\nthe 'calling' section&#46;  But some things that refer to &quot;in-line&quot; text will -\nsuch as the {if coffee&gt; 1&#58; &#46; &#46; &#46; } part&#46;\nEnd Note --&gt;\n\n&#91;&#91;drinkUp&#93;&#93;&#58;\n\nYou have {coffee} {if coffee&gt; 1&#58;gulps}{else&#58;gulp} of coffee left&#46;\n\n&#91;&#91;drink some coffee&#93;&#93;(Sec3)\n  \n&#91;&#91;start&#93;&#93;&#58;\n&lt;!-- Note&#58; &quot;start&quot; section initializes things, and does *not* --&gt;\n&lt;!-- call on the Master section function&#46;                     --&gt;\n\n@set coffee = 10\n\n&lt;b&gt;&lt;u&gt;Cafeteria&lt;/u&gt;&lt;/b&gt;\n\nYour break is 15 minutes&#46; \n\nYou have about {coffee} gulps of coffee left in your cup&#46;\n\n&#91;&#91;drink some coffee&#93;&#93;(Sec2)\n\n\n&#91;&#91;Sec2&#93;&#93;&#58;\n    /* We know that &quot;coffee&quot; is &gt; 1 here&#46; But there's */\n    /* no harm in calling the function anyway&#46;        */\n    \n    squiffy&#46;drinkCoffee();\n\n@clear\n&lt;b&gt;&lt;u&gt;Cafeteria&lt;/u&gt;&lt;/b&gt;\n&lt;br&gt;\n\nSomeone stumbles and bangs into your table, almost knocking your coffee over&#46;&lt;br&gt;\n\n@dec coffee 3\n{drinkUp}\n\n&#91;&#91;Sec3&#93;&#93;&#58;\n    squiffy&#46;drinkCoffee();\n\n@clear\n&lt;b&gt;&lt;u&gt;Cafeteria&lt;/u&gt;&lt;/b&gt;\n&lt;br&gt;\n\n{if coffee&gt; 4&#58;&lt;i&gt;Break is almost over!&lt;/i&gt;\n\nYou hurry to finish up, and spill some coffee down the front of your shirt&#46;&lt;br&gt;}\n\n@dec coffee 2\n{drinkUp}\n\n&#91;&#91;End&#93;&#93;&#58;\n@clear\n&lt;b&gt;&lt;u&gt;Office&lt;/u&gt;&lt;/b&gt;\n&lt;br&gt;\n\nYou down the last bit of your coffee, and head back to your office&#46;\n\n[/code:1jx29lxx]",
      "EditableFormat": "bbcode",
      "HTML": "Here's one way of sending the game to a new section when an attribute reaches a certain value.  The advantage of using a function is that it you don't have to force the player to click on a link to get to the desired section. (Although this example only has one option each time, you could add other options at every point.)<br/><br/>It does, however, require the author to specifically 'call' the function with a line of Javascript at any section where the attribute might have reached the conditional value.<br/><br/>I did try to include more 'auto' behaviour in the Master section, but so far I'm only having any luck with JS functions in the Master section.  To my mind, this isn't really a disadvantage. It gives the author control over when / if to use the function. <br/><br/><pre><code><br/>@start start<br/><br/>&#91;&#91;&#93;&#93;&#58;<br/>    /* This 'Master' section loads automatically on every section change&#46; */<br/>    /* So the 'drinkCoffee' function is always 'available', and can be    */<br/>    /* 'called' (with Javascript) from any point in the game&#46;             */<br/>    <br/>    squiffy&#46;drinkCoffee = function() {<br/>    if (squiffy&#46;get(&quot;coffee&quot;) &lt; 1) {<br/>       squiffy&#46;story&#46;go(&quot;End&quot;); } <br/>    }<br/><br/>&lt;!-- <br/>NOTE&#58; The &quot;drinkUp&quot; section below is just an example of 'calling' on textual content<br/>that's repeated several times in the game&#46; Things like &quot;@set&quot; or Javascript<br/>statements in the section will *not* be picked up and &quot;embedded&quot; or run in<br/>the 'calling' section&#46;  But some things that refer to &quot;in-line&quot; text will -<br/>such as the {if coffee&gt; 1&#58; &#46; &#46; &#46; } part&#46;<br/>End Note --&gt;<br/><br/>&#91;&#91;drinkUp&#93;&#93;&#58;<br/><br/>You have {coffee} {if coffee&gt; 1&#58;gulps}{else&#58;gulp} of coffee left&#46;<br/><br/>&#91;&#91;drink some coffee&#93;&#93;(Sec3)<br/>  <br/>&#91;&#91;start&#93;&#93;&#58;<br/>&lt;!-- Note&#58; &quot;start&quot; section initializes things, and does *not* --&gt;<br/>&lt;!-- call on the Master section function&#46;                     --&gt;<br/><br/>@set coffee = 10<br/><br/>&lt;b&gt;&lt;u&gt;Cafeteria&lt;/u&gt;&lt;/b&gt;<br/><br/>Your break is 15 minutes&#46; <br/><br/>You have about {coffee} gulps of coffee left in your cup&#46;<br/><br/>&#91;&#91;drink some coffee&#93;&#93;(Sec2)<br/><br/><br/>&#91;&#91;Sec2&#93;&#93;&#58;<br/>    /* We know that &quot;coffee&quot; is &gt; 1 here&#46; But there's */<br/>    /* no harm in calling the function anyway&#46;        */<br/>    <br/>    squiffy&#46;drinkCoffee();<br/><br/>@clear<br/>&lt;b&gt;&lt;u&gt;Cafeteria&lt;/u&gt;&lt;/b&gt;<br/>&lt;br&gt;<br/><br/>Someone stumbles and bangs into your table, almost knocking your coffee over&#46;&lt;br&gt;<br/><br/>@dec coffee 3<br/>{drinkUp}<br/><br/>&#91;&#91;Sec3&#93;&#93;&#58;<br/>    squiffy&#46;drinkCoffee();<br/><br/>@clear<br/>&lt;b&gt;&lt;u&gt;Cafeteria&lt;/u&gt;&lt;/b&gt;<br/>&lt;br&gt;<br/><br/>{if coffee&gt; 4&#58;&lt;i&gt;Break is almost over!&lt;/i&gt;<br/><br/>You hurry to finish up, and spill some coffee down the front of your shirt&#46;&lt;br&gt;}<br/><br/>@dec coffee 2<br/>{drinkUp}<br/><br/>&#91;&#91;End&#93;&#93;&#58;<br/>@clear<br/>&lt;b&gt;&lt;u&gt;Office&lt;/u&gt;&lt;/b&gt;<br/>&lt;br&gt;<br/><br/>You down the last bit of your coffee, and head back to your office&#46;<br/><br/></code></pre>",
      "PostDate": "2016-05-26T19:08:06+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "43124",
      "UserId": 0,
      "Username": "TyCamden",
      "UserAvatar": null,
      "UserGravatar": "ff398cb6356c99be5c3547c4a683a2f8",
      "EditableText": "Did you run it? Did it work?\n\nI tried making a short program (below) using your code, but could not get it to work.\n\nIf you can see why it does not work, let me know please:\n\n[code:1lrjvgzy]@start start\n\n&#91;&#91;start&#93;&#93;&#58;\n\n@set coffee=1\n\nYou have {coffee} {if coffee&gt; 1&#58;gulps}{else&#58;gulp} of coffee left&#46;\n\n&#91;&#91;drink&#93;&#93;\n\n&#91;&#91;drink&#93;&#93;&#58;\n\n@dec coffee\n\nYou have {coffee} {if coffee&gt; 1&#58;gulps}{else&#58;gulp} of coffee left&#46;\n\n&#91;&#91;drink again&#93;&#93;(drink)\n\n&#91;&#91;End&#93;&#93;&#58;\n\nThe End&#46;\n\n&#91;&#91;&#93;&#93;&#58;\n    squiffy&#46;drinkCoffee = function() {\n    if (squiffy&#46;get(&quot;coffee&quot;) &lt; 1) {\n       squiffy&#46;story&#46;go(&quot;End&quot;); }\n    }[/code:1lrjvgzy]",
      "EditableFormat": "bbcode",
      "HTML": "Did you run it? Did it work?<br/><br/>I tried making a short program (below) using your code, but could not get it to work.<br/><br/>If you can see why it does not work, let me know please:<br/><br/><pre><code>@start start<br/><br/>&#91;&#91;start&#93;&#93;&#58;<br/><br/>@set coffee=1<br/><br/>You have {coffee} {if coffee&gt; 1&#58;gulps}{else&#58;gulp} of coffee left&#46;<br/><br/>&#91;&#91;drink&#93;&#93;<br/><br/>&#91;&#91;drink&#93;&#93;&#58;<br/><br/>@dec coffee<br/><br/>You have {coffee} {if coffee&gt; 1&#58;gulps}{else&#58;gulp} of coffee left&#46;<br/><br/>&#91;&#91;drink again&#93;&#93;(drink)<br/><br/>&#91;&#91;End&#93;&#93;&#58;<br/><br/>The End&#46;<br/><br/>&#91;&#91;&#93;&#93;&#58;<br/>    squiffy&#46;drinkCoffee = function() {<br/>    if (squiffy&#46;get(&quot;coffee&quot;) &lt; 1) {<br/>       squiffy&#46;story&#46;go(&quot;End&quot;); }<br/>    }</code></pre>",
      "PostDate": "2016-05-26T20:20:18+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "43125",
      "UserId": 0,
      "Username": "Dennis Carlyle",
      "UserAvatar": null,
      "UserGravatar": "85ebb8105680cf9551a4943b3c2c28c8",
      "EditableText": "Yes, the code I posted works for me (and I've made some cosmetic changes, added some comments to the posted code.)\n\nIn your example, you have the &quot;drinkCoffee&quot; function created in a Master section -- but you never use it.  Check my example, and see where the &quot;drinkCoffee&quot; function is actually 'called' upon to check the value of 'coffee'.\n\nFrom my original post:\n&quot;It does, however, require the author to specifically 'call' the function with a line of Javascript at any section where the attribute might have reached the conditional value.&quot;",
      "EditableFormat": "bbcode",
      "HTML": "Yes, the code I posted works for me (and I've made some cosmetic changes, added some comments to the posted code.)<br/><br/>In your example, you have the &quot;drinkCoffee&quot; function created in a Master section -- but you never use it.  Check my example, and see where the &quot;drinkCoffee&quot; function is actually 'called' upon to check the value of 'coffee'.<br/><br/>From my original post:<br/>&quot;It does, however, require the author to specifically 'call' the function with a line of Javascript at any section where the attribute might have reached the conditional value.&quot;",
      "PostDate": "2016-05-26T20:27:27+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "43127",
      "UserId": 0,
      "Username": "TyCamden",
      "UserAvatar": null,
      "UserGravatar": "ff398cb6356c99be5c3547c4a683a2f8",
      "EditableText": "I understand now after going through it, and your post, again. Thank you.\n\nThe following is an example that I saved in my notes that I created, based on your example...\n\n[code:2cyb76hy]@start start\n\n&#91;&#91;&#93;&#93;&#58;\n\n    squiffy&#46;CheckHealth = function() {\n    if (squiffy&#46;get(&quot;health&quot;) &lt; 1) {\n       squiffy&#46;story&#46;go(&quot;End&quot;); }\n    }\n\n&#91;&#91;defendAgain&#93;&#93;&#58;\n\nYou have {health} health left&#46;\n\n&#91;&#91;Throw A Punch&#93;&#93;\n\n&#91;&#91;start&#93;&#93;&#58;\n\n@set health = 100\n\nYou are in a fist fight&#46; Defend yourself !\n\n&#91;&#91;Throw A Punch&#93;&#93;\n\n&#91;&#91;Throw A Punch&#93;&#93;&#58;\n\n    squiffy&#46;CheckHealth();\n\nYou take a punch to the face&#46;\n\n@dec health 25\n{defendAgain}\n\n&#91;&#91;End&#93;&#93;&#58;\n\nYou cannot take the punishment any further&#46;[/code:2cyb76hy]",
      "EditableFormat": "bbcode",
      "HTML": "I understand now after going through it, and your post, again. Thank you.<br/><br/>The following is an example that I saved in my notes that I created, based on your example...<br/><br/><pre><code>@start start<br/><br/>&#91;&#91;&#93;&#93;&#58;<br/><br/>    squiffy&#46;CheckHealth = function() {<br/>    if (squiffy&#46;get(&quot;health&quot;) &lt; 1) {<br/>       squiffy&#46;story&#46;go(&quot;End&quot;); }<br/>    }<br/><br/>&#91;&#91;defendAgain&#93;&#93;&#58;<br/><br/>You have {health} health left&#46;<br/><br/>&#91;&#91;Throw A Punch&#93;&#93;<br/><br/>&#91;&#91;start&#93;&#93;&#58;<br/><br/>@set health = 100<br/><br/>You are in a fist fight&#46; Defend yourself !<br/><br/>&#91;&#91;Throw A Punch&#93;&#93;<br/><br/>&#91;&#91;Throw A Punch&#93;&#93;&#58;<br/><br/>    squiffy&#46;CheckHealth();<br/><br/>You take a punch to the face&#46;<br/><br/>@dec health 25<br/>{defendAgain}<br/><br/>&#91;&#91;End&#93;&#93;&#58;<br/><br/>You cannot take the punishment any further&#46;</code></pre>",
      "PostDate": "2016-05-27T02:19:40+01:00",
      "LastEditDate": null
    }
  ]
}
