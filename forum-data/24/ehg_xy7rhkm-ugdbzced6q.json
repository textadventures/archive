{
  "Topic": {
    "TopicId": "ehg_xy7rhkm-ugdbzced6q",
    "ForumId": "24",
    "Title": "Project Data Loss",
    "LastUpdated": "2022-05-17T01:23:24.6012045Z",
    "ReplyCount": 0
  },
  "Posts": [
    {
      "PostId": "d36f1f0b-bee3-4dce-a674-f4a9b2876d6c",
      "UserId": 588009,
      "Username": "approt",
      "AvatarUrl": "https://secure.gravatar.com/avatar/357ef98f541ff763a8f842cf013e2fa7?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "All the projects I've created have broken, I can enter them yet they are completly blank(despite my putting work into them). Even the \"published\" one, however it can still be played via the play online option. Odd since the project it'self is blank. Anyone know how this happened? and if it can be fixed? Are the projects stored browser-based, or through the website?",
      "EditableFormat": "markdown",
      "HTML": "<p>All the projects I've created have broken, I can enter them yet they are completly blank(despite my putting work into them). Even the \"published\" one, however it can still be played via the play online option. Odd since the project it'self is blank. Anyone know how this happened? and if it can be fixed? Are the projects stored browser-based, or through the website?</p>\n\n",
      "PostDate": "2022-05-17T01:23:24.6012045Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "c583c733-5c94-455a-bdaf-d3afb8c9ef4f",
      "UserId": 208122,
      "Username": "IFforClassroom",
      "AvatarUrl": "https://secure.gravatar.com/avatar/9683526b9b2547bc86419ed8a2454df1?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "One frequently helpful person on this forum is mrangel. They made a tool for recovering Squiffy code from story.js. This saved my oldest game that I published years ago when I wanted to update and add to it.\r\n\r\nhttps://angelverse.mrangel.info/desquiff.html\r\n\r\nIt's not a good idea to trust the online version of Squiffy too much. Think of it as a demo. Download the desktop version and use that.",
      "EditableFormat": "markdown",
      "HTML": "<p>One frequently helpful person on this forum is mrangel. They made a tool for recovering Squiffy code from story.js. This saved my oldest game that I published years ago when I wanted to update and add to it.</p>\n<p>https://angelverse.mrangel.info/desquiff.html</p>\n<p>It's not a good idea to trust the online version of Squiffy too much. Think of it as a demo. Download the desktop version and use that.</p>\n\n",
      "PostDate": "2022-05-17T04:42:13.0703748Z",
      "LastEditDate": "2022-05-17T04:42:35.0853155Z",
      "link": null
    },
    {
      "PostId": "8957a41e-28ae-4abc-92fb-86b0f8e38615",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Projects are stored on the site; but sometimes browser stuff (form auto-completion and adblockers) can make a mess when they're loading. If you open a project and it comes up blank, it may help to close it immediately  (so it doesn't auto-save), disable browser extensions, and try again. Possibly also clearing data/cookies for the site to make sure you get the version from the site.\r\n\r\nIf it's already saved the blank version, this makes it harder to recover. But if you have a published version, you can unzip it and paste the `story.js` file into a quick bodge I made a while back (thanks to IFforClassroom for sharing the link) and it will do its best to recreate the Squiffy source file.\r\nThis isn't perfect; if there's anything that doesn't work properly, I would appreciate somebody letting me know what code it spits out, and what it *should* give you.",
      "EditableFormat": "markdown",
      "HTML": "<p>Projects are stored on the site; but sometimes browser stuff (form auto-completion and adblockers) can make a mess when they're loading. If you open a project and it comes up blank, it may help to close it immediately  (so it doesn't auto-save), disable browser extensions, and try again. Possibly also clearing data/cookies for the site to make sure you get the version from the site.</p>\n<p>If it's already saved the blank version, this makes it harder to recover. But if you have a published version, you can unzip it and paste the <code>story.js</code> file into a quick bodge I made a while back (thanks to IFforClassroom for sharing the link) and it will do its best to recreate the Squiffy source file.<br>\nThis isn't perfect; if there's anything that doesn't work properly, I would appreciate somebody letting me know what code it spits out, and what it <em>should</em> give you.</p>\n\n",
      "PostDate": "2022-05-17T15:50:55.308856Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "37ba18b4-522d-464f-a7d4-46bd6abe0bad",
      "UserId": 251768,
      "Username": "Bluevoss",
      "AvatarUrl": "https://i.imgur.com/6mfIIbhb.gif",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "I use the desktop version exclusively, and I don't even trust that. I save a session version each time I sit down to work in case I mess something up and can't solve a JS issue I've accidentally introduced.\r\n\r\nOf course, having said that, I still can't load my game now and have no idea what might have gone wrong. Weeks pass. Seasons change... ",
      "EditableFormat": "markdown",
      "HTML": "<p>I use the desktop version exclusively, and I don't even trust that. I save a session version each time I sit down to work in case I mess something up and can't solve a JS issue I've accidentally introduced.</p>\n<p>Of course, having said that, I still can't load my game now and have no idea what might have gone wrong. Weeks pass. Seasons change...</p>\n\n",
      "PostDate": "2022-05-18T10:33:22.9267869Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "f5ec7894-5965-4e9a-bfbd-890111b35d44",
      "UserId": 208122,
      "Username": "IFforClassroom",
      "AvatarUrl": "https://secure.gravatar.com/avatar/9683526b9b2547bc86419ed8a2454df1?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Hi mrangel,\r\n\r\nPrivate messaging appears to be out of order.\r\n\r\nThe ```@set @replace``` bug is now corrected to ```@replace```. Thanks!\r\n\r\nWhat should say ```@replace 1=[[LinkLabel]](SomeSection)``` still becomes ```@replace 1=<p><a class=\"squiffy-link link-section\" data-section=\"SomeSection\" role=\"link\" tabindex=\"0\">LinkLabel</a></p>```.",
      "EditableFormat": "markdown",
      "HTML": "<p>Hi mrangel,</p>\n<p>Private messaging appears to be out of order.</p>\n<p>The <code>@set @replace</code> bug is now corrected to <code>@replace</code>. Thanks!</p>\n<p>What should say <code>@replace 1=[[LinkLabel]](SomeSection)</code> still becomes <code>@replace 1=&lt;p&gt;&lt;a class=\"squiffy-link link-section\" data-section=\"SomeSection\" role=\"link\" tabindex=\"0\"&gt;LinkLabel&lt;/a&gt;&lt;/p&gt;</code>.</p>\n\n",
      "PostDate": "2022-06-11T09:30:40.1295903Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "02b97f47-d546-40f2-a751-12dd6e5c9fcc",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Ah… that's frustrating. I guess that the same translations that apply to text sections should be run on the right hand side of @replace blocks.\r\n\r\nAre there any other @ keywords this issue applies to, or is it just @replace?\r\n(I've never used it, so not sure of how it's supposed to work)",
      "EditableFormat": "markdown",
      "HTML": "<p>Ah… that's frustrating. I guess that the same translations that apply to text sections should be run on the right hand side of @replace blocks.</p>\n<p>Are there any other @ keywords this issue applies to, or is it just @replace?<br>\n(I've never used it, so not sure of how it's supposed to work)</p>\n\n",
      "PostDate": "2022-06-12T07:44:39.2801838Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "e3edbafd-4f52-4a9e-97d5-5cbeb82fb234",
      "UserId": 208122,
      "Username": "IFforClassroom",
      "AvatarUrl": "https://secure.gravatar.com/avatar/9683526b9b2547bc86419ed8a2454df1?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Hi mrangel,\r\n\r\nThe only @ keywords allowed on the far left without curly brackets are:\r\n\r\nIn the default section:\r\n@start\r\n@title\r\n\r\nIn other sections:\r\n@set\r\n@inc\r\n@dec\r\n@replace\r\n@clear\r\n+++Continue_Links\r\n\r\nI haven't tried out continue links because I never use them. You've already kindly resolved problems with @clear and @set.  @replace now works unless section or passage links are included in the replacement text, as above.\r\n\r\nI can't thank you enough for making desquiff!",
      "EditableFormat": "markdown",
      "HTML": "<p>Hi mrangel,</p>\n<p>The only @ keywords allowed on the far left without curly brackets are:</p>\n<p>In the default section:<br>\n@start<br>\n@title</p>\n<p>In other sections:<br>\n@set<br>\n@inc<br>\n@dec<br>\n@replace<br>\n@clear<br>\n+++Continue_Links</p>\n<p>I haven't tried out continue links because I never use them. You've already kindly resolved problems with @clear and @set.  @replace now works unless section or passage links are included in the replacement text, as above.</p>\n<p>I can't thank you enough for making desquiff!</p>\n\n",
      "PostDate": "2022-06-12T23:54:53.1242198Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "650909d3-769f-4ea8-9b5e-698005f79cd8",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Yeah; I was asking whether the problem with embedded formatting occurs in other @ commands.\r\nI can check it myself :)\r\n\r\nWell… looks like you can't use `@set` to put a `[[section link]]` inside an attribute; so it is only @replace. Right, I'll try fixing that :)",
      "EditableFormat": "markdown",
      "HTML": "<p>Yeah; I was asking whether the problem with embedded formatting occurs in other @ commands.<br>\nI can check it myself :)</p>\n<p>Well… looks like you can't use <code>@set</code> to put a <code>[[section link]]</code> inside an attribute; so it is only @replace. Right, I'll try fixing that :)</p>\n\n",
      "PostDate": "2022-06-13T14:43:28.505746Z",
      "LastEditDate": "2022-06-13T14:48:11.9133151Z",
      "link": null
    },
    {
      "PostId": "5b59929f-b809-4333-bc3a-6dbf8e520692",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Not feeling very on the ball at present; does that work?",
      "EditableFormat": "markdown",
      "HTML": "<p>Not feeling very on the ball at present; does that work?</p>\n\n",
      "PostDate": "2022-06-13T14:55:39.9210834Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "7a63b7a7-7a76-453e-8177-34e800ae6839",
      "UserId": 208122,
      "Username": "IFforClassroom",
      "AvatarUrl": "https://secure.gravatar.com/avatar/9683526b9b2547bc86419ed8a2454df1?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Sorry! What I meant was all other @ commands appear to work correctly;  you fixed @set and @clear a while ago.\r\n\r\nI just tried DeSquiff again and it's not spitting anything out.  ",
      "EditableFormat": "markdown",
      "HTML": "<p>Sorry! What I meant was all other @ commands appear to work correctly;  you fixed @set and @clear a while ago.</p>\n<p>I just tried DeSquiff again and it's not spitting anything out.</p>\n\n",
      "PostDate": "2022-06-14T00:58:08.9664221Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "a2fdcf4c-b906-47be-970b-a71845921650",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Ah…must have messed something up through sleepy code.\r\n\r\nI'll try to remember to take another look at it later.",
      "EditableFormat": "markdown",
      "HTML": "<p>Ah…must have messed something up through sleepy code.</p>\n<p>I'll try to remember to take another look at it later.</p>\n\n",
      "PostDate": "2022-06-14T09:47:42.5611762Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "229c4ef7-0677-4c40-a2ce-f3c25e3f87c8",
      "UserId": 208122,
      "Username": "IFforClassroom",
      "AvatarUrl": "https://secure.gravatar.com/avatar/9683526b9b2547bc86419ed8a2454df1?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "DeSquiff is back up and working! Thanks, mrangel. It still turns Squiffy bracket links into longform html links when included in @replace. The longform links do actually work, so it's not a critical issue.",
      "EditableFormat": "markdown",
      "HTML": "<p>DeSquiff is back up and working! Thanks, mrangel. It still turns Squiffy bracket links into longform html links when included in @replace. The longform links do actually work, so it's not a critical issue.</p>\n\n",
      "PostDate": "2022-06-17T06:02:26.7235126Z",
      "LastEditDate": "2022-06-17T06:03:56.8060675Z",
      "link": null
    },
    {
      "PostId": "b4101c7b-dd87-4378-9c66-54b34be116fc",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "OK, here's another try.\r\n\r\nSorry I'm going really slowly on this one; I've not got any actual `story.js` files at hand for testing, and am behind on my actual work so don't have time to roll some up.\r\n\r\nI'm pretty sure I didn't actually break it this time; but if I did could you press Ctrl+Shift+J and see if there's errors in the log?",
      "EditableFormat": "markdown",
      "HTML": "<p>OK, here's another try.</p>\n<p>Sorry I'm going really slowly on this one; I've not got any actual <code>story.js</code> files at hand for testing, and am behind on my actual work so don't have time to roll some up.</p>\n<p>I'm pretty sure I didn't actually break it this time; but if I did could you press Ctrl+Shift+J and see if there's errors in the log?</p>\n\n",
      "PostDate": "2022-06-17T06:23:31.7214366Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "28912f33-f8a9-4c73-8a6a-ffdc1d8f942a",
      "UserId": 208122,
      "Username": "IFforClassroom",
      "AvatarUrl": "https://secure.gravatar.com/avatar/9683526b9b2547bc86419ed8a2454df1?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Not at all. Thanks for making this marvelous thing! \r\n\r\nEarlier, *before you fixed it* , when I pasted in the complete text of a story.js, Chrome reported the following:\r\n\r\ndesquiff.html:42 Uncaught TypeError: String.prototype.replaceAll called with a non-global RegExp argument\r\n    at String.replaceAll (<anonymous>)\r\n    at String.<anonymous> (desquiff.html:42:67)\r\n    at Function.each (jquery.min.js:2:2976)\r\n    at dosection (desquiff.html:40:7)\r\n    at Object.<anonymous> (desquiff.html:65:83)\r\n    at Function.each (jquery.min.js:2:3026)\r\n    at dosection (desquiff.html:65:7)\r\n    at Object.<anonymous> (desquiff.html:23:7)\r\n    at Function.each (jquery.min.js:2:3026)\r\n    at process (desquiff.html:21:7)\r\n\r\nWhen I pasted a URL of a story.js file, Chrome reported the same.\r\n\r\nThank you, mrangel, for existing. Please continue to do so insofar as it's up to you.\r\n",
      "EditableFormat": "markdown",
      "HTML": "<p>Not at all. Thanks for making this marvelous thing!</p>\n<p>Earlier, <em>before you fixed it</em> , when I pasted in the complete text of a story.js, Chrome reported the following:</p>\n<p>desquiff.html:42 Uncaught TypeError: String.prototype.replaceAll called with a non-global RegExp argument<br>\nat String.replaceAll (</p>\n<p>When I pasted a URL of a story.js file, Chrome reported the same.</p>\n<p>Thank you, mrangel, for existing. Please continue to do so insofar as it's up to you.</p>\n\n",
      "PostDate": "2022-06-17T13:57:07.5473886Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "2e3771a5-8742-4f96-8075-68cbbd7d96b4",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "(I am not sure whether there will still be weirdness with either of:\r\n* `@replace 1=[passage]`\r\n* `@replace 1=[[section,myattr=1]]`",
      "EditableFormat": "markdown",
      "HTML": "<p>(I am not sure whether there will still be weirdness with either of:</p>\n<ul>\n<li><code>@replace 1=[passage]</code></li>\n<li><code>@replace 1=[[section,myattr=1]]</code></li>\n</ul>\n\n",
      "PostDate": "2022-06-18T07:24:58.028037Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "902bc0b4-96d8-4839-b1d6-b271a739bf37",
      "UserId": 208122,
      "Username": "IFforClassroom",
      "AvatarUrl": "https://secure.gravatar.com/avatar/9683526b9b2547bc86419ed8a2454df1?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "That absolutely fixed it! Links inside @replace now appear exactly as they should! May your actual work be every bit as profitable as your text adventure work is helpful!",
      "EditableFormat": "markdown",
      "HTML": "<p>That absolutely fixed it! Links inside @replace now appear exactly as they should! May your actual work be every bit as profitable as your text adventure work is helpful!</p>\n\n",
      "PostDate": "2022-06-18T22:53:48.8445148Z",
      "LastEditDate": null,
      "link": null
    }
  ]
}
