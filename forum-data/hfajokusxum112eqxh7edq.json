{
  "Topic": {
    "TopicId": "hfajokusxum112eqxh7edq",
    "ForumId": "10",
    "Title": "Disable or change undo command",
    "LastUpdated": "2017-12-27T04:09:17.6200494Z",
    "ReplyCount": 0
  },
  "Posts": [
    {
      "PostId": "0fb8afda-b4d4-4960-9a12-ae51c1868470",
      "UserId": 267336,
      "Username": "jmnevil54",
      "AvatarUrl": "https://secure.gravatar.com/avatar/5d73d7ec1dbe20a5cb46f02a6d53f187?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Can you disable or change the undo command? Ideally, I'd like it to be possible only once at a time, instead of anytime you want, and then you'd spend another one or two turns before you can use it again. But disabling it altogether is fine too.",
      "EditableFormat": "markdown",
      "HTML": "<p>Can you disable or change the undo command? Ideally, I'd like it to be possible only once at a time, instead of anytime you want, and then you'd spend another one or two turns before you can use it again. But disabling it altogether is fine too.</p>\n\n",
      "PostDate": "2017-12-27T04:09:17.6200494Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "c0614e47-190f-4792-a7df-75d1a5ba0655",
      "UserId": 318253,
      "Username": "K.V.",
      "AvatarUrl": "https://i.imgur.com/Te0Y5FPb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "# WARNING:\r\n## People don't like it when they can't UNDO.\r\n\r\n---\r\nYou have been warned.\r\n\r\n---\r\n\r\n\r\n#### Changing it to skip two turns\r\n\r\nSomething that happens during an UNDO keeps this from taking effect for 1 turn the first time, but then it won't let you UNDO for 2 turns.\r\n\r\n```\r\n<!--Saved by Quest 5.7.6404.15496-->\r\n<asl version=\"550\">\r\n  <include ref=\"English.aslx\" />\r\n  <include ref=\"Core.aslx\" />\r\n  <game name=\"Fun with Undo\">\r\n    <gameid>5e03e35f-46d9-41d9-84cc-330b7d435c17</gameid>\r\n    <version>1.0</version>\r\n    <firstpublished>2017</firstpublished>\r\n  </game>\r\n  <command name=\"undo\">\r\n    <pattern type=\"string\">^undo$</pattern>\r\n    <isundo />\r\n    <script>\r\n      set (undo, \"parent\", player)\r\n      SetTurnTimeout (3) {\r\n        set (undo, \"parent\", null)\r\n      }\r\n      undo\r\n    </script>\r\n    <disabled type=\"string\"></disabled>\r\n  </command>\r\n  <object name=\"room\">\r\n    <inherit name=\"editor_room\" />\r\n    <object name=\"player\">\r\n      <inherit name=\"editor_object\" />\r\n      <inherit name=\"editor_player\" />\r\n    </object>\r\n  </object>\r\n  <walkthrough name=\"kv\" />\r\n</asl>\r\n```\r\n\r\n---\r\n#### Completely disabling UNDO  (Just make a command with the pattern```undo```.)\r\n\r\n```\r\n<!--Saved by Quest 5.7.6404.15496-->\r\n<asl version=\"550\">\r\n  <include ref=\"English.aslx\" />\r\n  <include ref=\"Core.aslx\" />\r\n  <game name=\"Fun with Undo\">\r\n    <gameid>5e03e35f-46d9-41d9-84cc-330b7d435c17</gameid>\r\n    <version>1.0</version>\r\n    <firstpublished>2017</firstpublished>\r\n  </game>\r\n  <object name=\"room\">\r\n    <inherit name=\"editor_room\" />\r\n    <object name=\"player\">\r\n      <inherit name=\"editor_object\" />\r\n      <inherit name=\"editor_player\" />\r\n    </object>\r\n  </object>\r\n  <command name=\"no_undo\">\r\n    <pattern>undo</pattern>\r\n    <script>\r\n      msg (\"I don't understand your command.\")\r\n    </script>\r\n  </command>\r\n  <walkthrough name=\"kv\" />\r\n</asl>\r\n```\r\n\r\n---\r\n#### Room with no UNDO \r\n\r\nNOTE:  I am trying to find a way to check for an UNDO.  If the last command was an undo, I could make it so the room threw you back outside.  (In the event that you left the room during battle, then entered UNDO, you would get kicked back out to the last room.)\r\n\r\n```\r\n<!--Saved by Quest 5.7.6404.15496-->\r\n<asl version=\"550\">\r\n  <include ref=\"English.aslx\" />\r\n  <include ref=\"Core.aslx\" />\r\n  <game name=\"Fun with Undo\">\r\n    <gameid>5e03e35f-46d9-41d9-84cc-330b7d435c17</gameid>\r\n    <version>1.0</version>\r\n    <firstpublished>2017</firstpublished>\r\n  </game>\r\n  <object name=\"room\">\r\n    <inherit name=\"editor_room\" />\r\n    <object name=\"player\">\r\n      <inherit name=\"editor_object\" />\r\n      <inherit name=\"editor_player\" />\r\n    </object>\r\n    <exit alias=\"in\" to=\"battle room\">\r\n      <inherit name=\"indirection\" />\r\n    </exit>\r\n  </object>\r\n  <object name=\"battle room\">\r\n    <inherit name=\"editor_room\" />\r\n    <description>This is the battle room, where UNDO will NOT work!</description>\r\n    <beforeenter type=\"script\"><![CDATA[\r\n      set (undo, \"script_backup\", undo.script)\r\n      noUndo => {\r\n        msg (\"You can't UNDO here.\")\r\n      }\r\n      set (undo, \"script\", noUndo)\r\n    ]]></beforeenter>\r\n    <onexit type=\"script\">\r\n      set (undo, \"script\", undo.script_backup)\r\n    </onexit>\r\n    <exit alias=\"out\" to=\"room\">\r\n      <inherit name=\"outdirection\" />\r\n    </exit>\r\n  </object>\r\n  <walkthrough name=\"kv\" />\r\n</asl>\r\n```",
      "EditableFormat": "markdown",
      "HTML": "<h1>WARNING:</h1>\n<h2>People don't like it when they can't UNDO.</h2>\n<hr>\n<p>You have been warned.</p>\n<hr>\n<h4>Changing it to skip two turns</h4>\n<p>Something that happens during an UNDO keeps this from taking effect for 1 turn the first time, but then it won't let you UNDO for 2 turns.</p>\n<pre><code>&lt;!--Saved by Quest 5.7.6404.15496--&gt;\n&lt;asl version=\"550\"&gt;\n  &lt;include ref=\"English.aslx\" /&gt;\n  &lt;include ref=\"Core.aslx\" /&gt;\n  &lt;game name=\"Fun with Undo\"&gt;\n    &lt;gameid&gt;5e03e35f-46d9-41d9-84cc-330b7d435c17&lt;/gameid&gt;\n    &lt;version&gt;1.0&lt;/version&gt;\n    &lt;firstpublished&gt;2017&lt;/firstpublished&gt;\n  &lt;/game&gt;\n  &lt;command name=\"undo\"&gt;\n    &lt;pattern type=\"string\"&gt;^undo$&lt;/pattern&gt;\n    &lt;isundo /&gt;\n    &lt;script&gt;\n      set (undo, \"parent\", player)\n      SetTurnTimeout (3) {\n        set (undo, \"parent\", null)\n      }\n      undo\n    &lt;/script&gt;\n    &lt;disabled type=\"string\"&gt;&lt;/disabled&gt;\n  &lt;/command&gt;\n  &lt;object name=\"room\"&gt;\n    &lt;inherit name=\"editor_room\" /&gt;\n    &lt;object name=\"player\"&gt;\n      &lt;inherit name=\"editor_object\" /&gt;\n      &lt;inherit name=\"editor_player\" /&gt;\n    &lt;/object&gt;\n  &lt;/object&gt;\n  &lt;walkthrough name=\"kv\" /&gt;\n&lt;/asl&gt;\n</code></pre>\n<hr>\n<h4>Completely disabling UNDO  (Just make a command with the pattern<code>undo</code>.)</h4>\n<pre><code>&lt;!--Saved by Quest 5.7.6404.15496--&gt;\n&lt;asl version=\"550\"&gt;\n  &lt;include ref=\"English.aslx\" /&gt;\n  &lt;include ref=\"Core.aslx\" /&gt;\n  &lt;game name=\"Fun with Undo\"&gt;\n    &lt;gameid&gt;5e03e35f-46d9-41d9-84cc-330b7d435c17&lt;/gameid&gt;\n    &lt;version&gt;1.0&lt;/version&gt;\n    &lt;firstpublished&gt;2017&lt;/firstpublished&gt;\n  &lt;/game&gt;\n  &lt;object name=\"room\"&gt;\n    &lt;inherit name=\"editor_room\" /&gt;\n    &lt;object name=\"player\"&gt;\n      &lt;inherit name=\"editor_object\" /&gt;\n      &lt;inherit name=\"editor_player\" /&gt;\n    &lt;/object&gt;\n  &lt;/object&gt;\n  &lt;command name=\"no_undo\"&gt;\n    &lt;pattern&gt;undo&lt;/pattern&gt;\n    &lt;script&gt;\n      msg (\"I don't understand your command.\")\n    &lt;/script&gt;\n  &lt;/command&gt;\n  &lt;walkthrough name=\"kv\" /&gt;\n&lt;/asl&gt;\n</code></pre>\n<hr>\n<h4>Room with no UNDO</h4>\n<p>NOTE:  I am trying to find a way to check for an UNDO.  If the last command was an undo, I could make it so the room threw you back outside.  (In the event that you left the room during battle, then entered UNDO, you would get kicked back out to the last room.)</p>\n<pre><code>&lt;!--Saved by Quest 5.7.6404.15496--&gt;\n&lt;asl version=\"550\"&gt;\n  &lt;include ref=\"English.aslx\" /&gt;\n  &lt;include ref=\"Core.aslx\" /&gt;\n  &lt;game name=\"Fun with Undo\"&gt;\n    &lt;gameid&gt;5e03e35f-46d9-41d9-84cc-330b7d435c17&lt;/gameid&gt;\n    &lt;version&gt;1.0&lt;/version&gt;\n    &lt;firstpublished&gt;2017&lt;/firstpublished&gt;\n  &lt;/game&gt;\n  &lt;object name=\"room\"&gt;\n    &lt;inherit name=\"editor_room\" /&gt;\n    &lt;object name=\"player\"&gt;\n      &lt;inherit name=\"editor_object\" /&gt;\n      &lt;inherit name=\"editor_player\" /&gt;\n    &lt;/object&gt;\n    &lt;exit alias=\"in\" to=\"battle room\"&gt;\n      &lt;inherit name=\"indirection\" /&gt;\n    &lt;/exit&gt;\n  &lt;/object&gt;\n  &lt;object name=\"battle room\"&gt;\n    &lt;inherit name=\"editor_room\" /&gt;\n    &lt;description&gt;This is the battle room, where UNDO will NOT work!&lt;/description&gt;\n    &lt;beforeenter type=\"script\"&gt;&lt;![CDATA[\n      set (undo, \"script_backup\", undo.script)\n      noUndo =&gt; {\n        msg (\"You can't UNDO here.\")\n      }\n      set (undo, \"script\", noUndo)\n    ]]&gt;&lt;/beforeenter&gt;\n    &lt;onexit type=\"script\"&gt;\n      set (undo, \"script\", undo.script_backup)\n    &lt;/onexit&gt;\n    &lt;exit alias=\"out\" to=\"room\"&gt;\n      &lt;inherit name=\"outdirection\" /&gt;\n    &lt;/exit&gt;\n  &lt;/object&gt;\n  &lt;walkthrough name=\"kv\" /&gt;\n&lt;/asl&gt;\n</code></pre>\n\n",
      "PostDate": "2017-12-27T19:22:51.7331939Z",
      "LastEditDate": "2017-12-27T19:29:28.1582415Z",
      "link": null
    }
  ]
}
