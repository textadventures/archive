{
  "Topic": {
    "TopicId": "7d_2yzscukyqleqzprelsq",
    "ForumId": "15",
    "Title": "A problem with ownership, with item links.",
    "LastUpdated": "2022-04-21T21:45:09.0203497Z",
    "ReplyCount": 0
  },
  "Posts": [
    {
      "PostId": "a426676d-1a91-445d-b037-0cac3ab07771",
      "UserId": 433790,
      "Username": "XronizeMaster",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "1 letter error. When you set the ownership of a room to the player while items link is active. Confusingly, this only occurs when item links is enabled.\r\n\r\n",
      "EditableFormat": "markdown",
      "HTML": "<p>1 letter error. When you set the ownership of a room to the player while items link is active. Confusingly, this only occurs when item links is enabled.</p>\n\n",
      "PostDate": "2022-04-21T21:45:09.0203497Z",
      "LastEditDate": "2022-04-21T21:45:51.700959Z",
      "link": null
    },
    {
      "PostId": "c9969004-e546-4825-bb8d-90d058f9326f",
      "UserId": 1346,
      "Username": "The Pixie",
      "AvatarUrl": "https://secure.gravatar.com/avatar/cfa37e927f96177bcf6053ae8f108f77?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Can you give more details. Do you get an error message (check the console with F12)? What exactly happens?\r\n\r\nI have to say that ownership was coded with a view to being used with items not rooms, so that may well be the root cause.",
      "EditableFormat": "markdown",
      "HTML": "<p>Can you give more details. Do you get an error message (check the console with F12)? What exactly happens?</p>\n<p>I have to say that ownership was coded with a view to being used with items not rooms, so that may well be the root cause.</p>\n\n",
      "PostDate": "2022-04-23T16:39:59.2598502Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "c17ad688-ede7-42b4-b036-2b9898226a69",
      "UserId": 433790,
      "Username": "XronizeMaster",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Super late update because I had to deal with school stuff.\r\n\r\nBasically, when dealing with item links and rooms, the room becomes clickable (which is fine by me, I like links) but the name is no longer capitalized. This includes the pronoun \"Your\", so room names become \"<u>your</u> room\" instead of \"Your room\", or \"Lara\" becomes \"<u>lara</u>\". \r\n\r\n(Note that I do capitalize the names of my characters.)\r\n It gets weirder. When I put an alias for them, it fixes the character (because I capitalize aliases) but not the player, because the player becomes \"your\".\r\n\r\nMy research tells me it's because, somewhere along the line, it calls settings.nametransformer, which only takes the alias, so while a capitalized alias of a character works, \"your\" is from possAdj, which isn't capitalized.\r\n\r\nTL;Dr\r\nItem links remove capitalization for room names.\r\n\r\n\r\n",
      "EditableFormat": "markdown",
      "HTML": "<p>Super late update because I had to deal with school stuff.</p>\n<p>Basically, when dealing with item links and rooms, the room becomes clickable (which is fine by me, I like links) but the name is no longer capitalized. This includes the pronoun \"Your\", so room names become \"<u>your</u> room\" instead of \"Your room\", or \"Lara\" becomes \"<u>lara</u>\".</p>\n<p>(Note that I do capitalize the names of my characters.)<br>\nIt gets weirder. When I put an alias for them, it fixes the character (because I capitalize aliases) but not the player, because the player becomes \"your\".</p>\n<p>My research tells me it's because, somewhere along the line, it calls settings.nametransformer, which only takes the alias, so while a capitalized alias of a character works, \"your\" is from possAdj, which isn't capitalized.</p>\n<p>TL;Dr<br>\nItem links remove capitalization for room names.</p>\n\n",
      "PostDate": "2022-05-23T03:34:45.7431102Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "45d7adf0-75c5-4c40-beb6-a1b9c03ac272",
      "UserId": 1346,
      "Username": "The Pixie",
      "AvatarUrl": "https://secure.gravatar.com/avatar/cfa37e927f96177bcf6053ae8f108f77?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "How are you getting links for room names? I am trying to recreate your issue, but my rooms do not have links!",
      "EditableFormat": "markdown",
      "HTML": "<p>How are you getting links for room names? I am trying to recreate your issue, but my rooms do not have links!</p>\n\n",
      "PostDate": "2022-05-23T07:56:17.5069317Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "1b0a33c1-5593-422e-a4ac-c38f2c1332e4",
      "UserId": 433790,
      "Username": "XronizeMaster",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "https://ibb.co/yqt1NjW\r\n\r\nThe Link above is the image (from Img BB, image hosting website) but I will explain it here.\r\n\r\nPut the item links library in.\r\nSet the room's owner as \"me\" (so like right below lounge, put owner: \"me' or whatever you named the player) and the name of the room becomes \"your room\"\r\n\r\nIt's lowercase with links but uppercase without links. ",
      "EditableFormat": "markdown",
      "HTML": "<p>https://ibb.co/yqt1NjW</p>\n<p>The Link above is the image (from Img BB, image hosting website) but I will explain it here.</p>\n<p>Put the item links library in.<br>\nSet the room's owner as \"me\" (so like right below lounge, put owner: \"me' or whatever you named the player) and the name of the room becomes \"your room\"</p>\n<p>It's lowercase with links but uppercase without links.</p>\n\n",
      "PostDate": "2022-05-23T21:12:03.903226Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "307e709c-e7c2-4a3d-bfcc-d601653634c3",
      "UserId": 1346,
      "Username": "The Pixie",
      "AvatarUrl": "https://secure.gravatar.com/avatar/cfa37e927f96177bcf6053ae8f108f77?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "The simple solution, to stop the link, do this in settings.js.\r\n```\r\nsettings.getDefaultRoomHeading = function(item) {\r\n  return sentenceCase(lang.addDefiniteArticle(item, {ignorePossessive:true}) + item.alias)\r\n},\r\n```\r\nI will look at other solutions, as this does raise issues...\r\n\r\n",
      "EditableFormat": "markdown",
      "HTML": "<p>The simple solution, to stop the link, do this in settings.js.</p>\n<pre><code>settings.getDefaultRoomHeading = function(item) {\n  return sentenceCase(lang.addDefiniteArticle(item, {ignorePossessive:true}) + item.alias)\n},\n</code></pre>\n<p>I will look at other solutions, as this does raise issues...</p>\n\n",
      "PostDate": "2022-05-24T09:30:34.8664746Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "c0ada4e5-ffbb-4ce7-a6f9-68be4883b35d",
      "UserId": 1346,
      "Username": "The Pixie",
      "AvatarUrl": "https://secure.gravatar.com/avatar/cfa37e927f96177bcf6053ae8f108f77?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "I have uploaded some new file versions. There were a few issues behind it, the biggest being the capitalisation failed if the string starts with HTML.\r\n\r\nThe commit is here for more details.\r\nhttps://github.com/ThePix/QuestJS/commit/c2aac32416a0690c6337a384ebf269e1f6a48e69",
      "EditableFormat": "markdown",
      "HTML": "<p>I have uploaded some new file versions. There were a few issues behind it, the biggest being the capitalisation failed if the string starts with HTML.</p>\n<p>The commit is here for more details.<br>\nhttps://github.com/ThePix/QuestJS/commit/c2aac32416a0690c6337a384ebf269e1f6a48e69</p>\n\n",
      "PostDate": "2022-05-25T12:24:04.9561705Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "6d15f4eb-b36c-4495-aac9-c405e7a60e81",
      "UserId": 433790,
      "Username": "XronizeMaster",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "options.noLink causes undefined error for non-room items, including the player.\r\n\r\nhttps://ibb.co/ZWSbcR5",
      "EditableFormat": "markdown",
      "HTML": "<p>options.noLink causes undefined error for non-room items, including the player.</p>\n<p>https://ibb.co/ZWSbcR5</p>\n\n",
      "PostDate": "2022-05-29T23:31:41.5834791Z",
      "LastEditDate": "2022-05-30T06:16:32.0665129Z",
      "link": null
    },
    {
      "PostId": "f5a72d10-870a-4b02-abb6-dff2fa4acf15",
      "UserId": 1346,
      "Username": "The Pixie",
      "AvatarUrl": "https://secure.gravatar.com/avatar/cfa37e927f96177bcf6053ae8f108f77?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Oops, needs a deault options on line 256\r\n```\r\nsettings.nameTransformer = function(alias, obj, options = {}) {\r\n```\r\n\r\nI have uploaded a new version to gitHub",
      "EditableFormat": "markdown",
      "HTML": "<p>Oops, needs a deault options on line 256</p>\n<pre><code>settings.nameTransformer = function(alias, obj, options = {}) {\n</code></pre>\n<p>I have uploaded a new version to gitHub</p>\n\n",
      "PostDate": "2022-05-30T07:58:22.6401594Z",
      "LastEditDate": null,
      "link": null
    }
  ]
}
