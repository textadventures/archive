{
  "Topic": {
    "TopicId": "okaaff50ce2iunl6qjvmta",
    "ForumId": "10",
    "Title": "Retrofiting a game to provide a way back from bad ends",
    "LastUpdated": "2018-03-09T04:26:04.0714964Z",
    "ReplyCount": 0
  },
  "Posts": [
    {
      "PostId": "2a0df425-e3c7-498e-9621-3f2977f1cb43",
      "UserId": 227864,
      "Username": "Talon",
      "AvatarUrl": "https://secure.gravatar.com/avatar/3b6191c9adc337e83fec8e293e3fc584?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Got a little question here, I'm trying to retrofit a game I made to allow people to back up(Well not techicnally) when they have reached a game over.. Now with hunderes of various game overs spread out through the game I'd like to do this en mass through a program such as notepad++\r\n\r\nThe basic logic I want is to replaced\r\nfinish  with\r\n```\r\nAsk (\"Do you want to go back?\") {\r\n  if (result) {\r\n    MoveObject (player, The Main Hall)\r\n  }\r\n  else {\r\n    finish\r\n  }\r\n} \r\n```\r\nits the code i've tried has pretty much broken the game, it think some of it is in the formating when trying the mass replace..i'd rather not have to do it for each of the hundreds of instances",
      "EditableFormat": "markdown",
      "HTML": "<p>Got a little question here, I'm trying to retrofit a game I made to allow people to back up(Well not techicnally) when they have reached a game over.. Now with hunderes of various game overs spread out through the game I'd like to do this en mass through a program such as notepad++</p>\n<p>The basic logic I want is to replaced<br>\nfinish  with</p>\n<pre><code>Ask (\"Do you want to go back?\") {\n&nbsp;&nbsp;if (result) {\n&nbsp;&nbsp;&nbsp;&nbsp;MoveObject (player, The Main Hall)\n&nbsp;&nbsp;}\n&nbsp;&nbsp;else {\n&nbsp;&nbsp;&nbsp;&nbsp;finish\n&nbsp;&nbsp;}\n} \n</code></pre>\n<p>its the code i've tried has pretty much broken the game, it think some of it is in the formating when trying the mass replace..i'd rather not have to do it for each of the hundreds of instances</p>\n\n",
      "PostDate": "2018-03-09T04:26:04.0714964Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "934c791e-abe4-4652-8f6c-3b3c84cc010d",
      "UserId": 282833,
      "Username": "Io",
      "AvatarUrl": "http://i.imgur.com/XVmdocTb.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "I think the problem here is you don't have a 'result'. So you ask the player if they want to go back, and if the result is... the result is what?\r\n\r\nThat's what I imagine would cause the trouble. Also, I'd use 'get input' rather than 'ask'.\r\n\r\nPlus, if you're trying to do it for hundreds of bad ends, then maybe just stick the code in a function called BadEnd and replace the 'finish' with 'call function BadEnd'. Functionally it's the same, but if you ever need to change the bad-end-reversal-code, now you only need to change it in one place.",
      "EditableFormat": "markdown",
      "HTML": "<p>I think the problem here is you don't have a 'result'. So you ask the player if they want to go back, and if the result is... the result is what?</p>\n<p>That's what I imagine would cause the trouble. Also, I'd use 'get input' rather than 'ask'.</p>\n<p>Plus, if you're trying to do it for hundreds of bad ends, then maybe just stick the code in a function called BadEnd and replace the 'finish' with 'call function BadEnd'. Functionally it's the same, but if you ever need to change the bad-end-reversal-code, now you only need to change it in one place.</p>\n\n",
      "PostDate": "2018-03-09T04:37:50.7300045Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "4746f483-1e60-4fdd-8903-f173adbffa36",
      "UserId": 227864,
      "Username": "Talon",
      "AvatarUrl": "https://secure.gravatar.com/avatar/3b6191c9adc337e83fec8e293e3fc584?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "The first  part i don't think is the problem, since i've done it on a test and didn't have the game fail to load, thinks the result is honestly just ignored, \r\n\r\nThe working it into a function on the other hand might just work perfectly, will have to relearn how to make simple functions of course, but still, its a solid idea",
      "EditableFormat": "markdown",
      "HTML": "<p>The first  part i don't think is the problem, since i've done it on a test and didn't have the game fail to load, thinks the result is honestly just ignored,</p>\n<p>The working it into a function on the other hand might just work perfectly, will have to relearn how to make simple functions of course, but still, its a solid idea</p>\n\n",
      "PostDate": "2018-03-09T04:55:35.8390231Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "709b6ec4-978b-4860-b667-5db3233c3ea2",
      "UserId": 282833,
      "Username": "Io",
      "AvatarUrl": "http://i.imgur.com/XVmdocTb.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "I don't think it would make the game fail to load at all. If you have an 'if (something=condition)' without the condition, then if memory serves, the game will chug along fine until it tries to call that, at which point it freezes.\r\n\r\nWhat exactly IS the error you're getting? Can you paste it here?",
      "EditableFormat": "markdown",
      "HTML": "<p>I don't think it would make the game fail to load at all. If you have an 'if (something=condition)' without the condition, then if memory serves, the game will chug along fine until it tries to call that, at which point it freezes.</p>\n<p>What exactly IS the error you're getting? Can you paste it here?</p>\n\n",
      "PostDate": "2018-03-09T05:21:14.1316612Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "a5601bf4-ace7-40fe-97e5-da99117e3710",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "That looks like it should work.\r\n\r\nHowever… if you're doing a mass search-and-replace on \"finish\", my first worry would be whether you ever use the word \"finish\" within a longer line; maybe as part of an object name, a variable name, or even in a message. Replacing in those cases would cause the game to break whenever it reaches that place, or might even prevent the game from loading at all.\r\n\r\nIf your editor supports regular expressions, I'd try replacing `^\\s*finish\\s*(\\(\\))?\\s*$`, to replace either `finish` or `finish()` on a line on its own.",
      "EditableFormat": "markdown",
      "HTML": "<p>That looks like it should work.</p>\n<p>However… if you're doing a mass search-and-replace on \"finish\", my first worry would be whether you ever use the word \"finish\" within a longer line; maybe as part of an object name, a variable name, or even in a message. Replacing in those cases would cause the game to break whenever it reaches that place, or might even prevent the game from loading at all.</p>\n<p>If your editor supports regular expressions, I'd try replacing <code>^\\s*finish\\s*(\\(\\))?\\s*$</code>, to replace either <code>finish</code> or <code>finish()</code> on a line on its own.</p>\n\n",
      "PostDate": "2018-03-09T08:54:15.6549742Z",
      "LastEditDate": "2018-03-09T08:58:06.6499046Z",
      "link": null
    },
    {
      "PostId": "75bbe2fa-2d4a-4aeb-bece-a7f25f9b0b8c",
      "UserId": 1346,
      "Username": "The Pixie",
      "AvatarUrl": "https://secure.gravatar.com/avatar/cfa37e927f96177bcf6053ae8f108f77?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "That looks okay to me - assuming you have a room called \"The Main Hall\", and the player object is called \"player\".\r\n\r\nAs Io says, it would be good if you could tel us the error. Also, what is the surrounding code?\r\n\r\n@Io, `result` is a local variable set by the `Ask` function, and will be `true` if the player replies \"yes\" and `false` otherwise.",
      "EditableFormat": "markdown",
      "HTML": "<p>That looks okay to me - assuming you have a room called \"The Main Hall\", and the player object is called \"player\".</p>\n<p>As Io says, it would be good if you could tel us the error. Also, what is the surrounding code?</p>\n<p>@Io, <code>result</code> is a local variable set by the <code>Ask</code> function, and will be <code>true</code> if the player replies \"yes\" and <code>false</code> otherwise.</p>\n\n",
      "PostDate": "2018-03-09T08:59:52.2542168Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "3e4b7314-f36d-4989-8f97-982bc211d76d",
      "UserId": 282833,
      "Username": "Io",
      "AvatarUrl": "http://i.imgur.com/XVmdocTb.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "@The Pixie Ah, good to know. I've never actually used Ask myself. But even then, shouldn't it be 'if (result=true)'?",
      "EditableFormat": "markdown",
      "HTML": "<p>@The Pixie Ah, good to know. I've never actually used Ask myself. But even then, shouldn't it be 'if (result=true)'?</p>\n\n",
      "PostDate": "2018-03-09T09:21:16.1057299Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "893fc685-92f7-40a9-9d1d-db8709150a5e",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "@Io\r\nNo. The `if` statement already tests whether the expression evaluates to true. You *could* use `if (result = true)` as a condition. But you could also use `if ( (result = true) = true)`, and (I hope) you wouldn't say that's any easier to read.\r\n\r\n(Still suspecting my first guess is the most likely)",
      "EditableFormat": "markdown",
      "HTML": "<p>@Io<br>\nNo. The <code>if</code> statement already tests whether the expression evaluates to true. You <em>could</em> use <code>if (result = true)</code> as a condition. But you could also use <code>if ( (result = true) = true)</code>, and (I hope) you wouldn't say that's any easier to read.</p>\n<p>(Still suspecting my first guess is the most likely)</p>\n\n",
      "PostDate": "2018-03-09T10:21:42.8408532Z",
      "LastEditDate": "2018-03-09T10:26:22.6489489Z",
      "link": null
    },
    {
      "PostId": "e89b66d8-c490-43ec-9015-0eaadbfbe41d",
      "UserId": 227864,
      "Username": "Talon",
      "AvatarUrl": "https://secure.gravatar.com/avatar/3b6191c9adc337e83fec8e293e3fc584?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Edit- Io's idea of making a function was brilliant, after I went through the game and fixed all the text finishes, made a simple function to copypaste and it works functionally, the details of changing it to look better/make more sense will be easy. Thank you so much to everyone who's helping me understanding coding as i get deeper in.\r\n\r\nWill get to testing this afternoon was late last night, but will try to dig up the error code, looking back, I probably missed a key \"Finish\" in the coding somewhere, something that wasn't supposed to change. Thank you for all your help though.\r\n Had already thought of having rogue \"finishes\" in places that weren't supposed to be changed, ie finishing a cup of tea, but when going through all those lines by hand missing something is fairly easy, I use a real primitive method of keeping in text finishes out, I adjust the in text spellings to finishh then when i'm done just plan a mass replace of those back to the proper language",
      "EditableFormat": "markdown",
      "HTML": "<p>Edit- Io's idea of making a function was brilliant, after I went through the game and fixed all the text finishes, made a simple function to copypaste and it works functionally, the details of changing it to look better/make more sense will be easy. Thank you so much to everyone who's helping me understanding coding as i get deeper in.</p>\n<p>Will get to testing this afternoon was late last night, but will try to dig up the error code, looking back, I probably missed a key \"Finish\" in the coding somewhere, something that wasn't supposed to change. Thank you for all your help though.<br>\nHad already thought of having rogue \"finishes\" in places that weren't supposed to be changed, ie finishing a cup of tea, but when going through all those lines by hand missing something is fairly easy, I use a real primitive method of keeping in text finishes out, I adjust the in text spellings to finishh then when i'm done just plan a mass replace of those back to the proper language</p>\n\n",
      "PostDate": "2018-03-09T12:36:14.7362804Z",
      "LastEditDate": "2018-03-09T13:29:43.9503859Z",
      "link": null
    },
    {
      "PostId": "034504b2-1c61-420c-b053-9fd68e826b3e",
      "UserId": 267336,
      "Username": "jmnevil54",
      "AvatarUrl": "https://secure.gravatar.com/avatar/5d73d7ec1dbe20a5cb46f02a6d53f187?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Did you disable or change the undo command? Because that works.\r\n\r\nOr just use vanilla \"undo\".\r\n\r\nAlso, teleporting the player to an empty room with no exits, and turning off all the window panes, works as an alternative to the \r\n\"finish\" function.",
      "EditableFormat": "markdown",
      "HTML": "<p>Did you disable or change the undo command? Because that works.</p>\n<p>Or just use vanilla \"undo\".</p>\n<p>Also, teleporting the player to an empty room with no exits, and turning off all the window panes, works as an alternative to the<br>\n\"finish\" function.</p>\n\n",
      "PostDate": "2018-03-12T02:23:05.2221866Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "129e8998-4910-4a61-892a-ca54dd332528",
      "UserId": 318253,
      "Username": "K.V.",
      "AvatarUrl": "https://i.imgur.com/mBf7TBeb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Ignore me.  (I posted without reading everything first.)",
      "EditableFormat": "markdown",
      "HTML": "<p>Ignore me.  (I posted without reading everything first.)</p>\n\n",
      "PostDate": "2018-03-12T03:04:56.8517704Z",
      "LastEditDate": "2018-03-12T03:09:18.9514674Z",
      "link": null
    }
  ]
}
