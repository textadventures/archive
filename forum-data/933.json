{
  "Topic": {
    "TopicId": "933",
    "ForumId": "10",
    "Title": "Is there any good way of making fights?",
    "LastUpdated": "2006-05-05T16:55:29+01:00",
    "ReplyCount": 25
  },
  "Posts": [
    {
      "PostId": "7126",
      "UserId": 0,
      "Username": "ramtha",
      "UserAvatar": null,
      "UserGravatar": "c19cfa838fae3f800fd5859417259a81",
      "EditableText": "I have been trying to think of a way to create fights, and so far I'm comming up blank. Aside from that, I also want to know wether it is possible for a object, such as person to preform a random action, or if they are stuck with what you tell them.",
      "EditableFormat": "bbcode",
      "HTML": "I have been trying to think of a way to create fights, and so far I'm comming up blank. Aside from that, I also want to know wether it is possible for a object, such as person to preform a random action, or if they are stuck with what you tell them.",
      "PostDate": "2005-12-01T17:41:35+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "7127",
      "UserId": 0,
      "Username": "Elexxorine",
      "UserAvatar": null,
      "UserGravatar": "a220ee44d8fe2f07029cf1f61b98bf40",
      "EditableText": "i'm currently working on an rpg system which includes a fighting matrix, the first version should be done by the end of the week.",
      "EditableFormat": "bbcode",
      "HTML": "i'm currently working on an rpg system which includes a fighting matrix, the first version should be done by the end of the week.",
      "PostDate": "2005-12-06T13:34:12+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "7144",
      "UserId": 0,
      "Username": "ramtha",
      "UserAvatar": null,
      "UserGravatar": "c19cfa838fae3f800fd5859417259a81",
      "EditableText": "sweet. Is there anyway I could get ahold of that?",
      "EditableFormat": "bbcode",
      "HTML": "sweet. Is there anyway I could get ahold of that?",
      "PostDate": "2005-12-11T23:13:03+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "7147",
      "UserId": 0,
      "Username": "Elexxorine",
      "UserAvatar": null,
      "UserGravatar": "a220ee44d8fe2f07029cf1f61b98bf40",
      "EditableText": "actually i'm having a bit of a problem with it at the moment, tron's having a look at it as we speak....",
      "EditableFormat": "bbcode",
      "HTML": "actually i'm having a bit of a problem with it at the moment, tron's having a look at it as we speak....",
      "PostDate": "2005-12-12T11:16:43+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "7268",
      "UserId": 0,
      "Username": "Gordex",
      "UserAvatar": null,
      "UserGravatar": "1b03d396b55db6150ba3e7f7d60e4685",
      "EditableText": "do you want objects fighting each other, or the player fighting objects, or what?",
      "EditableFormat": "bbcode",
      "HTML": "do you want objects fighting each other, or the player fighting objects, or what?",
      "PostDate": "2006-01-12T23:23:15+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "7269",
      "UserId": 0,
      "Username": "ramtha",
      "UserAvatar": null,
      "UserGravatar": "c19cfa838fae3f800fd5859417259a81",
      "EditableText": "Either or..... both would be excelent, but i can deal with just the player fighting objects",
      "EditableFormat": "bbcode",
      "HTML": "Either or..... both would be excelent, but i can deal with just the player fighting objects",
      "PostDate": "2006-01-14T02:08:31+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "7273",
      "UserId": 0,
      "Username": "Overcat",
      "UserAvatar": null,
      "UserGravatar": "3958f867d73b44faed6e01f35e74c093",
      "EditableText": "I too would be interested in the different approaches writers/coders have taken in regards to combat.  Would it seem fair if I asserted the existence of two conflict resolution poles, namely narrativist and gamist?  (These terms were stolen from discussions and articles at [url:13t4y78c]http&#58;//www&#46;indie-rpgs&#46;com[/url:13t4y78c]).   While a narrativist approach would resolve conflict based on the structure and movement of the plot, a gamist approach would demand a systematic representation of variables such as Strength, Speed, Skill, Weapon Type, Health, etc.  The gamist would articulate the states of combat with messages such as &quot;You swing and miss&quot;, or &quot;You hit for 14 hp of damage&quot;.  The narrativist would articulate such states differently:  &quot;You lunge forward, but Carlos sidesteps quickly away&quot;, and &quot;You feint to the left, then flick to the right, catching Carlos across his cheek.  A thin red line bursts into color below his eye and, shocked, he stumbles backwards into a pile of books&quot;.\n\nWhile a gamist checks for system verification to resolve the combat, a narrativist checks for plot verification.  That is, a gamist compares statistics and/or random numbers to ascertain an outcome, while a narrativist compares the actions of the player to ascertain an outcome - IE, did they find the sword? did they get some rudimentary training? did they practice? did they enrage Carlos? have they spoken to Helena about Carlos' fighting style?\n\nI suspect a median between these two poles would be more greatly desired.",
      "EditableFormat": "bbcode",
      "HTML": "I too would be interested in the different approaches writers/coders have taken in regards to combat.  Would it seem fair if I asserted the existence of two conflict resolution poles, namely narrativist and gamist?  (These terms were stolen from discussions and articles at <a href=\"http&#58;//www&#46;indie-rpgs&#46;com\" rel=\"nofollow\">http&#58;//www&#46;indie-rpgs&#46;com</a>).   While a narrativist approach would resolve conflict based on the structure and movement of the plot, a gamist approach would demand a systematic representation of variables such as Strength, Speed, Skill, Weapon Type, Health, etc.  The gamist would articulate the states of combat with messages such as &quot;You swing and miss&quot;, or &quot;You hit for 14 hp of damage&quot;.  The narrativist would articulate such states differently:  &quot;You lunge forward, but Carlos sidesteps quickly away&quot;, and &quot;You feint to the left, then flick to the right, catching Carlos across his cheek.  A thin red line bursts into color below his eye and, shocked, he stumbles backwards into a pile of books&quot;.<br/><br/>While a gamist checks for system verification to resolve the combat, a narrativist checks for plot verification.  That is, a gamist compares statistics and/or random numbers to ascertain an outcome, while a narrativist compares the actions of the player to ascertain an outcome - IE, did they find the sword? did they get some rudimentary training? did they practice? did they enrage Carlos? have they spoken to Helena about Carlos' fighting style?<br/><br/>I suspect a median between these two poles would be more greatly desired.",
      "PostDate": "2006-01-15T12:24:28+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "7280",
      "UserId": 0,
      "Username": "lyteside",
      "UserAvatar": null,
      "UserGravatar": "8a1935c84e0128360167bbb363a419cc",
      "EditableText": "I totally agree, overcat.  It would be awesome to combine stats and random environment/mob modifyers along with strategic input from the gamer as to &quot;how&quot; they want to attack.  and then have the battles seem more detailed and involved.  of course, the more input required from the player, the more &quot;turn-based&quot; the battle may become.  That's probably why a good balance should be found between the two.  Gordex and I have written a code that seems to work well for the &quot;gamist&quot; side of things, and resembles closely to MUD type battles, if anyone is interested.  feel free to steal the code and use it how you want...you'll have to plug in and add your own variables to make this work, since this is only a snippet:\n\n[code:3lh0qgqt]'************************************************************************************************\n'************************************************************************************************\n'********************************** PLAYER ATTACK ***********************************************\n'************************************************************************************************\n'************************************************************************************************\n\n\n\n\ndefine procedure &lt;playerattackproc&gt; \n\tset numeric &lt;attackpower; %STR% / 2&gt;\n\tset numeric &lt;damage; %attackpower% + $rand&#40;1;10&#41;$&gt;\n\tset numeric &lt;attackhit; %DEX% / 2&gt;\n\tset numeric &lt;attackhit; %attackhit% + $rand&#40;1;20&#41;$&gt;\n'\tset numeric &lt;attackhit; %attackhit% - $rand&#40;1;10&#41;$&gt;\n\tset interval &lt;playerattack; %attackspeed%&gt;\n\tset numeric &lt;battle; 1&gt;\n\tset numeric &lt;ARTDAMAGE; %INT% + %CHR%&gt;\n\tset numeric &lt;ARTDAMAGE; %ARTDAMAGE% / 2&gt;\n\tset numeric &lt;ARTDAMAGE; %ARTDAMAGE% + $rand&#40;%ARTDAMAGELOW%;%ARTDAMAGEHIGH%&#41;$&gt;\n\tif &#40;%HP% &lt;=0&#41; then &#123;\n\t\tdo &lt;turnoffalltimers&gt;\n\t&#125;\n\nif not here &lt;#lastenemy#&gt; then do &lt;createexits&gt;\n\n'1&#58; Check to see if mob is here&#46;\n\nif here &lt;#lastenemy#&gt; then &#123;\n\n' 2&#58; If you don't have art, then attack with this code&#46;\n\n\tif &#40;%ARTONOFF% = 0&#41; and &#40;%EHP% &gt; 0&#41; then &#123;\n\n'  3&#58; Check to see if you hit the mob or not&#46;\n\n\t\tif &#40; %attackhit% &gt; #&#40;lastenemy&#41;&#58;armor# &#41; or &#40;$rand&#40;1;20&#41;$ = 20&#41; then &#123;\n\n'     10&#58; Do this stuff for damage to armor and such\n\t\t\tif &#40;%enemytempARMOR% &gt; 0&#41; and &#40;$rand&#40;1;#&#40;lastenemy&#41;&#58;armor#&#41;$ &gt;= 10&#41; then &#123;\n\t\t\t\tset numeric &lt;damage; %damage% / 2&gt;\n\t\t\t\tforeground &lt;&amp;H779999&gt;\n\t\t\t\tmsg &lt;You |xn&gt;\n\t\t\t\tforeground &lt;white&gt;\n\t\t\t\tmsg &lt;attack |xn&gt;\n\t\t\t\tforeground &lt;&amp;H2266F2&gt;\n\t\t\t\tif &#40;$lengthof&#40;#&#40;lastenemy&#41;&#58;prefix#&#41;$ = 0&#41; then msg &lt;|b$displayname&#40;#lastenemy#&#41;$|xb |xn&gt;\n\t\t\t\telse &#123;msg &lt;the |b$displayname&#40;#lastenemy#&#41;$|xb |xn&gt;&#125;\n\t\t\t\tforeground &lt;white&gt;\n\t\t\t\tif &#40;$rand&#40;1;20&#41;$ = 20&#41; then &#123;\n\t\t\t\tset numeric &lt;damage; %damage% * 2&gt;\n\t\t\t\tmsg &lt;with a |i|cymighty blow|cb|xi for |cr|b%damage%|xb|cb points of damage!&gt;&#125;\n\t\t\t\telse msg &lt;for |cr|b%damage%|xb|cb points of damage&#46;&gt;\n\t\t\t\tdec &lt;EHP; %damage%&gt;\n\t\t\t\tdec &lt;enemytempARMOR; %damage%&gt;\n\t\t\t\tset numeric &lt;deflect; $rand&#40;1;3&#41;$&gt;\n\t\t\t\tif &#40;%deflect% = 1&#41; then &#123;\n\t\t\t\tif &#40;#&#40;lastenemy&#41;&#58;article# = it&#41; then msg &lt;Its tough armour deflects the rest&#46;&gt;\n\t\t\t\telse msg &lt;$capfirst&#40;#&#40;lastenemy&#41;&#58;article#&#41;$ armour deflects the rest&#46;&gt;\n\t\t\t\t&#125;\n\t\t\t\tif &#40;%deflect% = 2&#41; then &#123;\n\t\t\t\tmsg &lt;You are weakening |xn&gt;\n\t\t\t\tif &#40;#&#40;lastenemy&#41;&#58;article# = it&#41; then msg &lt;its defenses&#46;|xi|cb&gt;\n\t\t\t\tif &#40;#&#40;lastenemy&#41;&#58;article# = him&#41; then msg &lt;his defenses&#46;|xi|cb&gt;\n\t\t\t\tif &#40;#&#40;lastenemy&#41;&#58;article# = her&#41; then msg &lt;her defenses&#46;|xi|cb&gt;\n\t\t\t\t&#125;\n\t\t\t\tif &#40; %enemytempARMOR% &lt;= 0&#41; then &#123;\n\t\t\t\tmsg &lt;|i|cyYou have broken through |xn&gt;\n\t\t\t\tif &#40;#&#40;lastenemy&#41;&#58;article# = it&#41; then msg &lt;its defenses!|xi|cb&gt;\n\t\t\t\tif &#40;#&#40;lastenemy&#41;&#58;article# = him&#41; then msg &lt;his defenses!|xi|cb&gt;\n\t\t\t\tif &#40;#&#40;lastenemy&#41;&#58;article# = her&#41; then msg &lt;her defenses!|xi|cb&gt; \n\t\t\t\t&#125;\n\t\t\t&#125;\n\t\t\n\t\t\telse &#123;\n\t\t\t\tforeground &lt;&amp;H779999&gt;\n\t\t\t\tmsg &lt;You |xn&gt;\n\t\t\t\tforeground &lt;white&gt;\n\t\t\t\tmsg &lt;attack |xn&gt;\n\t\t\t\tforeground &lt;&amp;H2266F2&gt;\n\t\t\t\tif &#40;$lengthof&#40;#&#40;lastenemy&#41;&#58;prefix#&#41;$ = 0&#41; then msg &lt;|b$displayname&#40;#lastenemy#&#41;$|xb |xn&gt;\n\t\t\t\telse &#123;msg &lt;the |b$displayname&#40;#lastenemy#&#41;$|xb |xn&gt;&#125;\n\t\t\t\tforeground &lt;white&gt;\n\t\t\t\tif &#40;$rand&#40;1;20&#41;$ &gt;= 19&#41; then &#123;\n\t\t\t\t\tset numeric &lt;damage; %damage% * 2&gt;\n\t\t\t\t\tmsg &lt;with a |i|cymighty blow|cb|xi for |cr|b%damage%|xb|cb points of damage!&gt;&#125;\n\t\t\t\telse msg &lt;for |cr|b%damage%|xb|cb points of damage&#46;&gt;\n\t\t\t\tdec &lt;EHP; %damage%&gt;\n\t\t\t&#125;\n'     10&#58; end----------\n\n\t\t\tif &#40;%EHP% &gt; 0&#41; then do &lt;battlehps&gt;\n\n'   4&#58; If weapon has double damage, run this&#46;\n\n\t\t\tif &#40; %doubledamage% &gt; 1&#41; and &#40;%EHP% &gt; 0&#41; then &#123;\n\t\t\tset numeric &lt;damage; $rand&#40;3;13&#41;$&gt;\n\t\t\tmsg &lt;|b|cgYour|cb|xb weapon deals out an extra |cr|b%damage%|xb|cb damage!&gt;\n\t\t\tdec &lt;EHP; %damage%&gt;\n'\t\t\tif &#40;%EHP% &gt; 0&#41; then do &lt;battlehps&gt;\n\t\t\t&#125; '   4&#58; end ---------------\n\n'   5&#58; If you can &#91; knock &#93; enemy down, run this&#46;\n\n\t\t\tif &#40; %knock% &gt; 0 &#41; and &#40;$rand&#40;1;20&#41;$ &gt; 18&#41; then &#123;\n\t\t\tforeground &lt;&amp;H779999&gt;\n\t\t\tmsg &lt;You |xn&gt;\n\t\t\tforeground &lt;white&gt;\n\t\t\tmsg &lt;|i|cyknock|cb|xi your opponent down and |xn&gt;\n\t\t\tforeground &lt;&amp;H2266F2&gt;\n\t\t\tif &#40;$lengthof&#40;#&#40;lastenemy&#41;&#58;prefix#&#41;$ = 0&#41; then msg &lt;|b$displayname&#40;#lastenemy#&#41;$|xb |xn&gt;\n\t\t\telse &#123;msg &lt;the |b$displayname&#40;#lastenemy#&#41;$|xb |xn&gt;&#125;\n\t\t\tforeground &lt;white&gt;\n\t\t\tmsg &lt;loses a turn!&gt;\n\t\t\tset numeric &lt;e_loseturn; 1&gt;\n\t\t\t&#125; '   5&#58; end ---------------\n    5&#46;5&#58; If you can &#91; disarm &#93; enemy, run this&#46;\n\t\t\tif &#40; %disarm% &gt; 0 &#41; and &#40;$rand&#40;1;20&#41;$ &gt; 18&#41; then &#123;\n\t\t\tif not flag &lt;disarm&gt; then &#123;\n\t\t\t\tdo &lt;disarm&gt;\n\t\t\t\tset string &lt;disarmed_weapon; #&#40;lastenemy&#41;&#58;weapon#&gt;\n\t\t\t\tset string &lt;disarmed_mob; $getobjectname&#40;#lastenemy#&#41;$&gt;\n\t\t\t\tif &#40;#&#40;lastenemy&#41;&#58;article# = her&#41; then property &lt;$getobjectname&#40;#lastenemy#&#41;$; weapon=her fists&gt;\n\t\t\t\tif &#40;#&#40;lastenemy&#41;&#58;article# = him&#41; then property &lt;$getobjectname&#40;#lastenemy#&#41;$; weapon=his fists&gt;\n\t\t\t\tif &#40;#&#40;lastenemy&#41;&#58;article# = it&#41; then property &lt;$getobjectname&#40;#lastenemy#&#41;$; weapon=its fists&gt;\n\t\t\t\tforeground &lt;&amp;H779999&gt;\n\t\t\t\tmsg &lt;You |xn&gt;\n\t\t\t\tforeground &lt;white&gt;\n\t\t\t\tmsg &lt;|i|cydisarm|cb|xi your opponent!&gt;\n\t\t\t\tdo &lt;bounty&gt;&#125;\n\t\t\tflag on &lt;disarm&gt;\n\t\t\tset numeric &lt;e_disarm; 1&gt;\n\t\t\t&#125;\n\n'   6&#58; If you successfully knocked your opponent out, run this&#46;\n\n\t\t\tif &#40;%e_loseturn%=0&#41; then timeron &lt;enemyattack&gt;\n\t\t\telse &#123;\ttimeroff &lt;enemyattack&gt;\n\t\t\t\tset numeric &lt;e_loseturn; 0&gt;\n\t\t\t\tforeground &lt;&amp;H2266F2&gt;\n\t\t\t\tif &#40;$lengthof&#40;#&#40;lastenemy&#41;&#58;prefix#&#41;$ = 0&#41; then msg &lt;|b$displayname&#40;#lastenemy#&#41;$|xb |xn&gt;\n\t\t\t\telse &#123;msg &lt;The |b$displayname&#40;#lastenemy#&#41;$|xb |xn&gt;&#125;\n\t\t\t\tforeground &lt;white&gt;\n\t\t\t\tmsg &lt;fumbles around, trying to regain composure&#46;&gt;\n\t\t\t&#125; '   6&#58; end---------------\n\n\t\t&#125; '  3&#58; cont&#46;------ Run this if you missed the mob&#46;!!!!!!!!!!!!\n\n\t\telse &#123; \tset numeric &lt;damage; $rand&#40;3;13&#41;$&gt;\n\t\t\tdec &lt;wieldability; $rand&#40;0;5&#41;$&gt;\n\t\t\tforeground &lt;&amp;H779999&gt;\n\t\t\tmsg &lt;You |xn&gt;\n\t\t\tforeground &lt;white&gt;\n\t\t\tmsg &lt;attack |xn&gt;\n\t\t\tforeground &lt;&amp;H2266F2&gt;\n\t\t\tif &#40;$lengthof&#40;#&#40;lastenemy&#41;&#58;prefix#&#41;$ = 0&#41; then msg &lt;|b$displayname&#40;#lastenemy#&#41;$|xb |xn&gt;\n\t\t\telse &#123;msg &lt;the |b$displayname&#40;#lastenemy#&#41;$|xb |xn&gt;&#125;\n\t\t\tforeground &lt;white&gt;\n\t\t\tmsg &lt;but miss!&gt;\n\n'   7&#58; If you missed and weapon is unsafe &#40;i&#46;e&#46; whip&#41;, run this\n\n\t\t\tif &#40;%unsafe% &gt; 0&#41; and &#40;$rand&#40;1;%wieldability%&#41;$ &gt; %attackhit%&#41; then &#123;\n\t\t\t\tforeground &lt;&amp;H779999&gt;\n\t\t\t\tmsg &lt;You |xn&gt;\n\t\t\t\tforeground &lt;white&gt;\n\t\t\t\tmsg &lt;end up hurting yourself for |cr|b%damage%|xb|cb damage!&gt;\n\t\t\t\tdec &lt;HP; %damage%&gt;\n\t\t\t&#125; '   7&#58; end---------------\n\t\ttimeron &lt;enemyattack&gt;\n\t\t&#125; '  3&#58; end---------------\n\t&#125; ' 2&#58; end---------------\n\n\n\n' 2&#58; If you have &quot;the art&quot; &#40;spiritual attack&#41;, attack with this code&#46;\n\n\tif &#40;%ARTONOFF% = 1&#41; and &#40;%ART% &gt; 0&#41; and &#40;%EHP% &gt; 0&#41; then &#123;\n\t\tset numeric &lt;attackhit; %attackhit% + %ART%&#41;&gt;\n\t\tif &#40; %attackhit% &gt; #&#40;lastenemy&#41;&#58;armor# &#41; then &#123;\n\t\t\tset string &lt;ARTSTR&#91;1&#93;; Void&gt;\n\t\t\tset string &lt;ARTSTR&#91;2&#93;; Gravity&gt;\n\t\t\tset string &lt;ARTSTR&#91;3&#93;; Annihilation&gt;\n\t\t\tset string &lt;ARTSTR&#91;4&#93;; Suffering&gt;\n\t\t\tset string &lt;ARTSTR&#91;5&#93;; Despair&gt;\n\t\t\tset string &lt;ARTSTR&#91;6&#93;; Horror&gt;\n\t\t\tset string &lt;ARTSTR&#91;7&#93;; Disease&gt;\n\t\t\tset string &lt;ARTSTR&#91;8&#93;; Chaos&gt;\n\t\t\tset string &lt;ARTSTR&#91;9&#93;; Spirit&gt;\n\t\t\tset string &lt;ARTSTR&#91;10&#93;; Time&gt;\n\t\t\tset string &lt;ARTSTR&#91;11&#93;; Anguish&gt;\n\t\t\tset numeric &lt;ARTNUM; $rand&#40;1;11&#41;$&gt;\n\t\t\tforeground &lt;&amp;H779999&gt;\n\t\t\tmsg &lt;You |xn&gt;\n\t\t\tforeground &lt;white&gt;\n\t\t\tmsg &lt;attack |xn&gt;\n\t\t\tforeground &lt;&amp;H2266F2&gt;\n\t\t\tif &#40;$lengthof&#40;#&#40;lastenemy&#41;&#58;prefix#&#41;$ = 0&#41; then msg &lt;|b$displayname&#40;#lastenemy#&#41;$|xb |xn&gt;\n\t\t\telse &#123;msg &lt;the |b$displayname&#40;#lastenemy#&#41;$|xb |xn&gt;&#125;\n\t\t\tforeground &lt;white&gt;\n\t\t\tmsg &lt;using |b|crthe art of #ARTSTR&#91;ARTNUM&#93;#!|cb|xb for |cr|b%ARTDAMAGE%|xb|cb points of damage&#46;&gt;\n\t\t\tset numeric &lt;ARTONOFF; 0&gt;\n\t\t\ttimeron &lt;arttimer&gt;\n\t\t\tdec &lt;EHP; %ARTDAMAGE%&gt;\n'\t\t\tif &#40;%EHP% &gt; 0&#41; then do &lt;battlehps&gt;\n\t\t&#125;\n\t\telse &#123;\n\t\tforeground &lt;&amp;H779999&gt;\n\t\tmsg &lt;You |xn&gt;\n\t\tforeground &lt;white&gt;\n\t\tmsg &lt;attack |xn&gt;\n\t\tforeground &lt;&amp;H2266F2&gt;\n\t\tif &#40;$lengthof&#40;#&#40;lastenemy&#41;&#58;prefix#&#41;$ = 0&#41; then msg &lt;|b$displayname&#40;#lastenemy#&#41;$|xb |xn&gt;\n\t\telse &#123;msg &lt;the |b$displayname&#40;#lastenemy#&#41;$|xb |xn&gt;&#125;\n\t\tforeground &lt;white&gt;\n\t\tmsg &lt;using your |b|crArt|cb|xb but fail!&gt;&#125;\n\n\t\tif &#40;%EHP% &gt; 0&#41; then timeron &lt;enemyattack&gt;\n\t\telse &#123;\tdo &lt;turnoffattacktimers&gt;\n\t\t\tset numeric &lt;battle; 0&gt;\n\t\t\tif &#40;%COMBO% &gt; 0&#41; then set numeric &lt;COMBOONOFF; 1&gt;\n\t\t\tif &#40;%ART% &gt; 0&#41; then set numeric &lt;ARTONOFF; 1&gt;\n\t\t&#125;\n\t&#125; ' 2&#58; end---------------\n&#125; \nelse &#123;\tdo &lt;turnoffattacktimers&gt;\n\tif &#40;%COMBO% &gt; 0&#41; then set numeric &lt;COMBOONOFF; 1&gt;\n\tif &#40;%ART% &gt; 0&#41; then set numeric &lt;ARTONOFF; 1&gt;\n\tset numeric &lt;battle; 0&gt;\n&#125; '1&#58; end---------------\n\nset numeric &lt;ehp10; %ehpmax% / 10&gt;\nset numeric &lt;ehp80; %ehp10% * 8&gt;\nset numeric &lt;ehpdiff; %ehpmax% - %EHP%&gt;\nif &#40;%ehp80% &lt; %ehpdiff%&#41; and &#40;%EHP &gt; 0 &#41; then do &lt;enemyhps&gt;\n\n\n'8&#58; Training bot stuff&#46;  not really a part of the stuff above&#46;\n\n\tif &#40;#lastenemy# = trainingbot&#41; and &#40;%hp75% &lt; %hpdiff%&#41; and &#40;%HP% &lt;&gt; %HPMAX%&#41; and &#40;%EHP% &gt; 0&#41; then &#123;\n\t\tmsg &lt;|cgGood show!  |b|cgYou|cg|xb should take a rest now&#46;|cb&gt;\n\t\tdo &lt;turnoffattacktimers&gt;\n\t\tif &#40;%COMBO% &gt; 0&#41; then set numeric &lt;COMBOONOFF; 1&gt;\n\t\tif &#40;%ART% &gt; 0&#41; then set numeric &lt;ARTONOFF; 1&gt;\n\t\tset numeric &lt;battle; 0&gt;\n\t\t&#125; '8&#58; end---------------\nend define\n\n'************************************************************************************************\n'************************************************************************************************\n'********************************** ENEMY ATTACK ************************************************\n'************************************************************************************************\n'************************************************************************************************\n\n\n\ndefine procedure &lt;enemyattackproc&gt; \n\tset numeric &lt;tohit; %DEX% / 2&gt;\n\tset numeric &lt;tohit; %tohit% + $rand&#40;1;20&#41;$&gt;\n\tset numeric &lt;enemyattempt; #&#40;lastenemy&#41;&#58;dexterity# / 2&gt;\n\tset numeric &lt;enemyattempt; #&#40;lastenemy&#41;&#58;dexterity# + $rand&#40;1;20&#41;$&gt;\n'\tset numeric &lt;enemyattempt; %enemyattempt% - $rand&#40;1;10&#41;$&gt;\n\tset numeric &lt;e_damage; #&#40;lastenemy&#41;&#58;strength# + $rand&#40;1;10&#41;$&gt;\n\tif &#40;%parry% = 0&#41; then set numeric &lt;enemyattempt; %enemyattempt% - $rand&#40;1;7&#41;$&gt;\n\tif not &#40;#lastenemy# = trainingbot&#41; then &#123;\n\tset numeric &lt;taunting; $rand&#40;1;4&#41;$&gt;\n'\tif &#40;%taunting% = 1&#41; then msg &lt;#&#40;lastenemy&#41;&#58;taunt#&gt;\n'\tif &#40;%taunting% = 2&#41; then msg &lt;#&#40;lastenemy&#41;&#58;taunt2#&gt;\n'\tif &#40;%taunting% = 3&#41; then msg &lt;#&#40;lastenemy&#41;&#58;taunt3#&gt;\n'\tif &#40;%taunting% = 4&#41; then msg &lt;#&#40;lastenemy&#41;&#58;taunt4#&gt;\n\t&#125;\n\tset interval &lt;enemyattack; #&#40;lastenemy&#41;&#58;speed#&gt;\n\n\tif &#40;%EHP% &lt; 1&#41; then &#123;\n\tdo &lt;turnoffattacktimers&gt;\t\n\tif &#40;%COMBO% &gt; 0&#41; then set numeric &lt;COMBOONOFF; 1&gt;\n\tif &#40;%ART% &gt; 0&#41; then set numeric &lt;ARTONOFF; 1&gt;\n\t&#125;\n\t\n\tIf not here &lt;#lastenemy#&gt; then &#123;\n\tdo &lt;createexits&gt;\n\tdo &lt;turnoffattacktimers&gt;\n\tif &#40;%COMBO% &gt; 0&#41; then set numeric &lt;COMBOONOFF; 1&gt;\n\tif &#40;%ART% &gt; 0&#41; then set numeric &lt;ARTONOFF; 1&gt;\n\t&#125;\n\n\tset numeric &lt;firstenemyattempt; $rand&#40;1;20&#41;$&gt;\n\nif &#40;%battle% = 1&#41; then &#123;\n'1&#58; Check to see if you the enemy DOESN'T roll a 1&#46;\n\nif &#40; %firstenemyattempt% &gt; 1 &#41; then &#123;\n\t\n' 2&#58; Check to see if the mob hits naturally, or on a random natural 20&#46;\n\n\tif &#40; %enemyattempt% &gt; %DEX%&#41; or &#40;$rand&#40;1;20&#41;$ = 20&#41; then &#123;\n\n\t\tif &#40;%parry% = 1&#41; then set &lt;parryrandom; $rand&#40;1;20&#41;$ &gt;\n\t\tif &#40;%riposte% = 1&#41; and &#40;%parryrandom% &gt; 10&#41; and &#40;%parry% = 1&#41; then set &lt;riposterandom; $rand&#40;1;30&#41;$&gt;\n\t\tdo &lt;badassmobs&gt;\n\n'  3&#58; If you can riposte, and you rolled to get the riposte, run this&#46;\n\n\t\tif &#40;%riposterandom% &gt; 20&#41; and &#40;%tohit% &gt; #&#40;lastenemy&#41;&#58;armor#&#41; and &#40;%tohit% &gt; #&#40;lastenemy&#41;&#58;dexterity#&#41; and &#40;%riposte% = 1&#41; and &#40;%parry% = 1&#41; and &#40;%EHP% &gt; 0&#41; then &#123;\n\t\t\tset numeric &lt;e_damage; %e_damage% / 2&gt;\n\t\t\tforeground &lt;&amp;H2266F2&gt;\n\t\t\tif &#40;$lengthof&#40;#&#40;lastenemy&#41;&#58;prefix#&#41;$ = 0&#41; then msg &lt;|b$displayname&#40;#lastenemy#&#41;$|xb |xn&gt;\n\t\t\telse &#123;msg &lt;The |b$displayname&#40;#lastenemy#&#41;$|xb |xn&gt;&#125;\n\t\t\tforeground &lt;white&gt;\n\t\t\tmsg &lt;attacks you with #&#40;lastenemy&#41;&#58;weapon#, but you |cyriposte|cb the attack doing |cr|b%e_damage%|xb|cb damage!&gt; \n\t\t\tdec &lt;EHP; %e_damage%&gt;\n\t\t&#125;\n\t\telse &#123;\n\n'   4&#58; If riposte failed, and you can parry then try to parry instead&#46;\n\n\t\t\tif &#40;%parryrandom% &gt; 10&#41; and &#40;%parry% = 1&#41; and &#40;%tohit% &gt; #&#40;lastenemy&#41;&#58;dexterity#&#41; then &#123;\n\t\t\tforeground &lt;&amp;H2266F2&gt;\n\t\t\tif &#40;$lengthof&#40;#&#40;lastenemy&#41;&#58;prefix#&#41;$ = 0&#41; then msg &lt;|b$displayname&#40;#lastenemy#&#41;$|xb |xn&gt;\n\t\t\telse &#123;msg &lt;The |b$displayname&#40;#lastenemy#&#41;$|xb |xn&gt;&#125;\n\t\t\tforeground &lt;white&gt;\n\t\t\tmsg &lt;attacks you with #&#40;lastenemy&#41;&#58;weapon#, but you |cyparry|cb the attack!&gt;\n\t\t\t&#125;\n\t\t\telse &#123;\n\n'    5&#58; If you failed to parry, then have the enemy do damage!\n\n\t\t\t\tif &#40;#lastenemy# = trainingbot&#41; then &#123;set numeric &lt;e_damage; %HPMAX% / 10&gt;\n\t\t\t\t\tforeground &lt;&amp;H2266F2&gt;\n\t\t\t\t\tif &#40;$lengthof&#40;#&#40;lastenemy&#41;&#58;prefix#&#41;$ = 0&#41; then msg &lt;|b$displayname&#40;#lastenemy#&#41;$|xb |xn&gt;\n\t\t\t\t\telse &#123;msg &lt;The |b$displayname&#40;#lastenemy#&#41;$|xb |xn&gt;&#125;\n\t\t\t\t\tforeground &lt;white&gt;\n\t\t\t\t\tmsg &lt;attacks you with #&#40;lastenemy&#41;&#58;weapon# for |cr|b%e_damage%|xb|cb points of damage&#46;&gt;\n\t\t\t\t\tdec &lt;HP; %e_damage%&gt;&#125;\n\t\t\t\telse &#123;\n\n'     6&#58; Do this stuff for damage to armor and such\n\n\t\t\t\t\tif &#40;%tempARMOR% &gt; 0&#41; then &#123;\n\t\t\t\t\t\tset numeric &lt;e_damage; %e_damage% / 2&gt;\n\t\t\t\t\t\tforeground &lt;&amp;H2266F2&gt;\n\t\t\t\t\t\tif &#40;$lengthof&#40;#&#40;lastenemy&#41;&#58;prefix#&#41;$ = 0&#41; then msg &lt;|b$displayname&#40;#lastenemy#&#41;$|xb |xn&gt; \n\t\t\t\t\t\telse msg &lt;The |b$displayname&#40;#lastenemy#&#41;$|xb |xn&gt;\n\t\t\t\t\t\tforeground &lt;white&gt;\n\t\t\t\t\t\tmsg &lt;attacks you with #&#40;lastenemy&#41;&#58;weapon# for |cr|b%e_damage%|xb|cb points of damage, while your armour |cyabsorbs|cb some of the blow&#46;&gt;\n\t\t\t\t\t\tdec &lt;HP; %e_damage%&gt;\n\t\t\t\t\t\tdec &lt;tempARMOR; %e_damage%&gt;\n\t\t\t\t\t\tif &#40; %tempARMOR% &lt;= 0&#41; then &#123;\n\t\t\t\t\t\tforeground &lt;&amp;H2266F2&gt;\n\t\t\t\t\t\tif &#40;$lengthof&#40;#&#40;lastenemy&#41;&#58;prefix#&#41;$ = 0&#41; then msg &lt;|b$displayname&#40;#lastenemy#&#41;$|xb |xn&gt; \n\t\t\t\t\t\telse &#123;msg &lt;The |b$displayname&#40;#lastenemy#&#41;$|xb |xn&gt;&#125;\n\t\t\t\t\t\tmsg &lt;|i|cyhas broken through your armour!|cb|xi&gt;\n\t\t\t\t\t\tforeground &lt;&amp;H00FFFF&gt;\n\t\t\t\t\t\tpause &lt;100&gt;\n\t\t\t\t\t\tforeground &lt;white&gt;\n\t\t\t\t\t\tpause &lt;50&gt;\n\t\t\t\t\t\tforeground &lt;&amp;H00FFFF&gt;\n\t\t\t\t\t\tpause &lt;100&gt;\n\t\t\t\t\t\tforeground &lt;white&gt;\n\t\t\t\t\t\t&#125;\n\t\t\t\t\t\t&#125;\n\t\t\t\t\telse &#123;\n\t\t\t\t\t\tforeground &lt;&amp;H2266F2&gt;\n\t\t\t\t\t\tif &#40;$lengthof&#40;#&#40;lastenemy&#41;&#58;prefix#&#41;$ = 0&#41; then msg &lt;|b$displayname&#40;#lastenemy#&#41;$|xb |xn&gt; \n\t\t\t\t\t\telse &#123;msg &lt;The |b$displayname&#40;#lastenemy#&#41;$|xb |xn&gt;&#125;\n\t\t\t\t\t\tforeground &lt;white&gt;\n\t\t\t\t\t\tmsg &lt;attacks you with #&#40;lastenemy&#41;&#58;weapon# for |cr|b%e_damage%|xb|cb points of damage&#46;&gt;\n\t\t\t\t\t\tdec &lt;HP; %e_damage%&gt;\n\t\t\t\t\t&#125;\n'     6&#58; end----------\n\n\t\t\t\t&#125; \n'    5&#58; end----------\n\t\t\tset numeric &lt;hp10; %HPMAX% / 10&gt;\n\t\t\tset numeric &lt;hp90; %hp10% * 9&gt;\n\t\t\tset numeric &lt;hp80; %hp10% * 8&gt;\n\t\t\tset numeric &lt;hpdiff; %HPMAX% - %HP%&gt;\n\t\t\tif &#40;%hp80% &lt; %hpdiff%&#41; and &#40;%HP% &gt; 0&#41; then &#123;\n\t\t\tmsg &lt;|b|cr|iYou are close to death!|xi|cb|xb&gt;\n\t\t\tforeground &lt;&amp;H0000FF&gt;\n\t\t\tpause &lt;100&gt;\n\t\t\tforeground &lt;white&gt;\n\t\t\tpause &lt;50&gt;\n\t\t\tforeground &lt;&amp;H0000FF&gt;\n\t\t\tpause &lt;100&gt;\n\t\t\tforeground &lt;white&gt;\n\t\t\t&#125;\n\t\t\tif &#40;%EHP% &gt; 0&#41; then do &lt;battlehps&gt;\n\t\t\t&#125; \n'   4&#58; end----------\n\n\t\t&#125; \n'  3&#58; end----------\n\t&#125;\n\t' 2&#58; end / else----------\n\telse &#123;\n\t\tforeground &lt;&amp;H2266F2&gt;\n\t\tif &#40;$lengthof&#40;#&#40;lastenemy&#41;&#58;prefix#&#41;$ = 0&#41; then msg &lt;|b$displayname&#40;#lastenemy#&#41;$|xb |xn&gt;\n\t\telse &#123;msg &lt;$capfirst&#40;#&#40;lastenemy&#41;&#58;prefix#&#41;$ |b$displayname&#40;#lastenemy#&#41;$|xb |xn&gt;&#125;\n\t\t\tforeground &lt;white&gt;\n\t\t\tmsg &lt;attacks you with #&#40;lastenemy&#41;&#58;weapon# but misses!&gt;\n\n\t&#125; \n' 2&#58; end-----------\n\n&#125;  \n'1&#58; end / else-----------\nelse &#123;\n\tforeground &lt;&amp;H2266F2&gt;\n\tif &#40;$lengthof&#40;#&#40;lastenemy&#41;&#58;prefix#&#41;$ = 0&#41; then msg &lt;|b$displayname&#40;#lastenemy#&#41;$|xb |xn&gt;\n\telse &#123;msg &lt;$capfirst&#40;#&#40;lastenemy&#41;&#58;prefix#&#41;$ |b$displayname&#40;#lastenemy#&#41;$|xb |xn&gt;&#125;\n\tforeground &lt;white&gt;\n\tmsg &lt;attacks you with #&#40;lastenemy&#41;&#58;weapon# but misses horribly!&gt;\n&#125; '1&#58; end-----------\n&#125;\nend define\n\n'************************************************************************************************\n'************************************************************************************************\n'********************************** COMBAT TIMERS ***********************************************\n'************************************************************************************************\n'************************************************************************************************\n\n\ndefine timer &lt;arttimer&gt;\n\tinterval &lt;10&gt;\n\taction &#123;if &#40;%ART% &gt; 0&#41; and &#40;%ARTONOFF% = 0&#41; then &#123;\n\t\tset numeric &lt;ARTONOFF; 1&gt;\n\t\ttimeroff &lt;arttimer&gt;&#125;\n\t\t&#125; else timeroff &lt;arttimer&gt;\n\tdisabled\nend define\n\n\ndefine timer &lt;combotimer&gt;\n\tinterval &lt;15&gt;\n\taction &#123;if &#40;%COMBO% &gt; 0&#41; and &#40;%COMBOONOFF% = 0&#41; then &#123;\n\t\tset numeric &lt;COMBOONOFF; 1&gt;\n\t\ttimeroff &lt;combotimer&gt;\n\t\texec &lt;combo&gt;\t&#125;\t\n\t\t&#125;\n\tdisabled\nend define\n\n'************************************************************************************************\n'********************************** PLAYER ATTACK ***********************************************\n'************************************************************************************************\n\ndefine timer &lt;playerattack&gt;\n\tinterval &lt;1&gt;\naction &#123;\nif &#40;%EHP% &gt; 0&#41; and &#40;%HP% &gt; 0&#41; then do &lt;playerattackproc&gt;\nelse &#123;\n\tdo &lt;nothing&gt;\n\tset numeric &lt;battle; 0&gt;\n\ttimeroff &lt;playerattack&gt;\n\ttimeroff &lt;enemyattack&gt;\n\t&#125;\n&#125;\n\tdisabled\nend define\n\n'************************************************************************************************\n'********************************** ENEMY ATTACK ************************************************\n'************************************************************************************************\n\ndefine timer &lt;enemyattack&gt;\n\tinterval &lt;2&gt;\naction &#123;\nif &#40;%EHP% &gt; 0&#41; and &#40;%HP% &gt; 0&#41; then &#123;\n\tdo &lt;enemyattackproc&gt;\n\tif flag &lt;arrest&gt; and &#40;%hp60% &lt; %hpdiff%&#41; and &#40;%HP% &gt; 0&#41; then &#123;\n\t\tmsg &lt;You are overtaken and arrested&#46;&gt;\n\t\tdo &lt;turnoffalltimers&gt;\n\t\tgoto &lt;Morulan Information Center Lobby&gt;\n\t\t&#125;\n&#125;\t\n\nelse &#123;\ndo &lt;lastdyingmove&gt;\ndo &lt;nothing&gt;\nset numeric &lt;battle; 0&gt;\ntimeroff &lt;enemyattack&gt;\ntimeroff &lt;playerattack&gt;\n&#125;\n&#125; 'END ACTION\n\tdisabled\nend define[/code:3lh0qgqt]\n\n\nhere is the command &lt;attack #@object#&gt; that will start the pwning process:\n\n[code:3lh0qgqt]' *************** ATTACK PHASE *********************\n\t\tcommand &lt;attack #@object#&gt; &#123;\n\t\tif &#40; #&#40;object&#41;&#58;combat# &gt; 0 &#41; then &#123;\n\t\t\tset numeric &lt;espeed; 10&gt;\n' *************** TURN OFF TIMERS ******************\n\n' timeroff your relavent timers\n\n' *************** SET FIGHTING VARIABLES ************\n' most of this sets up the enemies hitpoints and strength and such&#46;\t\t\n\t\t\tset numeric &lt;enemyattempt; #&#40;object&#41;&#58;dexterity#&gt;\n\t\t\tset numeric &lt;enemytempARMOR; #&#40;object&#41;&#58;armor#&gt;\n\t\t\tset numeric &lt;tempARMOR; %ARM%&gt;\n\t\t\tset numeric &lt;attackspeed; 20 / %DEX% &gt; \n\t\t\tset interval &lt;playerattack; 2&gt;\n\t\t\tset numeric &lt;espeed; #&#40;object&#41;&#58;speed#&gt; \n'\t\t\tset numeric &lt;attackpower; %STR% / 2&gt;\n'\t\t\tset numeric &lt;attackhit; %DEX%&gt;\n\t\t\tdo &lt;enemylifeproc&gt;\n\t\t\ttimeron &lt;playerattack&gt;\n\t\t\tdo &lt;getexits&gt;\n'this procedure destroyed the exits in the room temporarily\n'while you fought, so you had to type a specific command to\n'try and escape&#46;\n\t\t\tdo &lt;removeexits&gt;\n\t\t&#125;\n\t\telse msg &lt;You can't attack that&#46;&gt;&#125;\n\nend define[/code:3lh0qgqt]",
      "EditableFormat": "bbcode",
      "HTML": "I totally agree, overcat.  It would be awesome to combine stats and random environment/mob modifyers along with strategic input from the gamer as to &quot;how&quot; they want to attack.  and then have the battles seem more detailed and involved.  of course, the more input required from the player, the more &quot;turn-based&quot; the battle may become.  That's probably why a good balance should be found between the two.  Gordex and I have written a code that seems to work well for the &quot;gamist&quot; side of things, and resembles closely to MUD type battles, if anyone is interested.  feel free to steal the code and use it how you want...you'll have to plug in and add your own variables to make this work, since this is only a snippet:<br/><br/><pre><code>'************************************************************************************************<br/>'************************************************************************************************<br/>'********************************** PLAYER ATTACK ***********************************************<br/>'************************************************************************************************<br/>'************************************************************************************************<br/><br/><br/><br/><br/>define procedure &lt;playerattackproc&gt; <br/>\tset numeric &lt;attackpower; %STR% / 2&gt;<br/>\tset numeric &lt;damage; %attackpower% + $rand&#40;1;10&#41;$&gt;<br/>\tset numeric &lt;attackhit; %DEX% / 2&gt;<br/>\tset numeric &lt;attackhit; %attackhit% + $rand&#40;1;20&#41;$&gt;<br/>'\tset numeric &lt;attackhit; %attackhit% - $rand&#40;1;10&#41;$&gt;<br/>\tset interval &lt;playerattack; %attackspeed%&gt;<br/>\tset numeric &lt;battle; 1&gt;<br/>\tset numeric &lt;ARTDAMAGE; %INT% + %CHR%&gt;<br/>\tset numeric &lt;ARTDAMAGE; %ARTDAMAGE% / 2&gt;<br/>\tset numeric &lt;ARTDAMAGE; %ARTDAMAGE% + $rand&#40;%ARTDAMAGELOW%;%ARTDAMAGEHIGH%&#41;$&gt;<br/>\tif &#40;%HP% &lt;=0&#41; then &#123;<br/>\t\tdo &lt;turnoffalltimers&gt;<br/>\t&#125;<br/><br/>if not here &lt;#lastenemy#&gt; then do &lt;createexits&gt;<br/><br/>'1&#58; Check to see if mob is here&#46;<br/><br/>if here &lt;#lastenemy#&gt; then &#123;<br/><br/>' 2&#58; If you don't have art, then attack with this code&#46;<br/><br/>\tif &#40;%ARTONOFF% = 0&#41; and &#40;%EHP% &gt; 0&#41; then &#123;<br/><br/>'  3&#58; Check to see if you hit the mob or not&#46;<br/><br/>\t\tif &#40; %attackhit% &gt; #&#40;lastenemy&#41;&#58;armor# &#41; or &#40;$rand&#40;1;20&#41;$ = 20&#41; then &#123;<br/><br/>'     10&#58; Do this stuff for damage to armor and such<br/>\t\t\tif &#40;%enemytempARMOR% &gt; 0&#41; and &#40;$rand&#40;1;#&#40;lastenemy&#41;&#58;armor#&#41;$ &gt;= 10&#41; then &#123;<br/>\t\t\t\tset numeric &lt;damage; %damage% / 2&gt;<br/>\t\t\t\tforeground &lt;&amp;H779999&gt;<br/>\t\t\t\tmsg &lt;You |xn&gt;<br/>\t\t\t\tforeground &lt;white&gt;<br/>\t\t\t\tmsg &lt;attack |xn&gt;<br/>\t\t\t\tforeground &lt;&amp;H2266F2&gt;<br/>\t\t\t\tif &#40;$lengthof&#40;#&#40;lastenemy&#41;&#58;prefix#&#41;$ = 0&#41; then msg &lt;|b$displayname&#40;#lastenemy#&#41;$|xb |xn&gt;<br/>\t\t\t\telse &#123;msg &lt;the |b$displayname&#40;#lastenemy#&#41;$|xb |xn&gt;&#125;<br/>\t\t\t\tforeground &lt;white&gt;<br/>\t\t\t\tif &#40;$rand&#40;1;20&#41;$ = 20&#41; then &#123;<br/>\t\t\t\tset numeric &lt;damage; %damage% * 2&gt;<br/>\t\t\t\tmsg &lt;with a |i|cymighty blow|cb|xi for |cr|b%damage%|xb|cb points of damage!&gt;&#125;<br/>\t\t\t\telse msg &lt;for |cr|b%damage%|xb|cb points of damage&#46;&gt;<br/>\t\t\t\tdec &lt;EHP; %damage%&gt;<br/>\t\t\t\tdec &lt;enemytempARMOR; %damage%&gt;<br/>\t\t\t\tset numeric &lt;deflect; $rand&#40;1;3&#41;$&gt;<br/>\t\t\t\tif &#40;%deflect% = 1&#41; then &#123;<br/>\t\t\t\tif &#40;#&#40;lastenemy&#41;&#58;article# = it&#41; then msg &lt;Its tough armour deflects the rest&#46;&gt;<br/>\t\t\t\telse msg &lt;$capfirst&#40;#&#40;lastenemy&#41;&#58;article#&#41;$ armour deflects the rest&#46;&gt;<br/>\t\t\t\t&#125;<br/>\t\t\t\tif &#40;%deflect% = 2&#41; then &#123;<br/>\t\t\t\tmsg &lt;You are weakening |xn&gt;<br/>\t\t\t\tif &#40;#&#40;lastenemy&#41;&#58;article# = it&#41; then msg &lt;its defenses&#46;|xi|cb&gt;<br/>\t\t\t\tif &#40;#&#40;lastenemy&#41;&#58;article# = him&#41; then msg &lt;his defenses&#46;|xi|cb&gt;<br/>\t\t\t\tif &#40;#&#40;lastenemy&#41;&#58;article# = her&#41; then msg &lt;her defenses&#46;|xi|cb&gt;<br/>\t\t\t\t&#125;<br/>\t\t\t\tif &#40; %enemytempARMOR% &lt;= 0&#41; then &#123;<br/>\t\t\t\tmsg &lt;|i|cyYou have broken through |xn&gt;<br/>\t\t\t\tif &#40;#&#40;lastenemy&#41;&#58;article# = it&#41; then msg &lt;its defenses!|xi|cb&gt;<br/>\t\t\t\tif &#40;#&#40;lastenemy&#41;&#58;article# = him&#41; then msg &lt;his defenses!|xi|cb&gt;<br/>\t\t\t\tif &#40;#&#40;lastenemy&#41;&#58;article# = her&#41; then msg &lt;her defenses!|xi|cb&gt; <br/>\t\t\t\t&#125;<br/>\t\t\t&#125;<br/>\t\t<br/>\t\t\telse &#123;<br/>\t\t\t\tforeground &lt;&amp;H779999&gt;<br/>\t\t\t\tmsg &lt;You |xn&gt;<br/>\t\t\t\tforeground &lt;white&gt;<br/>\t\t\t\tmsg &lt;attack |xn&gt;<br/>\t\t\t\tforeground &lt;&amp;H2266F2&gt;<br/>\t\t\t\tif &#40;$lengthof&#40;#&#40;lastenemy&#41;&#58;prefix#&#41;$ = 0&#41; then msg &lt;|b$displayname&#40;#lastenemy#&#41;$|xb |xn&gt;<br/>\t\t\t\telse &#123;msg &lt;the |b$displayname&#40;#lastenemy#&#41;$|xb |xn&gt;&#125;<br/>\t\t\t\tforeground &lt;white&gt;<br/>\t\t\t\tif &#40;$rand&#40;1;20&#41;$ &gt;= 19&#41; then &#123;<br/>\t\t\t\t\tset numeric &lt;damage; %damage% * 2&gt;<br/>\t\t\t\t\tmsg &lt;with a |i|cymighty blow|cb|xi for |cr|b%damage%|xb|cb points of damage!&gt;&#125;<br/>\t\t\t\telse msg &lt;for |cr|b%damage%|xb|cb points of damage&#46;&gt;<br/>\t\t\t\tdec &lt;EHP; %damage%&gt;<br/>\t\t\t&#125;<br/>'     10&#58; end----------<br/><br/>\t\t\tif &#40;%EHP% &gt; 0&#41; then do &lt;battlehps&gt;<br/><br/>'   4&#58; If weapon has double damage, run this&#46;<br/><br/>\t\t\tif &#40; %doubledamage% &gt; 1&#41; and &#40;%EHP% &gt; 0&#41; then &#123;<br/>\t\t\tset numeric &lt;damage; $rand&#40;3;13&#41;$&gt;<br/>\t\t\tmsg &lt;|b|cgYour|cb|xb weapon deals out an extra |cr|b%damage%|xb|cb damage!&gt;<br/>\t\t\tdec &lt;EHP; %damage%&gt;<br/>'\t\t\tif &#40;%EHP% &gt; 0&#41; then do &lt;battlehps&gt;<br/>\t\t\t&#125; '   4&#58; end ---------------<br/><br/>'   5&#58; If you can &#91; knock &#93; enemy down, run this&#46;<br/><br/>\t\t\tif &#40; %knock% &gt; 0 &#41; and &#40;$rand&#40;1;20&#41;$ &gt; 18&#41; then &#123;<br/>\t\t\tforeground &lt;&amp;H779999&gt;<br/>\t\t\tmsg &lt;You |xn&gt;<br/>\t\t\tforeground &lt;white&gt;<br/>\t\t\tmsg &lt;|i|cyknock|cb|xi your opponent down and |xn&gt;<br/>\t\t\tforeground &lt;&amp;H2266F2&gt;<br/>\t\t\tif &#40;$lengthof&#40;#&#40;lastenemy&#41;&#58;prefix#&#41;$ = 0&#41; then msg &lt;|b$displayname&#40;#lastenemy#&#41;$|xb |xn&gt;<br/>\t\t\telse &#123;msg &lt;the |b$displayname&#40;#lastenemy#&#41;$|xb |xn&gt;&#125;<br/>\t\t\tforeground &lt;white&gt;<br/>\t\t\tmsg &lt;loses a turn!&gt;<br/>\t\t\tset numeric &lt;e_loseturn; 1&gt;<br/>\t\t\t&#125; '   5&#58; end ---------------<br/>    5&#46;5&#58; If you can &#91; disarm &#93; enemy, run this&#46;<br/>\t\t\tif &#40; %disarm% &gt; 0 &#41; and &#40;$rand&#40;1;20&#41;$ &gt; 18&#41; then &#123;<br/>\t\t\tif not flag &lt;disarm&gt; then &#123;<br/>\t\t\t\tdo &lt;disarm&gt;<br/>\t\t\t\tset string &lt;disarmed_weapon; #&#40;lastenemy&#41;&#58;weapon#&gt;<br/>\t\t\t\tset string &lt;disarmed_mob; $getobjectname&#40;#lastenemy#&#41;$&gt;<br/>\t\t\t\tif &#40;#&#40;lastenemy&#41;&#58;article# = her&#41; then property &lt;$getobjectname&#40;#lastenemy#&#41;$; weapon=her fists&gt;<br/>\t\t\t\tif &#40;#&#40;lastenemy&#41;&#58;article# = him&#41; then property &lt;$getobjectname&#40;#lastenemy#&#41;$; weapon=his fists&gt;<br/>\t\t\t\tif &#40;#&#40;lastenemy&#41;&#58;article# = it&#41; then property &lt;$getobjectname&#40;#lastenemy#&#41;$; weapon=its fists&gt;<br/>\t\t\t\tforeground &lt;&amp;H779999&gt;<br/>\t\t\t\tmsg &lt;You |xn&gt;<br/>\t\t\t\tforeground &lt;white&gt;<br/>\t\t\t\tmsg &lt;|i|cydisarm|cb|xi your opponent!&gt;<br/>\t\t\t\tdo &lt;bounty&gt;&#125;<br/>\t\t\tflag on &lt;disarm&gt;<br/>\t\t\tset numeric &lt;e_disarm; 1&gt;<br/>\t\t\t&#125;<br/><br/>'   6&#58; If you successfully knocked your opponent out, run this&#46;<br/><br/>\t\t\tif &#40;%e_loseturn%=0&#41; then timeron &lt;enemyattack&gt;<br/>\t\t\telse &#123;\ttimeroff &lt;enemyattack&gt;<br/>\t\t\t\tset numeric &lt;e_loseturn; 0&gt;<br/>\t\t\t\tforeground &lt;&amp;H2266F2&gt;<br/>\t\t\t\tif &#40;$lengthof&#40;#&#40;lastenemy&#41;&#58;prefix#&#41;$ = 0&#41; then msg &lt;|b$displayname&#40;#lastenemy#&#41;$|xb |xn&gt;<br/>\t\t\t\telse &#123;msg &lt;The |b$displayname&#40;#lastenemy#&#41;$|xb |xn&gt;&#125;<br/>\t\t\t\tforeground &lt;white&gt;<br/>\t\t\t\tmsg &lt;fumbles around, trying to regain composure&#46;&gt;<br/>\t\t\t&#125; '   6&#58; end---------------<br/><br/>\t\t&#125; '  3&#58; cont&#46;------ Run this if you missed the mob&#46;!!!!!!!!!!!!<br/><br/>\t\telse &#123; \tset numeric &lt;damage; $rand&#40;3;13&#41;$&gt;<br/>\t\t\tdec &lt;wieldability; $rand&#40;0;5&#41;$&gt;<br/>\t\t\tforeground &lt;&amp;H779999&gt;<br/>\t\t\tmsg &lt;You |xn&gt;<br/>\t\t\tforeground &lt;white&gt;<br/>\t\t\tmsg &lt;attack |xn&gt;<br/>\t\t\tforeground &lt;&amp;H2266F2&gt;<br/>\t\t\tif &#40;$lengthof&#40;#&#40;lastenemy&#41;&#58;prefix#&#41;$ = 0&#41; then msg &lt;|b$displayname&#40;#lastenemy#&#41;$|xb |xn&gt;<br/>\t\t\telse &#123;msg &lt;the |b$displayname&#40;#lastenemy#&#41;$|xb |xn&gt;&#125;<br/>\t\t\tforeground &lt;white&gt;<br/>\t\t\tmsg &lt;but miss!&gt;<br/><br/>'   7&#58; If you missed and weapon is unsafe &#40;i&#46;e&#46; whip&#41;, run this<br/><br/>\t\t\tif &#40;%unsafe% &gt; 0&#41; and &#40;$rand&#40;1;%wieldability%&#41;$ &gt; %attackhit%&#41; then &#123;<br/>\t\t\t\tforeground &lt;&amp;H779999&gt;<br/>\t\t\t\tmsg &lt;You |xn&gt;<br/>\t\t\t\tforeground &lt;white&gt;<br/>\t\t\t\tmsg &lt;end up hurting yourself for |cr|b%damage%|xb|cb damage!&gt;<br/>\t\t\t\tdec &lt;HP; %damage%&gt;<br/>\t\t\t&#125; '   7&#58; end---------------<br/>\t\ttimeron &lt;enemyattack&gt;<br/>\t\t&#125; '  3&#58; end---------------<br/>\t&#125; ' 2&#58; end---------------<br/><br/><br/><br/>' 2&#58; If you have &quot;the art&quot; &#40;spiritual attack&#41;, attack with this code&#46;<br/><br/>\tif &#40;%ARTONOFF% = 1&#41; and &#40;%ART% &gt; 0&#41; and &#40;%EHP% &gt; 0&#41; then &#123;<br/>\t\tset numeric &lt;attackhit; %attackhit% + %ART%&#41;&gt;<br/>\t\tif &#40; %attackhit% &gt; #&#40;lastenemy&#41;&#58;armor# &#41; then &#123;<br/>\t\t\tset string &lt;ARTSTR&#91;1&#93;; Void&gt;<br/>\t\t\tset string &lt;ARTSTR&#91;2&#93;; Gravity&gt;<br/>\t\t\tset string &lt;ARTSTR&#91;3&#93;; Annihilation&gt;<br/>\t\t\tset string &lt;ARTSTR&#91;4&#93;; Suffering&gt;<br/>\t\t\tset string &lt;ARTSTR&#91;5&#93;; Despair&gt;<br/>\t\t\tset string &lt;ARTSTR&#91;6&#93;; Horror&gt;<br/>\t\t\tset string &lt;ARTSTR&#91;7&#93;; Disease&gt;<br/>\t\t\tset string &lt;ARTSTR&#91;8&#93;; Chaos&gt;<br/>\t\t\tset string &lt;ARTSTR&#91;9&#93;; Spirit&gt;<br/>\t\t\tset string &lt;ARTSTR&#91;10&#93;; Time&gt;<br/>\t\t\tset string &lt;ARTSTR&#91;11&#93;; Anguish&gt;<br/>\t\t\tset numeric &lt;ARTNUM; $rand&#40;1;11&#41;$&gt;<br/>\t\t\tforeground &lt;&amp;H779999&gt;<br/>\t\t\tmsg &lt;You |xn&gt;<br/>\t\t\tforeground &lt;white&gt;<br/>\t\t\tmsg &lt;attack |xn&gt;<br/>\t\t\tforeground &lt;&amp;H2266F2&gt;<br/>\t\t\tif &#40;$lengthof&#40;#&#40;lastenemy&#41;&#58;prefix#&#41;$ = 0&#41; then msg &lt;|b$displayname&#40;#lastenemy#&#41;$|xb |xn&gt;<br/>\t\t\telse &#123;msg &lt;the |b$displayname&#40;#lastenemy#&#41;$|xb |xn&gt;&#125;<br/>\t\t\tforeground &lt;white&gt;<br/>\t\t\tmsg &lt;using |b|crthe art of #ARTSTR&#91;ARTNUM&#93;#!|cb|xb for |cr|b%ARTDAMAGE%|xb|cb points of damage&#46;&gt;<br/>\t\t\tset numeric &lt;ARTONOFF; 0&gt;<br/>\t\t\ttimeron &lt;arttimer&gt;<br/>\t\t\tdec &lt;EHP; %ARTDAMAGE%&gt;<br/>'\t\t\tif &#40;%EHP% &gt; 0&#41; then do &lt;battlehps&gt;<br/>\t\t&#125;<br/>\t\telse &#123;<br/>\t\tforeground &lt;&amp;H779999&gt;<br/>\t\tmsg &lt;You |xn&gt;<br/>\t\tforeground &lt;white&gt;<br/>\t\tmsg &lt;attack |xn&gt;<br/>\t\tforeground &lt;&amp;H2266F2&gt;<br/>\t\tif &#40;$lengthof&#40;#&#40;lastenemy&#41;&#58;prefix#&#41;$ = 0&#41; then msg &lt;|b$displayname&#40;#lastenemy#&#41;$|xb |xn&gt;<br/>\t\telse &#123;msg &lt;the |b$displayname&#40;#lastenemy#&#41;$|xb |xn&gt;&#125;<br/>\t\tforeground &lt;white&gt;<br/>\t\tmsg &lt;using your |b|crArt|cb|xb but fail!&gt;&#125;<br/><br/>\t\tif &#40;%EHP% &gt; 0&#41; then timeron &lt;enemyattack&gt;<br/>\t\telse &#123;\tdo &lt;turnoffattacktimers&gt;<br/>\t\t\tset numeric &lt;battle; 0&gt;<br/>\t\t\tif &#40;%COMBO% &gt; 0&#41; then set numeric &lt;COMBOONOFF; 1&gt;<br/>\t\t\tif &#40;%ART% &gt; 0&#41; then set numeric &lt;ARTONOFF; 1&gt;<br/>\t\t&#125;<br/>\t&#125; ' 2&#58; end---------------<br/>&#125; <br/>else &#123;\tdo &lt;turnoffattacktimers&gt;<br/>\tif &#40;%COMBO% &gt; 0&#41; then set numeric &lt;COMBOONOFF; 1&gt;<br/>\tif &#40;%ART% &gt; 0&#41; then set numeric &lt;ARTONOFF; 1&gt;<br/>\tset numeric &lt;battle; 0&gt;<br/>&#125; '1&#58; end---------------<br/><br/>set numeric &lt;ehp10; %ehpmax% / 10&gt;<br/>set numeric &lt;ehp80; %ehp10% * 8&gt;<br/>set numeric &lt;ehpdiff; %ehpmax% - %EHP%&gt;<br/>if &#40;%ehp80% &lt; %ehpdiff%&#41; and &#40;%EHP &gt; 0 &#41; then do &lt;enemyhps&gt;<br/><br/><br/>'8&#58; Training bot stuff&#46;  not really a part of the stuff above&#46;<br/><br/>\tif &#40;#lastenemy# = trainingbot&#41; and &#40;%hp75% &lt; %hpdiff%&#41; and &#40;%HP% &lt;&gt; %HPMAX%&#41; and &#40;%EHP% &gt; 0&#41; then &#123;<br/>\t\tmsg &lt;|cgGood show!  |b|cgYou|cg|xb should take a rest now&#46;|cb&gt;<br/>\t\tdo &lt;turnoffattacktimers&gt;<br/>\t\tif &#40;%COMBO% &gt; 0&#41; then set numeric &lt;COMBOONOFF; 1&gt;<br/>\t\tif &#40;%ART% &gt; 0&#41; then set numeric &lt;ARTONOFF; 1&gt;<br/>\t\tset numeric &lt;battle; 0&gt;<br/>\t\t&#125; '8&#58; end---------------<br/>end define<br/><br/>'************************************************************************************************<br/>'************************************************************************************************<br/>'********************************** ENEMY ATTACK ************************************************<br/>'************************************************************************************************<br/>'************************************************************************************************<br/><br/><br/><br/>define procedure &lt;enemyattackproc&gt; <br/>\tset numeric &lt;tohit; %DEX% / 2&gt;<br/>\tset numeric &lt;tohit; %tohit% + $rand&#40;1;20&#41;$&gt;<br/>\tset numeric &lt;enemyattempt; #&#40;lastenemy&#41;&#58;dexterity# / 2&gt;<br/>\tset numeric &lt;enemyattempt; #&#40;lastenemy&#41;&#58;dexterity# + $rand&#40;1;20&#41;$&gt;<br/>'\tset numeric &lt;enemyattempt; %enemyattempt% - $rand&#40;1;10&#41;$&gt;<br/>\tset numeric &lt;e_damage; #&#40;lastenemy&#41;&#58;strength# + $rand&#40;1;10&#41;$&gt;<br/>\tif &#40;%parry% = 0&#41; then set numeric &lt;enemyattempt; %enemyattempt% - $rand&#40;1;7&#41;$&gt;<br/>\tif not &#40;#lastenemy# = trainingbot&#41; then &#123;<br/>\tset numeric &lt;taunting; $rand&#40;1;4&#41;$&gt;<br/>'\tif &#40;%taunting% = 1&#41; then msg &lt;#&#40;lastenemy&#41;&#58;taunt#&gt;<br/>'\tif &#40;%taunting% = 2&#41; then msg &lt;#&#40;lastenemy&#41;&#58;taunt2#&gt;<br/>'\tif &#40;%taunting% = 3&#41; then msg &lt;#&#40;lastenemy&#41;&#58;taunt3#&gt;<br/>'\tif &#40;%taunting% = 4&#41; then msg &lt;#&#40;lastenemy&#41;&#58;taunt4#&gt;<br/>\t&#125;<br/>\tset interval &lt;enemyattack; #&#40;lastenemy&#41;&#58;speed#&gt;<br/><br/>\tif &#40;%EHP% &lt; 1&#41; then &#123;<br/>\tdo &lt;turnoffattacktimers&gt;\t<br/>\tif &#40;%COMBO% &gt; 0&#41; then set numeric &lt;COMBOONOFF; 1&gt;<br/>\tif &#40;%ART% &gt; 0&#41; then set numeric &lt;ARTONOFF; 1&gt;<br/>\t&#125;<br/>\t<br/>\tIf not here &lt;#lastenemy#&gt; then &#123;<br/>\tdo &lt;createexits&gt;<br/>\tdo &lt;turnoffattacktimers&gt;<br/>\tif &#40;%COMBO% &gt; 0&#41; then set numeric &lt;COMBOONOFF; 1&gt;<br/>\tif &#40;%ART% &gt; 0&#41; then set numeric &lt;ARTONOFF; 1&gt;<br/>\t&#125;<br/><br/>\tset numeric &lt;firstenemyattempt; $rand&#40;1;20&#41;$&gt;<br/><br/>if &#40;%battle% = 1&#41; then &#123;<br/>'1&#58; Check to see if you the enemy DOESN'T roll a 1&#46;<br/><br/>if &#40; %firstenemyattempt% &gt; 1 &#41; then &#123;<br/>\t<br/>' 2&#58; Check to see if the mob hits naturally, or on a random natural 20&#46;<br/><br/>\tif &#40; %enemyattempt% &gt; %DEX%&#41; or &#40;$rand&#40;1;20&#41;$ = 20&#41; then &#123;<br/><br/>\t\tif &#40;%parry% = 1&#41; then set &lt;parryrandom; $rand&#40;1;20&#41;$ &gt;<br/>\t\tif &#40;%riposte% = 1&#41; and &#40;%parryrandom% &gt; 10&#41; and &#40;%parry% = 1&#41; then set &lt;riposterandom; $rand&#40;1;30&#41;$&gt;<br/>\t\tdo &lt;badassmobs&gt;<br/><br/>'  3&#58; If you can riposte, and you rolled to get the riposte, run this&#46;<br/><br/>\t\tif &#40;%riposterandom% &gt; 20&#41; and &#40;%tohit% &gt; #&#40;lastenemy&#41;&#58;armor#&#41; and &#40;%tohit% &gt; #&#40;lastenemy&#41;&#58;dexterity#&#41; and &#40;%riposte% = 1&#41; and &#40;%parry% = 1&#41; and &#40;%EHP% &gt; 0&#41; then &#123;<br/>\t\t\tset numeric &lt;e_damage; %e_damage% / 2&gt;<br/>\t\t\tforeground &lt;&amp;H2266F2&gt;<br/>\t\t\tif &#40;$lengthof&#40;#&#40;lastenemy&#41;&#58;prefix#&#41;$ = 0&#41; then msg &lt;|b$displayname&#40;#lastenemy#&#41;$|xb |xn&gt;<br/>\t\t\telse &#123;msg &lt;The |b$displayname&#40;#lastenemy#&#41;$|xb |xn&gt;&#125;<br/>\t\t\tforeground &lt;white&gt;<br/>\t\t\tmsg &lt;attacks you with #&#40;lastenemy&#41;&#58;weapon#, but you |cyriposte|cb the attack doing |cr|b%e_damage%|xb|cb damage!&gt; <br/>\t\t\tdec &lt;EHP; %e_damage%&gt;<br/>\t\t&#125;<br/>\t\telse &#123;<br/><br/>'   4&#58; If riposte failed, and you can parry then try to parry instead&#46;<br/><br/>\t\t\tif &#40;%parryrandom% &gt; 10&#41; and &#40;%parry% = 1&#41; and &#40;%tohit% &gt; #&#40;lastenemy&#41;&#58;dexterity#&#41; then &#123;<br/>\t\t\tforeground &lt;&amp;H2266F2&gt;<br/>\t\t\tif &#40;$lengthof&#40;#&#40;lastenemy&#41;&#58;prefix#&#41;$ = 0&#41; then msg &lt;|b$displayname&#40;#lastenemy#&#41;$|xb |xn&gt;<br/>\t\t\telse &#123;msg &lt;The |b$displayname&#40;#lastenemy#&#41;$|xb |xn&gt;&#125;<br/>\t\t\tforeground &lt;white&gt;<br/>\t\t\tmsg &lt;attacks you with #&#40;lastenemy&#41;&#58;weapon#, but you |cyparry|cb the attack!&gt;<br/>\t\t\t&#125;<br/>\t\t\telse &#123;<br/><br/>'    5&#58; If you failed to parry, then have the enemy do damage!<br/><br/>\t\t\t\tif &#40;#lastenemy# = trainingbot&#41; then &#123;set numeric &lt;e_damage; %HPMAX% / 10&gt;<br/>\t\t\t\t\tforeground &lt;&amp;H2266F2&gt;<br/>\t\t\t\t\tif &#40;$lengthof&#40;#&#40;lastenemy&#41;&#58;prefix#&#41;$ = 0&#41; then msg &lt;|b$displayname&#40;#lastenemy#&#41;$|xb |xn&gt;<br/>\t\t\t\t\telse &#123;msg &lt;The |b$displayname&#40;#lastenemy#&#41;$|xb |xn&gt;&#125;<br/>\t\t\t\t\tforeground &lt;white&gt;<br/>\t\t\t\t\tmsg &lt;attacks you with #&#40;lastenemy&#41;&#58;weapon# for |cr|b%e_damage%|xb|cb points of damage&#46;&gt;<br/>\t\t\t\t\tdec &lt;HP; %e_damage%&gt;&#125;<br/>\t\t\t\telse &#123;<br/><br/>'     6&#58; Do this stuff for damage to armor and such<br/><br/>\t\t\t\t\tif &#40;%tempARMOR% &gt; 0&#41; then &#123;<br/>\t\t\t\t\t\tset numeric &lt;e_damage; %e_damage% / 2&gt;<br/>\t\t\t\t\t\tforeground &lt;&amp;H2266F2&gt;<br/>\t\t\t\t\t\tif &#40;$lengthof&#40;#&#40;lastenemy&#41;&#58;prefix#&#41;$ = 0&#41; then msg &lt;|b$displayname&#40;#lastenemy#&#41;$|xb |xn&gt; <br/>\t\t\t\t\t\telse msg &lt;The |b$displayname&#40;#lastenemy#&#41;$|xb |xn&gt;<br/>\t\t\t\t\t\tforeground &lt;white&gt;<br/>\t\t\t\t\t\tmsg &lt;attacks you with #&#40;lastenemy&#41;&#58;weapon# for |cr|b%e_damage%|xb|cb points of damage, while your armour |cyabsorbs|cb some of the blow&#46;&gt;<br/>\t\t\t\t\t\tdec &lt;HP; %e_damage%&gt;<br/>\t\t\t\t\t\tdec &lt;tempARMOR; %e_damage%&gt;<br/>\t\t\t\t\t\tif &#40; %tempARMOR% &lt;= 0&#41; then &#123;<br/>\t\t\t\t\t\tforeground &lt;&amp;H2266F2&gt;<br/>\t\t\t\t\t\tif &#40;$lengthof&#40;#&#40;lastenemy&#41;&#58;prefix#&#41;$ = 0&#41; then msg &lt;|b$displayname&#40;#lastenemy#&#41;$|xb |xn&gt; <br/>\t\t\t\t\t\telse &#123;msg &lt;The |b$displayname&#40;#lastenemy#&#41;$|xb |xn&gt;&#125;<br/>\t\t\t\t\t\tmsg &lt;|i|cyhas broken through your armour!|cb|xi&gt;<br/>\t\t\t\t\t\tforeground &lt;&amp;H00FFFF&gt;<br/>\t\t\t\t\t\tpause &lt;100&gt;<br/>\t\t\t\t\t\tforeground &lt;white&gt;<br/>\t\t\t\t\t\tpause &lt;50&gt;<br/>\t\t\t\t\t\tforeground &lt;&amp;H00FFFF&gt;<br/>\t\t\t\t\t\tpause &lt;100&gt;<br/>\t\t\t\t\t\tforeground &lt;white&gt;<br/>\t\t\t\t\t\t&#125;<br/>\t\t\t\t\t\t&#125;<br/>\t\t\t\t\telse &#123;<br/>\t\t\t\t\t\tforeground &lt;&amp;H2266F2&gt;<br/>\t\t\t\t\t\tif &#40;$lengthof&#40;#&#40;lastenemy&#41;&#58;prefix#&#41;$ = 0&#41; then msg &lt;|b$displayname&#40;#lastenemy#&#41;$|xb |xn&gt; <br/>\t\t\t\t\t\telse &#123;msg &lt;The |b$displayname&#40;#lastenemy#&#41;$|xb |xn&gt;&#125;<br/>\t\t\t\t\t\tforeground &lt;white&gt;<br/>\t\t\t\t\t\tmsg &lt;attacks you with #&#40;lastenemy&#41;&#58;weapon# for |cr|b%e_damage%|xb|cb points of damage&#46;&gt;<br/>\t\t\t\t\t\tdec &lt;HP; %e_damage%&gt;<br/>\t\t\t\t\t&#125;<br/>'     6&#58; end----------<br/><br/>\t\t\t\t&#125; <br/>'    5&#58; end----------<br/>\t\t\tset numeric &lt;hp10; %HPMAX% / 10&gt;<br/>\t\t\tset numeric &lt;hp90; %hp10% * 9&gt;<br/>\t\t\tset numeric &lt;hp80; %hp10% * 8&gt;<br/>\t\t\tset numeric &lt;hpdiff; %HPMAX% - %HP%&gt;<br/>\t\t\tif &#40;%hp80% &lt; %hpdiff%&#41; and &#40;%HP% &gt; 0&#41; then &#123;<br/>\t\t\tmsg &lt;|b|cr|iYou are close to death!|xi|cb|xb&gt;<br/>\t\t\tforeground &lt;&amp;H0000FF&gt;<br/>\t\t\tpause &lt;100&gt;<br/>\t\t\tforeground &lt;white&gt;<br/>\t\t\tpause &lt;50&gt;<br/>\t\t\tforeground &lt;&amp;H0000FF&gt;<br/>\t\t\tpause &lt;100&gt;<br/>\t\t\tforeground &lt;white&gt;<br/>\t\t\t&#125;<br/>\t\t\tif &#40;%EHP% &gt; 0&#41; then do &lt;battlehps&gt;<br/>\t\t\t&#125; <br/>'   4&#58; end----------<br/><br/>\t\t&#125; <br/>'  3&#58; end----------<br/>\t&#125;<br/>\t' 2&#58; end / else----------<br/>\telse &#123;<br/>\t\tforeground &lt;&amp;H2266F2&gt;<br/>\t\tif &#40;$lengthof&#40;#&#40;lastenemy&#41;&#58;prefix#&#41;$ = 0&#41; then msg &lt;|b$displayname&#40;#lastenemy#&#41;$|xb |xn&gt;<br/>\t\telse &#123;msg &lt;$capfirst&#40;#&#40;lastenemy&#41;&#58;prefix#&#41;$ |b$displayname&#40;#lastenemy#&#41;$|xb |xn&gt;&#125;<br/>\t\t\tforeground &lt;white&gt;<br/>\t\t\tmsg &lt;attacks you with #&#40;lastenemy&#41;&#58;weapon# but misses!&gt;<br/><br/>\t&#125; <br/>' 2&#58; end-----------<br/><br/>&#125;  <br/>'1&#58; end / else-----------<br/>else &#123;<br/>\tforeground &lt;&amp;H2266F2&gt;<br/>\tif &#40;$lengthof&#40;#&#40;lastenemy&#41;&#58;prefix#&#41;$ = 0&#41; then msg &lt;|b$displayname&#40;#lastenemy#&#41;$|xb |xn&gt;<br/>\telse &#123;msg &lt;$capfirst&#40;#&#40;lastenemy&#41;&#58;prefix#&#41;$ |b$displayname&#40;#lastenemy#&#41;$|xb |xn&gt;&#125;<br/>\tforeground &lt;white&gt;<br/>\tmsg &lt;attacks you with #&#40;lastenemy&#41;&#58;weapon# but misses horribly!&gt;<br/>&#125; '1&#58; end-----------<br/>&#125;<br/>end define<br/><br/>'************************************************************************************************<br/>'************************************************************************************************<br/>'********************************** COMBAT TIMERS ***********************************************<br/>'************************************************************************************************<br/>'************************************************************************************************<br/><br/><br/>define timer &lt;arttimer&gt;<br/>\tinterval &lt;10&gt;<br/>\taction &#123;if &#40;%ART% &gt; 0&#41; and &#40;%ARTONOFF% = 0&#41; then &#123;<br/>\t\tset numeric &lt;ARTONOFF; 1&gt;<br/>\t\ttimeroff &lt;arttimer&gt;&#125;<br/>\t\t&#125; else timeroff &lt;arttimer&gt;<br/>\tdisabled<br/>end define<br/><br/><br/>define timer &lt;combotimer&gt;<br/>\tinterval &lt;15&gt;<br/>\taction &#123;if &#40;%COMBO% &gt; 0&#41; and &#40;%COMBOONOFF% = 0&#41; then &#123;<br/>\t\tset numeric &lt;COMBOONOFF; 1&gt;<br/>\t\ttimeroff &lt;combotimer&gt;<br/>\t\texec &lt;combo&gt;\t&#125;\t<br/>\t\t&#125;<br/>\tdisabled<br/>end define<br/><br/>'************************************************************************************************<br/>'********************************** PLAYER ATTACK ***********************************************<br/>'************************************************************************************************<br/><br/>define timer &lt;playerattack&gt;<br/>\tinterval &lt;1&gt;<br/>action &#123;<br/>if &#40;%EHP% &gt; 0&#41; and &#40;%HP% &gt; 0&#41; then do &lt;playerattackproc&gt;<br/>else &#123;<br/>\tdo &lt;nothing&gt;<br/>\tset numeric &lt;battle; 0&gt;<br/>\ttimeroff &lt;playerattack&gt;<br/>\ttimeroff &lt;enemyattack&gt;<br/>\t&#125;<br/>&#125;<br/>\tdisabled<br/>end define<br/><br/>'************************************************************************************************<br/>'********************************** ENEMY ATTACK ************************************************<br/>'************************************************************************************************<br/><br/>define timer &lt;enemyattack&gt;<br/>\tinterval &lt;2&gt;<br/>action &#123;<br/>if &#40;%EHP% &gt; 0&#41; and &#40;%HP% &gt; 0&#41; then &#123;<br/>\tdo &lt;enemyattackproc&gt;<br/>\tif flag &lt;arrest&gt; and &#40;%hp60% &lt; %hpdiff%&#41; and &#40;%HP% &gt; 0&#41; then &#123;<br/>\t\tmsg &lt;You are overtaken and arrested&#46;&gt;<br/>\t\tdo &lt;turnoffalltimers&gt;<br/>\t\tgoto &lt;Morulan Information Center Lobby&gt;<br/>\t\t&#125;<br/>&#125;\t<br/><br/>else &#123;<br/>do &lt;lastdyingmove&gt;<br/>do &lt;nothing&gt;<br/>set numeric &lt;battle; 0&gt;<br/>timeroff &lt;enemyattack&gt;<br/>timeroff &lt;playerattack&gt;<br/>&#125;<br/>&#125; 'END ACTION<br/>\tdisabled<br/>end define</code></pre><br/><br/><br/>here is the command &lt;attack #@object#&gt; that will start the pwning process:<br/><br/><pre><code>' *************** ATTACK PHASE *********************<br/>\t\tcommand &lt;attack #@object#&gt; &#123;<br/>\t\tif &#40; #&#40;object&#41;&#58;combat# &gt; 0 &#41; then &#123;<br/>\t\t\tset numeric &lt;espeed; 10&gt;<br/>' *************** TURN OFF TIMERS ******************<br/><br/>' timeroff your relavent timers<br/><br/>' *************** SET FIGHTING VARIABLES ************<br/>' most of this sets up the enemies hitpoints and strength and such&#46;\t\t<br/>\t\t\tset numeric &lt;enemyattempt; #&#40;object&#41;&#58;dexterity#&gt;<br/>\t\t\tset numeric &lt;enemytempARMOR; #&#40;object&#41;&#58;armor#&gt;<br/>\t\t\tset numeric &lt;tempARMOR; %ARM%&gt;<br/>\t\t\tset numeric &lt;attackspeed; 20 / %DEX% &gt; <br/>\t\t\tset interval &lt;playerattack; 2&gt;<br/>\t\t\tset numeric &lt;espeed; #&#40;object&#41;&#58;speed#&gt; <br/>'\t\t\tset numeric &lt;attackpower; %STR% / 2&gt;<br/>'\t\t\tset numeric &lt;attackhit; %DEX%&gt;<br/>\t\t\tdo &lt;enemylifeproc&gt;<br/>\t\t\ttimeron &lt;playerattack&gt;<br/>\t\t\tdo &lt;getexits&gt;<br/>'this procedure destroyed the exits in the room temporarily<br/>'while you fought, so you had to type a specific command to<br/>'try and escape&#46;<br/>\t\t\tdo &lt;removeexits&gt;<br/>\t\t&#125;<br/>\t\telse msg &lt;You can't attack that&#46;&gt;&#125;<br/><br/>end define</code></pre>",
      "PostDate": "2006-01-15T22:40:27+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "7281",
      "UserId": 0,
      "Username": "ramtha",
      "UserAvatar": null,
      "UserGravatar": "c19cfa838fae3f800fd5859417259a81",
      "EditableText": "Holy crap, I think my eyes are about to boil out through the sockets.... Well I supposed this would be as a good timeas any to ask how exactaly you go about pulling in all that coding....",
      "EditableFormat": "bbcode",
      "HTML": "Holy crap, I think my eyes are about to boil out through the sockets.... Well I supposed this would be as a good timeas any to ask how exactaly you go about pulling in all that coding....",
      "PostDate": "2006-01-16T05:52:25+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "7283",
      "UserId": 0,
      "Username": "paul_one",
      "UserAvatar": null,
      "UserGravatar": "fef8a1875028f4300bb683f29c432894",
      "EditableText": "Gamist..\n\nDo you mean that you would have to type &quot;attack left ear&quot; etc, and have a battle along that way. How about multiple choice - ie:\n\n&quot;You miss the swing and Sir Baldrick takes this opportunity to hit you off balance.\nYou fall to one knee, grasping your blade tightly.\n\nWhat shall you do?\n1. Slash at his left arm,\n2. Swing wildly,\n3. Regain your balance,\n4. Lunge forewards with your sword,\n&quot;\n\nAnd I take it the Gamist approach is a turn-ish based around basically a &quot;final fantasy&quot; based approach.\n\nI think both are fairly possible - and indeed quite good for gameplay. I will be looking into both approaches as special battles will be welcomes as the first type - while menial battles are more of a 'gamist' approach as you can gain many skills, items, cheats, and method's.",
      "EditableFormat": "bbcode",
      "HTML": "Gamist..<br/><br/>Do you mean that you would have to type &quot;attack left ear&quot; etc, and have a battle along that way. How about multiple choice - ie:<br/><br/>&quot;You miss the swing and Sir Baldrick takes this opportunity to hit you off balance.<br/>You fall to one knee, grasping your blade tightly.<br/><br/>What shall you do?<br/>1. Slash at his left arm,<br/>2. Swing wildly,<br/>3. Regain your balance,<br/>4. Lunge forewards with your sword,<br/>&quot;<br/><br/>And I take it the Gamist approach is a turn-ish based around basically a &quot;final fantasy&quot; based approach.<br/><br/>I think both are fairly possible - and indeed quite good for gameplay. I will be looking into both approaches as special battles will be welcomes as the first type - while menial battles are more of a 'gamist' approach as you can gain many skills, items, cheats, and method's.",
      "PostDate": "2006-01-16T12:43:13+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "7289",
      "UserId": 0,
      "Username": "Overcat",
      "UserAvatar": null,
      "UserGravatar": "3958f867d73b44faed6e01f35e74c093",
      "EditableText": "By gamist I mean that the information being passed to and received from the player is overtly systematic and numerically resplendant.  It depends on &quot;game&quot; concepts such as Attributes.  By narrativist I mean that the same information is literary and verbally ornate.  It depends on &quot;narration&quot; concepts such as Plot.  This paragraph attempts the latter.\n\nGamist is information(systematic, 8-21).  Narrativist is information(literary, the crush and the kill).  This paragraph is the former.\n\nNot that verbosity is a universal differentiation, but you get the point.\n\nGamist = You hit for 12 points of damage.\nNarrativist = You flick your wrist, sending the dagger towards INSERT DRAMATIC ENEMY NAME HERE.  His life ends with a gurgle-choke, just as the sun breaks through a concert of dissipating clouds.\n\nWhile the gamist method applied some sort of detailed, comparative, mathematical mechanics to generate the preceding outcome, the narrativist method may have only resorted to a flag or two.",
      "EditableFormat": "bbcode",
      "HTML": "By gamist I mean that the information being passed to and received from the player is overtly systematic and numerically resplendant.  It depends on &quot;game&quot; concepts such as Attributes.  By narrativist I mean that the same information is literary and verbally ornate.  It depends on &quot;narration&quot; concepts such as Plot.  This paragraph attempts the latter.<br/><br/>Gamist is information(systematic, 8-21).  Narrativist is information(literary, the crush and the kill).  This paragraph is the former.<br/><br/>Not that verbosity is a universal differentiation, but you get the point.<br/><br/>Gamist = You hit for 12 points of damage.<br/>Narrativist = You flick your wrist, sending the dagger towards INSERT DRAMATIC ENEMY NAME HERE.  His life ends with a gurgle-choke, just as the sun breaks through a concert of dissipating clouds.<br/><br/>While the gamist method applied some sort of detailed, comparative, mathematical mechanics to generate the preceding outcome, the narrativist method may have only resorted to a flag or two.",
      "PostDate": "2006-01-18T23:12:17+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "7292",
      "UserId": 0,
      "Username": "paul_one",
      "UserAvatar": null,
      "UserGravatar": "fef8a1875028f4300bb683f29c432894",
      "EditableText": "I do like some of the narrative in those sorts of stories.\nI find Legond Of the Green Dragon has some nice smarmy lines.\n- But it is also very gamist.\n\nI still think that it should be a mixture of the two - since having it narrativistic  will just lead to one thing: instead of interaction you get story.\n\nHaving it both gamist (numbers) AND narrativistic (dynamic descriptions of actions) then you get the good from both worlds.",
      "EditableFormat": "bbcode",
      "HTML": "I do like some of the narrative in those sorts of stories.<br/>I find Legond Of the Green Dragon has some nice smarmy lines.<br/>- But it is also very gamist.<br/><br/>I still think that it should be a mixture of the two - since having it narrativistic  will just lead to one thing: instead of interaction you get story.<br/><br/>Having it both gamist (numbers) AND narrativistic (dynamic descriptions of actions) then you get the good from both worlds.",
      "PostDate": "2006-01-19T12:26:56+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "7294",
      "UserId": 0,
      "Username": "lyteside",
      "UserAvatar": null,
      "UserGravatar": "8a1935c84e0128360167bbb363a419cc",
      "EditableText": "absolutely.  gotta agree with that.",
      "EditableFormat": "bbcode",
      "HTML": "absolutely.  gotta agree with that.",
      "PostDate": "2006-01-19T16:35:44+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "7296",
      "UserId": 0,
      "Username": "Overcat",
      "UserAvatar": null,
      "UserGravatar": "3958f867d73b44faed6e01f35e74c093",
      "EditableText": "Agreed on thrice.",
      "EditableFormat": "bbcode",
      "HTML": "Agreed on thrice.",
      "PostDate": "2006-01-19T22:40:52+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "7299",
      "UserId": 0,
      "Username": "Elexxorine",
      "UserAvatar": null,
      "UserGravatar": "a220ee44d8fe2f07029cf1f61b98bf40",
      "EditableText": "going back to the original topic of this thread: has anyone created a good fighting code yet? i have an half finished one and it could take i bit of work getting it fixed, and i'll need one soon for neverquest. so anyone got one?",
      "EditableFormat": "bbcode",
      "HTML": "going back to the original topic of this thread: has anyone created a good fighting code yet? i have an half finished one and it could take i bit of work getting it fixed, and i'll need one soon for neverquest. so anyone got one?",
      "PostDate": "2006-01-20T13:56:20+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "7300",
      "UserId": 0,
      "Username": "lyteside",
      "UserAvatar": null,
      "UserGravatar": "8a1935c84e0128360167bbb363a419cc",
      "EditableText": "elexxorine, how do you want your fights to happen?  are they gonna be turn based, time-based, or what?",
      "EditableFormat": "bbcode",
      "HTML": "elexxorine, how do you want your fights to happen?  are they gonna be turn based, time-based, or what?",
      "PostDate": "2006-01-20T15:38:33+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "7314",
      "UserId": 0,
      "Username": "Elexxorine",
      "UserAvatar": null,
      "UserGravatar": "a220ee44d8fe2f07029cf1f61b98bf40",
      "EditableText": "i'm not sure. what would be best as it's multiplayer?",
      "EditableFormat": "bbcode",
      "HTML": "i'm not sure. what would be best as it's multiplayer?",
      "PostDate": "2006-01-24T11:18:52+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "7315",
      "UserId": 0,
      "Username": "lyteside",
      "UserAvatar": null,
      "UserGravatar": "8a1935c84e0128360167bbb363a419cc",
      "EditableText": "for multi-player, it's harder to make things turn based, but it could be done.  A third player would just have to &quot;check into&quot; a fight and wait for his/her turn to come around.\n\nI would suggest the time-based, though.  Where you type &quot;attack -player-&quot; and a script starts running every x seconds to let you attack and defend, where x is related to your speed or dexterity or whatever.  Also, the player whom you are attacking will auto respond and start running his/her built in fihgting scripts.  Very much like a mud, i suppose, but hey, that's why they do fights like that in the muds.  <!-- s:wink: --><img src=\"{SMILIES_PATH}/icon_e_wink.gif\" alt=\":wink:\" title=\"Wink\" /><!-- s:wink: -->",
      "EditableFormat": "bbcode",
      "HTML": "for multi-player, it's harder to make things turn based, but it could be done.  A third player would just have to &quot;check into&quot; a fight and wait for his/her turn to come around.<br/><br/>I would suggest the time-based, though.  Where you type &quot;attack -player-&quot; and a script starts running every x seconds to let you attack and defend, where x is related to your speed or dexterity or whatever.  Also, the player whom you are attacking will auto respond and start running his/her built in fihgting scripts.  Very much like a mud, i suppose, but hey, that's why they do fights like that in the muds.  <!-- s:wink: --><img src=\"{SMILIES_PATH}/icon_e_wink.gif\" alt=\":wink:\" title=\"Wink\" /><!-- s:wink: -->",
      "PostDate": "2006-01-24T15:50:30+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "7316",
      "UserId": 0,
      "Username": "paul_one",
      "UserAvatar": null,
      "UserGravatar": "fef8a1875028f4300bb683f29c432894",
      "EditableText": "I agree a bit with lyteside.\n\nI personally am going to have my fight library using stats-based-turn-battling. Where the speed/etc is measured and, although attacks are based in 'turns', those turns are based on speed.\n\nSo if you have a speed of say 4, and the opponent 2, then you get 2 turns to every 1 your enemy get's (or something like that).\n\nI suppose you could even have it so if it's something like 3/2, you can have 1, then opponent, then you, then opponent, then you twice. That's roughly where I want to go to start off.\n\nI think ITID did that time-based code a while ago, although he didn't get extremely far with it. He did get balance/attack/defense/movement and stuff running in QuestNet though!",
      "EditableFormat": "bbcode",
      "HTML": "I agree a bit with lyteside.<br/><br/>I personally am going to have my fight library using stats-based-turn-battling. Where the speed/etc is measured and, although attacks are based in 'turns', those turns are based on speed.<br/><br/>So if you have a speed of say 4, and the opponent 2, then you get 2 turns to every 1 your enemy get's (or something like that).<br/><br/>I suppose you could even have it so if it's something like 3/2, you can have 1, then opponent, then you, then opponent, then you twice. That's roughly where I want to go to start off.<br/><br/>I think ITID did that time-based code a while ago, although he didn't get extremely far with it. He did get balance/attack/defense/movement and stuff running in QuestNet though!",
      "PostDate": "2006-01-24T16:33:42+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "7318",
      "UserId": 0,
      "Username": "Elexxorine",
      "UserAvatar": null,
      "UserGravatar": "a220ee44d8fe2f07029cf1f61b98bf40",
      "EditableText": "hmm.... other people interupting a fight can be a problem, any ideas how to stop that? and maybe add a 'group' system so you can fight together. that would be neat. anyway i think i'm going to go for something like the guy who made reading presented gallivant (rpg) where you add to a counter and when it gets to a certain number it's your turn. that would be simplest.\n\nanother problem that's concerning me is status conditions, eg: paralye, burnt, alseep, etc. that effect wheather you can attack, defend, etc... my current battle code is riddled with if's checking each status condition in turn... is there a simpler way to do this?",
      "EditableFormat": "bbcode",
      "HTML": "hmm.... other people interupting a fight can be a problem, any ideas how to stop that? and maybe add a 'group' system so you can fight together. that would be neat. anyway i think i'm going to go for something like the guy who made reading presented gallivant (rpg) where you add to a counter and when it gets to a certain number it's your turn. that would be simplest.<br/><br/>another problem that's concerning me is status conditions, eg: paralye, burnt, alseep, etc. that effect wheather you can attack, defend, etc... my current battle code is riddled with if's checking each status condition in turn... is there a simpler way to do this?",
      "PostDate": "2006-01-25T09:09:53+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "7319",
      "UserId": 0,
      "Username": "lyteside",
      "UserAvatar": null,
      "UserGravatar": "8a1935c84e0128360167bbb363a419cc",
      "EditableText": "yeah, that's a great question.  some of my checks had to be ifs during the battle, but there are some things i could get away with.  for instance, in my game, you can drink alcohol to change your stats (charisma and strength go up, intelligence and dexterity go down), but it doesn't &quot;check&quot; to see if you are drunk.  rather it only temporarily affects the stats when you drink, and then a timer runs to make you slowly go back to normal.  I'm sure you could use this code for things to temporarily change speed of attack, or change of stats because of a spell that was done to you, etc.\n\nI made some sample code for ya.  Let's say the enemy puts a &quot;drunk&quot; spell on you. lol.  here it goes:\n\nthese will be some variables you'll need to put in to make it work.\n\n[code:t7dotk44]set numeric &lt;CHR; 5&gt;\nset numeric &lt;INT; 5&gt;\nset numeric &lt;DEX; 5&gt;\nset numeric &lt;STR; 5&gt;\nset numeric &lt;drunkenness; 0&gt;\nset string &lt;drunkLEVEL; sober&gt;\n' *********** and when performing the attack command, set the enemy to the &quot;enemy string&quot; **********\nset string &lt;enemy; $getobjectname&#40;#quest&#46;lastobject#&#41;$&gt;[/code:t7dotk44]\n\nthis is the sorcerer dude i made that will perform a drunkenness spell on ya during combat.\n[code:t7dotk44]define object &lt;Sorcerer&gt;\n\tsuffix &lt;of Drunkenness&gt;\n' *********************fight properties***********************\n\tproperties &lt;weapon=his spellbook; drunk_spell=4; combat=1; intelligence=17; aggro=2; hitpoints=70; dexterity=35; speed=1; strength=12; charisma=23; armor=16; exp=100; prefix=; taunt=; taunt2=-hiccup-; taunt3=&quot;Get drunk!&quot;; taunt4=; align=4&gt; \n' ******************* REGULAR *******************************\n\tprefix &lt;a&gt;\n\talt &lt;Sorcerer; Drunkenness; Sorcerer of Drunkenness; man; wizzard; enemy&gt;\n\tlook &lt;It's a sorcerer that wants to see you drunk&#46;  You want to see him dead&#46;&gt;\n\tspeak &lt;He hiccups at you&#46;&gt;\t\t\t\n\texamine &lt;He's carrying a spellbook of drunkenness&#46;&gt;\n\tarticle &lt;him&gt;\n\tgender &lt;he&gt;\nend define[/code:t7dotk44]\n\nhere's the procedure to run during the combat whenever you want him to perform the spell (or the player, i suppose)\n\n[code:t7dotk44]define procedure &lt;drunk spell&gt;\n\tmsg &lt;The Sorcerer casts a spell of drunkenness on you&#46;&gt;\n\tinc &lt;drunkenness; #&#40;enemy&#41;&#58;drunk_spell#&gt;\n\tinc &lt;CHR; #&#40;enemy&#41;&#58;drunk_spell#&gt;\n\tinc &lt;STR; #&#40;enemy&#41;&#58;drunk_spell#&gt;\n\tdec &lt;DEX; #&#40;enemy&#41;&#58;drunk_spell#&gt;\n\tdec &lt;INT; #&#40;quest&#41;&#58;drunk_spell#&gt;\n                set string &lt;drunkLEVEL; drunk&gt;\t\n                flag on &lt;drunk&gt;\n                timeron &lt;sober&gt;\t\nend define[/code:t7dotk44]\n\nand here's the timer that slowly gets your stats back:\n\n[code:t7dotk44]define timer &lt;sober&gt;\n\tinterval &lt;10&gt;\n\taction &#123;\n\tif &#40;%drunkenness% &lt;= 0 &#41; then &#123;\n\t\tmsg &lt;You are feeling sober again&#46;&gt;\n\t\ttimeroff &lt;sober&gt;\n\t\tset string &lt;drunkLEVEL; sober&gt;\n\t&#125;\n\telse &#123;\n\tdec &lt;drunkenness&gt;\n\tdec &lt;CHR; 1&gt;\n\tdec &lt;STR; 1&gt;\n\tinc &lt;DEX; 1&gt;\n\tinc &lt;INT; 1&gt;\n\t\tif &#40;%drunkenness% &lt; 10&#41; and &#40;%drunkenness% &gt; 1&#41; then &#123;\n\t\t\tmsg &lt;You are sobering up&#46;&gt;\n\t\t\tset string &lt;drunkLEVEL; buzzed&gt;\n\t\t\tflag off &lt;drunk&gt;\n\t\t&#125;\t\t\n\t&#125;\n\t&#125;\n\tdisabled\nend define[/code:t7dotk44]",
      "EditableFormat": "bbcode",
      "HTML": "yeah, that's a great question.  some of my checks had to be ifs during the battle, but there are some things i could get away with.  for instance, in my game, you can drink alcohol to change your stats (charisma and strength go up, intelligence and dexterity go down), but it doesn't &quot;check&quot; to see if you are drunk.  rather it only temporarily affects the stats when you drink, and then a timer runs to make you slowly go back to normal.  I'm sure you could use this code for things to temporarily change speed of attack, or change of stats because of a spell that was done to you, etc.<br/><br/>I made some sample code for ya.  Let's say the enemy puts a &quot;drunk&quot; spell on you. lol.  here it goes:<br/><br/>these will be some variables you'll need to put in to make it work.<br/><br/><pre><code>set numeric &lt;CHR; 5&gt;<br/>set numeric &lt;INT; 5&gt;<br/>set numeric &lt;DEX; 5&gt;<br/>set numeric &lt;STR; 5&gt;<br/>set numeric &lt;drunkenness; 0&gt;<br/>set string &lt;drunkLEVEL; sober&gt;<br/>' *********** and when performing the attack command, set the enemy to the &quot;enemy string&quot; **********<br/>set string &lt;enemy; $getobjectname&#40;#quest&#46;lastobject#&#41;$&gt;</code></pre><br/><br/>this is the sorcerer dude i made that will perform a drunkenness spell on ya during combat.<br/><pre><code>define object &lt;Sorcerer&gt;<br/>\tsuffix &lt;of Drunkenness&gt;<br/>' *********************fight properties***********************<br/>\tproperties &lt;weapon=his spellbook; drunk_spell=4; combat=1; intelligence=17; aggro=2; hitpoints=70; dexterity=35; speed=1; strength=12; charisma=23; armor=16; exp=100; prefix=; taunt=; taunt2=-hiccup-; taunt3=&quot;Get drunk!&quot;; taunt4=; align=4&gt; <br/>' ******************* REGULAR *******************************<br/>\tprefix &lt;a&gt;<br/>\talt &lt;Sorcerer; Drunkenness; Sorcerer of Drunkenness; man; wizzard; enemy&gt;<br/>\tlook &lt;It's a sorcerer that wants to see you drunk&#46;  You want to see him dead&#46;&gt;<br/>\tspeak &lt;He hiccups at you&#46;&gt;\t\t\t<br/>\texamine &lt;He's carrying a spellbook of drunkenness&#46;&gt;<br/>\tarticle &lt;him&gt;<br/>\tgender &lt;he&gt;<br/>end define</code></pre><br/><br/>here's the procedure to run during the combat whenever you want him to perform the spell (or the player, i suppose)<br/><br/><pre><code>define procedure &lt;drunk spell&gt;<br/>\tmsg &lt;The Sorcerer casts a spell of drunkenness on you&#46;&gt;<br/>\tinc &lt;drunkenness; #&#40;enemy&#41;&#58;drunk_spell#&gt;<br/>\tinc &lt;CHR; #&#40;enemy&#41;&#58;drunk_spell#&gt;<br/>\tinc &lt;STR; #&#40;enemy&#41;&#58;drunk_spell#&gt;<br/>\tdec &lt;DEX; #&#40;enemy&#41;&#58;drunk_spell#&gt;<br/>\tdec &lt;INT; #&#40;quest&#41;&#58;drunk_spell#&gt;<br/>                set string &lt;drunkLEVEL; drunk&gt;\t<br/>                flag on &lt;drunk&gt;<br/>                timeron &lt;sober&gt;\t<br/>end define</code></pre><br/><br/>and here's the timer that slowly gets your stats back:<br/><br/><pre><code>define timer &lt;sober&gt;<br/>\tinterval &lt;10&gt;<br/>\taction &#123;<br/>\tif &#40;%drunkenness% &lt;= 0 &#41; then &#123;<br/>\t\tmsg &lt;You are feeling sober again&#46;&gt;<br/>\t\ttimeroff &lt;sober&gt;<br/>\t\tset string &lt;drunkLEVEL; sober&gt;<br/>\t&#125;<br/>\telse &#123;<br/>\tdec &lt;drunkenness&gt;<br/>\tdec &lt;CHR; 1&gt;<br/>\tdec &lt;STR; 1&gt;<br/>\tinc &lt;DEX; 1&gt;<br/>\tinc &lt;INT; 1&gt;<br/>\t\tif &#40;%drunkenness% &lt; 10&#41; and &#40;%drunkenness% &gt; 1&#41; then &#123;<br/>\t\t\tmsg &lt;You are sobering up&#46;&gt;<br/>\t\t\tset string &lt;drunkLEVEL; buzzed&gt;<br/>\t\t\tflag off &lt;drunk&gt;<br/>\t\t&#125;\t\t<br/>\t&#125;<br/>\t&#125;<br/>\tdisabled<br/>end define</code></pre>",
      "PostDate": "2006-01-25T15:34:09+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "7320",
      "UserId": 0,
      "Username": "paul_one",
      "UserAvatar": null,
      "UserGravatar": "fef8a1875028f4300bb683f29c432894",
      "EditableText": "The way I started to do it is have one long &quot;status&quot; string, and then do specific actions according to those strings.\n\nThat way you don't need to define 'specialties' into the middle of your code.\nI was also using turn-based effects, as it was turn-based.\n\nIf you have multiple 'effects' which act like that - you could turn that code into a universal thing - as I was starting - and so instead of having 5 different timers etc - you would use one timer and one procedure to change the effects and whatever.\n\nIt'd be like setting a 'status' class, which has an action (say print out a message, or have an effect (remove HP/similar stuff), etc. Changes stats, and gives the player certain properties.\n\nJust some food for thought..",
      "EditableFormat": "bbcode",
      "HTML": "The way I started to do it is have one long &quot;status&quot; string, and then do specific actions according to those strings.<br/><br/>That way you don't need to define 'specialties' into the middle of your code.<br/>I was also using turn-based effects, as it was turn-based.<br/><br/>If you have multiple 'effects' which act like that - you could turn that code into a universal thing - as I was starting - and so instead of having 5 different timers etc - you would use one timer and one procedure to change the effects and whatever.<br/><br/>It'd be like setting a 'status' class, which has an action (say print out a message, or have an effect (remove HP/similar stuff), etc. Changes stats, and gives the player certain properties.<br/><br/>Just some food for thought..",
      "PostDate": "2006-01-25T23:41:32+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "7337",
      "UserId": 0,
      "Username": "Elexxorine",
      "UserAvatar": null,
      "UserGravatar": "a220ee44d8fe2f07029cf1f61b98bf40",
      "EditableText": "the problem is that some conditions change stats/hp/whatever every turn, other just effect stats... the changing one's could just be in the afturnturn script.... and the latter a procedure when it is given to you....\n\ni'll prolly use turn base, as it's easiest...  but i prolly wouldn't get much time to work on neverquest, got tons of coursework and crap like that to do... pitty....",
      "EditableFormat": "bbcode",
      "HTML": "the problem is that some conditions change stats/hp/whatever every turn, other just effect stats... the changing one's could just be in the afturnturn script.... and the latter a procedure when it is given to you....<br/><br/>i'll prolly use turn base, as it's easiest...  but i prolly wouldn't get much time to work on neverquest, got tons of coursework and crap like that to do... pitty....",
      "PostDate": "2006-02-03T13:56:36+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "7348",
      "UserId": 0,
      "Username": "lyteside",
      "UserAvatar": null,
      "UserGravatar": "8a1935c84e0128360167bbb363a419cc",
      "EditableText": "that sucks...i really wanna see all the stuff you come up with.",
      "EditableFormat": "bbcode",
      "HTML": "that sucks...i really wanna see all the stuff you come up with.",
      "PostDate": "2006-02-06T21:10:20+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "7349",
      "UserId": 0,
      "Username": "Elexxorine",
      "UserAvatar": null,
      "UserGravatar": "a220ee44d8fe2f07029cf1f61b98bf40",
      "EditableText": "hey thanks. i've seen your game btw... the massive one. i like how you did the colours. i'll prolly send you a copy of neverquest when i get the change. mostly been working on how not the make it crash, for example if no-one logs in for ages, etc.... did selling but haven't tested it yet (it was 11pm last night). currently i'm trying to think of how to do big maps, i can't use a grid system as it's mutliplayer... oh well. btw: coursework's slowly getting down. we're off timetable this week to just do coursework, which frees up some of my time. lol.",
      "EditableFormat": "bbcode",
      "HTML": "hey thanks. i've seen your game btw... the massive one. i like how you did the colours. i'll prolly send you a copy of neverquest when i get the change. mostly been working on how not the make it crash, for example if no-one logs in for ages, etc.... did selling but haven't tested it yet (it was 11pm last night). currently i'm trying to think of how to do big maps, i can't use a grid system as it's mutliplayer... oh well. btw: coursework's slowly getting down. we're off timetable this week to just do coursework, which frees up some of my time. lol.",
      "PostDate": "2006-02-07T08:20:14+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "7721",
      "UserId": 0,
      "Username": "merries59",
      "UserAvatar": null,
      "UserGravatar": "24249d417f4d5b6a536a8a3aa3ed2a93",
      "EditableText": "What about a random results fight script? Something similar to a mud.\n\nHit &lt;opponent&gt;  \nScript starts\nYou are hit for # damage,\nMonster is hit for #dmage,\nYou miss,\nMonster hits you for #damage\n\nMake it a random series of strings up to # damage reaches set amount then play 'die' script.",
      "EditableFormat": "bbcode",
      "HTML": "What about a random results fight script? Something similar to a mud.<br/><br/>Hit &lt;opponent&gt;  <br/>Script starts<br/>You are hit for # damage,<br/>Monster is hit for #dmage,<br/>You miss,<br/>Monster hits you for #damage<br/><br/>Make it a random series of strings up to # damage reaches set amount then play 'die' script.",
      "PostDate": "2006-05-05T16:55:29+01:00",
      "LastEditDate": null
    }
  ]
}
