{
  "Topic": {
    "TopicId": "rrh8ewd02k2xueflwki-qq",
    "ForumId": "10",
    "Title": "Packaging and commandline?",
    "LastUpdated": "2018-02-09T20:43:03.771248Z",
    "ReplyCount": 0
  },
  "Posts": [
    {
      "PostId": "ef6362d6-b458-4c78-a655-a0e57a5bb75c",
      "UserId": 344046,
      "Username": "baskham",
      "AvatarUrl": "https://secure.gravatar.com/avatar/7689475b10ef3f61ec180330cc180daa?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Hi.\r\n\r\nI am new to Quest.\r\nBut I must say it looks really exciting!!\r\n\r\nI am planning on creating a game for my grandson.\r\nIt is going to be a spy thriller.\r\n\r\nBut I would like to give it to him on a USB stick .\r\nThat way the spy stuff would start right away before the game has even started.\r\nAlong with a letter like \"your assignment, should you choose to accept it, bla bla bla\" :-)\r\n\r\nSo I would like to have a fully runnable instance of Quest on the USB stick along with the game itself.\r\nIs this possible?\r\n\r\nI guess I am looking for some sort of  portable version :-)\r\n\r\nThe next thing of course is to actually start the game from a commandline.\r\nPerhaps as an autoplay.\r\nI have tried playing around a little bit with running quest.exe from a command line and then giving the game.quest file as a parameter.\r\nBut I can't seem to get it working.\r\n\r\nBest Regards\r\nBenny",
      "EditableFormat": "markdown",
      "HTML": "<p>Hi.</p>\n<p>I am new to Quest.<br>\nBut I must say it looks really exciting!!</p>\n<p>I am planning on creating a game for my grandson.<br>\nIt is going to be a spy thriller.</p>\n<p>But I would like to give it to him on a USB stick .<br>\nThat way the spy stuff would start right away before the game has even started.<br>\nAlong with a letter like \"your assignment, should you choose to accept it, bla bla bla\" :-)</p>\n<p>So I would like to have a fully runnable instance of Quest on the USB stick along with the game itself.<br>\nIs this possible?</p>\n<p>I guess I am looking for some sort of  portable version :-)</p>\n<p>The next thing of course is to actually start the game from a commandline.<br>\nPerhaps as an autoplay.<br>\nI have tried playing around a little bit with running quest.exe from a command line and then giving the game.quest file as a parameter.<br>\nBut I can't seem to get it working.</p>\n<p>Best Regards<br>\nBenny</p>\n\n",
      "PostDate": "2018-02-09T20:43:03.771248Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "ce0aa99b-87f9-4078-8de2-5a231d2a74b6",
      "UserId": 318253,
      "Username": "K.V.",
      "AvatarUrl": "https://i.imgur.com/mBf7TBeb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "This should be possible.\r\n\r\nGive me a few minutes.",
      "EditableFormat": "markdown",
      "HTML": "<p>This should be possible.</p>\n<p>Give me a few minutes.</p>\n\n",
      "PostDate": "2018-02-09T22:31:07.229838Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "091b7655-5e36-4625-a2d9-722f27b527d4",
      "UserId": 318253,
      "Username": "K.V.",
      "AvatarUrl": "https://i.imgur.com/mBf7TBeb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "I've pretty much got it working, and I've almost got the post ready.\r\n\r\nYou mentioned it opening a letter, which I haven't included in the example, but, if you like the way things work, we can include a bit where it opens a file or a website.  (I suggest just using Quest for the letter, though.  It's just an embedded browser with lots of bells and whistles.)\r\n\r\nBe back with code in 10 minutes, max.  I'm making sure Quest will run from a USB drive on a PC that's never had Quest installed on it first.",
      "EditableFormat": "markdown",
      "HTML": "<p>I've pretty much got it working, and I've almost got the post ready.</p>\n<p>You mentioned it opening a letter, which I haven't included in the example, but, if you like the way things work, we can include a bit where it opens a file or a website.  (I suggest just using Quest for the letter, though.  It's just an embedded browser with lots of bells and whistles.)</p>\n<p>Be back with code in 10 minutes, max.  I'm making sure Quest will run from a USB drive on a PC that's never had Quest installed on it first.</p>\n\n",
      "PostDate": "2018-02-09T22:58:42.0242915Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "b8614ed2-d3f1-4bbf-9af3-3948bc255568",
      "UserId": 318253,
      "Username": "K.V.",
      "AvatarUrl": "https://i.imgur.com/mBf7TBeb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "### Starting up Quest from the command line\r\n\r\nYou can do this to play a game, but I think things would behave strangely if you tried to edit from a USB.  (I may be mistaken.)\r\n\r\nThe trick is, you have to enter the full path of Quest.exe and the game file.\r\n\r\n---\r\n### The current mission\r\n\r\n\r\n---\r\n### If Quest is not installed on your current device, install Quest.\r\n\r\nThe installer will ask where to install it.  You can browse to the USB drive and install it there, choosing NOT to create files in your start menu.\r\n\r\n### If Quest is installed on your current device.\r\n\r\n1\\. Copy the \"Quest 5\" folder from your \"Program Files (x86)\" folder.\r\nNOTE:  If you have 32 bit Windows, it will be in \"Program Files\".\r\n\r\n2\\. Paste the Quest 5 folder directly onto your USB drive in F:\r\n\r\nNow, you should have the folder  \"Quest 5\" on the USB.\r\n\r\n![image](https://user-images.githubusercontent.com/30656341/36054509-7a3b2e86-0dbc-11e8-9131-d61a89c89873.png)\r\n\r\nInside of that, you should see Quest.exe.\r\n\r\n![image](https://user-images.githubusercontent.com/30656341/36054515-81a8f860-0dbc-11e8-9fe4-a65bb348ca73.png)\r\n\r\n\r\n---\r\nNEXT\r\nMake a game and publish it.  (Meaning click on \"Publish\" to compile it, not to actually publish it online.)\r\n\r\nWe'll say you name that game \"Spy Game\".  This will create the file \"Spy Game.quest\".\r\n\r\nNow, copy that file, and drop it directly onto the USB as well.\r\n\r\nNow you should have two things on the USB:\r\n\r\n\"Quest 5\"\r\n\r\n\"Spy Game.quest\"\r\n\r\n![image](https://user-images.githubusercontent.com/30656341/36054530-9f5a97f6-0dbc-11e8-926b-69e93f805f2e.png)\r\n\r\n\r\n\r\n---\r\nNow for the batch file:\r\n\r\n**SECRET_FILE.BAT**\r\n```\r\n@echo off\r\ntitle INCOMING MESSAGE\r\n\r\nset /P =You have a new mission.  Press any key to accept.< NUL\r\npause > NUL\r\ncls\r\necho RUNNING PROGRAM\r\n\r\n\"%CD%\\Quest 5\\Quest.exe\" \"%CD%\\Spy Game.quest\"\r\n\r\nexit\r\n```\r\n\r\n---\r\nDrop the .bat file onto the USB.\r\n\r\n![image](https://user-images.githubusercontent.com/30656341/36054869-411290a2-0dbe-11e8-8a00-a9f2d7dc7469.png)\r\n\r\n\r\n---\r\nNow, you can put that USB into another device, run SECRET_FILE.bat, and this will happen:\r\n\r\n---\r\n![image](https://user-images.githubusercontent.com/30656341/36054784-d89caa44-0dbd-11e8-9b15-c2953a2c3276.png)\r\n\r\n![image](https://user-images.githubusercontent.com/30656341/36054810-ffb49c72-0dbd-11e8-912d-7cdb00c39bc7.png)\r\n\r\n![image](https://user-images.githubusercontent.com/30656341/36054815-07cb4442-0dbe-11e8-8b46-e9996f6919f4.png)\r\n\r\n\r\n---\r\nYou can right-click on the two files that aren't SECRET_FILE.BAT, then select 'Properties' to render them 'Hidden'.\r\n\r\n![image](https://user-images.githubusercontent.com/30656341/36055088-962f0ed4-0dbf-11e8-9772-3e586b9c3eb4.png)\r\n\r\nThen, the folder will only show the .bat file (if the system isn't set up to show hidden folders).\r\n\r\n![image](https://user-images.githubusercontent.com/30656341/36055122-cf63e3f0-0dbf-11e8-94a1-28645fadb2bd.png)\r\n\r\n---\r\n### **NOTES:**\r\n\r\n---\r\n**The internet says** you can't make a USB automatically load anything when inserted these days.  (I looked around for a while.  It seems you can't do that since Windows 7.)\r\n\r\nSo, you would have to run **SECRET_FILE.BAT** to start the show.\r\n\r\n(You could rename **SECRET_FILE.BAT** to whatever you wish.)\r\n\r\n---\r\nThe .bat script has been edited.\r\n\r\nmrangel provided an easy way to avoid worrying about which drive letter might be assigned to the USB .",
      "EditableFormat": "markdown",
      "HTML": "<h3>Starting up Quest from the command line</h3>\n<p>You can do this to play a game, but I think things would behave strangely if you tried to edit from a USB.  (I may be mistaken.)</p>\n<p>The trick is, you have to enter the full path of Quest.exe and the game file.</p>\n<hr>\n<h3>The current mission</h3>\n<hr>\n<h3>If Quest is not installed on your current device, install Quest.</h3>\n<p>The installer will ask where to install it.  You can browse to the USB drive and install it there, choosing NOT to create files in your start menu.</p>\n<h3>If Quest is installed on your current device.</h3>\n<p>1. Copy the \"Quest 5\" folder from your \"Program Files (x86)\" folder.<br>\nNOTE:  If you have 32 bit Windows, it will be in \"Program Files\".</p>\n<p>2. Paste the Quest 5 folder directly onto your USB drive in F:</p>\n<p>Now, you should have the folder  \"Quest 5\" on the USB.</p>\n<p><img src=\"https://user-images.githubusercontent.com/30656341/36054509-7a3b2e86-0dbc-11e8-9131-d61a89c89873.png\" alt=\"image\"></p>\n<p>Inside of that, you should see Quest.exe.</p>\n<p><img src=\"https://user-images.githubusercontent.com/30656341/36054515-81a8f860-0dbc-11e8-9fe4-a65bb348ca73.png\" alt=\"image\"></p>\n<hr>\n<p>NEXT<br>\nMake a game and publish it.  (Meaning click on \"Publish\" to compile it, not to actually publish it online.)</p>\n<p>We'll say you name that game \"Spy Game\".  This will create the file \"Spy Game.quest\".</p>\n<p>Now, copy that file, and drop it directly onto the USB as well.</p>\n<p>Now you should have two things on the USB:</p>\n<p>\"Quest 5\"</p>\n<p>\"Spy Game.quest\"</p>\n<p><img src=\"https://user-images.githubusercontent.com/30656341/36054530-9f5a97f6-0dbc-11e8-926b-69e93f805f2e.png\" alt=\"image\"></p>\n<hr>\n<p>Now for the batch file:</p>\n<p><strong>SECRET_FILE.BAT</strong></p>\n<pre><code>@echo off\ntitle INCOMING MESSAGE\n\nset /P =You have a new mission.  Press any key to accept.&lt; NUL\npause &gt; NUL\ncls\necho RUNNING PROGRAM\n\n\"%CD%\\Quest 5\\Quest.exe\" \"%CD%\\Spy Game.quest\"\n\nexit\n</code></pre>\n<hr>\n<p>Drop the .bat file onto the USB.</p>\n<p><img src=\"https://user-images.githubusercontent.com/30656341/36054869-411290a2-0dbe-11e8-8a00-a9f2d7dc7469.png\" alt=\"image\"></p>\n<hr>\n<p>Now, you can put that USB into another device, run SECRET_FILE.bat, and this will happen:</p>\n<hr>\n<p><img src=\"https://user-images.githubusercontent.com/30656341/36054784-d89caa44-0dbd-11e8-9b15-c2953a2c3276.png\" alt=\"image\"></p>\n<p><img src=\"https://user-images.githubusercontent.com/30656341/36054810-ffb49c72-0dbd-11e8-912d-7cdb00c39bc7.png\" alt=\"image\"></p>\n<p><img src=\"https://user-images.githubusercontent.com/30656341/36054815-07cb4442-0dbe-11e8-8b46-e9996f6919f4.png\" alt=\"image\"></p>\n<hr>\n<p>You can right-click on the two files that aren't SECRET_FILE.BAT, then select 'Properties' to render them 'Hidden'.</p>\n<p><img src=\"https://user-images.githubusercontent.com/30656341/36055088-962f0ed4-0dbf-11e8-9772-3e586b9c3eb4.png\" alt=\"image\"></p>\n<p>Then, the folder will only show the .bat file (if the system isn't set up to show hidden folders).</p>\n<p><img src=\"https://user-images.githubusercontent.com/30656341/36055122-cf63e3f0-0dbf-11e8-94a1-28645fadb2bd.png\" alt=\"image\"></p>\n<hr>\n<h3><strong>NOTES:</strong></h3>\n<hr>\n<p><strong>The internet says</strong> you can't make a USB automatically load anything when inserted these days.  (I looked around for a while.  It seems you can't do that since Windows 7.)</p>\n<p>So, you would have to run <strong>SECRET_FILE.BAT</strong> to start the show.</p>\n<p>(You could rename <strong>SECRET_FILE.BAT</strong> to whatever you wish.)</p>\n<hr>\n<p>The .bat script has been edited.</p>\n<p>mrangel provided an easy way to avoid worrying about which drive letter might be assigned to the USB .</p>\n\n",
      "PostDate": "2018-02-09T23:46:23.2944114Z",
      "LastEditDate": "2018-02-10T15:16:50.7037672Z",
      "link": null
    },
    {
      "PostId": "0e8fe9c9-ed4d-40a9-b266-be5e3deb9120",
      "UserId": 318253,
      "Username": "K.V.",
      "AvatarUrl": "https://i.imgur.com/mBf7TBeb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "PS\r\n\r\nThe system needs to have Microsoft .NET Framework 4 installed.\r\n\r\n(I don't *think* it can be on the USB.  I'm fairly certain it has to be installed on the system.  Sometimes people have it already, some don't.  I don't think it comes built-in with any version of Windows, either.  But, again, I'm just thinking all this stuff.)\r\n\r\nhttps://www.microsoft.com/en-us/download/details.aspx?id=17851\r\n\r\n---\r\nYou could just put the Quest installer on a USB, along with the game file and the feelies, and I could write a .bat script that installed Quest to the PC then opened the game (and/or feelies) once the installation is complete.  The Quest installer installs dotnet40 if it's not on the system.\r\n\r\nThat way, the game, Quest, and everything else would be on his local drive after the first play.\r\n\r\n(Just a suggestion.)",
      "EditableFormat": "markdown",
      "HTML": "<p>PS</p>\n<p>The system needs to have Microsoft .NET Framework 4 installed.</p>\n<p>(I don't <em>think</em> it can be on the USB.  I'm fairly certain it has to be installed on the system.  Sometimes people have it already, some don't.  I don't think it comes built-in with any version of Windows, either.  But, again, I'm just thinking all this stuff.)</p>\n<p>https://www.microsoft.com/en-us/download/details.aspx?id=17851</p>\n<hr>\n<p>You could just put the Quest installer on a USB, along with the game file and the feelies, and I could write a .bat script that installed Quest to the PC then opened the game (and/or feelies) once the installation is complete.  The Quest installer installs dotnet40 if it's not on the system.</p>\n<p>That way, the game, Quest, and everything else would be on his local drive after the first play.</p>\n<p>(Just a suggestion.)</p>\n\n",
      "PostDate": "2018-02-10T00:36:57.7277665Z",
      "LastEditDate": "2018-02-10T01:13:40.712851Z",
      "link": null
    },
    {
      "PostId": "50007885-98f7-4fb3-9470-cb1dbe69a23a",
      "UserId": 344046,
      "Username": "baskham",
      "AvatarUrl": "https://secure.gravatar.com/avatar/7689475b10ef3f61ec180330cc180daa?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Wow!!!\r\n\r\nThank you so much K.V.\r\n\r\nThis is exactly what I wanted to do.\r\nAnd it works beutifully.\r\n\r\nBut I may not have been completely clear about the letter thing.\r\n\r\nI am planning ón handing him a physical envelope containing the USB stick, a letter and maybe a pair of dark sunglaces :-)\r\n\r\nI am sure he is going  to love it.\r\n\r\nBut once again thank you so much.\r\n\r\nBR Benny",
      "EditableFormat": "markdown",
      "HTML": "<p>Wow!!!</p>\n<p>Thank you so much K.V.</p>\n<p>This is exactly what I wanted to do.<br>\nAnd it works beutifully.</p>\n<p>But I may not have been completely clear about the letter thing.</p>\n<p>I am planning ón handing him a physical envelope containing the USB stick, a letter and maybe a pair of dark sunglaces :-)</p>\n<p>I am sure he is going  to love it.</p>\n<p>But once again thank you so much.</p>\n<p>BR Benny</p>\n\n",
      "PostDate": "2018-02-10T07:31:47.5372032Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "6fb2f85c-8eff-4153-8b0a-cd63b377985b",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "If you don't know what the drive letter will be (given that it depends on what drives the computer has), you can use `%CD%` to refer to the folder that contains the .bat file.",
      "EditableFormat": "markdown",
      "HTML": "<p>If you don't know what the drive letter will be (given that it depends on what drives the computer has), you can use <code>%CD%</code> to refer to the folder that contains the .bat file.</p>\n\n",
      "PostDate": "2018-02-10T11:20:54.5929255Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "2797b303-5108-4d42-92c4-4e24b857d6a5",
      "UserId": 318253,
      "Username": "K.V.",
      "AvatarUrl": "https://i.imgur.com/mBf7TBeb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "```%CD%```\r\n\r\nHa!  Sweet!\r\n\r\nThanks, mrangel!\r\n\r\n(The script has been edited.)",
      "EditableFormat": "markdown",
      "HTML": "<p><code>%CD%</code></p>\n<p>Ha!  Sweet!</p>\n<p>Thanks, mrangel!</p>\n<p>(The script has been edited.)</p>\n\n",
      "PostDate": "2018-02-10T15:12:22.8182451Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "f7fc7c7c-c691-40c3-9665-b6f2b018d96c",
      "UserId": 318253,
      "Username": "K.V.",
      "AvatarUrl": "https://i.imgur.com/mBf7TBeb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "I'm glad it worked!\r\n\r\n...and your letter idea sounds much cooler than what I was thinking you meant.\r\n\r\nIf I was a kid, I'd dig it!  (Heck, I'd dig it as an adult!)\r\n\r\n---\r\nI just realized:\r\n\r\nIf he saves the game, this script will start him over from the beginning of the game.\r\n\r\nQuest creates a save file when you save, and you must open that file to pick up where you left off.\r\n\r\nThe player chooses where to save the file, but, being that Quest wouldn't actually be installed this way, Windows probably wouldn't associate the save file's extension with Quest (or anything at all, for that matter).\r\n\r\nSo, hiding the files on the USB may not be a good idea.  To open a save, he'd either have to run that script then stop the game and load the saved game, OR go into the 'Quest 5' folder to run Quest.exe, then load the saved game.\r\n\r\n---\r\nJust so I can come back here for it later, and for completion's sake, I plan to post one more script which shows how to do this same thing, only actually installing Quest to the system before running the game, to be sure all saves can be played by simply clicking them.",
      "EditableFormat": "markdown",
      "HTML": "<p>I'm glad it worked!</p>\n<p>...and your letter idea sounds much cooler than what I was thinking you meant.</p>\n<p>If I was a kid, I'd dig it!  (Heck, I'd dig it as an adult!)</p>\n<hr>\n<p>I just realized:</p>\n<p>If he saves the game, this script will start him over from the beginning of the game.</p>\n<p>Quest creates a save file when you save, and you must open that file to pick up where you left off.</p>\n<p>The player chooses where to save the file, but, being that Quest wouldn't actually be installed this way, Windows probably wouldn't associate the save file's extension with Quest (or anything at all, for that matter).</p>\n<p>So, hiding the files on the USB may not be a good idea.  To open a save, he'd either have to run that script then stop the game and load the saved game, OR go into the 'Quest 5' folder to run Quest.exe, then load the saved game.</p>\n<hr>\n<p>Just so I can come back here for it later, and for completion's sake, I plan to post one more script which shows how to do this same thing, only actually installing Quest to the system before running the game, to be sure all saves can be played by simply clicking them.</p>\n\n",
      "PostDate": "2018-02-10T15:26:53.5300076Z",
      "LastEditDate": null,
      "link": null
    }
  ]
}
