{
  "Topic": {
    "TopicId": "3743",
    "ForumId": "18",
    "Title": "Making a basic 'brass lantern' that",
    "LastUpdated": "2013-10-07T00:20:22+01:00",
    "ReplyCount": 8
  },
  "Posts": [
    {
      "PostId": "25079",
      "UserId": 0,
      "Username": "shadowphile",
      "UserAvatar": null,
      "UserGravatar": "e3cc24e20c3199b383451c382c2c0b17",
      "EditableText": "As of Version 5.4.1 you still can't light up a room by carrying a lamp, you have to drop it on the floor first. (?)\n\nIf you have a need for a portable light-source in your inventory that lights up any room you visit, then do this:\nEnable the core libraries in the object list on the left. (bottom left corner, click 'Filter' and enable 'Show Library Elements'\n\nRight click on the Function list header and select 'Add Function', call it 'ScopeInventoryLightsources'.\nPaste this in:\n[code:3p2gnb67]result = ScopeInventory()\nlightobjects = NewObjectList()\nforeach (obj, result) {\n  if (GetBoolean(obj, &quot;lightsource&quot;) and GetString(obj, &quot;lightstrength&quot;) = &quot;strong&quot;) {\n    list add (lightobjects, obj)\n  }\n}\nreturn (lightobjects)[/code:3p2gnb67]\nAt the top set the Return Type to 'Object List'\n\nThen find the existing function 'CheckDarkness', make a copy, and insert text as shown here:\n\nFirst section of original code:\n[code:3p2gnb67]roomCheckDarkness = true\nif (GetBoolean(game&#46;pov&#46;parent, &quot;dark&quot;)) {\n  if (ListCount(ScopeVisibleLightsource(&quot;strong&quot;)) &gt; 0) {\n    roomCheckDarkness = false\n  }[/code:3p2gnb67]\n\nNew code to insert:\n[code:3p2gnb67]  if (ListCount(ScopeInventoryLightsources()) &gt; 0) {\n    roomCheckDarkness = false\n  }[/code:3p2gnb67]\n\nLast section of original code:\n[code:3p2gnb67]}\ngame&#46;pov&#46;parent&#46;darklevel = roomCheckDarkness\nreturn (roomCheckDarkness)[/code:3p2gnb67]\n\nNow when the flashlight object is in your inventory and switched on, it will light up any room you visit.  As expected, the flashlight still won't light up the room if you have it contained inside something else in your inventory, unless that something else is a transparent container.  All pretty cool!\n------------------------------------------------------------------------------------------------------------------------------------\n\nHere are some more trivial scripts to help make that flashlight more practical, I offer two different approaches:\n\n[b:3p2gnb67]First style:[/b:3p2gnb67]\n    [i:3p2gnb67]Pros:[/i:3p2gnb67] Will light up a room whether held in inventory or dropped on the floor.\n    [i:3p2gnb67]Cons:[/i:3p2gnb67] If 'switched off' in a dark room and dropped, you will not be able to see it or pick it back up, possibly leaving you stuck in a dark room.\n\n[b:3p2gnb67]Second style:[/b:3p2gnb67]\n    [i:3p2gnb67]Pros:[/i:3p2gnb67] Will light up a room whether held in inventory or dropped on the floor.\n    [i:3p2gnb67]Cons:[/i:3p2gnb67] If 'switched off' in a dark room, you can still see it either in your inventory or dropped on the floor.  If you want your switched-off flashlight to NOT be visible on the floor of a dark room, you must use the First style above.\n\nI offer both styles with a command that reprints the room description again in case you want to describe the room after the light level changes.  If you don't like it, just delete the 'ShowRoomDescription' command.\n\n(paste these in while it's in code-view)\n[b:3p2gnb67]First-style code:[/b:3p2gnb67]\nPut this chunk in the flashlight's 'After Switching On the Object' script&#058; \n[code:3p2gnb67]flashlight&#46;lightstrength = &quot;strong&quot;\nflashlight&#46;lightsource = True\nShowRoomDescription[/code:3p2gnb67]\n\nPut this chunk in the flashlight's 'After Switching Off the Object' script&#058; \n[code:3p2gnb67]flashlight&#46;lightsource = False\nShowRoomDescription[/code:3p2gnb67]\n\n[b:3p2gnb67]Second-style code:[/b:3p2gnb67]\nPut this chunk in the flashlight's 'After Switching On the Object' script&#058; \n[code:3p2gnb67]flashlight&#46;lightstrength = &quot;strong&quot;\nflashlight&#46;lightsource = True\nShowRoomDescription[/code:3p2gnb67]\n\nPut this chunk in the flashlight's 'After Switching Off the Object' script&#058; \n[code:3p2gnb67]flashlight&#46;lightstrength = &quot;weak&quot;\nflashlight&#46;lightsource = True\nShowRoomDescription[/code:3p2gnb67]\n\n\nHope this helps others.  I spent several days coding spaghetti before I figured out how the Quest execution is structured.\nIf any gurus out there see a big loophole or think this creates problems elsewhere, by all means shout out.\ngood luck",
      "EditableFormat": "bbcode",
      "HTML": "As of Version 5.4.1 you still can't light up a room by carrying a lamp, you have to drop it on the floor first. (?)<br/><br/>If you have a need for a portable light-source in your inventory that lights up any room you visit, then do this:<br/>Enable the core libraries in the object list on the left. (bottom left corner, click 'Filter' and enable 'Show Library Elements'<br/><br/>Right click on the Function list header and select 'Add Function', call it 'ScopeInventoryLightsources'.<br/>Paste this in:<br/><pre><code>result = ScopeInventory()<br/>lightobjects = NewObjectList()<br/>foreach (obj, result) {<br/>  if (GetBoolean(obj, &quot;lightsource&quot;) and GetString(obj, &quot;lightstrength&quot;) = &quot;strong&quot;) {<br/>    list add (lightobjects, obj)<br/>  }<br/>}<br/>return (lightobjects)</code></pre><br/>At the top set the Return Type to 'Object List'<br/><br/>Then find the existing function 'CheckDarkness', make a copy, and insert text as shown here:<br/><br/>First section of original code:<br/><pre><code>roomCheckDarkness = true<br/>if (GetBoolean(game&#46;pov&#46;parent, &quot;dark&quot;)) {<br/>  if (ListCount(ScopeVisibleLightsource(&quot;strong&quot;)) &gt; 0) {<br/>    roomCheckDarkness = false<br/>  }</code></pre><br/><br/>New code to insert:<br/><pre><code>  if (ListCount(ScopeInventoryLightsources()) &gt; 0) {<br/>    roomCheckDarkness = false<br/>  }</code></pre><br/><br/>Last section of original code:<br/><pre><code>}<br/>game&#46;pov&#46;parent&#46;darklevel = roomCheckDarkness<br/>return (roomCheckDarkness)</code></pre><br/><br/>Now when the flashlight object is in your inventory and switched on, it will light up any room you visit.  As expected, the flashlight still won't light up the room if you have it contained inside something else in your inventory, unless that something else is a transparent container.  All pretty cool!<br/>------------------------------------------------------------------------------------------------------------------------------------<br/><br/>Here are some more trivial scripts to help make that flashlight more practical, I offer two different approaches:<br/><br/><span style=\"font-weight:bold;\">First style:</span><br/>    <span style=\"font-style:italic;\">Pros:</span> Will light up a room whether held in inventory or dropped on the floor.<br/>    <span style=\"font-style:italic;\">Cons:</span> If 'switched off' in a dark room and dropped, you will not be able to see it or pick it back up, possibly leaving you stuck in a dark room.<br/><br/><span style=\"font-weight:bold;\">Second style:</span><br/>    <span style=\"font-style:italic;\">Pros:</span> Will light up a room whether held in inventory or dropped on the floor.<br/>    <span style=\"font-style:italic;\">Cons:</span> If 'switched off' in a dark room, you can still see it either in your inventory or dropped on the floor.  If you want your switched-off flashlight to NOT be visible on the floor of a dark room, you must use the First style above.<br/><br/>I offer both styles with a command that reprints the room description again in case you want to describe the room after the light level changes.  If you don't like it, just delete the 'ShowRoomDescription' command.<br/><br/>(paste these in while it's in code-view)<br/><span style=\"font-weight:bold;\">First-style code:</span><br/>Put this chunk in the flashlight's 'After Switching On the Object' script&#058; <br/><pre><code>flashlight&#46;lightstrength = &quot;strong&quot;<br/>flashlight&#46;lightsource = True<br/>ShowRoomDescription</code></pre><br/><br/>Put this chunk in the flashlight's 'After Switching Off the Object' script&#058; <br/><pre><code>flashlight&#46;lightsource = False<br/>ShowRoomDescription</code></pre><br/><br/><span style=\"font-weight:bold;\">Second-style code:</span><br/>Put this chunk in the flashlight's 'After Switching On the Object' script&#058; <br/><pre><code>flashlight&#46;lightstrength = &quot;strong&quot;<br/>flashlight&#46;lightsource = True<br/>ShowRoomDescription</code></pre><br/><br/>Put this chunk in the flashlight's 'After Switching Off the Object' script&#058; <br/><pre><code>flashlight&#46;lightstrength = &quot;weak&quot;<br/>flashlight&#46;lightsource = True<br/>ShowRoomDescription</code></pre><br/><br/><br/>Hope this helps others.  I spent several days coding spaghetti before I figured out how the Quest execution is structured.<br/>If any gurus out there see a big loophole or think this creates problems elsewhere, by all means shout out.<br/>good luck",
      "PostDate": "2013-06-17T05:00:52+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "25080",
      "UserId": 0,
      "Username": "Pertex",
      "UserAvatar": "5940_1369854251.gif",
      "UserGravatar": "4cc1e52f99452e841ecf4cbee9eadde9",
      "EditableText": "Hi shadowphile,\nisn't it an easier solution to add the line \n  result = ListCombine(result, ScopeReachableInventory())\nto the function ScopeVisibleLightsource?\n\n\n[code:7g54h0lc]\n   &lt;function name=&quot;ScopeVisibleLightsource&quot; type=&quot;objectlist&quot; parameters=&quot;lightstrength&quot;&gt;    \n    result = ScopeVisibleNotHeld()\n    result = ListCombine(result, ScopeReachableInventory())        &lt;---add this line\n    lightobjects = NewObjectList()\n    foreach (obj, result) {\n[/code:7g54h0lc]",
      "EditableFormat": "bbcode",
      "HTML": "Hi shadowphile,<br/>isn't it an easier solution to add the line <br/>  result = ListCombine(result, ScopeReachableInventory())<br/>to the function ScopeVisibleLightsource?<br/><br/><br/><pre><code><br/>   &lt;function name=&quot;ScopeVisibleLightsource&quot; type=&quot;objectlist&quot; parameters=&quot;lightstrength&quot;&gt;    <br/>    result = ScopeVisibleNotHeld()<br/>    result = ListCombine(result, ScopeReachableInventory())        &lt;---add this line<br/>    lightobjects = NewObjectList()<br/>    foreach (obj, result) {<br/></code></pre>",
      "PostDate": "2013-06-17T10:52:11+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "25081",
      "UserId": 0,
      "Username": "shadowphile",
      "UserAvatar": null,
      "UserGravatar": "e3cc24e20c3199b383451c382c2c0b17",
      "EditableText": "DOH!, I suppose you are right, since you know the code way better than I do.\nFrankly, I posted it because it was very simple compared to the horrid hoops I was jumping through before that, trying to manipulate the Dark variable for rooms.  The hardest thing is trying to decode the structure of the library calls.\nIn this case I didn't understand that the descriptions are steered with an on-the-fly filtered set of lightsources; but rather I thought originally that the motion and changing of lightsources iteratively changed a single variable used to steer the description, in this case the Dark attribute.  Was I wrong!\n\nI didn't explore the Reachables and Accessibles because, well, it was hard to decode what those actually filter for.  Guess my intuition about whether something is reachable did not match whether it was also visible.\nCare to elaborate about the difference between Reachable, Accessible, and Visible? (and while we are at it, what 'darklevel' is used for..)\n\nAnd what do I do about my 'solution', since it's already obsolete?  Don't want to leave a poor chunk of code lying around to waste somebody else's time.  Next time I'll post my solution in the regular forum for feedback before assuming it's worthy of this section of the forum.",
      "EditableFormat": "bbcode",
      "HTML": "DOH!, I suppose you are right, since you know the code way better than I do.<br/>Frankly, I posted it because it was very simple compared to the horrid hoops I was jumping through before that, trying to manipulate the Dark variable for rooms.  The hardest thing is trying to decode the structure of the library calls.<br/>In this case I didn't understand that the descriptions are steered with an on-the-fly filtered set of lightsources; but rather I thought originally that the motion and changing of lightsources iteratively changed a single variable used to steer the description, in this case the Dark attribute.  Was I wrong!<br/><br/>I didn't explore the Reachables and Accessibles because, well, it was hard to decode what those actually filter for.  Guess my intuition about whether something is reachable did not match whether it was also visible.<br/>Care to elaborate about the difference between Reachable, Accessible, and Visible? (and while we are at it, what 'darklevel' is used for..)<br/><br/>And what do I do about my 'solution', since it's already obsolete?  Don't want to leave a poor chunk of code lying around to waste somebody else's time.  Next time I'll post my solution in the regular forum for feedback before assuming it's worthy of this section of the forum.",
      "PostDate": "2013-06-18T05:35:17+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "25120",
      "UserId": 0,
      "Username": "shadowphile",
      "UserAvatar": null,
      "UserGravatar": "e3cc24e20c3199b383451c382c2c0b17",
      "EditableText": "after some playing around I couldn't get the suggested approach to work because it does not take into account transparency.\nI can have a switched-on flashlight inside a closed up (transparent) jar and it will still light up the room with my script.\nThey can even be nested, so a clear jar inside a bigger clear jar with a flashlight will light up the room, even though both jars are closed.",
      "EditableFormat": "bbcode",
      "HTML": "after some playing around I couldn't get the suggested approach to work because it does not take into account transparency.<br/>I can have a switched-on flashlight inside a closed up (transparent) jar and it will still light up the room with my script.<br/>They can even be nested, so a clear jar inside a bigger clear jar with a flashlight will light up the room, even though both jars are closed.",
      "PostDate": "2013-06-24T01:16:22+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "25124",
      "UserId": 0,
      "Username": "HegemonKhan",
      "UserAvatar": null,
      "UserGravatar": "a96cf34d8d97c57de38f54ee22b1759b",
      "EditableText": "isn't the definition of transparent, mean that light passes through it (hence its transparency) ? So, isn't transparency working correctly as it should be ?? Though, obviously you'll need a work around (or make your own code) if you want the transparency effects, but without the effect of its light transparency.\n\njust being nick-picky with the definition of transparent, and not offering any help with a solution, so ignore this post, hehe.",
      "EditableFormat": "bbcode",
      "HTML": "isn't the definition of transparent, mean that light passes through it (hence its transparency) ? So, isn't transparency working correctly as it should be ?? Though, obviously you'll need a work around (or make your own code) if you want the transparency effects, but without the effect of its light transparency.<br/><br/>just being nick-picky with the definition of transparent, and not offering any help with a solution, so ignore this post, hehe.",
      "PostDate": "2013-06-24T06:32:12+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "25125",
      "UserId": 0,
      "Username": "Pertex",
      "UserAvatar": "5940_1369854251.gif",
      "UserGravatar": "4cc1e52f99452e841ecf4cbee9eadde9",
      "EditableText": "[quote=&quot;shadowphile&quot;:2trmqmam]after some playing around I couldn't get the suggested approach to work because it does not take into account transparency.[/quote:2trmqmam]\nHmmm, I tested a lightsource within a transparent container within a transparent container in my inventory and it worked. Could you create a game file which demonstrates your problem?",
      "EditableFormat": "bbcode",
      "HTML": "<blockquote><cite>shadowphile wrote:</cite>after some playing around I couldn't get the suggested approach to work because it does not take into account transparency.</blockquote><br/>Hmmm, I tested a lightsource within a transparent container within a transparent container in my inventory and it worked. Could you create a game file which demonstrates your problem?",
      "PostDate": "2013-06-24T08:28:35+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "25141",
      "UserId": 0,
      "Username": "shadowphile",
      "UserAvatar": null,
      "UserGravatar": "e3cc24e20c3199b383451c382c2c0b17",
      "EditableText": "I put a lamp set to a strong lightsource inside a closed transparent jar in my inventory, and I'm in a dark room.\nI drop the jar and the room remains dark.\n[code:3m10pj6t]&lt;!--Saved by Quest 5&#46;4&#46;4873&#46;16527--&gt;\n&lt;asl version=&quot;540&quot;&gt;\n  &lt;include ref=&quot;English&#46;aslx&quot; /&gt;\n  &lt;include ref=&quot;Core&#46;aslx&quot; /&gt;\n  &lt;game name=&quot;testTrans&quot;&gt;\n    &lt;gameid&gt;84164ce6-68a5-48d1-8be2-e9ac8a8c7519&lt;/gameid&gt;\n    &lt;version&gt;1&#46;0&lt;/version&gt;\n    &lt;firstpublished&gt;2013&lt;/firstpublished&gt;\n  &lt;/game&gt;\n  &lt;object name=&quot;room&quot;&gt;\n    &lt;inherit name=&quot;editor_room&quot; /&gt;\n    &lt;dark /&gt;\n    &lt;darkroomdescription&gt;it's dark&lt;/darkroomdescription&gt;\n    &lt;description&gt;it's bright in here&lt;/description&gt;\n    &lt;object name=&quot;player&quot;&gt;\n      &lt;inherit name=&quot;editor_object&quot; /&gt;\n      &lt;inherit name=&quot;editor_player&quot; /&gt;\n      &lt;object name=&quot;jar&quot;&gt;\n        &lt;inherit name=&quot;editor_object&quot; /&gt;\n        &lt;inherit name=&quot;container_open&quot; /&gt;\n        &lt;take /&gt;\n        &lt;isopen type=&quot;boolean&quot;&gt;false&lt;/isopen&gt;\n        &lt;transparent /&gt;\n        &lt;listchildren /&gt;\n        &lt;object name=&quot;lamp&quot;&gt;\n          &lt;inherit name=&quot;editor_object&quot; /&gt;\n          &lt;take /&gt;\n          &lt;lightsource /&gt;\n          &lt;lightstrength&gt;strong&lt;/lightstrength&gt;\n        &lt;/object&gt;\n      &lt;/object&gt;\n    &lt;/object&gt;\n  &lt;/object&gt;\n  &lt;function name=&quot;ScopeVisibleLightsource&quot; parameters=&quot;lightstrength&quot; type=&quot;objectlist&quot;&gt;\n    result = ScopeVisibleNotHeld()\n    result = ListCombine(result, ScopeReachableInventory())\n    lightobjects = NewObjectList()\n    foreach (obj, result) {\n      if (GetBoolean(obj, &quot;lightsource&quot;) and GetString(obj, &quot;lightstrength&quot;) = lightstrength) {\n        list add (lightobjects, obj)\n      }\n    }\n    exits = ScopeExits()\n    foreach (obj, exits) {\n      if (GetBoolean(obj, &quot;lightsource&quot;) and GetString(obj, &quot;lightstrength&quot;) = lightstrength) {\n        list add (lightobjects, obj)\n      }\n    }\n    return (lightobjects)\n  &lt;/function&gt;\n&lt;/asl&gt;[/code:3m10pj6t]",
      "EditableFormat": "bbcode",
      "HTML": "I put a lamp set to a strong lightsource inside a closed transparent jar in my inventory, and I'm in a dark room.<br/>I drop the jar and the room remains dark.<br/><pre><code>&lt;!--Saved by Quest 5&#46;4&#46;4873&#46;16527--&gt;<br/>&lt;asl version=&quot;540&quot;&gt;<br/>  &lt;include ref=&quot;English&#46;aslx&quot; /&gt;<br/>  &lt;include ref=&quot;Core&#46;aslx&quot; /&gt;<br/>  &lt;game name=&quot;testTrans&quot;&gt;<br/>    &lt;gameid&gt;84164ce6-68a5-48d1-8be2-e9ac8a8c7519&lt;/gameid&gt;<br/>    &lt;version&gt;1&#46;0&lt;/version&gt;<br/>    &lt;firstpublished&gt;2013&lt;/firstpublished&gt;<br/>  &lt;/game&gt;<br/>  &lt;object name=&quot;room&quot;&gt;<br/>    &lt;inherit name=&quot;editor_room&quot; /&gt;<br/>    &lt;dark /&gt;<br/>    &lt;darkroomdescription&gt;it's dark&lt;/darkroomdescription&gt;<br/>    &lt;description&gt;it's bright in here&lt;/description&gt;<br/>    &lt;object name=&quot;player&quot;&gt;<br/>      &lt;inherit name=&quot;editor_object&quot; /&gt;<br/>      &lt;inherit name=&quot;editor_player&quot; /&gt;<br/>      &lt;object name=&quot;jar&quot;&gt;<br/>        &lt;inherit name=&quot;editor_object&quot; /&gt;<br/>        &lt;inherit name=&quot;container_open&quot; /&gt;<br/>        &lt;take /&gt;<br/>        &lt;isopen type=&quot;boolean&quot;&gt;false&lt;/isopen&gt;<br/>        &lt;transparent /&gt;<br/>        &lt;listchildren /&gt;<br/>        &lt;object name=&quot;lamp&quot;&gt;<br/>          &lt;inherit name=&quot;editor_object&quot; /&gt;<br/>          &lt;take /&gt;<br/>          &lt;lightsource /&gt;<br/>          &lt;lightstrength&gt;strong&lt;/lightstrength&gt;<br/>        &lt;/object&gt;<br/>      &lt;/object&gt;<br/>    &lt;/object&gt;<br/>  &lt;/object&gt;<br/>  &lt;function name=&quot;ScopeVisibleLightsource&quot; parameters=&quot;lightstrength&quot; type=&quot;objectlist&quot;&gt;<br/>    result = ScopeVisibleNotHeld()<br/>    result = ListCombine(result, ScopeReachableInventory())<br/>    lightobjects = NewObjectList()<br/>    foreach (obj, result) {<br/>      if (GetBoolean(obj, &quot;lightsource&quot;) and GetString(obj, &quot;lightstrength&quot;) = lightstrength) {<br/>        list add (lightobjects, obj)<br/>      }<br/>    }<br/>    exits = ScopeExits()<br/>    foreach (obj, exits) {<br/>      if (GetBoolean(obj, &quot;lightsource&quot;) and GetString(obj, &quot;lightstrength&quot;) = lightstrength) {<br/>        list add (lightobjects, obj)<br/>      }<br/>    }<br/>    return (lightobjects)<br/>  &lt;/function&gt;<br/>&lt;/asl&gt;</code></pre>",
      "PostDate": "2013-06-25T05:43:00+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "25145",
      "UserId": 0,
      "Username": "Pertex",
      "UserAvatar": "5940_1369854251.gif",
      "UserGravatar": "4cc1e52f99452e841ecf4cbee9eadde9",
      "EditableText": "You are right! I think,this is the better way:\n\n[code:2mlxmj4c] &lt;function name=&quot;ScopeVisibleLightsource&quot; type=&quot;objectlist&quot; parameters=&quot;lightstrength&quot;&gt;   \n    result = ScopeVisible()\n    lightobjects = NewObjectList()\n    foreach (obj, result) {\n&#46;&#46;&#46;\n[/code:2mlxmj4c]",
      "EditableFormat": "bbcode",
      "HTML": "You are right! I think,this is the better way:<br/><br/><pre><code> &lt;function name=&quot;ScopeVisibleLightsource&quot; type=&quot;objectlist&quot; parameters=&quot;lightstrength&quot;&gt;   <br/>    result = ScopeVisible()<br/>    lightobjects = NewObjectList()<br/>    foreach (obj, result) {<br/>&#46;&#46;&#46;<br/></code></pre>",
      "PostDate": "2013-06-25T09:48:24+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "26517",
      "UserId": 0,
      "Username": "tbritton",
      "UserAvatar": null,
      "UserGravatar": "aa3d953baab30b778c1351a982d82eb8",
      "EditableText": "Great tip for working with lightsources.  I slightly modified the code since I didn't want the room description repeated if you turned the lamp on or off in a lighted room.\n\nCode for after switching on:\n[code:3c0qi6jl]dark = CheckDarkness()\n          if (dark) {\n            lantern&#46;lightstrength = &quot;strong&quot;\n            lantern&#46;lightsource = True\n            ShowRoomDescription\n          }\n          else {\n            lantern&#46;lightstrength = &quot;strong&quot;\n            lantern&#46;lightsource = True\n          }[/code:3c0qi6jl]\n\nCode for after switching off:\n[code:3c0qi6jl]lantern&#46;lightstrength = &quot;weak&quot;\n          lantern&#46;lightsource = True\n          dark = CheckDarkness()\n          if (dark) {\n            ShowRoomDescription\n          }[/code:3c0qi6jl]",
      "EditableFormat": "bbcode",
      "HTML": "Great tip for working with lightsources.  I slightly modified the code since I didn't want the room description repeated if you turned the lamp on or off in a lighted room.<br/><br/>Code for after switching on:<br/><pre><code>dark = CheckDarkness()<br/>          if (dark) {<br/>            lantern&#46;lightstrength = &quot;strong&quot;<br/>            lantern&#46;lightsource = True<br/>            ShowRoomDescription<br/>          }<br/>          else {<br/>            lantern&#46;lightstrength = &quot;strong&quot;<br/>            lantern&#46;lightsource = True<br/>          }</code></pre><br/><br/>Code for after switching off:<br/><pre><code>lantern&#46;lightstrength = &quot;weak&quot;<br/>          lantern&#46;lightsource = True<br/>          dark = CheckDarkness()<br/>          if (dark) {<br/>            ShowRoomDescription<br/>          }</code></pre>",
      "PostDate": "2013-10-07T00:20:22+01:00",
      "LastEditDate": null
    }
  ]
}
