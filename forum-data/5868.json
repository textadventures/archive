{
  "Topic": {
    "TopicId": "5868",
    "ForumId": "10",
    "Title": "[S] Assorted Inquiry: Input conversion to lowercase, Typewriter FX sans linebreak, and Millisecond-incremental timers",
    "LastUpdated": "2016-01-13T00:28:12+00:00",
    "ReplyCount": 3
  },
  "Posts": [
    {
      "PostId": "40560",
      "UserId": 0,
      "Username": "Cylius_Optimi",
      "UserAvatar": null,
      "UserGravatar": "5cb0ff0b9a56ea169c5ff4f1be92e44f",
      "EditableText": "First off, I'm working on a game (like many others are, of course). I had some experience playing around with the earlier versions of the QDK back in '08-'09, so I've had only limited difficulty figuring out how to make things work. \n\nHowever, what difficulties I do encounter are quite annoying. I would appreciate some help from those who have up-to-date experience with Quest game creation.\n\n\n[b:3azlp3tq]1.)[/b:3azlp3tq] I have noticed that [b:3azlp3tq][url=http&#58;//docs&#46;textadventures&#46;co&#46;uk/quest/functions/string/lcase&#46;html:3azlp3tq]LCase (string)[/b:3azlp3tq][/url:3azlp3tq] in the online documentation (as well as [b:3azlp3tq]UCase (string)[/b:3azlp3tq]) is missing from the library-provided functions list in QDK today. \n\nI have what amounts to a keyphrase-searchable journal command that lets the player view acquired information on a variety of topics. However, I noticed this while testing a switch case that included phrases using capital letters: if the player [i:3azlp3tq]enters inexact case[/i:3azlp3tq] of an existing topic into the 'topic' field, it will return an error, completely foregoing my 'default' case. Having taken to the internet for a solution, I tried using [b:3azlp3tq]LCase (text)[/b:3azlp3tq] to first convert whatever the player enters into pure lowercase.\n\nAn immediate F5 test of the new code dashed my hopes entirely. The game would not load, as there was 'no such function'. Because of this, I would like to know what happened to LCase; will I need to [i:3azlp3tq]make my own[/i:3azlp3tq] workaround, or is there a [i:3azlp3tq]new method[/i:3azlp3tq] used to convert a string to lowercase?\n\nIn either case, the documentation pages should be updated accordingly. \n\n\n[b:3azlp3tq]2.)[/b:3azlp3tq] I want to output subsequent Typewriter entries to the same line, at varying speeds, and with delays between them.\n\nI've noticed while using the Typewriter effect to print text that it follows several rules: It always ignores HTML formatting tags within the text to type, it always prints on a new line, and it never prints text onto the typewritten line, even with Print (no line break). I want to utilize the Typewriter effect to simulate speech, similar to text boxes in games with dialog (e.g. Megaman Battle Network, Golden Sun, or other RPGs), but I would definitely need to be able to bypass those latter two rules to do so.\n\nTo accomplish that, I assume I would likely have to customize it myself; especially as I would like to eventually implement brief speech sounds with each character (again, as in Battle Network/Legends, Golden Sun, Undertale, etc). I would definitely appreciate any advice towards this task.\n\n\n[b:3azlp3tq]3.)[/b:3azlp3tq] I need a timer, for several reasons, that increments in milliseconds. If not milliseconds, I would at least like one that can use tenth-seconds.\n\nIf I can't learn/figure out how to hook onto the typewriter effect to use the end of the printed text as a trigger for the next action, being able to use a timer that isn't [i:3azlp3tq]either[/i:3azlp3tq] 1 second [i:3azlp3tq]or[/i:3azlp3tq] 2 seconds long would definitely be the next best jury rig.\n\nI would hazard a guess that someone, somewhere has already written a library or code snippet for either a new timer or a replacement that counts in milliseconds; if anyone knows about one, I'd appreciate it if you could tell me about it.",
      "EditableFormat": "bbcode",
      "HTML": "First off, I'm working on a game (like many others are, of course). I had some experience playing around with the earlier versions of the QDK back in '08-'09, so I've had only limited difficulty figuring out how to make things work. <br/><br/>However, what difficulties I do encounter are quite annoying. I would appreciate some help from those who have up-to-date experience with Quest game creation.<br/><br/><br/><span style=\"font-weight:bold;\">1.)</span> I have noticed that <span style=\"font-weight:bold;\"><a href=\"http&#58;//docs&#46;textadventures&#46;co&#46;uk/quest/functions/string/lcase&#46;html\" rel=\"nofollow\">LCase (string)</span></a> in the online documentation (as well as <span style=\"font-weight:bold;\">UCase (string)</span>) is missing from the library-provided functions list in QDK today. <br/><br/>I have what amounts to a keyphrase-searchable journal command that lets the player view acquired information on a variety of topics. However, I noticed this while testing a switch case that included phrases using capital letters: if the player <span style=\"font-style:italic;\">enters inexact case</span> of an existing topic into the 'topic' field, it will return an error, completely foregoing my 'default' case. Having taken to the internet for a solution, I tried using <span style=\"font-weight:bold;\">LCase (text)</span> to first convert whatever the player enters into pure lowercase.<br/><br/>An immediate F5 test of the new code dashed my hopes entirely. The game would not load, as there was 'no such function'. Because of this, I would like to know what happened to LCase; will I need to <span style=\"font-style:italic;\">make my own</span> workaround, or is there a <span style=\"font-style:italic;\">new method</span> used to convert a string to lowercase?<br/><br/>In either case, the documentation pages should be updated accordingly. <br/><br/><br/><span style=\"font-weight:bold;\">2.)</span> I want to output subsequent Typewriter entries to the same line, at varying speeds, and with delays between them.<br/><br/>I've noticed while using the Typewriter effect to print text that it follows several rules: It always ignores HTML formatting tags within the text to type, it always prints on a new line, and it never prints text onto the typewritten line, even with Print (no line break). I want to utilize the Typewriter effect to simulate speech, similar to text boxes in games with dialog (e.g. Megaman Battle Network, Golden Sun, or other RPGs), but I would definitely need to be able to bypass those latter two rules to do so.<br/><br/>To accomplish that, I assume I would likely have to customize it myself; especially as I would like to eventually implement brief speech sounds with each character (again, as in Battle Network/Legends, Golden Sun, Undertale, etc). I would definitely appreciate any advice towards this task.<br/><br/><br/><span style=\"font-weight:bold;\">3.)</span> I need a timer, for several reasons, that increments in milliseconds. If not milliseconds, I would at least like one that can use tenth-seconds.<br/><br/>If I can't learn/figure out how to hook onto the typewriter effect to use the end of the printed text as a trigger for the next action, being able to use a timer that isn't <span style=\"font-style:italic;\">either</span> 1 second <span style=\"font-style:italic;\">or</span> 2 seconds long would definitely be the next best jury rig.<br/><br/>I would hazard a guess that someone, somewhere has already written a library or code snippet for either a new timer or a replacement that counts in milliseconds; if anyone knows about one, I'd appreciate it if you could tell me about it.",
      "PostDate": "2016-01-12T22:02:45+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "40562",
      "UserId": 0,
      "Username": "jaynabonne",
      "UserAvatar": "6579_1344778256.jpg",
      "UserGravatar": "379859a7f1952a65399fc63997e68f0b",
      "EditableText": "1) LCase is part of the expression parsing. It's not a function as such. That distinction is probably less than clear, but the bottom line is that you can't do this:\n\n[code:np5f8cry]LCase(&quot;Some String&quot;)[/code:np5f8cry]\nbut you can do something like:\n\n[code:np5f8cry]x = LCase(&quot;Some String&quot;)[/code:np5f8cry]\nor \n\n[code:np5f8cry]msg(LCase(&quot;Some String&quot;))[/code:np5f8cry]\nMore on the other two later.",
      "EditableFormat": "bbcode",
      "HTML": "1) LCase is part of the expression parsing. It's not a function as such. That distinction is probably less than clear, but the bottom line is that you can't do this:<br/><br/><pre><code>LCase(&quot;Some String&quot;)</code></pre><br/>but you can do something like:<br/><br/><pre><code>x = LCase(&quot;Some String&quot;)</code></pre><br/>or <br/><br/><pre><code>msg(LCase(&quot;Some String&quot;))</code></pre><br/>More on the other two later.",
      "PostDate": "2016-01-12T22:12:56+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "40564",
      "UserId": 0,
      "Username": "jaynabonne",
      "UserAvatar": "6579_1344778256.jpg",
      "UserGravatar": "379859a7f1952a65399fc63997e68f0b",
      "EditableText": "2) The typewriter function is coded in JavaScript, and you can find the implementation in the quest source in playercore.js. Given the way that JavaScript works, you can actually replace those implementations with your own. For example, whenever it adds a text effect, it calls this:\n\n[code:18cx2h10]   function addFx(text, font, color, size) {\n        fxCount++;\n        var style = &quot;font-family&#58;&quot; + font + &quot;;color&#58;&quot; + color + &quot;;font-size&#58;&quot; + size + &quot;pt&quot;;\n        var html = &quot;&lt;span id=\\&quot;fx&quot; + fxCount + &quot;\\&quot; style=\\&quot;&quot; + style + &quot;\\&quot;&gt;&quot; + text + &quot; &lt;/span&gt;&lt;br /&gt;&quot;;\n        addText(html);\n        return $(&quot;#fx&quot; + fxCount);\n    }[/code:18cx2h10]\nAs you can probably see, there is the culprit: the &lt;br/&gt; after the span. I'm not sure how skilled you are in JS. If so, I can try to point you to things. Otherwise, given some small time, I might be able to put something together.\n\nAs far as notifying the app when done, I've done that myself in similar situations. The key there is the ASLEvent JavaScript function that you can use to call a function in the .aslx file. You can see how to use it here: <!-- m --><a class=\"postlink\" href=\"http://docs.textadventures.co.uk/quest/guides/javascript.html\">http://docs.textadventures.co.uk/quest/ ... cript.html</a><!-- m -->\n\n3) I would need to know what you mean by &quot;timer&quot;. Do you mean something like the Quest timers, where your script is invoked every so often (and I assume you want tenth second or greater resolution), or do you just want to be able to query the time to millisecond accuracy? If the former, I'd do a lot of testing on any solution, as the web player is quite finicky with timing code. I had problems with my own title screen, in terms of using ASLEvent to trigger endings in some cases. So I'd be sure you really need this before going down that road!",
      "EditableFormat": "bbcode",
      "HTML": "2) The typewriter function is coded in JavaScript, and you can find the implementation in the quest source in playercore.js. Given the way that JavaScript works, you can actually replace those implementations with your own. For example, whenever it adds a text effect, it calls this:<br/><br/><pre><code>   function addFx(text, font, color, size) {<br/>        fxCount++;<br/>        var style = &quot;font-family&#58;&quot; + font + &quot;;color&#58;&quot; + color + &quot;;font-size&#58;&quot; + size + &quot;pt&quot;;<br/>        var html = &quot;&lt;span id=\\&quot;fx&quot; + fxCount + &quot;\\&quot; style=\\&quot;&quot; + style + &quot;\\&quot;&gt;&quot; + text + &quot; &lt;/span&gt;&lt;br /&gt;&quot;;<br/>        addText(html);<br/>        return $(&quot;#fx&quot; + fxCount);<br/>    }</code></pre><br/>As you can probably see, there is the culprit: the &lt;br/&gt; after the span. I'm not sure how skilled you are in JS. If so, I can try to point you to things. Otherwise, given some small time, I might be able to put something together.<br/><br/>As far as notifying the app when done, I've done that myself in similar situations. The key there is the ASLEvent JavaScript function that you can use to call a function in the .aslx file. You can see how to use it here: <!-- m --><a class=\"postlink\" href=\"http://docs.textadventures.co.uk/quest/guides/javascript.html\">http://docs.textadventures.co.uk/quest/ ... cript.html</a><!-- m --><br/><br/>3) I would need to know what you mean by &quot;timer&quot;. Do you mean something like the Quest timers, where your script is invoked every so often (and I assume you want tenth second or greater resolution), or do you just want to be able to query the time to millisecond accuracy? If the former, I'd do a lot of testing on any solution, as the web player is quite finicky with timing code. I had problems with my own title screen, in terms of using ASLEvent to trigger endings in some cases. So I'd be sure you really need this before going down that road!",
      "PostDate": "2016-01-12T22:32:14+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "40569",
      "UserId": 0,
      "Username": "Cylius_Optimi",
      "UserAvatar": null,
      "UserGravatar": "5cb0ff0b9a56ea169c5ff4f1be92e44f",
      "EditableText": "[quote=&quot;jaynabonne&quot;:2nj14dzn]1) LCase is part of the expression parsing. It's not a function as such. That distinction is probably less than clear, but the bottom line is that you can't do this:\n\n[code:2nj14dzn]LCase(&quot;Some String&quot;)[/code:2nj14dzn]\nbut you can do something like:\n\n[code:2nj14dzn]x = LCase(&quot;Some String&quot;)[/code:2nj14dzn]\nor \n\n[code:2nj14dzn]msg(LCase(&quot;Some String&quot;))[/code:2nj14dzn]\nMore on the other two later.[/quote:2nj14dzn]\n\nThanks for the info! I didn't realize that LCase couldn't be called by itself; I preceded the switch with a line to set text_topic to LCase(text_topic) and it worked perfectly.\n\n[quote=&quot;jaynabonne&quot;:2nj14dzn]2) The typewriter function is coded in JavaScript, and you can find the implementation in the quest source in playercore.js. Given the way that JavaScript works, you can actually replace those implementations with your own. For example, whenever it adds a text effect, it calls this:\n\n[code:2nj14dzn]   function addFx(text, font, color, size) {\n        fxCount++;\n        var style = &quot;font-family&#58;&quot; + font + &quot;;color&#58;&quot; + color + &quot;;font-size&#58;&quot; + size + &quot;pt&quot;;\n        var html = &quot;&lt;span id=\\&quot;fx&quot; + fxCount + &quot;\\&quot; style=\\&quot;&quot; + style + &quot;\\&quot;&gt;&quot; + text + &quot; &lt;/span&gt;&lt;br /&gt;&quot;;\n        addText(html);\n        return $(&quot;#fx&quot; + fxCount);\n    }[/code:2nj14dzn]\nAs you can probably see, there is the culprit: the &lt;br/&gt; after the span. I'm not sure how skilled you are in JS. If so, I can try to point you to things. Otherwise, given some small time, I might be able to put something together.\n\nAs far as notifying the app when done, I've done that myself in similar situations. The key there is the ASLEvent JavaScript function that you can use to call a function in the .aslx file. You can see how to use it here: <!-- m --><a class=\"postlink\" href=\"http://docs.textadventures.co.uk/quest/guides/javascript.html\">http://docs.textadventures.co.uk/quest/ ... cript.html</a><!-- m -->[/quote:2nj14dzn]\n\nI don't have in-depth experience with JS, but I've picked up enough of it that I'm confident I can put something workable together if I study the existing Typewriter effect and consult Google for help.\n\nFor posterity's sake, [url=http&#58;//www&#46;codecademy&#46;com:2nj14dzn]CodeAcademy[/url:2nj14dzn] is a good place to quickly pick up the basics of JavaScript. I spent maybe twenty minutes there years back when I was first learning about coding, and while it wasn't particularly helpful for high-level scripting, it was a good way to introduce basic coding concepts to anyone.\n\n[quote=&quot;jaynabonne&quot;:2nj14dzn]3) I would need to know what you mean by &quot;timer&quot;. Do you mean something like the Quest timers, where your script is invoked every so often (and I assume you want tenth second or greater resolution), or do you just want to be able to query the time to millisecond accuracy? If the former, I'd do a lot of testing on any solution, as the web player is quite finicky with timing code. I had problems with my own title screen, in terms of using ASLEvent to trigger endings in some cases. So I'd be sure you really need this before going down that road![/quote:2nj14dzn]\n\nI actually mean an effect like SetTimeout. Frankly, the only reason I could foresee needing it is as a last-ditch, jury-rigged solution to my 'speech' effect, but the information you've provided here probably will probably make a hack-job like that a moot point.",
      "EditableFormat": "bbcode",
      "HTML": "<blockquote><cite>jaynabonne wrote:</cite>1) LCase is part of the expression parsing. It's not a function as such. That distinction is probably less than clear, but the bottom line is that you can't do this:<br/><br/><pre><code>LCase(&quot;Some String&quot;)</code></pre><br/>but you can do something like:<br/><br/><pre><code>x = LCase(&quot;Some String&quot;)</code></pre><br/>or <br/><br/><pre><code>msg(LCase(&quot;Some String&quot;))</code></pre><br/>More on the other two later.</blockquote><br/><br/>Thanks for the info! I didn't realize that LCase couldn't be called by itself; I preceded the switch with a line to set text_topic to LCase(text_topic) and it worked perfectly.<br/><br/><blockquote><cite>jaynabonne wrote:</cite>2) The typewriter function is coded in JavaScript, and you can find the implementation in the quest source in playercore.js. Given the way that JavaScript works, you can actually replace those implementations with your own. For example, whenever it adds a text effect, it calls this:<br/><br/><pre><code>   function addFx(text, font, color, size) {<br/>        fxCount++;<br/>        var style = &quot;font-family&#58;&quot; + font + &quot;;color&#58;&quot; + color + &quot;;font-size&#58;&quot; + size + &quot;pt&quot;;<br/>        var html = &quot;&lt;span id=\\&quot;fx&quot; + fxCount + &quot;\\&quot; style=\\&quot;&quot; + style + &quot;\\&quot;&gt;&quot; + text + &quot; &lt;/span&gt;&lt;br /&gt;&quot;;<br/>        addText(html);<br/>        return $(&quot;#fx&quot; + fxCount);<br/>    }</code></pre><br/>As you can probably see, there is the culprit: the &lt;br/&gt; after the span. I'm not sure how skilled you are in JS. If so, I can try to point you to things. Otherwise, given some small time, I might be able to put something together.<br/><br/>As far as notifying the app when done, I've done that myself in similar situations. The key there is the ASLEvent JavaScript function that you can use to call a function in the .aslx file. You can see how to use it here: <!-- m --><a class=\"postlink\" href=\"http://docs.textadventures.co.uk/quest/guides/javascript.html\">http://docs.textadventures.co.uk/quest/ ... cript.html</a><!-- m --></blockquote><br/><br/>I don't have in-depth experience with JS, but I've picked up enough of it that I'm confident I can put something workable together if I study the existing Typewriter effect and consult Google for help.<br/><br/>For posterity's sake, <a href=\"http&#58;//www&#46;codecademy&#46;com\" rel=\"nofollow\">CodeAcademy</a> is a good place to quickly pick up the basics of JavaScript. I spent maybe twenty minutes there years back when I was first learning about coding, and while it wasn't particularly helpful for high-level scripting, it was a good way to introduce basic coding concepts to anyone.<br/><br/><blockquote><cite>jaynabonne wrote:</cite>3) I would need to know what you mean by &quot;timer&quot;. Do you mean something like the Quest timers, where your script is invoked every so often (and I assume you want tenth second or greater resolution), or do you just want to be able to query the time to millisecond accuracy? If the former, I'd do a lot of testing on any solution, as the web player is quite finicky with timing code. I had problems with my own title screen, in terms of using ASLEvent to trigger endings in some cases. So I'd be sure you really need this before going down that road!</blockquote><br/><br/>I actually mean an effect like SetTimeout. Frankly, the only reason I could foresee needing it is as a last-ditch, jury-rigged solution to my 'speech' effect, but the information you've provided here probably will probably make a hack-job like that a moot point.",
      "PostDate": "2016-01-13T00:28:12+00:00",
      "LastEditDate": null
    }
  ]
}
