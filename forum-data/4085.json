{
  "Topic": {
    "TopicId": "4085",
    "ForumId": "10",
    "Title": "Light command: when there's no second object",
    "LastUpdated": "2013-12-28T05:19:19+00:00",
    "ReplyCount": 1
  },
  "Posts": [
    {
      "PostId": "27277",
      "UserId": 0,
      "Username": "TriangleGames",
      "UserAvatar": null,
      "UserGravatar": "134d9e995777da65c5cf8efda551d579",
      "EditableText": "EDIT: After digging around a little, I've noticed that there are two separate commands for &quot;[b:1rovg4n8]use[/b:1rovg4n8] [i:1rovg4n8]object[/i:1rovg4n8]&quot; and &quot;[b:1rovg4n8]use[/b:1rovg4n8] [i:1rovg4n8]object[/i:1rovg4n8] [b:1rovg4n8]on|with[/b:1rovg4n8] [i:1rovg4n8]object[/i:1rovg4n8].&quot; I'm guessing my answer lies there. So, for now, I'm just gonna split up my code into two separate commands. If there's another way to deal with this issue, please let me know for future reference.\n\nI'm making a command for lighting flammable objects like candles, matches, lamps, torches, etc.\nIn some cases, the object can be lit by itself (a match), in other cases it needs something to ignite it (a candle).\nI have everything working fine as long as there are TWO objects put in (&quot;light candle with match&quot;),\nbut I can't get it to do anything with just one object (&quot;light match&quot;). It always says &quot;I don't understand your command.&quot;\nI'm not sure if the problem is my basic understanding of command patterns, the way I tried to use &quot;object2 = null,&quot; or something else in the script (or all of those things).\n\nI'm using the command pattern setting with the pattern [u:1rovg4n8]light [i:1rovg4n8]#object1#[/i:1rovg4n8] with [i:1rovg4n8]#object2#[/i:1rovg4n8][/u:1rovg4n8].\nHere's the code for the script&#058;\n[code:1rovg4n8]if ((HasAttribute(object1, &quot;flammable&quot;) or HasAttribute(object1, &quot;ignite&quot;))) {\n  if (object2 = null) {\n    if (HasAttribute(object1, &quot;ignite&quot;)) {\n      do (object1, &quot;ignite&quot;)\n    }\n    else {\n      msg (&quot;Light the &quot; + object1&#46;alias + &quot; with what?&quot;)\n    }\n  }\n  else {\n    if (HasAttribute(object1, &quot;ignite&quot;)) {\n      msg (&quot;You realise the &quot; + object1&#46;alias + &quot; is self-lighting&#46;&quot;)\n      do (object1, &quot;ignite&quot;)\n    }\n    else {\n      if (Got(object2)) {\n        if (HasAttribute(object2, &quot;ignite&quot;)) {\n          msg (&quot;You light the &quot; + object1&#46;alias + &quot;&#46;&quot;)\n        }\n        else {\n          msg (object2&#46;alias + &quot; cannot light &quot; + object1&#46;alias + &quot;&#46;&quot;)\n        }\n      }\n      else {\n        msg (&quot;You don't have the &quot; + object2&#46;alias + &quot;&#46;&quot;)\n      }\n    }\n  }\n}\nelse {\n  msg (&quot;You can't light the &quot; + object1&#46;alias + &quot;&#46;&quot;)\n}[/code:1rovg4n8]",
      "EditableFormat": "bbcode",
      "HTML": "EDIT: After digging around a little, I've noticed that there are two separate commands for &quot;<span style=\"font-weight:bold;\">use</span> <span style=\"font-style:italic;\">object</span>&quot; and &quot;<span style=\"font-weight:bold;\">use</span> <span style=\"font-style:italic;\">object</span> <span style=\"font-weight:bold;\">on|with</span> <span style=\"font-style:italic;\">object</span>.&quot; I'm guessing my answer lies there. So, for now, I'm just gonna split up my code into two separate commands. If there's another way to deal with this issue, please let me know for future reference.<br/><br/>I'm making a command for lighting flammable objects like candles, matches, lamps, torches, etc.<br/>In some cases, the object can be lit by itself (a match), in other cases it needs something to ignite it (a candle).<br/>I have everything working fine as long as there are TWO objects put in (&quot;light candle with match&quot;),<br/>but I can't get it to do anything with just one object (&quot;light match&quot;). It always says &quot;I don't understand your command.&quot;<br/>I'm not sure if the problem is my basic understanding of command patterns, the way I tried to use &quot;object2 = null,&quot; or something else in the script (or all of those things).<br/><br/>I'm using the command pattern setting with the pattern <span style=\"text-decoration:underline;\">light <span style=\"font-style:italic;\">#object1#</span> with <span style=\"font-style:italic;\">#object2#</span></span>.<br/>Here's the code for the script&#058;<br/><pre><code>if ((HasAttribute(object1, &quot;flammable&quot;) or HasAttribute(object1, &quot;ignite&quot;))) {<br/>  if (object2 = null) {<br/>    if (HasAttribute(object1, &quot;ignite&quot;)) {<br/>      do (object1, &quot;ignite&quot;)<br/>    }<br/>    else {<br/>      msg (&quot;Light the &quot; + object1&#46;alias + &quot; with what?&quot;)<br/>    }<br/>  }<br/>  else {<br/>    if (HasAttribute(object1, &quot;ignite&quot;)) {<br/>      msg (&quot;You realise the &quot; + object1&#46;alias + &quot; is self-lighting&#46;&quot;)<br/>      do (object1, &quot;ignite&quot;)<br/>    }<br/>    else {<br/>      if (Got(object2)) {<br/>        if (HasAttribute(object2, &quot;ignite&quot;)) {<br/>          msg (&quot;You light the &quot; + object1&#46;alias + &quot;&#46;&quot;)<br/>        }<br/>        else {<br/>          msg (object2&#46;alias + &quot; cannot light &quot; + object1&#46;alias + &quot;&#46;&quot;)<br/>        }<br/>      }<br/>      else {<br/>        msg (&quot;You don't have the &quot; + object2&#46;alias + &quot;&#46;&quot;)<br/>      }<br/>    }<br/>  }<br/>}<br/>else {<br/>  msg (&quot;You can't light the &quot; + object1&#46;alias + &quot;&#46;&quot;)<br/>}</code></pre>",
      "PostDate": "2013-12-28T04:08:14+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "27279",
      "UserId": 0,
      "Username": "HegemonKhan",
      "UserAvatar": null,
      "UserGravatar": "a96cf34d8d97c57de38f54ee22b1759b",
      "EditableText": "I'm not that experienced with Commands yet... but *maybe* this might work:\n\n&lt;command name=&quot;blah_lol_too lazy_to_look_at_what_you_called_your_command_lol_err_you_never_did_haha_laughs&quot;&gt;\n-&gt; &lt;pattern&gt;light #object1# ; light #object1# with #object2#&lt;/pattern&gt;\n&lt;/command&gt;\n\nyou may need to take out the spaces to left and right of the semi-colon (I just put the spaces in to make it more visible~notice'able for you in that you're using the semicolon for having two patterns ~ but we'll see if this can be done or not, ie if it works or not, lol)\n\n(and of course you'd need to code~script for or to match with having these two different pattern inputs, if this works, lol)\n\n------------------\n\nsome resources:\n\n<!-- m --><a class=\"postlink\" href=\"http://quest5.net/wiki/Command_element\">http://quest5.net/wiki/Command_element</a><!-- m -->\n\nthe wiki's &quot;tutorial&quot;, the &quot;guides&quot; (the &quot;how to&quot; main wiki page's section~link), and...\n\nalso, try looking at some of the libraries with how they use commands too, as maybe they could be relevant to what you want to do or helps in what you want to do.\n\n----------------\n\nalso you may be interested in Shadowpile's &quot;Brass Lantern&quot; Library:\n\n<!-- l --><a class=\"postlink-local\" href=\"http://forum.textadventures.co.uk/viewtopic.php?f=18&amp;t=3743\">viewtopic.php?f=18&amp;t=3743</a><!-- l -->\n\nand there's Sora's Stackable Library as well:\n\n<!-- l --><a class=\"postlink-local\" href=\"http://forum.textadventures.co.uk/viewtopic.php?f=18&amp;t=3515\">viewtopic.php?f=18&amp;t=3515</a><!-- l -->\n\nenjoy <!-- s:D --><img src=\"{SMILIES_PATH}/icon_biggrin.gif\" alt=\":D\" title=\"Very Happy\" /><!-- s:D -->",
      "EditableFormat": "bbcode",
      "HTML": "I'm not that experienced with Commands yet... but *maybe* this might work:<br/><br/>&lt;command name=&quot;blah_lol_too lazy_to_look_at_what_you_called_your_command_lol_err_you_never_did_haha_laughs&quot;&gt;<br/>-&gt; &lt;pattern&gt;light #object1# ; light #object1# with #object2#&lt;/pattern&gt;<br/>&lt;/command&gt;<br/><br/>you may need to take out the spaces to left and right of the semi-colon (I just put the spaces in to make it more visible~notice'able for you in that you're using the semicolon for having two patterns ~ but we'll see if this can be done or not, ie if it works or not, lol)<br/><br/>(and of course you'd need to code~script for or to match with having these two different pattern inputs, if this works, lol)<br/><br/>------------------<br/><br/>some resources:<br/><br/><!-- m --><a class=\"postlink\" href=\"http://quest5.net/wiki/Command_element\">http://quest5.net/wiki/Command_element</a><!-- m --><br/><br/>the wiki's &quot;tutorial&quot;, the &quot;guides&quot; (the &quot;how to&quot; main wiki page's section~link), and...<br/><br/>also, try looking at some of the libraries with how they use commands too, as maybe they could be relevant to what you want to do or helps in what you want to do.<br/><br/>----------------<br/><br/>also you may be interested in Shadowpile's &quot;Brass Lantern&quot; Library:<br/><br/><!-- l --><a class=\"postlink-local\" href=\"http://forum.textadventures.co.uk/viewtopic.php?f=18&amp;t=3743\">viewtopic.php?f=18&amp;t=3743</a><!-- l --><br/><br/>and there's Sora's Stackable Library as well:<br/><br/><!-- l --><a class=\"postlink-local\" href=\"http://forum.textadventures.co.uk/viewtopic.php?f=18&amp;t=3515\">viewtopic.php?f=18&amp;t=3515</a><!-- l --><br/><br/>enjoy <!-- s:D --><img src=\"{SMILIES_PATH}/icon_biggrin.gif\" alt=\":D\" title=\"Very Happy\" /><!-- s:D -->",
      "PostDate": "2013-12-28T05:19:19+00:00",
      "LastEditDate": null
    }
  ]
}
