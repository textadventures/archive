{
  "Topic": {
    "TopicId": "ogjsd4x6kkmhkfy9hsj-cq",
    "ForumId": "10",
    "Title": "Restart Game (Keeping Achievements)",
    "LastUpdated": "2021-07-31T20:24:48.7468326Z",
    "ReplyCount": 0
  },
  "Posts": [
    {
      "PostId": "71b99c66-50ed-43d1-9f16-4e4c34db7c36",
      "UserId": 554933,
      "Username": "ApoDog",
      "AvatarUrl": "https://secure.gravatar.com/avatar/370245cba226d72581bff13ae1551440?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Hi guys, I'm trying to code a 'restart game' feature that keeps certain aspects of your game. \r\n\r\nI'm making a game where the player is intended to die (lots) and I'd love to keep a log of how many times they've died/what ways they've died, if it's possible. So they could look at a list of like, \"died by rats,\" \"died by sword,\" etc. instead of having to restart the game completely every time they die. It's just frustrating and game breaking when I know they're gunna die a LOT.\r\n\r\nI can find a bunch of forum posts saying \"you could just code that\" but I'm not great with code! Anyone have any examples of how to do this? Or even how to throw them back to the first room with everything reset?\r\n\r\nApo",
      "EditableFormat": "markdown",
      "HTML": "<p>Hi guys, I'm trying to code a 'restart game' feature that keeps certain aspects of your game.</p>\n<p>I'm making a game where the player is intended to die (lots) and I'd love to keep a log of how many times they've died/what ways they've died, if it's possible. So they could look at a list of like, \"died by rats,\" \"died by sword,\" etc. instead of having to restart the game completely every time they die. It's just frustrating and game breaking when I know they're gunna die a LOT.</p>\n<p>I can find a bunch of forum posts saying \"you could just code that\" but I'm not great with code! Anyone have any examples of how to do this? Or even how to throw them back to the first room with everything reset?</p>\n<p>Apo</p>\n\n",
      "PostDate": "2021-07-31T20:24:48.7468326Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "a12203cb-9b77-469b-9e9d-09ef18edaa41",
      "UserId": 267336,
      "Username": "jmnevil54",
      "AvatarUrl": "https://secure.gravatar.com/avatar/5d73d7ec1dbe20a5cb46f02a6d53f187?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "I'd recommend doing a Gamebook. The problem with doing that with normal text adventures is that you have all these objects to keep track of while with a Gamebook you have only a few objects to take care of.\r\n\r\nI'd simply make booleans that keep track of the advancements the player made. Then, I'd move the player back to the first room with ```MoveObject (player, room)``` and then check to make sure if there are any other attributes or booleans that need to be reset.\r\n\r\nGood luck with your game!",
      "EditableFormat": "markdown",
      "HTML": "<p>I'd recommend doing a Gamebook. The problem with doing that with normal text adventures is that you have all these objects to keep track of while with a Gamebook you have only a few objects to take care of.</p>\n<p>I'd simply make booleans that keep track of the advancements the player made. Then, I'd move the player back to the first room with <code>MoveObject (player, room)</code> and then check to make sure if there are any other attributes or booleans that need to be reset.</p>\n<p>Good luck with your game!</p>\n\n",
      "PostDate": "2021-07-31T21:34:23.5143049Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "93c255fb-8798-4932-8fcf-16a3bd7e5777",
      "UserId": 554933,
      "Username": "ApoDog",
      "AvatarUrl": "https://secure.gravatar.com/avatar/370245cba226d72581bff13ae1551440?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Unfortunately because I have all these objects to keep track of in the game, I can't have it be a game book... It's sort of a classic 'King's Quest' adventure game. Thanks for the tip, though!",
      "EditableFormat": "markdown",
      "HTML": "<p>Unfortunately because I have all these objects to keep track of in the game, I can't have it be a game book... It's sort of a classic 'King's Quest' adventure game. Thanks for the tip, though!</p>\n\n",
      "PostDate": "2021-07-31T21:50:56.972298Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "f2eb44d4-9653-434d-ac9c-4740ba0341ee",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "This isn't such an easy thing to do.\r\nThere are two ways I can think of to achieve it:\r\n\r\n1. Create a 'template' world containing all your objects/locations, but instead of starting the game normally you clone the whole thing and send the player into a clone. When the player dies, you move them to a new clone and either destroy or archive the old one. (this basically means that you won't be able to refer to objects by name, but that's not such a big deal)\r\n\r\n2. When restarting, backup the achievements into a LocalStorage. This is probably the cleaner method, but for some reason LocalStorage is broken on the desktop version of the Quest player, so I'm not sure how well this would work. (also not sure how restarting works on desktop)",
      "EditableFormat": "markdown",
      "HTML": "<p>This isn't such an easy thing to do.<br>\nThere are two ways I can think of to achieve it:</p>\n<ol>\n<li>\n<p>Create a 'template' world containing all your objects/locations, but instead of starting the game normally you clone the whole thing and send the player into a clone. When the player dies, you move them to a new clone and either destroy or archive the old one. (this basically means that you won't be able to refer to objects by name, but that's not such a big deal)</p>\n</li>\n<li>\n<p>When restarting, backup the achievements into a LocalStorage. This is probably the cleaner method, but for some reason LocalStorage is broken on the desktop version of the Quest player, so I'm not sure how well this would work. (also not sure how restarting works on desktop)</p>\n</li>\n</ol>\n\n",
      "PostDate": "2021-08-01T09:44:35.0834005Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "0312fa00-9658-4160-b575-d630aba31059",
      "UserId": 199273,
      "Username": "DavyB",
      "AvatarUrl": "http://i.imgur.com/8BcaZCyb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Is this really what you want Apo? In a game where death is frequent, players usually create checkpoints by saving the state of the game as they go along. Forcing them back to the start after death may not go down well.\r\n\r\nPerhaps it would be better to give the player a checkpoint facility and return to the last checkpoint after death? A repeated use of UNDO feels like a possible way to return to the checkpoint but I don't know how to do that 'silently' to avoid the player seeing all of the intermediate steps. Any thoughts mrangel?",
      "EditableFormat": "markdown",
      "HTML": "<p>Is this really what you want Apo? In a game where death is frequent, players usually create checkpoints by saving the state of the game as they go along. Forcing them back to the start after death may not go down well.</p>\n<p>Perhaps it would be better to give the player a checkpoint facility and return to the last checkpoint after death? A repeated use of UNDO feels like a possible way to return to the checkpoint but I don't know how to do that 'silently' to avoid the player seeing all of the intermediate steps. Any thoughts mrangel?</p>\n\n",
      "PostDate": "2021-08-01T16:00:47.8690147Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "b44bc75a-d398-4bf9-a221-c3b82b28f853",
      "UserId": 554933,
      "Username": "ApoDog",
      "AvatarUrl": "https://i.imgur.com/TmCcFnlb.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Hmmm. Thank you. A checkpoint system might work. The game is sort of based around <a href = \"https://the-toast.net/2015/06/11/things-women-in-literature-have-died-from/\">  these lists </a> of stupid ways women in literature have died or <a href=\"https://dangerousminds.net/content/uploads/images/made/content/uploads/images/inasnejgjgjgjjgjhg_465_679_int.jpg\"> old timey ladies </a>  have been committed to asylum. \r\n\r\nSo really what I need is a frequent way to run some sort of 'you died, here's an achievement for how you died, go back to X place with no items and all the variables back to original position.' I just thought it would be fun if they could keep track of how many times they died. They don't have to be thrown back to the very start of the game, necessarily, but the world is only about ten rooms, and once you figure out how to get through it without dying only takes like fifteen minutes to run...\r\n\r\nI'm open to other suggestions if you think there's a better design answer in here somewhere!",
      "EditableFormat": "markdown",
      "HTML": "<p>Hmmm. Thank you. A checkpoint system might work. The game is sort of based around <a href=\"https://the-toast.net/2015/06/11/things-women-in-literature-have-died-from/\">  these lists </a> of stupid ways women in literature have died or <a href=\"https://dangerousminds.net/content/uploads/images/made/content/uploads/images/inasnejgjgjgjjgjhg_465_679_int.jpg\"> old timey ladies </a>  have been committed to asylum.</p>\n<p>So really what I need is a frequent way to run some sort of 'you died, here's an achievement for how you died, go back to X place with no items and all the variables back to original position.' I just thought it would be fun if they could keep track of how many times they died. They don't have to be thrown back to the very start of the game, necessarily, but the world is only about ten rooms, and once you figure out how to get through it without dying only takes like fifteen minutes to run...</p>\n<p>I'm open to other suggestions if you think there's a better design answer in here somewhere!</p>\n\n",
      "PostDate": "2021-08-01T16:21:55.0010869Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "7897c6b8-4054-4032-b11d-238f54d1c96d",
      "UserId": 554933,
      "Username": "ApoDog",
      "AvatarUrl": "https://i.imgur.com/TmCcFnlb.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "I made a stupid and janky solution that I think works. I made a 'GAME OVER' room that just moves all the objects back where I had them, resets values, and offers players a chance to 'continue.' Achievements are a simple print list. It does mean that you can't ever use 'first enter' or count the number of times someone has done something on one run-through rather than the full game, but otherwise it works fine. \r\n\r\nThanks everyone!",
      "EditableFormat": "markdown",
      "HTML": "<p>I made a stupid and janky solution that I think works. I made a 'GAME OVER' room that just moves all the objects back where I had them, resets values, and offers players a chance to 'continue.' Achievements are a simple print list. It does mean that you can't ever use 'first enter' or count the number of times someone has done something on one run-through rather than the full game, but otherwise it works fine.</p>\n<p>Thanks everyone!</p>\n\n",
      "PostDate": "2021-08-01T16:54:16.5409978Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "345b81e1-b5e5-42c3-9b9f-ffbc56698cb5",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "> A repeated use of UNDO feels like a possible way to return to the checkpoint but I don't know how to do that 'silently' to avoid the player seeing all of the intermediate steps.\r\n\r\nThat seems like it would be a neat way to do it. Though I'm not sure how transactions work; I think undo might not work over an actual game save.\r\nDoes 'undo' generate output? I can't remember, it's a long time since I played with it. But IIRC calling `undo` in a script resets everything except the script's local variables, so you could copy the achievements into a local variable to make them survive the undo.",
      "EditableFormat": "markdown",
      "HTML": "<blockquote>\n<p>A repeated use of UNDO feels like a possible way to return to the checkpoint but I don't know how to do that 'silently' to avoid the player seeing all of the intermediate steps.</p>\n</blockquote>\n<p>That seems like it would be a neat way to do it. Though I'm not sure how transactions work; I think undo might not work over an actual game save.<br>\nDoes 'undo' generate output? I can't remember, it's a long time since I played with it. But IIRC calling <code>undo</code> in a script resets everything except the script's local variables, so you could copy the achievements into a local variable to make them survive the undo.</p>\n\n",
      "PostDate": "2021-08-02T17:02:05.0268741Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "b67e7fba-432d-40e3-8571-7ca34a8a91ed",
      "UserId": 199273,
      "Username": "DavyB",
      "AvatarUrl": "http://i.imgur.com/8BcaZCyb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Decided to create a demo game to try out the ideas discussed. It seems to work fine, even showing the undo steps.\r\nhttps://textadventures.co.uk/games/view/gensoqqd4kev3lpqwrh4xa/demo-checkpoint-undo",
      "EditableFormat": "markdown",
      "HTML": "<p>Decided to create a demo game to try out the ideas discussed. It seems to work fine, even showing the undo steps.<br>\nhttps://textadventures.co.uk/games/view/gensoqqd4kev3lpqwrh4xa/demo-checkpoint-undo</p>\n\n",
      "PostDate": "2021-08-05T16:00:22.9960471Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "13198540-7ac4-461f-8aa2-8faefd032347",
      "UserId": 199273,
      "Username": "DavyB",
      "AvatarUrl": "http://i.imgur.com/8BcaZCyb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "I have now put the checkpoint facility into a full game.\r\nhttps://textadventures.co.uk/games/view/dsi4artkceuko4rslaxzlq/woo-rebooted\r\nIt is the only one I'm involved in that has sudden deaths. Indeed, by default, the player is protected so to test out the checkpoint facility type PROTECT to reverse the protection flag. After that, a death can be found SOUTH, WEST, WEST, SOUTH and SOUTH (flying killer chickens!). Set a checkpoint at any time before the final SOUTH by using CHECK. Without a checkpoint, the game finishes with a little terminal music from Eric Matyas...thanks Eric!",
      "EditableFormat": "markdown",
      "HTML": "<p>I have now put the checkpoint facility into a full game.<br>\nhttps://textadventures.co.uk/games/view/dsi4artkceuko4rslaxzlq/woo-rebooted<br>\nIt is the only one I'm involved in that has sudden deaths. Indeed, by default, the player is protected so to test out the checkpoint facility type PROTECT to reverse the protection flag. After that, a death can be found SOUTH, WEST, WEST, SOUTH and SOUTH (flying killer chickens!). Set a checkpoint at any time before the final SOUTH by using CHECK. Without a checkpoint, the game finishes with a little terminal music from Eric Matyas...thanks Eric!</p>\n\n",
      "PostDate": "2021-09-07T08:57:29.7732382Z",
      "LastEditDate": null,
      "link": null
    }
  ]
}
