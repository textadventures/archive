{
  "Topic": {
    "TopicId": "ha0c3aqhceuuairii4gg4a",
    "ForumId": "10",
    "Title": "Notetaking Command in Quest",
    "LastUpdated": "2019-04-24T08:01:06.474285Z",
    "ReplyCount": 0
  },
  "Posts": [
    {
      "PostId": "e7db5797-5f25-461c-9d39-49ddca825ae2",
      "UserId": 413562,
      "Username": "SmartFries",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Sorry, new to the program.\r\nI'm after to make a command that allows the player to make a note. Currently, I've set it up to make a new object, with the name of \"note\" + whatever you type. However it seems to be hidden or something? I see it in the debugger but not elsewhere & the \"AddToInventory\", or many other things can't find it\r\nThis is currently what I have setup:\r\n```\r\n<command>\r\n    <pattern>note #text#</pattern>\r\n    <script>\r\n      create (\"\\\"note\\\" + text\")\r\n      AddToInventory (\"note\" + text)\r\n    </script>\r\n    <scope>\"inventory\"</scope>\r\n  </command>\r\n```\r\nAnyone know how to fix this? Or anything else I can try?\r\nThanks in advance",
      "EditableFormat": "markdown",
      "HTML": "<p>Sorry, new to the program.<br>\nI'm after to make a command that allows the player to make a note. Currently, I've set it up to make a new object, with the name of \"note\" + whatever you type. However it seems to be hidden or something? I see it in the debugger but not elsewhere &amp; the \"AddToInventory\", or many other things can't find it<br>\nThis is currently what I have setup:</p>\n<pre><code>&lt;command&gt;\n    &lt;pattern&gt;note #text#&lt;/pattern&gt;\n    &lt;script&gt;\n      create (\"\\\"note\\\" + text\")\n      AddToInventory (\"note\" + text)\n    &lt;/script&gt;\n    &lt;scope&gt;\"inventory\"&lt;/scope&gt;\n  &lt;/command&gt;\n</code></pre>\n<p>Anyone know how to fix this? Or anything else I can try?<br>\nThanks in advance</p>\n\n",
      "PostDate": "2019-04-24T08:01:06.474285Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "5a4478eb-332e-4b9a-9f58-cbb132b4c860",
      "UserId": 277074,
      "Username": "Dcoder",
      "AvatarUrl": "https://i.imgur.com/XIlYPQ9b.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Hmm, too bad the LOG command still doesn't work.",
      "EditableFormat": "markdown",
      "HTML": "<p>Hmm, too bad the LOG command still doesn't work.</p>\n\n",
      "PostDate": "2019-04-24T08:50:03.1211882Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "729c4dbe-e4a8-4ed6-9284-84df29490985",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "First issue: `AddToInventory (\"note\" + text)` - the parameter to AddToInventory needs to be an object, not the name of an object.\r\n\r\nSecond, that makes an object whose name is whatever the player typed. This means that notes can only contain characters that are legal in an object name, and have to be unique. This seems kind of odd.\r\n\r\nI think you more likely want something like:\r\n```\r\n<command>\r\n  <pattern>note #text#</pattern>\r\n  <script>\r\n    name = GetUniqueElementName(\"note\")\r\n    create (name)\r\n    mynote = GetObject (name)\r\n    mynote.alias = \"Note: \"+text\r\n    mynote.visible = true\r\n    AddToInventory (mynote)\r\n  </script>\r\n</command>\r\n```",
      "EditableFormat": "markdown",
      "HTML": "<p>First issue: <code>AddToInventory (\"note\" + text)</code> - the parameter to AddToInventory needs to be an object, not the name of an object.</p>\n<p>Second, that makes an object whose name is whatever the player typed. This means that notes can only contain characters that are legal in an object name, and have to be unique. This seems kind of odd.</p>\n<p>I think you more likely want something like:</p>\n<pre><code>&lt;command&gt;\n  &lt;pattern&gt;note #text#&lt;/pattern&gt;\n  &lt;script&gt;\n    name = GetUniqueElementName(\"note\")\n    create (name)\n    mynote = GetObject (name)\n    mynote.alias = \"Note: \"+text\n    mynote.visible = true\n    AddToInventory (mynote)\n  &lt;/script&gt;\n&lt;/command&gt;\n</code></pre>\n\n",
      "PostDate": "2019-04-24T09:06:38.9334136Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "a1d9941d-ae4e-423f-9608-4d64457701e9",
      "UserId": 1346,
      "Username": "The Pixie",
      "AvatarUrl": "https://secure.gravatar.com/avatar/cfa37e927f96177bcf6053ae8f108f77?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "This tutorial may be helpful:\r\nhttp://docs.textadventures.co.uk/quest/keeping_a_journal.html",
      "EditableFormat": "markdown",
      "HTML": "<p>This tutorial may be helpful:<br>\nhttp://docs.textadventures.co.uk/quest/keeping_a_journal.html</p>\n\n",
      "PostDate": "2019-04-24T13:28:37.2696011Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "1665052c-2364-47f0-97fe-c6879cd27b14",
      "UserId": 326173,
      "Username": "Curt A. P.",
      "AvatarUrl": "https://secure.gravatar.com/avatar/bc1d5d57408cf4d13f9d9f23c1e3dc56?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "I used this tutorial, too: [http://docs.textadventures.co.uk/quest/keeping_a_journal.html](http://docs.textadventures.co.uk/quest/keeping_a_journal.html)\r\n\r\nThis uses a string list instead of objects.\r\n```\r\ngame.notes = NewStringList()\r\n```\r\nTo add a note (multiple ways possible):\r\n```\r\n  <command>\r\n    <pattern>note #text#</pattern>\r\n    <script><![CDATA[\r\n      list add (game.notes, text)\r\n      msg (\"You wrote: <i>''\" + text + \"''</i>\")\r\n    ]]></script>\r\n  </command>\r\n```\r\nAnd to read them:\r\n```\r\n  <command>\r\n    <pattern>notes; read notes</pattern>\r\n    <script><![CDATA[\r\n      msg (\"Your notes: </br></br>\" + FormatList (game.notes, \"</br></br>\", \"</br></br>\", \"You haven't taken any notes.\") + \"\")\r\n    ]]></script>\r\n  </command>\r\n```\r\n</br>\r\n\r\n---\r\n</br>\r\n\r\n\r\nThat's pretty much like the journal tutorial except I use **FormatList()** instead.  I've changed it a bit up and added a command to remove specific notes. \r\n\r\n```\r\n      game.notes_raw = NewStringList()\r\n      game.note_count = 1\r\n```\r\nThe note writing command get also changed: **game.notes_raw**\r\n```\r\n  <command>\r\n    <pattern>note #text#</pattern>\r\n    <script><![CDATA[\r\n      list add (game.notes_raw, text)\r\n      msg (\"You wrote: <i>''\" + text + \"''</i>\")\r\n    ]]></script>\r\n  </command>\r\n```\r\nThen I added a turn script which will add numbers to each note, formats the text a bit and adding them to the real notes list, which is later used by the 'read notes' command:\r\n```\r\n  <turnscript name=\"TurnNoteCount\">\r\n    <enabled />\r\n    <script><![CDATA[\r\n      note_no = 1\r\n      game.notes = NewStringList()\r\n      foreach (n, game.notes_raw) {\r\n        nt = \"Note \" + ToString (note_no) + \": <i>''\" + n + \"''\"\r\n        note_no = note_no + 1\r\n        list add (game.notes, nt)\r\n      }\r\n    ]]></script>\r\n  </turnscript>\r\n```\r\nThe reading command is unchanged. \r\n```\r\n  <command>\r\n    <pattern>notes; read notes</pattern>\r\n    <script><![CDATA[\r\n      msg (\"Your notes: </br></br>\" + FormatList (game.notes, \"</br></br>\", \"</br></br>\", \"You haven't taken any notes.\") + \"\")\r\n    ]]></script>\r\n  </command>\r\n```\r\nWith the turn script notes are listed like this:\r\n>Your notes:\r\n>\r\n>Note 1:<i>''blablabla''</i>\r\n>\r\n>Note 2:<i>''claclacla''</i>\r\n>\r\n>Note 3:<i>''gragragra''</i>\r\n\r\nThe following command will remove the note you want to and each remaining note in the list still have a correct number without anything missing:\r\n```\r\n  <command>\r\n    <pattern>remove note #text#</pattern>\r\n    <script><![CDATA[\r\n      if (IsInt (text)) {\r\n        msg (\"You removed a note:  <i>\" + StringListItem (game.notes, ToInt (text) - 1) + \"</i>\")\r\n        list remove (game.notes, StringListItem (game.notes, ToInt (text) - 1))\r\n        list remove (game.notes_raw, StringListItem (game.notes_raw, ToInt (text) - 1))\r\n      }\r\n      else {\r\n        msg (\"please type the number of thennote.\")\r\n      }\r\n    ]]></script>\r\n  </command>\r\n```\r\nIf I type <i>\"remove note 2\"</i> and read the notes again it will list like this:\r\n>Your notes:\r\n>\r\n>Note 1:<i>''blablabla''</i>\r\n>\r\n>Note 2:<i>''gragragra''</i>\r\n",
      "EditableFormat": "markdown",
      "HTML": "<p>I used this tutorial, too: <a href=\"http://docs.textadventures.co.uk/quest/keeping_a_journal.html\">http://docs.textadventures.co.uk/quest/keeping_a_journal.html</a></p>\n<p>This uses a string list instead of objects.</p>\n<pre><code>game.notes = NewStringList()\n</code></pre>\n<p>To add a note (multiple ways possible):</p>\n<pre><code>  &lt;command&gt;\n    &lt;pattern&gt;note #text#&lt;/pattern&gt;\n    &lt;script&gt;&lt;![CDATA[\n      list add (game.notes, text)\n      msg (\"You wrote: &lt;i&gt;''\" + text + \"''&lt;/i&gt;\")\n    ]]&gt;&lt;/script&gt;\n  &lt;/command&gt;\n</code></pre>\n<p>And to read them:</p>\n<pre><code>  &lt;command&gt;\n    &lt;pattern&gt;notes; read notes&lt;/pattern&gt;\n    &lt;script&gt;&lt;![CDATA[\n      msg (\"Your notes: &lt;/br&gt;&lt;/br&gt;\" + FormatList (game.notes, \"&lt;/br&gt;&lt;/br&gt;\", \"&lt;/br&gt;&lt;/br&gt;\", \"You haven't taken any notes.\") + \"\")\n    ]]&gt;&lt;/script&gt;\n  &lt;/command&gt;\n</code></pre>\n<br>\n<hr>\n<br>\n<p>That's pretty much like the journal tutorial except I use <strong>FormatList()</strong> instead.  I've changed it a bit up and added a command to remove specific notes.</p>\n<pre><code>      game.notes_raw = NewStringList()\n      game.note_count = 1\n</code></pre>\n<p>The note writing command get also changed: <strong>game.notes_raw</strong></p>\n<pre><code>  &lt;command&gt;\n    &lt;pattern&gt;note #text#&lt;/pattern&gt;\n    &lt;script&gt;&lt;![CDATA[\n      list add (game.notes_raw, text)\n      msg (\"You wrote: &lt;i&gt;''\" + text + \"''&lt;/i&gt;\")\n    ]]&gt;&lt;/script&gt;\n  &lt;/command&gt;\n</code></pre>\n<p>Then I added a turn script which will add numbers to each note, formats the text a bit and adding them to the real notes list, which is later used by the 'read notes' command:</p>\n<pre><code>  &lt;turnscript name=\"TurnNoteCount\"&gt;\n    &lt;enabled /&gt;\n    &lt;script&gt;&lt;![CDATA[\n      note_no = 1\n      game.notes = NewStringList()\n      foreach (n, game.notes_raw) {\n        nt = \"Note \" + ToString (note_no) + \": &lt;i&gt;''\" + n + \"''\"\n        note_no = note_no + 1\n        list add (game.notes, nt)\n      }\n    ]]&gt;&lt;/script&gt;\n  &lt;/turnscript&gt;\n</code></pre>\n<p>The reading command is unchanged.</p>\n<pre><code>  &lt;command&gt;\n    &lt;pattern&gt;notes; read notes&lt;/pattern&gt;\n    &lt;script&gt;&lt;![CDATA[\n      msg (\"Your notes: &lt;/br&gt;&lt;/br&gt;\" + FormatList (game.notes, \"&lt;/br&gt;&lt;/br&gt;\", \"&lt;/br&gt;&lt;/br&gt;\", \"You haven't taken any notes.\") + \"\")\n    ]]&gt;&lt;/script&gt;\n  &lt;/command&gt;\n</code></pre>\n<p>With the turn script notes are listed like this:</p>\n<blockquote>\n<p>Your notes:</p>\n<p>Note 1:<i>''blablabla''</i></p>\n<p>Note 2:<i>''claclacla''</i></p>\n<p>Note 3:<i>''gragragra''</i></p>\n</blockquote>\n<p>The following command will remove the note you want to and each remaining note in the list still have a correct number without anything missing:</p>\n<pre><code>  &lt;command&gt;\n    &lt;pattern&gt;remove note #text#&lt;/pattern&gt;\n    &lt;script&gt;&lt;![CDATA[\n      if (IsInt (text)) {\n        msg (\"You removed a note:  &lt;i&gt;\" + StringListItem (game.notes, ToInt (text) - 1) + \"&lt;/i&gt;\")\n        list remove (game.notes, StringListItem (game.notes, ToInt (text) - 1))\n        list remove (game.notes_raw, StringListItem (game.notes_raw, ToInt (text) - 1))\n      }\n      else {\n        msg (\"please type the number of thennote.\")\n      }\n    ]]&gt;&lt;/script&gt;\n  &lt;/command&gt;\n</code></pre>\n<p>If I type <i>\"remove note 2\"</i> and read the notes again it will list like this:</p>\n<blockquote>\n<p>Your notes:</p>\n<p>Note 1:<i>''blablabla''</i></p>\n<p>Note 2:<i>''gragragra''</i></p>\n</blockquote>\n\n",
      "PostDate": "2019-04-25T05:12:14.3324467Z",
      "LastEditDate": "2019-04-25T05:18:46.2363905Z",
      "link": null
    },
    {
      "PostId": "bf29d72c-bf33-4954-813c-21b523eb107b",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "I assumed the OP specifically wanted to create note objects, so they could be left in different places.",
      "EditableFormat": "markdown",
      "HTML": "<p>I assumed the OP specifically wanted to create note objects, so they could be left in different places.</p>\n\n",
      "PostDate": "2019-04-25T07:48:31.9011949Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "8be890e6-3fc9-484a-ab88-9ea4c38253f2",
      "UserId": 326173,
      "Username": "Curt A. P.",
      "AvatarUrl": "https://secure.gravatar.com/avatar/bc1d5d57408cf4d13f9d9f23c1e3dc56?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "I assume that too and I kinda like the idea. Though it would clutter my game, I think. But I think of the Idea to combine these two by adding the option to remove a note from the notebook in order to place it somewhere else. Notes as objects just opens up more opportunities for puzzles in a game. Like, pulling/creating a note object from my string lists. ",
      "EditableFormat": "markdown",
      "HTML": "<p>I assume that too and I kinda like the idea. Though it would clutter my game, I think. But I think of the Idea to combine these two by adding the option to remove a note from the notebook in order to place it somewhere else. Notes as objects just opens up more opportunities for puzzles in a game. Like, pulling/creating a note object from my string lists.</p>\n\n",
      "PostDate": "2019-04-25T14:18:59.867646Z",
      "LastEditDate": "2019-04-25T14:20:21.7288161Z",
      "link": null
    },
    {
      "PostId": "aaff9335-87ea-4685-9db1-aa26dc07f3c8",
      "UserId": 326173,
      "Username": "Curt A. P.",
      "AvatarUrl": "https://secure.gravatar.com/avatar/bc1d5d57408cf4d13f9d9f23c1e3dc56?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "I didn't find a good verb/command to pull the notes. This just works with the notes list from above. Just type,<i>''copy note x''</i> to get the note as object. I limited the alias to the first 40 characters of the copied note and the complete note (should it ever be that long) is in the note's **look** attribute. \r\n\r\n```\r\n<command>\r\n  <pattern>copy note #text#</pattern>\r\n  <script><![CDATA[\r\n    if (IsInt (text)) {\r\n      msg (\"You made a copy of a note:  <i>\" + StringListItem (game.notes, ToInt (text) - 1) + \"</i>\")\r\n      name = GetUniqueElementName (\"note\")\r\n      create (\"note\")\r\n      mynote = GetObject (name)\r\n      mynote.alias = Left (StringListItem (game.notes, ToInt (text) - 1), 40)\r\n      mynote.look = StringListItem (game.notes, ToInt (text) - 1)\r\n      AddToInventory (mynote)\r\n    }\r\n    else {\r\n      msg (\"please type the number of a note.\")\r\n    }\r\n  ]]></script>\r\n</command>",
      "EditableFormat": "markdown",
      "HTML": "<p>I didn't find a good verb/command to pull the notes. This just works with the notes list from above. Just type,<i>''copy note x''</i> to get the note as object. I limited the alias to the first 40 characters of the copied note and the complete note (should it ever be that long) is in the note's <strong>look</strong> attribute.</p>\n<pre><code>&lt;command&gt;\n  &lt;pattern&gt;copy note #text#&lt;/pattern&gt;\n  &lt;script&gt;&lt;![CDATA[\n    if (IsInt (text)) {\n      msg (\"You made a copy of a note:  &lt;i&gt;\" + StringListItem (game.notes, ToInt (text) - 1) + \"&lt;/i&gt;\")\n      name = GetUniqueElementName (\"note\")\n      create (\"note\")\n      mynote = GetObject (name)\n      mynote.alias = Left (StringListItem (game.notes, ToInt (text) - 1), 40)\n      mynote.look = StringListItem (game.notes, ToInt (text) - 1)\n      AddToInventory (mynote)\n    }\n    else {\n      msg (\"please type the number of a note.\")\n    }\n  ]]&gt;&lt;/script&gt;\n&lt;/command&gt;\n</code></pre>\n\n",
      "PostDate": "2019-04-26T04:48:12.6156789Z",
      "LastEditDate": null,
      "link": null
    }
  ]
}
