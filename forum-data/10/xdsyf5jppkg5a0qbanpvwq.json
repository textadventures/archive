{
  "Topic": {
    "TopicId": "xdsyf5jppkg5a0qbanpvwq",
    "ForumId": "10",
    "Title": "I need help. ",
    "LastUpdated": "2018-03-19T03:53:35.0665243Z",
    "ReplyCount": 0
  },
  "Posts": [
    {
      "PostId": "ff9674e7-ffaa-4270-ada3-020d3679a20c",
      "UserId": 283362,
      "Username": "billypaulhaley",
      "AvatarUrl": "https://secure.gravatar.com/avatar/fd156cc3611a1989414352f90185e7bd?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "For some reason, quest doesnt realize that I set \"bow\" as a variable.  \r\n\r\nCode:\r\n\r\nif (bow > money) {\r\n  msg (\"You can't afford that!\")\r\n}\r\nelse if ((bow < money)) {\r\n  msg (\"You now have a bow!\")\r\n  DecreaseMoney (9)\r\n  money = 1\r\n}\r\nbow = 10\r\n\r\nAnd it gives me this message:  Unknown object or variable  'bow'",
      "EditableFormat": "markdown",
      "HTML": "<p>For some reason, quest doesnt realize that I set \"bow\" as a variable.</p>\n<p>Code:</p>\n<p>if (bow &gt; money) {<br>\nmsg (\"You can't afford that!\")<br>\n}<br>\nelse if ((bow &lt; money)) {<br>\nmsg (\"You now have a bow!\")<br>\nDecreaseMoney (9)<br>\nmoney = 1<br>\n}<br>\nbow = 10</p>\n<p>And it gives me this message:  Unknown object or variable  'bow'</p>\n\n",
      "PostDate": "2018-03-19T03:53:35.0665243Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "6c2f0f77-a623-4c84-a328-8866c7b74758",
      "UserId": 248029,
      "Username": "Anonynn",
      "AvatarUrl": "https://i.imgur.com/1xu84dwb.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "I assume you're trying to do some kind of shop? If so...I would set it up like...\r\n```\r\nmsg (\"What would you like to do?\")\r\nmenulist = Split(\"Buy;Sell\", \";\")\r\nShowMenu (\"\", menulist, true) {\r\n  if (result = \"Buy\") {\r\nmsg (\"What would you like to buy?\") \r\nmenulist = Split(\"Bow;Poopstick\", \";\")\r\nShowMenu (\"\", menulist, true) {\r\nif (result=\"Bow\") {\r\n if (player.money>=10) {\r\n msg (\"Deal!\")\r\n }\r\n else if (player.money<=9) {\r\n msg (\"No wai! You don't have enough!\")\r\n }\r\n}\r\nelse if (result=Poopstick) {\r\nmsg (\"No wai!\")\r\n}\r\n  }\r\n else if (result = \"Sell\") {\r\n  msg (\"They begone peasant!\")\r\n  }\r\n}\r\n```\r\nSee from the looks of your menu you are see if your bow is greater than your money. But I don't see any number variables to measure if it's greater or not. Maybe I'm not grasping what you're doing but just a thought!\r\n\r\nAnonynn. ",
      "EditableFormat": "markdown",
      "HTML": "<p>I assume you're trying to do some kind of shop? If so...I would set it up like...</p>\n<pre><code>msg (\"What would you like to do?\")\nmenulist = Split(\"Buy;Sell\", \";\")\nShowMenu (\"\", menulist, true) {\n  if (result = \"Buy\") {\nmsg (\"What would you like to buy?\") \nmenulist = Split(\"Bow;Poopstick\", \";\")\nShowMenu (\"\", menulist, true) {\nif (result=\"Bow\") {\n if (player.money&gt;=10) {\n msg (\"Deal!\")\n }\n else if (player.money&lt;=9) {\n msg (\"No wai! You don't have enough!\")\n }\n}\nelse if (result=Poopstick) {\nmsg (\"No wai!\")\n}\n  }\n else if (result = \"Sell\") {\n  msg (\"They begone peasant!\")\n  }\n}\n</code></pre>\n<p>See from the looks of your menu you are see if your bow is greater than your money. But I don't see any number variables to measure if it's greater or not. Maybe I'm not grasping what you're doing but just a thought!</p>\n<p>Anonynn.</p>\n\n",
      "PostDate": "2018-03-19T05:19:29.7055385Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "601f9a72-f77f-4b04-8892-3da7f4d58184",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "There are many different ways to set up shop systems. I won't get into that now, but looking at your code I'm wondering about the line `bow = 10` at the end. Are you intending to change the value of `bow` afterwards, regardless of whether they could afford the old price or not?\r\n\r\nVariables are local. Once you create them, they exist until the end of *that script*. So if you've previously set this variable in a different script, it won't exist any more. If you're intending the line `bow = 10` to set the price, then you need to put it before the if statement that uses that variable.",
      "EditableFormat": "markdown",
      "HTML": "<p>There are many different ways to set up shop systems. I won't get into that now, but looking at your code I'm wondering about the line <code>bow = 10</code> at the end. Are you intending to change the value of <code>bow</code> afterwards, regardless of whether they could afford the old price or not?</p>\n<p>Variables are local. Once you create them, they exist until the end of <em>that script</em>. So if you've previously set this variable in a different script, it won't exist any more. If you're intending the line <code>bow = 10</code> to set the price, then you need to put it before the if statement that uses that variable.</p>\n\n",
      "PostDate": "2018-03-19T10:58:42.6098734Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "5821fa02-c7a1-4b16-adb2-957899207ea2",
      "UserId": 283362,
      "Username": "billypaulhaley",
      "AvatarUrl": "https://secure.gravatar.com/avatar/fd156cc3611a1989414352f90185e7bd?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Your code doesnt work, im getting errors over here",
      "EditableFormat": "markdown",
      "HTML": "<p>Your code doesnt work, im getting errors over here</p>\n\n",
      "PostDate": "2018-03-19T15:31:57.7296277Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "b16d8ca2-8ff3-4c84-868f-a307867a7a43",
      "UserId": 283362,
      "Username": "billypaulhaley",
      "AvatarUrl": "https://secure.gravatar.com/avatar/fd156cc3611a1989414352f90185e7bd?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "I fixed it myself by using this instead.\r\n\r\nif (player.money>=5) {\r\n  MoveObject (fruit, player)\r\n  DecreaseMoney (5)\r\n}\r\nelse if (player.money<=5) {\r\n  msg (\"You can't afford that.\")\r\n}",
      "EditableFormat": "markdown",
      "HTML": "<p>I fixed it myself by using this instead.</p>\n<p>if (player.money&gt;=5) {<br>\nMoveObject (fruit, player)<br>\nDecreaseMoney (5)<br>\n}<br>\nelse if (player.money&lt;=5) {<br>\nmsg (\"You can't afford that.\")<br>\n}</p>\n\n",
      "PostDate": "2018-03-19T15:50:04.1445153Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "36e00a3f-282a-4f36-994d-089a31bb79a1",
      "UserId": 248029,
      "Username": "Anonynn",
      "AvatarUrl": "https://i.imgur.com/1xu84dwb.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Oh, yeah. You couldn't directly use my code unless you had your objects listed the same way and the correct variables already in your game x) It was just an example. But if you got it working, excellent! I think it's just easier to do it this way instead of your first way. \r\n\r\nAlso always make sure if you create an object like...\r\n\r\nbow\r\n\r\nthat when you refer to it in your game, for example in your shop, you spell it the same way, always. \r\n\r\nbow\r\nBow\r\nbOw\r\nBoW\r\n\r\n^--- are all different.\r\n\r\nGlad your problem was solved :D\r\n\r\nAnonynn. ",
      "EditableFormat": "markdown",
      "HTML": "<p>Oh, yeah. You couldn't directly use my code unless you had your objects listed the same way and the correct variables already in your game x) It was just an example. But if you got it working, excellent! I think it's just easier to do it this way instead of your first way.</p>\n<p>Also always make sure if you create an object like...</p>\n<p>bow</p>\n<p>that when you refer to it in your game, for example in your shop, you spell it the same way, always.</p>\n<p>bow<br>\nBow<br>\nbOw<br>\nBoW</p>\n<p>^--- are all different.</p>\n<p>Glad your problem was solved :D</p>\n<p>Anonynn.</p>\n\n",
      "PostDate": "2018-03-19T20:44:46.7483441Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "e1e4d3d4-aed4-4ed7-849c-5b9cf9e890ce",
      "UserId": 267336,
      "Username": "jmnevil54",
      "AvatarUrl": "https://secure.gravatar.com/avatar/5d73d7ec1dbe20a5cb46f02a6d53f187?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Every time I saw someone store a variable, it was something like:\r\n\r\n```\r\nplayer.bow1 = 10\r\nbow = player.bow1\r\n```\r\n\r\nLooks ridiculous, but that's how it was done.",
      "EditableFormat": "markdown",
      "HTML": "<p>Every time I saw someone store a variable, it was something like:</p>\n<pre><code>player.bow1 = 10\nbow = player.bow1\n</code></pre>\n<p>Looks ridiculous, but that's how it was done.</p>\n\n",
      "PostDate": "2018-03-19T20:51:54.0567666Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "5742ec07-c22b-4429-ae41-0f1b7eac726d",
      "UserId": 247325,
      "Username": "hegemonkhan",
      "AvatarUrl": "https://secure.gravatar.com/avatar/a96cf34d8d97c57de38f54ee22b1759b?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "see this guide on using Attributes and the 'if' Script:\r\n\r\nhttp://textadventures.co.uk/forum/samples/topic/5559/attributes-and-if-script-guide-by-hk\r\n\r\n-----------\r\n\r\nthe 'name' is the ID for quest, so all names but be unique, so spelling must be exact, as a 'bow' is not the same as a 'Bow', 'money' is not the same as 'Money'\r\n\r\n---------\r\n\r\nalso, you want to be using 'Attribute' VARIABLES, so/as that means:\r\n\r\nNAME_OF_OBJECT.NAME_OF_ATTRIBUTE\r\nor\r\nNAME_OF_OBJECT.NAME_OF_ATTRIBUTE = VALUE_OR_EXPRESSION\r\n\r\n---------\r\n\r\nfor (solely/fully as a scripting) example:\r\n\r\ncreate (\"bow\") // the 'bow' needs to be an Object\r\n\r\nbow.money = 10 // creating/adding/setting a 'money' Integer Attribute on/within/for the 'bow' Object, with an initial Integer Value of '10'\r\n\r\nyou can then use the 'bow.money' Integer Attribute where-ever you want (which is why you use 'Attribute' VARIABLES, as they're global VARIABLES)\r\n\r\nthen all the rest of the coding for 'buying/selling' and etc stuff involved with it for your game: see the example game code below\r\n\r\n----------\r\n\r\nhere's an example game (still haven't tested if quest requires the default 'author, version, and gameid' Attributes for the 'game' Game Settings Object, so aside from these being missing below, it's a full-working game, though it's for an older version of quest, and not for Pixie's most recent version of quest) for you:\r\n\r\n```\r\n<asl version=\"550\">\r\n\r\n  <include ref=\"English.aslx\" />\r\n\r\n  <include ref=\"Core.aslx\" />\r\n\r\n  <game name=\"example_game\">\r\n\r\n    <attr name=\"shop_owner_cash\" type=\"int\">500</attr>\r\n\r\n    <attr name=\"katana_buy_price\" type=\"int\">100</attr>\r\n\r\n    <attr name=\"katana_sell_price\" type=\"int\">50</attr>\r\n\r\n    <statusattributes type=\"stringdictionary\">\r\n\r\n      <item>\r\n\r\n        <key>shop_owner_cash</key>\r\n\r\n        <value>Shop Owner Cash: !</value>\r\n\r\n      </item>\r\n\r\n      <item>\r\n\r\n        <key>katana_buy_price</key>\r\n\r\n        <value>Katana Buy Price: !</value>\r\n\r\n      </item>\r\n\r\n      <item>\r\n\r\n        <key>katana_sell_price</key>\r\n\r\n        <value>Katana Sell Price: !</value>\r\n\r\n      </item>\r\n\r\n    </statusattributes>\r\n\r\n  </game>\r\n\r\n  <object name=\"player\">\r\n\r\n    <inherit name=\"editor_object\" />\r\n    <inherit name=\"editor_player\" />\r\n\r\n    <attr name=\"parent\" type=\"object\">shop</attr>\r\n\r\n    <attr name=\"cash\" type=\"int\">500</attr>\r\n\r\n    <statusattributes type=\"stringdictionary\">\r\n\r\n      <item>\r\n\r\n        <key>cash</key>\r\n\r\n        <value>Player Cash: !</value>\r\n\r\n      </item>\r\n\r\n    </statusattributes>\r\n\r\n  </object>\r\n\r\n  <object name=\"shop_owner\">\r\n\r\n    <inherit name=\"editor_object\" />\r\n\r\n    <attr name=\"parent\" type=\"object\">shop</object>\r\n\r\n    <attr name=\"cash\" type=\"int\">500</attr>\r\n\r\n    <attr name=\"changedcash\" type=\"script\">\r\n\r\n      game.shop_owner_cash = shop_owner.cash\r\n\r\n    </attr>\r\n\r\n  </object>\r\n\r\n  <object name=\"shop\">\r\n\r\n    <inherit name=\"editor_room\" />\r\n\r\n  </object>\r\n\r\n  <object name=\"katana\">\r\n\r\n    <inherit name=\"editor_object\" />\r\n\r\n    <attr name=\"parent\" type=\"object\">shop</object>\r\n\r\n    <attr name=\"price\" type=\"int\">100</attr>\r\n\r\n    <attr name=\"buy\" type=\"script\">\r\n\r\n      <![CDATA[\r\n\r\n        if (katana.parent = shop) {\r\n          if (player.cash >= katana.price) {\r\n            player.cash = player.cash - katana.price\r\n            shop_owner.cash = shop_owner.cash + katana.price\r\n            katana.parent = player\r\n            msg (\"You bought the katana from the shop owner\")\r\n          } else {\r\n            msg (\"You don't have enough cash to buy the katana from the shop owner\")\r\n          }\r\n        } else {\r\n          msg (\"The shop doesn't have a katana for you to buy from the shop owner\")\r\n        }\r\n\r\n      ]]>\r\n\r\n    </attr>\r\n\r\n    <attr name=\"sell\" type=\"script\">\r\n\r\n      <![CDATA[\r\n\r\n        if (katana.parent = player) {\r\n          if (shop_owner.cash >= katana.price / 2) {\r\n            shop_owner.cash = shop_owner.cash - katana.price / 2\r\n            player.cash = player.cash + katana.price / 2\r\n            katana.parent = shop\r\n            msg (\"You sold the katana to the shop owner\")\r\n          } else {\r\n            msg (\"The shop owner don't have enough cash to buy the katana from you\")\r\n          }\r\n        } else {\r\n          msg (\"You don't have a katana for you to sell to the shop owner\")\r\n        }\r\n\r\n      ]]>\r\n\r\n    </attr>\r\n\r\n  </object>\r\n\r\n  <verb>\r\n\r\n    <property>buy</property>\r\n\r\n    <pattern>buy</pattern>\r\n\r\n    <defaultexpression>You can't buy that!</defaultexpression>\r\n\r\n  </verb>\r\n\r\n  <verb>\r\n\r\n    <property>sell</property>\r\n\r\n    <pattern>sell</pattern>\r\n\r\n    <defaultexpression>You can't sell that!</defaultexpression>\r\n\r\n  </verb>\r\n\r\n</asl>\r\n```",
      "EditableFormat": "markdown",
      "HTML": "<p>see this guide on using Attributes and the 'if' Script:</p>\n<p>http://textadventures.co.uk/forum/samples/topic/5559/attributes-and-if-script-guide-by-hk</p>\n<hr>\n<p>the 'name' is the ID for quest, so all names but be unique, so spelling must be exact, as a 'bow' is not the same as a 'Bow', 'money' is not the same as 'Money'</p>\n<hr>\n<p>also, you want to be using 'Attribute' VARIABLES, so/as that means:</p>\n<p>NAME_OF_OBJECT.NAME_OF_ATTRIBUTE<br>\nor<br>\nNAME_OF_OBJECT.NAME_OF_ATTRIBUTE = VALUE_OR_EXPRESSION</p>\n<hr>\n<p>for (solely/fully as a scripting) example:</p>\n<p>create (\"bow\") // the 'bow' needs to be an Object</p>\n<p>bow.money = 10 // creating/adding/setting a 'money' Integer Attribute on/within/for the 'bow' Object, with an initial Integer Value of '10'</p>\n<p>you can then use the 'bow.money' Integer Attribute where-ever you want (which is why you use 'Attribute' VARIABLES, as they're global VARIABLES)</p>\n<p>then all the rest of the coding for 'buying/selling' and etc stuff involved with it for your game: see the example game code below</p>\n<hr>\n<p>here's an example game (still haven't tested if quest requires the default 'author, version, and gameid' Attributes for the 'game' Game Settings Object, so aside from these being missing below, it's a full-working game, though it's for an older version of quest, and not for Pixie's most recent version of quest) for you:</p>\n<pre><code>&lt;asl version=\"550\"&gt;\n\n  &lt;include ref=\"English.aslx\" /&gt;\n\n  &lt;include ref=\"Core.aslx\" /&gt;\n\n  &lt;game name=\"example_game\"&gt;\n\n    &lt;attr name=\"shop_owner_cash\" type=\"int\"&gt;500&lt;/attr&gt;\n\n    &lt;attr name=\"katana_buy_price\" type=\"int\"&gt;100&lt;/attr&gt;\n\n    &lt;attr name=\"katana_sell_price\" type=\"int\"&gt;50&lt;/attr&gt;\n\n    &lt;statusattributes type=\"stringdictionary\"&gt;\n\n      &lt;item&gt;\n\n        &lt;key&gt;shop_owner_cash&lt;/key&gt;\n\n        &lt;value&gt;Shop Owner Cash: !&lt;/value&gt;\n\n      &lt;/item&gt;\n\n      &lt;item&gt;\n\n        &lt;key&gt;katana_buy_price&lt;/key&gt;\n\n        &lt;value&gt;Katana Buy Price: !&lt;/value&gt;\n\n      &lt;/item&gt;\n\n      &lt;item&gt;\n\n        &lt;key&gt;katana_sell_price&lt;/key&gt;\n\n        &lt;value&gt;Katana Sell Price: !&lt;/value&gt;\n\n      &lt;/item&gt;\n\n    &lt;/statusattributes&gt;\n\n  &lt;/game&gt;\n\n  &lt;object name=\"player\"&gt;\n\n    &lt;inherit name=\"editor_object\" /&gt;\n    &lt;inherit name=\"editor_player\" /&gt;\n\n    &lt;attr name=\"parent\" type=\"object\"&gt;shop&lt;/attr&gt;\n\n    &lt;attr name=\"cash\" type=\"int\"&gt;500&lt;/attr&gt;\n\n    &lt;statusattributes type=\"stringdictionary\"&gt;\n\n      &lt;item&gt;\n\n        &lt;key&gt;cash&lt;/key&gt;\n\n        &lt;value&gt;Player Cash: !&lt;/value&gt;\n\n      &lt;/item&gt;\n\n    &lt;/statusattributes&gt;\n\n  &lt;/object&gt;\n\n  &lt;object name=\"shop_owner\"&gt;\n\n    &lt;inherit name=\"editor_object\" /&gt;\n\n    &lt;attr name=\"parent\" type=\"object\"&gt;shop&lt;/object&gt;\n\n    &lt;attr name=\"cash\" type=\"int\"&gt;500&lt;/attr&gt;\n\n    &lt;attr name=\"changedcash\" type=\"script\"&gt;\n\n      game.shop_owner_cash = shop_owner.cash\n\n    &lt;/attr&gt;\n\n  &lt;/object&gt;\n\n  &lt;object name=\"shop\"&gt;\n\n    &lt;inherit name=\"editor_room\" /&gt;\n\n  &lt;/object&gt;\n\n  &lt;object name=\"katana\"&gt;\n\n    &lt;inherit name=\"editor_object\" /&gt;\n\n    &lt;attr name=\"parent\" type=\"object\"&gt;shop&lt;/object&gt;\n\n    &lt;attr name=\"price\" type=\"int\"&gt;100&lt;/attr&gt;\n\n    &lt;attr name=\"buy\" type=\"script\"&gt;\n\n      &lt;![CDATA[\n\n        if (katana.parent = shop) {\n          if (player.cash &gt;= katana.price) {\n            player.cash = player.cash - katana.price\n            shop_owner.cash = shop_owner.cash + katana.price\n            katana.parent = player\n            msg (\"You bought the katana from the shop owner\")\n          } else {\n            msg (\"You don't have enough cash to buy the katana from the shop owner\")\n          }\n        } else {\n          msg (\"The shop doesn't have a katana for you to buy from the shop owner\")\n        }\n\n      ]]&gt;\n\n    &lt;/attr&gt;\n\n    &lt;attr name=\"sell\" type=\"script\"&gt;\n\n      &lt;![CDATA[\n\n        if (katana.parent = player) {\n          if (shop_owner.cash &gt;= katana.price / 2) {\n            shop_owner.cash = shop_owner.cash - katana.price / 2\n            player.cash = player.cash + katana.price / 2\n            katana.parent = shop\n            msg (\"You sold the katana to the shop owner\")\n          } else {\n            msg (\"The shop owner don't have enough cash to buy the katana from you\")\n          }\n        } else {\n          msg (\"You don't have a katana for you to sell to the shop owner\")\n        }\n\n      ]]&gt;\n\n    &lt;/attr&gt;\n\n  &lt;/object&gt;\n\n  &lt;verb&gt;\n\n    &lt;property&gt;buy&lt;/property&gt;\n\n    &lt;pattern&gt;buy&lt;/pattern&gt;\n\n    &lt;defaultexpression&gt;You can't buy that!&lt;/defaultexpression&gt;\n\n  &lt;/verb&gt;\n\n  &lt;verb&gt;\n\n    &lt;property&gt;sell&lt;/property&gt;\n\n    &lt;pattern&gt;sell&lt;/pattern&gt;\n\n    &lt;defaultexpression&gt;You can't sell that!&lt;/defaultexpression&gt;\n\n  &lt;/verb&gt;\n\n&lt;/asl&gt;\n</code></pre>\n\n",
      "PostDate": "2018-03-19T20:53:35.6884193Z",
      "LastEditDate": "2018-03-19T21:31:49.5006796Z",
      "link": null
    }
  ]
}
