{
  "Topic": {
    "TopicId": "568",
    "ForumId": "10",
    "Title": "Wear and Unwear - defaults?",
    "LastUpdated": "2004-12-23T13:14:28+00:00",
    "ReplyCount": 14
  },
  "Posts": [
    {
      "PostId": "4283",
      "UserId": 0,
      "Username": "steve the gaming guy",
      "UserAvatar": null,
      "UserGravatar": "6577a0affcb6ea711c75baf052ffd08a",
      "EditableText": "MaDbRiT,\n\nI have a cloak that needs to be worn once it's obtained.  No matter what I choose in the cloak description under clothing (long coat checked or unchecked).  I get one of two default responses from the typelib library.  \n\n\"On second thoughts you decide that the cloak won't suit a man like you at all.\" if long coat is checked\nOR\n\"You cannot wear the cloak!\" if nothing is checked under clothing.\n\n How do I set the properties of the player to allow him to wear the cloak?  It seems that the message response that I entered for wearing the cloak is being ignored.  \nThere is another object or two later on that will need to be worn so I need to go ahead and try to solve this problem.\n\n[code:2ra92af6]' &quot;King's Quest V - text adventure&quot;\n' Created with QDK 3&#46;52 - UNREGISTERED VERSION\n\n!include &lt;Typelib&#46;qlb&gt;\n\ndefine game &lt;King's Quest V - text adventure&gt;\n\tasl-version &lt;350&gt;\n\tgametype singleplayer\n\tstart &lt;Crispin's house -out front&gt;\n\tgame author &lt;Steve Lingle&gt;\n\tgame info &lt;Created with QDK 3&#46;52 - UNREGISTERED EVALUATION VERSION&#46;&gt;\n\tstartscript move &lt;cloak; Tailor's Shop&gt;\n\tdefine variable &lt;Score&gt;\n\t\ttype numeric\n\t\tvalue &lt;0&gt;\n\t\tdisplay &lt;Score&#58; ! of 230&gt;\n\tend define\nend define\n\ndefine synonyms\n\ttake = get\nend define\n\ndefine room &lt;Crispin's house -out front&gt;\n\tlook &lt;To the south you can almost make out a small town&#46;  To the west is a dark path that winds into the forest beyond&#46;&gt;\n\tindescription &lt;You are at&gt;\n\tsouth &lt;town&gt;\nend define\n\ndefine room &lt;town&gt;\n\tprefix &lt;the&gt;\n\tlook &lt;As you walk on the cobblestone street, townspeople walk up and down minding their own business and walking in and out of the town's quaint little shops&#46;&gt;\n\tnorth &lt;Crispin's house -out front&gt;\n\tplace &lt;the; Tailor's Shop&gt;\nend define\n\ndefine room &lt;Tailor's Shop&gt;\n\tprefix &lt;the&gt;\n\tlook &lt;Inside the shop, you first notice the sales clerk behind the counter measuring pieces of fabric&#46;  There's a nice cloak on display near the front&#46;&gt;\n\tout &lt;the; town&gt;\n\tscript &#123;\n\t\tmsg &lt;The sales clerk notices you,&gt;\n\t\tsay &lt;|clHello there, how fare you today?|cb&gt;\n\t&#125;\n\tdescription msg &lt;#quest&#46;lookdesc#&gt;\n\n\tdefine object &lt;sales clerk&gt;\n\t\talt &lt;clerk&gt;\n\t\tlook &lt;The sales clerk stands behind the counter measuring fabric and looks up when Graham enters the shop&#46;&gt;\n\t\tspeak &#123;\n\t\t\tif flag &lt;tailor1&gt; then do &lt;tailor&gt;\n\t\t\telse &#123;\n\t\t\t\tmsg &lt;Graham approaches the tailor,&gt;\n\t\t\t\twait &lt;press any key&gt;\n\t\t\t\tsay &lt;|crGood day, I am wondering about this cloak you have on display&#46;  How much does it cost?|cb&gt;\n\t\t\t\twait &lt;press any key&gt;\n\t\t\t\tsay &lt;|clAh yes, an excellent cloak&#46;  Very warm for cold weather&#46;  I would take one gold piece for such a garment&#46;|cb&gt;\n\t\t\t\twait &lt;press any key&gt;\n\t\t\t\tsay &lt;|crThank you, sir&#46;  I will come back when I have a gold piece&#46;|cb&gt;\n\t\t\t\tflag on &lt;tailor1&gt;\n\t\t\t&#125;\n\t\t&#125;\n\t\tprefix &lt;the&gt;\n\t\tgender &lt;he&gt;\n\t\tgive &lt;golden needle&gt; do &lt;tailor&gt;\n\t\ttype &lt;TLTactor&gt;\n\t\tproperties &lt;displaytype=sales clerk&gt;\n\t\taction &lt;speak&gt; if flag &lt;tailor1&gt; then do &lt;tailor&gt;\n\t\telse &#123;\n\t\t\tmsg &lt;Graham approaches the tailor,&gt;\n\t\t\twait &lt;press any key&gt;\n\t\t\tsay &lt;|crGood day, I am wondering about this cloak you have on display&#46;  How much does it cost?|cb&gt;\n\t\t\twait &lt;press any key&gt;\n\t\t\tsay &lt;|clAh yes, an excellent cloak&#46;  Very warm for cold weather&#46;  I would take one gold piece for such a garment&#46;|cb&gt;\n\t\t\twait &lt;press any key&gt;\n\t\t\tsay &lt;|crThank you, sir&#46;  I will come back when I have a gold piece&#46;|cb&gt;\n\t\t\tflag on &lt;tailor1&gt;\n\t\t&#125;\n\tend define\n\nend define\n\ndefine room &lt;inven room&gt;\n\n\tdefine object &lt;cloak&gt;\n\t\tlook &lt;A high-quality blue cloak is on display near the front of the Tailor's shop&#46;&gt;\n\t\texamine &lt;This blue cloak looks like it would keep its owner very warm in a cold place&#46;&gt;\n\t\tprefix &lt;a&gt;\n\t\tarticle &lt;it&gt;\n\t\tgender &lt;it&gt;\n\t\tdrop nowhere &lt;There's no need to drop the cloak&#46;&gt;\n\t\tproperties &lt;wearmessage=Graham puts on the blue cloak&#46;; unwearmessage=Graham takes off the cloak&#46;; sex=male&gt;\n\tend define\n\nend define\n\ndefine procedure &lt;tailor&gt;\n\tmsg &lt;Graham approaches the sales clerk&#46;&gt;\n\twait &lt;press any key&gt;\n\tsay &lt;|crGood day, sir&#46;  I don't have any money but can I have that cloak anyway?|cb&gt;\n\twait &lt;press any key&gt;\n\tmsg &lt;|cl&quot;I'm feeling generous today&#46;  Sure!&quot;|cb&gt;\n\twait &lt;press any key&gt;\n\tmsg &lt;The sales clerk walks to the blue cloak on display and hands it to you&#46;  |cl&quot;I hope this bides you well on your quest&#46;&quot;|cb&gt;\n\twait &lt;press any key&gt;\n\tmsg &lt;|crThank you, sir&#46;  I'm sure it will indeed&#46;|cb&gt;\n\tgive &lt;cloak&gt;\nend define\n\ndefine text &lt;intro&gt;\n\nend define\n\ndefine text &lt;win&gt;\n\nend define\n\ndefine text &lt;lose&gt;\n\nend define\n[/code:2ra92af6]\n\nThanks  <!-- s:?: --><img src=\"{SMILIES_PATH}/icon_question.gif\" alt=\":?:\" title=\"Question\" /><!-- s:?: -->  <!-- s:?: --><img src=\"{SMILIES_PATH}/icon_question.gif\" alt=\":?:\" title=\"Question\" /><!-- s:?: -->  <!-- s:?: --><img src=\"{SMILIES_PATH}/icon_question.gif\" alt=\":?:\" title=\"Question\" /><!-- s:?: --> ,",
      "EditableFormat": "bbcode",
      "HTML": "MaDbRiT,<br/><br/>I have a cloak that needs to be worn once it's obtained.  No matter what I choose in the cloak description under clothing (long coat checked or unchecked).  I get one of two default responses from the typelib library.  <br/><br/>\"On second thoughts you decide that the cloak won't suit a man like you at all.\" if long coat is checked<br/>OR<br/>\"You cannot wear the cloak!\" if nothing is checked under clothing.<br/><br/> How do I set the properties of the player to allow him to wear the cloak?  It seems that the message response that I entered for wearing the cloak is being ignored.  <br/>There is another object or two later on that will need to be worn so I need to go ahead and try to solve this problem.<br/><br/><pre><code>' &quot;King's Quest V - text adventure&quot;<br/>' Created with QDK 3&#46;52 - UNREGISTERED VERSION<br/><br/>!include &lt;Typelib&#46;qlb&gt;<br/><br/>define game &lt;King's Quest V - text adventure&gt;<br/>\tasl-version &lt;350&gt;<br/>\tgametype singleplayer<br/>\tstart &lt;Crispin's house -out front&gt;<br/>\tgame author &lt;Steve Lingle&gt;<br/>\tgame info &lt;Created with QDK 3&#46;52 - UNREGISTERED EVALUATION VERSION&#46;&gt;<br/>\tstartscript move &lt;cloak; Tailor's Shop&gt;<br/>\tdefine variable &lt;Score&gt;<br/>\t\ttype numeric<br/>\t\tvalue &lt;0&gt;<br/>\t\tdisplay &lt;Score&#58; ! of 230&gt;<br/>\tend define<br/>end define<br/><br/>define synonyms<br/>\ttake = get<br/>end define<br/><br/>define room &lt;Crispin's house -out front&gt;<br/>\tlook &lt;To the south you can almost make out a small town&#46;  To the west is a dark path that winds into the forest beyond&#46;&gt;<br/>\tindescription &lt;You are at&gt;<br/>\tsouth &lt;town&gt;<br/>end define<br/><br/>define room &lt;town&gt;<br/>\tprefix &lt;the&gt;<br/>\tlook &lt;As you walk on the cobblestone street, townspeople walk up and down minding their own business and walking in and out of the town's quaint little shops&#46;&gt;<br/>\tnorth &lt;Crispin's house -out front&gt;<br/>\tplace &lt;the; Tailor's Shop&gt;<br/>end define<br/><br/>define room &lt;Tailor's Shop&gt;<br/>\tprefix &lt;the&gt;<br/>\tlook &lt;Inside the shop, you first notice the sales clerk behind the counter measuring pieces of fabric&#46;  There's a nice cloak on display near the front&#46;&gt;<br/>\tout &lt;the; town&gt;<br/>\tscript &#123;<br/>\t\tmsg &lt;The sales clerk notices you,&gt;<br/>\t\tsay &lt;|clHello there, how fare you today?|cb&gt;<br/>\t&#125;<br/>\tdescription msg &lt;#quest&#46;lookdesc#&gt;<br/><br/>\tdefine object &lt;sales clerk&gt;<br/>\t\talt &lt;clerk&gt;<br/>\t\tlook &lt;The sales clerk stands behind the counter measuring fabric and looks up when Graham enters the shop&#46;&gt;<br/>\t\tspeak &#123;<br/>\t\t\tif flag &lt;tailor1&gt; then do &lt;tailor&gt;<br/>\t\t\telse &#123;<br/>\t\t\t\tmsg &lt;Graham approaches the tailor,&gt;<br/>\t\t\t\twait &lt;press any key&gt;<br/>\t\t\t\tsay &lt;|crGood day, I am wondering about this cloak you have on display&#46;  How much does it cost?|cb&gt;<br/>\t\t\t\twait &lt;press any key&gt;<br/>\t\t\t\tsay &lt;|clAh yes, an excellent cloak&#46;  Very warm for cold weather&#46;  I would take one gold piece for such a garment&#46;|cb&gt;<br/>\t\t\t\twait &lt;press any key&gt;<br/>\t\t\t\tsay &lt;|crThank you, sir&#46;  I will come back when I have a gold piece&#46;|cb&gt;<br/>\t\t\t\tflag on &lt;tailor1&gt;<br/>\t\t\t&#125;<br/>\t\t&#125;<br/>\t\tprefix &lt;the&gt;<br/>\t\tgender &lt;he&gt;<br/>\t\tgive &lt;golden needle&gt; do &lt;tailor&gt;<br/>\t\ttype &lt;TLTactor&gt;<br/>\t\tproperties &lt;displaytype=sales clerk&gt;<br/>\t\taction &lt;speak&gt; if flag &lt;tailor1&gt; then do &lt;tailor&gt;<br/>\t\telse &#123;<br/>\t\t\tmsg &lt;Graham approaches the tailor,&gt;<br/>\t\t\twait &lt;press any key&gt;<br/>\t\t\tsay &lt;|crGood day, I am wondering about this cloak you have on display&#46;  How much does it cost?|cb&gt;<br/>\t\t\twait &lt;press any key&gt;<br/>\t\t\tsay &lt;|clAh yes, an excellent cloak&#46;  Very warm for cold weather&#46;  I would take one gold piece for such a garment&#46;|cb&gt;<br/>\t\t\twait &lt;press any key&gt;<br/>\t\t\tsay &lt;|crThank you, sir&#46;  I will come back when I have a gold piece&#46;|cb&gt;<br/>\t\t\tflag on &lt;tailor1&gt;<br/>\t\t&#125;<br/>\tend define<br/><br/>end define<br/><br/>define room &lt;inven room&gt;<br/><br/>\tdefine object &lt;cloak&gt;<br/>\t\tlook &lt;A high-quality blue cloak is on display near the front of the Tailor's shop&#46;&gt;<br/>\t\texamine &lt;This blue cloak looks like it would keep its owner very warm in a cold place&#46;&gt;<br/>\t\tprefix &lt;a&gt;<br/>\t\tarticle &lt;it&gt;<br/>\t\tgender &lt;it&gt;<br/>\t\tdrop nowhere &lt;There's no need to drop the cloak&#46;&gt;<br/>\t\tproperties &lt;wearmessage=Graham puts on the blue cloak&#46;; unwearmessage=Graham takes off the cloak&#46;; sex=male&gt;<br/>\tend define<br/><br/>end define<br/><br/>define procedure &lt;tailor&gt;<br/>\tmsg &lt;Graham approaches the sales clerk&#46;&gt;<br/>\twait &lt;press any key&gt;<br/>\tsay &lt;|crGood day, sir&#46;  I don't have any money but can I have that cloak anyway?|cb&gt;<br/>\twait &lt;press any key&gt;<br/>\tmsg &lt;|cl&quot;I'm feeling generous today&#46;  Sure!&quot;|cb&gt;<br/>\twait &lt;press any key&gt;<br/>\tmsg &lt;The sales clerk walks to the blue cloak on display and hands it to you&#46;  |cl&quot;I hope this bides you well on your quest&#46;&quot;|cb&gt;<br/>\twait &lt;press any key&gt;<br/>\tmsg &lt;|crThank you, sir&#46;  I'm sure it will indeed&#46;|cb&gt;<br/>\tgive &lt;cloak&gt;<br/>end define<br/><br/>define text &lt;intro&gt;<br/><br/>end define<br/><br/>define text &lt;win&gt;<br/><br/>end define<br/><br/>define text &lt;lose&gt;<br/><br/>end define<br/></code></pre><br/><br/>Thanks  <!-- s:?: --><img src=\"{SMILIES_PATH}/icon_question.gif\" alt=\":?:\" title=\"Question\" /><!-- s:?: -->  <!-- s:?: --><img src=\"{SMILIES_PATH}/icon_question.gif\" alt=\":?:\" title=\"Question\" /><!-- s:?: -->  <!-- s:?: --><img src=\"{SMILIES_PATH}/icon_question.gif\" alt=\":?:\" title=\"Question\" /><!-- s:?: --> ,",
      "PostDate": "2004-11-23T16:00:48+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "4284",
      "UserId": 0,
      "Username": "I think Im Dead",
      "UserAvatar": null,
      "UserGravatar": "662782b48efa4728f8d0773b83c01ddf",
      "EditableText": "I imagine if you looked at your debug information it would say something along the lines of... ERROR: player has no property sex.\n\nMy guess knowing nothing of typelib, is that somewhere along the lines, the long coat wear function in typelib is checking wether you are a male or female, as I vaguely remember there being sex-specific items like panties and bras, to output the correct messaging. Since you have no sex, it's splitting out the first response it can, which is, that you don't have a property sex=female, so it's messaging that it's an item for females.\n\nTry giving your player a property of sex=male is my guess.\n\nAgain, knowing nothing of typelib.",
      "EditableFormat": "bbcode",
      "HTML": "I imagine if you looked at your debug information it would say something along the lines of... ERROR: player has no property sex.<br/><br/>My guess knowing nothing of typelib, is that somewhere along the lines, the long coat wear function in typelib is checking wether you are a male or female, as I vaguely remember there being sex-specific items like panties and bras, to output the correct messaging. Since you have no sex, it's splitting out the first response it can, which is, that you don't have a property sex=female, so it's messaging that it's an item for females.<br/><br/>Try giving your player a property of sex=male is my guess.<br/><br/>Again, knowing nothing of typelib.",
      "PostDate": "2004-11-23T18:12:05+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "4287",
      "UserId": 0,
      "Username": "steve the gaming guy",
      "UserAvatar": null,
      "UserGravatar": "6577a0affcb6ea711c75baf052ffd08a",
      "EditableText": "I agree that sex should = male.  I could not get that to work.  However, I was able to make it work for what I needed.  I simply took out the word 'male' from the sex entry under the clothing tab and now Quest is not checking to make sure that the player is male also.\n\n <!-- s:o --><img src=\"{SMILIES_PATH}/icon_e_surprised.gif\" alt=\":o\" title=\"Surprised\" /><!-- s:o -->",
      "EditableFormat": "bbcode",
      "HTML": "I agree that sex should = male.  I could not get that to work.  However, I was able to make it work for what I needed.  I simply took out the word 'male' from the sex entry under the clothing tab and now Quest is not checking to make sure that the player is male also.<br/><br/> <!-- s:o --><img src=\"{SMILIES_PATH}/icon_e_surprised.gif\" alt=\":o\" title=\"Surprised\" /><!-- s:o -->",
      "PostDate": "2004-11-23T19:02:51+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "4290",
      "UserId": 0,
      "Username": "Anonymous",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Steve\n\nThe 'sex' property of clothing is indeed there so that a man won't be allowed to put on (say) a dress designated as 'female' - you seem to have a mismatch between the player's sex and that of the cloak.\n\nThe reason this is happening is that you need to specify sex=1 not sex=male in your properties - I haven't modernised this code yet!  ( Male = 1, Female = 2, Unisex = 0 )\n\nAl  (MaDbRiT)",
      "EditableFormat": "bbcode",
      "HTML": "Steve<br/><br/>The 'sex' property of clothing is indeed there so that a man won't be allowed to put on (say) a dress designated as 'female' - you seem to have a mismatch between the player's sex and that of the cloak.<br/><br/>The reason this is happening is that you need to specify sex=1 not sex=male in your properties - I haven't modernised this code yet!  ( Male = 1, Female = 2, Unisex = 0 )<br/><br/>Al  (MaDbRiT)",
      "PostDate": "2004-11-23T20:39:56+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "4291",
      "UserId": 0,
      "Username": "Anonymous",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Oh yeah\n\nThe typelib defaults are that all clothing is set with 'sex=1' and the player is also 'sex=1' - so in theory you can ignore the possible sex restrictions completely and code nothing at all if you don't need to use them\n\nAl (MaDbRiT)",
      "EditableFormat": "bbcode",
      "HTML": "Oh yeah<br/><br/>The typelib defaults are that all clothing is set with 'sex=1' and the player is also 'sex=1' - so in theory you can ignore the possible sex restrictions completely and code nothing at all if you don't need to use them<br/><br/>Al (MaDbRiT)",
      "PostDate": "2004-11-23T20:45:24+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "4292",
      "UserId": 0,
      "Username": "Anonymous",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "From the typelib manual:-\n\n[quote:123d6v8u]The player is (by default) given the property â€˜sex=1â€™ as are all the clothing items. If you set â€˜sex=2â€™ for the player, attempting to put on an article of clothing that has property sex=1 will result in a message to the effect that the clothes wonâ€™t suit a woman like you. The reverse is also true, setting player sex=1 and an article of clothing to sex=2 will produce â€œwonâ€™t suit a man like you.â€ If the player sex property is equal to the individual clothingâ€™s sex property, the library makes no restrictions, so although sex=1 is nominally male if you want a female player character and only provide suitable female clothes, you need not bother to alter the sex properties at all.[/quote:123d6v8u]\n\n <!-- s:D --><img src=\"{SMILIES_PATH}/icon_e_biggrin.gif\" alt=\":D\" title=\"Very Happy\" /><!-- s:D -->",
      "EditableFormat": "bbcode",
      "HTML": "From the typelib manual:-<br/><br/><blockquote><p>The player is (by default) given the property â€˜sex=1â€™ as are all the clothing items. If you set â€˜sex=2â€™ for the player, attempting to put on an article of clothing that has property sex=1 will result in a message to the effect that the clothes wonâ€™t suit a woman like you. The reverse is also true, setting player sex=1 and an article of clothing to sex=2 will produce â€œwonâ€™t suit a man like you.â€ If the player sex property is equal to the individual clothingâ€™s sex property, the library makes no restrictions, so although sex=1 is nominally male if you want a female player character and only provide suitable female clothes, you need not bother to alter the sex properties at all.</p></blockquote><br/><br/> <!-- s:D --><img src=\"{SMILIES_PATH}/icon_e_biggrin.gif\" alt=\":D\" title=\"Very Happy\" /><!-- s:D -->",
      "PostDate": "2004-11-23T20:48:09+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "4293",
      "UserId": 0,
      "Username": "steve the gaming guy",
      "UserAvatar": null,
      "UserGravatar": "6577a0affcb6ea711c75baf052ffd08a",
      "EditableText": "Hey thanks.  I had actually searched for something in the manual but I guess I was searching the wrong manual (on Quest's home page).  \nI just found it.  It was included with the typelib .zip file!!",
      "EditableFormat": "bbcode",
      "HTML": "Hey thanks.  I had actually searched for something in the manual but I guess I was searching the wrong manual (on Quest's home page).  <br/>I just found it.  It was included with the typelib .zip file!!",
      "PostDate": "2004-11-23T21:01:15+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "4502",
      "UserId": 0,
      "Username": "steve the gaming guy",
      "UserAvatar": null,
      "UserGravatar": "6577a0affcb6ea711c75baf052ffd08a",
      "EditableText": "Slightly new question but very related...\n\nLet's say that it's cold weather and if the player doesn't put on the cloak after a certain amount of time, he dies of frostbite.  I've noticed that it's not as simple as saying \"If cloak is NOT worn, then die of frostbite\"\n\nI looked at the library to see how the code reads but it's above my head.  I also looked at the manual but I either can't find it or I'm not looking for the right word!\n\nDo you know a good way to create this?",
      "EditableFormat": "bbcode",
      "HTML": "Slightly new question but very related...<br/><br/>Let's say that it's cold weather and if the player doesn't put on the cloak after a certain amount of time, he dies of frostbite.  I've noticed that it's not as simple as saying \"If cloak is NOT worn, then die of frostbite\"<br/><br/>I looked at the library to see how the code reads but it's above my head.  I also looked at the manual but I either can't find it or I'm not looking for the right word!<br/><br/>Do you know a good way to create this?",
      "PostDate": "2004-12-07T18:31:46+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "4503",
      "UserId": 0,
      "Username": "Anonymous",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "hi Steve\n\nEasy answer to this one, you just use a variable as a counter or \"fuse\"/\"daemon\".\n\nSet a numeric called (say) 'freeze' to 3 when the player enters the cold area (or at the start of the game).\n\nPerform a test (local afterturn of the cold location) to see if the player is wearing the cloak - if he isn't count down (decrement) the freeze variable.\n\nPerform another test (local afterturn again) to see if the freeze variable is zero - if it is, kill the player. <!-- s:-) --><img src=\"{SMILIES_PATH}/icon_e_smile.gif\" alt=\":-)\" title=\"Smile\" /><!-- s:-) -->\n\nThis will give the player 3 'turns' to put on the cloak if he doesn't have it already - before the cold gets him.  Here's an example, cut n paste and run this.  If you just look a few times while staying in the freezer (there's nought else to do) the cold will kill you if you aren't wearing the cloak.\n\n[code:mciq1apl]' Quest 3&#46;5 ASL Template\n\n!include &lt;Typelib&#46;qlb&gt;\n\ndefine game &lt;Game Name&gt;\n\n\tasl-version &lt;350&gt;\n\tgametype singleplayer\n\tgame version &lt;0&#46;1a&gt;\n\tgame author &lt;MaDbRiT&gt;\n\tgame copyright &lt;Â© 2004 &#46;&#46;&#46;&gt;\n\tgame info &lt;This is a daemon demo&#46;&gt;\n\tstart &lt;Start&gt;\n\tstartscript set numeric &lt;freeze;3&gt;\n\t\nend define\n\ndefine room &lt;Start&gt;\n\tlook &lt;Description Goes Here&gt;\n\tprefix &lt;the&gt;\n\tsouth &lt;freezer&gt;\n\n\tdefine object &lt;cloak&gt;\n\t\tlook &lt;very thick with a thermal lining&#46;&gt;\n\t\ttype &lt;TLTobject&gt;\n\t\ttype &lt;TLTcoat&gt;\n\tend define\n\n\nend define\n\ndefine room &lt;freezer&gt;\n\tlook &lt;It's icy - nothing else to see&#46;\n\tnorth &lt;Start&gt;\n\tprefix &lt;the&gt;\n\tscript &#123;\n\t\tif not property &lt;cloak;worn&gt; then &#123;\n\t\t\tmsg &lt;It is FREEZING in here!&gt;\n\t\t\tdec &lt;freeze&gt;\n\t\t&#125;\n\t\n\t&#125;\n\tafterturn &#123;\n\t\tif not property &lt;cloak;worn&gt; then &#123;\n\t\tmsg &lt;It is FREEZING in here!&gt;\n\t\tdec &lt;freeze&gt;\n\t\t&#125;\n\t\tif &#40;%freeze%&lt;1&#41; then &#123;\n\t\t\tmsg &lt;You've frozen to death!&gt;\n\t\t\tplayerlose\n\t\t&#125;\n\t&#125;\nend define\n\n\ndefine text &lt;intro&gt;\nEnter intro text here\nend define\n\ndefine text &lt;win&gt;\nEnter win text here\nend define\n\ndefine text &lt;lose&gt;\nEnter lose text here\nend define[/code:mciq1apl]\n\nYou'd probably want to reset the counter if the cloak is put on, I've not bothered with that here.\n\nAl (MaDbRiT)",
      "EditableFormat": "bbcode",
      "HTML": "hi Steve<br/><br/>Easy answer to this one, you just use a variable as a counter or \"fuse\"/\"daemon\".<br/><br/>Set a numeric called (say) 'freeze' to 3 when the player enters the cold area (or at the start of the game).<br/><br/>Perform a test (local afterturn of the cold location) to see if the player is wearing the cloak - if he isn't count down (decrement) the freeze variable.<br/><br/>Perform another test (local afterturn again) to see if the freeze variable is zero - if it is, kill the player. <!-- s:-) --><img src=\"{SMILIES_PATH}/icon_e_smile.gif\" alt=\":-)\" title=\"Smile\" /><!-- s:-) --><br/><br/>This will give the player 3 'turns' to put on the cloak if he doesn't have it already - before the cold gets him.  Here's an example, cut n paste and run this.  If you just look a few times while staying in the freezer (there's nought else to do) the cold will kill you if you aren't wearing the cloak.<br/><br/><pre><code>' Quest 3&#46;5 ASL Template<br/><br/>!include &lt;Typelib&#46;qlb&gt;<br/><br/>define game &lt;Game Name&gt;<br/><br/>\tasl-version &lt;350&gt;<br/>\tgametype singleplayer<br/>\tgame version &lt;0&#46;1a&gt;<br/>\tgame author &lt;MaDbRiT&gt;<br/>\tgame copyright &lt;Â© 2004 &#46;&#46;&#46;&gt;<br/>\tgame info &lt;This is a daemon demo&#46;&gt;<br/>\tstart &lt;Start&gt;<br/>\tstartscript set numeric &lt;freeze;3&gt;<br/>\t<br/>end define<br/><br/>define room &lt;Start&gt;<br/>\tlook &lt;Description Goes Here&gt;<br/>\tprefix &lt;the&gt;<br/>\tsouth &lt;freezer&gt;<br/><br/>\tdefine object &lt;cloak&gt;<br/>\t\tlook &lt;very thick with a thermal lining&#46;&gt;<br/>\t\ttype &lt;TLTobject&gt;<br/>\t\ttype &lt;TLTcoat&gt;<br/>\tend define<br/><br/><br/>end define<br/><br/>define room &lt;freezer&gt;<br/>\tlook &lt;It's icy - nothing else to see&#46;<br/>\tnorth &lt;Start&gt;<br/>\tprefix &lt;the&gt;<br/>\tscript &#123;<br/>\t\tif not property &lt;cloak;worn&gt; then &#123;<br/>\t\t\tmsg &lt;It is FREEZING in here!&gt;<br/>\t\t\tdec &lt;freeze&gt;<br/>\t\t&#125;<br/>\t<br/>\t&#125;<br/>\tafterturn &#123;<br/>\t\tif not property &lt;cloak;worn&gt; then &#123;<br/>\t\tmsg &lt;It is FREEZING in here!&gt;<br/>\t\tdec &lt;freeze&gt;<br/>\t\t&#125;<br/>\t\tif &#40;%freeze%&lt;1&#41; then &#123;<br/>\t\t\tmsg &lt;You've frozen to death!&gt;<br/>\t\t\tplayerlose<br/>\t\t&#125;<br/>\t&#125;<br/>end define<br/><br/><br/>define text &lt;intro&gt;<br/>Enter intro text here<br/>end define<br/><br/>define text &lt;win&gt;<br/>Enter win text here<br/>end define<br/><br/>define text &lt;lose&gt;<br/>Enter lose text here<br/>end define</code></pre><br/><br/>You'd probably want to reset the counter if the cloak is put on, I've not bothered with that here.<br/><br/>Al (MaDbRiT)",
      "PostDate": "2004-12-07T22:58:28+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "4504",
      "UserId": 0,
      "Username": "Anonymous",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Oooeerr\n\nSomehow the LOOK tag of the freezer has lost its closing &gt; in my cut and paste above - please repair the code before trying to run it!\n\nAl (MaDbRiT)",
      "EditableFormat": "bbcode",
      "HTML": "Oooeerr<br/><br/>Somehow the LOOK tag of the freezer has lost its closing &gt; in my cut and paste above - please repair the code before trying to run it!<br/><br/>Al (MaDbRiT)",
      "PostDate": "2004-12-07T23:01:01+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "4512",
      "UserId": 0,
      "Username": "steve the gaming guy",
      "UserAvatar": null,
      "UserGravatar": "6577a0affcb6ea711c75baf052ffd08a",
      "EditableText": "Ok, I actually used your example for a different puzzle in my game where you have to wear an amulet to deflect a magic spell.\n\nI saw where 'worn' is actually a property so I made the script to say if the properties of the amulet is worn then you don't die.\n\nWhen testing this, I receive the following error and the game shuts down after typing \"wear amulet\":\n\n[quote:2samicq4]Run-time error â€˜-2147417848 (80010108)â€™:\n\nAutomation error\n[/quote:2samicq4]\n\nIf you need to see the code, I can post it later on.\n\nLATER ON:\n\nOk, here is the code for the amulet itself.  I've tried assigning it as an article of clothing and I also tried leaving the clothing tab alone.  I also tried checking and unchecking the block to assign it as a regular object.  For some reason, that error keeps popping up.  \nAlthough, I should mention that when I do not assign it as an article of clothing and I try to 'wear amulet', it tells me the default \"On second thoughts, it wouldn't suit a man like you\"  \nSo I'm going nuts here...\n\n[code:2samicq4]\tdefine object &lt;amulet&gt;\n\t\tlook &lt;This amulet is a gold necklace with a jewel fitting that hangs at the base&#46;  Its purpose is to deflect certain magic spells but it is only effective if worn&#46;&gt;\n\t\ttake\n\t\tprefix &lt;the&gt;\n\t\tarticle &lt;it&gt;\n\t\tgender &lt;it&gt;\n\t\ttype &lt;TLTvest&gt;\n\t\taction &lt;wear&gt; &#123;\n\t\t\texec &lt;wear amulet&gt;\n\t\t\tflag on &lt;amulet&gt;\n\t\t\tmsg &lt;Graham puts on the amulet and the jewel begins to glow so he tucks it away in his tunic&#46;&gt;\n\t\t&#125;\n\tend define[/code:2samicq4]",
      "EditableFormat": "bbcode",
      "HTML": "Ok, I actually used your example for a different puzzle in my game where you have to wear an amulet to deflect a magic spell.<br/><br/>I saw where 'worn' is actually a property so I made the script to say if the properties of the amulet is worn then you don't die.<br/><br/>When testing this, I receive the following error and the game shuts down after typing \"wear amulet\":<br/><br/><blockquote><p>Run-time error â€˜-2147417848 (80010108)â€™:<br/><br/>Automation error<br/></p></blockquote><br/><br/>If you need to see the code, I can post it later on.<br/><br/>LATER ON:<br/><br/>Ok, here is the code for the amulet itself.  I've tried assigning it as an article of clothing and I also tried leaving the clothing tab alone.  I also tried checking and unchecking the block to assign it as a regular object.  For some reason, that error keeps popping up.  <br/>Although, I should mention that when I do not assign it as an article of clothing and I try to 'wear amulet', it tells me the default \"On second thoughts, it wouldn't suit a man like you\"  <br/>So I'm going nuts here...<br/><br/><pre><code>\tdefine object &lt;amulet&gt;<br/>\t\tlook &lt;This amulet is a gold necklace with a jewel fitting that hangs at the base&#46;  Its purpose is to deflect certain magic spells but it is only effective if worn&#46;&gt;<br/>\t\ttake<br/>\t\tprefix &lt;the&gt;<br/>\t\tarticle &lt;it&gt;<br/>\t\tgender &lt;it&gt;<br/>\t\ttype &lt;TLTvest&gt;<br/>\t\taction &lt;wear&gt; &#123;<br/>\t\t\texec &lt;wear amulet&gt;<br/>\t\t\tflag on &lt;amulet&gt;<br/>\t\t\tmsg &lt;Graham puts on the amulet and the jewel begins to glow so he tucks it away in his tunic&#46;&gt;<br/>\t\t&#125;<br/>\tend define</code></pre>",
      "PostDate": "2004-12-08T16:43:10+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "4513",
      "UserId": 0,
      "Username": "Anonymous",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Steve:\n\nTry declaring your amulet like this:\n\n[code:11b597cs]   define object &lt;amulet&gt; \n      look &lt;This amulet is a gold necklace with a jewel fitting that hangs at the base&#46;  Its purpose is to deflect certain magic spells but it is only effective if worn&#46;&gt; \n      take \n      prefix &lt;the&gt; \n      article &lt;it&gt; \n      gender &lt;it&gt; \n      type &lt;TLTobject&gt;\n      type &lt;TLTvest&gt; \n      properties &lt;wearmessage =Graham puts on the amulet and the jewel begins to glow so he tucks it away in his tunic&#46;&gt; \n   end define[/code:11b597cs]\n\nand you'll find it ought to work a treat.  <!-- s:-) --><img src=\"{SMILIES_PATH}/icon_e_smile.gif\" alt=\":-)\" title=\"Smile\" /><!-- s:-) -->\n\nIf you are getting the 'won't suit a man/woman like you' message refer back to the discussion on the default 'sex' property of clothing, it would seem you have the player and the amulet set as different sexes.\n\nI think the automation error is due to an accidental oozulum loop - you have code  'exec &lt;wear amulet&gt;,  what happens here is this\n\n1:  Player types 'wear amulet'\n\n2:  Typelib causes Quest to run the action 'wear' of the object 'amulet'\n\n3:  That action causes the command 'wear amulet' to be executed as if it were typed by the player...\n\nresult is the step sequence  1-2-3-1-2-3-1-2-3-1-2-3-1-2-3-1-2-3-1-2-3-1-2-3...  i.e you've programmed a never ending loop!\n\nAl (MaDbRiT)",
      "EditableFormat": "bbcode",
      "HTML": "Steve:<br/><br/>Try declaring your amulet like this:<br/><br/><pre><code>   define object &lt;amulet&gt; <br/>      look &lt;This amulet is a gold necklace with a jewel fitting that hangs at the base&#46;  Its purpose is to deflect certain magic spells but it is only effective if worn&#46;&gt; <br/>      take <br/>      prefix &lt;the&gt; <br/>      article &lt;it&gt; <br/>      gender &lt;it&gt; <br/>      type &lt;TLTobject&gt;<br/>      type &lt;TLTvest&gt; <br/>      properties &lt;wearmessage =Graham puts on the amulet and the jewel begins to glow so he tucks it away in his tunic&#46;&gt; <br/>   end define</code></pre><br/><br/>and you'll find it ought to work a treat.  <!-- s:-) --><img src=\"{SMILIES_PATH}/icon_e_smile.gif\" alt=\":-)\" title=\"Smile\" /><!-- s:-) --><br/><br/>If you are getting the 'won't suit a man/woman like you' message refer back to the discussion on the default 'sex' property of clothing, it would seem you have the player and the amulet set as different sexes.<br/><br/>I think the automation error is due to an accidental oozulum loop - you have code  'exec &lt;wear amulet&gt;,  what happens here is this<br/><br/>1:  Player types 'wear amulet'<br/><br/>2:  Typelib causes Quest to run the action 'wear' of the object 'amulet'<br/><br/>3:  That action causes the command 'wear amulet' to be executed as if it were typed by the player...<br/><br/>result is the step sequence  1-2-3-1-2-3-1-2-3-1-2-3-1-2-3-1-2-3-1-2-3-1-2-3...  i.e you've programmed a never ending loop!<br/><br/>Al (MaDbRiT)",
      "PostDate": "2004-12-08T20:13:19+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "4515",
      "UserId": 0,
      "Username": "steve the gaming guy",
      "UserAvatar": null,
      "UserGravatar": "6577a0affcb6ea711c75baf052ffd08a",
      "EditableText": "Wow! That worked like a charm.\n\nI want to mention though that I did not manually enter the 'exec' command.  I did it all in QDK.  I don't know if that's something that appears when you assign a type of clothing or whatever.\n\nI would have never guessed to change it to 'properties &lt;wearmessage&gt;'\n\nI did recall our other conversation about the default sex of clothing.  That was going to be my last resort to start fiddling with the male vs. female etc.\n\nAnyway, it works now.  Thanks a million!",
      "EditableFormat": "bbcode",
      "HTML": "Wow! That worked like a charm.<br/><br/>I want to mention though that I did not manually enter the 'exec' command.  I did it all in QDK.  I don't know if that's something that appears when you assign a type of clothing or whatever.<br/><br/>I would have never guessed to change it to 'properties &lt;wearmessage&gt;'<br/><br/>I did recall our other conversation about the default sex of clothing.  That was going to be my last resort to start fiddling with the male vs. female etc.<br/><br/>Anyway, it works now.  Thanks a million!",
      "PostDate": "2004-12-08T21:13:42+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "4521",
      "UserId": 0,
      "Username": "Anonymous",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Hi Steve\n\nGlad it helped <!-- s:-) --><img src=\"{SMILIES_PATH}/icon_e_smile.gif\" alt=\":-)\" title=\"Smile\" /><!-- s:-) -->\n\nThe 'properties &lt;wearmessage=blah&gt;' was in fact generated by QDK, just go to the Clothing_2\" tab and enter it in the 'msg when put on:' box.  \n\nTypelib provides a default if you leave this box empty, but it is there so that you can write your own 'put on the object' response easily.\n\nAl (MaDbRiT)",
      "EditableFormat": "bbcode",
      "HTML": "Hi Steve<br/><br/>Glad it helped <!-- s:-) --><img src=\"{SMILIES_PATH}/icon_e_smile.gif\" alt=\":-)\" title=\"Smile\" /><!-- s:-) --><br/><br/>The 'properties &lt;wearmessage=blah&gt;' was in fact generated by QDK, just go to the Clothing_2\" tab and enter it in the 'msg when put on:' box.  <br/><br/>Typelib provides a default if you leave this box empty, but it is there so that you can write your own 'put on the object' response easily.<br/><br/>Al (MaDbRiT)",
      "PostDate": "2004-12-09T08:41:04+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "4620",
      "UserId": 0,
      "Username": "Elexxorine",
      "UserAvatar": null,
      "UserGravatar": "a220ee44d8fe2f07029cf1f61b98bf40",
      "EditableText": "where do you get this typelib, i've looked everywhere for it!!!! (and can't find it)",
      "EditableFormat": "bbcode",
      "HTML": "where do you get this typelib, i've looked everywhere for it!!!! (and can't find it)",
      "PostDate": "2004-12-23T13:14:28+00:00",
      "LastEditDate": null
    }
  ]
}
