{
  "Topic": {
    "TopicId": "3470",
    "ForumId": "10",
    "Title": "Working on my first game, I'm having some trouble with light",
    "LastUpdated": "2013-02-25T16:22:53+00:00",
    "ReplyCount": 8
  },
  "Posts": [
    {
      "PostId": "22779",
      "UserId": 0,
      "Username": "Hippeus",
      "UserAvatar": null,
      "UserGravatar": "d10eaa3caefa69727658e2032028f55d",
      "EditableText": "I'm working on my first game using Quest, and I'm running into a problem that has snagged my time for several hours. I'm very inexperienced with coding, the most I've understood it is using Quest's scripting system. \n\nI'm making a game for some people that have never played a Text Adventure game before, so I'm trying to introduce concepts one by one. \n\nRight now, I'm trying to introduce the concept of interacting with the environment, which involves turning on a lightbulb to light a room around 1 am. As I understood it, I just needed to make the room dark, mark the lightbulb as a light source, and then switch/turn it on. That was mistaken, apparently, so I made a script. After the lightbulb is switched on, it will light the room (which is a Kitchen). After testing a couple of things, I've found two things to be true. \n\n1.) The lightbulb, for whatever reason, is not actually switching on when I tell it to switch on, but it is receiving the command (I had it place some text whenever it was used). I also noticed that it was not placing the text I told it too when it was switched on, so I believing the lightbulb is not switching on. This is an entirely different issue that I really would like help with. \n\n2.) The room is not dark. No matter what I do, I cannot make the room dark for some reason. If I check the box for it, it remains lit. If I set up a script to make the room dark, it is not dark. I know it isn't being made dark because the text I checked to display when the room is dark is not showing up, the normal room description is. I have absolutely no idea what my problem is there, and I really need some help from somebody who knows what they are doing.\n\nI'm using Quest online, in Google Chrome, if that helps at all.",
      "EditableFormat": "bbcode",
      "HTML": "I'm working on my first game using Quest, and I'm running into a problem that has snagged my time for several hours. I'm very inexperienced with coding, the most I've understood it is using Quest's scripting system. <br/><br/>I'm making a game for some people that have never played a Text Adventure game before, so I'm trying to introduce concepts one by one. <br/><br/>Right now, I'm trying to introduce the concept of interacting with the environment, which involves turning on a lightbulb to light a room around 1 am. As I understood it, I just needed to make the room dark, mark the lightbulb as a light source, and then switch/turn it on. That was mistaken, apparently, so I made a script. After the lightbulb is switched on, it will light the room (which is a Kitchen). After testing a couple of things, I've found two things to be true. <br/><br/>1.) The lightbulb, for whatever reason, is not actually switching on when I tell it to switch on, but it is receiving the command (I had it place some text whenever it was used). I also noticed that it was not placing the text I told it too when it was switched on, so I believing the lightbulb is not switching on. This is an entirely different issue that I really would like help with. <br/><br/>2.) The room is not dark. No matter what I do, I cannot make the room dark for some reason. If I check the box for it, it remains lit. If I set up a script to make the room dark, it is not dark. I know it isn't being made dark because the text I checked to display when the room is dark is not showing up, the normal room description is. I have absolutely no idea what my problem is there, and I really need some help from somebody who knows what they are doing.<br/><br/>I'm using Quest online, in Google Chrome, if that helps at all.",
      "PostDate": "2013-02-17T12:04:33+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "22781",
      "UserId": 0,
      "Username": "Pertex",
      "UserAvatar": "5940_1369854251.gif",
      "UserGravatar": "4cc1e52f99452e841ecf4cbee9eadde9",
      "EditableText": "It's difficult to say something about your problem not seeing what you are doing. I think you added an object named lightbulb, activated &quot;can be switched on/off&quot; and added a script &quot;after switching on the object&quot;, where you set the brightness off the lightbulb?",
      "EditableFormat": "bbcode",
      "HTML": "It's difficult to say something about your problem not seeing what you are doing. I think you added an object named lightbulb, activated &quot;can be switched on/off&quot; and added a script &quot;after switching on the object&quot;, where you set the brightness off the lightbulb?",
      "PostDate": "2013-02-17T14:45:11+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "22782",
      "UserId": 0,
      "Username": "TriangleGames",
      "UserAvatar": null,
      "UserGravatar": "134d9e995777da65c5cf8efda551d579",
      "EditableText": "[quote=&quot;Pertex&quot;:2hx73asc]... added a script &quot;after switching on the object&quot;, where you set the brightness of the lightbulb?[/quote:2hx73asc]\nI think this is where you're problem is, if I understand what you've said.\n\n1. Switching an object on/off doesn't do anything in and of itself except change the code attribute for the object between &quot;on&quot; and &quot;off,&quot; because that kind of a switch could have many different effects with different objects. In order for it to [i:2hx73asc]do something[/i:2hx73asc] different when it's on, you have to include that specifically.\n\n2. Making something a lightsource does [i:2hx73asc]not[/i:2hx73asc] automatically create ANY link to the concept of it being on or off, and if you set something to be a lightsource in its starting options, it will already be lit when the game starts.\n\n3. What you need to do is let the lightbulb [i:2hx73asc]not[/i:2hx73asc] be a [i:2hx73asc]strong[/i:2hx73asc] lightsource when the game starts, and instead include a script which runs when it is switched to on that [i:2hx73asc]makes[/i:2hx73asc] it a strong lightsource. You're looking for &quot;set object brightness,&quot; as Pertex said.\n\n4. Now this is important: notice the difference between a &quot;weak&quot; lightsource and a &quot;strong&quot; light source. In order for the player to be able to see the lightbulb itself when the room is dark, it will need to start out as a &quot;weak&quot; lightsource. That allows it to be seen in the dark, but won't illuminate the whole room, like a strong lightsource will.\n\nDid I understand the problem right? By the way, people really enjoy a little access to your game, or even screenshots of your problem, which I believe is the most you can offer while using the WebEditor. It's just easier to understand the problem if they can look at it themselves. (I say &quot;they&quot; because I am actually NOT one of the experts here, I've just done a LOT of work with lightsources recently.)",
      "EditableFormat": "bbcode",
      "HTML": "<blockquote><cite>Pertex wrote:</cite>... added a script &quot;after switching on the object&quot;, where you set the brightness of the lightbulb?</blockquote><br/>I think this is where you're problem is, if I understand what you've said.<br/><br/>1. Switching an object on/off doesn't do anything in and of itself except change the code attribute for the object between &quot;on&quot; and &quot;off,&quot; because that kind of a switch could have many different effects with different objects. In order for it to <span style=\"font-style:italic;\">do something</span> different when it's on, you have to include that specifically.<br/><br/>2. Making something a lightsource does <span style=\"font-style:italic;\">not</span> automatically create ANY link to the concept of it being on or off, and if you set something to be a lightsource in its starting options, it will already be lit when the game starts.<br/><br/>3. What you need to do is let the lightbulb <span style=\"font-style:italic;\">not</span> be a <span style=\"font-style:italic;\">strong</span> lightsource when the game starts, and instead include a script which runs when it is switched to on that <span style=\"font-style:italic;\">makes</span> it a strong lightsource. You're looking for &quot;set object brightness,&quot; as Pertex said.<br/><br/>4. Now this is important: notice the difference between a &quot;weak&quot; lightsource and a &quot;strong&quot; light source. In order for the player to be able to see the lightbulb itself when the room is dark, it will need to start out as a &quot;weak&quot; lightsource. That allows it to be seen in the dark, but won't illuminate the whole room, like a strong lightsource will.<br/><br/>Did I understand the problem right? By the way, people really enjoy a little access to your game, or even screenshots of your problem, which I believe is the most you can offer while using the WebEditor. It's just easier to understand the problem if they can look at it themselves. (I say &quot;they&quot; because I am actually NOT one of the experts here, I've just done a LOT of work with lightsources recently.)",
      "PostDate": "2013-02-17T15:15:46+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "22795",
      "UserId": 0,
      "Username": "Hippeus",
      "UserAvatar": null,
      "UserGravatar": "d10eaa3caefa69727658e2032028f55d",
      "EditableText": "I've applied some of your advice and now I have some screenshots to show you.\n\nI made the Lightbulb a lightsource set to weak, which solved my lighting problem. The room is now properly set to be dark, and displays the proper text.\n\nMy new problem is definitely an advancement, and I think it comes from me not understanding verbs. \n\nHere's what I have for verbs on the Lightbulb.\n[img:119sd0i5]http&#58;//i&#46;imgur&#46;com/rgIQghp&#46;png[/img:119sd0i5]\n\nAdding anything saying turn off or switch off would tell me the verb already exists.\n\nHere is what I have set under the &quot;Options menu&quot;\n[img:119sd0i5]http&#58;//i&#46;imgur&#46;com/PtKOT7l&#46;png[/img:119sd0i5]\n\nIt's offscreen, but it IS set to be a switchable object (can be switched on/off)\n\nLastly, this is what happens if I load up the game and tell it to switch the lightbulb on or off.\n\n[img:119sd0i5]http&#58;//i&#46;imgur&#46;com/NErGtFf&#46;png[/img:119sd0i5]\n\nPreviously, the object just would not respond to being switched on, the text it was supposed to display never displayed. I'm definitely doing something wrong.",
      "EditableFormat": "bbcode",
      "HTML": "I've applied some of your advice and now I have some screenshots to show you.<br/><br/>I made the Lightbulb a lightsource set to weak, which solved my lighting problem. The room is now properly set to be dark, and displays the proper text.<br/><br/>My new problem is definitely an advancement, and I think it comes from me not understanding verbs. <br/><br/>Here's what I have for verbs on the Lightbulb.<br/><img src=\"http&#58;//i&#46;imgur&#46;com/rgIQghp&#46;png\" alt=\"\" /><br/><br/>Adding anything saying turn off or switch off would tell me the verb already exists.<br/><br/>Here is what I have set under the &quot;Options menu&quot;<br/><img src=\"http&#58;//i&#46;imgur&#46;com/PtKOT7l&#46;png\" alt=\"\" /><br/><br/>It's offscreen, but it IS set to be a switchable object (can be switched on/off)<br/><br/>Lastly, this is what happens if I load up the game and tell it to switch the lightbulb on or off.<br/><br/><img src=\"http&#58;//i&#46;imgur&#46;com/NErGtFf&#46;png\" alt=\"\" /><br/><br/>Previously, the object just would not respond to being switched on, the text it was supposed to display never displayed. I'm definitely doing something wrong.",
      "PostDate": "2013-02-18T02:59:49+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "22796",
      "UserId": 0,
      "Username": "TriangleGames",
      "UserAvatar": null,
      "UserGravatar": "134d9e995777da65c5cf8efda551d579",
      "EditableText": "It looks to me like everything is set up fine EXCEPT that you don't need the verb for &quot;switch on&quot; added under the verbs tab separately, because it adds both the on and off switch verbs automatically when you select &quot;can be switched on/off.&quot; It shouldn't allow you to add either one once that is set under options.\n\nAfter a little experimenting, I'm guessing what you did was add the &quot;switch on&quot; verb [i:2xie1l9q]first[/i:2xie1l9q] and then selected &quot;can be switched&quot; [i:2xie1l9q]afterward[/i:2xie1l9q]. That would explain why it let you add the &quot;switch on&quot; verb, but not the &quot;switch off&quot; verb. Try deleting the &quot;switch on&quot; verb under the verbs tab. You might also want to reset the &quot;can be switched&quot; setting to clear things out by just changing it to &quot;cannot switch&quot; and then back to &quot;can switch.&quot; But you should delete the added verb under the verbs tab first.\n\nOne other thing to make note of is that the game does [b:2xie1l9q]not[/b:2xie1l9q] reprint the room description automatically when the light is turned on.\nSo, to check that the room has been properly changed, you'll want to type in just &quot;look&quot; to reprint the room display, which should have changed. I've been a little annoyed by that, but I haven't looked into how to resolve it yet. I think I'll go look into it now though, so I'll get back to you if I figure it out before anyone else chime's in here.\n\n[b:2xie1l9q][u:2xie1l9q]EDIT[/u:2xie1l9q][/b:2xie1l9q]: Okay, I got the room description to re-display after lights go on/off. As long as the description text for the room is plain text (i.e. [i:2xie1l9q]not[/i:2xie1l9q] a script), it's pretty easy.\nIn the script list for &quot;switch on,&quot; right under where you have &quot;set object brightness,&quot; you put in the script &quot;print: expression&quot; and in the expression box you just put\n\nkitchen.description\n\nLikewise, in the &quot;switch off&quot; script list, you do the same but it needs to say\n\nkitchen.darkroomdescription\n\nThat will make the default/dark room descriptions print appropriately after the lights are switched on/off without the player having to type &quot;look&quot; again to get the new room description. But, remember that only works if the descriptions you're referencing are plain text. If the room description itself is a script (which it is in my game), it will actually print to screen something like\n&quot;Script&#058; if {cart wreck.dark = true, print: &quot;yadda, yadda, yadda&quot;\nSo if the room description is a script, something a little more involved will be needed, but I'm not sure what yet.\nRe-Edit: I suppose you could just COPY the text you want displayed, and print it as ordinary text, instead of referencing the room's description attributes... that might even be easier actually, but it feels less &quot;professional&quot; for some reason...",
      "EditableFormat": "bbcode",
      "HTML": "It looks to me like everything is set up fine EXCEPT that you don't need the verb for &quot;switch on&quot; added under the verbs tab separately, because it adds both the on and off switch verbs automatically when you select &quot;can be switched on/off.&quot; It shouldn't allow you to add either one once that is set under options.<br/><br/>After a little experimenting, I'm guessing what you did was add the &quot;switch on&quot; verb <span style=\"font-style:italic;\">first</span> and then selected &quot;can be switched&quot; <span style=\"font-style:italic;\">afterward</span>. That would explain why it let you add the &quot;switch on&quot; verb, but not the &quot;switch off&quot; verb. Try deleting the &quot;switch on&quot; verb under the verbs tab. You might also want to reset the &quot;can be switched&quot; setting to clear things out by just changing it to &quot;cannot switch&quot; and then back to &quot;can switch.&quot; But you should delete the added verb under the verbs tab first.<br/><br/>One other thing to make note of is that the game does <span style=\"font-weight:bold;\">not</span> reprint the room description automatically when the light is turned on.<br/>So, to check that the room has been properly changed, you'll want to type in just &quot;look&quot; to reprint the room display, which should have changed. I've been a little annoyed by that, but I haven't looked into how to resolve it yet. I think I'll go look into it now though, so I'll get back to you if I figure it out before anyone else chime's in here.<br/><br/><span style=\"font-weight:bold;\"><span style=\"text-decoration:underline;\">EDIT</span></span>: Okay, I got the room description to re-display after lights go on/off. As long as the description text for the room is plain text (i.e. <span style=\"font-style:italic;\">not</span> a script), it's pretty easy.<br/>In the script list for &quot;switch on,&quot; right under where you have &quot;set object brightness,&quot; you put in the script &quot;print: expression&quot; and in the expression box you just put<br/><br/>kitchen.description<br/><br/>Likewise, in the &quot;switch off&quot; script list, you do the same but it needs to say<br/><br/>kitchen.darkroomdescription<br/><br/>That will make the default/dark room descriptions print appropriately after the lights are switched on/off without the player having to type &quot;look&quot; again to get the new room description. But, remember that only works if the descriptions you're referencing are plain text. If the room description itself is a script (which it is in my game), it will actually print to screen something like<br/>&quot;Script&#058; if {cart wreck.dark = true, print: &quot;yadda, yadda, yadda&quot;<br/>So if the room description is a script, something a little more involved will be needed, but I'm not sure what yet.<br/>Re-Edit: I suppose you could just COPY the text you want displayed, and print it as ordinary text, instead of referencing the room's description attributes... that might even be easier actually, but it feels less &quot;professional&quot; for some reason...",
      "PostDate": "2013-02-18T03:40:01+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "22806",
      "UserId": 0,
      "Username": "Hippeus",
      "UserAvatar": null,
      "UserGravatar": "d10eaa3caefa69727658e2032028f55d",
      "EditableText": "Phenomenal job, all of this is incredibly helpful to me. \n\nI solved my issues, the room is now properly dark, the lightbulb does change that, propers text is displayed, etc. \n\nExcept for trying your solution to the default room description not displaying. I get this error:\n\nError running script&#058; SyntaxError: Unexpected token &quot;Home___SPACE___Kitchen___DOT___description&quot; &lt;IDENTIFIER&gt;; expected one of &lt;EOF&gt;Line: 1, Column: 3\n\nHere is the print: expression thing I put in.\n\n[img:3q6i3ejc]http&#58;//i&#46;imgur&#46;com/UhMynzM&#46;png[/img:3q6i3ejc]\n\n(Home Kitchen is the room name I have)\n\nI can't make sense of that, I don't know what &lt;EOF&gt; is supposed to mean. \n\nAs for the less professional thing, I get that feeling too. I could very easily make this all smoke and mirrors, but making something that genuinely receives player input is a satisfying feeling from a developer standpoint. I don't want to make this all smoke and mirrors. Not to mention, I'm getting some actual experience in. \n\nI really do appreciate all of your help so far, it's been far more frequent than I assumed it would be, and you seemed to put in a good amount of effort uncovering my mistakes.",
      "EditableFormat": "bbcode",
      "HTML": "Phenomenal job, all of this is incredibly helpful to me. <br/><br/>I solved my issues, the room is now properly dark, the lightbulb does change that, propers text is displayed, etc. <br/><br/>Except for trying your solution to the default room description not displaying. I get this error:<br/><br/>Error running script&#058; SyntaxError: Unexpected token &quot;Home___SPACE___Kitchen___DOT___description&quot; &lt;IDENTIFIER&gt;; expected one of &lt;EOF&gt;Line: 1, Column: 3<br/><br/>Here is the print: expression thing I put in.<br/><br/><img src=\"http&#58;//i&#46;imgur&#46;com/UhMynzM&#46;png\" alt=\"\" /><br/><br/>(Home Kitchen is the room name I have)<br/><br/>I can't make sense of that, I don't know what &lt;EOF&gt; is supposed to mean. <br/><br/>As for the less professional thing, I get that feeling too. I could very easily make this all smoke and mirrors, but making something that genuinely receives player input is a satisfying feeling from a developer standpoint. I don't want to make this all smoke and mirrors. Not to mention, I'm getting some actual experience in. <br/><br/>I really do appreciate all of your help so far, it's been far more frequent than I assumed it would be, and you seemed to put in a good amount of effort uncovering my mistakes.",
      "PostDate": "2013-02-18T10:52:02+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "22807",
      "UserId": 0,
      "Username": "Pertex",
      "UserAvatar": "5940_1369854251.gif",
      "UserGravatar": "4cc1e52f99452e841ecf4cbee9eadde9",
      "EditableText": "Try this:\n[attachment=0:dbvl4n0b]<!-- ia0 -->pic.jpg<!-- ia0 -->[/attachment:dbvl4n0b]",
      "EditableFormat": "bbcode",
      "HTML": "Try this:<br/><div><img src=\"/attachment/487\" alt=\"pic.jpg\" /></div>",
      "PostDate": "2013-02-18T11:32:58+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "22822",
      "UserId": 0,
      "Username": "Hippeus",
      "UserAvatar": null,
      "UserGravatar": "d10eaa3caefa69727658e2032028f55d",
      "EditableText": "That's a very stupid mistake on my part, everything is fully functional. Thanks a ton!",
      "EditableFormat": "bbcode",
      "HTML": "That's a very stupid mistake on my part, everything is fully functional. Thanks a ton!",
      "PostDate": "2013-02-18T19:33:36+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "22927",
      "UserId": 0,
      "Username": "TriangleGames",
      "UserAvatar": null,
      "UserGravatar": "134d9e995777da65c5cf8efda551d579",
      "EditableText": "I just figured out how to do something related to this. Printing the room description only prints the literal [i:k18s0wcg]description text[/i:k18s0wcg] for the room, but I want the ENTIRE room display to re-appear after significant changes, including the lists of objects and exits that, for instance, could not be seen until the lights were turned on. Turns out it's really simple!\n\nAll you need to do is call the function &quot;OnEnterRoom&quot; and add &quot;null&quot; as the parameter. Voila, when the lights come on, all the newly visible objects are automatically shown to the player, just as if they'd entered the room again.",
      "EditableFormat": "bbcode",
      "HTML": "I just figured out how to do something related to this. Printing the room description only prints the literal <span style=\"font-style:italic;\">description text</span> for the room, but I want the ENTIRE room display to re-appear after significant changes, including the lists of objects and exits that, for instance, could not be seen until the lights were turned on. Turns out it's really simple!<br/><br/>All you need to do is call the function &quot;OnEnterRoom&quot; and add &quot;null&quot; as the parameter. Voila, when the lights come on, all the newly visible objects are automatically shown to the player, just as if they'd entered the room again.",
      "PostDate": "2013-02-25T16:22:53+00:00",
      "LastEditDate": null
    }
  ]
}
