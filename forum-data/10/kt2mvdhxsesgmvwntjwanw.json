{
  "Topic": {
    "TopicId": "kt2mvdhxsesgmvwntjwanw",
    "ForumId": "10",
    "Title": "DoTake",
    "LastUpdated": "2018-09-06T04:52:26.8937666Z",
    "ReplyCount": 0
  },
  "Posts": [
    {
      "PostId": "059011b4-a317-446e-ad4d-4b3350c6ad15",
      "UserId": 142763,
      "Username": "Forgewright",
      "AvatarUrl": "http://i.imgur.com/Ea6HecZb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "When using 'Take all' in game, the 'DoTake function will use the take message from each successful take. My issue occurs because I 'ClearTurn' then print a message in the 'script to run after taking' of taken items. Thus, only the last taken object message is shown when 'take all' is used.  \r\n\r\nI am trying to prevent scrolling of the page and only show the present turn's action. I prefer the look of the game that way. It works great aside from the 'takeAll'.\r\n\r\nIf I use my own script instead of the default action, this would stop the clearturn but would have to manually add the 'take' script to each item. I can do that but was wondering if anyone could think of a different way.",
      "EditableFormat": "markdown",
      "HTML": "<p>When using 'Take all' in game, the 'DoTake function will use the take message from each successful take. My issue occurs because I 'ClearTurn' then print a message in the 'script to run after taking' of taken items. Thus, only the last taken object message is shown when 'take all' is used.</p>\n<p>I am trying to prevent scrolling of the page and only show the present turn's action. I prefer the look of the game that way. It works great aside from the 'takeAll'.</p>\n<p>If I use my own script instead of the default action, this would stop the clearturn but would have to manually add the 'take' script to each item. I can do that but was wondering if anyone could think of a different way.</p>\n\n",
      "PostDate": "2018-09-06T04:52:26.8937666Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "79077e31-51e3-4723-b828-461116984ae5",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Clearing the screen for each command individually sounds like it would be a lot of work, and would break for almost every command which supports \"all\".\r\n\r\nIf you want to clear the screen every turn, but before any output generated by commands, I would have thought the easiest way would be overriding this function (which is called immediately before echoing the command to the screen; so the top thing on screen would always be the last command entered if you have echoing commands turned on)\r\n```\r\n  <function name=\"StartTurnOutputSection\">\r\n    ClearScreen\r\n    game.currentturnoutputsection = StartNewOutputSection()\r\n  </function>\r\n```",
      "EditableFormat": "markdown",
      "HTML": "<p>Clearing the screen for each command individually sounds like it would be a lot of work, and would break for almost every command which supports \"all\".</p>\n<p>If you want to clear the screen every turn, but before any output generated by commands, I would have thought the easiest way would be overriding this function (which is called immediately before echoing the command to the screen; so the top thing on screen would always be the last command entered if you have echoing commands turned on)</p>\n<pre><code>  &lt;function name=\"StartTurnOutputSection\"&gt;\n    ClearScreen\n    game.currentturnoutputsection = StartNewOutputSection()\n  &lt;/function&gt;\n</code></pre>\n\n",
      "PostDate": "2018-09-06T06:11:14.7295519Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "afaeca17-155d-4030-a95e-7ed63fb47f38",
      "UserId": 142763,
      "Username": "Forgewright",
      "AvatarUrl": "http://i.imgur.com/Ea6HecZb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Thanks mrangel,\r\nThe clear screen removes the room description. I like it to remain and just the action below it is removed. Gives the page a nice appearance. I have not been using the echo command.\r\n\r\nI think my best solution is to not 'ClearTurn' on any object that can be taken. Typically there aren't many objects in a room and the page won't fill and start scrolling. I want to keep the room description from scrolling and all the action happen under it. \r\n\r\nI could put the room description in it's own 'div'. I'll have to try to figure that out.",
      "EditableFormat": "markdown",
      "HTML": "<p>Thanks mrangel,<br>\nThe clear screen removes the room description. I like it to remain and just the action below it is removed. Gives the page a nice appearance. I have not been using the echo command.</p>\n<p>I think my best solution is to not 'ClearTurn' on any object that can be taken. Typically there aren't many objects in a room and the page won't fill and start scrolling. I want to keep the room description from scrolling and all the action happen under it.</p>\n<p>I could put the room description in it's own 'div'. I'll have to try to figure that out.</p>\n\n",
      "PostDate": "2018-09-06T07:21:09.1128453Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "ea0a00f0-52a7-4e30-92cf-16bea84232b1",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "> The clear screen removes the room description.\r\n\r\nYou can always put it back.\r\n```\r\n  <function name=\"StartTurnOutputSection\">\r\n    ClearScreen\r\n    ShowRoomDescription\r\n    game.currentturnoutputsection = StartNewOutputSection()\r\n  </function>\r\n```\r\nScreen will always contain the room description and the output from your latest command.\r\n\r\nOr another way to do the same thing, without needing to override functions. Have a turnscript which does:\r\n```\r\nif (not Equal (this.room, game.pov.parent)) {\r\n  this.room = game.pov.parent\r\n  this.description = this.currentturnoutputsection\r\n}\r\nif (HasString (game, \"lastturnoutputsection\") and not Equal (game.lastturnoutputsection, this.description)) {\r\n  RemoveOutputSection (game.lastturnoutputsection)\r\n}\r\n```\r\n(removes the previous turn's output if it isn't the room description. Not tested yet)",
      "EditableFormat": "markdown",
      "HTML": "<blockquote>\n<p>The clear screen removes the room description.</p>\n</blockquote>\n<p>You can always put it back.</p>\n<pre><code>  &lt;function name=\"StartTurnOutputSection\"&gt;\n    ClearScreen\n    ShowRoomDescription\n    game.currentturnoutputsection = StartNewOutputSection()\n  &lt;/function&gt;\n</code></pre>\n<p>Screen will always contain the room description and the output from your latest command.</p>\n<p>Or another way to do the same thing, without needing to override functions. Have a turnscript which does:</p>\n<pre><code>if (not Equal (this.room, game.pov.parent)) {\n  this.room = game.pov.parent\n  this.description = this.currentturnoutputsection\n}\nif (HasString (game, \"lastturnoutputsection\") and not Equal (game.lastturnoutputsection, this.description)) {\n  RemoveOutputSection (game.lastturnoutputsection)\n}\n</code></pre>\n<p>(removes the previous turn's output if it isn't the room description. Not tested yet)</p>\n\n",
      "PostDate": "2018-09-06T08:03:41.1788671Z",
      "LastEditDate": null,
      "link": null
    }
  ]
}
