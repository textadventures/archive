{
  "Topic": {
    "TopicId": "dku68n4kfkwx9jtyr83ptg",
    "ForumId": "10",
    "Title": "Function error: \"Arithmetic operation resulted in an overflow.\"",
    "LastUpdated": "2017-02-08T17:09:04.0897038Z",
    "ReplyCount": 0
  },
  "Posts": [
    {
      "PostId": "d4f54d86-16d0-463f-ab39-ce40e4f2a545",
      "UserId": 115910,
      "Username": "Sebastian2203",
      "AvatarUrl": "https://secure.gravatar.com/avatar/2c6803847fee75ca6b74e1a846b79bc5?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Is it possible that Quest has a limit for the number of functions in one line?\r\n\r\nLet me explain trough code:\r\n\r\nhttp://pastebin.com/c8aAJA7G\r\n\r\nNow that is all displayed in SINGLE msg script.\r\n\r\nThe problem lies in the MapTiles()\r\n\r\nI have tried to change the \" + MapTiles() + \" into TEST or anything that isn´t a function and it works well.\r\nI am 99% sure the problem isn´t the function itself because I have set it to return a simple number \"2\" and it still doesn´t work.\r\n\r\n(Even if I set it to string or anything simple, it still throws an error, so I hope the issue isn´t the function)\r\n\r\nI always get this error: **\"Arithmetic operation resulted in an overflow.\"**\r\n\r\n\r\n\r\n",
      "EditableFormat": "markdown",
      "HTML": "<p>Is it possible that Quest has a limit for the number of functions in one line?</p>\n<p>Let me explain trough code:</p>\n<p>http://pastebin.com/c8aAJA7G</p>\n<p>Now that is all displayed in SINGLE msg script.</p>\n<p>The problem lies in the MapTiles()</p>\n<p>I have tried to change the \" + MapTiles() + \" into TEST or anything that isn´t a function and it works well.<br>\nI am 99% sure the problem isn´t the function itself because I have set it to return a simple number \"2\" and it still doesn´t work.</p>\n<p>(Even if I set it to string or anything simple, it still throws an error, so I hope the issue isn´t the function)</p>\n<p>I always get this error: <strong>\"Arithmetic operation resulted in an overflow.\"</strong></p>\n\n",
      "PostDate": "2017-02-08T17:09:04.0897038Z",
      "LastEditDate": null
    },
    {
      "PostId": "5fca8746-b4ff-4919-9173-9b2a93f319cc",
      "UserId": 260569,
      "Username": "DarkLizerd",
      "AvatarUrl": "http://i.imgur.com/BXvaaIub.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Oh, your the one that did the \"ship mover\" thingy!!!\r\nI worked out an easer way to \"move\" the ship...\r\nSetCounter (\"Position\", GetInt(game, \"Y\") * 20 + GetInt(game, \"X\"))\r\nAnd maybe simpler:\r\nPosition= Y * 20  +  X\r\nOne line replaces all your **IF** statements...\r\n\r\nIn Basic, MapTiles() is a matrix variable and is used with an index number...\r\nX=MapTiles(player.Position)\r\nTo select which value you want...\r\nI did not know Quest had something similar!\r\n\r\nQuest maybe trying to identify MapTiles() as a function...\r\n",
      "EditableFormat": "markdown",
      "HTML": "<p>Oh, your the one that did the \"ship mover\" thingy!!!<br>\nI worked out an easer way to \"move\" the ship...<br>\nSetCounter (\"Position\", GetInt(game, \"Y\") * 20 + GetInt(game, \"X\"))<br>\nAnd maybe simpler:<br>\nPosition= Y * 20  +  X<br>\nOne line replaces all your <strong>IF</strong> statements...</p>\n<p>In Basic, MapTiles() is a matrix variable and is used with an index number...<br>\nX=MapTiles(player.Position)<br>\nTo select which value you want...<br>\nI did not know Quest had something similar!</p>\n<p>Quest maybe trying to identify MapTiles() as a function...</p>\n\n",
      "PostDate": "2017-02-08T17:42:54.8850639Z",
      "LastEditDate": null
    },
    {
      "PostId": "ceeb858c-5d86-4f40-8bb1-1fec180818ed",
      "UserId": 260569,
      "Username": "DarkLizerd",
      "AvatarUrl": "http://i.imgur.com/BXvaaIub.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "or... could it be:\r\n{if player.Position=383:÷}{if player.Position<>383:\" + MapTiles() + \"}\r\nDrop the \"+\" signs?\r\n",
      "EditableFormat": "markdown",
      "HTML": "<p>or... could it be:<br>\n{if player.Position=383:÷}{if player.Position&lt;&gt;383:\" + MapTiles() + \"}<br>\nDrop the \"+\" signs?</p>\n\n",
      "PostDate": "2017-02-08T17:45:14.1723253Z",
      "LastEditDate": null
    },
    {
      "PostId": "cfa0b59d-5cc7-47e7-93e1-97b293c22252",
      "UserId": 115910,
      "Username": "Sebastian2203",
      "AvatarUrl": "https://secure.gravatar.com/avatar/2c6803847fee75ca6b74e1a846b79bc5?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "\"_I worked out an easer way to \"move\" the ship..._\" \r\nWell, I have already learned how to use functions and I have reduced the amount of code by 90% so that´s working.\r\n\r\n(This is what happens when you are too arrogant to read the useful Quest documentation, lol)\r\n\r\n\"_In Basic, MapTiles() is a matrix variable..._\"\r\n\r\nWell I just changed the function to have a different name and it still doesn´t work... so I am not sure if that´s the case.\r\n\r\nPS: Also, I can´t drop the + sings because they simply have to be there for Quest to recognize them.\r\nI tried misspelling the function name to something and Quest immediately  recognized that, so for sure, it KNOWS what to do but the problem is that something goes wrong when it does that.",
      "EditableFormat": "markdown",
      "HTML": "<p>\"<em>I worked out an easer way to \"move\" the ship...</em>\"<br>\nWell, I have already learned how to use functions and I have reduced the amount of code by 90% so that´s working.</p>\n<p>(This is what happens when you are too arrogant to read the useful Quest documentation, lol)</p>\n<p>\"<em>In Basic, MapTiles() is a matrix variable...</em>\"</p>\n<p>Well I just changed the function to have a different name and it still doesn´t work... so I am not sure if that´s the case.</p>\n<p>PS: Also, I can´t drop the + sings because they simply have to be there for Quest to recognize them.<br>\nI tried misspelling the function name to something and Quest immediately  recognized that, so for sure, it KNOWS what to do but the problem is that something goes wrong when it does that.</p>\n\n",
      "PostDate": "2017-02-08T18:01:25.2794774Z",
      "LastEditDate": "2017-02-08T18:02:52.2100128Z"
    },
    {
      "PostId": "6e07d8e4-2485-4b4a-b9e1-ec753b840a3c",
      "UserId": 260569,
      "Username": "DarkLizerd",
      "AvatarUrl": "http://i.imgur.com/BXvaaIub.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Glad you got that figured out... learning the code helps...\r\n\r\nYes... it was a bad guess...\r\nI did play with your change but for me it just printed the text:   MapTiles()\r\nin place of the grid character .\r\n\r\nTry this, go back to the grid character, and just work with MapTiles() in one place\r\nand experiment to get that one space to work.\r\n\r\nWhat does your function MapTiles() look like?\r\nI may be able to help there... (maybe)\r\n\r\n",
      "EditableFormat": "markdown",
      "HTML": "<p>Glad you got that figured out... learning the code helps...</p>\n<p>Yes... it was a bad guess...<br>\nI did play with your change but for me it just printed the text:   MapTiles()<br>\nin place of the grid character .</p>\n<p>Try this, go back to the grid character, and just work with MapTiles() in one place<br>\nand experiment to get that one space to work.</p>\n<p>What does your function MapTiles() look like?<br>\nI may be able to help there... (maybe)</p>\n\n",
      "PostDate": "2017-02-08T18:38:58.4310517Z",
      "LastEditDate": null
    },
    {
      "PostId": "7f7446a6-0d50-476c-8bfb-a684c0f46ade",
      "UserId": 115910,
      "Username": "Sebastian2203",
      "AvatarUrl": "https://secure.gravatar.com/avatar/2c6803847fee75ca6b74e1a846b79bc5?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "You have probably inserted MapTiles() within the \"\" of the msg script, Quest then interprets it like plain text.\r\nIf you are doing it trough GUI, set print to EXPRESSION instead of MESSAGE.\r\n\r\nThe function is currently just a placeholder, currently it is supposed to return an integer value of 2. That´s all.\r\n\r\nThe function is supposed to make it easier for map tiles to be changed, currently you have to slug trough very massive msg command and it is VERY unclear which part does what so it´s a mess. \r\n\r\nI want my \"experiment\" to be more readable by anyone who is willing to do something like me so I need to make it more elegant.\r\n\r\nIf I made a function that could easily just put a different character for each \"tile\" anyone could just adjust the map to display anything he wants, without hours of frustrating headaches.\r\n\r\nBut I will figure it out, somehow...",
      "EditableFormat": "markdown",
      "HTML": "<p>You have probably inserted MapTiles() within the \"\" of the msg script, Quest then interprets it like plain text.<br>\nIf you are doing it trough GUI, set print to EXPRESSION instead of MESSAGE.</p>\n<p>The function is currently just a placeholder, currently it is supposed to return an integer value of 2. That´s all.</p>\n<p>The function is supposed to make it easier for map tiles to be changed, currently you have to slug trough very massive msg command and it is VERY unclear which part does what so it´s a mess.</p>\n<p>I want my \"experiment\" to be more readable by anyone who is willing to do something like me so I need to make it more elegant.</p>\n<p>If I made a function that could easily just put a different character for each \"tile\" anyone could just adjust the map to display anything he wants, without hours of frustrating headaches.</p>\n<p>But I will figure it out, somehow...</p>\n\n",
      "PostDate": "2017-02-08T18:44:31.878272Z",
      "LastEditDate": null
    },
    {
      "PostId": "473f8c23-9f99-4568-87af-d9f5faeec815",
      "UserId": 1346,
      "Username": "The Pixie",
      "AvatarUrl": "https://secure.gravatar.com/avatar/cfa37e927f96177bcf6053ae8f108f77?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Might be easier in two loops. Something like...\r\n```\r\ns = \"┌──────────────────────────────────────────────┐<br/>\"\r\nfor (row, 20, 1, -1){\r\n  s = s + \":|\"\r\n  for (col, 1, 20) {\r\n    if (player.Position = row * 20 + col) {\r\n      s = s + \"÷\"\r\n    }\r\n    else {\r\n      s = s + MapTiles()\r\n    }\r\n  }\r\n  s = s + \"<br/>\"\r\n}\r\ns = s + \" └─────────────────────────────────────────────┘\"  \r\nmsg(s)",
      "EditableFormat": "markdown",
      "HTML": "<p>Might be easier in two loops. Something like...</p>\n<pre><code>s = \"┌──────────────────────────────────────────────┐&lt;br/&gt;\"\nfor (row, 20, 1, -1){\n  s = s + \":|\"\n  for (col, 1, 20) {\n    if (player.Position = row * 20 + col) {\n      s = s + \"÷\"\n    }\n    else {\n      s = s + MapTiles()\n    }\n  }\n  s = s + \"&lt;br/&gt;\"\n}\ns = s + \" └─────────────────────────────────────────────┘\"  \nmsg(s)\n</code></pre>\n\n",
      "PostDate": "2017-02-08T19:12:35.4050114Z",
      "LastEditDate": null
    },
    {
      "PostId": "73418bc3-1e0c-466a-a58c-e43d174737dc",
      "UserId": 260569,
      "Username": "DarkLizerd",
      "AvatarUrl": "http://i.imgur.com/BXvaaIub.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "I \"knew\" a loop could be done!!!\r\nI just didn't know **how**... thanks!\r\n\r\nPixie:\r\nBut what about the MapTile() problem?\r\nDoes Quest have a array variable?\r\nIE:\r\nM(1)=\"Test\"\r\nM(2)=\"This\"\r\nM(3)=\"OOPS!\"\r\nThen:\r\nmsg(M(1))\r\nwould show (print):\r\nTest\r\n???\r\n",
      "EditableFormat": "markdown",
      "HTML": "<p>I \"knew\" a loop could be done!!!<br>\nI just didn't know <strong>how</strong>... thanks!</p>\n<p>Pixie:<br>\nBut what about the MapTile() problem?<br>\nDoes Quest have a array variable?<br>\nIE:<br>\nM(1)=\"Test\"<br>\nM(2)=\"This\"<br>\nM(3)=\"OOPS!\"<br>\nThen:<br>\nmsg(M(1))<br>\nwould show (print):<br>\nTest<br>\n???</p>\n\n",
      "PostDate": "2017-02-08T19:53:58.8750031Z",
      "LastEditDate": null
    },
    {
      "PostId": "3a8e8fec-5d51-4434-ad0d-9ed3944f6adf",
      "UserId": 247325,
      "Username": "hegemonkhan",
      "AvatarUrl": "https://secure.gravatar.com/avatar/a96cf34d8d97c57de38f54ee22b1759b?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "@ DarkLizard:\r\n\r\nloops/iterations/recursion:\r\n\r\n1. 'while' Function\r\n2. 'for' Function\r\n3. 'foreach' Function\r\n4. calling/'do' Function/'invoking' Function, the parent Function/Script_Attribute from within the parent Function/Script_Attribute 's scripting:\r\n\r\n```\r\n// this is NOT terminated (endless/infinite loop), but it's just an example of calling a Function (via tail-recursion):\r\n<function name=\"hi_function\">\r\n  msg (\"hi\")\r\n  hi_function\r\n</function>\r\n\r\nScript Attributes:\r\n\r\n// this is NOT terminated (endless/infinite loop), but it's just an example of calling a Script Attribute (via tail-recursion):\r\n\r\n<game name=\"xxx\">\r\n  <attr name=\"start\" type=\"script\">\r\n    msg (\"hi\")\r\n    invoke (game.start)\r\n  </attr>\r\n</game>\r\n\r\n// or:\r\n\r\n<game name=\"xxx\">\r\n  <attr name=\"start\" type=\"script\">\r\n    msg (\"hi\")\r\n    do (game, \"start\") // 'do' is more powerful/useful than the 'invoke' Function, as (one reason of a few) you can concatenate with it, unlike within 'invoke' Function\r\n  </attr>\r\n</game>\r\n```\r\n\r\n-----------------------------\r\n\r\n'arrays' are known as 'Lists (String List Attributes and Object List Attributes)' in quest:\r\n\r\nhttp://docs.textadventures.co.uk/quest/guides/using_lists.html\r\nhttp://textadventures.co.uk/forum/samples/topic/5137/list-and-dictionary-extensive-guide-by-hk",
      "EditableFormat": "markdown",
      "HTML": "<p>@ DarkLizard:</p>\n<p>loops/iterations/recursion:</p>\n<ol>\n<li>'while' Function</li>\n<li>'for' Function</li>\n<li>'foreach' Function</li>\n<li>calling/'do' Function/'invoking' Function, the parent Function/Script_Attribute from within the parent Function/Script_Attribute 's scripting:</li>\n</ol>\n<pre><code>// this is NOT terminated (endless/infinite loop), but it's just an example of calling a Function (via tail-recursion):\n&lt;function name=\"hi_function\"&gt;\n  msg (\"hi\")\n  hi_function\n&lt;/function&gt;\n\nScript Attributes:\n\n// this is NOT terminated (endless/infinite loop), but it's just an example of calling a Script Attribute (via tail-recursion):\n\n&lt;game name=\"xxx\"&gt;\n  &lt;attr name=\"start\" type=\"script\"&gt;\n    msg (\"hi\")\n    invoke (game.start)\n  &lt;/attr&gt;\n&lt;/game&gt;\n\n// or:\n\n&lt;game name=\"xxx\"&gt;\n  &lt;attr name=\"start\" type=\"script\"&gt;\n    msg (\"hi\")\n    do (game, \"start\") // 'do' is more powerful/useful than the 'invoke' Function, as (one reason of a few) you can concatenate with it, unlike within 'invoke' Function\n  &lt;/attr&gt;\n&lt;/game&gt;\n</code></pre>\n<hr>\n<p>'arrays' are known as 'Lists (String List Attributes and Object List Attributes)' in quest:</p>\n<p>http://docs.textadventures.co.uk/quest/guides/using_lists.html<br>\nhttp://textadventures.co.uk/forum/samples/topic/5137/list-and-dictionary-extensive-guide-by-hk</p>\n\n",
      "PostDate": "2017-02-08T21:10:27.4216325Z",
      "LastEditDate": "2017-02-08T21:21:16.0774792Z"
    },
    {
      "PostId": "886ed746-987f-45af-b2c5-c760ce4ff510",
      "UserId": 1346,
      "Username": "The Pixie",
      "AvatarUrl": "https://secure.gravatar.com/avatar/cfa37e927f96177bcf6053ae8f108f77?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "What you could do is create an HTML table, with each cell of thrtable corresponding to a square on your map, and colour the background as required (which is what  did in Deeper). You could then use a string dictionary to hold the landscape data, and have the player as an image on top of that.\r\n\r\nHere is an example where the map is ocean with an island, and the player can move around the water tiles. Works best if you have an image, ship.png, in the same folder.\r\n\r\n```\r\n<!--Saved by Quest 5.6.6108.15891-->\r\n<asl version=\"550\">\r\n  <include ref=\"English.aslx\" />\r\n  <include ref=\"Core.aslx\" />\r\n  <game name=\"map\">\r\n    <gameid>a3d22ef7-2aa1-48e8-a6cb-64430375744e</gameid>\r\n    <version>1.0</version>\r\n    <firstpublished>2017</firstpublished>\r\n    <start type=\"script\">\r\n      player.row = 2\r\n      player.col = 3\r\n      game.landscape = NewStringDictionary()\r\n      MapBox (8, 11, 11, 14, \"PaleGreen\")\r\n      MapBox (11, 12, 13, 16, \"PaleGreen\")\r\n      MapSet (9, 15, \"SpringGreen\")\r\n      MapSet (10, 15, \"SpringGreen\")\r\n      MapSet (10, 16, \"SpringGreen\")\r\n      MapBox (12, 13, 14, 15, \"Silver\")\r\n      MapSet (11, 13, \"Silver\")\r\n      MapSet (13, 14, \"White\")\r\n      Map\r\n    </start>\r\n  </game>\r\n  <object name=\"room\">\r\n    <inherit name=\"editor_room\" />\r\n    <object name=\"player\">\r\n      <inherit name=\"editor_object\" />\r\n      <inherit name=\"editor_player\" />\r\n      <exit alias=\"west\" to=\"room\">\r\n        <inherit name=\"westdirection\" />\r\n      </exit>\r\n    </object>\r\n    <exit alias=\"east\" to=\"room\">\r\n      <inherit name=\"eastdirection\" />\r\n      <runscript />\r\n      <script type=\"script\">\r\n        Move (1, 0)\r\n      </script>\r\n    </exit>\r\n    <exit alias=\"north\" to=\"room\">\r\n      <inherit name=\"northdirection\" />\r\n      <runscript />\r\n      <script type=\"script\">\r\n        Move (0, 1)\r\n      </script>\r\n    </exit>\r\n    <exit alias=\"south\" to=\"room\">\r\n      <inherit name=\"southdirection\" />\r\n      <runscript />\r\n      <script type=\"script\">\r\n        Move (0, -1)\r\n      </script>\r\n    </exit>\r\n    <exit alias=\"west\" to=\"room\">\r\n      <inherit name=\"westdirection\" />\r\n      <runscript />\r\n      <script type=\"script\">\r\n        Move (-1, 0)\r\n      </script>\r\n    </exit>\r\n  </object>\r\n  <function name=\"Map\"><![CDATA[\r\n    s = \"<table style=\\\"border-spacing:0;border-collapse:collapse;\\\">\"\r\n    for (row, 20, 1, -1) {\r\n      s = s + \"<tr>\"\r\n      for (col, 1, 20) {\r\n        key = MapKey(col, row)\r\n        if (player.row = row and player.col = col) {\r\n          content = \"<img src=\\\"\" + GetFileURL(\"ship.png\") + \"\\\"/>\"\r\n        }\r\n        else {\r\n          content = \"&nbsp;&nbsp;&nbsp;&nbsp;\"\r\n        }\r\n        if (DictionaryContains(game.landscape, key)) {\r\n          s = s + \"<td style=\\\"background: \" + StringDictionaryItem(game.landscape, key) + \";\\\">\" + content + \"</td>\"\r\n        }\r\n        else {\r\n          s = s + \"<td style=\\\"background: LightBlue;\\\">\" + content + \"</td>\"\r\n        }\r\n      }\r\n      s = s + \"</tr>\"\r\n    }\r\n    msg (s + \"</table>\")\r\n  ]]></function>\r\n  <function name=\"MapKey\" parameters=\"col, row\" type=\"string\"><![CDATA[\r\n    return (\">\" + row + \",\" + col + \"<\")\r\n  ]]></function>\r\n  <function name=\"MapSet\" parameters=\"col, row, colour\">\r\n    key = MapKey(col, row)\r\n    if (DictionaryContains(game.landscape, key)) {\r\n      dictionary remove (game.landscape, key)\r\n    }\r\n    dictionary add (game.landscape, key, colour)\r\n  </function>\r\n  <function name=\"MapBox\" parameters=\"col1, row1, col2, row2, colour\">\r\n    for (row, row1, row2) {\r\n      for (col, col1, col2) {\r\n        MapSet (col, row, colour)\r\n      }\r\n    }\r\n  </function>\r\n  <function name=\"Move\" parameters=\"col, row\"><![CDATA[\r\n    new_col = player.col + col\r\n    new_row = player.row + row\r\n    if (new_col > 20 or new_col < 1 or new_row > 20 or new_row < 1) {\r\n      msg (\"Edge of the world\")\r\n    }\r\n    else if (DictionaryContains(game.landscape, MapKey(new_col, new_row))) {\r\n      msg (\"Land\")\r\n    }\r\n    else {\r\n      player.col = new_col\r\n      player.row = new_row\r\n      Map\r\n    }\r\n  ]]></function>\r\n</asl>",
      "EditableFormat": "markdown",
      "HTML": "<p>What you could do is create an HTML table, with each cell of thrtable corresponding to a square on your map, and colour the background as required (which is what  did in Deeper). You could then use a string dictionary to hold the landscape data, and have the player as an image on top of that.</p>\n<p>Here is an example where the map is ocean with an island, and the player can move around the water tiles. Works best if you have an image, ship.png, in the same folder.</p>\n<pre><code>&lt;!--Saved by Quest 5.6.6108.15891--&gt;\n&lt;asl version=\"550\"&gt;\n  &lt;include ref=\"English.aslx\" /&gt;\n  &lt;include ref=\"Core.aslx\" /&gt;\n  &lt;game name=\"map\"&gt;\n    &lt;gameid&gt;a3d22ef7-2aa1-48e8-a6cb-64430375744e&lt;/gameid&gt;\n    &lt;version&gt;1.0&lt;/version&gt;\n    &lt;firstpublished&gt;2017&lt;/firstpublished&gt;\n    &lt;start type=\"script\"&gt;\n      player.row = 2\n      player.col = 3\n      game.landscape = NewStringDictionary()\n      MapBox (8, 11, 11, 14, \"PaleGreen\")\n      MapBox (11, 12, 13, 16, \"PaleGreen\")\n      MapSet (9, 15, \"SpringGreen\")\n      MapSet (10, 15, \"SpringGreen\")\n      MapSet (10, 16, \"SpringGreen\")\n      MapBox (12, 13, 14, 15, \"Silver\")\n      MapSet (11, 13, \"Silver\")\n      MapSet (13, 14, \"White\")\n      Map\n    &lt;/start&gt;\n  &lt;/game&gt;\n  &lt;object name=\"room\"&gt;\n    &lt;inherit name=\"editor_room\" /&gt;\n    &lt;object name=\"player\"&gt;\n      &lt;inherit name=\"editor_object\" /&gt;\n      &lt;inherit name=\"editor_player\" /&gt;\n      &lt;exit alias=\"west\" to=\"room\"&gt;\n        &lt;inherit name=\"westdirection\" /&gt;\n      &lt;/exit&gt;\n    &lt;/object&gt;\n    &lt;exit alias=\"east\" to=\"room\"&gt;\n      &lt;inherit name=\"eastdirection\" /&gt;\n      &lt;runscript /&gt;\n      &lt;script type=\"script\"&gt;\n        Move (1, 0)\n      &lt;/script&gt;\n    &lt;/exit&gt;\n    &lt;exit alias=\"north\" to=\"room\"&gt;\n      &lt;inherit name=\"northdirection\" /&gt;\n      &lt;runscript /&gt;\n      &lt;script type=\"script\"&gt;\n        Move (0, 1)\n      &lt;/script&gt;\n    &lt;/exit&gt;\n    &lt;exit alias=\"south\" to=\"room\"&gt;\n      &lt;inherit name=\"southdirection\" /&gt;\n      &lt;runscript /&gt;\n      &lt;script type=\"script\"&gt;\n        Move (0, -1)\n      &lt;/script&gt;\n    &lt;/exit&gt;\n    &lt;exit alias=\"west\" to=\"room\"&gt;\n      &lt;inherit name=\"westdirection\" /&gt;\n      &lt;runscript /&gt;\n      &lt;script type=\"script\"&gt;\n        Move (-1, 0)\n      &lt;/script&gt;\n    &lt;/exit&gt;\n  &lt;/object&gt;\n  &lt;function name=\"Map\"&gt;&lt;![CDATA[\n    s = \"&lt;table style=\\\"border-spacing:0;border-collapse:collapse;\\\"&gt;\"\n    for (row, 20, 1, -1) {\n      s = s + \"&lt;tr&gt;\"\n      for (col, 1, 20) {\n        key = MapKey(col, row)\n        if (player.row = row and player.col = col) {\n          content = \"&lt;img src=\\\"\" + GetFileURL(\"ship.png\") + \"\\\"/&gt;\"\n        }\n        else {\n          content = \"&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;\"\n        }\n        if (DictionaryContains(game.landscape, key)) {\n          s = s + \"&lt;td style=\\\"background: \" + StringDictionaryItem(game.landscape, key) + \";\\\"&gt;\" + content + \"&lt;/td&gt;\"\n        }\n        else {\n          s = s + \"&lt;td style=\\\"background: LightBlue;\\\"&gt;\" + content + \"&lt;/td&gt;\"\n        }\n      }\n      s = s + \"&lt;/tr&gt;\"\n    }\n    msg (s + \"&lt;/table&gt;\")\n  ]]&gt;&lt;/function&gt;\n  &lt;function name=\"MapKey\" parameters=\"col, row\" type=\"string\"&gt;&lt;![CDATA[\n    return (\"&gt;\" + row + \",\" + col + \"&lt;\")\n  ]]&gt;&lt;/function&gt;\n  &lt;function name=\"MapSet\" parameters=\"col, row, colour\"&gt;\n    key = MapKey(col, row)\n    if (DictionaryContains(game.landscape, key)) {\n      dictionary remove (game.landscape, key)\n    }\n    dictionary add (game.landscape, key, colour)\n  &lt;/function&gt;\n  &lt;function name=\"MapBox\" parameters=\"col1, row1, col2, row2, colour\"&gt;\n    for (row, row1, row2) {\n      for (col, col1, col2) {\n        MapSet (col, row, colour)\n      }\n    }\n  &lt;/function&gt;\n  &lt;function name=\"Move\" parameters=\"col, row\"&gt;&lt;![CDATA[\n    new_col = player.col + col\n    new_row = player.row + row\n    if (new_col &gt; 20 or new_col &lt; 1 or new_row &gt; 20 or new_row &lt; 1) {\n      msg (\"Edge of the world\")\n    }\n    else if (DictionaryContains(game.landscape, MapKey(new_col, new_row))) {\n      msg (\"Land\")\n    }\n    else {\n      player.col = new_col\n      player.row = new_row\n      Map\n    }\n  ]]&gt;&lt;/function&gt;\n&lt;/asl&gt;\n</code></pre>\n\n",
      "PostDate": "2017-02-09T09:21:02.2827675Z",
      "LastEditDate": null
    },
    {
      "PostId": "7a304155-0754-4ead-8299-e4a579378e28",
      "UserId": 260569,
      "Username": "DarkLizerd",
      "AvatarUrl": "http://i.imgur.com/BXvaaIub.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "What dimensions for Ship.png?\r\n",
      "EditableFormat": "markdown",
      "HTML": "<p>What dimensions for Ship.png?</p>\n\n",
      "PostDate": "2017-02-09T17:43:29.6318963Z",
      "LastEditDate": null
    },
    {
      "PostId": "33da4c9d-0c12-40dc-8c58-3131fe1d5983",
      "UserId": 260569,
      "Username": "DarkLizerd",
      "AvatarUrl": "http://i.imgur.com/BXvaaIub.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Cool, a graphic programming in a \"text\" only environment!\r\nAnyway to stop the new picture from scrolling up?\r\nClearScreen does not work.\r\n",
      "EditableFormat": "markdown",
      "HTML": "<p>Cool, a graphic programming in a \"text\" only environment!<br>\nAnyway to stop the new picture from scrolling up?<br>\nClearScreen does not work.</p>\n\n",
      "PostDate": "2017-02-09T17:53:34.5009305Z",
      "LastEditDate": null
    }
  ]
}
