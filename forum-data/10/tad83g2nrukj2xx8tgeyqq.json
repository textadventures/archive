{
  "Topic": {
    "TopicId": "tad83g2nrukj2xx8tgeyqq",
    "ForumId": "10",
    "Title": "Recalling Command Menu from Function [Solved]",
    "LastUpdated": "2019-07-29T06:54:05.9680474Z",
    "ReplyCount": 0
  },
  "Posts": [
    {
      "PostId": "c5f6d187-ca17-4da4-bc72-5998b6b2c632",
      "UserId": 248029,
      "Username": "Anonynn",
      "AvatarUrl": "https://i.imgur.com/HEtnsWqb.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Hello everyone ^_^ \r\n\r\nSo I have this...\r\n\r\n**FUNCTION**\r\n```\r\ndo (game, \"restmenu\")\r\n```\r\nwhich I'm trying to have recall my *Command Rest*'s switch menu.\r\n\r\n**COMMAND REST**\r\n```\r\nSwitch\r\ngame.restmenu\r\n```\r\n\r\nBut I'm getting a lot of \"reference object not set to the instance of an object\" \r\n\r\nDo I have the code wrong for this?\r\ndo (objectname,\"attributename\")\r\n\r\nThanks for your help in advance!\r\n\r\n\r\nAnonynn. ",
      "EditableFormat": "markdown",
      "HTML": "<p>Hello everyone ^_^</p>\n<p>So I have this...</p>\n<p><strong>FUNCTION</strong></p>\n<pre><code>do (game, \"restmenu\")\n</code></pre>\n<p>which I'm trying to have recall my <em>Command Rest</em>'s switch menu.</p>\n<p><strong>COMMAND REST</strong></p>\n<pre><code>Switch\ngame.restmenu\n</code></pre>\n<p>But I'm getting a lot of \"reference object not set to the instance of an object\"</p>\n<p>Do I have the code wrong for this?<br>\ndo (objectname,\"attributename\")</p>\n<p>Thanks for your help in advance!</p>\n<p>Anonynn.</p>\n\n",
      "PostDate": "2019-07-29T06:54:05.9680474Z",
      "LastEditDate": "2019-08-04T07:47:15.1921018Z",
      "link": null
    },
    {
      "PostId": "736025d1-b2bd-4d38-8490-5c306d0bbeb9",
      "UserId": 248029,
      "Username": "Anonynn",
      "AvatarUrl": "https://i.imgur.com/HEtnsWqb.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Or maybe there is no way to do it? @_@ ",
      "EditableFormat": "markdown",
      "HTML": "<p>Or maybe there is no way to do it? @_@</p>\n\n",
      "PostDate": "2019-07-30T18:00:05.2024826Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "8b807c37-5149-4c10-954e-8e9b0697df60",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "I'm not sure what you're asking.\r\n\r\nIs `game.restmenu` a script attribute?",
      "EditableFormat": "markdown",
      "HTML": "<p>I'm not sure what you're asking.</p>\n<p>Is <code>game.restmenu</code> a script attribute?</p>\n\n",
      "PostDate": "2019-07-30T21:55:23.6794931Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "22723a8c-adaa-43ba-a102-372a4ce3d84d",
      "UserId": 248029,
      "Username": "Anonynn",
      "AvatarUrl": "https://i.imgur.com/HEtnsWqb.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Hey ^_^ \r\n\r\nI think so? Sorry, let me try to clarify!\r\n\r\nI have a **SWITCH** script called *game.restmenu* in my *Rest Command* which calls a menu of several choices, each of which, call a **FUNCTION**.\r\n\r\nAt the end of each those specific **FUNCTION**(S), I'm trying to recall that *Rest Command* Switch script *game.restmenu* again. \r\n\r\nIs that clarified?\r\n\r\nAnonynn. ",
      "EditableFormat": "markdown",
      "HTML": "<p>Hey ^_^</p>\n<p>I think so? Sorry, let me try to clarify!</p>\n<p>I have a <strong>SWITCH</strong> script called <em>game.restmenu</em> in my <em>Rest Command</em> which calls a menu of several choices, each of which, call a <strong>FUNCTION</strong>.</p>\n<p>At the end of each those specific <strong>FUNCTION</strong>(S), I'm trying to recall that <em>Rest Command</em> Switch script <em>game.restmenu</em> again.</p>\n<p>Is that clarified?</p>\n<p>Anonynn.</p>\n\n",
      "PostDate": "2019-08-01T02:48:01.7815399Z",
      "LastEditDate": "2019-08-01T02:50:05.8815893Z",
      "link": null
    },
    {
      "PostId": "2296d1de-a74f-440f-bb68-21e6ca67f914",
      "UserId": 248029,
      "Username": "Anonynn",
      "AvatarUrl": "https://i.imgur.com/HEtnsWqb.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Hopefully, I explained that well enough. If not, let me know and I can clarify further!\r\n\r\nAnonynn. ",
      "EditableFormat": "markdown",
      "HTML": "<p>Hopefully, I explained that well enough. If not, let me know and I can clarify further!</p>\n<p>Anonynn.</p>\n\n",
      "PostDate": "2019-08-04T03:03:33.9855249Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "296ec362-7ea9-43b8-894d-6fc10f9983ec",
      "UserId": 277074,
      "Username": "Dcoder",
      "AvatarUrl": "https://i.imgur.com/O07mlRtb.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "```\r\nHandleSingleCommand (\"rest\")\r\ngame.suppressturnscripts = true\r\n```\r\nPut that at the end of your function(s).  That will cause Quest to act as if the player typed \"rest\".  The ```game.suppressturnscripts = true``` keeps the turnscripts from firing an additional time.  Keep in mind that this code will produce an endless loop unless there is a way for the player to break out of it.",
      "EditableFormat": "markdown",
      "HTML": "<pre><code>HandleSingleCommand (\"rest\")\ngame.suppressturnscripts = true\n</code></pre>\n<p>Put that at the end of your function(s).  That will cause Quest to act as if the player typed \"rest\".  The <code>game.suppressturnscripts = true</code> keeps the turnscripts from firing an additional time.  Keep in mind that this code will produce an endless loop unless there is a way for the player to break out of it.</p>\n\n",
      "PostDate": "2019-08-04T03:26:14.0396107Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "375e65eb-7fb1-46af-b514-a3cea6d11efb",
      "UserId": 248029,
      "Username": "Anonynn",
      "AvatarUrl": "https://i.imgur.com/HEtnsWqb.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "I'll try it,  although I was hoping to not have the opening dialogue of the Rest Command fire again and again, that's why I was wanting to call just the Switch script within it @_@ Is there a way to do just that?\r\n\r\nThanks for the help so far, Dcoder ^_^ \r\n\r\nAnonynn. ",
      "EditableFormat": "markdown",
      "HTML": "<p>I'll try it,  although I was hoping to not have the opening dialogue of the Rest Command fire again and again, that's why I was wanting to call just the Switch script within it @_@ Is there a way to do just that?</p>\n<p>Thanks for the help so far, Dcoder ^_^</p>\n<p>Anonynn.</p>\n\n",
      "PostDate": "2019-08-04T05:56:19.4799851Z",
      "LastEditDate": "2019-08-04T05:59:42.0400633Z",
      "link": null
    },
    {
      "PostId": "2391e753-ae8d-4445-8250-64e79cbd909c",
      "UserId": 247325,
      "Username": "hegemonkhan",
      "AvatarUrl": "https://secure.gravatar.com/avatar/a96cf34d8d97c57de38f54ee22b1759b?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "since the 'switch' is a built-in Script, (maybe there's a way to call it, but this would take internal coding knowledge, if it can be done), you can't call it, but, you can \"cheat\" by:\r\n\r\nhave/putting your 'switch' Script within a Function (or it can be within a Script Attribute for an Object, like your 'game.restmenu' Script Attribute)\r\n\r\n```\r\n<game name=\"NAME_OF_GAME\">\r\n\r\n  <attr name=\"start\" type=\"script\">\r\n\r\n    // you may be able to call the Command's Script itself (but am not sure):\r\n    //\r\n    // do (rest, \"script\")\r\n    // or:\r\n    // invoke (rest.script)\r\n\r\n    // if you just want to call the 'switch' script (Function of Script Attribute of Object):\r\n    //\r\n    // as a Function:\r\n    // \r\n    // SWITCH_FUNCTION\r\n    //\r\n    // or, as a Script Attribute of an Object:\r\n    // \r\n    // do (game, \"SWITCH_SCRIPT_ATTRIBUTE\")\r\n    // or:\r\n    // invoke (game.SWITCH_SCRIPT_ATTRIBUTE) \r\n\r\n  <attr name=\"restmenu\" type=\"script\">\r\n\r\n    // WHATEVER scripting\r\n\r\n  </attr>\r\n\r\n  <attr name=\"SWITCH_SCRIPT_ATTRIBUTE\" type=\"script\">\r\n\r\n    switch (XXX) {\r\n      case (\"XXX\") {\r\n        // XXX\r\n      }\r\n    }\r\n\r\n  </attr>\r\n\r\n</game>\r\n\r\n<command name=\"rest\">\r\n\r\n  <pattern>rest</pattern>\r\n\r\n  <script>\r\n\r\n    // as a Function:\r\n    //\r\n    // SWITCH_FUNCTION\r\n    //\r\n    // or, as a Script Attribute of an Object:\r\n    //\r\n    // do (game, \"SWITCH_SCRIPT_ATTRIBUTE\")\r\n    // or:\r\n    // invoke (game.SWITCH_SCRIPT_ATTRIBUTE)\r\n\r\n    do (game, \"restmenu\")\r\n    // or:\r\n    // invoke (game.restmenu)\r\n\r\n  </script>\r\n\r\n</command>\r\n\r\n<function name=\"SWITCH_FUNCTION\">\r\n\r\n  switch (XXX) {\r\n    case (\"XXX\") {\r\n      // XXX\r\n    }\r\n  }\r\n\r\n</function>\r\n```",
      "EditableFormat": "markdown",
      "HTML": "<p>since the 'switch' is a built-in Script, (maybe there's a way to call it, but this would take internal coding knowledge, if it can be done), you can't call it, but, you can \"cheat\" by:</p>\n<p>have/putting your 'switch' Script within a Function (or it can be within a Script Attribute for an Object, like your 'game.restmenu' Script Attribute)</p>\n<pre><code>&lt;game name=\"NAME_OF_GAME\"&gt;\n\n  &lt;attr name=\"start\" type=\"script\"&gt;\n\n    // you may be able to call the Command's Script itself (but am not sure):\n    //\n    // do (rest, \"script\")\n    // or:\n    // invoke (rest.script)\n\n    // if you just want to call the 'switch' script (Function of Script Attribute of Object):\n    //\n    // as a Function:\n    // \n    // SWITCH_FUNCTION\n    //\n    // or, as a Script Attribute of an Object:\n    // \n    // do (game, \"SWITCH_SCRIPT_ATTRIBUTE\")\n    // or:\n    // invoke (game.SWITCH_SCRIPT_ATTRIBUTE) \n\n  &lt;attr name=\"restmenu\" type=\"script\"&gt;\n\n    // WHATEVER scripting\n\n  &lt;/attr&gt;\n\n  &lt;attr name=\"SWITCH_SCRIPT_ATTRIBUTE\" type=\"script\"&gt;\n\n    switch (XXX) {\n      case (\"XXX\") {\n        // XXX\n      }\n    }\n\n  &lt;/attr&gt;\n\n&lt;/game&gt;\n\n&lt;command name=\"rest\"&gt;\n\n  &lt;pattern&gt;rest&lt;/pattern&gt;\n\n  &lt;script&gt;\n\n    // as a Function:\n    //\n    // SWITCH_FUNCTION\n    //\n    // or, as a Script Attribute of an Object:\n    //\n    // do (game, \"SWITCH_SCRIPT_ATTRIBUTE\")\n    // or:\n    // invoke (game.SWITCH_SCRIPT_ATTRIBUTE)\n\n    do (game, \"restmenu\")\n    // or:\n    // invoke (game.restmenu)\n\n  &lt;/script&gt;\n\n&lt;/command&gt;\n\n&lt;function name=\"SWITCH_FUNCTION\"&gt;\n\n  switch (XXX) {\n    case (\"XXX\") {\n      // XXX\n    }\n  }\n\n&lt;/function&gt;\n</code></pre>\n\n",
      "PostDate": "2019-08-04T06:25:31.514101Z",
      "LastEditDate": "2019-08-05T09:45:08.3801585Z",
      "link": null
    },
    {
      "PostId": "29e74126-ed83-4cb0-b6aa-6743af00c3a1",
      "UserId": 248029,
      "Username": "Anonynn",
      "AvatarUrl": "https://i.imgur.com/HEtnsWqb.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Oooh that's smart. \r\n\r\nLike, copy the Switch Menu from the Command and put that menu into a Function and then from the other Functions call that Function to recall the menu. I'll try it and let you know!\r\n\r\n**EDIT**\r\nThat worked ^_^ Thank you all so much!\r\n\r\nAnonynn. ",
      "EditableFormat": "markdown",
      "HTML": "<p>Oooh that's smart.</p>\n<p>Like, copy the Switch Menu from the Command and put that menu into a Function and then from the other Functions call that Function to recall the menu. I'll try it and let you know!</p>\n<p><strong>EDIT</strong><br>\nThat worked ^_^ Thank you all so much!</p>\n<p>Anonynn.</p>\n\n",
      "PostDate": "2019-08-04T07:04:02.9970804Z",
      "LastEditDate": "2019-08-04T07:31:00.8331052Z",
      "link": null
    }
  ]
}
