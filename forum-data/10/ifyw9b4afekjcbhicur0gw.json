{
  "Topic": {
    "TopicId": "ifyw9b4afekjcbhicur0gw",
    "ForumId": "10",
    "Title": "Gamebook - Save formatting into one variable?",
    "LastUpdated": "2020-05-07T12:23:52.0012129Z",
    "ReplyCount": 0
  },
  "Posts": [
    {
      "PostId": "c9bdbba1-d246-4cd2-b8f0-23eade532071",
      "UserId": 357075,
      "Username": "Tealyen",
      "AvatarUrl": "https://i.imgur.com/mTWKaKRb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Hi,\r\n\r\nI decided to turn toward the community as I am unable to make my idea work after a few days of trying.\r\n\r\nI'd like to make a fancy **gamebook**, where there would be different font for the **general text** and for **conversations**.\r\nThe name of the characters also would be colored.\r\n\r\nI've read plenty of articles and forums, but I can't make it work in **Gamebook**. Perhaps people didn't ask it yet or it didn't pay my attention? Or it is not even possible?\r\n\r\nLet me show it through an example:\r\n\r\n\r\n><font color=\"#006600\"><b>Xelary</b></font>: ```Hey, guys!``` _(Conversation font & color)_\r\n<font color=\"#660000\"><b>Calytrix</b></font>:  ```Oh, hi..!``` _(Conversation font & color)_\r\n>\r\n>One greeted the other on a preoccupied tone. _(General font & color)_\r\n\r\nCurrently, this looks like this:\r\n```\r\nmsg(\"<font color=\\\"#006600\\\"><b>Xelary</b></font>: ```Hey, guys!```\")\r\n```\r\n\r\nIf I wanted to change the formatting later, then I would need to re-done everything that way for each dialogue where Xelary speaks.\r\nI wonder if it was possible to use just one variable, which contains everything? Something similar to this:\r\n\r\n```\r\n<!--Saved by Quest 5.6.5783.24153-->\r\n<asl version=\"550\">\r\n  <include ref=\"English.aslx\" />\r\n  <include ref=\"Core.aslx\" />\r\n  <game name=\"fontstyle\">\r\n    <gameid>e54b175d-ce44-4462-972d-4a7f68c993e0</gameid>\r\n    <version>1.0</version>\r\n    <firstpublished>2016</firstpublished>\r\n    <start type=\"script\"><![CDATA[\r\n      JS.addExternalStylesheet(\"http://fonts.googleapis.com/css?family=Nothing+You+Could+Do\")\r\n      JS.addExternalStylesheet(\"http://fonts.googleapis.com/css?family=Coming+Soon\")\r\n      \r\n      OutputTextNoBr(game.css)\r\n\r\n      msg (\"<span style=\\\"font-family:courier\\\">This is Courier</span>\")\r\n      msg (\"<span style=\\\"font-family:courier; color:red\\\">This is Courier in red</span>\")\r\n      msg (\"<span style=\\\"font-family:courier; font-weight:bold\\\">This is Courier bold</span>\")\r\n      msg (\"<span style=\\\"font-family:'Nothing You Could Do'\\\">This is Nothing You Could Do</span>\")\r\n      msg (\"<span style=\\\"font-family:'Coming Soon'\\\">This is Coming Soon</span>\")\r\n      msg(\"\")\r\n      msg(\"<span class=\\\"speaker1\\\">What's on second</span>\")\r\n      msg(\"<span class=\\\"speaker2\\\">I didn't ask you who's on second</span>\")\r\n      msg(\"<span class=\\\"speaker1\\\">No, Who's on first</span>\")\r\n      msg(\"<span class=\\\"speaker2\\\">I don't know</span>\")\r\n      msg(\"<span class=\\\"speaker1\\\">Third base</span>\")\r\n      msg(\"<span class=\\\"speaker2\\\">Third base</span>\")\r\n      \r\n    ]]></start>\r\n    <css>\r\n    <![CDATA[\r\n      <style type=\"text/css\">\r\n      \t.speaker1 {\r\n      \t    font-family: 'Nothing You Could Do';\r\n      \t    color: green;\r\n      \t}\r\n      \t.speaker2 {\r\n      \t    font-family: 'Coming Soon';\r\n      \t    color: blue;\r\n      \t}\r\n      </style>\r\n      ]]>\r\n   </css>\r\n  </game>\r\n  <object name=\"room\">\r\n    <inherit name=\"editor_room\" />\r\n    <object name=\"player\">\r\n      <inherit name=\"editor_object\" />\r\n      <inherit name=\"editor_player\" />\r\n    </object>\r\n  </object>\r\n</asl>\r\n```\r\nOriginally posted there:\r\nhttps://textadventures.co.uk/forum/quest/topic/6030/changing-fonts-when-someone-is-speaking\r\n\r\nBasically, I would like one variable which contains the specified formatting. Like Font Type, color, be bold / italic etc...\r\n\r\nSo it would rather look something like that:\r\n\r\n```\r\nmsg (\"<span class=\\\"Name_Xelary\\\">Xelary:</span> <span class=\\\"Conversation\\\">Hey, guys!</span>\")\r\n\r\nmsg (\"<span class=\\\"Name_Calytrix\\\">Calytrix:</span> <span class=\\\"Conversation\\\">Oh, hi..!</span>\")\r\n\r\nmsg (\"\")\r\n\r\nmsg (\"<span class=\\\"General\\\">One greeted the other on a preoccupied tone.</span>\")\r\n```\r\n\r\nSo, I would just need to change the saved info in \"Name_Xelary\", if I wanted to change font type or font color etc...",
      "EditableFormat": "markdown",
      "HTML": "<p>Hi,</p>\n<p>I decided to turn toward the community as I am unable to make my idea work after a few days of trying.</p>\n<p>I'd like to make a fancy <strong>gamebook</strong>, where there would be different font for the <strong>general text</strong> and for <strong>conversations</strong>.<br>\nThe name of the characters also would be colored.</p>\n<p>I've read plenty of articles and forums, but I can't make it work in <strong>Gamebook</strong>. Perhaps people didn't ask it yet or it didn't pay my attention? Or it is not even possible?</p>\n<p>Let me show it through an example:</p>\n<blockquote>\n<p><font color=\"#006600\"><b>Xelary</b></font>: <code>Hey, guys!</code> <em>(Conversation font &amp; color)</em><br>\n<font color=\"#660000\"><b>Calytrix</b></font>:  <code>Oh, hi..!</code> <em>(Conversation font &amp; color)</em></p>\n<p>One greeted the other on a preoccupied tone. <em>(General font &amp; color)</em></p>\n</blockquote>\n<p>Currently, this looks like this:</p>\n<pre><code>msg(\"&lt;font color=\\\"#006600\\\"&gt;&lt;b&gt;Xelary&lt;/b&gt;&lt;/font&gt;: ```Hey, guys!```\")\n</code></pre>\n<p>If I wanted to change the formatting later, then I would need to re-done everything that way for each dialogue where Xelary speaks.<br>\nI wonder if it was possible to use just one variable, which contains everything? Something similar to this:</p>\n<pre><code>&lt;!--Saved by Quest 5.6.5783.24153--&gt;\n&lt;asl version=\"550\"&gt;\n  &lt;include ref=\"English.aslx\" /&gt;\n  &lt;include ref=\"Core.aslx\" /&gt;\n  &lt;game name=\"fontstyle\"&gt;\n    &lt;gameid&gt;e54b175d-ce44-4462-972d-4a7f68c993e0&lt;/gameid&gt;\n    &lt;version&gt;1.0&lt;/version&gt;\n    &lt;firstpublished&gt;2016&lt;/firstpublished&gt;\n    &lt;start type=\"script\"&gt;&lt;![CDATA[\n      JS.addExternalStylesheet(\"http://fonts.googleapis.com/css?family=Nothing+You+Could+Do\")\n      JS.addExternalStylesheet(\"http://fonts.googleapis.com/css?family=Coming+Soon\")\n      \n      OutputTextNoBr(game.css)\n\n      msg (\"&lt;span style=\\\"font-family:courier\\\"&gt;This is Courier&lt;/span&gt;\")\n      msg (\"&lt;span style=\\\"font-family:courier; color:red\\\"&gt;This is Courier in red&lt;/span&gt;\")\n      msg (\"&lt;span style=\\\"font-family:courier; font-weight:bold\\\"&gt;This is Courier bold&lt;/span&gt;\")\n      msg (\"&lt;span style=\\\"font-family:'Nothing You Could Do'\\\"&gt;This is Nothing You Could Do&lt;/span&gt;\")\n      msg (\"&lt;span style=\\\"font-family:'Coming Soon'\\\"&gt;This is Coming Soon&lt;/span&gt;\")\n      msg(\"\")\n      msg(\"&lt;span class=\\\"speaker1\\\"&gt;What's on second&lt;/span&gt;\")\n      msg(\"&lt;span class=\\\"speaker2\\\"&gt;I didn't ask you who's on second&lt;/span&gt;\")\n      msg(\"&lt;span class=\\\"speaker1\\\"&gt;No, Who's on first&lt;/span&gt;\")\n      msg(\"&lt;span class=\\\"speaker2\\\"&gt;I don't know&lt;/span&gt;\")\n      msg(\"&lt;span class=\\\"speaker1\\\"&gt;Third base&lt;/span&gt;\")\n      msg(\"&lt;span class=\\\"speaker2\\\"&gt;Third base&lt;/span&gt;\")\n      \n    ]]&gt;&lt;/start&gt;\n    &lt;css&gt;\n    &lt;![CDATA[\n      &lt;style type=\"text/css\"&gt;\n      \t.speaker1 {\n      \t    font-family: 'Nothing You Could Do';\n      \t    color: green;\n      \t}\n      \t.speaker2 {\n      \t    font-family: 'Coming Soon';\n      \t    color: blue;\n      \t}\n      &lt;/style&gt;\n      ]]&gt;\n   &lt;/css&gt;\n  &lt;/game&gt;\n  &lt;object name=\"room\"&gt;\n    &lt;inherit name=\"editor_room\" /&gt;\n    &lt;object name=\"player\"&gt;\n      &lt;inherit name=\"editor_object\" /&gt;\n      &lt;inherit name=\"editor_player\" /&gt;\n    &lt;/object&gt;\n  &lt;/object&gt;\n&lt;/asl&gt;\n</code></pre>\n<p>Originally posted there:<br>\nhttps://textadventures.co.uk/forum/quest/topic/6030/changing-fonts-when-someone-is-speaking</p>\n<p>Basically, I would like one variable which contains the specified formatting. Like Font Type, color, be bold / italic etc...</p>\n<p>So it would rather look something like that:</p>\n<pre><code>msg (\"&lt;span class=\\\"Name_Xelary\\\"&gt;Xelary:&lt;/span&gt; &lt;span class=\\\"Conversation\\\"&gt;Hey, guys!&lt;/span&gt;\")\n\nmsg (\"&lt;span class=\\\"Name_Calytrix\\\"&gt;Calytrix:&lt;/span&gt; &lt;span class=\\\"Conversation\\\"&gt;Oh, hi..!&lt;/span&gt;\")\n\nmsg (\"\")\n\nmsg (\"&lt;span class=\\\"General\\\"&gt;One greeted the other on a preoccupied tone.&lt;/span&gt;\")\n</code></pre>\n<p>So, I would just need to change the saved info in \"Name_Xelary\", if I wanted to change font type or font color etc...</p>\n\n",
      "PostDate": "2020-05-07T12:23:52.0012129Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "2fd6c711-ce7b-4ce6-bbb8-c6c026464eaf",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "That seems a good way to do it; that's pretty much what classes were designed for.\r\n\r\nSo, what's the problem?",
      "EditableFormat": "markdown",
      "HTML": "<p>That seems a good way to do it; that's pretty much what classes were designed for.</p>\n<p>So, what's the problem?</p>\n\n",
      "PostDate": "2020-05-07T17:22:48.5009983Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "baf0eb5d-11be-4ff8-8db1-2a13339b4c6c",
      "UserId": 357075,
      "Username": "Tealyen",
      "AvatarUrl": "https://i.imgur.com/mTWKaKRb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "I can't make the variable \"Name_Xelary\" in **gamebook**. Or any variables like that, containing more than one formatting.\r\nThe example above works in **textadventure**, but I can't make it work in **gamebook**.\r\n\r\nHow could I make a class in **gamebook** that I could use the same way?",
      "EditableFormat": "markdown",
      "HTML": "<p>I can't make the variable \"Name_Xelary\" in <strong>gamebook</strong>. Or any variables like that, containing more than one formatting.<br>\nThe example above works in <strong>textadventure</strong>, but I can't make it work in <strong>gamebook</strong>.</p>\n<p>How could I make a class in <strong>gamebook</strong> that I could use the same way?</p>\n\n",
      "PostDate": "2020-05-07T18:59:10.6428238Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "63843170-b494-4d7a-b394-9f3931ba65a7",
      "UserId": 277074,
      "Username": "Dcoder",
      "AvatarUrl": "https://i.imgur.com/O07mlRtb.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "EDIT:  This would only work in TA, not gamebook.  Sorry, I don't know gamebook.\r\n\r\nYou could even make a couple of string attributes like ```game.character``` and ```game.dialogue``` that will contain the text that you currently want to print.\r\n\r\nThen make a changed script for each attribute, i.e., ```game.changedcharacter``` and ```game.changeddialogue```.  In the changed scripts, create a variable that adds the HTML/CSS styling to the text that you are printing (tags + ```game.character``` + ```game.dialogue```), and then print out the variable.\r\n\r\nThen, whenever you want to print out some text, just set the value of ```game.character``` and ```game.dialogue``` to whatever text you need.",
      "EditableFormat": "markdown",
      "HTML": "<p>EDIT:  This would only work in TA, not gamebook.  Sorry, I don't know gamebook.</p>\n<p>You could even make a couple of string attributes like <code>game.character</code> and <code>game.dialogue</code> that will contain the text that you currently want to print.</p>\n<p>Then make a changed script for each attribute, i.e., <code>game.changedcharacter</code> and <code>game.changeddialogue</code>.  In the changed scripts, create a variable that adds the HTML/CSS styling to the text that you are printing (tags + <code>game.character</code> + <code>game.dialogue</code>), and then print out the variable.</p>\n<p>Then, whenever you want to print out some text, just set the value of <code>game.character</code> and <code>game.dialogue</code> to whatever text you need.</p>\n\n",
      "PostDate": "2020-05-07T19:10:36.8455167Z",
      "LastEditDate": "2020-05-07T19:12:46.1144738Z",
      "link": null
    },
    {
      "PostId": "7b6e3ade-28a2-4e59-8d85-217aab32907a",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "> I can't make the variable \"Name_Xelary\" in gamebook.\r\n\r\nIt's not a variable. It's a piece of text that's being sent to the browser. I see no reason the same code wouldn't work in a gamebook.\r\n(possibly with some workaround for the editor not displaying the right fields).\r\n\r\nDoes the Gamebook editor not let you set attributes for the game? (I'm used to the web editor, which doesn't let you set attributes for text adventures either, so I'm used to working around its limitations)\r\n\r\nLooking at GamebookCore, I'm pretty sure that if you copied the exact same code into a gamebook, it would work just the same. (Except there's no \"start\" script, so you'd have to put it on the first page)\r\n\r\nOr, if you're not going to change the appearance of a character's text during the game, you could use a dictionary and output it as necessary. Less efficient, but maybe simpler.\r\n\r\nIn the first page:\r\n```\r\nJS.addExternalStylesheet(\"http://fonts.googleapis.com/css?family=Nothing+You+Could+Do\")\r\nJS.addExternalStylesheet(\"http://fonts.googleapis.com/css?family=Coming+Soon\")\r\ngame.character_formats = NewStringDictionary()\r\ndictionary add (game.character_formats, \"Character 1\", \"font-family: 'Nothing You Could Do'; color: green;\")\r\ndictionary add (game.character_formats, \"Character 2\", \"font-family: 'Coming Soon';color: blue;\")\r\n\r\nformat => {\r\n  params = Tsplit (section)\r\n  character = ListItem (params, 1)\r\n  text = ListItem (params, 2)\r\n  if (DictionaryContains (game.character_formats, character)) {\r\n    game.textprocessorcommandresult = \"<span style=\\\"\"+DictionaryItem (game.character_formats, character)+\"\\\">\" + character + \"</span>: “<span style=\\\"conversation font and color here\\\">\"\r\n  }\r\n  else {\r\n    game.textprocessorcommandresult = character + \": “<span style=\\\"conversation font and color here\\\">\"\r\n  }\r\n  game.textprocessorcommandresult = game.textprocessorcommandresult + ProcessTextSection (text, data) + \"</span>”\"\r\n}\r\ngame.textprocessorcommands = game.textprocessorcommands\r\ndictionary add (game.textprocessorcommands, \"speech:\", format)\r\n```\r\nand then later you can do:\r\n```\r\nmsg (\"{speech:Character 1:Who's on first?}\")\r\nmsg (\"{speech:Character 2:Yes, that's right.}\")\r\n```\r\nand it will be formatted appropriately.\r\n\r\nNot sure what kind of problems you're having with the existing code; but pretty sure that would work.",
      "EditableFormat": "markdown",
      "HTML": "<blockquote>\n<p>I can't make the variable \"Name_Xelary\" in gamebook.</p>\n</blockquote>\n<p>It's not a variable. It's a piece of text that's being sent to the browser. I see no reason the same code wouldn't work in a gamebook.<br>\n(possibly with some workaround for the editor not displaying the right fields).</p>\n<p>Does the Gamebook editor not let you set attributes for the game? (I'm used to the web editor, which doesn't let you set attributes for text adventures either, so I'm used to working around its limitations)</p>\n<p>Looking at GamebookCore, I'm pretty sure that if you copied the exact same code into a gamebook, it would work just the same. (Except there's no \"start\" script, so you'd have to put it on the first page)</p>\n<p>Or, if you're not going to change the appearance of a character's text during the game, you could use a dictionary and output it as necessary. Less efficient, but maybe simpler.</p>\n<p>In the first page:</p>\n<pre><code>JS.addExternalStylesheet(\"http://fonts.googleapis.com/css?family=Nothing+You+Could+Do\")\nJS.addExternalStylesheet(\"http://fonts.googleapis.com/css?family=Coming+Soon\")\ngame.character_formats = NewStringDictionary()\ndictionary add (game.character_formats, \"Character 1\", \"font-family: 'Nothing You Could Do'; color: green;\")\ndictionary add (game.character_formats, \"Character 2\", \"font-family: 'Coming Soon';color: blue;\")\n\nformat =&gt; {\n  params = Tsplit (section)\n  character = ListItem (params, 1)\n  text = ListItem (params, 2)\n  if (DictionaryContains (game.character_formats, character)) {\n    game.textprocessorcommandresult = \"&lt;span style=\\\"\"+DictionaryItem (game.character_formats, character)+\"\\\"&gt;\" + character + \"&lt;/span&gt;: “&lt;span style=\\\"conversation font and color here\\\"&gt;\"\n  }\n  else {\n    game.textprocessorcommandresult = character + \": “&lt;span style=\\\"conversation font and color here\\\"&gt;\"\n  }\n  game.textprocessorcommandresult = game.textprocessorcommandresult + ProcessTextSection (text, data) + \"&lt;/span&gt;”\"\n}\ngame.textprocessorcommands = game.textprocessorcommands\ndictionary add (game.textprocessorcommands, \"speech:\", format)\n</code></pre>\n<p>and then later you can do:</p>\n<pre><code>msg (\"{speech:Character 1:Who's on first?}\")\nmsg (\"{speech:Character 2:Yes, that's right.}\")\n</code></pre>\n<p>and it will be formatted appropriately.</p>\n<p>Not sure what kind of problems you're having with the existing code; but pretty sure that would work.</p>\n\n",
      "PostDate": "2020-05-07T21:55:05.2952458Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "083f25bd-0bb4-4f07-a7f1-b36129b791ef",
      "UserId": 357075,
      "Username": "Tealyen",
      "AvatarUrl": "https://i.imgur.com/mTWKaKRb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Thank you for taking time on my issue, I really appreciate it.\r\n\r\nAbout \"why the code I copied not working\".\r\nI also use web-editor, but downloaded the offline version to open the code.\r\nThese lines are written into an attribute called css:\r\n```\r\n      <style type=\"text/css\">\r\n      \t.speaker1 {\r\n      \t    font-family: 'Nothing You Could Do';\r\n      \t    color: green;\r\n      \t}\r\n      \t.speaker2 {\r\n      \t    font-family: 'Coming Soon';\r\n      \t    color: blue;\r\n      \t}\r\n      </style>\r\n```\r\nI can't add this to **gamebook** to make it recognize as a code. _(online editor)_\r\nThe editor makes _Call functions_ out of it, which cannot be used.\r\nI have no clue how could I add these lines to an attribute in **gamebook**.\r\n\r\nThe only things I  managed to add were very simple things, like\r\n```\r\nmsg (\"Type your name!\")\r\nGetInput() {\r\n  game.pname = result\r\n  msg (\"Alright, your name is \" + game.pname + \"!\")\r\n  msg (\"Now, choose your gender!\")\r\n  ShowMenu (\"As it is written above, choose your gender!\", Split(\"Female;Male\", \";\"), false) {\r\n    game.gender = result\r\n    if (game.gender = \"Female\") {\r\n      game.he = \"she\"\r\n      game.him = \"her\"\r\n      game.his = \"her\"\r\n    }\r\n    else {\r\n      game.he = \"he\"\r\n      game.him = \"him\"\r\n      game.his = \"his\"\r\n    }\r\n    msg (\"So, \" + game.pname + \" is a \" + game.gender + \" and \" + game.he + \" loves \" + game.his + \" axe, cuz it is close to \" + game.him + \".\")\r\n    msg (\"And now, press any key to continue to the next test!\")\r\n    wait {\r\n      MovePlayer (Page2)\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nSadly, I can't even try the code you have written, as I always get the _Sorry, an internal error occurred._ error message.\r\n\r\nEDIT:\r\nAlright, I used the _Add script_ and copied that code you have written one by one, instead of copying it into code view.\r\nIt seems to work, with colors. But font does not change.\r\nBut I still wonder if there was a solution to use the one I brought up as an example. That css one.\r\nIt looked easier to add new attributes. I'm still figuring how your code is working. I'm not experienced in this.",
      "EditableFormat": "markdown",
      "HTML": "<p>Thank you for taking time on my issue, I really appreciate it.</p>\n<p>About \"why the code I copied not working\".<br>\nI also use web-editor, but downloaded the offline version to open the code.<br>\nThese lines are written into an attribute called css:</p>\n<pre><code>      &lt;style type=\"text/css\"&gt;\n      \t.speaker1 {\n      \t    font-family: 'Nothing You Could Do';\n      \t    color: green;\n      \t}\n      \t.speaker2 {\n      \t    font-family: 'Coming Soon';\n      \t    color: blue;\n      \t}\n      &lt;/style&gt;\n</code></pre>\n<p>I can't add this to <strong>gamebook</strong> to make it recognize as a code. <em>(online editor)</em><br>\nThe editor makes <em>Call functions</em> out of it, which cannot be used.<br>\nI have no clue how could I add these lines to an attribute in <strong>gamebook</strong>.</p>\n<p>The only things I  managed to add were very simple things, like</p>\n<pre><code>msg (\"Type your name!\")\nGetInput() {\n  game.pname = result\n  msg (\"Alright, your name is \" + game.pname + \"!\")\n  msg (\"Now, choose your gender!\")\n  ShowMenu (\"As it is written above, choose your gender!\", Split(\"Female;Male\", \";\"), false) {\n    game.gender = result\n    if (game.gender = \"Female\") {\n      game.he = \"she\"\n      game.him = \"her\"\n      game.his = \"her\"\n    }\n    else {\n      game.he = \"he\"\n      game.him = \"him\"\n      game.his = \"his\"\n    }\n    msg (\"So, \" + game.pname + \" is a \" + game.gender + \" and \" + game.he + \" loves \" + game.his + \" axe, cuz it is close to \" + game.him + \".\")\n    msg (\"And now, press any key to continue to the next test!\")\n    wait {\n      MovePlayer (Page2)\n    }\n  }\n}\n</code></pre>\n<p>Sadly, I can't even try the code you have written, as I always get the <em>Sorry, an internal error occurred.</em> error message.</p>\n<p>EDIT:<br>\nAlright, I used the <em>Add script</em> and copied that code you have written one by one, instead of copying it into code view.<br>\nIt seems to work, with colors. But font does not change.<br>\nBut I still wonder if there was a solution to use the one I brought up as an example. That css one.<br>\nIt looked easier to add new attributes. I'm still figuring how your code is working. I'm not experienced in this.</p>\n\n",
      "PostDate": "2020-05-08T05:22:45.2522111Z",
      "LastEditDate": "2020-05-08T06:11:38.4551915Z",
      "link": null
    },
    {
      "PostId": "a2bf3764-1867-4e44-97df-51f80d49d96f",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "[edited for typo]\r\n\r\n> These lines are written into an attribute called css:\r\n\r\nYou can't do that in the **web editor**\r\n\r\n> I can't add this to **gamebook** to make it recognize as a code. *(online editor)*\r\n\r\nYou would have the exact same problem in a text adventure. Adding an attribute like that needs to be done in full code view, which the web editor doesn't have.\r\n\r\n> to make it recognize as a code\r\n\r\nThat snippet **isn't code**. It's HTML, that needs to be sent to the browser. You need to put it in a *string* and print it out like any other message.\r\n\r\nThe example you gave initially puts all the CSS in a string attribute named `game.css`. This works in both text adventure and gamebook; but it can't be done in the web editor (which doesn't support custom attributes). You can work around this by putting it between quotes, with all the line breaks removed, inside a script.\r\n\r\nThe example you gave, to do it in the web editor, you would put this in your start script (text adventure) or first page (gamebook):\r\n```\r\nmsg (\"<style type=\"text/css\">.speaker1 {font-family: 'Nothing You Could Do';color: green;}.speaker2 {font-family: 'Coming Soon';color: blue;}</style>\")\r\n```\r\n(Note that you will need to do this in the GUI, because the web editor has a bug that crashes if you enter the `<` character in a string in code view).\r\n\r\nAn alternative would be putting the CSS in a separate file.\r\nThen on the desktop version you could do:\r\n```\r\nJS.addExternalStylesheet (GetFileURL(\"name_of_stylesheet.css\"))\r\n```\r\n(The web version, I think, doesn't allow you to add files to the game package. So to use it on the web version you'd have to put the file on a webserver somewhere and add a link to it)\r\n\r\n> Sadly, I can't even try the code you have written, as I always get the Sorry, an internal error occurred. error message.\r\n\r\nYeah, that's a web editor bug. You would need to remove all the `<`s from the code (I usually change them to `[` temporarily), and then change them back in the GUI. Or use the desktop editor (which I can't do, because it's not compatible with either of my computers)\r\n\r\n> It seems to work, with colors. But font does not change.\r\n\r\nThat's a bug in the original code. The URLs of the font files are wrong. (should be `https://`, not `http://`. It might work in the desktop player, I'm not sure, but security rules on modern browsers won't allow the HTTP version)\r\n\r\n> But I still wonder if there was a solution to use the one I brought up as an example. That css one.\r\n\r\nYou can do that with a gamebook the exact same way you do it with a text adventure. Just open it in full code view in the desktop editor, and add the css attribute that way.\r\n\r\nThe problems you've had with it are specific to the web editor, not gamebook mode.\r\n\r\nIf you want to use the css method in the web editor, look at the code earlier in this post. But be aware that this method will stop working if you use `ClearScreen`.\r\n\r\n> It looked easier to add new attributes.\r\n\r\nMy code is a little more complex than it needs to be. It's adding a command to the Text Processor; voodoo code that 99% of Quest users wouldn't even think about. I just thought that if you're in gamebook mode, you might appreciate being able to put `{speech:character name:text}` in a text page, rather than having to use script every time you want a conversation.",
      "EditableFormat": "markdown",
      "HTML": "<p>[edited for typo]</p>\n<blockquote>\n<p>These lines are written into an attribute called css:</p>\n</blockquote>\n<p>You can't do that in the <strong>web editor</strong></p>\n<blockquote>\n<p>I can't add this to <strong>gamebook</strong> to make it recognize as a code. <em>(online editor)</em></p>\n</blockquote>\n<p>You would have the exact same problem in a text adventure. Adding an attribute like that needs to be done in full code view, which the web editor doesn't have.</p>\n<blockquote>\n<p>to make it recognize as a code</p>\n</blockquote>\n<p>That snippet <strong>isn't code</strong>. It's HTML, that needs to be sent to the browser. You need to put it in a <em>string</em> and print it out like any other message.</p>\n<p>The example you gave initially puts all the CSS in a string attribute named <code>game.css</code>. This works in both text adventure and gamebook; but it can't be done in the web editor (which doesn't support custom attributes). You can work around this by putting it between quotes, with all the line breaks removed, inside a script.</p>\n<p>The example you gave, to do it in the web editor, you would put this in your start script (text adventure) or first page (gamebook):</p>\n<pre><code>msg (\"&lt;style type=\"text/css\"&gt;.speaker1 {font-family: 'Nothing You Could Do';color: green;}.speaker2 {font-family: 'Coming Soon';color: blue;}&lt;/style&gt;\")\n</code></pre>\n<p>(Note that you will need to do this in the GUI, because the web editor has a bug that crashes if you enter the <code>&lt;</code> character in a string in code view).</p>\n<p>An alternative would be putting the CSS in a separate file.<br>\nThen on the desktop version you could do:</p>\n<pre><code>JS.addExternalStylesheet (GetFileURL(\"name_of_stylesheet.css\"))\n</code></pre>\n<p>(The web version, I think, doesn't allow you to add files to the game package. So to use it on the web version you'd have to put the file on a webserver somewhere and add a link to it)</p>\n<blockquote>\n<p>Sadly, I can't even try the code you have written, as I always get the Sorry, an internal error occurred. error message.</p>\n</blockquote>\n<p>Yeah, that's a web editor bug. You would need to remove all the <code>&lt;</code>s from the code (I usually change them to <code>[</code> temporarily), and then change them back in the GUI. Or use the desktop editor (which I can't do, because it's not compatible with either of my computers)</p>\n<blockquote>\n<p>It seems to work, with colors. But font does not change.</p>\n</blockquote>\n<p>That's a bug in the original code. The URLs of the font files are wrong. (should be <code>https://</code>, not <code>http://</code>. It might work in the desktop player, I'm not sure, but security rules on modern browsers won't allow the HTTP version)</p>\n<blockquote>\n<p>But I still wonder if there was a solution to use the one I brought up as an example. That css one.</p>\n</blockquote>\n<p>You can do that with a gamebook the exact same way you do it with a text adventure. Just open it in full code view in the desktop editor, and add the css attribute that way.</p>\n<p>The problems you've had with it are specific to the web editor, not gamebook mode.</p>\n<p>If you want to use the css method in the web editor, look at the code earlier in this post. But be aware that this method will stop working if you use <code>ClearScreen</code>.</p>\n<blockquote>\n<p>It looked easier to add new attributes.</p>\n</blockquote>\n<p>My code is a little more complex than it needs to be. It's adding a command to the Text Processor; voodoo code that 99% of Quest users wouldn't even think about. I just thought that if you're in gamebook mode, you might appreciate being able to put <code>{speech:character name:text}</code> in a text page, rather than having to use script every time you want a conversation.</p>\n\n",
      "PostDate": "2020-05-08T10:48:27.1583348Z",
      "LastEditDate": "2020-05-08T10:52:05.5359899Z",
      "link": null
    },
    {
      "PostId": "9003e948-98a4-42c3-9cea-88b3b39daa9b",
      "UserId": 357075,
      "Username": "Tealyen",
      "AvatarUrl": "https://i.imgur.com/mTWKaKRb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Thank you for your assist!\r\n\r\nThe one you have written seems difficult, but a very powerful solution. I still try to figure it out, so I could modify it for my needs.\r\n\r\nSo, I could make unique formatting for different characters _(as you have done with character1 & character2)_.\r\nAlso, I am looking for to change the font type of the dialogue itself. Like, it would be \"Coming Soon\".\r\n\r\nYou helped me a lot with this web-browser explanation. I had no idea why it always \"crashes\".\r\n\r\nLot of testing ahead with the ones you've written here.\r\nThank you again!\r\n\r\nEDIT:\r\nHowever, there is an error message that I get when I change Page (Moving from Page1 to Page2) with the script you've written.\r\n>Error running script: Error adding key 'speech:' to dictionary: An item with the same key has already been added.\r\n\r\nI wonder why this error appears?\r\n\r\nPage1 scripts:\r\n```\r\nmsg (\"Type your name!\")\r\nGetInput() {\r\n  game.pname = result\r\n  msg (\"Alright, your name is \" + game.pname + \"!\")\r\n  msg (\"Now, choose your gender!\")\r\n  ShowMenu (\"As it is written above, choose your gender!\", Split(\"Female;Male\", \";\"), false) {\r\n    game.gender = result\r\n    if (game.gender = \"Female\") {\r\n      game.he = \"she\"\r\n      game.him = \"her\"\r\n      game.his = \"her\"\r\n    }\r\n    else {\r\n      game.he = \"he\"\r\n      game.him = \"him\"\r\n      game.his = \"his\"\r\n    }\r\n    msg (\"So, \" + game.pname + \" is a \" + game.gender + \" and \" + game.he + \" loves \" + game.his + \" axe, cuz it is close to \" + game.him + \".\")\r\n    msg (\"And now, press any key to continue to the next test!\")\r\n    wait {\r\n      MovePlayer (Page2)\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nPage2 scripts:\r\n\r\n```\r\nmsg (\"<font color=\\\"#006600\\\">Here</font>, I try to do a line-break.<br/>I wonder if it worked..!<br/>It worked, \" + game.pname + \"!<br/>Now check text types: <b>bold</b>, <i>italic</i>, <u>underlined</u>.\")\r\n```\r\n\r\nIt appears every time when I change pages.",
      "EditableFormat": "markdown",
      "HTML": "<p>Thank you for your assist!</p>\n<p>The one you have written seems difficult, but a very powerful solution. I still try to figure it out, so I could modify it for my needs.</p>\n<p>So, I could make unique formatting for different characters <em>(as you have done with character1 &amp; character2)</em>.<br>\nAlso, I am looking for to change the font type of the dialogue itself. Like, it would be \"Coming Soon\".</p>\n<p>You helped me a lot with this web-browser explanation. I had no idea why it always \"crashes\".</p>\n<p>Lot of testing ahead with the ones you've written here.<br>\nThank you again!</p>\n<p>EDIT:<br>\nHowever, there is an error message that I get when I change Page (Moving from Page1 to Page2) with the script you've written.</p>\n<blockquote>\n<p>Error running script: Error adding key 'speech:' to dictionary: An item with the same key has already been added.</p>\n</blockquote>\n<p>I wonder why this error appears?</p>\n<p>Page1 scripts:</p>\n<pre><code>msg (\"Type your name!\")\nGetInput() {\n  game.pname = result\n  msg (\"Alright, your name is \" + game.pname + \"!\")\n  msg (\"Now, choose your gender!\")\n  ShowMenu (\"As it is written above, choose your gender!\", Split(\"Female;Male\", \";\"), false) {\n    game.gender = result\n    if (game.gender = \"Female\") {\n      game.he = \"she\"\n      game.him = \"her\"\n      game.his = \"her\"\n    }\n    else {\n      game.he = \"he\"\n      game.him = \"him\"\n      game.his = \"his\"\n    }\n    msg (\"So, \" + game.pname + \" is a \" + game.gender + \" and \" + game.he + \" loves \" + game.his + \" axe, cuz it is close to \" + game.him + \".\")\n    msg (\"And now, press any key to continue to the next test!\")\n    wait {\n      MovePlayer (Page2)\n    }\n  }\n}\n</code></pre>\n<p>Page2 scripts:</p>\n<pre><code>msg (\"&lt;font color=\\\"#006600\\\"&gt;Here&lt;/font&gt;, I try to do a line-break.&lt;br/&gt;I wonder if it worked..!&lt;br/&gt;It worked, \" + game.pname + \"!&lt;br/&gt;Now check text types: &lt;b&gt;bold&lt;/b&gt;, &lt;i&gt;italic&lt;/i&gt;, &lt;u&gt;underlined&lt;/u&gt;.\")\n</code></pre>\n<p>It appears every time when I change pages.</p>\n\n",
      "PostDate": "2020-05-08T12:06:37.770169Z",
      "LastEditDate": "2020-05-08T12:38:39.3658699Z",
      "link": null
    },
    {
      "PostId": "8d39b406-d89c-460a-90c7-8e491c1399fe",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "> Error running script: Error adding key 'speech:' to dictionary: An item with the same key has already been added.\r\n\r\nSounds like you're running the script more than once. The script I posted is designed to be run once, when the game starts. So for gamebook you'd put it on the first page.\r\n\r\n> So, I could make unique formatting for different characters (as you have done with character1 & character2).\r\n\r\nThe formats are added in the lines:\r\n>      dictionary add (game.character_formats, \"Character 1\", \"font-family: 'Nothing You Could Do'; color: green;\")\r\n>      dictionary add (game.character_formats, \"Character 2\", \"font-family: 'Coming Soon';color: blue;\")\r\n\r\nYou can add as many lines as necessary there.\r\n\r\n(I would have preferred to add the dictionary as an attribute rather than writing a script to create it; but that's necessary if working around the web editor)\r\n\r\n> Also, I am looking for to change the font type of the dialogue itself. Like, it would be \"Coming Soon\".\r\n\r\nIn the code, I left in 2 places `conversation font and color here`. You can replace that with <code style=\"color: darkgreen\">font-family: 'Coming Soon'</code>, or whichever font you want to use.\r\n\r\nHope I'm making sense there; I'm mostly better with code than with explanation.",
      "EditableFormat": "markdown",
      "HTML": "<blockquote>\n<p>Error running script: Error adding key 'speech:' to dictionary: An item with the same key has already been added.</p>\n</blockquote>\n<p>Sounds like you're running the script more than once. The script I posted is designed to be run once, when the game starts. So for gamebook you'd put it on the first page.</p>\n<blockquote>\n<p>So, I could make unique formatting for different characters (as you have done with character1 &amp; character2).</p>\n</blockquote>\n<p>The formats are added in the lines:</p>\n<blockquote>\n<pre><code> dictionary add (game.character_formats, \"Character 1\", \"font-family: 'Nothing You Could Do'; color: green;\")\n dictionary add (game.character_formats, \"Character 2\", \"font-family: 'Coming Soon';color: blue;\")\n</code></pre>\n</blockquote>\n<p>You can add as many lines as necessary there.</p>\n<p>(I would have preferred to add the dictionary as an attribute rather than writing a script to create it; but that's necessary if working around the web editor)</p>\n<blockquote>\n<p>Also, I am looking for to change the font type of the dialogue itself. Like, it would be \"Coming Soon\".</p>\n</blockquote>\n<p>In the code, I left in 2 places <code>conversation font and color here</code>. You can replace that with <code style=\"color: darkgreen\">font-family: 'Coming Soon'</code>, or whichever font you want to use.</p>\n<p>Hope I'm making sense there; I'm mostly better with code than with explanation.</p>\n\n",
      "PostDate": "2020-05-08T13:05:13.4509019Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "6de41c67-b905-442b-ac1a-50a9ecb3d65c",
      "UserId": 357075,
      "Username": "Tealyen",
      "AvatarUrl": "https://i.imgur.com/mTWKaKRb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Yes, you obviously explain it well enough!\r\nI was able to follow the instructions so far.\r\n\r\nThe CSS method is working as well now just as you explained.\r\n\r\nHowever, the code is put into the first page, it is called \"game\".\r\nOr you mean, \"Page1\"? I haven't tried it yet, but will do.\r\n\r\nI was wondering about this \"conversation font and color here\" part..! You were one step ahead of me!",
      "EditableFormat": "markdown",
      "HTML": "<p>Yes, you obviously explain it well enough!<br>\nI was able to follow the instructions so far.</p>\n<p>The CSS method is working as well now just as you explained.</p>\n<p>However, the code is put into the first page, it is called \"game\".<br>\nOr you mean, \"Page1\"? I haven't tried it yet, but will do.</p>\n<p>I was wondering about this \"conversation font and color here\" part..! You were one step ahead of me!</p>\n\n",
      "PostDate": "2020-05-08T13:56:59.0853054Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "bbeda35f-02c1-4124-932f-a6efcab0c05a",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "> However, the code is put into the first page, it is called \"game\".\r\n\r\nThe `game` element is a special thing that represents the entire game. Any script commands added to its \"Scripts\" tab will be run every time the player enters a new page. The first page will be the one that the `player` object is inside of.",
      "EditableFormat": "markdown",
      "HTML": "<blockquote>\n<p>However, the code is put into the first page, it is called \"game\".</p>\n</blockquote>\n<p>The <code>game</code> element is a special thing that represents the entire game. Any script commands added to its \"Scripts\" tab will be run every time the player enters a new page. The first page will be the one that the <code>player</code> object is inside of.</p>\n\n",
      "PostDate": "2020-05-08T14:28:55.0697954Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "3be1253e-5439-42aa-a720-ed783c66e948",
      "UserId": 357075,
      "Username": "Tealyen",
      "AvatarUrl": "https://i.imgur.com/mTWKaKRb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Thank you for the help!\r\n<img src=\"https://i.imgur.com/XkgawrD.png\" alt=\"fontstyle.PNG\" width=\"450\"/>",
      "EditableFormat": "markdown",
      "HTML": "<p>Thank you for the help!<br>\n<img src=\"https://i.imgur.com/XkgawrD.png\" alt=\"fontstyle.PNG\" width=\"450\"></p>\n\n",
      "PostDate": "2020-05-08T18:55:18.5592622Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "4b372c31-655c-4f71-8b45-c9392dd371f2",
      "UserId": 357075,
      "Username": "Tealyen",
      "AvatarUrl": "https://i.imgur.com/mTWKaKRb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "I was wondering if it was possible to get the name out of a variable with the engine _mrangel_ has written.\r\nAs the protagonist can type their own name into the \"**game.pname**\" variable _(page)_, I'd like to use it in conversations.\r\nCan it be done? I tried a few methods, but none of them worked.",
      "EditableFormat": "markdown",
      "HTML": "<p>I was wondering if it was possible to get the name out of a variable with the engine <em>mrangel</em> has written.<br>\nAs the protagonist can type their own name into the \"<strong>game.pname</strong>\" variable <em>(page)</em>, I'd like to use it in conversations.<br>\nCan it be done? I tried a few methods, but none of them worked.</p>\n\n",
      "PostDate": "2020-05-12T05:33:13.9060015Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "b7810c5e-3ae0-44f3-84f3-6bc4c120fd83",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "With that script as written, if you used the name `{game.pname}` it would display the name from the attribute. My script would treat `{game.pname}` like any other character name, but when that text is passed to the `msg` (Print message) built-in function, it will be replaced by the contents of the variable.\r\n\r\nHope that helps :)",
      "EditableFormat": "markdown",
      "HTML": "<p>With that script as written, if you used the name <code>{game.pname}</code> it would display the name from the attribute. My script would treat <code>{game.pname}</code> like any other character name, but when that text is passed to the <code>msg</code> (Print message) built-in function, it will be replaced by the contents of the variable.</p>\n<p>Hope that helps :)</p>\n\n",
      "PostDate": "2020-05-12T10:01:17.4698096Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "76af110d-ab08-4405-a38e-06f4a5080267",
      "UserId": 357075,
      "Username": "Tealyen",
      "AvatarUrl": "https://i.imgur.com/mTWKaKRb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Thank you once again!\r\nIt works like a charm. This _engine_ couldn't be better.\r\n_You're breathtaking!_",
      "EditableFormat": "markdown",
      "HTML": "<p>Thank you once again!<br>\nIt works like a charm. This <em>engine</em> couldn't be better.<br>\n<em>You're breathtaking!</em></p>\n\n",
      "PostDate": "2020-05-12T12:05:17.0568327Z",
      "LastEditDate": null,
      "link": null
    }
  ]
}
