{
  "Topic": {
    "TopicId": "342",
    "ForumId": "10",
    "Title": "Question about MaDbRiTâ€™s library and containers.",
    "LastUpdated": "2004-02-11T19:22:56+00:00",
    "ReplyCount": 2
  },
  "Posts": [
    {
      "PostId": "2348",
      "UserId": 0,
      "Username": "Anonymous",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "I had a part in my game where if you put something in the fire it would be consumed.  The code looked something like this:\n\n\n\n[quote:2n3euo8f]\n' \"test1\"\n' Created with QDK Pro 3.51\n\ndefine game &lt;test1&gt;\n\tasl-version &lt;350&gt;\n\tgametype singleplayer\n\tstart &lt;living room&gt;\n\tgame info &lt;Created with QDK Pro 3.51&gt;\nend define\n\ndefine synonyms\nend define\n\ndefine room &lt;living room&gt;\n\tcommand &lt;put papers in fireplace&gt; {\n\t\tmsg &lt;You put the papers in the fireplace and they are quickly consumed.&gt;\n\t\thide &lt;papers&gt;\n\t}\n\n\tdefine object &lt;papers&gt;\n\t\tlook &lt;Personal papers that you don't want anyone to see.&gt;\n\t\ttake\n\tend define\n\n\tdefine object &lt;Fireplace&gt;\n\t\tlook &lt;An elegant looking fireplace with a fire blazing.&gt;\n\tend define\n\nend define\n\ndefine text &lt;intro&gt;\n\nend define\n\ndefine text &lt;win&gt;\n\nend define\n\ndefine text &lt;lose&gt;\n\nend define\n[/quote:2n3euo8f]\n\n\tVery simple and works just fine.  However if I want to use MaDbRiTâ€™s typelib it wonâ€™t work.  The command wonâ€™t do anything unless I define the papers as â€œcontainableâ€ and the fireplace as a â€œcontainerâ€, in which case it just puts the papers in the fireplace.  How can I get the script to work?  Keep in mind that I may want to be able to put the papers in another â€œcontainerâ€ without having the same effect.",
      "EditableFormat": "bbcode",
      "HTML": "I had a part in my game where if you put something in the fire it would be consumed.  The code looked something like this:<br/><br/><br/><br/><blockquote><p><br/>' \"test1\"<br/>' Created with QDK Pro 3.51<br/><br/>define game &lt;test1&gt;<br/>\tasl-version &lt;350&gt;<br/>\tgametype singleplayer<br/>\tstart &lt;living room&gt;<br/>\tgame info &lt;Created with QDK Pro 3.51&gt;<br/>end define<br/><br/>define synonyms<br/>end define<br/><br/>define room &lt;living room&gt;<br/>\tcommand &lt;put papers in fireplace&gt; {<br/>\t\tmsg &lt;You put the papers in the fireplace and they are quickly consumed.&gt;<br/>\t\thide &lt;papers&gt;<br/>\t}<br/><br/>\tdefine object &lt;papers&gt;<br/>\t\tlook &lt;Personal papers that you don't want anyone to see.&gt;<br/>\t\ttake<br/>\tend define<br/><br/>\tdefine object &lt;Fireplace&gt;<br/>\t\tlook &lt;An elegant looking fireplace with a fire blazing.&gt;<br/>\tend define<br/><br/>end define<br/><br/>define text &lt;intro&gt;<br/><br/>end define<br/><br/>define text &lt;win&gt;<br/><br/>end define<br/><br/>define text &lt;lose&gt;<br/><br/>end define<br/></p></blockquote><br/><br/>\tVery simple and works just fine.  However if I want to use MaDbRiTâ€™s typelib it wonâ€™t work.  The command wonâ€™t do anything unless I define the papers as â€œcontainableâ€ and the fireplace as a â€œcontainerâ€, in which case it just puts the papers in the fireplace.  How can I get the script to work?  Keep in mind that I may want to be able to put the papers in another â€œcontainerâ€ without having the same effect.",
      "PostDate": "2004-02-10T20:29:06+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "2349",
      "UserId": 0,
      "Username": "Anonymous",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "[quote:hboinigm]\nVery simple and works just fine. However if I want to use MaDbRiTâ€™s typelib it wonâ€™t work. The command wonâ€™t do anything unless I define the papers as â€œcontainableâ€ and the fireplace as a â€œcontainerâ€, in which case it just puts the papers in the fireplace. How can I get the script to work? Keep in mind that I may want to be able to put the papers in another â€œcontainerâ€ without having the same effect\n[/quote:hboinigm]\n\nBecause the command you need to use is EXACTLY the one required for containers, using typelib does indeed hi-jack your 'put in' command and place the paper 'containable' into the fireplace containable as you might reasonably expect it to do.\n\nHowever I provided an extra 'contained' action for exactly this sort of thing. All you need to do is add a script to the paper's 'contained' action that checks for the fireplace and acts accordingly. You then no longer need your 'special' put in command at all.\n\nThe finished code will look something like this...\n\n\n[code:hboinigm]\n' &quot;test1&quot;\n' Created with QDK Pro 3&#46;51\n\n!include &lt;Typelib&#46;qlb&gt;\n\ndefine game &lt;test1&gt;\n   asl-version &lt;350&gt;\n   gametype singleplayer\n   start &lt;living room&gt;\n   game info &lt;Created with QDK Pro 3&#46;51&gt;\nend define\n\ndefine synonyms\nend define\n\ndefine room &lt;living room&gt;\n   look &lt;living room&gt;\n\n   define object &lt;papers&gt;\n      look &lt;Personal papers that you don't want anyone to see&#46;&gt;\n      take\n      type &lt;TLTobject&gt;\n      type &lt;TLTcontainable&gt;\n      action &lt;contained&gt; if &#40; #papers&#58;isIn# = fireplace &#41; then &#123;\n         msg &lt;The papers burst into flames and are quickly consumed&#46;&gt;\n         hide &lt;papers&gt;\n      &#125;\n      else msg &lt;O&#46;K&#46;&gt;\n   end define\n\n   define object &lt;Fireplace&gt;\n      look &lt;An elegant looking fireplace with a fire blazing&#46;&gt;\n      type &lt;TLTcontainer&gt;\n   end define\n\n   define object &lt;briefcase&gt;\n      look &lt;Your flashy leather briefcase&#46;&gt;\n      take\n      type &lt;TLTobject&gt;\n      type &lt;TLTcontainer&gt;\n   end define\n\nend define\n\ndefine text &lt;intro&gt;\n\nend define\n\ndefine text &lt;win&gt;\n\nend define\n\ndefine text &lt;lose&gt;\n\nend define\n[/code:hboinigm]\n\nI added the briefcase to show how you can use the default 'containers' functions alongside the special 'action' coded to destroy the papers.\n\nYou can cut and paste the above example into a text file, save it as 'fireplace.asl' or something such, then load that into QDK to see how I did it.\n\nThe above was done entirely from QDK.\n\nAl (MaDbRiT)",
      "EditableFormat": "bbcode",
      "HTML": "<blockquote><p><br/>Very simple and works just fine. However if I want to use MaDbRiTâ€™s typelib it wonâ€™t work. The command wonâ€™t do anything unless I define the papers as â€œcontainableâ€ and the fireplace as a â€œcontainerâ€, in which case it just puts the papers in the fireplace. How can I get the script to work? Keep in mind that I may want to be able to put the papers in another â€œcontainerâ€ without having the same effect<br/></p></blockquote><br/><br/>Because the command you need to use is EXACTLY the one required for containers, using typelib does indeed hi-jack your 'put in' command and place the paper 'containable' into the fireplace containable as you might reasonably expect it to do.<br/><br/>However I provided an extra 'contained' action for exactly this sort of thing. All you need to do is add a script to the paper's 'contained' action that checks for the fireplace and acts accordingly. You then no longer need your 'special' put in command at all.<br/><br/>The finished code will look something like this...<br/><br/><br/><pre><code><br/>' &quot;test1&quot;<br/>' Created with QDK Pro 3&#46;51<br/><br/>!include &lt;Typelib&#46;qlb&gt;<br/><br/>define game &lt;test1&gt;<br/>   asl-version &lt;350&gt;<br/>   gametype singleplayer<br/>   start &lt;living room&gt;<br/>   game info &lt;Created with QDK Pro 3&#46;51&gt;<br/>end define<br/><br/>define synonyms<br/>end define<br/><br/>define room &lt;living room&gt;<br/>   look &lt;living room&gt;<br/><br/>   define object &lt;papers&gt;<br/>      look &lt;Personal papers that you don't want anyone to see&#46;&gt;<br/>      take<br/>      type &lt;TLTobject&gt;<br/>      type &lt;TLTcontainable&gt;<br/>      action &lt;contained&gt; if &#40; #papers&#58;isIn# = fireplace &#41; then &#123;<br/>         msg &lt;The papers burst into flames and are quickly consumed&#46;&gt;<br/>         hide &lt;papers&gt;<br/>      &#125;<br/>      else msg &lt;O&#46;K&#46;&gt;<br/>   end define<br/><br/>   define object &lt;Fireplace&gt;<br/>      look &lt;An elegant looking fireplace with a fire blazing&#46;&gt;<br/>      type &lt;TLTcontainer&gt;<br/>   end define<br/><br/>   define object &lt;briefcase&gt;<br/>      look &lt;Your flashy leather briefcase&#46;&gt;<br/>      take<br/>      type &lt;TLTobject&gt;<br/>      type &lt;TLTcontainer&gt;<br/>   end define<br/><br/>end define<br/><br/>define text &lt;intro&gt;<br/><br/>end define<br/><br/>define text &lt;win&gt;<br/><br/>end define<br/><br/>define text &lt;lose&gt;<br/><br/>end define<br/></code></pre><br/><br/>I added the briefcase to show how you can use the default 'containers' functions alongside the special 'action' coded to destroy the papers.<br/><br/>You can cut and paste the above example into a text file, save it as 'fireplace.asl' or something such, then load that into QDK to see how I did it.<br/><br/>The above was done entirely from QDK.<br/><br/>Al (MaDbRiT)",
      "PostDate": "2004-02-11T08:36:48+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "2356",
      "UserId": 0,
      "Username": "Anonymous",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Perfect!  I didnâ€™t think of using the â€œisInâ€ property like that.  Thanks very much",
      "EditableFormat": "bbcode",
      "HTML": "Perfect!  I didnâ€™t think of using the â€œisInâ€ property like that.  Thanks very much",
      "PostDate": "2004-02-11T19:22:56+00:00",
      "LastEditDate": null
    }
  ]
}
