{
  "Topic": {
    "TopicId": "ularpslr-ewzr0he9cdimg",
    "ForumId": "10",
    "Title": "Iframe in conversation",
    "LastUpdated": "2021-08-10T22:20:00.6846657Z",
    "ReplyCount": 0
  },
  "Posts": [
    {
      "PostId": "62da17d7-1287-4f81-ae61-caf3d5181e01",
      "UserId": 335385,
      "Username": "crjensen",
      "AvatarUrl": "https://i.imgur.com/pgHG6PJb.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "I would like to add a page from a website to a conversation.\r\nI'm using the ConvLib library.\r\nI can click 'Run this script' and add a script to the end of the conversation, and it obviously needs to open a iframe.\r\nNow, I looked at an example created by K.V. (<a href=\"https://textadventures.co.uk/forum/quest/topic/y7hthcduyeubmixb7b5vtg/squiffy-in-a-quest-game-an-iframe-cheat\" target=\"_blank\">link</a>), where the iframe is inserted into a msg command.\r\nBut I can't seem to make it work.\r\n\r\nI click 'Run this script', then 'Print a message' and then tried to insert this, but it's not working. Can someone help me get this command right:\r\n(<iframe width=\\\"100%\\\" height=\\\"344\\\" src=\\\"https://forkyndelse.dk/undervisning/quest\\\" frameborder=\\\"0\\\" allowfullscreen></iframe>)",
      "EditableFormat": "markdown",
      "HTML": "<p>I would like to add a page from a website to a conversation.<br>\nI'm using the ConvLib library.<br>\nI can click 'Run this script' and add a script to the end of the conversation, and it obviously needs to open a iframe.<br>\nNow, I looked at an example created by K.V. (<a href=\"https://textadventures.co.uk/forum/quest/topic/y7hthcduyeubmixb7b5vtg/squiffy-in-a-quest-game-an-iframe-cheat\" target=\"_blank\">link</a>), where the iframe is inserted into a msg command.<br>\nBut I can't seem to make it work.</p>\n<p>I click 'Run this script', then 'Print a message' and then tried to insert this, but it's not working. Can someone help me get this command right:<br>\n(&lt;iframe width=\"100%\" height=\"344\" src=\"https://forkyndelse.dk/undervisning/quest\" frameborder=\"0\" allowfullscreen&gt;)</p>\n\n",
      "PostDate": "2021-08-10T22:20:00.6846657Z",
      "LastEditDate": "2021-08-10T22:21:46.849249Z",
      "link": null
    },
    {
      "PostId": "a306bbd3-057a-477a-9443-75eb53b616c4",
      "UserId": 518866,
      "Username": "K.V.",
      "AvatarUrl": "https://secure.gravatar.com/avatar/a97688aadc8152436180b511021e94a7?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Hello.\r\n\r\nI can't access Quest to test anything at the moment.\r\n\r\nDoes your code like this? (Same link you posted, but includes backslashes to cancel out the double quotation marks within the call to ```msg()```.)\r\n\r\n```\r\nmsg (\"<iframe width=\\\"100%\\\" height=\\\"344\\\" src=\\\"https://forkyndelse.dk/undervisning/quest\\\" frameborder=\\\"0\\\" allowfullscreen></iframe>\")\r\n```\r\n\r\n",
      "EditableFormat": "markdown",
      "HTML": "<p>Hello.</p>\n<p>I can't access Quest to test anything at the moment.</p>\n<p>Does your code like this? (Same link you posted, but includes backslashes to cancel out the double quotation marks within the call to <code>msg()</code>.)</p>\n<pre><code>msg (\"&lt;iframe width=\\\"100%\\\" height=\\\"344\\\" src=\\\"https://forkyndelse.dk/undervisning/quest\\\" frameborder=\\\"0\\\" allowfullscreen&gt;&lt;/iframe&gt;\")\n</code></pre>\n\n",
      "PostDate": "2021-08-10T22:27:16.7796421Z",
      "LastEditDate": "2021-08-10T22:44:34.3288641Z",
      "link": null
    },
    {
      "PostId": "59b53bdf-bf18-486b-89af-269a76cf01c8",
      "UserId": 335385,
      "Username": "crjensen",
      "AvatarUrl": "https://i.imgur.com/pgHG6PJb.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Below is the code as it looks now.\r\nI uploaded and tested it, and it gives this error message now:\r\n```Error running script: Error compiling expression '\"<iframe width=\\\"100%\\\" height=\\\"344\\\" src=\\\"https://forkyndelse.dk/undervisning/quest\\\" frameborder=/\"0/\" allowfullscreen></iframe>\"': SyntaxError: Unexpected token \"0\" <INTEGER>; expected one of <EOF>Line: 1, Column: 104```\r\n\r\nAnd this is the code in the room with the conversation. <b>Oh, and ps: I did try to remove the frameborder thing and reupload</b>. That removed the error message, but just resultet in a grey square. No content in the square.\r\n```\r\n <object name=\"D1 D Harpespiller Galinas lejlighed\">\r\n    <inherit name=\"editor_room\" />\r\n    <usedefaultprefix type=\"boolean\">false</usedefaultprefix>\r\n    <description><![CDATA[Da I ankommer, sidder Galina og øver på sin harpe.<br/>]]></description>\r\n    <object name=\"Galina\">\r\n      <inherit name=\"editor_object\" />\r\n      <inherit name=\"namedfemale\" />\r\n      <inherit name=\"talkingchar\" />\r\n      <object name=\"mission 1 samtale galina\">\r\n        <inherit name=\"editor_object\" />\r\n        <inherit name=\"startingtopic\" />\r\n        <alias>Spørg Galina: Hvad er det på væggen der?</alias>\r\n        <mission>1</mission>\r\n        <exchange><![CDATA[Galina svarer: <br/>\"Det er et kors.\"<br/><br/>]]></exchange>\r\n        <talk type=\"script\"><![CDATA[\r\n          msg (\"<iframe width=\\\"100%\\\" height=\\\"344\\\" src=\\\"https://forkyndelse.dk/undervisning/quest\\\" frameborder=/\"0/\" allowfullscreen></iframe>\")\r\n        ]]></talk>\r\n      </object>\r\n      <object name=\"mission 1 samtale galina 2\">\r\n        <inherit name=\"editor_object\" />\r\n        <inherit name=\"startingtopic\" />\r\n        <alias>Spørg Galina: Hvem er du?</alias>\r\n        <mission>1</mission>\r\n        <exchange>\"Mit navn er Galina. Jeg spiller harpe i orkestret.\"</exchange>\r\n      </object>\r\n    </object>\r\n    <exit alias=\"entreen\" to=\"D1 D\">\r\n      <inherit name=\"northeastdirection\" />\r\n    </exit>\r\n    <object name=\"et kors på væggen\">\r\n      <inherit name=\"editor_object\" />\r\n      <gender>det</gender>\r\n      <article>det</article>\r\n      <possessive>dets</possessive>\r\n      <look><![CDATA[På væggen i stuen hænger et stort kors.<br/>Der er med rød farve malet, så det ser ud, som om der flyder blod på korset.]]></look>\r\n    </object>\r\n  </object>\r\n",
      "EditableFormat": "markdown",
      "HTML": "<p>Below is the code as it looks now.<br>\nI uploaded and tested it, and it gives this error message now:<br>\n<code>Error running script: Error compiling expression '\"&lt;iframe width=\\\"100%\\\" height=\\\"344\\\" src=\\\"https://forkyndelse.dk/undervisning/quest\\\" frameborder=/\"0/\" allowfullscreen&gt;&lt;/iframe&gt;\"': SyntaxError: Unexpected token \"0\" &lt;INTEGER&gt;; expected one of &lt;EOF&gt;Line: 1, Column: 104</code></p>\n<p>And this is the code in the room with the conversation. <b>Oh, and ps: I did try to remove the frameborder thing and reupload</b>. That removed the error message, but just resultet in a grey square. No content in the square.</p>\n<pre><code> &lt;object name=\"D1 D Harpespiller Galinas lejlighed\"&gt;\n    &lt;inherit name=\"editor_room\" /&gt;\n    &lt;usedefaultprefix type=\"boolean\"&gt;false&lt;/usedefaultprefix&gt;\n    &lt;description&gt;&lt;![CDATA[Da I ankommer, sidder Galina og øver på sin harpe.&lt;br/&gt;]]&gt;&lt;/description&gt;\n    &lt;object name=\"Galina\"&gt;\n      &lt;inherit name=\"editor_object\" /&gt;\n      &lt;inherit name=\"namedfemale\" /&gt;\n      &lt;inherit name=\"talkingchar\" /&gt;\n      &lt;object name=\"mission 1 samtale galina\"&gt;\n        &lt;inherit name=\"editor_object\" /&gt;\n        &lt;inherit name=\"startingtopic\" /&gt;\n        &lt;alias&gt;Spørg Galina: Hvad er det på væggen der?&lt;/alias&gt;\n        &lt;mission&gt;1&lt;/mission&gt;\n        &lt;exchange&gt;&lt;![CDATA[Galina svarer: &lt;br/&gt;\"Det er et kors.\"&lt;br/&gt;&lt;br/&gt;]]&gt;&lt;/exchange&gt;\n        &lt;talk type=\"script\"&gt;&lt;![CDATA[\n          msg (\"&lt;iframe width=\\\"100%\\\" height=\\\"344\\\" src=\\\"https://forkyndelse.dk/undervisning/quest\\\" frameborder=/\"0/\" allowfullscreen&gt;&lt;/iframe&gt;\")\n        ]]&gt;&lt;/talk&gt;\n      &lt;/object&gt;\n      &lt;object name=\"mission 1 samtale galina 2\"&gt;\n        &lt;inherit name=\"editor_object\" /&gt;\n        &lt;inherit name=\"startingtopic\" /&gt;\n        &lt;alias&gt;Spørg Galina: Hvem er du?&lt;/alias&gt;\n        &lt;mission&gt;1&lt;/mission&gt;\n        &lt;exchange&gt;\"Mit navn er Galina. Jeg spiller harpe i orkestret.\"&lt;/exchange&gt;\n      &lt;/object&gt;\n    &lt;/object&gt;\n    &lt;exit alias=\"entreen\" to=\"D1 D\"&gt;\n      &lt;inherit name=\"northeastdirection\" /&gt;\n    &lt;/exit&gt;\n    &lt;object name=\"et kors på væggen\"&gt;\n      &lt;inherit name=\"editor_object\" /&gt;\n      &lt;gender&gt;det&lt;/gender&gt;\n      &lt;article&gt;det&lt;/article&gt;\n      &lt;possessive&gt;dets&lt;/possessive&gt;\n      &lt;look&gt;&lt;![CDATA[På væggen i stuen hænger et stort kors.&lt;br/&gt;Der er med rød farve malet, så det ser ud, som om der flyder blod på korset.]]&gt;&lt;/look&gt;\n    &lt;/object&gt;\n  &lt;/object&gt;\n</code></pre>\n\n",
      "PostDate": "2021-08-10T22:38:18.9835947Z",
      "LastEditDate": "2021-08-10T22:42:20.9125773Z",
      "link": null
    },
    {
      "PostId": "6a673ccb-c62a-4359-8f4f-17fb6dc6ea6a",
      "UserId": 518866,
      "Username": "K.V.",
      "AvatarUrl": "https://secure.gravatar.com/avatar/a97688aadc8152436180b511021e94a7?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "You're going to be mad. . .\r\n\r\nIt's a very, very little thing. . .\r\n\r\nYou have this (with forward slashes): ```frameborder=/\"0/\" ```\r\n\r\nShould be this (with backslashes): ```frameborder=\\\"0\\\"```\r\n\r\n---\r\nFret not, though.\r\n\r\nAll of us make such errors. In fact, I've been known to make that same error.",
      "EditableFormat": "markdown",
      "HTML": "<p>You're going to be mad. . .</p>\n<p>It's a very, very little thing. . .</p>\n<p>You have this (with forward slashes): <code>frameborder=/\"0/\"</code></p>\n<p>Should be this (with backslashes): <code>frameborder=\\\"0\\\"</code></p>\n<hr>\n<p>Fret not, though.</p>\n<p>All of us make such errors. In fact, I've been known to make that same error.</p>\n\n",
      "PostDate": "2021-08-10T22:43:45.8134662Z",
      "LastEditDate": "2021-08-10T22:45:34.4380346Z",
      "link": null
    },
    {
      "PostId": "5c6c8946-9b91-4ee4-9628-775ee031dc6b",
      "UserId": 518866,
      "Username": "K.V.",
      "AvatarUrl": "https://secure.gravatar.com/avatar/a97688aadc8152436180b511021e94a7?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "PS\r\n\r\nThat was my error!\r\n\r\n:)\r\n\r\nI fixed it in the code I already posted above.\r\n\r\nWhoops! Sorry about that!",
      "EditableFormat": "markdown",
      "HTML": "<p>PS</p>\n<p>That was my error!</p>\n<p>:)</p>\n<p>I fixed it in the code I already posted above.</p>\n<p>Whoops! Sorry about that!</p>\n\n",
      "PostDate": "2021-08-10T22:46:44.7636801Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "f6798b7e-7dea-4776-8760-2a10dc2569e7",
      "UserId": 518866,
      "Username": "K.V.",
      "AvatarUrl": "https://secure.gravatar.com/avatar/a97688aadc8152436180b511021e94a7?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "> That removed the error message, but just resultet in a grey square. No content in the square.\r\n\r\nEgad!\r\n\r\nI bet that is a cross-site restriction.\r\n\r\nI *think* when playing online, you can only have iframes linking to pages on the same site. When playing in Quest installed in Windows, the iframes work, but not when playing online. (I think this is true.)\r\n\r\nOne solution would be to upload your web page(s) to this site in HTML format, as if they were games. You can leave them unlisted; so only people with the link can see them.",
      "EditableFormat": "markdown",
      "HTML": "<blockquote>\n<p>That removed the error message, but just resultet in a grey square. No content in the square.</p>\n</blockquote>\n<p>Egad!</p>\n<p>I bet that is a cross-site restriction.</p>\n<p>I <em>think</em> when playing online, you can only have iframes linking to pages on the same site. When playing in Quest installed in Windows, the iframes work, but not when playing online. (I think this is true.)</p>\n<p>One solution would be to upload your web page(s) to this site in HTML format, as if they were games. You can leave them unlisted; so only people with the link can see them.</p>\n\n",
      "PostDate": "2021-08-10T22:50:45.1663039Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "7e11c138-6e74-4540-9060-ee59b195b093",
      "UserId": 335385,
      "Username": "crjensen",
      "AvatarUrl": "https://i.imgur.com/pgHG6PJb.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "K.V., thank you. I'm glad it was just a little thing :-)\r\nI have reuploaded and now the iframe command produces a grey square. There's nothing in it. Just the grey square.\r\nWhen I right-click the square and look at the code I can see that it is the entire code from the webpage I wanted to insert, but it's just not showing it for some reason.\r\nSo I tested this in several different browsers and it's only a problem when I use Google Chrome (maybe because I don't allow third-party cookies in Chrome?)\r\n\r\n",
      "EditableFormat": "markdown",
      "HTML": "<p>K.V., thank you. I'm glad it was just a little thing :-)<br>\nI have reuploaded and now the iframe command produces a grey square. There's nothing in it. Just the grey square.<br>\nWhen I right-click the square and look at the code I can see that it is the entire code from the webpage I wanted to insert, but it's just not showing it for some reason.<br>\nSo I tested this in several different browsers and it's only a problem when I use Google Chrome (maybe because I don't allow third-party cookies in Chrome?)</p>\n\n",
      "PostDate": "2021-08-10T22:52:24.1334892Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "efb53f05-2cca-4038-bf77-81c7cb984c74",
      "UserId": 335385,
      "Username": "crjensen",
      "AvatarUrl": "https://i.imgur.com/pgHG6PJb.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "I can see we both posted at the same time.\r\nSo, as I wrote before, I tested this in several different browsers and it's only a problem when I use Google Chrome.\r\nI normally don't allow third-party cookies in Chrome, but I just tried to allow them and - viola! - the iframe now shows the webpage.\r\nIs there a way around this, using code, so that people who use Chrome, and do not allow third-party cookies, can play the game?\r\n",
      "EditableFormat": "markdown",
      "HTML": "<p>I can see we both posted at the same time.<br>\nSo, as I wrote before, I tested this in several different browsers and it's only a problem when I use Google Chrome.<br>\nI normally don't allow third-party cookies in Chrome, but I just tried to allow them and - viola! - the iframe now shows the webpage.<br>\nIs there a way around this, using code, so that people who use Chrome, and do not allow third-party cookies, can play the game?</p>\n\n",
      "PostDate": "2021-08-10T22:58:07.4666195Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "ffa750c9-231d-4444-aa88-fc4ddefe8448",
      "UserId": 518866,
      "Username": "K.V.",
      "AvatarUrl": "https://secure.gravatar.com/avatar/a97688aadc8152436180b511021e94a7?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "I have no idea, but, if there is a way and someone here knows, I'm sure they will chime in.\r\n\r\nI'd bet not, though, unfortunately. If there were an easy way around it, that would be a security issue (because it would override the setting in your browser).",
      "EditableFormat": "markdown",
      "HTML": "<p>I have no idea, but, if there is a way and someone here knows, I'm sure they will chime in.</p>\n<p>I'd bet not, though, unfortunately. If there were an easy way around it, that would be a security issue (because it would override the setting in your browser).</p>\n\n",
      "PostDate": "2021-08-10T23:29:55.0841565Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "48756c2b-0b99-4ddd-b78a-e18929063ed9",
      "UserId": 518866,
      "Username": "K.V.",
      "AvatarUrl": "https://secure.gravatar.com/avatar/a97688aadc8152436180b511021e94a7?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Oh; I just visited your link, and I see it's a video.\r\n\r\n...and it's a 17 minute video, which probably exceeds this site's maximum upload file size.\r\n\r\nYou *might* be able to post your video to YouTube (unless they still have the 15 minute maximum rule; it's been years since I've fooled around with YouTube uploads). If you can, you can leave your video unlisted on YouTube and insert the video via Quest.\r\n\r\nhttps://docs.textadventures.co.uk/quest/adding_videos.html\r\n\r\n---\r\nIf you have other links which do not include video (or audio), you could try my earlier idea, too (which was uploading your website files to this site as if it were a game, which is approved by the site maintainers as long as it ties to a game.",
      "EditableFormat": "markdown",
      "HTML": "<p>Oh; I just visited your link, and I see it's a video.</p>\n<p>...and it's a 17 minute video, which probably exceeds this site's maximum upload file size.</p>\n<p>You <em>might</em> be able to post your video to YouTube (unless they still have the 15 minute maximum rule; it's been years since I've fooled around with YouTube uploads). If you can, you can leave your video unlisted on YouTube and insert the video via Quest.</p>\n<p>https://docs.textadventures.co.uk/quest/adding_videos.html</p>\n<hr>\n<p>If you have other links which do not include video (or audio), you could try my earlier idea, too (which was uploading your website files to this site as if it were a game, which is approved by the site maintainers as long as it ties to a game.</p>\n\n",
      "PostDate": "2021-08-12T14:08:50.8541273Z",
      "LastEditDate": null,
      "link": null
    }
  ]
}
