{
  "Topic": {
    "TopicId": "1952",
    "ForumId": "10",
    "Title": "RE: CHARACTERS",
    "LastUpdated": "2009-01-07T13:54:27+00:00",
    "ReplyCount": 5
  },
  "Posts": [
    {
      "PostId": "15494",
      "UserId": 0,
      "Username": "Joe90secretagent",
      "UserAvatar": null,
      "UserGravatar": "fc497b6d31c16d2ad70f315d362636cf",
      "EditableText": "Hi folks.  Have just purchased quest pro online as I want to learn how to create adventure games.  I have used other programs and I wanted to compare quest with other applications.  Quest looks pretty versatile with what you can do but what I want to know is this:\nThere seems to be not much support in quest for creating characters.  In other text adventure applications like C.A.T you can create characters with ease and you can have them move around in your world to different locations and also randomly.\nQuest does not seem to have anything regarding character momement.  For instance in quest I want to create a character and then have him move around like a real person would do.  Is it possible to do this in quest?\nI know you can script in quest and i guess you could script to do this but isnt this a bit tedious.  Surely there must be a way of moving characters in your world with ease but quest does not seem to support this.\nIf anyone can help me out there id be very grateful.  If you could explain how i can move characters in my adventure or maybe send me some code so i can see how its done that would be great.\nMany thanks\nJoe",
      "EditableFormat": "bbcode",
      "HTML": "Hi folks.  Have just purchased quest pro online as I want to learn how to create adventure games.  I have used other programs and I wanted to compare quest with other applications.  Quest looks pretty versatile with what you can do but what I want to know is this:<br/>There seems to be not much support in quest for creating characters.  In other text adventure applications like C.A.T you can create characters with ease and you can have them move around in your world to different locations and also randomly.<br/>Quest does not seem to have anything regarding character momement.  For instance in quest I want to create a character and then have him move around like a real person would do.  Is it possible to do this in quest?<br/>I know you can script in quest and i guess you could script to do this but isnt this a bit tedious.  Surely there must be a way of moving characters in your world with ease but quest does not seem to support this.<br/>If anyone can help me out there id be very grateful.  If you could explain how i can move characters in my adventure or maybe send me some code so i can see how its done that would be great.<br/>Many thanks<br/>Joe",
      "PostDate": "2009-01-03T12:12:56+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "15499",
      "UserId": 0,
      "Username": "Elexxorine",
      "UserAvatar": null,
      "UserGravatar": "a220ee44d8fe2f07029cf1f61b98bf40",
      "EditableText": "There's nothing built in to do character moving. This means you can make the movement work exactly how you want though. I'll post some code up soon on how to do it, if you wish.",
      "EditableFormat": "bbcode",
      "HTML": "There's nothing built in to do character moving. This means you can make the movement work exactly how you want though. I'll post some code up soon on how to do it, if you wish.",
      "PostDate": "2009-01-05T00:01:56+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "15500",
      "UserId": 0,
      "Username": "Joe90secretagent",
      "UserAvatar": null,
      "UserGravatar": "fc497b6d31c16d2ad70f315d362636cf",
      "EditableText": "Yes please. If you could give me some code on how to move a character that would be great.",
      "EditableFormat": "bbcode",
      "HTML": "Yes please. If you could give me some code on how to move a character that would be great.",
      "PostDate": "2009-01-05T09:24:32+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "15501",
      "UserId": 0,
      "Username": "Elexxorine",
      "UserAvatar": null,
      "UserGravatar": "a220ee44d8fe2f07029cf1f61b98bf40",
      "EditableText": "Alright, now that it's not the middle of the night, I've whipped you up some code. This is from scratch but I remembered the method I used before.[code:22rc7agi]define procedure &lt;character&#46;mover&gt;\n\tfor each object in game {\n\t\tif property &lt;#quest&#46;thing#; character&gt; then {\n\t\t\tif property &lt;#quest&#46;thing#; movable&gt; {\n\t\t\t\tif property &lt;#quest&#46;thing#; moving&gt; then {\n\t\t\t\t\tdo &lt;find&#46;directions($locationof(#quest&#46;thing#)$; #quest&#46;thing#)&gt;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t\nend define\n\ndefine procedure &lt;find&#46;directions&gt;\n\tset string &lt;room&#46;now; $parameter(1)$&gt;\n\tfor &lt;i; 0; 9&gt; set string &lt;room&#46;dir&#91;i&#93;;&gt;\n\tset numeric &lt;room&#46;dirs; 0&gt;\n\tfor &lt;i; 0; 9&gt; {\n\t\tif property &lt;#room&#46;now#; #directions&#91;i&#93;#&gt; then {\n\t\t\tset string &lt;room&#46;dir&#91;i&#93;; #directions&#91;i&#93;#&gt;\n\t\t\tinc &lt;room&#46;dirs&gt;\n\t\t}\n\t}\n\tif ( %room&#46;dirs% &gt; 0 ) then {\n\t\tdec &lt;room&#46;dirs&gt;\n\t\tset numeric &lt;dir&#46;goingn; $rand(0; %room&#46;dirs%)$&gt;\n\t\tset string &lt;dir&#46;goings; #room&#46;dir&#91;dir&#46;goingn&#93;#&gt;\n\t\tset numeric &lt;dir&#46;comingn; %dir&#46;goingn% + 5&gt;\n\t\tset string &lt;dir&#46;comings; #room&#46;dir&#91;dir&#46;comingn&#93;#&gt;\n\t\tset string &lt;room&#46;after; $objectproperty(#room&#46;now#; #dir&#46;goings#)$&gt;\n\t\tdo &lt;character&#46;mover2($parameter(2)$; #room&#46;now#; #dir&#46;goings#; #dir&#46;comings#; #room&#46;after#)&gt;\n\t}\n\nend define\n\ndefine procedure &lt;character&#46;mover2&gt;\n\tset string &lt;character; $parameter(1)$&gt;\n\tset string &lt;room&#46;now; $parameter(2)$&gt;\n\tset string &lt;dir&#46;going; $parameter(3)$&gt;\n\tset string &lt;dir&#46;coming; $parameter(4)$&gt;\n\tset string &lt;room&#46;after; $parameter(5)$&gt;\n\tmove &lt;#character#; #room&#46;after#&gt;\n\t\n\tif ( #quest&#46;currentroom# = #room&#46;now# ) then msg &lt;$capfirst(#(character)&#58;alias#)$ moves #dir&#46;going#&#46;&gt;\n\tif ( #quest&#46;currentroom# = #room&#46;after# ) then {\n\t\tif ( #dir&#46;gonig# = up) then {\n\t\t\tmsg &lt;$capfirst(#(character)&#58;alias#)$ enters above&#46;&gt;\n\t\t}\n\t\telse if ( #dir&#46;going# = down ) then {\n\t\t\tmsg &lt;$capfirst(#(character)&#58;alias#)$ enters from below&#46;&gt;\n\t\t}\n\t\telse msg &lt;$capfirst(#(character)&#58;alias#)$ enters from the #dir&#46;coming#&#46;&gt;\n\t}\n\t\nend define[/code:22rc7agi]Dump the above at the end of your asl. To make characters mover they need the properties 'character', 'movable' and 'moving'. The following goes inside the 'define game' block, if you already have some start script then end it inside there.[code:22rc7agi]startscript {\n\tset string &lt;directions&#91;0&#93;; north&gt;\n\tset string &lt;directions&#91;1&#93;; northeast&gt;\n\tset string &lt;directions&#91;2&#93;; east&gt;\n\tset string &lt;directions&#91;3&#93;; southeast&gt;\n\tset string &lt;directions&#91;4&#93;; up&gt;\n\tset string &lt;directions&#91;5&#93;; south&gt;\n\tset string &lt;directions&#91;6&#93;; southwest&gt;\n\tset string &lt;directions&#91;7&#93;; west&gt;\n\tset string &lt;directions&#91;8&#93;; northwest&gt;\n\tset string &lt;directions&#91;9&#93;; down&gt;\n\t\n}[/code:22rc7agi]This should work nicely and print grammatically correct text to tell you they're moved. Characters can move where-ever they are in the game, not just in the same room as the player.\n\nThe code should work, if you put it in right; but it is untested as I don't have quest on this computer. If you have any problems, or are unsure how to add it in, then just post here.  It'll be helpful if this is the case, if you attach your asl to the post, just click 'upload attachment' below the box where you type your text and the rest should be obvious.\n\nEDIT: opps, forgot to say you must add 'do &lt;character.mover&gt;' to your after turn script, prolly easiest to add that via QDK unless you've already added a after-turn script. <!-- s:wink: --><img src=\"{SMILIES_PATH}/icon_wink.gif\" alt=\":wink:\" title=\"Wink\" /><!-- s:wink: --> Silly me...",
      "EditableFormat": "bbcode",
      "HTML": "Alright, now that it's not the middle of the night, I've whipped you up some code. This is from scratch but I remembered the method I used before.<pre><code>define procedure &lt;character&#46;mover&gt;<br/>\tfor each object in game {<br/>\t\tif property &lt;#quest&#46;thing#; character&gt; then {<br/>\t\t\tif property &lt;#quest&#46;thing#; movable&gt; {<br/>\t\t\t\tif property &lt;#quest&#46;thing#; moving&gt; then {<br/>\t\t\t\t\tdo &lt;find&#46;directions($locationof(#quest&#46;thing#)$; #quest&#46;thing#)&gt;<br/>\t\t\t\t}<br/>\t\t\t}<br/>\t\t}<br/>\t}<br/>\t<br/>end define<br/><br/>define procedure &lt;find&#46;directions&gt;<br/>\tset string &lt;room&#46;now; $parameter(1)$&gt;<br/>\tfor &lt;i; 0; 9&gt; set string &lt;room&#46;dir&#91;i&#93;;&gt;<br/>\tset numeric &lt;room&#46;dirs; 0&gt;<br/>\tfor &lt;i; 0; 9&gt; {<br/>\t\tif property &lt;#room&#46;now#; #directions&#91;i&#93;#&gt; then {<br/>\t\t\tset string &lt;room&#46;dir&#91;i&#93;; #directions&#91;i&#93;#&gt;<br/>\t\t\tinc &lt;room&#46;dirs&gt;<br/>\t\t}<br/>\t}<br/>\tif ( %room&#46;dirs% &gt; 0 ) then {<br/>\t\tdec &lt;room&#46;dirs&gt;<br/>\t\tset numeric &lt;dir&#46;goingn; $rand(0; %room&#46;dirs%)$&gt;<br/>\t\tset string &lt;dir&#46;goings; #room&#46;dir&#91;dir&#46;goingn&#93;#&gt;<br/>\t\tset numeric &lt;dir&#46;comingn; %dir&#46;goingn% + 5&gt;<br/>\t\tset string &lt;dir&#46;comings; #room&#46;dir&#91;dir&#46;comingn&#93;#&gt;<br/>\t\tset string &lt;room&#46;after; $objectproperty(#room&#46;now#; #dir&#46;goings#)$&gt;<br/>\t\tdo &lt;character&#46;mover2($parameter(2)$; #room&#46;now#; #dir&#46;goings#; #dir&#46;comings#; #room&#46;after#)&gt;<br/>\t}<br/><br/>end define<br/><br/>define procedure &lt;character&#46;mover2&gt;<br/>\tset string &lt;character; $parameter(1)$&gt;<br/>\tset string &lt;room&#46;now; $parameter(2)$&gt;<br/>\tset string &lt;dir&#46;going; $parameter(3)$&gt;<br/>\tset string &lt;dir&#46;coming; $parameter(4)$&gt;<br/>\tset string &lt;room&#46;after; $parameter(5)$&gt;<br/>\tmove &lt;#character#; #room&#46;after#&gt;<br/>\t<br/>\tif ( #quest&#46;currentroom# = #room&#46;now# ) then msg &lt;$capfirst(#(character)&#58;alias#)$ moves #dir&#46;going#&#46;&gt;<br/>\tif ( #quest&#46;currentroom# = #room&#46;after# ) then {<br/>\t\tif ( #dir&#46;gonig# = up) then {<br/>\t\t\tmsg &lt;$capfirst(#(character)&#58;alias#)$ enters above&#46;&gt;<br/>\t\t}<br/>\t\telse if ( #dir&#46;going# = down ) then {<br/>\t\t\tmsg &lt;$capfirst(#(character)&#58;alias#)$ enters from below&#46;&gt;<br/>\t\t}<br/>\t\telse msg &lt;$capfirst(#(character)&#58;alias#)$ enters from the #dir&#46;coming#&#46;&gt;<br/>\t}<br/>\t<br/>end define</code></pre>Dump the above at the end of your asl. To make characters mover they need the properties 'character', 'movable' and 'moving'. The following goes inside the 'define game' block, if you already have some start script then end it inside there.<pre><code>startscript {<br/>\tset string &lt;directions&#91;0&#93;; north&gt;<br/>\tset string &lt;directions&#91;1&#93;; northeast&gt;<br/>\tset string &lt;directions&#91;2&#93;; east&gt;<br/>\tset string &lt;directions&#91;3&#93;; southeast&gt;<br/>\tset string &lt;directions&#91;4&#93;; up&gt;<br/>\tset string &lt;directions&#91;5&#93;; south&gt;<br/>\tset string &lt;directions&#91;6&#93;; southwest&gt;<br/>\tset string &lt;directions&#91;7&#93;; west&gt;<br/>\tset string &lt;directions&#91;8&#93;; northwest&gt;<br/>\tset string &lt;directions&#91;9&#93;; down&gt;<br/>\t<br/>}</code></pre>This should work nicely and print grammatically correct text to tell you they're moved. Characters can move where-ever they are in the game, not just in the same room as the player.<br/><br/>The code should work, if you put it in right; but it is untested as I don't have quest on this computer. If you have any problems, or are unsure how to add it in, then just post here.  It'll be helpful if this is the case, if you attach your asl to the post, just click 'upload attachment' below the box where you type your text and the rest should be obvious.<br/><br/>EDIT: opps, forgot to say you must add 'do &lt;character.mover&gt;' to your after turn script, prolly easiest to add that via QDK unless you've already added a after-turn script. <!-- s:wink: --><img src=\"{SMILIES_PATH}/icon_wink.gif\" alt=\":wink:\" title=\"Wink\" /><!-- s:wink: --> Silly me...",
      "PostDate": "2009-01-05T14:00:42+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "15513",
      "UserId": 0,
      "Username": "Joe90secretagent",
      "UserAvatar": null,
      "UserGravatar": "fc497b6d31c16d2ad70f315d362636cf",
      "EditableText": "Hi there. Thankyou very much for the code. Looks interesting however I am a complete novice to quest and scripting.  Please could you tell me exactly where the code goes.\nI am using QDK until i get used to scripting.  I think when you say part of code goes in the define game block do i edit the asl file in notepad and put it at the top where it says define game and finish the code before it says end define.\nAlso i dont know where to put the code in the start script. Where is that on qdk exactly?? And i dont know what is the after turn script.  Where do i place this code???\nAs I said before thanks very much for yoru code.  You are very helpful. Just need a bit more help as to where to place the code. Thanks\nKind REgards\nJoe",
      "EditableFormat": "bbcode",
      "HTML": "Hi there. Thankyou very much for the code. Looks interesting however I am a complete novice to quest and scripting.  Please could you tell me exactly where the code goes.<br/>I am using QDK until i get used to scripting.  I think when you say part of code goes in the define game block do i edit the asl file in notepad and put it at the top where it says define game and finish the code before it says end define.<br/>Also i dont know where to put the code in the start script. Where is that on qdk exactly?? And i dont know what is the after turn script.  Where do i place this code???<br/>As I said before thanks very much for yoru code.  You are very helpful. Just need a bit more help as to where to place the code. Thanks<br/>Kind REgards<br/>Joe",
      "PostDate": "2009-01-07T11:00:32+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "15515",
      "UserId": 0,
      "Username": "Elexxorine",
      "UserAvatar": null,
      "UserGravatar": "a220ee44d8fe2f07029cf1f61b98bf40",
      "EditableText": "Right, don't have quest installed here and only used the newer QDK twice. You should be able to change the startscript and after turn script through the game object, at the top of the left list. flip through the tabs til you see it, it's somewhere in there (sorry i can't be more help). easiest thing to do would be it clickedit on each then tell it to print a message and then go look for that message in the asl (should be 'msg &lt;(your message)&gt;'). Replace that line with my script. For the afterturn, using QDK add a 'run procedure' and select 'character.mover'. Procedures go after that 'end define' (add them before doing the script stuff i jsut said), paste them right right right at the end of the asl.\n\nIf you attach your asl file like i said in the last post i can put them in for you and then you can see the difference.",
      "EditableFormat": "bbcode",
      "HTML": "Right, don't have quest installed here and only used the newer QDK twice. You should be able to change the startscript and after turn script through the game object, at the top of the left list. flip through the tabs til you see it, it's somewhere in there (sorry i can't be more help). easiest thing to do would be it clickedit on each then tell it to print a message and then go look for that message in the asl (should be 'msg &lt;(your message)&gt;'). Replace that line with my script. For the afterturn, using QDK add a 'run procedure' and select 'character.mover'. Procedures go after that 'end define' (add them before doing the script stuff i jsut said), paste them right right right at the end of the asl.<br/><br/>If you attach your asl file like i said in the last post i can put them in for you and then you can see the difference.",
      "PostDate": "2009-01-07T13:54:27+00:00",
      "LastEditDate": null
    }
  ]
}
