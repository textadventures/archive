{
  "Topic": {
    "TopicId": "7yx6iqgt2umgk34u4uprta",
    "ForumId": "10",
    "Title": "Restrict/Remove UNDO",
    "LastUpdated": "2017-12-13T04:20:39.5121269Z",
    "ReplyCount": 0
  },
  "Posts": [
    {
      "PostId": "c153828d-fe19-4fd5-a5e9-3144804a6ad7",
      "UserId": 17092,
      "Username": "GAGE HOLSTON",
      "AvatarUrl": "https://secure.gravatar.com/avatar/57b86a567d503acfa104a604accfa863?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "In my game there are some gambling mini-games.\r\nHowever, the undo command completely breaks it as the player can use it to undo an lost and repeat until they win.\r\nI was wondering if there was a way to either\r\nA) Restrict the undo command. Maybe when they start one of the gambling games, the game disables undoing somehow.\r\nB) Get rid of it entirely.\r\n\r\nI'd honestly like option A more than option B, but I will do B if necessary.",
      "EditableFormat": "markdown",
      "HTML": "<p>In my game there are some gambling mini-games.<br>\nHowever, the undo command completely breaks it as the player can use it to undo an lost and repeat until they win.<br>\nI was wondering if there was a way to either<br>\nA) Restrict the undo command. Maybe when they start one of the gambling games, the game disables undoing somehow.<br>\nB) Get rid of it entirely.</p>\n<p>I'd honestly like option A more than option B, but I will do B if necessary.</p>\n\n",
      "PostDate": "2017-12-13T04:20:39.5121269Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "25379946-b32f-4b47-a04e-a78ed3a81943",
      "UserId": 318253,
      "Username": "K.V.",
      "AvatarUrl": "http://i.imgur.com/FOIjtApb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "You can make a command with the pattern ```undo``` that is specific to a room.  If you want to let the player undo at any point during that scene, you can just put ```undo``` in your script (probably twice), and Quest will invoke the ```undo``` script.\r\n\r\n---\r\nI have to put ```undo``` twice here, but that may be due to the ```get input```:\r\n\r\n**Command name: ```no_undo_cmd```**\r\n\r\n***Pattern:***  ```undo```\r\n\r\nScript:\r\n```\r\nmsg (\"Please enter your employee ID.\")\r\nget input {\r\n  if (result = \"69105\") {\r\n    undo\r\n    undo\r\n    game.notarealturn = true\r\n  }\r\n  else {\r\n    msg (\"You have entered an nonexistent employee ID.  Security has been dispatched.  Thank you.\")\r\n    SecurityProtocolFunction(game.pov)\r\n  }\r\n}\r\n```\r\n\r\n---\r\nI move the command I created to override undo around in this example.  (I don't know why the floor boss can give me an undo pass.  It just seemed like a fun way to show how it could work.)\r\n\r\n---\r\n\r\n\r\nSee the details for the example game's code:\r\n\r\n<details>\r\n\r\n```\r\n<!--Saved by Quest 5.7.6404.15496-->\r\n<asl version=\"550\">\r\n  <include ref=\"English.aslx\" />\r\n  <include ref=\"Core.aslx\" />\r\n  <game name=\"No Undo!!!\">\r\n    <gameid>86c936a9-4017-49b6-aee0-60cd3b8b9eb6</gameid>\r\n    <version>1.0</version>\r\n    <firstpublished>2017</firstpublished>\r\n    <feature_asktell />\r\n  </game>\r\n  <object name=\"room\">\r\n    <inherit name=\"editor_room\" />\r\n    <object name=\"player\">\r\n      <inherit name=\"editor_object\" />\r\n      <inherit name=\"editor_player\" />\r\n    </object>\r\n    <exit alias=\"into the Gambling Hall\" to=\"Gambling Hall\">\r\n      <inherit name=\"indirection\" />\r\n    </exit>\r\n  </object>\r\n  <object name=\"Gambling Hall\">\r\n    <inherit name=\"editor_room\" />\r\n    <enter type=\"script\"><![CDATA[\r\n      msg (\"\\\"Welcome to the gambling hall!\\\" booms {object:the Floor Boss}.<br/><br/>\\\"You have lost your {command:UNDO} privileges!\\\"\")\r\n    ]]></enter>\r\n    <beforeenter type=\"script\">\r\n      MoveObject (the Floor Boss, this)\r\n      no_undo_cmd.parent = this\r\n    </beforeenter>\r\n    <exit alias=\"out\" to=\"room\">\r\n      <inherit name=\"outdirection\" />\r\n    </exit>\r\n    <object name=\"the Floor Boss\">\r\n      <inherit name=\"editor_object\" />\r\n      <inherit name=\"namedmale\" />\r\n      <usedefaultprefix type=\"boolean\">false</usedefaultprefix>\r\n      <speak>\"What'd'ya need, pal?\" grumbles the floor boss.  \"An {command:UNDO} pass?  Just {command:ask him about an undo pass:ASK ME ABOUT IT}, if that's what ya' need, buddy!\"</speak>\r\n      <ask type=\"scriptdictionary\">\r\n        <item key=\"undo pass\"><![CDATA[\r\n          no_undo_cmd.parent = the Floor Boss\r\n          RemoveObject (the Floor Boss)\r\n          msg (\"\\\"Got my last {command:UNDO} pass right here!\\\" he proclaims, handing it to you and wandering away.<br/><br/>You start to add the object to your inventory, but it suddenly disappears with a soft <i>sphhlllmphhmp.</i><br/>\")\r\n        ]]></item>\r\n      </ask>\r\n    </object>\r\n    <command name=\"no_undo_cmd\">\r\n      <pattern>undo</pattern>\r\n      <script>\r\n        msg (\"YOU CAN'T DO THAT HERE!\")\r\n      </script>\r\n    </command>\r\n  </object>\r\n</asl>\r\n```\r\n\r\n</details>",
      "EditableFormat": "markdown",
      "HTML": "<p>You can make a command with the pattern <code>undo</code> that is specific to a room.  If you want to let the player undo at any point during that scene, you can just put <code>undo</code> in your script (probably twice), and Quest will invoke the <code>undo</code> script.</p>\n<hr>\n<p>I have to put <code>undo</code> twice here, but that may be due to the <code>get input</code>:</p>\n<p><strong>Command name: <code>no_undo_cmd</code></strong></p>\n<p><strong><em>Pattern:</em></strong>  <code>undo</code></p>\n<p>Script:</p>\n<pre><code>msg (\"Please enter your employee ID.\")\nget input {\n  if (result = \"69105\") {\n    undo\n    undo\n    game.notarealturn = true\n  }\n  else {\n    msg (\"You have entered an nonexistent employee ID.  Security has been dispatched.  Thank you.\")\n    SecurityProtocolFunction(game.pov)\n  }\n}\n</code></pre>\n<hr>\n<p>I move the command I created to override undo around in this example.  (I don't know why the floor boss can give me an undo pass.  It just seemed like a fun way to show how it could work.)</p>\n<hr>\n<p>See the details for the example game's code:</p>\n<details>\n<pre><code>&lt;!--Saved by Quest 5.7.6404.15496--&gt;\n&lt;asl version=\"550\"&gt;\n  &lt;include ref=\"English.aslx\" /&gt;\n  &lt;include ref=\"Core.aslx\" /&gt;\n  &lt;game name=\"No Undo!!!\"&gt;\n    &lt;gameid&gt;86c936a9-4017-49b6-aee0-60cd3b8b9eb6&lt;/gameid&gt;\n    &lt;version&gt;1.0&lt;/version&gt;\n    &lt;firstpublished&gt;2017&lt;/firstpublished&gt;\n    &lt;feature_asktell /&gt;\n  &lt;/game&gt;\n  &lt;object name=\"room\"&gt;\n    &lt;inherit name=\"editor_room\" /&gt;\n    &lt;object name=\"player\"&gt;\n      &lt;inherit name=\"editor_object\" /&gt;\n      &lt;inherit name=\"editor_player\" /&gt;\n    &lt;/object&gt;\n    &lt;exit alias=\"into the Gambling Hall\" to=\"Gambling Hall\"&gt;\n      &lt;inherit name=\"indirection\" /&gt;\n    &lt;/exit&gt;\n  &lt;/object&gt;\n  &lt;object name=\"Gambling Hall\"&gt;\n    &lt;inherit name=\"editor_room\" /&gt;\n    &lt;enter type=\"script\"&gt;&lt;![CDATA[\n      msg (\"\\\"Welcome to the gambling hall!\\\" booms {object:the Floor Boss}.&lt;br/&gt;&lt;br/&gt;\\\"You have lost your {command:UNDO} privileges!\\\"\")\n    ]]&gt;&lt;/enter&gt;\n    &lt;beforeenter type=\"script\"&gt;\n      MoveObject (the Floor Boss, this)\n      no_undo_cmd.parent = this\n    &lt;/beforeenter&gt;\n    &lt;exit alias=\"out\" to=\"room\"&gt;\n      &lt;inherit name=\"outdirection\" /&gt;\n    &lt;/exit&gt;\n    &lt;object name=\"the Floor Boss\"&gt;\n      &lt;inherit name=\"editor_object\" /&gt;\n      &lt;inherit name=\"namedmale\" /&gt;\n      &lt;usedefaultprefix type=\"boolean\"&gt;false&lt;/usedefaultprefix&gt;\n      &lt;speak&gt;\"What'd'ya need, pal?\" grumbles the floor boss.  \"An {command:UNDO} pass?  Just {command:ask him about an undo pass:ASK ME ABOUT IT}, if that's what ya' need, buddy!\"&lt;/speak&gt;\n      &lt;ask type=\"scriptdictionary\"&gt;\n        &lt;item key=\"undo pass\"&gt;&lt;![CDATA[\n          no_undo_cmd.parent = the Floor Boss\n          RemoveObject (the Floor Boss)\n          msg (\"\\\"Got my last {command:UNDO} pass right here!\\\" he proclaims, handing it to you and wandering away.&lt;br/&gt;&lt;br/&gt;You start to add the object to your inventory, but it suddenly disappears with a soft &lt;i&gt;sphhlllmphhmp.&lt;/i&gt;&lt;br/&gt;\")\n        ]]&gt;&lt;/item&gt;\n      &lt;/ask&gt;\n    &lt;/object&gt;\n    &lt;command name=\"no_undo_cmd\"&gt;\n      &lt;pattern&gt;undo&lt;/pattern&gt;\n      &lt;script&gt;\n        msg (\"YOU CAN'T DO THAT HERE!\")\n      &lt;/script&gt;\n    &lt;/command&gt;\n  &lt;/object&gt;\n&lt;/asl&gt;\n</code></pre>\n</details>\n\n",
      "PostDate": "2017-12-13T05:19:14.2645503Z",
      "LastEditDate": "2017-12-13T05:33:36.9971405Z",
      "link": null
    }
  ]
}
