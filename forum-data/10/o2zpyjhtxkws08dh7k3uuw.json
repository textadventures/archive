{
  "Topic": {
    "TopicId": "o2zpyjhtxkws08dh7k3uuw",
    "ForumId": "10",
    "Title": "Photosensitive Lamp",
    "LastUpdated": "2017-09-30T21:48:28.2340809Z",
    "ReplyCount": 0
  },
  "Posts": [
    {
      "PostId": "08130d24-3daa-44e0-bfc2-8fe8d17bc038",
      "UserId": 304102,
      "Username": "Doctor Agon",
      "AvatarUrl": "http://i.imgur.com/Lzd3mOwb.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "This is probably going to be an easy fix, but I'm just not seeing it. I've tried all the permutations I can think of.\r\n\r\nI have an object 'lamp' that can light up rooms(obviously), so I've ticked the relevant box on the features tab. \r\nOn the 'Light/Dark' tab, I've ticked the box, to say 'This object is a lightsource' and set the 'Brightness' to strong.\r\n\r\nOk, that's the easy bit, the problem:\r\n\r\nI want this lamp to be photosensitive, ie to come on only if the room is 'dark', I don't want any switches or batteries. I figured the lamp would therefore be on all the time, and all I'd need to do, would be to change the lamps 'Look at' description.\r\nIf the player is in a lit room, the lamp is off, if the player is in a dark room, the lamp is on.\r\n```\r\nAn modern lamp {if game.pov.parent.dark=True:The lamp is on.}{if game.pov.parent.dark=False:The lamp is off.}\r\n```\r\nAs I've said, I'm scratching my head, trying to get it to display correctly and hope someone can help.",
      "EditableFormat": "markdown",
      "HTML": "<p>This is probably going to be an easy fix, but I'm just not seeing it. I've tried all the permutations I can think of.</p>\n<p>I have an object 'lamp' that can light up rooms(obviously), so I've ticked the relevant box on the features tab.<br>\nOn the 'Light/Dark' tab, I've ticked the box, to say 'This object is a lightsource' and set the 'Brightness' to strong.</p>\n<p>Ok, that's the easy bit, the problem:</p>\n<p>I want this lamp to be photosensitive, ie to come on only if the room is 'dark', I don't want any switches or batteries. I figured the lamp would therefore be on all the time, and all I'd need to do, would be to change the lamps 'Look at' description.<br>\nIf the player is in a lit room, the lamp is off, if the player is in a dark room, the lamp is on.</p>\n<pre><code>An modern lamp {if game.pov.parent.dark=True:The lamp is on.}{if game.pov.parent.dark=False:The lamp is off.}\n</code></pre>\n<p>As I've said, I'm scratching my head, trying to get it to display correctly and hope someone can help.</p>\n\n",
      "PostDate": "2017-09-30T21:48:28.2340809Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "a30cbe98-c902-4c82-ac81-3825ab82bc0c",
      "UserId": 1346,
      "Username": "The Pixie",
      "AvatarUrl": "https://secure.gravatar.com/avatar/cfa37e927f96177bcf6053ae8f108f77?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Try:\r\n```\r\nA modern lamp. {either game.pov.parent.dark:The lamp is on.:The lamp is off.}\r\n```\r\nThe `if` directive is a bit more restricted and can only copy with one dot, not three.",
      "EditableFormat": "markdown",
      "HTML": "<p>Try:</p>\n<pre><code>A modern lamp. {either game.pov.parent.dark:The lamp is on.:The lamp is off.}\n</code></pre>\n<p>The <code>if</code> directive is a bit more restricted and can only copy with one dot, not three.</p>\n\n",
      "PostDate": "2017-09-30T22:11:05.8281661Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "bdb6cbd1-e7fd-485a-93ff-4e94ee05cbd4",
      "UserId": 304102,
      "Username": "Doctor Agon",
      "AvatarUrl": "http://i.imgur.com/Lzd3mOwb.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "I've just tried that Pixie, in the room that's lit, it just prints \"A modern lamp\", but in the room that's 'dark', it prints \r\n\"A modern lamp. The lamp is on.:The lamp is off.",
      "EditableFormat": "markdown",
      "HTML": "<p>I've just tried that Pixie, in the room that's lit, it just prints \"A modern lamp\", but in the room that's 'dark', it prints<br>\n\"A modern lamp. The lamp is on.:The lamp is off.</p>\n\n",
      "PostDate": "2017-09-30T23:01:29.3896334Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "c1511981-f7bc-46b9-99da-2007c1844506",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "If the lamp doesn't get moved, you could use the name of the room instead of game.pov.parent, then you've only got one dot.\r\nOr if all else fails, make a script attribute rather than relying on the text processor.",
      "EditableFormat": "markdown",
      "HTML": "<p>If the lamp doesn't get moved, you could use the name of the room instead of game.pov.parent, then you've only got one dot.<br>\nOr if all else fails, make a script attribute rather than relying on the text processor.</p>\n\n",
      "PostDate": "2017-09-30T23:13:04.857007Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "804f364c-9a22-486d-9c64-7270ebeca36d",
      "UserId": 304102,
      "Username": "Doctor Agon",
      "AvatarUrl": "http://i.imgur.com/Lzd3mOwb.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Yeah @mrangel, I've had to run a script, thought I could've done it through the text processor.\r\nIs there a way I can have the message printed on the same line, at the moment it reads:\r\n```\r\nA modern lamp.\r\nThe lamp is on.\r\n```\r\nas opposed to:\r\n```\r\nA modern lamp. The lamp is on.\r\n```\r\n",
      "EditableFormat": "markdown",
      "HTML": "<p>Yeah @mrangel, I've had to run a script, thought I could've done it through the text processor.<br>\nIs there a way I can have the message printed on the same line, at the moment it reads:</p>\n<pre><code>A modern lamp.\nThe lamp is on.\n</code></pre>\n<p>as opposed to:</p>\n<pre><code>A modern lamp. The lamp is on.\n</code></pre>\n\n",
      "PostDate": "2017-10-01T00:07:19.072002Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "1df8521b-f9e4-483e-855d-b711b6169f87",
      "UserId": 267336,
      "Username": "jmnevil54",
      "AvatarUrl": "https://secure.gravatar.com/avatar/5d73d7ec1dbe20a5cb46f02a6d53f187?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Normally, the enter button.\r\n\r\nThis is a more serious example.\r\n```\r\nmsg (\"Hi.<br/>My<br/>Name is<br/>JMNE.\")\r\n```",
      "EditableFormat": "markdown",
      "HTML": "<p>Normally, the enter button.</p>\n<p>This is a more serious example.</p>\n<pre><code>msg (\"Hi.&lt;br/&gt;My&lt;br/&gt;Name is&lt;br/&gt;JMNE.\")\n</code></pre>\n\n",
      "PostDate": "2017-10-01T00:11:09.5228242Z",
      "LastEditDate": "2017-10-01T00:27:01.883968Z",
      "link": null
    },
    {
      "PostId": "ff404108-47f9-4320-8481-549a9bebd9c0",
      "UserId": 247325,
      "Username": "hegemonkhan",
      "AvatarUrl": "https://secure.gravatar.com/avatar/a96cf34d8d97c57de38f54ee22b1759b?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "concatenation (within a/your/as-a Script Attribute):\r\n\r\n```\r\nstring_variable = \"hi\"\r\nif (player.alias = \"HK\") {\r\n  string_variable = string_variable + \", \" + player.alias + \"! How are you doing?\"\r\n} else {\r\n  string_variable = string_variable + \", nice to meet you.\"\r\n}\r\nmsg (string_variable)\r\n```\r\n\r\n// results/output (on one/same line):\r\n\r\nhi, HK! How are you doing? // if player.alias = \"HK\"\r\n// or:\r\nhi, nice to meet you. // if not player.alias = \"HK\"",
      "EditableFormat": "markdown",
      "HTML": "<p>concatenation (within a/your/as-a Script Attribute):</p>\n<pre><code>string_variable = \"hi\"\nif (player.alias = \"HK\") {\n  string_variable = string_variable + \", \" + player.alias + \"! How are you doing?\"\n} else {\n  string_variable = string_variable + \", nice to meet you.\"\n}\nmsg (string_variable)\n</code></pre>\n<p>// results/output (on one/same line):</p>\n<p>hi, HK! How are you doing? // if player.alias = \"HK\"<br>\n// or:<br>\nhi, nice to meet you. // if not player.alias = \"HK\"</p>\n\n",
      "PostDate": "2017-10-01T05:35:58.1673204Z",
      "LastEditDate": "2017-10-01T05:37:36.5846754Z",
      "link": null
    },
    {
      "PostId": "b238e91f-1843-4219-ad93-7f53bf21aabf",
      "UserId": 318253,
      "Username": "K.V.",
      "AvatarUrl": "http://i.imgur.com/FOIjtApb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "There was a <sub>tiny error</sub> in the code Pix posted.\r\n\r\nTry this:\r\n\r\n```\r\nA modern lamp. {either game.pov.parent.dark:The lamp is on.|The lamp is off.}\r\n```\r\n\r\nI just tested it.  It works.\r\n\r\n\r\n---\r\n\r\n<samp>\r\n\r\n# **dark rooms (for DrAgon)**\r\n\r\nYou are in a Hall.\r\nYou can see a lamp.\r\nYou can go south.\r\n\r\n\\> look at lamp\r\nA modern lamp. The lamp is on.\r\n\r\n</samp>",
      "EditableFormat": "markdown",
      "HTML": "<p>There was a <sub>tiny error</sub> in the code Pix posted.</p>\n<p>Try this:</p>\n<pre><code>A modern lamp. {either game.pov.parent.dark:The lamp is on.|The lamp is off.}\n</code></pre>\n<p>I just tested it.  It works.</p>\n<hr>\n<samp>\n<h1><strong>dark rooms (for DrAgon)</strong></h1>\n<p>You are in a Hall.<br>\nYou can see a lamp.<br>\nYou can go south.</p>\n<p>&gt; look at lamp<br>\nA modern lamp. The lamp is on.</p>\n</samp>\n\n",
      "PostDate": "2017-10-01T05:36:52.6531817Z",
      "LastEditDate": "2017-10-01T05:55:22.3652628Z",
      "link": null
    },
    {
      "PostId": "d9e73351-b625-4fe2-a2cb-8200422f60bb",
      "UserId": 318253,
      "Username": "K.V.",
      "AvatarUrl": "http://i.imgur.com/FOIjtApb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": ">Is there a way I can have the message printed on the same line\r\n\r\n![image](https://user-images.githubusercontent.com/30656341/31052141-e8206eae-a640-11e7-8ff4-cf7d946ff5db.png)\r\n\r\n\r\n```\r\nOutputTextNoBr (\"A modern lamp.\")\r\nif (game.pov.parent.dark) {\r\n  msg (\"  The lamp is on.<br/>\")\r\n}\r\n```\r\n\r\n\r\n\r\n---\r\n<samp>\r\n\r\n\\> look at lamp\r\nA modern lamp. The lamp is on.\r\n\r\n</samp>",
      "EditableFormat": "markdown",
      "HTML": "<blockquote>\n<p>Is there a way I can have the message printed on the same line</p>\n</blockquote>\n<p><img src=\"https://user-images.githubusercontent.com/30656341/31052141-e8206eae-a640-11e7-8ff4-cf7d946ff5db.png\" alt=\"image\"></p>\n<pre><code>OutputTextNoBr (\"A modern lamp.\")\nif (game.pov.parent.dark) {\n  msg (\"  The lamp is on.&lt;br/&gt;\")\n}\n</code></pre>\n<hr>\n<samp>\n<p>&gt; look at lamp<br>\nA modern lamp. The lamp is on.</p>\n</samp>\n\n",
      "PostDate": "2017-10-01T05:40:27.5502557Z",
      "LastEditDate": "2017-10-01T05:43:11.7908828Z",
      "link": null
    },
    {
      "PostId": "776eaa4e-1c6a-4ad5-be61-a1f17e56c0ac",
      "UserId": 318253,
      "Username": "K.V.",
      "AvatarUrl": "http://i.imgur.com/FOIjtApb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Or...\r\n\r\n\r\n```\r\nJS.addText (\"A modern lamp.\")\r\nif (game.pov.parent.dark) {\r\n  JS.addText (\"  The lamp is on.<br/>\")\r\n}\r\n```\r\n\r\n<samp>\r\n\r\n\\> look at lamp\r\nA modern lamp. The lamp is on.\r\n\r\n</samp>",
      "EditableFormat": "markdown",
      "HTML": "<p>Or...</p>\n<pre><code>JS.addText (\"A modern lamp.\")\nif (game.pov.parent.dark) {\n  JS.addText (\"  The lamp is on.&lt;br/&gt;\")\n}\n</code></pre>\n<samp>\n<p>&gt; look at lamp<br>\nA modern lamp. The lamp is on.</p>\n</samp>\n\n",
      "PostDate": "2017-10-01T05:42:12.0256324Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "272c8bb4-3be0-480c-b77e-5f131fc885c0",
      "UserId": 304102,
      "Username": "Doctor Agon",
      "AvatarUrl": "http://i.imgur.com/Lzd3mOwb.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Thanks all, I've never seen that 'Print a message(no line break), yet there it is. \r\n*Mentally bangs fist against head. DOH!*",
      "EditableFormat": "markdown",
      "HTML": "<p>Thanks all, I've never seen that 'Print a message(no line break), yet there it is.<br>\n<em>Mentally bangs fist against head. DOH!</em></p>\n\n",
      "PostDate": "2017-10-01T06:50:11.6089198Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "f1479d3b-eb23-4bf8-b5a7-765b7c150534",
      "UserId": 318253,
      "Username": "K.V.",
      "AvatarUrl": "http://i.imgur.com/FOIjtApb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": ">Thanks all, I've never seen that 'Print a message(no line break), yet there it is.\r\n\r\nI just found that one a few weeks ago, although I scrolled right past it for months...\r\n\r\n\r\nWhat had happened was:\r\n\r\nXanMag used this line of code: ```PrintCentered (\"KV [expletive deleted] [expletive deleted] and [expletive deleted].\")```\r\n\r\n...and I was all like, <i>'how'd that jive turkey do that?'</i>\r\n\r\nSo then, I just went old school:\r\n\r\n```\r\nmsg (\"<center>XanMag can [expletive deleted] a [expletive deleted], then [expletive deleted] that [expletive deleted].  Then [expletive deleted] THAT [expletive deleted], and [expletive deleted] [expletive deleted] [expletive deleted] [expletive deleted].</center>\")\r\n```\r\n\r\n---\r\nDigressions aside, I found the 'no line break' thing when I found the 'centered message' thing.\r\n\r\nSo...\r\n\r\nThanks, XanMag!",
      "EditableFormat": "markdown",
      "HTML": "<blockquote>\n<p>Thanks all, I've never seen that 'Print a message(no line break), yet there it is.</p>\n</blockquote>\n<p>I just found that one a few weeks ago, although I scrolled right past it for months...</p>\n<p>What had happened was:</p>\n<p>XanMag used this line of code: <code>PrintCentered (\"KV [expletive deleted] [expletive deleted] and [expletive deleted].\")</code></p>\n<p>...and I was all like, <i>'how'd that jive turkey do that?'</i></p>\n<p>So then, I just went old school:</p>\n<pre><code>msg (\"&lt;center&gt;XanMag can [expletive deleted] a [expletive deleted], then [expletive deleted] that [expletive deleted].  Then [expletive deleted] THAT [expletive deleted], and [expletive deleted] [expletive deleted] [expletive deleted] [expletive deleted].&lt;/center&gt;\")\n</code></pre>\n<hr>\n<p>Digressions aside, I found the 'no line break' thing when I found the 'centered message' thing.</p>\n<p>So...</p>\n<p>Thanks, XanMag!</p>\n\n",
      "PostDate": "2017-10-01T07:06:21.6315857Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "c0b1ee32-7da4-4e9c-adfd-3180d61122ed",
      "UserId": 267336,
      "Username": "jmnevil54",
      "AvatarUrl": "https://secure.gravatar.com/avatar/5d73d7ec1dbe20a5cb46f02a6d53f187?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Oh. I was confused. (Why was it not on the same line anyway? ...)",
      "EditableFormat": "markdown",
      "HTML": "<p>Oh. I was confused. (Why was it not on the same line anyway? ...)</p>\n\n",
      "PostDate": "2017-10-01T11:53:32.8715891Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "6cec5d7a-2d4a-4487-8182-8fda9f6bc91c",
      "UserId": 318253,
      "Username": "K.V.",
      "AvatarUrl": "http://i.imgur.com/FOIjtApb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "I didn't even see HK's post!\r\n\r\n```\r\nx = \"A modern lamp.  The lamp is \"\r\ny = \"on.\"\r\nz = \"off.\"\r\nif (game.pov.parent.dark) {\r\n  x = x + y\r\n}\r\nelse {\r\n  x = x + z\r\n}\r\nmsg (x)\r\n```\r\n\r\n---\r\nThat does the same thing, too.\r\n\r\n---\r\njmne,\r\n\r\nI think he was doing this, but not appreciating the line break's existence:\r\n\r\n```\r\nmsg (\"A modern &#127875;.\")\r\nif (game.pov.parent.dark) {\r\n  msg (\"  The &#127875; is on.\")\r\n}\r\nelse {\r\n  msg (\"  The &#127875; is off.\")\r\n}\r\n```\r\n\r\n---\r\n<samp>\r\n\r\nA modern &#127875;.  The &#127875; is on.\r\n\r\n</samp>",
      "EditableFormat": "markdown",
      "HTML": "<p>I didn't even see HK's post!</p>\n<pre><code>x = \"A modern lamp.  The lamp is \"\ny = \"on.\"\nz = \"off.\"\nif (game.pov.parent.dark) {\n  x = x + y\n}\nelse {\n  x = x + z\n}\nmsg (x)\n</code></pre>\n<hr>\n<p>That does the same thing, too.</p>\n<hr>\n<p>jmne,</p>\n<p>I think he was doing this, but not appreciating the line break's existence:</p>\n<pre><code>msg (\"A modern &amp;#127875;.\")\nif (game.pov.parent.dark) {\n  msg (\"  The &amp;#127875; is on.\")\n}\nelse {\n  msg (\"  The &amp;#127875; is off.\")\n}\n</code></pre>\n<hr>\n<samp>\n<p>A modern 🎃.  The 🎃 is on.</p>\n</samp>\n\n",
      "PostDate": "2017-10-01T12:26:30.6719761Z",
      "LastEditDate": "2017-10-01T12:29:49.1688411Z",
      "link": null
    }
  ]
}
