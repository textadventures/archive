{
  "Topic": {
    "TopicId": "y1bqovbe3uwfcvtssnqmpw",
    "ForumId": "10",
    "Title": "ShowMenu function not found - bug?",
    "LastUpdated": "2018-07-27T22:53:28.0592935Z",
    "ReplyCount": 0
  },
  "Posts": [
    {
      "PostId": "609a9c60-382d-4be8-9ae0-2a67983f2c67",
      "UserId": 369653,
      "Username": "Blindtextdev",
      "AvatarUrl": "https://secure.gravatar.com/avatar/c624d7b41e98373bec23831a1834b649?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Hey all,\r\n\r\nhave a look at the following code:\r\n    ShowMenu(\"What's your race?\", game.races, false) {\r\n    game.race = result\r\n    }\r\ngame.races contains three entries, all String.\r\nWhen I run this code (web editor), the following error occurs:\r\nError running script: Function not found: \"ShowMenu\"\r\nDid I make a mistake somewhere, or is this a bug?",
      "EditableFormat": "markdown",
      "HTML": "<p>Hey all,</p>\n<p>have a look at the following code:<br>\nShowMenu(\"What's your race?\", game.races, false) {<br>\ngame.race = result<br>\n}<br>\ngame.races contains three entries, all String.<br>\nWhen I run this code (web editor), the following error occurs:<br>\nError running script: Function not found: \"ShowMenu\"<br>\nDid I make a mistake somewhere, or is this a bug?</p>\n\n",
      "PostDate": "2018-07-27T22:53:28.0592935Z",
      "LastEditDate": "2018-07-27T22:55:12.3024951Z",
      "link": null
    },
    {
      "PostId": "c310acde-bc47-4c57-b67e-0a5172a6f05b",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "In your other posts, you seemed to be working on a gamebook.\r\n\r\nShowMenu is one of many core functions that only exist in text adventure mode.\r\nIf you want to use it in a gamebook, you'll have to include it yourself.\r\n\r\nYou could try including the library `CoreFunctions.aslx`; I'm not sure if that would cause any other problems. Or you could copy the menu-related functions into your game directly. I *think* these functions should be all you need:\r\n```\r\n  <function name=\"ShowMenu\" parameters=\"caption, options, allowCancel, callback\">\r\n    <![CDATA[\r\n    outputsection = StartNewOutputSection()\r\n    msg (caption)\r\n    count = 0\r\n    game.menuoptionskeys = NewStringList()\r\n    foreach (option, options) {\r\n      count = count + 1\r\n      if (TypeOf(options) = \"stringdictionary\") {\r\n        optionText = StringDictionaryItem(options, option)\r\n        optiontag = option\r\n        style = GetCurrentLinkTextFormat()\r\n        list add (game.menuoptionskeys, option)\r\n      }\r\n      else if (TypeOf(option) = \"string\") {\r\n        optionText = option\r\n        optiontag = option\r\n        style = GetCurrentLinkTextFormat()\r\n        list add (game.menuoptionskeys, option)\r\n      }\r\n      else if (TypeOf(option) = \"object\") {\r\n        optionText = GetDisplayAlias(option)\r\n        optiontag = option.name\r\n        colour = \"\"\r\n        if (HasString(option, \"linkcolour\") and GetUIOption(\"UseGameColours\") = \"true\") {\r\n          colour = option.linkcolour\r\n        }\r\n        else {\r\n          colour = GetLinkTextColour()\r\n        }\r\n        style = GetCurrentTextFormat(colour)\r\n        list add (game.menuoptionskeys, option.name)\r\n      }\r\n      else {\r\n        error (\"ShowMenu cannot handle a \" + TypeOf(option))\r\n      }\r\n      msg (count + \": <a class=\\\"cmdlink\\\" style=\\\"\" + style + \"\\\" onclick=\\\"ASLEvent('ShowMenuResponse','\" + EscapeQuotes(optiontag) + \"')\\\">\" + optionText + \"</a>\")\r\n    }\r\n    EndOutputSection (outputsection)\r\n    game.menuoptions = options\r\n    game.menuallowcancel = allowCancel\r\n    game.menucallback = callback\r\n    game.menuoutputsection = outputsection\r\n  ]]>\r\n  </function>\r\n  \r\n  <function name=\"ShowMenuResponse\" parameters=\"option\">\r\n    if (game.menucallback = null) {\r\n      error (\"Unexpected menu response\")\r\n    }\r\n    else {\r\n      parameters = NewStringDictionary()\r\n      dictionary add (parameters, \"result\", UnescapeQuotes(option))\r\n      script = game.menucallback\r\n      ClearMenu\r\n      invoke (script, parameters)\r\n    }\r\n  </function>\r\n  \r\n  <function name=\"EscapeQuotes\" parameters=\"s\" type=\"string\">\r\n    s = Replace(s, \"\\\"\", \"@@@doublequote@@@\")\r\n    s = Replace(s, \"\\'\", \"@@@singlequote@@@\")\r\n    return (s)\r\n  </function>\r\n  \r\n  <function name=\"UnescapeQuotes\" parameters=\"s\" type=\"string\">\r\n    s = Replace(s, \"@@@doublequote@@@\", \"\\\"\")\r\n    s = Replace(s, \"@@@singlequote@@@\", \"\\'\")\r\n    return (s)\r\n  </function>\r\n\r\n  <function name=\"ClearMenu\">\r\n    HideOutputSection(game.menuoutputsection)\r\n    game.menuoutputsection = null\r\n    game.menuoptions = null\r\n    game.menucallback = null\r\n  </function>\r\n```",
      "EditableFormat": "markdown",
      "HTML": "<p>In your other posts, you seemed to be working on a gamebook.</p>\n<p>ShowMenu is one of many core functions that only exist in text adventure mode.<br>\nIf you want to use it in a gamebook, you'll have to include it yourself.</p>\n<p>You could try including the library <code>CoreFunctions.aslx</code>; I'm not sure if that would cause any other problems. Or you could copy the menu-related functions into your game directly. I <em>think</em> these functions should be all you need:</p>\n<pre><code>  &lt;function name=\"ShowMenu\" parameters=\"caption, options, allowCancel, callback\"&gt;\n    &lt;![CDATA[\n    outputsection = StartNewOutputSection()\n    msg (caption)\n    count = 0\n    game.menuoptionskeys = NewStringList()\n    foreach (option, options) {\n      count = count + 1\n      if (TypeOf(options) = \"stringdictionary\") {\n        optionText = StringDictionaryItem(options, option)\n        optiontag = option\n        style = GetCurrentLinkTextFormat()\n        list add (game.menuoptionskeys, option)\n      }\n      else if (TypeOf(option) = \"string\") {\n        optionText = option\n        optiontag = option\n        style = GetCurrentLinkTextFormat()\n        list add (game.menuoptionskeys, option)\n      }\n      else if (TypeOf(option) = \"object\") {\n        optionText = GetDisplayAlias(option)\n        optiontag = option.name\n        colour = \"\"\n        if (HasString(option, \"linkcolour\") and GetUIOption(\"UseGameColours\") = \"true\") {\n          colour = option.linkcolour\n        }\n        else {\n          colour = GetLinkTextColour()\n        }\n        style = GetCurrentTextFormat(colour)\n        list add (game.menuoptionskeys, option.name)\n      }\n      else {\n        error (\"ShowMenu cannot handle a \" + TypeOf(option))\n      }\n      msg (count + \": &lt;a class=\\\"cmdlink\\\" style=\\\"\" + style + \"\\\" onclick=\\\"ASLEvent('ShowMenuResponse','\" + EscapeQuotes(optiontag) + \"')\\\"&gt;\" + optionText + \"&lt;/a&gt;\")\n    }\n    EndOutputSection (outputsection)\n    game.menuoptions = options\n    game.menuallowcancel = allowCancel\n    game.menucallback = callback\n    game.menuoutputsection = outputsection\n  ]]&gt;\n  &lt;/function&gt;\n  \n  &lt;function name=\"ShowMenuResponse\" parameters=\"option\"&gt;\n    if (game.menucallback = null) {\n      error (\"Unexpected menu response\")\n    }\n    else {\n      parameters = NewStringDictionary()\n      dictionary add (parameters, \"result\", UnescapeQuotes(option))\n      script = game.menucallback\n      ClearMenu\n      invoke (script, parameters)\n    }\n  &lt;/function&gt;\n  \n  &lt;function name=\"EscapeQuotes\" parameters=\"s\" type=\"string\"&gt;\n    s = Replace(s, \"\\\"\", \"@@@doublequote@@@\")\n    s = Replace(s, \"\\'\", \"@@@singlequote@@@\")\n    return (s)\n  &lt;/function&gt;\n  \n  &lt;function name=\"UnescapeQuotes\" parameters=\"s\" type=\"string\"&gt;\n    s = Replace(s, \"@@@doublequote@@@\", \"\\\"\")\n    s = Replace(s, \"@@@singlequote@@@\", \"\\'\")\n    return (s)\n  &lt;/function&gt;\n\n  &lt;function name=\"ClearMenu\"&gt;\n    HideOutputSection(game.menuoutputsection)\n    game.menuoutputsection = null\n    game.menuoptions = null\n    game.menucallback = null\n  &lt;/function&gt;\n</code></pre>\n\n",
      "PostDate": "2018-07-28T07:45:24.6002182Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "3aa29932-bd49-4399-aded-7de2fe7dfac3",
      "UserId": 369653,
      "Username": "Blindtextdev",
      "AvatarUrl": "https://secure.gravatar.com/avatar/c624d7b41e98373bec23831a1834b649?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "*nods* That's the issue. Thanks for clarifying - next time I'll go look for the function and include it manually.\r\n\r\nAlthough, if a function isn't available, it shouldn't be possible to set it in the editor in the first place.",
      "EditableFormat": "markdown",
      "HTML": "<p><em>nods</em> That's the issue. Thanks for clarifying - next time I'll go look for the function and include it manually.</p>\n<p>Although, if a function isn't available, it shouldn't be possible to set it in the editor in the first place.</p>\n\n",
      "PostDate": "2018-07-28T08:05:20.6946462Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "3d9a5326-4850-44bb-a5f1-b659725123ee",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "> Although, if a function isn't available, it shouldn't be possible to set it in the editor in the first place.\r\n\r\nYeah, that could be fixed. Possibly it would be worth either moving ShowMenu from `CoreEditorScriptsOutput` tab to one that isn't included in gamebook mode; or including the function.",
      "EditableFormat": "markdown",
      "HTML": "<blockquote>\n<p>Although, if a function isn't available, it shouldn't be possible to set it in the editor in the first place.</p>\n</blockquote>\n<p>Yeah, that could be fixed. Possibly it would be worth either moving ShowMenu from <code>CoreEditorScriptsOutput</code> tab to one that isn't included in gamebook mode; or including the function.</p>\n\n",
      "PostDate": "2018-07-28T08:53:05.7461917Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "c420c735-8226-4225-9ef6-1a1e9542a087",
      "UserId": 369653,
      "Username": "Blindtextdev",
      "AvatarUrl": "https://secure.gravatar.com/avatar/c624d7b41e98373bec23831a1834b649?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Including the function would be better.\r\n\r\nNext episode. I have implemented it now (couldn't use copy and paste as the code view in the web version would protest then). See the code below:\r\n\r\nFunction name: ShowMenu\r\nReturn type: none\r\nParameters: caption, options, allowCancel, callback\r\nScript:\r\n    outputsection = StartNewOutputSection()\r\n    msg (caption)\r\n    count = 0\r\n    game.menuoptionskeys = NewStringList()\r\n    foreach (option, options) {\r\n    count = count + 1\r\n    if (TypeOf(options) = \"stringdictionary\") {\r\n    optionText = StringDictionaryItem(options, option)\r\n    optiontag = option\r\n    style = GetCurrentLinkTextFormat()\r\n    list add (game.menuoptionskeys, option)\r\n    }\r\n    else if (TypeOf(options) = \"string\") {\r\n    optionText = option\r\n    optiontag = option\r\n    style = GetCurrentLinkTextFormat()\r\n    list add (game.menuoptionskeys, option)\r\n    }\r\n    else if (TypeOf(options) = \"object\") {\r\n    optionText = GetDisplayAlias(option)\r\n    optiontag = option.name\r\n    colour = \"\"\r\n    if (HasString(\"linkcolour\") and GetUIOption(\"UseGameColours\") = \"true\" ) {\r\n    colour = option.linkcolour\r\n    }\r\n    else {\r\n    colour = GetLinkTextColour()\r\n    }\r\n    style = GetCurrentLinkTextFormat(colour)\r\n    list add (game.menuoptionskeys, option.name)\r\n    }\r\n    else {\r\n    error (\"ShowMenu cannot handle a \" + TypeOf(option))\r\n    }\r\n    msg (msg(count + \": <a class=\\\"cmdlink\\\" style=\\\"\" + style + \"\\\" onclick=\\\"ASLEvent('ShowMenuResponse','\" + EscapeQuotes(optiontag) + \"')\\\">\" + optionText + \"</a>\"))\r\n    }\r\n    EndOutputSection (outputsection)\r\n    game.menuoptions = options\r\n    game.menuallowcancel = allowCancel\r\n    game.menucallback = callback\r\n    game.menuoutputsection = outputsection \r\n\r\nFunction name: ShowMenuResponse\r\nReturn type: none\r\nParameters: option\r\nScript:\r\n    if (game.menucallback = null) {\r\n    error (\"Unexpected menu response\")\r\n    }\r\n    else {\r\n    parameters = NewStringDictionary()\r\n    dictionary add (parameters, \"\\\"result\\\"\", UnescapeQutes(option))\r\n    script = game.menucallback\r\n    ClearMenu\r\n    invoke (script, parameters)\r\n    }\r\n\r\nFunction name: EscapeQuotes\r\nReturn type: string\r\nParameters: s\r\nScript:\r\n    s = Replace(s, \"\\\"\", \"@@@doublequote@@@\")\r\n    s =\r\n    Replace(s, \"\\'\", \"@@@singlequote@@@\")\r\n    return (s)\r\n\r\nThe function UnescapeQuotes is the same, just the replacing works the other way round.\r\n\r\nNext:\r\nFunction name: ClearMenu\r\nNo parameters, no return type.\r\nScript:\r\n    HideOutputSection (game.menuoutputsection)\r\n    game.menuoutputsection = null\r\n    game.menuoptions = null\r\n    game.menucallback = null\r\nSo. On a page I added this code:\r\n    game.races = NewStringList()\r\n    list add(game.races, \"Vampire\")\r\n    list add(game.races, \"Human\")\r\n    ShowMenu(\"Which race are you?\", game.races, false) {\r\n    game.race = result\r\n    }\r\n\r\nRunning this, I get confronted with an error: ShowMenu cannot handle a string.\r\n\r\nWhich is weird, because I included a way to handle strings in ShowMenu. Any ideas?",
      "EditableFormat": "markdown",
      "HTML": "<p>Including the function would be better.</p>\n<p>Next episode. I have implemented it now (couldn't use copy and paste as the code view in the web version would protest then). See the code below:</p>\n<p>Function name: ShowMenu<br>\nReturn type: none<br>\nParameters: caption, options, allowCancel, callback<br>\nScript:<br>\noutputsection = StartNewOutputSection()<br>\nmsg (caption)<br>\ncount = 0<br>\ngame.menuoptionskeys = NewStringList()<br>\nforeach (option, options) {<br>\ncount = count + 1<br>\nif (TypeOf(options) = \"stringdictionary\") {<br>\noptionText = StringDictionaryItem(options, option)<br>\noptiontag = option<br>\nstyle = GetCurrentLinkTextFormat()<br>\nlist add (game.menuoptionskeys, option)<br>\n}<br>\nelse if (TypeOf(options) = \"string\") {<br>\noptionText = option<br>\noptiontag = option<br>\nstyle = GetCurrentLinkTextFormat()<br>\nlist add (game.menuoptionskeys, option)<br>\n}<br>\nelse if (TypeOf(options) = \"object\") {<br>\noptionText = GetDisplayAlias(option)<br>\noptiontag = option.name<br>\ncolour = \"\"<br>\nif (HasString(\"linkcolour\") and GetUIOption(\"UseGameColours\") = \"true\" ) {<br>\ncolour = option.linkcolour<br>\n}<br>\nelse {<br>\ncolour = GetLinkTextColour()<br>\n}<br>\nstyle = GetCurrentLinkTextFormat(colour)<br>\nlist add (game.menuoptionskeys, option.name)<br>\n}<br>\nelse {<br>\nerror (\"ShowMenu cannot handle a \" + TypeOf(option))<br>\n}<br>\nmsg (msg(count + \": &lt;a class=\"cmdlink\" style=\"\" + style + \"\" onclick=\"ASLEvent('ShowMenuResponse','\" + EscapeQuotes(optiontag) + \"')\"&gt;\" + optionText + \"\"))<br>\n}<br>\nEndOutputSection (outputsection)<br>\ngame.menuoptions = options<br>\ngame.menuallowcancel = allowCancel<br>\ngame.menucallback = callback<br>\ngame.menuoutputsection = outputsection</p>\n<p>Function name: ShowMenuResponse<br>\nReturn type: none<br>\nParameters: option<br>\nScript:<br>\nif (game.menucallback = null) {<br>\nerror (\"Unexpected menu response\")<br>\n}<br>\nelse {<br>\nparameters = NewStringDictionary()<br>\ndictionary add (parameters, \"\"result\"\", UnescapeQutes(option))<br>\nscript = game.menucallback<br>\nClearMenu<br>\ninvoke (script, parameters)<br>\n}</p>\n<p>Function name: EscapeQuotes<br>\nReturn type: string<br>\nParameters: s<br>\nScript:<br>\ns = Replace(s, \"\"\", \"@@@doublequote@@@\")<br>\ns =<br>\nReplace(s, \"'\", \"@@@singlequote@@@\")<br>\nreturn (s)</p>\n<p>The function UnescapeQuotes is the same, just the replacing works the other way round.</p>\n<p>Next:<br>\nFunction name: ClearMenu<br>\nNo parameters, no return type.<br>\nScript:<br>\nHideOutputSection (game.menuoutputsection)<br>\ngame.menuoutputsection = null<br>\ngame.menuoptions = null<br>\ngame.menucallback = null<br>\nSo. On a page I added this code:<br>\ngame.races = NewStringList()<br>\nlist add(game.races, \"Vampire\")<br>\nlist add(game.races, \"Human\")<br>\nShowMenu(\"Which race are you?\", game.races, false) {<br>\ngame.race = result<br>\n}</p>\n<p>Running this, I get confronted with an error: ShowMenu cannot handle a string.</p>\n<p>Which is weird, because I included a way to handle strings in ShowMenu. Any ideas?</p>\n\n",
      "PostDate": "2018-07-28T17:32:43.146227Z",
      "LastEditDate": "2018-07-28T17:55:18.606044Z",
      "link": null
    },
    {
      "PostId": "f2c36e9a-393b-43fc-875f-27a595b3e744",
      "UserId": 247325,
      "Username": "hegemonkhan",
      "AvatarUrl": "https://secure.gravatar.com/avatar/a96cf34d8d97c57de38f54ee22b1759b?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "you can just manually create your own menu (more simplistic, well my coding as I'm still a beginner in programming, than in using the full built-in menu coding, lol):\r\n\r\n```\r\n// scripting example of using it:\r\n\r\ncreate (\"example_object\")\r\n\r\nexample_object.example_stringlist_attribute = Split (\"red;blue;yellow\", \";\")\r\n\r\nmenu_display_function (example_object.example_stringlist_attribute, \"Color?\")\r\n\r\n// -------------\r\n\r\n<function name=\"menu_display_function\" parameters=\"menu_attribute_parameter, menu_prompt_string_parameter\">\r\n  numbering_integer_variable = 0\r\n  msg (menu_prompt_string_parameter)\r\n  foreach (item_variable, menu_attribute_parameter) {\r\n    numbering_integer_variable = numbering_integer_variable + 1\r\n    msg (numbering_integer_variable + \". \" + item_variable)\r\n  }\r\n</function>\r\n\r\n// output/display:\r\n\r\nColor?\r\n\r\n1. red\r\n2. blue\r\n3. yellow\r\n```\r\n\r\nyou can adjust/add to it as you like, and you also got to of course craft scripting/code (another Function or whatever) for handling it (getting user input and acting on it)\r\n\r\nthis post was just a really quick example of manually creating your own menu display",
      "EditableFormat": "markdown",
      "HTML": "<p>you can just manually create your own menu (more simplistic, well my coding as I'm still a beginner in programming, than in using the full built-in menu coding, lol):</p>\n<pre><code>// scripting example of using it:\n\ncreate (\"example_object\")\n\nexample_object.example_stringlist_attribute = Split (\"red;blue;yellow\", \";\")\n\nmenu_display_function (example_object.example_stringlist_attribute, \"Color?\")\n\n// -------------\n\n&lt;function name=\"menu_display_function\" parameters=\"menu_attribute_parameter, menu_prompt_string_parameter\"&gt;\n  numbering_integer_variable = 0\n  msg (menu_prompt_string_parameter)\n  foreach (item_variable, menu_attribute_parameter) {\n    numbering_integer_variable = numbering_integer_variable + 1\n    msg (numbering_integer_variable + \". \" + item_variable)\n  }\n&lt;/function&gt;\n\n// output/display:\n\nColor?\n\n1. red\n2. blue\n3. yellow\n</code></pre>\n<p>you can adjust/add to it as you like, and you also got to of course craft scripting/code (another Function or whatever) for handling it (getting user input and acting on it)</p>\n<p>this post was just a really quick example of manually creating your own menu display</p>\n\n",
      "PostDate": "2018-07-28T20:31:53.3810238Z",
      "LastEditDate": "2018-07-28T20:32:45.6508822Z",
      "link": null
    },
    {
      "PostId": "beb2401a-11e3-4a6d-8d76-96372ca639b6",
      "UserId": 369653,
      "Username": "Blindtextdev",
      "AvatarUrl": "https://secure.gravatar.com/avatar/c624d7b41e98373bec23831a1834b649?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "The display isn't the problem, but getting an interaction on it... I need a click event. And honestly don't know how to do that in aslx.",
      "EditableFormat": "markdown",
      "HTML": "<p>The display isn't the problem, but getting an interaction on it... I need a click event. And honestly don't know how to do that in aslx.</p>\n\n",
      "PostDate": "2018-07-28T20:38:09.0048041Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "547a124a-9f90-4aed-854c-8ef0a1b581a4",
      "UserId": 247325,
      "Username": "hegemonkhan",
      "AvatarUrl": "https://secure.gravatar.com/avatar/a96cf34d8d97c57de38f54ee22b1759b?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "P.S.\r\n\r\nyou can do a lot of cool things, if you're creating the menu yourself, for one example of mine, that I like:\r\n\r\na random selection option (if you want to speed through it or can't make up your mind or if you just want a random result)\r\n\r\n```\r\n<function name=\"menu_function\" parameters=\"menu_attribute_parameter, menu_prompt_string_parameter\">\r\n  menu_display_function (menu_attribute_parameter,menu_prompt_string_parameter)\r\n  on ready {\r\n    menu_handling_function (menu_attribute_parameter)\r\n  }\r\n</function>\r\n\r\n<function name=\"menu_display_function\" parameters=\"menu_attribute_parameter,menu_prompt_string_parameter\">\r\n  numbering_integer_variable = 0\r\n  msg (menu_prompt_string_parameter)\r\n  msg (numbering_integer_variable + \". random selection\")\r\n  foreach (item_variable, menu_attribute_parameter) {\r\n    numbering_integer_variable = numbering_integer_variable + 1\r\n    msg (numbering_integer_variable + \". \" + item_variable)\r\n  }\r\n</function>\r\n\r\n<function name=\"menu_handling_function\" parameters=\"menu_attribute_parameter\">\r\n  <![CDATA[\r\n    get input {\r\n      if (IsInt (result)) {\r\n        input_integer_variable = ToInt (result)\r\n        input_index_number_integer_variable = input_integer_variable - 1\r\n        list_count_integer_variable = ListCount (menu_attribute_parameter)\r\n        last_index_number_integer_variable = list_count_integer_variable - 1\r\n        if (input_integer_variable = 0) {\r\n          player.example_string_attribute = StringListItem (menu_attribute_parameter, GetRandomInt (0, list_count_integer_variable ))\r\n        } else if (input_integer_variable > 0 and input_index_number_integer_variable < list_count_integer_variable) {\r\n          player.example_stringlist_attribute = StringListItem (menu_attribute_parameter, input_index_number_integer_variable)\r\n        } else {\r\n          // wrong input, try again (loop function / tail-recursion --- unfortunately, due to getting, having to wait for, user input, we can't do/use the 'while' Function, we got to do tail-recursion, in quest, sighs)\r\n          menu_handling_function (menu_attribute_parameter)\r\n        }\r\n      } else {\r\n        // wrong input, try again (loop function / tail-recursion --- unfortunately, due to getting, having to wait for, user input, we can't do/use the 'while' Function, we got to do tail-recursion, in quest, sighs)\r\n        menu_handling_function (menu_attribute_parameter)\r\n      }\r\n    }\r\n  ]]>\r\n</function>",
      "EditableFormat": "markdown",
      "HTML": "<p>P.S.</p>\n<p>you can do a lot of cool things, if you're creating the menu yourself, for one example of mine, that I like:</p>\n<p>a random selection option (if you want to speed through it or can't make up your mind or if you just want a random result)</p>\n<pre><code>&lt;function name=\"menu_function\" parameters=\"menu_attribute_parameter, menu_prompt_string_parameter\"&gt;\n  menu_display_function (menu_attribute_parameter,menu_prompt_string_parameter)\n  on ready {\n    menu_handling_function (menu_attribute_parameter)\n  }\n&lt;/function&gt;\n\n&lt;function name=\"menu_display_function\" parameters=\"menu_attribute_parameter,menu_prompt_string_parameter\"&gt;\n  numbering_integer_variable = 0\n  msg (menu_prompt_string_parameter)\n  msg (numbering_integer_variable + \". random selection\")\n  foreach (item_variable, menu_attribute_parameter) {\n    numbering_integer_variable = numbering_integer_variable + 1\n    msg (numbering_integer_variable + \". \" + item_variable)\n  }\n&lt;/function&gt;\n\n&lt;function name=\"menu_handling_function\" parameters=\"menu_attribute_parameter\"&gt;\n  &lt;![CDATA[\n    get input {\n      if (IsInt (result)) {\n        input_integer_variable = ToInt (result)\n        input_index_number_integer_variable = input_integer_variable - 1\n        list_count_integer_variable = ListCount (menu_attribute_parameter)\n        last_index_number_integer_variable = list_count_integer_variable - 1\n        if (input_integer_variable = 0) {\n          player.example_string_attribute = StringListItem (menu_attribute_parameter, GetRandomInt (0, list_count_integer_variable ))\n        } else if (input_integer_variable &gt; 0 and input_index_number_integer_variable &lt; list_count_integer_variable) {\n          player.example_stringlist_attribute = StringListItem (menu_attribute_parameter, input_index_number_integer_variable)\n        } else {\n          // wrong input, try again (loop function / tail-recursion --- unfortunately, due to getting, having to wait for, user input, we can't do/use the 'while' Function, we got to do tail-recursion, in quest, sighs)\n          menu_handling_function (menu_attribute_parameter)\n        }\n      } else {\n        // wrong input, try again (loop function / tail-recursion --- unfortunately, due to getting, having to wait for, user input, we can't do/use the 'while' Function, we got to do tail-recursion, in quest, sighs)\n        menu_handling_function (menu_attribute_parameter)\n      }\n    }\n  ]]&gt;\n&lt;/function&gt;\n</code></pre>\n\n",
      "PostDate": "2018-07-28T20:46:21.9657274Z",
      "LastEditDate": "2018-07-28T20:50:05.3128997Z",
      "link": null
    },
    {
      "PostId": "c936745c-f944-470b-89ec-a88ea8f5eb0f",
      "UserId": 369653,
      "Username": "Blindtextdev",
      "AvatarUrl": "https://secure.gravatar.com/avatar/c624d7b41e98373bec23831a1834b649?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "If I could figure out how to add a cliak event, I also just could use a list or whatever. ",
      "EditableFormat": "markdown",
      "HTML": "<p>If I could figure out how to add a cliak event, I also just could use a list or whatever.</p>\n\n",
      "PostDate": "2018-07-28T20:48:05.7887676Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "043b40ab-14ec-44dc-809c-9c13d801141f",
      "UserId": 369653,
      "Username": "Blindtextdev",
      "AvatarUrl": "https://secure.gravatar.com/avatar/c624d7b41e98373bec23831a1834b649?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Looked through your functions. They're cool, ineed. But I think you use the GetInput function to get the selected value, right? That function displays a textfield. How do we keep the player from entering something in the textfield?",
      "EditableFormat": "markdown",
      "HTML": "<p>Looked through your functions. They're cool, ineed. But I think you use the GetInput function to get the selected value, right? That function displays a textfield. How do we keep the player from entering something in the textfield?</p>\n\n",
      "PostDate": "2018-07-28T20:55:37.0373209Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "2eea76f1-f0f0-4743-8da0-a79a4c085cf0",
      "UserId": 247325,
      "Username": "hegemonkhan",
      "AvatarUrl": "https://secure.gravatar.com/avatar/a96cf34d8d97c57de38f54ee22b1759b?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "(ya, I'm the opposite of you, I like just having to press a number key for selections, lol --- I'l probably still also use the UI panes, hyperlinks, and etc mouse/click or typed-in input stuff too)\r\n\r\n(working on a too-ambitious massive TES:morrowing/oblivion/skyrim scale of RPG... lol)\r\n\r\n(still working on just my character creation of it... lol --- having a bit of trouble with creating an advanced/dynamic menu/input handling system... it's a bit beyond my ability, so I'm struggling a bit with it... sighs)\r\n\r\n(character generation, from quickest to longest --- random: entirely automated random character customization, preset: pre-built characters, select: questions-answers that determines character customization, and custom: you do/select the full customization of a character, though each individual selection has the random selection option as well)\r\n\r\n(trying to figure out how to make a really generalized/dynamic menu system, handling different inputs/data-types and their handling, passing in needed stuff to one super menu handling function, to not have code redundancy and make it as human-customizable-friendly-editable-scalable-encapsulated-compartmentalized as possible... but it's not easy for me to do this type of advanced design/structure level of code stuff, sighs)\r\n\r\n----------------\r\n\r\nclick event? like a hyperlink? (such as with Objects: [ball] -> verbs/script-attributes: [kick], [throw])\r\n\r\neasiest is via the text processor commands:\r\n\r\nhttp://docs.textadventures.co.uk/quest/text_processor.html\r\n\r\n```\r\ncreate (\"example_object\")\r\n\r\ncreate (\"ball\")\r\n\r\nball.kick => {\r\n  msg (\"You kick the ball\")\r\n}\r\n\r\nball.throw => {\r\n  msg (\"You throw the ball\")\r\n}\r\n\r\nball.displayverbs = NewStringlist ()\r\nlist add (ball.displayverbs, \"kick\")\r\nlist add (ball.displayverbs, \"throw\")\r\n\r\nexample_object.example_objectlist_attribute = NewObjectList ()\r\nlist add (example_object.example_objectlist_attribute, ball)\r\n\r\nnumbering_integer_variable = 0\r\nforeach (object_variable, example_object.example_objectlist_attribute) {\r\n  numbering_integer_variable = numbering_integer_variable + 1\r\n  msg (numbering_integer_attribute + \". {object:\" + object_variable.name + \"}\")\r\n}\r\n```",
      "EditableFormat": "markdown",
      "HTML": "<p>(ya, I'm the opposite of you, I like just having to press a number key for selections, lol --- I'l probably still also use the UI panes, hyperlinks, and etc mouse/click or typed-in input stuff too)</p>\n<p>(working on a too-ambitious massive TES:morrowing/oblivion/skyrim scale of RPG... lol)</p>\n<p>(still working on just my character creation of it... lol --- having a bit of trouble with creating an advanced/dynamic menu/input handling system... it's a bit beyond my ability, so I'm struggling a bit with it... sighs)</p>\n<p>(character generation, from quickest to longest --- random: entirely automated random character customization, preset: pre-built characters, select: questions-answers that determines character customization, and custom: you do/select the full customization of a character, though each individual selection has the random selection option as well)</p>\n<p>(trying to figure out how to make a really generalized/dynamic menu system, handling different inputs/data-types and their handling, passing in needed stuff to one super menu handling function, to not have code redundancy and make it as human-customizable-friendly-editable-scalable-encapsulated-compartmentalized as possible... but it's not easy for me to do this type of advanced design/structure level of code stuff, sighs)</p>\n<hr>\n<p>click event? like a hyperlink? (such as with Objects: [ball] -&gt; verbs/script-attributes: [kick], [throw])</p>\n<p>easiest is via the text processor commands:</p>\n<p>http://docs.textadventures.co.uk/quest/text_processor.html</p>\n<pre><code>create (\"example_object\")\n\ncreate (\"ball\")\n\nball.kick =&gt; {\n  msg (\"You kick the ball\")\n}\n\nball.throw =&gt; {\n  msg (\"You throw the ball\")\n}\n\nball.displayverbs = NewStringlist ()\nlist add (ball.displayverbs, \"kick\")\nlist add (ball.displayverbs, \"throw\")\n\nexample_object.example_objectlist_attribute = NewObjectList ()\nlist add (example_object.example_objectlist_attribute, ball)\n\nnumbering_integer_variable = 0\nforeach (object_variable, example_object.example_objectlist_attribute) {\n  numbering_integer_variable = numbering_integer_variable + 1\n  msg (numbering_integer_attribute + \". {object:\" + object_variable.name + \"}\")\n}\n</code></pre>\n\n",
      "PostDate": "2018-07-28T20:58:10.4131519Z",
      "LastEditDate": "2018-07-28T21:25:31.5911019Z",
      "link": null
    },
    {
      "PostId": "756975cc-3773-451c-85a8-cf421b6baf16",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "In the ShowMenu function you have:\r\n`else if (TypeOf(options) = \"string\") {`\r\nthat should be `option`, not `options`.\r\n\r\n(Similarly, `else if (TypeOf(options) = \"object\") {` should be `else if (TypeOf(option) = \"object\") {`)\r\n\r\nThe first one, `if (TypeOf(options) = \"stringdictionary\") {`, is the only one that should be `options`.\r\n\r\n(If `options` is a stringdictionary, it has special behaviour. Otherwise it goes through the items in the `options` list and checks each `option` to see if it is a string or an object. So you can have a list of options that contains some strings and some objects. You've got it checking if the list of options is a string, rather than each individual option)",
      "EditableFormat": "markdown",
      "HTML": "<p>In the ShowMenu function you have:<br>\n<code>else if (TypeOf(options) = \"string\") {</code><br>\nthat should be <code>option</code>, not <code>options</code>.</p>\n<p>(Similarly, <code>else if (TypeOf(options) = \"object\") {</code> should be <code>else if (TypeOf(option) = \"object\") {</code>)</p>\n<p>The first one, <code>if (TypeOf(options) = \"stringdictionary\") {</code>, is the only one that should be <code>options</code>.</p>\n<p>(If <code>options</code> is a stringdictionary, it has special behaviour. Otherwise it goes through the items in the <code>options</code> list and checks each <code>option</code> to see if it is a string or an object. So you can have a list of options that contains some strings and some objects. You've got it checking if the list of options is a string, rather than each individual option)</p>\n\n",
      "PostDate": "2018-07-28T21:03:38.311454Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "b0fe74e7-9b08-4733-b841-2cf223068d0a",
      "UserId": 247325,
      "Username": "hegemonkhan",
      "AvatarUrl": "https://secure.gravatar.com/avatar/a96cf34d8d97c57de38f54ee22b1759b?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "not sure where it's found, but there's help on doing various UI stuff (like removing/hiding: toggling show/hide, of the input command bar at the bottom)...\r\n\r\n(let me see if I can find it for you...)\r\n\r\nhttps://textadventures.co.uk/forum/quest/topic/4853/showing-hiding-the-command-bar (not sure if this is the best link on it... but hopefully it's something... hopefully it's what you need...)\r\n\r\n(there's a much more detailed guide somewhere on it and other various UI customization stuff (quest can use JS, so you can use html, css, and js, to do UI customization, if you know how to do/use this web-coding stuff)\r\n\r\nhttp://docs.textadventures.co.uk/quest/ (scroll down to the 'UI customization' like links/section/category)\r\n\r\ntry searching around for more/other links, try pixie's github too:\r\n\r\nhttps://github.com/ThePix/quest/wiki\r\n\r\nhopefully, you can find what you need in one of these links... lol",
      "EditableFormat": "markdown",
      "HTML": "<p>not sure where it's found, but there's help on doing various UI stuff (like removing/hiding: toggling show/hide, of the input command bar at the bottom)...</p>\n<p>(let me see if I can find it for you...)</p>\n<p>https://textadventures.co.uk/forum/quest/topic/4853/showing-hiding-the-command-bar (not sure if this is the best link on it... but hopefully it's something... hopefully it's what you need...)</p>\n<p>(there's a much more detailed guide somewhere on it and other various UI customization stuff (quest can use JS, so you can use html, css, and js, to do UI customization, if you know how to do/use this web-coding stuff)</p>\n<p>http://docs.textadventures.co.uk/quest/ (scroll down to the 'UI customization' like links/section/category)</p>\n<p>try searching around for more/other links, try pixie's github too:</p>\n<p>https://github.com/ThePix/quest/wiki</p>\n<p>hopefully, you can find what you need in one of these links... lol</p>\n\n",
      "PostDate": "2018-07-28T21:04:59.071536Z",
      "LastEditDate": "2018-07-28T21:19:12.2842807Z",
      "link": null
    },
    {
      "PostId": "b3568e1e-ad08-46c1-aa2c-fc221efb0585",
      "UserId": 247325,
      "Username": "hegemonkhan",
      "AvatarUrl": "https://secure.gravatar.com/avatar/a96cf34d8d97c57de38f54ee22b1759b?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "P.S.\r\n\r\ntotally forgot to include this really useful link for more advanced coding stuff wth quest (sorry about that):\r\n\r\nhttp://docs.textadventures.co.uk/quest/scripts/request.html\r\n\r\nlet's you access the various internal coding handling of stuff....\r\n\r\n----------\r\n\r\nP.S.S.\r\n\r\nalso search for KV/RH and mrangel threads/posts as they've done a lot of work on/with the UI customization coding too\r\n\r\n(I still don't really understand all of the UI coding yet... lazy... haven't gotten around to learning/studying it yet..)",
      "EditableFormat": "markdown",
      "HTML": "<p>P.S.</p>\n<p>totally forgot to include this really useful link for more advanced coding stuff wth quest (sorry about that):</p>\n<p>http://docs.textadventures.co.uk/quest/scripts/request.html</p>\n<p>let's you access the various internal coding handling of stuff....</p>\n<hr>\n<p>P.S.S.</p>\n<p>also search for KV/RH and mrangel threads/posts as they've done a lot of work on/with the UI customization coding too</p>\n<p>(I still don't really understand all of the UI coding yet... lazy... haven't gotten around to learning/studying it yet..)</p>\n\n",
      "PostDate": "2018-07-28T21:21:36.4310185Z",
      "LastEditDate": "2018-07-28T21:33:29.2730349Z",
      "link": null
    },
    {
      "PostId": "1e394790-4363-4c48-9b3b-207b8b991867",
      "UserId": 369653,
      "Username": "Blindtextdev",
      "AvatarUrl": "https://secure.gravatar.com/avatar/c624d7b41e98373bec23831a1834b649?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Thank you! This will hopefully help. Let me fix my stuff...",
      "EditableFormat": "markdown",
      "HTML": "<p>Thank you! This will hopefully help. Let me fix my stuff...</p>\n\n",
      "PostDate": "2018-07-28T21:28:40.3874856Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "95f2a47b-bf19-4432-a81a-87a3efd012fc",
      "UserId": 369653,
      "Username": "Blindtextdev",
      "AvatarUrl": "https://secure.gravatar.com/avatar/c624d7b41e98373bec23831a1834b649?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "OK, after fixing a typo and a duplicate msg, the menu now gets displayed. On click, it also gets removed, but I get the message that no variable 'result' exists. Shouldn't all this return a variable Called 'result'? The most likely cause is the ShowMenuResponse function, so here's the code again:\r\n(Parameters = option, no return type)\r\n    if (game.menucallback = null) {\r\n   error (\"Unexpected menu response\")\r\n    }\r\n    else {\r\n    parameters = NewStringDictionary()\r\n    dictionary add (parameters, \"\\\"result\\\"\", UnescapeQuotes(option))\r\n    script = game.menucallback\r\n    ClearMenu\r\n    invoke (script, parameters)\r\n    }\r\n\r\nDo you see my mistake? Because I can't find it...",
      "EditableFormat": "markdown",
      "HTML": "<p>OK, after fixing a typo and a duplicate msg, the menu now gets displayed. On click, it also gets removed, but I get the message that no variable 'result' exists. Shouldn't all this return a variable Called 'result'? The most likely cause is the ShowMenuResponse function, so here's the code again:<br>\n(Parameters = option, no return type)<br>\nif (game.menucallback = null) {<br>\nerror (\"Unexpected menu response\")<br>\n}<br>\nelse {<br>\nparameters = NewStringDictionary()<br>\ndictionary add (parameters, \"\"result\"\", UnescapeQuotes(option))<br>\nscript = game.menucallback<br>\nClearMenu<br>\ninvoke (script, parameters)<br>\n}</p>\n<p>Do you see my mistake? Because I can't find it...</p>\n\n",
      "PostDate": "2018-07-28T22:03:48.4873543Z",
      "LastEditDate": "2018-07-28T22:05:19.9198556Z",
      "link": null
    },
    {
      "PostId": "5e93a113-eb46-453b-ba3e-2bf399321bf7",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "@HK:\r\n>           // wrong input, try again (loop function / tail-recursion --- unfortunately, due to getting, having to wait for, user input, we can't do/use the 'while' Function, we got to do tail-recursion, in quest, sighs)\r\n\r\nThat is not tail recursion. In fact, it isn't recursion at all.\r\nThink about why tail recursion is considered a bad thing, and you'll see that it doesn't apply here.\r\n\r\n@Blindtextdev:\r\n>         dictionary add (parameters, \"\"result\"\", UnescapeQuotes(option))\r\n\r\nIt looks like you have `\"\"result\"\"` instead of `\"result\"`. Though I'd expect that to give an error `SyntaxError: Unexpected token \"result\"` rather than saying the variable doesn't exist.\r\n\r\nSee if fixing the doubled quotes helps.\r\n\r\nAlso, when pasting code you can use three backticks, like this:\r\n````\r\n```\r\ncode goes here\r\n```\r\n````\r\nso that the code shows up properly indented and is easier to read.",
      "EditableFormat": "markdown",
      "HTML": "<p>@HK:</p>\n<blockquote>\n<pre><code>      // wrong input, try again (loop function / tail-recursion --- unfortunately, due to getting, having to wait for, user input, we can't do/use the 'while' Function, we got to do tail-recursion, in quest, sighs)\n</code></pre>\n</blockquote>\n<p>That is not tail recursion. In fact, it isn't recursion at all.<br>\nThink about why tail recursion is considered a bad thing, and you'll see that it doesn't apply here.</p>\n<p>@Blindtextdev:</p>\n<blockquote>\n<pre><code>    dictionary add (parameters, \"\"result\"\", UnescapeQuotes(option))\n</code></pre>\n</blockquote>\n<p>It looks like you have <code>\"\"result\"\"</code> instead of <code>\"result\"</code>. Though I'd expect that to give an error <code>SyntaxError: Unexpected token \"result\"</code> rather than saying the variable doesn't exist.</p>\n<p>See if fixing the doubled quotes helps.</p>\n<p>Also, when pasting code you can use three backticks, like this:</p>\n<pre><code>```\ncode goes here\n```\n</code></pre>\n<p>so that the code shows up properly indented and is easier to read.</p>\n\n",
      "PostDate": "2018-07-28T22:23:33.5439884Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "52636fb5-fdcd-41a8-8c9d-ee0ee0edbd32",
      "UserId": 247325,
      "Username": "hegemonkhan",
      "AvatarUrl": "https://secure.gravatar.com/avatar/a96cf34d8d97c57de38f54ee22b1759b?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "@ mrangel:\r\n\r\nI know what you're talking about, I thought that it's still called 'tail-recursion', even though it's not recursioning back to a prior scripting, as maybe it's still retaining the activation record of the scripting until it's finishing its looping of the scripting:\r\n\r\n(err that wasn't well said, hopefully this is more clear, at what I thought was why it's still called/\"considered\" as 'tail-recursion', even though it's not really doing any nested scripting recursion)\r\n\r\nfunction (1)\r\n-> loop function (2)\r\n-> (function (1) is still retained in memory) --- \"so, it's possibly still considered as tail-recursion due to the activation record taking up memory\"\r\n-> (after function (2) finishes, then it goes back to function (1) to delete it from memory)\r\n\r\nbut if:\r\n\r\nfunction (1)\r\n-> loop function (2)\r\n-> (function (1) is deleted from memory)\r\n-> (run and complete function (2))\r\n-> (function (2) is deleted from memory)\r\n\r\nthen, it's definately not even considered as tail-recursion, of course\r\n\r\n---------\r\n\r\nthat was my understanding anyways of 'tail-recursion' still being used even though you're not doing real recursion (returning back to the same sub-problem to finish it)\r\n\r\nof course, this is actual recursion (be it actual recursion of: top/head recursion, middle recursion, or tail-recursion):\r\n\r\nproblem\r\n-> sub-problem 1\r\n->-> sub-problem 2\r\n->->-> base case solution\r\n->-> sub-problem 2 is finished up\r\n->-> sub-problem 2 is deleted\r\n-> sub-problem 1 is finished up\r\n-> sub-problem 1 is deleted\r\nproblem is solved (finished up), and deleted\r\n\r\n----\r\n\r\nI'm still a little shakey/noob-ish with recursion... so I probably had this weird notion of mine, all wrong, not understanding what exactly is recursion properly\r\n\r\nI'm just trying to explain why I had thought looping a function is still considered as tail-recursion, but I'm likely entirely wrong that it's to be still considered as tail-recursion. This was just my flawed \"understanding\" of recursion, that I've had all this time... sighs\r\n\r\n(I wish I was better at math and smarter, so I'd be able to understand and use/do recursion fully and clearly, sighs. I have to really strain my brain when trying to do recursion design with coding/scripting, sighs)",
      "EditableFormat": "markdown",
      "HTML": "<p>@ mrangel:</p>\n<p>I know what you're talking about, I thought that it's still called 'tail-recursion', even though it's not recursioning back to a prior scripting, as maybe it's still retaining the activation record of the scripting until it's finishing its looping of the scripting:</p>\n<p>(err that wasn't well said, hopefully this is more clear, at what I thought was why it's still called/\"considered\" as 'tail-recursion', even though it's not really doing any nested scripting recursion)</p>\n<p>function (1)<br>\n-&gt; loop function (2)<br>\n-&gt; (function (1) is still retained in memory) --- \"so, it's possibly still considered as tail-recursion due to the activation record taking up memory\"<br>\n-&gt; (after function (2) finishes, then it goes back to function (1) to delete it from memory)</p>\n<p>but if:</p>\n<p>function (1)<br>\n-&gt; loop function (2)<br>\n-&gt; (function (1) is deleted from memory)<br>\n-&gt; (run and complete function (2))<br>\n-&gt; (function (2) is deleted from memory)</p>\n<p>then, it's definately not even considered as tail-recursion, of course</p>\n<hr>\n<p>that was my understanding anyways of 'tail-recursion' still being used even though you're not doing real recursion (returning back to the same sub-problem to finish it)</p>\n<p>of course, this is actual recursion (be it actual recursion of: top/head recursion, middle recursion, or tail-recursion):</p>\n<p>problem<br>\n-&gt; sub-problem 1<br>\n-&gt;-&gt; sub-problem 2<br>\n-&gt;-&gt;-&gt; base case solution<br>\n-&gt;-&gt; sub-problem 2 is finished up<br>\n-&gt;-&gt; sub-problem 2 is deleted<br>\n-&gt; sub-problem 1 is finished up<br>\n-&gt; sub-problem 1 is deleted<br>\nproblem is solved (finished up), and deleted</p>\n<hr>\n<p>I'm still a little shakey/noob-ish with recursion... so I probably had this weird notion of mine, all wrong, not understanding what exactly is recursion properly</p>\n<p>I'm just trying to explain why I had thought looping a function is still considered as tail-recursion, but I'm likely entirely wrong that it's to be still considered as tail-recursion. This was just my flawed \"understanding\" of recursion, that I've had all this time... sighs</p>\n<p>(I wish I was better at math and smarter, so I'd be able to understand and use/do recursion fully and clearly, sighs. I have to really strain my brain when trying to do recursion design with coding/scripting, sighs)</p>\n\n",
      "PostDate": "2018-07-28T23:45:02.2638808Z",
      "LastEditDate": "2018-07-28T23:54:45.1403752Z",
      "link": null
    },
    {
      "PostId": "240a250c-9c4f-424c-940b-86649dfe9ba0",
      "UserId": 369653,
      "Username": "Blindtextdev",
      "AvatarUrl": "https://secure.gravatar.com/avatar/c624d7b41e98373bec23831a1834b649?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "It works! Thanks all!\r\n\r\nSorry for all the stupid questions... It's just that the code view for me as blind person looks pretty messy, it's hard to scroll all the way to a certain part of code, so hence I didn't notice the \"\"result\"\" thing, for example.\r\n\r\nAlso, thanks for the hint with the code - the backticks were displayed in English braille set, I'm used to German braille, so I didn't know which characters I had to place there. Hence, I used four spaces (I'm used to that from StackOverflow), but it obviously didn't work that well.\r\n\r\nOh well, now I know what to place there.",
      "EditableFormat": "markdown",
      "HTML": "<p>It works! Thanks all!</p>\n<p>Sorry for all the stupid questions... It's just that the code view for me as blind person looks pretty messy, it's hard to scroll all the way to a certain part of code, so hence I didn't notice the \"\"result\"\" thing, for example.</p>\n<p>Also, thanks for the hint with the code - the backticks were displayed in English braille set, I'm used to German braille, so I didn't know which characters I had to place there. Hence, I used four spaces (I'm used to that from StackOverflow), but it obviously didn't work that well.</p>\n<p>Oh well, now I know what to place there.</p>\n\n",
      "PostDate": "2018-07-29T08:27:52.235111Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "9f8c5f4f-7526-482d-8f36-faba95168d63",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "@HK\r\n> maybe it's still retaining the activation record of the scripting until it's finishing its looping of the scripting:\r\n\r\nIt isn't. This is why variables before a `ShowMenu` call can't be used inside the result block. When you call ShowMenu, it displays a menu on the screen. It creates a script attribute (`game.menucallback`) containing the script you specify; and it sends a chunk of text to the player's browser, which has javascript 'onclick' functions to run that script attribute with different values of the `result` parameter.\r\n\r\nIf the menu displays itself again until it gets the right answer, that isn't recursion. Because the function is creating a link that, when clicked, will run the function again. It isn't actually calling itself. And the function will have terminated, and its variables disposed, before that link is actually displayed.\r\n\r\nA function running itself is recursion.\r\n\r\nThe player clicking a link that runs a function, and once it's finished, the player clicking another link that runs the same function … that's just repetition.\r\n\r\n(and now you've got me thinking … it would be fairly trivial to modify the `ClearMenu` function so that it keeps a backup copy of the script attribute and options list, that's cleared by a turnscript after one turn. Then you could make a `RepeatQuestion()` function that displays the last getinput/menu/ask/etc again, restoring the saved callback. That would make it look a bit more like a normal loop from the user's point of view)\r\n\r\n\r\n@Blindtextdev\r\n\r\nThat must be pretty tough.\r\nIt says in the forum documentation that four spaces works, but I've only seen it work like that with ten spaces or more; and it seems to vary from post to post how many you need. But four spaces seems to work if it's after the `>` for quoted text.",
      "EditableFormat": "markdown",
      "HTML": "<p>@HK</p>\n<blockquote>\n<p>maybe it's still retaining the activation record of the scripting until it's finishing its looping of the scripting:</p>\n</blockquote>\n<p>It isn't. This is why variables before a <code>ShowMenu</code> call can't be used inside the result block. When you call ShowMenu, it displays a menu on the screen. It creates a script attribute (<code>game.menucallback</code>) containing the script you specify; and it sends a chunk of text to the player's browser, which has javascript 'onclick' functions to run that script attribute with different values of the <code>result</code> parameter.</p>\n<p>If the menu displays itself again until it gets the right answer, that isn't recursion. Because the function is creating a link that, when clicked, will run the function again. It isn't actually calling itself. And the function will have terminated, and its variables disposed, before that link is actually displayed.</p>\n<p>A function running itself is recursion.</p>\n<p>The player clicking a link that runs a function, and once it's finished, the player clicking another link that runs the same function … that's just repetition.</p>\n<p>(and now you've got me thinking … it would be fairly trivial to modify the <code>ClearMenu</code> function so that it keeps a backup copy of the script attribute and options list, that's cleared by a turnscript after one turn. Then you could make a <code>RepeatQuestion()</code> function that displays the last getinput/menu/ask/etc again, restoring the saved callback. That would make it look a bit more like a normal loop from the user's point of view)</p>\n<p>@Blindtextdev</p>\n<p>That must be pretty tough.<br>\nIt says in the forum documentation that four spaces works, but I've only seen it work like that with ten spaces or more; and it seems to vary from post to post how many you need. But four spaces seems to work if it's after the <code>&gt;</code> for quoted text.</p>\n\n",
      "PostDate": "2018-07-29T09:33:51.2942891Z",
      "LastEditDate": null,
      "link": null
    }
  ]
}
