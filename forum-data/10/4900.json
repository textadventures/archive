{
  "Topic": {
    "TopicId": "4900",
    "ForumId": "10",
    "Title": "Using \"img\" tags",
    "LastUpdated": "2015-01-18T10:13:51+00:00",
    "ReplyCount": 14
  },
  "Posts": [
    {
      "PostId": "32917",
      "UserId": 0,
      "Username": "The Pixie",
      "UserAvatar": null,
      "UserGravatar": "cfa37e927f96177bcf6053ae8f108f77",
      "EditableText": "While we can use the picture script command, I was wondering if I can put HTML &quot;img&quot; tags in text. I had a look at what the picture script command actually does, and it uses &quot;img&quot; tags, like this:\n\n[code:19zbaohw]&lt;img src=&quot;quest&#58;//local/flower&#46;jpg?c=93347006&quot;&gt;\n\n&lt;img src=&quot;quest&#58;//local/flower&#46;jpg?c=93347124&quot;&gt;\n\n&lt;img src=&quot;quest&#58;//local/flower&#46;jpg?c=93347180&quot;&gt;\n\n&lt;img src=&quot;quest&#58;//local/flower&#46;jpg?c=93347183&quot;&gt;[/code:19zbaohw]\n\nThese were all for the same thing (looking at an item), performed twice in a play through, two separate plays through. So what is that number? It seems to increase every time. Even if you close Quest, then start it up again this number is remembered and increased, though not be the same amount each time.\n\nIt is not required offline, but it is online, and it does seem to matter what it is. So how do I get it? And what does it do?",
      "EditableFormat": "bbcode",
      "HTML": "While we can use the picture script command, I was wondering if I can put HTML &quot;img&quot; tags in text. I had a look at what the picture script command actually does, and it uses &quot;img&quot; tags, like this:<br/><br/><pre><code>&lt;img src=&quot;quest&#58;//local/flower&#46;jpg?c=93347006&quot;&gt;<br/><br/>&lt;img src=&quot;quest&#58;//local/flower&#46;jpg?c=93347124&quot;&gt;<br/><br/>&lt;img src=&quot;quest&#58;//local/flower&#46;jpg?c=93347180&quot;&gt;<br/><br/>&lt;img src=&quot;quest&#58;//local/flower&#46;jpg?c=93347183&quot;&gt;</code></pre><br/><br/>These were all for the same thing (looking at an item), performed twice in a play through, two separate plays through. So what is that number? It seems to increase every time. Even if you close Quest, then start it up again this number is remembered and increased, though not be the same amount each time.<br/><br/>It is not required offline, but it is online, and it does seem to matter what it is. So how do I get it? And what does it do?",
      "PostDate": "2014-12-16T10:12:31+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "32918",
      "UserId": 0,
      "Username": "Alex",
      "UserAvatar": null,
      "UserGravatar": "188b72c5e13327f4fde3989dca7d7d53",
      "EditableText": "It's a &quot;cache buster&quot; to prevent the browser fetching the image from cache. It's just a number based on the current time (can't remember off the top of my head, but it'll be something like the number of milliseconds since some particular date).",
      "EditableFormat": "bbcode",
      "HTML": "It's a &quot;cache buster&quot; to prevent the browser fetching the image from cache. It's just a number based on the current time (can't remember off the top of my head, but it'll be something like the number of milliseconds since some particular date).",
      "PostDate": "2014-12-16T10:36:46+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "32919",
      "UserId": 0,
      "Username": "The Pixie",
      "UserAvatar": null,
      "UserGravatar": "cfa37e927f96177bcf6053ae8f108f77",
      "EditableText": "So how come I am not seeing any image? This is the HTML code being served:\n\n[code:35na3csh]&lt;span style=&quot;font-family&#58;Georgia, serif;color&#58;Black;font-size&#58;12pt;&quot;&gt;\n    &lt;img src=&quot;quest&#58;//local/flower&#46;jpg?c=90000001&quot;&gt;&lt;/img&gt;\n&lt;/span&gt;[/code:35na3csh]\n\nComparing to a picture command, I now see it is quite different online, and in fact the number is not even there!\n\n[code:35na3csh]&lt;span style=&quot;font-family&#58;Georgia, serif;color&#58;Black;font-size&#58;12pt;&quot;&gt;\n    &lt;img src=&quot;http&#58;//textadventures&#46;blob&#46;core&#46;windows&#46;net/gameresources/5b8e54c5-c011-417a-9ee5-b3c34be859e7/flower&#46;jpg&quot;&gt;&lt;/img&gt;\n&lt;/span&gt;[/code:35na3csh]\n\nIn fact there is a whole different number, 5b8e54c5-c011-417a-9ee5-b3c34be859e7. That at least stays the same. Is that unique to a game? Can I rely on it not changing when I update a game? Hmm, I  would also have to do it different for on-line and off-line.\n\nAll I really want is to insert [i:35na3csh]align=&quot;left&quot;[/i:35na3csh] into the HTML. Is there an alternative that would be any easier?",
      "EditableFormat": "bbcode",
      "HTML": "So how come I am not seeing any image? This is the HTML code being served:<br/><br/><pre><code>&lt;span style=&quot;font-family&#58;Georgia, serif;color&#58;Black;font-size&#58;12pt;&quot;&gt;<br/>    &lt;img src=&quot;quest&#58;//local/flower&#46;jpg?c=90000001&quot;&gt;&lt;/img&gt;<br/>&lt;/span&gt;</code></pre><br/><br/>Comparing to a picture command, I now see it is quite different online, and in fact the number is not even there!<br/><br/><pre><code>&lt;span style=&quot;font-family&#58;Georgia, serif;color&#58;Black;font-size&#58;12pt;&quot;&gt;<br/>    &lt;img src=&quot;http&#58;//textadventures&#46;blob&#46;core&#46;windows&#46;net/gameresources/5b8e54c5-c011-417a-9ee5-b3c34be859e7/flower&#46;jpg&quot;&gt;&lt;/img&gt;<br/>&lt;/span&gt;</code></pre><br/><br/>In fact there is a whole different number, 5b8e54c5-c011-417a-9ee5-b3c34be859e7. That at least stays the same. Is that unique to a game? Can I rely on it not changing when I update a game? Hmm, I  would also have to do it different for on-line and off-line.<br/><br/>All I really want is to insert <span style=\"font-style:italic;\">align=&quot;left&quot;</span> into the HTML. Is there an alternative that would be any easier?",
      "PostDate": "2014-12-16T11:04:22+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "32920",
      "UserId": 0,
      "Username": "Alex",
      "UserAvatar": null,
      "UserGravatar": "188b72c5e13327f4fde3989dca7d7d53",
      "EditableText": "You can't use quest:// URLs in the browser - that's specific to the desktop version. This is why you must use the GetFileURL function to get the URL to your images, as it will always return the correct URL for the current player.\n\nDon't rely on the textadventures.blob.core.windows.net URL staying the same either. The URL may change when a game is updated, or if the specifics of the online hosting change.\n\nIf you want to create your own img tags, or do anything else with HTML/JS that will need resources from your Quest game file, always use GetFileURL: <!-- m --><a class=\"postlink\" href=\"http://docs.textadventures.co.uk/quest/functions/getfileurl.html\">http://docs.textadventures.co.uk/quest/ ... leurl.html</a><!-- m -->",
      "EditableFormat": "bbcode",
      "HTML": "You can't use quest:// URLs in the browser - that's specific to the desktop version. This is why you must use the GetFileURL function to get the URL to your images, as it will always return the correct URL for the current player.<br/><br/>Don't rely on the textadventures.blob.core.windows.net URL staying the same either. The URL may change when a game is updated, or if the specifics of the online hosting change.<br/><br/>If you want to create your own img tags, or do anything else with HTML/JS that will need resources from your Quest game file, always use GetFileURL: <!-- m --><a class=\"postlink\" href=\"http://docs.textadventures.co.uk/quest/functions/getfileurl.html\">http://docs.textadventures.co.uk/quest/ ... leurl.html</a><!-- m -->",
      "PostDate": "2014-12-16T11:13:59+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "32922",
      "UserId": 0,
      "Username": "The Pixie",
      "UserAvatar": null,
      "UserGravatar": "cfa37e927f96177bcf6053ae8f108f77",
      "EditableText": "Thanks. Got it working now.",
      "EditableFormat": "bbcode",
      "HTML": "Thanks. Got it working now.",
      "PostDate": "2014-12-16T11:54:52+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "32923",
      "UserId": 0,
      "Username": "The Pixie",
      "UserAvatar": null,
      "UserGravatar": "cfa37e927f96177bcf6053ae8f108f77",
      "EditableText": "For anyone else, a couple of functions that will put an image floating in the text, either left or right; just send it the filename.\n\n[code:1u7oyccr]  &lt;function name=&quot;ImageLeft&quot; parameters=&quot;filename&quot;&gt;&lt;!&#91;CDATA&#91;\n    msg (&quot;&lt;img src=\\&quot;&quot; + GetFileURL(filename) + &quot;\\&quot; style=\\&quot;float&#58;left; padding&#58;5px;\\&quot; /&gt;&quot;)\n  &#93;&#93;&gt;&lt;/function&gt;\n  &lt;function name=&quot;ImageRight&quot; parameters=&quot;filename&quot;&gt;&lt;!&#91;CDATA&#91;\n    msg (&quot;&lt;img src=\\&quot;&quot; + GetFileURL(filename) + &quot;\\&quot; style=\\&quot;float&#58;right; padding&#58;5px;\\&quot; /&gt;&quot;)\n  &#93;&#93;&gt;&lt;/function&gt;[/code:1u7oyccr]",
      "EditableFormat": "bbcode",
      "HTML": "For anyone else, a couple of functions that will put an image floating in the text, either left or right; just send it the filename.<br/><br/><pre><code>  &lt;function name=&quot;ImageLeft&quot; parameters=&quot;filename&quot;&gt;&lt;!&#91;CDATA&#91;<br/>    msg (&quot;&lt;img src=\\&quot;&quot; + GetFileURL(filename) + &quot;\\&quot; style=\\&quot;float&#58;left; padding&#58;5px;\\&quot; /&gt;&quot;)<br/>  &#93;&#93;&gt;&lt;/function&gt;<br/>  &lt;function name=&quot;ImageRight&quot; parameters=&quot;filename&quot;&gt;&lt;!&#91;CDATA&#91;<br/>    msg (&quot;&lt;img src=\\&quot;&quot; + GetFileURL(filename) + &quot;\\&quot; style=\\&quot;float&#58;right; padding&#58;5px;\\&quot; /&gt;&quot;)<br/>  &#93;&#93;&gt;&lt;/function&gt;</code></pre>",
      "PostDate": "2014-12-16T13:14:20+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "33906",
      "UserId": 0,
      "Username": "Silver",
      "UserAvatar": null,
      "UserGravatar": "13024be5ccbb463906b024d5bd3cb5e8",
      "EditableText": "I'm having problems with images loading when playing online and I guess it's related to the issue Alex outlines above. So I tried doing this in code view:\n\n[code:32vzkutc]GetFileURL (&quot;myimage&#46;jpg&quot;)\nSetBackgroundImage (&quot;myimage&#46;jpg&quot;)[/code:32vzkutc]\n\nAnd it just gives me an error for the GetFileURL so I'm obviously doing something wrong.",
      "EditableFormat": "bbcode",
      "HTML": "I'm having problems with images loading when playing online and I guess it's related to the issue Alex outlines above. So I tried doing this in code view:<br/><br/><pre><code>GetFileURL (&quot;myimage&#46;jpg&quot;)<br/>SetBackgroundImage (&quot;myimage&#46;jpg&quot;)</code></pre><br/><br/>And it just gives me an error for the GetFileURL so I'm obviously doing something wrong.",
      "PostDate": "2015-01-17T22:45:55+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "33910",
      "UserId": 0,
      "Username": "jaynabonne",
      "UserAvatar": "6579_1344778256.jpg",
      "UserGravatar": "379859a7f1952a65399fc63997e68f0b",
      "EditableText": "GetFileURL returns a value, so you have to do something with it, like print it with &quot;msg&quot; or assign it to a variable. You could do:\n\n[code:2mtd5l9a]url = GetFileURL (&quot;myimage&#46;jpg&quot;)\nSetBackgroundImage (url)[/code:2mtd5l9a]\n(if I get what you're trying to do).",
      "EditableFormat": "bbcode",
      "HTML": "GetFileURL returns a value, so you have to do something with it, like print it with &quot;msg&quot; or assign it to a variable. You could do:<br/><br/><pre><code>url = GetFileURL (&quot;myimage&#46;jpg&quot;)<br/>SetBackgroundImage (url)</code></pre><br/>(if I get what you're trying to do).",
      "PostDate": "2015-01-17T23:29:42+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "33912",
      "UserId": 0,
      "Username": "Silver",
      "UserAvatar": null,
      "UserGravatar": "13024be5ccbb463906b024d5bd3cb5e8",
      "EditableText": "I'll give that a try (probably tomorrow). It looks like it should work though.\n\nIf I've understood Alex properly above, that would be the only reliable way of ensuring images load online. Basically I had a background image load in. Then decided to change the location it would appear and it wouldn't load (online). Which got me thinking of GetFileURL and a google led me to this thread.",
      "EditableFormat": "bbcode",
      "HTML": "I'll give that a try (probably tomorrow). It looks like it should work though.<br/><br/>If I've understood Alex properly above, that would be the only reliable way of ensuring images load online. Basically I had a background image load in. Then decided to change the location it would appear and it wouldn't load (online). Which got me thinking of GetFileURL and a google led me to this thread.",
      "PostDate": "2015-01-17T23:39:41+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "33913",
      "UserId": 0,
      "Username": "jaynabonne",
      "UserAvatar": "6579_1344778256.jpg",
      "UserGravatar": "379859a7f1952a65399fc63997e68f0b",
      "EditableText": "Yes. The base URL is different in the desktop player and the online one, so GetFileURL hides that difference and gives you something that should work in both cases.",
      "EditableFormat": "bbcode",
      "HTML": "Yes. The base URL is different in the desktop player and the online one, so GetFileURL hides that difference and gives you something that should work in both cases.",
      "PostDate": "2015-01-17T23:47:17+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "33916",
      "UserId": 0,
      "Username": "Silver",
      "UserAvatar": null,
      "UserGravatar": "13024be5ccbb463906b024d5bd3cb5e8",
      "EditableText": "Cool. Thanks. Erm. I hope that isn't true of audio also although I haven't ran in to that being a problem as of yet.",
      "EditableFormat": "bbcode",
      "HTML": "Cool. Thanks. Erm. I hope that isn't true of audio also although I haven't ran in to that being a problem as of yet.",
      "PostDate": "2015-01-18T00:20:34+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "33918",
      "UserId": 0,
      "Username": "Silver",
      "UserAvatar": null,
      "UserGravatar": "13024be5ccbb463906b024d5bd3cb5e8",
      "EditableText": "Actually, my hacked in audio is html5 so not the same thing I suppose.",
      "EditableFormat": "bbcode",
      "HTML": "Actually, my hacked in audio is html5 so not the same thing I suppose.",
      "PostDate": "2015-01-18T00:26:18+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "33926",
      "UserId": 0,
      "Username": "Silver",
      "UserAvatar": null,
      "UserGravatar": "13024be5ccbb463906b024d5bd3cb5e8",
      "EditableText": "[quote=&quot;jaynabonne&quot;:3bayh9bp]GetFileURL returns a value, so you have to do something with it, like print it with &quot;msg&quot; or assign it to a variable. You could do:\n\n[code:3bayh9bp]url = GetFileURL (&quot;myimage&#46;jpg&quot;)\nSetBackgroundImage (url)[/code:3bayh9bp]\n(if I get what you're trying to do).[/quote:3bayh9bp]\n\nThis doesn't work (for me) either online or offline. Should the latter part be nested in the former (I'm purely guessing here)?",
      "EditableFormat": "bbcode",
      "HTML": "<blockquote><cite>jaynabonne wrote:</cite>GetFileURL returns a value, so you have to do something with it, like print it with &quot;msg&quot; or assign it to a variable. You could do:<br/><br/><pre><code>url = GetFileURL (&quot;myimage&#46;jpg&quot;)<br/>SetBackgroundImage (url)</code></pre><br/>(if I get what you're trying to do).</blockquote><br/><br/>This doesn't work (for me) either online or offline. Should the latter part be nested in the former (I'm purely guessing here)?",
      "PostDate": "2015-01-18T09:32:48+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "33927",
      "UserId": 0,
      "Username": "jaynabonne",
      "UserAvatar": "6579_1344778256.jpg",
      "UserGravatar": "379859a7f1952a65399fc63997e68f0b",
      "EditableText": "Using the intermediate variable should have the same effect (if it would work). I've had cases in Quest where the nesting doesn't work, so I played it safe with a variable.\n\nTo be honest, I was just looking at the sequence you had posted. Looking now at what SetBackgroundImage actually does, it turns out that it does the GetFileURL for you. So you should just be able to do:\n\n[code:15f9naq6]SetBackgroundImage (&quot;myimage&#46;jpg&quot;)[/code:15f9naq6]",
      "EditableFormat": "bbcode",
      "HTML": "Using the intermediate variable should have the same effect (if it would work). I've had cases in Quest where the nesting doesn't work, so I played it safe with a variable.<br/><br/>To be honest, I was just looking at the sequence you had posted. Looking now at what SetBackgroundImage actually does, it turns out that it does the GetFileURL for you. So you should just be able to do:<br/><br/><pre><code>SetBackgroundImage (&quot;myimage&#46;jpg&quot;)</code></pre>",
      "PostDate": "2015-01-18T09:40:47+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "33928",
      "UserId": 0,
      "Username": "Silver",
      "UserAvatar": null,
      "UserGravatar": "13024be5ccbb463906b024d5bd3cb5e8",
      "EditableText": "That's what I had done originally (and have done with all other background images). I might have gotten to the bottom of this though. It seems that when I wrote a new script for it to appear elsewhere I asked for (&quot;myimage.jpg&quot;) where as it's named Myimage.jpg. So perhaps file names are case sensitive online but not offline? Anyway, changing the file name to lower case got it working anyway. Cheers for the help.",
      "EditableFormat": "bbcode",
      "HTML": "That's what I had done originally (and have done with all other background images). I might have gotten to the bottom of this though. It seems that when I wrote a new script for it to appear elsewhere I asked for (&quot;myimage.jpg&quot;) where as it's named Myimage.jpg. So perhaps file names are case sensitive online but not offline? Anyway, changing the file name to lower case got it working anyway. Cheers for the help.",
      "PostDate": "2015-01-18T10:13:51+00:00",
      "LastEditDate": null
    }
  ]
}
