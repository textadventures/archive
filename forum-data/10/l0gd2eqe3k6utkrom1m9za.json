{
  "Topic": {
    "TopicId": "l0gd2eqe3k6utkrom1m9za",
    "ForumId": "10",
    "Title": "ListExclude help",
    "LastUpdated": "2020-06-12T11:26:09.6503544Z",
    "ReplyCount": 0
  },
  "Posts": [
    {
      "PostId": "b9ccdb0f-55b4-4ea1-90fb-cd3b8ba72be6",
      "UserId": 486765,
      "Username": "St.Nicholas",
      "AvatarUrl": "https://secure.gravatar.com/avatar/fbef458068b5f56802228938927df07c?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Hi. I have an object list called \"BagExclude\", which is a list of items I do not want to be moved to \"caching bag\" when the following is called. \r\n\r\n    foreach (x, ListExclude (ScopeInventory(), BagExclude)) {\r\n    MoveObject (x, caching bag)\r\n    }\r\n\r\nI've been round and round in circles with the help guide and some things I can find on this forum but I'm not getting anywhere. What am I doing wrong?\r\n\r\n    Error running script: Error compiling expression 'ListExclude (ScopeInventory(), BagExclude)': Unknown object or variable 'BagExclude'\r\n\r\nI'm guessing it's a syntax thing as I have checked the list is set up correctly by simply printing the list, and that works fine.",
      "EditableFormat": "markdown",
      "HTML": "<p>Hi. I have an object list called \"BagExclude\", which is a list of items I do not want to be moved to \"caching bag\" when the following is called.</p>\n<pre><code>foreach (x, ListExclude (ScopeInventory(), BagExclude)) {\nMoveObject (x, caching bag)\n}\n</code></pre>\n<p>I've been round and round in circles with the help guide and some things I can find on this forum but I'm not getting anywhere. What am I doing wrong?</p>\n<pre><code>Error running script: Error compiling expression 'ListExclude (ScopeInventory(), BagExclude)': Unknown object or variable 'BagExclude'\n</code></pre>\n<p>I'm guessing it's a syntax thing as I have checked the list is set up correctly by simply printing the list, and that works fine.</p>\n\n",
      "PostDate": "2020-06-12T11:26:09.6503544Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "2b7622a1-ff66-4d21-9857-176e62f08852",
      "UserId": 486765,
      "Username": "St.Nicholas",
      "AvatarUrl": "https://i.imgur.com/bNtkzR1b.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "It might be worth noting, this worked fine when I was excluding a single item, rather than a list, from the sript:\r\n\r\n    foreach (x, ListExclude (ScopeInventory(), caching bag)) {\r\n    MoveObject (x, caching bag)\r\n    }\r\n\r\nI now need to keep additional items out of the caching bag - hence trying to find a way to make this work with a list!",
      "EditableFormat": "markdown",
      "HTML": "<p>It might be worth noting, this worked fine when I was excluding a single item, rather than a list, from the sript:</p>\n<pre><code>foreach (x, ListExclude (ScopeInventory(), caching bag)) {\nMoveObject (x, caching bag)\n}\n</code></pre>\n<p>I now need to keep additional items out of the caching bag - hence trying to find a way to make this work with a list!</p>\n\n",
      "PostDate": "2020-06-12T11:45:45.4761925Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "7271b73c-cf14-4999-9739-abb3826429c6",
      "UserId": 486765,
      "Username": "St.Nicholas",
      "AvatarUrl": "https://i.imgur.com/bNtkzR1b.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "So, I have found a way to work around this using nested ListExcludes, which will work while the number of exclusions remains low. This may affect my longer term design of the adventure if I can't find a way to exclude a list rather than single items, though :(\r\n\r\n    ListExclude (ListExclude (ScopeInventory(), caching bag),GPSr)",
      "EditableFormat": "markdown",
      "HTML": "<p>So, I have found a way to work around this using nested ListExcludes, which will work while the number of exclusions remains low. This may affect my longer term design of the adventure if I can't find a way to exclude a list rather than single items, though :(</p>\n<pre><code>ListExclude (ListExclude (ScopeInventory(), caching bag),GPSr)\n</code></pre>\n\n",
      "PostDate": "2020-06-12T11:55:29.9646076Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "40ba4647-182e-47ce-9c8e-2997bdb81e7a",
      "UserId": 472454,
      "Username": "bilkobaggins",
      "AvatarUrl": "https://secure.gravatar.com/avatar/27e33237f32eb0c6030b4789e05321f4?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Can't help with the solution to your prob, but it's good to see another cacher on here ;-)",
      "EditableFormat": "markdown",
      "HTML": "<p>Can't help with the solution to your prob, but it's good to see another cacher on here ;-)</p>\n\n",
      "PostDate": "2020-06-12T13:43:09.7725452Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "113d0e20-5766-4c05-80bc-5bfaf505b4e6",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "It's saying that the variable `BagExclude` doesn't exist.\r\n\r\nAre you sure the code that creates that list is correct?\r\nDoes the code that creates the list come earlier within the same script?",
      "EditableFormat": "markdown",
      "HTML": "<p>It's saying that the variable <code>BagExclude</code> doesn't exist.</p>\n<p>Are you sure the code that creates that list is correct?<br>\nDoes the code that creates the list come earlier within the same script?</p>\n\n",
      "PostDate": "2020-06-12T13:44:22.1891211Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "14b98a16-316f-4f9e-a9bd-9f09748aa544",
      "UserId": 486765,
      "Username": "St.Nicholas",
      "AvatarUrl": "https://i.imgur.com/bNtkzR1b.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Nope, I run the script to create the list when the game loads (I think - I've put it under \"game -> scripts\")\r\n\r\n    BagExclude = NewObjectList()\r\n    list add (BagExclude, GPSr)\r\n    list add (BagExclude, caching bag)",
      "EditableFormat": "markdown",
      "HTML": "<p>Nope, I run the script to create the list when the game loads (I think - I've put it under \"game -&gt; scripts\")</p>\n<pre><code>BagExclude = NewObjectList()\nlist add (BagExclude, GPSr)\nlist add (BagExclude, caching bag)\n</code></pre>\n\n",
      "PostDate": "2020-06-12T13:47:13.1873566Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "5d06e513-836d-46e7-b23a-c846253d6c3e",
      "UserId": 472454,
      "Username": "bilkobaggins",
      "AvatarUrl": "https://secure.gravatar.com/avatar/27e33237f32eb0c6030b4789e05321f4?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Looks like you've set up a local variable instead of a global one. Try changing all occurrences of 'BagExclude' to 'game.BagExclude'.",
      "EditableFormat": "markdown",
      "HTML": "<p>Looks like you've set up a local variable instead of a global one. Try changing all occurrences of 'BagExclude' to 'game.BagExclude'.</p>\n\n",
      "PostDate": "2020-06-12T13:59:39.5929285Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "e4f58814-2a0e-40b1-b26b-f2549b2a5e20",
      "UserId": 486765,
      "Username": "St.Nicholas",
      "AvatarUrl": "https://i.imgur.com/bNtkzR1b.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Perfect, thanks.",
      "EditableFormat": "markdown",
      "HTML": "<p>Perfect, thanks.</p>\n\n",
      "PostDate": "2020-06-12T14:12:55.4782309Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "504df4cf-923d-4d48-8da8-b192c75fcb9b",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Variables only exist until the end of the script that creates them, and can only be accessed within that script.\r\n\r\nBy changing it to `game.BagExclude`, you make it an attribute of the `game` object, so it continues to be accessible as long as that object exists.\r\n\r\nI would have probably used an attribute name like `caching bag.excludes`, because the list seems to be related to that object. But as long as you remember which object a particular attribute belongs to, that's really a personal preference.",
      "EditableFormat": "markdown",
      "HTML": "<p>Variables only exist until the end of the script that creates them, and can only be accessed within that script.</p>\n<p>By changing it to <code>game.BagExclude</code>, you make it an attribute of the <code>game</code> object, so it continues to be accessible as long as that object exists.</p>\n<p>I would have probably used an attribute name like <code>caching bag.excludes</code>, because the list seems to be related to that object. But as long as you remember which object a particular attribute belongs to, that's really a personal preference.</p>\n\n",
      "PostDate": "2020-06-12T14:38:03.7788955Z",
      "LastEditDate": null,
      "link": null
    }
  ]
}
