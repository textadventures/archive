{
  "Topic": {
    "TopicId": "5608",
    "ForumId": "10",
    "Title": "Random Encounters in game?",
    "LastUpdated": "2015-11-10T06:39:27+00:00",
    "ReplyCount": 4
  },
  "Posts": [
    {
      "PostId": "38607",
      "UserId": 0,
      "Username": "Disthron",
      "UserAvatar": null,
      "UserGravatar": "3bd383a64092a2ba11c34a7906ba475e",
      "EditableText": "Hi everyone,\n\nIn the game I'm working on, I want the player to potentially have a few random encounters. In the game, the characters are getting ready to go on a trek through the woods, and on the way to there destination things could happen. Like running into wild animals, injuring themselves ect. And they ether get buy or are hurt based on how well they prepared.\n\nI was going to do this by running a script on a rooms exits that would lead to a random encounter room but I can't seem to find a way to do this. Is there not a random number function? Also, I've had trouble figuring out how to do variables in the web version. Some people on the forum have said that simply setting a variable to a value in the code will create the variable but that doesn't seem to work all the time.\n\nSorry if this is a noob question. Anyway, I hope you can help.",
      "EditableFormat": "bbcode",
      "HTML": "Hi everyone,<br/><br/>In the game I'm working on, I want the player to potentially have a few random encounters. In the game, the characters are getting ready to go on a trek through the woods, and on the way to there destination things could happen. Like running into wild animals, injuring themselves ect. And they ether get buy or are hurt based on how well they prepared.<br/><br/>I was going to do this by running a script on a rooms exits that would lead to a random encounter room but I can't seem to find a way to do this. Is there not a random number function? Also, I've had trouble figuring out how to do variables in the web version. Some people on the forum have said that simply setting a variable to a value in the code will create the variable but that doesn't seem to work all the time.<br/><br/>Sorry if this is a noob question. Anyway, I hope you can help.",
      "PostDate": "2015-11-09T17:29:24+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "38608",
      "UserId": 0,
      "Username": "Pykrete",
      "UserAvatar": null,
      "UserGravatar": "1faa3bf756e9e15293c2bc5662f00a7f",
      "EditableText": "I can suggest two ways of doing this.\n\nOne would be to using Dice Roll. I created an attribute called 'dice' on my player object. if you Set Variable, player.dice (in my example) = DiceRoll(&quot;3d6&quot;), that will randomly roll 3 6 sided die and add them together. I haven't played around with it much, but i'm pretty sure you can have d-whatever, so just &quot;1d20&quot;, &quot;1d50&quot;, etc. From there, you can just make an if check - if player.dice = &quot;1&quot;, thing happens. If player.dice = &quot;2&quot;, other thing happens; personally, i'd create a function or a timer to be called upon at that point, which can into turn call other functions which contain the events you want, if only for organization's sake.\n\nThe other way is by using one of the if check's functions, Random Chance. It allows you to set a percentage based chance check; say you set it to 50%, that thing will happen 50% of the time. If you had 4 events you wanted to be possible, you'd do an if check starting with 25% random chance, then 2 'else ifs' with the same amount, then end it with an 'else if' at 100%. (last one should be 100% because the 75% chance that the other events occur have already passed, if this was 25% as well there'd only be a 1/4 chance of it actually playing; 3/4 of the time your player would end up on a white walled dead end).\n\nHope that helps!",
      "EditableFormat": "bbcode",
      "HTML": "I can suggest two ways of doing this.<br/><br/>One would be to using Dice Roll. I created an attribute called 'dice' on my player object. if you Set Variable, player.dice (in my example) = DiceRoll(&quot;3d6&quot;), that will randomly roll 3 6 sided die and add them together. I haven't played around with it much, but i'm pretty sure you can have d-whatever, so just &quot;1d20&quot;, &quot;1d50&quot;, etc. From there, you can just make an if check - if player.dice = &quot;1&quot;, thing happens. If player.dice = &quot;2&quot;, other thing happens; personally, i'd create a function or a timer to be called upon at that point, which can into turn call other functions which contain the events you want, if only for organization's sake.<br/><br/>The other way is by using one of the if check's functions, Random Chance. It allows you to set a percentage based chance check; say you set it to 50%, that thing will happen 50% of the time. If you had 4 events you wanted to be possible, you'd do an if check starting with 25% random chance, then 2 'else ifs' with the same amount, then end it with an 'else if' at 100%. (last one should be 100% because the 75% chance that the other events occur have already passed, if this was 25% as well there'd only be a 1/4 chance of it actually playing; 3/4 of the time your player would end up on a white walled dead end).<br/><br/>Hope that helps!",
      "PostDate": "2015-11-09T17:57:26+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "38610",
      "UserId": 0,
      "Username": "Anonynn",
      "UserAvatar": "7661_1463890118.jpg",
      "UserGravatar": "2eea18890a69714beb5b926a7b559e64",
      "EditableText": "I would do an &quot;If Script&quot; and set the expression tab to a &quot;Random Chance&quot;\n\nif (RandomChance(50)) {\nmsg (&quot;You encounter so and so monster!&quot;)\nmove object BlahBlahBeast to object roomname\n}\nelse if (Random Chance(30)) {\nmsg (&quot;You encounter a Blargh!&quot;)\nmove object Blargh to object roomname\n}\nelse if (RandomChance(30) {\nmsg (&quot;You encounter a BoogaBooga&quot;)\nmove object BoogaBooga to object roomname\n}\nelse {\nmove object TeenyWeeny to object roomname\n}\n\nI think right?",
      "EditableFormat": "bbcode",
      "HTML": "I would do an &quot;If Script&quot; and set the expression tab to a &quot;Random Chance&quot;<br/><br/>if (RandomChance(50)) {<br/>msg (&quot;You encounter so and so monster!&quot;)<br/>move object BlahBlahBeast to object roomname<br/>}<br/>else if (Random Chance(30)) {<br/>msg (&quot;You encounter a Blargh!&quot;)<br/>move object Blargh to object roomname<br/>}<br/>else if (RandomChance(30) {<br/>msg (&quot;You encounter a BoogaBooga&quot;)<br/>move object BoogaBooga to object roomname<br/>}<br/>else {<br/>move object TeenyWeeny to object roomname<br/>}<br/><br/>I think right?",
      "PostDate": "2015-11-09T19:57:22+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "38613",
      "UserId": 0,
      "Username": "HegemonKhan",
      "UserAvatar": null,
      "UserGravatar": "a96cf34d8d97c57de38f54ee22b1759b",
      "EditableText": "this is not a noob question, it's a bit of advanced coding and if-code logic involved.\n\n------------\n\nthere's 4 randomization functions:\n\n<!-- m --><a class=\"postlink\" href=\"http://docs.textadventures.co.uk/quest/functions/corelibrary/diceroll.html\">http://docs.textadventures.co.uk/quest/ ... eroll.html</a><!-- m -->\n\n<!-- m --><a class=\"postlink\" href=\"http://docs.textadventures.co.uk/quest/functions/corelibrary/randomchance.html\">http://docs.textadventures.co.uk/quest/ ... hance.html</a><!-- m -->\n\n<!-- m --><a class=\"postlink\" href=\"http://docs.textadventures.co.uk/quest/functions/getrandomint.html\">http://docs.textadventures.co.uk/quest/ ... omint.html</a><!-- m -->\n<!-- m --><a class=\"postlink\" href=\"http://docs.textadventures.co.uk/quest/functions/getrandomdouble.html\">http://docs.textadventures.co.uk/quest/ ... ouble.html</a><!-- m -->\n\n--------------\n\nas to what you want to do exactly in your game, is up to you, which determines which one (or combination of them) you want to use.\n\n------------\n\nas to how to actually implement them for what you want to do in your game, this is the meat (hard part) of the problem.\n\nwe need more details on exactly how~what your design idea is...\n\ndo you want random events to happen upon moving amongst the rooms? or do you just want random events to be occuring just within a single room?\n\n----------\n\nif you do want the random events based upon changing rooms, a way to do it is to create~add a global Turnscript for your scripting, and I would personally use a combination of two of the randomization functions:\n\n'GetRandomInt' for selecting what event (out of a pool of events)\nand then\n'RandomChance' for the chance of that selected event actually triggering~occuring or not\n// if you want an event to always occur, then don't use this combination, just use one of the randomization functions to select your event from a pool of events\n\nyou can be advanced-fancy in your coding by using a dictionary for your pool of events, but this is probably too advanced for you right now.\n\nso, you'd probably just want to use an 'if' scripting structure, for example (sorry for in code, but it's faster for me):\n\nactually... using the special 'changed' Script within the 'player' Player Object, would work better than a global turnscript, just a very lame example below:\n\n[code:2pkkv07h]&lt;object name=&quot;player&quot;&gt;\n  &lt;attr name=&quot;changedparent&quot; type=&quot;script&quot;&gt;\n    choice = GetRandomInt(1,4)\n    if (choice = 1 and RandomChance(5)) {\n      msg (&quot;muwahahaha, HK snaps his fingers and you die!&quot;)\n      msg (&quot;GAME OVER&quot;)\n      finish\n    } else if (choice = 2 and RandomChance(10)) {\n      player&#46;level = 99\n      player&#46;cash = 999999999999999\n      player&#46;current_life = 9999\n      player&#46;maximum_life = 9999 \n      player&#46;strength = 1000\n      player&#46;endurance = 1000\n      player&#46;dexterity = 1000\n      // etc etc etc\n      msg (&quot;god mode event, enjoy!&quot;)\n    } else if (choice = 3 and RandomChance(30)) {\n      player&#46;condition = &quot;poisoned&quot;\n      msg (&quot;You've been poisoned&#46;&quot;)\n    } else if (choice = 4 and RandomChance(90)) {\n      player&#46;fatigue = player&#46;fatigue + 5\n      msg (&quot;You're a little bit more exhausted from your travels&#46;&quot;)\n    }\n  &lt;/attr&gt;\n&lt;/object&gt;[/code:2pkkv07h]\n\n----------\n\nto do this in the GUI~Editor:\n\nthe 2 SUPER SCRIPTS that epsecially when used together, let's you do 90% of everything that you want to do in your game!:\n\n1. run as script -&gt; add new script -&gt; variables -&gt; 'set a variable or attribute' Script -&gt; set variable (see my code lines above for examples) = [EXPRESSION] (see my code lines above for examples)\n\n2. run as script -&gt; add new script -&gt; scripts -&gt; 'if' Script -&gt; if [EXPRESION] (see my code line examples above, but the syntax used for this, is a bit different from my code lines above)\n\nhow to add the special 'changed' Script to your 'player' Player Object:\n\n'player' Player Object -&gt; 'Attributes' Tab -&gt; Attributes -&gt; Add -&gt; (see below)\n\n(Object Name: player)\nAttribute Name: changedparent\nAttribute Type: script\nAttribute Value: (add in the scripts, see my scripting block above)",
      "EditableFormat": "bbcode",
      "HTML": "this is not a noob question, it's a bit of advanced coding and if-code logic involved.<br/><br/>------------<br/><br/>there's 4 randomization functions:<br/><br/><!-- m --><a class=\"postlink\" href=\"http://docs.textadventures.co.uk/quest/functions/corelibrary/diceroll.html\">http://docs.textadventures.co.uk/quest/ ... eroll.html</a><!-- m --><br/><br/><!-- m --><a class=\"postlink\" href=\"http://docs.textadventures.co.uk/quest/functions/corelibrary/randomchance.html\">http://docs.textadventures.co.uk/quest/ ... hance.html</a><!-- m --><br/><br/><!-- m --><a class=\"postlink\" href=\"http://docs.textadventures.co.uk/quest/functions/getrandomint.html\">http://docs.textadventures.co.uk/quest/ ... omint.html</a><!-- m --><br/><!-- m --><a class=\"postlink\" href=\"http://docs.textadventures.co.uk/quest/functions/getrandomdouble.html\">http://docs.textadventures.co.uk/quest/ ... ouble.html</a><!-- m --><br/><br/>--------------<br/><br/>as to what you want to do exactly in your game, is up to you, which determines which one (or combination of them) you want to use.<br/><br/>------------<br/><br/>as to how to actually implement them for what you want to do in your game, this is the meat (hard part) of the problem.<br/><br/>we need more details on exactly how~what your design idea is...<br/><br/>do you want random events to happen upon moving amongst the rooms? or do you just want random events to be occuring just within a single room?<br/><br/>----------<br/><br/>if you do want the random events based upon changing rooms, a way to do it is to create~add a global Turnscript for your scripting, and I would personally use a combination of two of the randomization functions:<br/><br/>'GetRandomInt' for selecting what event (out of a pool of events)<br/>and then<br/>'RandomChance' for the chance of that selected event actually triggering~occuring or not<br/>// if you want an event to always occur, then don't use this combination, just use one of the randomization functions to select your event from a pool of events<br/><br/>you can be advanced-fancy in your coding by using a dictionary for your pool of events, but this is probably too advanced for you right now.<br/><br/>so, you'd probably just want to use an 'if' scripting structure, for example (sorry for in code, but it's faster for me):<br/><br/>actually... using the special 'changed' Script within the 'player' Player Object, would work better than a global turnscript, just a very lame example below:<br/><br/><pre><code>&lt;object name=&quot;player&quot;&gt;<br/>  &lt;attr name=&quot;changedparent&quot; type=&quot;script&quot;&gt;<br/>    choice = GetRandomInt(1,4)<br/>    if (choice = 1 and RandomChance(5)) {<br/>      msg (&quot;muwahahaha, HK snaps his fingers and you die!&quot;)<br/>      msg (&quot;GAME OVER&quot;)<br/>      finish<br/>    } else if (choice = 2 and RandomChance(10)) {<br/>      player&#46;level = 99<br/>      player&#46;cash = 999999999999999<br/>      player&#46;current_life = 9999<br/>      player&#46;maximum_life = 9999 <br/>      player&#46;strength = 1000<br/>      player&#46;endurance = 1000<br/>      player&#46;dexterity = 1000<br/>      // etc etc etc<br/>      msg (&quot;god mode event, enjoy!&quot;)<br/>    } else if (choice = 3 and RandomChance(30)) {<br/>      player&#46;condition = &quot;poisoned&quot;<br/>      msg (&quot;You've been poisoned&#46;&quot;)<br/>    } else if (choice = 4 and RandomChance(90)) {<br/>      player&#46;fatigue = player&#46;fatigue + 5<br/>      msg (&quot;You're a little bit more exhausted from your travels&#46;&quot;)<br/>    }<br/>  &lt;/attr&gt;<br/>&lt;/object&gt;</code></pre><br/><br/>----------<br/><br/>to do this in the GUI~Editor:<br/><br/>the 2 SUPER SCRIPTS that epsecially when used together, let's you do 90% of everything that you want to do in your game!:<br/><br/>1. run as script -&gt; add new script -&gt; variables -&gt; 'set a variable or attribute' Script -&gt; set variable (see my code lines above for examples) = [EXPRESSION] (see my code lines above for examples)<br/><br/>2. run as script -&gt; add new script -&gt; scripts -&gt; 'if' Script -&gt; if [EXPRESION] (see my code line examples above, but the syntax used for this, is a bit different from my code lines above)<br/><br/>how to add the special 'changed' Script to your 'player' Player Object:<br/><br/>'player' Player Object -&gt; 'Attributes' Tab -&gt; Attributes -&gt; Add -&gt; (see below)<br/><br/>(Object Name: player)<br/>Attribute Name: changedparent<br/>Attribute Type: script<br/>Attribute Value: (add in the scripts, see my scripting block above)",
      "PostDate": "2015-11-09T23:40:44+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "38617",
      "UserId": 0,
      "Username": "Disthron",
      "UserAvatar": null,
      "UserGravatar": "3bd383a64092a2ba11c34a7906ba475e",
      "EditableText": "Thanks for the help, unfortunately I've run into another, much worse problem.\n\n<!-- l --><a class=\"postlink-local\" href=\"http://forum.textadventures.co.uk/viewtopic.php?f=10&amp;t=5610&amp;p=38616#p38616\">viewtopic.php?f=10&amp;t=5610&amp;p=38616#p38616</a><!-- l -->",
      "EditableFormat": "bbcode",
      "HTML": "Thanks for the help, unfortunately I've run into another, much worse problem.<br/><br/><!-- l --><a class=\"postlink-local\" href=\"http://forum.textadventures.co.uk/viewtopic.php?f=10&amp;t=5610&amp;p=38616#p38616\">viewtopic.php?f=10&amp;t=5610&amp;p=38616#p38616</a><!-- l -->",
      "PostDate": "2015-11-10T06:39:27+00:00",
      "LastEditDate": null
    }
  ]
}
