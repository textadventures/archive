{
  "Topic": {
    "TopicId": "pk5t9zd21kyyyq0xtuctqq",
    "ForumId": "10",
    "Title": "Feeling around in the dark",
    "LastUpdated": "2024-04-05T23:54:35.9182331Z",
    "ReplyCount": 0
  },
  "Posts": [
    {
      "PostId": "eb8e51d9-59bc-47ef-a005-000b5ce5ab67",
      "UserId": 643545,
      "Username": "Ip Man",
      "AvatarUrl": "https://secure.gravatar.com/avatar/3ca198fe75de39041c2e4cd0a8852e3c?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "I created a rudimentary system for feeling around in the dark a while back, but as I learn more, I keep refining my systems and wanting to make them much better quality. (especially since I intend to share some of them as part of a bigger project).\r\n\r\nI have a command \"DarkFeel\" which is meant to be used when a player enters a dark room and there are objects in the dark.  It was inspired by hearing a blind person talk about playing text adventure games and saying \"so what?\" about the fact that you can't do anything in most text adventure games when it's dark... because they obviously get around fairly well in the dark all the time.\r\n\r\nI'm looking to try to really upgrade and do this well though.  I have other sense commands, taste, smell, listen, etc.  If I can get the \"feel\" to work well, then I can easily update the other senses to check the lighting in the room and of the object, then either do the dark description or the sighted description for those objects.\r\n\r\nI'm thinking that it might be good to create a modified version of the \"PickOneChild\" that removes light objects and the player, rather than removing dark objects from the return of of the function it calls, and then returns that.  \r\n\r\nI have an idea that I can set an attribute lastinterractedindark set on the room for the object found by feeling/smelling/listening, which would allow the player to attempt a regular command on that object and see what happens.\r\n\r\nSince this can all be integrated into my core3 project, I can easily add fields in the tabs to provide the appropriate dark descriptions if wanted.\r\n\r\nAnyway, I don't yet fully understand enough about working with the lists, and I can't find \"GetDirectChildren\" to make a \"GetDirectDarkChildren\" version.  but maybe it can all be done in the \"feel\" and turning \"PickOneChild\" into \"PickOneDarkroomChild\" function?  It would be a lot more complicated to have to run checks to see if it's an object that's lit, and then try again... and I am not sure how to program it to \"keep trying 'till you get something not light.\"  So I'd really like to find a way to modify that GetDirectChildren with something like \"RemoveLightObjects\" rather than  \"RemoveDarkObjects.\"\r\n\r\nHere's what I've got of the \"DarkFeel\" command so far\r\n\r\n```\r\nisDark = CheckDarkness()\r\nif (isDark) {\r\n  game.pov.parent.lastineractindarkness = PickOneChild (game.pov.parent)\r\n  if (HasAttribute(game.pov.parent.lastineractindarkness, \"darkfeel\")) {\r\n    do (game.pov.parent.lastineractindarkness, \"darkfeel\")\r\n  }\r\n  else {\r\n    if (GetBoolean(game.pov.parent.lastineractindarkness, \"lightsource\")) {\r\n      if (HasAttribute(game.pov.parent.lastineractindarkness, \"wthrobj\")) {\r\n        if (HasAttribute(game.pov.parent.lastineractindarkness, \"touchdesc\")) {\r\n          do (game.pov.parent.lastineractindarkness, \"touchdesc\")\r\n        }\r\n        else {\r\n          msg (\"So far all you feel is the weather...\")\r\n        }\r\n      }\r\n      else {\r\n        if (HasAttribute(game.pov.parent.lastineractindarkness, \"touchdesc\")) {\r\n          do (game.pov.parent.lastineractindarkness, \"touchdesc\")\r\n        }\r\n        else {\r\n          msg (\"You accidentally feel something you can see, while feeling around for something you can't see.\")\r\n        }\r\n      }\r\n    }\r\n    else {\r\n      msg (\"You touch something in the dark, but can't tell what it is by feeling it.\")\r\n    }\r\n  }\r\n  if () {\r\n  }\r\n}\r\nelse {\r\n  msg (\"When you can see the objects around you, you can just tell me what you'd like to feel.\")\r\n}\r\n\r\n```\r\nThere's something going on where the exits aren't working as well here as in the old system.  Original system here: https://textadventures.co.uk/forum/samples/topic/ynkakaw6v0sxe-skte46ta/feeling-around-in-the-darkness\r\n\r\nIf the light-object-removal system can be made well though, then that line could be taken out, and the player would naturally only type \"Feel object\" for the ones they can actually see (if there are any) in the darkness.  They'd type \"feel\" for feeling around in the dark.  \r\n\r\nPlease and thanks for any help/advice.\r\n\r\n",
      "EditableFormat": "markdown",
      "HTML": "<p>I created a rudimentary system for feeling around in the dark a while back, but as I learn more, I keep refining my systems and wanting to make them much better quality. (especially since I intend to share some of them as part of a bigger project).</p>\n<p>I have a command \"DarkFeel\" which is meant to be used when a player enters a dark room and there are objects in the dark.  It was inspired by hearing a blind person talk about playing text adventure games and saying \"so what?\" about the fact that you can't do anything in most text adventure games when it's dark... because they obviously get around fairly well in the dark all the time.</p>\n<p>I'm looking to try to really upgrade and do this well though.  I have other sense commands, taste, smell, listen, etc.  If I can get the \"feel\" to work well, then I can easily update the other senses to check the lighting in the room and of the object, then either do the dark description or the sighted description for those objects.</p>\n<p>I'm thinking that it might be good to create a modified version of the \"PickOneChild\" that removes light objects and the player, rather than removing dark objects from the return of of the function it calls, and then returns that.</p>\n<p>I have an idea that I can set an attribute lastinterractedindark set on the room for the object found by feeling/smelling/listening, which would allow the player to attempt a regular command on that object and see what happens.</p>\n<p>Since this can all be integrated into my core3 project, I can easily add fields in the tabs to provide the appropriate dark descriptions if wanted.</p>\n<p>Anyway, I don't yet fully understand enough about working with the lists, and I can't find \"GetDirectChildren\" to make a \"GetDirectDarkChildren\" version.  but maybe it can all be done in the \"feel\" and turning \"PickOneChild\" into \"PickOneDarkroomChild\" function?  It would be a lot more complicated to have to run checks to see if it's an object that's lit, and then try again... and I am not sure how to program it to \"keep trying 'till you get something not light.\"  So I'd really like to find a way to modify that GetDirectChildren with something like \"RemoveLightObjects\" rather than  \"RemoveDarkObjects.\"</p>\n<p>Here's what I've got of the \"DarkFeel\" command so far</p>\n<pre><code>isDark = CheckDarkness()\nif (isDark) {\n  game.pov.parent.lastineractindarkness = PickOneChild (game.pov.parent)\n  if (HasAttribute(game.pov.parent.lastineractindarkness, \"darkfeel\")) {\n    do (game.pov.parent.lastineractindarkness, \"darkfeel\")\n  }\n  else {\n    if (GetBoolean(game.pov.parent.lastineractindarkness, \"lightsource\")) {\n      if (HasAttribute(game.pov.parent.lastineractindarkness, \"wthrobj\")) {\n        if (HasAttribute(game.pov.parent.lastineractindarkness, \"touchdesc\")) {\n          do (game.pov.parent.lastineractindarkness, \"touchdesc\")\n        }\n        else {\n          msg (\"So far all you feel is the weather...\")\n        }\n      }\n      else {\n        if (HasAttribute(game.pov.parent.lastineractindarkness, \"touchdesc\")) {\n          do (game.pov.parent.lastineractindarkness, \"touchdesc\")\n        }\n        else {\n          msg (\"You accidentally feel something you can see, while feeling around for something you can't see.\")\n        }\n      }\n    }\n    else {\n      msg (\"You touch something in the dark, but can't tell what it is by feeling it.\")\n    }\n  }\n  if () {\n  }\n}\nelse {\n  msg (\"When you can see the objects around you, you can just tell me what you'd like to feel.\")\n}\n\n</code></pre>\n<p>There's something going on where the exits aren't working as well here as in the old system.  Original system here: https://textadventures.co.uk/forum/samples/topic/ynkakaw6v0sxe-skte46ta/feeling-around-in-the-darkness</p>\n<p>If the light-object-removal system can be made well though, then that line could be taken out, and the player would naturally only type \"Feel object\" for the ones they can actually see (if there are any) in the darkness.  They'd type \"feel\" for feeling around in the dark.</p>\n<p>Please and thanks for any help/advice.</p>\n\n",
      "PostDate": "2024-04-05T23:54:35.9182331Z",
      "LastEditDate": "2024-04-06T14:09:59.6285989Z",
      "link": null
    }
  ]
}
