{
  "Topic": {
    "TopicId": "281",
    "ForumId": "10",
    "Title": "Let's Fix This Action",
    "LastUpdated": "2004-01-03T09:17:24+00:00",
    "ReplyCount": 2
  },
  "Posts": [
    {
      "PostId": "1978",
      "UserId": 0,
      "Username": "I think Im Dead",
      "UserAvatar": null,
      "UserGravatar": "662782b48efa4728f8d0773b83c01ddf",
      "EditableText": "So I've been drinking a bit today due to my work on a QuestNet engine being cut short by blackouts. I'm having a bit of trouble getting this \"TAKE\" command to work. The setup for it is that there is a command \"TAKE\" which checks if an object is in the currentroom(I just realized, not really), if the player's \"hands\" are free, and if so, calls the \"TAKE\" action of the object which for take-able objects, moves the object to the player's inventory, and alters the player and object's properties to make it IN the player's \"hand\". The incrementing numeric variable is for further expansion of the command in forms of \"TAKE SECOND #OBJECT#\" and such, allowing you to change one character in the \"SET STRING &lt;TAKE.OBJ[USERID]; #TAKE.OBJ1[USERID]#&gt;\" piece of code and paste for desired commands. The current problem is that it doesn't print out the default invalid item error if an object exists in the player's inventory but isn't in the room, and instead does nothing. As a challenge... FIX IT!\n\nPlayer Command Aspect:\n[code:1dvzbdu3]\n\tcommand &lt;take #@object&#91;userid&#93;#&gt; &#123;\n\t\tset numeric &lt;take&#46;count&#91;userid&#93;; 0&gt;\n\t\tfor each object in &lt;#quest&#46;currentroom&#91;userid&#93;#&gt; if &#40; #quest&#46;thing# = #object&#91;userid&#93;# &#41; then &#123;\n\t\t\tinc &lt;take&#46;count&#91;userid&#93;&gt;\n\t\t\tset string &lt;take&#46;obj%take&#46;count&#91;userid&#93;%&#91;userid&#93;; #quest&#46;thing#&gt;\n\t\t\tset string &lt;mainhand&#91;userid&#93;; $objectproperty&#40;player%userid%; hands&#46;mainhand&#41;$&gt;\n\t\t\tset string &lt;offhand&#91;userid&#93;; $objectproperty&#40;player%userid%; hands&#46;offhand&#41;$&gt;\n\t\t\tif &#40; $objectproperty&#40;player%userid%; #mainhand&#91;userid&#93;#&#41;$ &lt;&gt; nothing &#41; and &#40; $objectproperty&#40;player%userid%; #offhand&#91;userid&#93;#&#41;$ &lt;&gt; nothing &#41; then msg &lt;Your hands are too full to grab anything&#46;|n&gt; else &#123;\n\t\t\t\tif &#40; $objectproperty&#40;player%userid%; #mainhand&#91;userid&#93;#&#41;$ &lt;&gt; nothing &#41; and &#40; $objectproperty&#40;player%userid%; #offhand&#91;userid&#93;#&#41;$ = nothing &#41; then &#123;\n\t\t\t\t\tset string &lt;take&#46;obj&#91;userid&#93;; #take&#46;obj1&#91;userid&#93;#&gt;\n\t\t\t\t\tset string &lt;take&#46;hand&#91;userid&#93;; left&gt;\n\t\t\t\t\tset string &lt;take&#46;floc&#91;userid&#93;; $objectproperty&#40;#take&#46;obj&#91;userid&#93;#; loc&#41;$&gt;\n\t\t\t\t\tset string &lt;take&#46;tloc&#91;userid&#93;; #offhand&#91;userid&#93;#&gt;\n\t\t\t\t\tdoaction &lt;#take&#46;obj&#91;userid&#93;#; take&gt;\t\n\t\t\t\t&#125;\n\t\t\t\tif &#40; $objectproperty&#40;player%userid%; #mainhand&#91;userid&#93;#&#41;$ = nothing &#41; then &#123;\n\t\t\t\t\tset string &lt;take&#46;obj&#91;userid&#93;; #take&#46;obj1&#91;userid&#93;#&gt;\n\t\t\t\t\tset string &lt;take&#46;hand&#91;userid&#93;; right&gt;\n\t\t\t\t\tset string &lt;take&#46;floc&#91;userid&#93;; $objectproperty&#40;#take&#46;obj&#91;userid&#93;#; loc&#41;$&gt;\n\t\t\t\t\tset string &lt;take&#46;tloc&#91;userid&#93;; #mainhand&#91;userid&#93;#&gt;\n\t\t\t\t\tdoaction &lt;#take&#46;obj&#91;userid&#93;#; take&gt;\n\t\t\t\t&#125;\n\t\t\t&#125;\n\t\t&#125;\n\t&#125;\n[/code:1dvzbdu3]\n\nObject Action Aspect:\n[code:1dvzbdu3]\n\taction &lt;take&gt; &#123;\n\t\tmove &lt;#take&#46;obj&#91;userid&#93;#; player%userid%&gt;\n\t\tproperty &lt;#take&#46;obj&#91;userid&#93;#; loc=#take&#46;tloc&#91;userid&#93;#&gt;\n\t\tproperty &lt;player%userid%; #take&#46;tloc&#91;userid&#93;#=#take&#46;obj&#91;userid&#93;#&gt;\n\t\tproperty &lt;player%userid%; hands&#46;display&#46;#take&#46;hand&#91;userid&#93;#=$objectproperty&#40;#take&#46;obj&#91;userid&#93;#; display&#46;long&#41;$&gt;\n\t\tmsg &lt;You pick up $objectproperty&#40;#take&#46;obj&#91;userid&#93;#; display&#46;long&#41;$ with your #take&#46;hand&#91;userid&#93;# hand&#46;|n&gt;\n\t&#125;\n[/code:1dvzbdu3]\n\nEh, while typing this I realized a few problems in it as well, and if nobody has posted a solution or idea, I'll post mine as they come along that way anyone who would want to do something similar has a reference how-to.",
      "EditableFormat": "bbcode",
      "HTML": "So I've been drinking a bit today due to my work on a QuestNet engine being cut short by blackouts. I'm having a bit of trouble getting this \"TAKE\" command to work. The setup for it is that there is a command \"TAKE\" which checks if an object is in the currentroom(I just realized, not really), if the player's \"hands\" are free, and if so, calls the \"TAKE\" action of the object which for take-able objects, moves the object to the player's inventory, and alters the player and object's properties to make it IN the player's \"hand\". The incrementing numeric variable is for further expansion of the command in forms of \"TAKE SECOND #OBJECT#\" and such, allowing you to change one character in the \"SET STRING &lt;TAKE.OBJ[USERID]; #TAKE.OBJ1[USERID]#&gt;\" piece of code and paste for desired commands. The current problem is that it doesn't print out the default invalid item error if an object exists in the player's inventory but isn't in the room, and instead does nothing. As a challenge... FIX IT!<br/><br/>Player Command Aspect:<br/><pre><code><br/>\tcommand &lt;take #@object&#91;userid&#93;#&gt; &#123;<br/>\t\tset numeric &lt;take&#46;count&#91;userid&#93;; 0&gt;<br/>\t\tfor each object in &lt;#quest&#46;currentroom&#91;userid&#93;#&gt; if &#40; #quest&#46;thing# = #object&#91;userid&#93;# &#41; then &#123;<br/>\t\t\tinc &lt;take&#46;count&#91;userid&#93;&gt;<br/>\t\t\tset string &lt;take&#46;obj%take&#46;count&#91;userid&#93;%&#91;userid&#93;; #quest&#46;thing#&gt;<br/>\t\t\tset string &lt;mainhand&#91;userid&#93;; $objectproperty&#40;player%userid%; hands&#46;mainhand&#41;$&gt;<br/>\t\t\tset string &lt;offhand&#91;userid&#93;; $objectproperty&#40;player%userid%; hands&#46;offhand&#41;$&gt;<br/>\t\t\tif &#40; $objectproperty&#40;player%userid%; #mainhand&#91;userid&#93;#&#41;$ &lt;&gt; nothing &#41; and &#40; $objectproperty&#40;player%userid%; #offhand&#91;userid&#93;#&#41;$ &lt;&gt; nothing &#41; then msg &lt;Your hands are too full to grab anything&#46;|n&gt; else &#123;<br/>\t\t\t\tif &#40; $objectproperty&#40;player%userid%; #mainhand&#91;userid&#93;#&#41;$ &lt;&gt; nothing &#41; and &#40; $objectproperty&#40;player%userid%; #offhand&#91;userid&#93;#&#41;$ = nothing &#41; then &#123;<br/>\t\t\t\t\tset string &lt;take&#46;obj&#91;userid&#93;; #take&#46;obj1&#91;userid&#93;#&gt;<br/>\t\t\t\t\tset string &lt;take&#46;hand&#91;userid&#93;; left&gt;<br/>\t\t\t\t\tset string &lt;take&#46;floc&#91;userid&#93;; $objectproperty&#40;#take&#46;obj&#91;userid&#93;#; loc&#41;$&gt;<br/>\t\t\t\t\tset string &lt;take&#46;tloc&#91;userid&#93;; #offhand&#91;userid&#93;#&gt;<br/>\t\t\t\t\tdoaction &lt;#take&#46;obj&#91;userid&#93;#; take&gt;\t<br/>\t\t\t\t&#125;<br/>\t\t\t\tif &#40; $objectproperty&#40;player%userid%; #mainhand&#91;userid&#93;#&#41;$ = nothing &#41; then &#123;<br/>\t\t\t\t\tset string &lt;take&#46;obj&#91;userid&#93;; #take&#46;obj1&#91;userid&#93;#&gt;<br/>\t\t\t\t\tset string &lt;take&#46;hand&#91;userid&#93;; right&gt;<br/>\t\t\t\t\tset string &lt;take&#46;floc&#91;userid&#93;; $objectproperty&#40;#take&#46;obj&#91;userid&#93;#; loc&#41;$&gt;<br/>\t\t\t\t\tset string &lt;take&#46;tloc&#91;userid&#93;; #mainhand&#91;userid&#93;#&gt;<br/>\t\t\t\t\tdoaction &lt;#take&#46;obj&#91;userid&#93;#; take&gt;<br/>\t\t\t\t&#125;<br/>\t\t\t&#125;<br/>\t\t&#125;<br/>\t&#125;<br/></code></pre><br/><br/>Object Action Aspect:<br/><pre><code><br/>\taction &lt;take&gt; &#123;<br/>\t\tmove &lt;#take&#46;obj&#91;userid&#93;#; player%userid%&gt;<br/>\t\tproperty &lt;#take&#46;obj&#91;userid&#93;#; loc=#take&#46;tloc&#91;userid&#93;#&gt;<br/>\t\tproperty &lt;player%userid%; #take&#46;tloc&#91;userid&#93;#=#take&#46;obj&#91;userid&#93;#&gt;<br/>\t\tproperty &lt;player%userid%; hands&#46;display&#46;#take&#46;hand&#91;userid&#93;#=$objectproperty&#40;#take&#46;obj&#91;userid&#93;#; display&#46;long&#41;$&gt;<br/>\t\tmsg &lt;You pick up $objectproperty&#40;#take&#46;obj&#91;userid&#93;#; display&#46;long&#41;$ with your #take&#46;hand&#91;userid&#93;# hand&#46;|n&gt;<br/>\t&#125;<br/></code></pre><br/><br/>Eh, while typing this I realized a few problems in it as well, and if nobody has posted a solution or idea, I'll post mine as they come along that way anyone who would want to do something similar has a reference how-to.",
      "PostDate": "2004-01-01T23:32:18+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "1979",
      "UserId": 0,
      "Username": "I think Im Dead",
      "UserAvatar": null,
      "UserGravatar": "662782b48efa4728f8d0773b83c01ddf",
      "EditableText": "Eh, here's one that works better and has less human errors in it.\n\n[code:2cyvv64k]\n\tcommand &lt;take #@object&#91;userid&#93;#&gt; &#123;\n\t\tif here &lt;#object&#91;userid&#93;#&gt; then &#123;\n\t\t\tset string &lt;mainhand&#91;userid&#93;; $objectproperty&#40;player%userid%; hands&#46;mainhand&#41;$&gt;\n\t\t\tset string &lt;offhand&#91;userid&#93;; $objectproperty&#40;player%userid%; hands&#46;offhand&#41;$&gt;\n\t\t\tif &#40; $objectproperty&#40;player%userid%; #mainhand&#91;userid&#93;#&#41;$ &lt;&gt; nothing &#41; and &#40; $objectproperty&#40;player%userid%; #offhand&#91;userid&#93;#&#41;$ &lt;&gt; nothing &#41; then msg &lt;Both of your hands are full&#46;|n&gt; else &#123;\n\t\t\t\tif &#40; $objectproperty&#40;player%userid%; #mainhand&#91;userid&#93;#&#41;$ &lt;&gt; nothing &#41; and &#40; $objectproperty&#40;player%userid%; #offhand&#91;userid&#93;#&#41;$ = nothing &#41; then &#123;\n\t\t\t\t\tset string &lt;take&#46;obj&#91;userid&#93;; #object&#91;userid&#93;#&gt;\n\t\t\t\t\tset string &lt;take&#46;hand&#91;userid&#93;; left&gt;\n\t\t\t\t\tset string &lt;take&#46;floc&#91;userid&#93;; $objectproperty&#40;#take&#46;obj&#91;userid&#93;#; loc&#41;$&gt;\n\t\t\t\t\tset string &lt;take&#46;tloc&#91;userid&#93;; #offhand&#91;userid&#93;#&gt;\n\t\t\t\t\tdoaction &lt;#take&#46;obj&#91;userid&#93;#; take&gt;\n\t\t\t\t&#125;\n\t\t\t\tif &#40; $objectproperty&#40;player%userid%; #mainhand&#91;userid&#93;#&#41;$ = nothing &#41; then &#123;\n\t\t\t\t\tset string &lt;take&#46;obj&#91;userid&#93;; #object&#91;userid&#93;#&gt;\n\t\t\t\t\tset string &lt;take&#46;hand&#91;userid&#93;; right&gt;\n\t\t\t\t\tset string &lt;take&#46;floc&#91;userid&#93;; $objectproperty&#40;#take&#46;obj&#91;userid&#93;#; loc&#41;$&gt;\n\t\t\t\t\tset string &lt;take&#46;tloc&#91;userid&#93;; #mainhand&#91;userid&#93;#&gt;\n\t\t\t\t\tdoaction &lt;#take&#46;obj&#91;userid&#93;#; take&gt;\n\t\t\t\t&#125;\n\t\t\t&#125;\n\t\telse msg &lt;I could not find what you were referring to&#46;|n&gt;\n\t\t&#125;\n\t&#125;\n[/code:2cyvv64k]\n\nI'm thinking part of this is a QuestNet problem in which it is recursing through the \"player\" object and reading that there is an object matching #@object[userid]# in the \"player\" object. I'll post it there as a bug, which it may be.",
      "EditableFormat": "bbcode",
      "HTML": "Eh, here's one that works better and has less human errors in it.<br/><br/><pre><code><br/>\tcommand &lt;take #@object&#91;userid&#93;#&gt; &#123;<br/>\t\tif here &lt;#object&#91;userid&#93;#&gt; then &#123;<br/>\t\t\tset string &lt;mainhand&#91;userid&#93;; $objectproperty&#40;player%userid%; hands&#46;mainhand&#41;$&gt;<br/>\t\t\tset string &lt;offhand&#91;userid&#93;; $objectproperty&#40;player%userid%; hands&#46;offhand&#41;$&gt;<br/>\t\t\tif &#40; $objectproperty&#40;player%userid%; #mainhand&#91;userid&#93;#&#41;$ &lt;&gt; nothing &#41; and &#40; $objectproperty&#40;player%userid%; #offhand&#91;userid&#93;#&#41;$ &lt;&gt; nothing &#41; then msg &lt;Both of your hands are full&#46;|n&gt; else &#123;<br/>\t\t\t\tif &#40; $objectproperty&#40;player%userid%; #mainhand&#91;userid&#93;#&#41;$ &lt;&gt; nothing &#41; and &#40; $objectproperty&#40;player%userid%; #offhand&#91;userid&#93;#&#41;$ = nothing &#41; then &#123;<br/>\t\t\t\t\tset string &lt;take&#46;obj&#91;userid&#93;; #object&#91;userid&#93;#&gt;<br/>\t\t\t\t\tset string &lt;take&#46;hand&#91;userid&#93;; left&gt;<br/>\t\t\t\t\tset string &lt;take&#46;floc&#91;userid&#93;; $objectproperty&#40;#take&#46;obj&#91;userid&#93;#; loc&#41;$&gt;<br/>\t\t\t\t\tset string &lt;take&#46;tloc&#91;userid&#93;; #offhand&#91;userid&#93;#&gt;<br/>\t\t\t\t\tdoaction &lt;#take&#46;obj&#91;userid&#93;#; take&gt;<br/>\t\t\t\t&#125;<br/>\t\t\t\tif &#40; $objectproperty&#40;player%userid%; #mainhand&#91;userid&#93;#&#41;$ = nothing &#41; then &#123;<br/>\t\t\t\t\tset string &lt;take&#46;obj&#91;userid&#93;; #object&#91;userid&#93;#&gt;<br/>\t\t\t\t\tset string &lt;take&#46;hand&#91;userid&#93;; right&gt;<br/>\t\t\t\t\tset string &lt;take&#46;floc&#91;userid&#93;; $objectproperty&#40;#take&#46;obj&#91;userid&#93;#; loc&#41;$&gt;<br/>\t\t\t\t\tset string &lt;take&#46;tloc&#91;userid&#93;; #mainhand&#91;userid&#93;#&gt;<br/>\t\t\t\t\tdoaction &lt;#take&#46;obj&#91;userid&#93;#; take&gt;<br/>\t\t\t\t&#125;<br/>\t\t\t&#125;<br/>\t\telse msg &lt;I could not find what you were referring to&#46;|n&gt;<br/>\t\t&#125;<br/>\t&#125;<br/></code></pre><br/><br/>I'm thinking part of this is a QuestNet problem in which it is recursing through the \"player\" object and reading that there is an object matching #@object[userid]# in the \"player\" object. I'll post it there as a bug, which it may be.",
      "PostDate": "2004-01-01T23:56:58+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "1986",
      "UserId": 0,
      "Username": "I think Im Dead",
      "UserAvatar": null,
      "UserGravatar": "662782b48efa4728f8d0773b83c01ddf",
      "EditableText": "Here's the (so far) final copy. It solves all the problems and works how I want, it's quite different from both previous posts, a bit more simple but more advanced as well. Sometimes those if's, then's and else's start stacking up and messing with your head. Realistically it could be modified at the very end of the command to detect if the player has the object already, and print out that \"they already have it and don't need to take it\" if that's the case, and \"I don't know what you're talking about\" if not. I found this complete enough and hopefully it will give anyone interested some insight into the process that is creating a more realistic inventory for Quest games.\n\nCOMMAND CODE\n[code:vi6phd4j]\n\tcommand &lt;take #@object&#91;userid&#93;#&gt; if here &lt;#object&#91;userid&#93;#&gt; then &#123;\n\t\tset string &lt;mainhand&#91;userid&#93;; $objectproperty&#40;player%userid%; hands&#46;mainhand&#41;$&gt;\n\t\tset string &lt;offhand&#91;userid&#93;; $objectproperty&#40;player%userid%; hands&#46;offhand&#41;$&gt;\n\t\tif &#40; $objectproperty&#40;player%userid%; hands&#46;#mainhand&#91;userid&#93;#&#41;$ = nothing &#41; then &#123;\n\t\t\tset string &lt;take&#46;obj&#91;userid&#93;; #object&#91;userid&#93;#&gt;\n\t\t\tset string &lt;take&#46;hand&#91;userid&#93;; #mainhand&#91;userid&#93;#&gt;\n\t\t\tset string &lt;take&#46;floc&#91;userid&#93;; $objectproperty&#40;#take&#46;obj&#91;userid&#93;#; loc&#41;$&gt;\n\t\t\tset string &lt;take&#46;tloc&#91;userid&#93;; hands&#46;#mainhand&#91;userid&#93;#&gt;\n\t\t\tdoaction &lt;#take&#46;obj&#91;userid&#93;#; take&gt;\n\t\t&#125;\n\t\telse &#123;\n\t\t\tif &#40; $objectproperty&#40;player%userid%; hands&#46;#offhand&#91;userid&#93;#&#41;$ = nothing &#41; then &#123;\n\t\t\t\tset string &lt;take&#46;obj&#91;userid&#93;; #object&#91;userid&#93;#&gt;\n\t\t\t\tset string &lt;take&#46;hand&#91;userid&#93;; #offhand&#91;userid&#93;#&gt;\n\t\t\t\tset string &lt;take&#46;floc&#91;userid&#93;; $objectproperty&#40;#take&#46;obj&#91;userid&#93;#; loc&#41;$&gt;\n\t\t\t\tset string &lt;take&#46;tloc&#91;userid&#93;; hands&#46;#offhand&#91;userid&#93;#&gt;\n\t\t\t\tdoaction &lt;#take&#46;obj&#91;userid&#93;#; take&gt;\n\t\t\t&#125;\n\t\t\telse msg &lt;Both of your hands are full&#46;|n&gt;\n\t\t&#125;\n\t&#125;\n\telse msg &lt;I could not find what you were referring to&#46;|n&gt;\n[/code:vi6phd4j]\n\nOBJECT ACTION CODE\n[code:vi6phd4j]\n\taction &lt;take&gt; &#123;\n\t\tmove &lt;#take&#46;obj&#91;userid&#93;#; player%userid%&gt;\n\t\tproperty &lt;#take&#46;obj&#91;userid&#93;#; loc=#take&#46;tloc&#91;userid&#93;#&gt;\n\t\tproperty &lt;player%userid%; #take&#46;tloc&#91;userid&#93;#=#take&#46;obj&#91;userid&#93;#&gt;\n\t\tproperty &lt;player%userid%; hands&#46;#take&#46;hand&#91;userid&#93;#&#46;display=$objectproperty&#40;#take&#46;obj&#91;userid&#93;#; display&#46;long&#41;$&gt;\n\t\tmsg &lt;You pick up $objectproperty&#40;#take&#46;obj&#91;userid&#93;#; display&#46;long&#41;$ with your #take&#46;hand&#91;userid&#93;# hand&#46;|n&gt;\n\t&#125;\n[/code:vi6phd4j]\n\nAnd for reference on how objects are setup to react with this code... an object type looks like this...\n\n[code:vi6phd4j]\ndefine type &lt;pants&gt;\n\ttype &lt;clothing&gt;\n\talias = pants\n\tprefix = a pair of\n\tdisplaytype = Clothing\n\tarticle = it\n\tgender = it\n\tpocket\n\tweight = 2\n\tlocations&#46;wear = 1\n\tlocations&#46;wear&#46;1 = legs&#46;clothing\nend define\n[/code:vi6phd4j]\n\nAnd to give you a general idea on the structure of the player object housing the inventory...\n\n[code:vi6phd4j]\n\t\tproperty &lt;player%userid%; alias=$name&#40;player%userid%&#41;$&gt; 'Default is player's name, but can be changed to support things like metamorphosis, shapechanging, disguises, etc&#46;\n\t\tproperty &lt;player%userid%; name=$name&#40;player%userid%&#41;$&gt; 'This value is the player's name, never should change, used to restore from ^this, this^ and&#46;&#46;&#46;&#46;&#46;&#46; this^&#46;\n\t\tproperty &lt;player%userid%; head&#46;accessory=nothing&gt; 'This is the place for objects like fake beards, eye patches, glasses, etc&#46;\n\t\tproperty &lt;player%userid%; head&#46;armor=nothing&gt; 'This property is for any armor type object upon the head, but can also reference armor worn that covers the head&#46;\n\t\tproperty &lt;player%userid%; head&#46;clothing=nothing&gt; 'This is the place for objects like hats, caps, etc&#46;\n\t\tproperty &lt;player%userid%; neck&#46;accessory1=nothing&gt; '- - - - - - - - - - - - - - - - - - - -\n\t\tproperty &lt;player%userid%; neck&#46;accessory2=nothing&gt; ' These are for necklaces, amulets, etc\n\t\tproperty &lt;player%userid%; neck&#46;accessory3=nothing&gt; '- - - - - - - - - - - - - - - - - - - -\n\t\tproperty &lt;player%userid%; neck&#46;armor=nothing&gt; ' This is for any neck armor&#40;coif's and such&#41;, but can also reference armor worn that covers the neck&#46;\n\t\tproperty &lt;player%userid%; neck&#46;clothing=nothing&gt; ' This is the place for objects like scarfs, torqs, etc&#46;\n\t\tproperty &lt;player%userid%; shoulders&#46;accessory=nothing&gt; 'This is the place for objects like capes, cloaks, greatcloaks, etc&#46;\n\t\tproperty &lt;player%userid%; shoulders&#46;clothing=nothing&gt; 'This is the place for objects like robes, shawls, etc&#46;\n\t\tproperty &lt;player%userid%; shoulders&#46;left=nothing&gt;  ' This is the place for objects worn slung over the shoulder like satchel, weapon harness, purse, etc&#46;\n\t\tproperty &lt;player%userid%; shoulders&#46;right=nothing&gt; ' This is the place for objects worn slung over the shoulder like satchel, weapon harness, purse, etc&#46; \n\t\tproperty &lt;player%userid%; arms&#46;accessory=nothing&gt; ' This is the place for objects like armband, etc&#46;\n\t\tproperty &lt;player%userid%; arms&#46;armor=nothing&gt; ' This is for any arm armor&#40;arm greaves&#41;, but can also reference armor worn that covers the arms&#46;\n\t\tproperty &lt;player%userid%; arms&#46;clothing=nothing&gt; ' This is the place for clothes worn on the arm, I can't think of any right now though&#46;\n\t\tproperty &lt;player%userid%; wrists&#46;accessory1=nothing&gt; ' This is the place for objects like bracelets, etc&#46;\n\t\tproperty &lt;player%userid%; wrists&#46;accessory2=nothing&gt; ' This is the place for objects like bracelets, etc&#46;\n\t\tproperty &lt;player%userid%; wrists&#46;armor=nothing&gt; ' This is for any wrist armor&#40;gauntlets, bracers&#41;, but can also reference armor worn that covers the wrists&#46;\n\t\tproperty &lt;player%userid%; wrists&#46;clothing=nothing&gt; ' This is the place for objects like gloves, etc&#46;\n\t\tproperty &lt;player%userid%; hands&#46;accessory1=nothing&gt; '- - - - - - - - - - - - - - - - - - - - - - - -\n\t\tproperty &lt;player%userid%; hands&#46;accessory2=nothing&gt; ' This is the place for objects like rings, \n\t\tproperty &lt;player%userid%; hands&#46;accessory3=nothing&gt; '\n\t\tproperty &lt;player%userid%; hands&#46;accessory4=nothing&gt; ' bands, etc&#46;\n\t\tproperty &lt;player%userid%; hands&#46;accessory5=nothing&gt; ' \n\t\tproperty &lt;player%userid%; hands&#46;accessory6=nothing&gt; '\n\t\tproperty &lt;player%userid%; hands&#46;accessory7=nothing&gt; '\n\t\tproperty &lt;player%userid%; hands&#46;accessory8=nothing&gt; '\n\t\tproperty &lt;player%userid%; hands&#46;accessory9=nothing&gt; '\n\t\tproperty &lt;player%userid%; hands&#46;accessory10=nothing&gt;'- - - - - - - - - - - - - - - - - - - - - - - - \n\t\tproperty &lt;player%userid%; hands&#46;armor=nothing&gt; ' This is for any hand armor&#40;none comes to mind&#41;, but can also reference armor worn that covers the hands&#46;\n\t\tproperty &lt;player%userid%; hands&#46;left=nothing&gt; ' These are for holding objects in the left and right hands, it should only be altered by commands&#46;\n\t\tproperty &lt;player%userid%; hands&#46;left&#46;display=nothing&gt; 'This is for holding a full description of the item held in the left hand, 'TAKE' command should alter it&#46;\n\t\tproperty &lt;player%userid%; hands&#46;right=nothing&gt; ' These are for holding objects in the left and right hands, it should only be altered by commands&#46;\n\t\tproperty &lt;player%userid%; hands&#46;right&#46;display=nothing&gt; 'This is for holding a full description of the item held in the right hand&#46; 'TAKE' command should alter it&#46;\n\t\tproperty &lt;player%userid%; hands&#46;mainhand=right&gt; 'This specifies the &quot;main hand&quot; which determines if the player is right or left handed&#46; default here is right&#46;\n\t\tproperty &lt;player%userid%; hands&#46;offhand=left&gt; ' This specifies the &quot;off hand&quot; which is the remaining of the two after &quot;main hand&quot; is set&#46; default here is left&#46;\n\t\tproperty &lt;player%userid%; torso&#46;accessory=nothing&gt; ' This is the place for objects like brooches, emblems, etc&#46;\n\t\tproperty &lt;player%userid%; torso&#46;armor=nothing&gt; ' This is for any torso armor, but can also reference armor worn that covers the torso&#46;\n\t\tproperty &lt;player%userid%; torso&#46;clothing=nothing&gt; ' This is the place for objects like shirts, tunics, dresses, etc&#46;\n\t\tproperty &lt;player%userid%; waist&#46;accessory1=nothing&gt; '- - - - - - - - - - - - - - - - - - - - - - - \n\t\tproperty &lt;player%userid%; waist&#46;accessory2=nothing&gt; ' This is the place for objects like sacks,\n\t\tproperty &lt;player%userid%; waist&#46;accessory3=nothing&gt; ' \n\t\tproperty &lt;player%userid%; waist&#46;accessory4=nothing&gt; ' pouches, etc&#46;\n\t\tproperty &lt;player%userid%; waist&#46;accessory5=nothing&gt; '- - - - - - - - - - - - - - - - - - - - - - -\n\t\tproperty &lt;player%userid%; waist&#46;armor=nothing&gt; ' This is the place for any waist armor, but can also reference armor worn that covers the waist&#46;\n\t\tproperty &lt;player%userid%; waist&#46;clothing=nothing&gt; ' This is the place for objects like belts, girdles, etc&#46;\n\t\tproperty &lt;player%userid%; legs&#46;accessory1=nothing&gt; ' This is the place for objects like thigh pouch, thigh sheath, leg brace, etc&#46;\n\t\tproperty &lt;player%userid%; legs&#46;accessory2=nothing&gt; ' This is the place for objects like thigh pouch, thigh sheath, leg brace, etc&#46;\n\t\tproperty &lt;player%userid%; legs&#46;armor=nothing&gt; ' This is for any leg armor&#40;leg greaves&#41;, but can also reference armor worn that covers the legs&#46;\n\t\tproperty &lt;player%userid%; legs&#46;clothing=nothing&gt; ' This is the place for objects like pants, trousers, skirts, etc&#46;\n\t\tproperty &lt;player%userid%; feet&#46;accessory=nothing&gt; ' This is the place for objects like toe rings, climbing spikes, socks, etc&#46;\n\t\tproperty &lt;player%userid%; feet&#46;armor=nothing&gt; ' This is for any foot armor, but can also reference armor worn that covers the feet&#46;\n\t\tproperty &lt;player%userid%; feet&#46;clothing=nothing&gt; ' This is the place for objects like shoes, boots, etc&#46;\n\n[/code:vi6phd4j]",
      "EditableFormat": "bbcode",
      "HTML": "Here's the (so far) final copy. It solves all the problems and works how I want, it's quite different from both previous posts, a bit more simple but more advanced as well. Sometimes those if's, then's and else's start stacking up and messing with your head. Realistically it could be modified at the very end of the command to detect if the player has the object already, and print out that \"they already have it and don't need to take it\" if that's the case, and \"I don't know what you're talking about\" if not. I found this complete enough and hopefully it will give anyone interested some insight into the process that is creating a more realistic inventory for Quest games.<br/><br/>COMMAND CODE<br/><pre><code><br/>\tcommand &lt;take #@object&#91;userid&#93;#&gt; if here &lt;#object&#91;userid&#93;#&gt; then &#123;<br/>\t\tset string &lt;mainhand&#91;userid&#93;; $objectproperty&#40;player%userid%; hands&#46;mainhand&#41;$&gt;<br/>\t\tset string &lt;offhand&#91;userid&#93;; $objectproperty&#40;player%userid%; hands&#46;offhand&#41;$&gt;<br/>\t\tif &#40; $objectproperty&#40;player%userid%; hands&#46;#mainhand&#91;userid&#93;#&#41;$ = nothing &#41; then &#123;<br/>\t\t\tset string &lt;take&#46;obj&#91;userid&#93;; #object&#91;userid&#93;#&gt;<br/>\t\t\tset string &lt;take&#46;hand&#91;userid&#93;; #mainhand&#91;userid&#93;#&gt;<br/>\t\t\tset string &lt;take&#46;floc&#91;userid&#93;; $objectproperty&#40;#take&#46;obj&#91;userid&#93;#; loc&#41;$&gt;<br/>\t\t\tset string &lt;take&#46;tloc&#91;userid&#93;; hands&#46;#mainhand&#91;userid&#93;#&gt;<br/>\t\t\tdoaction &lt;#take&#46;obj&#91;userid&#93;#; take&gt;<br/>\t\t&#125;<br/>\t\telse &#123;<br/>\t\t\tif &#40; $objectproperty&#40;player%userid%; hands&#46;#offhand&#91;userid&#93;#&#41;$ = nothing &#41; then &#123;<br/>\t\t\t\tset string &lt;take&#46;obj&#91;userid&#93;; #object&#91;userid&#93;#&gt;<br/>\t\t\t\tset string &lt;take&#46;hand&#91;userid&#93;; #offhand&#91;userid&#93;#&gt;<br/>\t\t\t\tset string &lt;take&#46;floc&#91;userid&#93;; $objectproperty&#40;#take&#46;obj&#91;userid&#93;#; loc&#41;$&gt;<br/>\t\t\t\tset string &lt;take&#46;tloc&#91;userid&#93;; hands&#46;#offhand&#91;userid&#93;#&gt;<br/>\t\t\t\tdoaction &lt;#take&#46;obj&#91;userid&#93;#; take&gt;<br/>\t\t\t&#125;<br/>\t\t\telse msg &lt;Both of your hands are full&#46;|n&gt;<br/>\t\t&#125;<br/>\t&#125;<br/>\telse msg &lt;I could not find what you were referring to&#46;|n&gt;<br/></code></pre><br/><br/>OBJECT ACTION CODE<br/><pre><code><br/>\taction &lt;take&gt; &#123;<br/>\t\tmove &lt;#take&#46;obj&#91;userid&#93;#; player%userid%&gt;<br/>\t\tproperty &lt;#take&#46;obj&#91;userid&#93;#; loc=#take&#46;tloc&#91;userid&#93;#&gt;<br/>\t\tproperty &lt;player%userid%; #take&#46;tloc&#91;userid&#93;#=#take&#46;obj&#91;userid&#93;#&gt;<br/>\t\tproperty &lt;player%userid%; hands&#46;#take&#46;hand&#91;userid&#93;#&#46;display=$objectproperty&#40;#take&#46;obj&#91;userid&#93;#; display&#46;long&#41;$&gt;<br/>\t\tmsg &lt;You pick up $objectproperty&#40;#take&#46;obj&#91;userid&#93;#; display&#46;long&#41;$ with your #take&#46;hand&#91;userid&#93;# hand&#46;|n&gt;<br/>\t&#125;<br/></code></pre><br/><br/>And for reference on how objects are setup to react with this code... an object type looks like this...<br/><br/><pre><code><br/>define type &lt;pants&gt;<br/>\ttype &lt;clothing&gt;<br/>\talias = pants<br/>\tprefix = a pair of<br/>\tdisplaytype = Clothing<br/>\tarticle = it<br/>\tgender = it<br/>\tpocket<br/>\tweight = 2<br/>\tlocations&#46;wear = 1<br/>\tlocations&#46;wear&#46;1 = legs&#46;clothing<br/>end define<br/></code></pre><br/><br/>And to give you a general idea on the structure of the player object housing the inventory...<br/><br/><pre><code><br/>\t\tproperty &lt;player%userid%; alias=$name&#40;player%userid%&#41;$&gt; 'Default is player's name, but can be changed to support things like metamorphosis, shapechanging, disguises, etc&#46;<br/>\t\tproperty &lt;player%userid%; name=$name&#40;player%userid%&#41;$&gt; 'This value is the player's name, never should change, used to restore from ^this, this^ and&#46;&#46;&#46;&#46;&#46;&#46; this^&#46;<br/>\t\tproperty &lt;player%userid%; head&#46;accessory=nothing&gt; 'This is the place for objects like fake beards, eye patches, glasses, etc&#46;<br/>\t\tproperty &lt;player%userid%; head&#46;armor=nothing&gt; 'This property is for any armor type object upon the head, but can also reference armor worn that covers the head&#46;<br/>\t\tproperty &lt;player%userid%; head&#46;clothing=nothing&gt; 'This is the place for objects like hats, caps, etc&#46;<br/>\t\tproperty &lt;player%userid%; neck&#46;accessory1=nothing&gt; '- - - - - - - - - - - - - - - - - - - -<br/>\t\tproperty &lt;player%userid%; neck&#46;accessory2=nothing&gt; ' These are for necklaces, amulets, etc<br/>\t\tproperty &lt;player%userid%; neck&#46;accessory3=nothing&gt; '- - - - - - - - - - - - - - - - - - - -<br/>\t\tproperty &lt;player%userid%; neck&#46;armor=nothing&gt; ' This is for any neck armor&#40;coif's and such&#41;, but can also reference armor worn that covers the neck&#46;<br/>\t\tproperty &lt;player%userid%; neck&#46;clothing=nothing&gt; ' This is the place for objects like scarfs, torqs, etc&#46;<br/>\t\tproperty &lt;player%userid%; shoulders&#46;accessory=nothing&gt; 'This is the place for objects like capes, cloaks, greatcloaks, etc&#46;<br/>\t\tproperty &lt;player%userid%; shoulders&#46;clothing=nothing&gt; 'This is the place for objects like robes, shawls, etc&#46;<br/>\t\tproperty &lt;player%userid%; shoulders&#46;left=nothing&gt;  ' This is the place for objects worn slung over the shoulder like satchel, weapon harness, purse, etc&#46;<br/>\t\tproperty &lt;player%userid%; shoulders&#46;right=nothing&gt; ' This is the place for objects worn slung over the shoulder like satchel, weapon harness, purse, etc&#46; <br/>\t\tproperty &lt;player%userid%; arms&#46;accessory=nothing&gt; ' This is the place for objects like armband, etc&#46;<br/>\t\tproperty &lt;player%userid%; arms&#46;armor=nothing&gt; ' This is for any arm armor&#40;arm greaves&#41;, but can also reference armor worn that covers the arms&#46;<br/>\t\tproperty &lt;player%userid%; arms&#46;clothing=nothing&gt; ' This is the place for clothes worn on the arm, I can't think of any right now though&#46;<br/>\t\tproperty &lt;player%userid%; wrists&#46;accessory1=nothing&gt; ' This is the place for objects like bracelets, etc&#46;<br/>\t\tproperty &lt;player%userid%; wrists&#46;accessory2=nothing&gt; ' This is the place for objects like bracelets, etc&#46;<br/>\t\tproperty &lt;player%userid%; wrists&#46;armor=nothing&gt; ' This is for any wrist armor&#40;gauntlets, bracers&#41;, but can also reference armor worn that covers the wrists&#46;<br/>\t\tproperty &lt;player%userid%; wrists&#46;clothing=nothing&gt; ' This is the place for objects like gloves, etc&#46;<br/>\t\tproperty &lt;player%userid%; hands&#46;accessory1=nothing&gt; '- - - - - - - - - - - - - - - - - - - - - - - -<br/>\t\tproperty &lt;player%userid%; hands&#46;accessory2=nothing&gt; ' This is the place for objects like rings, <br/>\t\tproperty &lt;player%userid%; hands&#46;accessory3=nothing&gt; '<br/>\t\tproperty &lt;player%userid%; hands&#46;accessory4=nothing&gt; ' bands, etc&#46;<br/>\t\tproperty &lt;player%userid%; hands&#46;accessory5=nothing&gt; ' <br/>\t\tproperty &lt;player%userid%; hands&#46;accessory6=nothing&gt; '<br/>\t\tproperty &lt;player%userid%; hands&#46;accessory7=nothing&gt; '<br/>\t\tproperty &lt;player%userid%; hands&#46;accessory8=nothing&gt; '<br/>\t\tproperty &lt;player%userid%; hands&#46;accessory9=nothing&gt; '<br/>\t\tproperty &lt;player%userid%; hands&#46;accessory10=nothing&gt;'- - - - - - - - - - - - - - - - - - - - - - - - <br/>\t\tproperty &lt;player%userid%; hands&#46;armor=nothing&gt; ' This is for any hand armor&#40;none comes to mind&#41;, but can also reference armor worn that covers the hands&#46;<br/>\t\tproperty &lt;player%userid%; hands&#46;left=nothing&gt; ' These are for holding objects in the left and right hands, it should only be altered by commands&#46;<br/>\t\tproperty &lt;player%userid%; hands&#46;left&#46;display=nothing&gt; 'This is for holding a full description of the item held in the left hand, 'TAKE' command should alter it&#46;<br/>\t\tproperty &lt;player%userid%; hands&#46;right=nothing&gt; ' These are for holding objects in the left and right hands, it should only be altered by commands&#46;<br/>\t\tproperty &lt;player%userid%; hands&#46;right&#46;display=nothing&gt; 'This is for holding a full description of the item held in the right hand&#46; 'TAKE' command should alter it&#46;<br/>\t\tproperty &lt;player%userid%; hands&#46;mainhand=right&gt; 'This specifies the &quot;main hand&quot; which determines if the player is right or left handed&#46; default here is right&#46;<br/>\t\tproperty &lt;player%userid%; hands&#46;offhand=left&gt; ' This specifies the &quot;off hand&quot; which is the remaining of the two after &quot;main hand&quot; is set&#46; default here is left&#46;<br/>\t\tproperty &lt;player%userid%; torso&#46;accessory=nothing&gt; ' This is the place for objects like brooches, emblems, etc&#46;<br/>\t\tproperty &lt;player%userid%; torso&#46;armor=nothing&gt; ' This is for any torso armor, but can also reference armor worn that covers the torso&#46;<br/>\t\tproperty &lt;player%userid%; torso&#46;clothing=nothing&gt; ' This is the place for objects like shirts, tunics, dresses, etc&#46;<br/>\t\tproperty &lt;player%userid%; waist&#46;accessory1=nothing&gt; '- - - - - - - - - - - - - - - - - - - - - - - <br/>\t\tproperty &lt;player%userid%; waist&#46;accessory2=nothing&gt; ' This is the place for objects like sacks,<br/>\t\tproperty &lt;player%userid%; waist&#46;accessory3=nothing&gt; ' <br/>\t\tproperty &lt;player%userid%; waist&#46;accessory4=nothing&gt; ' pouches, etc&#46;<br/>\t\tproperty &lt;player%userid%; waist&#46;accessory5=nothing&gt; '- - - - - - - - - - - - - - - - - - - - - - -<br/>\t\tproperty &lt;player%userid%; waist&#46;armor=nothing&gt; ' This is the place for any waist armor, but can also reference armor worn that covers the waist&#46;<br/>\t\tproperty &lt;player%userid%; waist&#46;clothing=nothing&gt; ' This is the place for objects like belts, girdles, etc&#46;<br/>\t\tproperty &lt;player%userid%; legs&#46;accessory1=nothing&gt; ' This is the place for objects like thigh pouch, thigh sheath, leg brace, etc&#46;<br/>\t\tproperty &lt;player%userid%; legs&#46;accessory2=nothing&gt; ' This is the place for objects like thigh pouch, thigh sheath, leg brace, etc&#46;<br/>\t\tproperty &lt;player%userid%; legs&#46;armor=nothing&gt; ' This is for any leg armor&#40;leg greaves&#41;, but can also reference armor worn that covers the legs&#46;<br/>\t\tproperty &lt;player%userid%; legs&#46;clothing=nothing&gt; ' This is the place for objects like pants, trousers, skirts, etc&#46;<br/>\t\tproperty &lt;player%userid%; feet&#46;accessory=nothing&gt; ' This is the place for objects like toe rings, climbing spikes, socks, etc&#46;<br/>\t\tproperty &lt;player%userid%; feet&#46;armor=nothing&gt; ' This is for any foot armor, but can also reference armor worn that covers the feet&#46;<br/>\t\tproperty &lt;player%userid%; feet&#46;clothing=nothing&gt; ' This is the place for objects like shoes, boots, etc&#46;<br/><br/></code></pre>",
      "PostDate": "2004-01-03T09:17:24+00:00",
      "LastEditDate": null
    }
  ]
}
