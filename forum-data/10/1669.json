{
  "Topic": {
    "TopicId": "1669",
    "ForumId": "10",
    "Title": "throwing objects command problem",
    "LastUpdated": "2007-04-17T16:29:53+01:00",
    "ReplyCount": 4
  },
  "Posts": [
    {
      "PostId": "13298",
      "UserId": 0,
      "Username": "lyteside",
      "UserAvatar": null,
      "UserGravatar": "8a1935c84e0128360167bbb363a419cc",
      "EditableText": "hey, could i get some advice on how to make this proc work appropriately... currently, if the player has the object in question, it will still give me a &quot;i can't see that here&quot; in response to the command.  but if the object is in the same room as the player, it will run the &quot;else&quot; part at the end, like its suppose to.  just curious on what i should change.  all the other procs and timers that lead from this are in working order.\r\n\r\n[code:3ko0dlmx]command &lt;throw #@object# at #throwtarget# #throwdirection#&gt; &#123;\n\t\tif &#40;%battle% &gt; 0 &#41; then msg &lt;You are too busy |iBATTLING|xi right now to throw that further in |i|bany|xi|xb direction!&gt;\n\telse &#123;\n\t\tif got &lt;#object#&gt; then &#123;\n\t\t\tif &#40;#throwdirection# = n&#41; then set string &lt;throwdirection; north&gt;\n\t\t\tif &#40;#throwdirection# = s&#41; then set string &lt;throwdirection; south&gt;\n\t\t\tif &#40;#throwdirection# = e&#41; then set string &lt;throwdirection; east&gt;\n\t\t\tif &#40;#throwdirection# = w&#41; then set string &lt;throwdirection; west&gt;\n\t\t\tif &#40;#throwdirection# = ne&#41; then set string &lt;throwdirection; northeast&gt;\n\t\t\tif &#40;#throwdirection# = nw&#41; then set string &lt;throwdirection; northwest&gt;\n\t\t\tif &#40;#throwdirection# = se&#41; then set string &lt;throwdirection; southeast&gt;\n\t\t\tif &#40;#throwdirection# = sw&#41; then set string &lt;throwdirection; southwest&gt;\n\t\t\tif &#40;#throwdirection# = u&#41; then set string &lt;throwdirection; up&gt;\n\t\t\tif &#40;#throwdirection# = d&#41; then set string &lt;throwdirection; down&gt;\n\t\t\tdo &lt;throwdirectionproc&#40;#throwdirection#&#41;&gt;\n\t\t&#125;\n\t\telse &#123;\n\t\t\tif property &lt;#object#; combat&gt; then msg &lt;That character is a bit to big for you to throw across the room&#46;&gt;\n\t\t\telse msg &lt;You have to pick up that item first before you can throw it&#46;&gt;\n\t\t&#125;\n\t&#125;\n&#125;[/code:3ko0dlmx]",
      "EditableFormat": "bbcode",
      "HTML": "hey, could i get some advice on how to make this proc work appropriately... currently, if the player has the object in question, it will still give me a &quot;i can't see that here&quot; in response to the command.  but if the object is in the same room as the player, it will run the &quot;else&quot; part at the end, like its suppose to.  just curious on what i should change.  all the other procs and timers that lead from this are in working order.<br/><br/><pre><code>command &lt;throw #@object# at #throwtarget# #throwdirection#&gt; &#123;<br/>\t\tif &#40;%battle% &gt; 0 &#41; then msg &lt;You are too busy |iBATTLING|xi right now to throw that further in |i|bany|xi|xb direction!&gt;<br/>\telse &#123;<br/>\t\tif got &lt;#object#&gt; then &#123;<br/>\t\t\tif &#40;#throwdirection# = n&#41; then set string &lt;throwdirection; north&gt;<br/>\t\t\tif &#40;#throwdirection# = s&#41; then set string &lt;throwdirection; south&gt;<br/>\t\t\tif &#40;#throwdirection# = e&#41; then set string &lt;throwdirection; east&gt;<br/>\t\t\tif &#40;#throwdirection# = w&#41; then set string &lt;throwdirection; west&gt;<br/>\t\t\tif &#40;#throwdirection# = ne&#41; then set string &lt;throwdirection; northeast&gt;<br/>\t\t\tif &#40;#throwdirection# = nw&#41; then set string &lt;throwdirection; northwest&gt;<br/>\t\t\tif &#40;#throwdirection# = se&#41; then set string &lt;throwdirection; southeast&gt;<br/>\t\t\tif &#40;#throwdirection# = sw&#41; then set string &lt;throwdirection; southwest&gt;<br/>\t\t\tif &#40;#throwdirection# = u&#41; then set string &lt;throwdirection; up&gt;<br/>\t\t\tif &#40;#throwdirection# = d&#41; then set string &lt;throwdirection; down&gt;<br/>\t\t\tdo &lt;throwdirectionproc&#40;#throwdirection#&#41;&gt;<br/>\t\t&#125;<br/>\t\telse &#123;<br/>\t\t\tif property &lt;#object#; combat&gt; then msg &lt;That character is a bit to big for you to throw across the room&#46;&gt;<br/>\t\t\telse msg &lt;You have to pick up that item first before you can throw it&#46;&gt;<br/>\t\t&#125;<br/>\t&#125;<br/>&#125;</code></pre>",
      "PostDate": "2007-04-16T18:24:36+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "13299",
      "UserId": 0,
      "Username": "witch wyzwurd",
      "UserAvatar": null,
      "UserGravatar": "05e3fb359c040589d773db02decd0770",
      "EditableText": "First: You have your italics and bold formatting tags nestled incorrectly (&quot;any&quot;).\r\n\r\nSecond: It appears you have one too many &quot;else&quot; conditionals...\r\n\r\ncommand &lt;throw #@object# at #throwtarget# #throwdirection#&gt; {\r\n      if (%battle% &gt; 0 ) then msg &lt;You are too busy |iBATTLING|xi right now to throw that further in |i|bany|xi|xb direction!&gt;\r\n   else {\r\n      if got &lt;#object#&gt; then {\r\n         if (#throwdirection# = n) then set string &lt;throwdirection; north&gt;\r\n         if (#throwdirection# = s) then set string &lt;throwdirection; south&gt;\r\n         if (#throwdirection# = e) then set string &lt;throwdirection; east&gt;\r\n         if (#throwdirection# = w) then set string &lt;throwdirection; west&gt;\r\n         if (#throwdirection# = ne) then set string &lt;throwdirection; northeast&gt;\r\n         if (#throwdirection# = nw) then set string &lt;throwdirection; northwest&gt;\r\n         if (#throwdirection# = se) then set string &lt;throwdirection; southeast&gt;\r\n         if (#throwdirection# = sw) then set string &lt;throwdirection; southwest&gt;\r\n         if (#throwdirection# = u) then set string &lt;throwdirection; up&gt;\r\n         if (#throwdirection# = d) then set string &lt;throwdirection; down&gt;\r\n         do &lt;throwdirectionproc(#throwdirection#)&gt;\r\n      }\r\n&lt;--------------------------------makes sense up to here-------      \r\n------------why do you have the next else conditional?-----&gt;\r\n&lt;quote&gt;else {\r\n         if property &lt;#object#; combat&gt; then msg &lt;That character is a bit &quot;to&quot; big for you to throw across the room.&gt;&lt;/quote&gt;\r\nwhy not just another if-conditional? As in:\r\nelse if you have the object then (commands); if combatted object then &quot;too big.&quot;\r\n\r\nThen nestle in the next &quot;else&quot; conditional... \r\n         else msg &lt;You have to pick up that item first before you can throw it.&gt;\r\n      }\r\n   }\r\n}\r\n\r\nYou'd have to eliminate a curly brace then.\r\nI'm not sure if this will help your problem, but cleaning up the code would be good anyways.  Other than those issues, I didn't find anything wrong.  Maybe you do have a conflict somewhere else in your code. \r\n\r\nPowered by phpBB",
      "EditableFormat": "bbcode",
      "HTML": "First: You have your italics and bold formatting tags nestled incorrectly (&quot;any&quot;).<br/><br/>Second: It appears you have one too many &quot;else&quot; conditionals...<br/><br/>command &lt;throw #@object# at #throwtarget# #throwdirection#&gt; {<br/>      if (%battle% &gt; 0 ) then msg &lt;You are too busy |iBATTLING|xi right now to throw that further in |i|bany|xi|xb direction!&gt;<br/>   else {<br/>      if got &lt;#object#&gt; then {<br/>         if (#throwdirection# = n) then set string &lt;throwdirection; north&gt;<br/>         if (#throwdirection# = s) then set string &lt;throwdirection; south&gt;<br/>         if (#throwdirection# = e) then set string &lt;throwdirection; east&gt;<br/>         if (#throwdirection# = w) then set string &lt;throwdirection; west&gt;<br/>         if (#throwdirection# = ne) then set string &lt;throwdirection; northeast&gt;<br/>         if (#throwdirection# = nw) then set string &lt;throwdirection; northwest&gt;<br/>         if (#throwdirection# = se) then set string &lt;throwdirection; southeast&gt;<br/>         if (#throwdirection# = sw) then set string &lt;throwdirection; southwest&gt;<br/>         if (#throwdirection# = u) then set string &lt;throwdirection; up&gt;<br/>         if (#throwdirection# = d) then set string &lt;throwdirection; down&gt;<br/>         do &lt;throwdirectionproc(#throwdirection#)&gt;<br/>      }<br/>&lt;--------------------------------makes sense up to here-------      <br/>------------why do you have the next else conditional?-----&gt;<br/>&lt;quote&gt;else {<br/>         if property &lt;#object#; combat&gt; then msg &lt;That character is a bit &quot;to&quot; big for you to throw across the room.&gt;&lt;/quote&gt;<br/>why not just another if-conditional? As in:<br/>else if you have the object then (commands); if combatted object then &quot;too big.&quot;<br/><br/>Then nestle in the next &quot;else&quot; conditional... <br/>         else msg &lt;You have to pick up that item first before you can throw it.&gt;<br/>      }<br/>   }<br/>}<br/><br/>You'd have to eliminate a curly brace then.<br/>I'm not sure if this will help your problem, but cleaning up the code would be good anyways.  Other than those issues, I didn't find anything wrong.  Maybe you do have a conflict somewhere else in your code. <br/><br/>Powered by phpBB",
      "PostDate": "2007-04-16T21:06:13+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "13300",
      "UserId": 0,
      "Username": "lyteside",
      "UserAvatar": null,
      "UserGravatar": "8a1935c84e0128360167bbb363a419cc",
      "EditableText": "after some further testing, i realize now that if the got &lt;object&gt; returns true, it will run a msg tag in the braces.  like a MSG &lt;Test1&gt; or whatever, but it does not run any procedure from within it.  I tried to just linking to any random procedure, but to no avail.  like this.\r\n\r\n\r\n\r\n[code:1r9bfkuw]command &lt;throw #@object# at #throwtarget# #throwdirection#&gt; &#123; \n      if got &lt;#object#&gt; then &#123; \n         msg &lt;Test1&gt;\n         do &lt;randomtestproc&gt;\n      &#125; \n      else &#123; \n         if property &lt;#object#; combat&gt; then msg &lt;That character is a bit to big for you to throw across the room&#46;&gt; \n         else msg &lt;You have to pick up that item first before you can throw it&#46;&gt; \n      &#125; \n&#125;\n\ndefine procedure &lt;randomtestproc&gt;\n      msg &lt;Test2&gt;\nend define\n[/code:1r9bfkuw]\r\n\r\nwhen i do the command, it only returns &quot;Test1&quot;.  Any suggestions?",
      "EditableFormat": "bbcode",
      "HTML": "after some further testing, i realize now that if the got &lt;object&gt; returns true, it will run a msg tag in the braces.  like a MSG &lt;Test1&gt; or whatever, but it does not run any procedure from within it.  I tried to just linking to any random procedure, but to no avail.  like this.<br/><br/><br/><br/><pre><code>command &lt;throw #@object# at #throwtarget# #throwdirection#&gt; &#123; <br/>      if got &lt;#object#&gt; then &#123; <br/>         msg &lt;Test1&gt;<br/>         do &lt;randomtestproc&gt;<br/>      &#125; <br/>      else &#123; <br/>         if property &lt;#object#; combat&gt; then msg &lt;That character is a bit to big for you to throw across the room&#46;&gt; <br/>         else msg &lt;You have to pick up that item first before you can throw it&#46;&gt; <br/>      &#125; <br/>&#125;<br/><br/>define procedure &lt;randomtestproc&gt;<br/>      msg &lt;Test2&gt;<br/>end define<br/></code></pre><br/><br/>when i do the command, it only returns &quot;Test1&quot;.  Any suggestions?",
      "PostDate": "2007-04-16T23:26:21+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "13301",
      "UserId": 0,
      "Username": "Alex",
      "UserAvatar": null,
      "UserGravatar": "188b72c5e13327f4fde3989dca7d7d53",
      "EditableText": "That code works fine for me:\r\n\r\n[code:9imnjwo2]\ndefine game &lt;test&gt;\n\tasl-version &lt;400&gt;\n\tstart &lt;room&gt;\nend define\n\ndefine text &lt;intro&gt;\n\nend define\n\ndefine room &lt;room&gt;\n\n\tdefine object &lt;thing&gt;\n\t\ttake\n\tend define\n\n\tcommand &lt;throw #@object# at #throwtarget# #throwdirection#&gt; &#123; \n\t      if got &lt;#object#&gt; then &#123; \n\t\t msg &lt;Test1&gt; \n\t\t do &lt;randomtestproc&gt; \n\t      &#125; \n\t      else &#123; \n\t\t if property &lt;#object#; combat&gt; then msg &lt;That character is a bit to big for you to throw across the room&#46;&gt; \n\t\t else msg &lt;You have to pick up that item first before you can throw it&#46;&gt; \n\t      &#125; \n\t&#125; \n\nend define\n\ndefine procedure &lt;randomtestproc&gt; \n      msg &lt;Test2&gt; \nend define\n[/code:9imnjwo2]\r\n\r\nGives:\r\n\r\n[quote:9imnjwo2]\nYou are in room.\nThere is thing here.\n\n&gt; take thing\nYou pick it up.\n\n&gt; throw thing at a b\nTest1\nTest2\n[/quote:9imnjwo2]\r\n\r\nHave you checked the ASL Log for any error messages?",
      "EditableFormat": "bbcode",
      "HTML": "That code works fine for me:<br/><br/><pre><code><br/>define game &lt;test&gt;<br/>\tasl-version &lt;400&gt;<br/>\tstart &lt;room&gt;<br/>end define<br/><br/>define text &lt;intro&gt;<br/><br/>end define<br/><br/>define room &lt;room&gt;<br/><br/>\tdefine object &lt;thing&gt;<br/>\t\ttake<br/>\tend define<br/><br/>\tcommand &lt;throw #@object# at #throwtarget# #throwdirection#&gt; &#123; <br/>\t      if got &lt;#object#&gt; then &#123; <br/>\t\t msg &lt;Test1&gt; <br/>\t\t do &lt;randomtestproc&gt; <br/>\t      &#125; <br/>\t      else &#123; <br/>\t\t if property &lt;#object#; combat&gt; then msg &lt;That character is a bit to big for you to throw across the room&#46;&gt; <br/>\t\t else msg &lt;You have to pick up that item first before you can throw it&#46;&gt; <br/>\t      &#125; <br/>\t&#125; <br/><br/>end define<br/><br/>define procedure &lt;randomtestproc&gt; <br/>      msg &lt;Test2&gt; <br/>end define<br/></code></pre><br/><br/>Gives:<br/><br/><blockquote><p><br/>You are in room.<br/>There is thing here.<br/><br/>&gt; take thing<br/>You pick it up.<br/><br/>&gt; throw thing at a b<br/>Test1<br/>Test2<br/></p></blockquote><br/><br/>Have you checked the ASL Log for any error messages?",
      "PostDate": "2007-04-17T13:18:34+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "13302",
      "UserId": 0,
      "Username": "lyteside",
      "UserAvatar": null,
      "UserGravatar": "8a1935c84e0128360167bbb363a419cc",
      "EditableText": "finally figured out that it was because the procedure was in the add to game area of the qlb file.  when i left the commands and variables in the add to game area, did the !end tag, and then put the procedures after it, seemed to work fine!\r\n\r\nthanks for your help. yay.",
      "EditableFormat": "bbcode",
      "HTML": "finally figured out that it was because the procedure was in the add to game area of the qlb file.  when i left the commands and variables in the add to game area, did the !end tag, and then put the procedures after it, seemed to work fine!<br/><br/>thanks for your help. yay.",
      "PostDate": "2007-04-17T16:29:53+01:00",
      "LastEditDate": null
    }
  ]
}
