{
  "Topic": {
    "TopicId": "5709",
    "ForumId": "10",
    "Title": "Hide and Seek",
    "LastUpdated": "2015-12-10T19:42:42+00:00",
    "ReplyCount": 14
  },
  "Posts": [
    {
      "PostId": "39372",
      "UserId": 0,
      "Username": "jaydee",
      "UserAvatar": null,
      "UserGravatar": "1fd74855cc19827c34408863fd3bf9e9",
      "EditableText": "Hi All,\n\nNeed a little advice on how to script this, I'm looking at a section in my adventure where you have to avoid a wandering monster which moves from room to room, if it finds you I want situation based text to appear depending on the room you are in and your condition, so far the code I have only works if you directly enter into the room with the monster in which case it works fine....BUT.... If the monster enters into the same room as the player it simply updates the contents of the room, no message is played and the monster leaves, how can I change this?",
      "EditableFormat": "bbcode",
      "HTML": "Hi All,<br/><br/>Need a little advice on how to script this, I'm looking at a section in my adventure where you have to avoid a wandering monster which moves from room to room, if it finds you I want situation based text to appear depending on the room you are in and your condition, so far the code I have only works if you directly enter into the room with the monster in which case it works fine....BUT.... If the monster enters into the same room as the player it simply updates the contents of the room, no message is played and the monster leaves, how can I change this?",
      "PostDate": "2015-12-09T10:44:06+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "39373",
      "UserId": 0,
      "Username": "The Pixie",
      "UserAvatar": null,
      "UserGravatar": "cfa37e927f96177bcf6053ae8f108f77",
      "EditableText": "We need more details on how you implemented what you have already done. What triggers the &quot;if you directly enter into the room with the monster&quot; thing? Is that a script in that room that checks or a turn script perhaps? Where have you implemented &quot;situation based text to appear depending on the room you are in and your condition&quot;?\n\nThe way I would do it is to have a function that tests if the player is in the same room as the monster, and if it is, do whatever. Have that called when the player enters  one of the relevant rooms. Then have a turnscript to control moving the monster, and call the function after the monster moves a well.",
      "EditableFormat": "bbcode",
      "HTML": "We need more details on how you implemented what you have already done. What triggers the &quot;if you directly enter into the room with the monster&quot; thing? Is that a script in that room that checks or a turn script perhaps? Where have you implemented &quot;situation based text to appear depending on the room you are in and your condition&quot;?<br/><br/>The way I would do it is to have a function that tests if the player is in the same room as the monster, and if it is, do whatever. Have that called when the player enters  one of the relevant rooms. Then have a turnscript to control moving the monster, and call the function after the monster moves a well.",
      "PostDate": "2015-12-09T10:57:24+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "39405",
      "UserId": 0,
      "Username": "jaydee",
      "UserAvatar": null,
      "UserGravatar": "1fd74855cc19827c34408863fd3bf9e9",
      "EditableText": "Ok so far i have a timer based script that moves the monster character from room to room with intervals between 10secs - 60 secs, it has a attribute called hunting and its currently structured that if the attribute is true and the monster is in the same room as a player then situational based text should play, now the script works fine if the player moves into a room with the monster but nothing happens at all if the monster moves into a room already occupied by the player object.\n\nI'm wondering if I change the script to have the player character removed and then moved back into the room when the monster enters would solve the problem?",
      "EditableFormat": "bbcode",
      "HTML": "Ok so far i have a timer based script that moves the monster character from room to room with intervals between 10secs - 60 secs, it has a attribute called hunting and its currently structured that if the attribute is true and the monster is in the same room as a player then situational based text should play, now the script works fine if the player moves into a room with the monster but nothing happens at all if the monster moves into a room already occupied by the player object.<br/><br/>I'm wondering if I change the script to have the player character removed and then moved back into the room when the monster enters would solve the problem?",
      "PostDate": "2015-12-09T21:58:39+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "39418",
      "UserId": 0,
      "Username": "HegemonKhan",
      "UserAvatar": null,
      "UserGravatar": "a96cf34d8d97c57de38f54ee22b1759b",
      "EditableText": "there's two parts to this, so conceptually those two parts are:\n\n1. code that randomly moves your monster to a room (aka 'psuedo'-randomly selects a room from an objectlist of rooms for that monster to be in or 'moved to').\n\n2. code that: (A) checks (the 'if' Script) if the monster is in same room as player every time (via the 'Turnscript Element or the special 'changedparent' Script) you move to a room (B) if so, then the code (the 'if' Script) checks for what room you're both in (to 1/2 determine what action~event occurs) and (C) to check (the 'if' Script) your condition (to 1/2 determine what action~event occurs), and lastly (D) that does an action~event based upon both the room you're in and what condition you're in (the 'if' Script's 'then' script).",
      "EditableFormat": "bbcode",
      "HTML": "there's two parts to this, so conceptually those two parts are:<br/><br/>1. code that randomly moves your monster to a room (aka 'psuedo'-randomly selects a room from an objectlist of rooms for that monster to be in or 'moved to').<br/><br/>2. code that: (A) checks (the 'if' Script) if the monster is in same room as player every time (via the 'Turnscript Element or the special 'changedparent' Script) you move to a room (B) if so, then the code (the 'if' Script) checks for what room you're both in (to 1/2 determine what action~event occurs) and (C) to check (the 'if' Script) your condition (to 1/2 determine what action~event occurs), and lastly (D) that does an action~event based upon both the room you're in and what condition you're in (the 'if' Script's 'then' script).",
      "PostDate": "2015-12-09T23:15:28+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "39419",
      "UserId": 0,
      "Username": "jaydee",
      "UserAvatar": null,
      "UserGravatar": "1fd74855cc19827c34408863fd3bf9e9",
      "EditableText": "1.ok so the first one i have already, a timer script that moves the monster in a set path so thats done.\n\n2. what exactly is the &quot;changedparent&quot; script, cant seem to find it?",
      "EditableFormat": "bbcode",
      "HTML": "1.ok so the first one i have already, a timer script that moves the monster in a set path so thats done.<br/><br/>2. what exactly is the &quot;changedparent&quot; script, cant seem to find it?",
      "PostDate": "2015-12-09T23:33:24+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "39420",
      "UserId": 0,
      "Username": "jaydee",
      "UserAvatar": null,
      "UserGravatar": "1fd74855cc19827c34408863fd3bf9e9",
      "EditableText": "This still doesn't seem to work since the script only seems to activate when entering into a room, but if you are already present in a room then nothing seems to refresh and the script doesn't become active",
      "EditableFormat": "bbcode",
      "HTML": "This still doesn't seem to work since the script only seems to activate when entering into a room, but if you are already present in a room then nothing seems to refresh and the script doesn't become active",
      "PostDate": "2015-12-09T23:58:51+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "39422",
      "UserId": 0,
      "Username": "Marzipan",
      "UserAvatar": null,
      "UserGravatar": "96db8d4d178365a7065b1872e874bc83",
      "EditableText": "[quote=&quot;HegemonKhan&quot;:yt8bbmee]there's two parts to this, so conceptually those two parts are:\n\n1. code that randomly moves your monster to a room (aka 'psuedo'-randomly selects a room from an objectlist of rooms for that monster to be in or 'moved to').[/quote:yt8bbmee]\n\nHijacking the thread a bit here with a question of my own, but is there a straightforward way to have the NPC move realistically? A guard that always patrols a set route, for instance, where you'd want them walking down the street in a logical way instead of teleporting around. In ADRIFT you could set 'walks' for NPCs as a simple way to do this, and it's something I haven't been able to emulate yet in Quest.",
      "EditableFormat": "bbcode",
      "HTML": "<blockquote><cite>HegemonKhan wrote:</cite>there's two parts to this, so conceptually those two parts are:<br/><br/>1. code that randomly moves your monster to a room (aka 'psuedo'-randomly selects a room from an objectlist of rooms for that monster to be in or 'moved to').</blockquote><br/><br/>Hijacking the thread a bit here with a question of my own, but is there a straightforward way to have the NPC move realistically? A guard that always patrols a set route, for instance, where you'd want them walking down the street in a logical way instead of teleporting around. In ADRIFT you could set 'walks' for NPCs as a simple way to do this, and it's something I haven't been able to emulate yet in Quest.",
      "PostDate": "2015-12-10T00:13:37+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "39423",
      "UserId": 0,
      "Username": "jaydee",
      "UserAvatar": null,
      "UserGravatar": "1fd74855cc19827c34408863fd3bf9e9",
      "EditableText": "Ohhh i think i have something, a cycling turn script which constantly checks every second for the monster until its detected, if the monster is present then the script de-activates for a period of time before enabling again.",
      "EditableFormat": "bbcode",
      "HTML": "Ohhh i think i have something, a cycling turn script which constantly checks every second for the monster until its detected, if the monster is present then the script de-activates for a period of time before enabling again.",
      "PostDate": "2015-12-10T00:18:07+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "39424",
      "UserId": 0,
      "Username": "jaydee",
      "UserAvatar": null,
      "UserGravatar": "1fd74855cc19827c34408863fd3bf9e9",
      "EditableText": "as for the movement of an NPC i have mine set as a timer script which places the NPC at a set point, waits for a while then moves the NPC object to the next location that you want them to go to then keep repeating until the NPC has walked to everywhere you want them to go",
      "EditableFormat": "bbcode",
      "HTML": "as for the movement of an NPC i have mine set as a timer script which places the NPC at a set point, waits for a while then moves the NPC object to the next location that you want them to go to then keep repeating until the NPC has walked to everywhere you want them to go",
      "PostDate": "2015-12-10T00:21:04+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "39431",
      "UserId": 0,
      "Username": "HegemonKhan",
      "UserAvatar": null,
      "UserGravatar": "a96cf34d8d97c57de38f54ee22b1759b",
      "EditableText": "the way I was hinting at is done by having the player's special 'changed' (using 'changedparent' specifically) Script to randomly re-assign the monster to a room, as you move (re-assign yourself, lol) to a room.\n\n<!-- m --><a class=\"postlink\" href=\"http://docs.textadventures.co.uk/quest/guides/running_a_script_when_an_attribute_changes.html\">http://docs.textadventures.co.uk/quest/ ... anges.html</a><!-- m --> (the special 'changed' Script)\n\nand then you use a (global) Turnscript Element to check if you and monster are in same room, and then to check what room you're both in, and to check what condition you're in, to determine what action(s)~event(s) (script~s) to do.\n\n....\n\nactually it may be better to do it all in the 'changedparent' Script... all you got to do would be to have the monster's room-assigning script(s) to occur first before the checking scripts:\n\nyou move\nthe monster moves\nand then the checking\nyou move\nthe monster moves\nand then the checking\nyou move\nthe monster moves\nand then the checking\netc\netc\netc",
      "EditableFormat": "bbcode",
      "HTML": "the way I was hinting at is done by having the player's special 'changed' (using 'changedparent' specifically) Script to randomly re-assign the monster to a room, as you move (re-assign yourself, lol) to a room.<br/><br/><!-- m --><a class=\"postlink\" href=\"http://docs.textadventures.co.uk/quest/guides/running_a_script_when_an_attribute_changes.html\">http://docs.textadventures.co.uk/quest/ ... anges.html</a><!-- m --> (the special 'changed' Script)<br/><br/>and then you use a (global) Turnscript Element to check if you and monster are in same room, and then to check what room you're both in, and to check what condition you're in, to determine what action(s)~event(s) (script~s) to do.<br/><br/>....<br/><br/>actually it may be better to do it all in the 'changedparent' Script... all you got to do would be to have the monster's room-assigning script(s) to occur first before the checking scripts:<br/><br/>you move<br/>the monster moves<br/>and then the checking<br/>you move<br/>the monster moves<br/>and then the checking<br/>you move<br/>the monster moves<br/>and then the checking<br/>etc<br/>etc<br/>etc",
      "PostDate": "2015-12-10T07:07:10+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "39433",
      "UserId": 0,
      "Username": "Pertex",
      "UserAvatar": "5940_1369854251.gif",
      "UserGravatar": "4cc1e52f99452e841ecf4cbee9eadde9",
      "EditableText": "Be careful with changedparent. The script is used in the Quest core so overwriting it could be dangerous",
      "EditableFormat": "bbcode",
      "HTML": "Be careful with changedparent. The script is used in the Quest core so overwriting it could be dangerous",
      "PostDate": "2015-12-10T07:21:42+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "39452",
      "UserId": 0,
      "Username": "HegemonKhan",
      "UserAvatar": null,
      "UserGravatar": "a96cf34d8d97c57de38f54ee22b1759b",
      "EditableText": "that's not good... I guess then we can use the Turnscript Element, but that'd take a bit more code work (your movement: saving the previous room and new room, then comparing them for whether you actually moved to a new room, and etc possible coding stuff needed), as the 'changedparent' does some of that for you.\n\nwow, I never realized I was overwritting the built-in code all this time with using 'changedparent' (in hindsight I'm stupid, laughs), well, I won't be using it any more now, as I may want the built-in stuff of it, and especially of course wouldn't want to wreck the game so it's unplayable, laughs.",
      "EditableFormat": "bbcode",
      "HTML": "that's not good... I guess then we can use the Turnscript Element, but that'd take a bit more code work (your movement: saving the previous room and new room, then comparing them for whether you actually moved to a new room, and etc possible coding stuff needed), as the 'changedparent' does some of that for you.<br/><br/>wow, I never realized I was overwritting the built-in code all this time with using 'changedparent' (in hindsight I'm stupid, laughs), well, I won't be using it any more now, as I may want the built-in stuff of it, and especially of course wouldn't want to wreck the game so it's unplayable, laughs.",
      "PostDate": "2015-12-10T18:46:58+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "39454",
      "UserId": 0,
      "Username": "The Pixie",
      "UserAvatar": null,
      "UserGravatar": "cfa37e927f96177bcf6053ae8f108f77",
      "EditableText": "Use the &quot;roomenter&quot; script on the game object (it even has a GUI, look on the Scripts tab).",
      "EditableFormat": "bbcode",
      "HTML": "Use the &quot;roomenter&quot; script on the game object (it even has a GUI, look on the Scripts tab).",
      "PostDate": "2015-12-10T19:04:08+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "39455",
      "UserId": 0,
      "Username": "HegemonKhan",
      "UserAvatar": null,
      "UserGravatar": "a96cf34d8d97c57de38f54ee22b1759b",
      "EditableText": "ah, is this a global 'on enter room', ie for all rooms you enter? I should learn more of the built-in stuff, laughs.\n\nThanks Pixie!",
      "EditableFormat": "bbcode",
      "HTML": "ah, is this a global 'on enter room', ie for all rooms you enter? I should learn more of the built-in stuff, laughs.<br/><br/>Thanks Pixie!",
      "PostDate": "2015-12-10T19:12:04+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "39456",
      "UserId": 0,
      "Username": "The Pixie",
      "UserAvatar": null,
      "UserGravatar": "cfa37e927f96177bcf6053ae8f108f77",
      "EditableText": "Yes it is. I think it appeared fairly recently, 5.5 I think. If you started using Quest before that, you could easily miss it. I did for quite a while.",
      "EditableFormat": "bbcode",
      "HTML": "Yes it is. I think it appeared fairly recently, 5.5 I think. If you started using Quest before that, you could easily miss it. I did for quite a while.",
      "PostDate": "2015-12-10T19:42:42+00:00",
      "LastEditDate": null
    }
  ]
}
