{
  "Topic": {
    "TopicId": "d9o8d2nsku2vgcrnhvlipg",
    "ForumId": "10",
    "Title": "Extra Doors, NPC Routines, Random NPCs and Manipulating Attributes - lots of silly questions.",
    "LastUpdated": "2017-04-27T10:10:26.701835Z",
    "ReplyCount": 0
  },
  "Posts": [
    {
      "PostId": "cb716fdf-cd99-4cd1-98b6-66cc956ade6b",
      "UserId": 303721,
      "Username": "Inherited Sin",
      "AvatarUrl": "https://secure.gravatar.com/avatar/5b05a693eeace1c3bcf945c43b72b5d5?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Hi there.  Total newbie with some questions, if anyone has the time...\r\n\r\nI'm looking at building a game in a haunted mansion/hotel, where you play a Ghost trying to figure out your own murder.  As I try to puzzle out the game design, several questions spring to mind:\r\n\r\nLayout: Can I put 2 doors on the same wall, so one large room leads to 2 smaller ones?  How do I put in stairs, and link to rooms that are on the 2nd floor?  Particularly in a hallway where there might be several doors to other rooms as well.\r\n\r\nTime: How do I set up a routine for non-player characters, so they show up in certain rooms at certain times, or perhaps show up randomly when not otherwise set to do so?  If I set my game in an old hotel, how do I have random guests from a pre-prepared list show up?\r\n\r\nAttributes: I'm trying to add an Attribute (Spiritus) to my Ghost, but can't seem to get the game to recognize it.  There are several things I'm trying to achieve with it:\r\n\r\n* Tie it to turns, so that every turn - or better every ~10 turns - it reduces by -1 because the Ghost is slowly fading away.  If it reaches 0, the game ends.\r\n\r\n* Certain activities, such as interactions with real world objects (like turning on a TV) will cost Spiritus, though some interactions (sucking elemental energy from an open fire) increase it.\r\n\r\n* I want the Ghost to be able to suck Spiritus from the living (I'll add a Corruption Attribute later when I've figured out a bit more).  I've posted my attempt to do this below.  I started by adding a Verb \"enervate\" to a non-player Character, then added it as an Attribute to my Ghost and the NPC - but I get a Syntax error:\r\n\r\nError running script: Error compiling expression 'HasAttribute(Spiritus, > 1)': Unknown object or variable 'Spiritus'\r\n\r\nHere is my code:\r\n\r\nmsg (\"You cannot rest until you know what happened to you.  And if that means feeding on the souls of sleepers, then so be it.\")\r\nSetTimeout (2) {\r\n  if (HasAttribute(Spiritus, > 1)) {\r\n    set (Audrey, Spiritus, - 1)\r\n    set (player, Spiritus, +1)\r\n    msg (\"Your target turns pale as you tap their life energy.\")\r\n  }\r\n  else if (HasAttribute(Spiritus, < 2)) {\r\n    set (Audrey, Spiritus, - 1)\r\n    set (player, Spiritus, + 1)\r\n    msg (\"You devour your target's soul in order to cling to the material world a bit longer.\")\r\n  }\r\n}\r\n\r\nMy guess is that I'm using: If Object has Attribute wrong, but I don't know.  Is there a better way to do what I'm trying to do?  Am I simply working in the wrong place on the tree?\r\n\r\nIf you want an Attribute to stop increasing once it reaches a certain number, how do you do that?  E.g: Mortals who lose Spiritus regain 1 per day of rest, but only back to what they started with.\r\n\r\nRandomizing: How do you randomize opposed checks between different Attributes, or add a \"dice\" score on top?  E.g: Ghost Willpower + 1d6 vs Reluctant Professor Willpower + 1d6?  I want to create an uncertain outcome, or encourage the Ghost to be clever and pick on someone with a lower Willpower.\r\n\r\nOK, this is quite needy for a first post so I'll wait and see now...",
      "EditableFormat": "markdown",
      "HTML": "<p>Hi there.  Total newbie with some questions, if anyone has the time...</p>\n<p>I'm looking at building a game in a haunted mansion/hotel, where you play a Ghost trying to figure out your own murder.  As I try to puzzle out the game design, several questions spring to mind:</p>\n<p>Layout: Can I put 2 doors on the same wall, so one large room leads to 2 smaller ones?  How do I put in stairs, and link to rooms that are on the 2nd floor?  Particularly in a hallway where there might be several doors to other rooms as well.</p>\n<p>Time: How do I set up a routine for non-player characters, so they show up in certain rooms at certain times, or perhaps show up randomly when not otherwise set to do so?  If I set my game in an old hotel, how do I have random guests from a pre-prepared list show up?</p>\n<p>Attributes: I'm trying to add an Attribute (Spiritus) to my Ghost, but can't seem to get the game to recognize it.  There are several things I'm trying to achieve with it:</p>\n<ul>\n<li>\n<p>Tie it to turns, so that every turn - or better every ~10 turns - it reduces by -1 because the Ghost is slowly fading away.  If it reaches 0, the game ends.</p>\n</li>\n<li>\n<p>Certain activities, such as interactions with real world objects (like turning on a TV) will cost Spiritus, though some interactions (sucking elemental energy from an open fire) increase it.</p>\n</li>\n<li>\n<p>I want the Ghost to be able to suck Spiritus from the living (I'll add a Corruption Attribute later when I've figured out a bit more).  I've posted my attempt to do this below.  I started by adding a Verb \"enervate\" to a non-player Character, then added it as an Attribute to my Ghost and the NPC - but I get a Syntax error:</p>\n</li>\n</ul>\n<p>Error running script: Error compiling expression 'HasAttribute(Spiritus, &gt; 1)': Unknown object or variable 'Spiritus'</p>\n<p>Here is my code:</p>\n<p>msg (\"You cannot rest until you know what happened to you.  And if that means feeding on the souls of sleepers, then so be it.\")<br>\nSetTimeout (2) {<br>\nif (HasAttribute(Spiritus, &gt; 1)) {<br>\nset (Audrey, Spiritus, - 1)<br>\nset (player, Spiritus, +1)<br>\nmsg (\"Your target turns pale as you tap their life energy.\")<br>\n}<br>\nelse if (HasAttribute(Spiritus, &lt; 2)) {<br>\nset (Audrey, Spiritus, - 1)<br>\nset (player, Spiritus, + 1)<br>\nmsg (\"You devour your target's soul in order to cling to the material world a bit longer.\")<br>\n}<br>\n}</p>\n<p>My guess is that I'm using: If Object has Attribute wrong, but I don't know.  Is there a better way to do what I'm trying to do?  Am I simply working in the wrong place on the tree?</p>\n<p>If you want an Attribute to stop increasing once it reaches a certain number, how do you do that?  E.g: Mortals who lose Spiritus regain 1 per day of rest, but only back to what they started with.</p>\n<p>Randomizing: How do you randomize opposed checks between different Attributes, or add a \"dice\" score on top?  E.g: Ghost Willpower + 1d6 vs Reluctant Professor Willpower + 1d6?  I want to create an uncertain outcome, or encourage the Ghost to be clever and pick on someone with a lower Willpower.</p>\n<p>OK, this is quite needy for a first post so I'll wait and see now...</p>\n\n",
      "PostDate": "2017-04-27T10:10:26.701835Z",
      "LastEditDate": null
    },
    {
      "PostId": "265e9d9a-6533-4074-800c-55d378c86b05",
      "UserId": 1346,
      "Username": "The Pixie",
      "AvatarUrl": "https://secure.gravatar.com/avatar/cfa37e927f96177bcf6053ae8f108f77?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Sounds like an interesting game...\r\n\r\n> Layout: Can I put 2 doors on the same wall, so one large room leads to 2 smaller ones? How do I put in stairs, and link to rooms that are on the 2nd floor? Particularly in a hallway where there might be several doors to other rooms as well.\r\n\r\nKind of, but as it all works on compass directions, you would have to have one east and one northeast, and make clear they were in the same wall in the description. Or break the hall into two parts and have a door east from the south end and a door east from the north end. The limitation is with the genre really.\r\n\r\n> Time: How do I set up a routine for non-player characters, so they show up in certain rooms at certain times, or perhaps show up randomly when not otherwise set to do so? If I set my game in an old hotel, how do I have random guests from a pre-prepared list show up?\r\n\r\nThis will be quite involved, but certainly doable. The simplest way would be with a turn script, set up to count turns (the last but one part of the tutorial says how to do that), and then in the turn script, have something happen at specific turns. If it is turn 10, guess arrives at reception. If turn 12 guess goes up stairs, and so on.\r\n\r\n> Attributes: I'm trying to add an Attribute (Spiritus) to my Ghost, but can't seem to get the game to recognize it. There are several things I'm trying to achieve with it:\r\n\r\n> Error running script: Error compiling expression 'HasAttribute(Spiritus, > 1)': Unknown object or variable 'Spiritus'\r\n\r\nThe second line in your code is wrong, should be\r\n```\r\nif (Audrey.Spiritus > 1) {\r\n```\r\nAlso, the line that starts \"else\", delete everything apart from the \"else\" at the start and the \"{\" at the end (if the attribute is not over 1 then it must be below 2, so that bit is not necessaryu as well as wrong).\r\n\r\n> If you want an Attribute to stop increasing once it reaches a certain number, how do you do that? E.g: Mortals who lose Spiritus regain 1 per day of rest, but only back to what they started with.\r\n\r\nDo the addition, then test if it is greater and set to the original if so.\r\n```\r\nAudrey.Spiritus = Audrey.Spiritus + 1\r\nif (Audrey.Spiritus > 10) {\r\n  Audrey.Spiritus = 10\r\n}\r\n```\r\n\r\n> Randomizing: How do you randomize opposed checks between different Attributes, or add a \"dice\" score on top? E.g: Ghost Willpower + 1d6 vs Reluctant Professor Willpower + 1d6? I want to create an uncertain outcome, or encourage the Ghost to be clever and pick on someone with a lower Willpower.\r\n\r\nI would get a total for each person, and then compare.\r\n```\r\ntotal1 = player.Willpower + DiceRoll(\"1d6\")\r\ntotal2 = Reluctant Professor.Willpower + DiceRoll(\"1d6\")\r\nif (total1 > total2) {\r\n  // do stuff",
      "EditableFormat": "markdown",
      "HTML": "<p>Sounds like an interesting game...</p>\n<blockquote>\n<p>Layout: Can I put 2 doors on the same wall, so one large room leads to 2 smaller ones? How do I put in stairs, and link to rooms that are on the 2nd floor? Particularly in a hallway where there might be several doors to other rooms as well.</p>\n</blockquote>\n<p>Kind of, but as it all works on compass directions, you would have to have one east and one northeast, and make clear they were in the same wall in the description. Or break the hall into two parts and have a door east from the south end and a door east from the north end. The limitation is with the genre really.</p>\n<blockquote>\n<p>Time: How do I set up a routine for non-player characters, so they show up in certain rooms at certain times, or perhaps show up randomly when not otherwise set to do so? If I set my game in an old hotel, how do I have random guests from a pre-prepared list show up?</p>\n</blockquote>\n<p>This will be quite involved, but certainly doable. The simplest way would be with a turn script, set up to count turns (the last but one part of the tutorial says how to do that), and then in the turn script, have something happen at specific turns. If it is turn 10, guess arrives at reception. If turn 12 guess goes up stairs, and so on.</p>\n<blockquote>\n<p>Attributes: I'm trying to add an Attribute (Spiritus) to my Ghost, but can't seem to get the game to recognize it. There are several things I'm trying to achieve with it:</p>\n</blockquote>\n<blockquote>\n<p>Error running script: Error compiling expression 'HasAttribute(Spiritus, &gt; 1)': Unknown object or variable 'Spiritus'</p>\n</blockquote>\n<p>The second line in your code is wrong, should be</p>\n<pre><code>if (Audrey.Spiritus &gt; 1) {\n</code></pre>\n<p>Also, the line that starts \"else\", delete everything apart from the \"else\" at the start and the \"{\" at the end (if the attribute is not over 1 then it must be below 2, so that bit is not necessaryu as well as wrong).</p>\n<blockquote>\n<p>If you want an Attribute to stop increasing once it reaches a certain number, how do you do that? E.g: Mortals who lose Spiritus regain 1 per day of rest, but only back to what they started with.</p>\n</blockquote>\n<p>Do the addition, then test if it is greater and set to the original if so.</p>\n<pre><code>Audrey.Spiritus = Audrey.Spiritus + 1\nif (Audrey.Spiritus &gt; 10) {\n  Audrey.Spiritus = 10\n}\n</code></pre>\n<blockquote>\n<p>Randomizing: How do you randomize opposed checks between different Attributes, or add a \"dice\" score on top? E.g: Ghost Willpower + 1d6 vs Reluctant Professor Willpower + 1d6? I want to create an uncertain outcome, or encourage the Ghost to be clever and pick on someone with a lower Willpower.</p>\n</blockquote>\n<p>I would get a total for each person, and then compare.</p>\n<pre><code>total1 = player.Willpower + DiceRoll(\"1d6\")\ntotal2 = Reluctant Professor.Willpower + DiceRoll(\"1d6\")\nif (total1 &gt; total2) {\n  // do stuff\n</code></pre>\n\n",
      "PostDate": "2017-04-27T11:14:59.9127704Z",
      "LastEditDate": "2017-04-27T11:15:42.6677193Z"
    },
    {
      "PostId": "3c613a51-cb0c-4a5d-a083-f5dcc0373d37",
      "UserId": 1346,
      "Username": "The Pixie",
      "AvatarUrl": "https://secure.gravatar.com/avatar/cfa37e927f96177bcf6053ae8f108f77?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "If you want an advanced time tracking and event system, and you are using the desktop version, you might want to look at this library:\r\nhttps://github.com/ThePix/quest/wiki/Clock-Library",
      "EditableFormat": "markdown",
      "HTML": "<p>If you want an advanced time tracking and event system, and you are using the desktop version, you might want to look at this library:<br>\nhttps://github.com/ThePix/quest/wiki/Clock-Library</p>\n\n",
      "PostDate": "2017-04-27T11:32:12.1652984Z",
      "LastEditDate": null
    },
    {
      "PostId": "0617275b-9b35-48b6-bf63-eec0a60cfb72",
      "UserId": 267336,
      "Username": "jmnevil54",
      "AvatarUrl": "https://secure.gravatar.com/avatar/5d73d7ec1dbe20a5cb46f02a6d53f187?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "So, are you talking ghost can go through walls, or doors that show up but you can't go through them. 'Cause that would be pretty sweet either way.\r\nI think you can set an attribute to an attribute just by typing it.\r\nplayer.dead = true\r\ndead.true = something\r\n\r\nAlso, is your game up? I'd love to play it!",
      "EditableFormat": "markdown",
      "HTML": "<p>So, are you talking ghost can go through walls, or doors that show up but you can't go through them. 'Cause that would be pretty sweet either way.<br>\nI think you can set an attribute to an attribute just by typing it.<br>\nplayer.dead = true<br>\ndead.true = something</p>\n<p>Also, is your game up? I'd love to play it!</p>\n\n",
      "PostDate": "2017-04-27T20:15:14.6767471Z",
      "LastEditDate": null
    },
    {
      "PostId": "9755a8da-75a0-46ff-b6e2-d95047fbe493",
      "UserId": 260569,
      "Username": "DarkLizerd",
      "AvatarUrl": "http://i.imgur.com/BXvaaIub.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Layout: Can I put 2 doors on the same wall, so one large room leads to 2 smaller ones? How do I put in stairs, and link to rooms that are on the 2nd floor? Particularly in a hallway where there might be several doors to other rooms as well.\r\n\r\nActually, you can. You can have a single hallway with several doors on either side, that lead back to the central hallway.\r\nJust make the doors Non-directional exits, then describe the doors in the room description. And have the exit from the room one way back to the hall way.\r\nLike this... (if I got this right)\r\n```<asl version=\"550\">\r\n  <include ref=\"English.aslx\" />\r\n  <include ref=\"Core.aslx\" />\r\n  <game name=\"test\">\r\n    <gameid>31022ab7-4bf3-43ad-8002-a106c94bf456</gameid>\r\n    <version>1.0</version>\r\n    <firstpublished>2017</firstpublished>\r\n    <start type=\"script\">\r\n      player.fat = 0\r\n    </start>\r\n  </game>\r\n  <object name=\"room\">\r\n    <inherit name=\"editor_room\" />\r\n    <description>On the west wall, there are 3 doors, a red door to the north, a blue door in the middle, and a green door south of that.</description>\r\n    <beforeenter type=\"script\"><![CDATA[\r\n      if (player.fat<-2) {\r\n        msg (\"looking good!\")\r\n      }\r\n    ]]></beforeenter>\r\n    <object name=\"player\">\r\n      <inherit name=\"editor_object\" />\r\n      <inherit name=\"editor_player\" />\r\n      <statusattributes type=\"stringdictionary\" />\r\n    </object>\r\n    <exit name=\"red door\" alias=\"red door\" to=\"A1\" />\r\n    <exit name=\"blue door\" alias=\"blue door\" to=\"A2\" />\r\n    <exit name=\"green door\" alias=\"green door\" to=\"A3\" />\r\n  </object>\r\n  <object name=\"A1\">\r\n    <inherit name=\"editor_room\" />\r\n    <exit alias=\"east\" to=\"room\">\r\n      <inherit name=\"eastdirection\" />\r\n    </exit>\r\n  </object>\r\n  <object name=\"A2\">\r\n    <inherit name=\"editor_room\" />\r\n    <exit alias=\"east\" to=\"room\">\r\n      <inherit name=\"eastdirection\" />\r\n    </exit>\r\n  </object>\r\n  <object name=\"A3\">\r\n    <inherit name=\"editor_room\" />\r\n    <exit alias=\"east\" to=\"room\">\r\n      <inherit name=\"eastdirection\" />\r\n    </exit>\r\n  </object>\r\n</asl>\r\n```\r\n",
      "EditableFormat": "markdown",
      "HTML": "<p>Layout: Can I put 2 doors on the same wall, so one large room leads to 2 smaller ones? How do I put in stairs, and link to rooms that are on the 2nd floor? Particularly in a hallway where there might be several doors to other rooms as well.</p>\n<p>Actually, you can. You can have a single hallway with several doors on either side, that lead back to the central hallway.<br>\nJust make the doors Non-directional exits, then describe the doors in the room description. And have the exit from the room one way back to the hall way.<br>\nLike this... (if I got this right)</p>\n<pre><code>  &lt;include ref=\"English.aslx\" /&gt;\n  &lt;include ref=\"Core.aslx\" /&gt;\n  &lt;game name=\"test\"&gt;\n    &lt;gameid&gt;31022ab7-4bf3-43ad-8002-a106c94bf456&lt;/gameid&gt;\n    &lt;version&gt;1.0&lt;/version&gt;\n    &lt;firstpublished&gt;2017&lt;/firstpublished&gt;\n    &lt;start type=\"script\"&gt;\n      player.fat = 0\n    &lt;/start&gt;\n  &lt;/game&gt;\n  &lt;object name=\"room\"&gt;\n    &lt;inherit name=\"editor_room\" /&gt;\n    &lt;description&gt;On the west wall, there are 3 doors, a red door to the north, a blue door in the middle, and a green door south of that.&lt;/description&gt;\n    &lt;beforeenter type=\"script\"&gt;&lt;![CDATA[\n      if (player.fat&lt;-2) {\n        msg (\"looking good!\")\n      }\n    ]]&gt;&lt;/beforeenter&gt;\n    &lt;object name=\"player\"&gt;\n      &lt;inherit name=\"editor_object\" /&gt;\n      &lt;inherit name=\"editor_player\" /&gt;\n      &lt;statusattributes type=\"stringdictionary\" /&gt;\n    &lt;/object&gt;\n    &lt;exit name=\"red door\" alias=\"red door\" to=\"A1\" /&gt;\n    &lt;exit name=\"blue door\" alias=\"blue door\" to=\"A2\" /&gt;\n    &lt;exit name=\"green door\" alias=\"green door\" to=\"A3\" /&gt;\n  &lt;/object&gt;\n  &lt;object name=\"A1\"&gt;\n    &lt;inherit name=\"editor_room\" /&gt;\n    &lt;exit alias=\"east\" to=\"room\"&gt;\n      &lt;inherit name=\"eastdirection\" /&gt;\n    &lt;/exit&gt;\n  &lt;/object&gt;\n  &lt;object name=\"A2\"&gt;\n    &lt;inherit name=\"editor_room\" /&gt;\n    &lt;exit alias=\"east\" to=\"room\"&gt;\n      &lt;inherit name=\"eastdirection\" /&gt;\n    &lt;/exit&gt;\n  &lt;/object&gt;\n  &lt;object name=\"A3\"&gt;\n    &lt;inherit name=\"editor_room\" /&gt;\n    &lt;exit alias=\"east\" to=\"room\"&gt;\n      &lt;inherit name=\"eastdirection\" /&gt;\n    &lt;/exit&gt;\n  &lt;/object&gt;\n&lt;/asl&gt;\n</code></pre>\n\n",
      "PostDate": "2017-04-28T06:14:09.9865446Z",
      "LastEditDate": null
    },
    {
      "PostId": "42320fb4-bb20-4eef-a63e-8ec62eea4a08",
      "UserId": 260569,
      "Username": "DarkLizerd",
      "AvatarUrl": "http://i.imgur.com/BXvaaIub.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "If different NPCs have different Spiritus values then do this:\r\nAudrey.Spiritus = Audrey.Spiritus + 1\r\nif (Audrey.Spiritus > Audrey.Spiritus.Maxinums) {\r\n  Audrey.Spiritus = Audrey.Spiritus.Maxinums\r\n}\r\n\r\nSam could have 15, and Joe could be 8...\r\nAltho, I'm sure you could just call a function and pass the NPC's name to it and \"heal\" each player that way once per day...\r\n\r\nIf you want an Attribute to stop increasing once it reaches a certain number, how do you do that? E.g: Mortals who lose Spiritus regain 1 per day of rest, but only back to what they started with.\r\nDo a check on the ghost just like the NPC healing...\r\nif (player.Spiritus > player.Spiritus.Maxinums) {\r\n  player.Spiritus = player.Spiritus.Maxinums\r\nmsg(\"Try as you may, you do not feel any better after doing this.\")\r\n}\r\nYou could also have a decreasing maximum as well.\r\nEven though you can suck the life out of the NPCs or objects, each day, your maximum decreases so that there is a time where you \"die\" anyway... \r\nIE: Day 1 after you died, your maximum is 20\r\nDay 2: it is 19.\r\nDay 2: 18\r\nDay 10: 10\r\nday 19: 1\r\nday 20: there is nothing you can do to sustain your after life and you fade away...\r\n\r\n\r\n",
      "EditableFormat": "markdown",
      "HTML": "<p>If different NPCs have different Spiritus values then do this:<br>\nAudrey.Spiritus = Audrey.Spiritus + 1<br>\nif (Audrey.Spiritus &gt; Audrey.Spiritus.Maxinums) {<br>\nAudrey.Spiritus = Audrey.Spiritus.Maxinums<br>\n}</p>\n<p>Sam could have 15, and Joe could be 8...<br>\nAltho, I'm sure you could just call a function and pass the NPC's name to it and \"heal\" each player that way once per day...</p>\n<p>If you want an Attribute to stop increasing once it reaches a certain number, how do you do that? E.g: Mortals who lose Spiritus regain 1 per day of rest, but only back to what they started with.<br>\nDo a check on the ghost just like the NPC healing...<br>\nif (player.Spiritus &gt; player.Spiritus.Maxinums) {<br>\nplayer.Spiritus = player.Spiritus.Maxinums<br>\nmsg(\"Try as you may, you do not feel any better after doing this.\")<br>\n}<br>\nYou could also have a decreasing maximum as well.<br>\nEven though you can suck the life out of the NPCs or objects, each day, your maximum decreases so that there is a time where you \"die\" anyway...<br>\nIE: Day 1 after you died, your maximum is 20<br>\nDay 2: it is 19.<br>\nDay 2: 18<br>\nDay 10: 10<br>\nday 19: 1<br>\nday 20: there is nothing you can do to sustain your after life and you fade away...</p>\n\n",
      "PostDate": "2017-04-28T06:20:50.5898775Z",
      "LastEditDate": "2017-04-28T06:31:17.0790385Z"
    },
    {
      "PostId": "873f4f8b-0d80-41e8-bc3c-e9662264c1dc",
      "UserId": 260569,
      "Username": "DarkLizerd",
      "AvatarUrl": "http://i.imgur.com/BXvaaIub.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "set (Audrey, Spiritus, - 1)\r\nset (player, Spiritus, +1)\r\n\r\nI think this will set the value, not increase or decrease it...\r\nI think you want:\r\nDecreaseObjectCounter(Audrey, \"Spiritus\")\r\nIncreaseObjectCounter (player, \"Spiritus\")\r\n\r\nor use simple math:\r\nAudrey.Spiritus=Audrey.Spiritus-1\r\nplayer.Spiritus=player.Spiritus+1\r\n",
      "EditableFormat": "markdown",
      "HTML": "<p>set (Audrey, Spiritus, - 1)<br>\nset (player, Spiritus, +1)</p>\n<p>I think this will set the value, not increase or decrease it...<br>\nI think you want:<br>\nDecreaseObjectCounter(Audrey, \"Spiritus\")<br>\nIncreaseObjectCounter (player, \"Spiritus\")</p>\n<p>or use simple math:<br>\nAudrey.Spiritus=Audrey.Spiritus-1<br>\nplayer.Spiritus=player.Spiritus+1</p>\n\n",
      "PostDate": "2017-04-28T06:39:16.5732162Z",
      "LastEditDate": null
    },
    {
      "PostId": "8bfe62cb-42f0-492d-9a1d-f7f12ff4b7bd",
      "UserId": 303721,
      "Username": "Inherited Sin",
      "AvatarUrl": "https://secure.gravatar.com/avatar/5b05a693eeace1c3bcf945c43b72b5d5?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Hello Everyone\r\n\r\nThanks for all the responses,  I'm slowly figuring out bits and pieces but I'm currently a long way out of my depth!\r\n\r\nPixie: I tried this...\r\n\r\nmsg (\"You cannot rest until you know what happened to you.  And if that means feeding on the souls of sleepers, then so be it.\")\r\nSetTimeout (2) {\r\n  if (Audrey.Spiritus > 1) {\r\n  set (Audrey.Spiritus - 1)\r\n  set (player.Spiritus + 1)\r\nmsg (\"Your target turns pale as you tap their life energy.\")\r\n}\r\nelse if {\r\nset (Audrey.Spiritus - 1)\r\nset (player.Spiritus + 1)\r\nmsg (\"You devour your target's soul in order to cling to the material world a bit longer.\")\r\n\t}\r\n}\r\n\r\n... and got this:\r\n\r\nError running script: Expected 3 parameter(s) in script 'set (Audrey.Spiritus - 1)'  I got the same error trying this instead...\r\n\r\nmsg (\"You cannot rest until you know what happened to you.  And if that means feeding on the souls of sleepers, then so be it.\")\r\nSetTimeout (2) {\r\n  set (Audrey.Spiritus - 1)\r\n  set (player.Spiritus + 1)\r\n  if (Audrey.Spiritus > 1) {\r\n    msg (\"Your target turns pale as you tap their life energy.\")\r\n  }\r\n  else if (\"You devour your target's soul in order to cling to the material world a bit longer.\") \r\n}\r\n\r\nWhat am I doing wrong?  Basically I want the Attribute exchange to occur regardless, but if this reduces the NPC to 0 they're dead.  So underneath that last message I'll have to figure out how to define a \"Dead\" flag that stops dialogue with poor Audrey and changes her description to a dessicated corpse.  I also noticed the Status window in the game didn't dynamically update the Spiritus Attribute I put in it either.\r\n\r\nThe thought occurred that looping the Spiritus drain so it kept retrying every 5 seconds until either the NPC's Spiritus hit 0 or the player typed \"stop eating\" would be cool; but I clearly need to learn more of the basics first!\r\n\r\njmnevil54: Alas I've only really just started, and never done coding before so my game won't be up for a long while.  The main hills I seem to need to climb are setting up and manipulating custom Attributes, setting up turns and tying Attribute gain/loss to them, and finally tying events to turns.  The tutorials I've looked at so far are really good for a lot of the other things like dynamic dialogue, but I can't seem to get a handle on connecting components together in the GUI.  Great point about the walls: perhaps the Ghost should be able to go in any direction whether there's a door in the wall or not!\r\n\r\nDarkLizerd: Thanks for the code for different NPC Attributes, though I haven't figured out where I need to attach it to yet.  I really am a total noob!  I like the idea of extra hallway  doors for character, though my brain is in danger of exploding from all the new stuff I'm trying to fit into it...",
      "EditableFormat": "markdown",
      "HTML": "<p>Hello Everyone</p>\n<p>Thanks for all the responses,  I'm slowly figuring out bits and pieces but I'm currently a long way out of my depth!</p>\n<p>Pixie: I tried this...</p>\n<p>msg (\"You cannot rest until you know what happened to you.  And if that means feeding on the souls of sleepers, then so be it.\")<br>\nSetTimeout (2) {<br>\nif (Audrey.Spiritus &gt; 1) {<br>\nset (Audrey.Spiritus - 1)<br>\nset (player.Spiritus + 1)<br>\nmsg (\"Your target turns pale as you tap their life energy.\")<br>\n}<br>\nelse if {<br>\nset (Audrey.Spiritus - 1)<br>\nset (player.Spiritus + 1)<br>\nmsg (\"You devour your target's soul in order to cling to the material world a bit longer.\")<br>\n}<br>\n}</p>\n<p>... and got this:</p>\n<p>Error running script: Expected 3 parameter(s) in script 'set (Audrey.Spiritus - 1)'  I got the same error trying this instead...</p>\n<p>msg (\"You cannot rest until you know what happened to you.  And if that means feeding on the souls of sleepers, then so be it.\")<br>\nSetTimeout (2) {<br>\nset (Audrey.Spiritus - 1)<br>\nset (player.Spiritus + 1)<br>\nif (Audrey.Spiritus &gt; 1) {<br>\nmsg (\"Your target turns pale as you tap their life energy.\")<br>\n}<br>\nelse if (\"You devour your target's soul in order to cling to the material world a bit longer.\")<br>\n}</p>\n<p>What am I doing wrong?  Basically I want the Attribute exchange to occur regardless, but if this reduces the NPC to 0 they're dead.  So underneath that last message I'll have to figure out how to define a \"Dead\" flag that stops dialogue with poor Audrey and changes her description to a dessicated corpse.  I also noticed the Status window in the game didn't dynamically update the Spiritus Attribute I put in it either.</p>\n<p>The thought occurred that looping the Spiritus drain so it kept retrying every 5 seconds until either the NPC's Spiritus hit 0 or the player typed \"stop eating\" would be cool; but I clearly need to learn more of the basics first!</p>\n<p>jmnevil54: Alas I've only really just started, and never done coding before so my game won't be up for a long while.  The main hills I seem to need to climb are setting up and manipulating custom Attributes, setting up turns and tying Attribute gain/loss to them, and finally tying events to turns.  The tutorials I've looked at so far are really good for a lot of the other things like dynamic dialogue, but I can't seem to get a handle on connecting components together in the GUI.  Great point about the walls: perhaps the Ghost should be able to go in any direction whether there's a door in the wall or not!</p>\n<p>DarkLizerd: Thanks for the code for different NPC Attributes, though I haven't figured out where I need to attach it to yet.  I really am a total noob!  I like the idea of extra hallway  doors for character, though my brain is in danger of exploding from all the new stuff I'm trying to fit into it...</p>\n\n",
      "PostDate": "2017-04-28T09:19:17.1626642Z",
      "LastEditDate": null
    },
    {
      "PostId": "e5f4d7cb-5ec2-4801-aa20-4f73708b97ed",
      "UserId": 303721,
      "Username": "Inherited Sin",
      "AvatarUrl": "https://secure.gravatar.com/avatar/5b05a693eeace1c3bcf945c43b72b5d5?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Hi DarkLizerd - wrote my reply above before seeing your last one, will try what you suggested - thanks!",
      "EditableFormat": "markdown",
      "HTML": "<p>Hi DarkLizerd - wrote my reply above before seeing your last one, will try what you suggested - thanks!</p>\n\n",
      "PostDate": "2017-04-28T09:21:59.6059161Z",
      "LastEditDate": null
    },
    {
      "PostId": "f1a47ce0-089f-47b3-a86a-c793a415dc84",
      "UserId": 303721,
      "Username": "Inherited Sin",
      "AvatarUrl": "https://secure.gravatar.com/avatar/5b05a693eeace1c3bcf945c43b72b5d5?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Hello Again\r\n\r\nOK, progress at last!  After a couple of errors when Audrey got reduced to 1 Spiritus, I managed to finally figure it out when I got this one:\r\n\r\nError running script: Error compiling expression '\"You devour your target's soul in order to cling to the material world a bit longer.\"': RootExpressionElement: Cannot convert type 'String' to expression result of 'Boolean':\r\n\r\nHere is what finally worked:\r\n\r\nDecreaseObjectCounter (Audrey, \"Spiritus\")\r\nIncreaseObjectCounter (player, \"Spiritus\")\r\nif (Audrey.Spiritus > 0) {\r\nmsg (\"Your target turns pale as you tap their life energy.\")\r\n}\r\nelse if (Audrey.Spiritus = 0) {\r\nmsg (\"You devour your target's soul in order to cling to the material world a bit longer.\")\r\n}\r\n\r\nThe Status Attribute for Spiritus updated OK as well.   So now I need to set a flag for \"Dead\", and somehow define it to show a different description (\"There is a dead person on the floor\"), with no dialogue options and perhaps 1-2 inventory items.  It would also be nice to find a way to make the above script run continuously until commanded to stop instead of having to run it over and over.\r\n\r\nPhew, I'm beginning to appreciate how much detective work there is in this stuff when you're not a programmer!",
      "EditableFormat": "markdown",
      "HTML": "<p>Hello Again</p>\n<p>OK, progress at last!  After a couple of errors when Audrey got reduced to 1 Spiritus, I managed to finally figure it out when I got this one:</p>\n<p>Error running script: Error compiling expression '\"You devour your target's soul in order to cling to the material world a bit longer.\"': RootExpressionElement: Cannot convert type 'String' to expression result of 'Boolean':</p>\n<p>Here is what finally worked:</p>\n<p>DecreaseObjectCounter (Audrey, \"Spiritus\")<br>\nIncreaseObjectCounter (player, \"Spiritus\")<br>\nif (Audrey.Spiritus &gt; 0) {<br>\nmsg (\"Your target turns pale as you tap their life energy.\")<br>\n}<br>\nelse if (Audrey.Spiritus = 0) {<br>\nmsg (\"You devour your target's soul in order to cling to the material world a bit longer.\")<br>\n}</p>\n<p>The Status Attribute for Spiritus updated OK as well.   So now I need to set a flag for \"Dead\", and somehow define it to show a different description (\"There is a dead person on the floor\"), with no dialogue options and perhaps 1-2 inventory items.  It would also be nice to find a way to make the above script run continuously until commanded to stop instead of having to run it over and over.</p>\n<p>Phew, I'm beginning to appreciate how much detective work there is in this stuff when you're not a programmer!</p>\n\n",
      "PostDate": "2017-04-28T10:53:51.4637626Z",
      "LastEditDate": null
    },
    {
      "PostId": "fc61f043-b370-45f8-bae2-3ec430a3e201",
      "UserId": 924,
      "Username": "Pertex",
      "AvatarUrl": "https://secure.gravatar.com/avatar/4cc1e52f99452e841ecf4cbee9eadde9?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "```\r\nset (Audrey.Spiritus - 1)\r\n```\r\n\r\nThe set function requires 3 parameters, you only have one. You can do this\r\n\r\n```\r\nset (Audrey, \"Spiritus\", Audrey.Spiritus - 1)\r\n```\r\nThe first parameter is the object you want to change, the second parameter is the attribute you want to change and the third parameter is the new value you want to set. If you are using code view you can also do \r\n\r\n```\r\nAudrey.Spiritus = Audrey.Spiritus -1\r\n```\r\nor \r\n\r\n```\r\nDecreaseObjectCounter (Audrey, \"Spiritus \")\r\n```\r\nDecreaseObjectCounter  decreases the value by one.\r\n",
      "EditableFormat": "markdown",
      "HTML": "<pre><code>set (Audrey.Spiritus - 1)\n</code></pre>\n<p>The set function requires 3 parameters, you only have one. You can do this</p>\n<pre><code>set (Audrey, \"Spiritus\", Audrey.Spiritus - 1)\n</code></pre>\n<p>The first parameter is the object you want to change, the second parameter is the attribute you want to change and the third parameter is the new value you want to set. If you are using code view you can also do</p>\n<pre><code>Audrey.Spiritus = Audrey.Spiritus -1\n</code></pre>\n<p>or</p>\n<pre><code>DecreaseObjectCounter (Audrey, \"Spiritus \")\n</code></pre>\n<p>DecreaseObjectCounter  decreases the value by one.</p>\n\n",
      "PostDate": "2017-04-28T11:03:00.0153412Z",
      "LastEditDate": "2017-04-28T11:05:48.4837586Z"
    },
    {
      "PostId": "42ea1e79-1997-4c41-82d5-2fe40c536ce4",
      "UserId": 303721,
      "Username": "Inherited Sin",
      "AvatarUrl": "https://secure.gravatar.com/avatar/5b05a693eeace1c3bcf945c43b72b5d5?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Thanks Pertex, that's helping me to wrap my tiny brain around it a bit better...",
      "EditableFormat": "markdown",
      "HTML": "<p>Thanks Pertex, that's helping me to wrap my tiny brain around it a bit better...</p>\n\n",
      "PostDate": "2017-04-28T11:12:26.2457308Z",
      "LastEditDate": null
    },
    {
      "PostId": "7403cb3c-bc3f-410c-998c-5c767b198ff4",
      "UserId": 247325,
      "Username": "hegemonkhan",
      "AvatarUrl": "https://secure.gravatar.com/avatar/a96cf34d8d97c57de38f54ee22b1759b?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "to add to Pertex' Post:\r\n\r\nwhen you use such Functions (Set, Do, HasAttribute, GetAttribute, etc), they require these Parameters/Arguments, for example, using 'set' Function:\r\n\r\nset (NAME_OF_OBJECT, \"NAME_OF_ATTRIBUTE\", VALUE)\r\n\r\n'NAME_OF_OBJECT' is the Object's name, which is a reference/pointer to that Object, is NEVER enclosed within double quotes. Anything without double quotes is an Object's name, except for the numbers and the special Values reserved for the Boolean Attribute: true/false, as these do NOT have double quotes, but are not mistaken for an Object's name (and no Object can have/be-given the name of 'true' or false', obviously)\r\n\r\n'NAME_OF_ATTRIBUTE\" is the Attribute's name, which when used as an Argument in a Function, must be enclosed within double quotes, as it is taken as a String by the Argument's Parameter. Anything in double quotes is a String Value to quest.\r\n\r\n'VALUE' is your Value, which can be whatever data/Attribute type, so if the Value is a String, then it needs to be encased in double quotes.\r\n\r\nfor examples:\r\n\r\nset (player, \"strength_integer_attribute\", 100)\r\nset (player, \"strength_string_attribute\", \"strong\")\r\nset (player, \"right_hand_object_attribute\", sword) // 'sword' is an already existing/created Object in our pretend game\r\n\r\nstring_VARIABLE = GetString (player, \"strength_string_attribute\")\r\n\r\nif (GetString (player, \"strength_string_attribute\") = \"strong\") { /* blah scripting */ } else if (GetString (player, \"strength_string_attribute\") = \"weak\") { /* blah scripting */ } else { /* blah scripting */ }\r\n\r\nif (HasString (player, \"strength_string_attribute\")) { /* blah scripting */ } else { /* blah scripting */ }\r\n\r\n---------\r\n\r\nhere's a guide on using Attributes and the 'if' Script, the 'bread and butter' of scripting/coding/game-making:\r\n\r\nhttp://textadventures.co.uk/forum/samples/topic/5559/attributes-and-if-script-guide-by-hk",
      "EditableFormat": "markdown",
      "HTML": "<p>to add to Pertex' Post:</p>\n<p>when you use such Functions (Set, Do, HasAttribute, GetAttribute, etc), they require these Parameters/Arguments, for example, using 'set' Function:</p>\n<p>set (NAME_OF_OBJECT, \"NAME_OF_ATTRIBUTE\", VALUE)</p>\n<p>'NAME_OF_OBJECT' is the Object's name, which is a reference/pointer to that Object, is NEVER enclosed within double quotes. Anything without double quotes is an Object's name, except for the numbers and the special Values reserved for the Boolean Attribute: true/false, as these do NOT have double quotes, but are not mistaken for an Object's name (and no Object can have/be-given the name of 'true' or false', obviously)</p>\n<p>'NAME_OF_ATTRIBUTE\" is the Attribute's name, which when used as an Argument in a Function, must be enclosed within double quotes, as it is taken as a String by the Argument's Parameter. Anything in double quotes is a String Value to quest.</p>\n<p>'VALUE' is your Value, which can be whatever data/Attribute type, so if the Value is a String, then it needs to be encased in double quotes.</p>\n<p>for examples:</p>\n<p>set (player, \"strength_integer_attribute\", 100)<br>\nset (player, \"strength_string_attribute\", \"strong\")<br>\nset (player, \"right_hand_object_attribute\", sword) // 'sword' is an already existing/created Object in our pretend game</p>\n<p>string_VARIABLE = GetString (player, \"strength_string_attribute\")</p>\n<p>if (GetString (player, \"strength_string_attribute\") = \"strong\") { /* blah scripting <em>/ } else if (GetString (player, \"strength_string_attribute\") = \"weak\") { /</em> blah scripting <em>/ } else { /</em> blah scripting */ }</p>\n<p>if (HasString (player, \"strength_string_attribute\")) { /* blah scripting <em>/ } else { /</em> blah scripting */ }</p>\n<hr>\n<p>here's a guide on using Attributes and the 'if' Script, the 'bread and butter' of scripting/coding/game-making:</p>\n<p>http://textadventures.co.uk/forum/samples/topic/5559/attributes-and-if-script-guide-by-hk</p>\n\n",
      "PostDate": "2017-04-28T23:28:11.4700908Z",
      "LastEditDate": null
    }
  ]
}
