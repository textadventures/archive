{
  "Topic": {
    "TopicId": "3908",
    "ForumId": "10",
    "Title": "Referring to objects, rooms or npcs?",
    "LastUpdated": "2013-09-13T08:17:05+01:00",
    "ReplyCount": 6
  },
  "Posts": [
    {
      "PostId": "26188",
      "UserId": 0,
      "Username": "porunopal",
      "UserAvatar": null,
      "UserGravatar": "e88edcefb7565cb1812009907ead4846",
      "EditableText": "Hey guys, this application is brilliant and so is the wiki, it is very comprehensive, but it lacks one thing: documentation on referring to other objects.\n\nLet me explain:\n\nI'm no newbie to programming, and I have a very very good game going so far, additionally, I'm building in my own battle system that is working very well except for a few things.\n[b:1mz6gvx4]\nFirst of all[/b:1mz6gvx4], I want to know how in the hell you refer to another object. I know you can go (and this is just an example) set var game.randomvariable = player.name\nSee that, you can refer to the game and the player nice and easy, however when I want to refer to another npc or the object I'm actually working on, it doesn't work.\n\nI've tried self.name, object.name, me.name I've even tried making a variable that stores the name of the object and then tries to sub it in to no avail, I really need this, this issue is actually one of the things that is blocking me from making complete functions to reduce the workload.\n[b:1mz6gvx4]\nThe second[/b:1mz6gvx4] issue is my introduction. It uses a menu to set certain settings, it runs before the first room initialises its &quot;this is what  is inside me&quot; script. However, I can't get the darn thing to wait until the user puts an input in before actually moving ahead, as soon as the menu is made it would automatically load the room description.\n\nI put a wait command in but the thing is I don't want that because the player can skip the menu, and if I'm not careful it will keep the menu waiting for an input, so later on down the track when another opens they can't put their input in until they do it to the previous one!\n\n[b:1mz6gvx4]\nThirdly.[/b:1mz6gvx4], warping to the current room or refreshing the rooms contents has been a piece of foshizzle. This comes down to the inability to refer to the current room name. I have read another post with this same issue, the purpose like mine is to refresh the room description, which involves going to another room, e.g. a battle dungeon, but how the hell do you get back to the previous room. Do you store the name of the room in a variable? If so, how do you refer to the current room then implement the variable in to warp the player?!!\n\nPlease help, these issues are game crippling, thanks for all your help!",
      "EditableFormat": "bbcode",
      "HTML": "Hey guys, this application is brilliant and so is the wiki, it is very comprehensive, but it lacks one thing: documentation on referring to other objects.<br/><br/>Let me explain:<br/><br/>I'm no newbie to programming, and I have a very very good game going so far, additionally, I'm building in my own battle system that is working very well except for a few things.<br/><span style=\"font-weight:bold;\"><br/>First of all</span>, I want to know how in the hell you refer to another object. I know you can go (and this is just an example) set var game.randomvariable = player.name<br/>See that, you can refer to the game and the player nice and easy, however when I want to refer to another npc or the object I'm actually working on, it doesn't work.<br/><br/>I've tried self.name, object.name, me.name I've even tried making a variable that stores the name of the object and then tries to sub it in to no avail, I really need this, this issue is actually one of the things that is blocking me from making complete functions to reduce the workload.<br/><span style=\"font-weight:bold;\"><br/>The second</span> issue is my introduction. It uses a menu to set certain settings, it runs before the first room initialises its &quot;this is what  is inside me&quot; script. However, I can't get the darn thing to wait until the user puts an input in before actually moving ahead, as soon as the menu is made it would automatically load the room description.<br/><br/>I put a wait command in but the thing is I don't want that because the player can skip the menu, and if I'm not careful it will keep the menu waiting for an input, so later on down the track when another opens they can't put their input in until they do it to the previous one!<br/><br/><span style=\"font-weight:bold;\"><br/>Thirdly.</span>, warping to the current room or refreshing the rooms contents has been a piece of foshizzle. This comes down to the inability to refer to the current room name. I have read another post with this same issue, the purpose like mine is to refresh the room description, which involves going to another room, e.g. a battle dungeon, but how the hell do you get back to the previous room. Do you store the name of the room in a variable? If so, how do you refer to the current room then implement the variable in to warp the player?!!<br/><br/>Please help, these issues are game crippling, thanks for all your help!",
      "PostDate": "2013-09-08T13:05:15+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "26189",
      "UserId": 0,
      "Username": "jaynabonne",
      "UserAvatar": "6579_1344778256.jpg",
      "UserGravatar": "379859a7f1952a65399fc63997e68f0b",
      "EditableText": "I hope I can answer your questions. One thing that would be helpful is to know whether you're using the online editor or the desktop (Windows) editor, as some options are different.\n\n[b:fe8vjoly]First of all[/b:fe8vjoly], you refer to an object by its name. If you have an object called &quot;apple&quot;, then you can use &quot;apple.name&quot; to see its name, &quot;apple.parent&quot; to get its current room, etc. You can set an attribute &quot;x&quot; to 3 by setting the var &quot;apple.x&quot; to 3. If that's not working for you, then it would be helpful to see some actual code so we can determine why.\n\n[b:fe8vjoly]Second[/b:fe8vjoly], when you do your &quot;show menu&quot;, be sure that you put the rest of your script *inside* the menu's &quot;After choosing, run script&quot; script. Things like menus, waiting for a key, etc are asynchronous and event-driven in Quest, meaning that statements *following* the &quot;show menu&quot; will execute immediately but once the user has made a choice, then the &quot;After choosing&quot; script will be run. There is no way to block in Quest for input. (There is something called &quot;on ready&quot;, but it doesn't really help you, as you still have to put the desired additional code in a separate script block.)\n\n[b:fe8vjoly]Thirdly[/b:fe8vjoly], to warp to a room, use MoveObject (e.g. MoveObject(player, room)). To refresh the room description, call the function ShowRoomDescription.\n\nAgain, the whole purpose  of objects (including rooms) having names is so that you can refer to them. If we can solve why that is a problem for you, a lot of things should fall into place. (One thing to keep in mind: when you use an object's name, don't put it in quotes. It's a direct reference, not a string.)",
      "EditableFormat": "bbcode",
      "HTML": "I hope I can answer your questions. One thing that would be helpful is to know whether you're using the online editor or the desktop (Windows) editor, as some options are different.<br/><br/><span style=\"font-weight:bold;\">First of all</span>, you refer to an object by its name. If you have an object called &quot;apple&quot;, then you can use &quot;apple.name&quot; to see its name, &quot;apple.parent&quot; to get its current room, etc. You can set an attribute &quot;x&quot; to 3 by setting the var &quot;apple.x&quot; to 3. If that's not working for you, then it would be helpful to see some actual code so we can determine why.<br/><br/><span style=\"font-weight:bold;\">Second</span>, when you do your &quot;show menu&quot;, be sure that you put the rest of your script *inside* the menu's &quot;After choosing, run script&quot; script. Things like menus, waiting for a key, etc are asynchronous and event-driven in Quest, meaning that statements *following* the &quot;show menu&quot; will execute immediately but once the user has made a choice, then the &quot;After choosing&quot; script will be run. There is no way to block in Quest for input. (There is something called &quot;on ready&quot;, but it doesn't really help you, as you still have to put the desired additional code in a separate script block.)<br/><br/><span style=\"font-weight:bold;\">Thirdly</span>, to warp to a room, use MoveObject (e.g. MoveObject(player, room)). To refresh the room description, call the function ShowRoomDescription.<br/><br/>Again, the whole purpose  of objects (including rooms) having names is so that you can refer to them. If we can solve why that is a problem for you, a lot of things should fall into place. (One thing to keep in mind: when you use an object's name, don't put it in quotes. It's a direct reference, not a string.)",
      "PostDate": "2013-09-08T15:48:24+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "26190",
      "UserId": 0,
      "Username": "HegemonKhan",
      "UserAvatar": null,
      "UserGravatar": "a96cf34d8d97c57de38f54ee22b1759b",
      "EditableText": "reference to an Object or whatever:\n\n[b:2xabs1k5]Name Attribute = it's &quot;ID&quot; for the game engine (and also the game maker ~ for organization, info, and etc); just like with the government in real life, if two people have the same finger print, ID card, SS#, and etc, the government doesn't know what~who is what~who, it'll be confused and unable to function.[/b:2xabs1k5]\n\nName_Attribute_of_Object.name_of_Attribute\n\n[u:2xabs1k5]Example Object: an &quot;orc&quot; monster[/u:2xabs1k5]\n\nObject' s Attributes, as done in the GUI~Editor:\n\n[b:2xabs1k5]this is our Object's reference (ID):\nName: name\nType: String\nValue: orc_1[/b:2xabs1k5]\n\nName: alias\nType: String\nValue: orc\n\nName: strength\nType: int (Integer)\nValue: 50 \n\nfor CREATION (or CHANGING) of the Object's Name Attribute (not sure if this works or not, lol), done as scripting:\n\nobject.name=orc_1\n\nand as done in-code:\n\n&lt;object name=&quot;orc_1&quot;&gt;\n&lt;/object&gt;\n\nand with its other attributes:\n\n&lt;object name=&quot;orc_1&quot;&gt;\n-&gt; &lt;alias&gt;orc&lt;/alias&gt; // Or: &lt;alias type=&quot;string&quot;&gt;orc&lt;/alias&gt;\n-&gt; &lt;strength type=&quot;int&quot;&gt;50&lt;/strength&gt;\n&lt;/object&gt;\n\n[b:2xabs1k5]for USING (&quot;refering to&quot;) an Object, for example, in creating its attributes (&quot;alias&quot; and &quot;strength&quot;), done as scripting:\n\n(what object?).(what attribute?)=(what it &quot;does&quot;?, ie what Value or Expression?)\norc_1.alias=orc\norc_1.strength=50[/b:2xabs1k5]\n\nand as done in-code:\n\n~VS~\n\nAlias Attribute = what we think of as a &quot;name&quot;, mainly for the game player. You can have the same Alias Attributes, quest doesn't care as it doesn't use this for identification.\n\nLocal~Temporary Creation:\n\nVariable = Object.Attribute\nname_of_variable_string = name_of_Object.name_of_Attribute\nexample: enemy_damage = orc.strength\n\nGlobal~Permanent Creation (provided that the Object remains existing):\n\nObject.Attribute = Value (which includes an Expression)\nname_of_Object.name_of_Attribute = name_of_Value (or simply your Expression)\nexample: orc_1.strength = 50\nexample: orc_1.damage = ((orc_1.strength - player.endurance) / 100) * orc_1.physical_damage + orc_1.physical_damage\n\nvery useful pages:\n\n<!-- m --><a class=\"postlink\" href=\"http://quest5.net/wiki/Category:All_Functions_and_Script_Commands\">http://quest5.net/wiki/Category:All_Fun ... t_Commands</a><!-- m --> (page 1, range: A-S)\n\n<!-- m --><a class=\"postlink\" href=\"http://quest5.net/w/index.php?title=Category:All_Functions_and_Script_Commands&amp;pagefrom=SetExitLightstrength#mw-pages\">http://quest5.net/w/index.php?title=Cat ... h#mw-pages</a><!-- m --> (page 2, range: S-Z)\n\nand, there's also:\n\n1. Parameters ( <!-- m --><a class=\"postlink\" href=\"http://quest5.net/wiki/Function_element\">http://quest5.net/wiki/Function_element</a><!-- m --> )\n\n2. GetObject ( <!-- m --><a class=\"postlink\" href=\"http://quest5.net/wiki/GetObject\">http://quest5.net/wiki/GetObject</a><!-- m --> ), HasObject ( <!-- m --><a class=\"postlink\" href=\"http://quest5.net/wiki/HasObject\">http://quest5.net/wiki/HasObject</a><!-- m --> ), ObjectListItem ( <!-- m --><a class=\"postlink\" href=\"http://quest5.net/wiki/ObjectListItem\">http://quest5.net/wiki/ObjectListItem</a><!-- m --> ), ObjectDictionaryItem ( <!-- m --><a class=\"postlink\" href=\"http://quest5.net/wiki/ObjectDictionaryItem\">http://quest5.net/wiki/ObjectDictionaryItem</a><!-- m --> )\n\n3. only for within a Script that acts upon (ie is a &quot;child&quot; of) an Object (such as a Verb): you can use &quot;this.name_of_Attribute&quot; in place of &quot;name_of_Object.name_of_Attribute&quot;.\n\n-------------------\n\nfor moving an object, here is what it looks like as done as scripting:\n\n&quot;parent&quot; Attribute = the Room_Object (or Object_Object) that it is within\n\norc_1.parent = (the room you want it to be within ~ ie moved within)\n\nOld Location: orc_1.parent = room\nNew Location (&quot;moving it to&quot;): orc_1.parent = room_2\n\nplayer.parent = room_3\n\nPart of Sgreig's &quot;Following&quot; Code (a tiny bit more fancy coding, lol):\n\norc_1.parent = player.parent\n\n(since: orc_1.parent = player.parent = room_3, or in different ordering: player.parent = room_3 = orc_1.parent)\n(the resulting effect is this: orc_1.parent = room_3, ie the &quot;orc_1&quot; is moved to whatever room that the &quot;player&quot; is within)\n\nand, here's some code, for you to see lots of examples in use of what you ask for:\n\n[code:2xabs1k5]&lt;!-- New Game Code --&gt;\n\n&lt;asl version=&quot;540&quot;&gt;\n  &lt;include ref=&quot;English&#46;aslx&quot; /&gt;\n  &lt;include ref=&quot;Core&#46;aslx&quot; /&gt;\n  &lt;game name=&quot;Colloseum&quot;&gt;\n    &lt;gameid&gt;bbc85c01-6e80-4a71-8abf-c1e870fb5b42&lt;/gameid&gt;\n    &lt;version&gt;1&#46;0&lt;/version&gt;\n    &lt;firstpublished&gt;2013&lt;/firstpublished&gt;\n  &lt;/game&gt;\n  &lt;object name=&quot;room&quot;&gt;\n    &lt;inherit name=&quot;editor_room&quot; /&gt;\n    &lt;object name=&quot;player&quot;&gt;\n      &lt;inherit name=&quot;editor_object&quot; /&gt;\n      &lt;inherit name=&quot;editor_player&quot; /&gt;\n    &lt;/object&gt;\n  &lt;/object&gt;\n&lt;/asl&gt;\n\n&lt;!-- Object Types --&gt;\n\n&lt;type name=&quot;character_object_type&quot;&gt;\n\n  &lt;strength type=&quot;int&quot;&gt;0&lt;/strength&gt;\n  &lt;endurance type=&quot;int&quot;&gt;0&lt;/endurance&gt;\n  &lt;dexterity type=&quot;int&quot;&gt;0&lt;/dexterity&gt;\n  &lt;agility type=&quot;int&quot;&gt;0&lt;/agility&gt;\n  &lt;speed type=&quot;int&quot;&gt;0&lt;/speed&gt;\n  &lt;intelligence type=&quot;int&quot;&gt;0&lt;/intelligence&gt;\n  &lt;spirituality type=&quot;int&quot;&gt;0&lt;/spirituality&gt;\n  &lt;mentality type=&quot;int&quot;&gt;0&lt;/mentality&gt;\n  &lt;piety type=&quot;int&quot;&gt;0&lt;/piety&gt;\n  &lt;luck type=&quot;int&quot;&gt;0&lt;/luck&gt;\n  \n  &lt;dead type=&quot;boolean&quot;&gt;false&lt;/dead&gt;\n  \n  &lt;undead type=&quot;boolean&quot;&gt;false&lt;/undead&gt;\n  \n  &lt;defending type=&quot;boolean&quot;&gt;false&lt;/defending&gt;\n  &lt;casting type=&quot;boolean&quot;&gt;false&lt;/casting&gt;\n  \n  &lt;experience_points type=&quot;int&quot;&gt;0&lt;/experience_points&gt;\n  &lt;cash type=&quot;int&quot;&gt;0&lt;/cash&gt;\n  &lt;level type=&quot;int&quot;&gt;0&lt;/level&gt;\n  \n  &lt;health_points type=&quot;string&quot;&gt;0/0&lt;/health_points&gt;\n  &lt;mana_points type=&quot;string&quot;&gt;0/0&lt;/mana_points&gt;\n  \n  &lt;current_health_points type=&quot;int&quot;&gt;0&lt;/current_health_points&gt;\n  &lt;maximum_health_points type=&quot;int&quot;&gt;0&lt;/maximum_health_points&gt;\n  &lt;current_mana_points type=&quot;int&quot;&gt;0&lt;/current_mana_points&gt;\n  &lt;maximum_mana_points type=&quot;int&quot;&gt;0&lt;/maximum_mana_points&gt;\n  \n&lt;/type&gt;\n\n&lt;!-- Turnscripts --&gt;\n\n&lt;turnscript name=&quot;global_events_turnscript&quot;&gt;\n  status_attributes_function\n  leveling_function\n  game&#46;turns = game&#46;turns + 1\n&lt;/turnscript&gt;\n\n&lt;!-- Commands --&gt;\n\n&lt;command name=&quot;fight_command&quot;&gt;\n  &lt;pattern&gt;fight #text#&lt;/pattern&gt;\n  &lt;script&gt;\n    fight_function (game&#46;pov,text)\n  &lt;/script&gt;\n&lt;/command&gt;\n\n&lt;!-- Functions --&gt;\n\n&lt;function name=&quot;fight_function&quot; parameters=&quot;self,text&quot;&gt;\n  enemy=GetObject(text)\n  if (enemy=null) {\n    foreach (obj,AllObjects()) {\n\t  if (obj&#46;alias=text) {\n\t    enemy=obj\n\t  } else {\n\t    msg (&quot;There seemingly is no &quot; + text + &quot; here&#46;&quot;)\n\t  }\n\t}\n  }\n  if (not check_reachable_function (enemy) = true) {\n    msg (&quot;There seemingly is no &quot; + enemy&#46;alias + &quot; here&#46;&quot;)\n  } else if (not DoesInherit (enemy,&quot;character_object_type&quot;)) {\n    msg (enemy&#46;alias + &quot;is seemingly not something that you can battle&#46;&quot;)\n  } else if (GetBoolean (enemy,&quot;hostile&quot;) = false) {\n    msg (enemy&#46;alias + &quot; is seemingly not something that you can battle&#46;&quot;)\n  } else if (GetBoolean (enemy,&quot;dead&quot;) = true) {\n    msg (enemy&#46;alias + &quot; is already dead&#46;&quot;)\n  } else {\n    battle_sequence_function (self,enemy)\n  }\n&lt;/function&gt;\n\n&lt;function name=&quot;battle_sequence_function&quot; parameters=&quot;self,enemy&quot;&gt;&lt;!&#91;CDATA&#91;\n  if (enemy&#46;dead=false or self&#46;escaped=false) {\n    you_go_first=false\n    if (GetInt (self,&quot;speed&quot;) &gt; GetInt (enemy,&quot;speed&quot;) {\n\t  you_go_first=true\n\t} else if (GetInt (self,&quot;speed&quot;) = GetInt (enemy,&quot;speed&quot;) and RandomChance (50)=true) {\n\t    you_go_first=true\n\t}\n    if (you_go_first=true) {\n\t  msg (&quot;You get to go first for this round&quot;)\n\t  self_battle_turn_function (self,enemy)\n\t  on ready {\n\t    if (not enemy&#46;dead=true or not self&#46;escaped=true){\n\t      enemy_battle_turn_function (self,enemy)\n\t\t}\n\t  }\n\t} else {\n\t  msg (enemy&#46;alias + &quot; gets to go first for this round&#46;&quot;)\n\t  enemy_battle_turn_function (self,enemy)\n      on ready {\n        if (not enemy&#46;dead=true or not self&#46;escaped=true){\t  \n\t      msg (&quot;It is now your turn&#46;&quot;)\n\t      self_battle_turn_function (self,enemy)\n\t\t}\n\t  }\n\t}\n\ton ready {\n\t  msg (&quot;The round has ended&#46;&quot;) \n\t  battle_sequence_function (self,enemy)\n\t}\n  } else { \n    msg (&quot;The battle is over&#46;&quot;)\n  }\n&#93;&#93;&gt;&lt;/function&gt;\n\n&lt;function name=&quot;self_battle_turn_function&quot; parameters=&quot;self,enemy&quot;&gt;&lt;!&#91;CDATA&#91;\n  msg (self&#46;alias + &quot; has &quot; + self&#46;current_health_points + &quot; HP left&#46;&quot;)\n  msg (enemy&#46;alias + &quot; has &quot; + enemy&#46;current_health_points + &quot; HP left&#46;&quot;)\n  wait {\n    show menu (&quot;What is your battle choice?&quot;, split (&quot;Attack;Defend;Cast;Item;Run&quot;, &quot;;&quot;), false) {\n      switch (result) {\n        case (&quot;Attack&quot;) {\n          self_attack_failed = false\n          if (RandomChance (GetInt (enemy,&quot;agility&quot;) - GetInt (self,&quot;speed&quot;)) = true) {\n            msg (enemy&#46;alias + &quot;evaded your attack!&quot;)\n            self_attack_failed = true\n\t\t\tself&#46;defending = false\n          } else if (RandomChance (GetInt (enemy,&quot;dexterity&quot;) - GetInt (self,&quot;agility&quot;)) = true) {\n            msg (enemy&#46;alias + &quot;parried your attack!&quot;)\n            self_attack_failed = true\n\t\t\tself&#46;defending = false\n          } else if (RandomChance (GetInt (enemy,&quot;agility&quot;) - GetInt (self,&quot;dexterity&quot;)) = true) {\n            msg (enemy&#46;alias + &quot;blocked your attack!&quot;)\n            self_attack_failed = true\n\t\t\tself&#46;defending = false\n          } else if (RandomChance (GetInt (self,&quot;dexterity&quot;) - GetInt (enemy,&quot;speed&quot;)) = false) {\n            msg (&quot;Your attack missed &quot; + enemy&#46;alias +&quot;!&quot;)\n            self_attack_failed = true\n\t\t\tself&#46;defending = false\n          } else if (RandomChance (GetInt (enemy,&quot;armor_class&quot;) - GetInt (self,&quot;attack_rating&quot;)) = true) {\n            msg (&quot;Your attack failed to penetrate &quot; + enemy&#46;alias +&quot;!&quot;)\n            self_attack_failed = true\n\t\t\tself&#46;defending = false\n          } else if (self_attack_failed = false) {\n            if (self&#46;defending = true and enemy&#46;defending = true) {\n              enemy&#46;current_health_points = enemy&#46;current_health_points - (critical_hit_function (self) * 2 * GetInt (self,&quot;physical_damage&quot;) / 2 + GetInt (self,&quot;physical_damage&quot;) * (GetInt (self,&quot;strength&quot;) - GetInt (enemy,&quot;endurance&quot;)) / 100)\n              msg (enemy&#46;alias + &quot; has &quot; + enemy&#46;current_health_points + &quot; HP left&#46;&quot;)\n              self&#46;defending = false\n            } else if (self&#46;defending = true and enemy&#46;defending = false) {\n              enemy&#46;current_health_points = enemy&#46;current_health_points - (critical_hit_function (self) * 2 * GetInt (self,&quot;physical_damage&quot;) + GetInt (self,&quot;physical_damage&quot;) * (GetInt (self,&quot;strength&quot;) - GetInt (enemy,&quot;endurance&quot;)) / 100)\n              msg (enemy&#46;alias + &quot; has &quot; + enemy&#46;current_health_points + &quot; HP left&#46;&quot;)\n              self&#46;defending = false\n            } else if (self&#46;defending = false and enemy&#46;defending = true) {\n              enemy&#46;current_health_points = enemy&#46;current_health_points - (critical_hit_function (self) * GetInt (self,&quot;physical_damage&quot;) / 2 + GetInt (self,&quot;physical_damage&quot;) * (GetInt (self,&quot;strength&quot;) - GetInt (enemy,&quot;endurance&quot;)) / 100)\n              msg (enemy&#46;alias + &quot; has &quot; + enemy&#46;current_health_points + &quot; HP left&#46;&quot;)\n            } else if (self&#46;defending = false and enemy&#46;defending = false) {\n              enemy&#46;current_health_points = enemy&#46;current_health_points - (critical_hit_function (self) * GetInt (self,&quot;physical_damage&quot;) + GetInt (self,&quot;physical_damage&quot;) * (GetInt (self,&quot;strength&quot;) - GetInt (enemy,&quot;endurance&quot;)) / 100)\n              msg (enemy&#46;alias + &quot; has &quot; + enemy&#46;current_health_points + &quot; HP left&#46;&quot;)\n            }\n          }\n        }\n        case (&quot;Defend&quot;) {\n\t\t  msg (&quot;You defend yourself against &quot; + enemy&#46;alias)\n          self&#46;defending = true\n        }\n        case (&quot;Cast&quot;) {\n          self&#46;defending = false\n        }\n        case (&quot;Item&quot;) {\n          self&#46;defending = false\n        }\n        case (&quot;Run&quot;) {\n          self&#46;defending = false\n\t\t  self&#46;escaping = true\n        }\n      }\n      if (GetInt (enemy,&quot;current_health_points&quot;) &gt; 0) {\n\t    if ( RandomChance (GetInt (self,&quot;speed&quot;) - GetInt (enemy,&quot;speed&quot;))= true) {\n          msg (&quot;You get an extra battle turn!&quot;)\n          self_battle_turn (self,enemy)\n        } else {\n          msg (&quot;Your battle turn is over&#46;&quot;)\n        }\n      } else if (GetInt (enemy,&quot;current_health_points&quot;) &lt;= 0) {\n        msg (enemy&#46;alias + &quot; is dead&#46;&quot;)\n        msg (&quot;You have won the battle!&quot;)\n\t\tself&#46;defending = false\n\t\tself&#46;escaping = false\n        enemy&#46;defending = false\n        enemy&#46;dead = true\n      }\n    }\n  }\n&#93;&#93;&gt;&lt;/function&gt;\n\n&lt;function name=&quot;enemy_battle_turn_function&quot; parameters=&quot;self,enemy&quot;&gt;&lt;!&#91;CDATA&#91;\n  msg (self&#46;alias + &quot; has &quot; + self&#46;current_health_points + &quot; HP left&#46;&quot;)\n  msg (enemy&#46;alias + &quot; has &quot; + enemy&#46;current_health_points + &quot; HP left&#46;&quot;)\n  result = GetRandomInt (1,3)\n  switch (result) {\n    case (1) {\n      enemy_attack_failed = false\n      if (RandomChance (GetInt (self,&quot;agility&quot;) - GetInt (enemy,&quot;speed&quot;)) = true) {\n        msg (&quot;You have evaded the attack!&quot;)\n        enemy_attack_failed = true\n\t\tenemy&#46;defending = false\n      } else if (RandomChance (GetInt (self,&quot;dexterity&quot;) - GetInt (enemy,&quot;agility&quot;)) = true) {\n        msg (&quot;You have parried the attack!&quot;)\n        enemy_attack_failed = true\n\t\tenemy&#46;defending = false\n      } else if (RandomChance (GetInt (self,&quot;agility&quot;) - GetInt (enemy,&quot;dexterity&quot;)) = true) {\n        msg (&quot;You have blocked the attack!&quot;)\n        enemy_attack_failed = true\n\t    enemy&#46;defending = false\n      } else if (RandomChance (GetInt (enemy,&quot;dexterity&quot;) - GetInt (self,&quot;speed&quot;)) = false) {\n        msg (enemy&#46;alias +&quot;'s attack missed!&quot;)\n        enemy_attack_failed = true\n\t\tenemy&#46;defending = false\n      } else if (RandomChance (GetInt (self,&quot;armor_class&quot;) - GetInt (enemy,&quot;attack_rating&quot;)) = true) {\n        msg (&quot;You weren't penetrated by the attack!&quot;)\n        enemy_attack_failed = true\n\t    enemy&#46;defending = false\n      } else if (enemy_attack_failed = false) {\n        if (enemy&#46;defending = true and self&#46;defending = true) {\n          self&#46;current_health_points = self&#46;current_health_points - (critical_hit_function (enemy) * 2 * GetInt (enemy,&quot;physical_damage&quot;) / 2 + GetInt (enemy,&quot;physical_damage&quot;) * (GetInt (enemy,&quot;strength&quot;) - GetInt (self,&quot;endurance&quot;)) / 100)\n          msg (self&#46;alias + &quot; has &quot; + self&#46;cur_hp + &quot; HP left&#46;&quot;)\n          enemy&#46;defending = false\n        } else if (enemy&#46;defending = true and self&#46;defending = false) {\n          self&#46;current_health_points = self&#46;current_health_points - (critical_hit_function (enemy) * 2 * GetInt (enemy,&quot;physical_damage&quot;) + GetInt (enemy,&quot;physical_damage&quot;) * (GetInt (enemy,&quot;strength&quot;) - GetInt (self,&quot;endurance&quot;)) / 100)\n          msg (self&#46;alias + &quot; has &quot; + self&#46;current_health_points + &quot; HP left&#46;&quot;)\n          enemy&#46;defending = false\n        } else if (enemy&#46;defending = false and self&#46;defending = true) {\n          self&#46;current_health_points = self&#46;current_health_points - (critical_hit_function (enemy) * GetInt (enemy,&quot;physical_damage&quot;) / 2 + GetInt (enemy,&quot;physical_damage&quot;) * (GetInt (enemy,&quot;strength&quot;) - GetInt (self,&quot;endurance&quot;)) / 100)\n          msg (self&#46;alias + &quot; has &quot; + self&#46;current_health_points + &quot; HP left&#46;&quot;)\n        } else if (enemy&#46;defending = false and self&#46;defending = false) {\n          self&#46;current_health_points = self&#46;current_health_points - (critical_hit_function (enemy) * GetInt (enemy,&quot;physical_damage&quot;) + GetInt (enemy,&quot;physical_damage&quot;) * (GetInt (enemy,&quot;strength&quot;) - GetInt (self,&quot;endurance&quot;)) / 100)\n          msg (self&#46;alias + &quot; has &quot; + self&#46;current_health_points + &quot; HP left&#46;&quot;)\n        }\n      }\n    }\n    case (2) {\n      msg (enemy&#46;alias + &quot; has choosen to defend itself&#46;&quot;)\n      enemy&#46;defending = true\n    }\n    case (3) {\n      enemy&#46;defending = false\n      msg (&quot;Cast&quot;)\n    }\n  }\n  if (GetInt (self,&quot;current_health_points&quot;) &gt; 0) {\n    if (RandomChance (GetInt (enemy,&quot;speed&quot;) - GetInt (self,&quot;speed&quot;)) = true) {\n      msg (enemy&#46;alias + &quot; gets an extra battle turn!&quot;)\n      wait {\n        enemy_battle_turn (self,enemy)\n      }\n    } else {\n      msg (enemy&#46;alias + &quot; 's battle turn is over&#46;&quot;)\n    }\n  } else if (GetInt (self,&quot;current_health_points&quot;) &lt;= 0) {\n    msg (self&#46;alias + &quot; has died&#46;&quot;)\n    msg (&quot;GAME OVER&quot;)\n    finish\n  }\n&#93;&#93;&gt;&lt;/function&gt;\n\n&lt;function name=&quot;check_reachable_function&quot; parameters=&quot;enemy&quot; type=&quot;boolean&quot;&gt;\n  foreach (obj,ScopeReachableNotHeld ()) {\n    if (obj=enemy) {\n      value = true\n\t} else {\n\t  value = false\n\t}\n  }\n  return (value)\n&lt;/function&gt;\n\n&lt;function name=&quot;critical_hit_function&quot; parameters=&quot;target&quot; type=&quot;int&quot;&gt;\n  if (RandomChance (GetInt (target,&quot;luck&quot;)) = true) {\n    value = 2\n  } else {\n    value = 1\n  }\n  return (value)\n&lt;/function&gt;\n\n&lt;function name=&quot;leveling_function&quot;&gt;&lt;!&#91;CDATA&#91;\n  if (game&#46;pov&#46;experience_points &gt;= game&#46;pov&#46;level * 100 + 100) {\n    game&#46;pov&#46;experience_points = game&#46;pov&#46;experience_points - (game&#46;pov&#46;level * 100 + 100)\n\tgame&#46;pov&#46;level = game&#46;pov&#46;level + 1\n\tleveling_function\n  }\n&#93;&#93;&gt;&lt;/function&gt;\n\n&lt;function name=&quot;status_attributes_function&quot;&gt;\n  game&#46;pov&#46;health_points = game&#46;pov&#46;current_health_points + &quot;/&quot; + game&#46;pov&#46;maximum_health_points\n  game&#46;pov&#46;mana_points = game&#46;pov&#46;current_mana_points + &quot;/&quot; + game&#46;pov&#46;maximum_mana_points\n&lt;/function&gt;[/code:2xabs1k5]",
      "EditableFormat": "bbcode",
      "HTML": "reference to an Object or whatever:<br/><br/><span style=\"font-weight:bold;\">Name Attribute = it's &quot;ID&quot; for the game engine (and also the game maker ~ for organization, info, and etc); just like with the government in real life, if two people have the same finger print, ID card, SS#, and etc, the government doesn't know what~who is what~who, it'll be confused and unable to function.</span><br/><br/>Name_Attribute_of_Object.name_of_Attribute<br/><br/><span style=\"text-decoration:underline;\">Example Object: an &quot;orc&quot; monster</span><br/><br/>Object' s Attributes, as done in the GUI~Editor:<br/><br/><span style=\"font-weight:bold;\">this is our Object's reference (ID):<br/>Name: name<br/>Type: String<br/>Value: orc_1</span><br/><br/>Name: alias<br/>Type: String<br/>Value: orc<br/><br/>Name: strength<br/>Type: int (Integer)<br/>Value: 50 <br/><br/>for CREATION (or CHANGING) of the Object's Name Attribute (not sure if this works or not, lol), done as scripting:<br/><br/>object.name=orc_1<br/><br/>and as done in-code:<br/><br/>&lt;object name=&quot;orc_1&quot;&gt;<br/>&lt;/object&gt;<br/><br/>and with its other attributes:<br/><br/>&lt;object name=&quot;orc_1&quot;&gt;<br/>-&gt; &lt;alias&gt;orc&lt;/alias&gt; // Or: &lt;alias type=&quot;string&quot;&gt;orc&lt;/alias&gt;<br/>-&gt; &lt;strength type=&quot;int&quot;&gt;50&lt;/strength&gt;<br/>&lt;/object&gt;<br/><br/><span style=\"font-weight:bold;\">for USING (&quot;refering to&quot;) an Object, for example, in creating its attributes (&quot;alias&quot; and &quot;strength&quot;), done as scripting:<br/><br/>(what object?).(what attribute?)=(what it &quot;does&quot;?, ie what Value or Expression?)<br/>orc_1.alias=orc<br/>orc_1.strength=50</span><br/><br/>and as done in-code:<br/><br/>~VS~<br/><br/>Alias Attribute = what we think of as a &quot;name&quot;, mainly for the game player. You can have the same Alias Attributes, quest doesn't care as it doesn't use this for identification.<br/><br/>Local~Temporary Creation:<br/><br/>Variable = Object.Attribute<br/>name_of_variable_string = name_of_Object.name_of_Attribute<br/>example: enemy_damage = orc.strength<br/><br/>Global~Permanent Creation (provided that the Object remains existing):<br/><br/>Object.Attribute = Value (which includes an Expression)<br/>name_of_Object.name_of_Attribute = name_of_Value (or simply your Expression)<br/>example: orc_1.strength = 50<br/>example: orc_1.damage = ((orc_1.strength - player.endurance) / 100) * orc_1.physical_damage + orc_1.physical_damage<br/><br/>very useful pages:<br/><br/><!-- m --><a class=\"postlink\" href=\"http://quest5.net/wiki/Category:All_Functions_and_Script_Commands\">http://quest5.net/wiki/Category:All_Fun ... t_Commands</a><!-- m --> (page 1, range: A-S)<br/><br/><!-- m --><a class=\"postlink\" href=\"http://quest5.net/w/index.php?title=Category:All_Functions_and_Script_Commands&amp;pagefrom=SetExitLightstrength#mw-pages\">http://quest5.net/w/index.php?title=Cat ... h#mw-pages</a><!-- m --> (page 2, range: S-Z)<br/><br/>and, there's also:<br/><br/>1. Parameters ( <!-- m --><a class=\"postlink\" href=\"http://quest5.net/wiki/Function_element\">http://quest5.net/wiki/Function_element</a><!-- m --> )<br/><br/>2. GetObject ( <!-- m --><a class=\"postlink\" href=\"http://quest5.net/wiki/GetObject\">http://quest5.net/wiki/GetObject</a><!-- m --> ), HasObject ( <!-- m --><a class=\"postlink\" href=\"http://quest5.net/wiki/HasObject\">http://quest5.net/wiki/HasObject</a><!-- m --> ), ObjectListItem ( <!-- m --><a class=\"postlink\" href=\"http://quest5.net/wiki/ObjectListItem\">http://quest5.net/wiki/ObjectListItem</a><!-- m --> ), ObjectDictionaryItem ( <!-- m --><a class=\"postlink\" href=\"http://quest5.net/wiki/ObjectDictionaryItem\">http://quest5.net/wiki/ObjectDictionaryItem</a><!-- m --> )<br/><br/>3. only for within a Script that acts upon (ie is a &quot;child&quot; of) an Object (such as a Verb): you can use &quot;this.name_of_Attribute&quot; in place of &quot;name_of_Object.name_of_Attribute&quot;.<br/><br/>-------------------<br/><br/>for moving an object, here is what it looks like as done as scripting:<br/><br/>&quot;parent&quot; Attribute = the Room_Object (or Object_Object) that it is within<br/><br/>orc_1.parent = (the room you want it to be within ~ ie moved within)<br/><br/>Old Location: orc_1.parent = room<br/>New Location (&quot;moving it to&quot;): orc_1.parent = room_2<br/><br/>player.parent = room_3<br/><br/>Part of Sgreig's &quot;Following&quot; Code (a tiny bit more fancy coding, lol):<br/><br/>orc_1.parent = player.parent<br/><br/>(since: orc_1.parent = player.parent = room_3, or in different ordering: player.parent = room_3 = orc_1.parent)<br/>(the resulting effect is this: orc_1.parent = room_3, ie the &quot;orc_1&quot; is moved to whatever room that the &quot;player&quot; is within)<br/><br/>and, here's some code, for you to see lots of examples in use of what you ask for:<br/><br/><pre><code>&lt;!-- New Game Code --&gt;<br/><br/>&lt;asl version=&quot;540&quot;&gt;<br/>  &lt;include ref=&quot;English&#46;aslx&quot; /&gt;<br/>  &lt;include ref=&quot;Core&#46;aslx&quot; /&gt;<br/>  &lt;game name=&quot;Colloseum&quot;&gt;<br/>    &lt;gameid&gt;bbc85c01-6e80-4a71-8abf-c1e870fb5b42&lt;/gameid&gt;<br/>    &lt;version&gt;1&#46;0&lt;/version&gt;<br/>    &lt;firstpublished&gt;2013&lt;/firstpublished&gt;<br/>  &lt;/game&gt;<br/>  &lt;object name=&quot;room&quot;&gt;<br/>    &lt;inherit name=&quot;editor_room&quot; /&gt;<br/>    &lt;object name=&quot;player&quot;&gt;<br/>      &lt;inherit name=&quot;editor_object&quot; /&gt;<br/>      &lt;inherit name=&quot;editor_player&quot; /&gt;<br/>    &lt;/object&gt;<br/>  &lt;/object&gt;<br/>&lt;/asl&gt;<br/><br/>&lt;!-- Object Types --&gt;<br/><br/>&lt;type name=&quot;character_object_type&quot;&gt;<br/><br/>  &lt;strength type=&quot;int&quot;&gt;0&lt;/strength&gt;<br/>  &lt;endurance type=&quot;int&quot;&gt;0&lt;/endurance&gt;<br/>  &lt;dexterity type=&quot;int&quot;&gt;0&lt;/dexterity&gt;<br/>  &lt;agility type=&quot;int&quot;&gt;0&lt;/agility&gt;<br/>  &lt;speed type=&quot;int&quot;&gt;0&lt;/speed&gt;<br/>  &lt;intelligence type=&quot;int&quot;&gt;0&lt;/intelligence&gt;<br/>  &lt;spirituality type=&quot;int&quot;&gt;0&lt;/spirituality&gt;<br/>  &lt;mentality type=&quot;int&quot;&gt;0&lt;/mentality&gt;<br/>  &lt;piety type=&quot;int&quot;&gt;0&lt;/piety&gt;<br/>  &lt;luck type=&quot;int&quot;&gt;0&lt;/luck&gt;<br/>  <br/>  &lt;dead type=&quot;boolean&quot;&gt;false&lt;/dead&gt;<br/>  <br/>  &lt;undead type=&quot;boolean&quot;&gt;false&lt;/undead&gt;<br/>  <br/>  &lt;defending type=&quot;boolean&quot;&gt;false&lt;/defending&gt;<br/>  &lt;casting type=&quot;boolean&quot;&gt;false&lt;/casting&gt;<br/>  <br/>  &lt;experience_points type=&quot;int&quot;&gt;0&lt;/experience_points&gt;<br/>  &lt;cash type=&quot;int&quot;&gt;0&lt;/cash&gt;<br/>  &lt;level type=&quot;int&quot;&gt;0&lt;/level&gt;<br/>  <br/>  &lt;health_points type=&quot;string&quot;&gt;0/0&lt;/health_points&gt;<br/>  &lt;mana_points type=&quot;string&quot;&gt;0/0&lt;/mana_points&gt;<br/>  <br/>  &lt;current_health_points type=&quot;int&quot;&gt;0&lt;/current_health_points&gt;<br/>  &lt;maximum_health_points type=&quot;int&quot;&gt;0&lt;/maximum_health_points&gt;<br/>  &lt;current_mana_points type=&quot;int&quot;&gt;0&lt;/current_mana_points&gt;<br/>  &lt;maximum_mana_points type=&quot;int&quot;&gt;0&lt;/maximum_mana_points&gt;<br/>  <br/>&lt;/type&gt;<br/><br/>&lt;!-- Turnscripts --&gt;<br/><br/>&lt;turnscript name=&quot;global_events_turnscript&quot;&gt;<br/>  status_attributes_function<br/>  leveling_function<br/>  game&#46;turns = game&#46;turns + 1<br/>&lt;/turnscript&gt;<br/><br/>&lt;!-- Commands --&gt;<br/><br/>&lt;command name=&quot;fight_command&quot;&gt;<br/>  &lt;pattern&gt;fight #text#&lt;/pattern&gt;<br/>  &lt;script&gt;<br/>    fight_function (game&#46;pov,text)<br/>  &lt;/script&gt;<br/>&lt;/command&gt;<br/><br/>&lt;!-- Functions --&gt;<br/><br/>&lt;function name=&quot;fight_function&quot; parameters=&quot;self,text&quot;&gt;<br/>  enemy=GetObject(text)<br/>  if (enemy=null) {<br/>    foreach (obj,AllObjects()) {<br/>\t  if (obj&#46;alias=text) {<br/>\t    enemy=obj<br/>\t  } else {<br/>\t    msg (&quot;There seemingly is no &quot; + text + &quot; here&#46;&quot;)<br/>\t  }<br/>\t}<br/>  }<br/>  if (not check_reachable_function (enemy) = true) {<br/>    msg (&quot;There seemingly is no &quot; + enemy&#46;alias + &quot; here&#46;&quot;)<br/>  } else if (not DoesInherit (enemy,&quot;character_object_type&quot;)) {<br/>    msg (enemy&#46;alias + &quot;is seemingly not something that you can battle&#46;&quot;)<br/>  } else if (GetBoolean (enemy,&quot;hostile&quot;) = false) {<br/>    msg (enemy&#46;alias + &quot; is seemingly not something that you can battle&#46;&quot;)<br/>  } else if (GetBoolean (enemy,&quot;dead&quot;) = true) {<br/>    msg (enemy&#46;alias + &quot; is already dead&#46;&quot;)<br/>  } else {<br/>    battle_sequence_function (self,enemy)<br/>  }<br/>&lt;/function&gt;<br/><br/>&lt;function name=&quot;battle_sequence_function&quot; parameters=&quot;self,enemy&quot;&gt;&lt;!&#91;CDATA&#91;<br/>  if (enemy&#46;dead=false or self&#46;escaped=false) {<br/>    you_go_first=false<br/>    if (GetInt (self,&quot;speed&quot;) &gt; GetInt (enemy,&quot;speed&quot;) {<br/>\t  you_go_first=true<br/>\t} else if (GetInt (self,&quot;speed&quot;) = GetInt (enemy,&quot;speed&quot;) and RandomChance (50)=true) {<br/>\t    you_go_first=true<br/>\t}<br/>    if (you_go_first=true) {<br/>\t  msg (&quot;You get to go first for this round&quot;)<br/>\t  self_battle_turn_function (self,enemy)<br/>\t  on ready {<br/>\t    if (not enemy&#46;dead=true or not self&#46;escaped=true){<br/>\t      enemy_battle_turn_function (self,enemy)<br/>\t\t}<br/>\t  }<br/>\t} else {<br/>\t  msg (enemy&#46;alias + &quot; gets to go first for this round&#46;&quot;)<br/>\t  enemy_battle_turn_function (self,enemy)<br/>      on ready {<br/>        if (not enemy&#46;dead=true or not self&#46;escaped=true){\t  <br/>\t      msg (&quot;It is now your turn&#46;&quot;)<br/>\t      self_battle_turn_function (self,enemy)<br/>\t\t}<br/>\t  }<br/>\t}<br/>\ton ready {<br/>\t  msg (&quot;The round has ended&#46;&quot;) <br/>\t  battle_sequence_function (self,enemy)<br/>\t}<br/>  } else { <br/>    msg (&quot;The battle is over&#46;&quot;)<br/>  }<br/>&#93;&#93;&gt;&lt;/function&gt;<br/><br/>&lt;function name=&quot;self_battle_turn_function&quot; parameters=&quot;self,enemy&quot;&gt;&lt;!&#91;CDATA&#91;<br/>  msg (self&#46;alias + &quot; has &quot; + self&#46;current_health_points + &quot; HP left&#46;&quot;)<br/>  msg (enemy&#46;alias + &quot; has &quot; + enemy&#46;current_health_points + &quot; HP left&#46;&quot;)<br/>  wait {<br/>    show menu (&quot;What is your battle choice?&quot;, split (&quot;Attack;Defend;Cast;Item;Run&quot;, &quot;;&quot;), false) {<br/>      switch (result) {<br/>        case (&quot;Attack&quot;) {<br/>          self_attack_failed = false<br/>          if (RandomChance (GetInt (enemy,&quot;agility&quot;) - GetInt (self,&quot;speed&quot;)) = true) {<br/>            msg (enemy&#46;alias + &quot;evaded your attack!&quot;)<br/>            self_attack_failed = true<br/>\t\t\tself&#46;defending = false<br/>          } else if (RandomChance (GetInt (enemy,&quot;dexterity&quot;) - GetInt (self,&quot;agility&quot;)) = true) {<br/>            msg (enemy&#46;alias + &quot;parried your attack!&quot;)<br/>            self_attack_failed = true<br/>\t\t\tself&#46;defending = false<br/>          } else if (RandomChance (GetInt (enemy,&quot;agility&quot;) - GetInt (self,&quot;dexterity&quot;)) = true) {<br/>            msg (enemy&#46;alias + &quot;blocked your attack!&quot;)<br/>            self_attack_failed = true<br/>\t\t\tself&#46;defending = false<br/>          } else if (RandomChance (GetInt (self,&quot;dexterity&quot;) - GetInt (enemy,&quot;speed&quot;)) = false) {<br/>            msg (&quot;Your attack missed &quot; + enemy&#46;alias +&quot;!&quot;)<br/>            self_attack_failed = true<br/>\t\t\tself&#46;defending = false<br/>          } else if (RandomChance (GetInt (enemy,&quot;armor_class&quot;) - GetInt (self,&quot;attack_rating&quot;)) = true) {<br/>            msg (&quot;Your attack failed to penetrate &quot; + enemy&#46;alias +&quot;!&quot;)<br/>            self_attack_failed = true<br/>\t\t\tself&#46;defending = false<br/>          } else if (self_attack_failed = false) {<br/>            if (self&#46;defending = true and enemy&#46;defending = true) {<br/>              enemy&#46;current_health_points = enemy&#46;current_health_points - (critical_hit_function (self) * 2 * GetInt (self,&quot;physical_damage&quot;) / 2 + GetInt (self,&quot;physical_damage&quot;) * (GetInt (self,&quot;strength&quot;) - GetInt (enemy,&quot;endurance&quot;)) / 100)<br/>              msg (enemy&#46;alias + &quot; has &quot; + enemy&#46;current_health_points + &quot; HP left&#46;&quot;)<br/>              self&#46;defending = false<br/>            } else if (self&#46;defending = true and enemy&#46;defending = false) {<br/>              enemy&#46;current_health_points = enemy&#46;current_health_points - (critical_hit_function (self) * 2 * GetInt (self,&quot;physical_damage&quot;) + GetInt (self,&quot;physical_damage&quot;) * (GetInt (self,&quot;strength&quot;) - GetInt (enemy,&quot;endurance&quot;)) / 100)<br/>              msg (enemy&#46;alias + &quot; has &quot; + enemy&#46;current_health_points + &quot; HP left&#46;&quot;)<br/>              self&#46;defending = false<br/>            } else if (self&#46;defending = false and enemy&#46;defending = true) {<br/>              enemy&#46;current_health_points = enemy&#46;current_health_points - (critical_hit_function (self) * GetInt (self,&quot;physical_damage&quot;) / 2 + GetInt (self,&quot;physical_damage&quot;) * (GetInt (self,&quot;strength&quot;) - GetInt (enemy,&quot;endurance&quot;)) / 100)<br/>              msg (enemy&#46;alias + &quot; has &quot; + enemy&#46;current_health_points + &quot; HP left&#46;&quot;)<br/>            } else if (self&#46;defending = false and enemy&#46;defending = false) {<br/>              enemy&#46;current_health_points = enemy&#46;current_health_points - (critical_hit_function (self) * GetInt (self,&quot;physical_damage&quot;) + GetInt (self,&quot;physical_damage&quot;) * (GetInt (self,&quot;strength&quot;) - GetInt (enemy,&quot;endurance&quot;)) / 100)<br/>              msg (enemy&#46;alias + &quot; has &quot; + enemy&#46;current_health_points + &quot; HP left&#46;&quot;)<br/>            }<br/>          }<br/>        }<br/>        case (&quot;Defend&quot;) {<br/>\t\t  msg (&quot;You defend yourself against &quot; + enemy&#46;alias)<br/>          self&#46;defending = true<br/>        }<br/>        case (&quot;Cast&quot;) {<br/>          self&#46;defending = false<br/>        }<br/>        case (&quot;Item&quot;) {<br/>          self&#46;defending = false<br/>        }<br/>        case (&quot;Run&quot;) {<br/>          self&#46;defending = false<br/>\t\t  self&#46;escaping = true<br/>        }<br/>      }<br/>      if (GetInt (enemy,&quot;current_health_points&quot;) &gt; 0) {<br/>\t    if ( RandomChance (GetInt (self,&quot;speed&quot;) - GetInt (enemy,&quot;speed&quot;))= true) {<br/>          msg (&quot;You get an extra battle turn!&quot;)<br/>          self_battle_turn (self,enemy)<br/>        } else {<br/>          msg (&quot;Your battle turn is over&#46;&quot;)<br/>        }<br/>      } else if (GetInt (enemy,&quot;current_health_points&quot;) &lt;= 0) {<br/>        msg (enemy&#46;alias + &quot; is dead&#46;&quot;)<br/>        msg (&quot;You have won the battle!&quot;)<br/>\t\tself&#46;defending = false<br/>\t\tself&#46;escaping = false<br/>        enemy&#46;defending = false<br/>        enemy&#46;dead = true<br/>      }<br/>    }<br/>  }<br/>&#93;&#93;&gt;&lt;/function&gt;<br/><br/>&lt;function name=&quot;enemy_battle_turn_function&quot; parameters=&quot;self,enemy&quot;&gt;&lt;!&#91;CDATA&#91;<br/>  msg (self&#46;alias + &quot; has &quot; + self&#46;current_health_points + &quot; HP left&#46;&quot;)<br/>  msg (enemy&#46;alias + &quot; has &quot; + enemy&#46;current_health_points + &quot; HP left&#46;&quot;)<br/>  result = GetRandomInt (1,3)<br/>  switch (result) {<br/>    case (1) {<br/>      enemy_attack_failed = false<br/>      if (RandomChance (GetInt (self,&quot;agility&quot;) - GetInt (enemy,&quot;speed&quot;)) = true) {<br/>        msg (&quot;You have evaded the attack!&quot;)<br/>        enemy_attack_failed = true<br/>\t\tenemy&#46;defending = false<br/>      } else if (RandomChance (GetInt (self,&quot;dexterity&quot;) - GetInt (enemy,&quot;agility&quot;)) = true) {<br/>        msg (&quot;You have parried the attack!&quot;)<br/>        enemy_attack_failed = true<br/>\t\tenemy&#46;defending = false<br/>      } else if (RandomChance (GetInt (self,&quot;agility&quot;) - GetInt (enemy,&quot;dexterity&quot;)) = true) {<br/>        msg (&quot;You have blocked the attack!&quot;)<br/>        enemy_attack_failed = true<br/>\t    enemy&#46;defending = false<br/>      } else if (RandomChance (GetInt (enemy,&quot;dexterity&quot;) - GetInt (self,&quot;speed&quot;)) = false) {<br/>        msg (enemy&#46;alias +&quot;'s attack missed!&quot;)<br/>        enemy_attack_failed = true<br/>\t\tenemy&#46;defending = false<br/>      } else if (RandomChance (GetInt (self,&quot;armor_class&quot;) - GetInt (enemy,&quot;attack_rating&quot;)) = true) {<br/>        msg (&quot;You weren't penetrated by the attack!&quot;)<br/>        enemy_attack_failed = true<br/>\t    enemy&#46;defending = false<br/>      } else if (enemy_attack_failed = false) {<br/>        if (enemy&#46;defending = true and self&#46;defending = true) {<br/>          self&#46;current_health_points = self&#46;current_health_points - (critical_hit_function (enemy) * 2 * GetInt (enemy,&quot;physical_damage&quot;) / 2 + GetInt (enemy,&quot;physical_damage&quot;) * (GetInt (enemy,&quot;strength&quot;) - GetInt (self,&quot;endurance&quot;)) / 100)<br/>          msg (self&#46;alias + &quot; has &quot; + self&#46;cur_hp + &quot; HP left&#46;&quot;)<br/>          enemy&#46;defending = false<br/>        } else if (enemy&#46;defending = true and self&#46;defending = false) {<br/>          self&#46;current_health_points = self&#46;current_health_points - (critical_hit_function (enemy) * 2 * GetInt (enemy,&quot;physical_damage&quot;) + GetInt (enemy,&quot;physical_damage&quot;) * (GetInt (enemy,&quot;strength&quot;) - GetInt (self,&quot;endurance&quot;)) / 100)<br/>          msg (self&#46;alias + &quot; has &quot; + self&#46;current_health_points + &quot; HP left&#46;&quot;)<br/>          enemy&#46;defending = false<br/>        } else if (enemy&#46;defending = false and self&#46;defending = true) {<br/>          self&#46;current_health_points = self&#46;current_health_points - (critical_hit_function (enemy) * GetInt (enemy,&quot;physical_damage&quot;) / 2 + GetInt (enemy,&quot;physical_damage&quot;) * (GetInt (enemy,&quot;strength&quot;) - GetInt (self,&quot;endurance&quot;)) / 100)<br/>          msg (self&#46;alias + &quot; has &quot; + self&#46;current_health_points + &quot; HP left&#46;&quot;)<br/>        } else if (enemy&#46;defending = false and self&#46;defending = false) {<br/>          self&#46;current_health_points = self&#46;current_health_points - (critical_hit_function (enemy) * GetInt (enemy,&quot;physical_damage&quot;) + GetInt (enemy,&quot;physical_damage&quot;) * (GetInt (enemy,&quot;strength&quot;) - GetInt (self,&quot;endurance&quot;)) / 100)<br/>          msg (self&#46;alias + &quot; has &quot; + self&#46;current_health_points + &quot; HP left&#46;&quot;)<br/>        }<br/>      }<br/>    }<br/>    case (2) {<br/>      msg (enemy&#46;alias + &quot; has choosen to defend itself&#46;&quot;)<br/>      enemy&#46;defending = true<br/>    }<br/>    case (3) {<br/>      enemy&#46;defending = false<br/>      msg (&quot;Cast&quot;)<br/>    }<br/>  }<br/>  if (GetInt (self,&quot;current_health_points&quot;) &gt; 0) {<br/>    if (RandomChance (GetInt (enemy,&quot;speed&quot;) - GetInt (self,&quot;speed&quot;)) = true) {<br/>      msg (enemy&#46;alias + &quot; gets an extra battle turn!&quot;)<br/>      wait {<br/>        enemy_battle_turn (self,enemy)<br/>      }<br/>    } else {<br/>      msg (enemy&#46;alias + &quot; 's battle turn is over&#46;&quot;)<br/>    }<br/>  } else if (GetInt (self,&quot;current_health_points&quot;) &lt;= 0) {<br/>    msg (self&#46;alias + &quot; has died&#46;&quot;)<br/>    msg (&quot;GAME OVER&quot;)<br/>    finish<br/>  }<br/>&#93;&#93;&gt;&lt;/function&gt;<br/><br/>&lt;function name=&quot;check_reachable_function&quot; parameters=&quot;enemy&quot; type=&quot;boolean&quot;&gt;<br/>  foreach (obj,ScopeReachableNotHeld ()) {<br/>    if (obj=enemy) {<br/>      value = true<br/>\t} else {<br/>\t  value = false<br/>\t}<br/>  }<br/>  return (value)<br/>&lt;/function&gt;<br/><br/>&lt;function name=&quot;critical_hit_function&quot; parameters=&quot;target&quot; type=&quot;int&quot;&gt;<br/>  if (RandomChance (GetInt (target,&quot;luck&quot;)) = true) {<br/>    value = 2<br/>  } else {<br/>    value = 1<br/>  }<br/>  return (value)<br/>&lt;/function&gt;<br/><br/>&lt;function name=&quot;leveling_function&quot;&gt;&lt;!&#91;CDATA&#91;<br/>  if (game&#46;pov&#46;experience_points &gt;= game&#46;pov&#46;level * 100 + 100) {<br/>    game&#46;pov&#46;experience_points = game&#46;pov&#46;experience_points - (game&#46;pov&#46;level * 100 + 100)<br/>\tgame&#46;pov&#46;level = game&#46;pov&#46;level + 1<br/>\tleveling_function<br/>  }<br/>&#93;&#93;&gt;&lt;/function&gt;<br/><br/>&lt;function name=&quot;status_attributes_function&quot;&gt;<br/>  game&#46;pov&#46;health_points = game&#46;pov&#46;current_health_points + &quot;/&quot; + game&#46;pov&#46;maximum_health_points<br/>  game&#46;pov&#46;mana_points = game&#46;pov&#46;current_mana_points + &quot;/&quot; + game&#46;pov&#46;maximum_mana_points<br/>&lt;/function&gt;</code></pre>",
      "PostDate": "2013-09-08T18:50:22+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "26191",
      "UserId": 0,
      "Username": "HegemonKhan",
      "UserAvatar": null,
      "UserGravatar": "a96cf34d8d97c57de38f54ee22b1759b",
      "EditableText": "[quote=&quot;porunopal&quot;:3nd94byy]the purpose like mine is to refresh the room description, which involves going to another room, e.g. a battle dungeon, but how the hell do you get back to the previous room. Do you store the name of the room in a variable? If so, how do you refer to the current room then implement the variable in to warp the player?!![/quote:3nd94byy]\n\n(I did this coding super quick, so it's extremely poor ~ lacking a lot of scripts and has bad design, and~or maybe has errors in it ~ doesn't work, but it does demonstrate the aspects that you desire)\n\n[code:3nd94byy]&lt;game name=&quot;blah&quot;&gt;\n  // blah code lines\n  &lt;room_to_return_to_after_the_fight type=&quot;object&quot;&gt;null&lt;/room_to_return_to_after_the_fight&gt;\n  // blah code lines\n&lt;/game&gt;\n\n&lt;object name=&quot;room&quot;&gt;\n  &lt;inherit name=&quot;editor_room&quot; /&gt;\n  &lt;object name=&quot;player&quot;&gt;\n    &lt;inherit name=&quot;player_object&quot; /&gt;\n    &lt;inherit name=&quot;editor_object&quot; /&gt;\n  &lt;/object&gt;\n  // &quot;orc_1&quot; Object is suppose to be placed here too, but see below, as I don't want to try to redo it correctly, lol\n&lt;object&gt;\n\n&lt;object name=&quot;battle_room&quot;&gt;\n  &lt;inherit name=&quot;editor_room&quot; /&gt;\n&lt;object&gt;\n\n&lt;object name=&quot;orc_1&quot;&gt;\n  &lt;inherit name=&quot;editor_object&quot; /&gt;\n  &lt;parent type=&quot;object&quot;&gt;room&lt;/parent&gt; // to account for not putting this, &quot;orc_1&quot;, Object into the &quot;room&quot; Room Object&#46; \n  &lt;displayverbs type=&quot;simplestringlist&quot;&gt;Lookat; Fight; Attack; etc&lt;/displayverbs&gt;\n  &lt;fight type=&quot;script&quot;&gt;\n    if (this&#46;dead=false) {\n      game&#46;room_to_return_to_after_the_fight = player&#46;parent // &quot;saving&quot; the location (&quot;room&quot;)\n      this&#46;parent=battle_room // moving &quot;orc_1&quot; to new location (&quot;battle_room&quot;)\n      player&#46;parent=battle_room // moving &quot;player&quot; to new location (&quot;battle_room&quot;)\n    }\n  &lt;/fight&gt;\n  &lt;attack type=&quot;script&quot;&gt;\n    if (this&#46;parent=battle_room and player&#46;parent=battle_room) {\n      if (this&#46;dead=true) {\n        this&#46;parent=game&#46;room_to_return_to_after_the_fight // &quot;loading&quot; the saved location (&quot;room&quot;), ie moving &quot;orc_1&quot; back to &quot;room&quot;&#46;\n        player&#46;parent=game&#46;room_to_return_to_after_the_fight // // &quot;loading&quot; the saved location (&quot;room&quot;), ie moving &quot;player&quot; back to &quot;room&quot;&#46;\n      } else {\n        this&#46;hp=this&#46;hp-player&#46;damage\n        player&#46;hp=player&#46;hp-this&#46;damage\n        if (player&#46;hp=0) {\n          finish\n        } else if (this&#46;hp=0) {\n          this&#46;dead=true\n        }\n        invoke (this&#46;attack)\n      }\n    }\n  &lt;/attack&gt;\n&lt;/object&gt;[/code:3nd94byy]",
      "EditableFormat": "bbcode",
      "HTML": "<blockquote><cite>porunopal wrote:</cite>the purpose like mine is to refresh the room description, which involves going to another room, e.g. a battle dungeon, but how the hell do you get back to the previous room. Do you store the name of the room in a variable? If so, how do you refer to the current room then implement the variable in to warp the player?!!</blockquote><br/><br/>(I did this coding super quick, so it's extremely poor ~ lacking a lot of scripts and has bad design, and~or maybe has errors in it ~ doesn't work, but it does demonstrate the aspects that you desire)<br/><br/><pre><code>&lt;game name=&quot;blah&quot;&gt;<br/>  // blah code lines<br/>  &lt;room_to_return_to_after_the_fight type=&quot;object&quot;&gt;null&lt;/room_to_return_to_after_the_fight&gt;<br/>  // blah code lines<br/>&lt;/game&gt;<br/><br/>&lt;object name=&quot;room&quot;&gt;<br/>  &lt;inherit name=&quot;editor_room&quot; /&gt;<br/>  &lt;object name=&quot;player&quot;&gt;<br/>    &lt;inherit name=&quot;player_object&quot; /&gt;<br/>    &lt;inherit name=&quot;editor_object&quot; /&gt;<br/>  &lt;/object&gt;<br/>  // &quot;orc_1&quot; Object is suppose to be placed here too, but see below, as I don't want to try to redo it correctly, lol<br/>&lt;object&gt;<br/><br/>&lt;object name=&quot;battle_room&quot;&gt;<br/>  &lt;inherit name=&quot;editor_room&quot; /&gt;<br/>&lt;object&gt;<br/><br/>&lt;object name=&quot;orc_1&quot;&gt;<br/>  &lt;inherit name=&quot;editor_object&quot; /&gt;<br/>  &lt;parent type=&quot;object&quot;&gt;room&lt;/parent&gt; // to account for not putting this, &quot;orc_1&quot;, Object into the &quot;room&quot; Room Object&#46; <br/>  &lt;displayverbs type=&quot;simplestringlist&quot;&gt;Lookat; Fight; Attack; etc&lt;/displayverbs&gt;<br/>  &lt;fight type=&quot;script&quot;&gt;<br/>    if (this&#46;dead=false) {<br/>      game&#46;room_to_return_to_after_the_fight = player&#46;parent // &quot;saving&quot; the location (&quot;room&quot;)<br/>      this&#46;parent=battle_room // moving &quot;orc_1&quot; to new location (&quot;battle_room&quot;)<br/>      player&#46;parent=battle_room // moving &quot;player&quot; to new location (&quot;battle_room&quot;)<br/>    }<br/>  &lt;/fight&gt;<br/>  &lt;attack type=&quot;script&quot;&gt;<br/>    if (this&#46;parent=battle_room and player&#46;parent=battle_room) {<br/>      if (this&#46;dead=true) {<br/>        this&#46;parent=game&#46;room_to_return_to_after_the_fight // &quot;loading&quot; the saved location (&quot;room&quot;), ie moving &quot;orc_1&quot; back to &quot;room&quot;&#46;<br/>        player&#46;parent=game&#46;room_to_return_to_after_the_fight // // &quot;loading&quot; the saved location (&quot;room&quot;), ie moving &quot;player&quot; back to &quot;room&quot;&#46;<br/>      } else {<br/>        this&#46;hp=this&#46;hp-player&#46;damage<br/>        player&#46;hp=player&#46;hp-this&#46;damage<br/>        if (player&#46;hp=0) {<br/>          finish<br/>        } else if (this&#46;hp=0) {<br/>          this&#46;dead=true<br/>        }<br/>        invoke (this&#46;attack)<br/>      }<br/>    }<br/>  &lt;/attack&gt;<br/>&lt;/object&gt;</code></pre>",
      "PostDate": "2013-09-09T00:40:09+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "26192",
      "UserId": 0,
      "Username": "porunopal",
      "UserAvatar": null,
      "UserGravatar": "e88edcefb7565cb1812009907ead4846",
      "EditableText": "Hey guys, thanks a lot for your input, it has really helped and the room solution is fantastic!\n\nI have another question tho, say I made a complete battle system function but it had to sub in the name of the enemy could I use something like:\n\ncreate an attribute\nname it game.enemyname\nset variable: game.enemyname = minotaur.name/minotaur.alias\n\ntherefore in the function game.enemyname.name\n\nso it would go minotaur.name therefore the name of the minotaur object is minotaur.\n\ncan you sub names in when referring to an object?",
      "EditableFormat": "bbcode",
      "HTML": "Hey guys, thanks a lot for your input, it has really helped and the room solution is fantastic!<br/><br/>I have another question tho, say I made a complete battle system function but it had to sub in the name of the enemy could I use something like:<br/><br/>create an attribute<br/>name it game.enemyname<br/>set variable: game.enemyname = minotaur.name/minotaur.alias<br/><br/>therefore in the function game.enemyname.name<br/><br/>so it would go minotaur.name therefore the name of the minotaur object is minotaur.<br/><br/>can you sub names in when referring to an object?",
      "PostDate": "2013-09-09T12:31:54+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "26193",
      "UserId": 0,
      "Username": "jaynabonne",
      "UserAvatar": "6579_1344778256.jpg",
      "UserGravatar": "379859a7f1952a65399fc63997e68f0b",
      "EditableText": "If all you need is the enemy name, then you can do that. But if you want to actually refer to the current enemy, then it makes more sense to simply use the enemy object itself.\n\nLet's say you have two enemies:\n\n[code:3muk4hqk]&lt;object name=&quot;Minotaur&quot;&gt;\n&#46;&#46;&#46;\n&lt;/object&gt;\n\n&lt;object name=&quot;Dragon&quot;&gt;\n&#46;&#46;&#46;\n&lt;/object&gt;[/code:3muk4hqk]\nand you want to have a generic combat system. Then you could have a function like:\n\n[code:3muk4hqk]&lt;function name=&quot;BeginCombat&quot; parameters=&quot;enemy&quot;&gt;\n  // Set the current enemy in the game object&#46;\n  game&#46;currentenemy = enemy\n&lt;/function&gt;[/code:3muk4hqk]\nYou would invoke it by calling the function with the enemy *object* reference, not its name:\n\n[code:3muk4hqk]BeginCombat(Minotaur)[/code:3muk4hqk]\nor\n\n[code:3muk4hqk]BeginCombat(Dragon)[/code:3muk4hqk]\nNote that those are direct object references, not name strings (there are no quotes around them). Then any time you want, you can grab the attributes of that enemy. For example, to get it's name, you'd use:\n\n[code:3muk4hqk]msg(&quot;The current enemy name is &quot; + game&#46;currentenemy&#46;name)[/code:3muk4hqk]\nIf you really do want to use the name of the enemy in spots as in incoming param, then I would still convert it to an object reference for use (using GetObject). It's too difficult storing and manipulating objects by their names all the time.",
      "EditableFormat": "bbcode",
      "HTML": "If all you need is the enemy name, then you can do that. But if you want to actually refer to the current enemy, then it makes more sense to simply use the enemy object itself.<br/><br/>Let's say you have two enemies:<br/><br/><pre><code>&lt;object name=&quot;Minotaur&quot;&gt;<br/>&#46;&#46;&#46;<br/>&lt;/object&gt;<br/><br/>&lt;object name=&quot;Dragon&quot;&gt;<br/>&#46;&#46;&#46;<br/>&lt;/object&gt;</code></pre><br/>and you want to have a generic combat system. Then you could have a function like:<br/><br/><pre><code>&lt;function name=&quot;BeginCombat&quot; parameters=&quot;enemy&quot;&gt;<br/>  // Set the current enemy in the game object&#46;<br/>  game&#46;currentenemy = enemy<br/>&lt;/function&gt;</code></pre><br/>You would invoke it by calling the function with the enemy *object* reference, not its name:<br/><br/><pre><code>BeginCombat(Minotaur)</code></pre><br/>or<br/><br/><pre><code>BeginCombat(Dragon)</code></pre><br/>Note that those are direct object references, not name strings (there are no quotes around them). Then any time you want, you can grab the attributes of that enemy. For example, to get it's name, you'd use:<br/><br/><pre><code>msg(&quot;The current enemy name is &quot; + game&#46;currentenemy&#46;name)</code></pre><br/>If you really do want to use the name of the enemy in spots as in incoming param, then I would still convert it to an object reference for use (using GetObject). It's too difficult storing and manipulating objects by their names all the time.",
      "PostDate": "2013-09-09T12:48:01+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "26243",
      "UserId": 0,
      "Username": "porunopal",
      "UserAvatar": null,
      "UserGravatar": "e88edcefb7565cb1812009907ead4846",
      "EditableText": "Ah, ok, well I'll see if I can implement it!\n\nThanks again for your help, and thanks kan for yours!",
      "EditableFormat": "bbcode",
      "HTML": "Ah, ok, well I'll see if I can implement it!<br/><br/>Thanks again for your help, and thanks kan for yours!",
      "PostDate": "2013-09-13T08:17:05+01:00",
      "LastEditDate": null
    }
  ]
}
