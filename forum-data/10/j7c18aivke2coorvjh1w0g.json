{
  "Topic": {
    "TopicId": "j7c18aivke2coorvjh1w0g",
    "ForumId": "10",
    "Title": "Script that changes page description or adds scripts depending on which page you came from",
    "LastUpdated": "2021-07-28T04:04:13.2951105Z",
    "ReplyCount": 0
  },
  "Posts": [
    {
      "PostId": "e6ade5d2-c6f2-420c-8994-2b5a2a338363",
      "UserId": 554565,
      "Username": "Local_Redditor",
      "AvatarUrl": "https://secure.gravatar.com/avatar/d399e24d4df00712ccd605ca2550624d?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "I'm making a gamebook. I want to know if there are any scripts like the following,\r\n\r\nIf: Player came from [page name], Then: ...\r\n\r\nI'm pretty new to scripting, and sorry if I didn't explain it very well.\r\n\r\nedit: Is it also possible to add other scripts instead of the page descriptions?",
      "EditableFormat": "markdown",
      "HTML": "<p>I'm making a gamebook. I want to know if there are any scripts like the following,</p>\n<p>If: Player came from [page name], Then: ...</p>\n<p>I'm pretty new to scripting, and sorry if I didn't explain it very well.</p>\n<p>edit: Is it also possible to add other scripts instead of the page descriptions?</p>\n\n",
      "PostDate": "2021-07-28T04:04:13.2951105Z",
      "LastEditDate": "2021-07-28T13:49:00.7155434Z",
      "link": null
    },
    {
      "PostId": "c116b3f6-4e75-4fa8-a57a-d2c43540adfa",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "(in this post, I'm showing script in code view. If you prefer to use the GUI to enter scripts, you can paste it into code view and then switch back so it will show you what the script looks like)\r\n\r\nIn most cases, it's probably easier to use an attribute as part of your description.\r\n\r\nFor example, here's a part of the story where you're enjoying a picnic with some character. The player gets asked what they want to eat. On the page \"eat sandwich\", there's a description of what the sandwich is like, and a 'script' section which contains the line:\r\n```\r\nthanks.foodeaten = \"sandwich\"\r\n```\r\nOn another page, maybe the player chooses to snack on cupcakes. There's a little banter and some stuff might happen, and the line:\r\n```\r\nthanks.foodeaten = \"cakes\"\r\n```\r\nBoth of these pages have a link to a page named `thanks` where you say thankyou to the NPC, and leave. Its description includes the line:\r\n```\r\n“I had a great time,\" you say. “Thank you for the {thanks.foodeaten}, but I really need to go save the world.”\r\n```\r\n\r\nMost cases where you want to change a future page would be easier done by setting some variable on the previous page. If you visit more than one of these pages, it will use the most recently visited.\r\n\r\nNote that you can call the attribute anything you want; `thanks.lasteaten` is just an example. The part before the dot must either be the exact name of a page (normally the page you're using it on), or `game`, or `player`. This makes it easier to keep track of them when the game gets more complex.\r\n\r\n**or**\r\n\r\nIf you really want to find the last page visited, then you will need to modify the core scripts a little. On your first page, put a script like this:\r\n```\r\ngame.lastpage = player.parent\r\nplayer.changedparent => {\r\n  game.lastpage = oldvalue\r\n  DoPage (player.parent)\r\n}\r\n```\r\nThen, a page which needs to change depending on where you came from can include a description like this:\r\n```\r\nYou stride into a clearing. {if lastpage=slap john:You can still hear John yelling angrily after you.}\r\n```\r\nNote that you have to enter the name of the page exactly, including whether it's capitalised or not.\r\n\r\nIf neither of these methods works for you, could you provide a little more detail about your situation?",
      "EditableFormat": "markdown",
      "HTML": "<p>(in this post, I'm showing script in code view. If you prefer to use the GUI to enter scripts, you can paste it into code view and then switch back so it will show you what the script looks like)</p>\n<p>In most cases, it's probably easier to use an attribute as part of your description.</p>\n<p>For example, here's a part of the story where you're enjoying a picnic with some character. The player gets asked what they want to eat. On the page \"eat sandwich\", there's a description of what the sandwich is like, and a 'script' section which contains the line:</p>\n<pre><code>thanks.foodeaten = \"sandwich\"\n</code></pre>\n<p>On another page, maybe the player chooses to snack on cupcakes. There's a little banter and some stuff might happen, and the line:</p>\n<pre><code>thanks.foodeaten = \"cakes\"\n</code></pre>\n<p>Both of these pages have a link to a page named <code>thanks</code> where you say thankyou to the NPC, and leave. Its description includes the line:</p>\n<pre><code>“I had a great time,\" you say. “Thank you for the {thanks.foodeaten}, but I really need to go save the world.”\n</code></pre>\n<p>Most cases where you want to change a future page would be easier done by setting some variable on the previous page. If you visit more than one of these pages, it will use the most recently visited.</p>\n<p>Note that you can call the attribute anything you want; <code>thanks.lasteaten</code> is just an example. The part before the dot must either be the exact name of a page (normally the page you're using it on), or <code>game</code>, or <code>player</code>. This makes it easier to keep track of them when the game gets more complex.</p>\n<p><strong>or</strong></p>\n<p>If you really want to find the last page visited, then you will need to modify the core scripts a little. On your first page, put a script like this:</p>\n<pre><code>game.lastpage = player.parent\nplayer.changedparent =&gt; {\n  game.lastpage = oldvalue\n  DoPage (player.parent)\n}\n</code></pre>\n<p>Then, a page which needs to change depending on where you came from can include a description like this:</p>\n<pre><code>You stride into a clearing. {if lastpage=slap john:You can still hear John yelling angrily after you.}\n</code></pre>\n<p>Note that you have to enter the name of the page exactly, including whether it's capitalised or not.</p>\n<p>If neither of these methods works for you, could you provide a little more detail about your situation?</p>\n\n",
      "PostDate": "2021-07-28T09:51:10.1098241Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "86f388fb-17c1-4ba0-bbb7-f1e75ed86e7d",
      "UserId": 554565,
      "Username": "Local_Redditor",
      "AvatarUrl": "https://secure.gravatar.com/avatar/d399e24d4df00712ccd605ca2550624d?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Okay, imagine there were 4 pages, all named Page1, Page2, Page3 and Page4. From Page1, you can go to Page2 and Page3. Both Page2 and Page3 leads to Page4. I want Page4 to change the page description (or better yet, add more scripts to it) depending on which page you came from. I could use the 'if player has seen page' script, but I really want these pages to be used multiple times.\r\n\r\nEdit: Also, if there would happen to be a Page5 too, is it possible to have the changes that were applied to Page4 instead be applied to Page5 or any other page? Or do I just use flags for them?\r\n\r\nAgain, I am pretty new to quest. Started using it in april, using scripts since last month, and literally no coding experience. Sorry for the inconvenience, but thanks for the help.",
      "EditableFormat": "markdown",
      "HTML": "<p>Okay, imagine there were 4 pages, all named Page1, Page2, Page3 and Page4. From Page1, you can go to Page2 and Page3. Both Page2 and Page3 leads to Page4. I want Page4 to change the page description (or better yet, add more scripts to it) depending on which page you came from. I could use the 'if player has seen page' script, but I really want these pages to be used multiple times.</p>\n<p>Edit: Also, if there would happen to be a Page5 too, is it possible to have the changes that were applied to Page4 instead be applied to Page5 or any other page? Or do I just use flags for them?</p>\n<p>Again, I am pretty new to quest. Started using it in april, using scripts since last month, and literally no coding experience. Sorry for the inconvenience, but thanks for the help.</p>\n\n",
      "PostDate": "2021-07-28T12:59:29.3926881Z",
      "LastEditDate": "2021-07-28T14:23:13.0146805Z",
      "link": null
    },
    {
      "PostId": "75134811-9fb3-42c9-886f-c771f22df340",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "You could create a string attribute to include in Page 4, as I suggested previously. Or you could set a flag when visiting each of those pages, and have your script choose what to do based on that.",
      "EditableFormat": "markdown",
      "HTML": "<p>You could create a string attribute to include in Page 4, as I suggested previously. Or you could set a flag when visiting each of those pages, and have your script choose what to do based on that.</p>\n\n",
      "PostDate": "2021-07-28T18:02:06.4163419Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "39c0d7aa-3d0e-4ac8-975c-f36feafa1131",
      "UserId": 260569,
      "Username": "DarkLizerd",
      "AvatarUrl": "https://i.imgur.com/HiZKEtPb.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "OR... something simple and different...\r\nBefore you start:\r\ngame.p1=\"\"\r\ngame.p2=\"\"\r\ngame.p3=\"\"\r\non page 1:\r\ngame.p1=\"So, you were on page 1, I guess everyone starts there.\"\r\non page 2:\r\ngame.p2=\"Then you went to page 2, half the people go there.\"\r\non page 3:\r\ngame.p3=\"Then you took the road to page 3, not everyone goes that way.\"\r\non page 4:\r\n(room description)\r\nmsg (game.p1)\r\nmsg(game.p2)\r\nmsg(game.p3)\r\nmsg(\"So, did you like your trip?\")\r\n\r\nAltho, this will leave a blank line for the \"path not taken\"...\r\n",
      "EditableFormat": "markdown",
      "HTML": "<p>OR... something simple and different...<br>\nBefore you start:<br>\ngame.p1=\"\"<br>\ngame.p2=\"\"<br>\ngame.p3=\"\"<br>\non page 1:<br>\ngame.p1=\"So, you were on page 1, I guess everyone starts there.\"<br>\non page 2:<br>\ngame.p2=\"Then you went to page 2, half the people go there.\"<br>\non page 3:<br>\ngame.p3=\"Then you took the road to page 3, not everyone goes that way.\"<br>\non page 4:<br>\n(room description)<br>\nmsg (game.p1)<br>\nmsg(game.p2)<br>\nmsg(game.p3)<br>\nmsg(\"So, did you like your trip?\")</p>\n<p>Altho, this will leave a blank line for the \"path not taken\"...</p>\n\n",
      "PostDate": "2021-07-29T03:46:53.3684096Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "e0afd6e3-d4e6-46d7-918b-73bba944e0d9",
      "UserId": 554565,
      "Username": "Local_Redditor",
      "AvatarUrl": "https://secure.gravatar.com/avatar/d399e24d4df00712ccd605ca2550624d?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Okay, hopefully this will be the last question I have. Now imagine there were only 2 pages, Page1 and Page2. Page1 has about 3 links that lead to page2. Is it possible to have the page description and page scripts change depending on which link I used? Or am I just expecting too much from gamebook.\r\n\r\nAnyways, thanks for all the help.",
      "EditableFormat": "markdown",
      "HTML": "<p>Okay, hopefully this will be the last question I have. Now imagine there were only 2 pages, Page1 and Page2. Page1 has about 3 links that lead to page2. Is it possible to have the page description and page scripts change depending on which link I used? Or am I just expecting too much from gamebook.</p>\n<p>Anyways, thanks for all the help.</p>\n\n",
      "PostDate": "2021-07-29T15:03:04.783257Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "d7b87709-e71d-41d8-8aed-3acd8acb9b88",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "> Page1 has about 3 links that lead to page2. Is it possible to have the page description and page scripts change depending on which link I used?\r\n\r\nNo. When the player clicks a link in gamebook mode, their browser sends the Quest backend a \"command\" which is simply the name of the page they're going to.\r\n\r\nIn fact, I think the default options menu *can't* contain two links that go to the same page.\r\n\r\nThe usual way to deal with this situation is to write 3 different copies of Page2, one for each of the options.\r\nIf this isn't practical, you could have 3 'dummy' pages, which the player can never visit them. Each of them just sets a flag or number, and then sends the player to the real Page2.\r\n\r\nFor example, one of them might have the script:\r\n```\r\nPage1.which_link = \"Link 1\"\r\nMovePlayer (Page2)\r\n```",
      "EditableFormat": "markdown",
      "HTML": "<blockquote>\n<p>Page1 has about 3 links that lead to page2. Is it possible to have the page description and page scripts change depending on which link I used?</p>\n</blockquote>\n<p>No. When the player clicks a link in gamebook mode, their browser sends the Quest backend a \"command\" which is simply the name of the page they're going to.</p>\n<p>In fact, I think the default options menu <em>can't</em> contain two links that go to the same page.</p>\n<p>The usual way to deal with this situation is to write 3 different copies of Page2, one for each of the options.<br>\nIf this isn't practical, you could have 3 'dummy' pages, which the player can never visit them. Each of them just sets a flag or number, and then sends the player to the real Page2.</p>\n<p>For example, one of them might have the script:</p>\n<pre><code>Page1.which_link = \"Link 1\"\nMovePlayer (Page2)\n</code></pre>\n\n",
      "PostDate": "2021-07-29T21:28:45.9204541Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "dbafff1a-df17-4320-afd9-a866f951586d",
      "UserId": 554565,
      "Username": "Local_Redditor",
      "AvatarUrl": "https://secure.gravatar.com/avatar/d399e24d4df00712ccd605ca2550624d?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Is it possible in text adventure type games?",
      "EditableFormat": "markdown",
      "HTML": "<p>Is it possible in text adventure type games?</p>\n\n",
      "PostDate": "2021-07-30T04:21:54.0464278Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "60645261-cc23-45cb-ad65-b13280fd584e",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "In text adventures, you don't have pages and links. The closest thing would be rooms and exits; and there's no problem having multiple exits. In a text adventure, an exit can have a script that runs when you go through it, before (or instead of) reaching the room on the other side.",
      "EditableFormat": "markdown",
      "HTML": "<p>In text adventures, you don't have pages and links. The closest thing would be rooms and exits; and there's no problem having multiple exits. In a text adventure, an exit can have a script that runs when you go through it, before (or instead of) reaching the room on the other side.</p>\n\n",
      "PostDate": "2021-07-30T08:51:48.0221569Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "7de91865-3211-4cac-84d7-6914603177af",
      "UserId": 554565,
      "Username": "Local_Redditor",
      "AvatarUrl": "https://secure.gravatar.com/avatar/d399e24d4df00712ccd605ca2550624d?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Okay, thanks for all the help.",
      "EditableFormat": "markdown",
      "HTML": "<p>Okay, thanks for all the help.</p>\n\n",
      "PostDate": "2021-07-30T12:11:13.676739Z",
      "LastEditDate": null,
      "link": null
    }
  ]
}
