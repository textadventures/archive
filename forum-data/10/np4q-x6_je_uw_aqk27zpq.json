{
  "Topic": {
    "TopicId": "np4q-x6_je_uw_aqk27zpq",
    "ForumId": "10",
    "Title": "Creating content from a text file - I'm bringing it back!",
    "LastUpdated": "2017-10-18T06:30:07.8724053Z",
    "ReplyCount": 0
  },
  "Posts": [
    {
      "PostId": "8f514f8d-d392-452c-b732-a850c448119b",
      "UserId": 318253,
      "Username": "K.V.",
      "AvatarUrl": "http://i.imgur.com/FOIjtApb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Here's the file I was recently playing with:\r\n\r\n```\r\nnew=kv_special_item_1\r\nalias=black shard of &infin;\r\nlook=It's the black shard, which is the most powerful of them all!\r\nparent=game.pov\r\n\r\nfind=kv_green_shard\r\nparent=game.pov\r\n\r\nnew=thingy\r\nparent=game.pov.parent\r\n\r\nnew=anotherThing\r\nparent=player.parent\r\n\r\nnew=thing3\r\nparent=here\r\n```\r\n\r\n---\r\nAnd you can find the good stuff here:\r\n\r\nhttp://textadventures.co.uk/forum/games/topic/ipp8zwszfkgs7gvslljsmw/pixies-quest-new-game-from-qfq-and-an-open-thank-you-to-the-man-himself#79976cde-b1e4-492e-b4dd-fce2fb330c4d\r\n\r\n\r\n---\r\nThe original post by The Pixie, just over 2 years ago:\r\n\r\nhttps://textadventures.co.uk/forum/samples/topic/5512/creating-content-from-a-text-file",
      "EditableFormat": "markdown",
      "HTML": "<p>Here's the file I was recently playing with:</p>\n<pre><code>new=kv_special_item_1\nalias=black shard of &amp;infin;\nlook=It's the black shard, which is the most powerful of them all!\nparent=game.pov\n\nfind=kv_green_shard\nparent=game.pov\n\nnew=thingy\nparent=game.pov.parent\n\nnew=anotherThing\nparent=player.parent\n\nnew=thing3\nparent=here\n</code></pre>\n<hr>\n<p>And you can find the good stuff here:</p>\n<p>http://textadventures.co.uk/forum/games/topic/ipp8zwszfkgs7gvslljsmw/pixies-quest-new-game-from-qfq-and-an-open-thank-you-to-the-man-himself#79976cde-b1e4-492e-b4dd-fce2fb330c4d</p>\n<hr>\n<p>The original post by The Pixie, just over 2 years ago:</p>\n<p>https://textadventures.co.uk/forum/samples/topic/5512/creating-content-from-a-text-file</p>\n\n",
      "PostDate": "2017-10-18T06:30:07.8724053Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "ad512c87-992b-4054-9ebf-91d23b742b2d",
      "UserId": 318253,
      "Username": "K.V.",
      "AvatarUrl": "http://i.imgur.com/FOIjtApb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "## UPDATE\r\n\r\nNow you can bring in text from a Gist (or something of that nature).\r\n\r\n---\r\n### UPDATED AGAIN\r\n\r\nNow you can set up ```take``` and ```takemsg```.\r\n\r\n---\r\n[Play or Download](http://textadventures.co.uk/games/view/n8ff8bfd-kwzwiynzuu_ca/get-text-from-url \"http://textadventures.co.uk/games/view/n8ff8bfd-kwzwiynzuu_ca/get-text-from-url\") the example game.\r\n\r\n---\r\n\r\nGet the code here:\r\n\r\n[Quest_load-text-from-url](https://gist.github.com/KVonGit/1824536eea4bc2697bc923be12cfee55 \"View this file at gist.github.com\")\r\n\r\n\r\n---\r\n...or click below to view the code:\r\n\r\n<details>\r\n\r\n```\r\n<!--Saved by Quest 5.7.6404.15496-->\r\n<asl version=\"550\">\r\n  <include ref=\"English.aslx\" />\r\n  <include ref=\"Core.aslx\" />\r\n  <game name=\"Get Text from URL\">\r\n    <gameid>3cc0685e-0493-4ece-af9e-57c7b17f6661</gameid>\r\n    <version>example-v0.0.11</version>\r\n    <firstpublished>2017</firstpublished>\r\n    <attr name=\"example_url\">https://gist.githubusercontent.com/KVonGit/395b7022073fe6e30f89f6c8911100a8/raw/4db24917bf20e8c61156dfcc13c5eac7abd61642/addtogame.md</attr>\r\n    <description><![CDATA[To load text from a Gist (or something of that nature):<br/><br/>LoadOnlineFile(url)<br/><br/>---<br/>To load text from a file in the game's main directory:<br/><br/>LoadFile(filename)<br/><br/>---<br/>Link to this game's code:<br/><br/>https://gist.github.com/KVonGit/1824536eea4bc2697bc923be12cfee55]]></description>\r\n    <feature_advancedscripts />\r\n    <commandpane />\r\n    <start type=\"script\">\r\n      JS.eval (\"getTextFromUrl = function(url){theUrl = url;var xmlHttp = new XMLHttpRequest();xmlHttp.open( 'GET', theUrl, false );xmlHttp.send( null );ASLEvent('SetText', xmlHttp.responseText);};\")\r\n    </start>\r\n    <inituserinterface type=\"script\">\r\n      JS.setCommands (\"Load File\", \"black\")\r\n    </inituserinterface>\r\n  </game>\r\n  <object name=\"room\">\r\n    <inherit name=\"editor_room\" />\r\n    <enter type=\"script\">\r\n      // LoadOnlineFile (game.example_url)\r\n    </enter>\r\n    <object name=\"player\">\r\n      <inherit name=\"editor_object\" />\r\n      <inherit name=\"editor_player\" />\r\n    </object>\r\n  </object>\r\n  <command name=\"load_data_cmd\">\r\n    <pattern>load data;loaddata;loadfile;load file</pattern>\r\n    <script><![CDATA[\r\n      Ask (\"Would you like to load the example?\") {\r\n        if (result) {\r\n          url = game.example_url\r\n          LoadOnlineFile (url)\r\n        }\r\n        else {\r\n          msg (\"Okay.<br/>\")\r\n          msg (\"Please enter the url.\")\r\n          msg (\"<br/>Example url:<br/> <span style='word-wrap: break-word;'>\"+game.example_url)\r\n          get input {\r\n            url = result\r\n            LoadOnlineFile (url)\r\n          }\r\n        }\r\n      }\r\n    ]]></script>\r\n  </command>\r\n  <function name=\"SetText\" parameters=\"text\">\r\n    game.downloaded_text = text\r\n    // msg (game.downloaded_text)\r\n  </function>\r\n  <function name=\"LoadOnlineFile\" parameters=\"url\">\r\n    JS.getTextFromUrl (url)\r\n    msg (\"Downloading online content...\")\r\n    SetTimeout (5) {\r\n      s = game.downloaded_text\r\n      if (not HasString(game, \"downloaded_text\")) {\r\n        error (\" Download failed. Try again.  If playing online, this won't work just yet.\")\r\n      }\r\n      current_object = null\r\n      game.setUp = false\r\n      foreach (line, Split(s, \"\\n\")) {\r\n        line = Crop(line)\r\n        if (not line = \"\" and not StartsWith(line, \"#\")) {\r\n          bits = Split(line, \"=\")\r\n          if (StringListItem(bits, 0) = \"new\") {\r\n            if (ListCount(bits) = 2) {\r\n              create (StringListItem(bits, 1))\r\n              current_object = GetObject(StringListItem(bits, 1))\r\n            }\r\n            else {\r\n              create (StringListItem(bits, 2), StringListItem(bits, 1))\r\n              current_object = GetObject(StringListItem(bits, 2))\r\n            }\r\n          }\r\n          else if (StringListItem(bits, 0) = \"find\") {\r\n            current_object = GetObject(StringListItem(bits, 1))\r\n            if (current_object = null) {\r\n              error (\"Failed to find \" + StringListItem(bits, 1) + \" in the game world. Things will go badly...\")\r\n            }\r\n          }\r\n          else if (StringListItem(bits, 0) = \"exit\") {\r\n            create exit (StringListItem(bits, 2), null, null, null, StringListItem(bits, 1))\r\n            current_object = GetObject(StringListItem(bits, 2))\r\n          }\r\n          else if (StringListItem(bits, 0) = \"parent\") {\r\n            newParent = StringListItem(bits, 1)\r\n            if (newParent = \"game.pov\") {\r\n              current_object.parent = game.pov.name\r\n              game.setUp = true\r\n              list remove (bits, \"game.pov\")\r\n              list add (bits, game.pov.name)\r\n            }\r\n            else if (newParent = \"game.pov.parent\") {\r\n              current_object.parent = game.pov.parent.name\r\n              game.setUp = true\r\n              list remove (bits, \"game.pov.parent\")\r\n              list add (bits, game.pov.parent.name)\r\n            }\r\n            else if (newParent = \"here\") {\r\n              current_object.parent = game.pov.parent.name\r\n              game.setUp = true\r\n              list remove (bits, \"here\")\r\n              list add (bits, game.pov.parent.name)\r\n            }\r\n            else if (newParent = \"player.parent\") {\r\n              current_object.parent = player.parent.name\r\n              game.setUp = true\r\n              list remove (bits, \"player.parent\")\r\n              list add (bits, player.parent.name)\r\n            }\r\n            current_object.parent = GetObject(StringListItem(bits, 1))\r\n            if (current_object.parent = null) {\r\n              error (\"Failed to find \" + StringListItem(bits, 1) + \" in the game world. Things will go badly...\")\r\n            }\r\n          }\r\n          else if (StringListItem(bits, 0) = \"to\") {\r\n            current_object.to = GetObject(StringListItem(bits, 1))\r\n            if (current_object.to = null) {\r\n              error (\"Failed to find \" + StringListItem(bits, 1) + \" in the game world. Things will go badly...\")\r\n            }\r\n          }\r\n          else {\r\n            if (LCase(StringListItem(bits, 1)) = \"false\") {\r\n              set (current_object, StringListItem(bits, 0), false)\r\n              game.setUp = true\r\n            }\r\n            else if (LCase(StringListItem(bits, 1)) = \"true\") {\r\n              set (current_object, StringListItem(bits, 0), true)\r\n              game.setUp = true\r\n            }\r\n            else if (IsInt(StringListItem(bits, 1))) {\r\n              set (current_object, StringListItem(bits, 0), ToInt(StringListItem(bits, 1)))\r\n              game.setUp = true\r\n            }\r\n            if (not game.setUp) {\r\n              set (current_object, StringListItem(bits, 0), StringListItem(bits, 1))\r\n            }\r\n            else {\r\n              // set (current_object, StringListItem(bits, 0), StringListItem(bits, 1))\r\n            }\r\n          }\r\n        }\r\n      }\r\n      msg (\"Done.\")\r\n    }\r\n  </function>\r\n  <function name=\"LoadFile\" parameters=\"filename\">\r\n    game.splitter = GetFileData (filename)\r\n    current_object = null\r\n    game.setUp = false\r\n    foreach (line, Split(game.splitter, \"\\n\")) {\r\n      line = Crop(line)\r\n      if (not line = \"\" and not StartsWith(line, \"#\")) {\r\n        bits = Split(line, \"=\")\r\n        if (StringListItem(bits, 0) = \"new\") {\r\n          if (ListCount(bits) = 2) {\r\n            create (StringListItem(bits, 1))\r\n            current_object = GetObject(StringListItem(bits, 1))\r\n          }\r\n          else {\r\n            create (StringListItem(bits, 2), StringListItem(bits, 1))\r\n            current_object = GetObject(StringListItem(bits, 2))\r\n          }\r\n        }\r\n        else if (StringListItem(bits, 0) = \"find\") {\r\n          current_object = GetObject(StringListItem(bits, 1))\r\n          if (current_object = null) {\r\n            error (\"Failed to find \" + StringListItem(bits, 1) + \" in the game world. Things will go badly...\")\r\n          }\r\n        }\r\n        else if (StringListItem(bits, 0) = \"exit\") {\r\n          create exit (StringListItem(bits, 2), null, null, null, StringListItem(bits, 1))\r\n          current_object = GetObject(StringListItem(bits, 2))\r\n        }\r\n        else if (StringListItem(bits, 0) = \"parent\") {\r\n          newParent = StringListItem(bits, 1)\r\n          if (newParent = \"game.pov\") {\r\n            current_object.parent = game.pov.name\r\n            game.setUp = true\r\n            list remove (bits, \"game.pov\")\r\n            list add (bits, game.pov.name)\r\n          }\r\n          else if (newParent = \"game.pov.parent\") {\r\n            current_object.parent = game.pov.parent.name\r\n            game.setUp = true\r\n            list remove (bits, \"game.pov.parent\")\r\n            list add (bits, game.pov.parent.name)\r\n          }\r\n          else if (newParent = \"here\") {\r\n            current_object.parent = game.pov.parent.name\r\n            game.setUp = true\r\n            list remove (bits, \"here\")\r\n            list add (bits, game.pov.parent.name)\r\n          }\r\n          else if (newParent = \"player.parent\") {\r\n            current_object.parent = player.parent.name\r\n            game.setUp = true\r\n            list remove (bits, \"player.parent\")\r\n            list add (bits, player.parent.name)\r\n          }\r\n          current_object.parent = GetObject(StringListItem(bits, 1))\r\n          if (current_object.parent = null) {\r\n            error (\"Failed to find \" + StringListItem(bits, 1) + \" in the game world. Things will go badly...\")\r\n          }\r\n        }\r\n        else if (StringListItem(bits, 0) = \"to\") {\r\n          current_object.to = GetObject(StringListItem(bits, 1))\r\n          if (current_object.to = null) {\r\n            error (\"Failed to find \" + StringListItem(bits, 1) + \" in the game world. Things will go badly...\")\r\n          }\r\n        }\r\n        else {\r\n          if (LCase(StringListItem(bits, 1)) = \"false\") {\r\n            set (current_object, StringListItem(bits, 0), false)\r\n          }\r\n          else if (LCase(StringListItem(bits, 1)) = \"true\") {\r\n            set (current_object, StringListItem(bits, 0), true)\r\n          }\r\n          else if (IsInt(StringListItem(bits, 1))) {\r\n            set (current_object, StringListItem(bits, 0), ToInt(StringListItem(bits, 1)))\r\n          }\r\n          if (not game.setUp) {\r\n            set (current_object, StringListItem(bits, 0), StringListItem(bits, 1))\r\n          }\r\n          else {\r\n            set (current_object, StringListItem(bits, 0), game.pov)\r\n          }\r\n        }\r\n      }\r\n    }\r\n    msg (\"Done.\")\r\n  </function>\r\n  <function name=\"Crop\" parameters=\"s\" type=\"string\"><![CDATA[\r\n    start = 1\r\n    end = LengthOf(s)\r\n    for (i, 1, LengthOf(s)) {\r\n      if (Asc(Mid(s, i, 1)) < 33) {\r\n        if (start = i) {\r\n          start = i + 1\r\n        }\r\n      }\r\n      else {\r\n        end = i\r\n      }\r\n    }\r\n    return (Mid(s, start, end - start + 1))\r\n  ]]></function>\r\n</asl>\r\n```\r\n\r\n</details>",
      "EditableFormat": "markdown",
      "HTML": "<h2>UPDATE</h2>\n<p>Now you can bring in text from a Gist (or something of that nature).</p>\n<hr>\n<h3>UPDATED AGAIN</h3>\n<p>Now you can set up <code>take</code> and <code>takemsg</code>.</p>\n<hr>\n<p><a href=\"http://textadventures.co.uk/games/view/n8ff8bfd-kwzwiynzuu_ca/get-text-from-url\" title=\"http://textadventures.co.uk/games/view/n8ff8bfd-kwzwiynzuu_ca/get-text-from-url\">Play or Download</a> the example game.</p>\n<hr>\n<p>Get the code here:</p>\n<p><a href=\"https://gist.github.com/KVonGit/1824536eea4bc2697bc923be12cfee55\" title=\"View this file at gist.github.com\">Quest_load-text-from-url</a></p>\n<hr>\n<p>...or click below to view the code:</p>\n<details>\n<pre><code>&lt;!--Saved by Quest 5.7.6404.15496--&gt;\n&lt;asl version=\"550\"&gt;\n  &lt;include ref=\"English.aslx\" /&gt;\n  &lt;include ref=\"Core.aslx\" /&gt;\n  &lt;game name=\"Get Text from URL\"&gt;\n    &lt;gameid&gt;3cc0685e-0493-4ece-af9e-57c7b17f6661&lt;/gameid&gt;\n    &lt;version&gt;example-v0.0.11&lt;/version&gt;\n    &lt;firstpublished&gt;2017&lt;/firstpublished&gt;\n    &lt;attr name=\"example_url\"&gt;https://gist.githubusercontent.com/KVonGit/395b7022073fe6e30f89f6c8911100a8/raw/4db24917bf20e8c61156dfcc13c5eac7abd61642/addtogame.md&lt;/attr&gt;\n    &lt;description&gt;&lt;![CDATA[To load text from a Gist (or something of that nature):&lt;br/&gt;&lt;br/&gt;LoadOnlineFile(url)&lt;br/&gt;&lt;br/&gt;---&lt;br/&gt;To load text from a file in the game's main directory:&lt;br/&gt;&lt;br/&gt;LoadFile(filename)&lt;br/&gt;&lt;br/&gt;---&lt;br/&gt;Link to this game's code:&lt;br/&gt;&lt;br/&gt;https://gist.github.com/KVonGit/1824536eea4bc2697bc923be12cfee55]]&gt;&lt;/description&gt;\n    &lt;feature_advancedscripts /&gt;\n    &lt;commandpane /&gt;\n    &lt;start type=\"script\"&gt;\n      JS.eval (\"getTextFromUrl = function(url){theUrl = url;var xmlHttp = new XMLHttpRequest();xmlHttp.open( 'GET', theUrl, false );xmlHttp.send( null );ASLEvent('SetText', xmlHttp.responseText);};\")\n    &lt;/start&gt;\n    &lt;inituserinterface type=\"script\"&gt;\n      JS.setCommands (\"Load File\", \"black\")\n    &lt;/inituserinterface&gt;\n  &lt;/game&gt;\n  &lt;object name=\"room\"&gt;\n    &lt;inherit name=\"editor_room\" /&gt;\n    &lt;enter type=\"script\"&gt;\n      // LoadOnlineFile (game.example_url)\n    &lt;/enter&gt;\n    &lt;object name=\"player\"&gt;\n      &lt;inherit name=\"editor_object\" /&gt;\n      &lt;inherit name=\"editor_player\" /&gt;\n    &lt;/object&gt;\n  &lt;/object&gt;\n  &lt;command name=\"load_data_cmd\"&gt;\n    &lt;pattern&gt;load data;loaddata;loadfile;load file&lt;/pattern&gt;\n    &lt;script&gt;&lt;![CDATA[\n      Ask (\"Would you like to load the example?\") {\n        if (result) {\n          url = game.example_url\n          LoadOnlineFile (url)\n        }\n        else {\n          msg (\"Okay.&lt;br/&gt;\")\n          msg (\"Please enter the url.\")\n          msg (\"&lt;br/&gt;Example url:&lt;br/&gt; &lt;span style='word-wrap: break-word;'&gt;\"+game.example_url)\n          get input {\n            url = result\n            LoadOnlineFile (url)\n          }\n        }\n      }\n    ]]&gt;&lt;/script&gt;\n  &lt;/command&gt;\n  &lt;function name=\"SetText\" parameters=\"text\"&gt;\n    game.downloaded_text = text\n    // msg (game.downloaded_text)\n  &lt;/function&gt;\n  &lt;function name=\"LoadOnlineFile\" parameters=\"url\"&gt;\n    JS.getTextFromUrl (url)\n    msg (\"Downloading online content...\")\n    SetTimeout (5) {\n      s = game.downloaded_text\n      if (not HasString(game, \"downloaded_text\")) {\n        error (\" Download failed. Try again.  If playing online, this won't work just yet.\")\n      }\n      current_object = null\n      game.setUp = false\n      foreach (line, Split(s, \"\\n\")) {\n        line = Crop(line)\n        if (not line = \"\" and not StartsWith(line, \"#\")) {\n          bits = Split(line, \"=\")\n          if (StringListItem(bits, 0) = \"new\") {\n            if (ListCount(bits) = 2) {\n              create (StringListItem(bits, 1))\n              current_object = GetObject(StringListItem(bits, 1))\n            }\n            else {\n              create (StringListItem(bits, 2), StringListItem(bits, 1))\n              current_object = GetObject(StringListItem(bits, 2))\n            }\n          }\n          else if (StringListItem(bits, 0) = \"find\") {\n            current_object = GetObject(StringListItem(bits, 1))\n            if (current_object = null) {\n              error (\"Failed to find \" + StringListItem(bits, 1) + \" in the game world. Things will go badly...\")\n            }\n          }\n          else if (StringListItem(bits, 0) = \"exit\") {\n            create exit (StringListItem(bits, 2), null, null, null, StringListItem(bits, 1))\n            current_object = GetObject(StringListItem(bits, 2))\n          }\n          else if (StringListItem(bits, 0) = \"parent\") {\n            newParent = StringListItem(bits, 1)\n            if (newParent = \"game.pov\") {\n              current_object.parent = game.pov.name\n              game.setUp = true\n              list remove (bits, \"game.pov\")\n              list add (bits, game.pov.name)\n            }\n            else if (newParent = \"game.pov.parent\") {\n              current_object.parent = game.pov.parent.name\n              game.setUp = true\n              list remove (bits, \"game.pov.parent\")\n              list add (bits, game.pov.parent.name)\n            }\n            else if (newParent = \"here\") {\n              current_object.parent = game.pov.parent.name\n              game.setUp = true\n              list remove (bits, \"here\")\n              list add (bits, game.pov.parent.name)\n            }\n            else if (newParent = \"player.parent\") {\n              current_object.parent = player.parent.name\n              game.setUp = true\n              list remove (bits, \"player.parent\")\n              list add (bits, player.parent.name)\n            }\n            current_object.parent = GetObject(StringListItem(bits, 1))\n            if (current_object.parent = null) {\n              error (\"Failed to find \" + StringListItem(bits, 1) + \" in the game world. Things will go badly...\")\n            }\n          }\n          else if (StringListItem(bits, 0) = \"to\") {\n            current_object.to = GetObject(StringListItem(bits, 1))\n            if (current_object.to = null) {\n              error (\"Failed to find \" + StringListItem(bits, 1) + \" in the game world. Things will go badly...\")\n            }\n          }\n          else {\n            if (LCase(StringListItem(bits, 1)) = \"false\") {\n              set (current_object, StringListItem(bits, 0), false)\n              game.setUp = true\n            }\n            else if (LCase(StringListItem(bits, 1)) = \"true\") {\n              set (current_object, StringListItem(bits, 0), true)\n              game.setUp = true\n            }\n            else if (IsInt(StringListItem(bits, 1))) {\n              set (current_object, StringListItem(bits, 0), ToInt(StringListItem(bits, 1)))\n              game.setUp = true\n            }\n            if (not game.setUp) {\n              set (current_object, StringListItem(bits, 0), StringListItem(bits, 1))\n            }\n            else {\n              // set (current_object, StringListItem(bits, 0), StringListItem(bits, 1))\n            }\n          }\n        }\n      }\n      msg (\"Done.\")\n    }\n  &lt;/function&gt;\n  &lt;function name=\"LoadFile\" parameters=\"filename\"&gt;\n    game.splitter = GetFileData (filename)\n    current_object = null\n    game.setUp = false\n    foreach (line, Split(game.splitter, \"\\n\")) {\n      line = Crop(line)\n      if (not line = \"\" and not StartsWith(line, \"#\")) {\n        bits = Split(line, \"=\")\n        if (StringListItem(bits, 0) = \"new\") {\n          if (ListCount(bits) = 2) {\n            create (StringListItem(bits, 1))\n            current_object = GetObject(StringListItem(bits, 1))\n          }\n          else {\n            create (StringListItem(bits, 2), StringListItem(bits, 1))\n            current_object = GetObject(StringListItem(bits, 2))\n          }\n        }\n        else if (StringListItem(bits, 0) = \"find\") {\n          current_object = GetObject(StringListItem(bits, 1))\n          if (current_object = null) {\n            error (\"Failed to find \" + StringListItem(bits, 1) + \" in the game world. Things will go badly...\")\n          }\n        }\n        else if (StringListItem(bits, 0) = \"exit\") {\n          create exit (StringListItem(bits, 2), null, null, null, StringListItem(bits, 1))\n          current_object = GetObject(StringListItem(bits, 2))\n        }\n        else if (StringListItem(bits, 0) = \"parent\") {\n          newParent = StringListItem(bits, 1)\n          if (newParent = \"game.pov\") {\n            current_object.parent = game.pov.name\n            game.setUp = true\n            list remove (bits, \"game.pov\")\n            list add (bits, game.pov.name)\n          }\n          else if (newParent = \"game.pov.parent\") {\n            current_object.parent = game.pov.parent.name\n            game.setUp = true\n            list remove (bits, \"game.pov.parent\")\n            list add (bits, game.pov.parent.name)\n          }\n          else if (newParent = \"here\") {\n            current_object.parent = game.pov.parent.name\n            game.setUp = true\n            list remove (bits, \"here\")\n            list add (bits, game.pov.parent.name)\n          }\n          else if (newParent = \"player.parent\") {\n            current_object.parent = player.parent.name\n            game.setUp = true\n            list remove (bits, \"player.parent\")\n            list add (bits, player.parent.name)\n          }\n          current_object.parent = GetObject(StringListItem(bits, 1))\n          if (current_object.parent = null) {\n            error (\"Failed to find \" + StringListItem(bits, 1) + \" in the game world. Things will go badly...\")\n          }\n        }\n        else if (StringListItem(bits, 0) = \"to\") {\n          current_object.to = GetObject(StringListItem(bits, 1))\n          if (current_object.to = null) {\n            error (\"Failed to find \" + StringListItem(bits, 1) + \" in the game world. Things will go badly...\")\n          }\n        }\n        else {\n          if (LCase(StringListItem(bits, 1)) = \"false\") {\n            set (current_object, StringListItem(bits, 0), false)\n          }\n          else if (LCase(StringListItem(bits, 1)) = \"true\") {\n            set (current_object, StringListItem(bits, 0), true)\n          }\n          else if (IsInt(StringListItem(bits, 1))) {\n            set (current_object, StringListItem(bits, 0), ToInt(StringListItem(bits, 1)))\n          }\n          if (not game.setUp) {\n            set (current_object, StringListItem(bits, 0), StringListItem(bits, 1))\n          }\n          else {\n            set (current_object, StringListItem(bits, 0), game.pov)\n          }\n        }\n      }\n    }\n    msg (\"Done.\")\n  &lt;/function&gt;\n  &lt;function name=\"Crop\" parameters=\"s\" type=\"string\"&gt;&lt;![CDATA[\n    start = 1\n    end = LengthOf(s)\n    for (i, 1, LengthOf(s)) {\n      if (Asc(Mid(s, i, 1)) &lt; 33) {\n        if (start = i) {\n          start = i + 1\n        }\n      }\n      else {\n        end = i\n      }\n    }\n    return (Mid(s, start, end - start + 1))\n  ]]&gt;&lt;/function&gt;\n&lt;/asl&gt;\n</code></pre>\n</details>\n\n",
      "PostDate": "2017-12-11T15:43:45.616826Z",
      "LastEditDate": "2017-12-11T18:50:09.4425896Z",
      "link": null
    }
  ]
}
