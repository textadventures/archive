{
  "Topic": {
    "TopicId": "2_yd73ap50e1jzyk1ku7dg",
    "ForumId": "10",
    "Title": "How to handle consumables",
    "LastUpdated": "2016-10-02T14:03:15.6082949Z",
    "ReplyCount": 0
  },
  "Posts": [
    {
      "PostId": "917b8f8f-d45c-44c5-8c32-fa4086527984",
      "UserId": 266643,
      "Username": "Jason210",
      "AvatarUrl": "https://secure.gravatar.com/avatar/fbc594857f51bcbf5199b5f843e8bdb6?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Hi\r\n\r\nWhat is the normal way to handle consumable items like food? Ideally, I'd like to use clones and when the clone has been \"eaten\" destroy the clone, but I do not know how to destroy cloned items since they don't have a unique name.\r\n\r\nSo what I did was create a non-accessible room and put the consumables, like a piece of cheese, in there. When the player can get cheese, I move the cheese from the store room to the player's room, so he can pick it up. When the player eats it, I move it back to the non-accessible room. However, this means I can only ever one piece of cheese at any one time. \r\n\r\nAny help appreciated\r\n\r\n/Jason\r\n\r\n",
      "EditableFormat": "markdown",
      "HTML": "<p>Hi</p>\n<p>What is the normal way to handle consumable items like food? Ideally, I'd like to use clones and when the clone has been \"eaten\" destroy the clone, but I do not know how to destroy cloned items since they don't have a unique name.</p>\n<p>So what I did was create a non-accessible room and put the consumables, like a piece of cheese, in there. When the player can get cheese, I move the cheese from the store room to the player's room, so he can pick it up. When the player eats it, I move it back to the non-accessible room. However, this means I can only ever one piece of cheese at any one time.</p>\n<p>Any help appreciated</p>\n<p>/Jason</p>\n\n",
      "PostDate": "2016-10-02T14:03:15.6082949Z",
      "LastEditDate": "2016-10-02T14:17:45.0158329Z"
    },
    {
      "PostId": "a2e9caa7-f67d-487d-b648-cdb8b31a03df",
      "UserId": 263865,
      "Username": "NecroDeath",
      "AvatarUrl": "https://secure.gravatar.com/avatar/543d2cc5ebbad28fa5416448987ddccd?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Could you not use aliases to do this? i.e. if you want three pieces of cheese then create 3 items, call them cheese1, cheese2, cheese3, but give all of them the alias 'cheese' or 'piece of cheese'\r\n\r\n",
      "EditableFormat": "markdown",
      "HTML": "<p>Could you not use aliases to do this? i.e. if you want three pieces of cheese then create 3 items, call them cheese1, cheese2, cheese3, but give all of them the alias 'cheese' or 'piece of cheese'</p>\n\n",
      "PostDate": "2016-10-02T14:19:46.5741111Z",
      "LastEditDate": null
    },
    {
      "PostId": "0945d561-95e3-4186-bc82-c124d7728310",
      "UserId": 26011,
      "Username": "onimike",
      "AvatarUrl": "http://i.imgur.com/yL1GRWab.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Hi Jason I recently started a series of tutorials using the GUI Editor https://youtu.be/HD1Gj88KeQE\r\nBasically I make a item, when pick up the clone I add made item to my inventory, remove 'this'(this will remove clone) add to item volume. Then if you already have said item just simply remove 'this' and add 1 to volume. In the tutorials I have part 2 is stacking items then part 3 is eating the item.\r\n\r\nHope it helps\r\nMike",
      "EditableFormat": "markdown",
      "HTML": "<p>Hi Jason I recently started a series of tutorials using the GUI Editor https://youtu.be/HD1Gj88KeQE<br>\nBasically I make a item, when pick up the clone I add made item to my inventory, remove 'this'(this will remove clone) add to item volume. Then if you already have said item just simply remove 'this' and add 1 to volume. In the tutorials I have part 2 is stacking items then part 3 is eating the item.</p>\n<p>Hope it helps<br>\nMike</p>\n\n",
      "PostDate": "2016-10-02T14:45:56.2118569Z",
      "LastEditDate": null
    },
    {
      "PostId": "b286e453-a2da-4b7d-80ed-cbfa17fb5539",
      "UserId": 266643,
      "Username": "Jason210",
      "AvatarUrl": "https://secure.gravatar.com/avatar/fbc594857f51bcbf5199b5f843e8bdb6?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Hi & thanks\r\n\r\n@NecroDeath... yes, I considered that but I thought there might be a better way...\r\n\r\n@onimike... great! This is what I was looking for.\r\n\r\n/jason",
      "EditableFormat": "markdown",
      "HTML": "<p>Hi &amp; thanks</p>\n<p>@NecroDeath... yes, I considered that but I thought there might be a better way...</p>\n<p>@onimike... great! This is what I was looking for.</p>\n<p>/jason</p>\n\n",
      "PostDate": "2016-10-02T17:59:28.1214403Z",
      "LastEditDate": null
    },
    {
      "PostId": "7f46eee9-2596-4eaf-9f66-e7a162d5b14b",
      "UserId": 26011,
      "Username": "onimike",
      "AvatarUrl": "http://i.imgur.com/yL1GRWab.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Glad its helps :)\r\n\r\nMike",
      "EditableFormat": "markdown",
      "HTML": "<p>Glad its helps :)</p>\n<p>Mike</p>\n\n",
      "PostDate": "2016-10-02T18:02:58.5280403Z",
      "LastEditDate": null
    },
    {
      "PostId": "ec72291f-5bd4-4ee8-89af-a0577bca6445",
      "UserId": 247325,
      "Username": "hegemonkhan",
      "AvatarUrl": "https://secure.gravatar.com/avatar/a96cf34d8d97c57de38f54ee22b1759b?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "the one of best designs (if there's no un-fore-seen reasons that you need Clones):\r\n\r\nmake only a single Object (of each type of Object you need), and then reference that single Object, via using Object Attributes.\r\n\r\nfor an example (using equipment for this purpose):\r\n\r\n```\r\n<object name=\"global_data_object\">\r\n  <object name=\"global_equipment_data_object\">\r\n    <object name=\"global_weapon_data_object\">\r\n      <object name=\"global_sword_weapon_data_object\">\r\n        <object name=\"katana_sword_weapon_object\">\r\n          <attr name=\"damage_integer_attribute\" type=\"int\">50</attr>\r\n        </object>\r\n        <object name=\"claymore_sword_weapon_object\">\r\n          <attr name=\"damage_integer_attribute\" type=\"int\">40</attr>\r\n        </object>\r\n        <object name=\"short_sword_sword_weapon_object\">\r\n          <attr name=\"damage_integer_attribute\" type=\"int\">5</attr>\r\n        </object>\r\n      </object>\r\n      <object name=\"global_unarmed_weapon_data_object\">\r\n        <object name=\"unarmed_unarmed_weapon_object\">\r\n          <attr name=\"damage_integer_attribute\" type=\"int\">1</attr>\r\n        </object>\r\n      <object>\r\n      <object name=\"global_blunt_weapon_data_object\">\r\n        <object name=\"club_blunt_weapon_object\">\r\n          <attr name=\"damage_integer_attribute\" type=\"int\">10</attr>\r\n        </object>\r\n      <object>\r\n    </object>\r\n    <object name=\"global_armor_data_object\">\r\n    </object>\r\n    <object name=\"global_clothing_data_object\">\r\n    </object>\r\n  </object>\r\n</object>\r\n\r\n<object name=\"room\">\r\n</object>\r\n\r\n<object name=\"player\">\r\n  <attr name=\"parent\" type=\"object\">room</attr>\r\n  <attr name=\"right_hand_object_attribute\" type=\"object\">unarmed_unarmed_weapon_object</attr>\r\n  <attr name=\"current_life_integer_attribute\" type=\"int\">100</attr>\r\n</object>\r\n\r\n<object name=\"HK\">\r\n  <attr name=\"parent\" type=\"object\">room</attr>\r\n  <attr name=\"right_hand_object_attribute\" type=\"object\">katana_sword_weapon_object</attr>\r\n  <attr name=\"current_life_integer_attribute\" type=\"int\">100</attr>\r\n</object>\r\n\r\n<object name=\"knight\">\r\n  <attr name=\"parent\" type=\"object\">room</attr>\r\n  <attr name=\"right_hand_object_attribute\" type=\"object\">claymore_sword_weapon_object</attr>\r\n  <attr name=\"current_life_integer_attribute\" type=\"int\">100</attr>\r\n</object>\r\n\r\n<object name=\"npc\">\r\n  <attr name=\"parent\" type=\"object\">room</attr>\r\n  <attr name=\"right_hand_object_attribute\" type=\"object\">swort_sword_sword_weapon_object</attr>\r\n  <attr name=\"current_life_integer_attribute\" type=\"int\">100</attr>\r\n</object>\r\n\r\n<object name=\"orc\">\r\n  <attr name=\"parent\" type=\"object\">room</attr>\r\n  <attr name=\"right_hand_object_attribute\" type=\"object\">club_blunt_weapon_object</attr>\r\n  <attr name=\"current_life_integer_attribute\" type=\"int\">100</attr>\r\n</object>\r\n\r\n<object name=\"player_2\">\r\n  <attr name=\"parent\" type=\"object\">room</attr>\r\n  <attr name=\"right_hand_object_attribute\" type=\"object\">unarmed_unarmed_weapon_object</attr>\r\n  <attr name=\"current_life_integer_attribute\" type=\"int\">100</attr>\r\n</object>\r\n\r\n<object name=\"player_3\">\r\n  <attr name=\"parent\" type=\"object\">room</attr>\r\n  <attr name=\"right_hand_object_attribute\" type=\"object\">katana_sword_weapon_object</attr>\r\n  <attr name=\"current_life_integer_attribute\" type=\"int\">100</attr>\r\n</object>\r\n\r\n// pretend we're doing a 'fight' scripting, just for examples-sake, this is what we'd get:\r\n\r\norc.current_life = orc.current_life - player.right_hand_object_attribute\r\n// orc.current_life = 100 - 1 = 99\r\n\r\norc.current_life = orc.current_life - HK.right_hand_object_attribute\r\n// orc.current_life = 100 - 50 = 50\r\n\r\norc.current_life = orc.current_life - knight.right_hand_object_attribute\r\n// orc.current_life = 100 - 40 = 60\r\n\r\norc.current_life = orc.current_life - npc.right_hand_object_attribute\r\n// orc.current_life = 100 - 5 = 95\r\n\r\nplayer.current_life = player.current_life - orc.right_hand_object_attribute\r\n// orc.current_life = 100 - 10 = 90\r\n\r\nand, of course we can change the 'right_hand_object_attribute' too (in scripting example):\r\n\r\nplayer.right_hand_object_attribute = katana_sword_weapon_object\r\nplayer.right_hand_object_attribute = claymore_sword_weapon_object\r\nplayer.right_hand_object_attribute = club_blunt_weapon_object\r\nplayer.right_hand_object_attribute = short_sword_sword_weapon_object\r\nplayer.right_hand_object_attribute = unarmed_unarmed_weapon_object\r\n\r\nplayer.right_hand_object_attribute = unarmed_unarmed_weapon_object\r\nplayer_2.right_hand_object_attribute = unarmed_unarmed_weapon_object\r\nplayer_3.right_hand_object_attribute = unarmed_unarmed_weapon_object\r\n\r\nplayer.right_hand_object_attribute = katana_sword_weapon_object\r\nplayer_2.right_hand_object_attribute = katana_sword_weapon_object\r\nplayer_3.right_hand_object_attribute = katana_sword_weapon_object\r\n```\r\n\r\n---------------\r\n\r\nif you need/want to use Clones, then you can remove/delete the Clones via using the 'String Manipulation' Functions:\r\n\r\nhttp://docs.textadventures.co.uk/quest/functions/ (scroll down to the very bottom, to the 'String Functions' section/cateogry)\r\n\r\nand in particular: ( http://docs.textadventures.co.uk/quest/functions/string/startswith.html and also optionally: http://docs.textadventures.co.uk/quest/functions/string/lengthof.html )\r\n\r\n```\r\nMaster/Original Object: potion\r\nCloned Objects: potion1, potion2, potion3, etc etc etc\r\n\r\nthus:\r\n\r\nif (StartsWith (NAME_OF_CLONE.name, \"potion\") and NAME_OF_CLONE.name > LengthOf (\"potion\") { // will be a clone, the 'LengthOf' is what prevents your Master/Original Object from being removed/deleted\r\n  delete (NAME_OF_CLONE)\r\n}\r\n\r\nor\r\n\r\nif (StartsWith (NAME_OF_CLONE.name, \"potion\") and not EndsWith (NAME_OF_CLONE.name, \"potion\") { // will be a clone, the 'not EndsWith' is what prevents your Master/Original Object from being removed/deleted\r\n  delete (NAME_OF_CLONE)\r\n}\r\n\r\n// I'm too tired (or am just unable/not-knowledge'able-enough) to tell which is more efficient, and/or any other issues involved\r\n```\r\n\r\nand then there's:\r\n\r\nContains ( http://docs.textadventures.co.uk/quest/functions/contains.html )\r\nand/or\r\nListContains ( http://docs.textadventures.co.uk/quest/functions/listcontains.html )\r\n\r\nusing lists ( http://docs.textadventures.co.uk/quest/guides/using_lists.html )\r\nListCount ( http://docs.textadventures.co.uk/quest/functions/listcount.html )\r\nGot\r\nStringListItem\r\nAllObjects\r\nthe various 'Scope' Functions\r\n\r\nand etc Functions/Scripts...\r\n\r\nsee, if you can figure it out first, and if not, let me know and I'll help further.",
      "EditableFormat": "markdown",
      "HTML": "<p>the one of best designs (if there's no un-fore-seen reasons that you need Clones):</p>\n<p>make only a single Object (of each type of Object you need), and then reference that single Object, via using Object Attributes.</p>\n<p>for an example (using equipment for this purpose):</p>\n<pre><code>&lt;object name=\"global_data_object\"&gt;\n  &lt;object name=\"global_equipment_data_object\"&gt;\n    &lt;object name=\"global_weapon_data_object\"&gt;\n      &lt;object name=\"global_sword_weapon_data_object\"&gt;\n        &lt;object name=\"katana_sword_weapon_object\"&gt;\n          &lt;attr name=\"damage_integer_attribute\" type=\"int\"&gt;50&lt;/attr&gt;\n        &lt;/object&gt;\n        &lt;object name=\"claymore_sword_weapon_object\"&gt;\n          &lt;attr name=\"damage_integer_attribute\" type=\"int\"&gt;40&lt;/attr&gt;\n        &lt;/object&gt;\n        &lt;object name=\"short_sword_sword_weapon_object\"&gt;\n          &lt;attr name=\"damage_integer_attribute\" type=\"int\"&gt;5&lt;/attr&gt;\n        &lt;/object&gt;\n      &lt;/object&gt;\n      &lt;object name=\"global_unarmed_weapon_data_object\"&gt;\n        &lt;object name=\"unarmed_unarmed_weapon_object\"&gt;\n          &lt;attr name=\"damage_integer_attribute\" type=\"int\"&gt;1&lt;/attr&gt;\n        &lt;/object&gt;\n      &lt;object&gt;\n      &lt;object name=\"global_blunt_weapon_data_object\"&gt;\n        &lt;object name=\"club_blunt_weapon_object\"&gt;\n          &lt;attr name=\"damage_integer_attribute\" type=\"int\"&gt;10&lt;/attr&gt;\n        &lt;/object&gt;\n      &lt;object&gt;\n    &lt;/object&gt;\n    &lt;object name=\"global_armor_data_object\"&gt;\n    &lt;/object&gt;\n    &lt;object name=\"global_clothing_data_object\"&gt;\n    &lt;/object&gt;\n  &lt;/object&gt;\n&lt;/object&gt;\n\n&lt;object name=\"room\"&gt;\n&lt;/object&gt;\n\n&lt;object name=\"player\"&gt;\n  &lt;attr name=\"parent\" type=\"object\"&gt;room&lt;/attr&gt;\n  &lt;attr name=\"right_hand_object_attribute\" type=\"object\"&gt;unarmed_unarmed_weapon_object&lt;/attr&gt;\n  &lt;attr name=\"current_life_integer_attribute\" type=\"int\"&gt;100&lt;/attr&gt;\n&lt;/object&gt;\n\n&lt;object name=\"HK\"&gt;\n  &lt;attr name=\"parent\" type=\"object\"&gt;room&lt;/attr&gt;\n  &lt;attr name=\"right_hand_object_attribute\" type=\"object\"&gt;katana_sword_weapon_object&lt;/attr&gt;\n  &lt;attr name=\"current_life_integer_attribute\" type=\"int\"&gt;100&lt;/attr&gt;\n&lt;/object&gt;\n\n&lt;object name=\"knight\"&gt;\n  &lt;attr name=\"parent\" type=\"object\"&gt;room&lt;/attr&gt;\n  &lt;attr name=\"right_hand_object_attribute\" type=\"object\"&gt;claymore_sword_weapon_object&lt;/attr&gt;\n  &lt;attr name=\"current_life_integer_attribute\" type=\"int\"&gt;100&lt;/attr&gt;\n&lt;/object&gt;\n\n&lt;object name=\"npc\"&gt;\n  &lt;attr name=\"parent\" type=\"object\"&gt;room&lt;/attr&gt;\n  &lt;attr name=\"right_hand_object_attribute\" type=\"object\"&gt;swort_sword_sword_weapon_object&lt;/attr&gt;\n  &lt;attr name=\"current_life_integer_attribute\" type=\"int\"&gt;100&lt;/attr&gt;\n&lt;/object&gt;\n\n&lt;object name=\"orc\"&gt;\n  &lt;attr name=\"parent\" type=\"object\"&gt;room&lt;/attr&gt;\n  &lt;attr name=\"right_hand_object_attribute\" type=\"object\"&gt;club_blunt_weapon_object&lt;/attr&gt;\n  &lt;attr name=\"current_life_integer_attribute\" type=\"int\"&gt;100&lt;/attr&gt;\n&lt;/object&gt;\n\n&lt;object name=\"player_2\"&gt;\n  &lt;attr name=\"parent\" type=\"object\"&gt;room&lt;/attr&gt;\n  &lt;attr name=\"right_hand_object_attribute\" type=\"object\"&gt;unarmed_unarmed_weapon_object&lt;/attr&gt;\n  &lt;attr name=\"current_life_integer_attribute\" type=\"int\"&gt;100&lt;/attr&gt;\n&lt;/object&gt;\n\n&lt;object name=\"player_3\"&gt;\n  &lt;attr name=\"parent\" type=\"object\"&gt;room&lt;/attr&gt;\n  &lt;attr name=\"right_hand_object_attribute\" type=\"object\"&gt;katana_sword_weapon_object&lt;/attr&gt;\n  &lt;attr name=\"current_life_integer_attribute\" type=\"int\"&gt;100&lt;/attr&gt;\n&lt;/object&gt;\n\n// pretend we're doing a 'fight' scripting, just for examples-sake, this is what we'd get:\n\norc.current_life = orc.current_life - player.right_hand_object_attribute\n// orc.current_life = 100 - 1 = 99\n\norc.current_life = orc.current_life - HK.right_hand_object_attribute\n// orc.current_life = 100 - 50 = 50\n\norc.current_life = orc.current_life - knight.right_hand_object_attribute\n// orc.current_life = 100 - 40 = 60\n\norc.current_life = orc.current_life - npc.right_hand_object_attribute\n// orc.current_life = 100 - 5 = 95\n\nplayer.current_life = player.current_life - orc.right_hand_object_attribute\n// orc.current_life = 100 - 10 = 90\n\nand, of course we can change the 'right_hand_object_attribute' too (in scripting example):\n\nplayer.right_hand_object_attribute = katana_sword_weapon_object\nplayer.right_hand_object_attribute = claymore_sword_weapon_object\nplayer.right_hand_object_attribute = club_blunt_weapon_object\nplayer.right_hand_object_attribute = short_sword_sword_weapon_object\nplayer.right_hand_object_attribute = unarmed_unarmed_weapon_object\n\nplayer.right_hand_object_attribute = unarmed_unarmed_weapon_object\nplayer_2.right_hand_object_attribute = unarmed_unarmed_weapon_object\nplayer_3.right_hand_object_attribute = unarmed_unarmed_weapon_object\n\nplayer.right_hand_object_attribute = katana_sword_weapon_object\nplayer_2.right_hand_object_attribute = katana_sword_weapon_object\nplayer_3.right_hand_object_attribute = katana_sword_weapon_object\n</code></pre>\n<hr>\n<p>if you need/want to use Clones, then you can remove/delete the Clones via using the 'String Manipulation' Functions:</p>\n<p>http://docs.textadventures.co.uk/quest/functions/ (scroll down to the very bottom, to the 'String Functions' section/cateogry)</p>\n<p>and in particular: ( http://docs.textadventures.co.uk/quest/functions/string/startswith.html and also optionally: http://docs.textadventures.co.uk/quest/functions/string/lengthof.html )</p>\n<pre><code>Master/Original Object: potion\nCloned Objects: potion1, potion2, potion3, etc etc etc\n\nthus:\n\nif (StartsWith (NAME_OF_CLONE.name, \"potion\") and NAME_OF_CLONE.name &gt; LengthOf (\"potion\") { // will be a clone, the 'LengthOf' is what prevents your Master/Original Object from being removed/deleted\n  delete (NAME_OF_CLONE)\n}\n\nor\n\nif (StartsWith (NAME_OF_CLONE.name, \"potion\") and not EndsWith (NAME_OF_CLONE.name, \"potion\") { // will be a clone, the 'not EndsWith' is what prevents your Master/Original Object from being removed/deleted\n  delete (NAME_OF_CLONE)\n}\n\n// I'm too tired (or am just unable/not-knowledge'able-enough) to tell which is more efficient, and/or any other issues involved\n</code></pre>\n<p>and then there's:</p>\n<p>Contains ( http://docs.textadventures.co.uk/quest/functions/contains.html )<br>\nand/or<br>\nListContains ( http://docs.textadventures.co.uk/quest/functions/listcontains.html )</p>\n<p>using lists ( http://docs.textadventures.co.uk/quest/guides/using_lists.html )<br>\nListCount ( http://docs.textadventures.co.uk/quest/functions/listcount.html )<br>\nGot<br>\nStringListItem<br>\nAllObjects<br>\nthe various 'Scope' Functions</p>\n<p>and etc Functions/Scripts...</p>\n<p>see, if you can figure it out first, and if not, let me know and I'll help further.</p>\n\n",
      "PostDate": "2016-10-03T04:16:32.8863062Z",
      "LastEditDate": "2016-10-03T04:38:41.5140088Z"
    }
  ]
}
