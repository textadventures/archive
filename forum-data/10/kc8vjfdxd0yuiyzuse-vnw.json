{
  "Topic": {
    "TopicId": "kc8vjfdxd0yuiyzuse-vnw",
    "ForumId": "10",
    "Title": "StackLib not working in 5.8",
    "LastUpdated": "2019-06-27T04:08:50.1865188Z",
    "ReplyCount": 0
  },
  "Posts": [
    {
      "PostId": "0d5772ef-3861-43ba-a384-77b927222106",
      "UserId": 345560,
      "Username": "Sir Keksalot",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "So I'm gonna provide an example game (I dunno how to upload files so this is the best you're gonna get) for this, but basically, here's what happens: The stacks ain't stacking. For some reason, even when I do exactly what Pix says on his wiki page for StackLib, the objects just behave as if I weren't using the library.\r\n\r\nFor this specific example, I just have the player in a room with an item that contains \"things.\" By using a verb on the item, it one \"thing\" at a time in your inventory. The intended behavior is for the things to stack as \"Things\" followed by the number of things, but what ACTUALLY happens is, they just show up one by one in the inventory as \"Thing.\" Here's the source code for the whole game:\r\n```<!--Saved by Quest 5.8.6836.13983-->\r\n<asl version=\"580\">\r\n  <include ref=\"English.aslx\" />\r\n  <include ref=\"Core.aslx\" />\r\n  <include ref=\"StackLib.aslx\" />\r\n  <game name=\"EX\">\r\n    <gameid>2ed2fc07-0587-4e70-b4f5-b67b0fa736dc</gameid>\r\n    <version>1.0</version>\r\n    <firstpublished>2019</firstpublished>\r\n  </game>\r\n  <object name=\"room\">\r\n    <inherit name=\"editor_room\" />\r\n    <isroom />\r\n    <object name=\"player\">\r\n      <inherit name=\"editor_object\" />\r\n      <inherit name=\"editor_player\" />\r\n    </object>\r\n    <object name=\"bag\">\r\n      <inherit name=\"editor_object\" />\r\n      <alias>Bag of things</alias>\r\n      <displayverbs type=\"stringlist\">\r\n        <value>Look at</value>\r\n        <value>Take thing</value>\r\n      </displayverbs>\r\n      <takething type=\"script\">\r\n        CloneObjectAndMove (thing, player)\r\n      </takething>\r\n      <object name=\"thing\">\r\n        <inherit name=\"editor_object\" />\r\n        <inherit name=\"childstack_object\" />\r\n        <stackparent type=\"object\">stack</stackparent>\r\n        <alias>Thing</alias>\r\n      </object>\r\n    </object>\r\n  </object>\r\n  <object name=\"stacks\">\r\n    <inherit name=\"editor_room\" />\r\n    <object name=\"stack\">\r\n      <inherit name=\"editor_object\" />\r\n      <inherit name=\"homo_stack_container\" />\r\n      <alias>Things</alias>\r\n    </object>\r\n  </object>\r\n  <verb>\r\n    <property>takething</property>\r\n    <pattern>take thing</pattern>\r\n    <defaultexpression>\"You can't take thing \" + object.article + \".\"</defaultexpression>\r\n  </verb>\r\n</asl>",
      "EditableFormat": "markdown",
      "HTML": "<p>So I'm gonna provide an example game (I dunno how to upload files so this is the best you're gonna get) for this, but basically, here's what happens: The stacks ain't stacking. For some reason, even when I do exactly what Pix says on his wiki page for StackLib, the objects just behave as if I weren't using the library.</p>\n<p>For this specific example, I just have the player in a room with an item that contains \"things.\" By using a verb on the item, it one \"thing\" at a time in your inventory. The intended behavior is for the things to stack as \"Things\" followed by the number of things, but what ACTUALLY happens is, they just show up one by one in the inventory as \"Thing.\" Here's the source code for the whole game:</p>\n<pre><code>&lt;asl version=\"580\"&gt;\n  &lt;include ref=\"English.aslx\" /&gt;\n  &lt;include ref=\"Core.aslx\" /&gt;\n  &lt;include ref=\"StackLib.aslx\" /&gt;\n  &lt;game name=\"EX\"&gt;\n    &lt;gameid&gt;2ed2fc07-0587-4e70-b4f5-b67b0fa736dc&lt;/gameid&gt;\n    &lt;version&gt;1.0&lt;/version&gt;\n    &lt;firstpublished&gt;2019&lt;/firstpublished&gt;\n  &lt;/game&gt;\n  &lt;object name=\"room\"&gt;\n    &lt;inherit name=\"editor_room\" /&gt;\n    &lt;isroom /&gt;\n    &lt;object name=\"player\"&gt;\n      &lt;inherit name=\"editor_object\" /&gt;\n      &lt;inherit name=\"editor_player\" /&gt;\n    &lt;/object&gt;\n    &lt;object name=\"bag\"&gt;\n      &lt;inherit name=\"editor_object\" /&gt;\n      &lt;alias&gt;Bag of things&lt;/alias&gt;\n      &lt;displayverbs type=\"stringlist\"&gt;\n        &lt;value&gt;Look at&lt;/value&gt;\n        &lt;value&gt;Take thing&lt;/value&gt;\n      &lt;/displayverbs&gt;\n      &lt;takething type=\"script\"&gt;\n        CloneObjectAndMove (thing, player)\n      &lt;/takething&gt;\n      &lt;object name=\"thing\"&gt;\n        &lt;inherit name=\"editor_object\" /&gt;\n        &lt;inherit name=\"childstack_object\" /&gt;\n        &lt;stackparent type=\"object\"&gt;stack&lt;/stackparent&gt;\n        &lt;alias&gt;Thing&lt;/alias&gt;\n      &lt;/object&gt;\n    &lt;/object&gt;\n  &lt;/object&gt;\n  &lt;object name=\"stacks\"&gt;\n    &lt;inherit name=\"editor_room\" /&gt;\n    &lt;object name=\"stack\"&gt;\n      &lt;inherit name=\"editor_object\" /&gt;\n      &lt;inherit name=\"homo_stack_container\" /&gt;\n      &lt;alias&gt;Things&lt;/alias&gt;\n    &lt;/object&gt;\n  &lt;/object&gt;\n  &lt;verb&gt;\n    &lt;property&gt;takething&lt;/property&gt;\n    &lt;pattern&gt;take thing&lt;/pattern&gt;\n    &lt;defaultexpression&gt;\"You can't take thing \" + object.article + \".\"&lt;/defaultexpression&gt;\n  &lt;/verb&gt;\n&lt;/asl&gt;\n</code></pre>\n\n",
      "PostDate": "2019-06-27T04:08:50.1865188Z",
      "LastEditDate": null,
      "link": null
    }
  ]
}
