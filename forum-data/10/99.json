{
  "Topic": {
    "TopicId": "99",
    "ForumId": "10",
    "Title": "wrong #@object#",
    "LastUpdated": "2003-08-26T01:16:23+01:00",
    "ReplyCount": 3
  },
  "Posts": [
    {
      "PostId": "450",
      "UserId": 0,
      "Username": "Farvardin",
      "UserAvatar": null,
      "UserGravatar": "b6ea46e28b64e5f7c68f80468607f022",
      "EditableText": "I thought the use of #@object# was for avoiding ambigus commands on objects with similar name, and to check if an object is in scope. Recently I added in my code such a command : \n\n[code:31sxibl7]\n\tcommand &lt;push #@table#&gt; &#123;\n\t\tif &#40; %table_move% &gt; 0 &#41; and &#40; %table_move% &lt; 11 &#41; then &#123;\n\t\t\tmsg &lt;You push the table&gt;\n\t\t\tdec &lt;table_move&gt;\n\t\t&#125;\n\t\telse msg &lt;There is a wall preventing you to move anymore&#46;&gt;\n\t&#125;\n\tcommand &lt;pull #@table&gt;# &#123;\n\t\tif &#40; %table_move% &gt; -1 &#41; and &#40; %table_move% &lt; 10 &#41; then &#123;\n\t\t\tmsg &lt;You pull the table&gt;\n\t\t\tinc &lt;table_move&gt;\n\t\t&#125;\n\t\telse msg &lt;There is a wall preventing you to move anymore&#46;&gt;\n\t&#125;\n\tcommand &lt;push #@chair#&gt; &#123;\n\t\tif &#40; %chair_move% &gt; 0 &#41; and &#40; %chair_move% &lt; 11 &#41; then &#123;\n\t\t\tmsg &lt;You push the chair&gt;\n\t\t\tdec &lt;chair_move&gt;\n\t\t&#125;\n\t\telse msg &lt;There is a wall preventing you to move anymore&#46;&gt;\n\t&#125;\n\tcommand &lt;pull #@chair#&gt; &#123;\n\t\tif &#40; %chair_move% &gt; -1 &#41; and &#40; %chair_move% &lt; 10 &#41; then &#123;\n\t\t\tmsg &lt;You pull the chair&gt;\n\t\t\tinc &lt;chair_move&gt;\n\t\t&#125;\n\t\telse msg &lt;There is a wall preventing you to move anymore&#46;&gt;\n\t&#125;\n\tcommand &lt;push #@bed#&gt; if not exists &lt;book1&gt; then &#123;\n\t\tmsg &lt;You notice a book has fallen between the wall and your bed&#46;&gt;\n\t\treveal &lt;book1&gt;\n\t\tshow &lt;book1&gt;\n[/code:31sxibl7]\n\nThe problem now is if I write :\n\n&gt;push bed\nYou push the table\n(and the value decrease for table_move)\n\nthe same goes for \n&gt;push chair \n\netc.\n\nonly the 1st command written is considered (command &lt;push #@table#&gt;)\n\nSo to avoid this problem, I removed the #@....# and all works fine, except it doesn't check if the object is in scope\n\n\nI have also this :\n\n[code:31sxibl7]\tcommand &lt;pull #@rope3#&gt; &#123;\n\t\tif flag &lt;gote_rope&gt; and not flag &lt;livolas_rope&gt; then msg &lt;You're not strong enough&#46;&gt;\n\t\tif flag &lt;gote_rope&gt; and flag &lt;livolas_rope&gt; then &#123;\n\t\t\tmsg &lt;You help the Elf to pull the string&#46; The princess is almost free now&#46;&gt;\n\t\t\tflag on &lt;liberee&gt;\n\t\t\ttimeron &lt;gote_lib&gt;\n\t\t&#125;\n\t&#125;\n[/code:31sxibl7]\n\nand if someone type :\n\n&gt; pull tree\nYou help the Elf to pull the string. The princess is almost free now.\n\nwhat is wrong ? It doesn't seem to be a normal behaviour.",
      "EditableFormat": "bbcode",
      "HTML": "I thought the use of #@object# was for avoiding ambigus commands on objects with similar name, and to check if an object is in scope. Recently I added in my code such a command : <br/><br/><pre><code><br/>\tcommand &lt;push #@table#&gt; &#123;<br/>\t\tif &#40; %table_move% &gt; 0 &#41; and &#40; %table_move% &lt; 11 &#41; then &#123;<br/>\t\t\tmsg &lt;You push the table&gt;<br/>\t\t\tdec &lt;table_move&gt;<br/>\t\t&#125;<br/>\t\telse msg &lt;There is a wall preventing you to move anymore&#46;&gt;<br/>\t&#125;<br/>\tcommand &lt;pull #@table&gt;# &#123;<br/>\t\tif &#40; %table_move% &gt; -1 &#41; and &#40; %table_move% &lt; 10 &#41; then &#123;<br/>\t\t\tmsg &lt;You pull the table&gt;<br/>\t\t\tinc &lt;table_move&gt;<br/>\t\t&#125;<br/>\t\telse msg &lt;There is a wall preventing you to move anymore&#46;&gt;<br/>\t&#125;<br/>\tcommand &lt;push #@chair#&gt; &#123;<br/>\t\tif &#40; %chair_move% &gt; 0 &#41; and &#40; %chair_move% &lt; 11 &#41; then &#123;<br/>\t\t\tmsg &lt;You push the chair&gt;<br/>\t\t\tdec &lt;chair_move&gt;<br/>\t\t&#125;<br/>\t\telse msg &lt;There is a wall preventing you to move anymore&#46;&gt;<br/>\t&#125;<br/>\tcommand &lt;pull #@chair#&gt; &#123;<br/>\t\tif &#40; %chair_move% &gt; -1 &#41; and &#40; %chair_move% &lt; 10 &#41; then &#123;<br/>\t\t\tmsg &lt;You pull the chair&gt;<br/>\t\t\tinc &lt;chair_move&gt;<br/>\t\t&#125;<br/>\t\telse msg &lt;There is a wall preventing you to move anymore&#46;&gt;<br/>\t&#125;<br/>\tcommand &lt;push #@bed#&gt; if not exists &lt;book1&gt; then &#123;<br/>\t\tmsg &lt;You notice a book has fallen between the wall and your bed&#46;&gt;<br/>\t\treveal &lt;book1&gt;<br/>\t\tshow &lt;book1&gt;<br/></code></pre><br/><br/>The problem now is if I write :<br/><br/>&gt;push bed<br/>You push the table<br/>(and the value decrease for table_move)<br/><br/>the same goes for <br/>&gt;push chair <br/><br/>etc.<br/><br/>only the 1st command written is considered (command &lt;push #@table#&gt;)<br/><br/>So to avoid this problem, I removed the #@....# and all works fine, except it doesn't check if the object is in scope<br/><br/><br/>I have also this :<br/><br/><pre><code>\tcommand &lt;pull #@rope3#&gt; &#123;<br/>\t\tif flag &lt;gote_rope&gt; and not flag &lt;livolas_rope&gt; then msg &lt;You're not strong enough&#46;&gt;<br/>\t\tif flag &lt;gote_rope&gt; and flag &lt;livolas_rope&gt; then &#123;<br/>\t\t\tmsg &lt;You help the Elf to pull the string&#46; The princess is almost free now&#46;&gt;<br/>\t\t\tflag on &lt;liberee&gt;<br/>\t\t\ttimeron &lt;gote_lib&gt;<br/>\t\t&#125;<br/>\t&#125;<br/></code></pre><br/><br/>and if someone type :<br/><br/>&gt; pull tree<br/>You help the Elf to pull the string. The princess is almost free now.<br/><br/>what is wrong ? It doesn't seem to be a normal behaviour.",
      "PostDate": "2003-08-25T07:18:42+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "451",
      "UserId": 0,
      "Username": "Alex",
      "UserAvatar": null,
      "UserGravatar": "188b72c5e13327f4fde3989dca7d7d53",
      "EditableText": "You've misunderstood what the #...# and #@...# syntax is for. These surround names of [i:8vn106di]variables[/i:8vn106di], not object names. Whatever the player types in in that space is put into the variable you specify. If you use the #@...# form, the player is limited to typing in a valid object name, and the variable will contain the real (unaliased) name of the object.\n\nIn your example, don't use things like \"push #@table#\". Call it something like \"push #@object#\" instead, and then check whether the string variable \"object\" contains the name of the table. If the table object's real name is \"table\", then use:\n\n[code:8vn106di]\ncommand &lt;push #@object#&gt; &#123;\n  if &#40; #object# = table &#41; then &#123;\n    ' insert table pushing code\n  &#125;\n  else msg &lt;You can't push that!&gt;\n&#125;\n[/code:8vn106di]",
      "EditableFormat": "bbcode",
      "HTML": "You've misunderstood what the #...# and #@...# syntax is for. These surround names of <span style=\"font-style:italic;\">variables</span>, not object names. Whatever the player types in in that space is put into the variable you specify. If you use the #@...# form, the player is limited to typing in a valid object name, and the variable will contain the real (unaliased) name of the object.<br/><br/>In your example, don't use things like \"push #@table#\". Call it something like \"push #@object#\" instead, and then check whether the string variable \"object\" contains the name of the table. If the table object's real name is \"table\", then use:<br/><br/><pre><code><br/>command &lt;push #@object#&gt; &#123;<br/>  if &#40; #object# = table &#41; then &#123;<br/>    ' insert table pushing code<br/>  &#125;<br/>  else msg &lt;You can't push that!&gt;<br/>&#125;<br/></code></pre>",
      "PostDate": "2003-08-25T11:35:11+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "452",
      "UserId": 0,
      "Username": "Farvardin",
      "UserAvatar": null,
      "UserGravatar": "b6ea46e28b64e5f7c68f80468607f022",
      "EditableText": "<!-- s:oops: --><img src=\"{SMILIES_PATH}/icon_redface.gif\" alt=\":oops:\" title=\"Embarrassed\" /><!-- s:oops: -->  <!-- s:oops: --><img src=\"{SMILIES_PATH}/icon_redface.gif\" alt=\":oops:\" title=\"Embarrassed\" /><!-- s:oops: -->  <!-- s:oops: --><img src=\"{SMILIES_PATH}/icon_redface.gif\" alt=\":oops:\" title=\"Embarrassed\" /><!-- s:oops: -->  <!-- s:oops: --><img src=\"{SMILIES_PATH}/icon_redface.gif\" alt=\":oops:\" title=\"Embarrassed\" /><!-- s:oops: -->  <!-- s:oops: --><img src=\"{SMILIES_PATH}/icon_redface.gif\" alt=\":oops:\" title=\"Embarrassed\" /><!-- s:oops: -->  <!-- s:oops: --><img src=\"{SMILIES_PATH}/icon_redface.gif\" alt=\":oops:\" title=\"Embarrassed\" /><!-- s:oops: -->  <!-- s:oops: --><img src=\"{SMILIES_PATH}/icon_redface.gif\" alt=\":oops:\" title=\"Embarrassed\" /><!-- s:oops: -->  <!-- s:oops: --><img src=\"{SMILIES_PATH}/icon_redface.gif\" alt=\":oops:\" title=\"Embarrassed\" /><!-- s:oops: -->  <!-- s:oops: --><img src=\"{SMILIES_PATH}/icon_redface.gif\" alt=\":oops:\" title=\"Embarrassed\" /><!-- s:oops: --> \n\noh...\nyes...  <!-- s:oops: --><img src=\"{SMILIES_PATH}/icon_redface.gif\" alt=\":oops:\" title=\"Embarrassed\" /><!-- s:oops: --> \n\nI read it was about variables several times, but I didn't analyse it correctly...\n\nsorry. <!-- s:roll: --><img src=\"{SMILIES_PATH}/icon_rolleyes.gif\" alt=\":roll:\" title=\"Rolling Eyes\" /><!-- s:roll: -->\n\nAnd thank you for your explanation.  <!-- s:) --><img src=\"{SMILIES_PATH}/icon_e_smile.gif\" alt=\":)\" title=\"Smile\" /><!-- s:) -->",
      "EditableFormat": "bbcode",
      "HTML": "<!-- s:oops: --><img src=\"{SMILIES_PATH}/icon_redface.gif\" alt=\":oops:\" title=\"Embarrassed\" /><!-- s:oops: -->  <!-- s:oops: --><img src=\"{SMILIES_PATH}/icon_redface.gif\" alt=\":oops:\" title=\"Embarrassed\" /><!-- s:oops: -->  <!-- s:oops: --><img src=\"{SMILIES_PATH}/icon_redface.gif\" alt=\":oops:\" title=\"Embarrassed\" /><!-- s:oops: -->  <!-- s:oops: --><img src=\"{SMILIES_PATH}/icon_redface.gif\" alt=\":oops:\" title=\"Embarrassed\" /><!-- s:oops: -->  <!-- s:oops: --><img src=\"{SMILIES_PATH}/icon_redface.gif\" alt=\":oops:\" title=\"Embarrassed\" /><!-- s:oops: -->  <!-- s:oops: --><img src=\"{SMILIES_PATH}/icon_redface.gif\" alt=\":oops:\" title=\"Embarrassed\" /><!-- s:oops: -->  <!-- s:oops: --><img src=\"{SMILIES_PATH}/icon_redface.gif\" alt=\":oops:\" title=\"Embarrassed\" /><!-- s:oops: -->  <!-- s:oops: --><img src=\"{SMILIES_PATH}/icon_redface.gif\" alt=\":oops:\" title=\"Embarrassed\" /><!-- s:oops: -->  <!-- s:oops: --><img src=\"{SMILIES_PATH}/icon_redface.gif\" alt=\":oops:\" title=\"Embarrassed\" /><!-- s:oops: --> <br/><br/>oh...<br/>yes...  <!-- s:oops: --><img src=\"{SMILIES_PATH}/icon_redface.gif\" alt=\":oops:\" title=\"Embarrassed\" /><!-- s:oops: --> <br/><br/>I read it was about variables several times, but I didn't analyse it correctly...<br/><br/>sorry. <!-- s:roll: --><img src=\"{SMILIES_PATH}/icon_rolleyes.gif\" alt=\":roll:\" title=\"Rolling Eyes\" /><!-- s:roll: --><br/><br/>And thank you for your explanation.  <!-- s:) --><img src=\"{SMILIES_PATH}/icon_e_smile.gif\" alt=\":)\" title=\"Smile\" /><!-- s:) -->",
      "PostDate": "2003-08-25T12:39:37+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "456",
      "UserId": 0,
      "Username": "GameBoy",
      "UserAvatar": null,
      "UserGravatar": "554e89a053350b96f686f324a6049e9d",
      "EditableText": "i never actually thought about using the #@..# script, i always seem to do things the hard way, grrrr",
      "EditableFormat": "bbcode",
      "HTML": "i never actually thought about using the #@..# script, i always seem to do things the hard way, grrrr",
      "PostDate": "2003-08-26T01:16:23+01:00",
      "LastEditDate": null
    }
  ]
}
