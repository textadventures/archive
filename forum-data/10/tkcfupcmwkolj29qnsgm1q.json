{
  "Topic": {
    "TopicId": "tkcfupcmwkolj29qnsgm1q",
    "ForumId": "10",
    "Title": "Checking if an object is not in the current room or a certain room?",
    "LastUpdated": "2020-02-10T23:11:16.6401944Z",
    "ReplyCount": 0
  },
  "Posts": [
    {
      "PostId": "713ec825-de3b-40d5-8a92-3e5453ad2c61",
      "UserId": 454326,
      "Username": "Brian5757",
      "AvatarUrl": "https://secure.gravatar.com/avatar/411c3e8cd4782d4a996f292940a61069?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Is there a command I can use to check if an object is in a certain room? Also is there a command to check if a object is not in the current room?\r\nI was wondering if \"object not reachable\" would be a suitable command to check if the object is not in the current room?",
      "EditableFormat": "markdown",
      "HTML": "<p>Is there a command I can use to check if an object is in a certain room? Also is there a command to check if a object is not in the current room?<br>\nI was wondering if \"object not reachable\" would be a suitable command to check if the object is not in the current room?</p>\n\n",
      "PostDate": "2020-02-10T23:11:16.6401944Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "4057427e-26c4-4b58-82ae-31c1feff1ff0",
      "UserId": 247325,
      "Username": "hegemonkhan",
      "AvatarUrl": "https://secure.gravatar.com/avatar/a96cf34d8d97c57de38f54ee22b1759b?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "you can do so via the 'Scope/All' Functions:\r\n\r\nhttps://docs.textadventures.co.uk/quest/functions/#scope\r\n\r\nwith using the 'ListContains' and/or 'DictionaryContains' 'Scope/All' Functions:\r\n\r\nhttps://docs.textadventures.co.uk/quest/functions/listcontains.html\r\nhttps://docs.textadventures.co.uk/quest/functions/dictionarycontains.html\r\n\r\nthere's also directly the 'Contains' Function:\r\n\r\nhttps://docs.textadventures.co.uk/quest/functions/contains.html\r\n\r\nyou can also use the built-in 'parent' Object (reference/pointer) Attribute:\r\n\r\nhttps://docs.textadventures.co.uk/quest/attributes/parent.html\r\n\r\nand if you just want to directly check the inventory (inventory = contained within the current active Player Object / game.pov), there's the 'Got' Function:\r\n\r\nhttps://docs.textadventures.co.uk/quest/functions/corelibrary/got.html",
      "EditableFormat": "markdown",
      "HTML": "<p>you can do so via the 'Scope/All' Functions:</p>\n<p>https://docs.textadventures.co.uk/quest/functions/#scope</p>\n<p>with using the 'ListContains' and/or 'DictionaryContains' 'Scope/All' Functions:</p>\n<p>https://docs.textadventures.co.uk/quest/functions/listcontains.html<br>\nhttps://docs.textadventures.co.uk/quest/functions/dictionarycontains.html</p>\n<p>there's also directly the 'Contains' Function:</p>\n<p>https://docs.textadventures.co.uk/quest/functions/contains.html</p>\n<p>you can also use the built-in 'parent' Object (reference/pointer) Attribute:</p>\n<p>https://docs.textadventures.co.uk/quest/attributes/parent.html</p>\n<p>and if you just want to directly check the inventory (inventory = contained within the current active Player Object / game.pov), there's the 'Got' Function:</p>\n<p>https://docs.textadventures.co.uk/quest/functions/corelibrary/got.html</p>\n\n",
      "PostDate": "2020-02-11T00:49:13.7887797Z",
      "LastEditDate": "2020-02-11T00:49:45.5106258Z",
      "link": null
    },
    {
      "PostId": "7a30ee4d-edf6-4c6c-8c79-45340284cc61",
      "UserId": 454326,
      "Username": "Brian5757",
      "AvatarUrl": "https://secure.gravatar.com/avatar/411c3e8cd4782d4a996f292940a61069?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "But I'm still not certain in how to check if an object is in a certain room.\r\neg If fish is in river then print \"You must catch the fish first\"\r\n\r\nBrian",
      "EditableFormat": "markdown",
      "HTML": "<p>But I'm still not certain in how to check if an object is in a certain room.<br>\neg If fish is in river then print \"You must catch the fish first\"</p>\n<p>Brian</p>\n\n",
      "PostDate": "2020-02-11T04:27:26.6947302Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "6864c253-5baa-46c0-b6f8-fad0b125808a",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "```\r\nif (Contains (river, fish)) {\r\n```\r\n\r\nNote that if the player is in the \"river\" room, a fish in their inventory will be in that room. If you want to check that an object is in a specific place but not held by the player, you would need to explicitly check this:\r\n```\r\nif (Contains (river,  fish) and not Got (fish)) {\r\n```\r\n<hr />\r\n\r\nIf the fish starts in the river, an alternative would be checking if the fish has been moved:\r\n```\r\nif (fish.hasbeenmoved) {\r\n```",
      "EditableFormat": "markdown",
      "HTML": "<pre><code>if (Contains (river, fish)) {\n</code></pre>\n<p>Note that if the player is in the \"river\" room, a fish in their inventory will be in that room. If you want to check that an object is in a specific place but not held by the player, you would need to explicitly check this:</p>\n<pre><code>if (Contains (river,  fish) and not Got (fish)) {\n</code></pre>\n<hr>\n<p>If the fish starts in the river, an alternative would be checking if the fish has been moved:</p>\n<pre><code>if (fish.hasbeenmoved) {\n</code></pre>\n\n",
      "PostDate": "2020-02-11T10:11:57.565356Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "6199fe62-3817-49cc-bb15-89f0fa850fab",
      "UserId": 454326,
      "Username": "Brian5757",
      "AvatarUrl": "https://secure.gravatar.com/avatar/411c3e8cd4782d4a996f292940a61069?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Hi mrangel.\r\n\r\nThat hasbeenremoved test is very useful as I can use it to test if an object has been used in the game.\r\nAt the moment I've been making an object invisible and then making the object visiable when used in the game such as the player finding a new object. It also saves me having to set a flag so that the score does not get increased twice if the player repeats some action.\r\n\r\nIs there also a hasnotbeenremoved test in Quest?\r\n\r\nWhen checking if the \r\nWill the if (Contains (river, fish)) { fail if the fish is in the same room as the player but not in the players inventory?\r\nI have been using 'if object is reachable' to test for the object being in the same room but it might also pass if the player is carrying the object.\r\nIt's unusual that Quest does not have a specific command to test if an object is only in the current room (and not in the inventory).",
      "EditableFormat": "markdown",
      "HTML": "<p>Hi mrangel.</p>\n<p>That hasbeenremoved test is very useful as I can use it to test if an object has been used in the game.<br>\nAt the moment I've been making an object invisible and then making the object visiable when used in the game such as the player finding a new object. It also saves me having to set a flag so that the score does not get increased twice if the player repeats some action.</p>\n<p>Is there also a hasnotbeenremoved test in Quest?</p>\n<p>When checking if the<br>\nWill the if (Contains (river, fish)) { fail if the fish is in the same room as the player but not in the players inventory?<br>\nI have been using 'if object is reachable' to test for the object being in the same room but it might also pass if the player is carrying the object.<br>\nIt's unusual that Quest does not have a specific command to test if an object is only in the current room (and not in the inventory).</p>\n\n",
      "PostDate": "2020-02-12T00:24:52.9088162Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "2acdefbc-8cd5-4aa8-be64-ea288be2b07b",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "> Is there also a hasnotbeenremoved test in Quest?\r\n```\r\nif (not fish.hasbeenmoved) {\r\n```\r\nYou can reverse any test by putting \"not\" in front of it.\r\n\r\n> Will the if (Contains (river, fish)) { fail if the fish is in the same room as the player but not in the players inventory?\r\n\r\n`Contains(river, fish)` will be true if the fish is inside the river., or inside something (such as the player) which is in the river. It tests the location of the item and nothing else.\r\n\r\n`ListContains (ScopeReachable (), fish)`, on the other hand, tests if the player can reach the fish. This means that it's in the same room as the player (or in the inventory), and is visible, and is not in a closed container.\r\n\r\n> Quest does not have a specific command to test if an object is only in the current room (and not in the inventory).\r\n```\r\nif (ListContains (ScopeReachableNotHeld (), fish)) {\r\n```\r\n\r\nMany of the `ScopeReachable` functions also have a `ScopeVisible` version - because an object in a transparent closed container is visible but not reachable.\r\n\r\nThese functions aren't all in the GUI because the list would be impossibly large.",
      "EditableFormat": "markdown",
      "HTML": "<blockquote>\n<p>Is there also a hasnotbeenremoved test in Quest?</p>\n</blockquote>\n<pre><code>if (not fish.hasbeenmoved) {\n</code></pre>\n<p>You can reverse any test by putting \"not\" in front of it.</p>\n<blockquote>\n<p>Will the if (Contains (river, fish)) { fail if the fish is in the same room as the player but not in the players inventory?</p>\n</blockquote>\n<p><code>Contains(river, fish)</code> will be true if the fish is inside the river., or inside something (such as the player) which is in the river. It tests the location of the item and nothing else.</p>\n<p><code>ListContains (ScopeReachable (), fish)</code>, on the other hand, tests if the player can reach the fish. This means that it's in the same room as the player (or in the inventory), and is visible, and is not in a closed container.</p>\n<blockquote>\n<p>Quest does not have a specific command to test if an object is only in the current room (and not in the inventory).</p>\n</blockquote>\n<pre><code>if (ListContains (ScopeReachableNotHeld (), fish)) {\n</code></pre>\n<p>Many of the <code>ScopeReachable</code> functions also have a <code>ScopeVisible</code> version - because an object in a transparent closed container is visible but not reachable.</p>\n<p>These functions aren't all in the GUI because the list would be impossibly large.</p>\n\n",
      "PostDate": "2020-02-12T02:50:14.481259Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "47f24860-3532-4ec1-97ee-47030d1b9bee",
      "UserId": 454326,
      "Username": "Brian5757",
      "AvatarUrl": "https://secure.gravatar.com/avatar/411c3e8cd4782d4a996f292940a61069?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "I have a list of commands from the Quest on-line help but I can't see the 'hasobjectmoved' anywhere in the list. Is this a recent command added to Quest?\r\nApart from the Quest Help is there somewhere I can find a complete list of Quest commands?\r\n ",
      "EditableFormat": "markdown",
      "HTML": "<p>I have a list of commands from the Quest on-line help but I can't see the 'hasobjectmoved' anywhere in the list. Is this a recent command added to Quest?<br>\nApart from the Quest Help is there somewhere I can find a complete list of Quest commands?</p>\n\n",
      "PostDate": "2020-02-13T22:45:40.5315679Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "39a17a53-9539-4e71-b112-74c3b7d348d0",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "You're right, `hasbeenmoved` isn't in the list of attributes in the documentation.  I think it was added in a recent version (5.8 maybe) and the docs aren't always updated.\r\n\r\nThe list on there is pretty comprehensive. I don't think there's anywhere better to look, unless you read the code itself.",
      "EditableFormat": "markdown",
      "HTML": "<p>You're right, <code>hasbeenmoved</code> isn't in the list of attributes in the documentation.  I think it was added in a recent version (5.8 maybe) and the docs aren't always updated.</p>\n<p>The list on there is pretty comprehensive. I don't think there's anywhere better to look, unless you read the code itself.</p>\n\n",
      "PostDate": "2020-02-14T02:33:19.1162627Z",
      "LastEditDate": null,
      "link": null
    }
  ]
}
