{
  "Topic": {
    "TopicId": "jyfwkrinceyeodyxcro-tg",
    "ForumId": "10",
    "Title": "Combat Overhaul",
    "LastUpdated": "2017-11-14T05:23:01.7142581Z",
    "ReplyCount": 0
  },
  "Posts": [
    {
      "PostId": "c0e349df-9f2d-41be-8c78-3486b3f83771",
      "UserId": 248029,
      "Username": "Anonynn",
      "AvatarUrl": "http://i.imgur.com/FBcxPJRb.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "So I'm hoping to overhaul my combat system a little and was wondering if anyone wanted to offer some insight. I have SOME ideas but this line of programming is still a little beyond my scope of knowledge (out of range :P ). \r\nHere's the...\r\n_Global TurnScript_ \"attacking_player\"\r\n```\r\nif (not game.notarealturn) {\r\n  foreach (o, GetDirectChildren(player.parent)) {\r\n    if (GetBoolean(o, \"attacking_player\")) {\r\n      if (o.health > 1) {\r\n        if (HasScript(o, \"specialattack\")) {\r\n          if (RandomChance(5)) {\r\n            do (o, \"specialattack\")\r\n          }\r\n          else {\r\n            do (o, \"attackplayer\")\r\n          }\r\n        }\r\n        else {\r\n          do (o, \"attackplayer\")\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\nif (not game.notarealturn) {\r\n  game.turncount = game.turncount + 1\r\n}\r\ngame.notarealturn = False\r\n```\r\nSo this is pretty straight forward, it checks to see if the enemy is attacking and if the next player action is using a real turn or not. A real turn would constitute preforming an in-game action, while a non-real turn would be like checking the enemy description or their own description, inventory etc. \r\n_____________\r\nThis next part is an _Object Type_ --- so all monsters that fall into this type have the _attacking_player_ turn-script. My problem with this particular section is that it causes A LOT of misses. So sometimes combat can drag on and it makes enemies very tough to defeat because the player misses 50% of the time. \r\nHere's the code. \r\n```\r\nif (this.health > 0) {\r\n  if (player.equipped = null) {\r\n    bonus = - this.defense\r\n    damage = player.strength / 2\r\n  }\r\n  else {\r\n    bonus = player.equipped.damagebonus - this.defense\r\n    if (HasString(player.equipped, \"damage\")) {\r\n      damage = DiceRoll(player.equipped.damage)\r\n    }\r\n    else {\r\n      damage = player.equipped.damage\r\n    }\r\n  }\r\n  if (RandomChance(player.intelligence + 10)) {\r\n    critical = true\r\n    damage = damage * 2\r\n  }\r\n  else {\r\n    critical = false\r\n  }\r\n  if (RandomChance(15 + 5 * bonus)) {\r\n    if (critical) {\r\n      msg (\"<br/><font color\\\"dedede\\\">You got a critical hit!</font color><br/>\")\r\n    }\r\n    this.health = this.health - damage\r\n    if (this.health > 0) {\r\n      PrintOrRun (this, \"attackhit\")\r\n      msg (\"[\" + damage + \" damage done, \" + this.health + \" health remaining]\")\r\n    }\r\n    else {\r\n      PrintOrRun (this, \"attackkill\")\r\n      msg (\"[\" + damage + \" damage done]\")\r\n      this.listalias = \"<span style=\\\"color: red;\\\">\" + this.alias + \"</span>\"\r\n    }\r\n  }\r\n  else {\r\n    PrintOrRun (this, \"attackmissed\")\r\n  }\r\n}\r\nelse {\r\n  msg (\"It is already dead!\")\r\n}\r\n```\r\nI'm hoping to set it up so that **strength** affects the player dice. \r\n    _if (HasString(player.equipped, \"damage\")) {\r\n      damage = DiceRoll(player.equipped.damage)\r\n    }_\r\n\r\nAnd that **agility** affects how often the player is hit in combat. \r\n\r\nand **intelligence** affects critical stike chances and causes double damage; Typical RPG stuff. \r\n\r\nand **defense** reduces damage etc. \r\n\r\nI'd also like to keep it as simple as it can be. I think ideally it would be nice if the player hit 80% of the time, and that the enemy also hits 80% of the time (although reduces percentage with player.agility). \r\n\r\nHere is the enemies _attack script_.\r\n```\r\nbonus = this.damagebonus - player.agility / 2\r\ndamage = this.damage - player.defense / 3\r\nif (damage < 1) {\r\n  if (RandomChance(50)) {\r\n    damage = 1\r\n  }\r\n  else {\r\n    damage = 0\r\n  }\r\n}\r\nif (RandomChance(40 + bonus * 5)) {\r\n  msg (this.attackplayerhit)\r\n  player.health = player.health - damage\r\n}\r\nelse {\r\n  msg (this.attackplayermissed)\r\n}\r\n```\r\n\r\nAm I just wishing against fate :O !? Basically first, I just need to know if what I want can be done. \r\n\r\nAnonynn. ",
      "EditableFormat": "markdown",
      "HTML": "<p>So I'm hoping to overhaul my combat system a little and was wondering if anyone wanted to offer some insight. I have SOME ideas but this line of programming is still a little beyond my scope of knowledge (out of range :P ).<br>\nHere's the...<br>\n<em>Global TurnScript</em> \"attacking_player\"</p>\n<pre><code>if (not game.notarealturn) {\n  foreach (o, GetDirectChildren(player.parent)) {\n    if (GetBoolean(o, \"attacking_player\")) {\n      if (o.health &gt; 1) {\n        if (HasScript(o, \"specialattack\")) {\n          if (RandomChance(5)) {\n            do (o, \"specialattack\")\n          }\n          else {\n            do (o, \"attackplayer\")\n          }\n        }\n        else {\n          do (o, \"attackplayer\")\n        }\n      }\n    }\n  }\n}\nif (not game.notarealturn) {\n  game.turncount = game.turncount + 1\n}\ngame.notarealturn = False\n</code></pre>\n<p>So this is pretty straight forward, it checks to see if the enemy is attacking and if the next player action is using a real turn or not. A real turn would constitute preforming an in-game action, while a non-real turn would be like checking the enemy description or their own description, inventory etc.</p>\n<hr>\n<p>This next part is an <em>Object Type</em> --- so all monsters that fall into this type have the <em>attacking_player</em> turn-script. My problem with this particular section is that it causes A LOT of misses. So sometimes combat can drag on and it makes enemies very tough to defeat because the player misses 50% of the time.<br>\nHere's the code.</p>\n<pre><code>if (this.health &gt; 0) {\n  if (player.equipped = null) {\n    bonus = - this.defense\n    damage = player.strength / 2\n  }\n  else {\n    bonus = player.equipped.damagebonus - this.defense\n    if (HasString(player.equipped, \"damage\")) {\n      damage = DiceRoll(player.equipped.damage)\n    }\n    else {\n      damage = player.equipped.damage\n    }\n  }\n  if (RandomChance(player.intelligence + 10)) {\n    critical = true\n    damage = damage * 2\n  }\n  else {\n    critical = false\n  }\n  if (RandomChance(15 + 5 * bonus)) {\n    if (critical) {\n      msg (\"&lt;br/&gt;&lt;font color\\\"dedede\\\"&gt;You got a critical hit!&lt;/font color&gt;&lt;br/&gt;\")\n    }\n    this.health = this.health - damage\n    if (this.health &gt; 0) {\n      PrintOrRun (this, \"attackhit\")\n      msg (\"[\" + damage + \" damage done, \" + this.health + \" health remaining]\")\n    }\n    else {\n      PrintOrRun (this, \"attackkill\")\n      msg (\"[\" + damage + \" damage done]\")\n      this.listalias = \"&lt;span style=\\\"color: red;\\\"&gt;\" + this.alias + \"&lt;/span&gt;\"\n    }\n  }\n  else {\n    PrintOrRun (this, \"attackmissed\")\n  }\n}\nelse {\n  msg (\"It is already dead!\")\n}\n</code></pre>\n<p>I'm hoping to set it up so that <strong>strength</strong> affects the player dice.<br>\n<em>if (HasString(player.equipped, \"damage\")) {<br>\ndamage = DiceRoll(player.equipped.damage)<br>\n}</em></p>\n<p>And that <strong>agility</strong> affects how often the player is hit in combat.</p>\n<p>and <strong>intelligence</strong> affects critical stike chances and causes double damage; Typical RPG stuff.</p>\n<p>and <strong>defense</strong> reduces damage etc.</p>\n<p>I'd also like to keep it as simple as it can be. I think ideally it would be nice if the player hit 80% of the time, and that the enemy also hits 80% of the time (although reduces percentage with player.agility).</p>\n<p>Here is the enemies <em>attack script</em>.</p>\n<pre><code>bonus = this.damagebonus - player.agility / 2\ndamage = this.damage - player.defense / 3\nif (damage &lt; 1) {\n  if (RandomChance(50)) {\n    damage = 1\n  }\n  else {\n    damage = 0\n  }\n}\nif (RandomChance(40 + bonus * 5)) {\n  msg (this.attackplayerhit)\n  player.health = player.health - damage\n}\nelse {\n  msg (this.attackplayermissed)\n}\n</code></pre>\n<p>Am I just wishing against fate :O !? Basically first, I just need to know if what I want can be done.</p>\n<p>Anonynn.</p>\n\n",
      "PostDate": "2017-11-14T05:23:01.7142581Z",
      "LastEditDate": "2017-11-14T05:29:02.4519593Z",
      "link": null
    },
    {
      "PostId": "f39cd7e0-78fc-4b1e-8510-d26c4c6261e6",
      "UserId": 267336,
      "Username": "jmnevil54",
      "AvatarUrl": "https://secure.gravatar.com/avatar/5d73d7ec1dbe20a5cb46f02a6d53f187?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "This is still all strange and new to me. I have yet to figure out what Damageatt and Attackatt (damage attribute and attack attribute) connect to in my games/The Pixie's code.\r\n\r\nWhat is this?\r\n\r\n```\r\n    bonus = - this.defense\r\n```\r\n\r\nWhat are you subtracting?\r\n\r\nTo hit 80% or so, of the time, you adjust some of the variables/functions...\r\n\r\nAnd question.\r\nWhy do you have 2 critical hit functions?\r\n```\r\nif (RandomChance(player.intelligence + 10)) {\r\n    critical = true\r\n    damage = damage * 2\r\n  }\r\n```\r\n```\r\nif (RandomChance(15 + 5 * bonus)) {\r\n    if (critical) {\r\n      msg (\"<br/><font color\\\"dedede\\\">You got a critical hit!</font color><br/>\")\r\n    }\r\n```\r\n\r\nThis would, it seems, make it so that 15 percent of 10+ of the time, the critical hit message runs correctly?\r\n\r\nThe enemy's attack script seems completely fine, though.\r\n",
      "EditableFormat": "markdown",
      "HTML": "<p>This is still all strange and new to me. I have yet to figure out what Damageatt and Attackatt (damage attribute and attack attribute) connect to in my games/The Pixie's code.</p>\n<p>What is this?</p>\n<pre><code>    bonus = - this.defense\n</code></pre>\n<p>What are you subtracting?</p>\n<p>To hit 80% or so, of the time, you adjust some of the variables/functions...</p>\n<p>And question.<br>\nWhy do you have 2 critical hit functions?</p>\n<pre><code>if (RandomChance(player.intelligence + 10)) {\n    critical = true\n    damage = damage * 2\n  }\n</code></pre>\n<pre><code>if (RandomChance(15 + 5 * bonus)) {\n    if (critical) {\n      msg (\"&lt;br/&gt;&lt;font color\\\"dedede\\\"&gt;You got a critical hit!&lt;/font color&gt;&lt;br/&gt;\")\n    }\n</code></pre>\n<p>This would, it seems, make it so that 15 percent of 10+ of the time, the critical hit message runs correctly?</p>\n<p>The enemy's attack script seems completely fine, though.</p>\n\n",
      "PostDate": "2017-11-14T09:52:26.8377187Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "0d963cf4-cc30-433b-bcdf-0d0a899c4fb5",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "The critical hit code looks sensible enough to me. Depends what the range of your intelligence stat is, though; the probability of a critical hit looks quite low, unless stats can be quite large numbers.\r\n\r\nIf combat has too many misses, I'd think it's just a chance of adjusting the probabilities.\r\n`RandomChance(15 + 5 * bonus)` seems to be your chance of hitting, if I'm reading that right.\r\nSo to have a 50% chance of hitting, your weapon's damagebonus would have to be 7 higher than the enemy's defense.\r\n\r\nI think the code is good. If you feel like the player is missing too often, then adjust the 15 and the 5 in that line to different numbers. If the damagebonus of weapons available (assuming `player.equipped` is their current weapon) at any point is 10-15 points higher than the defense of enemies you'll encounter at that stage in the game, I'd expect that to be fine. If the difference is less, maybe make the hit chance `RandomChance(15 + 7 * bonus)` or something. Or if damagebonus and defense are likely to be similar numbers at each stage of the game, `RandomChance(45 + 5 * bonus)` might work better.\r\n\r\nI think your code is good; it's just a case of tweaking the numbers, which may take a little experimentation until the length of battles feels right.",
      "EditableFormat": "markdown",
      "HTML": "<p>The critical hit code looks sensible enough to me. Depends what the range of your intelligence stat is, though; the probability of a critical hit looks quite low, unless stats can be quite large numbers.</p>\n<p>If combat has too many misses, I'd think it's just a chance of adjusting the probabilities.<br>\n<code>RandomChance(15 + 5 * bonus)</code> seems to be your chance of hitting, if I'm reading that right.<br>\nSo to have a 50% chance of hitting, your weapon's damagebonus would have to be 7 higher than the enemy's defense.</p>\n<p>I think the code is good. If you feel like the player is missing too often, then adjust the 15 and the 5 in that line to different numbers. If the damagebonus of weapons available (assuming <code>player.equipped</code> is their current weapon) at any point is 10-15 points higher than the defense of enemies you'll encounter at that stage in the game, I'd expect that to be fine. If the difference is less, maybe make the hit chance <code>RandomChance(15 + 7 * bonus)</code> or something. Or if damagebonus and defense are likely to be similar numbers at each stage of the game, <code>RandomChance(45 + 5 * bonus)</code> might work better.</p>\n<p>I think your code is good; it's just a case of tweaking the numbers, which may take a little experimentation until the length of battles feels right.</p>\n\n",
      "PostDate": "2017-11-14T11:52:31.1109407Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "5d07077b-bc46-46dd-8bde-1ead1aa2ac0d",
      "UserId": 247325,
      "Username": "hegemonkhan",
      "AvatarUrl": "https://secure.gravatar.com/avatar/a96cf34d8d97c57de38f54ee22b1759b?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "you can always research/use other games' mechanics/equations/formulas, either for help/ideas or directly using, if you're having trouble on your own creation of game mechanics (and balancing). It's a lot of trial and error and slowly getting experience/creating-a-system.\r\n\r\nI am in the same predicament, as I never tried doing any of this either, never done any D&D table-top/dice-games, so no experience with game mechanics and balancing, as well as hating/not-being-good-at math, lol.\r\n\r\n---------------------\r\n\r\nfor a critical hit, I just use a 'luck' stat (Integer or Double Attribute: 0 to 100 or 0.0 to 100.0):\r\n\r\n(using a Function for example scripting)\r\n\r\n```\r\n// scripting examples:\r\n\r\n// -------------------------------\r\n\r\n// katana.damage = 50\r\n\r\n// player.right_hand = katana\r\n// player.strength = 100\r\n// player.luck = 100\r\n\r\nplayer.damage = (player.right_hand.damage + (player.right_hand.damage * (player.strength / 100))) * critical_function\r\n// player.damage = (50 + (50 * (100/100))) * 2 = (50 + (50 * 1)) * 2 = (50 + 50) * 2 = 100 * 2 = 200\r\n\r\n// ------------------\r\n\r\n// unarmed.damage = 1\r\n\r\n// player.right_hand = unarmed\r\n// player.strength = 0\r\n// player.luck = 0\r\n\r\nplayer.damage = (player.right_hand.damage + (player.right_hand.damage * (player.strength / 100))) * critical_function\r\n// player.damage = (1 + (1 * (0/100))) * 1 = (1 + (1 * 0)) * 1 = (1 + 0) * 1 = 1 * 1 = 1\r\n\r\n// -------------------------\r\n\r\n// scimitar.damage = 20\r\n\r\n// player.right_hand = scimitar\r\n// player.strength = 50\r\n// player.luck = 0\r\n\r\nplayer.damage = (player.right_hand.damage + (player.right_hand.damage * (player.strength / 100))) * critical_function\r\n// player.damage = (20 + (20 * (50/100))) * 1 = (20 + (20 * 1/2)) * 1 = (20 + 10) * 1 = 30 * 1 = 30\r\n\r\n// ---------------------\r\n\r\n<function name=\"critical_function\" type=\"INTEGER_OR_DOUBLE_CHOOSE_ONE\">\r\n  if (RandomChance (player.luck)) {\r\n    modifier = 2 // or: 1.5\r\n  } else {\r\n    modifier = 1 // or: 1.0\r\n  }\r\n  return (modifier)\r\n</function>\r\n```\r\n\r\n-----------------\r\n\r\nfor example of ideas, take a look at some of TES:Morrowind's mechanics:\r\n\r\nht.tp://en.uesp.net/wiki/Morrowind:Combat (scroll down to find the formulas/equations)\r\n\r\nand look up other games as well, such as Diablo series and various other RPGs (computer, NES, SNES, PS1, etc consoles):\r\n\r\nht.tp://www.bigd-online.com/JG/JGFrame.html (jarulf's guide for diablo 1)\r\n\r\nht.tps://diablo2.diablowiki.net/Item_Generation_Tutorial (diablo 2's item-drop generation/selection)\r\n\r\n--------------\r\n\r\nalso, you can take a look at my combat system for some ideas, though it's old and the code is bad, but it's got some kinda neat stuff that can help or give ideas for you:\r\n\r\nht.tps://textadventures.co.uk/forum/quest/topic/3348/noobie-hks-help-me-thread#22483\r\nht.tps://textadventures.co.uk/forum/quest/topic/3348/noobie-hks-help-me-thread#22485 (Pertex' download file of a cleaned up version of my code, not sure if it works/if-is-still-available, though...)\r\nht.tps://textadventures.co.uk/forum/quest/topic/3348/noobie-hks-help-me-thread#22486 (the key/legend for my code, as I stupidly used abrevs, I've learned never to do that ever again, lol)\r\n\r\nask if you got any questions on anything, or if you need help/explanation of anything as well.",
      "EditableFormat": "markdown",
      "HTML": "<p>you can always research/use other games' mechanics/equations/formulas, either for help/ideas or directly using, if you're having trouble on your own creation of game mechanics (and balancing). It's a lot of trial and error and slowly getting experience/creating-a-system.</p>\n<p>I am in the same predicament, as I never tried doing any of this either, never done any D&amp;D table-top/dice-games, so no experience with game mechanics and balancing, as well as hating/not-being-good-at math, lol.</p>\n<hr>\n<p>for a critical hit, I just use a 'luck' stat (Integer or Double Attribute: 0 to 100 or 0.0 to 100.0):</p>\n<p>(using a Function for example scripting)</p>\n<pre><code>// scripting examples:\n\n// -------------------------------\n\n// katana.damage = 50\n\n// player.right_hand = katana\n// player.strength = 100\n// player.luck = 100\n\nplayer.damage = (player.right_hand.damage + (player.right_hand.damage * (player.strength / 100))) * critical_function\n// player.damage = (50 + (50 * (100/100))) * 2 = (50 + (50 * 1)) * 2 = (50 + 50) * 2 = 100 * 2 = 200\n\n// ------------------\n\n// unarmed.damage = 1\n\n// player.right_hand = unarmed\n// player.strength = 0\n// player.luck = 0\n\nplayer.damage = (player.right_hand.damage + (player.right_hand.damage * (player.strength / 100))) * critical_function\n// player.damage = (1 + (1 * (0/100))) * 1 = (1 + (1 * 0)) * 1 = (1 + 0) * 1 = 1 * 1 = 1\n\n// -------------------------\n\n// scimitar.damage = 20\n\n// player.right_hand = scimitar\n// player.strength = 50\n// player.luck = 0\n\nplayer.damage = (player.right_hand.damage + (player.right_hand.damage * (player.strength / 100))) * critical_function\n// player.damage = (20 + (20 * (50/100))) * 1 = (20 + (20 * 1/2)) * 1 = (20 + 10) * 1 = 30 * 1 = 30\n\n// ---------------------\n\n&lt;function name=\"critical_function\" type=\"INTEGER_OR_DOUBLE_CHOOSE_ONE\"&gt;\n  if (RandomChance (player.luck)) {\n    modifier = 2 // or: 1.5\n  } else {\n    modifier = 1 // or: 1.0\n  }\n  return (modifier)\n&lt;/function&gt;\n</code></pre>\n<hr>\n<p>for example of ideas, take a look at some of TES:Morrowind's mechanics:</p>\n<p>ht.tp://en.uesp.net/wiki/Morrowind:Combat (scroll down to find the formulas/equations)</p>\n<p>and look up other games as well, such as Diablo series and various other RPGs (computer, NES, SNES, PS1, etc consoles):</p>\n<p>ht.tp://www.bigd-online.com/JG/JGFrame.html (jarulf's guide for diablo 1)</p>\n<p>ht.tps://diablo2.diablowiki.net/Item_Generation_Tutorial (diablo 2's item-drop generation/selection)</p>\n<hr>\n<p>also, you can take a look at my combat system for some ideas, though it's old and the code is bad, but it's got some kinda neat stuff that can help or give ideas for you:</p>\n<p>ht.tps://textadventures.co.uk/forum/quest/topic/3348/noobie-hks-help-me-thread#22483<br>\nht.tps://textadventures.co.uk/forum/quest/topic/3348/noobie-hks-help-me-thread#22485 (Pertex' download file of a cleaned up version of my code, not sure if it works/if-is-still-available, though...)<br>\nht.tps://textadventures.co.uk/forum/quest/topic/3348/noobie-hks-help-me-thread#22486 (the key/legend for my code, as I stupidly used abrevs, I've learned never to do that ever again, lol)</p>\n<p>ask if you got any questions on anything, or if you need help/explanation of anything as well.</p>\n\n",
      "PostDate": "2017-11-15T05:06:36.3786557Z",
      "LastEditDate": "2017-11-15T05:16:46.5502134Z",
      "link": null
    },
    {
      "PostId": "39899a92-fe3a-4856-a6bd-533636fbbf15",
      "UserId": 260569,
      "Username": "DarkLizerd",
      "AvatarUrl": "https://i.imgur.com/vjdH3t6b.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "I think there are just about as many ways to do RPG/DnD combat and damage as there are adventure game players...\r\nAnd everyone of them is \"correct\" for their game...\r\nI have Ali Baba and the Forty Thieves for my Atari (Had, I remember I saved a game on the master disk and killed it :( )\r\nIt had a simple system...\r\nRoll to hit based on Dex (if I remember correctly)\r\nThen damage was Weapon damage*2-target armor\r\nThen it would Beep for every point of damage done, with a comment about how hard the hit was...\r\n\r\n",
      "EditableFormat": "markdown",
      "HTML": "<p>I think there are just about as many ways to do RPG/DnD combat and damage as there are adventure game players...<br>\nAnd everyone of them is \"correct\" for their game...<br>\nI have Ali Baba and the Forty Thieves for my Atari (Had, I remember I saved a game on the master disk and killed it :( )<br>\nIt had a simple system...<br>\nRoll to hit based on Dex (if I remember correctly)<br>\nThen damage was Weapon damage*2-target armor<br>\nThen it would Beep for every point of damage done, with a comment about how hard the hit was...</p>\n\n",
      "PostDate": "2017-11-15T17:32:21.1289019Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "918ea7e8-1b7e-4441-bbe3-e0d775a9bf3f",
      "UserId": 248029,
      "Username": "Anonynn",
      "AvatarUrl": "http://i.imgur.com/FBcxPJRb.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "```What is this?```\r\n```\r\n    bonus = - this.defense\r\n```\r\n```What are you subtracting?```\r\nThat is bonus of the player attack subtracting from the enemy's defense. \r\n\r\nAs for the critical hit functions, I'm not sure why there are two. Good question! I removed one. \r\n\r\nIt's now this. The player certainly misses a lot less (thankfully). I'll see what everyone says about it during the next release and balance it further from there.\r\n```\r\nif (this.health > 0) {\r\n  if (player.equipped = null) {\r\n    bonus = - this.defense\r\n    damage = player.strength / 2\r\n  }\r\n  else {\r\n    bonus = player.equipped.damagebonus - this.defense\r\n    if (HasString(player.equipped, \"damage\")) {\r\n      damage = DiceRoll(player.equipped.damage)\r\n    }\r\n    else {\r\n      damage = player.equipped.damage\r\n    }\r\n  }\r\n  if (RandomChance(player.intelligence + 10)) {\r\n    critical = true\r\n    damage = damage * 2\r\n  }\r\n  else {\r\n    critical = false\r\n  }\r\n  if (RandomChance(45 + 5 * bonus)) {\r\n    this.health = this.health - damage\r\n    if (this.health > 0) {\r\n      PrintOrRun (this, \"attackhit\")\r\n      msg (\"[\" + damage + \" damage done, \" + this.health + \" health remaining]\")\r\n    }\r\n    else {\r\n      PrintOrRun (this, \"attackkill\")\r\n      msg (\"[\" + damage + \" damage done]\")\r\n      this.listalias = \"<span style=\\\"color: red;\\\">\" + this.alias + \"</span>\"\r\n    }\r\n  }\r\n  else {\r\n    PrintOrRun (this, \"attackmissed\")\r\n  }\r\n}\r\nelse {\r\n  msg (\"It is already dead!\")\r\n}\r\n```\r\nThanks so much! Coming up next after I finish all of Chapter 1 will be the Skill tree I need to add to this thing. xD\r\n\r\nAnonynn. \r\n\r\n",
      "EditableFormat": "markdown",
      "HTML": "<p><code>What is this?</code></p>\n<pre><code>    bonus = - this.defense\n</code></pre>\n<p><code>What are you subtracting?</code><br>\nThat is bonus of the player attack subtracting from the enemy's defense.</p>\n<p>As for the critical hit functions, I'm not sure why there are two. Good question! I removed one.</p>\n<p>It's now this. The player certainly misses a lot less (thankfully). I'll see what everyone says about it during the next release and balance it further from there.</p>\n<pre><code>if (this.health &gt; 0) {\n  if (player.equipped = null) {\n    bonus = - this.defense\n    damage = player.strength / 2\n  }\n  else {\n    bonus = player.equipped.damagebonus - this.defense\n    if (HasString(player.equipped, \"damage\")) {\n      damage = DiceRoll(player.equipped.damage)\n    }\n    else {\n      damage = player.equipped.damage\n    }\n  }\n  if (RandomChance(player.intelligence + 10)) {\n    critical = true\n    damage = damage * 2\n  }\n  else {\n    critical = false\n  }\n  if (RandomChance(45 + 5 * bonus)) {\n    this.health = this.health - damage\n    if (this.health &gt; 0) {\n      PrintOrRun (this, \"attackhit\")\n      msg (\"[\" + damage + \" damage done, \" + this.health + \" health remaining]\")\n    }\n    else {\n      PrintOrRun (this, \"attackkill\")\n      msg (\"[\" + damage + \" damage done]\")\n      this.listalias = \"&lt;span style=\\\"color: red;\\\"&gt;\" + this.alias + \"&lt;/span&gt;\"\n    }\n  }\n  else {\n    PrintOrRun (this, \"attackmissed\")\n  }\n}\nelse {\n  msg (\"It is already dead!\")\n}\n</code></pre>\n<p>Thanks so much! Coming up next after I finish all of Chapter 1 will be the Skill tree I need to add to this thing. xD</p>\n<p>Anonynn.</p>\n\n",
      "PostDate": "2017-11-16T04:46:03.5439368Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "ff1ac33d-00bb-4315-a90a-51228b1b9f1d",
      "UserId": 267336,
      "Username": "jmnevil54",
      "AvatarUrl": "https://secure.gravatar.com/avatar/5d73d7ec1dbe20a5cb46f02a6d53f187?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "```\r\nAs for the critical hit functions, I'm not sure why there are two. Good question! I removed one.\r\nIt's now this. The player certainly misses a lot less (thankfully). \r\n```\r\n\r\nAh. That's a relief! One of those rare times I'm right.\r\n\r\n```\r\nbonus = - this.defense\r\n```\r\n\r\nBut shouldn't that be....\r\n```\r\nbonus = player.attack - this.defense\r\n```",
      "EditableFormat": "markdown",
      "HTML": "<pre><code>As for the critical hit functions, I'm not sure why there are two. Good question! I removed one.\nIt's now this. The player certainly misses a lot less (thankfully). \n</code></pre>\n<p>Ah. That's a relief! One of those rare times I'm right.</p>\n<pre><code>bonus = - this.defense\n</code></pre>\n<p>But shouldn't that be....</p>\n<pre><code>bonus = player.attack - this.defense\n</code></pre>\n\n",
      "PostDate": "2017-11-16T21:56:24.2332458Z",
      "LastEditDate": "2017-11-16T21:56:59.6707324Z",
      "link": null
    },
    {
      "PostId": "3eb59190-6d19-4b06-bcb3-e394f789d7e1",
      "UserId": 248029,
      "Username": "Anonynn",
      "AvatarUrl": "http://i.imgur.com/FBcxPJRb.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "But shouldn't that be....\r\n```\r\nbonus = player.attack - this.defense\r\n```\r\nI don't think it has to because this is an object type which is tied to the enemy object. I think it would just be redundant. But I'm not 100% sure. \r\n\r\nAnonynn.",
      "EditableFormat": "markdown",
      "HTML": "<p>But shouldn't that be....</p>\n<pre><code>bonus = player.attack - this.defense\n</code></pre>\n<p>I don't think it has to because this is an object type which is tied to the enemy object. I think it would just be redundant. But I'm not 100% sure.</p>\n<p>Anonynn.</p>\n\n",
      "PostDate": "2017-11-17T00:02:03.6696187Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "3a999689-7014-403d-89b4-6389732b8b6a",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Do you want the chance of hitting an enemy to depend on the player's stats?\r\n\r\nAs it stands, your chance of hitting depends on the weapon's \"damagebonus\" and the enemy's \"defense\". If the enemy's defense is 9 higher than the weapon's damagebonus, the attack will always miss; and if the damagebonus is 11 higher then every attack will hit.\r\n\r\nIn the case that the player is unarmed, their fists (I assume) have a damage bonus of 0, so they will always miss an enemy whose defense is 9 or higher.",
      "EditableFormat": "markdown",
      "HTML": "<p>Do you want the chance of hitting an enemy to depend on the player's stats?</p>\n<p>As it stands, your chance of hitting depends on the weapon's \"damagebonus\" and the enemy's \"defense\". If the enemy's defense is 9 higher than the weapon's damagebonus, the attack will always miss; and if the damagebonus is 11 higher then every attack will hit.</p>\n<p>In the case that the player is unarmed, their fists (I assume) have a damage bonus of 0, so they will always miss an enemy whose defense is 9 or higher.</p>\n\n",
      "PostDate": "2017-11-17T00:45:34.1248176Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "65fa0945-2178-4a18-89cd-58337483f920",
      "UserId": 247325,
      "Username": "hegemonkhan",
      "AvatarUrl": "https://secure.gravatar.com/avatar/a96cf34d8d97c57de38f54ee22b1759b?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "just to add to mrangel's post:\r\n\r\nusually games force this:\r\n\r\nmin = 5%\r\nmax = 95%\r\n\r\nso, you can (5% is low chance of course) always hit and to prevent you from always hitting as well (95% instead of 100%)\r\n\r\nand, the minimum damage is forced to be '1', so you can kill stuff...\r\n\r\nalso, lots of games separate the 'to hit / accuracy' chance from the amount of damage done:\r\n\r\ncheck 'to hit / accuracy ... (usually vs target's 'armor class')', if successful, then determine how much damage is done (usually damage vs target's 'defense/resistance')\r\n\r\n--------\r\n\r\nall of these things prevents your game from getting stuck... for example... if you hit for no/zero damage but the target/monster can't kill you either, you're stuck in that battle forever... (unless you got an 'escape' choice and it can be successful, again forcing not having a 0% chance), but if you (and/or target/monster) hit for at least 1 damage... eventually... you (or the target/monster) will win the battle...",
      "EditableFormat": "markdown",
      "HTML": "<p>just to add to mrangel's post:</p>\n<p>usually games force this:</p>\n<p>min = 5%<br>\nmax = 95%</p>\n<p>so, you can (5% is low chance of course) always hit and to prevent you from always hitting as well (95% instead of 100%)</p>\n<p>and, the minimum damage is forced to be '1', so you can kill stuff...</p>\n<p>also, lots of games separate the 'to hit / accuracy' chance from the amount of damage done:</p>\n<p>check 'to hit / accuracy ... (usually vs target's 'armor class')', if successful, then determine how much damage is done (usually damage vs target's 'defense/resistance')</p>\n<hr>\n<p>all of these things prevents your game from getting stuck... for example... if you hit for no/zero damage but the target/monster can't kill you either, you're stuck in that battle forever... (unless you got an 'escape' choice and it can be successful, again forcing not having a 0% chance), but if you (and/or target/monster) hit for at least 1 damage... eventually... you (or the target/monster) will win the battle...</p>\n\n",
      "PostDate": "2017-11-17T03:04:56.9866871Z",
      "LastEditDate": "2017-11-17T03:06:23.5879731Z",
      "link": null
    }
  ]
}
