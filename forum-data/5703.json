{
  "Topic": {
    "TopicId": "5703",
    "ForumId": "10",
    "Title": "Turn-Based Combat?",
    "LastUpdated": "2015-12-09T05:46:07+00:00",
    "ReplyCount": 9
  },
  "Posts": [
    {
      "PostId": "39273",
      "UserId": 0,
      "Username": "japangirl",
      "UserAvatar": null,
      "UserGravatar": "0664a96048142a0491a0aff4aa02c13a",
      "EditableText": "How can I create turn-based combat for my text adventure?",
      "EditableFormat": "bbcode",
      "HTML": "How can I create turn-based combat for my text adventure?",
      "PostDate": "2015-12-07T12:29:48+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "39274",
      "UserId": 0,
      "Username": "The Pixie",
      "UserAvatar": null,
      "UserGravatar": "cfa37e927f96177bcf6053ae8f108f77",
      "EditableText": "It is not straight-forward!\n\nThe easiest way is to use a library:\n<!-- l --><a class=\"postlink-local\" href=\"http://forum.textadventures.co.uk/viewtopic.php?f=18&amp;t=4886\">viewtopic.php?f=18&amp;t=4886</a><!-- l -->\n\nEven that will take you some effort, as you will have to work out how to use the library, but you can set up monsters and weapons from a tab.\n\nI am hoping to release a dungeon crawl using that library (slightly modified) in the next couple of weeks. I was planning on making the code available; that would include hundred of monsters, dozens of weapons and spells. If you do not care about the game system particularly, I could PM you a link to an early version and you can see what you think (the main issue at this stage is game balance; ensuring the player has a chance at survival).\n\n\nThe alternative is to do it from scratch. If you really want to reinvent the wheel, look at this &quot;How to&quot; page, and go down to the &quot;Advanced&quot; section:\n<!-- m --><a class=\"postlink\" href=\"http://docs.textadventures.co.uk/quest/guides/\">http://docs.textadventures.co.uk/quest/guides/</a><!-- m -->\n\n... and read these five guides:\n\nUse Types\nUse Types and Tabs\nMore on Tabs (implementing a magic system)\nSimple Combat System\nSecond Inventory Pane (listing spells for your magic system)\n\nI wrote them whilst developing the libary I linked to above.\n\nThe other side of the issue is working out how the game will work. Imagine you are playing it on paper and rolling dice, what are the rules?\n\nWhat are the effects of armour or a shield?\nHow do you handle ranged attacks (can you shoot an arrow from an adjacent room perhaps; does an attacker get a bonus if you are holding a bow)?\nParrying?\nPositioning (flanking, back-attack, higher ground)?\nWhat is the difference between attacking with a dagger or a polearm or a flail?\nDo you track injuries by location or just total hits; what about healing?\nHow can magic affect combat; bonus to attack, to armour, to defence, etc.?\nDoes casting magic use power points, use up the spell or what?\nWhat about magic items?\nWhat statistics define the player, and how are they meaningful in play (why would a player want to have a good charisma)?\n\nYou really need to have these clear in your mind before you even start coding (using a library is that all this has already been decided for you, which is both good and bad).",
      "EditableFormat": "bbcode",
      "HTML": "It is not straight-forward!<br/><br/>The easiest way is to use a library:<br/><!-- l --><a class=\"postlink-local\" href=\"http://forum.textadventures.co.uk/viewtopic.php?f=18&amp;t=4886\">viewtopic.php?f=18&amp;t=4886</a><!-- l --><br/><br/>Even that will take you some effort, as you will have to work out how to use the library, but you can set up monsters and weapons from a tab.<br/><br/>I am hoping to release a dungeon crawl using that library (slightly modified) in the next couple of weeks. I was planning on making the code available; that would include hundred of monsters, dozens of weapons and spells. If you do not care about the game system particularly, I could PM you a link to an early version and you can see what you think (the main issue at this stage is game balance; ensuring the player has a chance at survival).<br/><br/><br/>The alternative is to do it from scratch. If you really want to reinvent the wheel, look at this &quot;How to&quot; page, and go down to the &quot;Advanced&quot; section:<br/><!-- m --><a class=\"postlink\" href=\"http://docs.textadventures.co.uk/quest/guides/\">http://docs.textadventures.co.uk/quest/guides/</a><!-- m --><br/><br/>... and read these five guides:<br/><br/>Use Types<br/>Use Types and Tabs<br/>More on Tabs (implementing a magic system)<br/>Simple Combat System<br/>Second Inventory Pane (listing spells for your magic system)<br/><br/>I wrote them whilst developing the libary I linked to above.<br/><br/>The other side of the issue is working out how the game will work. Imagine you are playing it on paper and rolling dice, what are the rules?<br/><br/>What are the effects of armour or a shield?<br/>How do you handle ranged attacks (can you shoot an arrow from an adjacent room perhaps; does an attacker get a bonus if you are holding a bow)?<br/>Parrying?<br/>Positioning (flanking, back-attack, higher ground)?<br/>What is the difference between attacking with a dagger or a polearm or a flail?<br/>Do you track injuries by location or just total hits; what about healing?<br/>How can magic affect combat; bonus to attack, to armour, to defence, etc.?<br/>Does casting magic use power points, use up the spell or what?<br/>What about magic items?<br/>What statistics define the player, and how are they meaningful in play (why would a player want to have a good charisma)?<br/><br/>You really need to have these clear in your mind before you even start coding (using a library is that all this has already been decided for you, which is both good and bad).",
      "PostDate": "2015-12-07T13:56:19+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "39293",
      "UserId": 0,
      "Username": "HegemonKhan",
      "UserAvatar": null,
      "UserGravatar": "a96cf34d8d97c57de38f54ee22b1759b",
      "EditableText": "you can also take a look at this code of mine (based upon Pertex' code design~structure), as it implements turn based combat:\n\n(scroll down to ~ the bottom half of this post, to see the relevant code parts for how I do the entire combat sequencing)\n\n(here's the resource I used for my own combat code, Pertex' Combat Code: <!-- l --><a class=\"postlink-local\" href=\"http://forum.textadventures.co.uk/viewtopic.php?f=18&amp;t=2660\">viewtopic.php?f=18&amp;t=2660</a><!-- l --> )\n\n<!-- l --><a class=\"postlink-local\" href=\"http://forum.textadventures.co.uk/viewtopic.php?f=10&amp;t=3348&amp;start=120#p22483\">viewtopic.php?f=10&amp;t=3348&amp;start=120#p22483</a><!-- l -->\n\n[code:lu4jqvg0]&lt;asl version=&quot;530&quot;&gt;\n  &lt;include ref=&quot;English&#46;aslx&quot; /&gt;\n  &lt;include ref=&quot;Core&#46;aslx&quot; /&gt;\n  &lt;game name=&quot;Testing Game Stuff&quot;&gt;\n    &lt;gameid&gt;d83ba5bb-2e3c-4f31-80c9-3e88a2dc082c&lt;/gameid&gt;\n    &lt;version&gt;1&#46;0&lt;/version&gt;\n    &lt;pov type=&quot;object&quot;&gt;player&lt;/pov&gt;\n    &lt;start type=&quot;script&quot;&gt;\n      cc\n    &lt;/start&gt;\n    &lt;turns type=&quot;int&quot;&gt;0&lt;/turns&gt;\n    &lt;statusattributes type=&quot;stringdictionary&quot;&gt;turns = &lt;/statusattributes&gt;\n  &lt;/game&gt;\n  &lt;object name=&quot;room&quot;&gt;\n    &lt;inherit name=&quot;editor_room&quot; /&gt;\n    &lt;object name=&quot;player&quot;&gt;\n      &lt;inherit name=&quot;defaultplayer&quot; /&gt;\n      &lt;inherit name=&quot;pc&quot; /&gt;\n      &lt;cur_hp type=&quot;int&quot;&gt;999&lt;/cur_hp&gt;\n      &lt;max_hp type=&quot;int&quot;&gt;999&lt;/max_hp&gt;\n      &lt;str type=&quot;int&quot;&gt;100&lt;/str&gt;\n      &lt;end type=&quot;int&quot;&gt;100&lt;/end&gt;\n      &lt;dex type=&quot;int&quot;&gt;100&lt;/dex&gt;\n      &lt;agi type=&quot;int&quot;&gt;100&lt;/agi&gt;\n      &lt;spd type=&quot;int&quot;&gt;100&lt;/spd&gt;\n      &lt;hc type=&quot;int&quot;&gt;100&lt;/hc&gt;\n      &lt;pd type=&quot;int&quot;&gt;100&lt;/pd&gt;\n      &lt;pr type=&quot;int&quot;&gt;100&lt;/pr&gt;\n    &lt;/object&gt;\n    &lt;object name=&quot;orc1&quot;&gt;\n      &lt;inherit name=&quot;editor_object&quot; /&gt;\n      &lt;inherit name=&quot;npc&quot; /&gt;\n      &lt;hostile type=&quot;boolean&quot;&gt;true&lt;/hostile&gt;\n      &lt;dead type=&quot;boolean&quot;&gt;false&lt;/dead&gt;\n      &lt;alias&gt;orc&lt;/alias&gt;\n      &lt;cur_hp type=&quot;int&quot;&gt;999&lt;/cur_hp&gt;\n      &lt;max_hp type=&quot;int&quot;&gt;999&lt;/max_hp&gt;\n      &lt;str type=&quot;int&quot;&gt;25&lt;/str&gt;\n      &lt;end type=&quot;int&quot;&gt;25&lt;/end&gt;\n      &lt;dex type=&quot;int&quot;&gt;25&lt;/dex&gt;\n      &lt;agi type=&quot;int&quot;&gt;25&lt;/agi&gt;\n      &lt;spd type=&quot;int&quot;&gt;25&lt;/spd&gt;\n      &lt;hc type=&quot;int&quot;&gt;25&lt;/hc&gt;\n      &lt;pd type=&quot;int&quot;&gt;25&lt;/pd&gt;\n      &lt;pr type=&quot;int&quot;&gt;25&lt;/pr&gt;\n    &lt;/object&gt;\n  &lt;/object&gt;\n  &lt;turnscript name=&quot;game_turns&quot;&gt;\n    &lt;enabled /&gt;\n    &lt;script&gt;\n      sa\n      game&#46;turns = game&#46;turns + 1\n    &lt;/script&gt;\n  &lt;/turnscript&gt;\n  &lt;command name=&quot;fight&quot;&gt;\n    &lt;pattern&gt;fight #text#&lt;/pattern&gt;\n    &lt;script&gt;\n      battle_system (game&#46;pov,text)\n    &lt;/script&gt;\n  &lt;/command&gt;\n  &lt;type name=&quot;char&quot;&gt;\n    &lt;cur_hp type=&quot;int&quot;&gt;0&lt;/cur_hp&gt;\n    &lt;drop type=&quot;boolean&quot;&gt;false&lt;/drop&gt;\n    &lt;defending type=&quot;boolean&quot;&gt;false&lt;/defending&gt;\n    &lt;max_hp type=&quot;int&quot;&gt;0&lt;/max_hp&gt;\n    &lt;str type=&quot;int&quot;&gt;0&lt;/str&gt;\n    &lt;end type=&quot;int&quot;&gt;0&lt;/end&gt;\n    &lt;dex type=&quot;int&quot;&gt;0&lt;/dex&gt;\n    &lt;agi type=&quot;int&quot;&gt;0&lt;/agi&gt;\n    &lt;spd type=&quot;int&quot;&gt;0&lt;/spd&gt;\n    &lt;hp type=&quot;int&quot;&gt;0&lt;/hp&gt;\n    &lt;hc type=&quot;int&quot;&gt;0&lt;/hc&gt;\n    &lt;pd type=&quot;int&quot;&gt;0&lt;/pd&gt;\n    &lt;pr type=&quot;int&quot;&gt;0&lt;/pr&gt;\n  &lt;/type&gt;\n  &lt;type name=&quot;pc&quot;&gt;\n    &lt;inherit name=&quot;char&quot; /&gt;\n    &lt;statusattributes type=&quot;stringdictionary&quot;&gt;hp = ;str = ;end = ;dex = ;agi = ;spd = ;hc = ;pd = ;pr = &lt;/statusattributes&gt;\n  &lt;/type&gt;\n  &lt;type name=&quot;npc&quot;&gt;\n    &lt;inherit name=&quot;char&quot; /&gt;\n    &lt;dead type=&quot;boolean&quot;&gt;false&lt;/dead&gt;\n    &lt;hostile type=&quot;boolean&quot;&gt;false&lt;/hostile&gt;\n    &lt;displayverbs type=&quot;list&quot;&gt;Look at; Talk; Fight&lt;/displayverbs&gt;\n  &lt;/type&gt;\n  &lt;function name=&quot;cc&quot;&gt;\n    msg (&quot;What is your name?&quot;)\n    get input {\n      game&#46;pov&#46;alias = result\n      msg (&quot; - &quot; + game&#46;pov&#46;alias)\n      show menu (&quot;What is your gender?&quot;, split (&quot;male;female&quot; , &quot;;&quot;), false) {\n        game&#46;pov&#46;gender = result\n        show menu (&quot;What is your race?&quot;, split (&quot;human;dwarf;elf&quot; , &quot;;&quot;), false) {\n          game&#46;pov&#46;race = result\n          show menu (&quot;What is your class?&quot;, split (&quot;warrior;cleric;mage;thief&quot; , &quot;;&quot;), false) {\n            game&#46;pov&#46;class = result\n            msg (game&#46;pov&#46;alias + &quot; is a &quot; + game&#46;pov&#46;gender + &quot; &quot; + game&#46;pov&#46;race + &quot; &quot; + game&#46;pov&#46;class + &quot;&#46;&quot;)\n            wait {\n              ClearScreen\n            }\n          }\n        }\n      }\n    }\n  &lt;/function&gt;\n  &lt;function name=&quot;sa&quot;&gt;\n    game&#46;pov&#46;hp = game&#46;pov&#46;cur_hp + &quot; / &quot; + game&#46;pov&#46;max_hp\n  &lt;/function&gt;\n  &lt;function name=&quot;battle_system&quot; parameters=&quot;self,text&quot; type=&quot;boolean&quot;&gt;\n    first_value = false\n    enemy = GetObject (text)\n    if (enemy = null) {\n      foreach (obj,AllObjects()) {\n        if (obj&#46;alias=text) {\n          enemy = obj\n        }\n      }\n    }\n    if (enemy = null) {\n      msg (&quot;There is no &quot; + text + &quot; here&#46;&quot;)\n      first_value = false\n    }\n    else if (not Doesinherit (enemy,&quot;npc&quot;)) {\n      msg (&quot;You can not battle that!&quot;)\n      first_value = false\n    }\n    else if (not npc_reachable (enemy)) {\n      msg (&quot;There is no &quot; + enemy&#46;alias + &quot; in your vicinity&#46;&quot;)\n      first_value = false\n    }\n    else if (GetBoolean (enemy,&quot;dead&quot;) = true) {\n      msg (enemy&#46;alias + &quot; is already dead&#46;&quot;)\n      first_value = false\n    }\n    else if (GetBoolean (enemy,&quot;hostile&quot;) = false) {\n      msg (enemy&#46;alias + &quot; is not hostile&#46;&quot;)\n      first_value = false\n    }\n    else if (battle_sequence (self,enemy) = true) {\n      msg (&quot;The battle is over&#46;&quot;)\n      first_value = true\n    }\n    return (first_value)\n  &lt;/function&gt;\n  &lt;function name=&quot;battle_sequence&quot; parameters=&quot;self,enemy&quot; type=&quot;boolean&quot;&gt;&lt;!&#91;CDATA&#91;\n    second_value = false\n    if (enemy&#46;dead = false) {\n      if (GetInt (self,&quot;spd&quot;) &gt; GetInt (enemy,&quot;spd&quot;)) {\n        on ready {\n          msg (&quot;You get to go first for this round&quot;)\n          if (self_battle_turn (self,enemy) = true) {\n            battle_sequence (self,enemy)\n          }\n        }\n        on ready {\n          if (enemy&#46;dead = false) {\n            if (enemy_battle_turn (self,enemy) = true) {\n              msg (&quot;The round has ended&#46;&quot;)\n            }\n          }\n        }\n        on ready {\n          battle_sequence (self,enemy)\n        }\n      }\n      else if (GetInt (self,&quot;spd&quot;) &lt; GetInt (enemy,&quot;spd&quot;)) {\n        on ready {\n          msg (enemy&#46;alias + &quot; gets to go first for this round&#46;&quot;)\n          if (enemy_battle_turn (self,enemy) = true) {\n            msg (&quot;It is now your turn&#46;&quot;)\n          }\n        }\n        on ready {\n          if (self_battle_turn (self,enemy) = true) {\n            battle_sequence (self,enemy)\n          }\n          else {\n            msg (&quot;The round has ended&#46;&quot;)\n          }\n        }\n        on ready {\n          battle_sequence (self,enemy)\n        }\n      }\n      else if (GetInt (self,&quot;spd&quot;) = GetInt (enemy,&quot;spd&quot;)) {\n        if (RandomChance (50) = true) {\n          on ready {\n            msg (&quot;You get to go first for this round&quot;)\n            if (self_battle_turn (self,enemy) = true) {\n              battle_sequence (self,enemy)\n            }\n          }\n          on ready {\n            if (enemy_battle_turn (self,enemy) = true) {\n              msg (&quot;The round has ended&#46;&quot;)\n            }\n          }\n          on ready {\n            battle_sequence (self,enemy)\n          }\n        }\n        else {\n          on ready {\n            msg (enemy&#46;alias + &quot; gets to go first for this round&#46;&quot;)\n            if (enemy_battle_turn (self,enemy) = true) {\n              msg (&quot;It is now your turn&#46;&quot;)\n            }\n          }\n          on ready {\n            if (self_battle_turn (self,enemy) = true) {\n              battle_sequence (self,enemy)\n            }\n            else {\n              msg (&quot;The round has ended&#46;&quot;)\n            }\n          }\n          on ready {\n            battle_sequence (self,enemy)\n          }\n        }\n      }\n    }\n    else {\n      second_value = true\n    }\n    return (second_value)\n  &#93;&#93;&gt;&lt;/function&gt;\n  &lt;function name=&quot;self_battle_turn&quot; parameters=&quot;self,enemy&quot; type=&quot;boolean&quot;&gt;&lt;!&#91;CDATA&#91;\n    third_value = false\n    msg (self&#46;alias + &quot; has &quot; + self&#46;cur_hp + &quot; HP left&#46;&quot;)\n    msg (enemy&#46;alias + &quot; has &quot; + enemy&#46;cur_hp + &quot; HP left&#46;&quot;)\n    wait {\n      show menu (&quot;What is your battle choice?&quot;, split (&quot;Attack;Defend;Cast;Item;Run&quot;, &quot;;&quot;), false) {\n        switch (result) {\n          case (&quot;Attack&quot;) {\n            fourth_value = false\n            if (RandomChance (GetInt (enemy,&quot;agi&quot;) - GetInt (self,&quot;spd&quot;)) = true) {\n              msg (enemy&#46;alias + &quot;evaded your attack!&quot;)\n              fourth_value = true\n            }\n            else if (RandomChance (GetInt (enemy,&quot;Dex&quot;) - GetInt (self,&quot;agi&quot;)) = true) {\n              msg (enemy&#46;alias + &quot;parried your attack!&quot;)\n              fourth_value = true\n            }\n            else if (RandomChance (GetInt (enemy,&quot;agi&quot;) - GetInt (self,&quot;dex&quot;)) = true) {\n              msg (enemy&#46;alias + &quot;blocked your attack!&quot;)\n              fourth_value = true\n            }\n            else if (RandomChance (GetInt (self,&quot;dex&quot;) - GetInt (enemy,&quot;spd&quot;)) = false) {\n              msg (&quot;Your attack missed &quot; + enemy&#46;alias +&quot;!&quot;)\n              fourth_value = true\n            }\n            else if (RandomChance (GetInt (enemy,&quot;pr&quot;) - GetInt (self,&quot;hc&quot;)) = true) {\n              msg (&quot;Your attack got resisted by &quot; + enemy&#46;alias +&quot;!&quot;)\n              fourth_value = true\n            }\n            else if (fourth_value = false) {\n              if (self&#46;defending = true and enemy&#46;defending = true) {\n                enemy&#46;cur_hp = enemy&#46;cur_hp - (crit_hit (self) * 2 * GetInt (self,&quot;pd&quot;) / 2 + GetInt (self,&quot;pd&quot;) * (GetInt (self,&quot;str&quot;) - GetInt (enemy,&quot;end&quot;)) / 100)\n                msg (enemy&#46;alias + &quot; has &quot; + enemy&#46;cur_hp + &quot; HP left&#46;&quot;)\n                self&#46;defending = false\n              }\n              else if (self&#46;defending = true and enemy&#46;defending = false) {\n                enemy&#46;cur_hp = enemy&#46;cur_hp - (crit_hit (self) * 2 * GetInt (self,&quot;pd&quot;) + GetInt (self,&quot;pd&quot;) * (GetInt (self,&quot;str&quot;) - GetInt (enemy,&quot;end&quot;)) / 100)\n                msg (enemy&#46;alias + &quot; has &quot; + enemy&#46;cur_hp + &quot; HP left&#46;&quot;)\n                self&#46;defending = false\n              }\n              else if (self&#46;defending = false and enemy&#46;defending = true) {\n                enemy&#46;cur_hp = enemy&#46;cur_hp - (crit_hit (self) * GetInt (self,&quot;pd&quot;) / 2 + GetInt (self,&quot;pd&quot;) * (GetInt (self,&quot;str&quot;) - GetInt (enemy,&quot;end&quot;)) / 100)\n                msg (enemy&#46;alias + &quot; has &quot; + enemy&#46;cur_hp + &quot; HP left&#46;&quot;)\n              }\n              else if (self&#46;defending = false and enemy&#46;defending = false) {\n                enemy&#46;cur_hp = enemy&#46;cur_hp - (crit_hit (self) * GetInt (self,&quot;pd&quot;) + GetInt (self,&quot;pd&quot;) * (GetInt (self,&quot;str&quot;) - GetInt (enemy,&quot;end&quot;)) / 100)\n                msg (enemy&#46;alias + &quot; has &quot; + enemy&#46;cur_hp + &quot; HP left&#46;&quot;)\n              }\n            }\n          }\n          case (&quot;Defend&quot;) {\n            if (self&#46;defending = false) {\n              self&#46;defending = true\n            }\n          }\n          case (&quot;Cast&quot;) {\n            self&#46;defending = false\n          }\n          case (&quot;Item&quot;) {\n            self&#46;defending = false\n          }\n          case (&quot;Run&quot;) {\n            self&#46;defending = false\n          }\n        }\n        if (GetInt (enemy,&quot;cur_hp&quot;) &gt; 0) {\n          if (RandomChance (GetInt (self,&quot;spd&quot;) - GetInt (enemy,&quot;spd&quot;)) = true) {\n            msg (&quot;You get an extra battle turn!&quot;)\n            self_battle_turn (self,enemy)\n          }\n          else {\n            msg (&quot;Your battle turn is over&#46;&quot;)\n            third_value = false\n          }\n        }\n        else if (GetInt (enemy,&quot;cur_hp&quot;) &lt;= 0) {\n          msg (enemy&#46;alias + &quot; is dead&#46;&quot;)\n          msg (&quot;You have won the battle!&quot;)\n          enemy&#46;defending = false\n          enemy&#46;dead = true\n          third_value = true\n          wait {\n            ClearScreen\n          }\n        }\n      }\n    }\n    return (third_value)\n  &#93;&#93;&gt;&lt;/function&gt;\n  &lt;function name=&quot;enemy_battle_turn&quot; parameters=&quot;self,enemy&quot; type=&quot;boolean&quot;&gt;&lt;!&#91;CDATA&#91;\n    fifth_value = false\n    msg (self&#46;alias + &quot; has &quot; + self&#46;cur_hp + &quot; HP left&#46;&quot;)\n    msg (enemy&#46;alias + &quot; has &quot; + enemy&#46;cur_hp + &quot; HP left&#46;&quot;)\n    result = GetRandomInt (1,3)\n    switch (result) {\n      case (1) {\n        sixth_value = false\n        if (RandomChance (GetInt (self,&quot;agi&quot;) - GetInt (enemy,&quot;spd&quot;)) = true) {\n          msg (&quot;You have evaded the attack!&quot;)\n          sixth_value = true\n        }\n        else if (RandomChance (GetInt (self,&quot;dex&quot;) - GetInt (enemy,&quot;agi&quot;)) = true) {\n          msg (&quot;You have parried the attack!&quot;)\n          sixth_value = true\n        }\n        else if (RandomChance (GetInt (self,&quot;agi&quot;) - GetInt (enemy,&quot;dex&quot;)) = true) {\n          msg (&quot;You have blocked the attack!&quot;)\n          sixth_value = true\n        }\n        else if (RandomChance (GetInt (enemy,&quot;dex&quot;) - GetInt (self,&quot;spd&quot;)) = false) {\n          msg (enemy&#46;alias +&quot;'s attack missed!&quot;)\n          sixth_value = true\n        }\n        else if (RandomChance (GetInt (self,&quot;pr&quot;) - GetInt (enemy,&quot;hc&quot;)) = true) {\n          msg (&quot;You resisted the attack!&quot;)\n          sixth_value = true\n        }\n        else if (sixth_value = false) { \n          if (enemy&#46;defending = true and self&#46;defending = true) {\n            self&#46;cur_hp = self&#46;cur_hp - (crit_hit (enemy) * 2 * GetInt (enemy,&quot;pd&quot;) / 2 + GetInt (enemy,&quot;pd&quot;) * (GetInt (enemy,&quot;str&quot;) - GetInt (self,&quot;end&quot;)) / 100)\n            msg (self&#46;alias + &quot; has &quot; + self&#46;cur_hp + &quot; HP left&#46;&quot;)\n            enemy&#46;defending = false\n          }\n          else if (enemy&#46;defending = true and self&#46;defending = false) {\n            self&#46;cur_hp = self&#46;cur_hp - (crit_hit (enemy) * 2 * GetInt (enemy,&quot;pd&quot;) + GetInt (enemy,&quot;pd&quot;) * (GetInt (enemy,&quot;str&quot;) - GetInt (self,&quot;end&quot;)) / 100)\n            msg (self&#46;alias + &quot; has &quot; + self&#46;cur_hp + &quot; HP left&#46;&quot;)\n            enemy&#46;defending = false\n          }\n          else if (enemy&#46;defending = false and self&#46;defending = true) {\n            self&#46;cur_hp = self&#46;cur_hp - (crit_hit (enemy) * GetInt (enemy,&quot;pd&quot;) / 2 + GetInt (enemy,&quot;pd&quot;) * (GetInt (enemy,&quot;str&quot;) - GetInt (self,&quot;end&quot;)) / 100)\n            msg (self&#46;alias + &quot; has &quot; + self&#46;cur_hp + &quot; HP left&#46;&quot;)\n          }\n          else if (enemy&#46;defending = false and self&#46;defending = false) {\n            self&#46;cur_hp = self&#46;cur_hp - (crit_hit (enemy) * GetInt (enemy,&quot;pd&quot;) + GetInt (enemy,&quot;pd&quot;) * (GetInt (enemy,&quot;str&quot;) - GetInt (self,&quot;end&quot;)) / 100)\n            msg (self&#46;alias + &quot; has &quot; + self&#46;cur_hp + &quot; HP left&#46;&quot;)\n          }\n        }\n      }\n      case (2) {\n        if (enemy&#46;defending = false) {\n          msg (enemy&#46;alias + &quot; has choosen to defend itself&#46;&quot;)\n          enemy&#46;defending = true\n        }\n      }\n      case (3) {\n        enemy&#46;defending = false\n        msg (&quot;Cast&quot;)\n      }\n    }\n    if (GetInt (self,&quot;cur_hp&quot;) &gt; 0) {\n      if (RandomChance (GetInt (enemy,&quot;spd&quot;) - GetInt (self,&quot;spd&quot;)) = true) {\n        msg (enemy&#46;alias + &quot; gets an extra battle turn!&quot;)\n        wait {\n          enemy_battle_turn (self,enemy)\n        }\n      }\n      else {\n        msg (enemy&#46;alias + &quot; 's battle turn is over&#46;&quot;)\n        fifth_value = true\n      }\n    }\n    else if (GetInt (self,&quot;cur_hp&quot;) &lt;= 0) {\n      msg (self&#46;alias + &quot; has died&#46;&quot;)\n      msg (&quot;GAME OVER&quot;)\n      finish\n    }\n    return (fifth_value)\n  &#93;&#93;&gt;&lt;/function&gt;\n  &lt;function name=&quot;npc_reachable&quot; parameters=&quot;object&quot; type=&quot;boolean&quot;&gt;\n    value = false\n    foreach (x,ScopeReachableNotHeld ()) {\n      if (x=object) {\n        value = true\n      }\n    }\n    return (value)\n  &lt;/function&gt;\n  &lt;function name=&quot;crit_hit&quot; parameters=&quot;object&quot; type=&quot;int&quot;&gt;\n    if (RandomChance (GetInt (object,&quot;luck&quot;)) = true) {\n      value = 2\n    }\n    else {\n      value = 1\n    }\n    return (value)\n  &lt;/function&gt;\n&lt;/asl&gt;[/code:lu4jqvg0]\n\n-------------------------------------------\n\nand its key-legend (for all the stupid abrevs I used) here:\n\n<!-- l --><a class=\"postlink-local\" href=\"http://forum.textadventures.co.uk/viewtopic.php?f=10&amp;t=3348&amp;start=120#p22486\">viewtopic.php?f=10&amp;t=3348&amp;start=120#p22486</a><!-- l -->\n\n[code:lu4jqvg0]01&#46; cc = character creation function\n02&#46; sa = status attributes (mainly for implementing/displaying of ' cur / max ' stats) function\n03&#46; char = character object type (&quot;pcs&quot;, &quot;npcs&quot;, &quot;monsters&quot;, etc&#46;, so, not a room, item, equipment, spell, etc)\n04&#46; pc = playable character object type (&quot;player&quot; characters / game&#46;povs)\n05&#46; npc = non-playable character (&quot;people&quot;, &quot;monsters&quot;, and etc, so not a &quot;player&quot; character / not a game&#46;pov, I'm going to have a hostility system, so any npc can be friendly or hostile, instead of having an actual &quot;monster/enemy&quot; type set aside)\n06&#46; hp = hit points (life) stat attribute\n07&#46; mp = mana points (magic) stat attribute\n08&#46; str = strength (physical damage, carry weight / equipment requirement, etc) stat attribute\n09&#46; end = endurance (physical defense, and etc) stat attribute\n10&#46; dex = dexterity (weapon~attack skill, think of this as &quot;if your attack connects or not, do you 'whiff' or not&quot;, so not to gete confused with hc, and etc) stat attribute\n11&#46; agi = agility (dodging/evading, and etc) stat attribute\n12&#46; spd = speed (who goes first in battle, extra battle turns, escaping from battle, and etc) stat attribute\n13&#46; hc = hit chance (think of this more as piercing their armor or not, so not to get confused with dex, and etc) stat attribute\n14&#46; pd = physical damage stat attribute\n15&#46; fp = fire damage stat attribute\n16&#46; wp = water damage stat attribute\n17&#46; ap = air damage stat attribute\n18&#46; ed = earth damage stat attribute\n19&#46; ld = light damage stat attribute\n20&#46; dd = dark damage stat attribute\n21&#46; pr = physical resistance stat attribute\n22&#46; fr = fire resistance stat attribute\n23&#46; wr = water resistance stat attribute\n24&#46; ar = air resistance stat attribute\n25&#46; er = earth resistance stat attribute\n26&#46; lr = light resistance stat attribute\n27&#46; dr = dark resistance stat attribute\n28&#46; defending = boolean (reduces damage done for that character and increases the damage done by that character, if they chosoe to attack on the next turn)\n29&#46; escaped = boolean, run from battle (not completed/implemented yet)\n30&#46; hostile = boolean, any npc can be friendly or a(n) &quot;monster/enemy&quot;, based upon a hostility scale (0-100), but not completed\n31&#46; dead = boolean\n32&#46; crit_hit = critical hit (bonus damage based upon luck)\n33&#46; luck = luck stat attribute\n34&#46; lvl = level stat attribute\n35&#46; exp = experience stat attribute\n36&#46; cash = cash stat attribute (currency)\n37&#46; lvlup = level up function[/code:lu4jqvg0]\n\n-------------------------------\n\nbe warned:\n\nthis is extremely old code, it is very poor and bad code, along with all of my annoying abbrevs (and I messed~mixed up some of the damage vs resistance abrevs too). I'm just too lazy to re-write a new much imporoved combat code, at least for the distant future, laughs.\n\nthat said however, please ask if you got any questions, need help, and~or don't understand whatever about it, I'll be happy to help (though it's been so long since I've worked with combat... it might take me a bit to re-fresh myself on it, lol)\n\n------------------------------\n\nyou can have a more simple-static rounds of combat, for example:\n\nyou always go first, and then the monster~enemy~foe goes, and it repeats until the battle is ended (death, escape~fleeing~running, etc).\n\nor, you can have more complex dynamic rounds of combat, for example:\n\nwho goes first, depends on a formula based upon at least a 'speed' stat (Attribute).\n\nand you can make it more complex too: do you (and~or the enemy~monster~foe) get an &quot;extra~bonus&quot; turn ??? Or, do you or the mosnter lose a turn (you or the mosnter gets put to sleep or gets stunned, for example)\n\nand etc complexitoes that you may have encountered within the games you've played.\n\n----------------\n\nabout my code:\n\nI use a Command, for how~when to choose to (try to) fight:\n\n(this allows you to type in what you want to try to fight, in any room of the game, instead of clicking on the individual 'fight' Verbs buttons or the hyperlinks on every npc~character~monster)\n\n[code:lu4jqvg0]  &lt;command name=&quot;fight&quot;&gt;\n    &lt;pattern&gt;fight #text#&lt;/pattern&gt;\n    &lt;script&gt;\n      battle_system (game&#46;pov,text)\n    &lt;/script&gt;\n  &lt;/command&gt;[/code:lu4jqvg0]\n\nI have a function for determining if you can even fight or not:\n\n[code:lu4jqvg0]  &lt;function name=&quot;battle_system&quot; parameters=&quot;self,text&quot; type=&quot;boolean&quot;&gt;\n    first_value = false\n    enemy = GetObject (text)\n    if (enemy = null) {\n      foreach (obj,AllObjects()) {\n        if (obj&#46;alias=text) {\n          enemy = obj\n        }\n      }\n    }\n    if (enemy = null) {\n      msg (&quot;There is no &quot; + text + &quot; here&#46;&quot;)\n      first_value = false\n    }\n    else if (not Doesinherit (enemy,&quot;npc&quot;)) {\n      msg (&quot;You can not battle that!&quot;)\n      first_value = false\n    }\n    else if (not npc_reachable (enemy)) {\n      msg (&quot;There is no &quot; + enemy&#46;alias + &quot; in your vicinity&#46;&quot;)\n      first_value = false\n    }\n    else if (GetBoolean (enemy,&quot;dead&quot;) = true) {\n      msg (enemy&#46;alias + &quot; is already dead&#46;&quot;)\n      first_value = false\n    }\n    else if (GetBoolean (enemy,&quot;hostile&quot;) = false) {\n      msg (enemy&#46;alias + &quot; is not hostile&#46;&quot;)\n      first_value = false\n    }\n    else if (battle_sequence (self,enemy) = true) {\n      msg (&quot;The battle is over&#46;&quot;)\n      first_value = true\n    }\n    return (first_value)\n  &lt;/function&gt;[/code:lu4jqvg0]\n\nI have a function for determining the order of who goes first and etc (battle turns and battle rounds), aka &quot;battle sequence&quot;, seen here:\n\n(this is extremely horribly bad code, but I'm too lazy to fix it up - despite being bad code, it does a good job of demonstrating the logic, I think)\n\n[code:lu4jqvg0]&lt;function name=&quot;battle_sequence&quot; parameters=&quot;self,enemy&quot; type=&quot;boolean&quot;&gt;&lt;!&#91;CDATA&#91;\n    second_value = false\n    if (enemy&#46;dead = false) {\n      if (GetInt (self,&quot;spd&quot;) &gt; GetInt (enemy,&quot;spd&quot;)) {\n        on ready {\n          msg (&quot;You get to go first for this round&quot;)\n          if (self_battle_turn (self,enemy) = true) {\n            battle_sequence (self,enemy)\n          }\n        }\n        on ready {\n          if (enemy&#46;dead = false) {\n            if (enemy_battle_turn (self,enemy) = true) {\n              msg (&quot;The round has ended&#46;&quot;)\n            }\n          }\n        }\n        on ready {\n          battle_sequence (self,enemy)\n        }\n      }\n      else if (GetInt (self,&quot;spd&quot;) &lt; GetInt (enemy,&quot;spd&quot;)) {\n        on ready {\n          msg (enemy&#46;alias + &quot; gets to go first for this round&#46;&quot;)\n          if (enemy_battle_turn (self,enemy) = true) {\n            msg (&quot;It is now your turn&#46;&quot;)\n          }\n        }\n        on ready {\n          if (self_battle_turn (self,enemy) = true) {\n            battle_sequence (self,enemy)\n          }\n          else {\n            msg (&quot;The round has ended&#46;&quot;)\n          }\n        }\n        on ready {\n          battle_sequence (self,enemy)\n        }\n      }\n      else if (GetInt (self,&quot;spd&quot;) = GetInt (enemy,&quot;spd&quot;)) {\n        if (RandomChance (50) = true) {\n          on ready {\n            msg (&quot;You get to go first for this round&quot;)\n            if (self_battle_turn (self,enemy) = true) {\n              battle_sequence (self,enemy)\n            }\n          }\n          on ready {\n            if (enemy_battle_turn (self,enemy) = true) {\n              msg (&quot;The round has ended&#46;&quot;)\n            }\n          }\n          on ready {\n            battle_sequence (self,enemy)\n          }\n        }\n        else {\n          on ready {\n            msg (enemy&#46;alias + &quot; gets to go first for this round&#46;&quot;)\n            if (enemy_battle_turn (self,enemy) = true) {\n              msg (&quot;It is now your turn&#46;&quot;)\n            }\n          }\n          on ready {\n            if (self_battle_turn (self,enemy) = true) {\n              battle_sequence (self,enemy)\n            }\n            else {\n              msg (&quot;The round has ended&#46;&quot;)\n            }\n          }\n          on ready {\n            battle_sequence (self,enemy)\n          }\n        }\n      }\n    }\n    else {\n      second_value = true\n    }\n    return (second_value)\n  &#93;&#93;&gt;&lt;/function&gt;[/code:lu4jqvg0]\n\nI have a function for handling YOUR COMBAT TURN (and also then, it does the initial handling of *IF* the monster~enemy~foe turn happens or not - such as if you get an extra turn instead):\n\n[code:lu4jqvg0] &lt;function name=&quot;self_battle_turn&quot; parameters=&quot;self,enemy&quot; type=&quot;boolean&quot;&gt;&lt;!&#91;CDATA&#91;\n    third_value = false\n    msg (self&#46;alias + &quot; has &quot; + self&#46;cur_hp + &quot; HP left&#46;&quot;)\n    msg (enemy&#46;alias + &quot; has &quot; + enemy&#46;cur_hp + &quot; HP left&#46;&quot;)\n    wait {\n      show menu (&quot;What is your battle choice?&quot;, split (&quot;Attack;Defend;Cast;Item;Run&quot;, &quot;;&quot;), false) {\n        switch (result) {\n          case (&quot;Attack&quot;) {\n            fourth_value = false\n            if (RandomChance (GetInt (enemy,&quot;agi&quot;) - GetInt (self,&quot;spd&quot;)) = true) {\n              msg (enemy&#46;alias + &quot;evaded your attack!&quot;)\n              fourth_value = true\n            }\n            else if (RandomChance (GetInt (enemy,&quot;Dex&quot;) - GetInt (self,&quot;agi&quot;)) = true) {\n              msg (enemy&#46;alias + &quot;parried your attack!&quot;)\n              fourth_value = true\n            }\n            else if (RandomChance (GetInt (enemy,&quot;agi&quot;) - GetInt (self,&quot;dex&quot;)) = true) {\n              msg (enemy&#46;alias + &quot;blocked your attack!&quot;)\n              fourth_value = true\n            }\n            else if (RandomChance (GetInt (self,&quot;dex&quot;) - GetInt (enemy,&quot;spd&quot;)) = false) {\n              msg (&quot;Your attack missed &quot; + enemy&#46;alias +&quot;!&quot;)\n              fourth_value = true\n            }\n            else if (RandomChance (GetInt (enemy,&quot;pr&quot;) - GetInt (self,&quot;hc&quot;)) = true) {\n              msg (&quot;Your attack got resisted by &quot; + enemy&#46;alias +&quot;!&quot;)\n              fourth_value = true\n            }\n            else if (fourth_value = false) {\n              if (self&#46;defending = true and enemy&#46;defending = true) {\n                enemy&#46;cur_hp = enemy&#46;cur_hp - (crit_hit (self) * 2 * GetInt (self,&quot;pd&quot;) / 2 + GetInt (self,&quot;pd&quot;) * (GetInt (self,&quot;str&quot;) - GetInt (enemy,&quot;end&quot;)) / 100)\n                msg (enemy&#46;alias + &quot; has &quot; + enemy&#46;cur_hp + &quot; HP left&#46;&quot;)\n                self&#46;defending = false\n              }\n              else if (self&#46;defending = true and enemy&#46;defending = false) {\n                enemy&#46;cur_hp = enemy&#46;cur_hp - (crit_hit (self) * 2 * GetInt (self,&quot;pd&quot;) + GetInt (self,&quot;pd&quot;) * (GetInt (self,&quot;str&quot;) - GetInt (enemy,&quot;end&quot;)) / 100)\n                msg (enemy&#46;alias + &quot; has &quot; + enemy&#46;cur_hp + &quot; HP left&#46;&quot;)\n                self&#46;defending = false\n              }\n              else if (self&#46;defending = false and enemy&#46;defending = true) {\n                enemy&#46;cur_hp = enemy&#46;cur_hp - (crit_hit (self) * GetInt (self,&quot;pd&quot;) / 2 + GetInt (self,&quot;pd&quot;) * (GetInt (self,&quot;str&quot;) - GetInt (enemy,&quot;end&quot;)) / 100)\n                msg (enemy&#46;alias + &quot; has &quot; + enemy&#46;cur_hp + &quot; HP left&#46;&quot;)\n              }\n              else if (self&#46;defending = false and enemy&#46;defending = false) {\n                enemy&#46;cur_hp = enemy&#46;cur_hp - (crit_hit (self) * GetInt (self,&quot;pd&quot;) + GetInt (self,&quot;pd&quot;) * (GetInt (self,&quot;str&quot;) - GetInt (enemy,&quot;end&quot;)) / 100)\n                msg (enemy&#46;alias + &quot; has &quot; + enemy&#46;cur_hp + &quot; HP left&#46;&quot;)\n              }\n            }\n          }\n          case (&quot;Defend&quot;) {\n            if (self&#46;defending = false) {\n              self&#46;defending = true\n            }\n          }\n          case (&quot;Cast&quot;) {\n            self&#46;defending = false\n          }\n          case (&quot;Item&quot;) {\n            self&#46;defending = false\n          }\n          case (&quot;Run&quot;) {\n            self&#46;defending = false\n          }\n        }\n        if (GetInt (enemy,&quot;cur_hp&quot;) &gt; 0) {\n          if (RandomChance (GetInt (self,&quot;spd&quot;) - GetInt (enemy,&quot;spd&quot;)) = true) {\n            msg (&quot;You get an extra battle turn!&quot;)\n            self_battle_turn (self,enemy)\n          }\n          else {\n            msg (&quot;Your battle turn is over&#46;&quot;)\n            third_value = false\n          }\n        }\n        else if (GetInt (enemy,&quot;cur_hp&quot;) &lt;= 0) {\n          msg (enemy&#46;alias + &quot; is dead&#46;&quot;)\n          msg (&quot;You have won the battle!&quot;)\n          enemy&#46;defending = false\n          enemy&#46;dead = true\n          third_value = true\n          wait {\n            ClearScreen\n          }\n        }\n      }\n    }\n    return (third_value)[/code:lu4jqvg0]\n\nI have a function for handling the MONSTER~ENEMY~FOE COMBAT TURN (and also then, it does the initial handling of *IF* your turn happens or not - such as if the mosnter~foe~enemy gets an extra turn instead):\n\n[code:lu4jqvg0] &lt;function name=&quot;enemy_battle_turn&quot; parameters=&quot;self,enemy&quot; type=&quot;boolean&quot;&gt;&lt;!&#91;CDATA&#91;\n    fifth_value = false\n    msg (self&#46;alias + &quot; has &quot; + self&#46;cur_hp + &quot; HP left&#46;&quot;)\n    msg (enemy&#46;alias + &quot; has &quot; + enemy&#46;cur_hp + &quot; HP left&#46;&quot;)\n    result = GetRandomInt (1,3)\n    switch (result) {\n      case (1) {\n        sixth_value = false\n        if (RandomChance (GetInt (self,&quot;agi&quot;) - GetInt (enemy,&quot;spd&quot;)) = true) {\n          msg (&quot;You have evaded the attack!&quot;)\n          sixth_value = true\n        }\n        else if (RandomChance (GetInt (self,&quot;dex&quot;) - GetInt (enemy,&quot;agi&quot;)) = true) {\n          msg (&quot;You have parried the attack!&quot;)\n          sixth_value = true\n        }\n        else if (RandomChance (GetInt (self,&quot;agi&quot;) - GetInt (enemy,&quot;dex&quot;)) = true) {\n          msg (&quot;You have blocked the attack!&quot;)\n          sixth_value = true\n        }\n        else if (RandomChance (GetInt (enemy,&quot;dex&quot;) - GetInt (self,&quot;spd&quot;)) = false) {\n          msg (enemy&#46;alias +&quot;'s attack missed!&quot;)\n          sixth_value = true\n        }\n        else if (RandomChance (GetInt (self,&quot;pr&quot;) - GetInt (enemy,&quot;hc&quot;)) = true) {\n          msg (&quot;You resisted the attack!&quot;)\n          sixth_value = true\n        }\n        else if (sixth_value = false) { \n          if (enemy&#46;defending = true and self&#46;defending = true) {\n            self&#46;cur_hp = self&#46;cur_hp - (crit_hit (enemy) * 2 * GetInt (enemy,&quot;pd&quot;) / 2 + GetInt (enemy,&quot;pd&quot;) * (GetInt (enemy,&quot;str&quot;) - GetInt (self,&quot;end&quot;)) / 100)\n            msg (self&#46;alias + &quot; has &quot; + self&#46;cur_hp + &quot; HP left&#46;&quot;)\n            enemy&#46;defending = false\n          }\n          else if (enemy&#46;defending = true and self&#46;defending = false) {\n            self&#46;cur_hp = self&#46;cur_hp - (crit_hit (enemy) * 2 * GetInt (enemy,&quot;pd&quot;) + GetInt (enemy,&quot;pd&quot;) * (GetInt (enemy,&quot;str&quot;) - GetInt (self,&quot;end&quot;)) / 100)\n            msg (self&#46;alias + &quot; has &quot; + self&#46;cur_hp + &quot; HP left&#46;&quot;)\n            enemy&#46;defending = false\n          }\n          else if (enemy&#46;defending = false and self&#46;defending = true) {\n            self&#46;cur_hp = self&#46;cur_hp - (crit_hit (enemy) * GetInt (enemy,&quot;pd&quot;) / 2 + GetInt (enemy,&quot;pd&quot;) * (GetInt (enemy,&quot;str&quot;) - GetInt (self,&quot;end&quot;)) / 100)\n            msg (self&#46;alias + &quot; has &quot; + self&#46;cur_hp + &quot; HP left&#46;&quot;)\n          }\n          else if (enemy&#46;defending = false and self&#46;defending = false) {\n            self&#46;cur_hp = self&#46;cur_hp - (crit_hit (enemy) * GetInt (enemy,&quot;pd&quot;) + GetInt (enemy,&quot;pd&quot;) * (GetInt (enemy,&quot;str&quot;) - GetInt (self,&quot;end&quot;)) / 100)\n            msg (self&#46;alias + &quot; has &quot; + self&#46;cur_hp + &quot; HP left&#46;&quot;)\n          }\n        }\n      }\n      case (2) {\n        if (enemy&#46;defending = false) {\n          msg (enemy&#46;alias + &quot; has choosen to defend itself&#46;&quot;)\n          enemy&#46;defending = true\n        }\n      }\n      case (3) {\n        enemy&#46;defending = false\n        msg (&quot;Cast&quot;)\n      }\n    }\n    if (GetInt (self,&quot;cur_hp&quot;) &gt; 0) {\n      if (RandomChance (GetInt (enemy,&quot;spd&quot;) - GetInt (self,&quot;spd&quot;)) = true) {\n        msg (enemy&#46;alias + &quot; gets an extra battle turn!&quot;)\n        wait {\n          enemy_battle_turn (self,enemy)\n        }\n      }\n      else {\n        msg (enemy&#46;alias + &quot; 's battle turn is over&#46;&quot;)\n        fifth_value = true\n      }\n    }\n    else if (GetInt (self,&quot;cur_hp&quot;) &lt;= 0) {\n      msg (self&#46;alias + &quot; has died&#46;&quot;)\n      msg (&quot;GAME OVER&quot;)\n      finish\n    }\n    return (fifth_value)[/code:lu4jqvg0]",
      "EditableFormat": "bbcode",
      "HTML": "you can also take a look at this code of mine (based upon Pertex' code design~structure), as it implements turn based combat:<br/><br/>(scroll down to ~ the bottom half of this post, to see the relevant code parts for how I do the entire combat sequencing)<br/><br/>(here's the resource I used for my own combat code, Pertex' Combat Code: <!-- l --><a class=\"postlink-local\" href=\"http://forum.textadventures.co.uk/viewtopic.php?f=18&amp;t=2660\">viewtopic.php?f=18&amp;t=2660</a><!-- l --> )<br/><br/><!-- l --><a class=\"postlink-local\" href=\"http://forum.textadventures.co.uk/viewtopic.php?f=10&amp;t=3348&amp;start=120#p22483\">viewtopic.php?f=10&amp;t=3348&amp;start=120#p22483</a><!-- l --><br/><br/><pre><code>&lt;asl version=&quot;530&quot;&gt;<br/>  &lt;include ref=&quot;English&#46;aslx&quot; /&gt;<br/>  &lt;include ref=&quot;Core&#46;aslx&quot; /&gt;<br/>  &lt;game name=&quot;Testing Game Stuff&quot;&gt;<br/>    &lt;gameid&gt;d83ba5bb-2e3c-4f31-80c9-3e88a2dc082c&lt;/gameid&gt;<br/>    &lt;version&gt;1&#46;0&lt;/version&gt;<br/>    &lt;pov type=&quot;object&quot;&gt;player&lt;/pov&gt;<br/>    &lt;start type=&quot;script&quot;&gt;<br/>      cc<br/>    &lt;/start&gt;<br/>    &lt;turns type=&quot;int&quot;&gt;0&lt;/turns&gt;<br/>    &lt;statusattributes type=&quot;stringdictionary&quot;&gt;turns = &lt;/statusattributes&gt;<br/>  &lt;/game&gt;<br/>  &lt;object name=&quot;room&quot;&gt;<br/>    &lt;inherit name=&quot;editor_room&quot; /&gt;<br/>    &lt;object name=&quot;player&quot;&gt;<br/>      &lt;inherit name=&quot;defaultplayer&quot; /&gt;<br/>      &lt;inherit name=&quot;pc&quot; /&gt;<br/>      &lt;cur_hp type=&quot;int&quot;&gt;999&lt;/cur_hp&gt;<br/>      &lt;max_hp type=&quot;int&quot;&gt;999&lt;/max_hp&gt;<br/>      &lt;str type=&quot;int&quot;&gt;100&lt;/str&gt;<br/>      &lt;end type=&quot;int&quot;&gt;100&lt;/end&gt;<br/>      &lt;dex type=&quot;int&quot;&gt;100&lt;/dex&gt;<br/>      &lt;agi type=&quot;int&quot;&gt;100&lt;/agi&gt;<br/>      &lt;spd type=&quot;int&quot;&gt;100&lt;/spd&gt;<br/>      &lt;hc type=&quot;int&quot;&gt;100&lt;/hc&gt;<br/>      &lt;pd type=&quot;int&quot;&gt;100&lt;/pd&gt;<br/>      &lt;pr type=&quot;int&quot;&gt;100&lt;/pr&gt;<br/>    &lt;/object&gt;<br/>    &lt;object name=&quot;orc1&quot;&gt;<br/>      &lt;inherit name=&quot;editor_object&quot; /&gt;<br/>      &lt;inherit name=&quot;npc&quot; /&gt;<br/>      &lt;hostile type=&quot;boolean&quot;&gt;true&lt;/hostile&gt;<br/>      &lt;dead type=&quot;boolean&quot;&gt;false&lt;/dead&gt;<br/>      &lt;alias&gt;orc&lt;/alias&gt;<br/>      &lt;cur_hp type=&quot;int&quot;&gt;999&lt;/cur_hp&gt;<br/>      &lt;max_hp type=&quot;int&quot;&gt;999&lt;/max_hp&gt;<br/>      &lt;str type=&quot;int&quot;&gt;25&lt;/str&gt;<br/>      &lt;end type=&quot;int&quot;&gt;25&lt;/end&gt;<br/>      &lt;dex type=&quot;int&quot;&gt;25&lt;/dex&gt;<br/>      &lt;agi type=&quot;int&quot;&gt;25&lt;/agi&gt;<br/>      &lt;spd type=&quot;int&quot;&gt;25&lt;/spd&gt;<br/>      &lt;hc type=&quot;int&quot;&gt;25&lt;/hc&gt;<br/>      &lt;pd type=&quot;int&quot;&gt;25&lt;/pd&gt;<br/>      &lt;pr type=&quot;int&quot;&gt;25&lt;/pr&gt;<br/>    &lt;/object&gt;<br/>  &lt;/object&gt;<br/>  &lt;turnscript name=&quot;game_turns&quot;&gt;<br/>    &lt;enabled /&gt;<br/>    &lt;script&gt;<br/>      sa<br/>      game&#46;turns = game&#46;turns + 1<br/>    &lt;/script&gt;<br/>  &lt;/turnscript&gt;<br/>  &lt;command name=&quot;fight&quot;&gt;<br/>    &lt;pattern&gt;fight #text#&lt;/pattern&gt;<br/>    &lt;script&gt;<br/>      battle_system (game&#46;pov,text)<br/>    &lt;/script&gt;<br/>  &lt;/command&gt;<br/>  &lt;type name=&quot;char&quot;&gt;<br/>    &lt;cur_hp type=&quot;int&quot;&gt;0&lt;/cur_hp&gt;<br/>    &lt;drop type=&quot;boolean&quot;&gt;false&lt;/drop&gt;<br/>    &lt;defending type=&quot;boolean&quot;&gt;false&lt;/defending&gt;<br/>    &lt;max_hp type=&quot;int&quot;&gt;0&lt;/max_hp&gt;<br/>    &lt;str type=&quot;int&quot;&gt;0&lt;/str&gt;<br/>    &lt;end type=&quot;int&quot;&gt;0&lt;/end&gt;<br/>    &lt;dex type=&quot;int&quot;&gt;0&lt;/dex&gt;<br/>    &lt;agi type=&quot;int&quot;&gt;0&lt;/agi&gt;<br/>    &lt;spd type=&quot;int&quot;&gt;0&lt;/spd&gt;<br/>    &lt;hp type=&quot;int&quot;&gt;0&lt;/hp&gt;<br/>    &lt;hc type=&quot;int&quot;&gt;0&lt;/hc&gt;<br/>    &lt;pd type=&quot;int&quot;&gt;0&lt;/pd&gt;<br/>    &lt;pr type=&quot;int&quot;&gt;0&lt;/pr&gt;<br/>  &lt;/type&gt;<br/>  &lt;type name=&quot;pc&quot;&gt;<br/>    &lt;inherit name=&quot;char&quot; /&gt;<br/>    &lt;statusattributes type=&quot;stringdictionary&quot;&gt;hp = ;str = ;end = ;dex = ;agi = ;spd = ;hc = ;pd = ;pr = &lt;/statusattributes&gt;<br/>  &lt;/type&gt;<br/>  &lt;type name=&quot;npc&quot;&gt;<br/>    &lt;inherit name=&quot;char&quot; /&gt;<br/>    &lt;dead type=&quot;boolean&quot;&gt;false&lt;/dead&gt;<br/>    &lt;hostile type=&quot;boolean&quot;&gt;false&lt;/hostile&gt;<br/>    &lt;displayverbs type=&quot;list&quot;&gt;Look at; Talk; Fight&lt;/displayverbs&gt;<br/>  &lt;/type&gt;<br/>  &lt;function name=&quot;cc&quot;&gt;<br/>    msg (&quot;What is your name?&quot;)<br/>    get input {<br/>      game&#46;pov&#46;alias = result<br/>      msg (&quot; - &quot; + game&#46;pov&#46;alias)<br/>      show menu (&quot;What is your gender?&quot;, split (&quot;male;female&quot; , &quot;;&quot;), false) {<br/>        game&#46;pov&#46;gender = result<br/>        show menu (&quot;What is your race?&quot;, split (&quot;human;dwarf;elf&quot; , &quot;;&quot;), false) {<br/>          game&#46;pov&#46;race = result<br/>          show menu (&quot;What is your class?&quot;, split (&quot;warrior;cleric;mage;thief&quot; , &quot;;&quot;), false) {<br/>            game&#46;pov&#46;class = result<br/>            msg (game&#46;pov&#46;alias + &quot; is a &quot; + game&#46;pov&#46;gender + &quot; &quot; + game&#46;pov&#46;race + &quot; &quot; + game&#46;pov&#46;class + &quot;&#46;&quot;)<br/>            wait {<br/>              ClearScreen<br/>            }<br/>          }<br/>        }<br/>      }<br/>    }<br/>  &lt;/function&gt;<br/>  &lt;function name=&quot;sa&quot;&gt;<br/>    game&#46;pov&#46;hp = game&#46;pov&#46;cur_hp + &quot; / &quot; + game&#46;pov&#46;max_hp<br/>  &lt;/function&gt;<br/>  &lt;function name=&quot;battle_system&quot; parameters=&quot;self,text&quot; type=&quot;boolean&quot;&gt;<br/>    first_value = false<br/>    enemy = GetObject (text)<br/>    if (enemy = null) {<br/>      foreach (obj,AllObjects()) {<br/>        if (obj&#46;alias=text) {<br/>          enemy = obj<br/>        }<br/>      }<br/>    }<br/>    if (enemy = null) {<br/>      msg (&quot;There is no &quot; + text + &quot; here&#46;&quot;)<br/>      first_value = false<br/>    }<br/>    else if (not Doesinherit (enemy,&quot;npc&quot;)) {<br/>      msg (&quot;You can not battle that!&quot;)<br/>      first_value = false<br/>    }<br/>    else if (not npc_reachable (enemy)) {<br/>      msg (&quot;There is no &quot; + enemy&#46;alias + &quot; in your vicinity&#46;&quot;)<br/>      first_value = false<br/>    }<br/>    else if (GetBoolean (enemy,&quot;dead&quot;) = true) {<br/>      msg (enemy&#46;alias + &quot; is already dead&#46;&quot;)<br/>      first_value = false<br/>    }<br/>    else if (GetBoolean (enemy,&quot;hostile&quot;) = false) {<br/>      msg (enemy&#46;alias + &quot; is not hostile&#46;&quot;)<br/>      first_value = false<br/>    }<br/>    else if (battle_sequence (self,enemy) = true) {<br/>      msg (&quot;The battle is over&#46;&quot;)<br/>      first_value = true<br/>    }<br/>    return (first_value)<br/>  &lt;/function&gt;<br/>  &lt;function name=&quot;battle_sequence&quot; parameters=&quot;self,enemy&quot; type=&quot;boolean&quot;&gt;&lt;!&#91;CDATA&#91;<br/>    second_value = false<br/>    if (enemy&#46;dead = false) {<br/>      if (GetInt (self,&quot;spd&quot;) &gt; GetInt (enemy,&quot;spd&quot;)) {<br/>        on ready {<br/>          msg (&quot;You get to go first for this round&quot;)<br/>          if (self_battle_turn (self,enemy) = true) {<br/>            battle_sequence (self,enemy)<br/>          }<br/>        }<br/>        on ready {<br/>          if (enemy&#46;dead = false) {<br/>            if (enemy_battle_turn (self,enemy) = true) {<br/>              msg (&quot;The round has ended&#46;&quot;)<br/>            }<br/>          }<br/>        }<br/>        on ready {<br/>          battle_sequence (self,enemy)<br/>        }<br/>      }<br/>      else if (GetInt (self,&quot;spd&quot;) &lt; GetInt (enemy,&quot;spd&quot;)) {<br/>        on ready {<br/>          msg (enemy&#46;alias + &quot; gets to go first for this round&#46;&quot;)<br/>          if (enemy_battle_turn (self,enemy) = true) {<br/>            msg (&quot;It is now your turn&#46;&quot;)<br/>          }<br/>        }<br/>        on ready {<br/>          if (self_battle_turn (self,enemy) = true) {<br/>            battle_sequence (self,enemy)<br/>          }<br/>          else {<br/>            msg (&quot;The round has ended&#46;&quot;)<br/>          }<br/>        }<br/>        on ready {<br/>          battle_sequence (self,enemy)<br/>        }<br/>      }<br/>      else if (GetInt (self,&quot;spd&quot;) = GetInt (enemy,&quot;spd&quot;)) {<br/>        if (RandomChance (50) = true) {<br/>          on ready {<br/>            msg (&quot;You get to go first for this round&quot;)<br/>            if (self_battle_turn (self,enemy) = true) {<br/>              battle_sequence (self,enemy)<br/>            }<br/>          }<br/>          on ready {<br/>            if (enemy_battle_turn (self,enemy) = true) {<br/>              msg (&quot;The round has ended&#46;&quot;)<br/>            }<br/>          }<br/>          on ready {<br/>            battle_sequence (self,enemy)<br/>          }<br/>        }<br/>        else {<br/>          on ready {<br/>            msg (enemy&#46;alias + &quot; gets to go first for this round&#46;&quot;)<br/>            if (enemy_battle_turn (self,enemy) = true) {<br/>              msg (&quot;It is now your turn&#46;&quot;)<br/>            }<br/>          }<br/>          on ready {<br/>            if (self_battle_turn (self,enemy) = true) {<br/>              battle_sequence (self,enemy)<br/>            }<br/>            else {<br/>              msg (&quot;The round has ended&#46;&quot;)<br/>            }<br/>          }<br/>          on ready {<br/>            battle_sequence (self,enemy)<br/>          }<br/>        }<br/>      }<br/>    }<br/>    else {<br/>      second_value = true<br/>    }<br/>    return (second_value)<br/>  &#93;&#93;&gt;&lt;/function&gt;<br/>  &lt;function name=&quot;self_battle_turn&quot; parameters=&quot;self,enemy&quot; type=&quot;boolean&quot;&gt;&lt;!&#91;CDATA&#91;<br/>    third_value = false<br/>    msg (self&#46;alias + &quot; has &quot; + self&#46;cur_hp + &quot; HP left&#46;&quot;)<br/>    msg (enemy&#46;alias + &quot; has &quot; + enemy&#46;cur_hp + &quot; HP left&#46;&quot;)<br/>    wait {<br/>      show menu (&quot;What is your battle choice?&quot;, split (&quot;Attack;Defend;Cast;Item;Run&quot;, &quot;;&quot;), false) {<br/>        switch (result) {<br/>          case (&quot;Attack&quot;) {<br/>            fourth_value = false<br/>            if (RandomChance (GetInt (enemy,&quot;agi&quot;) - GetInt (self,&quot;spd&quot;)) = true) {<br/>              msg (enemy&#46;alias + &quot;evaded your attack!&quot;)<br/>              fourth_value = true<br/>            }<br/>            else if (RandomChance (GetInt (enemy,&quot;Dex&quot;) - GetInt (self,&quot;agi&quot;)) = true) {<br/>              msg (enemy&#46;alias + &quot;parried your attack!&quot;)<br/>              fourth_value = true<br/>            }<br/>            else if (RandomChance (GetInt (enemy,&quot;agi&quot;) - GetInt (self,&quot;dex&quot;)) = true) {<br/>              msg (enemy&#46;alias + &quot;blocked your attack!&quot;)<br/>              fourth_value = true<br/>            }<br/>            else if (RandomChance (GetInt (self,&quot;dex&quot;) - GetInt (enemy,&quot;spd&quot;)) = false) {<br/>              msg (&quot;Your attack missed &quot; + enemy&#46;alias +&quot;!&quot;)<br/>              fourth_value = true<br/>            }<br/>            else if (RandomChance (GetInt (enemy,&quot;pr&quot;) - GetInt (self,&quot;hc&quot;)) = true) {<br/>              msg (&quot;Your attack got resisted by &quot; + enemy&#46;alias +&quot;!&quot;)<br/>              fourth_value = true<br/>            }<br/>            else if (fourth_value = false) {<br/>              if (self&#46;defending = true and enemy&#46;defending = true) {<br/>                enemy&#46;cur_hp = enemy&#46;cur_hp - (crit_hit (self) * 2 * GetInt (self,&quot;pd&quot;) / 2 + GetInt (self,&quot;pd&quot;) * (GetInt (self,&quot;str&quot;) - GetInt (enemy,&quot;end&quot;)) / 100)<br/>                msg (enemy&#46;alias + &quot; has &quot; + enemy&#46;cur_hp + &quot; HP left&#46;&quot;)<br/>                self&#46;defending = false<br/>              }<br/>              else if (self&#46;defending = true and enemy&#46;defending = false) {<br/>                enemy&#46;cur_hp = enemy&#46;cur_hp - (crit_hit (self) * 2 * GetInt (self,&quot;pd&quot;) + GetInt (self,&quot;pd&quot;) * (GetInt (self,&quot;str&quot;) - GetInt (enemy,&quot;end&quot;)) / 100)<br/>                msg (enemy&#46;alias + &quot; has &quot; + enemy&#46;cur_hp + &quot; HP left&#46;&quot;)<br/>                self&#46;defending = false<br/>              }<br/>              else if (self&#46;defending = false and enemy&#46;defending = true) {<br/>                enemy&#46;cur_hp = enemy&#46;cur_hp - (crit_hit (self) * GetInt (self,&quot;pd&quot;) / 2 + GetInt (self,&quot;pd&quot;) * (GetInt (self,&quot;str&quot;) - GetInt (enemy,&quot;end&quot;)) / 100)<br/>                msg (enemy&#46;alias + &quot; has &quot; + enemy&#46;cur_hp + &quot; HP left&#46;&quot;)<br/>              }<br/>              else if (self&#46;defending = false and enemy&#46;defending = false) {<br/>                enemy&#46;cur_hp = enemy&#46;cur_hp - (crit_hit (self) * GetInt (self,&quot;pd&quot;) + GetInt (self,&quot;pd&quot;) * (GetInt (self,&quot;str&quot;) - GetInt (enemy,&quot;end&quot;)) / 100)<br/>                msg (enemy&#46;alias + &quot; has &quot; + enemy&#46;cur_hp + &quot; HP left&#46;&quot;)<br/>              }<br/>            }<br/>          }<br/>          case (&quot;Defend&quot;) {<br/>            if (self&#46;defending = false) {<br/>              self&#46;defending = true<br/>            }<br/>          }<br/>          case (&quot;Cast&quot;) {<br/>            self&#46;defending = false<br/>          }<br/>          case (&quot;Item&quot;) {<br/>            self&#46;defending = false<br/>          }<br/>          case (&quot;Run&quot;) {<br/>            self&#46;defending = false<br/>          }<br/>        }<br/>        if (GetInt (enemy,&quot;cur_hp&quot;) &gt; 0) {<br/>          if (RandomChance (GetInt (self,&quot;spd&quot;) - GetInt (enemy,&quot;spd&quot;)) = true) {<br/>            msg (&quot;You get an extra battle turn!&quot;)<br/>            self_battle_turn (self,enemy)<br/>          }<br/>          else {<br/>            msg (&quot;Your battle turn is over&#46;&quot;)<br/>            third_value = false<br/>          }<br/>        }<br/>        else if (GetInt (enemy,&quot;cur_hp&quot;) &lt;= 0) {<br/>          msg (enemy&#46;alias + &quot; is dead&#46;&quot;)<br/>          msg (&quot;You have won the battle!&quot;)<br/>          enemy&#46;defending = false<br/>          enemy&#46;dead = true<br/>          third_value = true<br/>          wait {<br/>            ClearScreen<br/>          }<br/>        }<br/>      }<br/>    }<br/>    return (third_value)<br/>  &#93;&#93;&gt;&lt;/function&gt;<br/>  &lt;function name=&quot;enemy_battle_turn&quot; parameters=&quot;self,enemy&quot; type=&quot;boolean&quot;&gt;&lt;!&#91;CDATA&#91;<br/>    fifth_value = false<br/>    msg (self&#46;alias + &quot; has &quot; + self&#46;cur_hp + &quot; HP left&#46;&quot;)<br/>    msg (enemy&#46;alias + &quot; has &quot; + enemy&#46;cur_hp + &quot; HP left&#46;&quot;)<br/>    result = GetRandomInt (1,3)<br/>    switch (result) {<br/>      case (1) {<br/>        sixth_value = false<br/>        if (RandomChance (GetInt (self,&quot;agi&quot;) - GetInt (enemy,&quot;spd&quot;)) = true) {<br/>          msg (&quot;You have evaded the attack!&quot;)<br/>          sixth_value = true<br/>        }<br/>        else if (RandomChance (GetInt (self,&quot;dex&quot;) - GetInt (enemy,&quot;agi&quot;)) = true) {<br/>          msg (&quot;You have parried the attack!&quot;)<br/>          sixth_value = true<br/>        }<br/>        else if (RandomChance (GetInt (self,&quot;agi&quot;) - GetInt (enemy,&quot;dex&quot;)) = true) {<br/>          msg (&quot;You have blocked the attack!&quot;)<br/>          sixth_value = true<br/>        }<br/>        else if (RandomChance (GetInt (enemy,&quot;dex&quot;) - GetInt (self,&quot;spd&quot;)) = false) {<br/>          msg (enemy&#46;alias +&quot;'s attack missed!&quot;)<br/>          sixth_value = true<br/>        }<br/>        else if (RandomChance (GetInt (self,&quot;pr&quot;) - GetInt (enemy,&quot;hc&quot;)) = true) {<br/>          msg (&quot;You resisted the attack!&quot;)<br/>          sixth_value = true<br/>        }<br/>        else if (sixth_value = false) { <br/>          if (enemy&#46;defending = true and self&#46;defending = true) {<br/>            self&#46;cur_hp = self&#46;cur_hp - (crit_hit (enemy) * 2 * GetInt (enemy,&quot;pd&quot;) / 2 + GetInt (enemy,&quot;pd&quot;) * (GetInt (enemy,&quot;str&quot;) - GetInt (self,&quot;end&quot;)) / 100)<br/>            msg (self&#46;alias + &quot; has &quot; + self&#46;cur_hp + &quot; HP left&#46;&quot;)<br/>            enemy&#46;defending = false<br/>          }<br/>          else if (enemy&#46;defending = true and self&#46;defending = false) {<br/>            self&#46;cur_hp = self&#46;cur_hp - (crit_hit (enemy) * 2 * GetInt (enemy,&quot;pd&quot;) + GetInt (enemy,&quot;pd&quot;) * (GetInt (enemy,&quot;str&quot;) - GetInt (self,&quot;end&quot;)) / 100)<br/>            msg (self&#46;alias + &quot; has &quot; + self&#46;cur_hp + &quot; HP left&#46;&quot;)<br/>            enemy&#46;defending = false<br/>          }<br/>          else if (enemy&#46;defending = false and self&#46;defending = true) {<br/>            self&#46;cur_hp = self&#46;cur_hp - (crit_hit (enemy) * GetInt (enemy,&quot;pd&quot;) / 2 + GetInt (enemy,&quot;pd&quot;) * (GetInt (enemy,&quot;str&quot;) - GetInt (self,&quot;end&quot;)) / 100)<br/>            msg (self&#46;alias + &quot; has &quot; + self&#46;cur_hp + &quot; HP left&#46;&quot;)<br/>          }<br/>          else if (enemy&#46;defending = false and self&#46;defending = false) {<br/>            self&#46;cur_hp = self&#46;cur_hp - (crit_hit (enemy) * GetInt (enemy,&quot;pd&quot;) + GetInt (enemy,&quot;pd&quot;) * (GetInt (enemy,&quot;str&quot;) - GetInt (self,&quot;end&quot;)) / 100)<br/>            msg (self&#46;alias + &quot; has &quot; + self&#46;cur_hp + &quot; HP left&#46;&quot;)<br/>          }<br/>        }<br/>      }<br/>      case (2) {<br/>        if (enemy&#46;defending = false) {<br/>          msg (enemy&#46;alias + &quot; has choosen to defend itself&#46;&quot;)<br/>          enemy&#46;defending = true<br/>        }<br/>      }<br/>      case (3) {<br/>        enemy&#46;defending = false<br/>        msg (&quot;Cast&quot;)<br/>      }<br/>    }<br/>    if (GetInt (self,&quot;cur_hp&quot;) &gt; 0) {<br/>      if (RandomChance (GetInt (enemy,&quot;spd&quot;) - GetInt (self,&quot;spd&quot;)) = true) {<br/>        msg (enemy&#46;alias + &quot; gets an extra battle turn!&quot;)<br/>        wait {<br/>          enemy_battle_turn (self,enemy)<br/>        }<br/>      }<br/>      else {<br/>        msg (enemy&#46;alias + &quot; 's battle turn is over&#46;&quot;)<br/>        fifth_value = true<br/>      }<br/>    }<br/>    else if (GetInt (self,&quot;cur_hp&quot;) &lt;= 0) {<br/>      msg (self&#46;alias + &quot; has died&#46;&quot;)<br/>      msg (&quot;GAME OVER&quot;)<br/>      finish<br/>    }<br/>    return (fifth_value)<br/>  &#93;&#93;&gt;&lt;/function&gt;<br/>  &lt;function name=&quot;npc_reachable&quot; parameters=&quot;object&quot; type=&quot;boolean&quot;&gt;<br/>    value = false<br/>    foreach (x,ScopeReachableNotHeld ()) {<br/>      if (x=object) {<br/>        value = true<br/>      }<br/>    }<br/>    return (value)<br/>  &lt;/function&gt;<br/>  &lt;function name=&quot;crit_hit&quot; parameters=&quot;object&quot; type=&quot;int&quot;&gt;<br/>    if (RandomChance (GetInt (object,&quot;luck&quot;)) = true) {<br/>      value = 2<br/>    }<br/>    else {<br/>      value = 1<br/>    }<br/>    return (value)<br/>  &lt;/function&gt;<br/>&lt;/asl&gt;</code></pre><br/><br/>-------------------------------------------<br/><br/>and its key-legend (for all the stupid abrevs I used) here:<br/><br/><!-- l --><a class=\"postlink-local\" href=\"http://forum.textadventures.co.uk/viewtopic.php?f=10&amp;t=3348&amp;start=120#p22486\">viewtopic.php?f=10&amp;t=3348&amp;start=120#p22486</a><!-- l --><br/><br/><pre><code>01&#46; cc = character creation function<br/>02&#46; sa = status attributes (mainly for implementing/displaying of ' cur / max ' stats) function<br/>03&#46; char = character object type (&quot;pcs&quot;, &quot;npcs&quot;, &quot;monsters&quot;, etc&#46;, so, not a room, item, equipment, spell, etc)<br/>04&#46; pc = playable character object type (&quot;player&quot; characters / game&#46;povs)<br/>05&#46; npc = non-playable character (&quot;people&quot;, &quot;monsters&quot;, and etc, so not a &quot;player&quot; character / not a game&#46;pov, I'm going to have a hostility system, so any npc can be friendly or hostile, instead of having an actual &quot;monster/enemy&quot; type set aside)<br/>06&#46; hp = hit points (life) stat attribute<br/>07&#46; mp = mana points (magic) stat attribute<br/>08&#46; str = strength (physical damage, carry weight / equipment requirement, etc) stat attribute<br/>09&#46; end = endurance (physical defense, and etc) stat attribute<br/>10&#46; dex = dexterity (weapon~attack skill, think of this as &quot;if your attack connects or not, do you 'whiff' or not&quot;, so not to gete confused with hc, and etc) stat attribute<br/>11&#46; agi = agility (dodging/evading, and etc) stat attribute<br/>12&#46; spd = speed (who goes first in battle, extra battle turns, escaping from battle, and etc) stat attribute<br/>13&#46; hc = hit chance (think of this more as piercing their armor or not, so not to get confused with dex, and etc) stat attribute<br/>14&#46; pd = physical damage stat attribute<br/>15&#46; fp = fire damage stat attribute<br/>16&#46; wp = water damage stat attribute<br/>17&#46; ap = air damage stat attribute<br/>18&#46; ed = earth damage stat attribute<br/>19&#46; ld = light damage stat attribute<br/>20&#46; dd = dark damage stat attribute<br/>21&#46; pr = physical resistance stat attribute<br/>22&#46; fr = fire resistance stat attribute<br/>23&#46; wr = water resistance stat attribute<br/>24&#46; ar = air resistance stat attribute<br/>25&#46; er = earth resistance stat attribute<br/>26&#46; lr = light resistance stat attribute<br/>27&#46; dr = dark resistance stat attribute<br/>28&#46; defending = boolean (reduces damage done for that character and increases the damage done by that character, if they chosoe to attack on the next turn)<br/>29&#46; escaped = boolean, run from battle (not completed/implemented yet)<br/>30&#46; hostile = boolean, any npc can be friendly or a(n) &quot;monster/enemy&quot;, based upon a hostility scale (0-100), but not completed<br/>31&#46; dead = boolean<br/>32&#46; crit_hit = critical hit (bonus damage based upon luck)<br/>33&#46; luck = luck stat attribute<br/>34&#46; lvl = level stat attribute<br/>35&#46; exp = experience stat attribute<br/>36&#46; cash = cash stat attribute (currency)<br/>37&#46; lvlup = level up function</code></pre><br/><br/>-------------------------------<br/><br/>be warned:<br/><br/>this is extremely old code, it is very poor and bad code, along with all of my annoying abbrevs (and I messed~mixed up some of the damage vs resistance abrevs too). I'm just too lazy to re-write a new much imporoved combat code, at least for the distant future, laughs.<br/><br/>that said however, please ask if you got any questions, need help, and~or don't understand whatever about it, I'll be happy to help (though it's been so long since I've worked with combat... it might take me a bit to re-fresh myself on it, lol)<br/><br/>------------------------------<br/><br/>you can have a more simple-static rounds of combat, for example:<br/><br/>you always go first, and then the monster~enemy~foe goes, and it repeats until the battle is ended (death, escape~fleeing~running, etc).<br/><br/>or, you can have more complex dynamic rounds of combat, for example:<br/><br/>who goes first, depends on a formula based upon at least a 'speed' stat (Attribute).<br/><br/>and you can make it more complex too: do you (and~or the enemy~monster~foe) get an &quot;extra~bonus&quot; turn ??? Or, do you or the mosnter lose a turn (you or the mosnter gets put to sleep or gets stunned, for example)<br/><br/>and etc complexitoes that you may have encountered within the games you've played.<br/><br/>----------------<br/><br/>about my code:<br/><br/>I use a Command, for how~when to choose to (try to) fight:<br/><br/>(this allows you to type in what you want to try to fight, in any room of the game, instead of clicking on the individual 'fight' Verbs buttons or the hyperlinks on every npc~character~monster)<br/><br/><pre><code>  &lt;command name=&quot;fight&quot;&gt;<br/>    &lt;pattern&gt;fight #text#&lt;/pattern&gt;<br/>    &lt;script&gt;<br/>      battle_system (game&#46;pov,text)<br/>    &lt;/script&gt;<br/>  &lt;/command&gt;</code></pre><br/><br/>I have a function for determining if you can even fight or not:<br/><br/><pre><code>  &lt;function name=&quot;battle_system&quot; parameters=&quot;self,text&quot; type=&quot;boolean&quot;&gt;<br/>    first_value = false<br/>    enemy = GetObject (text)<br/>    if (enemy = null) {<br/>      foreach (obj,AllObjects()) {<br/>        if (obj&#46;alias=text) {<br/>          enemy = obj<br/>        }<br/>      }<br/>    }<br/>    if (enemy = null) {<br/>      msg (&quot;There is no &quot; + text + &quot; here&#46;&quot;)<br/>      first_value = false<br/>    }<br/>    else if (not Doesinherit (enemy,&quot;npc&quot;)) {<br/>      msg (&quot;You can not battle that!&quot;)<br/>      first_value = false<br/>    }<br/>    else if (not npc_reachable (enemy)) {<br/>      msg (&quot;There is no &quot; + enemy&#46;alias + &quot; in your vicinity&#46;&quot;)<br/>      first_value = false<br/>    }<br/>    else if (GetBoolean (enemy,&quot;dead&quot;) = true) {<br/>      msg (enemy&#46;alias + &quot; is already dead&#46;&quot;)<br/>      first_value = false<br/>    }<br/>    else if (GetBoolean (enemy,&quot;hostile&quot;) = false) {<br/>      msg (enemy&#46;alias + &quot; is not hostile&#46;&quot;)<br/>      first_value = false<br/>    }<br/>    else if (battle_sequence (self,enemy) = true) {<br/>      msg (&quot;The battle is over&#46;&quot;)<br/>      first_value = true<br/>    }<br/>    return (first_value)<br/>  &lt;/function&gt;</code></pre><br/><br/>I have a function for determining the order of who goes first and etc (battle turns and battle rounds), aka &quot;battle sequence&quot;, seen here:<br/><br/>(this is extremely horribly bad code, but I'm too lazy to fix it up - despite being bad code, it does a good job of demonstrating the logic, I think)<br/><br/><pre><code>&lt;function name=&quot;battle_sequence&quot; parameters=&quot;self,enemy&quot; type=&quot;boolean&quot;&gt;&lt;!&#91;CDATA&#91;<br/>    second_value = false<br/>    if (enemy&#46;dead = false) {<br/>      if (GetInt (self,&quot;spd&quot;) &gt; GetInt (enemy,&quot;spd&quot;)) {<br/>        on ready {<br/>          msg (&quot;You get to go first for this round&quot;)<br/>          if (self_battle_turn (self,enemy) = true) {<br/>            battle_sequence (self,enemy)<br/>          }<br/>        }<br/>        on ready {<br/>          if (enemy&#46;dead = false) {<br/>            if (enemy_battle_turn (self,enemy) = true) {<br/>              msg (&quot;The round has ended&#46;&quot;)<br/>            }<br/>          }<br/>        }<br/>        on ready {<br/>          battle_sequence (self,enemy)<br/>        }<br/>      }<br/>      else if (GetInt (self,&quot;spd&quot;) &lt; GetInt (enemy,&quot;spd&quot;)) {<br/>        on ready {<br/>          msg (enemy&#46;alias + &quot; gets to go first for this round&#46;&quot;)<br/>          if (enemy_battle_turn (self,enemy) = true) {<br/>            msg (&quot;It is now your turn&#46;&quot;)<br/>          }<br/>        }<br/>        on ready {<br/>          if (self_battle_turn (self,enemy) = true) {<br/>            battle_sequence (self,enemy)<br/>          }<br/>          else {<br/>            msg (&quot;The round has ended&#46;&quot;)<br/>          }<br/>        }<br/>        on ready {<br/>          battle_sequence (self,enemy)<br/>        }<br/>      }<br/>      else if (GetInt (self,&quot;spd&quot;) = GetInt (enemy,&quot;spd&quot;)) {<br/>        if (RandomChance (50) = true) {<br/>          on ready {<br/>            msg (&quot;You get to go first for this round&quot;)<br/>            if (self_battle_turn (self,enemy) = true) {<br/>              battle_sequence (self,enemy)<br/>            }<br/>          }<br/>          on ready {<br/>            if (enemy_battle_turn (self,enemy) = true) {<br/>              msg (&quot;The round has ended&#46;&quot;)<br/>            }<br/>          }<br/>          on ready {<br/>            battle_sequence (self,enemy)<br/>          }<br/>        }<br/>        else {<br/>          on ready {<br/>            msg (enemy&#46;alias + &quot; gets to go first for this round&#46;&quot;)<br/>            if (enemy_battle_turn (self,enemy) = true) {<br/>              msg (&quot;It is now your turn&#46;&quot;)<br/>            }<br/>          }<br/>          on ready {<br/>            if (self_battle_turn (self,enemy) = true) {<br/>              battle_sequence (self,enemy)<br/>            }<br/>            else {<br/>              msg (&quot;The round has ended&#46;&quot;)<br/>            }<br/>          }<br/>          on ready {<br/>            battle_sequence (self,enemy)<br/>          }<br/>        }<br/>      }<br/>    }<br/>    else {<br/>      second_value = true<br/>    }<br/>    return (second_value)<br/>  &#93;&#93;&gt;&lt;/function&gt;</code></pre><br/><br/>I have a function for handling YOUR COMBAT TURN (and also then, it does the initial handling of *IF* the monster~enemy~foe turn happens or not - such as if you get an extra turn instead):<br/><br/><pre><code> &lt;function name=&quot;self_battle_turn&quot; parameters=&quot;self,enemy&quot; type=&quot;boolean&quot;&gt;&lt;!&#91;CDATA&#91;<br/>    third_value = false<br/>    msg (self&#46;alias + &quot; has &quot; + self&#46;cur_hp + &quot; HP left&#46;&quot;)<br/>    msg (enemy&#46;alias + &quot; has &quot; + enemy&#46;cur_hp + &quot; HP left&#46;&quot;)<br/>    wait {<br/>      show menu (&quot;What is your battle choice?&quot;, split (&quot;Attack;Defend;Cast;Item;Run&quot;, &quot;;&quot;), false) {<br/>        switch (result) {<br/>          case (&quot;Attack&quot;) {<br/>            fourth_value = false<br/>            if (RandomChance (GetInt (enemy,&quot;agi&quot;) - GetInt (self,&quot;spd&quot;)) = true) {<br/>              msg (enemy&#46;alias + &quot;evaded your attack!&quot;)<br/>              fourth_value = true<br/>            }<br/>            else if (RandomChance (GetInt (enemy,&quot;Dex&quot;) - GetInt (self,&quot;agi&quot;)) = true) {<br/>              msg (enemy&#46;alias + &quot;parried your attack!&quot;)<br/>              fourth_value = true<br/>            }<br/>            else if (RandomChance (GetInt (enemy,&quot;agi&quot;) - GetInt (self,&quot;dex&quot;)) = true) {<br/>              msg (enemy&#46;alias + &quot;blocked your attack!&quot;)<br/>              fourth_value = true<br/>            }<br/>            else if (RandomChance (GetInt (self,&quot;dex&quot;) - GetInt (enemy,&quot;spd&quot;)) = false) {<br/>              msg (&quot;Your attack missed &quot; + enemy&#46;alias +&quot;!&quot;)<br/>              fourth_value = true<br/>            }<br/>            else if (RandomChance (GetInt (enemy,&quot;pr&quot;) - GetInt (self,&quot;hc&quot;)) = true) {<br/>              msg (&quot;Your attack got resisted by &quot; + enemy&#46;alias +&quot;!&quot;)<br/>              fourth_value = true<br/>            }<br/>            else if (fourth_value = false) {<br/>              if (self&#46;defending = true and enemy&#46;defending = true) {<br/>                enemy&#46;cur_hp = enemy&#46;cur_hp - (crit_hit (self) * 2 * GetInt (self,&quot;pd&quot;) / 2 + GetInt (self,&quot;pd&quot;) * (GetInt (self,&quot;str&quot;) - GetInt (enemy,&quot;end&quot;)) / 100)<br/>                msg (enemy&#46;alias + &quot; has &quot; + enemy&#46;cur_hp + &quot; HP left&#46;&quot;)<br/>                self&#46;defending = false<br/>              }<br/>              else if (self&#46;defending = true and enemy&#46;defending = false) {<br/>                enemy&#46;cur_hp = enemy&#46;cur_hp - (crit_hit (self) * 2 * GetInt (self,&quot;pd&quot;) + GetInt (self,&quot;pd&quot;) * (GetInt (self,&quot;str&quot;) - GetInt (enemy,&quot;end&quot;)) / 100)<br/>                msg (enemy&#46;alias + &quot; has &quot; + enemy&#46;cur_hp + &quot; HP left&#46;&quot;)<br/>                self&#46;defending = false<br/>              }<br/>              else if (self&#46;defending = false and enemy&#46;defending = true) {<br/>                enemy&#46;cur_hp = enemy&#46;cur_hp - (crit_hit (self) * GetInt (self,&quot;pd&quot;) / 2 + GetInt (self,&quot;pd&quot;) * (GetInt (self,&quot;str&quot;) - GetInt (enemy,&quot;end&quot;)) / 100)<br/>                msg (enemy&#46;alias + &quot; has &quot; + enemy&#46;cur_hp + &quot; HP left&#46;&quot;)<br/>              }<br/>              else if (self&#46;defending = false and enemy&#46;defending = false) {<br/>                enemy&#46;cur_hp = enemy&#46;cur_hp - (crit_hit (self) * GetInt (self,&quot;pd&quot;) + GetInt (self,&quot;pd&quot;) * (GetInt (self,&quot;str&quot;) - GetInt (enemy,&quot;end&quot;)) / 100)<br/>                msg (enemy&#46;alias + &quot; has &quot; + enemy&#46;cur_hp + &quot; HP left&#46;&quot;)<br/>              }<br/>            }<br/>          }<br/>          case (&quot;Defend&quot;) {<br/>            if (self&#46;defending = false) {<br/>              self&#46;defending = true<br/>            }<br/>          }<br/>          case (&quot;Cast&quot;) {<br/>            self&#46;defending = false<br/>          }<br/>          case (&quot;Item&quot;) {<br/>            self&#46;defending = false<br/>          }<br/>          case (&quot;Run&quot;) {<br/>            self&#46;defending = false<br/>          }<br/>        }<br/>        if (GetInt (enemy,&quot;cur_hp&quot;) &gt; 0) {<br/>          if (RandomChance (GetInt (self,&quot;spd&quot;) - GetInt (enemy,&quot;spd&quot;)) = true) {<br/>            msg (&quot;You get an extra battle turn!&quot;)<br/>            self_battle_turn (self,enemy)<br/>          }<br/>          else {<br/>            msg (&quot;Your battle turn is over&#46;&quot;)<br/>            third_value = false<br/>          }<br/>        }<br/>        else if (GetInt (enemy,&quot;cur_hp&quot;) &lt;= 0) {<br/>          msg (enemy&#46;alias + &quot; is dead&#46;&quot;)<br/>          msg (&quot;You have won the battle!&quot;)<br/>          enemy&#46;defending = false<br/>          enemy&#46;dead = true<br/>          third_value = true<br/>          wait {<br/>            ClearScreen<br/>          }<br/>        }<br/>      }<br/>    }<br/>    return (third_value)</code></pre><br/><br/>I have a function for handling the MONSTER~ENEMY~FOE COMBAT TURN (and also then, it does the initial handling of *IF* your turn happens or not - such as if the mosnter~foe~enemy gets an extra turn instead):<br/><br/><pre><code> &lt;function name=&quot;enemy_battle_turn&quot; parameters=&quot;self,enemy&quot; type=&quot;boolean&quot;&gt;&lt;!&#91;CDATA&#91;<br/>    fifth_value = false<br/>    msg (self&#46;alias + &quot; has &quot; + self&#46;cur_hp + &quot; HP left&#46;&quot;)<br/>    msg (enemy&#46;alias + &quot; has &quot; + enemy&#46;cur_hp + &quot; HP left&#46;&quot;)<br/>    result = GetRandomInt (1,3)<br/>    switch (result) {<br/>      case (1) {<br/>        sixth_value = false<br/>        if (RandomChance (GetInt (self,&quot;agi&quot;) - GetInt (enemy,&quot;spd&quot;)) = true) {<br/>          msg (&quot;You have evaded the attack!&quot;)<br/>          sixth_value = true<br/>        }<br/>        else if (RandomChance (GetInt (self,&quot;dex&quot;) - GetInt (enemy,&quot;agi&quot;)) = true) {<br/>          msg (&quot;You have parried the attack!&quot;)<br/>          sixth_value = true<br/>        }<br/>        else if (RandomChance (GetInt (self,&quot;agi&quot;) - GetInt (enemy,&quot;dex&quot;)) = true) {<br/>          msg (&quot;You have blocked the attack!&quot;)<br/>          sixth_value = true<br/>        }<br/>        else if (RandomChance (GetInt (enemy,&quot;dex&quot;) - GetInt (self,&quot;spd&quot;)) = false) {<br/>          msg (enemy&#46;alias +&quot;'s attack missed!&quot;)<br/>          sixth_value = true<br/>        }<br/>        else if (RandomChance (GetInt (self,&quot;pr&quot;) - GetInt (enemy,&quot;hc&quot;)) = true) {<br/>          msg (&quot;You resisted the attack!&quot;)<br/>          sixth_value = true<br/>        }<br/>        else if (sixth_value = false) { <br/>          if (enemy&#46;defending = true and self&#46;defending = true) {<br/>            self&#46;cur_hp = self&#46;cur_hp - (crit_hit (enemy) * 2 * GetInt (enemy,&quot;pd&quot;) / 2 + GetInt (enemy,&quot;pd&quot;) * (GetInt (enemy,&quot;str&quot;) - GetInt (self,&quot;end&quot;)) / 100)<br/>            msg (self&#46;alias + &quot; has &quot; + self&#46;cur_hp + &quot; HP left&#46;&quot;)<br/>            enemy&#46;defending = false<br/>          }<br/>          else if (enemy&#46;defending = true and self&#46;defending = false) {<br/>            self&#46;cur_hp = self&#46;cur_hp - (crit_hit (enemy) * 2 * GetInt (enemy,&quot;pd&quot;) + GetInt (enemy,&quot;pd&quot;) * (GetInt (enemy,&quot;str&quot;) - GetInt (self,&quot;end&quot;)) / 100)<br/>            msg (self&#46;alias + &quot; has &quot; + self&#46;cur_hp + &quot; HP left&#46;&quot;)<br/>            enemy&#46;defending = false<br/>          }<br/>          else if (enemy&#46;defending = false and self&#46;defending = true) {<br/>            self&#46;cur_hp = self&#46;cur_hp - (crit_hit (enemy) * GetInt (enemy,&quot;pd&quot;) / 2 + GetInt (enemy,&quot;pd&quot;) * (GetInt (enemy,&quot;str&quot;) - GetInt (self,&quot;end&quot;)) / 100)<br/>            msg (self&#46;alias + &quot; has &quot; + self&#46;cur_hp + &quot; HP left&#46;&quot;)<br/>          }<br/>          else if (enemy&#46;defending = false and self&#46;defending = false) {<br/>            self&#46;cur_hp = self&#46;cur_hp - (crit_hit (enemy) * GetInt (enemy,&quot;pd&quot;) + GetInt (enemy,&quot;pd&quot;) * (GetInt (enemy,&quot;str&quot;) - GetInt (self,&quot;end&quot;)) / 100)<br/>            msg (self&#46;alias + &quot; has &quot; + self&#46;cur_hp + &quot; HP left&#46;&quot;)<br/>          }<br/>        }<br/>      }<br/>      case (2) {<br/>        if (enemy&#46;defending = false) {<br/>          msg (enemy&#46;alias + &quot; has choosen to defend itself&#46;&quot;)<br/>          enemy&#46;defending = true<br/>        }<br/>      }<br/>      case (3) {<br/>        enemy&#46;defending = false<br/>        msg (&quot;Cast&quot;)<br/>      }<br/>    }<br/>    if (GetInt (self,&quot;cur_hp&quot;) &gt; 0) {<br/>      if (RandomChance (GetInt (enemy,&quot;spd&quot;) - GetInt (self,&quot;spd&quot;)) = true) {<br/>        msg (enemy&#46;alias + &quot; gets an extra battle turn!&quot;)<br/>        wait {<br/>          enemy_battle_turn (self,enemy)<br/>        }<br/>      }<br/>      else {<br/>        msg (enemy&#46;alias + &quot; 's battle turn is over&#46;&quot;)<br/>        fifth_value = true<br/>      }<br/>    }<br/>    else if (GetInt (self,&quot;cur_hp&quot;) &lt;= 0) {<br/>      msg (self&#46;alias + &quot; has died&#46;&quot;)<br/>      msg (&quot;GAME OVER&quot;)<br/>      finish<br/>    }<br/>    return (fifth_value)</code></pre>",
      "PostDate": "2015-12-08T00:06:51+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "39301",
      "UserId": 0,
      "Username": "The Pixie",
      "UserAvatar": null,
      "UserGravatar": "cfa37e927f96177bcf6053ae8f108f77",
      "EditableText": "[quote=&quot;The Pixie&quot;:2sjmr8nq]...\nI am hoping to release a dungeon crawl using that library (slightly modified) in the next couple of weeks. I was planning on making the code available; that would include hundred of monsters, dozens of weapons and spells. If you do not care about the game system particularly, I could PM you a link to an early version and you can see what you think (the main issue at this stage is game balance; ensuring the player has a chance at survival).\n...[/quote:2sjmr8nq]\nIn fact I have now released it for beta-testing, so you can take a look at what is possible:\n<!-- l --><a class=\"postlink-local\" href=\"http://forum.textadventures.co.uk/viewtopic.php?f=5&amp;t=5704\">viewtopic.php?f=5&amp;t=5704</a><!-- l -->",
      "EditableFormat": "bbcode",
      "HTML": "<blockquote><cite>The Pixie wrote:</cite>...<br/>I am hoping to release a dungeon crawl using that library (slightly modified) in the next couple of weeks. I was planning on making the code available; that would include hundred of monsters, dozens of weapons and spells. If you do not care about the game system particularly, I could PM you a link to an early version and you can see what you think (the main issue at this stage is game balance; ensuring the player has a chance at survival).<br/>...</blockquote><br/>In fact I have now released it for beta-testing, so you can take a look at what is possible:<br/><!-- l --><a class=\"postlink-local\" href=\"http://forum.textadventures.co.uk/viewtopic.php?f=5&amp;t=5704\">viewtopic.php?f=5&amp;t=5704</a><!-- l -->",
      "PostDate": "2015-12-08T08:21:36+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "39308",
      "UserId": 0,
      "Username": "japangirl",
      "UserAvatar": null,
      "UserGravatar": "0664a96048142a0491a0aff4aa02c13a",
      "EditableText": "I fear that this is just too complicated for me. Is there any alternatives?",
      "EditableFormat": "bbcode",
      "HTML": "I fear that this is just too complicated for me. Is there any alternatives?",
      "PostDate": "2015-12-08T12:35:38+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "39315",
      "UserId": 0,
      "Username": "HegemonKhan",
      "UserAvatar": null,
      "UserGravatar": "a96cf34d8d97c57de38f54ee22b1759b",
      "EditableText": "we can help you with something more simple, I was just providing my big combat code, for you to look at and see some ideas and get a feel-look for how it can be done.\n\nwe need some instructions though in order to help you, what do you want with your combat system? tell us the details of what and how you want your combat to work? what aspects or features do you want with it? What game mechanics do you want involved? etc etc etc.\n\n---------\n\nhere's a very simple dynamic (based upon 'speed' Attribute as to who goes first, both you and the enemy get a single turn per battle round) turn-based combat, example:\n\n(I used some redundent code, as I think it's easy for you to see it all in one place, than for me to split it up in separate places)\n\n(when reading code, you literally read it just like a book, from top down, and hopefully you can understand it and follow along with it. ask if you want any parts of the code explained!)\n\n[code:14arqn6m]&lt;game name=&quot;xxx&quot;&gt;\n  &lt;attr name=&quot;battle_round&quot; type=&quot;int&quot;&gt;0&lt;/attr&gt;\n&lt;/game&gt;\n\n&lt;object name=&quot;player&quot;&gt;\n  &lt;attr name=&quot;life&quot; type=&quot;string&quot;&gt;999/999&lt;attr&gt;\n  &lt;attr name=&quot;current_life&quot; type=&quot;int&quot;&gt;999&lt;/attr&gt;\n  &lt;attr name=&quot;changedcurrent_life&quot; type=&quot;script&quot;&gt;\n    player&#46;life = player&#46;current_life + &quot;/&quot; + player&#46;maximum_life\n  &lt;/attr&gt;\n  &lt;attr name=&quot;maximum_life&quot; type=&quot;int&quot;&gt;999&lt;/attr&gt;\n  &lt;attr name=&quot;changedmaximum_life&quot; type=&quot;script&quot;&gt;\n    player&#46;life = player&#46;current_life + &quot;/&quot; + player&#46;maximum_life\n  &lt;/attr&gt;\n  &lt;attr name=&quot;damage&quot; type=&quot;int&quot;&gt;50&lt;/attr&gt;\n  &lt;attr name=&quot;speed&quot; type=&quot;int&quot;&gt;50&lt;/attr&gt;\n  &lt;attr name=&quot;statusattributes&quot; type=&quot;simplestringdictionary&quot;&gt;life = Life&#58; !; damage = Damage&#58; !; speed = Speed&#58; !&lt;/attr&gt;\n&lt;/object&gt;\n\n&lt;object name=&quot;orc&quot;&gt;\n  &lt;attr name=&quot;current_life&quot; type=&quot;int&quot;&gt;500&lt;/attr&gt;\n  &lt;attr name=&quot;changedcurrent_life&quot; type=&quot;script&quot;&gt;\n    orc&#46;life = orc&#46;current_life + &quot;/&quot; + orc&#46;maximum_life\n  &lt;/attr&gt;\n  &lt;attr name=&quot;maximum_life&quot; type=&quot;int&quot;&gt;500&lt;/attr&gt;\n  &lt;attr name=&quot;damage&quot; type=&quot;int&quot;&gt;25&lt;/attr&gt;\n  &lt;attr name=&quot;speed&quot; type=&quot;int&quot;&gt;50&lt;/attr&gt;\n  &lt;attr name=&quot;dead&quot; type=&quot;boolean&quot;&gt;false&lt;/attr&gt;\n  &lt;attr name=&quot;displayverbs&quot; type=&quot;simplestringlist&quot;&gt;fight&lt;/attr&gt;\n  &lt;attr name=&quot;fight&quot; type=&quot;script&quot;&gt;\n    if (not orc&#46;dead) {\n      game&#46;battle_round = game&#46;battle_round + 1\n      msg (&quot;Your Life&#58; &quot; + player&#46;life)\n      msg (&quot;Orc's Life&#58; &quot; + orc&#46;life)\n      msg (&quot;Battle Round&#58; &quot; + game&#46;battle_round)\n      if (player&#46;speed &gt; orc&#46;speed) {\n        orc&#46;current_life = orc&#46;current_life - player&#46;damage\n        msg (&quot;You attack and damage the orc for &quot; + player&#46;damage + &quot;, leaving the orc with only &quot; + orc&#46;current_life + &quot; life left&#46;&quot;)\n        if (orc&#46;current_life &lt;= 0) {\n          orc&#46;dead = true\n          msg (&quot;You killed the orc!&quot;)\n          game&#46;battle_round = 0\n        } else {\n          player&#46;current_life = player&#46;current_life - orc&#46;damage\n          msg (&quot;The orc attacks, damaging you for &quot; + orc&#46;damage + &quot;, leaving you with only &quot; + player&#46;current_life + &quot; life left&#46;&quot;)\n          if (player&#46;current_life &lt;= 0) {\n            msg (&quot;You were killed by the orc&#46;&quot;)\n            msg (&quot;GAME OVER&quot;)\n            finish\n          } else {\n            do (orc, &quot;fight&quot;)\n          }\n        }\n      } else if (player&#46;speed &lt; orc&#46;speed) {\n        player&#46;current_life = player&#46;current_life - orc&#46;damage\n        msg (&quot;The orc attacks and damages you for &quot; + orc&#46;damage + &quot;, leaving the you with only &quot; + player&#46;current_life + &quot; life left&#46;&quot;)\n        if (player&#46;current_life &lt;= 0) {\n          msg (&quot;You were killed by the orc&#46;&quot;)\n          msg (&quot;GAME OVER&quot;)\n          finish\n        } else {\n          orc&#46;current_life = orc&#46;current_life - player&#46;damage\n          msg (&quot;You attack the orc, damaging it for &quot; + player&#46;damage + &quot;, leaving it with only &quot; + orc&#46;current_life + &quot; life left&#46;&quot;)\n          if (orc&#46;current_life &lt;= 0) {\n            orc&#46;dead = true\n            msg (&quot;You killed the orc!&quot;)\n            game&#46;battle_round = 0\n          } else {\n            do (orc, &quot;fight&quot;)\n          }\n        }\n      } else {\n        if (RandomChance (50)) {\n          orc&#46;current_life = orc&#46;current_life - player&#46;damage\n          msg (&quot;You attack and damage the orc for &quot; + player&#46;damage + &quot;, leaving the orc with only &quot; + orc&#46;current_life + &quot; life left&#46;&quot;)\n          if (orc&#46;current_life &lt;= 0) {\n            orc&#46;dead = true\n            msg (&quot;You killed the orc!&quot;)\n            game&#46;battle_round = 0\n          } else {\n            player&#46;current_life = player&#46;current_life - orc&#46;damage\n            msg (&quot;The orc attacks, damaging you for &quot; + orc&#46;damage + &quot;, leaving you with only &quot; + player&#46;current_life + &quot; life left&#46;&quot;)\n            if (player&#46;current_life &lt;= 0) {\n              msg (&quot;You were killed by the orc&#46;&quot;)\n              msg (&quot;GAME OVER&quot;)\n              finish\n            } else {\n              do (orc, &quot;fight&quot;)\n            }\n          }\n        } else {\n          player&#46;current_life = player&#46;current_life - orc&#46;damage\n          msg (&quot;The orc attacks and damages you for &quot; + orc&#46;damage + &quot;, leaving the you with only &quot; + player&#46;current_life + &quot; life left&#46;&quot;)\n          if (player&#46;current_life &lt;= 0) {\n            msg (&quot;You were killed by the orc&#46;&quot;)\n            msg (&quot;GAME OVER&quot;)\n            finish\n          } else {\n            orc&#46;current_life = orc&#46;current_life - player&#46;damage\n            msg (&quot;You attack the orc, damaging it for &quot; + player&#46;damage + &quot;, leaving it with only &quot; + orc&#46;current_life + &quot; life left&#46;&quot;)\n            if (orc&#46;current_life &lt;= 0) {\n              orc&#46;dead = true\n              msg (&quot;You killed the orc!&quot;)\n              game&#46;battle_round = 0\n            } else {\n              do (orc, &quot;fight&quot;)\n            }\n          }\n        }\n      }\n    } else {\n      msg (&quot;The orc is already dead, silly&#46;&quot;)\n    }\n  &lt;/attr&gt;\n&lt;/object&gt;\n\n&lt;verb&gt;\n  &lt;property&gt;fight&lt;/property&gt;\n  &lt;pattern&gt;fight&lt;/pattern&gt;\n  &lt;defaultexpression&gt;You can't fight that!&lt;/defaultexpression&gt;\n&lt;/verb&gt;[/code:14arqn6m]\n\nMy apologies if the code scares you, but it'd take so much longer to do all of this for you through instructions via using the GUI~Editor's Scripts (add new scripts), unfortunately.\n\nwe can help you do all of this through the GUI~Editor, just ask for help.",
      "EditableFormat": "bbcode",
      "HTML": "we can help you with something more simple, I was just providing my big combat code, for you to look at and see some ideas and get a feel-look for how it can be done.<br/><br/>we need some instructions though in order to help you, what do you want with your combat system? tell us the details of what and how you want your combat to work? what aspects or features do you want with it? What game mechanics do you want involved? etc etc etc.<br/><br/>---------<br/><br/>here's a very simple dynamic (based upon 'speed' Attribute as to who goes first, both you and the enemy get a single turn per battle round) turn-based combat, example:<br/><br/>(I used some redundent code, as I think it's easy for you to see it all in one place, than for me to split it up in separate places)<br/><br/>(when reading code, you literally read it just like a book, from top down, and hopefully you can understand it and follow along with it. ask if you want any parts of the code explained!)<br/><br/><pre><code>&lt;game name=&quot;xxx&quot;&gt;<br/>  &lt;attr name=&quot;battle_round&quot; type=&quot;int&quot;&gt;0&lt;/attr&gt;<br/>&lt;/game&gt;<br/><br/>&lt;object name=&quot;player&quot;&gt;<br/>  &lt;attr name=&quot;life&quot; type=&quot;string&quot;&gt;999/999&lt;attr&gt;<br/>  &lt;attr name=&quot;current_life&quot; type=&quot;int&quot;&gt;999&lt;/attr&gt;<br/>  &lt;attr name=&quot;changedcurrent_life&quot; type=&quot;script&quot;&gt;<br/>    player&#46;life = player&#46;current_life + &quot;/&quot; + player&#46;maximum_life<br/>  &lt;/attr&gt;<br/>  &lt;attr name=&quot;maximum_life&quot; type=&quot;int&quot;&gt;999&lt;/attr&gt;<br/>  &lt;attr name=&quot;changedmaximum_life&quot; type=&quot;script&quot;&gt;<br/>    player&#46;life = player&#46;current_life + &quot;/&quot; + player&#46;maximum_life<br/>  &lt;/attr&gt;<br/>  &lt;attr name=&quot;damage&quot; type=&quot;int&quot;&gt;50&lt;/attr&gt;<br/>  &lt;attr name=&quot;speed&quot; type=&quot;int&quot;&gt;50&lt;/attr&gt;<br/>  &lt;attr name=&quot;statusattributes&quot; type=&quot;simplestringdictionary&quot;&gt;life = Life&#58; !; damage = Damage&#58; !; speed = Speed&#58; !&lt;/attr&gt;<br/>&lt;/object&gt;<br/><br/>&lt;object name=&quot;orc&quot;&gt;<br/>  &lt;attr name=&quot;current_life&quot; type=&quot;int&quot;&gt;500&lt;/attr&gt;<br/>  &lt;attr name=&quot;changedcurrent_life&quot; type=&quot;script&quot;&gt;<br/>    orc&#46;life = orc&#46;current_life + &quot;/&quot; + orc&#46;maximum_life<br/>  &lt;/attr&gt;<br/>  &lt;attr name=&quot;maximum_life&quot; type=&quot;int&quot;&gt;500&lt;/attr&gt;<br/>  &lt;attr name=&quot;damage&quot; type=&quot;int&quot;&gt;25&lt;/attr&gt;<br/>  &lt;attr name=&quot;speed&quot; type=&quot;int&quot;&gt;50&lt;/attr&gt;<br/>  &lt;attr name=&quot;dead&quot; type=&quot;boolean&quot;&gt;false&lt;/attr&gt;<br/>  &lt;attr name=&quot;displayverbs&quot; type=&quot;simplestringlist&quot;&gt;fight&lt;/attr&gt;<br/>  &lt;attr name=&quot;fight&quot; type=&quot;script&quot;&gt;<br/>    if (not orc&#46;dead) {<br/>      game&#46;battle_round = game&#46;battle_round + 1<br/>      msg (&quot;Your Life&#58; &quot; + player&#46;life)<br/>      msg (&quot;Orc's Life&#58; &quot; + orc&#46;life)<br/>      msg (&quot;Battle Round&#58; &quot; + game&#46;battle_round)<br/>      if (player&#46;speed &gt; orc&#46;speed) {<br/>        orc&#46;current_life = orc&#46;current_life - player&#46;damage<br/>        msg (&quot;You attack and damage the orc for &quot; + player&#46;damage + &quot;, leaving the orc with only &quot; + orc&#46;current_life + &quot; life left&#46;&quot;)<br/>        if (orc&#46;current_life &lt;= 0) {<br/>          orc&#46;dead = true<br/>          msg (&quot;You killed the orc!&quot;)<br/>          game&#46;battle_round = 0<br/>        } else {<br/>          player&#46;current_life = player&#46;current_life - orc&#46;damage<br/>          msg (&quot;The orc attacks, damaging you for &quot; + orc&#46;damage + &quot;, leaving you with only &quot; + player&#46;current_life + &quot; life left&#46;&quot;)<br/>          if (player&#46;current_life &lt;= 0) {<br/>            msg (&quot;You were killed by the orc&#46;&quot;)<br/>            msg (&quot;GAME OVER&quot;)<br/>            finish<br/>          } else {<br/>            do (orc, &quot;fight&quot;)<br/>          }<br/>        }<br/>      } else if (player&#46;speed &lt; orc&#46;speed) {<br/>        player&#46;current_life = player&#46;current_life - orc&#46;damage<br/>        msg (&quot;The orc attacks and damages you for &quot; + orc&#46;damage + &quot;, leaving the you with only &quot; + player&#46;current_life + &quot; life left&#46;&quot;)<br/>        if (player&#46;current_life &lt;= 0) {<br/>          msg (&quot;You were killed by the orc&#46;&quot;)<br/>          msg (&quot;GAME OVER&quot;)<br/>          finish<br/>        } else {<br/>          orc&#46;current_life = orc&#46;current_life - player&#46;damage<br/>          msg (&quot;You attack the orc, damaging it for &quot; + player&#46;damage + &quot;, leaving it with only &quot; + orc&#46;current_life + &quot; life left&#46;&quot;)<br/>          if (orc&#46;current_life &lt;= 0) {<br/>            orc&#46;dead = true<br/>            msg (&quot;You killed the orc!&quot;)<br/>            game&#46;battle_round = 0<br/>          } else {<br/>            do (orc, &quot;fight&quot;)<br/>          }<br/>        }<br/>      } else {<br/>        if (RandomChance (50)) {<br/>          orc&#46;current_life = orc&#46;current_life - player&#46;damage<br/>          msg (&quot;You attack and damage the orc for &quot; + player&#46;damage + &quot;, leaving the orc with only &quot; + orc&#46;current_life + &quot; life left&#46;&quot;)<br/>          if (orc&#46;current_life &lt;= 0) {<br/>            orc&#46;dead = true<br/>            msg (&quot;You killed the orc!&quot;)<br/>            game&#46;battle_round = 0<br/>          } else {<br/>            player&#46;current_life = player&#46;current_life - orc&#46;damage<br/>            msg (&quot;The orc attacks, damaging you for &quot; + orc&#46;damage + &quot;, leaving you with only &quot; + player&#46;current_life + &quot; life left&#46;&quot;)<br/>            if (player&#46;current_life &lt;= 0) {<br/>              msg (&quot;You were killed by the orc&#46;&quot;)<br/>              msg (&quot;GAME OVER&quot;)<br/>              finish<br/>            } else {<br/>              do (orc, &quot;fight&quot;)<br/>            }<br/>          }<br/>        } else {<br/>          player&#46;current_life = player&#46;current_life - orc&#46;damage<br/>          msg (&quot;The orc attacks and damages you for &quot; + orc&#46;damage + &quot;, leaving the you with only &quot; + player&#46;current_life + &quot; life left&#46;&quot;)<br/>          if (player&#46;current_life &lt;= 0) {<br/>            msg (&quot;You were killed by the orc&#46;&quot;)<br/>            msg (&quot;GAME OVER&quot;)<br/>            finish<br/>          } else {<br/>            orc&#46;current_life = orc&#46;current_life - player&#46;damage<br/>            msg (&quot;You attack the orc, damaging it for &quot; + player&#46;damage + &quot;, leaving it with only &quot; + orc&#46;current_life + &quot; life left&#46;&quot;)<br/>            if (orc&#46;current_life &lt;= 0) {<br/>              orc&#46;dead = true<br/>              msg (&quot;You killed the orc!&quot;)<br/>              game&#46;battle_round = 0<br/>            } else {<br/>              do (orc, &quot;fight&quot;)<br/>            }<br/>          }<br/>        }<br/>      }<br/>    } else {<br/>      msg (&quot;The orc is already dead, silly&#46;&quot;)<br/>    }<br/>  &lt;/attr&gt;<br/>&lt;/object&gt;<br/><br/>&lt;verb&gt;<br/>  &lt;property&gt;fight&lt;/property&gt;<br/>  &lt;pattern&gt;fight&lt;/pattern&gt;<br/>  &lt;defaultexpression&gt;You can't fight that!&lt;/defaultexpression&gt;<br/>&lt;/verb&gt;</code></pre><br/><br/>My apologies if the code scares you, but it'd take so much longer to do all of this for you through instructions via using the GUI~Editor's Scripts (add new scripts), unfortunately.<br/><br/>we can help you do all of this through the GUI~Editor, just ask for help.",
      "PostDate": "2015-12-08T18:51:50+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "39327",
      "UserId": 0,
      "Username": "japangirl",
      "UserAvatar": null,
      "UserGravatar": "0664a96048142a0491a0aff4aa02c13a",
      "EditableText": "[quote=&quot;HegemonKhan&quot;:1ovbqzxs]we can help you with something more simple, I was just providing my big combat code, for you to look at and see some ideas and get a feel-look for how it can be done.\n\nwe need some instructions though in order to help you, what do you want with your combat system? tell us the details of what and how you want your combat to work? what aspects or features do you want with it? What game mechanics do you want involved? etc etc etc.\n\n---------\n\nhere's a very simple dynamic (based upon 'speed' Attribute as to who goes first, both you and the enemy get a single turn per battle round) turn-based combat, example:\n\n(I used some redundent code, as I think it's easy for you to see it all in one place, than for me to split it up in separate places)\n\n(when reading code, you literally read it just like a book, from top down, and hopefully you can understand it and follow along with it. ask if you want any parts of the code explained!)\n\n[code:1ovbqzxs]&lt;game name=&quot;xxx&quot;&gt;\n  &lt;attr name=&quot;battle_round&quot; type=&quot;int&quot;&gt;0&lt;/attr&gt;\n&lt;/game&gt;\n\n&lt;object name=&quot;player&quot;&gt;\n  &lt;attr name=&quot;life&quot; type=&quot;string&quot;&gt;999/999&lt;attr&gt;\n  &lt;attr name=&quot;current_life&quot; type=&quot;int&quot;&gt;999&lt;/attr&gt;\n  &lt;attr name=&quot;changedcurrent_life&quot; type=&quot;script&quot;&gt;\n    player&#46;life = player&#46;current_life + &quot;/&quot; + player&#46;maximum_life\n  &lt;/attr&gt;\n  &lt;attr name=&quot;maximum_life&quot; type=&quot;int&quot;&gt;999&lt;/attr&gt;\n  &lt;attr name=&quot;changedmaximum_life&quot; type=&quot;script&quot;&gt;\n    player&#46;life = player&#46;current_life + &quot;/&quot; + player&#46;maximum_life\n  &lt;/attr&gt;\n  &lt;attr name=&quot;damage&quot; type=&quot;int&quot;&gt;50&lt;/attr&gt;\n  &lt;attr name=&quot;speed&quot; type=&quot;int&quot;&gt;50&lt;/attr&gt;\n  &lt;attr name=&quot;statusattributes&quot; type=&quot;simplestringdictionary&quot;&gt;life = Life&#58; !; damage = Damage&#58; !; speed = Speed&#58; !&lt;/attr&gt;\n&lt;/object&gt;\n\n&lt;object name=&quot;orc&quot;&gt;\n  &lt;attr name=&quot;current_life&quot; type=&quot;int&quot;&gt;500&lt;/attr&gt;\n  &lt;attr name=&quot;changedcurrent_life&quot; type=&quot;script&quot;&gt;\n    orc&#46;life = orc&#46;current_life + &quot;/&quot; + orc&#46;maximum_life\n  &lt;/attr&gt;\n  &lt;attr name=&quot;maximum_life&quot; type=&quot;int&quot;&gt;500&lt;/attr&gt;\n  &lt;attr name=&quot;damage&quot; type=&quot;int&quot;&gt;25&lt;/attr&gt;\n  &lt;attr name=&quot;speed&quot; type=&quot;int&quot;&gt;50&lt;/attr&gt;\n  &lt;attr name=&quot;dead&quot; type=&quot;boolean&quot;&gt;false&lt;/attr&gt;\n  &lt;attr name=&quot;displayverbs&quot; type=&quot;simplestringlist&quot;&gt;fight&lt;/attr&gt;\n  &lt;attr name=&quot;fight&quot; type=&quot;script&quot;&gt;\n    if (not orc&#46;dead) {\n      game&#46;battle_round = game&#46;battle_round + 1\n      msg (&quot;Your Life&#58; &quot; + player&#46;life)\n      msg (&quot;Orc's Life&#58; &quot; + orc&#46;life)\n      msg (&quot;Battle Round&#58; &quot; + game&#46;battle_round)\n      if (player&#46;speed &gt; orc&#46;speed) {\n        orc&#46;current_life = orc&#46;current_life - player&#46;damage\n        msg (&quot;You attack and damage the orc for &quot; + player&#46;damage + &quot;, leaving the orc with only &quot; + orc&#46;current_life + &quot; life left&#46;&quot;)\n        if (orc&#46;current_life &lt;= 0) {\n          orc&#46;dead = true\n          msg (&quot;You killed the orc!&quot;)\n          game&#46;battle_round = 0\n        } else {\n          player&#46;current_life = player&#46;current_life - orc&#46;damage\n          msg (&quot;The orc attacks, damaging you for &quot; + orc&#46;damage + &quot;, leaving you with only &quot; + player&#46;current_life + &quot; life left&#46;&quot;)\n          if (player&#46;current_life &lt;= 0) {\n            msg (&quot;You were killed by the orc&#46;&quot;)\n            msg (&quot;GAME OVER&quot;)\n            finish\n          } else {\n            do (orc, &quot;fight&quot;)\n          }\n        }\n      } else if (player&#46;speed &lt; orc&#46;speed) {\n        player&#46;current_life = player&#46;current_life - orc&#46;damage\n        msg (&quot;The orc attacks and damages you for &quot; + orc&#46;damage + &quot;, leaving the you with only &quot; + player&#46;current_life + &quot; life left&#46;&quot;)\n        if (player&#46;current_life &lt;= 0) {\n          msg (&quot;You were killed by the orc&#46;&quot;)\n          msg (&quot;GAME OVER&quot;)\n          finish\n        } else {\n          orc&#46;current_life = orc&#46;current_life - player&#46;damage\n          msg (&quot;You attack the orc, damaging it for &quot; + player&#46;damage + &quot;, leaving it with only &quot; + orc&#46;current_life + &quot; life left&#46;&quot;)\n          if (orc&#46;current_life &lt;= 0) {\n            orc&#46;dead = true\n            msg (&quot;You killed the orc!&quot;)\n            game&#46;battle_round = 0\n          } else {\n            do (orc, &quot;fight&quot;)\n          }\n        }\n      } else {\n        if (RandomChance (50)) {\n          orc&#46;current_life = orc&#46;current_life - player&#46;damage\n          msg (&quot;You attack and damage the orc for &quot; + player&#46;damage + &quot;, leaving the orc with only &quot; + orc&#46;current_life + &quot; life left&#46;&quot;)\n          if (orc&#46;current_life &lt;= 0) {\n            orc&#46;dead = true\n            msg (&quot;You killed the orc!&quot;)\n            game&#46;battle_round = 0\n          } else {\n            player&#46;current_life = player&#46;current_life - orc&#46;damage\n            msg (&quot;The orc attacks, damaging you for &quot; + orc&#46;damage + &quot;, leaving you with only &quot; + player&#46;current_life + &quot; life left&#46;&quot;)\n            if (player&#46;current_life &lt;= 0) {\n              msg (&quot;You were killed by the orc&#46;&quot;)\n              msg (&quot;GAME OVER&quot;)\n              finish\n            } else {\n              do (orc, &quot;fight&quot;)\n            }\n          }\n        } else {\n          player&#46;current_life = player&#46;current_life - orc&#46;damage\n          msg (&quot;The orc attacks and damages you for &quot; + orc&#46;damage + &quot;, leaving the you with only &quot; + player&#46;current_life + &quot; life left&#46;&quot;)\n          if (player&#46;current_life &lt;= 0) {\n            msg (&quot;You were killed by the orc&#46;&quot;)\n            msg (&quot;GAME OVER&quot;)\n            finish\n          } else {\n            orc&#46;current_life = orc&#46;current_life - player&#46;damage\n            msg (&quot;You attack the orc, damaging it for &quot; + player&#46;damage + &quot;, leaving it with only &quot; + orc&#46;current_life + &quot; life left&#46;&quot;)\n            if (orc&#46;current_life &lt;= 0) {\n              orc&#46;dead = true\n              msg (&quot;You killed the orc!&quot;)\n              game&#46;battle_round = 0\n            } else {\n              do (orc, &quot;fight&quot;)\n            }\n          }\n        }\n      }\n    } else {\n      msg (&quot;The orc is already dead, silly&#46;&quot;)\n    }\n  &lt;/attr&gt;\n&lt;/object&gt;\n\n&lt;verb&gt;\n  &lt;property&gt;fight&lt;/property&gt;\n  &lt;pattern&gt;fight&lt;/pattern&gt;\n  &lt;defaultexpression&gt;You can't fight that!&lt;/defaultexpression&gt;\n&lt;/verb&gt;[/code:1ovbqzxs]\n\nMy apologies if the code scares you, but it'd take so much longer to do all of this for you through instructions via using the GUI~Editor's Scripts (add new scripts), unfortunately.\n\nwe can help you do all of this through the GUI~Editor, just ask for help.[/quote:1ovbqzxs]\nI'm looking for something which displays Images, weapon stats that affect the Player Stats as well as the opponent/opponents that you're facing off against. Armour Points, health, regenerating health, speed, dodging ability, and a lot more stuff similar to that.",
      "EditableFormat": "bbcode",
      "HTML": "<blockquote><cite>HegemonKhan wrote:</cite>we can help you with something more simple, I was just providing my big combat code, for you to look at and see some ideas and get a feel-look for how it can be done.<br/><br/>we need some instructions though in order to help you, what do you want with your combat system? tell us the details of what and how you want your combat to work? what aspects or features do you want with it? What game mechanics do you want involved? etc etc etc.<br/><br/>---------<br/><br/>here's a very simple dynamic (based upon 'speed' Attribute as to who goes first, both you and the enemy get a single turn per battle round) turn-based combat, example:<br/><br/>(I used some redundent code, as I think it's easy for you to see it all in one place, than for me to split it up in separate places)<br/><br/>(when reading code, you literally read it just like a book, from top down, and hopefully you can understand it and follow along with it. ask if you want any parts of the code explained!)<br/><br/><pre><code>&lt;game name=&quot;xxx&quot;&gt;<br/>  &lt;attr name=&quot;battle_round&quot; type=&quot;int&quot;&gt;0&lt;/attr&gt;<br/>&lt;/game&gt;<br/><br/>&lt;object name=&quot;player&quot;&gt;<br/>  &lt;attr name=&quot;life&quot; type=&quot;string&quot;&gt;999/999&lt;attr&gt;<br/>  &lt;attr name=&quot;current_life&quot; type=&quot;int&quot;&gt;999&lt;/attr&gt;<br/>  &lt;attr name=&quot;changedcurrent_life&quot; type=&quot;script&quot;&gt;<br/>    player&#46;life = player&#46;current_life + &quot;/&quot; + player&#46;maximum_life<br/>  &lt;/attr&gt;<br/>  &lt;attr name=&quot;maximum_life&quot; type=&quot;int&quot;&gt;999&lt;/attr&gt;<br/>  &lt;attr name=&quot;changedmaximum_life&quot; type=&quot;script&quot;&gt;<br/>    player&#46;life = player&#46;current_life + &quot;/&quot; + player&#46;maximum_life<br/>  &lt;/attr&gt;<br/>  &lt;attr name=&quot;damage&quot; type=&quot;int&quot;&gt;50&lt;/attr&gt;<br/>  &lt;attr name=&quot;speed&quot; type=&quot;int&quot;&gt;50&lt;/attr&gt;<br/>  &lt;attr name=&quot;statusattributes&quot; type=&quot;simplestringdictionary&quot;&gt;life = Life&#58; !; damage = Damage&#58; !; speed = Speed&#58; !&lt;/attr&gt;<br/>&lt;/object&gt;<br/><br/>&lt;object name=&quot;orc&quot;&gt;<br/>  &lt;attr name=&quot;current_life&quot; type=&quot;int&quot;&gt;500&lt;/attr&gt;<br/>  &lt;attr name=&quot;changedcurrent_life&quot; type=&quot;script&quot;&gt;<br/>    orc&#46;life = orc&#46;current_life + &quot;/&quot; + orc&#46;maximum_life<br/>  &lt;/attr&gt;<br/>  &lt;attr name=&quot;maximum_life&quot; type=&quot;int&quot;&gt;500&lt;/attr&gt;<br/>  &lt;attr name=&quot;damage&quot; type=&quot;int&quot;&gt;25&lt;/attr&gt;<br/>  &lt;attr name=&quot;speed&quot; type=&quot;int&quot;&gt;50&lt;/attr&gt;<br/>  &lt;attr name=&quot;dead&quot; type=&quot;boolean&quot;&gt;false&lt;/attr&gt;<br/>  &lt;attr name=&quot;displayverbs&quot; type=&quot;simplestringlist&quot;&gt;fight&lt;/attr&gt;<br/>  &lt;attr name=&quot;fight&quot; type=&quot;script&quot;&gt;<br/>    if (not orc&#46;dead) {<br/>      game&#46;battle_round = game&#46;battle_round + 1<br/>      msg (&quot;Your Life&#58; &quot; + player&#46;life)<br/>      msg (&quot;Orc's Life&#58; &quot; + orc&#46;life)<br/>      msg (&quot;Battle Round&#58; &quot; + game&#46;battle_round)<br/>      if (player&#46;speed &gt; orc&#46;speed) {<br/>        orc&#46;current_life = orc&#46;current_life - player&#46;damage<br/>        msg (&quot;You attack and damage the orc for &quot; + player&#46;damage + &quot;, leaving the orc with only &quot; + orc&#46;current_life + &quot; life left&#46;&quot;)<br/>        if (orc&#46;current_life &lt;= 0) {<br/>          orc&#46;dead = true<br/>          msg (&quot;You killed the orc!&quot;)<br/>          game&#46;battle_round = 0<br/>        } else {<br/>          player&#46;current_life = player&#46;current_life - orc&#46;damage<br/>          msg (&quot;The orc attacks, damaging you for &quot; + orc&#46;damage + &quot;, leaving you with only &quot; + player&#46;current_life + &quot; life left&#46;&quot;)<br/>          if (player&#46;current_life &lt;= 0) {<br/>            msg (&quot;You were killed by the orc&#46;&quot;)<br/>            msg (&quot;GAME OVER&quot;)<br/>            finish<br/>          } else {<br/>            do (orc, &quot;fight&quot;)<br/>          }<br/>        }<br/>      } else if (player&#46;speed &lt; orc&#46;speed) {<br/>        player&#46;current_life = player&#46;current_life - orc&#46;damage<br/>        msg (&quot;The orc attacks and damages you for &quot; + orc&#46;damage + &quot;, leaving the you with only &quot; + player&#46;current_life + &quot; life left&#46;&quot;)<br/>        if (player&#46;current_life &lt;= 0) {<br/>          msg (&quot;You were killed by the orc&#46;&quot;)<br/>          msg (&quot;GAME OVER&quot;)<br/>          finish<br/>        } else {<br/>          orc&#46;current_life = orc&#46;current_life - player&#46;damage<br/>          msg (&quot;You attack the orc, damaging it for &quot; + player&#46;damage + &quot;, leaving it with only &quot; + orc&#46;current_life + &quot; life left&#46;&quot;)<br/>          if (orc&#46;current_life &lt;= 0) {<br/>            orc&#46;dead = true<br/>            msg (&quot;You killed the orc!&quot;)<br/>            game&#46;battle_round = 0<br/>          } else {<br/>            do (orc, &quot;fight&quot;)<br/>          }<br/>        }<br/>      } else {<br/>        if (RandomChance (50)) {<br/>          orc&#46;current_life = orc&#46;current_life - player&#46;damage<br/>          msg (&quot;You attack and damage the orc for &quot; + player&#46;damage + &quot;, leaving the orc with only &quot; + orc&#46;current_life + &quot; life left&#46;&quot;)<br/>          if (orc&#46;current_life &lt;= 0) {<br/>            orc&#46;dead = true<br/>            msg (&quot;You killed the orc!&quot;)<br/>            game&#46;battle_round = 0<br/>          } else {<br/>            player&#46;current_life = player&#46;current_life - orc&#46;damage<br/>            msg (&quot;The orc attacks, damaging you for &quot; + orc&#46;damage + &quot;, leaving you with only &quot; + player&#46;current_life + &quot; life left&#46;&quot;)<br/>            if (player&#46;current_life &lt;= 0) {<br/>              msg (&quot;You were killed by the orc&#46;&quot;)<br/>              msg (&quot;GAME OVER&quot;)<br/>              finish<br/>            } else {<br/>              do (orc, &quot;fight&quot;)<br/>            }<br/>          }<br/>        } else {<br/>          player&#46;current_life = player&#46;current_life - orc&#46;damage<br/>          msg (&quot;The orc attacks and damages you for &quot; + orc&#46;damage + &quot;, leaving the you with only &quot; + player&#46;current_life + &quot; life left&#46;&quot;)<br/>          if (player&#46;current_life &lt;= 0) {<br/>            msg (&quot;You were killed by the orc&#46;&quot;)<br/>            msg (&quot;GAME OVER&quot;)<br/>            finish<br/>          } else {<br/>            orc&#46;current_life = orc&#46;current_life - player&#46;damage<br/>            msg (&quot;You attack the orc, damaging it for &quot; + player&#46;damage + &quot;, leaving it with only &quot; + orc&#46;current_life + &quot; life left&#46;&quot;)<br/>            if (orc&#46;current_life &lt;= 0) {<br/>              orc&#46;dead = true<br/>              msg (&quot;You killed the orc!&quot;)<br/>              game&#46;battle_round = 0<br/>            } else {<br/>              do (orc, &quot;fight&quot;)<br/>            }<br/>          }<br/>        }<br/>      }<br/>    } else {<br/>      msg (&quot;The orc is already dead, silly&#46;&quot;)<br/>    }<br/>  &lt;/attr&gt;<br/>&lt;/object&gt;<br/><br/>&lt;verb&gt;<br/>  &lt;property&gt;fight&lt;/property&gt;<br/>  &lt;pattern&gt;fight&lt;/pattern&gt;<br/>  &lt;defaultexpression&gt;You can't fight that!&lt;/defaultexpression&gt;<br/>&lt;/verb&gt;</code></pre><br/><br/>My apologies if the code scares you, but it'd take so much longer to do all of this for you through instructions via using the GUI~Editor's Scripts (add new scripts), unfortunately.<br/><br/>we can help you do all of this through the GUI~Editor, just ask for help.</blockquote><br/>I'm looking for something which displays Images, weapon stats that affect the Player Stats as well as the opponent/opponents that you're facing off against. Armour Points, health, regenerating health, speed, dodging ability, and a lot more stuff similar to that.",
      "PostDate": "2015-12-08T23:51:34+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "39359",
      "UserId": 0,
      "Username": "HegemonKhan",
      "UserAvatar": null,
      "UserGravatar": "a96cf34d8d97c57de38f54ee22b1759b",
      "EditableText": "unfortunately, that's a lot of very advanced and complex stuff, it's going to take quite some time to teach it to you (we can create something for you to use, of course, but it's better if you can learn how to do it, as that way you can use that knowledge for many other things that you'll want to do).\n\nThis will take us some time, (longer for me who's not as good at coding or worse it's beyond my ability lol, whereas the others who are good at coding, can get this created faster and better for you), as you want help with developing an entire combat system. We'll need more details as well, how do you want us to implement those stats and features (like regenerating health), and etc etc etc.\n\n---------\n\nall that said,\n\nyou'd be better off, learning how to use Pixie's Combat Code~Library, as he~she has some of this stuff already done for us.",
      "EditableFormat": "bbcode",
      "HTML": "unfortunately, that's a lot of very advanced and complex stuff, it's going to take quite some time to teach it to you (we can create something for you to use, of course, but it's better if you can learn how to do it, as that way you can use that knowledge for many other things that you'll want to do).<br/><br/>This will take us some time, (longer for me who's not as good at coding or worse it's beyond my ability lol, whereas the others who are good at coding, can get this created faster and better for you), as you want help with developing an entire combat system. We'll need more details as well, how do you want us to implement those stats and features (like regenerating health), and etc etc etc.<br/><br/>---------<br/><br/>all that said,<br/><br/>you'd be better off, learning how to use Pixie's Combat Code~Library, as he~she has some of this stuff already done for us.",
      "PostDate": "2015-12-09T05:38:06+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "39360",
      "UserId": 0,
      "Username": "XanMag",
      "UserAvatar": "7161_1436827710.jpg",
      "UserGravatar": "4b45a3afd18077f76f6569225c422bdb",
      "EditableText": "Never contract 'who' and 'are', HK!  <!-- s:lol: --><img src=\"{SMILIES_PATH}/icon_lol.gif\" alt=\":lol:\" title=\"Laughing\" /><!-- s:lol: -->",
      "EditableFormat": "bbcode",
      "HTML": "Never contract 'who' and 'are', HK!  <!-- s:lol: --><img src=\"{SMILIES_PATH}/icon_lol.gif\" alt=\":lol:\" title=\"Laughing\" /><!-- s:lol: -->",
      "PostDate": "2015-12-09T05:42:40+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "39361",
      "UserId": 0,
      "Username": "HegemonKhan",
      "UserAvatar": null,
      "UserGravatar": "a96cf34d8d97c57de38f54ee22b1759b",
      "EditableText": "where did I do that? laughs... I'll change it... never even realized... the contraction comes to that... oops!\n\nHK edit: found at least one of them... do I have more?",
      "EditableFormat": "bbcode",
      "HTML": "where did I do that? laughs... I'll change it... never even realized... the contraction comes to that... oops!<br/><br/>HK edit: found at least one of them... do I have more?",
      "PostDate": "2015-12-09T05:46:07+00:00",
      "LastEditDate": null
    }
  ]
}
