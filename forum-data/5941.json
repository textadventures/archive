{
  "Topic": {
    "TopicId": "5941",
    "ForumId": "10",
    "Title": "Announcing the presence of a \"patrolling\" character?",
    "LastUpdated": "2016-02-09T03:48:24+00:00",
    "ReplyCount": 6
  },
  "Posts": [
    {
      "PostId": "41128",
      "UserId": 0,
      "Username": "benn",
      "UserAvatar": null,
      "UserGravatar": "f273c5eba2047a83fc7777c177ee5570",
      "EditableText": "Hi. I have a quick dumb question involving a character that moves on their own. This might be an easy fix but I'm not getting the result I'm looking for. \n\nSo I've set up a turn script that's working well enough: every 3 turns, the character moves to the next room, cycling through a loop of 8 ultimately. And I have a message pop up as this character exits a room, leaving the player. But nothing kind of announcing the character's arrival or presence initially. Whether they enter a room I'm in, or vice versa, they're only just ever listed in the &quot;places &amp; objects&quot; tab.\n\nIdeally, I'd like a 'first time' sort of script, where I first provide a sort of more detailed intro/description, but then have it just say 'hey, this character's there too' after that. I tried setting up something like that through the same script I had moving them, but that made it so I got their intro every time the player ran into them in each room. I'd also like to have it set that same way so if they're already in a room the player's entering (not based on the patrolling character making the move essentially). Is there an easy way to have that description pop up once across the board, the first instance they &amp; the player share the same room, no matter which room that happens to be? I feel like I'm missing something kind of obvious. Thanks in advance!",
      "EditableFormat": "bbcode",
      "HTML": "Hi. I have a quick dumb question involving a character that moves on their own. This might be an easy fix but I'm not getting the result I'm looking for. <br/><br/>So I've set up a turn script that's working well enough: every 3 turns, the character moves to the next room, cycling through a loop of 8 ultimately. And I have a message pop up as this character exits a room, leaving the player. But nothing kind of announcing the character's arrival or presence initially. Whether they enter a room I'm in, or vice versa, they're only just ever listed in the &quot;places &amp; objects&quot; tab.<br/><br/>Ideally, I'd like a 'first time' sort of script, where I first provide a sort of more detailed intro/description, but then have it just say 'hey, this character's there too' after that. I tried setting up something like that through the same script I had moving them, but that made it so I got their intro every time the player ran into them in each room. I'd also like to have it set that same way so if they're already in a room the player's entering (not based on the patrolling character making the move essentially). Is there an easy way to have that description pop up once across the board, the first instance they &amp; the player share the same room, no matter which room that happens to be? I feel like I'm missing something kind of obvious. Thanks in advance!",
      "PostDate": "2016-02-08T02:08:50+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "41129",
      "UserId": 0,
      "Username": "XanMag",
      "UserAvatar": "7161_1436827710.jpg",
      "UserGravatar": "4b45a3afd18077f76f6569225c422bdb",
      "EditableText": "I have no clue if this will be helpful or not.  This is one of the situations I started working on in my tutorial game and got it working but that was months ago.  It's one of the last rooms I have yet to describe fully, so...\n\nI'll just drop this here and you can take a look.  I hope it is helpful.\n\n[code:1kjbbh65]  &lt;object name=&quot;patrolling guard room 1&quot;&gt;\n    &lt;inherit name=&quot;editor_room&quot; /&gt;\n    &lt;enter type=&quot;script&quot;&gt;\n    &lt;/enter&gt;\n    &lt;firstenter type=&quot;script&quot;&gt;\n      msg (&quot;An alarm sounds when you enter the room&#46;  A guard will be here shortly&#46;  Better get a move on!&quot;)\n      SetObjectFlagOn (Magoo, &quot;patrolled&quot;)\n      guarding\n    &lt;/firstenter&gt;\n    &lt;exit alias=&quot;southeast&quot; to=&quot;patrolling guard room 2&quot;&gt;\n      &lt;inherit name=&quot;southeastdirection&quot; /&gt;\n    &lt;/exit&gt;\n    &lt;exit alias=&quot;southwest&quot; to=&quot;patrolling guard room 3&quot;&gt;\n      &lt;inherit name=&quot;southwestdirection&quot; /&gt;\n    &lt;/exit&gt;\n    &lt;command name=&quot;explain guards cmd&quot;&gt;\n      &lt;pattern&gt;explain; explain the room; explain room&lt;/pattern&gt;\n      &lt;script&gt;&lt;!&#91;CDATA&#91;\n        msg (&quot;I'll let this stand alone&#46;  Hopefully you can make sense of it from exploring the GUI&#46;&lt;br/&gt;&lt;br/&gt;I have used a combination of flags set on the guards and Turn Script which moves the guards to the connected rooms&#46;&lt;br/&gt;&lt;br/&gt;Just be sure to look at the flags and the 'guarding TS' in the tree of things to the left of the GUI&#46;&lt;br/&gt;&lt;br/&gt;Please ask if you have any questions&#46;&quot;)\n      &#93;&#93;&gt;&lt;/script&gt;\n    &lt;/command&gt;\n    &lt;object name=&quot;Magoo&quot;&gt;\n      &lt;inherit name=&quot;editor_object&quot; /&gt;\n      &lt;inherit name=&quot;editor_player&quot; /&gt;\n      &lt;inherit name=&quot;namedmale&quot; /&gt;\n      &lt;attr name=&quot;pov_look&quot;&gt;You're Magoo&#46;  A simple being trapped in a test game&#46;&lt;/attr&gt;\n      &lt;look type=&quot;script&quot;&gt;\n        if (game&#46;pov = Xanadu) {\n          msg (&quot;Holy moly!  That looks exactly like you!  To take control of Magoo, just type 'switch to Magoo'&#46;&quot;)\n        }\n        else {\n          msg (&quot;You are a simple being trapped in a test game&#46;&quot;)\n        }\n      &lt;/look&gt;\n    &lt;/object&gt;\n  &lt;/object&gt;\n  &lt;object name=&quot;patrolling guard room 2&quot;&gt;\n    &lt;inherit name=&quot;editor_room&quot; /&gt;\n    &lt;exit alias=&quot;northwest&quot; to=&quot;patrolling guard room 1&quot;&gt;\n      &lt;inherit name=&quot;northwestdirection&quot; /&gt;\n    &lt;/exit&gt;\n    &lt;exit alias=&quot;west&quot; to=&quot;patrolling guard room 3&quot;&gt;\n      &lt;inherit name=&quot;westdirection&quot; /&gt;\n    &lt;/exit&gt;\n    &lt;command name=&quot;explain guards cmd1&quot;&gt;\n      &lt;pattern&gt;explain; explain the room; explain room&lt;/pattern&gt;\n      &lt;script&gt;&lt;!&#91;CDATA&#91;\n        msg (&quot;I'll let this stand alone&#46;  Hopefully you can make sense of it from exploring the GUI&#46;&lt;br/&gt;&lt;br/&gt;I have used a combination of flags set on the guards and Turn Script which moves the guards to the connected rooms&#46;&lt;br/&gt;&lt;br/&gt;Just be sure to look at the flags and the 'guarding TS' in the tree of things to the left of the GUI&#46;&lt;br/&gt;&lt;br/&gt;Please ask if you have any questions&#46;&quot;)\n      &#93;&#93;&gt;&lt;/script&gt;\n    &lt;/command&gt;\n  &lt;/object&gt;\n  &lt;object name=&quot;patrolling guard room 3&quot;&gt;\n    &lt;inherit name=&quot;editor_room&quot; /&gt;\n    &lt;exit alias=&quot;east&quot; to=&quot;patrolling guard room 2&quot;&gt;\n      &lt;inherit name=&quot;eastdirection&quot; /&gt;\n    &lt;/exit&gt;\n    &lt;exit alias=&quot;northeast&quot; to=&quot;patrolling guard room 1&quot;&gt;\n      &lt;inherit name=&quot;northeastdirection&quot; /&gt;\n    &lt;/exit&gt;\n    &lt;command name=&quot;explain guards cmd2&quot;&gt;\n      &lt;pattern&gt;explain; explain the room; explain room&lt;/pattern&gt;\n      &lt;script&gt;&lt;!&#91;CDATA&#91;\n        msg (&quot;I'll let this stand alone&#46;  Hopefully you can make sense of it from exploring the GUI&#46;&lt;br/&gt;&lt;br/&gt;I have used a combination of flags set on the guards and Turn Script which moves the guards to the connected rooms&#46;&lt;br/&gt;&lt;br/&gt;Just be sure to look at the flags and the 'guarding TS' in the tree of things to the left of the GUI&#46;&lt;br/&gt;&lt;br/&gt;Please ask if you have any questions&#46;&quot;)\n      &#93;&#93;&gt;&lt;/script&gt;\n    &lt;/command&gt;\n  &lt;/object&gt;\n  &lt;turnscript name=&quot;guarding TS&quot;&gt;\n    &lt;enabled /&gt;\n    &lt;script&gt;\n      if (ListContains(ScopeVisible(), guard)) {\n        msg (&quot;You and the guard have happened to stumble into the same room&#46;  He looks incensed that he has been put to work&#46;  He takes his frustration out on you with his billy club&#46;  He pummels you to death&#46;  Sorry&#46;&quot;)\n        finish\n      }\n      if (GetBoolean(Magoo, &quot;patrolled&quot;)) {\n        if (GetBoolean(guard, &quot;room1&quot;)) {\n          if (game&#46;pov&#46;parent = patrolling guard room 2) {\n            msg (&quot;You look over your shoulder to the northwest and into patrol room 1 and you see the guard patrolling that room&#46;&quot;)\n          }\n          else if (game&#46;pov&#46;parent = patrolling guard room 3) {\n            msg (&quot;You look over your shoulder to the northeast and into patrol room 1 and you see the guard patrolling that room&#46;&quot;)\n          }\n        }\n        else if (GetBoolean(guard, &quot;room2&quot;)) {\n          if (game&#46;pov&#46;parent = patrolling guard room 1) {\n            msg (&quot;You look off to your southeast and see a nasty looking guard patrolling guard room 2&#46;&quot;)\n          }\n          else if (game&#46;pov&#46;parent = patrolling guard room 3) {\n            msg (&quot;You hear some noise to the east and you take a look that way&#46;  You see the guard loitering in room 2&#46;&quot;)\n          }\n        }\n        else if (GetBoolean(guard, &quot;room3&quot;)) {\n          if (game&#46;pov&#46;parent = patrolling guard room 2) {\n            msg (&quot;The guard is certainly making some noise off to the west as he searches patrol room 3 for you&#46;&quot;)\n          }\n          else if (game&#46;pov&#46;parent = patrolling guard room 1) {\n            msg (&quot;As you dawdle in room 1, the guard is frantically searching for you in patrol room 3 to your southwest&#46;&quot;)\n          }\n        }\n      }\n    &lt;/script&gt;\n  &lt;/turnscript&gt;\n  &lt;command name=&quot;look guard cmd&quot;&gt;\n    &lt;pattern&gt;look at guard; x guard&lt;/pattern&gt;\n    &lt;script&gt;\n      if (GetBoolean(guard, &quot;room1&quot;)) {\n        msg (&quot;You look carefully into room 1 where you believe the guard to be&#46;&#46;&#46; He is large and angry&#46;  He is wielding a fearsome looking billy club&#46;&quot;)\n      }\n      else if (GetBoolean(guard, &quot;room2&quot;)) {\n        msg (&quot;You look carefully into room 2 where you believe the guard to be&#46;&#46;&#46; He is large and angry&#46;  He is wielding a nasty and heavy billy club&#46;&quot;)\n      }\n      else if (GetBoolean(guard, &quot;room3&quot;)) {\n        msg (&quot;You look carefully into room 3 where you believe the guard to be&#46;&#46;&#46; He is large and angry&#46;  He is weilding a fearsome looking billy club&#46;&quot;)\n      }\n    &lt;/script&gt;[/code:1kjbbh65]\n\nAnd here is the 'guarding' function.\n\n[code:1kjbbh65]SetTurnTimeout (1) {\n  MoveObject (guard, patrolling guard room 1)\n  SetObjectFlagOn (guard, &quot;room1&quot;)\n  SetObjectFlagOff (guard, &quot;room3&quot;)\n  SetTurnTimeout (2) {\n    MoveObject (guard, patrolling guard room 2)\n    SetObjectFlagOn (guard, &quot;room2&quot;)\n    SetObjectFlagOff (guard, &quot;room1&quot;)\n    SetTurnTimeout (2) {\n      MoveObject (guard, patrolling guard room 3)\n      SetObjectFlagOn (guard, &quot;room3&quot;)\n      SetObjectFlagOff (guard, &quot;room2&quot;)\n      SetTurnTimeout (2) {\n        MoveObject (guard, patrolling guard room 1)\n        guarding\n      }\n    }\n  }\n}[/code:1kjbbh65]\n\nIf you want me to hack an explanation out of that, I would be glad to do it, but not tonight!  It's late.  I've had a few drinks.  GO BRONCOS!\n\nIn the meantime, if you want a closer look, I just posted to the game announcements section of the forum, the .aslx file for the entire tutorial to date.  You can download that and take a look in the GUI at all the code mess above if that makes it easier.\n\nAnd good luck!",
      "EditableFormat": "bbcode",
      "HTML": "I have no clue if this will be helpful or not.  This is one of the situations I started working on in my tutorial game and got it working but that was months ago.  It's one of the last rooms I have yet to describe fully, so...<br/><br/>I'll just drop this here and you can take a look.  I hope it is helpful.<br/><br/><pre><code>  &lt;object name=&quot;patrolling guard room 1&quot;&gt;<br/>    &lt;inherit name=&quot;editor_room&quot; /&gt;<br/>    &lt;enter type=&quot;script&quot;&gt;<br/>    &lt;/enter&gt;<br/>    &lt;firstenter type=&quot;script&quot;&gt;<br/>      msg (&quot;An alarm sounds when you enter the room&#46;  A guard will be here shortly&#46;  Better get a move on!&quot;)<br/>      SetObjectFlagOn (Magoo, &quot;patrolled&quot;)<br/>      guarding<br/>    &lt;/firstenter&gt;<br/>    &lt;exit alias=&quot;southeast&quot; to=&quot;patrolling guard room 2&quot;&gt;<br/>      &lt;inherit name=&quot;southeastdirection&quot; /&gt;<br/>    &lt;/exit&gt;<br/>    &lt;exit alias=&quot;southwest&quot; to=&quot;patrolling guard room 3&quot;&gt;<br/>      &lt;inherit name=&quot;southwestdirection&quot; /&gt;<br/>    &lt;/exit&gt;<br/>    &lt;command name=&quot;explain guards cmd&quot;&gt;<br/>      &lt;pattern&gt;explain; explain the room; explain room&lt;/pattern&gt;<br/>      &lt;script&gt;&lt;!&#91;CDATA&#91;<br/>        msg (&quot;I'll let this stand alone&#46;  Hopefully you can make sense of it from exploring the GUI&#46;&lt;br/&gt;&lt;br/&gt;I have used a combination of flags set on the guards and Turn Script which moves the guards to the connected rooms&#46;&lt;br/&gt;&lt;br/&gt;Just be sure to look at the flags and the 'guarding TS' in the tree of things to the left of the GUI&#46;&lt;br/&gt;&lt;br/&gt;Please ask if you have any questions&#46;&quot;)<br/>      &#93;&#93;&gt;&lt;/script&gt;<br/>    &lt;/command&gt;<br/>    &lt;object name=&quot;Magoo&quot;&gt;<br/>      &lt;inherit name=&quot;editor_object&quot; /&gt;<br/>      &lt;inherit name=&quot;editor_player&quot; /&gt;<br/>      &lt;inherit name=&quot;namedmale&quot; /&gt;<br/>      &lt;attr name=&quot;pov_look&quot;&gt;You're Magoo&#46;  A simple being trapped in a test game&#46;&lt;/attr&gt;<br/>      &lt;look type=&quot;script&quot;&gt;<br/>        if (game&#46;pov = Xanadu) {<br/>          msg (&quot;Holy moly!  That looks exactly like you!  To take control of Magoo, just type 'switch to Magoo'&#46;&quot;)<br/>        }<br/>        else {<br/>          msg (&quot;You are a simple being trapped in a test game&#46;&quot;)<br/>        }<br/>      &lt;/look&gt;<br/>    &lt;/object&gt;<br/>  &lt;/object&gt;<br/>  &lt;object name=&quot;patrolling guard room 2&quot;&gt;<br/>    &lt;inherit name=&quot;editor_room&quot; /&gt;<br/>    &lt;exit alias=&quot;northwest&quot; to=&quot;patrolling guard room 1&quot;&gt;<br/>      &lt;inherit name=&quot;northwestdirection&quot; /&gt;<br/>    &lt;/exit&gt;<br/>    &lt;exit alias=&quot;west&quot; to=&quot;patrolling guard room 3&quot;&gt;<br/>      &lt;inherit name=&quot;westdirection&quot; /&gt;<br/>    &lt;/exit&gt;<br/>    &lt;command name=&quot;explain guards cmd1&quot;&gt;<br/>      &lt;pattern&gt;explain; explain the room; explain room&lt;/pattern&gt;<br/>      &lt;script&gt;&lt;!&#91;CDATA&#91;<br/>        msg (&quot;I'll let this stand alone&#46;  Hopefully you can make sense of it from exploring the GUI&#46;&lt;br/&gt;&lt;br/&gt;I have used a combination of flags set on the guards and Turn Script which moves the guards to the connected rooms&#46;&lt;br/&gt;&lt;br/&gt;Just be sure to look at the flags and the 'guarding TS' in the tree of things to the left of the GUI&#46;&lt;br/&gt;&lt;br/&gt;Please ask if you have any questions&#46;&quot;)<br/>      &#93;&#93;&gt;&lt;/script&gt;<br/>    &lt;/command&gt;<br/>  &lt;/object&gt;<br/>  &lt;object name=&quot;patrolling guard room 3&quot;&gt;<br/>    &lt;inherit name=&quot;editor_room&quot; /&gt;<br/>    &lt;exit alias=&quot;east&quot; to=&quot;patrolling guard room 2&quot;&gt;<br/>      &lt;inherit name=&quot;eastdirection&quot; /&gt;<br/>    &lt;/exit&gt;<br/>    &lt;exit alias=&quot;northeast&quot; to=&quot;patrolling guard room 1&quot;&gt;<br/>      &lt;inherit name=&quot;northeastdirection&quot; /&gt;<br/>    &lt;/exit&gt;<br/>    &lt;command name=&quot;explain guards cmd2&quot;&gt;<br/>      &lt;pattern&gt;explain; explain the room; explain room&lt;/pattern&gt;<br/>      &lt;script&gt;&lt;!&#91;CDATA&#91;<br/>        msg (&quot;I'll let this stand alone&#46;  Hopefully you can make sense of it from exploring the GUI&#46;&lt;br/&gt;&lt;br/&gt;I have used a combination of flags set on the guards and Turn Script which moves the guards to the connected rooms&#46;&lt;br/&gt;&lt;br/&gt;Just be sure to look at the flags and the 'guarding TS' in the tree of things to the left of the GUI&#46;&lt;br/&gt;&lt;br/&gt;Please ask if you have any questions&#46;&quot;)<br/>      &#93;&#93;&gt;&lt;/script&gt;<br/>    &lt;/command&gt;<br/>  &lt;/object&gt;<br/>  &lt;turnscript name=&quot;guarding TS&quot;&gt;<br/>    &lt;enabled /&gt;<br/>    &lt;script&gt;<br/>      if (ListContains(ScopeVisible(), guard)) {<br/>        msg (&quot;You and the guard have happened to stumble into the same room&#46;  He looks incensed that he has been put to work&#46;  He takes his frustration out on you with his billy club&#46;  He pummels you to death&#46;  Sorry&#46;&quot;)<br/>        finish<br/>      }<br/>      if (GetBoolean(Magoo, &quot;patrolled&quot;)) {<br/>        if (GetBoolean(guard, &quot;room1&quot;)) {<br/>          if (game&#46;pov&#46;parent = patrolling guard room 2) {<br/>            msg (&quot;You look over your shoulder to the northwest and into patrol room 1 and you see the guard patrolling that room&#46;&quot;)<br/>          }<br/>          else if (game&#46;pov&#46;parent = patrolling guard room 3) {<br/>            msg (&quot;You look over your shoulder to the northeast and into patrol room 1 and you see the guard patrolling that room&#46;&quot;)<br/>          }<br/>        }<br/>        else if (GetBoolean(guard, &quot;room2&quot;)) {<br/>          if (game&#46;pov&#46;parent = patrolling guard room 1) {<br/>            msg (&quot;You look off to your southeast and see a nasty looking guard patrolling guard room 2&#46;&quot;)<br/>          }<br/>          else if (game&#46;pov&#46;parent = patrolling guard room 3) {<br/>            msg (&quot;You hear some noise to the east and you take a look that way&#46;  You see the guard loitering in room 2&#46;&quot;)<br/>          }<br/>        }<br/>        else if (GetBoolean(guard, &quot;room3&quot;)) {<br/>          if (game&#46;pov&#46;parent = patrolling guard room 2) {<br/>            msg (&quot;The guard is certainly making some noise off to the west as he searches patrol room 3 for you&#46;&quot;)<br/>          }<br/>          else if (game&#46;pov&#46;parent = patrolling guard room 1) {<br/>            msg (&quot;As you dawdle in room 1, the guard is frantically searching for you in patrol room 3 to your southwest&#46;&quot;)<br/>          }<br/>        }<br/>      }<br/>    &lt;/script&gt;<br/>  &lt;/turnscript&gt;<br/>  &lt;command name=&quot;look guard cmd&quot;&gt;<br/>    &lt;pattern&gt;look at guard; x guard&lt;/pattern&gt;<br/>    &lt;script&gt;<br/>      if (GetBoolean(guard, &quot;room1&quot;)) {<br/>        msg (&quot;You look carefully into room 1 where you believe the guard to be&#46;&#46;&#46; He is large and angry&#46;  He is wielding a fearsome looking billy club&#46;&quot;)<br/>      }<br/>      else if (GetBoolean(guard, &quot;room2&quot;)) {<br/>        msg (&quot;You look carefully into room 2 where you believe the guard to be&#46;&#46;&#46; He is large and angry&#46;  He is wielding a nasty and heavy billy club&#46;&quot;)<br/>      }<br/>      else if (GetBoolean(guard, &quot;room3&quot;)) {<br/>        msg (&quot;You look carefully into room 3 where you believe the guard to be&#46;&#46;&#46; He is large and angry&#46;  He is weilding a fearsome looking billy club&#46;&quot;)<br/>      }<br/>    &lt;/script&gt;</code></pre><br/><br/>And here is the 'guarding' function.<br/><br/><pre><code>SetTurnTimeout (1) {<br/>  MoveObject (guard, patrolling guard room 1)<br/>  SetObjectFlagOn (guard, &quot;room1&quot;)<br/>  SetObjectFlagOff (guard, &quot;room3&quot;)<br/>  SetTurnTimeout (2) {<br/>    MoveObject (guard, patrolling guard room 2)<br/>    SetObjectFlagOn (guard, &quot;room2&quot;)<br/>    SetObjectFlagOff (guard, &quot;room1&quot;)<br/>    SetTurnTimeout (2) {<br/>      MoveObject (guard, patrolling guard room 3)<br/>      SetObjectFlagOn (guard, &quot;room3&quot;)<br/>      SetObjectFlagOff (guard, &quot;room2&quot;)<br/>      SetTurnTimeout (2) {<br/>        MoveObject (guard, patrolling guard room 1)<br/>        guarding<br/>      }<br/>    }<br/>  }<br/>}</code></pre><br/><br/>If you want me to hack an explanation out of that, I would be glad to do it, but not tonight!  It's late.  I've had a few drinks.  GO BRONCOS!<br/><br/>In the meantime, if you want a closer look, I just posted to the game announcements section of the forum, the .aslx file for the entire tutorial to date.  You can download that and take a look in the GUI at all the code mess above if that makes it easier.<br/><br/>And good luck!",
      "PostDate": "2016-02-08T04:31:35+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "41131",
      "UserId": 0,
      "Username": "HegemonKhan",
      "UserAvatar": null,
      "UserGravatar": "a96cf34d8d97c57de38f54ee22b1759b",
      "EditableText": "the 'parent' Object Attribute of an Object, is very useful: \n\n<!-- m --><a class=\"postlink\" href=\"http://docs.textadventures.co.uk/quest/attributes/parent.html\">http://docs.textadventures.co.uk/quest/ ... arent.html</a><!-- m --> (the 'parent' Object Attribute of Objects)\n^^^^^^^^^^\n<!-- m --><a class=\"postlink\" href=\"http://docs.textadventures.co.uk/quest/elements/object.html\">http://docs.textadventures.co.uk/quest/ ... bject.html</a><!-- m -->\n^^^^^^^^^^\n<!-- m --><a class=\"postlink\" href=\"http://docs.textadventures.co.uk/quest/elements/\">http://docs.textadventures.co.uk/quest/elements/</a><!-- m -->\n^^^^^^^^^^\n<!-- m --><a class=\"postlink\" href=\"http://docs.textadventures.co.uk/quest/\">http://docs.textadventures.co.uk/quest/</a><!-- m -->\n^^^^^^^^^^\npath to find/get to the 'parent' link in the online doc site\n\n---------------------------------\n\n[code:3o4qmang]&lt;object name=&quot;room&quot;&gt;\n  &lt;object name=&quot;player&quot;&gt;\n  &lt;/object&gt;\n&lt;/object&gt;[/code:3o4qmang]\n\nis the same as:\n\n[code:3o4qmang]&lt;object name=&quot;room&quot;&gt;\n&lt;/object&gt;\n\n&lt;object name=&quot;player&quot;&gt;\n  &lt;attr name=&quot;parent&quot; type=&quot;object&quot;&gt;room&lt;/attr&gt;\n&lt;/object&gt;[/code:3o4qmang]\n\nis the same as:\n\nplayer.parent = room\n\nis the same as:\n\nMoveObject (player, room)\n\nis (nearly) the same as:\n\n<!-- m --><a class=\"postlink\" href=\"http://docs.textadventures.co.uk/quest/functions/contains.html\">http://docs.textadventures.co.uk/quest/ ... tains.html</a><!-- m -->\n\n[code:3o4qmang]// this, of course, requires that the 'player' Object is indeed inside (a child of) the 'room' Object (the parent)&#58;\n\nif (Contains (room, player)) {\n  // script(s)\n}[/code:3o4qmang]\n\n-------------------------------------\n\nsample example 1 (using 'parent' Object Attribute):\n\n[code:3o4qmang]&lt;turnscript name=&quot;global_turnscript&quot;&gt;\n  &lt;enabled /&gt;\n  &lt;script&gt;\n    if (player&#46;parent = npc1&#46;parent) {\n      firsttime {\n        // your first-time script(s)\n      } otherwise {\n        // your non-first-time script(s)\n      }\n    }\n  &lt;/script&gt;\n&lt;/turnscript&gt;[/code:3o4qmang]\n\nsample example 2 (using 'Contains' Function + 'parent' Object Attribute):\n\n(though, why use 'Contains' + 'parent', when you can just use 'parent', which should be, or at least seems to be, more efficient)\n\n[code:3o4qmang]&lt;turnscript name=&quot;global_turnscript&quot;&gt;\n  &lt;enabled /&gt;\n  &lt;script&gt;\n    if (Contains (player&#46;parent, npc1)) {\n      firsttime {\n        // your first-time script(s)\n      } otherwise {\n        // your non-first-time script(s)\n      }\n    }\n  &lt;/script&gt;\n&lt;/turnscript&gt;[/code:3o4qmang]\n\nOR\n\n[code:3o4qmang]&lt;turnscript name=&quot;global_turnscript&quot;&gt;\n  &lt;enabled /&gt;\n  &lt;script&gt;\n    if (Contains (npc1&#46;parent, player)) {\n      firsttime {\n        // your first-time script(s)\n      } otherwise {\n        // your non-first-time script(s)\n      }\n    }\n  &lt;/script&gt;\n&lt;/turnscript&gt;[/code:3o4qmang]",
      "EditableFormat": "bbcode",
      "HTML": "the 'parent' Object Attribute of an Object, is very useful: <br/><br/><!-- m --><a class=\"postlink\" href=\"http://docs.textadventures.co.uk/quest/attributes/parent.html\">http://docs.textadventures.co.uk/quest/ ... arent.html</a><!-- m --> (the 'parent' Object Attribute of Objects)<br/>^^^^^^^^^^<br/><!-- m --><a class=\"postlink\" href=\"http://docs.textadventures.co.uk/quest/elements/object.html\">http://docs.textadventures.co.uk/quest/ ... bject.html</a><!-- m --><br/>^^^^^^^^^^<br/><!-- m --><a class=\"postlink\" href=\"http://docs.textadventures.co.uk/quest/elements/\">http://docs.textadventures.co.uk/quest/elements/</a><!-- m --><br/>^^^^^^^^^^<br/><!-- m --><a class=\"postlink\" href=\"http://docs.textadventures.co.uk/quest/\">http://docs.textadventures.co.uk/quest/</a><!-- m --><br/>^^^^^^^^^^<br/>path to find/get to the 'parent' link in the online doc site<br/><br/>---------------------------------<br/><br/><pre><code>&lt;object name=&quot;room&quot;&gt;<br/>  &lt;object name=&quot;player&quot;&gt;<br/>  &lt;/object&gt;<br/>&lt;/object&gt;</code></pre><br/><br/>is the same as:<br/><br/><pre><code>&lt;object name=&quot;room&quot;&gt;<br/>&lt;/object&gt;<br/><br/>&lt;object name=&quot;player&quot;&gt;<br/>  &lt;attr name=&quot;parent&quot; type=&quot;object&quot;&gt;room&lt;/attr&gt;<br/>&lt;/object&gt;</code></pre><br/><br/>is the same as:<br/><br/>player.parent = room<br/><br/>is the same as:<br/><br/>MoveObject (player, room)<br/><br/>is (nearly) the same as:<br/><br/><!-- m --><a class=\"postlink\" href=\"http://docs.textadventures.co.uk/quest/functions/contains.html\">http://docs.textadventures.co.uk/quest/ ... tains.html</a><!-- m --><br/><br/><pre><code>// this, of course, requires that the 'player' Object is indeed inside (a child of) the 'room' Object (the parent)&#58;<br/><br/>if (Contains (room, player)) {<br/>  // script(s)<br/>}</code></pre><br/><br/>-------------------------------------<br/><br/>sample example 1 (using 'parent' Object Attribute):<br/><br/><pre><code>&lt;turnscript name=&quot;global_turnscript&quot;&gt;<br/>  &lt;enabled /&gt;<br/>  &lt;script&gt;<br/>    if (player&#46;parent = npc1&#46;parent) {<br/>      firsttime {<br/>        // your first-time script(s)<br/>      } otherwise {<br/>        // your non-first-time script(s)<br/>      }<br/>    }<br/>  &lt;/script&gt;<br/>&lt;/turnscript&gt;</code></pre><br/><br/>sample example 2 (using 'Contains' Function + 'parent' Object Attribute):<br/><br/>(though, why use 'Contains' + 'parent', when you can just use 'parent', which should be, or at least seems to be, more efficient)<br/><br/><pre><code>&lt;turnscript name=&quot;global_turnscript&quot;&gt;<br/>  &lt;enabled /&gt;<br/>  &lt;script&gt;<br/>    if (Contains (player&#46;parent, npc1)) {<br/>      firsttime {<br/>        // your first-time script(s)<br/>      } otherwise {<br/>        // your non-first-time script(s)<br/>      }<br/>    }<br/>  &lt;/script&gt;<br/>&lt;/turnscript&gt;</code></pre><br/><br/>OR<br/><br/><pre><code>&lt;turnscript name=&quot;global_turnscript&quot;&gt;<br/>  &lt;enabled /&gt;<br/>  &lt;script&gt;<br/>    if (Contains (npc1&#46;parent, player)) {<br/>      firsttime {<br/>        // your first-time script(s)<br/>      } otherwise {<br/>        // your non-first-time script(s)<br/>      }<br/>    }<br/>  &lt;/script&gt;<br/>&lt;/turnscript&gt;</code></pre>",
      "PostDate": "2016-02-08T08:45:52+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "41133",
      "UserId": 0,
      "Username": "Pertex",
      "UserAvatar": "5940_1369854251.gif",
      "UserGravatar": "4cc1e52f99452e841ecf4cbee9eadde9",
      "EditableText": "go to codeview and add a changedparent script to your npc. In my example it's an orc\n\n[code:199j9ou7]    \n    &lt;object name=&quot;orc&quot;&gt;\n      &lt;inherit name=&quot;editor_object&quot; /&gt;\n      &lt;changedparent type=&quot;script&quot;&gt;\n      if(this&#46;parent=player&#46;parent){\n      \tmsg(&quot;orc is coming&quot;)\n      }\t\n      &lt;/changedparent&gt;\n    &lt;/object&gt;[/code:199j9ou7]",
      "EditableFormat": "bbcode",
      "HTML": "go to codeview and add a changedparent script to your npc. In my example it's an orc<br/><br/><pre><code>    <br/>    &lt;object name=&quot;orc&quot;&gt;<br/>      &lt;inherit name=&quot;editor_object&quot; /&gt;<br/>      &lt;changedparent type=&quot;script&quot;&gt;<br/>      if(this&#46;parent=player&#46;parent){<br/>      \tmsg(&quot;orc is coming&quot;)<br/>      }\t<br/>      &lt;/changedparent&gt;<br/>    &lt;/object&gt;</code></pre>",
      "PostDate": "2016-02-08T11:33:55+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "41134",
      "UserId": 0,
      "Username": "benn",
      "UserAvatar": null,
      "UserGravatar": "f273c5eba2047a83fc7777c177ee5570",
      "EditableText": "Thanks guys!\n\nXan- I appreciate that &amp; saw your other forum reply about setting up a patrolling character. It was instrumental in helping me to get the character to move. Originally, I was thinking about using flags to set up the intro description vs the repeating message, but figured a 'first time' would work just as well. Situationally, what I've got going is more of a random occurrence thing. The 'rooms' are sort of a big outdoor area &amp; if the character &amp; the player don't line up, the player doesn't necessarily need to know which other room the character's in.\n\nHK- Thanks! I tried your method but ran into two minor problems. First, I noticed that if the Player &amp; Character both arrive in a room at the same time, the description doesn't seem to happen until that subsequent turn. Secondly, since the loop is on a 'three turn &gt; move' interval, I get that first description, but then I get the follow up the next turn &amp; every turn the character &amp; player share a room. Ideally, I'd just like the that script with the messages to run once announcing their presence on that very first turn they end up sharing a room, &amp; only have it subsequently the next first turn it happens lines up like that.\n\npertex- Thanks! That code helped to make sure I get that message that very first turn, but then the subsequent message doesn't seem to appear after that. (But maybe I need to mess with it more. I just got your reply as I was already replying &amp; just tried to apply it once here) EDIT: Sorry, I messed with it more &amp; while it's a little wonky if the player enters after the character, it works very well in the character enters after the player. Anyway to make the reverse happen too? is that something I have to apply as a changedparent script on the player?",
      "EditableFormat": "bbcode",
      "HTML": "Thanks guys!<br/><br/>Xan- I appreciate that &amp; saw your other forum reply about setting up a patrolling character. It was instrumental in helping me to get the character to move. Originally, I was thinking about using flags to set up the intro description vs the repeating message, but figured a 'first time' would work just as well. Situationally, what I've got going is more of a random occurrence thing. The 'rooms' are sort of a big outdoor area &amp; if the character &amp; the player don't line up, the player doesn't necessarily need to know which other room the character's in.<br/><br/>HK- Thanks! I tried your method but ran into two minor problems. First, I noticed that if the Player &amp; Character both arrive in a room at the same time, the description doesn't seem to happen until that subsequent turn. Secondly, since the loop is on a 'three turn &gt; move' interval, I get that first description, but then I get the follow up the next turn &amp; every turn the character &amp; player share a room. Ideally, I'd just like the that script with the messages to run once announcing their presence on that very first turn they end up sharing a room, &amp; only have it subsequently the next first turn it happens lines up like that.<br/><br/>pertex- Thanks! That code helped to make sure I get that message that very first turn, but then the subsequent message doesn't seem to appear after that. (But maybe I need to mess with it more. I just got your reply as I was already replying &amp; just tried to apply it once here) EDIT: Sorry, I messed with it more &amp; while it's a little wonky if the player enters after the character, it works very well in the character enters after the player. Anyway to make the reverse happen too? is that something I have to apply as a changedparent script on the player?",
      "PostDate": "2016-02-08T12:19:53+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "41136",
      "UserId": 0,
      "Username": "HegemonKhan",
      "UserAvatar": null,
      "UserGravatar": "a96cf34d8d97c57de38f54ee22b1759b",
      "EditableText": "ya, that might work for you, setting up the special 'changed' script on both your player and npc Objects:\n\n[code:2rp4bda4]&lt;object name=&quot;player&quot;&gt;\n  &lt;attr name=&quot;changedparent&quot; type=&quot;script&quot;&gt;\n    if (player&#46;parent = npc&#46;parent) {\n      firsttime {\n        // script(s)\n      } otherwise {\n        // script(s)\n      }\n    }\n  &lt;/attr&gt;\n&lt;/object&gt;\n\n&lt;object name=&quot;npc&quot;&gt;\n  &lt;attr name=&quot;changedparent&quot; type=&quot;script&quot;&gt;\n    if (player&#46;parent = npc&#46;parent) {\n      firsttime {\n        // script(s)\n      } otherwise {\n        // script(s)\n      }\n    }\n  &lt;/attr&gt;\n&lt;/object&gt;[/code:2rp4bda4]\n\n-------------------------\n\nusing a Turnscript should work too... but you got to set it's scripts and all your other (non-Turnscript) scripts up right... in order to get the desired sequence/order of scripts occuring as you want them to do so.\n\n--------------------------\n\nthe special 'changed' Script is nearly identical to the Turnscript, they both fire/run/check every (well, depending on how it is set up with/for the Turnscript, anyways) internal turn.\n\nEDIT: actually, maybe the special 'changed' script doesn't work with the internal turn... as it seems to activate immediately upon the chosen attribute's value, changing. I think it was Jay (Jaynebonne) who explained how the 'changed' Script and Turnscript worked, but as can be seen, it's been awhile and I've forgotten what he said about them. Pertex also probably knows how both work and can explain it, too. Pixie probably also. They're the main moderators who post on the forum, who're all really good coders and who know quest very well. \n\nif you don't understand the special 'changed' script, this is how it works:\n\non every internal turn (this is basically any click or command/input box text entry that you do while playing the game) if the attribute's value, via putting the attribute in: &lt;attr name=&quot;changedATTRIBUTENAME&quot; type=&quot;script&quot;&gt;, changes, then run/activate/execute the added scripts.\n\nTurnscript (if set up right): on every internal turn, run and/or check whether to run (depends upon the scripts) every script added to it.",
      "EditableFormat": "bbcode",
      "HTML": "ya, that might work for you, setting up the special 'changed' script on both your player and npc Objects:<br/><br/><pre><code>&lt;object name=&quot;player&quot;&gt;<br/>  &lt;attr name=&quot;changedparent&quot; type=&quot;script&quot;&gt;<br/>    if (player&#46;parent = npc&#46;parent) {<br/>      firsttime {<br/>        // script(s)<br/>      } otherwise {<br/>        // script(s)<br/>      }<br/>    }<br/>  &lt;/attr&gt;<br/>&lt;/object&gt;<br/><br/>&lt;object name=&quot;npc&quot;&gt;<br/>  &lt;attr name=&quot;changedparent&quot; type=&quot;script&quot;&gt;<br/>    if (player&#46;parent = npc&#46;parent) {<br/>      firsttime {<br/>        // script(s)<br/>      } otherwise {<br/>        // script(s)<br/>      }<br/>    }<br/>  &lt;/attr&gt;<br/>&lt;/object&gt;</code></pre><br/><br/>-------------------------<br/><br/>using a Turnscript should work too... but you got to set it's scripts and all your other (non-Turnscript) scripts up right... in order to get the desired sequence/order of scripts occuring as you want them to do so.<br/><br/>--------------------------<br/><br/>the special 'changed' Script is nearly identical to the Turnscript, they both fire/run/check every (well, depending on how it is set up with/for the Turnscript, anyways) internal turn.<br/><br/>EDIT: actually, maybe the special 'changed' script doesn't work with the internal turn... as it seems to activate immediately upon the chosen attribute's value, changing. I think it was Jay (Jaynebonne) who explained how the 'changed' Script and Turnscript worked, but as can be seen, it's been awhile and I've forgotten what he said about them. Pertex also probably knows how both work and can explain it, too. Pixie probably also. They're the main moderators who post on the forum, who're all really good coders and who know quest very well. <br/><br/>if you don't understand the special 'changed' script, this is how it works:<br/><br/>on every internal turn (this is basically any click or command/input box text entry that you do while playing the game) if the attribute's value, via putting the attribute in: &lt;attr name=&quot;changedATTRIBUTENAME&quot; type=&quot;script&quot;&gt;, changes, then run/activate/execute the added scripts.<br/><br/>Turnscript (if set up right): on every internal turn, run and/or check whether to run (depends upon the scripts) every script added to it.",
      "PostDate": "2016-02-08T17:55:25+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "41140",
      "UserId": 0,
      "Username": "benn",
      "UserAvatar": null,
      "UserGravatar": "f273c5eba2047a83fc7777c177ee5570",
      "EditableText": "Yeah, having the kind of hierarchy I set up with the turn script, I think it was basically running the move every turn, despite the character already being in the room. So basically it kept having the character enter over &amp; over. \n\nApplying the changedparent script like pertex's example to the character works for when the character enters after the player. And it seems like adding an inverted version onto the player works for when the player enters after the character. Thank you very much for the assist, guys! Now suddenly, I did notice that if the player leaves, the character's &quot;leaving&quot; message now seems to appear, but I'm not too bothered by that.",
      "EditableFormat": "bbcode",
      "HTML": "Yeah, having the kind of hierarchy I set up with the turn script, I think it was basically running the move every turn, despite the character already being in the room. So basically it kept having the character enter over &amp; over. <br/><br/>Applying the changedparent script like pertex's example to the character works for when the character enters after the player. And it seems like adding an inverted version onto the player works for when the player enters after the character. Thank you very much for the assist, guys! Now suddenly, I did notice that if the player leaves, the character's &quot;leaving&quot; message now seems to appear, but I'm not too bothered by that.",
      "PostDate": "2016-02-09T03:48:24+00:00",
      "LastEditDate": null
    }
  ]
}
