{
  "Topic": {
    "TopicId": "nj78juqudust4bklu5qe1a",
    "ForumId": "10",
    "Title": "Expression text not printing correctly",
    "LastUpdated": "2020-03-11T06:44:10.860349Z",
    "ReplyCount": 0
  },
  "Posts": [
    {
      "PostId": "d33ba37c-cce7-4a45-8830-2a75339583ff",
      "UserId": 454326,
      "Username": "Brian5757",
      "AvatarUrl": "https://secure.gravatar.com/avatar/411c3e8cd4782d4a996f292940a61069?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "I created a game verb called paint\r\nI then typed in the expression field \"You can't paint the \"+object.article+\".\"\r\n\r\nThe problem is the object.article does not display the object name.",
      "EditableFormat": "markdown",
      "HTML": "<p>I created a game verb called paint<br>\nI then typed in the expression field \"You can't paint the \"+object.article+\".\"</p>\n<p>The problem is the object.article does not display the object name.</p>\n\n",
      "PostDate": "2020-03-11T06:44:10.860349Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "272328c5-5fad-4b9c-b157-c151611c16bc",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "`object.article` gives the object's article – him, her, it, or them. It's used in the default verb messages t say something like \"you can't eat him.\"\r\n\r\nIf you want the object's alias, you'd use `\"You can't paint the \"+GetDisplayAlias (object)+\".\"`",
      "EditableFormat": "markdown",
      "HTML": "<p><code>object.article</code> gives the object's article – him, her, it, or them. It's used in the default verb messages t say something like \"you can't eat him.\"</p>\n<p>If you want the object's alias, you'd use <code>\"You can't paint the \"+GetDisplayAlias (object)+\".\"</code></p>\n\n",
      "PostDate": "2020-03-11T06:48:36.9332128Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "0e25973c-6f1f-4a24-bf84-163cee0b6048",
      "UserId": 454326,
      "Username": "Brian5757",
      "AvatarUrl": "https://secure.gravatar.com/avatar/411c3e8cd4782d4a996f292940a61069?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Hi rangel.\r\nWhen I select expression in the drop down menu and type in \"You can't paint the \"+GetDisplayAlias(object)+\".\" \r\n\r\nThe result displayed is\r\n\"You can't paint the {GetDisplayAlias (object}\"\r\n",
      "EditableFormat": "markdown",
      "HTML": "<p>Hi rangel.<br>\nWhen I select expression in the drop down menu and type in \"You can't paint the \"+GetDisplayAlias(object)+\".\"</p>\n<p>The result displayed is<br>\n\"You can't paint the {GetDisplayAlias (object}\"</p>\n\n",
      "PostDate": "2020-03-12T01:18:14.4140171Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "338834e0-6422-4c3f-b134-fa31bc74e037",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Sorry about that. I'm not used to this feature because it isn't available on the web version. I assumed it would work like an expression. But that doesn't seem to be the case; it looks like it's being mangled somewhere along the line. Looking through the code, I'm assuming that your expression is being placed in the `defaultexpression` attribute; which should just be eval'ed. So all I can assume is that the editor is somehow changing the expression before saving it.\r\n\r\nI really can't understand why this should happen; we might have to fall back on the expertise of someone who has a Windows computer here.",
      "EditableFormat": "markdown",
      "HTML": "<p>Sorry about that. I'm not used to this feature because it isn't available on the web version. I assumed it would work like an expression. But that doesn't seem to be the case; it looks like it's being mangled somewhere along the line. Looking through the code, I'm assuming that your expression is being placed in the <code>defaultexpression</code> attribute; which should just be eval'ed. So all I can assume is that the editor is somehow changing the expression before saving it.</p>\n<p>I really can't understand why this should happen; we might have to fall back on the expertise of someone who has a Windows computer here.</p>\n\n",
      "PostDate": "2020-03-12T08:35:05.3741749Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "5beabd0d-8f83-45aa-af36-7c77f2a4bf81",
      "UserId": 454326,
      "Username": "Brian5757",
      "AvatarUrl": "https://secure.gravatar.com/avatar/411c3e8cd4782d4a996f292940a61069?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "The strange thing is that it works without any problems when used in the adventure \"Quest Test Adventure Tutorials and Templates'.\r\nMay be there is something I need to do in the adventure to make this work. I might have to experiment more.",
      "EditableFormat": "markdown",
      "HTML": "<p>The strange thing is that it works without any problems when used in the adventure \"Quest Test Adventure Tutorials and Templates'.<br>\nMay be there is something I need to do in the adventure to make this work. I might have to experiment more.</p>\n\n",
      "PostDate": "2020-03-13T23:03:36.2197202Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "8b4c3589-aeb5-4faf-9878-ed17e41d749f",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Can you post the code for the verb in question? If you don't want to share the game, you should be able to open it in code view and copy the part from `<verb name=\"paint\">` to `</verb>`.\r\n(When posting code in the forums, put a line of 3 backticks (<code>```</code>) above and below it to stop the forum mangling it)\r\n\r\nI can't figure out what the issue is unless it's some bug in the editor; but seeing the affected code might help to shed some light on it.",
      "EditableFormat": "markdown",
      "HTML": "<p>Can you post the code for the verb in question? If you don't want to share the game, you should be able to open it in code view and copy the part from <code>&lt;verb name=\"paint\"&gt;</code> to <code>&lt;/verb&gt;</code>.<br>\n(When posting code in the forums, put a line of 3 backticks (<code>```</code>) above and below it to stop the forum mangling it)</p>\n<p>I can't figure out what the issue is unless it's some bug in the editor; but seeing the affected code might help to shed some light on it.</p>\n\n",
      "PostDate": "2020-03-14T00:13:33.7021909Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "1e1cd7d7-f48a-410b-b61e-e0b079c4bf76",
      "UserId": 454326,
      "Username": "Brian5757",
      "AvatarUrl": "https://secure.gravatar.com/avatar/411c3e8cd4782d4a996f292940a61069?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Hi mrangel\r\n\r\nThis is my code\r\n````\r\n<verb>\r\n    <pattern>paint</pattern>\r\n    <defaulttext>\"You can't paint the \"+GetDisplayAlias (object)+\".\"</defaulttext>\r\n    <property>paint</property>\r\n    <defaultexpression>\"You can't paint the \" + GetDisplayAlas(object) +  \".\"</defaultexpression>\r\n    <defaulttemplate>\"You can't  paint the \" + GetDisplayAlias (object) + \".\"</defaulttemplate>\r\n  </verb>\r\n\r\nIf I type 'paint book'\r\nI get the mesage \"You can't paint the \"+GetDisplayAlias (object)+\".\"\r\n",
      "EditableFormat": "markdown",
      "HTML": "<p>Hi mrangel</p>\n<p>This is my code</p>\n<pre><code>&lt;verb&gt;\n    &lt;pattern&gt;paint&lt;/pattern&gt;\n    &lt;defaulttext&gt;\"You can't paint the \"+GetDisplayAlias (object)+\".\"&lt;/defaulttext&gt;\n    &lt;property&gt;paint&lt;/property&gt;\n    &lt;defaultexpression&gt;\"You can't paint the \" + GetDisplayAlas(object) +  \".\"&lt;/defaultexpression&gt;\n    &lt;defaulttemplate&gt;\"You can't  paint the \" + GetDisplayAlias (object) + \".\"&lt;/defaulttemplate&gt;\n  &lt;/verb&gt;\n\nIf I type 'paint book'\nI get the mesage \"You can't paint the \"+GetDisplayAlias (object)+\".\"\n</code></pre>\n\n",
      "PostDate": "2020-03-15T23:18:32.8808576Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "7087742e-5b09-4d7d-9b86-47869d3141b8",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "OK ... that dropdown allows you to set 3 different attributes, which have different values. Changing it from \"text\" to \"expression\" changes which one you are currently editing, but it doesn't change the text value that you already entered.\r\n\r\nYou need to change the dropdown back to \"Text\" and delete the value, and then do the same for \"Template\".\r\n\r\nThe value that you've got for the \"Expression\" version (in `defaultexpression`) is correct and should work. But the verb checks `defaulttext` first, if that doesn't exist it tries `defaulttemplate`, and only if those both don't exist it tries `defaultexpression`.\r\n\r\n(Or you could delete the unnecessary values in the Attributes tab if there is one; or in code view. It should look like:\r\n```\r\n  <verb>\r\n    <pattern>paint</pattern>\r\n    <property>paint</property>\r\n    <defaultexpression>\"You can't paint the \" + GetDisplayAlias(object) +  \".\"</defaultexpression>\r\n  </verb>\r\n```",
      "EditableFormat": "markdown",
      "HTML": "<p>OK ... that dropdown allows you to set 3 different attributes, which have different values. Changing it from \"text\" to \"expression\" changes which one you are currently editing, but it doesn't change the text value that you already entered.</p>\n<p>You need to change the dropdown back to \"Text\" and delete the value, and then do the same for \"Template\".</p>\n<p>The value that you've got for the \"Expression\" version (in <code>defaultexpression</code>) is correct and should work. But the verb checks <code>defaulttext</code> first, if that doesn't exist it tries <code>defaulttemplate</code>, and only if those both don't exist it tries <code>defaultexpression</code>.</p>\n<p>(Or you could delete the unnecessary values in the Attributes tab if there is one; or in code view. It should look like:</p>\n<pre><code>  &lt;verb&gt;\n    &lt;pattern&gt;paint&lt;/pattern&gt;\n    &lt;property&gt;paint&lt;/property&gt;\n    &lt;defaultexpression&gt;\"You can't paint the \" + GetDisplayAlias(object) +  \".\"&lt;/defaultexpression&gt;\n  &lt;/verb&gt;\n</code></pre>\n\n",
      "PostDate": "2020-03-16T03:53:00.1183249Z",
      "LastEditDate": "2020-03-16T08:40:09.7146099Z",
      "link": null
    },
    {
      "PostId": "e36db2d6-5222-4ef6-b0f2-999c649aef0d",
      "UserId": 454326,
      "Username": "Brian5757",
      "AvatarUrl": "https://secure.gravatar.com/avatar/411c3e8cd4782d4a996f292940a61069?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "I used the code that you suggested but now I'm getting this error\r\n\r\nError running script: Error evaluating expression 'Eval(this.defaultexpression, params)': Error compiling expression '\"You can't paint the \" + GetDisplayAlas(object) + \".\"': FunctionCallElement: Could find not function 'GetDisplayAlas(Element)'",
      "EditableFormat": "markdown",
      "HTML": "<p>I used the code that you suggested but now I'm getting this error</p>\n<p>Error running script: Error evaluating expression 'Eval(this.defaultexpression, params)': Error compiling expression '\"You can't paint the \" + GetDisplayAlas(object) + \".\"': FunctionCallElement: Could find not function 'GetDisplayAlas(Element)'</p>\n\n",
      "PostDate": "2020-03-16T04:29:55.6435764Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "df06d1d7-3711-4a98-b79d-3f4f44968ff4",
      "UserId": 277074,
      "Username": "Dcoder",
      "AvatarUrl": "https://i.imgur.com/O07mlRtb.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Should be ```GetDisplayAlias(Element)```.",
      "EditableFormat": "markdown",
      "HTML": "<p>Should be <code>GetDisplayAlias(Element)</code>.</p>\n\n",
      "PostDate": "2020-03-16T07:52:34.4175491Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "50412bdb-e714-485d-9223-868adcab00c5",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Sorry, didn't notice that :)\r\n\r\nI just copied and pasted your code, and removed the defaulttext and defaulttemplate lines. Didn't notice the typo in the function name.",
      "EditableFormat": "markdown",
      "HTML": "<p>Sorry, didn't notice that :)</p>\n<p>I just copied and pasted your code, and removed the defaulttext and defaulttemplate lines. Didn't notice the typo in the function name.</p>\n\n",
      "PostDate": "2020-03-16T08:41:28.7602299Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "68d227a0-2a4e-447b-9cf4-fd47a6b02fcb",
      "UserId": 454326,
      "Username": "Brian5757",
      "AvatarUrl": "https://secure.gravatar.com/avatar/411c3e8cd4782d4a996f292940a61069?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Dcoder: It should be 'object' and not 'Element', as Quest does not recognize 'element'.\r\n\r\nAll is working OK now thanks mrangel. My typo sorry.",
      "EditableFormat": "markdown",
      "HTML": "<p>Dcoder: It should be 'object' and not 'Element', as Quest does not recognize 'element'.</p>\n<p>All is working OK now thanks mrangel. My typo sorry.</p>\n\n",
      "PostDate": "2020-03-16T23:50:11.2680439Z",
      "LastEditDate": null,
      "link": null
    }
  ]
}
