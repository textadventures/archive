{
  "Topic": {
    "TopicId": "4907",
    "ForumId": "10",
    "Title": "Gamebook Random Text Help",
    "LastUpdated": "2014-12-23T21:59:03+00:00",
    "ReplyCount": 12
  },
  "Posts": [
    {
      "PostId": "33012",
      "UserId": 0,
      "Username": "bencorman",
      "UserAvatar": null,
      "UserGravatar": "ca2c0aec15c7b3f74c9c625f0e7c6b68",
      "EditableText": "First off, thanks for taking the time to read this.\n\nOkay, so I'm making a gamebook with some looping pages for combat purposes. I have built a functional random list of synonyms for the main character ie: {random:Brittany:Brittany, {random:looking cheerful:smiling widely},:The {random:smiling:happy:laughing:upbeat} {random:girl:woman:lady}}\n\nThe actual list is much bigger. So it works fine in the game as part of a text box. But I'd like to, if possible, take this giant random function string of doom and find a way to A) recall this big random function list on future pages and B) Shorten it into something that takes less space on my screen when I need to use it.\n\nAnybody know how to pull this off in a gamebook?",
      "EditableFormat": "bbcode",
      "HTML": "First off, thanks for taking the time to read this.<br/><br/>Okay, so I'm making a gamebook with some looping pages for combat purposes. I have built a functional random list of synonyms for the main character ie: {random:Brittany:Brittany, {random:looking cheerful:smiling widely},:The {random:smiling:happy:laughing:upbeat} {random:girl:woman:lady}}<br/><br/>The actual list is much bigger. So it works fine in the game as part of a text box. But I'd like to, if possible, take this giant random function string of doom and find a way to A) recall this big random function list on future pages and B) Shorten it into something that takes less space on my screen when I need to use it.<br/><br/>Anybody know how to pull this off in a gamebook?",
      "PostDate": "2014-12-18T23:21:24+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "33017",
      "UserId": 0,
      "Username": "The Pixie",
      "UserAvatar": null,
      "UserGravatar": "cfa37e927f96177bcf6053ae8f108f77",
      "EditableText": "My advise is don't. Do it in a text adventure, and fake it to look like a gamebook.\n<!-- l --><a class=\"postlink-local\" href=\"http://forum.textadventures.uk/viewtopic.php?f=18&amp;t=4772\">viewtopic.php?f=18&amp;t=4772</a><!-- l -->",
      "EditableFormat": "bbcode",
      "HTML": "My advise is don't. Do it in a text adventure, and fake it to look like a gamebook.<br/><!-- l --><a class=\"postlink-local\" href=\"http://forum.textadventures.uk/viewtopic.php?f=18&amp;t=4772\">viewtopic.php?f=18&amp;t=4772</a><!-- l -->",
      "PostDate": "2014-12-19T07:44:13+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "33076",
      "UserId": 0,
      "Username": "bencorman",
      "UserAvatar": null,
      "UserGravatar": "ca2c0aec15c7b3f74c9c625f0e7c6b68",
      "EditableText": "Thanks for the suggestion. If I were to do text adventure instead of gamebook, how would I do it in a text adventure?\n\nWhen I try to build a variable, this is the error message I get:\nError running script&#058; Error compiling expression 'RandomResult7': SyntaxError: Unexpected character: {Line: 1, Column: 1\n\nWhat is awesome is that the expression listed in error (In this example, RandomResult7) is randomly generated from the potential random results, and it is randomly generating correctly. Anybody have any idea how I just get that random result recalled instead of the Error running script message?",
      "EditableFormat": "bbcode",
      "HTML": "Thanks for the suggestion. If I were to do text adventure instead of gamebook, how would I do it in a text adventure?<br/><br/>When I try to build a variable, this is the error message I get:<br/>Error running script&#058; Error compiling expression 'RandomResult7': SyntaxError: Unexpected character: {Line: 1, Column: 1<br/><br/>What is awesome is that the expression listed in error (In this example, RandomResult7) is randomly generated from the potential random results, and it is randomly generating correctly. Anybody have any idea how I just get that random result recalled instead of the Error running script message?",
      "PostDate": "2014-12-22T13:54:05+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "33078",
      "UserId": 0,
      "Username": "Silver",
      "UserAvatar": null,
      "UserGravatar": "13024be5ccbb463906b024d5bd3cb5e8",
      "EditableText": "If it's just random text you want you can do it by using the text processor. Put this in the body of your text:\n\n{random:text 1:text 2:text 3}\n\nAnd replace text 1 text 2 etc with the random bits of text.\n\n<!-- m --><a class=\"postlink\" href=\"http://docs.textadventures.co.uk/quest/text_processor.html\">http://docs.textadventures.co.uk/quest/ ... essor.html</a><!-- m -->",
      "EditableFormat": "bbcode",
      "HTML": "If it's just random text you want you can do it by using the text processor. Put this in the body of your text:<br/><br/>{random:text 1:text 2:text 3}<br/><br/>And replace text 1 text 2 etc with the random bits of text.<br/><br/><!-- m --><a class=\"postlink\" href=\"http://docs.textadventures.co.uk/quest/text_processor.html\">http://docs.textadventures.co.uk/quest/ ... essor.html</a><!-- m -->",
      "PostDate": "2014-12-22T14:17:54+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "33079",
      "UserId": 0,
      "Username": "Silver",
      "UserAvatar": null,
      "UserGravatar": "13024be5ccbb463906b024d5bd3cb5e8",
      "EditableText": "Actually, isn't that what you're doing already? lol",
      "EditableFormat": "bbcode",
      "HTML": "Actually, isn't that what you're doing already? lol",
      "PostDate": "2014-12-22T14:20:34+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "33081",
      "UserId": 0,
      "Username": "jaynabonne",
      "UserAvatar": "6579_1344778256.jpg",
      "UserGravatar": "379859a7f1952a65399fc63997e68f0b",
      "EditableText": "bencorman, if you have a question about a particular piece of script - especially if it's one you're written that's non-trivial - it would really help if you could post what you have done. Usually error messages can be easily resolved by seeing the script in question.",
      "EditableFormat": "bbcode",
      "HTML": "bencorman, if you have a question about a particular piece of script - especially if it's one you're written that's non-trivial - it would really help if you could post what you have done. Usually error messages can be easily resolved by seeing the script in question.",
      "PostDate": "2014-12-22T15:40:42+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "33106",
      "UserId": 0,
      "Username": "HegemonKhan",
      "UserAvatar": null,
      "UserGravatar": "a96cf34d8d97c57de38f54ee22b1759b",
      "EditableText": "from the error code:\n\nError running script&#058; Error compiling expression 'RandomResult7': SyntaxError: Unexpected character: {Line: 1, Column: 1\n\nit looks like you got a simple typo mistake:\n\nif we made a text doc an 'yx' grid:\n\n'lines' = y axis (vertical coordinate)\n'columns' = x axis (horizontal coordinate)\n\nso for the script block in question, find 'line1' and 'column1', as this is where your typo is at\n\ncolumn\n123456\nqwerty:1 line\nasdfgh:2 line\nzxcvbn:3 line\n\nso...\n\nline1, column1 = q\nline2, column1 = a\nline3, column1 = z\nline2, column3 = d\nline3, column6 = n\n\nthough, it can be more complicated, as you can forgot a character~symbol (typo mistake) else where, which causes an error also at other locations too (your error codes), so you may need to find the source typo error (which is not mentioned as an error code), causing the rest of the code below+right of it to be shifted, and thus the 'qausi false positive' error codes. (this won't make sense to you, unless you already understand coding... laughs, so just ignore this if you don't understand it).\n\n------------\n\nI highly recommend this text software to everyone:\n\nnotepad++ ( <!-- m --><a class=\"postlink\" href=\"http://notepad-plus-plus.org/\">http://notepad-plus-plus.org/</a><!-- m --> )\n\nas if you copy and paste (or just write~type) code into it  (or you just open your quest game file with notepad++), it'll color code it and also give the yx coordinates for where you got your pointer cursor at in the text, for easier reading, writing~typing, and trouble shooting.\n\nfor quest, at the top of the notepad++ screen (after you downloaded, installed, and opened it up), under 'languages', choose 'XML' (eXtensible Markup Language).",
      "EditableFormat": "bbcode",
      "HTML": "from the error code:<br/><br/>Error running script&#058; Error compiling expression 'RandomResult7': SyntaxError: Unexpected character: {Line: 1, Column: 1<br/><br/>it looks like you got a simple typo mistake:<br/><br/>if we made a text doc an 'yx' grid:<br/><br/>'lines' = y axis (vertical coordinate)<br/>'columns' = x axis (horizontal coordinate)<br/><br/>so for the script block in question, find 'line1' and 'column1', as this is where your typo is at<br/><br/>column<br/>123456<br/>qwerty:1 line<br/>asdfgh:2 line<br/>zxcvbn:3 line<br/><br/>so...<br/><br/>line1, column1 = q<br/>line2, column1 = a<br/>line3, column1 = z<br/>line2, column3 = d<br/>line3, column6 = n<br/><br/>though, it can be more complicated, as you can forgot a character~symbol (typo mistake) else where, which causes an error also at other locations too (your error codes), so you may need to find the source typo error (which is not mentioned as an error code), causing the rest of the code below+right of it to be shifted, and thus the 'qausi false positive' error codes. (this won't make sense to you, unless you already understand coding... laughs, so just ignore this if you don't understand it).<br/><br/>------------<br/><br/>I highly recommend this text software to everyone:<br/><br/>notepad++ ( <!-- m --><a class=\"postlink\" href=\"http://notepad-plus-plus.org/\">http://notepad-plus-plus.org/</a><!-- m --> )<br/><br/>as if you copy and paste (or just write~type) code into it  (or you just open your quest game file with notepad++), it'll color code it and also give the yx coordinates for where you got your pointer cursor at in the text, for easier reading, writing~typing, and trouble shooting.<br/><br/>for quest, at the top of the notepad++ screen (after you downloaded, installed, and opened it up), under 'languages', choose 'XML' (eXtensible Markup Language).",
      "PostDate": "2014-12-22T22:16:41+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "33126",
      "UserId": 0,
      "Username": "bencorman",
      "UserAvatar": null,
      "UserGravatar": "ca2c0aec15c7b3f74c9c625f0e7c6b68",
      "EditableText": "I am indeed using the {random:} function from the text processor. The problem is that the functioning product it is a HUGE wall of text because it is a synonym list for the main character I'm trying to use to help make the text less repetitive. ({random:Name: Name, {random: lots of descriptions},: {random: lots of descriptions without a name}: {random: even more descriptions} {random title}}. What I'm trying to do is take that randomizing function that works in the text processor but makes it very difficult to actually then type text and all of that because I scroll past copy after copy of this massive wall of text. So I would like to link it to something smaller. A variable? A list? I don't know what the answer is. I'd like to call back to this massive working randomizer without having to reproduce it every single time.\n\nTrying to create a variable that contains the functioning {random:} text processor code produces the error in my previous reply. So, any way to take that functioning text processor {random:} code and link it to a variable or something else that doesn't take up so much space? Or is cutting and pasting the giant {random:} wall of text over and over and over my best option?\n\nCode: \n\nplayer.brittany = {random:Brittany:Brittany, {random:smiling widely:smiling slyly:filled with enthusiasm:always optimistic:her face a mask:filled with hope:thoughts wandering:blonde hair saying in the breeze:eyes sparkling:full of joy:anger building:lost in thought},:The {random:blonde:blue eyed:blonde-haired:always optimistic:lovely:enthusiastic:smiling:beautiful:amazing:brave:hard-working:long-haired:willful:chosen:annointed:athletic:quick-witted:tricky:nimble:naturally gifted} {random:heroine:huntress:fighter:slayer:battler:girl:woman:beauty}}\n\nError: \n\nError running script&#058; Error compiling expression 'The willful beauty': SyntaxError: Unexpected character: {Line: 1, Column: 1\n\nWhat is really frustrating is that it spits out a correctly functioning random expression in the error message every single time. I just wish it actually spit out the expression itself.",
      "EditableFormat": "bbcode",
      "HTML": "I am indeed using the {random:} function from the text processor. The problem is that the functioning product it is a HUGE wall of text because it is a synonym list for the main character I'm trying to use to help make the text less repetitive. ({random:Name: Name, {random: lots of descriptions},: {random: lots of descriptions without a name}: {random: even more descriptions} {random title}}. What I'm trying to do is take that randomizing function that works in the text processor but makes it very difficult to actually then type text and all of that because I scroll past copy after copy of this massive wall of text. So I would like to link it to something smaller. A variable? A list? I don't know what the answer is. I'd like to call back to this massive working randomizer without having to reproduce it every single time.<br/><br/>Trying to create a variable that contains the functioning {random:} text processor code produces the error in my previous reply. So, any way to take that functioning text processor {random:} code and link it to a variable or something else that doesn't take up so much space? Or is cutting and pasting the giant {random:} wall of text over and over and over my best option?<br/><br/>Code: <br/><br/>player.brittany = {random:Brittany:Brittany, {random:smiling widely:smiling slyly:filled with enthusiasm:always optimistic:her face a mask:filled with hope:thoughts wandering:blonde hair saying in the breeze:eyes sparkling:full of joy:anger building:lost in thought},:The {random:blonde:blue eyed:blonde-haired:always optimistic:lovely:enthusiastic:smiling:beautiful:amazing:brave:hard-working:long-haired:willful:chosen:annointed:athletic:quick-witted:tricky:nimble:naturally gifted} {random:heroine:huntress:fighter:slayer:battler:girl:woman:beauty}}<br/><br/>Error: <br/><br/>Error running script&#058; Error compiling expression 'The willful beauty': SyntaxError: Unexpected character: {Line: 1, Column: 1<br/><br/>What is really frustrating is that it spits out a correctly functioning random expression in the error message every single time. I just wish it actually spit out the expression itself.",
      "PostDate": "2014-12-23T20:46:46+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "33127",
      "UserId": 0,
      "Username": "Silver",
      "UserAvatar": null,
      "UserGravatar": "13024be5ccbb463906b024d5bd3cb5e8",
      "EditableText": "When you have a script that you use repeatedly you instead create a function. Then you call upon that function as and when needed. I'm not entirely sure how it works myself. But it would be calling exactly the same script with exactly the same text which I'm sure isn't what you want.\n\nTbh, I don't think you're ever going to get around working with walls of text given what it is you want to do. There's other ways of working with variables but I'm not that far advanced with Quest yet to have a grasp of it. One of the coders might know though.",
      "EditableFormat": "bbcode",
      "HTML": "When you have a script that you use repeatedly you instead create a function. Then you call upon that function as and when needed. I'm not entirely sure how it works myself. But it would be calling exactly the same script with exactly the same text which I'm sure isn't what you want.<br/><br/>Tbh, I don't think you're ever going to get around working with walls of text given what it is you want to do. There's other ways of working with variables but I'm not that far advanced with Quest yet to have a grasp of it. One of the coders might know though.",
      "PostDate": "2014-12-23T20:56:30+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "33129",
      "UserId": 0,
      "Username": "jaynabonne",
      "UserAvatar": "6579_1344778256.jpg",
      "UserGravatar": "379859a7f1952a65399fc63997e68f0b",
      "EditableText": "What you really want is either:\n1) a text processor option that calls a function (and injects the resulting string), or\n2) the ability for the text processor to recurse on replaced strings, so you could set an attribute to that monster string and then invoke the string in text processor markup but then have the text processor kick in again on the replaced string. (Probably not the best way to describe that.)\nNeither exists at the moment.\n\nThe only way I can think to do it is to construct the text with script, which is a real pain.\n\nActually, that's only true if you need and want multiple instances within the same body of text. If you only have one instance per move, then you could set up an &quot;on room entry&quot; script to randomly generate the string into a variable and then just use the variable in your text.",
      "EditableFormat": "bbcode",
      "HTML": "What you really want is either:<br/>1) a text processor option that calls a function (and injects the resulting string), or<br/>2) the ability for the text processor to recurse on replaced strings, so you could set an attribute to that monster string and then invoke the string in text processor markup but then have the text processor kick in again on the replaced string. (Probably not the best way to describe that.)<br/>Neither exists at the moment.<br/><br/>The only way I can think to do it is to construct the text with script, which is a real pain.<br/><br/>Actually, that's only true if you need and want multiple instances within the same body of text. If you only have one instance per move, then you could set up an &quot;on room entry&quot; script to randomly generate the string into a variable and then just use the variable in your text.",
      "PostDate": "2014-12-23T21:19:03+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "33130",
      "UserId": 0,
      "Username": "bencorman",
      "UserAvatar": null,
      "UserGravatar": "ca2c0aec15c7b3f74c9c625f0e7c6b68",
      "EditableText": "Thanks for the quick replies, everyone. Really appreciate your help. I edited my previous post to contain the code that I am trying to use, but it sure sounds like I have to reproduce the massive wall of text every time. If anyone ever figures out how not to do that, please feel free to let me know.",
      "EditableFormat": "bbcode",
      "HTML": "Thanks for the quick replies, everyone. Really appreciate your help. I edited my previous post to contain the code that I am trying to use, but it sure sounds like I have to reproduce the massive wall of text every time. If anyone ever figures out how not to do that, please feel free to let me know.",
      "PostDate": "2014-12-23T21:32:29+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "33131",
      "UserId": 0,
      "Username": "Silver",
      "UserAvatar": null,
      "UserGravatar": "13024be5ccbb463906b024d5bd3cb5e8",
      "EditableText": "I'm toying with the idea of doing something similar. But just having between a few and half dozen alternatively written paragraphs to keep things interesting. Randomly generating all the individual nouns and adjectives sounds like a place beyond Hades tbh.\n\nEspecially as you would then need to start creating millions of scenery objects to suit. Or at least those working with a parser would. <!-- s:mrgreen: --><img src=\"{SMILIES_PATH}/icon_mrgreen.gif\" alt=\":mrgreen:\" title=\"Mr. Green\" /><!-- s:mrgreen: -->",
      "EditableFormat": "bbcode",
      "HTML": "I'm toying with the idea of doing something similar. But just having between a few and half dozen alternatively written paragraphs to keep things interesting. Randomly generating all the individual nouns and adjectives sounds like a place beyond Hades tbh.<br/><br/>Especially as you would then need to start creating millions of scenery objects to suit. Or at least those working with a parser would. <!-- s:mrgreen: --><img src=\"{SMILIES_PATH}/icon_mrgreen.gif\" alt=\":mrgreen:\" title=\"Mr. Green\" /><!-- s:mrgreen: -->",
      "PostDate": "2014-12-23T21:50:17+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "33132",
      "UserId": 0,
      "Username": "jaynabonne",
      "UserAvatar": "6579_1344778256.jpg",
      "UserGravatar": "379859a7f1952a65399fc63997e68f0b",
      "EditableText": "Well, I put together a working solution. It includes a library (TextProcessorScript.aslx) with an override for the text processor output function to allow an object attribute to be a delegate that returns a string value. (It can't be a standard script attribute since scripts can't return values. For that, you have to use a delegate.) The library defines a delegate called &quot;TextProcessorFunction&quot;, which returns a string.\n\nThe sample code has a delegate attribute on the player object which (I believe) reproduces in code what you were doing in your text processor macro. The delegate name is &quot;rname&quot; (for &quot;random name&quot;), and you can inject it into your text at any point by using &quot;{player.rname}&quot;. It will then substitute in a randomly generated string. \n\nUnfortunately, gamebook mode doesn't allow attributes to be edited (or even seen) in the GUI editor, so you'll have to use Code View to see what I've done. If you would like, if you post your game file, I could do the edits to get this in place. At the very least, you need to include the library in your game and then set things up as I did in the sample.\n\nIf you try this out, both files need to be in the same folder.\n\nNote that the library can be used in any game, even text adventure games (as opposed to gamebooks).",
      "EditableFormat": "bbcode",
      "HTML": "Well, I put together a working solution. It includes a library (TextProcessorScript.aslx) with an override for the text processor output function to allow an object attribute to be a delegate that returns a string value. (It can't be a standard script attribute since scripts can't return values. For that, you have to use a delegate.) The library defines a delegate called &quot;TextProcessorFunction&quot;, which returns a string.<br/><br/>The sample code has a delegate attribute on the player object which (I believe) reproduces in code what you were doing in your text processor macro. The delegate name is &quot;rname&quot; (for &quot;random name&quot;), and you can inject it into your text at any point by using &quot;{player.rname}&quot;. It will then substitute in a randomly generated string. <br/><br/>Unfortunately, gamebook mode doesn't allow attributes to be edited (or even seen) in the GUI editor, so you'll have to use Code View to see what I've done. If you would like, if you post your game file, I could do the edits to get this in place. At the very least, you need to include the library in your game and then set things up as I did in the sample.<br/><br/>If you try this out, both files need to be in the same folder.<br/><br/>Note that the library can be used in any game, even text adventure games (as opposed to gamebooks).<div><a href=\"/attachment/1124\">TextProcessorScript.aslx</a></div><div><a href=\"/attachment/1123\">randomname.aslx</a></div>",
      "PostDate": "2014-12-23T21:59:03+00:00",
      "LastEditDate": null
    }
  ]
}
