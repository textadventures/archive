{
  "Topic": {
    "TopicId": "bnxgvqdh2kmpl3462xejsw",
    "ForumId": "10",
    "Title": "StackLib",
    "LastUpdated": "2021-08-27T04:30:17.1166549Z",
    "ReplyCount": 0
  },
  "Posts": [
    {
      "PostId": "762736f1-99cf-4d4a-a19f-155c19f0c251",
      "UserId": 557126,
      "Username": "Platypus123",
      "AvatarUrl": "https://secure.gravatar.com/avatar/a0e72978ecca216e6d184311a6b5d1a7?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Hello, I newly added StackLib and I am making a keychain in the game. But the keys that I take aren't going to the keychain. I think I did eveything true but it is still not working.",
      "EditableFormat": "markdown",
      "HTML": "<p>Hello, I newly added StackLib and I am making a keychain in the game. But the keys that I take aren't going to the keychain. I think I did eveything true but it is still not working.</p>\n\n",
      "PostDate": "2021-08-27T04:30:17.1166549Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "0a6ef9ad-dffc-42fb-82f3-7027d6a3bc83",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Can you show us the game, or the part of it that isn't working?",
      "EditableFormat": "markdown",
      "HTML": "<p>Can you show us the game, or the part of it that isn't working?</p>\n\n",
      "PostDate": "2021-08-27T11:05:35.1591688Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "ef966ed3-0615-4ec7-99d5-55a05d5a4d1c",
      "UserId": 557126,
      "Username": "Platypus123",
      "AvatarUrl": "https://secure.gravatar.com/avatar/a0e72978ecca216e6d184311a6b5d1a7?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "How do I add a picture?",
      "EditableFormat": "markdown",
      "HTML": "<p>How do I add a picture?</p>\n\n",
      "PostDate": "2021-08-27T11:31:07.2227818Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "b45589ac-783b-4078-b8e5-9ba396cb2f56",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "If you want to share a picture, you can upload it to a site like imgur and give us a link. However, it would be a lot more useful to see the relevant code.",
      "EditableFormat": "markdown",
      "HTML": "<p>If you want to share a picture, you can upload it to a site like imgur and give us a link. However, it would be a lot more useful to see the relevant code.</p>\n\n",
      "PostDate": "2021-08-27T19:58:07.95684Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "db8c1c1d-385c-494b-8721-d73c20145a93",
      "UserId": 557126,
      "Username": "Platypus123",
      "AvatarUrl": "https://secure.gravatar.com/avatar/a0e72978ecca216e6d184311a6b5d1a7?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "This is the code of the key:\r\n```\r\n<object name=\"Key of the Bedroom\">\r\n        <inherit name=\"editor_object\" />\r\n        <inherit name=\"childstack_object\" />\r\n        <look>It is the old key of your bedroom.</look>\r\n        <take />\r\n        <stackparent type=\"object\">Keychain</stackparent>\r\n        <ontake type=\"script\">\r\n        </ontake>\r\n        <usedefaultprefix type=\"boolean\">false</usedefaultprefix>\r\n      </object>\r\n```\r\nAnd this is the code of the keychain:\r\n```\r\n<object name=\"Keychain\">\r\n      <inherit name=\"editor_object\" />\r\n      <inherit name=\"stack_container\" />\r\n      <alias>Keychain</alias>\r\n      <inventoryverbs type=\"stringlist\">\r\n        <value>Look at</value>\r\n      </inventoryverbs>\r\n    </object>\r\n```\r\n",
      "EditableFormat": "markdown",
      "HTML": "<p>This is the code of the key:</p>\n<pre><code>&lt;object name=\"Key of the Bedroom\"&gt;\n        &lt;inherit name=\"editor_object\" /&gt;\n        &lt;inherit name=\"childstack_object\" /&gt;\n        &lt;look&gt;It is the old key of your bedroom.&lt;/look&gt;\n        &lt;take /&gt;\n        &lt;stackparent type=\"object\"&gt;Keychain&lt;/stackparent&gt;\n        &lt;ontake type=\"script\"&gt;\n        &lt;/ontake&gt;\n        &lt;usedefaultprefix type=\"boolean\"&gt;false&lt;/usedefaultprefix&gt;\n      &lt;/object&gt;\n</code></pre>\n<p>And this is the code of the keychain:</p>\n<pre><code>&lt;object name=\"Keychain\"&gt;\n      &lt;inherit name=\"editor_object\" /&gt;\n      &lt;inherit name=\"stack_container\" /&gt;\n      &lt;alias&gt;Keychain&lt;/alias&gt;\n      &lt;inventoryverbs type=\"stringlist\"&gt;\n        &lt;value&gt;Look at&lt;/value&gt;\n      &lt;/inventoryverbs&gt;\n    &lt;/object&gt;\n</code></pre>\n\n",
      "PostDate": "2021-08-28T04:09:20.4932926Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "430df1cf-564e-4a89-a82c-3af2bcceec48",
      "UserId": 557126,
      "Username": "Platypus123",
      "AvatarUrl": "https://secure.gravatar.com/avatar/a0e72978ecca216e6d184311a6b5d1a7?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "It's been 2 days and unfortunately I still have not received a reply. I will be pleased if you help me.",
      "EditableFormat": "markdown",
      "HTML": "<p>It's been 2 days and unfortunately I still have not received a reply. I will be pleased if you help me.</p>\n\n",
      "PostDate": "2021-08-29T07:28:30.8275405Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "4845a0ca-7148-4543-9ee2-426b702c8fad",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "I think this is your problem:\r\n```\r\n       <take />\r\n```\r\n\r\nLooks like you're setting the key's \"take\" behaviour to \"Default can be taken\", replacing the script that's added by childstack_object.\r\n\r\nTry removing that property from the key.",
      "EditableFormat": "markdown",
      "HTML": "<p>I think this is your problem:</p>\n<pre><code>       &lt;take /&gt;\n</code></pre>\n<p>Looks like you're setting the key's \"take\" behaviour to \"Default can be taken\", replacing the script that's added by childstack_object.</p>\n<p>Try removing that property from the key.</p>\n\n",
      "PostDate": "2021-08-29T10:11:23.9271316Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "ef6c0271-a88a-480d-806b-617022a0f80b",
      "UserId": 557126,
      "Username": "Platypus123",
      "AvatarUrl": "https://secure.gravatar.com/avatar/a0e72978ecca216e6d184311a6b5d1a7?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "I did it but there is still a take button but it is not working. The key isn't disappearing or going to keychain. It's just giving me you take it message.",
      "EditableFormat": "markdown",
      "HTML": "<p>I did it but there is still a take button but it is not working. The key isn't disappearing or going to keychain. It's just giving me you take it message.</p>\n\n",
      "PostDate": "2021-08-29T16:56:35.8542223Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "d55124c7-a167-4619-8183-45fecb3d1f2e",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "> I did it but there is still a take button but it is not working. The key isn't disappearing or going to keychain. It's just giving me you take it message.\r\n\r\nIs there no longer a `take` attribute on the key?\r\n\r\n\"You take it\" should only appear if you have that `<take />` attribute (which corresponds to the \"can be taken\" checkbox in the editor).",
      "EditableFormat": "markdown",
      "HTML": "<blockquote>\n<p>I did it but there is still a take button but it is not working. The key isn't disappearing or going to keychain. It's just giving me you take it message.</p>\n</blockquote>\n<p>Is there no longer a <code>take</code> attribute on the key?</p>\n<p>\"You take it\" should only appear if you have that <code>&lt;take /&gt;</code> attribute (which corresponds to the \"can be taken\" checkbox in the editor).</p>\n\n",
      "PostDate": "2021-08-29T18:47:45.6464386Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "c3bf6e0f-198a-482b-996f-adab3eb98701",
      "UserId": 557126,
      "Username": "Platypus123",
      "AvatarUrl": "https://secure.gravatar.com/avatar/a0e72978ecca216e6d184311a6b5d1a7?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "There is, but it is \"false\"",
      "EditableFormat": "markdown",
      "HTML": "<p>There is, but it is \"false\"</p>\n\n",
      "PostDate": "2021-08-29T20:12:22.3014507Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "a86cfe32-9c7e-4381-8b80-0bbe70bd1a89",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": ">There is, but it is \"false\"\r\n\r\nThat's your problem then.\r\n\r\nIf it has a `take` attribute that is true, it follows the default behaviour for an object that can be taken.\r\n\r\nIf it has a `take` attribute that is false, it follows the default behaviour for an object that can't be taken.\r\n\r\nIf it has a `take` attribute that is a script, it will run that script when the player tries to take it.\r\n\r\nIf it *doesn't have* a `take` attribute, then it will inherit this attribute from its types.\r\n\r\nThe `take` attribute of the `childstack_object` type adds it to the appropriate stack.\r\n\r\nIn order to use this attribute, the object needs to **not have** a `take` attribute of its own.\r\n\r\nI believe that (because of an oddity in the way the editor handles types), if you click the \"Can be taken\" box in the editor (either to select it or deselect it) then you will need to use code view to remove the `take` attribute again; as the editor doesn't give a way to entirely remove an attribute.\r\n\r\nAlternatively, you could give it a \"Run a script\" take attribute that is a copy of the one from the childstack_object type:\r\n```\r\n      if (this.alias = null) {\r\n        this.alias = this.name\r\n      }\r\n      container = this.stackparent\r\n\r\n      this.parent = container\r\n      SetStack(container)\r\n      if (this.takemsg = null) {\r\n        msg(DynamicTemplate(\"TakeSuccessful\", object))\r\n      }      \r\n      else {\r\n        msg (this.takemsg)\r\n      }\r\n```",
      "EditableFormat": "markdown",
      "HTML": "<blockquote>\n<p>There is, but it is \"false\"</p>\n</blockquote>\n<p>That's your problem then.</p>\n<p>If it has a <code>take</code> attribute that is true, it follows the default behaviour for an object that can be taken.</p>\n<p>If it has a <code>take</code> attribute that is false, it follows the default behaviour for an object that can't be taken.</p>\n<p>If it has a <code>take</code> attribute that is a script, it will run that script when the player tries to take it.</p>\n<p>If it <em>doesn't have</em> a <code>take</code> attribute, then it will inherit this attribute from its types.</p>\n<p>The <code>take</code> attribute of the <code>childstack_object</code> type adds it to the appropriate stack.</p>\n<p>In order to use this attribute, the object needs to <strong>not have</strong> a <code>take</code> attribute of its own.</p>\n<p>I believe that (because of an oddity in the way the editor handles types), if you click the \"Can be taken\" box in the editor (either to select it or deselect it) then you will need to use code view to remove the <code>take</code> attribute again; as the editor doesn't give a way to entirely remove an attribute.</p>\n<p>Alternatively, you could give it a \"Run a script\" take attribute that is a copy of the one from the childstack_object type:</p>\n<pre><code>      if (this.alias = null) {\n        this.alias = this.name\n      }\n      container = this.stackparent\n\n      this.parent = container\n      SetStack(container)\n      if (this.takemsg = null) {\n        msg(DynamicTemplate(\"TakeSuccessful\", object))\n      }      \n      else {\n        msg (this.takemsg)\n      }\n</code></pre>\n\n",
      "PostDate": "2021-08-30T01:09:22.724563Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "fb043fb8-34a5-4986-82c9-5f26f83dde05",
      "UserId": 557126,
      "Username": "Platypus123",
      "AvatarUrl": "https://secure.gravatar.com/avatar/a0e72978ecca216e6d184311a6b5d1a7?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "I am taking this error but it is working:\r\n```Error running script: Error compiling expression 'container.parent = Stack Containers': Unknown object or variable 'Stack Containers'```\r\nI am taking this error both when I take it and look at it in the keychain. Also, before this stack thing, I was using \"if player is carrying object\" script to pass through a door. But it isn't working now because the key is in the keychain. How can I make an alternative door system?",
      "EditableFormat": "markdown",
      "HTML": "<p>I am taking this error but it is working:<br>\n<code>Error running script: Error compiling expression 'container.parent = Stack Containers': Unknown object or variable 'Stack Containers'</code><br>\nI am taking this error both when I take it and look at it in the keychain. Also, before this stack thing, I was using \"if player is carrying object\" script to pass through a door. But it isn't working now because the key is in the keychain. How can I make an alternative door system?</p>\n\n",
      "PostDate": "2021-08-30T06:23:19.0417256Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "f713ea09-4188-4632-83a8-a5f377bc09ba",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "There needs to be an inaccessible room named `Stack Containers`, where stack containers (such as the keyring) are stored until the player has items that can go in them.",
      "EditableFormat": "markdown",
      "HTML": "<p>There needs to be an inaccessible room named <code>Stack Containers</code>, where stack containers (such as the keyring) are stored until the player has items that can go in them.</p>\n\n",
      "PostDate": "2021-08-30T08:34:37.9569153Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "195a790d-39d0-411b-8fb2-52736b8e6fa4",
      "UserId": 557126,
      "Username": "Platypus123",
      "AvatarUrl": "https://secure.gravatar.com/avatar/a0e72978ecca216e6d184311a6b5d1a7?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Thanks, it worked. What about the alternative door system?",
      "EditableFormat": "markdown",
      "HTML": "<p>Thanks, it worked. What about the alternative door system?</p>\n\n",
      "PostDate": "2021-08-30T09:25:06.8035083Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "1f3883f0-567b-4e55-bd75-e01064e25cc7",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "My first guess would be changing your if statement to use an expression like `Contains (Keychain, Key of the Bedroom)` to check if the key is on the chain.",
      "EditableFormat": "markdown",
      "HTML": "<p>My first guess would be changing your if statement to use an expression like <code>Contains (Keychain, Key of the Bedroom)</code> to check if the key is on the chain.</p>\n\n",
      "PostDate": "2021-08-30T14:06:09.7471601Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "eb17ce76-fc85-4e69-a2aa-5be2f676a4d7",
      "UserId": 557126,
      "Username": "Platypus123",
      "AvatarUrl": "https://secure.gravatar.com/avatar/a0e72978ecca216e6d184311a6b5d1a7?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Thanks, it worked. Also I will be very happy if you look at that topic of mine:\r\nhttp://textadventures.co.uk/forum/quest/topic/2-uxyot1n0cw2p-70em3yq/monsters-in-combatlib",
      "EditableFormat": "markdown",
      "HTML": "<p>Thanks, it worked. Also I will be very happy if you look at that topic of mine:<br>\nhttp://textadventures.co.uk/forum/quest/topic/2-uxyot1n0cw2p-70em3yq/monsters-in-combatlib</p>\n\n",
      "PostDate": "2021-08-30T16:50:46.082465Z",
      "LastEditDate": null,
      "link": null
    }
  ]
}
