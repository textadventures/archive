{
  "Topic": {
    "TopicId": "ansths9yfuio5cifhirebg",
    "ForumId": "10",
    "Title": "Font Change Query [Solved]",
    "LastUpdated": "2018-11-13T11:03:37.6604419Z",
    "ReplyCount": 0
  },
  "Posts": [
    {
      "PostId": "00f4300c-b00d-4cbd-80d5-dce501442977",
      "UserId": 199273,
      "Username": "DavyB",
      "AvatarUrl": "http://i.imgur.com/8BcaZCyb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "I've updated an old (2007) game which used the Comic Sans font. I personally think it is perfect for the game but I know some have a problem with Comic Sans. Taking that into account, the game (http://textadventures.co.uk/games/view/m4a7-u7kyukbtvhaqtxq-g/sir-loin-and-the-coming-of-age) offers a different font and provides a FONT command to allow switching between the two.\r\n\r\nIn making that switch I thought it was sufficient to use SetFontName but I also found I had to use SetWebFontName when switching back. Can someone explain the relationship here?\r\n\r\nThis is the code I'm using:\r\n```\r\nif (game.font_old) {\r\n  game.font_old = false\r\n  SetFontName (\"'Arial, Helvetica, sans-serif\")\r\n  SetWebFontName (\"Della Respira\")\r\n}\r\nelse {\r\n  game.font_old = true\r\n  SetFontName (\"'Comic Sans MS', cursive, sans-serif\")\r\n}\r\nmsg (\"Font has changed. Revert by typing FONT again.\")\r\n```\r\nHappy to take views on the use of Comic Sans as well!",
      "EditableFormat": "markdown",
      "HTML": "<p>I've updated an old (2007) game which used the Comic Sans font. I personally think it is perfect for the game but I know some have a problem with Comic Sans. Taking that into account, the game (http://textadventures.co.uk/games/view/m4a7-u7kyukbtvhaqtxq-g/sir-loin-and-the-coming-of-age) offers a different font and provides a FONT command to allow switching between the two.</p>\n<p>In making that switch I thought it was sufficient to use SetFontName but I also found I had to use SetWebFontName when switching back. Can someone explain the relationship here?</p>\n<p>This is the code I'm using:</p>\n<pre><code>if (game.font_old) {\n  game.font_old = false\n  SetFontName (\"'Arial, Helvetica, sans-serif\")\n  SetWebFontName (\"Della Respira\")\n}\nelse {\n  game.font_old = true\n  SetFontName (\"'Comic Sans MS', cursive, sans-serif\")\n}\nmsg (\"Font has changed. Revert by typing FONT again.\")\n</code></pre>\n<p>Happy to take views on the use of Comic Sans as well!</p>\n\n",
      "PostDate": "2018-11-13T11:03:37.6604419Z",
      "LastEditDate": "2018-11-13T19:22:42.6807409Z",
      "link": null
    },
    {
      "PostId": "7e1543e8-785a-4d6a-a60b-f9649ca66a08",
      "UserId": 318253,
      "Username": "K.V.",
      "AvatarUrl": "https://i.imgur.com/mBf7TBeb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Hello.\r\n\r\n```SetWebFontName``` only works when Quest is connected to the internet.  It downloads the listed font(s) from http://www.google.com/webfonts.  The first font listed will be the font which is set, unless that font is unavailable for any reason.  In those cases, Quest will attempt to set the next font on the list.\r\n\r\n\r\n```SetFontName``` sets a Windows system font if the internet is not available.  If the system font is not installed on the player's machine, the display will switch to the next font listed.  Presumably, all the system fonts which are listed in the editor *should* exist, as Quest is Windows only, and Windows is pretty good at keeping the same fonts across all versions of Windows.\r\n\r\nIt seems like the issue with Comic Sans MS not loading ended up being a problem with the Quest player settings, not the Windows environment.  I can't find the old thread, but it seems like the OP had \"Use default game font\" unchecked in the options.\r\n\r\n---\r\nSo, in a nutshell, if you use ```SetWebFontName``` to use a Google font, this will override the ```SetFontName``` settings when there is an internet connection and the Google font is available.  With no internet connection, ```SetFontName``` is the backup and sets the current font to a Windows system font.\r\n\r\n---\r\nADVANCED USERS:  If you include the custom font with the game, you can use ```SetFontName``` and point to that font, as the font is included and does not need to be downloaded via the internet.  (This is complicated to do.  It seems like you have to convert your font to Base64 and all sorts of other things, but it can be done.)\r\n\r\n---\r\nThe best practice when changing from the default font is to find Google fonts and system fonts you like and set up safety catches.  Plan for the Google font to be used by most players.  Only the players with no internet connection during play (which should be a very small percentage of players) will see the Windows system font to which ```SetFontName``` point.\r\n\r\nHere's some info concerning fonts and how they are loaded when fallbacks are listed:\r\nhttps://www.w3schools.com/cssref/css_websafe_fonts.asp",
      "EditableFormat": "markdown",
      "HTML": "<p>Hello.</p>\n<p><code>SetWebFontName</code> only works when Quest is connected to the internet.  It downloads the listed font(s) from http://www.google.com/webfonts.  The first font listed will be the font which is set, unless that font is unavailable for any reason.  In those cases, Quest will attempt to set the next font on the list.</p>\n<p><code>SetFontName</code> sets a Windows system font if the internet is not available.  If the system font is not installed on the player's machine, the display will switch to the next font listed.  Presumably, all the system fonts which are listed in the editor <em>should</em> exist, as Quest is Windows only, and Windows is pretty good at keeping the same fonts across all versions of Windows.</p>\n<p>It seems like the issue with Comic Sans MS not loading ended up being a problem with the Quest player settings, not the Windows environment.  I can't find the old thread, but it seems like the OP had \"Use default game font\" unchecked in the options.</p>\n<hr>\n<p>So, in a nutshell, if you use <code>SetWebFontName</code> to use a Google font, this will override the <code>SetFontName</code> settings when there is an internet connection and the Google font is available.  With no internet connection, <code>SetFontName</code> is the backup and sets the current font to a Windows system font.</p>\n<hr>\n<p>ADVANCED USERS:  If you include the custom font with the game, you can use <code>SetFontName</code> and point to that font, as the font is included and does not need to be downloaded via the internet.  (This is complicated to do.  It seems like you have to convert your font to Base64 and all sorts of other things, but it can be done.)</p>\n<hr>\n<p>The best practice when changing from the default font is to find Google fonts and system fonts you like and set up safety catches.  Plan for the Google font to be used by most players.  Only the players with no internet connection during play (which should be a very small percentage of players) will see the Windows system font to which <code>SetFontName</code> point.</p>\n<p>Here's some info concerning fonts and how they are loaded when fallbacks are listed:<br>\nhttps://www.w3schools.com/cssref/css_websafe_fonts.asp</p>\n\n",
      "PostDate": "2018-11-13T12:44:34.8887702Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "f1e3e9b4-27d6-4fc0-890b-9149e0d4e815",
      "UserId": 318253,
      "Username": "K.V.",
      "AvatarUrl": "https://i.imgur.com/mBf7TBeb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Here's what the game looks like when playing in Firefox and Chrome (and in the desktop version of Quest, of course) on a Windows 10 machine:\r\n\r\n![image](https://user-images.githubusercontent.com/30656341/48414607-d8f18500-e710-11e8-9eb5-ca4bdd608327.png)",
      "EditableFormat": "markdown",
      "HTML": "<p>Here's what the game looks like when playing in Firefox and Chrome (and in the desktop version of Quest, of course) on a Windows 10 machine:</p>\n<p><img src=\"https://user-images.githubusercontent.com/30656341/48414607-d8f18500-e710-11e8-9eb5-ca4bdd608327.png\" alt=\"image\"></p>\n\n",
      "PostDate": "2018-11-13T12:58:16.43139Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "5e2413c9-a165-412c-968d-b205a3a4fa75",
      "UserId": 318253,
      "Username": "K.V.",
      "AvatarUrl": "https://i.imgur.com/mBf7TBeb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Here's what the game looks like in Firefox and Chromium on a Linux machine:\r\n![image](https://user-images.githubusercontent.com/30656341/48415223-671a3b00-e712-11e8-8ec5-f99562f97310.png)",
      "EditableFormat": "markdown",
      "HTML": "<p>Here's what the game looks like in Firefox and Chromium on a Linux machine:<br>\n<img src=\"https://user-images.githubusercontent.com/30656341/48415223-671a3b00-e712-11e8-8ec5-f99562f97310.png\" alt=\"image\"></p>\n\n",
      "PostDate": "2018-11-13T13:05:24.386469Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "4b732de2-f063-40d7-a171-2ed7817a907e",
      "UserId": 318253,
      "Username": "K.V.",
      "AvatarUrl": "https://i.imgur.com/mBf7TBeb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Here's what it looks like in Chrome on my phone:\r\n\r\n<img src=\"https://user-images.githubusercontent.com/30656341/48415608-777ee580-e713-11e8-8608-41a1e9c01d7f.png\" width=\"50%\">",
      "EditableFormat": "markdown",
      "HTML": "<p>Here's what it looks like in Chrome on my phone:</p>\n<img src=\"https://user-images.githubusercontent.com/30656341/48415608-777ee580-e713-11e8-8608-41a1e9c01d7f.png\" width=\"50%\">\n\n",
      "PostDate": "2018-11-13T13:12:37.5434084Z",
      "LastEditDate": "2018-11-13T13:13:39.9365872Z",
      "link": null
    },
    {
      "PostId": "3a61e560-c4a4-40e1-8744-d0c478573184",
      "UserId": 318253,
      "Username": "K.V.",
      "AvatarUrl": "https://i.imgur.com/mBf7TBeb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Custom fonts, audio, and video are the biggest pains when designing something cross-platform.",
      "EditableFormat": "markdown",
      "HTML": "<p>Custom fonts, audio, and video are the biggest pains when designing something cross-platform.</p>\n\n",
      "PostDate": "2018-11-13T13:53:11.6155219Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "8d3cd663-76ea-4781-9a69-1ccfa8b2135c",
      "UserId": 199273,
      "Username": "DavyB",
      "AvatarUrl": "http://i.imgur.com/8BcaZCyb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Thanks (as always) K.V.! You were very helpful when I last had a problem in this area (https://textadventures.co.uk/forum/quest/topic/a_emp658v06eal16x4stqw/a-weird-font-problem) but I'm ashamed to admit that I didn't take the time to fully understand the problem or its solution at the time. What I'd also forgotten was that the main argument for not using Comic Sans is that it is not a Google font and so can't be used consistently across all environments. I'll leave the switch to Comic Sans as an option, with responsibility for it working falling on the player.\r\n\r\nI also need to check that other games in which I switch fonts (when reading notes, etc.) work in all circumstances.\r\n\r\nI'll not close the thread until I properly understand this time...",
      "EditableFormat": "markdown",
      "HTML": "<p>Thanks (as always) K.V.! You were very helpful when I last had a problem in this area (https://textadventures.co.uk/forum/quest/topic/a_emp658v06eal16x4stqw/a-weird-font-problem) but I'm ashamed to admit that I didn't take the time to fully understand the problem or its solution at the time. What I'd also forgotten was that the main argument for not using Comic Sans is that it is not a Google font and so can't be used consistently across all environments. I'll leave the switch to Comic Sans as an option, with responsibility for it working falling on the player.</p>\n<p>I also need to check that other games in which I switch fonts (when reading notes, etc.) work in all circumstances.</p>\n<p>I'll not close the thread until I properly understand this time...</p>\n\n",
      "PostDate": "2018-11-13T15:05:51.9263775Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "5efe9a37-0650-43ac-8d12-158052330290",
      "UserId": 1346,
      "Username": "The Pixie",
      "AvatarUrl": "https://secure.gravatar.com/avatar/cfa37e927f96177bcf6053ae8f108f77?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "My understanding is that `SetWebFontName` tells Quest to download the font ready for use, so only needs to be done once per font, even if you are switching between fonts every two minutes.\r\n\r\nThe thing about `SetFontName` (and indeed fonts in HTML/CSS) is that there is a built-in mechanism for falling back on another font, if one is not available. I think this will work:\r\n```\r\nSetWebFontName (\"Della Respira\")\r\nSetFontName (\"'Comic Sans MS', 'Della Respira', cursive, sans-serif\")\r\n```\r\nSo the first lines will download \"Della Respira\". The second tells Quest to use \"Comic Sans MS\", and if that is not available, use \"Della Respira\", and if not that, use the cursive font, and failing that, sans serif.",
      "EditableFormat": "markdown",
      "HTML": "<p>My understanding is that <code>SetWebFontName</code> tells Quest to download the font ready for use, so only needs to be done once per font, even if you are switching between fonts every two minutes.</p>\n<p>The thing about <code>SetFontName</code> (and indeed fonts in HTML/CSS) is that there is a built-in mechanism for falling back on another font, if one is not available. I think this will work:</p>\n<pre><code>SetWebFontName (\"Della Respira\")\nSetFontName (\"'Comic Sans MS', 'Della Respira', cursive, sans-serif\")\n</code></pre>\n<p>So the first lines will download \"Della Respira\". The second tells Quest to use \"Comic Sans MS\", and if that is not available, use \"Della Respira\", and if not that, use the cursive font, and failing that, sans serif.</p>\n\n",
      "PostDate": "2018-11-13T15:40:53.457375Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "602a2de1-6efa-4fd8-998d-c7454a199a46",
      "UserId": 318253,
      "Username": "K.V.",
      "AvatarUrl": "https://i.imgur.com/mBf7TBeb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Ah!\r\n\r\nThat makes sense.",
      "EditableFormat": "markdown",
      "HTML": "<p>Ah!</p>\n<p>That makes sense.</p>\n\n",
      "PostDate": "2018-11-13T15:49:22.7277603Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "5df6479d-7d5b-4785-ba60-e58f098f9156",
      "UserId": 199273,
      "Username": "DavyB",
      "AvatarUrl": "http://i.imgur.com/8BcaZCyb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Excellent! Thread closed!!",
      "EditableFormat": "markdown",
      "HTML": "<p>Excellent! Thread closed!!</p>\n\n",
      "PostDate": "2018-11-13T19:22:02.3169991Z",
      "LastEditDate": null,
      "link": null
    }
  ]
}
