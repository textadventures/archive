{
  "Topic": {
    "TopicId": "iascasll-euvg7gtqatqtq",
    "ForumId": "10",
    "Title": "(beginner) How to add a \"thirst\" feature?",
    "LastUpdated": "2021-02-09T01:09:19.7119822Z",
    "ReplyCount": 0
  },
  "Posts": [
    {
      "PostId": "04a865e3-788e-4ea6-b39d-475f26721f6b",
      "UserId": 453289,
      "Username": "RobotBand",
      "AvatarUrl": "https://i.imgur.com/ag4i7yqb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "In my game, the player character will have to drink water every couple of steps to avoid heat stroke in the desert. The way I want to go about doing this is by having something in the Status tab labeled \"Thirst\" and it will go down every time the player enters a new room. When the counter hits zero, the player will die. \r\n\r\nI have no idea how to go about doing this, and I honestly know nothing about coding to begin with. Just a simple, straightforward answer would be very appreciated :)",
      "EditableFormat": "markdown",
      "HTML": "<p>In my game, the player character will have to drink water every couple of steps to avoid heat stroke in the desert. The way I want to go about doing this is by having something in the Status tab labeled \"Thirst\" and it will go down every time the player enters a new room. When the counter hits zero, the player will die.</p>\n<p>I have no idea how to go about doing this, and I honestly know nothing about coding to begin with. Just a simple, straightforward answer would be very appreciated :)</p>\n\n",
      "PostDate": "2021-02-09T01:09:19.7119822Z",
      "LastEditDate": "2021-02-09T01:17:28.0245451Z",
      "link": null
    },
    {
      "PostId": "624b9af4-edc0-40f0-afd1-3adb82c7628f",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "This should be a pretty simple thing to achieve. As you say you have no coding experience, I'll include screenshots of the GUI, as well as the code that they correspond to if you click 'code view'. Hopefully you'll be able to see how the two versions relate to each other.\r\n\r\n> I have no idea how to go about doing this, and I honestly know nothing about coding to begin with.\r\n\r\nI'll go through this step by step. I don't know how much you already know, so I'll go over every detail. Sorry for the excessive wordage if you can already do a lot of this. But hopefully you'll understand how it works, so you'll find it easier to see a solution in future.\r\n\r\nEven if you find that you prefer working with the GUI interface for scripts, it's still good to be familiar with code view, so you can use it to copy and paste code when discussing stuff on the forum.\r\n\r\nTaking this step by step…\r\n\r\n> The way I want to go about doing this is by having something in the Status tab labeled \"Thirst\"\r\n\r\nSo first, you will want to create a `thirst` attribute. There are two different ways to do this: using script, or using the 'Attributes' tab. The Attributes tab doesn't exist in the online editor, so I can't give any more details about that method.\r\n\r\nIn the web editor, creating an attribute is as simple as giving it a value. You can put this script either in the game's start script, or in the object's initialisation script:\r\n<div style=\"float: right; max-width:50%;\"><img src=\"https://mrangel.info/Questthirsttut1.png\" alt=\"Set variable [game.pov.thirst] = [expression][100]\"/></div><pre><code>game.pov.thirst = 100</code></pre>\r\n\r\nHere I've used the name `game.pov.thirst` to refer to an attribute of the player. You could alternatively use `player.thirst` (or whatever the name of the player object is), but there's a lot of cases where people have had problems because they changed the name of the player object, or allowed the player to switch between characters, and a script no longer works. So using `game.pov` is a good habit to get into; it always means the character that the player is currently controlling.\r\n\r\n> something in the Status tab\r\n\r\nYou can easily add thirst to the status attributes pane. You can add status attributes on the 'Player' tab of the game. I believe you can also do this on the 'Attributes' tab, but that isn't available in the web version.\r\n<img src=\"https://mrangel.info/Questthirsttut2.png\" alt=\"Status attribute key: [thirst], value: [Thirst: !]\"/>\r\nIn this example the key is `thirst` (the exact name of your attribute), and the value is `Thirst: !`, which is what will be displayed to the player. the `!` will be replaced by the current value of the attribute.\r\n\r\n> it will go down every time the player enters a new room\r\n\r\nSimple enough. On the game's \"Scripts\" tab, there is a space for a script which will run every time the player enters a room.\r\n<div style=\"float: right; max-width:50%;\"><img src=\"https://mrangel.info/Questthirsttut3.png\" alt=\"Set variable [game.pov.thirst] = [expression][game.pov.thirst - 1]\"/></div><pre><code>game.pov.thirst = game.pov.thirst - 1</code></pre>\r\n\r\nIn this case, the attribute we're changing is `game.pov.thirst`, and we're setting it to `game.pov.thirst - 1` - 1 less than its previous value.\r\n\r\n> When the counter hits zero, the player will die.\r\n\r\nThere are two ways you could do this. You could modify the roomenter script:\r\n<div style=\"float: right; max-width:50%;\"><img src=\"https://mrangel.info/Questthirsttut4.png\" alt=\"a few lines of code\"/></div><pre><code>game.pov.thirst = game.pov.thirst - 1\r\nif (game.pov.thirst <= 0) {\r\n  msg (\"You have succumbed to heat stroke, and died.\")\r\n  finish\r\n}</code></pre>\r\n\r\n**or** you could put the if statement in a script attribute named `changedthirst` - this ensures that it will be checked every time the `thirst` attribute changes. I believe the Attributes tab has an option to add a change script to each attribute if you're using the desktop editor. In the web version, you would create it in the same place you set up the attribute:\r\n```\r\ngame.pov.thirst = 100\r\ngame.pov.changedthirst => {\r\n  if (this.thirst <= 0) {\r\n    msg (\"You have succumbed to heat stroke, and died.\")\r\n    finish\r\n  }\r\n}\r\n```\r\nUsing a changescript like this has the advantage that if an attribute is changed in a lot of places, you don't need to include the code to check if it has hit zero every time.\r\n\r\n> have to drink water every couple of steps\r\n\r\nI assume you will have an object like a water bottle, or similar. This would have a \"drink\" verb, which increases the player's thirst attribute. You've already got a script to reduce the attribute, so I think you would know how to increase it.\r\n\r\nIf there's anything I've missed, I'm happy to give a little more detail.",
      "EditableFormat": "markdown",
      "HTML": "<p>This should be a pretty simple thing to achieve. As you say you have no coding experience, I'll include screenshots of the GUI, as well as the code that they correspond to if you click 'code view'. Hopefully you'll be able to see how the two versions relate to each other.</p>\n<blockquote>\n<p>I have no idea how to go about doing this, and I honestly know nothing about coding to begin with.</p>\n</blockquote>\n<p>I'll go through this step by step. I don't know how much you already know, so I'll go over every detail. Sorry for the excessive wordage if you can already do a lot of this. But hopefully you'll understand how it works, so you'll find it easier to see a solution in future.</p>\n<p>Even if you find that you prefer working with the GUI interface for scripts, it's still good to be familiar with code view, so you can use it to copy and paste code when discussing stuff on the forum.</p>\n<p>Taking this step by step…</p>\n<blockquote>\n<p>The way I want to go about doing this is by having something in the Status tab labeled \"Thirst\"</p>\n</blockquote>\n<p>So first, you will want to create a <code>thirst</code> attribute. There are two different ways to do this: using script, or using the 'Attributes' tab. The Attributes tab doesn't exist in the online editor, so I can't give any more details about that method.</p>\n<p>In the web editor, creating an attribute is as simple as giving it a value. You can put this script either in the game's start script, or in the object's initialisation script:</p>\n<div style=\"float: right; max-width: 50%\"><img src=\"https://mrangel.info/Questthirsttut1.png\" alt=\"Set variable [game.pov.thirst] = [expression][100]\"></div><pre><code>game.pov.thirst = 100</code></pre>\n<p>Here I've used the name <code>game.pov.thirst</code> to refer to an attribute of the player. You could alternatively use <code>player.thirst</code> (or whatever the name of the player object is), but there's a lot of cases where people have had problems because they changed the name of the player object, or allowed the player to switch between characters, and a script no longer works. So using <code>game.pov</code> is a good habit to get into; it always means the character that the player is currently controlling.</p>\n<blockquote>\n<p>something in the Status tab</p>\n</blockquote>\n<p>You can easily add thirst to the status attributes pane. You can add status attributes on the 'Player' tab of the game. I believe you can also do this on the 'Attributes' tab, but that isn't available in the web version.<br>\n<img src=\"https://mrangel.info/Questthirsttut2.png\" alt=\"Status attribute key: [thirst], value: [Thirst: !]\"><br>\nIn this example the key is <code>thirst</code> (the exact name of your attribute), and the value is <code>Thirst: !</code>, which is what will be displayed to the player. the <code>!</code> will be replaced by the current value of the attribute.</p>\n<blockquote>\n<p>it will go down every time the player enters a new room</p>\n</blockquote>\n<p>Simple enough. On the game's \"Scripts\" tab, there is a space for a script which will run every time the player enters a room.</p>\n<div style=\"float: right; max-width: 50%\"><img src=\"https://mrangel.info/Questthirsttut3.png\" alt=\"Set variable [game.pov.thirst] = [expression][game.pov.thirst - 1]\"></div><pre><code>game.pov.thirst = game.pov.thirst - 1</code></pre>\n<p>In this case, the attribute we're changing is <code>game.pov.thirst</code>, and we're setting it to <code>game.pov.thirst - 1</code> - 1 less than its previous value.</p>\n<blockquote>\n<p>When the counter hits zero, the player will die.</p>\n</blockquote>\n<p>There are two ways you could do this. You could modify the roomenter script:</p>\n<div style=\"float: right; max-width: 50%\"><img src=\"https://mrangel.info/Questthirsttut4.png\" alt=\"a few lines of code\"></div><pre><code>game.pov.thirst = game.pov.thirst - 1\nif (game.pov.thirst &lt;= 0) {\n  msg (\"You have succumbed to heat stroke, and died.\")\n  finish\n}</code></pre>\n<p><strong>or</strong> you could put the if statement in a script attribute named <code>changedthirst</code> - this ensures that it will be checked every time the <code>thirst</code> attribute changes. I believe the Attributes tab has an option to add a change script to each attribute if you're using the desktop editor. In the web version, you would create it in the same place you set up the attribute:</p>\n<pre><code>game.pov.thirst = 100\ngame.pov.changedthirst =&gt; {\n  if (this.thirst &lt;= 0) {\n    msg (\"You have succumbed to heat stroke, and died.\")\n    finish\n  }\n}\n</code></pre>\n<p>Using a changescript like this has the advantage that if an attribute is changed in a lot of places, you don't need to include the code to check if it has hit zero every time.</p>\n<blockquote>\n<p>have to drink water every couple of steps</p>\n</blockquote>\n<p>I assume you will have an object like a water bottle, or similar. This would have a \"drink\" verb, which increases the player's thirst attribute. You've already got a script to reduce the attribute, so I think you would know how to increase it.</p>\n<p>If there's anything I've missed, I'm happy to give a little more detail.</p>\n\n",
      "PostDate": "2021-02-09T10:58:53.4751845Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "9dfef2ee-cc34-4e9a-b5a5-0f8978a1739c",
      "UserId": 267336,
      "Username": "jmnevil54",
      "AvatarUrl": "https://secure.gravatar.com/avatar/5d73d7ec1dbe20a5cb46f02a6d53f187?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Excuse me. May I help?\r\n\r\nThis can be changed.\r\n\r\n```\r\ngame.pov.changedthirst => {\r\n  if (this.thirst <= 0) {\r\n    msg (\"You have succumbed to heat stroke, and died.\")\r\n    finish\r\n  }\r\n}\r\n```\r\nTo this:\r\n```\r\ngame.pov.changedthirst => {\r\n  if (this.thirst <= 0) {\r\n    msg (\"You have succumbed to heat stroke, and died.\")\r\n    finish\r\n  }\r\n  if (thirst > 0 and thirst < 25) {\r\n    msg (\"You are suffering from thirst! Get water quickly!\")\r\n  }\r\n}\r\n```",
      "EditableFormat": "markdown",
      "HTML": "<p>Excuse me. May I help?</p>\n<p>This can be changed.</p>\n<pre><code>game.pov.changedthirst =&gt; {\n  if (this.thirst &lt;= 0) {\n    msg (\"You have succumbed to heat stroke, and died.\")\n    finish\n  }\n}\n</code></pre>\n<p>To this:</p>\n<pre><code>game.pov.changedthirst =&gt; {\n  if (this.thirst &lt;= 0) {\n    msg (\"You have succumbed to heat stroke, and died.\")\n    finish\n  }\n  if (thirst &gt; 0 and thirst &lt; 25) {\n    msg (\"You are suffering from thirst! Get water quickly!\")\n  }\n}\n</code></pre>\n\n",
      "PostDate": "2021-02-09T13:03:12.7064442Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "2f6ab286-f251-480f-8eec-53f970745690",
      "UserId": 453289,
      "Username": "RobotBand",
      "AvatarUrl": "https://i.imgur.com/ag4i7yqb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Thank you, this was very easy to grasp and I've already learned a whole lot more about this website. :)))",
      "EditableFormat": "markdown",
      "HTML": "<p>Thank you, this was very easy to grasp and I've already learned a whole lot more about this website. :)))</p>\n\n",
      "PostDate": "2021-02-09T14:03:51.0374849Z",
      "LastEditDate": null,
      "link": null
    }
  ]
}
