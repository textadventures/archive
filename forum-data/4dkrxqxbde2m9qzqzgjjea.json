{
  "Topic": {
    "TopicId": "4dkrxqxbde2m9qzqzgjjea",
    "ForumId": "10",
    "Title": "ListExclude???",
    "LastUpdated": "2020-05-24T20:09:18.6432955Z",
    "ReplyCount": 0
  },
  "Posts": [
    {
      "PostId": "7cd31320-03cb-4863-bda7-e926727089a5",
      "UserId": 304102,
      "Username": "Doctor Agon",
      "AvatarUrl": "http://i.imgur.com/Lzd3mOwb.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "I'm trying to sort out a bit of coding with the 'ListExclude' function, and I get an error message that basically the function is not recognised, does not exist.\r\nIs this correct? \r\nI've looked in the game tree and its not there, but I also noticed that the function 'GetPlacesObjectsList' uses the ListExclude function, but I get no error when playing my game, so maybe the 'GetPlacesObjectsList' is not doing a lot either.\r\n\r\nDoes anyone know what the code was for 'ListExclude'.",
      "EditableFormat": "markdown",
      "HTML": "<p>I'm trying to sort out a bit of coding with the 'ListExclude' function, and I get an error message that basically the function is not recognised, does not exist.<br>\nIs this correct?<br>\nI've looked in the game tree and its not there, but I also noticed that the function 'GetPlacesObjectsList' uses the ListExclude function, but I get no error when playing my game, so maybe the 'GetPlacesObjectsList' is not doing a lot either.</p>\n<p>Does anyone know what the code was for 'ListExclude'.</p>\n\n",
      "PostDate": "2020-05-24T20:09:18.6432955Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "bc8c4d0a-c1ce-4deb-af64-69c4e73ac680",
      "UserId": 277074,
      "Username": "Dcoder",
      "AvatarUrl": "https://i.imgur.com/O07mlRtb.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "ListExclude should work:\r\n\r\nhttp://docs.textadventures.co.uk/quest/functions/listexclude.html\r\n\r\nThe above link also mentions that \"ListExclude by contrast returns a copy of the list - the original list is unaffected.\"  Don't know if that is an issue for you.\r\n\r\nI refer to these pages a lot that explain most Quest functions:\r\n\r\nListed by type of function:\r\nhttp://docs.textadventures.co.uk/quest/functions/\r\n\r\nListed alphabetically:\r\nhttp://docs.textadventures.co.uk/quest/functions/index_allfunctions.html",
      "EditableFormat": "markdown",
      "HTML": "<p>ListExclude should work:</p>\n<p>http://docs.textadventures.co.uk/quest/functions/listexclude.html</p>\n<p>The above link also mentions that \"ListExclude by contrast returns a copy of the list - the original list is unaffected.\"  Don't know if that is an issue for you.</p>\n<p>I refer to these pages a lot that explain most Quest functions:</p>\n<p>Listed by type of function:<br>\nhttp://docs.textadventures.co.uk/quest/functions/</p>\n<p>Listed alphabetically:<br>\nhttp://docs.textadventures.co.uk/quest/functions/index_allfunctions.html</p>\n\n",
      "PostDate": "2020-05-24T21:43:29.5595486Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "b276b0b9-e66e-428f-b10f-17347b36f714",
      "UserId": 304102,
      "Username": "Doctor Agon",
      "AvatarUrl": "http://i.imgur.com/Lzd3mOwb.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "I've looked at those pages too. I have them linked to my favourites, so I can refer to them all the time.\r\nThe function is missing. I've even opened up a new game, just in case I'd accidently deleted the function.",
      "EditableFormat": "markdown",
      "HTML": "<p>I've looked at those pages too. I have them linked to my favourites, so I can refer to them all the time.<br>\nThe function is missing. I've even opened up a new game, just in case I'd accidently deleted the function.</p>\n\n",
      "PostDate": "2020-05-24T22:27:38.1330243Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "fce0e15f-fcdc-442e-bdf6-24407c40152e",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "> The function is missing.\r\n\r\nWhat do you mean by \"missing\"?\r\nIf you mean you can't open it from the core libraries to see its code, that's because it's a hard-coded function that you can't modify.\r\n\r\nIf it's giving a function not found error when you try to use it, remember that hard-coded functions give a \"function not found\" error if you pass them the wrong type or number of parameters, and I think this one is a little flaky with some combinations.",
      "EditableFormat": "markdown",
      "HTML": "<blockquote>\n<p>The function is missing.</p>\n</blockquote>\n<p>What do you mean by \"missing\"?<br>\nIf you mean you can't open it from the core libraries to see its code, that's because it's a hard-coded function that you can't modify.</p>\n<p>If it's giving a function not found error when you try to use it, remember that hard-coded functions give a \"function not found\" error if you pass them the wrong type or number of parameters, and I think this one is a little flaky with some combinations.</p>\n\n",
      "PostDate": "2020-05-24T22:55:38.9028078Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "f042fae0-1561-468a-9f0c-4f78b302ec76",
      "UserId": 277074,
      "Username": "Dcoder",
      "AvatarUrl": "https://i.imgur.com/O07mlRtb.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "I made a new, barebones game and put an apple object and a lemon object in the starting room.  The player is also in the starting room.  Then I put this in the Start tab:\r\n```\r\ngame.testlist = ScopeVisible()\r\ngame.testlist2 = ListExclude(game.testlist, apple)\r\nmsg (game.testlist2)\r\n```\r\nWhen I run the game, it prints:\r\n\r\n>List: Object: lemon; Object: player; \r\nYou are in a room.\r\nYou can see a lemon and an apple.\r\n\r\nSo it works in a barebones game.\r\n\r\n```ListExclude``` is a hard-coded function (not in the libraries), so will not appear under ```Filter``` --> ```ShowLibraryElements```.",
      "EditableFormat": "markdown",
      "HTML": "<p>I made a new, barebones game and put an apple object and a lemon object in the starting room.  The player is also in the starting room.  Then I put this in the Start tab:</p>\n<pre><code>game.testlist = ScopeVisible()\ngame.testlist2 = ListExclude(game.testlist, apple)\nmsg (game.testlist2)\n</code></pre>\n<p>When I run the game, it prints:</p>\n<blockquote>\n<p>List: Object: lemon; Object: player;<br>\nYou are in a room.<br>\nYou can see a lemon and an apple.</p>\n</blockquote>\n<p>So it works in a barebones game.</p>\n<p><code>ListExclude</code> is a hard-coded function (not in the libraries), so will not appear under <code>Filter</code> --&gt; <code>ShowLibraryElements</code>.</p>\n\n",
      "PostDate": "2020-05-24T23:10:04.9976281Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "257c9236-2860-4cb1-b248-6b893220f440",
      "UserId": 304102,
      "Username": "Doctor Agon",
      "AvatarUrl": "http://i.imgur.com/Lzd3mOwb.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Thanks guys, you've helped a lot.\r\nWas trying to pass to it two completely different lists so it was confused.",
      "EditableFormat": "markdown",
      "HTML": "<p>Thanks guys, you've helped a lot.<br>\nWas trying to pass to it two completely different lists so it was confused.</p>\n\n",
      "PostDate": "2020-05-25T07:16:59.8778602Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "b9fc2700-6908-4b7a-9803-a452fee785ae",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "If you're using it with 2 lists, you might need to use temporary variables.",
      "EditableFormat": "markdown",
      "HTML": "<p>If you're using it with 2 lists, you might need to use temporary variables.</p>\n\n",
      "PostDate": "2020-05-25T07:58:56.2124168Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "cdef82bb-8f7a-4960-a2b2-f3547aae1706",
      "UserId": 304102,
      "Username": "Doctor Agon",
      "AvatarUrl": "http://i.imgur.com/Lzd3mOwb.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "I was trying to redesign the 'Inventory' script to split up what you are carrying and what you are wearing into two separate list.\r\nI was trying to exclude '```ListClothes```' from the 'Inventory' not realising that 'ListClothes' is a stringlist.\r\n\r\nInstead of;\r\n```'You are carrying a car, a boat, a shirt, shoes(worn).'```\r\n\r\nYou'd get;\r\n```'You are carrying a car, a boat, a shirt.'```\r\n```'You are wearing shoes.'```\r\n\r\nI think I'm nearly done with it, just got to put the finishing touches to it, but I was also looking at '```FormatList```' when I was doing this (I don't think '```FormatObjectList```' would've worked because that required a 'parent' object), why doesn't '```FormatList```' use '```GetDisplayNameLink```'.  \r\n\r\nIf I 'copy' then change 'FormatList', am I going to alter how another function works further down the line.\r\n",
      "EditableFormat": "markdown",
      "HTML": "<p>I was trying to redesign the 'Inventory' script to split up what you are carrying and what you are wearing into two separate list.<br>\nI was trying to exclude '<code>ListClothes</code>' from the 'Inventory' not realising that 'ListClothes' is a stringlist.</p>\n<p>Instead of;<br>\n<code>'You are carrying a car, a boat, a shirt, shoes(worn).'</code></p>\n<p>You'd get;<br>\n<code>'You are carrying a car, a boat, a shirt.'</code><br>\n<code>'You are wearing shoes.'</code></p>\n<p>I think I'm nearly done with it, just got to put the finishing touches to it, but I was also looking at '<code>FormatList</code>' when I was doing this (I don't think '<code>FormatObjectList</code>' would've worked because that required a 'parent' object), why doesn't '<code>FormatList</code>' use '<code>GetDisplayNameLink</code>'.</p>\n<p>If I 'copy' then change 'FormatList', am I going to alter how another function works further down the line.</p>\n\n",
      "PostDate": "2020-05-25T15:17:15.1055123Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "74d3d470-7c4d-4322-990d-dcdce8ecb7f2",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "> I was trying to redesign the 'Inventory' script to split up what you are carrying and what you are wearing into two separate list.\r\nI was trying to exclude 'ListClothes' from the 'Inventory' not realising that 'ListClothes' is a stringlist.\r\n\r\nIn that case, your easiest solution is probably using something like `FilterByAttribute (ScopeInventory(), \"worn\", true)` - I assume you got that.\r\n\r\n> why doesn't `FormatList` use `GetDisplayNameLink`.\r\n\r\nIt uses `GetDisplayName`, which does the same thing with one less parameter. The existence of two different functions seems to be for historical reasons. But as you can see, it doesn't matter too much which of them you use:\r\n```\r\n  <function name=\"GetDisplayName\" type=\"string\" parameters=\"obj\">\r\n    return (GetDisplayNameLink(obj, \"\"))\r\n  </function>\r\n```\r\n\r\n> If I 'copy' then change 'FormatList', am I going to alter how another function works further down the line.\r\n\r\nDepends what changes you have in mind. What were you planning to change?",
      "EditableFormat": "markdown",
      "HTML": "<blockquote>\n<p>I was trying to redesign the 'Inventory' script to split up what you are carrying and what you are wearing into two separate list.<br>\nI was trying to exclude 'ListClothes' from the 'Inventory' not realising that 'ListClothes' is a stringlist.</p>\n</blockquote>\n<p>In that case, your easiest solution is probably using something like <code>FilterByAttribute (ScopeInventory(), \"worn\", true)</code> - I assume you got that.</p>\n<blockquote>\n<p>why doesn't <code>FormatList</code> use <code>GetDisplayNameLink</code>.</p>\n</blockquote>\n<p>It uses <code>GetDisplayName</code>, which does the same thing with one less parameter. The existence of two different functions seems to be for historical reasons. But as you can see, it doesn't matter too much which of them you use:</p>\n<pre><code>  &lt;function name=\"GetDisplayName\" type=\"string\" parameters=\"obj\"&gt;\n    return (GetDisplayNameLink(obj, \"\"))\n  &lt;/function&gt;\n</code></pre>\n<blockquote>\n<p>If I 'copy' then change 'FormatList', am I going to alter how another function works further down the line.</p>\n</blockquote>\n<p>Depends what changes you have in mind. What were you planning to change?</p>\n\n",
      "PostDate": "2020-05-25T20:04:44.5372344Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "786c0c99-2070-4126-ac18-0d8677a20136",
      "UserId": 304102,
      "Username": "Doctor Agon",
      "AvatarUrl": "http://i.imgur.com/Lzd3mOwb.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "I was going to change 'GetDisplayName' for 'GetDisplayNameLink'. That would be the only change.",
      "EditableFormat": "markdown",
      "HTML": "<p>I was going to change 'GetDisplayName' for 'GetDisplayNameLink'. That would be the only change.</p>\n\n",
      "PostDate": "2020-05-26T07:41:38.6269001Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "7761c009-d624-422c-850d-bb1c69976c1e",
      "UserId": 304102,
      "Username": "Doctor Agon",
      "AvatarUrl": "http://i.imgur.com/Lzd3mOwb.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "I was going to change 'GetDisplayName' for 'GetDisplayNameLink'. That would be the only change.",
      "EditableFormat": "markdown",
      "HTML": "<p>I was going to change 'GetDisplayName' for 'GetDisplayNameLink'. That would be the only change.</p>\n\n",
      "PostDate": "2020-05-26T07:41:54.6246937Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "a7ad3979-2b24-4d07-baec-c60341f8d6af",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Assuming you're passing `\"\"` as the second parameter to `GetDisplayNameLink`, that will make no difference at all.",
      "EditableFormat": "markdown",
      "HTML": "<p>Assuming you're passing <code>\"\"</code> as the second parameter to <code>GetDisplayNameLink</code>, that will make no difference at all.</p>\n\n",
      "PostDate": "2020-05-26T08:06:44.3501676Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "303e7b59-7a6c-4cf1-a84c-711c41dc03b9",
      "UserId": 304102,
      "Username": "Doctor Agon",
      "AvatarUrl": "http://i.imgur.com/Lzd3mOwb.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Changing the ```'FormatList'``` function as follows:\r\n```\r\nif (ListCount (list) = 0) {\r\n  return (nothing)\r\n}\r\nelse {\r\n  result = \"\"\r\n  count = 0\r\n  listLength = ListCount(list)\r\n  foreach (item, list) {\r\n    if (TypeOf(item) = \"object\") {\r\n      result = result + GetDisplayNameLink(item, \"object\")\r\n    }\r\n    else {\r\n      result = result + item\r\n    }\r\n    count = count + 1\r\n    if (count = listLength - 1) {\r\n      if (not IsRegexMatch(\"^\\\\W\", lastjoiner)) {\r\n        result = result + \" \"\r\n      }\r\n      result = result + lastjoiner + \" \"\r\n    }\r\n    else if (count < listLength) {\r\n      result = result + joiner + \" \"\r\n    }\r\n  }\r\n  return (Trim (result))\r\n}\r\n```\r\nrelevant section ```result = result + GetDisplayNameLink(item, \"object\")```\r\n\r\n",
      "EditableFormat": "markdown",
      "HTML": "<p>Changing the <code>'FormatList'</code> function as follows:</p>\n<pre><code>if (ListCount (list) = 0) {\n  return (nothing)\n}\nelse {\n  result = \"\"\n  count = 0\n  listLength = ListCount(list)\n  foreach (item, list) {\n    if (TypeOf(item) = \"object\") {\n      result = result + GetDisplayNameLink(item, \"object\")\n    }\n    else {\n      result = result + item\n    }\n    count = count + 1\n    if (count = listLength - 1) {\n      if (not IsRegexMatch(\"^\\\\W\", lastjoiner)) {\n        result = result + \" \"\n      }\n      result = result + lastjoiner + \" \"\n    }\n    else if (count &lt; listLength) {\n      result = result + joiner + \" \"\n    }\n  }\n  return (Trim (result))\n}\n</code></pre>\n<p>relevant section <code>result = result + GetDisplayNameLink(item, \"object\")</code></p>\n\n",
      "PostDate": "2020-05-26T20:53:43.8180099Z",
      "LastEditDate": null,
      "link": null
    }
  ]
}
