{
  "Topic": {
    "TopicId": "3444",
    "ForumId": "10",
    "Title": "NPC Behavior Help Wishlist",
    "LastUpdated": "2013-02-10T02:13:54+00:00",
    "ReplyCount": 16
  },
  "Posts": [
    {
      "PostId": "22624",
      "UserId": 0,
      "Username": "dwn",
      "UserAvatar": null,
      "UserGravatar": "c57ae67c2e3458feaedebff1483387d0",
      "EditableText": "Hello, All - I was hoping someone could post any tips or point me in any direction which would help me to figure out the easiest ways to implement a number of NPC Behavior scripts which I think would help bring a game characters to life. \n\nHere's a few of my wish-list ideas for tutorials, help or suggestions:\n\n1. How to script randomized turn-based NPC messages, so if there's an NPC in the room with you, every few turns the player gets a message of some kind of behavior they're engaged in...i.e. &quot;Joe is busy talking on the phone&quot;, &quot;Joe is banging his head against the desk in frustration&quot;, &quot;Joe's slumped back in his chair dozing off&quot;, ect.\n\n2. A FOLLOW NPC or FOLLOW ME command, so you can give path-finding directions to the NPC, or could also be used for stalking/hunting someone or something.\n\n3. A PATROLLING NPC who can be made to walk through a series of rooms on a schedule, like a City Guard, for example.\n\nIf anyone has an ideas or knows of a tutorial or post where this has been covered before please let me know. Thanks!",
      "EditableFormat": "bbcode",
      "HTML": "Hello, All - I was hoping someone could post any tips or point me in any direction which would help me to figure out the easiest ways to implement a number of NPC Behavior scripts which I think would help bring a game characters to life. <br/><br/>Here's a few of my wish-list ideas for tutorials, help or suggestions:<br/><br/>1. How to script randomized turn-based NPC messages, so if there's an NPC in the room with you, every few turns the player gets a message of some kind of behavior they're engaged in...i.e. &quot;Joe is busy talking on the phone&quot;, &quot;Joe is banging his head against the desk in frustration&quot;, &quot;Joe's slumped back in his chair dozing off&quot;, ect.<br/><br/>2. A FOLLOW NPC or FOLLOW ME command, so you can give path-finding directions to the NPC, or could also be used for stalking/hunting someone or something.<br/><br/>3. A PATROLLING NPC who can be made to walk through a series of rooms on a schedule, like a City Guard, for example.<br/><br/>If anyone has an ideas or knows of a tutorial or post where this has been covered before please let me know. Thanks!",
      "PostDate": "2013-02-07T04:15:46+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "22625",
      "UserId": 0,
      "Username": "sgreig",
      "UserAvatar": null,
      "UserGravatar": "9117185af66d72729b195384e3a446f0",
      "EditableText": "1. This can be accomplished the same way as I explained in the random description thread, but instead of putting the line:\n\n[code:3ewyr0sn]\nmsg(StringListItem(npc&#46;behaviorDesc, GetRandomInt(1,3) - 1))\n[/code:3ewyr0sn]\n\nin the object's description, you'd create a turn script that would execute that command every X number of turns. In this instance, I would add the string list to the different npc's in the game. I hope that makes sense.\n\n2. I don't have the energy to fully work this out off the top of my head, but as long as you think it through methodically it shouldn't be too tough. Basically what you want to do is have some sort of flag that gets triggered when you use the follow command and then any time you move to a different room, change the npc's parent room to the player's parent room. You would likely need to use a turn script for this as well.\n\n3. This is once again a turn script scenario. You could have the npc move to a different room on every turn, or every x number of turns, or whatever.",
      "EditableFormat": "bbcode",
      "HTML": "1. This can be accomplished the same way as I explained in the random description thread, but instead of putting the line:<br/><br/><pre><code><br/>msg(StringListItem(npc&#46;behaviorDesc, GetRandomInt(1,3) - 1))<br/></code></pre><br/><br/>in the object's description, you'd create a turn script that would execute that command every X number of turns. In this instance, I would add the string list to the different npc's in the game. I hope that makes sense.<br/><br/>2. I don't have the energy to fully work this out off the top of my head, but as long as you think it through methodically it shouldn't be too tough. Basically what you want to do is have some sort of flag that gets triggered when you use the follow command and then any time you move to a different room, change the npc's parent room to the player's parent room. You would likely need to use a turn script for this as well.<br/><br/>3. This is once again a turn script scenario. You could have the npc move to a different room on every turn, or every x number of turns, or whatever.",
      "PostDate": "2013-02-07T04:27:52+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "22632",
      "UserId": 0,
      "Username": "dwn",
      "UserAvatar": null,
      "UserGravatar": "c57ae67c2e3458feaedebff1483387d0",
      "EditableText": "[quote=&quot;sgreig&quot;:bnwjew4y]1. This can be accomplished the same way as I explained in the random description thread, but instead of putting the line:\n\n[code:bnwjew4y]\nmsg(StringListItem(npc&#46;behaviorDesc, GetRandomInt(1,3) - 1))\n[/code:bnwjew4y]\n\nin the object's description, you'd create a turn script that would execute that command every X number of turns. In this instance, I would add the string list to the different npc's in the game. I hope that makes sense.\n\n2. I don't have the energy to fully work this out off the top of my head, but as long as you think it through methodically it shouldn't be too tough. Basically what you want to do is have some sort of flag that gets triggered when you use the follow command and then any time you move to a different room, change the npc's parent room to the player's parent room. You would likely need to use a turn script for this as well.\n\n3. This is once again a turn script scenario. You could have the npc move to a different room on every turn, or every x number of turns, or whatever.[/quote:bnwjew4y]\n\nAfter looking through some examples I think I can figure this out mostly. The next NPC question I am thinking about would seem simpler in concept than 'patrollers', but I can't even begin to work it out in scipt form--\n\nI have an NPC that has locked themself in a room.\n\nI created a verb &quot;knock on&quot; to knock on the door, and it works fine so long as that's all you do.\n\nBut what if you want the NPC in the locked room to answer you, like &quot;Give me a moment, I'll be right out.&quot;--if they're in the room?\n\nHow can you make a script check to see if the NPC is in the room when you knock on the door, and if so, print a response? And if not, say &quot;Nobody answers&quot;?\n\nI can't see any of setting up an If Then script to check and see if an NPC is in the room in order to respond to knocking on the door.",
      "EditableFormat": "bbcode",
      "HTML": "<blockquote><cite>sgreig wrote:</cite>1. This can be accomplished the same way as I explained in the random description thread, but instead of putting the line:<br/><br/><pre><code><br/>msg(StringListItem(npc&#46;behaviorDesc, GetRandomInt(1,3) - 1))<br/></code></pre><br/><br/>in the object's description, you'd create a turn script that would execute that command every X number of turns. In this instance, I would add the string list to the different npc's in the game. I hope that makes sense.<br/><br/>2. I don't have the energy to fully work this out off the top of my head, but as long as you think it through methodically it shouldn't be too tough. Basically what you want to do is have some sort of flag that gets triggered when you use the follow command and then any time you move to a different room, change the npc's parent room to the player's parent room. You would likely need to use a turn script for this as well.<br/><br/>3. This is once again a turn script scenario. You could have the npc move to a different room on every turn, or every x number of turns, or whatever.</blockquote><br/><br/>After looking through some examples I think I can figure this out mostly. The next NPC question I am thinking about would seem simpler in concept than 'patrollers', but I can't even begin to work it out in scipt form--<br/><br/>I have an NPC that has locked themself in a room.<br/><br/>I created a verb &quot;knock on&quot; to knock on the door, and it works fine so long as that's all you do.<br/><br/>But what if you want the NPC in the locked room to answer you, like &quot;Give me a moment, I'll be right out.&quot;--if they're in the room?<br/><br/>How can you make a script check to see if the NPC is in the room when you knock on the door, and if so, print a response? And if not, say &quot;Nobody answers&quot;?<br/><br/>I can't see any of setting up an If Then script to check and see if an NPC is in the room in order to respond to knocking on the door.",
      "PostDate": "2013-02-07T22:46:36+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "22633",
      "UserId": 0,
      "Username": "dwn",
      "UserAvatar": null,
      "UserGravatar": "c57ae67c2e3458feaedebff1483387d0",
      "EditableText": "[quote=&quot;sgreig&quot;:199dxquq]1. This can be accomplished the same way as I explained in the random description thread, but instead of putting the line:\n\n[code:199dxquq]\nmsg(StringListItem(npc&#46;behaviorDesc, GetRandomInt(1,3) - 1))\n[/code:199dxquq]\n\nin the object's description, you'd create a turn script that would execute that command every X number of turns. In this instance, I would add the string list to the different npc's in the game. I hope that makes sense.\n\n2. I don't have the energy to fully work this out off the top of my head, but as long as you think it through methodically it shouldn't be too tough. Basically what you want to do is have some sort of flag that gets triggered when you use the follow command and then any time you move to a different room, change the npc's parent room to the player's parent room. You would likely need to use a turn script for this as well.\n\n3. This is once again a turn script scenario. You could have the npc move to a different room on every turn, or every x number of turns, or whatever.[/quote:199dxquq]\n\nWith no programming knowledge, this is the best I could guess in putting together the code with the example you suggested, but nothing happens when I run the game...not sure what I did wrong...\n\n[code:199dxquq]\n&lt;!--Saved by Quest 5&#46;3&#46;4762&#46;29157--&gt;\n&lt;asl version=&quot;530&quot;&gt;\n  &lt;include ref=&quot;English&#46;aslx&quot; /&gt;\n  &lt;include ref=&quot;Core&#46;aslx&quot; /&gt;\n  &lt;game name=&quot;NPC Crowd&quot;&gt;\n    &lt;gameid&gt;70d76bbb-2e9b-455e-a69e-b79f47955343&lt;/gameid&gt;\n    &lt;version&gt;1&#46;0&lt;/version&gt;\n    &lt;firstpublished&gt;2013&lt;/firstpublished&gt;\n  &lt;/game&gt;\n  &lt;object name=&quot;room&quot;&gt;\n    &lt;inherit name=&quot;editor_room&quot; /&gt;\n    &lt;object name=&quot;player&quot;&gt;\n      &lt;inherit name=&quot;editor_object&quot; /&gt;\n      &lt;inherit name=&quot;editor_player&quot; /&gt;\n    &lt;/object&gt;\n    &lt;object name=&quot;NPC_Crowd&quot;&gt;\n      &lt;inherit name=&quot;editor_object&quot; /&gt;\n      &lt;alias&gt;crowd&lt;/alias&gt;\n      NPC_Crowd&#46;behaviorDesc = newStringList()\nlist add (NPC_Crowd&#46;behaviorDesc, &quot;A dusty old tome&#46;&quot;)\nlist add (NPC_Crowd&#46;behaviorDesc, &quot;It's a weathered volume&#46;&quot;)\nlist add (NPC_Crowd&#46;behaviorDesc, &quot;A very old book with that familiar musty book smell&#46;&quot;)\n    &lt;/object&gt;\n    &lt;turnscript&gt;\n      &lt;script&gt;\n        SetTurnTimeout (2) {\n          msg(StringListItem(NPC_Crowd&#46;behaviorDesc, GetRandomInt(1,3) - 1))\n        }\n      &lt;/script&gt;\n    &lt;/turnscript&gt;\n  &lt;/object&gt;\n&lt;/asl&gt;\n[/code:199dxquq]",
      "EditableFormat": "bbcode",
      "HTML": "<blockquote><cite>sgreig wrote:</cite>1. This can be accomplished the same way as I explained in the random description thread, but instead of putting the line:<br/><br/><pre><code><br/>msg(StringListItem(npc&#46;behaviorDesc, GetRandomInt(1,3) - 1))<br/></code></pre><br/><br/>in the object's description, you'd create a turn script that would execute that command every X number of turns. In this instance, I would add the string list to the different npc's in the game. I hope that makes sense.<br/><br/>2. I don't have the energy to fully work this out off the top of my head, but as long as you think it through methodically it shouldn't be too tough. Basically what you want to do is have some sort of flag that gets triggered when you use the follow command and then any time you move to a different room, change the npc's parent room to the player's parent room. You would likely need to use a turn script for this as well.<br/><br/>3. This is once again a turn script scenario. You could have the npc move to a different room on every turn, or every x number of turns, or whatever.</blockquote><br/><br/>With no programming knowledge, this is the best I could guess in putting together the code with the example you suggested, but nothing happens when I run the game...not sure what I did wrong...<br/><br/><pre><code><br/>&lt;!--Saved by Quest 5&#46;3&#46;4762&#46;29157--&gt;<br/>&lt;asl version=&quot;530&quot;&gt;<br/>  &lt;include ref=&quot;English&#46;aslx&quot; /&gt;<br/>  &lt;include ref=&quot;Core&#46;aslx&quot; /&gt;<br/>  &lt;game name=&quot;NPC Crowd&quot;&gt;<br/>    &lt;gameid&gt;70d76bbb-2e9b-455e-a69e-b79f47955343&lt;/gameid&gt;<br/>    &lt;version&gt;1&#46;0&lt;/version&gt;<br/>    &lt;firstpublished&gt;2013&lt;/firstpublished&gt;<br/>  &lt;/game&gt;<br/>  &lt;object name=&quot;room&quot;&gt;<br/>    &lt;inherit name=&quot;editor_room&quot; /&gt;<br/>    &lt;object name=&quot;player&quot;&gt;<br/>      &lt;inherit name=&quot;editor_object&quot; /&gt;<br/>      &lt;inherit name=&quot;editor_player&quot; /&gt;<br/>    &lt;/object&gt;<br/>    &lt;object name=&quot;NPC_Crowd&quot;&gt;<br/>      &lt;inherit name=&quot;editor_object&quot; /&gt;<br/>      &lt;alias&gt;crowd&lt;/alias&gt;<br/>      NPC_Crowd&#46;behaviorDesc = newStringList()<br/>list add (NPC_Crowd&#46;behaviorDesc, &quot;A dusty old tome&#46;&quot;)<br/>list add (NPC_Crowd&#46;behaviorDesc, &quot;It's a weathered volume&#46;&quot;)<br/>list add (NPC_Crowd&#46;behaviorDesc, &quot;A very old book with that familiar musty book smell&#46;&quot;)<br/>    &lt;/object&gt;<br/>    &lt;turnscript&gt;<br/>      &lt;script&gt;<br/>        SetTurnTimeout (2) {<br/>          msg(StringListItem(NPC_Crowd&#46;behaviorDesc, GetRandomInt(1,3) - 1))<br/>        }<br/>      &lt;/script&gt;<br/>    &lt;/turnscript&gt;<br/>  &lt;/object&gt;<br/>&lt;/asl&gt;<br/></code></pre>",
      "PostDate": "2013-02-08T00:24:38+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "22640",
      "UserId": 0,
      "Username": "HegemonKhan",
      "UserAvatar": null,
      "UserGravatar": "a96cf34d8d97c57de38f54ee22b1759b",
      "EditableText": "[quote=&quot;dwn&quot;:2eme04mt]I have an NPC that has locked themself in a room.\n\nI created a verb &quot;knock on&quot; to knock on the door, and it works fine so long as that's all you do.\n\nBut what if you want the NPC in the locked room to answer you, like &quot;Give me a moment, I'll be right out.&quot;--if they're in the room?\n\nHow can you make a script check to see if the NPC is in the room when you knock on the door, and if so, print a response? And if not, say &quot;Nobody answers&quot;?\n\nI can't see any of setting up an If Then script to check and see if an NPC is in the room in order to respond to knocking on the door.[/quote:2eme04mt]\n\n----------\n\nthis (the below line) is a code line for adding in comments or notes, extremely useful, don't be lazy like me (lol), add in lots of notes or comments into all of your game codes! :\n\n// your_comments_or_notes\n\n-----------\n\nor, you can also do this:\n\n(but, this seems to disappear within your game file when its a game file (when you save and load it back up), it only remains if you make your file as a library file instead)\n\n&lt;!-- your_comments_or_notes, your_comments_or_notes, your_comments_or_notes, etc --&gt;\n\nor, it can have this format too:\n\n&lt;!--\netc\nyour_comments_or_notes\nyour_comments_or_notes\nyour_comments_or_notes\netc\n--&gt;\n\n-------------------\n\nboth of these below codes can be copied and pasted (delete and paste into your) into your new game's code file (either via the Code View mode toggle button or by opening up the game file with note, note++, or word pad), but do *NOT*change anything, and watch in awe, hehe (look at it in your Code View mode, hehe. the comments/notes coding is really awesome and useful!)\n\nyour code should look something like this:\n\n[code:2eme04mt]// the below line is the start of the script block for your door object\n&lt;object name=&quot;door&quot;&gt;\n// the below line is the start of the script block for your verb ' knock on '\n  &lt;knock on type=&quot;script&quot;&gt;\n// the below line is the script, a simple message, that your verb ' knock on ' runs\n    msg (&quot;knock on door&quot;)\n  &lt;/knock on&gt;\n// the above line is the end of the script block for your verb ' knock on '\n&lt;/object&gt;\n// the above line is the end of the script block for your door object\n[/code:2eme04mt]\n\nnow this is how you want to change your code, so that it will look like this:\n\n[code:2eme04mt]// the below line is the start of the script block for your door object\n&lt;object name=&quot;door&quot;&gt;\n// the below line is the start of the script block for your verb ' knock on '\n  &lt;knock on type=&quot;script&quot;&gt;\n// the below lines is the script, a simple message, that your verb ' knock on ' runs\n    msg (&quot;knock on door&quot;)\n// the below two coding lines says this&#58; if your npc's parent is the locked room (the ' parent ' meaning that, if the npc is a, ' child ' or INSIDE, of the locked room), then output the message, &quot;Give me a moment, I'll be right out&#46;&quot;\n// the line below is the start of the if script block\n    if (your_npc_name&#46;parent = the_room_name_of_that_he_she_is_locked_inside_of) {\n      msg (&quot;Give me a moment, I'll be right out&#46;&quot;)\n    }\n// the above line, the single ' } ', is the end of the if script block\n// the below two coding lines is the script block for if the npc's parent is *NOT* the locked room (meaning that, since there npc isn't in the locked room, then output the message, &quot;Nobody answers&quot;\n    else {\n      msg (&quot;Nobody answers&quot;)\n    }\n// the above line, the single ' } ' is the end of the else script block\n  &lt;/knock on&gt;\n// the above line is the end of the script block for your verb ' knock on '\n&lt;/object&gt;\n// the above line is the end of the script block for your door object\n[/code:2eme04mt]\n\n----------------\n\nP.S.\n\nfor posting code here, use this (as it keeps your code from taking up lots of space, and it maintains the proper format, keeps the proper indentation):\n\n[code.]pppppppp\nppppppppp\n[/code.]\n\nbut remove the &quot;.&quot; (dots) from inside the [ code ] 's , so it'll properly work:\n\n[code:2eme04mt]pppppppp\nppppppppp\n[/code:2eme04mt]\n\n-------------\n\nP.S.S.\n\ngood attempt at trying to do the coding on your own! I would have done worse, if I had tried right out of the blue like you just did (I started off simple and slowly, err kinda... I jumped right into doing harder stuff lol, worked my way up to understanding the basics of coding, so I had more of a progressive approach at learning the coding then you, trying to do it right now, hehe)\n\nI'll let sgreig help you with getting his coding stuff right, as I'm still learning this stuff myself too, and figuring out how to get that other stuff (my game demo) working for you, was a royal pain (it wasn't that easy, lol), so I need a bit of a break, lol.",
      "EditableFormat": "bbcode",
      "HTML": "<blockquote><cite>dwn wrote:</cite>I have an NPC that has locked themself in a room.<br/><br/>I created a verb &quot;knock on&quot; to knock on the door, and it works fine so long as that's all you do.<br/><br/>But what if you want the NPC in the locked room to answer you, like &quot;Give me a moment, I'll be right out.&quot;--if they're in the room?<br/><br/>How can you make a script check to see if the NPC is in the room when you knock on the door, and if so, print a response? And if not, say &quot;Nobody answers&quot;?<br/><br/>I can't see any of setting up an If Then script to check and see if an NPC is in the room in order to respond to knocking on the door.</blockquote><br/><br/>----------<br/><br/>this (the below line) is a code line for adding in comments or notes, extremely useful, don't be lazy like me (lol), add in lots of notes or comments into all of your game codes! :<br/><br/>// your_comments_or_notes<br/><br/>-----------<br/><br/>or, you can also do this:<br/><br/>(but, this seems to disappear within your game file when its a game file (when you save and load it back up), it only remains if you make your file as a library file instead)<br/><br/>&lt;!-- your_comments_or_notes, your_comments_or_notes, your_comments_or_notes, etc --&gt;<br/><br/>or, it can have this format too:<br/><br/>&lt;!--<br/>etc<br/>your_comments_or_notes<br/>your_comments_or_notes<br/>your_comments_or_notes<br/>etc<br/>--&gt;<br/><br/>-------------------<br/><br/>both of these below codes can be copied and pasted (delete and paste into your) into your new game's code file (either via the Code View mode toggle button or by opening up the game file with note, note++, or word pad), but do *NOT*change anything, and watch in awe, hehe (look at it in your Code View mode, hehe. the comments/notes coding is really awesome and useful!)<br/><br/>your code should look something like this:<br/><br/><pre><code>// the below line is the start of the script block for your door object<br/>&lt;object name=&quot;door&quot;&gt;<br/>// the below line is the start of the script block for your verb ' knock on '<br/>  &lt;knock on type=&quot;script&quot;&gt;<br/>// the below line is the script, a simple message, that your verb ' knock on ' runs<br/>    msg (&quot;knock on door&quot;)<br/>  &lt;/knock on&gt;<br/>// the above line is the end of the script block for your verb ' knock on '<br/>&lt;/object&gt;<br/>// the above line is the end of the script block for your door object<br/></code></pre><br/><br/>now this is how you want to change your code, so that it will look like this:<br/><br/><pre><code>// the below line is the start of the script block for your door object<br/>&lt;object name=&quot;door&quot;&gt;<br/>// the below line is the start of the script block for your verb ' knock on '<br/>  &lt;knock on type=&quot;script&quot;&gt;<br/>// the below lines is the script, a simple message, that your verb ' knock on ' runs<br/>    msg (&quot;knock on door&quot;)<br/>// the below two coding lines says this&#58; if your npc's parent is the locked room (the ' parent ' meaning that, if the npc is a, ' child ' or INSIDE, of the locked room), then output the message, &quot;Give me a moment, I'll be right out&#46;&quot;<br/>// the line below is the start of the if script block<br/>    if (your_npc_name&#46;parent = the_room_name_of_that_he_she_is_locked_inside_of) {<br/>      msg (&quot;Give me a moment, I'll be right out&#46;&quot;)<br/>    }<br/>// the above line, the single ' } ', is the end of the if script block<br/>// the below two coding lines is the script block for if the npc's parent is *NOT* the locked room (meaning that, since there npc isn't in the locked room, then output the message, &quot;Nobody answers&quot;<br/>    else {<br/>      msg (&quot;Nobody answers&quot;)<br/>    }<br/>// the above line, the single ' } ' is the end of the else script block<br/>  &lt;/knock on&gt;<br/>// the above line is the end of the script block for your verb ' knock on '<br/>&lt;/object&gt;<br/>// the above line is the end of the script block for your door object<br/></code></pre><br/><br/>----------------<br/><br/>P.S.<br/><br/>for posting code here, use this (as it keeps your code from taking up lots of space, and it maintains the proper format, keeps the proper indentation):<br/><br/>[code.]pppppppp<br/>ppppppppp<br/>[/code.]<br/><br/>but remove the &quot;.&quot; (dots) from inside the [ code ] 's , so it'll properly work:<br/><br/><pre><code>pppppppp<br/>ppppppppp<br/></code></pre><br/><br/>-------------<br/><br/>P.S.S.<br/><br/>good attempt at trying to do the coding on your own! I would have done worse, if I had tried right out of the blue like you just did (I started off simple and slowly, err kinda... I jumped right into doing harder stuff lol, worked my way up to understanding the basics of coding, so I had more of a progressive approach at learning the coding then you, trying to do it right now, hehe)<br/><br/>I'll let sgreig help you with getting his coding stuff right, as I'm still learning this stuff myself too, and figuring out how to get that other stuff (my game demo) working for you, was a royal pain (it wasn't that easy, lol), so I need a bit of a break, lol.",
      "PostDate": "2013-02-08T04:35:42+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "22641",
      "UserId": 0,
      "Username": "sgreig",
      "UserAvatar": null,
      "UserGravatar": "9117185af66d72729b195384e3a446f0",
      "EditableText": "[quote=&quot;dwn&quot;:1x0r21j3]\n\nWith no programming knowledge, this is the best I could guess in putting together the code with the example you suggested, but nothing happens when I run the game...not sure what I did wrong...\n\n&lt;!--Saved by Quest 5.3.4762.29157--&gt;\n&lt;asl version=&quot;530&quot;&gt;\n  &lt;include ref=&quot;English.aslx&quot; /&gt;\n  &lt;include ref=&quot;Core.aslx&quot; /&gt;\n  &lt;game name=&quot;NPC Crowd&quot;&gt;\n    &lt;gameid&gt;70d76bbb-2e9b-455e-a69e-b79f47955343&lt;/gameid&gt;\n    &lt;version&gt;1.0&lt;/version&gt;\n    &lt;firstpublished&gt;2013&lt;/firstpublished&gt;\n  &lt;/game&gt;\n  &lt;object name=&quot;room&quot;&gt;\n    &lt;inherit name=&quot;editor_room&quot; /&gt;\n    &lt;object name=&quot;player&quot;&gt;\n      &lt;inherit name=&quot;editor_object&quot; /&gt;\n      &lt;inherit name=&quot;editor_player&quot; /&gt;\n    &lt;/object&gt;\n    &lt;object name=&quot;NPC_Crowd&quot;&gt;\n      &lt;inherit name=&quot;editor_object&quot; /&gt;\n      &lt;alias&gt;crowd&lt;/alias&gt;\n      NPC_Crowd.behaviorDesc = newStringList()\nlist add (NPC_Crowd.behaviorDesc, &quot;A dusty old tome.&quot;)\nlist add (NPC_Crowd.behaviorDesc, &quot;It's a weathered volume.&quot;)\nlist add (NPC_Crowd.behaviorDesc, &quot;A very old book with that familiar musty book smell.&quot;)\n    &lt;/object&gt;\n    &lt;turnscript&gt;\n      &lt;script&gt;\n        SetTurnTimeout (2) {\n          msg(StringListItem(NPC_Crowd.behaviorDesc, GetRandomInt(1,3) - 1))\n        }\n      &lt;/script&gt;\n    &lt;/turnscript&gt;\n  &lt;/object&gt;\n&lt;/asl&gt;[/quote:1x0r21j3]\n\nThe 'N' in NewStringList should be capitalized. Also, the way you have it written the string list hasn't actually been created on the object. If you want to write it that way, it has to be in a script somewhere, like in game start. Otherwise, you need to create the list as an attribute of the book. This code should work:\n\n[code:1x0r21j3]\n&lt;!--Saved by Quest 5&#46;3&#46;4762&#46;29157--&gt;\n&lt;asl version=&quot;530&quot;&gt;\n  &lt;include ref=&quot;English&#46;aslx&quot; /&gt;\n  &lt;include ref=&quot;Core&#46;aslx&quot; /&gt;\n  &lt;game name=&quot;NPC Crowd&quot;&gt;\n    &lt;gameid&gt;70d76bbb-2e9b-455e-a69e-b79f47955343&lt;/gameid&gt;\n    &lt;version&gt;1&#46;0&lt;/version&gt;\n    &lt;firstpublished&gt;2013&lt;/firstpublished&gt;\n  &lt;/game&gt;\n  &lt;object name=&quot;room&quot;&gt;\n    &lt;inherit name=&quot;editor_room&quot; /&gt;\n    &lt;object name=&quot;player&quot;&gt;\n      &lt;inherit name=&quot;editor_object&quot; /&gt;\n      &lt;inherit name=&quot;editor_player&quot; /&gt;\n    &lt;/object&gt;\n    &lt;object name=&quot;NPC_Crowd&quot;&gt;\n      &lt;inherit name=&quot;editor_object&quot; /&gt;\n      &lt;alias&gt;crowd&lt;/alias&gt;\n      &lt;behaviorDesc type=&quot;list&quot;&gt;A dusty old tome&#46;; It's a weathered volume&#46;; A very old book with that familiar musty book smell&#46;&lt;/behaviorDesc&gt;\n    &lt;/object&gt;\n    &lt;turnscript&gt;\n      &lt;script&gt;\n        SetTurnTimeout (2) {\n          msg(StringListItem(NPC_Crowd&#46;behaviorDesc, GetRandomInt(1,3) - 1))\n        }\n      &lt;/script&gt;\n    &lt;/turnscript&gt;\n  &lt;/object&gt;\n&lt;/asl&gt;\n[/code:1x0r21j3]\n\nAs for the issue about knocking on the door and having the npc answer if he's in it, that's not too difficult. As you're probably learning, the hardest part of programming is figuring out the steps to accomplish something in a very logical, methodical manner as it's not really how humans think naturally.\n\nSo let's assume your npc is called &quot;NPC&quot; and he's in a room called &quot;Locked_Room&quot; to make things easier for the example. When you enter the knock on door command, a script like this should be used:\n\n[code:1x0r21j3]\nif (NPC&#46;parent = &quot;Locked_Room&quot;) {\n  msg(&quot;You hear a voice call out, \\&quot;Give me a moment! I'll be right out!\\&quot; from behind the door&#46;&quot;)\n}\nelse {\n  msg(&quot;Nobody answers&#46;&quot;)\n}\n[/code:1x0r21j3]\n\nThe backslashes in the first msg command might be confusing you. Since Quest (and most other programming languages) will assume a quotation mark is the end of a string, you need to &quot;Escape&quot; the character with a backslash so that Quest will ignore it and print it as part of the message. You could also use a single quote instead, but that won't work in all programming languages as some use those for strings as well.\n\nBut as you can see, it's a fairly simple check to make. When you want to check if an object is in a particular room, you just need to check the parent attribute of the object. You can also move objects around by changing the value of the parent attribute as well. Understanding how parent-&gt;child relationships work will help you immensely in Quest and other object-oriented programming languages.",
      "EditableFormat": "bbcode",
      "HTML": "<blockquote><cite>dwn wrote:</cite><br/><br/>With no programming knowledge, this is the best I could guess in putting together the code with the example you suggested, but nothing happens when I run the game...not sure what I did wrong...<br/><br/>&lt;!--Saved by Quest 5.3.4762.29157--&gt;<br/>&lt;asl version=&quot;530&quot;&gt;<br/>  &lt;include ref=&quot;English.aslx&quot; /&gt;<br/>  &lt;include ref=&quot;Core.aslx&quot; /&gt;<br/>  &lt;game name=&quot;NPC Crowd&quot;&gt;<br/>    &lt;gameid&gt;70d76bbb-2e9b-455e-a69e-b79f47955343&lt;/gameid&gt;<br/>    &lt;version&gt;1.0&lt;/version&gt;<br/>    &lt;firstpublished&gt;2013&lt;/firstpublished&gt;<br/>  &lt;/game&gt;<br/>  &lt;object name=&quot;room&quot;&gt;<br/>    &lt;inherit name=&quot;editor_room&quot; /&gt;<br/>    &lt;object name=&quot;player&quot;&gt;<br/>      &lt;inherit name=&quot;editor_object&quot; /&gt;<br/>      &lt;inherit name=&quot;editor_player&quot; /&gt;<br/>    &lt;/object&gt;<br/>    &lt;object name=&quot;NPC_Crowd&quot;&gt;<br/>      &lt;inherit name=&quot;editor_object&quot; /&gt;<br/>      &lt;alias&gt;crowd&lt;/alias&gt;<br/>      NPC_Crowd.behaviorDesc = newStringList()<br/>list add (NPC_Crowd.behaviorDesc, &quot;A dusty old tome.&quot;)<br/>list add (NPC_Crowd.behaviorDesc, &quot;It's a weathered volume.&quot;)<br/>list add (NPC_Crowd.behaviorDesc, &quot;A very old book with that familiar musty book smell.&quot;)<br/>    &lt;/object&gt;<br/>    &lt;turnscript&gt;<br/>      &lt;script&gt;<br/>        SetTurnTimeout (2) {<br/>          msg(StringListItem(NPC_Crowd.behaviorDesc, GetRandomInt(1,3) - 1))<br/>        }<br/>      &lt;/script&gt;<br/>    &lt;/turnscript&gt;<br/>  &lt;/object&gt;<br/>&lt;/asl&gt;</blockquote><br/><br/>The 'N' in NewStringList should be capitalized. Also, the way you have it written the string list hasn't actually been created on the object. If you want to write it that way, it has to be in a script somewhere, like in game start. Otherwise, you need to create the list as an attribute of the book. This code should work:<br/><br/><pre><code><br/>&lt;!--Saved by Quest 5&#46;3&#46;4762&#46;29157--&gt;<br/>&lt;asl version=&quot;530&quot;&gt;<br/>  &lt;include ref=&quot;English&#46;aslx&quot; /&gt;<br/>  &lt;include ref=&quot;Core&#46;aslx&quot; /&gt;<br/>  &lt;game name=&quot;NPC Crowd&quot;&gt;<br/>    &lt;gameid&gt;70d76bbb-2e9b-455e-a69e-b79f47955343&lt;/gameid&gt;<br/>    &lt;version&gt;1&#46;0&lt;/version&gt;<br/>    &lt;firstpublished&gt;2013&lt;/firstpublished&gt;<br/>  &lt;/game&gt;<br/>  &lt;object name=&quot;room&quot;&gt;<br/>    &lt;inherit name=&quot;editor_room&quot; /&gt;<br/>    &lt;object name=&quot;player&quot;&gt;<br/>      &lt;inherit name=&quot;editor_object&quot; /&gt;<br/>      &lt;inherit name=&quot;editor_player&quot; /&gt;<br/>    &lt;/object&gt;<br/>    &lt;object name=&quot;NPC_Crowd&quot;&gt;<br/>      &lt;inherit name=&quot;editor_object&quot; /&gt;<br/>      &lt;alias&gt;crowd&lt;/alias&gt;<br/>      &lt;behaviorDesc type=&quot;list&quot;&gt;A dusty old tome&#46;; It's a weathered volume&#46;; A very old book with that familiar musty book smell&#46;&lt;/behaviorDesc&gt;<br/>    &lt;/object&gt;<br/>    &lt;turnscript&gt;<br/>      &lt;script&gt;<br/>        SetTurnTimeout (2) {<br/>          msg(StringListItem(NPC_Crowd&#46;behaviorDesc, GetRandomInt(1,3) - 1))<br/>        }<br/>      &lt;/script&gt;<br/>    &lt;/turnscript&gt;<br/>  &lt;/object&gt;<br/>&lt;/asl&gt;<br/></code></pre><br/><br/>As for the issue about knocking on the door and having the npc answer if he's in it, that's not too difficult. As you're probably learning, the hardest part of programming is figuring out the steps to accomplish something in a very logical, methodical manner as it's not really how humans think naturally.<br/><br/>So let's assume your npc is called &quot;NPC&quot; and he's in a room called &quot;Locked_Room&quot; to make things easier for the example. When you enter the knock on door command, a script like this should be used:<br/><br/><pre><code><br/>if (NPC&#46;parent = &quot;Locked_Room&quot;) {<br/>  msg(&quot;You hear a voice call out, \\&quot;Give me a moment! I'll be right out!\\&quot; from behind the door&#46;&quot;)<br/>}<br/>else {<br/>  msg(&quot;Nobody answers&#46;&quot;)<br/>}<br/></code></pre><br/><br/>The backslashes in the first msg command might be confusing you. Since Quest (and most other programming languages) will assume a quotation mark is the end of a string, you need to &quot;Escape&quot; the character with a backslash so that Quest will ignore it and print it as part of the message. You could also use a single quote instead, but that won't work in all programming languages as some use those for strings as well.<br/><br/>But as you can see, it's a fairly simple check to make. When you want to check if an object is in a particular room, you just need to check the parent attribute of the object. You can also move objects around by changing the value of the parent attribute as well. Understanding how parent-&gt;child relationships work will help you immensely in Quest and other object-oriented programming languages.",
      "PostDate": "2013-02-08T06:23:36+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "22644",
      "UserId": 0,
      "Username": "dwn",
      "UserAvatar": null,
      "UserGravatar": "c57ae67c2e3458feaedebff1483387d0",
      "EditableText": "[quote=&quot;sgreig&quot;:26iqlvkm][quote=&quot;dwn&quot;:26iqlvkm]\n\n\n\nThe 'N' in NewStringList should be capitalized. Also, the way you have it written the string list hasn't actually been created on the object. If you want to write it that way, it has to be in a script somewhere, like in game start. Otherwise, you need to create the list as an attribute of the book. This code should work:\n\nSo let's assume your npc is called &quot;NPC&quot; and he's in a room called &quot;Locked_Room&quot; to make things easier for the example. When you enter the knock on door command, a script like this should be used:\n\n[code:26iqlvkm]\nif (NPC&#46;parent = &quot;Locked_Room&quot;) {\n  msg(&quot;You hear a voice call out, \\&quot;Give me a moment! I'll be right out!\\&quot; from behind the door&#46;&quot;)\n}\nelse {\n  msg(&quot;Nobody answers&#46;&quot;)\n}\n[/code:26iqlvkm]\n\n[/quote:26iqlvkm][/quote:26iqlvkm]\n\nWhen I run the NPC Crowd code, this is what I get:\n\nYou are in a room.\nYou can see a crowd.\n\n&gt; look at crowd\nNothing out of the ordinary.\n\n&gt; z\nTime passes.\n\n&gt; z\nTime passes.\n\n&gt; z\nTime passes.\n\n&gt; z\nTime passes.\n\n&gt; z\nTime passes.\n\nAfter taking 2 turns, nothing happens. Not sure how to fix it.",
      "EditableFormat": "bbcode",
      "HTML": "<blockquote><cite>sgreig wrote:</cite><blockquote><p><b>&quot;dwn&quot;</b></p><p><br/><br/><br/><br/>The 'N' in NewStringList should be capitalized. Also, the way you have it written the string list hasn't actually been created on the object. If you want to write it that way, it has to be in a script somewhere, like in game start. Otherwise, you need to create the list as an attribute of the book. This code should work:<br/><br/>So let's assume your npc is called &quot;NPC&quot; and he's in a room called &quot;Locked_Room&quot; to make things easier for the example. When you enter the knock on door command, a script like this should be used:<br/><br/><pre><code><br/>if (NPC&#46;parent = &quot;Locked_Room&quot;) {<br/>  msg(&quot;You hear a voice call out, \\&quot;Give me a moment! I'll be right out!\\&quot; from behind the door&#46;&quot;)<br/>}<br/>else {<br/>  msg(&quot;Nobody answers&#46;&quot;)<br/>}<br/></code></pre><br/><br/></blockquote></p></blockquote><br/><br/>When I run the NPC Crowd code, this is what I get:<br/><br/>You are in a room.<br/>You can see a crowd.<br/><br/>&gt; look at crowd<br/>Nothing out of the ordinary.<br/><br/>&gt; z<br/>Time passes.<br/><br/>&gt; z<br/>Time passes.<br/><br/>&gt; z<br/>Time passes.<br/><br/>&gt; z<br/>Time passes.<br/><br/>&gt; z<br/>Time passes.<br/><br/>After taking 2 turns, nothing happens. Not sure how to fix it.",
      "PostDate": "2013-02-08T15:36:50+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "22646",
      "UserId": 0,
      "Username": "HegemonKhan",
      "UserAvatar": null,
      "UserGravatar": "a96cf34d8d97c57de38f54ee22b1759b",
      "EditableText": "take a look at my codes too (it's the same as sgreig's, except it's missing the random messages code part), as I've made some comments for you to read and understand the code (it looks really nice in Code View Mode!), but it's messy otherwise, so if you want to, you can delete all the ' // _____ ' (comment) lines.\n\nhere's the code with the comment lines (view this in Code View mode!):\n\n[code:1p2krbpi]// the below line is the start of the script block for your door object\n&lt;object name=&quot;door&quot;&gt;\n// the below line is the start of the script block for your verb ' knock on '\n  &lt;knock on type=&quot;script&quot;&gt;\n// the below lines is the script, a simple message, that your verb ' knock on ' runs\n    msg (&quot;knock on door&quot;)\n// the below two coding lines says this&#58; if your npc's parent is the locked room (the ' parent ' meaning that, if the npc is a, ' child ' or INSIDE, of the locked room), then output the message, &quot;Give me a moment, I'll be right out&#46;&quot;\n// the line below is the start of the if script block\n    if (your_npc_name&#46;parent = the_room_name_of_that_he_she_is_locked_inside_of) {\n      msg (&quot;Give me a moment, I'll be right out&#46;&quot;)\n    }\n// the above line, the single ' } ', is the end of the if script block\n// the below two coding lines is the script block for if the npc's parent is *NOT* the locked room (meaning that, since there npc isn't in the locked room, then output the message, &quot;Nobody answers&quot;\n    else {\n      msg (&quot;Nobody answers&quot;)\n    }\n// the above line, the single ' } ' is the end of the else script block\n  &lt;/knock on&gt;\n// the above line is the end of the script block for your verb ' knock on '\n&lt;/object&gt;\n// the above line is the end of the script block for your door object[/code:1p2krbpi]\n\nhere's the code without the comment lines (It looks the exact same as sgreig's, except its missing all of his coding for the random selection and etc):\n\n[code:1p2krbpi]&lt;object name=&quot;door&quot;&gt;\n  &lt;knock on type=&quot;script&quot;&gt;\n    msg (&quot;knock on door&quot;)\n    if (your_npc_name&#46;parent = the_room_name_of_that_he_she_is_locked_inside_of) {\n      msg (&quot;Give me a moment, I'll be right out&#46;&quot;)\n    }\n    else {\n      msg (&quot;Nobody answers&quot;)\n    }\n  &lt;/knock on&gt;\n&lt;/object&gt;[/code:1p2krbpi]\n\n-------\n\nsgreig was saying to combine (though it takes some work and &quot;know-how&quot; to do this) the two codes of his:\n\n[code:1p2krbpi]&lt;asl version=&quot;530&quot;&gt;\n  &lt;include ref=&quot;English&#46;aslx&quot; /&gt;\n  &lt;include ref=&quot;Core&#46;aslx&quot; /&gt;\n  &lt;game name=&quot;NPC Crowd&quot;&gt;\n    &lt;gameid&gt;70d76bbb-2e9b-455e-a69e-b79f47955343&lt;/gameid&gt;\n    &lt;version&gt;1&#46;0&lt;/version&gt;\n    &lt;firstpublished&gt;2013&lt;/firstpublished&gt;\n  &lt;/game&gt;\n  &lt;object name=&quot;room&quot;&gt;\n    &lt;inherit name=&quot;editor_room&quot; /&gt;\n    &lt;object name=&quot;player&quot;&gt;\n      &lt;inherit name=&quot;editor_object&quot; /&gt;\n      &lt;inherit name=&quot;editor_player&quot; /&gt;\n    &lt;/object&gt;\n    &lt;object name=&quot;NPC_Crowd&quot;&gt;\n      &lt;inherit name=&quot;editor_object&quot; /&gt;\n      &lt;alias&gt;crowd&lt;/alias&gt;\n      &lt;behaviorDesc type=&quot;list&quot;&gt;A dusty old tome&#46;; It's a weathered volume&#46;; A very old book with that familiar musty book smell&#46;&lt;/behaviorDesc&gt;\n    &lt;/object&gt;\n    &lt;turnscript&gt;\n      &lt;script&gt;\n        SetTurnTimeout (2) {\n          msg(StringListItem(NPC_Crowd&#46;behaviorDesc, GetRandomInt(1,3) - 1))\n        }\n      &lt;/script&gt;\n    &lt;/turnscript&gt;\n  &lt;/object&gt;\n&lt;/asl&gt;[/code:1p2krbpi]\n\nand\n\n[code:1p2krbpi]if (NPC&#46;parent = &quot;Locked_Room&quot;) {\n  msg(&quot;You hear a voice call out, \\&quot;Give me a moment! I'll be right out!\\&quot; from behind the door&#46;&quot;)\n}\nelse {\n  msg(&quot;Nobody answers&#46;&quot;)\n}[/code:1p2krbpi]\n\nso, it would look like this (using sgreig's codes):\n\n[code:1p2krbpi]&lt;asl version=&quot;530&quot;&gt;\n\n  &lt;include ref=&quot;English&#46;aslx&quot; /&gt;\n  &lt;include ref=&quot;Core&#46;aslx&quot; /&gt;\n\n  &lt;game name=&quot;NPC Crowd&quot;&gt;\n\n    &lt;gameid&gt;70d76bbb-2e9b-455e-a69e-b79f47955343&lt;/gameid&gt;\n    &lt;version&gt;1&#46;0&lt;/version&gt;\n    &lt;firstpublished&gt;2013&lt;/firstpublished&gt;\n\n  &lt;/game&gt;\n\n  &lt;object name=&quot;room&quot;&gt;\n\n    &lt;inherit name=&quot;editor_room&quot; /&gt;\n\n    &lt;object name=&quot;player&quot;&gt;\n      &lt;inherit name=&quot;editor_object&quot; /&gt;\n      &lt;inherit name=&quot;editor_player&quot; /&gt;\n    &lt;/object&gt;\n\n    &lt;object name=&quot;locked_door&quot;&gt;\n\n      &lt;knock_on type=&quot;script&quot;&gt;\n        if (NPC&#46;parent = &quot;Locked_Room&quot;) {\n          msg(&quot;You hear a voice call out, \\&quot;Give me a moment! I'll be right out!\\&quot; from behind the door&#46;&quot;)\n        }\n        else {\n          msg(&quot;Nobody answers&#46;&quot;)\n        }\n      &lt;/knock_on&gt;\n\n    &lt;/object&gt;\n\n  &lt;/object&gt;\n\n  &lt;object name=&quot;locked_room&quot;&gt;\n\n    &lt;inherit name=&quot;editor_room&quot; /&gt;\n\n    &lt;object name=&quot;NPC_Crowd&quot;&gt;\n\n      &lt;inherit name=&quot;editor_object&quot; /&gt;\n      &lt;alias&gt;crowd&lt;/alias&gt;\n      &lt;behaviorDesc type=&quot;list&quot;&gt;A dusty old tome&#46;; It's a weathered volume&#46;; A very old book with that familiar musty book smell&#46;&lt;/behaviorDesc&gt;\n\n    &lt;/object&gt;\n\n    &lt;turnscript&gt;\n\n      &lt;script&gt;\n        SetTurnTimeout (2) {\n          msg(StringListItem(NPC_Crowd&#46;behaviorDesc, GetRandomInt(1,3) - 1))\n        }\n      &lt;/script&gt;\n\n    &lt;/turnscript&gt;\n\n  &lt;/object&gt;\n\n&lt;/asl&gt;[/code:1p2krbpi]\n\nI think this code is still missing the code to move the npc_crowd object around, so here's the code with this implemented:\n\n(I had to trouble shoot, so I've altered sgreig's code a bit to get it to work for me, he'll have to help if you want the code to more follow his own, as I had to adjust it to get this to work)\n\n(I got one problem, I can't figure out why upon knocking, it moves the NPC_Crowd back and forth between room and locked_room, I'll check if I got some attribute code that is doing this... as it is the only thing I can think of that may be causing this... lol)\n\n[code:1p2krbpi]&lt;asl version=&quot;530&quot;&gt;\n  &lt;include ref=&quot;English&#46;aslx&quot; /&gt;\n  &lt;include ref=&quot;Core&#46;aslx&quot; /&gt;\n  &lt;game name=&quot;NPC Crowd&quot;&gt;\n    &lt;gameid&gt;70d76bbb-2e9b-455e-a69e-b79f47955343&lt;/gameid&gt;\n    &lt;version&gt;1&#46;0&lt;/version&gt;\n    &lt;firstpublished&gt;2013&lt;/firstpublished&gt;\n    &lt;turns type=&quot;int&quot;&gt;0&lt;/turns&gt;\n    &lt;statusattributes type=&quot;stringdictionary&quot;&gt;turns = &lt;/statusattributes&gt;\n  &lt;/game&gt;\n  &lt;object name=&quot;room&quot;&gt;\n    &lt;inherit name=&quot;editor_room&quot; /&gt;\n    &lt;object name=&quot;player&quot;&gt;\n      &lt;inherit name=&quot;editor_object&quot; /&gt;\n      &lt;inherit name=&quot;editor_player&quot; /&gt;\n      &lt;drop type=&quot;boolean&quot;&gt;false&lt;/drop&gt;\n    &lt;/object&gt;\n    &lt;object name=&quot;locked_door&quot;&gt;\n      &lt;inherit name=&quot;editor_object&quot; /&gt;\n      &lt;drop type=&quot;boolean&quot;&gt;false&lt;/drop&gt;\n      &lt;knock type=&quot;script&quot;&gt;\n        if (NPC_Crowd&#46;parent = locked_room) {\n          msg (&quot;You hear a voice call out, \\&quot;Give me a moment! I'll be right out!\\&quot; from behind the door&#46;&quot;)\n        }\n        else if (NPC_Crowd&#46;parent = room) {\n          msg (&quot;Nobody answers&#46;&quot;)\n        }\n      &lt;/knock&gt;\n    &lt;/object&gt;\n    &lt;object name=&quot;NPC_Crowd&quot;&gt;\n      &lt;inherit name=&quot;editor_object&quot; /&gt;\n      &lt;alias&gt;crowd&lt;/alias&gt;\n      &lt;behaviorDesc type=&quot;list&quot;&gt;A dusty old tome&#46;; It's a weathered volume&#46;; A very old book with that familiar musty book smell&#46;&lt;/behaviorDesc&gt;\n      &lt;drop type=&quot;boolean&quot;&gt;false&lt;/drop&gt;\n      &lt;speak type=&quot;script&quot;&gt;\n        msg (StringListItem(NPC_Crowd&#46;behaviorDesc, GetRandomInt(1,3) - 1))\n      &lt;/speak&gt;\n    &lt;/object&gt;\n  &lt;/object&gt;\n  &lt;object name=&quot;locked_room&quot;&gt;\n    &lt;inherit name=&quot;editor_room&quot; /&gt;\n  &lt;/object&gt;\n  &lt;turnscript&gt;\n    &lt;enabled /&gt;\n    &lt;script&gt;\n      SetTurnTimeout (5) {\n        if (NPC_Crowd&#46;parent = room) {\n          MoveObject (NPC_Crowd, locked_room)\n        }\n        else if (NPC_Crowd&#46;parent = locked_room) {\n          MoveObject (NPC_Crowd, room)\n        }\n      }\n    &lt;/script&gt;\n  &lt;/turnscript&gt;\n&lt;/asl&gt;[/code:1p2krbpi]",
      "EditableFormat": "bbcode",
      "HTML": "take a look at my codes too (it's the same as sgreig's, except it's missing the random messages code part), as I've made some comments for you to read and understand the code (it looks really nice in Code View Mode!), but it's messy otherwise, so if you want to, you can delete all the ' // _____ ' (comment) lines.<br/><br/>here's the code with the comment lines (view this in Code View mode!):<br/><br/><pre><code>// the below line is the start of the script block for your door object<br/>&lt;object name=&quot;door&quot;&gt;<br/>// the below line is the start of the script block for your verb ' knock on '<br/>  &lt;knock on type=&quot;script&quot;&gt;<br/>// the below lines is the script, a simple message, that your verb ' knock on ' runs<br/>    msg (&quot;knock on door&quot;)<br/>// the below two coding lines says this&#58; if your npc's parent is the locked room (the ' parent ' meaning that, if the npc is a, ' child ' or INSIDE, of the locked room), then output the message, &quot;Give me a moment, I'll be right out&#46;&quot;<br/>// the line below is the start of the if script block<br/>    if (your_npc_name&#46;parent = the_room_name_of_that_he_she_is_locked_inside_of) {<br/>      msg (&quot;Give me a moment, I'll be right out&#46;&quot;)<br/>    }<br/>// the above line, the single ' } ', is the end of the if script block<br/>// the below two coding lines is the script block for if the npc's parent is *NOT* the locked room (meaning that, since there npc isn't in the locked room, then output the message, &quot;Nobody answers&quot;<br/>    else {<br/>      msg (&quot;Nobody answers&quot;)<br/>    }<br/>// the above line, the single ' } ' is the end of the else script block<br/>  &lt;/knock on&gt;<br/>// the above line is the end of the script block for your verb ' knock on '<br/>&lt;/object&gt;<br/>// the above line is the end of the script block for your door object</code></pre><br/><br/>here's the code without the comment lines (It looks the exact same as sgreig's, except its missing all of his coding for the random selection and etc):<br/><br/><pre><code>&lt;object name=&quot;door&quot;&gt;<br/>  &lt;knock on type=&quot;script&quot;&gt;<br/>    msg (&quot;knock on door&quot;)<br/>    if (your_npc_name&#46;parent = the_room_name_of_that_he_she_is_locked_inside_of) {<br/>      msg (&quot;Give me a moment, I'll be right out&#46;&quot;)<br/>    }<br/>    else {<br/>      msg (&quot;Nobody answers&quot;)<br/>    }<br/>  &lt;/knock on&gt;<br/>&lt;/object&gt;</code></pre><br/><br/>-------<br/><br/>sgreig was saying to combine (though it takes some work and &quot;know-how&quot; to do this) the two codes of his:<br/><br/><pre><code>&lt;asl version=&quot;530&quot;&gt;<br/>  &lt;include ref=&quot;English&#46;aslx&quot; /&gt;<br/>  &lt;include ref=&quot;Core&#46;aslx&quot; /&gt;<br/>  &lt;game name=&quot;NPC Crowd&quot;&gt;<br/>    &lt;gameid&gt;70d76bbb-2e9b-455e-a69e-b79f47955343&lt;/gameid&gt;<br/>    &lt;version&gt;1&#46;0&lt;/version&gt;<br/>    &lt;firstpublished&gt;2013&lt;/firstpublished&gt;<br/>  &lt;/game&gt;<br/>  &lt;object name=&quot;room&quot;&gt;<br/>    &lt;inherit name=&quot;editor_room&quot; /&gt;<br/>    &lt;object name=&quot;player&quot;&gt;<br/>      &lt;inherit name=&quot;editor_object&quot; /&gt;<br/>      &lt;inherit name=&quot;editor_player&quot; /&gt;<br/>    &lt;/object&gt;<br/>    &lt;object name=&quot;NPC_Crowd&quot;&gt;<br/>      &lt;inherit name=&quot;editor_object&quot; /&gt;<br/>      &lt;alias&gt;crowd&lt;/alias&gt;<br/>      &lt;behaviorDesc type=&quot;list&quot;&gt;A dusty old tome&#46;; It's a weathered volume&#46;; A very old book with that familiar musty book smell&#46;&lt;/behaviorDesc&gt;<br/>    &lt;/object&gt;<br/>    &lt;turnscript&gt;<br/>      &lt;script&gt;<br/>        SetTurnTimeout (2) {<br/>          msg(StringListItem(NPC_Crowd&#46;behaviorDesc, GetRandomInt(1,3) - 1))<br/>        }<br/>      &lt;/script&gt;<br/>    &lt;/turnscript&gt;<br/>  &lt;/object&gt;<br/>&lt;/asl&gt;</code></pre><br/><br/>and<br/><br/><pre><code>if (NPC&#46;parent = &quot;Locked_Room&quot;) {<br/>  msg(&quot;You hear a voice call out, \\&quot;Give me a moment! I'll be right out!\\&quot; from behind the door&#46;&quot;)<br/>}<br/>else {<br/>  msg(&quot;Nobody answers&#46;&quot;)<br/>}</code></pre><br/><br/>so, it would look like this (using sgreig's codes):<br/><br/><pre><code>&lt;asl version=&quot;530&quot;&gt;<br/><br/>  &lt;include ref=&quot;English&#46;aslx&quot; /&gt;<br/>  &lt;include ref=&quot;Core&#46;aslx&quot; /&gt;<br/><br/>  &lt;game name=&quot;NPC Crowd&quot;&gt;<br/><br/>    &lt;gameid&gt;70d76bbb-2e9b-455e-a69e-b79f47955343&lt;/gameid&gt;<br/>    &lt;version&gt;1&#46;0&lt;/version&gt;<br/>    &lt;firstpublished&gt;2013&lt;/firstpublished&gt;<br/><br/>  &lt;/game&gt;<br/><br/>  &lt;object name=&quot;room&quot;&gt;<br/><br/>    &lt;inherit name=&quot;editor_room&quot; /&gt;<br/><br/>    &lt;object name=&quot;player&quot;&gt;<br/>      &lt;inherit name=&quot;editor_object&quot; /&gt;<br/>      &lt;inherit name=&quot;editor_player&quot; /&gt;<br/>    &lt;/object&gt;<br/><br/>    &lt;object name=&quot;locked_door&quot;&gt;<br/><br/>      &lt;knock_on type=&quot;script&quot;&gt;<br/>        if (NPC&#46;parent = &quot;Locked_Room&quot;) {<br/>          msg(&quot;You hear a voice call out, \\&quot;Give me a moment! I'll be right out!\\&quot; from behind the door&#46;&quot;)<br/>        }<br/>        else {<br/>          msg(&quot;Nobody answers&#46;&quot;)<br/>        }<br/>      &lt;/knock_on&gt;<br/><br/>    &lt;/object&gt;<br/><br/>  &lt;/object&gt;<br/><br/>  &lt;object name=&quot;locked_room&quot;&gt;<br/><br/>    &lt;inherit name=&quot;editor_room&quot; /&gt;<br/><br/>    &lt;object name=&quot;NPC_Crowd&quot;&gt;<br/><br/>      &lt;inherit name=&quot;editor_object&quot; /&gt;<br/>      &lt;alias&gt;crowd&lt;/alias&gt;<br/>      &lt;behaviorDesc type=&quot;list&quot;&gt;A dusty old tome&#46;; It's a weathered volume&#46;; A very old book with that familiar musty book smell&#46;&lt;/behaviorDesc&gt;<br/><br/>    &lt;/object&gt;<br/><br/>    &lt;turnscript&gt;<br/><br/>      &lt;script&gt;<br/>        SetTurnTimeout (2) {<br/>          msg(StringListItem(NPC_Crowd&#46;behaviorDesc, GetRandomInt(1,3) - 1))<br/>        }<br/>      &lt;/script&gt;<br/><br/>    &lt;/turnscript&gt;<br/><br/>  &lt;/object&gt;<br/><br/>&lt;/asl&gt;</code></pre><br/><br/>I think this code is still missing the code to move the npc_crowd object around, so here's the code with this implemented:<br/><br/>(I had to trouble shoot, so I've altered sgreig's code a bit to get it to work for me, he'll have to help if you want the code to more follow his own, as I had to adjust it to get this to work)<br/><br/>(I got one problem, I can't figure out why upon knocking, it moves the NPC_Crowd back and forth between room and locked_room, I'll check if I got some attribute code that is doing this... as it is the only thing I can think of that may be causing this... lol)<br/><br/><pre><code>&lt;asl version=&quot;530&quot;&gt;<br/>  &lt;include ref=&quot;English&#46;aslx&quot; /&gt;<br/>  &lt;include ref=&quot;Core&#46;aslx&quot; /&gt;<br/>  &lt;game name=&quot;NPC Crowd&quot;&gt;<br/>    &lt;gameid&gt;70d76bbb-2e9b-455e-a69e-b79f47955343&lt;/gameid&gt;<br/>    &lt;version&gt;1&#46;0&lt;/version&gt;<br/>    &lt;firstpublished&gt;2013&lt;/firstpublished&gt;<br/>    &lt;turns type=&quot;int&quot;&gt;0&lt;/turns&gt;<br/>    &lt;statusattributes type=&quot;stringdictionary&quot;&gt;turns = &lt;/statusattributes&gt;<br/>  &lt;/game&gt;<br/>  &lt;object name=&quot;room&quot;&gt;<br/>    &lt;inherit name=&quot;editor_room&quot; /&gt;<br/>    &lt;object name=&quot;player&quot;&gt;<br/>      &lt;inherit name=&quot;editor_object&quot; /&gt;<br/>      &lt;inherit name=&quot;editor_player&quot; /&gt;<br/>      &lt;drop type=&quot;boolean&quot;&gt;false&lt;/drop&gt;<br/>    &lt;/object&gt;<br/>    &lt;object name=&quot;locked_door&quot;&gt;<br/>      &lt;inherit name=&quot;editor_object&quot; /&gt;<br/>      &lt;drop type=&quot;boolean&quot;&gt;false&lt;/drop&gt;<br/>      &lt;knock type=&quot;script&quot;&gt;<br/>        if (NPC_Crowd&#46;parent = locked_room) {<br/>          msg (&quot;You hear a voice call out, \\&quot;Give me a moment! I'll be right out!\\&quot; from behind the door&#46;&quot;)<br/>        }<br/>        else if (NPC_Crowd&#46;parent = room) {<br/>          msg (&quot;Nobody answers&#46;&quot;)<br/>        }<br/>      &lt;/knock&gt;<br/>    &lt;/object&gt;<br/>    &lt;object name=&quot;NPC_Crowd&quot;&gt;<br/>      &lt;inherit name=&quot;editor_object&quot; /&gt;<br/>      &lt;alias&gt;crowd&lt;/alias&gt;<br/>      &lt;behaviorDesc type=&quot;list&quot;&gt;A dusty old tome&#46;; It's a weathered volume&#46;; A very old book with that familiar musty book smell&#46;&lt;/behaviorDesc&gt;<br/>      &lt;drop type=&quot;boolean&quot;&gt;false&lt;/drop&gt;<br/>      &lt;speak type=&quot;script&quot;&gt;<br/>        msg (StringListItem(NPC_Crowd&#46;behaviorDesc, GetRandomInt(1,3) - 1))<br/>      &lt;/speak&gt;<br/>    &lt;/object&gt;<br/>  &lt;/object&gt;<br/>  &lt;object name=&quot;locked_room&quot;&gt;<br/>    &lt;inherit name=&quot;editor_room&quot; /&gt;<br/>  &lt;/object&gt;<br/>  &lt;turnscript&gt;<br/>    &lt;enabled /&gt;<br/>    &lt;script&gt;<br/>      SetTurnTimeout (5) {<br/>        if (NPC_Crowd&#46;parent = room) {<br/>          MoveObject (NPC_Crowd, locked_room)<br/>        }<br/>        else if (NPC_Crowd&#46;parent = locked_room) {<br/>          MoveObject (NPC_Crowd, room)<br/>        }<br/>      }<br/>    &lt;/script&gt;<br/>  &lt;/turnscript&gt;<br/>&lt;/asl&gt;</code></pre>",
      "PostDate": "2013-02-08T16:20:04+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "22650",
      "UserId": 0,
      "Username": "dwn",
      "UserAvatar": null,
      "UserGravatar": "c57ae67c2e3458feaedebff1483387d0",
      "EditableText": "Another example...say after 2 turns, you want an NPC to enter a room, so you move the NPC from one place to another. This bit of code does that, however, the message: &quot;The NCP arrives to check in on you.&quot; loops endlessly now, wherever you go and whatever you do, and it is not clear how to make the message only print once. I tried to add disable turnscript, but that didn't seem to work...\n\nEdit: I modified code in attempt to make NPC enter the room after 2 turns, then exit room again after 2 turns. But still get errors and msg lopping....\n\n[code:1e4w3uvz]\n&lt;!--Saved by Quest 5&#46;3&#46;4762&#46;29157--&gt;\n&lt;asl version=&quot;530&quot;&gt;\n  &lt;include ref=&quot;English&#46;aslx&quot; /&gt;\n  &lt;include ref=&quot;Core&#46;aslx&quot; /&gt;\n  &lt;game name=&quot;NPC Behavior Automated Event - Turnscripts - Movement Between Rooms&quot;&gt;\n    &lt;gameid&gt;91415345-16e8-48d4-a419-5aa3da6ae105&lt;/gameid&gt;\n    &lt;version&gt;1&#46;0&lt;/version&gt;\n    &lt;firstpublished&gt;2013&lt;/firstpublished&gt;\n  &lt;/game&gt;\n  &lt;object name=&quot;Inside House&quot;&gt;\n    &lt;inherit name=&quot;editor_room&quot; /&gt;\n    &lt;alias&gt;Inside House&lt;/alias&gt;\n    &lt;object name=&quot;player&quot;&gt;\n      &lt;inherit name=&quot;editor_object&quot; /&gt;\n      &lt;inherit name=&quot;editor_player&quot; /&gt;\n    &lt;/object&gt;\n    &lt;turnscript name=&quot;NPC_checksin&quot;&gt;\n      &lt;enabled /&gt;\n      &lt;script&gt;\n        SetTurnTimeout (2) {\n          msg (&quot;The NPC arrives to check in on you&#46;&quot;)\n          MoveObject (NPC_Busybody, Inside House)\n          SetTurnTimeoutID (2, &quot;NPC_leavesagain&quot;) {\n          }\n          MoveObject (NPC_Busybody, Backyard)\n          msg (&quot;The NPC leaves the room again&#46;&quot;)\n        }\n      &lt;/script&gt;\n    &lt;/turnscript&gt;\n    &lt;exit alias=&quot;south&quot; to=&quot;Backyard&quot;&gt;\n      &lt;inherit name=&quot;southdirection&quot; /&gt;\n    &lt;/exit&gt;\n  &lt;/object&gt;\n  &lt;object name=&quot;Backyard&quot;&gt;\n    &lt;inherit name=&quot;editor_room&quot; /&gt;\n    &lt;alias&gt;Backyard&lt;/alias&gt;\n    &lt;object name=&quot;NPC_Busybody&quot;&gt;\n      &lt;inherit name=&quot;editor_object&quot; /&gt;\n    &lt;/object&gt;\n    &lt;exit alias=&quot;north&quot; to=&quot;Inside House&quot;&gt;\n      &lt;inherit name=&quot;northdirection&quot; /&gt;\n    &lt;/exit&gt;\n  &lt;/object&gt;\n&lt;/asl&gt;\n[/code:1e4w3uvz]",
      "EditableFormat": "bbcode",
      "HTML": "Another example...say after 2 turns, you want an NPC to enter a room, so you move the NPC from one place to another. This bit of code does that, however, the message: &quot;The NCP arrives to check in on you.&quot; loops endlessly now, wherever you go and whatever you do, and it is not clear how to make the message only print once. I tried to add disable turnscript, but that didn't seem to work...<br/><br/>Edit: I modified code in attempt to make NPC enter the room after 2 turns, then exit room again after 2 turns. But still get errors and msg lopping....<br/><br/><pre><code><br/>&lt;!--Saved by Quest 5&#46;3&#46;4762&#46;29157--&gt;<br/>&lt;asl version=&quot;530&quot;&gt;<br/>  &lt;include ref=&quot;English&#46;aslx&quot; /&gt;<br/>  &lt;include ref=&quot;Core&#46;aslx&quot; /&gt;<br/>  &lt;game name=&quot;NPC Behavior Automated Event - Turnscripts - Movement Between Rooms&quot;&gt;<br/>    &lt;gameid&gt;91415345-16e8-48d4-a419-5aa3da6ae105&lt;/gameid&gt;<br/>    &lt;version&gt;1&#46;0&lt;/version&gt;<br/>    &lt;firstpublished&gt;2013&lt;/firstpublished&gt;<br/>  &lt;/game&gt;<br/>  &lt;object name=&quot;Inside House&quot;&gt;<br/>    &lt;inherit name=&quot;editor_room&quot; /&gt;<br/>    &lt;alias&gt;Inside House&lt;/alias&gt;<br/>    &lt;object name=&quot;player&quot;&gt;<br/>      &lt;inherit name=&quot;editor_object&quot; /&gt;<br/>      &lt;inherit name=&quot;editor_player&quot; /&gt;<br/>    &lt;/object&gt;<br/>    &lt;turnscript name=&quot;NPC_checksin&quot;&gt;<br/>      &lt;enabled /&gt;<br/>      &lt;script&gt;<br/>        SetTurnTimeout (2) {<br/>          msg (&quot;The NPC arrives to check in on you&#46;&quot;)<br/>          MoveObject (NPC_Busybody, Inside House)<br/>          SetTurnTimeoutID (2, &quot;NPC_leavesagain&quot;) {<br/>          }<br/>          MoveObject (NPC_Busybody, Backyard)<br/>          msg (&quot;The NPC leaves the room again&#46;&quot;)<br/>        }<br/>      &lt;/script&gt;<br/>    &lt;/turnscript&gt;<br/>    &lt;exit alias=&quot;south&quot; to=&quot;Backyard&quot;&gt;<br/>      &lt;inherit name=&quot;southdirection&quot; /&gt;<br/>    &lt;/exit&gt;<br/>  &lt;/object&gt;<br/>  &lt;object name=&quot;Backyard&quot;&gt;<br/>    &lt;inherit name=&quot;editor_room&quot; /&gt;<br/>    &lt;alias&gt;Backyard&lt;/alias&gt;<br/>    &lt;object name=&quot;NPC_Busybody&quot;&gt;<br/>      &lt;inherit name=&quot;editor_object&quot; /&gt;<br/>    &lt;/object&gt;<br/>    &lt;exit alias=&quot;north&quot; to=&quot;Inside House&quot;&gt;<br/>      &lt;inherit name=&quot;northdirection&quot; /&gt;<br/>    &lt;/exit&gt;<br/>  &lt;/object&gt;<br/>&lt;/asl&gt;<br/></code></pre>",
      "PostDate": "2013-02-08T17:11:16+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "22651",
      "UserId": 0,
      "Username": "HegemonKhan",
      "UserAvatar": null,
      "UserGravatar": "a96cf34d8d97c57de38f54ee22b1759b",
      "EditableText": "I was jsut doing some trouble shooting, and just edited this into my previous post (take a look at my previous post if you want to read my comments, otherwise...) here's the code that I just editted onto my previous post:\n\n(I think this does what you wanted, if not, let me know)\n\n[code:2khfkbly]&lt;asl version=&quot;530&quot;&gt;\n\n  &lt;include ref=&quot;English&#46;aslx&quot; /&gt;\n  &lt;include ref=&quot;Core&#46;aslx&quot; /&gt;\n\n  &lt;game name=&quot;NPC Crowd&quot;&gt;\n    &lt;gameid&gt;70d76bbb-2e9b-455e-a69e-b79f47955343&lt;/gameid&gt;\n    &lt;version&gt;1&#46;0&lt;/version&gt;\n    &lt;firstpublished&gt;2013&lt;/firstpublished&gt;\n    &lt;turns type=&quot;int&quot;&gt;0&lt;/turns&gt;\n    &lt;statusattributes type=&quot;stringdictionary&quot;&gt;turns = &lt;/statusattributes&gt;\n  &lt;/game&gt;\n\n  &lt;object name=&quot;room&quot;&gt;\n    &lt;inherit name=&quot;editor_room&quot; /&gt;\n\n    &lt;object name=&quot;player&quot;&gt;\n      &lt;inherit name=&quot;editor_object&quot; /&gt;\n      &lt;inherit name=&quot;editor_player&quot; /&gt;\n      &lt;drop type=&quot;boolean&quot;&gt;false&lt;/drop&gt;\n    &lt;/object&gt;\n\n    &lt;object name=&quot;locked_door&quot;&gt;\n      &lt;inherit name=&quot;editor_object&quot; /&gt;\n      &lt;drop type=&quot;boolean&quot;&gt;false&lt;/drop&gt;\n\n      &lt;knock type=&quot;script&quot;&gt;\n        if (NPC_Crowd&#46;parent = locked_room) {\n          msg (&quot;You hear a voice call out, \\&quot;Give me a moment! I'll be right out!\\&quot; from behind the door&#46;&quot;)\n        }\n        else if (NPC_Crowd&#46;parent = room) {\n          msg (&quot;Nobody answers&#46;&quot;)\n        }\n      &lt;/knock&gt;\n\n    &lt;/object&gt;\n\n    &lt;object name=&quot;NPC_Crowd&quot;&gt;\n\n      &lt;inherit name=&quot;editor_object&quot; /&gt;\n      &lt;alias&gt;crowd&lt;/alias&gt;\n\n      &lt;behaviorDesc type=&quot;list&quot;&gt;A dusty old tome&#46;; It's a weathered volume&#46;; A very old book with that familiar musty book smell&#46;&lt;/behaviorDesc&gt;\n\n      &lt;drop type=&quot;boolean&quot;&gt;false&lt;/drop&gt;\n\n      &lt;speak type=&quot;script&quot;&gt;\n        msg (StringListItem(NPC_Crowd&#46;behaviorDesc, GetRandomInt(1,3) - 1))\n      &lt;/speak&gt;\n\n    &lt;/object&gt;\n\n  &lt;/object&gt;\n\n  &lt;object name=&quot;locked_room&quot;&gt;\n    &lt;inherit name=&quot;editor_room&quot; /&gt;\n  &lt;/object&gt;\n\n  &lt;turnscript&gt;\n    &lt;enabled /&gt;\n    &lt;script&gt;\n      SetTurnTimeout (5) {\n        if (NPC_Crowd&#46;parent = room) {\n          MoveObject (NPC_Crowd, locked_room)\n        }\n        else if (NPC_Crowd&#46;parent = locked_room) {\n          MoveObject (NPC_Crowd, room)\n        }\n      }\n    &lt;/script&gt;\n  &lt;/turnscript&gt;\n\n&lt;/asl&gt;[/code:2khfkbly]",
      "EditableFormat": "bbcode",
      "HTML": "I was jsut doing some trouble shooting, and just edited this into my previous post (take a look at my previous post if you want to read my comments, otherwise...) here's the code that I just editted onto my previous post:<br/><br/>(I think this does what you wanted, if not, let me know)<br/><br/><pre><code>&lt;asl version=&quot;530&quot;&gt;<br/><br/>  &lt;include ref=&quot;English&#46;aslx&quot; /&gt;<br/>  &lt;include ref=&quot;Core&#46;aslx&quot; /&gt;<br/><br/>  &lt;game name=&quot;NPC Crowd&quot;&gt;<br/>    &lt;gameid&gt;70d76bbb-2e9b-455e-a69e-b79f47955343&lt;/gameid&gt;<br/>    &lt;version&gt;1&#46;0&lt;/version&gt;<br/>    &lt;firstpublished&gt;2013&lt;/firstpublished&gt;<br/>    &lt;turns type=&quot;int&quot;&gt;0&lt;/turns&gt;<br/>    &lt;statusattributes type=&quot;stringdictionary&quot;&gt;turns = &lt;/statusattributes&gt;<br/>  &lt;/game&gt;<br/><br/>  &lt;object name=&quot;room&quot;&gt;<br/>    &lt;inherit name=&quot;editor_room&quot; /&gt;<br/><br/>    &lt;object name=&quot;player&quot;&gt;<br/>      &lt;inherit name=&quot;editor_object&quot; /&gt;<br/>      &lt;inherit name=&quot;editor_player&quot; /&gt;<br/>      &lt;drop type=&quot;boolean&quot;&gt;false&lt;/drop&gt;<br/>    &lt;/object&gt;<br/><br/>    &lt;object name=&quot;locked_door&quot;&gt;<br/>      &lt;inherit name=&quot;editor_object&quot; /&gt;<br/>      &lt;drop type=&quot;boolean&quot;&gt;false&lt;/drop&gt;<br/><br/>      &lt;knock type=&quot;script&quot;&gt;<br/>        if (NPC_Crowd&#46;parent = locked_room) {<br/>          msg (&quot;You hear a voice call out, \\&quot;Give me a moment! I'll be right out!\\&quot; from behind the door&#46;&quot;)<br/>        }<br/>        else if (NPC_Crowd&#46;parent = room) {<br/>          msg (&quot;Nobody answers&#46;&quot;)<br/>        }<br/>      &lt;/knock&gt;<br/><br/>    &lt;/object&gt;<br/><br/>    &lt;object name=&quot;NPC_Crowd&quot;&gt;<br/><br/>      &lt;inherit name=&quot;editor_object&quot; /&gt;<br/>      &lt;alias&gt;crowd&lt;/alias&gt;<br/><br/>      &lt;behaviorDesc type=&quot;list&quot;&gt;A dusty old tome&#46;; It's a weathered volume&#46;; A very old book with that familiar musty book smell&#46;&lt;/behaviorDesc&gt;<br/><br/>      &lt;drop type=&quot;boolean&quot;&gt;false&lt;/drop&gt;<br/><br/>      &lt;speak type=&quot;script&quot;&gt;<br/>        msg (StringListItem(NPC_Crowd&#46;behaviorDesc, GetRandomInt(1,3) - 1))<br/>      &lt;/speak&gt;<br/><br/>    &lt;/object&gt;<br/><br/>  &lt;/object&gt;<br/><br/>  &lt;object name=&quot;locked_room&quot;&gt;<br/>    &lt;inherit name=&quot;editor_room&quot; /&gt;<br/>  &lt;/object&gt;<br/><br/>  &lt;turnscript&gt;<br/>    &lt;enabled /&gt;<br/>    &lt;script&gt;<br/>      SetTurnTimeout (5) {<br/>        if (NPC_Crowd&#46;parent = room) {<br/>          MoveObject (NPC_Crowd, locked_room)<br/>        }<br/>        else if (NPC_Crowd&#46;parent = locked_room) {<br/>          MoveObject (NPC_Crowd, room)<br/>        }<br/>      }<br/>    &lt;/script&gt;<br/>  &lt;/turnscript&gt;<br/><br/>&lt;/asl&gt;</code></pre>",
      "PostDate": "2013-02-08T17:43:44+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "22652",
      "UserId": 0,
      "Username": "HegemonKhan",
      "UserAvatar": null,
      "UserGravatar": "a96cf34d8d97c57de38f54ee22b1759b",
      "EditableText": "also, I think you've got a problem with the space here (spaces are BAD! lol):\n\nInside House\n\nso change them *ALL* to this (I love using the underscores, lol):\n\nInside_House\n\n--------------------------\n\nfor your looping problem:\n\n(I'm not certain if this is correct, so you may want to ask sgreig or whoever about it~this)\n\nit is your turnscript&#058;\n\n[code:frzubb8x]    &lt;turnscript name=&quot;NPC_checksin&quot;&gt;\n      &lt;enabled /&gt;\n      &lt;script&gt;\n        SetTurnTimeout (2) {\n          msg (&quot;The NPC arrives to check in on you&#46;&quot;)\n          MoveObject (NPC_Busybody, Inside House)\n          SetTurnTimeoutID (2, &quot;NPC_leavesagain&quot;) {\n          }\n          MoveObject (NPC_Busybody, Backyard)\n          msg (&quot;The NPC leaves the room again&#46;&quot;)\n        }\n      &lt;/script&gt;\n    &lt;/turnscript&gt;[/code:frzubb8x]\n\nyou need some if lines, because this is what it is doing right now:\n\non every 2 turns (turn 2, turn 4, turn 6, etc), move the ' NPC_Busybody ' to ' Inside_House ' and to ' Backyard ', so do you see the problem? it is stuck moving the NPC_Busybody back and forth (forever, continously, looping'ly) between ' Inside_House ' and ' Backyard '\n\nso, to stop this, we need the if script lines:\n\n[code:frzubb8x]    &lt;turnscript name=&quot;NPC_checksin&quot;&gt;\n      &lt;enabled /&gt;\n      &lt;script&gt;\n        SetTurnTimeout (2) {\n\n          if (NPC_Busybody&#46;parent = Backyard) {\n            msg (&quot;The NPC arrives to check in on you&#46;&quot;)\n            MoveObject (NPC_Busybody, Inside_House)\n          }\n\n          else if (NPC_Busybody&#46;parent = Inside_House) {\n            MoveObject (NPC_Busybody, Backyard)\n            msg (&quot;The NPC leaves the room again&#46;&quot;)\n          }\n\n      &lt;/script&gt;\n    &lt;/turnscript&gt;[/code:frzubb8x]\n\nthe code reads as this:\n\non every 2 turns [ SetTurnTimeout (2) {   ]\n\nturn 2:\n\nif NPC_Busybody is in Backyard [ NPC_Busybody.parent = Backyard ], then move NPC_Busybody to in Inside_House [ MoveObject (NPC_Busybody, Inside_House) ] + show message [ msg (&quot;The NPC arrives to check in on you.&quot;) ]\n\n~OR~ (else)\n\nif NPC_Busybody is in Inside_House [ NPC_Busybody.parent = Inside_House ], then move NPC_Busybody to in Backyard [ MoveObject (NPC_Busybody, Backyard) ] + show message [ msg (&quot;The NPC leaves the room again.&quot;) ]\n\nturn 4:\n\nif NPC_Busybody is in Backyard [ NPC_Busybody.parent = Backyard ], then move NPC_Busybody to in Inside_House [ MoveObject (NPC_Busybody, Inside_House) ] + show message [ msg (&quot;The NPC arrives to check in on you.&quot;) ]\n\n~OR~ (else)\n\nif NPC_Busybody is in Inside_House [ NPC_Busybody.parent = Inside_House ], then move NPC_Busybody to in Backyard [ MoveObject (NPC_Busybody, Backyard) ] + show message [ msg (&quot;The NPC leaves the room again.&quot;) ]\n\nturn 6:\n\nif NPC_Busybody is in Backyard [ NPC_Busybody.parent = Backyard ], then move NPC_Busybody to in Inside_House [ MoveObject (NPC_Busybody, Inside_House) ] + show message [ msg (&quot;The NPC arrives to check in on you.&quot;) ]\n\n~OR~ (else)\n\nif NPC_Busybody is in Inside_House [ NPC_Busybody.parent = Inside_House ], then move NPC_Busybody to in Backyard [ MoveObject (NPC_Busybody, Backyard) ] + show message [ msg (&quot;The NPC leaves the room again.&quot;) ]\n\nturn etc... :\n\netc...",
      "EditableFormat": "bbcode",
      "HTML": "also, I think you've got a problem with the space here (spaces are BAD! lol):<br/><br/>Inside House<br/><br/>so change them *ALL* to this (I love using the underscores, lol):<br/><br/>Inside_House<br/><br/>--------------------------<br/><br/>for your looping problem:<br/><br/>(I'm not certain if this is correct, so you may want to ask sgreig or whoever about it~this)<br/><br/>it is your turnscript&#058;<br/><br/><pre><code>    &lt;turnscript name=&quot;NPC_checksin&quot;&gt;<br/>      &lt;enabled /&gt;<br/>      &lt;script&gt;<br/>        SetTurnTimeout (2) {<br/>          msg (&quot;The NPC arrives to check in on you&#46;&quot;)<br/>          MoveObject (NPC_Busybody, Inside House)<br/>          SetTurnTimeoutID (2, &quot;NPC_leavesagain&quot;) {<br/>          }<br/>          MoveObject (NPC_Busybody, Backyard)<br/>          msg (&quot;The NPC leaves the room again&#46;&quot;)<br/>        }<br/>      &lt;/script&gt;<br/>    &lt;/turnscript&gt;</code></pre><br/><br/>you need some if lines, because this is what it is doing right now:<br/><br/>on every 2 turns (turn 2, turn 4, turn 6, etc), move the ' NPC_Busybody ' to ' Inside_House ' and to ' Backyard ', so do you see the problem? it is stuck moving the NPC_Busybody back and forth (forever, continously, looping'ly) between ' Inside_House ' and ' Backyard '<br/><br/>so, to stop this, we need the if script lines:<br/><br/><pre><code>    &lt;turnscript name=&quot;NPC_checksin&quot;&gt;<br/>      &lt;enabled /&gt;<br/>      &lt;script&gt;<br/>        SetTurnTimeout (2) {<br/><br/>          if (NPC_Busybody&#46;parent = Backyard) {<br/>            msg (&quot;The NPC arrives to check in on you&#46;&quot;)<br/>            MoveObject (NPC_Busybody, Inside_House)<br/>          }<br/><br/>          else if (NPC_Busybody&#46;parent = Inside_House) {<br/>            MoveObject (NPC_Busybody, Backyard)<br/>            msg (&quot;The NPC leaves the room again&#46;&quot;)<br/>          }<br/><br/>      &lt;/script&gt;<br/>    &lt;/turnscript&gt;</code></pre><br/><br/>the code reads as this:<br/><br/>on every 2 turns [ SetTurnTimeout (2) {   ]<br/><br/>turn 2:<br/><br/>if NPC_Busybody is in Backyard [ NPC_Busybody.parent = Backyard ], then move NPC_Busybody to in Inside_House [ MoveObject (NPC_Busybody, Inside_House) ] + show message [ msg (&quot;The NPC arrives to check in on you.&quot;) ]<br/><br/>~OR~ (else)<br/><br/>if NPC_Busybody is in Inside_House [ NPC_Busybody.parent = Inside_House ], then move NPC_Busybody to in Backyard [ MoveObject (NPC_Busybody, Backyard) ] + show message [ msg (&quot;The NPC leaves the room again.&quot;) ]<br/><br/>turn 4:<br/><br/>if NPC_Busybody is in Backyard [ NPC_Busybody.parent = Backyard ], then move NPC_Busybody to in Inside_House [ MoveObject (NPC_Busybody, Inside_House) ] + show message [ msg (&quot;The NPC arrives to check in on you.&quot;) ]<br/><br/>~OR~ (else)<br/><br/>if NPC_Busybody is in Inside_House [ NPC_Busybody.parent = Inside_House ], then move NPC_Busybody to in Backyard [ MoveObject (NPC_Busybody, Backyard) ] + show message [ msg (&quot;The NPC leaves the room again.&quot;) ]<br/><br/>turn 6:<br/><br/>if NPC_Busybody is in Backyard [ NPC_Busybody.parent = Backyard ], then move NPC_Busybody to in Inside_House [ MoveObject (NPC_Busybody, Inside_House) ] + show message [ msg (&quot;The NPC arrives to check in on you.&quot;) ]<br/><br/>~OR~ (else)<br/><br/>if NPC_Busybody is in Inside_House [ NPC_Busybody.parent = Inside_House ], then move NPC_Busybody to in Backyard [ MoveObject (NPC_Busybody, Backyard) ] + show message [ msg (&quot;The NPC leaves the room again.&quot;) ]<br/><br/>turn etc... :<br/><br/>etc...",
      "PostDate": "2013-02-08T18:09:04+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "22659",
      "UserId": 0,
      "Username": "sgreig",
      "UserAvatar": null,
      "UserGravatar": "9117185af66d72729b195384e3a446f0",
      "EditableText": "I just made up a sample game to demonstrate the features you wanted but it's not working for me either, and I can't figure out why. I'm assuming there must have been a change in Quest that's causing it because i'm 99% positive it would have worked in Quest 5.0 - 5.2. The turnscript isn't triggering the stuff when it's supposed to happen for some reason. Once I've got it figured out, I'll post it here and have it commented to explain what's going on.\n\n[b:3p68ul0o]EDIT:[/b:3p68ul0o] Got it sorted. Apparently Quest doesn't like turnscripts nested under objects. Not sure if that's a bug so I'll bring it up with Alex. Here is the code, with comments:\n\n[code:3p68ul0o]\n&lt;!--Saved by Quest 5&#46;3&#46;4762&#46;29157--&gt;\n&lt;asl version=&quot;530&quot;&gt;\n  &lt;include ref=&quot;English&#46;aslx&quot; /&gt;\n  &lt;include ref=&quot;Core&#46;aslx&quot; /&gt;\n  &lt;game name=&quot;test&quot;&gt;\n    &lt;gameid&gt;f26302df-aa5c-4ebd-b389-e9d18be20930&lt;/gameid&gt;\n    &lt;version&gt;1&#46;0&lt;/version&gt;\n    &lt;firstpublished&gt;2013&lt;/firstpublished&gt;\n    &lt;turnCount type=&quot;int&quot;&gt;0&lt;/turnCount&gt; // This is a variable we will use to keep track of the number of turns for the npc behaviour&#46;\n  &lt;/game&gt;\n  &lt;object name=&quot;room1&quot;&gt;\n    &lt;inherit name=&quot;editor_room&quot; /&gt;\n    &lt;alias&gt;Library&lt;/alias&gt;\n    &lt;object name=&quot;player&quot;&gt;\n      &lt;inherit name=&quot;editor_object&quot; /&gt;\n      &lt;inherit name=&quot;editor_player&quot; /&gt;\n    &lt;/object&gt;\n    &lt;object name=&quot;NPC&quot;&gt;\n      &lt;inherit name=&quot;editor_object&quot; /&gt;\n      &lt;inherit name=&quot;male&quot; /&gt;\n      &lt;alias&gt;Happy McGoo&lt;/alias&gt;\n      &lt;usedefaultprefix /&gt;\n      &lt;look&gt;He stares at you blankly, a small rope of drool forming at the corner of his lopsided grin&#46;&lt;/look&gt;\n      // This creates the string list with the behaviour descriptions&#46; Pretty straightforward&#46;\n      &lt;behaviorDesc type=&quot;list&quot;&gt;Happy's index finger begins an exploratory mission to the inner depths of his nasal cavity&#46;; Happy seems to have discovered that the walls make an interesting hollow thumping noise when he slams his forehead against them&#46;; Happy appears to be chewing on something&#46; You figure it's better not to ask questions&#46;&lt;/behaviorDesc&gt;\n    &lt;/object&gt;\n    &lt;exit alias=&quot;east&quot; to=&quot;room2&quot;&gt;\n      &lt;inherit name=&quot;eastdirection&quot; /&gt;\n    &lt;/exit&gt;\n  &lt;/object&gt;\n  &lt;turnscript name=&quot;npc_stuff&quot;&gt;\n    &lt;enabled /&gt;\n    &lt;script&gt;&lt;!&#91;CDATA&#91;\n      if (GetBoolean(NPC, &quot;following&quot;)) { // This line checks to see if the &quot;following&quot; attribute of the npc object is set to true or not&#46;\n        if (NPC&#46;parent &lt;&gt; player&#46;parent) { // If it IS set to true, this line checks to see if the npc is not in the same room as the player&#46;\n          NPC&#46;parent = player&#46;parent // This line moves the npc to the room the player is in&#46; If they're already in the same room, this won't happen&#46;\n        }\n      }\n      game&#46;turnCount = game&#46;turnCount + 1 // This line increased the variable game&#46;turnCount by 1 every turn&#46;\n      if (game&#46;turnCount = 2) { // If game&#46;turnCount = 2, then the next line happens&#46;\n        if (NPC&#46;parent = player&#46;parent) { // This line checks to see if the npc and the player are in the same room or not&#46; If not, you won't see the behaviour message&#46;\n          msg (StringListItem(NPC&#46;behaviorDesc, GetRandomInt(1,3) - 1)) // This displays a random behaviour message from the stringlist on the npc object&#46;\n        }\n      game&#46;turnCount = 0 // This line resets the game&#46;turnCount variable to 0&#46; This ensures the behaviour messages display every 2 turns&#46;\n      }\n    &#93;&#93;&gt;&lt;/script&gt;\n  &lt;/turnscript&gt;\n  &lt;object name=&quot;room2&quot;&gt;\n    &lt;inherit name=&quot;editor_room&quot; /&gt;\n    &lt;alias&gt;Foyer&lt;/alias&gt;\n    &lt;exit alias=&quot;west&quot; to=&quot;room1&quot;&gt;\n      &lt;inherit name=&quot;westdirection&quot; /&gt;\n    &lt;/exit&gt;\n    &lt;exit alias=&quot;east&quot; to=&quot;room3&quot;&gt;\n      &lt;inherit name=&quot;eastdirection&quot; /&gt;\n    &lt;/exit&gt;\n  &lt;/object&gt;\n  &lt;object name=&quot;room3&quot;&gt;\n    &lt;inherit name=&quot;editor_room&quot; /&gt;\n    &lt;alias&gt;Dining Room&lt;/alias&gt;\n    &lt;object name=&quot;Patrol&quot;&gt;\n      &lt;inherit name=&quot;editor_object&quot; /&gt;\n      &lt;inherit name=&quot;maleplural&quot; /&gt;\n      &lt;alias&gt;Patrol&lt;/alias&gt;\n      &lt;look&gt;A patrol of guards&#46;&lt;/look&gt;\n    &lt;/object&gt;\n    &lt;exit alias=&quot;west&quot; to=&quot;room2&quot;&gt;\n      &lt;inherit name=&quot;westdirection&quot; /&gt;\n    &lt;/exit&gt;\n  &lt;/object&gt;\n  &lt;command name=&quot;follow&quot;&gt;\n    &lt;pattern&gt;follow me&lt;/pattern&gt; // This line creates the &quot;follow me&quot; command&#46;\n    &lt;script&gt;\n      msg (&quot;Happy begins to follow you&#46;&quot;) // This gives the player feedback that the command has worked&#46;\n      SetObjectFlagOn (NPC, &quot;following&quot;) // This line sets the NPC&#46;following value to &quot;true&quot; for the turnscript&#46;\n    &lt;/script&gt;\n  &lt;/command&gt;\n  &lt;command name=&quot;unfollow&quot;&gt;\n    &lt;pattern&gt;unfollow me&lt;/pattern&gt; // This command allows you to stop the npc from following you&#46;\n    &lt;script&gt;\n      SetObjectFlagOff (NPC, &quot;following&quot;) // This sets the &quot;following&quot; value on the npc object to &quot;false&#46;&quot;\n    &lt;/script&gt;\n  &lt;/command&gt;\n  &lt;turnscript name=&quot;Patrol_Duty&quot;&gt; // This turnscript controls the guards' patrol route&#46;\n    &lt;enabled /&gt;\n    &lt;script&gt;\n      SetTurnTimeout (2) { // Every 2 turns\n        if (Patrol&#46;parent = room3) { // This line checks to see if the patrol is in room3&#46; If so, the patrol is moved to room2 on the next line&#46;\n          Patrol&#46;parent = room2\n          Patrol&#46;previousRoom = room3 // This variable is created to keep track of the last room the patrol was in because we want the patrol to go 3-2-1-2-3&#46; Since room2 has 2 exits, we want to make sure the patrol doesn't go back the way they came&#46;\n        }\n        else if (Patrol&#46;parent = room2) { // Now, if the patrol is room 2&#46;&#46;&#46;\n          if (Patrol&#46;previousRoom = room3) { // We check the previous room variable to determine where to go next&#46; If they were last in room3, we move them to&#46;&#46;&#46;\n            Patrol&#46;parent = room1 // room1\n          }\n          else if (Patrol&#46;previousRoom = room1) { // Otherwise if they were just in room1 we move them to&#46;&#46;&#46;\n            Patrol&#46;parent = room3 // room3\n          }\n        }\n        else if (Patrol&#46;parent = room1) { // If they're currently in room1\n          Patrol&#46;parent = room2 // Move them to room2\n          Patrol&#46;previousRoom = room1 // Set the previous room variable to room1&#46;\n        }\n      }\n    &lt;/script&gt;\n  &lt;/turnscript&gt;\n&lt;/asl&gt;\n[/code:3p68ul0o]\n\nI should mention that as it's written, you can type follow me from any room and Happy will appear. Try reading the comments to figure out how things were implemented and see if you can apply that to changing the follow me command to only work when you're in the same room as Happy. And if you need any more clarification, please ask. <!-- s:) --><img src=\"{SMILIES_PATH}/icon_smile.gif\" alt=\":)\" title=\"Smile\" /><!-- s:) -->",
      "EditableFormat": "bbcode",
      "HTML": "I just made up a sample game to demonstrate the features you wanted but it's not working for me either, and I can't figure out why. I'm assuming there must have been a change in Quest that's causing it because i'm 99% positive it would have worked in Quest 5.0 - 5.2. The turnscript isn't triggering the stuff when it's supposed to happen for some reason. Once I've got it figured out, I'll post it here and have it commented to explain what's going on.<br/><br/><span style=\"font-weight:bold;\">EDIT:</span> Got it sorted. Apparently Quest doesn't like turnscripts nested under objects. Not sure if that's a bug so I'll bring it up with Alex. Here is the code, with comments:<br/><br/><pre><code><br/>&lt;!--Saved by Quest 5&#46;3&#46;4762&#46;29157--&gt;<br/>&lt;asl version=&quot;530&quot;&gt;<br/>  &lt;include ref=&quot;English&#46;aslx&quot; /&gt;<br/>  &lt;include ref=&quot;Core&#46;aslx&quot; /&gt;<br/>  &lt;game name=&quot;test&quot;&gt;<br/>    &lt;gameid&gt;f26302df-aa5c-4ebd-b389-e9d18be20930&lt;/gameid&gt;<br/>    &lt;version&gt;1&#46;0&lt;/version&gt;<br/>    &lt;firstpublished&gt;2013&lt;/firstpublished&gt;<br/>    &lt;turnCount type=&quot;int&quot;&gt;0&lt;/turnCount&gt; // This is a variable we will use to keep track of the number of turns for the npc behaviour&#46;<br/>  &lt;/game&gt;<br/>  &lt;object name=&quot;room1&quot;&gt;<br/>    &lt;inherit name=&quot;editor_room&quot; /&gt;<br/>    &lt;alias&gt;Library&lt;/alias&gt;<br/>    &lt;object name=&quot;player&quot;&gt;<br/>      &lt;inherit name=&quot;editor_object&quot; /&gt;<br/>      &lt;inherit name=&quot;editor_player&quot; /&gt;<br/>    &lt;/object&gt;<br/>    &lt;object name=&quot;NPC&quot;&gt;<br/>      &lt;inherit name=&quot;editor_object&quot; /&gt;<br/>      &lt;inherit name=&quot;male&quot; /&gt;<br/>      &lt;alias&gt;Happy McGoo&lt;/alias&gt;<br/>      &lt;usedefaultprefix /&gt;<br/>      &lt;look&gt;He stares at you blankly, a small rope of drool forming at the corner of his lopsided grin&#46;&lt;/look&gt;<br/>      // This creates the string list with the behaviour descriptions&#46; Pretty straightforward&#46;<br/>      &lt;behaviorDesc type=&quot;list&quot;&gt;Happy's index finger begins an exploratory mission to the inner depths of his nasal cavity&#46;; Happy seems to have discovered that the walls make an interesting hollow thumping noise when he slams his forehead against them&#46;; Happy appears to be chewing on something&#46; You figure it's better not to ask questions&#46;&lt;/behaviorDesc&gt;<br/>    &lt;/object&gt;<br/>    &lt;exit alias=&quot;east&quot; to=&quot;room2&quot;&gt;<br/>      &lt;inherit name=&quot;eastdirection&quot; /&gt;<br/>    &lt;/exit&gt;<br/>  &lt;/object&gt;<br/>  &lt;turnscript name=&quot;npc_stuff&quot;&gt;<br/>    &lt;enabled /&gt;<br/>    &lt;script&gt;&lt;!&#91;CDATA&#91;<br/>      if (GetBoolean(NPC, &quot;following&quot;)) { // This line checks to see if the &quot;following&quot; attribute of the npc object is set to true or not&#46;<br/>        if (NPC&#46;parent &lt;&gt; player&#46;parent) { // If it IS set to true, this line checks to see if the npc is not in the same room as the player&#46;<br/>          NPC&#46;parent = player&#46;parent // This line moves the npc to the room the player is in&#46; If they're already in the same room, this won't happen&#46;<br/>        }<br/>      }<br/>      game&#46;turnCount = game&#46;turnCount + 1 // This line increased the variable game&#46;turnCount by 1 every turn&#46;<br/>      if (game&#46;turnCount = 2) { // If game&#46;turnCount = 2, then the next line happens&#46;<br/>        if (NPC&#46;parent = player&#46;parent) { // This line checks to see if the npc and the player are in the same room or not&#46; If not, you won't see the behaviour message&#46;<br/>          msg (StringListItem(NPC&#46;behaviorDesc, GetRandomInt(1,3) - 1)) // This displays a random behaviour message from the stringlist on the npc object&#46;<br/>        }<br/>      game&#46;turnCount = 0 // This line resets the game&#46;turnCount variable to 0&#46; This ensures the behaviour messages display every 2 turns&#46;<br/>      }<br/>    &#93;&#93;&gt;&lt;/script&gt;<br/>  &lt;/turnscript&gt;<br/>  &lt;object name=&quot;room2&quot;&gt;<br/>    &lt;inherit name=&quot;editor_room&quot; /&gt;<br/>    &lt;alias&gt;Foyer&lt;/alias&gt;<br/>    &lt;exit alias=&quot;west&quot; to=&quot;room1&quot;&gt;<br/>      &lt;inherit name=&quot;westdirection&quot; /&gt;<br/>    &lt;/exit&gt;<br/>    &lt;exit alias=&quot;east&quot; to=&quot;room3&quot;&gt;<br/>      &lt;inherit name=&quot;eastdirection&quot; /&gt;<br/>    &lt;/exit&gt;<br/>  &lt;/object&gt;<br/>  &lt;object name=&quot;room3&quot;&gt;<br/>    &lt;inherit name=&quot;editor_room&quot; /&gt;<br/>    &lt;alias&gt;Dining Room&lt;/alias&gt;<br/>    &lt;object name=&quot;Patrol&quot;&gt;<br/>      &lt;inherit name=&quot;editor_object&quot; /&gt;<br/>      &lt;inherit name=&quot;maleplural&quot; /&gt;<br/>      &lt;alias&gt;Patrol&lt;/alias&gt;<br/>      &lt;look&gt;A patrol of guards&#46;&lt;/look&gt;<br/>    &lt;/object&gt;<br/>    &lt;exit alias=&quot;west&quot; to=&quot;room2&quot;&gt;<br/>      &lt;inherit name=&quot;westdirection&quot; /&gt;<br/>    &lt;/exit&gt;<br/>  &lt;/object&gt;<br/>  &lt;command name=&quot;follow&quot;&gt;<br/>    &lt;pattern&gt;follow me&lt;/pattern&gt; // This line creates the &quot;follow me&quot; command&#46;<br/>    &lt;script&gt;<br/>      msg (&quot;Happy begins to follow you&#46;&quot;) // This gives the player feedback that the command has worked&#46;<br/>      SetObjectFlagOn (NPC, &quot;following&quot;) // This line sets the NPC&#46;following value to &quot;true&quot; for the turnscript&#46;<br/>    &lt;/script&gt;<br/>  &lt;/command&gt;<br/>  &lt;command name=&quot;unfollow&quot;&gt;<br/>    &lt;pattern&gt;unfollow me&lt;/pattern&gt; // This command allows you to stop the npc from following you&#46;<br/>    &lt;script&gt;<br/>      SetObjectFlagOff (NPC, &quot;following&quot;) // This sets the &quot;following&quot; value on the npc object to &quot;false&#46;&quot;<br/>    &lt;/script&gt;<br/>  &lt;/command&gt;<br/>  &lt;turnscript name=&quot;Patrol_Duty&quot;&gt; // This turnscript controls the guards' patrol route&#46;<br/>    &lt;enabled /&gt;<br/>    &lt;script&gt;<br/>      SetTurnTimeout (2) { // Every 2 turns<br/>        if (Patrol&#46;parent = room3) { // This line checks to see if the patrol is in room3&#46; If so, the patrol is moved to room2 on the next line&#46;<br/>          Patrol&#46;parent = room2<br/>          Patrol&#46;previousRoom = room3 // This variable is created to keep track of the last room the patrol was in because we want the patrol to go 3-2-1-2-3&#46; Since room2 has 2 exits, we want to make sure the patrol doesn't go back the way they came&#46;<br/>        }<br/>        else if (Patrol&#46;parent = room2) { // Now, if the patrol is room 2&#46;&#46;&#46;<br/>          if (Patrol&#46;previousRoom = room3) { // We check the previous room variable to determine where to go next&#46; If they were last in room3, we move them to&#46;&#46;&#46;<br/>            Patrol&#46;parent = room1 // room1<br/>          }<br/>          else if (Patrol&#46;previousRoom = room1) { // Otherwise if they were just in room1 we move them to&#46;&#46;&#46;<br/>            Patrol&#46;parent = room3 // room3<br/>          }<br/>        }<br/>        else if (Patrol&#46;parent = room1) { // If they're currently in room1<br/>          Patrol&#46;parent = room2 // Move them to room2<br/>          Patrol&#46;previousRoom = room1 // Set the previous room variable to room1&#46;<br/>        }<br/>      }<br/>    &lt;/script&gt;<br/>  &lt;/turnscript&gt;<br/>&lt;/asl&gt;<br/></code></pre><br/><br/>I should mention that as it's written, you can type follow me from any room and Happy will appear. Try reading the comments to figure out how things were implemented and see if you can apply that to changing the follow me command to only work when you're in the same room as Happy. And if you need any more clarification, please ask. <!-- s:) --><img src=\"{SMILIES_PATH}/icon_smile.gif\" alt=\":)\" title=\"Smile\" /><!-- s:) -->",
      "PostDate": "2013-02-09T10:36:30+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "22665",
      "UserId": 0,
      "Username": "HegemonKhan",
      "UserAvatar": null,
      "UserGravatar": "a96cf34d8d97c57de38f54ee22b1759b",
      "EditableText": "thanks Sgreig!, as I was still working on (unsure of) how to do a &quot;Follow&quot; code myself, also the guard patrol will be useful too.\n\nI also wasn't sure if I could use the ???.parent = ???.parent code or not, though I wasn't using it correctly in my attempt, as I see now.\n\nNow, if I can also remember that the ' &lt;&gt; ' means not equal, lol. I keep using: if (not ???.parent = ???), the &lt;&gt; is much faster!\n\nand I didn't know you can put the  // ??? comment code on the same line as your game code lines, as it is more messy putting the // comment code lines below or above your game code lines.",
      "EditableFormat": "bbcode",
      "HTML": "thanks Sgreig!, as I was still working on (unsure of) how to do a &quot;Follow&quot; code myself, also the guard patrol will be useful too.<br/><br/>I also wasn't sure if I could use the ???.parent = ???.parent code or not, though I wasn't using it correctly in my attempt, as I see now.<br/><br/>Now, if I can also remember that the ' &lt;&gt; ' means not equal, lol. I keep using: if (not ???.parent = ???), the &lt;&gt; is much faster!<br/><br/>and I didn't know you can put the  // ??? comment code on the same line as your game code lines, as it is more messy putting the // comment code lines below or above your game code lines.",
      "PostDate": "2013-02-09T16:56:03+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "22666",
      "UserId": 0,
      "Username": "sgreig",
      "UserAvatar": null,
      "UserGravatar": "9117185af66d72729b195384e3a446f0",
      "EditableText": "[quote=&quot;HegemonKhan&quot;:2phubgdj]thanks Sgreig!, as I was still working on (unsure of) how to do a &quot;Follow&quot; code myself, also the guard patrol will be useful too.\n\nI also wasn't sure if I could use the ???.parent = ???.parent code or not, though I wasn't using it correctly in my attempt, as I see now.\n\nNow, if I can also remember that the ' &lt;&gt; ' means not equal, lol. I keep using: if (not ???.parent = ???), the &lt;&gt; is much faster![/quote:2phubgdj]\n\nHehe you're welcome. It took me quite a while to learn that '&lt;&gt;' means not equal in Quest, as in most other programming languages, &quot;not equal&quot; is '!='. And I'm not sure if it's on the wiki now, but it wasn't when I was first learning and I couldn't find it on the forum anywhere. I had to ask Alex eventually. <!-- s:) --><img src=\"{SMILIES_PATH}/icon_smile.gif\" alt=\":)\" title=\"Smile\" /><!-- s:) -->",
      "EditableFormat": "bbcode",
      "HTML": "<blockquote><cite>HegemonKhan wrote:</cite>thanks Sgreig!, as I was still working on (unsure of) how to do a &quot;Follow&quot; code myself, also the guard patrol will be useful too.<br/><br/>I also wasn't sure if I could use the ???.parent = ???.parent code or not, though I wasn't using it correctly in my attempt, as I see now.<br/><br/>Now, if I can also remember that the ' &lt;&gt; ' means not equal, lol. I keep using: if (not ???.parent = ???), the &lt;&gt; is much faster!</blockquote><br/><br/>Hehe you're welcome. It took me quite a while to learn that '&lt;&gt;' means not equal in Quest, as in most other programming languages, &quot;not equal&quot; is '!='. And I'm not sure if it's on the wiki now, but it wasn't when I was first learning and I couldn't find it on the forum anywhere. I had to ask Alex eventually. <!-- s:) --><img src=\"{SMILIES_PATH}/icon_smile.gif\" alt=\":)\" title=\"Smile\" /><!-- s:) -->",
      "PostDate": "2013-02-09T17:05:15+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "22668",
      "UserId": 0,
      "Username": "HegemonKhan",
      "UserAvatar": null,
      "UserGravatar": "a96cf34d8d97c57de38f54ee22b1759b",
      "EditableText": "for me as a noob, the quest coding is really nice... these other coding languages with their terms or symbols, is confusing, as it's like massive memorization... for me, all those symbols for coding looks so alien... learning some JS... for quest, will be a long long long long ways off for me, lol. I've got enough of a task trying to learn quest's coding, hehe. I'm making progress, at least, though it's slow, I'm so anxious~excited to make an uber ambitious game, but then it's like... oh... I don't know how to do that yet... doh!... have to go learn this coding aspect first... laughs.\n\nI'm really proud of making a functional beginning of a combat system (especially at being able to successfully trouble shoot it the most, this feels more accomplishing then making the code, as if I can trouble shoot, I got to be learning to code, hehe), and I've also made a functional storage system for learned spells, hehe. Now, I've got to do with same for equipment (and then figure out how to implement &quot;items&quot; into the game too, I mean rpg items: useable items, non-useable game progression items, and battle only items), and I also need to learn the list, dictionary, item iteration, &quot;getting&quot;, and &quot;checking&quot;, and etc like stuff, as this is a vital code for doing almost everything.\n\nthen it's back to working on my combat system, implementing in the equipment, magic, items, and a run~escape option too.",
      "EditableFormat": "bbcode",
      "HTML": "for me as a noob, the quest coding is really nice... these other coding languages with their terms or symbols, is confusing, as it's like massive memorization... for me, all those symbols for coding looks so alien... learning some JS... for quest, will be a long long long long ways off for me, lol. I've got enough of a task trying to learn quest's coding, hehe. I'm making progress, at least, though it's slow, I'm so anxious~excited to make an uber ambitious game, but then it's like... oh... I don't know how to do that yet... doh!... have to go learn this coding aspect first... laughs.<br/><br/>I'm really proud of making a functional beginning of a combat system (especially at being able to successfully trouble shoot it the most, this feels more accomplishing then making the code, as if I can trouble shoot, I got to be learning to code, hehe), and I've also made a functional storage system for learned spells, hehe. Now, I've got to do with same for equipment (and then figure out how to implement &quot;items&quot; into the game too, I mean rpg items: useable items, non-useable game progression items, and battle only items), and I also need to learn the list, dictionary, item iteration, &quot;getting&quot;, and &quot;checking&quot;, and etc like stuff, as this is a vital code for doing almost everything.<br/><br/>then it's back to working on my combat system, implementing in the equipment, magic, items, and a run~escape option too.",
      "PostDate": "2013-02-09T17:21:23+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "22674",
      "UserId": 0,
      "Username": "dwn",
      "UserAvatar": null,
      "UserGravatar": "c57ae67c2e3458feaedebff1483387d0",
      "EditableText": "[quote=&quot;HegemonKhan&quot;:nfwa2xrz]for me as a noob, the quest coding is really nice... these other coding languages with their terms or symbols, is confusing, as it's like massive memorization... for me, all those symbols for coding looks so alien... learning some JS... for quest, will be a long long long long ways off for me, lol. I've got enough of a task trying to learn quest's coding, hehe. I'm making progress, at least, though it's slow, I'm so anxious~excited to make an uber ambitious game, but then it's like... oh... I don't know how to do that yet... doh!... have to go learn this coding aspect first... laughs.\n\nI'm really proud of making a functional beginning of a combat system (especially at being able to successfully trouble shoot it the most, this feels more accomplishing then making the code, as if I can trouble shoot, I got to be learning to code, hehe), and I've also made a functional storage system for learned spells, hehe. Now, I've got to do with same for equipment (and then figure out how to implement &quot;items&quot; into the game too, I mean rpg items: useable items, non-useable game progression items, and battle only items), and I also need to learn the list, dictionary, item iteration, &quot;getting&quot;, and &quot;checking&quot;, and etc like stuff, as this is a vital code for doing almost everything.\n\nthen it's back to working on my combat system, implementing in the equipment, magic, items, and a run~escape option too.[/quote:nfwa2xrz]\n\nYeah, that does sound very ambitious, looking forward to seeing what you come up with! I'm sure a lot of people will be interested in adapting an elaborate combat system for their own games. Thanks for all your help, and see you around the forums!",
      "EditableFormat": "bbcode",
      "HTML": "<blockquote><cite>HegemonKhan wrote:</cite>for me as a noob, the quest coding is really nice... these other coding languages with their terms or symbols, is confusing, as it's like massive memorization... for me, all those symbols for coding looks so alien... learning some JS... for quest, will be a long long long long ways off for me, lol. I've got enough of a task trying to learn quest's coding, hehe. I'm making progress, at least, though it's slow, I'm so anxious~excited to make an uber ambitious game, but then it's like... oh... I don't know how to do that yet... doh!... have to go learn this coding aspect first... laughs.<br/><br/>I'm really proud of making a functional beginning of a combat system (especially at being able to successfully trouble shoot it the most, this feels more accomplishing then making the code, as if I can trouble shoot, I got to be learning to code, hehe), and I've also made a functional storage system for learned spells, hehe. Now, I've got to do with same for equipment (and then figure out how to implement &quot;items&quot; into the game too, I mean rpg items: useable items, non-useable game progression items, and battle only items), and I also need to learn the list, dictionary, item iteration, &quot;getting&quot;, and &quot;checking&quot;, and etc like stuff, as this is a vital code for doing almost everything.<br/><br/>then it's back to working on my combat system, implementing in the equipment, magic, items, and a run~escape option too.</blockquote><br/><br/>Yeah, that does sound very ambitious, looking forward to seeing what you come up with! I'm sure a lot of people will be interested in adapting an elaborate combat system for their own games. Thanks for all your help, and see you around the forums!",
      "PostDate": "2013-02-10T02:10:49+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "22675",
      "UserId": 0,
      "Username": "dwn",
      "UserAvatar": null,
      "UserGravatar": "c57ae67c2e3458feaedebff1483387d0",
      "EditableText": "[quote=&quot;sgreig&quot;:3ijsa85i]I just made up a sample game to demonstrate the features you wanted but it's not working for me either, and I can't figure out why. I'm assuming there must have been a change in Quest that's causing it because i'm 99% positive it would have worked in Quest 5.0 - 5.2. The turnscript isn't triggering the stuff when it's supposed to happen for some reason. Once I've got it figured out, I'll post it here and have it commented to explain what's going on.\n\n[b:3ijsa85i]EDIT:[/b:3ijsa85i] Got it sorted. Apparently Quest doesn't like turnscripts nested under objects. Not sure if that's a bug so I'll bring it up with Alex. Here is the code, with comments:\n\n[code:3ijsa85i]\n&lt;!--Saved by Quest 5&#46;3&#46;4762&#46;29157--&gt;\n&lt;asl version=&quot;530&quot;&gt;\n  &lt;include ref=&quot;English&#46;aslx&quot; /&gt;\n  &lt;include ref=&quot;Core&#46;aslx&quot; /&gt;\n  &lt;game name=&quot;test&quot;&gt;\n    &lt;gameid&gt;f26302df-aa5c-4ebd-b389-e9d18be20930&lt;/gameid&gt;\n    &lt;version&gt;1&#46;0&lt;/version&gt;\n    &lt;firstpublished&gt;2013&lt;/firstpublished&gt;\n    &lt;turnCount type=&quot;int&quot;&gt;0&lt;/turnCount&gt; // This is a variable we will use to keep track of the number of turns for the npc behaviour&#46;\n  &lt;/game&gt;\n  &lt;object name=&quot;room1&quot;&gt;\n    &lt;inherit name=&quot;editor_room&quot; /&gt;\n    &lt;alias&gt;Library&lt;/alias&gt;\n    &lt;object name=&quot;player&quot;&gt;\n      &lt;inherit name=&quot;editor_object&quot; /&gt;\n      &lt;inherit name=&quot;editor_player&quot; /&gt;\n    &lt;/object&gt;\n    &lt;object name=&quot;NPC&quot;&gt;\n      &lt;inherit name=&quot;editor_object&quot; /&gt;\n      &lt;inherit name=&quot;male&quot; /&gt;\n      &lt;alias&gt;Happy McGoo&lt;/alias&gt;\n      &lt;usedefaultprefix /&gt;\n      &lt;look&gt;He stares at you blankly, a small rope of drool forming at the corner of his lopsided grin&#46;&lt;/look&gt;\n      // This creates the string list with the behaviour descriptions&#46; Pretty straightforward&#46;\n      &lt;behaviorDesc type=&quot;list&quot;&gt;Happy's index finger begins an exploratory mission to the inner depths of his nasal cavity&#46;; Happy seems to have discovered that the walls make an interesting hollow thumping noise when he slams his forehead against them&#46;; Happy appears to be chewing on something&#46; You figure it's better not to ask questions&#46;&lt;/behaviorDesc&gt;\n    &lt;/object&gt;\n    &lt;exit alias=&quot;east&quot; to=&quot;room2&quot;&gt;\n      &lt;inherit name=&quot;eastdirection&quot; /&gt;\n    &lt;/exit&gt;\n  &lt;/object&gt;\n  &lt;turnscript name=&quot;npc_stuff&quot;&gt;\n    &lt;enabled /&gt;\n    &lt;script&gt;&lt;!&#91;CDATA&#91;\n      if (GetBoolean(NPC, &quot;following&quot;)) { // This line checks to see if the &quot;following&quot; attribute of the npc object is set to true or not&#46;\n        if (NPC&#46;parent &lt;&gt; player&#46;parent) { // If it IS set to true, this line checks to see if the npc is not in the same room as the player&#46;\n          NPC&#46;parent = player&#46;parent // This line moves the npc to the room the player is in&#46; If they're already in the same room, this won't happen&#46;\n        }\n      }\n      game&#46;turnCount = game&#46;turnCount + 1 // This line increased the variable game&#46;turnCount by 1 every turn&#46;\n      if (game&#46;turnCount = 2) { // If game&#46;turnCount = 2, then the next line happens&#46;\n        if (NPC&#46;parent = player&#46;parent) { // This line checks to see if the npc and the player are in the same room or not&#46; If not, you won't see the behaviour message&#46;\n          msg (StringListItem(NPC&#46;behaviorDesc, GetRandomInt(1,3) - 1)) // This displays a random behaviour message from the stringlist on the npc object&#46;\n        }\n      game&#46;turnCount = 0 // This line resets the game&#46;turnCount variable to 0&#46; This ensures the behaviour messages display every 2 turns&#46;\n      }\n    &#93;&#93;&gt;&lt;/script&gt;\n  &lt;/turnscript&gt;\n  &lt;object name=&quot;room2&quot;&gt;\n    &lt;inherit name=&quot;editor_room&quot; /&gt;\n    &lt;alias&gt;Foyer&lt;/alias&gt;\n    &lt;exit alias=&quot;west&quot; to=&quot;room1&quot;&gt;\n      &lt;inherit name=&quot;westdirection&quot; /&gt;\n    &lt;/exit&gt;\n    &lt;exit alias=&quot;east&quot; to=&quot;room3&quot;&gt;\n      &lt;inherit name=&quot;eastdirection&quot; /&gt;\n    &lt;/exit&gt;\n  &lt;/object&gt;\n  &lt;object name=&quot;room3&quot;&gt;\n    &lt;inherit name=&quot;editor_room&quot; /&gt;\n    &lt;alias&gt;Dining Room&lt;/alias&gt;\n    &lt;object name=&quot;Patrol&quot;&gt;\n      &lt;inherit name=&quot;editor_object&quot; /&gt;\n      &lt;inherit name=&quot;maleplural&quot; /&gt;\n      &lt;alias&gt;Patrol&lt;/alias&gt;\n      &lt;look&gt;A patrol of guards&#46;&lt;/look&gt;\n    &lt;/object&gt;\n    &lt;exit alias=&quot;west&quot; to=&quot;room2&quot;&gt;\n      &lt;inherit name=&quot;westdirection&quot; /&gt;\n    &lt;/exit&gt;\n  &lt;/object&gt;\n  &lt;command name=&quot;follow&quot;&gt;\n    &lt;pattern&gt;follow me&lt;/pattern&gt; // This line creates the &quot;follow me&quot; command&#46;\n    &lt;script&gt;\n      msg (&quot;Happy begins to follow you&#46;&quot;) // This gives the player feedback that the command has worked&#46;\n      SetObjectFlagOn (NPC, &quot;following&quot;) // This line sets the NPC&#46;following value to &quot;true&quot; for the turnscript&#46;\n    &lt;/script&gt;\n  &lt;/command&gt;\n  &lt;command name=&quot;unfollow&quot;&gt;\n    &lt;pattern&gt;unfollow me&lt;/pattern&gt; // This command allows you to stop the npc from following you&#46;\n    &lt;script&gt;\n      SetObjectFlagOff (NPC, &quot;following&quot;) // This sets the &quot;following&quot; value on the npc object to &quot;false&#46;&quot;\n    &lt;/script&gt;\n  &lt;/command&gt;\n  &lt;turnscript name=&quot;Patrol_Duty&quot;&gt; // This turnscript controls the guards' patrol route&#46;\n    &lt;enabled /&gt;\n    &lt;script&gt;\n      SetTurnTimeout (2) { // Every 2 turns\n        if (Patrol&#46;parent = room3) { // This line checks to see if the patrol is in room3&#46; If so, the patrol is moved to room2 on the next line&#46;\n          Patrol&#46;parent = room2\n          Patrol&#46;previousRoom = room3 // This variable is created to keep track of the last room the patrol was in because we want the patrol to go 3-2-1-2-3&#46; Since room2 has 2 exits, we want to make sure the patrol doesn't go back the way they came&#46;\n        }\n        else if (Patrol&#46;parent = room2) { // Now, if the patrol is room 2&#46;&#46;&#46;\n          if (Patrol&#46;previousRoom = room3) { // We check the previous room variable to determine where to go next&#46; If they were last in room3, we move them to&#46;&#46;&#46;\n            Patrol&#46;parent = room1 // room1\n          }\n          else if (Patrol&#46;previousRoom = room1) { // Otherwise if they were just in room1 we move them to&#46;&#46;&#46;\n            Patrol&#46;parent = room3 // room3\n          }\n        }\n        else if (Patrol&#46;parent = room1) { // If they're currently in room1\n          Patrol&#46;parent = room2 // Move them to room2\n          Patrol&#46;previousRoom = room1 // Set the previous room variable to room1&#46;\n        }\n      }\n    &lt;/script&gt;\n  &lt;/turnscript&gt;\n&lt;/asl&gt;\n[/code:3ijsa85i]\n\nI should mention that as it's written, you can type follow me from any room and Happy will appear. Try reading the comments to figure out how things were implemented and see if you can apply that to changing the follow me command to only work when you're in the same room as Happy. And if you need any more clarification, please ask. <!-- s:) --><img src=\"{SMILIES_PATH}/icon_smile.gif\" alt=\":)\" title=\"Smile\" /><!-- s:) -->[/quote:3ijsa85i]\n\nThank you very much, I'll try this later tonight, from looking it over it should keep me busy for awhile in figuring out how everything works!",
      "EditableFormat": "bbcode",
      "HTML": "<blockquote><cite>sgreig wrote:</cite>I just made up a sample game to demonstrate the features you wanted but it's not working for me either, and I can't figure out why. I'm assuming there must have been a change in Quest that's causing it because i'm 99% positive it would have worked in Quest 5.0 - 5.2. The turnscript isn't triggering the stuff when it's supposed to happen for some reason. Once I've got it figured out, I'll post it here and have it commented to explain what's going on.<br/><br/><span style=\"font-weight:bold;\">EDIT:</span> Got it sorted. Apparently Quest doesn't like turnscripts nested under objects. Not sure if that's a bug so I'll bring it up with Alex. Here is the code, with comments:<br/><br/><pre><code><br/>&lt;!--Saved by Quest 5&#46;3&#46;4762&#46;29157--&gt;<br/>&lt;asl version=&quot;530&quot;&gt;<br/>  &lt;include ref=&quot;English&#46;aslx&quot; /&gt;<br/>  &lt;include ref=&quot;Core&#46;aslx&quot; /&gt;<br/>  &lt;game name=&quot;test&quot;&gt;<br/>    &lt;gameid&gt;f26302df-aa5c-4ebd-b389-e9d18be20930&lt;/gameid&gt;<br/>    &lt;version&gt;1&#46;0&lt;/version&gt;<br/>    &lt;firstpublished&gt;2013&lt;/firstpublished&gt;<br/>    &lt;turnCount type=&quot;int&quot;&gt;0&lt;/turnCount&gt; // This is a variable we will use to keep track of the number of turns for the npc behaviour&#46;<br/>  &lt;/game&gt;<br/>  &lt;object name=&quot;room1&quot;&gt;<br/>    &lt;inherit name=&quot;editor_room&quot; /&gt;<br/>    &lt;alias&gt;Library&lt;/alias&gt;<br/>    &lt;object name=&quot;player&quot;&gt;<br/>      &lt;inherit name=&quot;editor_object&quot; /&gt;<br/>      &lt;inherit name=&quot;editor_player&quot; /&gt;<br/>    &lt;/object&gt;<br/>    &lt;object name=&quot;NPC&quot;&gt;<br/>      &lt;inherit name=&quot;editor_object&quot; /&gt;<br/>      &lt;inherit name=&quot;male&quot; /&gt;<br/>      &lt;alias&gt;Happy McGoo&lt;/alias&gt;<br/>      &lt;usedefaultprefix /&gt;<br/>      &lt;look&gt;He stares at you blankly, a small rope of drool forming at the corner of his lopsided grin&#46;&lt;/look&gt;<br/>      // This creates the string list with the behaviour descriptions&#46; Pretty straightforward&#46;<br/>      &lt;behaviorDesc type=&quot;list&quot;&gt;Happy's index finger begins an exploratory mission to the inner depths of his nasal cavity&#46;; Happy seems to have discovered that the walls make an interesting hollow thumping noise when he slams his forehead against them&#46;; Happy appears to be chewing on something&#46; You figure it's better not to ask questions&#46;&lt;/behaviorDesc&gt;<br/>    &lt;/object&gt;<br/>    &lt;exit alias=&quot;east&quot; to=&quot;room2&quot;&gt;<br/>      &lt;inherit name=&quot;eastdirection&quot; /&gt;<br/>    &lt;/exit&gt;<br/>  &lt;/object&gt;<br/>  &lt;turnscript name=&quot;npc_stuff&quot;&gt;<br/>    &lt;enabled /&gt;<br/>    &lt;script&gt;&lt;!&#91;CDATA&#91;<br/>      if (GetBoolean(NPC, &quot;following&quot;)) { // This line checks to see if the &quot;following&quot; attribute of the npc object is set to true or not&#46;<br/>        if (NPC&#46;parent &lt;&gt; player&#46;parent) { // If it IS set to true, this line checks to see if the npc is not in the same room as the player&#46;<br/>          NPC&#46;parent = player&#46;parent // This line moves the npc to the room the player is in&#46; If they're already in the same room, this won't happen&#46;<br/>        }<br/>      }<br/>      game&#46;turnCount = game&#46;turnCount + 1 // This line increased the variable game&#46;turnCount by 1 every turn&#46;<br/>      if (game&#46;turnCount = 2) { // If game&#46;turnCount = 2, then the next line happens&#46;<br/>        if (NPC&#46;parent = player&#46;parent) { // This line checks to see if the npc and the player are in the same room or not&#46; If not, you won't see the behaviour message&#46;<br/>          msg (StringListItem(NPC&#46;behaviorDesc, GetRandomInt(1,3) - 1)) // This displays a random behaviour message from the stringlist on the npc object&#46;<br/>        }<br/>      game&#46;turnCount = 0 // This line resets the game&#46;turnCount variable to 0&#46; This ensures the behaviour messages display every 2 turns&#46;<br/>      }<br/>    &#93;&#93;&gt;&lt;/script&gt;<br/>  &lt;/turnscript&gt;<br/>  &lt;object name=&quot;room2&quot;&gt;<br/>    &lt;inherit name=&quot;editor_room&quot; /&gt;<br/>    &lt;alias&gt;Foyer&lt;/alias&gt;<br/>    &lt;exit alias=&quot;west&quot; to=&quot;room1&quot;&gt;<br/>      &lt;inherit name=&quot;westdirection&quot; /&gt;<br/>    &lt;/exit&gt;<br/>    &lt;exit alias=&quot;east&quot; to=&quot;room3&quot;&gt;<br/>      &lt;inherit name=&quot;eastdirection&quot; /&gt;<br/>    &lt;/exit&gt;<br/>  &lt;/object&gt;<br/>  &lt;object name=&quot;room3&quot;&gt;<br/>    &lt;inherit name=&quot;editor_room&quot; /&gt;<br/>    &lt;alias&gt;Dining Room&lt;/alias&gt;<br/>    &lt;object name=&quot;Patrol&quot;&gt;<br/>      &lt;inherit name=&quot;editor_object&quot; /&gt;<br/>      &lt;inherit name=&quot;maleplural&quot; /&gt;<br/>      &lt;alias&gt;Patrol&lt;/alias&gt;<br/>      &lt;look&gt;A patrol of guards&#46;&lt;/look&gt;<br/>    &lt;/object&gt;<br/>    &lt;exit alias=&quot;west&quot; to=&quot;room2&quot;&gt;<br/>      &lt;inherit name=&quot;westdirection&quot; /&gt;<br/>    &lt;/exit&gt;<br/>  &lt;/object&gt;<br/>  &lt;command name=&quot;follow&quot;&gt;<br/>    &lt;pattern&gt;follow me&lt;/pattern&gt; // This line creates the &quot;follow me&quot; command&#46;<br/>    &lt;script&gt;<br/>      msg (&quot;Happy begins to follow you&#46;&quot;) // This gives the player feedback that the command has worked&#46;<br/>      SetObjectFlagOn (NPC, &quot;following&quot;) // This line sets the NPC&#46;following value to &quot;true&quot; for the turnscript&#46;<br/>    &lt;/script&gt;<br/>  &lt;/command&gt;<br/>  &lt;command name=&quot;unfollow&quot;&gt;<br/>    &lt;pattern&gt;unfollow me&lt;/pattern&gt; // This command allows you to stop the npc from following you&#46;<br/>    &lt;script&gt;<br/>      SetObjectFlagOff (NPC, &quot;following&quot;) // This sets the &quot;following&quot; value on the npc object to &quot;false&#46;&quot;<br/>    &lt;/script&gt;<br/>  &lt;/command&gt;<br/>  &lt;turnscript name=&quot;Patrol_Duty&quot;&gt; // This turnscript controls the guards' patrol route&#46;<br/>    &lt;enabled /&gt;<br/>    &lt;script&gt;<br/>      SetTurnTimeout (2) { // Every 2 turns<br/>        if (Patrol&#46;parent = room3) { // This line checks to see if the patrol is in room3&#46; If so, the patrol is moved to room2 on the next line&#46;<br/>          Patrol&#46;parent = room2<br/>          Patrol&#46;previousRoom = room3 // This variable is created to keep track of the last room the patrol was in because we want the patrol to go 3-2-1-2-3&#46; Since room2 has 2 exits, we want to make sure the patrol doesn't go back the way they came&#46;<br/>        }<br/>        else if (Patrol&#46;parent = room2) { // Now, if the patrol is room 2&#46;&#46;&#46;<br/>          if (Patrol&#46;previousRoom = room3) { // We check the previous room variable to determine where to go next&#46; If they were last in room3, we move them to&#46;&#46;&#46;<br/>            Patrol&#46;parent = room1 // room1<br/>          }<br/>          else if (Patrol&#46;previousRoom = room1) { // Otherwise if they were just in room1 we move them to&#46;&#46;&#46;<br/>            Patrol&#46;parent = room3 // room3<br/>          }<br/>        }<br/>        else if (Patrol&#46;parent = room1) { // If they're currently in room1<br/>          Patrol&#46;parent = room2 // Move them to room2<br/>          Patrol&#46;previousRoom = room1 // Set the previous room variable to room1&#46;<br/>        }<br/>      }<br/>    &lt;/script&gt;<br/>  &lt;/turnscript&gt;<br/>&lt;/asl&gt;<br/></code></pre><br/><br/>I should mention that as it's written, you can type follow me from any room and Happy will appear. Try reading the comments to figure out how things were implemented and see if you can apply that to changing the follow me command to only work when you're in the same room as Happy. And if you need any more clarification, please ask. <!-- s:) --><img src=\"{SMILIES_PATH}/icon_smile.gif\" alt=\":)\" title=\"Smile\" /><!-- s:) --></blockquote><br/><br/>Thank you very much, I'll try this later tonight, from looking it over it should keep me busy for awhile in figuring out how everything works!",
      "PostDate": "2013-02-10T02:13:54+00:00",
      "LastEditDate": null
    }
  ]
}
