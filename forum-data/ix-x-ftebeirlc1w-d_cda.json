{
  "Topic": {
    "TopicId": "ix-x-ftebeirlc1w-d_cda",
    "ForumId": "10",
    "Title": "How do you clear the JavaScript Text Buffer?",
    "LastUpdated": "2018-01-16T07:25:18.8968956Z",
    "ReplyCount": 0
  },
  "Posts": [
    {
      "PostId": "25cbfda1-38ee-425f-8fd9-83330c23eeab",
      "UserId": 307193,
      "Username": "lordpalandus",
      "AvatarUrl": "https://secure.gravatar.com/avatar/637feacf8e8a52834eaa284e96f879bf?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Hi,\r\n\r\nI have an oddball game error problem, that sometimes occurs and sometimes doesn't. And when it does occur, after a little bit of time, it corrects itself. What happens is that after playing for a bit of time, text stops being posted/printed to the screen and then after a bit of time, starts posting again. I thoroughly checked my logic, and ensured that the issue wasn't being created by a logic error; ie bad initialization of a variable, dangling pointers, null references, division by 0, infinite loops, and bad conditionals for Booleans. And, I found that even when it didn't post things on the screen, it still performed the appropriate calculations. So, if it was supposed to tell the player the monster did 8 damage, reducing your health to 72 HP, your HP is reduced to 72, despite no message appearing on the screen.\r\n\r\nSo I discussed it with a friend somewhat knowledgeable in JavaScript, and he says that it sounds like I'm overflowing the Text Buffer. He says that when the buffer is overflowing, no text will be posted/printed and once the buffer is cleared, that's why the issue corrects itself and starts posting again.\r\n\r\nSo... as per the title of the post... How do I clear the Text Buffer, prematurely? As my game is played in rounds, and up to 6 messages are posted to the screen each round and rounds can be done very quickly, its understandable that the Text Buffer is getting overflowed. But, as the issue corrects itself after a few rounds of no posting, I'm assuming there is some way to clear the Text Buffer.\r\n\r\nAnyone know how to do it?",
      "EditableFormat": "markdown",
      "HTML": "<p>Hi,</p>\n<p>I have an oddball game error problem, that sometimes occurs and sometimes doesn't. And when it does occur, after a little bit of time, it corrects itself. What happens is that after playing for a bit of time, text stops being posted/printed to the screen and then after a bit of time, starts posting again. I thoroughly checked my logic, and ensured that the issue wasn't being created by a logic error; ie bad initialization of a variable, dangling pointers, null references, division by 0, infinite loops, and bad conditionals for Booleans. And, I found that even when it didn't post things on the screen, it still performed the appropriate calculations. So, if it was supposed to tell the player the monster did 8 damage, reducing your health to 72 HP, your HP is reduced to 72, despite no message appearing on the screen.</p>\n<p>So I discussed it with a friend somewhat knowledgeable in JavaScript, and he says that it sounds like I'm overflowing the Text Buffer. He says that when the buffer is overflowing, no text will be posted/printed and once the buffer is cleared, that's why the issue corrects itself and starts posting again.</p>\n<p>So... as per the title of the post... How do I clear the Text Buffer, prematurely? As my game is played in rounds, and up to 6 messages are posted to the screen each round and rounds can be done very quickly, its understandable that the Text Buffer is getting overflowed. But, as the issue corrects itself after a few rounds of no posting, I'm assuming there is some way to clear the Text Buffer.</p>\n<p>Anyone know how to do it?</p>\n\n",
      "PostDate": "2018-01-16T07:25:18.8968956Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "166aaa53-cd50-4ae8-95a4-6e0c13ec939b",
      "UserId": 318253,
      "Username": "K.V.",
      "AvatarUrl": "https://i.imgur.com/mBf7TBeb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Um...\r\n\r\nIs it [this game](http://textadventures.co.uk/games/view/rvnjlvi4heq6u7-namkaxa/the-cataclysm-of-chaos-v9 \"http://textadventures.co.uk/games/view/rvnjlvi4heq6u7-namkaxa/the-cataclysm-of-chaos-v9\")?\r\n\r\nIf yes, is it the version that can currently be downloaded from that link?",
      "EditableFormat": "markdown",
      "HTML": "<p>Um...</p>\n<p>Is it <a href=\"http://textadventures.co.uk/games/view/rvnjlvi4heq6u7-namkaxa/the-cataclysm-of-chaos-v9\" title=\"http://textadventures.co.uk/games/view/rvnjlvi4heq6u7-namkaxa/the-cataclysm-of-chaos-v9\">this game</a>?</p>\n<p>If yes, is it the version that can currently be downloaded from that link?</p>\n\n",
      "PostDate": "2018-01-16T07:53:02.3211402Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "4ae5e6b3-64f7-4aa4-99ed-a6c9c004de89",
      "UserId": 307193,
      "Username": "lordpalandus",
      "AvatarUrl": "https://secure.gravatar.com/avatar/637feacf8e8a52834eaa284e96f879bf?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "That is correct",
      "EditableFormat": "markdown",
      "HTML": "<p>That is correct</p>\n\n",
      "PostDate": "2018-01-16T09:59:24.3017722Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "b056a60d-0464-4470-b872-7e699954ac80",
      "UserId": 318253,
      "Username": "K.V.",
      "AvatarUrl": "https://i.imgur.com/mBf7TBeb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Does all the text stop printing to the screen, or does it only effect certain text (like the custom status pane or the location/status bar)?",
      "EditableFormat": "markdown",
      "HTML": "<p>Does all the text stop printing to the screen, or does it only effect certain text (like the custom status pane or the location/status bar)?</p>\n\n",
      "PostDate": "2018-01-17T02:41:27.2583667Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "eadc2ffa-15a9-428c-a175-f92a98108ef6",
      "UserId": 307193,
      "Username": "lordpalandus",
      "AvatarUrl": "https://secure.gravatar.com/avatar/637feacf8e8a52834eaa284e96f879bf?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "It stops posting text in the main part of the screen. The Status pane and the custom Status Pane are unaffected.\r\n\r\nAppears to only affect print (expression) while print (message) still posts. ",
      "EditableFormat": "markdown",
      "HTML": "<p>It stops posting text in the main part of the screen. The Status pane and the custom Status Pane are unaffected.</p>\n<p>Appears to only affect print (expression) while print (message) still posts.</p>\n\n",
      "PostDate": "2018-01-17T07:36:54.6237232Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "69783eee-c009-4c5e-b264-f5f6eb4b94cd",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Does this happen in the desktop version, or when playing online?\r\n\r\n> Appears to only affect print (expression) while print (message) still posts.\r\n\r\nThere's no way the JS can know that.",
      "EditableFormat": "markdown",
      "HTML": "<p>Does this happen in the desktop version, or when playing online?</p>\n<blockquote>\n<p>Appears to only affect print (expression) while print (message) still posts.</p>\n</blockquote>\n<p>There's no way the JS can know that.</p>\n\n",
      "PostDate": "2018-01-17T12:03:54.9215479Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "fb7cb969-9f38-4bda-a37a-e376abd22904",
      "UserId": 307193,
      "Username": "lordpalandus",
      "AvatarUrl": "https://secure.gravatar.com/avatar/637feacf8e8a52834eaa284e96f879bf?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "I've only played the Desktop version, so I don't know if it does it for online players. No one has reported it, but then again, I don't think any of my playtesters have touched the game recently, either.\r\n\r\nHmm, interesting. Okay. Well, its just that when the bug occurs, only messages with \"print message\" appears on the screen and anything with \"print expression\" doesn't appear on the screen while the bug is active and once the bug isn't active, it properly posts to the screen. Most of the time it properly posts to the screen, which makes trying to understand the bug extremely difficult or finding what is the issue. It is probable that it is an issue with my code, but I've skimmed over it for 2 hours and rigorously tested edge cases and it works fine... until it doesn't for a period of time, then goes back to working. ",
      "EditableFormat": "markdown",
      "HTML": "<p>I've only played the Desktop version, so I don't know if it does it for online players. No one has reported it, but then again, I don't think any of my playtesters have touched the game recently, either.</p>\n<p>Hmm, interesting. Okay. Well, its just that when the bug occurs, only messages with \"print message\" appears on the screen and anything with \"print expression\" doesn't appear on the screen while the bug is active and once the bug isn't active, it properly posts to the screen. Most of the time it properly posts to the screen, which makes trying to understand the bug extremely difficult or finding what is the issue. It is probable that it is an issue with my code, but I've skimmed over it for 2 hours and rigorously tested edge cases and it works fine... until it doesn't for a period of time, then goes back to working.</p>\n\n",
      "PostDate": "2018-01-17T18:45:18.8892476Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "9541e240-035c-4577-8986-1e90aac49eb4",
      "UserId": 318253,
      "Username": "K.V.",
      "AvatarUrl": "https://i.imgur.com/mBf7TBeb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Could you play until it happens, recording a walkthrough, then post the steps here?\r\n\r\nThat way we can look at exactly what you're looking at.\r\n\r\nI tried a few times, but never noticed it not printing messages.\r\n\r\nOf course, I don't know when messages are missing unless nothing prints after entering a command...",
      "EditableFormat": "markdown",
      "HTML": "<p>Could you play until it happens, recording a walkthrough, then post the steps here?</p>\n<p>That way we can look at exactly what you're looking at.</p>\n<p>I tried a few times, but never noticed it not printing messages.</p>\n<p>Of course, I don't know when messages are missing unless nothing prints after entering a command...</p>\n\n",
      "PostDate": "2018-01-17T18:57:10.239586Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "33426dff-1fca-4908-963f-d32d4d50f035",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "> Well, its just that when the bug occurs, only messages with \"print message\" appears on the screen and anything with \"print expression\" doesn't appear on the screen while the bug is active and once the bug isn't active, it properly posts to the screen\r\n\r\nDoes that mean that when it goes back to normal, the \"print expression\" messages that should have appeared previously appear at the end of the output in a bunch? Or in between the \"print message\" messages where they should have been? Or it just goes back to printing new ones normally, and there's still previous output missing?",
      "EditableFormat": "markdown",
      "HTML": "<blockquote>\n<p>Well, its just that when the bug occurs, only messages with \"print message\" appears on the screen and anything with \"print expression\" doesn't appear on the screen while the bug is active and once the bug isn't active, it properly posts to the screen</p>\n</blockquote>\n<p>Does that mean that when it goes back to normal, the \"print expression\" messages that should have appeared previously appear at the end of the output in a bunch? Or in between the \"print message\" messages where they should have been? Or it just goes back to printing new ones normally, and there's still previous output missing?</p>\n\n",
      "PostDate": "2018-01-17T20:57:50.0227633Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "0c382543-e0b1-43dc-8e38-0e5bda6f327c",
      "UserId": 307193,
      "Username": "lordpalandus",
      "AvatarUrl": "https://secure.gravatar.com/avatar/637feacf8e8a52834eaa284e96f879bf?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "How do I do a walkthrough? \r\n\r\nIt happens apparently randomly, or perhaps I'm just not noticing a pattern (that is entirely plausible). Basically, all I do is I choose a Dwarf, (melee playstyle) buy Shield Spikes, and descend into the game proper. Then I fight mostly Quicks and Toughs (as the melee playstyle usually gets destroyed by Spellcasters) until they die and once dead, I explore a new room, and keep fighting monsters and exploring until it occurs. Seems to occur after fighting 5-6 monsters and exploring rooms all in a row.\r\n\r\nI'll post a screenshot of it when I get it to happen again. \r\n\r\nWhen it returns to normal, they do not appear at the end in a bunch and any ones that weren't posted previously aren't posted still. It just goes back to printing things normally. \r\n\r\nIts plausible that there is some kind of weird logic error that is going on that is preventing message printing, but I'm at a loss at what it could be. I've ensured that all values get initialized with integer values (as they are integer variables), I'm making sure there are proper conditionals and no infinite loops, I'm making sure that if something goes into the negatives, it gets defaulted to 0, and I'm ensuring that I don't have division by 0 even when I default something to 0. Plus even if there was something wrong with the conditionals, I'd still expect it to use the ELSE path, which also posts a message to the screen.\r\n\r\nSo yah, I'm at a loss at what the issue is. If there was a problem with the monster I'd expect that then I'd be able to figure it out, but it will often post messages for a monster, stop, and then go back to posting. So dunno.\r\n\r\nI guess, the question is, is there anything that could prevent a message that normally posts, from posting, as a rare edge case error. Something like a null reference, or text buffer overflow, or ...\r\n\r\nA calculation had an issue for a value that would be included in the posting and prevents the entire message from posting. ie If the message is supposed to display how much damage it did to the player, and there was a problem with the calculation that produces the damage dealt, could that prevent the entire message from posting?",
      "EditableFormat": "markdown",
      "HTML": "<p>How do I do a walkthrough?</p>\n<p>It happens apparently randomly, or perhaps I'm just not noticing a pattern (that is entirely plausible). Basically, all I do is I choose a Dwarf, (melee playstyle) buy Shield Spikes, and descend into the game proper. Then I fight mostly Quicks and Toughs (as the melee playstyle usually gets destroyed by Spellcasters) until they die and once dead, I explore a new room, and keep fighting monsters and exploring until it occurs. Seems to occur after fighting 5-6 monsters and exploring rooms all in a row.</p>\n<p>I'll post a screenshot of it when I get it to happen again.</p>\n<p>When it returns to normal, they do not appear at the end in a bunch and any ones that weren't posted previously aren't posted still. It just goes back to printing things normally.</p>\n<p>Its plausible that there is some kind of weird logic error that is going on that is preventing message printing, but I'm at a loss at what it could be. I've ensured that all values get initialized with integer values (as they are integer variables), I'm making sure there are proper conditionals and no infinite loops, I'm making sure that if something goes into the negatives, it gets defaulted to 0, and I'm ensuring that I don't have division by 0 even when I default something to 0. Plus even if there was something wrong with the conditionals, I'd still expect it to use the ELSE path, which also posts a message to the screen.</p>\n<p>So yah, I'm at a loss at what the issue is. If there was a problem with the monster I'd expect that then I'd be able to figure it out, but it will often post messages for a monster, stop, and then go back to posting. So dunno.</p>\n<p>I guess, the question is, is there anything that could prevent a message that normally posts, from posting, as a rare edge case error. Something like a null reference, or text buffer overflow, or ...</p>\n<p>A calculation had an issue for a value that would be included in the posting and prevents the entire message from posting. ie If the message is supposed to display how much damage it did to the player, and there was a problem with the calculation that produces the damage dealt, could that prevent the entire message from posting?</p>\n\n",
      "PostDate": "2018-01-17T23:52:19.1247727Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "8a45bee8-20a5-4f44-9611-1578f0adeb29",
      "UserId": 318253,
      "Username": "K.V.",
      "AvatarUrl": "https://i.imgur.com/mBf7TBeb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": ">How do I do a walkthrough?\r\n\r\n![image](https://user-images.githubusercontent.com/30656341/35080287-25b7c172-fbd2-11e7-9bf8-303515f582c5.png)\r\n\r\n![image](https://user-images.githubusercontent.com/30656341/35080302-3f84f642-fbd2-11e7-96e6-1a73019ea39e.png)\r\n\r\n![image](https://user-images.githubusercontent.com/30656341/35080310-4a86c75a-fbd2-11e7-8c52-27ccd42968d7.png)\r\n\r\n---\r\nThen, just play until it messes up.  When you stop the game, the walkthrough will stop recording.\r\n\r\n(This only works in the desktop version of Quest.)",
      "EditableFormat": "markdown",
      "HTML": "<blockquote>\n<p>How do I do a walkthrough?</p>\n</blockquote>\n<p><img src=\"https://user-images.githubusercontent.com/30656341/35080287-25b7c172-fbd2-11e7-9bf8-303515f582c5.png\" alt=\"image\"></p>\n<p><img src=\"https://user-images.githubusercontent.com/30656341/35080302-3f84f642-fbd2-11e7-96e6-1a73019ea39e.png\" alt=\"image\"></p>\n<p><img src=\"https://user-images.githubusercontent.com/30656341/35080310-4a86c75a-fbd2-11e7-8c52-27ccd42968d7.png\" alt=\"image\"></p>\n<hr>\n<p>Then, just play until it messes up.  When you stop the game, the walkthrough will stop recording.</p>\n<p>(This only works in the desktop version of Quest.)</p>\n\n",
      "PostDate": "2018-01-18T04:04:49.4586081Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "d8763c5e-194b-409e-bbd2-a195370aa3f9",
      "UserId": 307193,
      "Username": "lordpalandus",
      "AvatarUrl": "https://secure.gravatar.com/avatar/637feacf8e8a52834eaa284e96f879bf?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Ok, where would I find the walkthrough, once built?",
      "EditableFormat": "markdown",
      "HTML": "<p>Ok, where would I find the walkthrough, once built?</p>\n\n",
      "PostDate": "2018-01-18T06:17:19.0692156Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "6db97e0f-2576-4559-b1a2-e8f7768c2821",
      "UserId": 318253,
      "Username": "K.V.",
      "AvatarUrl": "https://i.imgur.com/mBf7TBeb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Oh yeah!  Sorry about that!\r\n\r\nEnter full code view, and it should be the last thing from the bottom of the code.",
      "EditableFormat": "markdown",
      "HTML": "<p>Oh yeah!  Sorry about that!</p>\n<p>Enter full code view, and it should be the last thing from the bottom of the code.</p>\n\n",
      "PostDate": "2018-01-18T06:23:11.0970805Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "b9396eb7-602b-42cc-a72a-c9856143ff13",
      "UserId": 307193,
      "Username": "lordpalandus",
      "AvatarUrl": "https://secure.gravatar.com/avatar/637feacf8e8a52834eaa284e96f879bf?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "K. I also released a quick hotfix, addressing a playtester's concerns with the Tutorial and Help commands, for the game. Now that it is addressed, I'll look into making that walkthrough.",
      "EditableFormat": "markdown",
      "HTML": "<p>K. I also released a quick hotfix, addressing a playtester's concerns with the Tutorial and Help commands, for the game. Now that it is addressed, I'll look into making that walkthrough.</p>\n\n",
      "PostDate": "2018-01-18T08:44:58.420383Z",
      "LastEditDate": "2018-01-18T08:46:14.1107747Z",
      "link": null
    },
    {
      "PostId": "25c92f4f-ddd7-4d60-9fdd-d3eccc2e3270",
      "UserId": 307193,
      "Username": "lordpalandus",
      "AvatarUrl": "https://secure.gravatar.com/avatar/637feacf8e8a52834eaa284e96f879bf?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "I've terminated development of the game. Gave a lengthy reason on the games description. It is very playable and enjoyable in its current state, but I'm moving on to try and translate the game into an ASCII based roguelike instead of a text adventure. Thanks for trying to assist me in this problem at hand and all the help you guys, and other posters have helped me with developing a text adventure. Cheers!",
      "EditableFormat": "markdown",
      "HTML": "<p>I've terminated development of the game. Gave a lengthy reason on the games description. It is very playable and enjoyable in its current state, but I'm moving on to try and translate the game into an ASCII based roguelike instead of a text adventure. Thanks for trying to assist me in this problem at hand and all the help you guys, and other posters have helped me with developing a text adventure. Cheers!</p>\n\n",
      "PostDate": "2018-01-19T07:47:20.3782132Z",
      "LastEditDate": null,
      "link": null
    }
  ]
}
