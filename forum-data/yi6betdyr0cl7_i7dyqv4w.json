{
  "Topic": {
    "TopicId": "yi6betdyr0cl7_i7dyqv4w",
    "ForumId": "10",
    "Title": "Modeling a bidding system",
    "LastUpdated": "2020-04-10T22:00:21.4153064Z",
    "ReplyCount": 0
  },
  "Posts": [
    {
      "PostId": "244b4e73-ee1a-4685-981f-ee972e08bb5c",
      "UserId": 163617,
      "Username": "Deckrect ",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Hello, people. I am currently working on a project that demands a bidding system. Before I explain, lets just check the basics: It is essencially a gamebook, however, in order to preserve some of the functions I would need, I am using the editor in the Parser mode, then I stripped the compass, map, command line and left just objects and the inventory.\r\n\r\nAt some points in the game, the player must be able to press one of the buttons on an object in the room and run the script. (the easy part)\r\n\r\nSo, the game must ask the player how many Effort Points he/she/it wants bidding. So, the scripts must:\r\n\r\n1) Ask the player how many points he wants bidding.\r\n2)Check if the player is biddin a negative value, what invalids the bidding.\r\n3)Check if player.effort attribute is equal or greater than the bidding, or the bidding becomes invalid. (just as a negative bidding)\r\n4)Reduce player.effort to player.effort - bidding.\r\n5)Store the bidding, so i may apply bonuses and penalties andthen compare to a difficulty number.\r\n\r\nI have absolutely no idea how modeling this. My initial idea was a window like poping up and asking how many points to bid, but as it seems it is only an option when you offer the player a Menu, what I would not like doing because I don't know well how to handle lists during the game and I don't want limiting the number of points in the bidding.\r\n\r\nCan someone please cast some light over this issue and perhaps show me how I should put this code in the game. Once I can solve one bidding, all I need is copy/paste it through the game or use a function, but right now, I cannot make it work.\r\n\r\nThanks in advance.",
      "EditableFormat": "markdown",
      "HTML": "<p>Hello, people. I am currently working on a project that demands a bidding system. Before I explain, lets just check the basics: It is essencially a gamebook, however, in order to preserve some of the functions I would need, I am using the editor in the Parser mode, then I stripped the compass, map, command line and left just objects and the inventory.</p>\n<p>At some points in the game, the player must be able to press one of the buttons on an object in the room and run the script. (the easy part)</p>\n<p>So, the game must ask the player how many Effort Points he/she/it wants bidding. So, the scripts must:</p>\n<ol>\n<li>Ask the player how many points he wants bidding.<br>\n2)Check if the player is biddin a negative value, what invalids the bidding.<br>\n3)Check if player.effort attribute is equal or greater than the bidding, or the bidding becomes invalid. (just as a negative bidding)<br>\n4)Reduce player.effort to player.effort - bidding.<br>\n5)Store the bidding, so i may apply bonuses and penalties andthen compare to a difficulty number.</li>\n</ol>\n<p>I have absolutely no idea how modeling this. My initial idea was a window like poping up and asking how many points to bid, but as it seems it is only an option when you offer the player a Menu, what I would not like doing because I don't know well how to handle lists during the game and I don't want limiting the number of points in the bidding.</p>\n<p>Can someone please cast some light over this issue and perhaps show me how I should put this code in the game. Once I can solve one bidding, all I need is copy/paste it through the game or use a function, but right now, I cannot make it work.</p>\n<p>Thanks in advance.</p>\n\n",
      "PostDate": "2020-04-10T22:00:21.4153064Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "8c34d0cc-3025-4764-9cd1-68a608eb346f",
      "UserId": 163617,
      "Username": "Deckrect ",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "By the way, I have been doing some test and used the \"show menu\", giving player numbers as options. Once of the scripts as the menu's scrip involved subtracting the result (expressed by result, right?) from a variable named player.effort created \"At game start\". But the game tells something about not able to subtract things from INT32. Why it doesn't work?",
      "EditableFormat": "markdown",
      "HTML": "<p>By the way, I have been doing some test and used the \"show menu\", giving player numbers as options. Once of the scripts as the menu's scrip involved subtracting the result (expressed by result, right?) from a variable named player.effort created \"At game start\". But the game tells something about not able to subtract things from INT32. Why it doesn't work?</p>\n\n",
      "PostDate": "2020-04-12T00:43:38.9016367Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "7e3bdcc7-cc32-4670-bbe4-06a7f5bf1166",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "> By the way, I have been doing some test and used the \"show menu\", giving player numbers as options. Once of the scripts as the menu's scrip involved subtracting the result (expressed by result, right?) from a variable named player.effort created \"At game start\". But the game tells something about not able to subtract things from INT32. Why it doesn't work?\r\n\r\nIf you've asked the player for a number using `ShowMenu` or `get input`, it will be a string. You can't do maths with a series of characters, even if they are all digits. You would need to use `ToInt (result)` instead, which converts it to a number you can do sums with.\r\n\r\nIf you use `get input` to let the player type in a number, then you will also need to check `IsInt (result)` to make sure that what they typed is actually a number.",
      "EditableFormat": "markdown",
      "HTML": "<blockquote>\n<p>By the way, I have been doing some test and used the \"show menu\", giving player numbers as options. Once of the scripts as the menu's scrip involved subtracting the result (expressed by result, right?) from a variable named player.effort created \"At game start\". But the game tells something about not able to subtract things from INT32. Why it doesn't work?</p>\n</blockquote>\n<p>If you've asked the player for a number using <code>ShowMenu</code> or <code>get input</code>, it will be a string. You can't do maths with a series of characters, even if they are all digits. You would need to use <code>ToInt (result)</code> instead, which converts it to a number you can do sums with.</p>\n<p>If you use <code>get input</code> to let the player type in a number, then you will also need to check <code>IsInt (result)</code> to make sure that what they typed is actually a number.</p>\n\n",
      "PostDate": "2020-04-12T10:07:11.4454286Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "b8616f74-3338-4e91-bc68-41416d62c546",
      "UserId": 247325,
      "Username": "hegemonkhan",
      "AvatarUrl": "https://secure.gravatar.com/avatar/a96cf34d8d97c57de38f54ee22b1759b?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "(filler for getting my edited post, updated/posted)\r\n\r\n-------------\r\n\r\nhere's an example (in code, lazy), using a text adventure version (too lazy to look up a Game Book version), if you need help converting or doing this in a Game Book, let me know, and I can, help you with it getting it set up in the Game Book version\r\n\r\n(you can change my/the 'bid_maximum' and 'bid_minimum' Integer Attributes in the 'bid_object' Object to whatever you want, I just arbitrarily/for-an-example used: '0' and '100', if for some reason you were to use a negative value for the 'bid minimum', then you might need a bit more coding/scripting to handle it, depending on what you want and/or with what quest is or is not able to do already with handling calculations involving negative values. Also, hopefully extremely obviously, your 'bid_maximum' needs to be greater than or equal to your 'bid minimum', and your Player's, aka as 'game.pov' in the code, 'effort' Integer Attribute has to be able to be greater than or equal to your 'bid_minimum' Integer Attribute of the 'bid_object' Object)\r\n\r\n```\r\n<asl version=\"550\">\r\n\r\n  <include ref=\"English.aslx\" />\r\n  <include ref=\"Core.aslx\" />\r\n\r\n  <game name=\"NAME_OF_GAME\">\r\n  </game>\r\n\r\n  <object name=\"room\">\r\n\r\n    <inherit name=\"editor_room\" />\r\n\r\n  </object>\r\n\r\n  <object name=\"player\">\r\n\r\n    <inherit name=\"editor_object\" />\r\n    <inherit name=\"editor_player\" />\r\n\r\n    <attr name=\"parent\" type=\"object\">room</attr>\r\n\r\n    <attr name=\"effort\" type=\"int\">0</attr>\r\n\r\n  </object>\r\n\r\n  <object name=\"bid_object\">\r\n\r\n    <inherit name=\"editor_object\" />\r\n\r\n    <attr name=\"parent\" type=\"object\">room</attr>\r\n\r\n    <attr name=\"bid_valid_value\" type=\"int\">0</attr>\r\n\r\n    <attr name=\"bid_minimum\" type=\"int\">0</attr>\r\n\r\n    <attr name=\"bid_maximum\" type=\"int\">100</attr>\r\n\r\n    <attr name=\"bid\" type=\"script\">\r\n\r\n      <![CDATA[\r\n\r\n        msg (\"Bid? (type in a value between: \" + this.bid_minimum + \" and \" + this.bid_maximum + \")\")\r\n\r\n        get input {\r\n\r\n          // edit:\r\n          // quest automatically (hidden from you) sets/stores your input to the 'result' variable\r\n          // result = YOUR_TYPED_IN_INPUT_ALWAYS_SET/STORED_AS_A_STRING_DATA_TYPE\r\n\r\n          if (IsInt (result)) {\r\n\r\n            vid_input_int = ToInt (result)\r\n\r\n            if (vid_input_int >= this.bid_minimum and vid_input_int <= this.bid_maximum) {\r\n\r\n              if (game.pov.effort >= vid_input_int) {\r\n\r\n                this.bid_valid_value = vid_input_int\r\n\r\n                game.pov.effort = game.pov.effort - vid_input_int\r\n\r\n              } else {\r\n\r\n                msg (\"Error: wrong input, please try again, typing in a number value lesser than or equal to: \" + game.pov.effort)\r\n\r\n              }\r\n\r\n            } else {\r\n\r\n              msg (\"Error: wrong input, please try again, typing in a number value within the inclusive bounds of: \" + this.bid_minimum + \" to \" + this.bid_maximum)\r\n\r\n            }\r\n\r\n          } else {\r\n\r\n            msg (\"Error: wrong input, please try again, typing in a number value\")\r\n\r\n          }\r\n\r\n        }\r\n\r\n      ]]>\r\n\r\n    </attr>\r\n\r\n    <displayverbs type=\"stringlist\">\r\n\r\n      <value>bid</value>\r\n\r\n    </displayverbs>\r\n\r\n  </object>\r\n\r\n  <verb>\r\n\r\n    <property>bid</property>\r\n    <pattern>bid</pattern>\r\n\r\n    <defaultexpression>You can't bid that!</defaultexpression>\r\n\r\n  </verb>\r\n\r\n</asl>\r\n```",
      "EditableFormat": "markdown",
      "HTML": "<p>(filler for getting my edited post, updated/posted)</p>\n<hr>\n<p>here's an example (in code, lazy), using a text adventure version (too lazy to look up a Game Book version), if you need help converting or doing this in a Game Book, let me know, and I can, help you with it getting it set up in the Game Book version</p>\n<p>(you can change my/the 'bid_maximum' and 'bid_minimum' Integer Attributes in the 'bid_object' Object to whatever you want, I just arbitrarily/for-an-example used: '0' and '100', if for some reason you were to use a negative value for the 'bid minimum', then you might need a bit more coding/scripting to handle it, depending on what you want and/or with what quest is or is not able to do already with handling calculations involving negative values. Also, hopefully extremely obviously, your 'bid_maximum' needs to be greater than or equal to your 'bid minimum', and your Player's, aka as 'game.pov' in the code, 'effort' Integer Attribute has to be able to be greater than or equal to your 'bid_minimum' Integer Attribute of the 'bid_object' Object)</p>\n<pre><code>&lt;asl version=\"550\"&gt;\n\n  &lt;include ref=\"English.aslx\" /&gt;\n  &lt;include ref=\"Core.aslx\" /&gt;\n\n  &lt;game name=\"NAME_OF_GAME\"&gt;\n  &lt;/game&gt;\n\n  &lt;object name=\"room\"&gt;\n\n    &lt;inherit name=\"editor_room\" /&gt;\n\n  &lt;/object&gt;\n\n  &lt;object name=\"player\"&gt;\n\n    &lt;inherit name=\"editor_object\" /&gt;\n    &lt;inherit name=\"editor_player\" /&gt;\n\n    &lt;attr name=\"parent\" type=\"object\"&gt;room&lt;/attr&gt;\n\n    &lt;attr name=\"effort\" type=\"int\"&gt;0&lt;/attr&gt;\n\n  &lt;/object&gt;\n\n  &lt;object name=\"bid_object\"&gt;\n\n    &lt;inherit name=\"editor_object\" /&gt;\n\n    &lt;attr name=\"parent\" type=\"object\"&gt;room&lt;/attr&gt;\n\n    &lt;attr name=\"bid_valid_value\" type=\"int\"&gt;0&lt;/attr&gt;\n\n    &lt;attr name=\"bid_minimum\" type=\"int\"&gt;0&lt;/attr&gt;\n\n    &lt;attr name=\"bid_maximum\" type=\"int\"&gt;100&lt;/attr&gt;\n\n    &lt;attr name=\"bid\" type=\"script\"&gt;\n\n      &lt;![CDATA[\n\n        msg (\"Bid? (type in a value between: \" + this.bid_minimum + \" and \" + this.bid_maximum + \")\")\n\n        get input {\n\n          // edit:\n          // quest automatically (hidden from you) sets/stores your input to the 'result' variable\n          // result = YOUR_TYPED_IN_INPUT_ALWAYS_SET/STORED_AS_A_STRING_DATA_TYPE\n\n          if (IsInt (result)) {\n\n            vid_input_int = ToInt (result)\n\n            if (vid_input_int &gt;= this.bid_minimum and vid_input_int &lt;= this.bid_maximum) {\n\n              if (game.pov.effort &gt;= vid_input_int) {\n\n                this.bid_valid_value = vid_input_int\n\n                game.pov.effort = game.pov.effort - vid_input_int\n\n              } else {\n\n                msg (\"Error: wrong input, please try again, typing in a number value lesser than or equal to: \" + game.pov.effort)\n\n              }\n\n            } else {\n\n              msg (\"Error: wrong input, please try again, typing in a number value within the inclusive bounds of: \" + this.bid_minimum + \" to \" + this.bid_maximum)\n\n            }\n\n          } else {\n\n            msg (\"Error: wrong input, please try again, typing in a number value\")\n\n          }\n\n        }\n\n      ]]&gt;\n\n    &lt;/attr&gt;\n\n    &lt;displayverbs type=\"stringlist\"&gt;\n\n      &lt;value&gt;bid&lt;/value&gt;\n\n    &lt;/displayverbs&gt;\n\n  &lt;/object&gt;\n\n  &lt;verb&gt;\n\n    &lt;property&gt;bid&lt;/property&gt;\n    &lt;pattern&gt;bid&lt;/pattern&gt;\n\n    &lt;defaultexpression&gt;You can't bid that!&lt;/defaultexpression&gt;\n\n  &lt;/verb&gt;\n\n&lt;/asl&gt;\n</code></pre>\n\n",
      "PostDate": "2020-04-12T15:53:15.4959499Z",
      "LastEditDate": "2020-04-12T18:25:17.8106993Z",
      "link": null
    },
    {
      "PostId": "54167fea-d510-40be-9cb7-e0cf1d23c675",
      "UserId": 163617,
      "Username": "Deckrect ",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "I am almost there, guys. But I confess I am having a hard time understanding the code. Actually, it seems to be too far complicated to what I actually need. I am trying to mashup it to Mrangel's  pop-up input window, to make things more clear and not have to restore the command bar back into the game.\r\n\r\nSoon I will try posting the direction I am following.",
      "EditableFormat": "markdown",
      "HTML": "<p>I am almost there, guys. But I confess I am having a hard time understanding the code. Actually, it seems to be too far complicated to what I actually need. I am trying to mashup it to Mrangel's  pop-up input window, to make things more clear and not have to restore the command bar back into the game.</p>\n<p>Soon I will try posting the direction I am following.</p>\n\n",
      "PostDate": "2020-04-12T18:12:01.570534Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "a2eec2b7-79fb-4c88-b7c8-11f8d9b03999",
      "UserId": 247325,
      "Username": "hegemonkhan",
      "AvatarUrl": "https://secure.gravatar.com/avatar/a96cf34d8d97c57de38f54ee22b1759b?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "do you need help completely understanding the code or just parts of it confusing you? (aka, do you have some coding knowledge or are you totally new to coding?)\r\n\r\n(or just not able to convert it over to doing it in the Game Book version?)\r\n\r\n(If you don't want or can't work-with or use the code, I can help you to doing it through the GUI/Editor's buttons, options, tabs, drop-down menus, and etc)",
      "EditableFormat": "markdown",
      "HTML": "<p>do you need help completely understanding the code or just parts of it confusing you? (aka, do you have some coding knowledge or are you totally new to coding?)</p>\n<p>(or just not able to convert it over to doing it in the Game Book version?)</p>\n<p>(If you don't want or can't work-with or use the code, I can help you to doing it through the GUI/Editor's buttons, options, tabs, drop-down menus, and etc)</p>\n\n",
      "PostDate": "2020-04-12T18:22:43.0644492Z",
      "LastEditDate": "2020-04-12T18:28:54.7732929Z",
      "link": null
    },
    {
      "PostId": "469de693-3636-41bb-969c-42159052f705",
      "UserId": 163617,
      "Username": "Deckrect ",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Here is what I got so far. I am trying to figure out how to make the pop-up work. Note the two last lines are just for checking if the variables make sense. At the start of the game player.effort is set to 6, so when this script happens, it has this value.\r\n\r\n``` \r\n\r\nget input {\r\n  ToInt (result)\r\n  if (IsInt (result)) {\r\n    switch (result) {\r\n      case (result < 0) {\r\n        msg (\"Try a number from zero to up\")\r\n      }\r\n      case (result > player.effort) {\r\n        msg (\"You have nor as many Effort Points!\")\r\n      }\r\n      case (IsInt = FALSE) {\r\n        msg (\"Try a number next time!\")\r\n      }\r\n    }\r\n    player.effort = player.effort - result\r\n    page2.challenge = result\r\n  }\r\n}\r\nmsg (\"player.effort\")\r\nmsg (\"page2.challenge\")\r\n\r\n```",
      "EditableFormat": "markdown",
      "HTML": "<p>Here is what I got so far. I am trying to figure out how to make the pop-up work. Note the two last lines are just for checking if the variables make sense. At the start of the game player.effort is set to 6, so when this script happens, it has this value.</p>\n<pre><code>\nget input {\n  ToInt (result)\n  if (IsInt (result)) {\n    switch (result) {\n      case (result &lt; 0) {\n        msg (\"Try a number from zero to up\")\n      }\n      case (result &gt; player.effort) {\n        msg (\"You have nor as many Effort Points!\")\n      }\n      case (IsInt = FALSE) {\n        msg (\"Try a number next time!\")\n      }\n    }\n    player.effort = player.effort - result\n    page2.challenge = result\n  }\n}\nmsg (\"player.effort\")\nmsg (\"page2.challenge\")\n\n</code></pre>\n\n",
      "PostDate": "2020-04-12T18:39:50.9478688Z",
      "LastEditDate": "2020-04-12T18:45:31.2841122Z",
      "link": null
    },
    {
      "PostId": "6aa9fb9b-9b53-4286-bf49-de9f3dfe6b2e",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "`switch` only tests for equality. In this case, you're testing if `result` is equal to the expression `result < 0`, which will be true or false.\r\n\r\nAlso, `IsInt` returns a numeric value from a string parameter; you're not doing anything with the return value.\r\n\r\nI think you want:\r\n```\r\nif (IsInt (result)) {\r\n  bid = ToInt (result)\r\n  if (bid < 0) {\r\n    DisplayList (Split(\"Try a number from zero to up\"), false)\r\n  }\r\n  else if (bid > player.effort) {\r\n    DisplayList (Split(\"You have nor as many Effort Points!\"), false)\r\n  }\r\n  else {\r\n    player.effort = player.effort - bid\r\n    page2.challenge = bid\r\n  }\r\n}\r\nelse {\r\n  DisplayList (Split(\"Try a number next time!\"), false)\r\n}\r\nmsg (\"player.effort = {player.effort}\")\r\nmsg (\"page2.challenge = {page2.challenge}\")\r\n```\r\nI've not changed your use of `DisplayList`, although I changed its parameter to be a list so that it won't cause an error.",
      "EditableFormat": "markdown",
      "HTML": "<p><code>switch</code> only tests for equality. In this case, you're testing if <code>result</code> is equal to the expression <code>result &lt; 0</code>, which will be true or false.</p>\n<p>Also, <code>IsInt</code> returns a numeric value from a string parameter; you're not doing anything with the return value.</p>\n<p>I think you want:</p>\n<pre><code>if (IsInt (result)) {\n  bid = ToInt (result)\n  if (bid &lt; 0) {\n    DisplayList (Split(\"Try a number from zero to up\"), false)\n  }\n  else if (bid &gt; player.effort) {\n    DisplayList (Split(\"You have nor as many Effort Points!\"), false)\n  }\n  else {\n    player.effort = player.effort - bid\n    page2.challenge = bid\n  }\n}\nelse {\n  DisplayList (Split(\"Try a number next time!\"), false)\n}\nmsg (\"player.effort = {player.effort}\")\nmsg (\"page2.challenge = {page2.challenge}\")\n</code></pre>\n<p>I've not changed your use of <code>DisplayList</code>, although I changed its parameter to be a list so that it won't cause an error.</p>\n\n",
      "PostDate": "2020-04-12T18:57:50.9401312Z",
      "LastEditDate": "2020-04-12T19:31:34.3453921Z",
      "link": null
    },
    {
      "PostId": "def039b7-3ac7-4942-9b75-7e5eac779655",
      "UserId": 247325,
      "Username": "hegemonkhan",
      "AvatarUrl": "https://secure.gravatar.com/avatar/a96cf34d8d97c57de38f54ee22b1759b?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "the 'ToInt' function returns a value (as an integer data type), so you need to store it into a VARIABLE or use it directly as an argument/parameter for another function, which one source of error for your code\r\n\r\nyou can change it to this:\r\n\r\nresult = ToInt (result) // now the 'result' variable's value is an integer value, instead of a string value, for the rest of your code's use\r\n\r\nbut, you don't want the 'ToInt' before the 'IsInt'... so, you can just remove the 'ToInt' at the top\r\n\r\nalso, that's not how the 'DisplayList' function works...\r\n\r\nand, you're missing the needed 'CDATA' tags too in your code...\r\n\r\nbut, not a bad attempt at it! coding's not easy to learn, it takes some time!\r\n\r\n------\r\n\r\nfor the Game Book version, you should be doing something like this:\r\n\r\nthe 'Pages' are your Objects in the Game Book version\r\n\r\ncreate a 'PageExample' Page\r\n\r\n'PageExample' Page Object -> 'Page' Tab -> Page Type: [script] or [script + text]\r\n\r\nif using the GUI/Editor: add new script.... (I can help with this, if you need to do it this way)\r\n\r\nif you know how to use code, than you can just copy and paste (with some small changes) my code below into it\r\n\r\n(delete all of your own code out for this section of scripting, and then copy and paste in my code, with some changes to match up your own stuff, but, make sure you do NOT delete your entire game code!)\r\n\r\nchange the values as desired\r\n\r\n```\r\n<game name=\"NAME_OF_GAME\">\r\n</game>\r\n\r\n<object name=\"Page1\">\r\n\r\n  <inherit name=\"editor_object\" />\r\n\r\n</object>\r\n\r\n<object name=\"player\">\r\n\r\n  <inherit name=\"editor_object\" />\r\n  <inherit name=\"editor_player\" />\r\n\r\n  <attr name=\"parent\" type=\"object\">Page1</attr>\r\n\r\n  <attr name=\"effort\" type=\"int\">0</attr>\r\n\r\n  <attr name=\"bid_value\" type=\"int\">0</attr>\r\n\r\n</object>\r\n\r\n<object name=\"PageExample\">\r\n\r\n  <inherit name=\"editor_object\" />\r\n\r\n  <script>\r\n\r\n    <![CDATA[\r\n\r\n      msg (\"Bid? (type in a value between: 0 and 100\")\r\n\r\n      get input {\r\n\r\n        if (IsInt (result)) {\r\n\r\n          bid_input_int = ToInt (result)\r\n\r\n          if (bid_input_int >= 0 and bid_input_int <= 100) {\r\n\r\n            if (game.pov.effort >= bid_input_int) {\r\n\r\n              game.bid_value = bid_input_int\r\n\r\n              game.pov.effort = game.pov.effort - bid_input_int\r\n\r\n            } else {\r\n\r\n              msg (\"Error: wrong input, please try again, typing in a number value lesser than or equal to: \" + game.pov.effort)\r\n\r\n              do (PageExample, \"script\")\r\n\r\n            }\r\n\r\n          } else {\r\n\r\n            msg (\"Error: wrong input, please try again, typing in a number value within the inclusive bounds of: 0 to 100\")\r\n\r\n            do (PageExample, \"script\")\r\n\r\n          }\r\n\r\n        } else {\r\n\r\n          msg (\"Error: wrong input, please try again, typing in a number value\")\r\n\r\n          do (PageExample, \"script\")\r\n\r\n        }\r\n\r\n      }\r\n\r\n    ]]>\r\n\r\n  </script>\r\n\r\n</object>\r\n```\r\n\r\n---------------\r\n\r\nif you still need help, let me know, and I'll get off my lazy bum, and open up quest in Game Book version, and get a working game file for you, to study/examine/play...\r\n\r\n-----------\r\n\r\nPS\r\n\r\noops, accidentally in my previous code I hit the 'v' key, for 'bid', instead of the 'b' key, due to them being next to each other... stupid typos... the bane of programmers/coders, laughs....",
      "EditableFormat": "markdown",
      "HTML": "<p>the 'ToInt' function returns a value (as an integer data type), so you need to store it into a VARIABLE or use it directly as an argument/parameter for another function, which one source of error for your code</p>\n<p>you can change it to this:</p>\n<p>result = ToInt (result) // now the 'result' variable's value is an integer value, instead of a string value, for the rest of your code's use</p>\n<p>but, you don't want the 'ToInt' before the 'IsInt'... so, you can just remove the 'ToInt' at the top</p>\n<p>also, that's not how the 'DisplayList' function works...</p>\n<p>and, you're missing the needed 'CDATA' tags too in your code...</p>\n<p>but, not a bad attempt at it! coding's not easy to learn, it takes some time!</p>\n<hr>\n<p>for the Game Book version, you should be doing something like this:</p>\n<p>the 'Pages' are your Objects in the Game Book version</p>\n<p>create a 'PageExample' Page</p>\n<p>'PageExample' Page Object -&gt; 'Page' Tab -&gt; Page Type: [script] or [script + text]</p>\n<p>if using the GUI/Editor: add new script.... (I can help with this, if you need to do it this way)</p>\n<p>if you know how to use code, than you can just copy and paste (with some small changes) my code below into it</p>\n<p>(delete all of your own code out for this section of scripting, and then copy and paste in my code, with some changes to match up your own stuff, but, make sure you do NOT delete your entire game code!)</p>\n<p>change the values as desired</p>\n<pre><code>&lt;game name=\"NAME_OF_GAME\"&gt;\n&lt;/game&gt;\n\n&lt;object name=\"Page1\"&gt;\n\n  &lt;inherit name=\"editor_object\" /&gt;\n\n&lt;/object&gt;\n\n&lt;object name=\"player\"&gt;\n\n  &lt;inherit name=\"editor_object\" /&gt;\n  &lt;inherit name=\"editor_player\" /&gt;\n\n  &lt;attr name=\"parent\" type=\"object\"&gt;Page1&lt;/attr&gt;\n\n  &lt;attr name=\"effort\" type=\"int\"&gt;0&lt;/attr&gt;\n\n  &lt;attr name=\"bid_value\" type=\"int\"&gt;0&lt;/attr&gt;\n\n&lt;/object&gt;\n\n&lt;object name=\"PageExample\"&gt;\n\n  &lt;inherit name=\"editor_object\" /&gt;\n\n  &lt;script&gt;\n\n    &lt;![CDATA[\n\n      msg (\"Bid? (type in a value between: 0 and 100\")\n\n      get input {\n\n        if (IsInt (result)) {\n\n          bid_input_int = ToInt (result)\n\n          if (bid_input_int &gt;= 0 and bid_input_int &lt;= 100) {\n\n            if (game.pov.effort &gt;= bid_input_int) {\n\n              game.bid_value = bid_input_int\n\n              game.pov.effort = game.pov.effort - bid_input_int\n\n            } else {\n\n              msg (\"Error: wrong input, please try again, typing in a number value lesser than or equal to: \" + game.pov.effort)\n\n              do (PageExample, \"script\")\n\n            }\n\n          } else {\n\n            msg (\"Error: wrong input, please try again, typing in a number value within the inclusive bounds of: 0 to 100\")\n\n            do (PageExample, \"script\")\n\n          }\n\n        } else {\n\n          msg (\"Error: wrong input, please try again, typing in a number value\")\n\n          do (PageExample, \"script\")\n\n        }\n\n      }\n\n    ]]&gt;\n\n  &lt;/script&gt;\n\n&lt;/object&gt;\n</code></pre>\n<hr>\n<p>if you still need help, let me know, and I'll get off my lazy bum, and open up quest in Game Book version, and get a working game file for you, to study/examine/play...</p>\n<hr>\n<p>PS</p>\n<p>oops, accidentally in my previous code I hit the 'v' key, for 'bid', instead of the 'b' key, due to them being next to each other... stupid typos... the bane of programmers/coders, laughs....</p>\n\n",
      "PostDate": "2020-04-12T19:22:18.1227818Z",
      "LastEditDate": "2020-04-12T19:24:14.0018151Z",
      "link": null
    },
    {
      "PostId": "2c79bbd7-8448-4755-b243-6b086e8f624e",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "> and, you're missing the needed 'CDATA' tags too in your code...\r\n\r\nNo they aren't.\r\n\r\nCDATA is XML encoding, it comes immediately *before* the script. As the OP only posted the part of the script that causes the problem, the CDATA would not be included.",
      "EditableFormat": "markdown",
      "HTML": "<blockquote>\n<p>and, you're missing the needed 'CDATA' tags too in your code...</p>\n</blockquote>\n<p>No they aren't.</p>\n<p>CDATA is XML encoding, it comes immediately <em>before</em> the script. As the OP only posted the part of the script that causes the problem, the CDATA would not be included.</p>\n\n",
      "PostDate": "2020-04-12T19:29:50.8728299Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "e5008930-c611-440e-86ad-72778539ed0e",
      "UserId": 163617,
      "Username": "Deckrect ",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Gentlemen, I don't understand 80% of the codes you type here. But I used the good and old copy/paste, made minor adjustments and it is working. \r\n\r\nHK, It is a Gamebook, but not in gamebook mode. I am using the Text Adventure mode precisely to have more coding resources at hand. Sort of... there is also a kind of precedure in it... But because it is essencially a gamebook, I removed the command bar from the game. Now, I need finding a way to:\r\n\r\nA) Remove the command bar from the game and create a popup prompt to take the bidding\r\n OR\r\nB) Add the command bar just for the bidding time and then remove it again, what I think I know how to do.\r\n\r\nCreating the pagex.challenge, it gives me a variable I may manipulate to add bonuses and penalties, so it will be great.\r\n\r\nReally thank you two! It was a big help!",
      "EditableFormat": "markdown",
      "HTML": "<p>Gentlemen, I don't understand 80% of the codes you type here. But I used the good and old copy/paste, made minor adjustments and it is working.</p>\n<p>HK, It is a Gamebook, but not in gamebook mode. I am using the Text Adventure mode precisely to have more coding resources at hand. Sort of... there is also a kind of precedure in it... But because it is essencially a gamebook, I removed the command bar from the game. Now, I need finding a way to:</p>\n<p>A) Remove the command bar from the game and create a popup prompt to take the bidding<br>\nOR<br>\nB) Add the command bar just for the bidding time and then remove it again, what I think I know how to do.</p>\n<p>Creating the pagex.challenge, it gives me a variable I may manipulate to add bonuses and penalties, so it will be great.</p>\n<p>Really thank you two! It was a big help!</p>\n\n",
      "PostDate": "2020-04-13T00:23:09.883157Z",
      "LastEditDate": null,
      "link": null
    }
  ]
}
