{
  "Topic": {
    "TopicId": "5768",
    "ForumId": "10",
    "Title": "Print Out List With A Delay Between Items",
    "LastUpdated": "2015-12-25T08:27:55+00:00",
    "ReplyCount": 16
  },
  "Posts": [
    {
      "PostId": "40007",
      "UserId": 0,
      "Username": "Fyrdraca",
      "UserAvatar": null,
      "UserGravatar": "01acea3b88b789c3d4a884c2acaf8a53",
      "EditableText": "Like it says in the subject line, folks. How do I list out items with a delay between each item of five seconds or so? I tried using SetTimeout, but haven't had luck. Can't access the parameters of the loop. I've about given myself an aneurysm trying to fix this.",
      "EditableFormat": "bbcode",
      "HTML": "Like it says in the subject line, folks. How do I list out items with a delay between each item of five seconds or so? I tried using SetTimeout, but haven't had luck. Can't access the parameters of the loop. I've about given myself an aneurysm trying to fix this.",
      "PostDate": "2015-12-24T23:05:27+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "40009",
      "UserId": 0,
      "Username": "jaynabonne",
      "UserAvatar": "6579_1344778256.jpg",
      "UserGravatar": "379859a7f1952a65399fc63997e68f0b",
      "EditableText": "Yes, you can't pass information directly into the script that SetTimeout runs. It's run in a different context, and the variables are all dead at that point. But you can store the values as attributes of an object (game, player, other custom object). It's not pretty but it is doable.",
      "EditableFormat": "bbcode",
      "HTML": "Yes, you can't pass information directly into the script that SetTimeout runs. It's run in a different context, and the variables are all dead at that point. But you can store the values as attributes of an object (game, player, other custom object). It's not pretty but it is doable.",
      "PostDate": "2015-12-24T23:38:22+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "40010",
      "UserId": 0,
      "Username": "Fyrdraca",
      "UserAvatar": null,
      "UserGravatar": "01acea3b88b789c3d4a884c2acaf8a53",
      "EditableText": "[quote=&quot;jaynabonne&quot;:2e50akbu]Yes, you can't pass information directly into the script that SetTimeout runs. It's run in a different context, and the variables are all dead at that point. But you can store the values as attributes of an object (game, player, other custom object). It's not pretty but it is doable.[/quote:2e50akbu]\nI've been trying that very thing, but I still haven't been able to get it working right. In some attempts, it just lists one of the items several times; in others, it won't recognize a parameter. Could I trouble you to conjure a working example for me?",
      "EditableFormat": "bbcode",
      "HTML": "<blockquote><cite>jaynabonne wrote:</cite>Yes, you can't pass information directly into the script that SetTimeout runs. It's run in a different context, and the variables are all dead at that point. But you can store the values as attributes of an object (game, player, other custom object). It's not pretty but it is doable.</blockquote><br/>I've been trying that very thing, but I still haven't been able to get it working right. In some attempts, it just lists one of the items several times; in others, it won't recognize a parameter. Could I trouble you to conjure a working example for me?",
      "PostDate": "2015-12-24T23:49:16+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "40019",
      "UserId": 0,
      "Username": "Fyrdraca",
      "UserAvatar": null,
      "UserGravatar": "01acea3b88b789c3d4a884c2acaf8a53",
      "EditableText": "[quote=&quot;jaynabonne&quot;:2arjdq85]Yes, you can't pass information directly into the script that SetTimeout runs. It's run in a different context, and the variables are all dead at that point. But you can store the values as attributes of an object (game, player, other custom object). It's not pretty but it is doable.[/quote:2arjdq85]\nLet me give you a snippet of the code as an example:\n[code:2arjdq85]    if (player&#46;attack_roll &gt; shark&#46;armor_class-1) {\n\t  list add(player&#46;battleLog,&quot;You bury your dagger in the thrashing shark's head for &quot; + player&#46;damage_roll + &quot; points of damage&#46;&quot;)\n      SetTimeout (5*player&#46;turn_num) {\n\t\tmsg(StringListItem (player&#46;battleLog, player&#46;turn_num-1))\n      }\n      shark&#46;hit_points = shark&#46;hit_points - player&#46;damage_roll\n      player&#46;turn_num = player&#46;turn_num + 1\n      if (shark&#46;hit_points &lt; 1) {\n\t  list add(player&#46;battleLog,&quot;Baring your teeth, now more angry than frightened, you withdraw your blade and stab down again as the shark's movements become sluggish&#46; You slash indiscriminately, abandoning tactics, venting your rage, and your assailant jerks twice, then drifts to the bottom, trailing a billowing red cloud behind it&#46; You surface and scream in pain and triumph&#46;&quot;)\n        SetTimeout (5*player&#46;turn_num) {\n          msg(StringListItem (player&#46;battleLog, player&#46;turn_num-1))\n        }\n      }\n    }[/code:2arjdq85]\nThe problem here is that the entire battle processes immediately, so using player.turn_num as an index when it increments over the course of the loop doesn't help - because the player.turn_num has incremented x times already. On every one of these delayed messages, player.turn_num-1 is the same value.\nI'm trying a new thing (and starting to feel like Wil E Coyote) where I have a loop outside of the main loop. That is to say, the main loop calculates combat and the outer loop after that displays the outcome of the combat. I still need to find a couple of list functions; one to calculate the length of a list, and another to clear a list. Right now, it looks something like this (I know player.battleLog.length is pseudocode):\n[code:2arjdq85]\nfor (1, 1, player&#46;battleLog&#46;length, 1) {\n\tSetTimeout (5*player&#46;turn_num){\n\tmsg(StringListItem(player&#46;battleLog, player&#46;turn_num-1))\n\tplayer&#46;turn_num = player&#46;turn_num + 1\n\t}\n}\n[/code:2arjdq85]",
      "EditableFormat": "bbcode",
      "HTML": "<blockquote><cite>jaynabonne wrote:</cite>Yes, you can't pass information directly into the script that SetTimeout runs. It's run in a different context, and the variables are all dead at that point. But you can store the values as attributes of an object (game, player, other custom object). It's not pretty but it is doable.</blockquote><br/>Let me give you a snippet of the code as an example:<br/><pre><code>    if (player&#46;attack_roll &gt; shark&#46;armor_class-1) {<br/>\t  list add(player&#46;battleLog,&quot;You bury your dagger in the thrashing shark's head for &quot; + player&#46;damage_roll + &quot; points of damage&#46;&quot;)<br/>      SetTimeout (5*player&#46;turn_num) {<br/>\t\tmsg(StringListItem (player&#46;battleLog, player&#46;turn_num-1))<br/>      }<br/>      shark&#46;hit_points = shark&#46;hit_points - player&#46;damage_roll<br/>      player&#46;turn_num = player&#46;turn_num + 1<br/>      if (shark&#46;hit_points &lt; 1) {<br/>\t  list add(player&#46;battleLog,&quot;Baring your teeth, now more angry than frightened, you withdraw your blade and stab down again as the shark's movements become sluggish&#46; You slash indiscriminately, abandoning tactics, venting your rage, and your assailant jerks twice, then drifts to the bottom, trailing a billowing red cloud behind it&#46; You surface and scream in pain and triumph&#46;&quot;)<br/>        SetTimeout (5*player&#46;turn_num) {<br/>          msg(StringListItem (player&#46;battleLog, player&#46;turn_num-1))<br/>        }<br/>      }<br/>    }</code></pre><br/>The problem here is that the entire battle processes immediately, so using player.turn_num as an index when it increments over the course of the loop doesn't help - because the player.turn_num has incremented x times already. On every one of these delayed messages, player.turn_num-1 is the same value.<br/>I'm trying a new thing (and starting to feel like Wil E Coyote) where I have a loop outside of the main loop. That is to say, the main loop calculates combat and the outer loop after that displays the outcome of the combat. I still need to find a couple of list functions; one to calculate the length of a list, and another to clear a list. Right now, it looks something like this (I know player.battleLog.length is pseudocode):<br/><pre><code><br/>for (1, 1, player&#46;battleLog&#46;length, 1) {<br/>\tSetTimeout (5*player&#46;turn_num){<br/>\tmsg(StringListItem(player&#46;battleLog, player&#46;turn_num-1))<br/>\tplayer&#46;turn_num = player&#46;turn_num + 1<br/>\t}<br/>}<br/></code></pre>",
      "PostDate": "2015-12-25T05:43:03+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "40020",
      "UserId": 0,
      "Username": "HegemonKhan",
      "UserAvatar": null,
      "UserGravatar": "a96cf34d8d97c57de38f54ee22b1759b",
      "EditableText": "if you don't mind having an empty line between your list of items (and a unison~constant delay time), I think this would be the simpliest way to do it:\n\n<!-- m --><a class=\"postlink\" href=\"http://docs.textadventures.co.uk/quest/functions/corelibrary/textfx_typewriter.html\">http://docs.textadventures.co.uk/quest/ ... riter.html</a><!-- m --> (textwriter)\n(HK edit, sorry I thought I had already posted this link, my bad)\n\n(how would we put the 'TextFX_Typewriter's text on the same line as the msg's dynamic text in quest? forgive me if this is a stupid question but my mind is failing me at the moment. Also, is there any way of not going to a newline, and~or going back up or down lines?)\n\n(if you want a non-unison, a dynamic delay time: ie 5 second wait then a 10 second wait then a 2 second wait etc etc etc, let me know, as that's a quick-easy fix, for me to help you with doing)\n\n[code:bhbjnfbn]numbering_variable = 0\nforeach (item_placeholder_variable, your_Object_name&#46;your_list_Attribute_name) {\n  numbering_variable = numbering_variable + 1\n  msg (numbering_variable + &quot;&#46; &quot; + item_placeholder_variable)\n  TextFX_Typewriter(&quot;&quot;, number_for_speed_time_in_milliseconds)\n}[/code:bhbjnfbn]\n\n// outputs:\n\n[code:bhbjnfbn]1&#46; your_item_1\n\n2&#46; your_item_2\n\n3&#46; your_item_3\n\n4&#46; your_item_4\n\n// etc etc etc[/code:bhbjnfbn]\n\nif you want these items to be hyperlinks, let me know, as that's also a quick fix, though it requires a bit more (advance-complex using text processor commands and Commands) coding.\n\n-----------\n\nP.S.\n\n<!-- m --><a class=\"postlink\" href=\"http://docs.textadventures.co.uk/quest/guides/using_lists.html\">http://docs.textadventures.co.uk/quest/ ... lists.html</a><!-- m --> (using lists)\n<!-- m --><a class=\"postlink\" href=\"http://docs.textadventures.co.uk/quest/using_dictionaries.html\">http://docs.textadventures.co.uk/quest/ ... aries.html</a><!-- m --> (using dictionaries)\n\n<!-- m --><a class=\"postlink\" href=\"http://docs.textadventures.co.uk/quest/scripts/\">http://docs.textadventures.co.uk/quest/scripts/</a><!-- m --> (more functions~scripts)\n<!-- m --><a class=\"postlink\" href=\"http://docs.textadventures.co.uk/quest/functions/\">http://docs.textadventures.co.uk/quest/functions/</a><!-- m --> (categorical ordering)\n<!-- m --><a class=\"postlink\" href=\"http://docs.textadventures.co.uk/quest/functions/index_allfunctions.html\">http://docs.textadventures.co.uk/quest/ ... tions.html</a><!-- m --> (alphabetical ordering)\n\nand much more useful documentation (explore around and ask questions if you don't understand anything):\n\n<!-- m --><a class=\"postlink\" href=\"http://docs.textadventures.co.uk/quest/\">http://docs.textadventures.co.uk/quest/</a><!-- m -->\n\nguides:\n\n<!-- m --><a class=\"postlink\" href=\"http://docs.textadventures.co.uk/quest/tutorial/\">http://docs.textadventures.co.uk/quest/tutorial/</a><!-- m -->\n<!-- m --><a class=\"postlink\" href=\"http://docs.textadventures.co.uk/quest/guides/\">http://docs.textadventures.co.uk/quest/guides/</a><!-- m -->\n<!-- l --><a class=\"postlink-local\" href=\"http://forum.textadventures.co.uk/viewforum.php?f=18\">viewforum.php?f=18</a><!-- l --> (more guides: libraries and code samples)\n\nvery useful <!-- s:D --><img src=\"{SMILIES_PATH}/icon_biggrin.gif\" alt=\":D\" title=\"Very Happy\" /><!-- s:D -->\n\n---------\n\nP.S.S.\n\nmy code above, is a manual way (granting more control-functionality) of outputting a list, but there's a built-in way of doing so:\n\n<!-- m --><a class=\"postlink\" href=\"http://docs.textadventures.co.uk/quest/functions/corelibrary/displaylist.html\">http://docs.textadventures.co.uk/quest/ ... ylist.html</a><!-- m -->\n\nfor example:\n\n// game.sex_list = split (&quot;male;female&quot;, &quot;;&quot;)\n\nDisplayList (game.sex_list, true) // if you use-type-in 'true', then you DO get the numbering in front of the items being shown-outputed-listed (see my code output for example)\n\nDisplayList (game.sex_list, false) // if you use-type-in 'false', then you do NOT get any numbering in front of the items listed being shown-outputed-listed",
      "EditableFormat": "bbcode",
      "HTML": "if you don't mind having an empty line between your list of items (and a unison~constant delay time), I think this would be the simpliest way to do it:<br/><br/><!-- m --><a class=\"postlink\" href=\"http://docs.textadventures.co.uk/quest/functions/corelibrary/textfx_typewriter.html\">http://docs.textadventures.co.uk/quest/ ... riter.html</a><!-- m --> (textwriter)<br/>(HK edit, sorry I thought I had already posted this link, my bad)<br/><br/>(how would we put the 'TextFX_Typewriter's text on the same line as the msg's dynamic text in quest? forgive me if this is a stupid question but my mind is failing me at the moment. Also, is there any way of not going to a newline, and~or going back up or down lines?)<br/><br/>(if you want a non-unison, a dynamic delay time: ie 5 second wait then a 10 second wait then a 2 second wait etc etc etc, let me know, as that's a quick-easy fix, for me to help you with doing)<br/><br/><pre><code>numbering_variable = 0<br/>foreach (item_placeholder_variable, your_Object_name&#46;your_list_Attribute_name) {<br/>  numbering_variable = numbering_variable + 1<br/>  msg (numbering_variable + &quot;&#46; &quot; + item_placeholder_variable)<br/>  TextFX_Typewriter(&quot;&quot;, number_for_speed_time_in_milliseconds)<br/>}</code></pre><br/><br/>// outputs:<br/><br/><pre><code>1&#46; your_item_1<br/><br/>2&#46; your_item_2<br/><br/>3&#46; your_item_3<br/><br/>4&#46; your_item_4<br/><br/>// etc etc etc</code></pre><br/><br/>if you want these items to be hyperlinks, let me know, as that's also a quick fix, though it requires a bit more (advance-complex using text processor commands and Commands) coding.<br/><br/>-----------<br/><br/>P.S.<br/><br/><!-- m --><a class=\"postlink\" href=\"http://docs.textadventures.co.uk/quest/guides/using_lists.html\">http://docs.textadventures.co.uk/quest/ ... lists.html</a><!-- m --> (using lists)<br/><!-- m --><a class=\"postlink\" href=\"http://docs.textadventures.co.uk/quest/using_dictionaries.html\">http://docs.textadventures.co.uk/quest/ ... aries.html</a><!-- m --> (using dictionaries)<br/><br/><!-- m --><a class=\"postlink\" href=\"http://docs.textadventures.co.uk/quest/scripts/\">http://docs.textadventures.co.uk/quest/scripts/</a><!-- m --> (more functions~scripts)<br/><!-- m --><a class=\"postlink\" href=\"http://docs.textadventures.co.uk/quest/functions/\">http://docs.textadventures.co.uk/quest/functions/</a><!-- m --> (categorical ordering)<br/><!-- m --><a class=\"postlink\" href=\"http://docs.textadventures.co.uk/quest/functions/index_allfunctions.html\">http://docs.textadventures.co.uk/quest/ ... tions.html</a><!-- m --> (alphabetical ordering)<br/><br/>and much more useful documentation (explore around and ask questions if you don't understand anything):<br/><br/><!-- m --><a class=\"postlink\" href=\"http://docs.textadventures.co.uk/quest/\">http://docs.textadventures.co.uk/quest/</a><!-- m --><br/><br/>guides:<br/><br/><!-- m --><a class=\"postlink\" href=\"http://docs.textadventures.co.uk/quest/tutorial/\">http://docs.textadventures.co.uk/quest/tutorial/</a><!-- m --><br/><!-- m --><a class=\"postlink\" href=\"http://docs.textadventures.co.uk/quest/guides/\">http://docs.textadventures.co.uk/quest/guides/</a><!-- m --><br/><!-- l --><a class=\"postlink-local\" href=\"http://forum.textadventures.co.uk/viewforum.php?f=18\">viewforum.php?f=18</a><!-- l --> (more guides: libraries and code samples)<br/><br/>very useful <!-- s:D --><img src=\"{SMILIES_PATH}/icon_biggrin.gif\" alt=\":D\" title=\"Very Happy\" /><!-- s:D --><br/><br/>---------<br/><br/>P.S.S.<br/><br/>my code above, is a manual way (granting more control-functionality) of outputting a list, but there's a built-in way of doing so:<br/><br/><!-- m --><a class=\"postlink\" href=\"http://docs.textadventures.co.uk/quest/functions/corelibrary/displaylist.html\">http://docs.textadventures.co.uk/quest/ ... ylist.html</a><!-- m --><br/><br/>for example:<br/><br/>// game.sex_list = split (&quot;male;female&quot;, &quot;;&quot;)<br/><br/>DisplayList (game.sex_list, true) // if you use-type-in 'true', then you DO get the numbering in front of the items being shown-outputed-listed (see my code output for example)<br/><br/>DisplayList (game.sex_list, false) // if you use-type-in 'false', then you do NOT get any numbering in front of the items listed being shown-outputed-listed",
      "PostDate": "2015-12-25T05:47:57+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "40021",
      "UserId": 0,
      "Username": "Fyrdraca",
      "UserAvatar": null,
      "UserGravatar": "01acea3b88b789c3d4a884c2acaf8a53",
      "EditableText": "Thanks. It's not that I can't print out the combat log correctly, it's that I can't print out the combat log correctly AND with a delay between each item in the list. That's what I'm trying to figure out.",
      "EditableFormat": "bbcode",
      "HTML": "Thanks. It's not that I can't print out the combat log correctly, it's that I can't print out the combat log correctly AND with a delay between each item in the list. That's what I'm trying to figure out.",
      "PostDate": "2015-12-25T06:06:05+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "40022",
      "UserId": 0,
      "Username": "HegemonKhan",
      "UserAvatar": null,
      "UserGravatar": "a96cf34d8d97c57de38f54ee22b1759b",
      "EditableText": "my method of using the typewriter's delay should do this for you, see my previous post's code again.\n\n----------\n\nHK edit:\n\n[quote=&quot;Fyrdraca&quot;:24lce2mw]The problem here is that the entire battle processes immediately, so using player.turn_num as an index when it increments over the course of the loop doesn't help - because the player.turn_num has incremented x times already. On every one of these delayed messages, player.turn_num-1 is the same value.[/quote:24lce2mw]\n\nto increment (add)-decrement (subtract)-multiply-divide-modulus (remainder), you got to do this:\n\nObject_name.Attribute_name = Object_name.Attribute_name + value\nObject_name.Attribute_name = Object_name.Attribute_name - value\nObject_name.Attribute_name = Object_name.Attribute_name * value\nObject_name.Attribute_name = Object_name.Attribute_name / value\nObject_name.Attribute_name = Object_name.Attribute_name % value\n\nexamples:\n\n// initial: player.strength = 50\n\nplayer.strength = player.strength + 25\n// new: player.strength = 75\n\nplayer.strength = player.strength - 15\n// new (using the '50' as base): player.strength = 35\n\nplayer.strength = player.strength * 3\n// new (using the '50' as base): player.strength = 150\n\nplayer.strength = player.strength / 5\n// new (using the '50' as base): player.strength = 10\n\nplayer.strength = player.strength % 10\n// new (using the '50' as base): player.strength = 0\n// remember this is the REMAINDER, not the quotient. The modulus operator (%) works well for cyclic usage (such as time: clock.seconds = value % 60, clock.military_hours = value % 24, clock.civilian_hours = value % 12), and has some other uses too",
      "EditableFormat": "bbcode",
      "HTML": "my method of using the typewriter's delay should do this for you, see my previous post's code again.<br/><br/>----------<br/><br/>HK edit:<br/><br/><blockquote><cite>Fyrdraca wrote:</cite>The problem here is that the entire battle processes immediately, so using player.turn_num as an index when it increments over the course of the loop doesn't help - because the player.turn_num has incremented x times already. On every one of these delayed messages, player.turn_num-1 is the same value.</blockquote><br/><br/>to increment (add)-decrement (subtract)-multiply-divide-modulus (remainder), you got to do this:<br/><br/>Object_name.Attribute_name = Object_name.Attribute_name + value<br/>Object_name.Attribute_name = Object_name.Attribute_name - value<br/>Object_name.Attribute_name = Object_name.Attribute_name * value<br/>Object_name.Attribute_name = Object_name.Attribute_name / value<br/>Object_name.Attribute_name = Object_name.Attribute_name % value<br/><br/>examples:<br/><br/>// initial: player.strength = 50<br/><br/>player.strength = player.strength + 25<br/>// new: player.strength = 75<br/><br/>player.strength = player.strength - 15<br/>// new (using the '50' as base): player.strength = 35<br/><br/>player.strength = player.strength * 3<br/>// new (using the '50' as base): player.strength = 150<br/><br/>player.strength = player.strength / 5<br/>// new (using the '50' as base): player.strength = 10<br/><br/>player.strength = player.strength % 10<br/>// new (using the '50' as base): player.strength = 0<br/>// remember this is the REMAINDER, not the quotient. The modulus operator (%) works well for cyclic usage (such as time: clock.seconds = value % 60, clock.military_hours = value % 24, clock.civilian_hours = value % 12), and has some other uses too",
      "PostDate": "2015-12-25T06:11:31+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "40023",
      "UserId": 0,
      "Username": "Fyrdraca",
      "UserAvatar": null,
      "UserGravatar": "01acea3b88b789c3d4a884c2acaf8a53",
      "EditableText": "I'm familiar with the typewriter delay, but 1) it doesn't work in the foreach loop you posted, and 2) even if it did, that's not what I need this function to do. I need it to print an item from a list in its entirety, pause for 5 seconds, print the next item in its entirety, pause for 5 seconds, etc. Thanks though! <!-- s:) --><img src=\"{SMILIES_PATH}/icon_smile.gif\" alt=\":)\" title=\"Smile\" /><!-- s:) -->",
      "EditableFormat": "bbcode",
      "HTML": "I'm familiar with the typewriter delay, but 1) it doesn't work in the foreach loop you posted, and 2) even if it did, that's not what I need this function to do. I need it to print an item from a list in its entirety, pause for 5 seconds, print the next item in its entirety, pause for 5 seconds, etc. Thanks though! <!-- s:) --><img src=\"{SMILIES_PATH}/icon_smile.gif\" alt=\":)\" title=\"Smile\" /><!-- s:) -->",
      "PostDate": "2015-12-25T06:21:09+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "40024",
      "UserId": 0,
      "Username": "HegemonKhan",
      "UserAvatar": null,
      "UserGravatar": "a96cf34d8d97c57de38f54ee22b1759b",
      "EditableText": "it doesn't? doh!, logically it seemed like it would (never tested it), hmm... now I'm curious why it doesn't work, as it should (seemingly-logical) work..., lol\n\nwell, Jay can help you do it then through the Timer method (I'm not familiar with using Timers, as I don't like using them)\n\n---------\n\nyou could try... the 'on ready' ( <!-- m --><a class=\"postlink\" href=\"http://docs.textadventures.co.uk/quest/scripts/on_ready.html\">http://docs.textadventures.co.uk/quest/ ... ready.html</a><!-- m --> ) Function with using my code: you'd put the 'on ready' after-below the typewriter code line (and still INSIDE of the 'foreach' loop), but this probably won't work as well, sighs.",
      "EditableFormat": "bbcode",
      "HTML": "it doesn't? doh!, logically it seemed like it would (never tested it), hmm... now I'm curious why it doesn't work, as it should (seemingly-logical) work..., lol<br/><br/>well, Jay can help you do it then through the Timer method (I'm not familiar with using Timers, as I don't like using them)<br/><br/>---------<br/><br/>you could try... the 'on ready' ( <!-- m --><a class=\"postlink\" href=\"http://docs.textadventures.co.uk/quest/scripts/on_ready.html\">http://docs.textadventures.co.uk/quest/ ... ready.html</a><!-- m --> ) Function with using my code: you'd put the 'on ready' after-below the typewriter code line (and still INSIDE of the 'foreach' loop), but this probably won't work as well, sighs.",
      "PostDate": "2015-12-25T06:26:10+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "40025",
      "UserId": 0,
      "Username": "HegemonKhan",
      "UserAvatar": null,
      "UserGravatar": "a96cf34d8d97c57de38f54ee22b1759b",
      "EditableText": "here, correcting your code, so it now (should - HK crosses his fingers) list your items:\n\n(fixed up a lot of the indenting, more than I commented on below)\n\n[code:6bpspfvq]if (player&#46;attack_roll &gt; shark&#46;armor_class-1) {\n  list add(player&#46;battleLog,&quot;You bury your dagger in the thrashing shark's head for &quot; + player&#46;damage_roll + &quot; points of damage&#46;&quot;)\n  SetTimeout (5*player&#46;turn_num) {\n    player&#46;turn_num = player&#46;turn_num - 1 // here's a new code line you need, and you need to indent too\n    msg(StringListItem (player&#46;battleLog, player&#46;turn_num)) // here's a fixed up code line too, you need to indent too\n  }\n  shark&#46;hit_points = shark&#46;hit_points - player&#46;damage_roll\n  player&#46;turn_num = player&#46;turn_num + 1\n  if (shark&#46;hit_points &lt; 1) {\n    list add(player&#46;battleLog,&quot;Baring your teeth, now more angry than frightened, you withdraw your blade and stab down again as the shark's movements become sluggish&#46; You slash indiscriminately, abandoning tactics, venting your rage, and your assailant jerks twice, then drifts to the bottom, trailing a billowing red cloud behind it&#46; You surface and scream in pain and triumph&#46;&quot;) // this needed to be indented too\n    SetTimeout (5*player&#46;turn_num) {\n      player&#46;turn_num = player&#46;turn_num - 1 // here's a new code line you need, you need to indent too\n      msg(StringListItem (player&#46;battleLog, player&#46;turn_num)) // here's a fixed up code line too\n    }\n  }\n}[/code:6bpspfvq]",
      "EditableFormat": "bbcode",
      "HTML": "here, correcting your code, so it now (should - HK crosses his fingers) list your items:<br/><br/>(fixed up a lot of the indenting, more than I commented on below)<br/><br/><pre><code>if (player&#46;attack_roll &gt; shark&#46;armor_class-1) {<br/>  list add(player&#46;battleLog,&quot;You bury your dagger in the thrashing shark's head for &quot; + player&#46;damage_roll + &quot; points of damage&#46;&quot;)<br/>  SetTimeout (5*player&#46;turn_num) {<br/>    player&#46;turn_num = player&#46;turn_num - 1 // here's a new code line you need, and you need to indent too<br/>    msg(StringListItem (player&#46;battleLog, player&#46;turn_num)) // here's a fixed up code line too, you need to indent too<br/>  }<br/>  shark&#46;hit_points = shark&#46;hit_points - player&#46;damage_roll<br/>  player&#46;turn_num = player&#46;turn_num + 1<br/>  if (shark&#46;hit_points &lt; 1) {<br/>    list add(player&#46;battleLog,&quot;Baring your teeth, now more angry than frightened, you withdraw your blade and stab down again as the shark's movements become sluggish&#46; You slash indiscriminately, abandoning tactics, venting your rage, and your assailant jerks twice, then drifts to the bottom, trailing a billowing red cloud behind it&#46; You surface and scream in pain and triumph&#46;&quot;) // this needed to be indented too<br/>    SetTimeout (5*player&#46;turn_num) {<br/>      player&#46;turn_num = player&#46;turn_num - 1 // here's a new code line you need, you need to indent too<br/>      msg(StringListItem (player&#46;battleLog, player&#46;turn_num)) // here's a fixed up code line too<br/>    }<br/>  }<br/>}</code></pre>",
      "PostDate": "2015-12-25T06:37:39+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "40027",
      "UserId": 0,
      "Username": "HegemonKhan",
      "UserAvatar": null,
      "UserGravatar": "a96cf34d8d97c57de38f54ee22b1759b",
      "EditableText": "P.S.\n\nhere's a link to a guide I made on using lists~dictionaries:\n\n<!-- l --><a class=\"postlink-local\" href=\"http://forum.textadventures.co.uk/viewtopic.php?f=18&amp;t=5137\">viewtopic.php?f=18&amp;t=5137</a><!-- l -->\n\nand here's some more fancy usage lists and dictionaries, which will help you (if you can understand it ~ as it's poor code - as it was back when I was learning how to use lists and dictionaries myself, lol), if you want to take a look at it:\n\n<!-- l --><a class=\"postlink-local\" href=\"http://forum.textadventures.co.uk/viewtopic.php?f=18&amp;t=5138\">viewtopic.php?f=18&amp;t=5138</a><!-- l -->\n\nask if you got any questions or need help with anything!",
      "EditableFormat": "bbcode",
      "HTML": "P.S.<br/><br/>here's a link to a guide I made on using lists~dictionaries:<br/><br/><!-- l --><a class=\"postlink-local\" href=\"http://forum.textadventures.co.uk/viewtopic.php?f=18&amp;t=5137\">viewtopic.php?f=18&amp;t=5137</a><!-- l --><br/><br/>and here's some more fancy usage lists and dictionaries, which will help you (if you can understand it ~ as it's poor code - as it was back when I was learning how to use lists and dictionaries myself, lol), if you want to take a look at it:<br/><br/><!-- l --><a class=\"postlink-local\" href=\"http://forum.textadventures.co.uk/viewtopic.php?f=18&amp;t=5138\">viewtopic.php?f=18&amp;t=5138</a><!-- l --><br/><br/>ask if you got any questions or need help with anything!",
      "PostDate": "2015-12-25T07:07:09+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "40030",
      "UserId": 0,
      "Username": "Fyrdraca",
      "UserAvatar": null,
      "UserGravatar": "01acea3b88b789c3d4a884c2acaf8a53",
      "EditableText": "Thanks HK, this is some major headway. It works perfectly, but with one interesting major catch: it works backwards.\nI'm sorry if the indenting is messed up; I pasted this straight out of Quest after it auto-indented. I applied your suggestions to the entire algorithm and got this:\n[code:36rpmkpk]\nmsg (&quot;interestingly, this is perfect, but it goes backwards&quot;)\nshark&#46;armor_class = 8\nshark&#46;hit_die = &quot;1d4&quot;\nshark&#46;hit_points = 8 + DiceRoll(&quot;1d4&quot;)\nplayer&#46;armor_class = 10 + player&#46;dexterity\nturn_max = DiceRoll(&quot;1d6&quot;)\nplayer&#46;turn_num = 1\nfor (1, 1, turn_max, 1) {\n  player&#46;attack_roll = DiceRoll(&quot;1d20&quot;) + player&#46;dexterity\n  player&#46;damage_roll = DiceRoll(&quot;1d3&quot;) + player&#46;dexterity\n  shark&#46;attack_roll = DiceRoll(&quot;1d20&quot;)\n  shark&#46;damage_roll = DiceRoll(shark&#46;hit_die)\n  if ((player&#46;hit_points&gt;0) and (shark&#46;hit_points&gt;0)) {\n    if (player&#46;attack_roll &gt; shark&#46;armor_class-1) {\n\t  list add(player&#46;battleLog,&quot;You bury your dagger in the thrashing shark's head for &quot; + player&#46;damage_roll + &quot; points of damage&#46;&quot;)\n      SetTimeout (5*player&#46;turn_num) {\n\t  player&#46;turn_num = player&#46;turn_num - 1\n\t\tmsg(StringListItem (player&#46;battleLog, player&#46;turn_num))\n      }\n      shark&#46;hit_points = shark&#46;hit_points - player&#46;damage_roll\n      player&#46;turn_num = player&#46;turn_num + 1\n      if (shark&#46;hit_points &lt; 1) {\n\t  list add(player&#46;battleLog,&quot;Baring your teeth, now more angry than frightened, you withdraw your blade and stab down again as the shark's movements become sluggish&#46; You slash indiscriminately, abandoning tactics, venting your rage, and your assailant jerks twice, then drifts to the bottom, trailing a billowing red cloud behind it&#46; You surface and scream in pain and triumph&#46;&quot;)\n        SetTimeout (5*player&#46;turn_num) {\n\t  player&#46;turn_num = player&#46;turn_num - 1\n          msg(StringListItem (player&#46;battleLog, player&#46;turn_num))\n        }\n      }\n    }\n    else {\n\tlist add(player&#46;battleLog,&quot;You stab out at the attacking shark, but your dagger glances off of its rough hide&#46;&quot;)\n      SetTimeout (5*player&#46;turn_num) {\n\t  player&#46;turn_num = player&#46;turn_num - 1\n        msg(StringListItem (player&#46;battleLog, player&#46;turn_num))\n      }\n      player&#46;turn_num = player&#46;turn_num + 1\n    }\n    if (shark&#46;hit_points&gt;0) {\n      if (shark&#46;attack_roll &gt; player&#46;armor_class-1) {\n\t  list add(player&#46;battleLog,&quot;The shark twists through and knocks aside your outstretched arms, savaging your body for &quot; + shark&#46;damage_roll + &quot; points of damage&#46;&quot;)\n        SetTimeout (5*player&#46;turn_num) {\n\t  player&#46;turn_num = player&#46;turn_num - 1\n          msg(StringListItem (player&#46;battleLog, player&#46;turn_num))\n        }\n        player&#46;hit_points = player&#46;hit_points - shark&#46;damage_roll\n        player&#46;bloodied = true\n        player&#46;turn_num = player&#46;turn_num + 1\n        if (player&#46;hit_points &lt;1) {\n\t\tlist add(player&#46;battleLog,&quot;Trauma and loss of blood makes your head swim&#46; Your vision darkens and the last thing you feel is being shaken and sheared by the predator you failed to overcome&#46;&quot;)\n          SetTimeout (5*player&#46;turn_num) {\n\t  player&#46;turn_num = player&#46;turn_num - 1\n            msg(StringListItem (player&#46;battleLog, player&#46;turn_num))\n            finish\n          }\n        }\n      }\n      else {\n\t  list add(player&#46;battleLog,&quot;The shark tries to get a purchase on your body, but you manage to twist away from it's gnashing teeth&#46;&quot;)\n        SetTimeout (5*player&#46;turn_num) {\n\t  player&#46;turn_num = player&#46;turn_num - 1\n          msg(StringListItem (player&#46;battleLog, player&#46;turn_num))\n        }\n        player&#46;turn_num = player&#46;turn_num + 1\n      }\n    }\n  }\n}\nif ((player&#46;hit_points &gt; 0) and (shark&#46;hit_points &gt; 0)) {\n\tlist add(player&#46;battleLog,&quot;The water is a boil of bubbles and blood, both you and the shark are in a frenzy, both trying to kill the other&#46; With a flick of its tail, the shark turns and hurries away in search of a more compliant meal&#46;&quot;)\n  SetTimeout (5*player&#46;turn_num) {\n\t  player&#46;turn_num = player&#46;turn_num - 1\n    msg(StringListItem (player&#46;battleLog, player&#46;turn_num))\n  }\n}\nshark&#46;hit_points = 8 + DiceRoll(&quot;1d4&quot;)\n[/code:36rpmkpk]\nI ran it and came up with this output:\nBaring your teeth, now more angry than frightened, you withdraw your blade and stab down again as the shark's movements become sluggish. You slash indiscriminately, abandoning tactics, venting your rage, and your assailant jerks twice, then drifts to the bottom, trailing a billowing red cloud behind it. You surface and scream in pain and triumph.\nYou bury your dagger in the thrashing shark's head for 2 points of damage.\nThe shark twists through and knocks aside your outstretched arms, savaging your body for 4 points of damage.\nYou bury your dagger in the thrashing shark's head for 2 points of damage.\nThe shark tries to get a purchase on your body, but you manage to twist away from it's gnashing teeth.\nYou bury your dagger in the thrashing shark's head for 2 points of damage.\nThe shark tries to get a purchase on your body, but you manage to twist away from it's gnashing teeth.\nYou bury your dagger in the thrashing shark's head for 3 points of damage.\nThe shark tries to get a purchase on your body, but you manage to twist away from it's gnashing teeth.\nYou bury your dagger in the thrashing shark's head for 4 points of damage.",
      "EditableFormat": "bbcode",
      "HTML": "Thanks HK, this is some major headway. It works perfectly, but with one interesting major catch: it works backwards.<br/>I'm sorry if the indenting is messed up; I pasted this straight out of Quest after it auto-indented. I applied your suggestions to the entire algorithm and got this:<br/><pre><code><br/>msg (&quot;interestingly, this is perfect, but it goes backwards&quot;)<br/>shark&#46;armor_class = 8<br/>shark&#46;hit_die = &quot;1d4&quot;<br/>shark&#46;hit_points = 8 + DiceRoll(&quot;1d4&quot;)<br/>player&#46;armor_class = 10 + player&#46;dexterity<br/>turn_max = DiceRoll(&quot;1d6&quot;)<br/>player&#46;turn_num = 1<br/>for (1, 1, turn_max, 1) {<br/>  player&#46;attack_roll = DiceRoll(&quot;1d20&quot;) + player&#46;dexterity<br/>  player&#46;damage_roll = DiceRoll(&quot;1d3&quot;) + player&#46;dexterity<br/>  shark&#46;attack_roll = DiceRoll(&quot;1d20&quot;)<br/>  shark&#46;damage_roll = DiceRoll(shark&#46;hit_die)<br/>  if ((player&#46;hit_points&gt;0) and (shark&#46;hit_points&gt;0)) {<br/>    if (player&#46;attack_roll &gt; shark&#46;armor_class-1) {<br/>\t  list add(player&#46;battleLog,&quot;You bury your dagger in the thrashing shark's head for &quot; + player&#46;damage_roll + &quot; points of damage&#46;&quot;)<br/>      SetTimeout (5*player&#46;turn_num) {<br/>\t  player&#46;turn_num = player&#46;turn_num - 1<br/>\t\tmsg(StringListItem (player&#46;battleLog, player&#46;turn_num))<br/>      }<br/>      shark&#46;hit_points = shark&#46;hit_points - player&#46;damage_roll<br/>      player&#46;turn_num = player&#46;turn_num + 1<br/>      if (shark&#46;hit_points &lt; 1) {<br/>\t  list add(player&#46;battleLog,&quot;Baring your teeth, now more angry than frightened, you withdraw your blade and stab down again as the shark's movements become sluggish&#46; You slash indiscriminately, abandoning tactics, venting your rage, and your assailant jerks twice, then drifts to the bottom, trailing a billowing red cloud behind it&#46; You surface and scream in pain and triumph&#46;&quot;)<br/>        SetTimeout (5*player&#46;turn_num) {<br/>\t  player&#46;turn_num = player&#46;turn_num - 1<br/>          msg(StringListItem (player&#46;battleLog, player&#46;turn_num))<br/>        }<br/>      }<br/>    }<br/>    else {<br/>\tlist add(player&#46;battleLog,&quot;You stab out at the attacking shark, but your dagger glances off of its rough hide&#46;&quot;)<br/>      SetTimeout (5*player&#46;turn_num) {<br/>\t  player&#46;turn_num = player&#46;turn_num - 1<br/>        msg(StringListItem (player&#46;battleLog, player&#46;turn_num))<br/>      }<br/>      player&#46;turn_num = player&#46;turn_num + 1<br/>    }<br/>    if (shark&#46;hit_points&gt;0) {<br/>      if (shark&#46;attack_roll &gt; player&#46;armor_class-1) {<br/>\t  list add(player&#46;battleLog,&quot;The shark twists through and knocks aside your outstretched arms, savaging your body for &quot; + shark&#46;damage_roll + &quot; points of damage&#46;&quot;)<br/>        SetTimeout (5*player&#46;turn_num) {<br/>\t  player&#46;turn_num = player&#46;turn_num - 1<br/>          msg(StringListItem (player&#46;battleLog, player&#46;turn_num))<br/>        }<br/>        player&#46;hit_points = player&#46;hit_points - shark&#46;damage_roll<br/>        player&#46;bloodied = true<br/>        player&#46;turn_num = player&#46;turn_num + 1<br/>        if (player&#46;hit_points &lt;1) {<br/>\t\tlist add(player&#46;battleLog,&quot;Trauma and loss of blood makes your head swim&#46; Your vision darkens and the last thing you feel is being shaken and sheared by the predator you failed to overcome&#46;&quot;)<br/>          SetTimeout (5*player&#46;turn_num) {<br/>\t  player&#46;turn_num = player&#46;turn_num - 1<br/>            msg(StringListItem (player&#46;battleLog, player&#46;turn_num))<br/>            finish<br/>          }<br/>        }<br/>      }<br/>      else {<br/>\t  list add(player&#46;battleLog,&quot;The shark tries to get a purchase on your body, but you manage to twist away from it's gnashing teeth&#46;&quot;)<br/>        SetTimeout (5*player&#46;turn_num) {<br/>\t  player&#46;turn_num = player&#46;turn_num - 1<br/>          msg(StringListItem (player&#46;battleLog, player&#46;turn_num))<br/>        }<br/>        player&#46;turn_num = player&#46;turn_num + 1<br/>      }<br/>    }<br/>  }<br/>}<br/>if ((player&#46;hit_points &gt; 0) and (shark&#46;hit_points &gt; 0)) {<br/>\tlist add(player&#46;battleLog,&quot;The water is a boil of bubbles and blood, both you and the shark are in a frenzy, both trying to kill the other&#46; With a flick of its tail, the shark turns and hurries away in search of a more compliant meal&#46;&quot;)<br/>  SetTimeout (5*player&#46;turn_num) {<br/>\t  player&#46;turn_num = player&#46;turn_num - 1<br/>    msg(StringListItem (player&#46;battleLog, player&#46;turn_num))<br/>  }<br/>}<br/>shark&#46;hit_points = 8 + DiceRoll(&quot;1d4&quot;)<br/></code></pre><br/>I ran it and came up with this output:<br/>Baring your teeth, now more angry than frightened, you withdraw your blade and stab down again as the shark's movements become sluggish. You slash indiscriminately, abandoning tactics, venting your rage, and your assailant jerks twice, then drifts to the bottom, trailing a billowing red cloud behind it. You surface and scream in pain and triumph.<br/>You bury your dagger in the thrashing shark's head for 2 points of damage.<br/>The shark twists through and knocks aside your outstretched arms, savaging your body for 4 points of damage.<br/>You bury your dagger in the thrashing shark's head for 2 points of damage.<br/>The shark tries to get a purchase on your body, but you manage to twist away from it's gnashing teeth.<br/>You bury your dagger in the thrashing shark's head for 2 points of damage.<br/>The shark tries to get a purchase on your body, but you manage to twist away from it's gnashing teeth.<br/>You bury your dagger in the thrashing shark's head for 3 points of damage.<br/>The shark tries to get a purchase on your body, but you manage to twist away from it's gnashing teeth.<br/>You bury your dagger in the thrashing shark's head for 4 points of damage.",
      "PostDate": "2015-12-25T07:38:56+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "40031",
      "UserId": 0,
      "Username": "HegemonKhan",
      "UserAvatar": null,
      "UserGravatar": "a96cf34d8d97c57de38f54ee22b1759b",
      "EditableText": "I just fixed up the indenting, in case you might have had your scripts out of order and~or not nested correctly, I know that dealing with formatting is annoying and wonky... laughs\n\n---------\n\nI'm not sure yet why it's going backwards (not familiar enough yet with your code...), but I quickly see the 'for' isn't set up correctly:\n\n<!-- m --><a class=\"postlink\" href=\"http://docs.textadventures.co.uk/quest/scripts/for.html\">http://docs.textadventures.co.uk/quest/scripts/for.html</a><!-- m -->\n\nfor (placeholder_variable_for_each_of_your_iterated_items, start_value, end_value, optional: interval_skip_value ~ it automatically defaults to 1, no skipping) { scripts }\n\n(your placeholder variable, and actually ANY VARIABLE AND~OR the NAME of things, usually can't be a number or start with a number, at least with most programming languages, not sure about quest, but regardless you shouldn't do it, as that number can-could cause issues)\n\nfrom the 'using lists' section in the quest docs, another example:\n\n[code:3ost5yna]for (myItem, 0, ListCount(myList) - 1) {\n  msg (&quot;Current item is &quot; + ObjectListItem(myList,myItem)&#46;name)\n}[/code:3ost5yna]\n\n----------\n\nP.S.\n\ngenerally, 'foreach' is used in quest, as you got List and Dictionary Attributes, whereas in quest 'for' isn't as often needed, as it is used a lot more in the normal programming languages.",
      "EditableFormat": "bbcode",
      "HTML": "I just fixed up the indenting, in case you might have had your scripts out of order and~or not nested correctly, I know that dealing with formatting is annoying and wonky... laughs<br/><br/>---------<br/><br/>I'm not sure yet why it's going backwards (not familiar enough yet with your code...), but I quickly see the 'for' isn't set up correctly:<br/><br/><!-- m --><a class=\"postlink\" href=\"http://docs.textadventures.co.uk/quest/scripts/for.html\">http://docs.textadventures.co.uk/quest/scripts/for.html</a><!-- m --><br/><br/>for (placeholder_variable_for_each_of_your_iterated_items, start_value, end_value, optional: interval_skip_value ~ it automatically defaults to 1, no skipping) { scripts }<br/><br/>(your placeholder variable, and actually ANY VARIABLE AND~OR the NAME of things, usually can't be a number or start with a number, at least with most programming languages, not sure about quest, but regardless you shouldn't do it, as that number can-could cause issues)<br/><br/>from the 'using lists' section in the quest docs, another example:<br/><br/><pre><code>for (myItem, 0, ListCount(myList) - 1) {<br/>  msg (&quot;Current item is &quot; + ObjectListItem(myList,myItem)&#46;name)<br/>}</code></pre><br/><br/>----------<br/><br/>P.S.<br/><br/>generally, 'foreach' is used in quest, as you got List and Dictionary Attributes, whereas in quest 'for' isn't as often needed, as it is used a lot more in the normal programming languages.",
      "PostDate": "2015-12-25T07:42:11+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "40032",
      "UserId": 0,
      "Username": "Fyrdraca",
      "UserAvatar": null,
      "UserGravatar": "01acea3b88b789c3d4a884c2acaf8a53",
      "EditableText": "You're the best. I'm gonna keep working at it. I'll check back here later to see if you came up with anything. Merry Christmas, HK!",
      "EditableFormat": "bbcode",
      "HTML": "You're the best. I'm gonna keep working at it. I'll check back here later to see if you came up with anything. Merry Christmas, HK!",
      "PostDate": "2015-12-25T08:00:42+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "40033",
      "UserId": 0,
      "Username": "HegemonKhan",
      "UserAvatar": null,
      "UserGravatar": "a96cf34d8d97c57de38f54ee22b1759b",
      "EditableText": "also, you may want to look at my own combat code, it could help you at least with ideas, (as awesomely you too seem to be making an RPG, I love RPGs, hehe, and am trying to learn to make one myself too):\n\n<!-- l --><a class=\"postlink-local\" href=\"http://forum.textadventures.co.uk/viewtopic.php?f=10&amp;t=3348&amp;start=120#p22483\">viewtopic.php?f=10&amp;t=3348&amp;start=120#p22483</a><!-- l -->\n\n(be warned: this is very old and poor~bad code, with quite a lot of unneeded code lines, as this was when I was learning this stuff for the first time)\n\n[code:2zafn9qa]&lt;asl version=&quot;530&quot;&gt;\n  &lt;include ref=&quot;English&#46;aslx&quot; /&gt;\n  &lt;include ref=&quot;Core&#46;aslx&quot; /&gt;\n  &lt;game name=&quot;Testing Game Stuff&quot;&gt;\n    &lt;gameid&gt;d83ba5bb-2e3c-4f31-80c9-3e88a2dc082c&lt;/gameid&gt;\n    &lt;version&gt;1&#46;0&lt;/version&gt;\n    &lt;pov type=&quot;object&quot;&gt;player&lt;/pov&gt;\n    &lt;start type=&quot;script&quot;&gt;\n      cc\n    &lt;/start&gt;\n    &lt;turns type=&quot;int&quot;&gt;0&lt;/turns&gt;\n    &lt;statusattributes type=&quot;stringdictionary&quot;&gt;turns = &lt;/statusattributes&gt;\n  &lt;/game&gt;\n  &lt;object name=&quot;room&quot;&gt;\n    &lt;inherit name=&quot;editor_room&quot; /&gt;\n    &lt;object name=&quot;player&quot;&gt;\n      &lt;inherit name=&quot;defaultplayer&quot; /&gt;\n      &lt;inherit name=&quot;pc&quot; /&gt;\n      &lt;cur_hp type=&quot;int&quot;&gt;999&lt;/cur_hp&gt;\n      &lt;max_hp type=&quot;int&quot;&gt;999&lt;/max_hp&gt;\n      &lt;str type=&quot;int&quot;&gt;100&lt;/str&gt;\n      &lt;end type=&quot;int&quot;&gt;100&lt;/end&gt;\n      &lt;dex type=&quot;int&quot;&gt;100&lt;/dex&gt;\n      &lt;agi type=&quot;int&quot;&gt;100&lt;/agi&gt;\n      &lt;spd type=&quot;int&quot;&gt;100&lt;/spd&gt;\n      &lt;hc type=&quot;int&quot;&gt;100&lt;/hc&gt;\n      &lt;pd type=&quot;int&quot;&gt;100&lt;/pd&gt;\n      &lt;pr type=&quot;int&quot;&gt;100&lt;/pr&gt;\n    &lt;/object&gt;\n    &lt;object name=&quot;orc1&quot;&gt;\n      &lt;inherit name=&quot;editor_object&quot; /&gt;\n      &lt;inherit name=&quot;npc&quot; /&gt;\n      &lt;hostile type=&quot;boolean&quot;&gt;true&lt;/hostile&gt;\n      &lt;dead type=&quot;boolean&quot;&gt;false&lt;/dead&gt;\n      &lt;alias&gt;orc&lt;/alias&gt;\n      &lt;cur_hp type=&quot;int&quot;&gt;999&lt;/cur_hp&gt;\n      &lt;max_hp type=&quot;int&quot;&gt;999&lt;/max_hp&gt;\n      &lt;str type=&quot;int&quot;&gt;25&lt;/str&gt;\n      &lt;end type=&quot;int&quot;&gt;25&lt;/end&gt;\n      &lt;dex type=&quot;int&quot;&gt;25&lt;/dex&gt;\n      &lt;agi type=&quot;int&quot;&gt;25&lt;/agi&gt;\n      &lt;spd type=&quot;int&quot;&gt;25&lt;/spd&gt;\n      &lt;hc type=&quot;int&quot;&gt;25&lt;/hc&gt;\n      &lt;pd type=&quot;int&quot;&gt;25&lt;/pd&gt;\n      &lt;pr type=&quot;int&quot;&gt;25&lt;/pr&gt;\n    &lt;/object&gt;\n  &lt;/object&gt;\n  &lt;turnscript name=&quot;game_turns&quot;&gt;\n    &lt;enabled /&gt;\n    &lt;script&gt;\n      sa\n      game&#46;turns = game&#46;turns + 1\n    &lt;/script&gt;\n  &lt;/turnscript&gt;\n  &lt;command name=&quot;fight&quot;&gt;\n    &lt;pattern&gt;fight #text#&lt;/pattern&gt;\n    &lt;script&gt;\n      battle_system (game&#46;pov,text)\n    &lt;/script&gt;\n  &lt;/command&gt;\n  &lt;type name=&quot;char&quot;&gt;\n    &lt;cur_hp type=&quot;int&quot;&gt;0&lt;/cur_hp&gt;\n    &lt;drop type=&quot;boolean&quot;&gt;false&lt;/drop&gt;\n    &lt;defending type=&quot;boolean&quot;&gt;false&lt;/defending&gt;\n    &lt;max_hp type=&quot;int&quot;&gt;0&lt;/max_hp&gt;\n    &lt;str type=&quot;int&quot;&gt;0&lt;/str&gt;\n    &lt;end type=&quot;int&quot;&gt;0&lt;/end&gt;\n    &lt;dex type=&quot;int&quot;&gt;0&lt;/dex&gt;\n    &lt;agi type=&quot;int&quot;&gt;0&lt;/agi&gt;\n    &lt;spd type=&quot;int&quot;&gt;0&lt;/spd&gt;\n    &lt;hp type=&quot;int&quot;&gt;0&lt;/hp&gt;\n    &lt;hc type=&quot;int&quot;&gt;0&lt;/hc&gt;\n    &lt;pd type=&quot;int&quot;&gt;0&lt;/pd&gt;\n    &lt;pr type=&quot;int&quot;&gt;0&lt;/pr&gt;\n  &lt;/type&gt;\n  &lt;type name=&quot;pc&quot;&gt;\n    &lt;inherit name=&quot;char&quot; /&gt;\n    &lt;statusattributes type=&quot;stringdictionary&quot;&gt;hp = ;str = ;end = ;dex = ;agi = ;spd = ;hc = ;pd = ;pr = &lt;/statusattributes&gt;\n  &lt;/type&gt;\n  &lt;type name=&quot;npc&quot;&gt;\n    &lt;inherit name=&quot;char&quot; /&gt;\n    &lt;dead type=&quot;boolean&quot;&gt;false&lt;/dead&gt;\n    &lt;hostile type=&quot;boolean&quot;&gt;false&lt;/hostile&gt;\n    &lt;displayverbs type=&quot;list&quot;&gt;Look at; Talk; Fight&lt;/displayverbs&gt;\n  &lt;/type&gt;\n  &lt;function name=&quot;cc&quot;&gt;\n    msg (&quot;What is your name?&quot;)\n    get input {\n      game&#46;pov&#46;alias = result\n      msg (&quot; - &quot; + game&#46;pov&#46;alias)\n      show menu (&quot;What is your gender?&quot;, split (&quot;male;female&quot; , &quot;;&quot;), false) {\n        game&#46;pov&#46;gender = result\n        show menu (&quot;What is your race?&quot;, split (&quot;human;dwarf;elf&quot; , &quot;;&quot;), false) {\n          game&#46;pov&#46;race = result\n          show menu (&quot;What is your class?&quot;, split (&quot;warrior;cleric;mage;thief&quot; , &quot;;&quot;), false) {\n            game&#46;pov&#46;class = result\n            msg (game&#46;pov&#46;alias + &quot; is a &quot; + game&#46;pov&#46;gender + &quot; &quot; + game&#46;pov&#46;race + &quot; &quot; + game&#46;pov&#46;class + &quot;&#46;&quot;)\n            wait {\n              ClearScreen\n            }\n          }\n        }\n      }\n    }\n  &lt;/function&gt;\n  &lt;function name=&quot;sa&quot;&gt;\n    game&#46;pov&#46;hp = game&#46;pov&#46;cur_hp + &quot; / &quot; + game&#46;pov&#46;max_hp\n  &lt;/function&gt;\n  &lt;function name=&quot;battle_system&quot; parameters=&quot;self,text&quot; type=&quot;boolean&quot;&gt;\n    first_value = false\n    enemy = GetObject (text)\n    if (enemy = null) {\n      foreach (obj,AllObjects()) {\n        if (obj&#46;alias=text) {\n          enemy = obj\n        }\n      }\n    }\n    if (enemy = null) {\n      msg (&quot;There is no &quot; + text + &quot; here&#46;&quot;)\n      first_value = false\n    }\n    else if (not Doesinherit (enemy,&quot;npc&quot;)) {\n      msg (&quot;You can not battle that!&quot;)\n      first_value = false\n    }\n    else if (not npc_reachable (enemy)) {\n      msg (&quot;There is no &quot; + enemy&#46;alias + &quot; in your vicinity&#46;&quot;)\n      first_value = false\n    }\n    else if (GetBoolean (enemy,&quot;dead&quot;) = true) {\n      msg (enemy&#46;alias + &quot; is already dead&#46;&quot;)\n      first_value = false\n    }\n    else if (GetBoolean (enemy,&quot;hostile&quot;) = false) {\n      msg (enemy&#46;alias + &quot; is not hostile&#46;&quot;)\n      first_value = false\n    }\n    else if (battle_sequence (self,enemy) = true) {\n      msg (&quot;The battle is over&#46;&quot;)\n      first_value = true\n    }\n    return (first_value)\n  &lt;/function&gt;\n  &lt;function name=&quot;battle_sequence&quot; parameters=&quot;self,enemy&quot; type=&quot;boolean&quot;&gt;&lt;!&#91;CDATA&#91;\n    second_value = false\n    if (enemy&#46;dead = false) {\n      if (GetInt (self,&quot;spd&quot;) &gt; GetInt (enemy,&quot;spd&quot;)) {\n        on ready {\n          msg (&quot;You get to go first for this round&quot;)\n          if (self_battle_turn (self,enemy) = true) {\n            battle_sequence (self,enemy)\n          }\n        }\n        on ready {\n          if (enemy&#46;dead = false) {\n            if (enemy_battle_turn (self,enemy) = true) {\n              msg (&quot;The round has ended&#46;&quot;)\n            }\n          }\n        }\n        on ready {\n          battle_sequence (self,enemy)\n        }\n      }\n      else if (GetInt (self,&quot;spd&quot;) &lt; GetInt (enemy,&quot;spd&quot;)) {\n        on ready {\n          msg (enemy&#46;alias + &quot; gets to go first for this round&#46;&quot;)\n          if (enemy_battle_turn (self,enemy) = true) {\n            msg (&quot;It is now your turn&#46;&quot;)\n          }\n        }\n        on ready {\n          if (self_battle_turn (self,enemy) = true) {\n            battle_sequence (self,enemy)\n          }\n          else {\n            msg (&quot;The round has ended&#46;&quot;)\n          }\n        }\n        on ready {\n          battle_sequence (self,enemy)\n        }\n      }\n      else if (GetInt (self,&quot;spd&quot;) = GetInt (enemy,&quot;spd&quot;)) {\n        if (RandomChance (50) = true) {\n          on ready {\n            msg (&quot;You get to go first for this round&quot;)\n            if (self_battle_turn (self,enemy) = true) {\n              battle_sequence (self,enemy)\n            }\n          }\n          on ready {\n            if (enemy_battle_turn (self,enemy) = true) {\n              msg (&quot;The round has ended&#46;&quot;)\n            }\n          }\n          on ready {\n            battle_sequence (self,enemy)\n          }\n        }\n        else {\n          on ready {\n            msg (enemy&#46;alias + &quot; gets to go first for this round&#46;&quot;)\n            if (enemy_battle_turn (self,enemy) = true) {\n              msg (&quot;It is now your turn&#46;&quot;)\n            }\n          }\n          on ready {\n            if (self_battle_turn (self,enemy) = true) {\n              battle_sequence (self,enemy)\n            }\n            else {\n              msg (&quot;The round has ended&#46;&quot;)\n            }\n          }\n          on ready {\n            battle_sequence (self,enemy)\n          }\n        }\n      }\n    }\n    else {\n      second_value = true\n    }\n    return (second_value)\n  &#93;&#93;&gt;&lt;/function&gt;\n  &lt;function name=&quot;self_battle_turn&quot; parameters=&quot;self,enemy&quot; type=&quot;boolean&quot;&gt;&lt;!&#91;CDATA&#91;\n    third_value = false\n    msg (self&#46;alias + &quot; has &quot; + self&#46;cur_hp + &quot; HP left&#46;&quot;)\n    msg (enemy&#46;alias + &quot; has &quot; + enemy&#46;cur_hp + &quot; HP left&#46;&quot;)\n    wait {\n      show menu (&quot;What is your battle choice?&quot;, split (&quot;Attack;Defend;Cast;Item;Run&quot;, &quot;;&quot;), false) {\n        switch (result) {\n          case (&quot;Attack&quot;) {\n            fourth_value = false\n            if (RandomChance (GetInt (enemy,&quot;agi&quot;) - GetInt (self,&quot;spd&quot;)) = true) {\n              msg (enemy&#46;alias + &quot;evaded your attack!&quot;)\n              fourth_value = true\n            }\n            else if (RandomChance (GetInt (enemy,&quot;Dex&quot;) - GetInt (self,&quot;agi&quot;)) = true) {\n              msg (enemy&#46;alias + &quot;parried your attack!&quot;)\n              fourth_value = true\n            }\n            else if (RandomChance (GetInt (enemy,&quot;agi&quot;) - GetInt (self,&quot;dex&quot;)) = true) {\n              msg (enemy&#46;alias + &quot;blocked your attack!&quot;)\n              fourth_value = true\n            }\n            else if (RandomChance (GetInt (self,&quot;dex&quot;) - GetInt (enemy,&quot;spd&quot;)) = false) {\n              msg (&quot;Your attack missed &quot; + enemy&#46;alias +&quot;!&quot;)\n              fourth_value = true\n            }\n            else if (RandomChance (GetInt (enemy,&quot;pr&quot;) - GetInt (self,&quot;hc&quot;)) = true) {\n              msg (&quot;Your attack got resisted by &quot; + enemy&#46;alias +&quot;!&quot;)\n              fourth_value = true\n            }\n            else if (fourth_value = false) {\n              if (self&#46;defending = true and enemy&#46;defending = true) {\n                enemy&#46;cur_hp = enemy&#46;cur_hp - (crit_hit (self) * 2 * GetInt (self,&quot;pd&quot;) / 2 + GetInt (self,&quot;pd&quot;) * (GetInt (self,&quot;str&quot;) - GetInt (enemy,&quot;end&quot;)) / 100)\n                msg (enemy&#46;alias + &quot; has &quot; + enemy&#46;cur_hp + &quot; HP left&#46;&quot;)\n                self&#46;defending = false\n              }\n              else if (self&#46;defending = true and enemy&#46;defending = false) {\n                enemy&#46;cur_hp = enemy&#46;cur_hp - (crit_hit (self) * 2 * GetInt (self,&quot;pd&quot;) + GetInt (self,&quot;pd&quot;) * (GetInt (self,&quot;str&quot;) - GetInt (enemy,&quot;end&quot;)) / 100)\n                msg (enemy&#46;alias + &quot; has &quot; + enemy&#46;cur_hp + &quot; HP left&#46;&quot;)\n                self&#46;defending = false\n              }\n              else if (self&#46;defending = false and enemy&#46;defending = true) {\n                enemy&#46;cur_hp = enemy&#46;cur_hp - (crit_hit (self) * GetInt (self,&quot;pd&quot;) / 2 + GetInt (self,&quot;pd&quot;) * (GetInt (self,&quot;str&quot;) - GetInt (enemy,&quot;end&quot;)) / 100)\n                msg (enemy&#46;alias + &quot; has &quot; + enemy&#46;cur_hp + &quot; HP left&#46;&quot;)\n              }\n              else if (self&#46;defending = false and enemy&#46;defending = false) {\n                enemy&#46;cur_hp = enemy&#46;cur_hp - (crit_hit (self) * GetInt (self,&quot;pd&quot;) + GetInt (self,&quot;pd&quot;) * (GetInt (self,&quot;str&quot;) - GetInt (enemy,&quot;end&quot;)) / 100)\n                msg (enemy&#46;alias + &quot; has &quot; + enemy&#46;cur_hp + &quot; HP left&#46;&quot;)\n              }\n            }\n          }\n          case (&quot;Defend&quot;) {\n            if (self&#46;defending = false) {\n              self&#46;defending = true\n            }\n          }\n          case (&quot;Cast&quot;) {\n            self&#46;defending = false\n          }\n          case (&quot;Item&quot;) {\n            self&#46;defending = false\n          }\n          case (&quot;Run&quot;) {\n            self&#46;defending = false\n          }\n        }\n        if (GetInt (enemy,&quot;cur_hp&quot;) &gt; 0) {\n          if (RandomChance (GetInt (self,&quot;spd&quot;) - GetInt (enemy,&quot;spd&quot;)) = true) {\n            msg (&quot;You get an extra battle turn!&quot;)\n            self_battle_turn (self,enemy)\n          }\n          else {\n            msg (&quot;Your battle turn is over&#46;&quot;)\n            third_value = false\n          }\n        }\n        else if (GetInt (enemy,&quot;cur_hp&quot;) &lt;= 0) {\n          msg (enemy&#46;alias + &quot; is dead&#46;&quot;)\n          msg (&quot;You have won the battle!&quot;)\n          enemy&#46;defending = false\n          enemy&#46;dead = true\n          third_value = true\n          wait {\n            ClearScreen\n          }\n        }\n      }\n    }\n    return (third_value)\n  &#93;&#93;&gt;&lt;/function&gt;\n  &lt;function name=&quot;enemy_battle_turn&quot; parameters=&quot;self,enemy&quot; type=&quot;boolean&quot;&gt;&lt;!&#91;CDATA&#91;\n    fifth_value = false\n    msg (self&#46;alias + &quot; has &quot; + self&#46;cur_hp + &quot; HP left&#46;&quot;)\n    msg (enemy&#46;alias + &quot; has &quot; + enemy&#46;cur_hp + &quot; HP left&#46;&quot;)\n    result = GetRandomInt (1,3)\n    switch (result) {\n      case (1) {\n        sixth_value = false\n        if (RandomChance (GetInt (self,&quot;agi&quot;) - GetInt (enemy,&quot;spd&quot;)) = true) {\n          msg (&quot;You have evaded the attack!&quot;)\n          sixth_value = true\n        }\n        else if (RandomChance (GetInt (self,&quot;dex&quot;) - GetInt (enemy,&quot;agi&quot;)) = true) {\n          msg (&quot;You have parried the attack!&quot;)\n          sixth_value = true\n        }\n        else if (RandomChance (GetInt (self,&quot;agi&quot;) - GetInt (enemy,&quot;dex&quot;)) = true) {\n          msg (&quot;You have blocked the attack!&quot;)\n          sixth_value = true\n        }\n        else if (RandomChance (GetInt (enemy,&quot;dex&quot;) - GetInt (self,&quot;spd&quot;)) = false) {\n          msg (enemy&#46;alias +&quot;'s attack missed!&quot;)\n          sixth_value = true\n        }\n        else if (RandomChance (GetInt (self,&quot;pr&quot;) - GetInt (enemy,&quot;hc&quot;)) = true) {\n          msg (&quot;You resisted the attack!&quot;)\n          sixth_value = true\n        }\n        else if (sixth_value = false) { \n          if (enemy&#46;defending = true and self&#46;defending = true) {\n            self&#46;cur_hp = self&#46;cur_hp - (crit_hit (enemy) * 2 * GetInt (enemy,&quot;pd&quot;) / 2 + GetInt (enemy,&quot;pd&quot;) * (GetInt (enemy,&quot;str&quot;) - GetInt (self,&quot;end&quot;)) / 100)\n            msg (self&#46;alias + &quot; has &quot; + self&#46;cur_hp + &quot; HP left&#46;&quot;)\n            enemy&#46;defending = false\n          }\n          else if (enemy&#46;defending = true and self&#46;defending = false) {\n            self&#46;cur_hp = self&#46;cur_hp - (crit_hit (enemy) * 2 * GetInt (enemy,&quot;pd&quot;) + GetInt (enemy,&quot;pd&quot;) * (GetInt (enemy,&quot;str&quot;) - GetInt (self,&quot;end&quot;)) / 100)\n            msg (self&#46;alias + &quot; has &quot; + self&#46;cur_hp + &quot; HP left&#46;&quot;)\n            enemy&#46;defending = false\n          }\n          else if (enemy&#46;defending = false and self&#46;defending = true) {\n            self&#46;cur_hp = self&#46;cur_hp - (crit_hit (enemy) * GetInt (enemy,&quot;pd&quot;) / 2 + GetInt (enemy,&quot;pd&quot;) * (GetInt (enemy,&quot;str&quot;) - GetInt (self,&quot;end&quot;)) / 100)\n            msg (self&#46;alias + &quot; has &quot; + self&#46;cur_hp + &quot; HP left&#46;&quot;)\n          }\n          else if (enemy&#46;defending = false and self&#46;defending = false) {\n            self&#46;cur_hp = self&#46;cur_hp - (crit_hit (enemy) * GetInt (enemy,&quot;pd&quot;) + GetInt (enemy,&quot;pd&quot;) * (GetInt (enemy,&quot;str&quot;) - GetInt (self,&quot;end&quot;)) / 100)\n            msg (self&#46;alias + &quot; has &quot; + self&#46;cur_hp + &quot; HP left&#46;&quot;)\n          }\n        }\n      }\n      case (2) {\n        if (enemy&#46;defending = false) {\n          msg (enemy&#46;alias + &quot; has choosen to defend itself&#46;&quot;)\n          enemy&#46;defending = true\n        }\n      }\n      case (3) {\n        enemy&#46;defending = false\n        msg (&quot;Cast&quot;)\n      }\n    }\n    if (GetInt (self,&quot;cur_hp&quot;) &gt; 0) {\n      if (RandomChance (GetInt (enemy,&quot;spd&quot;) - GetInt (self,&quot;spd&quot;)) = true) {\n        msg (enemy&#46;alias + &quot; gets an extra battle turn!&quot;)\n        wait {\n          enemy_battle_turn (self,enemy)\n        }\n      }\n      else {\n        msg (enemy&#46;alias + &quot; 's battle turn is over&#46;&quot;)\n        fifth_value = true\n      }\n    }\n    else if (GetInt (self,&quot;cur_hp&quot;) &lt;= 0) {\n      msg (self&#46;alias + &quot; has died&#46;&quot;)\n      msg (&quot;GAME OVER&quot;)\n      finish\n    }\n    return (fifth_value)\n  &#93;&#93;&gt;&lt;/function&gt;\n  &lt;function name=&quot;npc_reachable&quot; parameters=&quot;object&quot; type=&quot;boolean&quot;&gt;\n    value = false\n    foreach (x,ScopeReachableNotHeld ()) {\n      if (x=object) {\n        value = true\n      }\n    }\n    return (value)\n  &lt;/function&gt;\n  &lt;function name=&quot;crit_hit&quot; parameters=&quot;object&quot; type=&quot;int&quot;&gt;\n    if (RandomChance (GetInt (object,&quot;luck&quot;)) = true) {\n      value = 2\n    }\n    else {\n      value = 1\n    }\n    return (value)\n  &lt;/function&gt;\n&lt;/asl&gt;[/code:2zafn9qa]\n\nand the abrevs (I got the damage and resistance abrevs mixed up too, sorry about the abrevs, this is really old and I've learned to never use abrevs ever again, lol):\n\n<!-- l --><a class=\"postlink-local\" href=\"http://forum.textadventures.co.uk/viewtopic.php?f=10&amp;t=3348&amp;start=120#p22486\">viewtopic.php?f=10&amp;t=3348&amp;start=120#p22486</a><!-- l -->\n\n[code:2zafn9qa]01&#46; cc = character creation function\n02&#46; sa = status attributes (mainly for implementing/displaying of ' cur / max ' stats) function\n03&#46; char = character object type (&quot;pcs&quot;, &quot;npcs&quot;, &quot;monsters&quot;, etc&#46;, so, not a room, item, equipment, spell, etc)\n04&#46; pc = playable character object type (&quot;player&quot; characters / game&#46;povs)\n05&#46; npc = non-playable character (&quot;people&quot;, &quot;monsters&quot;, and etc, so not a &quot;player&quot; character / not a game&#46;pov, I'm going to have a hostility system, so any npc can be friendly or hostile, instead of having an actual &quot;monster/enemy&quot; type set aside)\n06&#46; hp = hit points (life) stat attribute\n07&#46; mp = mana points (magic) stat attribute\n08&#46; str = strength (physical damage, carry weight / equipment requirement, etc) stat attribute\n09&#46; end = endurance (physical defense, and etc) stat attribute\n10&#46; dex = dexterity (weapon~attack skill, think of this as &quot;if your attack connects or not, do you 'whiff' or not&quot;, so not to gete confused with hc, and etc) stat attribute\n11&#46; agi = agility (dodging/evading, and etc) stat attribute\n12&#46; spd = speed (who goes first in battle, extra battle turns, escaping from battle, and etc) stat attribute\n13&#46; hc = hit chance (think of this more as piercing their armor or not, so not to get confused with dex, and etc) stat attribute\n14&#46; pd = physical damage stat attribute\n15&#46; fp = fire damage stat attribute\n16&#46; wp = water damage stat attribute\n17&#46; ap = air damage stat attribute\n18&#46; ed = earth damage stat attribute\n19&#46; ld = light damage stat attribute\n20&#46; dd = dark damage stat attribute\n21&#46; pr = physical resistance stat attribute\n22&#46; fr = fire resistance stat attribute\n23&#46; wr = water resistance stat attribute\n24&#46; ar = air resistance stat attribute\n25&#46; er = earth resistance stat attribute\n26&#46; lr = light resistance stat attribute\n27&#46; dr = dark resistance stat attribute\n28&#46; defending = boolean (reduces damage done for that character and increases the damage done by that character, if they chosoe to attack on the next turn)\n29&#46; escaped = boolean, run from battle (not completed/implemented yet)\n30&#46; hostile = boolean, any npc can be friendly or a(n) &quot;monster/enemy&quot;, based upon a hostility scale (0-100), but not completed\n31&#46; dead = boolean\n32&#46; crit_hit = critical hit (bonus damage based upon luck)\n33&#46; luck = luck stat attribute\n34&#46; lvl = level stat attribute\n35&#46; exp = experience stat attribute\n36&#46; cash = cash stat attribute (currency)\n37&#46; lvlup = level up function[/code:2zafn9qa]\n\n---------\n\nP.S.\n\nMerry Christmas to you too! <!-- s:D --><img src=\"{SMILIES_PATH}/icon_biggrin.gif\" alt=\":D\" title=\"Very Happy\" /><!-- s:D -->\n(don't ruin it with struggling with quest and coding... lol, save the headaches and migraines for after Christmas)",
      "EditableFormat": "bbcode",
      "HTML": "also, you may want to look at my own combat code, it could help you at least with ideas, (as awesomely you too seem to be making an RPG, I love RPGs, hehe, and am trying to learn to make one myself too):<br/><br/><!-- l --><a class=\"postlink-local\" href=\"http://forum.textadventures.co.uk/viewtopic.php?f=10&amp;t=3348&amp;start=120#p22483\">viewtopic.php?f=10&amp;t=3348&amp;start=120#p22483</a><!-- l --><br/><br/>(be warned: this is very old and poor~bad code, with quite a lot of unneeded code lines, as this was when I was learning this stuff for the first time)<br/><br/><pre><code>&lt;asl version=&quot;530&quot;&gt;<br/>  &lt;include ref=&quot;English&#46;aslx&quot; /&gt;<br/>  &lt;include ref=&quot;Core&#46;aslx&quot; /&gt;<br/>  &lt;game name=&quot;Testing Game Stuff&quot;&gt;<br/>    &lt;gameid&gt;d83ba5bb-2e3c-4f31-80c9-3e88a2dc082c&lt;/gameid&gt;<br/>    &lt;version&gt;1&#46;0&lt;/version&gt;<br/>    &lt;pov type=&quot;object&quot;&gt;player&lt;/pov&gt;<br/>    &lt;start type=&quot;script&quot;&gt;<br/>      cc<br/>    &lt;/start&gt;<br/>    &lt;turns type=&quot;int&quot;&gt;0&lt;/turns&gt;<br/>    &lt;statusattributes type=&quot;stringdictionary&quot;&gt;turns = &lt;/statusattributes&gt;<br/>  &lt;/game&gt;<br/>  &lt;object name=&quot;room&quot;&gt;<br/>    &lt;inherit name=&quot;editor_room&quot; /&gt;<br/>    &lt;object name=&quot;player&quot;&gt;<br/>      &lt;inherit name=&quot;defaultplayer&quot; /&gt;<br/>      &lt;inherit name=&quot;pc&quot; /&gt;<br/>      &lt;cur_hp type=&quot;int&quot;&gt;999&lt;/cur_hp&gt;<br/>      &lt;max_hp type=&quot;int&quot;&gt;999&lt;/max_hp&gt;<br/>      &lt;str type=&quot;int&quot;&gt;100&lt;/str&gt;<br/>      &lt;end type=&quot;int&quot;&gt;100&lt;/end&gt;<br/>      &lt;dex type=&quot;int&quot;&gt;100&lt;/dex&gt;<br/>      &lt;agi type=&quot;int&quot;&gt;100&lt;/agi&gt;<br/>      &lt;spd type=&quot;int&quot;&gt;100&lt;/spd&gt;<br/>      &lt;hc type=&quot;int&quot;&gt;100&lt;/hc&gt;<br/>      &lt;pd type=&quot;int&quot;&gt;100&lt;/pd&gt;<br/>      &lt;pr type=&quot;int&quot;&gt;100&lt;/pr&gt;<br/>    &lt;/object&gt;<br/>    &lt;object name=&quot;orc1&quot;&gt;<br/>      &lt;inherit name=&quot;editor_object&quot; /&gt;<br/>      &lt;inherit name=&quot;npc&quot; /&gt;<br/>      &lt;hostile type=&quot;boolean&quot;&gt;true&lt;/hostile&gt;<br/>      &lt;dead type=&quot;boolean&quot;&gt;false&lt;/dead&gt;<br/>      &lt;alias&gt;orc&lt;/alias&gt;<br/>      &lt;cur_hp type=&quot;int&quot;&gt;999&lt;/cur_hp&gt;<br/>      &lt;max_hp type=&quot;int&quot;&gt;999&lt;/max_hp&gt;<br/>      &lt;str type=&quot;int&quot;&gt;25&lt;/str&gt;<br/>      &lt;end type=&quot;int&quot;&gt;25&lt;/end&gt;<br/>      &lt;dex type=&quot;int&quot;&gt;25&lt;/dex&gt;<br/>      &lt;agi type=&quot;int&quot;&gt;25&lt;/agi&gt;<br/>      &lt;spd type=&quot;int&quot;&gt;25&lt;/spd&gt;<br/>      &lt;hc type=&quot;int&quot;&gt;25&lt;/hc&gt;<br/>      &lt;pd type=&quot;int&quot;&gt;25&lt;/pd&gt;<br/>      &lt;pr type=&quot;int&quot;&gt;25&lt;/pr&gt;<br/>    &lt;/object&gt;<br/>  &lt;/object&gt;<br/>  &lt;turnscript name=&quot;game_turns&quot;&gt;<br/>    &lt;enabled /&gt;<br/>    &lt;script&gt;<br/>      sa<br/>      game&#46;turns = game&#46;turns + 1<br/>    &lt;/script&gt;<br/>  &lt;/turnscript&gt;<br/>  &lt;command name=&quot;fight&quot;&gt;<br/>    &lt;pattern&gt;fight #text#&lt;/pattern&gt;<br/>    &lt;script&gt;<br/>      battle_system (game&#46;pov,text)<br/>    &lt;/script&gt;<br/>  &lt;/command&gt;<br/>  &lt;type name=&quot;char&quot;&gt;<br/>    &lt;cur_hp type=&quot;int&quot;&gt;0&lt;/cur_hp&gt;<br/>    &lt;drop type=&quot;boolean&quot;&gt;false&lt;/drop&gt;<br/>    &lt;defending type=&quot;boolean&quot;&gt;false&lt;/defending&gt;<br/>    &lt;max_hp type=&quot;int&quot;&gt;0&lt;/max_hp&gt;<br/>    &lt;str type=&quot;int&quot;&gt;0&lt;/str&gt;<br/>    &lt;end type=&quot;int&quot;&gt;0&lt;/end&gt;<br/>    &lt;dex type=&quot;int&quot;&gt;0&lt;/dex&gt;<br/>    &lt;agi type=&quot;int&quot;&gt;0&lt;/agi&gt;<br/>    &lt;spd type=&quot;int&quot;&gt;0&lt;/spd&gt;<br/>    &lt;hp type=&quot;int&quot;&gt;0&lt;/hp&gt;<br/>    &lt;hc type=&quot;int&quot;&gt;0&lt;/hc&gt;<br/>    &lt;pd type=&quot;int&quot;&gt;0&lt;/pd&gt;<br/>    &lt;pr type=&quot;int&quot;&gt;0&lt;/pr&gt;<br/>  &lt;/type&gt;<br/>  &lt;type name=&quot;pc&quot;&gt;<br/>    &lt;inherit name=&quot;char&quot; /&gt;<br/>    &lt;statusattributes type=&quot;stringdictionary&quot;&gt;hp = ;str = ;end = ;dex = ;agi = ;spd = ;hc = ;pd = ;pr = &lt;/statusattributes&gt;<br/>  &lt;/type&gt;<br/>  &lt;type name=&quot;npc&quot;&gt;<br/>    &lt;inherit name=&quot;char&quot; /&gt;<br/>    &lt;dead type=&quot;boolean&quot;&gt;false&lt;/dead&gt;<br/>    &lt;hostile type=&quot;boolean&quot;&gt;false&lt;/hostile&gt;<br/>    &lt;displayverbs type=&quot;list&quot;&gt;Look at; Talk; Fight&lt;/displayverbs&gt;<br/>  &lt;/type&gt;<br/>  &lt;function name=&quot;cc&quot;&gt;<br/>    msg (&quot;What is your name?&quot;)<br/>    get input {<br/>      game&#46;pov&#46;alias = result<br/>      msg (&quot; - &quot; + game&#46;pov&#46;alias)<br/>      show menu (&quot;What is your gender?&quot;, split (&quot;male;female&quot; , &quot;;&quot;), false) {<br/>        game&#46;pov&#46;gender = result<br/>        show menu (&quot;What is your race?&quot;, split (&quot;human;dwarf;elf&quot; , &quot;;&quot;), false) {<br/>          game&#46;pov&#46;race = result<br/>          show menu (&quot;What is your class?&quot;, split (&quot;warrior;cleric;mage;thief&quot; , &quot;;&quot;), false) {<br/>            game&#46;pov&#46;class = result<br/>            msg (game&#46;pov&#46;alias + &quot; is a &quot; + game&#46;pov&#46;gender + &quot; &quot; + game&#46;pov&#46;race + &quot; &quot; + game&#46;pov&#46;class + &quot;&#46;&quot;)<br/>            wait {<br/>              ClearScreen<br/>            }<br/>          }<br/>        }<br/>      }<br/>    }<br/>  &lt;/function&gt;<br/>  &lt;function name=&quot;sa&quot;&gt;<br/>    game&#46;pov&#46;hp = game&#46;pov&#46;cur_hp + &quot; / &quot; + game&#46;pov&#46;max_hp<br/>  &lt;/function&gt;<br/>  &lt;function name=&quot;battle_system&quot; parameters=&quot;self,text&quot; type=&quot;boolean&quot;&gt;<br/>    first_value = false<br/>    enemy = GetObject (text)<br/>    if (enemy = null) {<br/>      foreach (obj,AllObjects()) {<br/>        if (obj&#46;alias=text) {<br/>          enemy = obj<br/>        }<br/>      }<br/>    }<br/>    if (enemy = null) {<br/>      msg (&quot;There is no &quot; + text + &quot; here&#46;&quot;)<br/>      first_value = false<br/>    }<br/>    else if (not Doesinherit (enemy,&quot;npc&quot;)) {<br/>      msg (&quot;You can not battle that!&quot;)<br/>      first_value = false<br/>    }<br/>    else if (not npc_reachable (enemy)) {<br/>      msg (&quot;There is no &quot; + enemy&#46;alias + &quot; in your vicinity&#46;&quot;)<br/>      first_value = false<br/>    }<br/>    else if (GetBoolean (enemy,&quot;dead&quot;) = true) {<br/>      msg (enemy&#46;alias + &quot; is already dead&#46;&quot;)<br/>      first_value = false<br/>    }<br/>    else if (GetBoolean (enemy,&quot;hostile&quot;) = false) {<br/>      msg (enemy&#46;alias + &quot; is not hostile&#46;&quot;)<br/>      first_value = false<br/>    }<br/>    else if (battle_sequence (self,enemy) = true) {<br/>      msg (&quot;The battle is over&#46;&quot;)<br/>      first_value = true<br/>    }<br/>    return (first_value)<br/>  &lt;/function&gt;<br/>  &lt;function name=&quot;battle_sequence&quot; parameters=&quot;self,enemy&quot; type=&quot;boolean&quot;&gt;&lt;!&#91;CDATA&#91;<br/>    second_value = false<br/>    if (enemy&#46;dead = false) {<br/>      if (GetInt (self,&quot;spd&quot;) &gt; GetInt (enemy,&quot;spd&quot;)) {<br/>        on ready {<br/>          msg (&quot;You get to go first for this round&quot;)<br/>          if (self_battle_turn (self,enemy) = true) {<br/>            battle_sequence (self,enemy)<br/>          }<br/>        }<br/>        on ready {<br/>          if (enemy&#46;dead = false) {<br/>            if (enemy_battle_turn (self,enemy) = true) {<br/>              msg (&quot;The round has ended&#46;&quot;)<br/>            }<br/>          }<br/>        }<br/>        on ready {<br/>          battle_sequence (self,enemy)<br/>        }<br/>      }<br/>      else if (GetInt (self,&quot;spd&quot;) &lt; GetInt (enemy,&quot;spd&quot;)) {<br/>        on ready {<br/>          msg (enemy&#46;alias + &quot; gets to go first for this round&#46;&quot;)<br/>          if (enemy_battle_turn (self,enemy) = true) {<br/>            msg (&quot;It is now your turn&#46;&quot;)<br/>          }<br/>        }<br/>        on ready {<br/>          if (self_battle_turn (self,enemy) = true) {<br/>            battle_sequence (self,enemy)<br/>          }<br/>          else {<br/>            msg (&quot;The round has ended&#46;&quot;)<br/>          }<br/>        }<br/>        on ready {<br/>          battle_sequence (self,enemy)<br/>        }<br/>      }<br/>      else if (GetInt (self,&quot;spd&quot;) = GetInt (enemy,&quot;spd&quot;)) {<br/>        if (RandomChance (50) = true) {<br/>          on ready {<br/>            msg (&quot;You get to go first for this round&quot;)<br/>            if (self_battle_turn (self,enemy) = true) {<br/>              battle_sequence (self,enemy)<br/>            }<br/>          }<br/>          on ready {<br/>            if (enemy_battle_turn (self,enemy) = true) {<br/>              msg (&quot;The round has ended&#46;&quot;)<br/>            }<br/>          }<br/>          on ready {<br/>            battle_sequence (self,enemy)<br/>          }<br/>        }<br/>        else {<br/>          on ready {<br/>            msg (enemy&#46;alias + &quot; gets to go first for this round&#46;&quot;)<br/>            if (enemy_battle_turn (self,enemy) = true) {<br/>              msg (&quot;It is now your turn&#46;&quot;)<br/>            }<br/>          }<br/>          on ready {<br/>            if (self_battle_turn (self,enemy) = true) {<br/>              battle_sequence (self,enemy)<br/>            }<br/>            else {<br/>              msg (&quot;The round has ended&#46;&quot;)<br/>            }<br/>          }<br/>          on ready {<br/>            battle_sequence (self,enemy)<br/>          }<br/>        }<br/>      }<br/>    }<br/>    else {<br/>      second_value = true<br/>    }<br/>    return (second_value)<br/>  &#93;&#93;&gt;&lt;/function&gt;<br/>  &lt;function name=&quot;self_battle_turn&quot; parameters=&quot;self,enemy&quot; type=&quot;boolean&quot;&gt;&lt;!&#91;CDATA&#91;<br/>    third_value = false<br/>    msg (self&#46;alias + &quot; has &quot; + self&#46;cur_hp + &quot; HP left&#46;&quot;)<br/>    msg (enemy&#46;alias + &quot; has &quot; + enemy&#46;cur_hp + &quot; HP left&#46;&quot;)<br/>    wait {<br/>      show menu (&quot;What is your battle choice?&quot;, split (&quot;Attack;Defend;Cast;Item;Run&quot;, &quot;;&quot;), false) {<br/>        switch (result) {<br/>          case (&quot;Attack&quot;) {<br/>            fourth_value = false<br/>            if (RandomChance (GetInt (enemy,&quot;agi&quot;) - GetInt (self,&quot;spd&quot;)) = true) {<br/>              msg (enemy&#46;alias + &quot;evaded your attack!&quot;)<br/>              fourth_value = true<br/>            }<br/>            else if (RandomChance (GetInt (enemy,&quot;Dex&quot;) - GetInt (self,&quot;agi&quot;)) = true) {<br/>              msg (enemy&#46;alias + &quot;parried your attack!&quot;)<br/>              fourth_value = true<br/>            }<br/>            else if (RandomChance (GetInt (enemy,&quot;agi&quot;) - GetInt (self,&quot;dex&quot;)) = true) {<br/>              msg (enemy&#46;alias + &quot;blocked your attack!&quot;)<br/>              fourth_value = true<br/>            }<br/>            else if (RandomChance (GetInt (self,&quot;dex&quot;) - GetInt (enemy,&quot;spd&quot;)) = false) {<br/>              msg (&quot;Your attack missed &quot; + enemy&#46;alias +&quot;!&quot;)<br/>              fourth_value = true<br/>            }<br/>            else if (RandomChance (GetInt (enemy,&quot;pr&quot;) - GetInt (self,&quot;hc&quot;)) = true) {<br/>              msg (&quot;Your attack got resisted by &quot; + enemy&#46;alias +&quot;!&quot;)<br/>              fourth_value = true<br/>            }<br/>            else if (fourth_value = false) {<br/>              if (self&#46;defending = true and enemy&#46;defending = true) {<br/>                enemy&#46;cur_hp = enemy&#46;cur_hp - (crit_hit (self) * 2 * GetInt (self,&quot;pd&quot;) / 2 + GetInt (self,&quot;pd&quot;) * (GetInt (self,&quot;str&quot;) - GetInt (enemy,&quot;end&quot;)) / 100)<br/>                msg (enemy&#46;alias + &quot; has &quot; + enemy&#46;cur_hp + &quot; HP left&#46;&quot;)<br/>                self&#46;defending = false<br/>              }<br/>              else if (self&#46;defending = true and enemy&#46;defending = false) {<br/>                enemy&#46;cur_hp = enemy&#46;cur_hp - (crit_hit (self) * 2 * GetInt (self,&quot;pd&quot;) + GetInt (self,&quot;pd&quot;) * (GetInt (self,&quot;str&quot;) - GetInt (enemy,&quot;end&quot;)) / 100)<br/>                msg (enemy&#46;alias + &quot; has &quot; + enemy&#46;cur_hp + &quot; HP left&#46;&quot;)<br/>                self&#46;defending = false<br/>              }<br/>              else if (self&#46;defending = false and enemy&#46;defending = true) {<br/>                enemy&#46;cur_hp = enemy&#46;cur_hp - (crit_hit (self) * GetInt (self,&quot;pd&quot;) / 2 + GetInt (self,&quot;pd&quot;) * (GetInt (self,&quot;str&quot;) - GetInt (enemy,&quot;end&quot;)) / 100)<br/>                msg (enemy&#46;alias + &quot; has &quot; + enemy&#46;cur_hp + &quot; HP left&#46;&quot;)<br/>              }<br/>              else if (self&#46;defending = false and enemy&#46;defending = false) {<br/>                enemy&#46;cur_hp = enemy&#46;cur_hp - (crit_hit (self) * GetInt (self,&quot;pd&quot;) + GetInt (self,&quot;pd&quot;) * (GetInt (self,&quot;str&quot;) - GetInt (enemy,&quot;end&quot;)) / 100)<br/>                msg (enemy&#46;alias + &quot; has &quot; + enemy&#46;cur_hp + &quot; HP left&#46;&quot;)<br/>              }<br/>            }<br/>          }<br/>          case (&quot;Defend&quot;) {<br/>            if (self&#46;defending = false) {<br/>              self&#46;defending = true<br/>            }<br/>          }<br/>          case (&quot;Cast&quot;) {<br/>            self&#46;defending = false<br/>          }<br/>          case (&quot;Item&quot;) {<br/>            self&#46;defending = false<br/>          }<br/>          case (&quot;Run&quot;) {<br/>            self&#46;defending = false<br/>          }<br/>        }<br/>        if (GetInt (enemy,&quot;cur_hp&quot;) &gt; 0) {<br/>          if (RandomChance (GetInt (self,&quot;spd&quot;) - GetInt (enemy,&quot;spd&quot;)) = true) {<br/>            msg (&quot;You get an extra battle turn!&quot;)<br/>            self_battle_turn (self,enemy)<br/>          }<br/>          else {<br/>            msg (&quot;Your battle turn is over&#46;&quot;)<br/>            third_value = false<br/>          }<br/>        }<br/>        else if (GetInt (enemy,&quot;cur_hp&quot;) &lt;= 0) {<br/>          msg (enemy&#46;alias + &quot; is dead&#46;&quot;)<br/>          msg (&quot;You have won the battle!&quot;)<br/>          enemy&#46;defending = false<br/>          enemy&#46;dead = true<br/>          third_value = true<br/>          wait {<br/>            ClearScreen<br/>          }<br/>        }<br/>      }<br/>    }<br/>    return (third_value)<br/>  &#93;&#93;&gt;&lt;/function&gt;<br/>  &lt;function name=&quot;enemy_battle_turn&quot; parameters=&quot;self,enemy&quot; type=&quot;boolean&quot;&gt;&lt;!&#91;CDATA&#91;<br/>    fifth_value = false<br/>    msg (self&#46;alias + &quot; has &quot; + self&#46;cur_hp + &quot; HP left&#46;&quot;)<br/>    msg (enemy&#46;alias + &quot; has &quot; + enemy&#46;cur_hp + &quot; HP left&#46;&quot;)<br/>    result = GetRandomInt (1,3)<br/>    switch (result) {<br/>      case (1) {<br/>        sixth_value = false<br/>        if (RandomChance (GetInt (self,&quot;agi&quot;) - GetInt (enemy,&quot;spd&quot;)) = true) {<br/>          msg (&quot;You have evaded the attack!&quot;)<br/>          sixth_value = true<br/>        }<br/>        else if (RandomChance (GetInt (self,&quot;dex&quot;) - GetInt (enemy,&quot;agi&quot;)) = true) {<br/>          msg (&quot;You have parried the attack!&quot;)<br/>          sixth_value = true<br/>        }<br/>        else if (RandomChance (GetInt (self,&quot;agi&quot;) - GetInt (enemy,&quot;dex&quot;)) = true) {<br/>          msg (&quot;You have blocked the attack!&quot;)<br/>          sixth_value = true<br/>        }<br/>        else if (RandomChance (GetInt (enemy,&quot;dex&quot;) - GetInt (self,&quot;spd&quot;)) = false) {<br/>          msg (enemy&#46;alias +&quot;'s attack missed!&quot;)<br/>          sixth_value = true<br/>        }<br/>        else if (RandomChance (GetInt (self,&quot;pr&quot;) - GetInt (enemy,&quot;hc&quot;)) = true) {<br/>          msg (&quot;You resisted the attack!&quot;)<br/>          sixth_value = true<br/>        }<br/>        else if (sixth_value = false) { <br/>          if (enemy&#46;defending = true and self&#46;defending = true) {<br/>            self&#46;cur_hp = self&#46;cur_hp - (crit_hit (enemy) * 2 * GetInt (enemy,&quot;pd&quot;) / 2 + GetInt (enemy,&quot;pd&quot;) * (GetInt (enemy,&quot;str&quot;) - GetInt (self,&quot;end&quot;)) / 100)<br/>            msg (self&#46;alias + &quot; has &quot; + self&#46;cur_hp + &quot; HP left&#46;&quot;)<br/>            enemy&#46;defending = false<br/>          }<br/>          else if (enemy&#46;defending = true and self&#46;defending = false) {<br/>            self&#46;cur_hp = self&#46;cur_hp - (crit_hit (enemy) * 2 * GetInt (enemy,&quot;pd&quot;) + GetInt (enemy,&quot;pd&quot;) * (GetInt (enemy,&quot;str&quot;) - GetInt (self,&quot;end&quot;)) / 100)<br/>            msg (self&#46;alias + &quot; has &quot; + self&#46;cur_hp + &quot; HP left&#46;&quot;)<br/>            enemy&#46;defending = false<br/>          }<br/>          else if (enemy&#46;defending = false and self&#46;defending = true) {<br/>            self&#46;cur_hp = self&#46;cur_hp - (crit_hit (enemy) * GetInt (enemy,&quot;pd&quot;) / 2 + GetInt (enemy,&quot;pd&quot;) * (GetInt (enemy,&quot;str&quot;) - GetInt (self,&quot;end&quot;)) / 100)<br/>            msg (self&#46;alias + &quot; has &quot; + self&#46;cur_hp + &quot; HP left&#46;&quot;)<br/>          }<br/>          else if (enemy&#46;defending = false and self&#46;defending = false) {<br/>            self&#46;cur_hp = self&#46;cur_hp - (crit_hit (enemy) * GetInt (enemy,&quot;pd&quot;) + GetInt (enemy,&quot;pd&quot;) * (GetInt (enemy,&quot;str&quot;) - GetInt (self,&quot;end&quot;)) / 100)<br/>            msg (self&#46;alias + &quot; has &quot; + self&#46;cur_hp + &quot; HP left&#46;&quot;)<br/>          }<br/>        }<br/>      }<br/>      case (2) {<br/>        if (enemy&#46;defending = false) {<br/>          msg (enemy&#46;alias + &quot; has choosen to defend itself&#46;&quot;)<br/>          enemy&#46;defending = true<br/>        }<br/>      }<br/>      case (3) {<br/>        enemy&#46;defending = false<br/>        msg (&quot;Cast&quot;)<br/>      }<br/>    }<br/>    if (GetInt (self,&quot;cur_hp&quot;) &gt; 0) {<br/>      if (RandomChance (GetInt (enemy,&quot;spd&quot;) - GetInt (self,&quot;spd&quot;)) = true) {<br/>        msg (enemy&#46;alias + &quot; gets an extra battle turn!&quot;)<br/>        wait {<br/>          enemy_battle_turn (self,enemy)<br/>        }<br/>      }<br/>      else {<br/>        msg (enemy&#46;alias + &quot; 's battle turn is over&#46;&quot;)<br/>        fifth_value = true<br/>      }<br/>    }<br/>    else if (GetInt (self,&quot;cur_hp&quot;) &lt;= 0) {<br/>      msg (self&#46;alias + &quot; has died&#46;&quot;)<br/>      msg (&quot;GAME OVER&quot;)<br/>      finish<br/>    }<br/>    return (fifth_value)<br/>  &#93;&#93;&gt;&lt;/function&gt;<br/>  &lt;function name=&quot;npc_reachable&quot; parameters=&quot;object&quot; type=&quot;boolean&quot;&gt;<br/>    value = false<br/>    foreach (x,ScopeReachableNotHeld ()) {<br/>      if (x=object) {<br/>        value = true<br/>      }<br/>    }<br/>    return (value)<br/>  &lt;/function&gt;<br/>  &lt;function name=&quot;crit_hit&quot; parameters=&quot;object&quot; type=&quot;int&quot;&gt;<br/>    if (RandomChance (GetInt (object,&quot;luck&quot;)) = true) {<br/>      value = 2<br/>    }<br/>    else {<br/>      value = 1<br/>    }<br/>    return (value)<br/>  &lt;/function&gt;<br/>&lt;/asl&gt;</code></pre><br/><br/>and the abrevs (I got the damage and resistance abrevs mixed up too, sorry about the abrevs, this is really old and I've learned to never use abrevs ever again, lol):<br/><br/><!-- l --><a class=\"postlink-local\" href=\"http://forum.textadventures.co.uk/viewtopic.php?f=10&amp;t=3348&amp;start=120#p22486\">viewtopic.php?f=10&amp;t=3348&amp;start=120#p22486</a><!-- l --><br/><br/><pre><code>01&#46; cc = character creation function<br/>02&#46; sa = status attributes (mainly for implementing/displaying of ' cur / max ' stats) function<br/>03&#46; char = character object type (&quot;pcs&quot;, &quot;npcs&quot;, &quot;monsters&quot;, etc&#46;, so, not a room, item, equipment, spell, etc)<br/>04&#46; pc = playable character object type (&quot;player&quot; characters / game&#46;povs)<br/>05&#46; npc = non-playable character (&quot;people&quot;, &quot;monsters&quot;, and etc, so not a &quot;player&quot; character / not a game&#46;pov, I'm going to have a hostility system, so any npc can be friendly or hostile, instead of having an actual &quot;monster/enemy&quot; type set aside)<br/>06&#46; hp = hit points (life) stat attribute<br/>07&#46; mp = mana points (magic) stat attribute<br/>08&#46; str = strength (physical damage, carry weight / equipment requirement, etc) stat attribute<br/>09&#46; end = endurance (physical defense, and etc) stat attribute<br/>10&#46; dex = dexterity (weapon~attack skill, think of this as &quot;if your attack connects or not, do you 'whiff' or not&quot;, so not to gete confused with hc, and etc) stat attribute<br/>11&#46; agi = agility (dodging/evading, and etc) stat attribute<br/>12&#46; spd = speed (who goes first in battle, extra battle turns, escaping from battle, and etc) stat attribute<br/>13&#46; hc = hit chance (think of this more as piercing their armor or not, so not to get confused with dex, and etc) stat attribute<br/>14&#46; pd = physical damage stat attribute<br/>15&#46; fp = fire damage stat attribute<br/>16&#46; wp = water damage stat attribute<br/>17&#46; ap = air damage stat attribute<br/>18&#46; ed = earth damage stat attribute<br/>19&#46; ld = light damage stat attribute<br/>20&#46; dd = dark damage stat attribute<br/>21&#46; pr = physical resistance stat attribute<br/>22&#46; fr = fire resistance stat attribute<br/>23&#46; wr = water resistance stat attribute<br/>24&#46; ar = air resistance stat attribute<br/>25&#46; er = earth resistance stat attribute<br/>26&#46; lr = light resistance stat attribute<br/>27&#46; dr = dark resistance stat attribute<br/>28&#46; defending = boolean (reduces damage done for that character and increases the damage done by that character, if they chosoe to attack on the next turn)<br/>29&#46; escaped = boolean, run from battle (not completed/implemented yet)<br/>30&#46; hostile = boolean, any npc can be friendly or a(n) &quot;monster/enemy&quot;, based upon a hostility scale (0-100), but not completed<br/>31&#46; dead = boolean<br/>32&#46; crit_hit = critical hit (bonus damage based upon luck)<br/>33&#46; luck = luck stat attribute<br/>34&#46; lvl = level stat attribute<br/>35&#46; exp = experience stat attribute<br/>36&#46; cash = cash stat attribute (currency)<br/>37&#46; lvlup = level up function</code></pre><br/><br/>---------<br/><br/>P.S.<br/><br/>Merry Christmas to you too! <!-- s:D --><img src=\"{SMILIES_PATH}/icon_biggrin.gif\" alt=\":D\" title=\"Very Happy\" /><!-- s:D --><br/>(don't ruin it with struggling with quest and coding... lol, save the headaches and migraines for after Christmas)",
      "PostDate": "2015-12-25T08:01:36+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "40034",
      "UserId": 0,
      "Username": "Fyrdraca",
      "UserAvatar": null,
      "UserGravatar": "01acea3b88b789c3d4a884c2acaf8a53",
      "EditableText": "It is an RPG...kinda. It's not meant to be a hack-and-slash. Your six fundamental statistics are meant to be applied to a very wide range of activities. You could go for weeks in-game without seeing a potential enemy. It's mostly meant to be atmospheric. This is the blurb I wrote about it elsewhere: &quot;Domenico is a former merchant who has stepped out of retirement following the death of his wife and is dabbling in illicit maritime activities. The late fifteenth century Amalfi Coast is beautiful, but capricious.&quot;\n\nI'm also considering an alternate display for the combat outcome, where I run the same basic algorithm, but instead of display &quot;you miss/you take x damage&quot; or &quot;he misses/he takes x damage&quot;, it displays &quot;you slash him across the torso&quot; and &quot;he swings and misses&quot; and then shows the endgame dialogue like with the other one but makes a note of how much damage you took in the fight.\n\nYeah, my folks are really proud, but I've stressed over this algorithm and my mom has been telling me the same thing. You're probably right, but I'm really enjoying applying my fledgling coding skills toward something fun.",
      "EditableFormat": "bbcode",
      "HTML": "It is an RPG...kinda. It's not meant to be a hack-and-slash. Your six fundamental statistics are meant to be applied to a very wide range of activities. You could go for weeks in-game without seeing a potential enemy. It's mostly meant to be atmospheric. This is the blurb I wrote about it elsewhere: &quot;Domenico is a former merchant who has stepped out of retirement following the death of his wife and is dabbling in illicit maritime activities. The late fifteenth century Amalfi Coast is beautiful, but capricious.&quot;<br/><br/>I'm also considering an alternate display for the combat outcome, where I run the same basic algorithm, but instead of display &quot;you miss/you take x damage&quot; or &quot;he misses/he takes x damage&quot;, it displays &quot;you slash him across the torso&quot; and &quot;he swings and misses&quot; and then shows the endgame dialogue like with the other one but makes a note of how much damage you took in the fight.<br/><br/>Yeah, my folks are really proud, but I've stressed over this algorithm and my mom has been telling me the same thing. You're probably right, but I'm really enjoying applying my fledgling coding skills toward something fun.",
      "PostDate": "2015-12-25T08:12:07+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "40035",
      "UserId": 0,
      "Username": "HegemonKhan",
      "UserAvatar": null,
      "UserGravatar": "a96cf34d8d97c57de38f54ee22b1759b",
      "EditableText": "ah, I think I see why it's going backwards (HK crosses his fingers):\n\nbecause that is the order that you add the items to your list and~or its due to: your looping + the 'if' scripts conditions:\n\nthe first item you add to your list (which is the left-most item in your list code, and thus also at index: 0):\n\nlist add(player.battleLog,&quot;You bury your dagger in the thrashing shark's head for &quot; + player.damage_roll + &quot; points of damage.&quot;)\n\n[code:mdp3ysjg]msg (&quot;interestingly, this is perfect, but it goes backwards&quot;)\nshark&#46;armor_class = 8\nshark&#46;hit_die = &quot;1d4&quot;\nshark&#46;hit_points = 8 + DiceRoll(&quot;1d4&quot;)\nplayer&#46;armor_class = 10 + player&#46;dexterity\nturn_max = DiceRoll(&quot;1d6&quot;)\nplayer&#46;turn_num = 1\nfor (1, 1, turn_max, 1) {\n  player&#46;attack_roll = DiceRoll(&quot;1d20&quot;) + player&#46;dexterity\n  player&#46;damage_roll = DiceRoll(&quot;1d3&quot;) + player&#46;dexterity\n  shark&#46;attack_roll = DiceRoll(&quot;1d20&quot;)\n  shark&#46;damage_roll = DiceRoll(shark&#46;hit_die)\n  if ((player&#46;hit_points&gt;0) and (shark&#46;hit_points&gt;0)) {\n    if (player&#46;attack_roll &gt; shark&#46;armor_class-1) {\n     list add(player&#46;battleLog,&quot;You bury your dagger in the thrashing shark's head for &quot; + player&#46;damage_roll + &quot; points of damage&#46;&quot;)[/code:mdp3ysjg]\n\nthe second item you add to your list (which is the second left-most item in your list code, and thus also at index: 1):\n\nlist add(player.battleLog,&quot;Baring your teeth, now more angry than frightened, you withdraw your blade and stab down again as the shark's movements become sluggish. You slash indiscriminately, abandoning tactics, venting your rage, and your assailant jerks twice, then drifts to the bottom, trailing a billowing red cloud behind it. You surface and scream in pain and triumph.&quot;)\n\n[code:mdp3ysjg]msg (&quot;interestingly, this is perfect, but it goes backwards&quot;)\nshark&#46;armor_class = 8\nshark&#46;hit_die = &quot;1d4&quot;\nshark&#46;hit_points = 8 + DiceRoll(&quot;1d4&quot;)\nplayer&#46;armor_class = 10 + player&#46;dexterity\nturn_max = DiceRoll(&quot;1d6&quot;)\nplayer&#46;turn_num = 1\nfor (1, 1, turn_max, 1) {\n  player&#46;attack_roll = DiceRoll(&quot;1d20&quot;) + player&#46;dexterity\n  player&#46;damage_roll = DiceRoll(&quot;1d3&quot;) + player&#46;dexterity\n  shark&#46;attack_roll = DiceRoll(&quot;1d20&quot;)\n  shark&#46;damage_roll = DiceRoll(shark&#46;hit_die)\n  if ((player&#46;hit_points&gt;0) and (shark&#46;hit_points&gt;0)) {\n    if (player&#46;attack_roll &gt; shark&#46;armor_class-1) {\n     list add(player&#46;battleLog,&quot;You bury your dagger in the thrashing shark's head for &quot; + player&#46;damage_roll + &quot; points of damage&#46;&quot;)\n      SetTimeout (5*player&#46;turn_num) {\n     player&#46;turn_num = player&#46;turn_num - 1\n      msg(StringListItem (player&#46;battleLog, player&#46;turn_num))\n      }\n      shark&#46;hit_points = shark&#46;hit_points - player&#46;damage_roll\n      player&#46;turn_num = player&#46;turn_num + 1\n      if (shark&#46;hit_points &lt; 1) {\n     list add(player&#46;battleLog,&quot;Baring your teeth, now more angry than frightened, you withdraw your blade and stab down again as the shark's movements become sluggish&#46; You slash indiscriminately, abandoning tactics, venting your rage, and your assailant jerks twice, then drifts to the bottom, trailing a billowing red cloud behind it&#46; You surface and scream in pain and triumph&#46;&quot;)[/code:mdp3ysjg]\n\nand your first output is the second item added to your list:\n\nBaring your teeth, now more angry than frightened, you withdraw your blade and stab down again as the shark's movements become sluggish. You slash indiscriminately, abandoning tactics, venting your rage, and your assailant jerks twice, then drifts to the bottom, trailing a billowing red cloud behind it. You surface and scream in pain and triumph.\n\n-------------\n\nP.S.\n\ntell me about it... I've worked on algorithms for like months! so NOT fun being a noob coder, lol. I literally have to think so hard, that I get actual headaches~migraines, in trying to figure out the logic~algorithm needed for it to work (and I don't always succeed as well, argh). I've never had to use my brain so hard before in my life, sighs. I wish I was a programming genius and all of this stuff is &quot;child's play&quot;, but I'm not, sighs. I'm lucky if I can get an algorithm figured out and working in only 8 hrs, laughs.\n\n------------\n\nP.S.S.\n\nawesome reference to Wile E. Coyote, I LOVE that cartoon, and I like the coyote, we're both smart-nerds, and I love his crazy+inventive ideas, laughs. I root-cheer for him, I want him to get the road runner, laughs. Of course, the cartoon never lets him succeed (also failure~struggle is something I'm familiar with), which endears him further to me (Wile E. Coyote == crazy ideas, brains~smart, and fails~struggles == HK, laughs). Wile E. Coyote is (one of) my favorite cartoon character(s).\n\nawesome game:\n\n<!-- m --><a class=\"postlink\" href=\"http://www.gamefaqs.com/snes/588618-road-runners-death-valley-rally\">http://www.gamefaqs.com/snes/588618-roa ... lley-rally</a><!-- m -->\n\n<!-- m --><a class=\"postlink\" href=\"http://www.gamefaqs.com/snes/588618-road-runners-death-valley-rally/videos/126379\">http://www.gamefaqs.com/snes/588618-roa ... eos/126379</a><!-- m --> (vid of game)\n\nbut REALLY REALLY hard, due to the Roadrunner's speed (you play as the road runner - it's like the sega sonic the hedge hog games but this game has inertia the road runner can't change acceleration+velocity easily, unlike sonic in the sega game - if I remember right, lol)... laughs.",
      "EditableFormat": "bbcode",
      "HTML": "ah, I think I see why it's going backwards (HK crosses his fingers):<br/><br/>because that is the order that you add the items to your list and~or its due to: your looping + the 'if' scripts conditions:<br/><br/>the first item you add to your list (which is the left-most item in your list code, and thus also at index: 0):<br/><br/>list add(player.battleLog,&quot;You bury your dagger in the thrashing shark's head for &quot; + player.damage_roll + &quot; points of damage.&quot;)<br/><br/><pre><code>msg (&quot;interestingly, this is perfect, but it goes backwards&quot;)<br/>shark&#46;armor_class = 8<br/>shark&#46;hit_die = &quot;1d4&quot;<br/>shark&#46;hit_points = 8 + DiceRoll(&quot;1d4&quot;)<br/>player&#46;armor_class = 10 + player&#46;dexterity<br/>turn_max = DiceRoll(&quot;1d6&quot;)<br/>player&#46;turn_num = 1<br/>for (1, 1, turn_max, 1) {<br/>  player&#46;attack_roll = DiceRoll(&quot;1d20&quot;) + player&#46;dexterity<br/>  player&#46;damage_roll = DiceRoll(&quot;1d3&quot;) + player&#46;dexterity<br/>  shark&#46;attack_roll = DiceRoll(&quot;1d20&quot;)<br/>  shark&#46;damage_roll = DiceRoll(shark&#46;hit_die)<br/>  if ((player&#46;hit_points&gt;0) and (shark&#46;hit_points&gt;0)) {<br/>    if (player&#46;attack_roll &gt; shark&#46;armor_class-1) {<br/>     list add(player&#46;battleLog,&quot;You bury your dagger in the thrashing shark's head for &quot; + player&#46;damage_roll + &quot; points of damage&#46;&quot;)</code></pre><br/><br/>the second item you add to your list (which is the second left-most item in your list code, and thus also at index: 1):<br/><br/>list add(player.battleLog,&quot;Baring your teeth, now more angry than frightened, you withdraw your blade and stab down again as the shark's movements become sluggish. You slash indiscriminately, abandoning tactics, venting your rage, and your assailant jerks twice, then drifts to the bottom, trailing a billowing red cloud behind it. You surface and scream in pain and triumph.&quot;)<br/><br/><pre><code>msg (&quot;interestingly, this is perfect, but it goes backwards&quot;)<br/>shark&#46;armor_class = 8<br/>shark&#46;hit_die = &quot;1d4&quot;<br/>shark&#46;hit_points = 8 + DiceRoll(&quot;1d4&quot;)<br/>player&#46;armor_class = 10 + player&#46;dexterity<br/>turn_max = DiceRoll(&quot;1d6&quot;)<br/>player&#46;turn_num = 1<br/>for (1, 1, turn_max, 1) {<br/>  player&#46;attack_roll = DiceRoll(&quot;1d20&quot;) + player&#46;dexterity<br/>  player&#46;damage_roll = DiceRoll(&quot;1d3&quot;) + player&#46;dexterity<br/>  shark&#46;attack_roll = DiceRoll(&quot;1d20&quot;)<br/>  shark&#46;damage_roll = DiceRoll(shark&#46;hit_die)<br/>  if ((player&#46;hit_points&gt;0) and (shark&#46;hit_points&gt;0)) {<br/>    if (player&#46;attack_roll &gt; shark&#46;armor_class-1) {<br/>     list add(player&#46;battleLog,&quot;You bury your dagger in the thrashing shark's head for &quot; + player&#46;damage_roll + &quot; points of damage&#46;&quot;)<br/>      SetTimeout (5*player&#46;turn_num) {<br/>     player&#46;turn_num = player&#46;turn_num - 1<br/>      msg(StringListItem (player&#46;battleLog, player&#46;turn_num))<br/>      }<br/>      shark&#46;hit_points = shark&#46;hit_points - player&#46;damage_roll<br/>      player&#46;turn_num = player&#46;turn_num + 1<br/>      if (shark&#46;hit_points &lt; 1) {<br/>     list add(player&#46;battleLog,&quot;Baring your teeth, now more angry than frightened, you withdraw your blade and stab down again as the shark's movements become sluggish&#46; You slash indiscriminately, abandoning tactics, venting your rage, and your assailant jerks twice, then drifts to the bottom, trailing a billowing red cloud behind it&#46; You surface and scream in pain and triumph&#46;&quot;)</code></pre><br/><br/>and your first output is the second item added to your list:<br/><br/>Baring your teeth, now more angry than frightened, you withdraw your blade and stab down again as the shark's movements become sluggish. You slash indiscriminately, abandoning tactics, venting your rage, and your assailant jerks twice, then drifts to the bottom, trailing a billowing red cloud behind it. You surface and scream in pain and triumph.<br/><br/>-------------<br/><br/>P.S.<br/><br/>tell me about it... I've worked on algorithms for like months! so NOT fun being a noob coder, lol. I literally have to think so hard, that I get actual headaches~migraines, in trying to figure out the logic~algorithm needed for it to work (and I don't always succeed as well, argh). I've never had to use my brain so hard before in my life, sighs. I wish I was a programming genius and all of this stuff is &quot;child's play&quot;, but I'm not, sighs. I'm lucky if I can get an algorithm figured out and working in only 8 hrs, laughs.<br/><br/>------------<br/><br/>P.S.S.<br/><br/>awesome reference to Wile E. Coyote, I LOVE that cartoon, and I like the coyote, we're both smart-nerds, and I love his crazy+inventive ideas, laughs. I root-cheer for him, I want him to get the road runner, laughs. Of course, the cartoon never lets him succeed (also failure~struggle is something I'm familiar with), which endears him further to me (Wile E. Coyote == crazy ideas, brains~smart, and fails~struggles == HK, laughs). Wile E. Coyote is (one of) my favorite cartoon character(s).<br/><br/>awesome game:<br/><br/><!-- m --><a class=\"postlink\" href=\"http://www.gamefaqs.com/snes/588618-road-runners-death-valley-rally\">http://www.gamefaqs.com/snes/588618-roa ... lley-rally</a><!-- m --><br/><br/><!-- m --><a class=\"postlink\" href=\"http://www.gamefaqs.com/snes/588618-road-runners-death-valley-rally/videos/126379\">http://www.gamefaqs.com/snes/588618-roa ... eos/126379</a><!-- m --> (vid of game)<br/><br/>but REALLY REALLY hard, due to the Roadrunner's speed (you play as the road runner - it's like the sega sonic the hedge hog games but this game has inertia the road runner can't change acceleration+velocity easily, unlike sonic in the sega game - if I remember right, lol)... laughs.",
      "PostDate": "2015-12-25T08:27:55+00:00",
      "LastEditDate": null
    }
  ]
}
