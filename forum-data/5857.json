{
  "Topic": {
    "TopicId": "5857",
    "ForumId": "10",
    "Title": "[SOLVED]Looping a day + use of Boolean att.",
    "LastUpdated": "2016-01-12T20:37:57+00:00",
    "ReplyCount": 13
  },
  "Posts": [
    {
      "PostId": "40474",
      "UserId": 0,
      "Username": "XanMag",
      "UserAvatar": "7161_1436827710.jpg",
      "UserGravatar": "4b45a3afd18077f76f6569225c422bdb",
      "EditableText": "I realize you are all probably annoyed with me right now, but trust me, I'm trying to figure this out and I can't!\n\nI want to loop a day.  I have morning, noon, afternoon, dusk, evening, midnight, and dawn - each taking fifteen turns a piece.\n\nI want to be able to loop back from dawn to morning and repeat the cycle.  \n\nI'm guessing it is somewhere in the &quot;For&quot; each script and loop variable?\n\nThanks.",
      "EditableFormat": "bbcode",
      "HTML": "I realize you are all probably annoyed with me right now, but trust me, I'm trying to figure this out and I can't!<br/><br/>I want to loop a day.  I have morning, noon, afternoon, dusk, evening, midnight, and dawn - each taking fifteen turns a piece.<br/><br/>I want to be able to loop back from dawn to morning and repeat the cycle.  <br/><br/>I'm guessing it is somewhere in the &quot;For&quot; each script and loop variable?<br/><br/>Thanks.",
      "PostDate": "2016-01-11T19:29:57+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "40478",
      "UserId": 0,
      "Username": "HegemonKhan",
      "UserAvatar": null,
      "UserGravatar": "a96cf34d8d97c57de38f54ee22b1759b",
      "EditableText": "since you mention them being based upon 15 turns each, here's just one way (out of many) of doing it:\n\n[code:28ggi4vx]&lt;turnscript name=&quot;global_turnscript&quot;&gt;\n  &lt;enabled /&gt;\n  &lt;script&gt;\n    hour_string_function\n    // mass code of everything you else you want to do in your turn goes here\n    game&#46;turns = game&#46;turns + 1\n  &lt;/script&gt;\n&lt;/turnscript&gt;\n\n&lt;function name=&quot;hour_string_function&quot;&gt;\n  if (game&#46;turns &lt;= 0 or game&#46;turns &gt; 105) {\n    game&#46;turns = 1\n  }\n  if (game&#46;turns &gt; 0 and game&#46;turns &lt;= 15) {\n    game&#46;hour_string = &quot;morning&quot;\n  } else if (game&#46;turns &gt; 15 and game&#46;turns &lt;= 30) {\n    game&#46;hour_string = &quot;noon&quot;\n  } else if (game&#46;turns &gt; 30 and game&#46;turns &lt;= 45) {\n    game&#46;hour_string = &quot;afternoon&quot;\n  } else if (game&#46;turns &gt; 45 and game&#46;turns &lt;= 60) {\n    game&#46;hour_string = &quot;dusk&quot;\n  } else if (game&#46;turns &gt; 60 and game&#46;turns &lt;= 75) {\n    game&#46;hour_string = &quot;evening&quot;\n  } else if (game&#46;turns &gt; 75 and game&#46;turns &lt;= 90) {\n    game&#46;hour_string = &quot;midnight&quot;\n  } else if (game&#46;turns &gt; 90 and game&#46;turns &lt;= 105) {\n    game&#46;hour_string = &quot;dawn&quot;\n  }\n&lt;/function&gt;\n\n&lt;game name=&quot;xxx&quot;&gt;\n  &lt;attr name=&quot;turns&quot; type=&quot;int&quot;&gt;1&lt;/attr&gt;\n  &lt;attr name=&quot;hour_string&quot; type=&quot;string&quot;&gt;morning&lt;/attr&gt;\n  &lt;statusattributes type=&quot;simplestringdictionary&quot;&gt;turns = Turn&#58; !; hour_string = Hour String&#58; !&lt;/statusattributes&gt;\n&lt;/game&gt;[/code:28ggi4vx]",
      "EditableFormat": "bbcode",
      "HTML": "since you mention them being based upon 15 turns each, here's just one way (out of many) of doing it:<br/><br/><pre><code>&lt;turnscript name=&quot;global_turnscript&quot;&gt;<br/>  &lt;enabled /&gt;<br/>  &lt;script&gt;<br/>    hour_string_function<br/>    // mass code of everything you else you want to do in your turn goes here<br/>    game&#46;turns = game&#46;turns + 1<br/>  &lt;/script&gt;<br/>&lt;/turnscript&gt;<br/><br/>&lt;function name=&quot;hour_string_function&quot;&gt;<br/>  if (game&#46;turns &lt;= 0 or game&#46;turns &gt; 105) {<br/>    game&#46;turns = 1<br/>  }<br/>  if (game&#46;turns &gt; 0 and game&#46;turns &lt;= 15) {<br/>    game&#46;hour_string = &quot;morning&quot;<br/>  } else if (game&#46;turns &gt; 15 and game&#46;turns &lt;= 30) {<br/>    game&#46;hour_string = &quot;noon&quot;<br/>  } else if (game&#46;turns &gt; 30 and game&#46;turns &lt;= 45) {<br/>    game&#46;hour_string = &quot;afternoon&quot;<br/>  } else if (game&#46;turns &gt; 45 and game&#46;turns &lt;= 60) {<br/>    game&#46;hour_string = &quot;dusk&quot;<br/>  } else if (game&#46;turns &gt; 60 and game&#46;turns &lt;= 75) {<br/>    game&#46;hour_string = &quot;evening&quot;<br/>  } else if (game&#46;turns &gt; 75 and game&#46;turns &lt;= 90) {<br/>    game&#46;hour_string = &quot;midnight&quot;<br/>  } else if (game&#46;turns &gt; 90 and game&#46;turns &lt;= 105) {<br/>    game&#46;hour_string = &quot;dawn&quot;<br/>  }<br/>&lt;/function&gt;<br/><br/>&lt;game name=&quot;xxx&quot;&gt;<br/>  &lt;attr name=&quot;turns&quot; type=&quot;int&quot;&gt;1&lt;/attr&gt;<br/>  &lt;attr name=&quot;hour_string&quot; type=&quot;string&quot;&gt;morning&lt;/attr&gt;<br/>  &lt;statusattributes type=&quot;simplestringdictionary&quot;&gt;turns = Turn&#58; !; hour_string = Hour String&#58; !&lt;/statusattributes&gt;<br/>&lt;/game&gt;</code></pre>",
      "PostDate": "2016-01-11T20:20:48+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "40479",
      "UserId": 0,
      "Username": "jaynabonne",
      "UserAvatar": "6579_1344778256.jpg",
      "UserGravatar": "379859a7f1952a65399fc63997e68f0b",
      "EditableText": "Here is a way to do it (game is attached as well). Only the pertinent bits are shown:\n\n[code:13bv41fj]  &lt;game name=&quot;daytest&quot;&gt;\n    &lt;timesOfDay type=&quot;stringlist&quot;&gt;\n      &lt;value&gt;morning&lt;/value&gt;\n      &lt;value&gt;noon&lt;/value&gt;\n      &lt;value&gt;afternoon&lt;/value&gt;\n      &lt;value&gt;dusk&lt;/value&gt;\n      &lt;value&gt;evening&lt;/value&gt;\n      &lt;value&gt;midnight&lt;/value&gt;\n      &lt;value&gt;dawn&lt;/value&gt;\n    &lt;/timesOfDay&gt;\n    &lt;timeOfDayCounter type=&quot;int&quot;&gt;0&lt;/timeOfDayCounter&gt;\n  &lt;/game&gt;\n\n  &lt;turnscript name=&quot;time of day&quot;&gt;\n    &lt;enabled /&gt;\n    &lt;script&gt;\n      timesCount = ListCount(game&#46;timesOfDay)\n      \n      msg(&quot;It is &quot; + StringListItem(game&#46;timesOfDay, (game&#46;timeOfDayCounter/15) % timesCount) + &quot;&#46;&quot;)\n\n      game&#46;timeOfDayCounter = game&#46;timeOfDayCounter + 1\n    &lt;/script&gt;\n  &lt;/turnscript&gt;[/code:13bv41fj]\n\nDividing the counter by 15 (or however many steps you want) gives you the index, since it truncates. 0-14 -&gt; 0, 15-29 -&gt; 1, etc. You need to do the &quot;%&quot; (mod) to keep the index from running off the end of the list. It makes the index wrap back to zero when it goes off the end.",
      "EditableFormat": "bbcode",
      "HTML": "Here is a way to do it (game is attached as well). Only the pertinent bits are shown:<br/><br/><pre><code>  &lt;game name=&quot;daytest&quot;&gt;<br/>    &lt;timesOfDay type=&quot;stringlist&quot;&gt;<br/>      &lt;value&gt;morning&lt;/value&gt;<br/>      &lt;value&gt;noon&lt;/value&gt;<br/>      &lt;value&gt;afternoon&lt;/value&gt;<br/>      &lt;value&gt;dusk&lt;/value&gt;<br/>      &lt;value&gt;evening&lt;/value&gt;<br/>      &lt;value&gt;midnight&lt;/value&gt;<br/>      &lt;value&gt;dawn&lt;/value&gt;<br/>    &lt;/timesOfDay&gt;<br/>    &lt;timeOfDayCounter type=&quot;int&quot;&gt;0&lt;/timeOfDayCounter&gt;<br/>  &lt;/game&gt;<br/><br/>  &lt;turnscript name=&quot;time of day&quot;&gt;<br/>    &lt;enabled /&gt;<br/>    &lt;script&gt;<br/>      timesCount = ListCount(game&#46;timesOfDay)<br/>      <br/>      msg(&quot;It is &quot; + StringListItem(game&#46;timesOfDay, (game&#46;timeOfDayCounter/15) % timesCount) + &quot;&#46;&quot;)<br/><br/>      game&#46;timeOfDayCounter = game&#46;timeOfDayCounter + 1<br/>    &lt;/script&gt;<br/>  &lt;/turnscript&gt;</code></pre><br/><br/>Dividing the counter by 15 (or however many steps you want) gives you the index, since it truncates. 0-14 -&gt; 0, 15-29 -&gt; 1, etc. You need to do the &quot;%&quot; (mod) to keep the index from running off the end of the list. It makes the index wrap back to zero when it goes off the end.<div><a href=\"/attachment/1452\">daytest.aslx</a></div>",
      "PostDate": "2016-01-11T20:27:18+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "40480",
      "UserId": 0,
      "Username": "jaynabonne",
      "UserAvatar": "6579_1344778256.jpg",
      "UserGravatar": "379859a7f1952a65399fc63997e68f0b",
      "EditableText": "HK, in case it helps, you can simplify your code slightly (and I'll ignore the other simplification of keeping it zero-based instead of one-based):\n\n[code:1wyzfbkj]\n  if (game&#46;turns &lt;= 15) {\n    game&#46;hour_string = &quot;morning&quot;\n  } else if (game&#46;turns &lt;= 30) {\n    game&#46;hour_string = &quot;noon&quot;\n  } else if (game&#46;turns &lt;= 45) {\n    game&#46;hour_string = &quot;afternoon&quot;\n  } else if (game&#46;turns &lt;= 60) {\n    game&#46;hour_string = &quot;dusk&quot;\n  } else if (game&#46;turns &lt;= 75) {\n    game&#46;hour_string = &quot;evening&quot;\n  } else if (game&#46;turns &lt;= 90) {\n    game&#46;hour_string = &quot;midnight&quot;\n  } else {\n    game&#46;hour_string = &quot;dawn&quot;\n  }[/code:1wyzfbkj]\nYou know game.turns will always be greater than 0. So you don't need to check for it. Similarly, once you've established in the first &quot;if&quot; that it's not &lt;= 15, there is no need to check for greater than 15 in the next &quot;if&quot;. And so on. And the last else doesn't even need an &quot;if&quot;. You're already keeping the game turns within bounds. All it can be at that point is &quot;dusk&quot;.",
      "EditableFormat": "bbcode",
      "HTML": "HK, in case it helps, you can simplify your code slightly (and I'll ignore the other simplification of keeping it zero-based instead of one-based):<br/><br/><pre><code><br/>  if (game&#46;turns &lt;= 15) {<br/>    game&#46;hour_string = &quot;morning&quot;<br/>  } else if (game&#46;turns &lt;= 30) {<br/>    game&#46;hour_string = &quot;noon&quot;<br/>  } else if (game&#46;turns &lt;= 45) {<br/>    game&#46;hour_string = &quot;afternoon&quot;<br/>  } else if (game&#46;turns &lt;= 60) {<br/>    game&#46;hour_string = &quot;dusk&quot;<br/>  } else if (game&#46;turns &lt;= 75) {<br/>    game&#46;hour_string = &quot;evening&quot;<br/>  } else if (game&#46;turns &lt;= 90) {<br/>    game&#46;hour_string = &quot;midnight&quot;<br/>  } else {<br/>    game&#46;hour_string = &quot;dawn&quot;<br/>  }</code></pre><br/>You know game.turns will always be greater than 0. So you don't need to check for it. Similarly, once you've established in the first &quot;if&quot; that it's not &lt;= 15, there is no need to check for greater than 15 in the next &quot;if&quot;. And so on. And the last else doesn't even need an &quot;if&quot;. You're already keeping the game turns within bounds. All it can be at that point is &quot;dusk&quot;.",
      "PostDate": "2016-01-11T20:32:08+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "40482",
      "UserId": 0,
      "Username": "XanMag",
      "UserAvatar": "7161_1436827710.jpg",
      "UserGravatar": "4b45a3afd18077f76f6569225c422bdb",
      "EditableText": "Okay.  So I got impatient.  What I did was below and you can tell me if there's an easy fix or if I should scrap it and start anew...\n\nI have an object in the game tab called 'twentyfourhours' and gave it an integer attribute called 'HoursCount' and set it at 105.\n\nI have a changedHoursCount attribute as well.  I added a script to that --&gt; If object attribute equals 1, then... If 'inside' print message, Else print message.  I set a changed script at 15, 30, 45, 60, 75, 90, and 105.  I have an 'If' nested in there because I want a different message to appear at those turns.  I also raise a flag in there as well to add a random chance event at different times of day.\n\nI created a turnscript... that looks like this:  twentyfourhours.HoursCount = twentyfourhours.HoursCount + 1\n\nLet me know if I can alter this simply and keep it as is or if I should scrap it and go with your proposal.  Of course, I would need to reset the counter after turn 105, but that can't be too hard, right?  I appreciate your helps!\n\nBelow is the code for it if you need to check it out.\n\nThe twentyfourhours changedHoursCount code:\n\n[code:1rym79gi]if (twentyfourhours&#46;HoursCount = 1) {\n  if (GetBoolean(Xanadu, &quot;inside&quot;)) {\n    msg (&quot;Even being inside, you can tell that the morning sun has risen in the sky&#46;  The air in here is noticeably warmer&#46;&quot;)\n    SetObjectFlagOff (twentyfourhours, &quot;morning&quot;)\n    SetObjectFlagOn (twentyfourhours, &quot;noon&quot;)\n  }\n  else {\n    msg (&quot;The shadows have grown shorter and the sun hangs directly over your head&#46;  It's hot out here&#46;&quot;)\n    SetObjectFlagOff (twentyfourhours, &quot;morning&quot;)\n    SetObjectFlagOn (twentyfourhours, &quot;noon&quot;)\n  }\n}\nelse if (twentyfourhours&#46;HoursCount = 30) {\n  if (GetBoolean(Xanadu, &quot;inside&quot;)) {\n    msg (&quot;It's still hot, but the heat seems to be fading a bit in here and a breeze gently brushes the walls outside&#46;&quot;)\n    SetObjectFlagOff (twentyfourhours, &quot;noon&quot;)\n    SetObjectFlagOn (twentyfourhours, &quot;afternoon&quot;)\n  }\n  else {\n    msg (&quot;You have noticed the shadows have grown longer and a slight breeze gives reprieve to your hot skin&#46;&quot;)\n    SetObjectFlagOff (twentyfourhours, &quot;noon&quot;)\n    SetObjectFlagOn (twentyfourhours, &quot;afternoon&quot;)\n  }\n}\nelse if (twentyfourhours&#46;HoursCount = 45) {\n  if (GetBoolean(Xanadu, &quot;inside&quot;)) {\n    msg (&quot;The light in the room seems to be retreating&#46;  The shadows grow darker and the room colder&#46;&quot;)\n    SetObjectFlagOff (twentyfourhours, &quot;afternoon&quot;)\n    SetObjectFlagOn (twentyfourhours, &quot;dusk&quot;)\n  }\n  else {\n    msg (&quot;The sun is shrinking on the horizon and the once bright sky is rapidly darkening&#46;   A chill is ushered in by a whistling wind&#46;&quot;)\n    SetObjectFlagOff (twentyfourhours, &quot;afternoon&quot;)\n    SetObjectFlagOn (twentyfourhours, &quot;dusk&quot;)\n  }\n}\nelse if (twentyfourhours&#46;HoursCount = 60) {\n  if (GetBoolean(Xanadu, &quot;inside&quot;)) {\n    msg (&quot;The room has grown quite cold&#46;  Despite the growing darkness in the room, you can see a cloud of microscopic water crystals every time you exhale&#46;&quot;)\n    SetObjectFlagOff (twentyfourhours, &quot;dusk&quot;)\n    SetObjectFlagOn (twentyfourhours, &quot;evening&quot;)\n  }\n  else {\n    msg (&quot;The sun has fully retreated leaving the dark sky and their stars to keep you company&#46;  It is quite chilly out here now&#46;&quot;)\n    SetObjectFlagOff (twentyfourhours, &quot;dusk&quot;)\n    SetObjectFlagOn (twentyfourhours, &quot;evening&quot;)\n  }\n}\nelse if (twentyfourhours&#46;HoursCount = 75) {\n  if (GetBoolean(Xanadu, &quot;inside&quot;)) {\n    SetObjectFlagOff (twentyfourhours, &quot;evening&quot;)\n    SetObjectFlagOn (twentyfourhours, &quot;midnight&quot;)\n    SetObjectFlagOn (twentyfourhours, &quot;dark&quot;)\n    if (GetBoolean(Xanadu, &quot;light&quot;)) {\n      msg (&quot;The darkness in the room would be absolute now if it wasn't for your light source&#46;  Your light, however, does nothing for the bitter cold&#46;&quot;)\n    }\n    else {\n      msg (&quot;The moonlight offers insufficient light&#46;  It is now pitch black in here&#46;  If you have a lightsource, you better get to using it&#46;&quot;)\n    }\n  }\n  else {\n    msg (&quot;It is uncomfortably cold now and the only light you can use to travel by is supplied by the moon and the faint stars overhead&#46;&quot;)\n    SetObjectFlagOff (twentyfourhours, &quot;evening&quot;)\n    SetObjectFlagOn (twentyfourhours, &quot;midnight&quot;)\n  }\n}\nelse if (twentyfourhours&#46;HoursCount = 90) {\n  if (GetBoolean(Xanadu, &quot;inside&quot;)) {\n    msg (&quot;The room brightens a bit and warmth begins to return to the air&#46;&quot;)\n    SetObjectFlagOff (twentyfourhours, &quot;midnight&quot;)\n    SetObjectFlagOn (twentyfourhours, &quot;dawn&quot;)\n    SetObjectFlagOff (twentyfourhours, &quot;dark&quot;)\n  }\n  else {\n    msg (&quot;The warming sun has peaked over the horizon and its light casts long shadow across the ground&#46;&quot;)\n    SetObjectFlagOff (twentyfourhours, &quot;midnight&quot;)\n    SetObjectFlagOn (twentyfourhours, &quot;dawn&quot;)\n    SetObjectFlagOff (twentyfourhours, &quot;dark&quot;)\n  }\n}\nelse if (twentyfourhours&#46;HoursCount = 105) {\n  if (GetBoolean(Xanadu, &quot;inside&quot;)) {\n    msg (&quot;The room has become a little brighter and warmer&#46;&quot;)\n    SetObjectFlagOff (twentyfourhours, &quot;dawn&quot;)\n    SetObjectFlagOn (twentyfourhours, &quot;morning&quot;)\n  }\n  else {\n    msg (&quot;Thankfully, the stars have become invisible, the winds subsided, and the air has warmed&#46;&quot;)\n    SetObjectFlagOff (twentyfourhours, &quot;dawn&quot;)\n    SetObjectFlagOn (twentyfourhours, &quot;morning&quot;)\n  }\n}\nelse if (twentyfourhours&#46;HoursCount = 15) {\n  if (GetBoolean(Xanadu, &quot;inside&quot;)) {\n    msg (&quot;It's still hot, but the heat seems to be fading a bit in here and a breeze gently brushes the walls outside&#46;&quot;)\n    SetObjectFlagOff (twentyfourhours, &quot;noon&quot;)\n    SetObjectFlagOn (twentyfourhours, &quot;afternoon&quot;)\n  }\n  else {\n    msg (&quot;You have noticed the shadows have grown longer and a slight breeze gives reprieve to your hot skin&#46;&quot;)\n    SetObjectFlagOff (twentyfourhours, &quot;noon&quot;)\n    SetObjectFlagOn (twentyfourhours, &quot;afternoon&quot;)\n  }\n}[/code:1rym79gi]\n\nAnd the TS code that is supposed to add one to the HoursCount attribute each time:\n\n[code:1rym79gi]twentyfourhours&#46;HoursCount = twentyfourhours&#46;HoursCount + 1[/code:1rym79gi]",
      "EditableFormat": "bbcode",
      "HTML": "Okay.  So I got impatient.  What I did was below and you can tell me if there's an easy fix or if I should scrap it and start anew...<br/><br/>I have an object in the game tab called 'twentyfourhours' and gave it an integer attribute called 'HoursCount' and set it at 105.<br/><br/>I have a changedHoursCount attribute as well.  I added a script to that --&gt; If object attribute equals 1, then... If 'inside' print message, Else print message.  I set a changed script at 15, 30, 45, 60, 75, 90, and 105.  I have an 'If' nested in there because I want a different message to appear at those turns.  I also raise a flag in there as well to add a random chance event at different times of day.<br/><br/>I created a turnscript... that looks like this:  twentyfourhours.HoursCount = twentyfourhours.HoursCount + 1<br/><br/>Let me know if I can alter this simply and keep it as is or if I should scrap it and go with your proposal.  Of course, I would need to reset the counter after turn 105, but that can't be too hard, right?  I appreciate your helps!<br/><br/>Below is the code for it if you need to check it out.<br/><br/>The twentyfourhours changedHoursCount code:<br/><br/><pre><code>if (twentyfourhours&#46;HoursCount = 1) {<br/>  if (GetBoolean(Xanadu, &quot;inside&quot;)) {<br/>    msg (&quot;Even being inside, you can tell that the morning sun has risen in the sky&#46;  The air in here is noticeably warmer&#46;&quot;)<br/>    SetObjectFlagOff (twentyfourhours, &quot;morning&quot;)<br/>    SetObjectFlagOn (twentyfourhours, &quot;noon&quot;)<br/>  }<br/>  else {<br/>    msg (&quot;The shadows have grown shorter and the sun hangs directly over your head&#46;  It's hot out here&#46;&quot;)<br/>    SetObjectFlagOff (twentyfourhours, &quot;morning&quot;)<br/>    SetObjectFlagOn (twentyfourhours, &quot;noon&quot;)<br/>  }<br/>}<br/>else if (twentyfourhours&#46;HoursCount = 30) {<br/>  if (GetBoolean(Xanadu, &quot;inside&quot;)) {<br/>    msg (&quot;It's still hot, but the heat seems to be fading a bit in here and a breeze gently brushes the walls outside&#46;&quot;)<br/>    SetObjectFlagOff (twentyfourhours, &quot;noon&quot;)<br/>    SetObjectFlagOn (twentyfourhours, &quot;afternoon&quot;)<br/>  }<br/>  else {<br/>    msg (&quot;You have noticed the shadows have grown longer and a slight breeze gives reprieve to your hot skin&#46;&quot;)<br/>    SetObjectFlagOff (twentyfourhours, &quot;noon&quot;)<br/>    SetObjectFlagOn (twentyfourhours, &quot;afternoon&quot;)<br/>  }<br/>}<br/>else if (twentyfourhours&#46;HoursCount = 45) {<br/>  if (GetBoolean(Xanadu, &quot;inside&quot;)) {<br/>    msg (&quot;The light in the room seems to be retreating&#46;  The shadows grow darker and the room colder&#46;&quot;)<br/>    SetObjectFlagOff (twentyfourhours, &quot;afternoon&quot;)<br/>    SetObjectFlagOn (twentyfourhours, &quot;dusk&quot;)<br/>  }<br/>  else {<br/>    msg (&quot;The sun is shrinking on the horizon and the once bright sky is rapidly darkening&#46;   A chill is ushered in by a whistling wind&#46;&quot;)<br/>    SetObjectFlagOff (twentyfourhours, &quot;afternoon&quot;)<br/>    SetObjectFlagOn (twentyfourhours, &quot;dusk&quot;)<br/>  }<br/>}<br/>else if (twentyfourhours&#46;HoursCount = 60) {<br/>  if (GetBoolean(Xanadu, &quot;inside&quot;)) {<br/>    msg (&quot;The room has grown quite cold&#46;  Despite the growing darkness in the room, you can see a cloud of microscopic water crystals every time you exhale&#46;&quot;)<br/>    SetObjectFlagOff (twentyfourhours, &quot;dusk&quot;)<br/>    SetObjectFlagOn (twentyfourhours, &quot;evening&quot;)<br/>  }<br/>  else {<br/>    msg (&quot;The sun has fully retreated leaving the dark sky and their stars to keep you company&#46;  It is quite chilly out here now&#46;&quot;)<br/>    SetObjectFlagOff (twentyfourhours, &quot;dusk&quot;)<br/>    SetObjectFlagOn (twentyfourhours, &quot;evening&quot;)<br/>  }<br/>}<br/>else if (twentyfourhours&#46;HoursCount = 75) {<br/>  if (GetBoolean(Xanadu, &quot;inside&quot;)) {<br/>    SetObjectFlagOff (twentyfourhours, &quot;evening&quot;)<br/>    SetObjectFlagOn (twentyfourhours, &quot;midnight&quot;)<br/>    SetObjectFlagOn (twentyfourhours, &quot;dark&quot;)<br/>    if (GetBoolean(Xanadu, &quot;light&quot;)) {<br/>      msg (&quot;The darkness in the room would be absolute now if it wasn't for your light source&#46;  Your light, however, does nothing for the bitter cold&#46;&quot;)<br/>    }<br/>    else {<br/>      msg (&quot;The moonlight offers insufficient light&#46;  It is now pitch black in here&#46;  If you have a lightsource, you better get to using it&#46;&quot;)<br/>    }<br/>  }<br/>  else {<br/>    msg (&quot;It is uncomfortably cold now and the only light you can use to travel by is supplied by the moon and the faint stars overhead&#46;&quot;)<br/>    SetObjectFlagOff (twentyfourhours, &quot;evening&quot;)<br/>    SetObjectFlagOn (twentyfourhours, &quot;midnight&quot;)<br/>  }<br/>}<br/>else if (twentyfourhours&#46;HoursCount = 90) {<br/>  if (GetBoolean(Xanadu, &quot;inside&quot;)) {<br/>    msg (&quot;The room brightens a bit and warmth begins to return to the air&#46;&quot;)<br/>    SetObjectFlagOff (twentyfourhours, &quot;midnight&quot;)<br/>    SetObjectFlagOn (twentyfourhours, &quot;dawn&quot;)<br/>    SetObjectFlagOff (twentyfourhours, &quot;dark&quot;)<br/>  }<br/>  else {<br/>    msg (&quot;The warming sun has peaked over the horizon and its light casts long shadow across the ground&#46;&quot;)<br/>    SetObjectFlagOff (twentyfourhours, &quot;midnight&quot;)<br/>    SetObjectFlagOn (twentyfourhours, &quot;dawn&quot;)<br/>    SetObjectFlagOff (twentyfourhours, &quot;dark&quot;)<br/>  }<br/>}<br/>else if (twentyfourhours&#46;HoursCount = 105) {<br/>  if (GetBoolean(Xanadu, &quot;inside&quot;)) {<br/>    msg (&quot;The room has become a little brighter and warmer&#46;&quot;)<br/>    SetObjectFlagOff (twentyfourhours, &quot;dawn&quot;)<br/>    SetObjectFlagOn (twentyfourhours, &quot;morning&quot;)<br/>  }<br/>  else {<br/>    msg (&quot;Thankfully, the stars have become invisible, the winds subsided, and the air has warmed&#46;&quot;)<br/>    SetObjectFlagOff (twentyfourhours, &quot;dawn&quot;)<br/>    SetObjectFlagOn (twentyfourhours, &quot;morning&quot;)<br/>  }<br/>}<br/>else if (twentyfourhours&#46;HoursCount = 15) {<br/>  if (GetBoolean(Xanadu, &quot;inside&quot;)) {<br/>    msg (&quot;It's still hot, but the heat seems to be fading a bit in here and a breeze gently brushes the walls outside&#46;&quot;)<br/>    SetObjectFlagOff (twentyfourhours, &quot;noon&quot;)<br/>    SetObjectFlagOn (twentyfourhours, &quot;afternoon&quot;)<br/>  }<br/>  else {<br/>    msg (&quot;You have noticed the shadows have grown longer and a slight breeze gives reprieve to your hot skin&#46;&quot;)<br/>    SetObjectFlagOff (twentyfourhours, &quot;noon&quot;)<br/>    SetObjectFlagOn (twentyfourhours, &quot;afternoon&quot;)<br/>  }<br/>}</code></pre><br/><br/>And the TS code that is supposed to add one to the HoursCount attribute each time:<br/><br/><pre><code>twentyfourhours&#46;HoursCount = twentyfourhours&#46;HoursCount + 1</code></pre>",
      "PostDate": "2016-01-11T21:01:44+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "40485",
      "UserId": 0,
      "Username": "jaynabonne",
      "UserAvatar": "6579_1344778256.jpg",
      "UserGravatar": "379859a7f1952a65399fc63997e68f0b",
      "EditableText": "If you only want a single message when the time of day changes, then what you have is fine!\n\nThe only thing I would do is move the flag management outside the if/else in each time handler. If you look, those two lines are common to the if/else, so if you move them out, you can just have them once after the if/else instead of being duplicated in each:\n\n[code:3h8l7zqs]if (twentyfourhours&#46;HoursCount = 1) {\n  if (GetBoolean(Xanadu, &quot;inside&quot;)) {\n    msg (&quot;Even being inside, you can tell that the morning sun has risen in the sky&#46;  The air in here is noticeably warmer&#46;&quot;)\n  }\n  else {\n    msg (&quot;The shadows have grown shorter and the sun hangs directly over your head&#46;  It's hot out here&#46;&quot;)\n  }\n  SetObjectFlagOff (twentyfourhours, &quot;morning&quot;)\n  SetObjectFlagOn (twentyfourhours, &quot;noon&quot;)\n}[/code:3h8l7zqs]",
      "EditableFormat": "bbcode",
      "HTML": "If you only want a single message when the time of day changes, then what you have is fine!<br/><br/>The only thing I would do is move the flag management outside the if/else in each time handler. If you look, those two lines are common to the if/else, so if you move them out, you can just have them once after the if/else instead of being duplicated in each:<br/><br/><pre><code>if (twentyfourhours&#46;HoursCount = 1) {<br/>  if (GetBoolean(Xanadu, &quot;inside&quot;)) {<br/>    msg (&quot;Even being inside, you can tell that the morning sun has risen in the sky&#46;  The air in here is noticeably warmer&#46;&quot;)<br/>  }<br/>  else {<br/>    msg (&quot;The shadows have grown shorter and the sun hangs directly over your head&#46;  It's hot out here&#46;&quot;)<br/>  }<br/>  SetObjectFlagOff (twentyfourhours, &quot;morning&quot;)<br/>  SetObjectFlagOn (twentyfourhours, &quot;noon&quot;)<br/>}</code></pre>",
      "PostDate": "2016-01-11T21:19:45+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "40486",
      "UserId": 0,
      "Username": "XanMag",
      "UserAvatar": "7161_1436827710.jpg",
      "UserGravatar": "4b45a3afd18077f76f6569225c422bdb",
      "EditableText": "Now that I have the messages working, is there a way that at turn 105, after the last message prints that I reset the counter?  Thanks!",
      "EditableFormat": "bbcode",
      "HTML": "Now that I have the messages working, is there a way that at turn 105, after the last message prints that I reset the counter?  Thanks!",
      "PostDate": "2016-01-11T21:23:19+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "40487",
      "UserId": 0,
      "Username": "jaynabonne",
      "UserAvatar": "6579_1344778256.jpg",
      "UserGravatar": "379859a7f1952a65399fc63997e68f0b",
      "EditableText": "This might work. Add:\n\n[code:wvym5p58]else if (twentyfourhours&#46;HoursCount = 120) {\n    twentyfourhours&#46;HoursCount = 1\n}[/code:wvym5p58]\n\nThe other way to do it (which I think is less clear) is that after you print the last message, you set:\n\n[code:wvym5p58]    twentyfourhours&#46;HoursCount = -14\n[/code:wvym5p58]\nThen 15 ticks later, it will be 1 again.\n\nOr...\n\nChange your turnscript to be:\n\n[code:wvym5p58]twentyfourhours&#46;HoursCount = (twentyfourhours&#46;HoursCount + 1) % 120\n[/code:wvym5p58]\n\n(I hope it's clear that the full cycle is 120 long, 105 + another 15.)",
      "EditableFormat": "bbcode",
      "HTML": "This might work. Add:<br/><br/><pre><code>else if (twentyfourhours&#46;HoursCount = 120) {<br/>    twentyfourhours&#46;HoursCount = 1<br/>}</code></pre><br/><br/>The other way to do it (which I think is less clear) is that after you print the last message, you set:<br/><br/><pre><code>    twentyfourhours&#46;HoursCount = -14<br/></code></pre><br/>Then 15 ticks later, it will be 1 again.<br/><br/>Or...<br/><br/>Change your turnscript to be:<br/><br/><pre><code>twentyfourhours&#46;HoursCount = (twentyfourhours&#46;HoursCount + 1) % 120<br/></code></pre><br/><br/>(I hope it's clear that the full cycle is 120 long, 105 + another 15.)",
      "PostDate": "2016-01-11T21:30:35+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "40493",
      "UserId": 0,
      "Username": "XanMag",
      "UserAvatar": "7161_1436827710.jpg",
      "UserGravatar": "4b45a3afd18077f76f6569225c422bdb",
      "EditableText": "Yeah!  Thanks so much.  That took me way too long to do despite your easy to follow directions!!  Been at it too long!  Time for a break.\n\nThanks a ton!",
      "EditableFormat": "bbcode",
      "HTML": "Yeah!  Thanks so much.  That took me way too long to do despite your easy to follow directions!!  Been at it too long!  Time for a break.<br/><br/>Thanks a ton!",
      "PostDate": "2016-01-11T22:09:46+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "40537",
      "UserId": 0,
      "Username": "XanMag",
      "UserAvatar": "7161_1436827710.jpg",
      "UserGravatar": "4b45a3afd18077f76f6569225c422bdb",
      "EditableText": "Here is code I have for a certain time of day (dawn):\n\n[code:2wnpukmf]if (GetBoolean(Xanadu, &quot;inside&quot;)) {\n  if (GetBoolean(bats, &quot;presentin&quot;)) {\n    if (RandomChance(20)) {\n      firsttime {\n        msg (&quot;&lt;br/&gt;The incessant gnawing and flapping outside have subsided for now&#46;&quot;)\n        SetObjectFlagOff (bats, &quot;presentin&quot;)\n      }\n    }\n  }\n  else {\n    if (RandomChance(80)) {\n      firsttime {\n        msg (&quot;&lt;br/&gt;A terrible chewing and scuttling noise can be heard from beyond the outermost wall&#46;&quot;)\n        SetObjectFlagOn (bats, &quot;presentin&quot;)\n      }\n    }\n  }\n}[/code:2wnpukmf]\n\nI have the first time script there because I only want the message to pop-up just that one time instead of repeating every time.  But, if it triggers to pop-up once, then the bats go away that message will trigger once, and then if it goes back again to triggering that they came back, it does not trigger the message again.  So, I want the message to trigger one time each time they arrive and each time they leave.  And does the first time only trigger the message the very first time ever, or will it pop back up again when I cycle back to this time of day??!?  Does that make sense?\n\nThanks!",
      "EditableFormat": "bbcode",
      "HTML": "Here is code I have for a certain time of day (dawn):<br/><br/><pre><code>if (GetBoolean(Xanadu, &quot;inside&quot;)) {<br/>  if (GetBoolean(bats, &quot;presentin&quot;)) {<br/>    if (RandomChance(20)) {<br/>      firsttime {<br/>        msg (&quot;&lt;br/&gt;The incessant gnawing and flapping outside have subsided for now&#46;&quot;)<br/>        SetObjectFlagOff (bats, &quot;presentin&quot;)<br/>      }<br/>    }<br/>  }<br/>  else {<br/>    if (RandomChance(80)) {<br/>      firsttime {<br/>        msg (&quot;&lt;br/&gt;A terrible chewing and scuttling noise can be heard from beyond the outermost wall&#46;&quot;)<br/>        SetObjectFlagOn (bats, &quot;presentin&quot;)<br/>      }<br/>    }<br/>  }<br/>}</code></pre><br/><br/>I have the first time script there because I only want the message to pop-up just that one time instead of repeating every time.  But, if it triggers to pop-up once, then the bats go away that message will trigger once, and then if it goes back again to triggering that they came back, it does not trigger the message again.  So, I want the message to trigger one time each time they arrive and each time they leave.  And does the first time only trigger the message the very first time ever, or will it pop back up again when I cycle back to this time of day??!?  Does that make sense?<br/><br/>Thanks!",
      "PostDate": "2016-01-12T19:39:30+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "40541",
      "UserId": 0,
      "Username": "jaynabonne",
      "UserAvatar": "6579_1344778256.jpg",
      "UserGravatar": "379859a7f1952a65399fc63997e68f0b",
      "EditableText": "It will only pop up the first time ever. You'd probably be better off with a &quot;seenbats&quot; boolean attribute. You'd set it to false when the bats are present but not seen. Then you'd check if it's still false (&quot;not game.seenbats&quot;) and then print the message and set it to true when it's meant to show, to indicate it has been shown. That way you can reset it back to false if the bats ever come back. <!-- s:) --><img src=\"{SMILIES_PATH}/icon_smile.gif\" alt=\":)\" title=\"Smile\" /><!-- s:) -->",
      "EditableFormat": "bbcode",
      "HTML": "It will only pop up the first time ever. You'd probably be better off with a &quot;seenbats&quot; boolean attribute. You'd set it to false when the bats are present but not seen. Then you'd check if it's still false (&quot;not game.seenbats&quot;) and then print the message and set it to true when it's meant to show, to indicate it has been shown. That way you can reset it back to false if the bats ever come back. <!-- s:) --><img src=\"{SMILIES_PATH}/icon_smile.gif\" alt=\":)\" title=\"Smile\" /><!-- s:) -->",
      "PostDate": "2016-01-12T19:49:13+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "40542",
      "UserId": 0,
      "Username": "XanMag",
      "UserAvatar": "7161_1436827710.jpg",
      "UserGravatar": "4b45a3afd18077f76f6569225c422bdb",
      "EditableText": "So... <!-- s:smile: --><img src=\"{SMILIES_PATH}/icon_smile.gif\" alt=\":smile:\" title=\"Smile\" /><!-- s:smile: -->\n\n[code:2x39o0la]if (GetBoolean(Xanadu, &quot;inside&quot;)) {\n  if (bats&#46;presentin = true) {\n    if (RandomChance(20)) {\n      msg (&quot;&lt;br/&gt;The incessant gnawing and flapping outside have subsided for now&#46;&quot;)\n      bats&#46;presentin = false\n    }\n  }\n  else {\n    if (RandomChance(80)) {\n      msg (&quot;&lt;br/&gt;A terrible chewing and scuttling noise can be heard from beyond the outmost wall&#46;&quot;)\n      bats&#46;presentin = true\n    }\n  }\n}[/code:2x39o0la]\n\nThis should work, right?  I have to also do this with the bats being 'presentout'. It seems to work, but I have SEVEN times of day I have to do this with so I'd hate to do them all and then learn I'm an idiot...(as if I haven't learned that already!!)\n\nAlso, I have NEVER intentionally used 'set a variable or attribute' in the GUI! This will come in handy.  Stuck it to my useful posts thread!  Thanks!",
      "EditableFormat": "bbcode",
      "HTML": "So... <!-- s:smile: --><img src=\"{SMILIES_PATH}/icon_smile.gif\" alt=\":smile:\" title=\"Smile\" /><!-- s:smile: --><br/><br/><pre><code>if (GetBoolean(Xanadu, &quot;inside&quot;)) {<br/>  if (bats&#46;presentin = true) {<br/>    if (RandomChance(20)) {<br/>      msg (&quot;&lt;br/&gt;The incessant gnawing and flapping outside have subsided for now&#46;&quot;)<br/>      bats&#46;presentin = false<br/>    }<br/>  }<br/>  else {<br/>    if (RandomChance(80)) {<br/>      msg (&quot;&lt;br/&gt;A terrible chewing and scuttling noise can be heard from beyond the outmost wall&#46;&quot;)<br/>      bats&#46;presentin = true<br/>    }<br/>  }<br/>}</code></pre><br/><br/>This should work, right?  I have to also do this with the bats being 'presentout'. It seems to work, but I have SEVEN times of day I have to do this with so I'd hate to do them all and then learn I'm an idiot...(as if I haven't learned that already!!)<br/><br/>Also, I have NEVER intentionally used 'set a variable or attribute' in the GUI! This will come in handy.  Stuck it to my useful posts thread!  Thanks!",
      "PostDate": "2016-01-12T20:00:41+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "40544",
      "UserId": 0,
      "Username": "jaynabonne",
      "UserAvatar": "6579_1344778256.jpg",
      "UserGravatar": "379859a7f1952a65399fc63997e68f0b",
      "EditableText": "That should work! (But it would be good to give it a go, to be sure it's what you want.)",
      "EditableFormat": "bbcode",
      "HTML": "That should work! (But it would be good to give it a go, to be sure it's what you want.)",
      "PostDate": "2016-01-12T20:26:54+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "40548",
      "UserId": 0,
      "Username": "XanMag",
      "UserAvatar": "7161_1436827710.jpg",
      "UserGravatar": "4b45a3afd18077f76f6569225c422bdb",
      "EditableText": "Done and done.  Thanks again!",
      "EditableFormat": "bbcode",
      "HTML": "Done and done.  Thanks again!",
      "PostDate": "2016-01-12T20:37:57+00:00",
      "LastEditDate": null
    }
  ]
}
