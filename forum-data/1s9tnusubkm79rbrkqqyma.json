{
  "Topic": {
    "TopicId": "1s9tnusubkm79rbrkqqyma",
    "ForumId": "10",
    "Title": "'this': Unknown object or variable 'this'",
    "LastUpdated": "2017-11-05T21:42:45.1607284Z",
    "ReplyCount": 0
  },
  "Posts": [
    {
      "PostId": "ca1fef23-3ff7-4b39-927d-63368ded8c21",
      "UserId": 248029,
      "Username": "Anonynn",
      "AvatarUrl": "http://i.imgur.com/FBcxPJRb.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Not sure why this error is happening since I've been using \"this\" for quite a while now. On this particular object however it seems to be causing a problem. The If-Scripts of it work. Is there a problem I'm overlooking @_@?\r\n\r\nHere's the code for one particular verb.\r\n\r\n_inky_lab_water.Object_\r\n**Attributes**\r\nseenflag boolean\r\nsearchtrue boolean\r\nalreadydone boolean\r\n\r\nDrink Verb\r\n```\r\nClearScreen\r\nif (this.seenflag=True) {\r\n  msg (\"\")\r\n}\r\nelse {\r\n  if (RandomChance(50)) {\r\n    msg (\"\")\r\n    wait {\r\n      ClearScreen\r\n      msg (\"\")\r\n      if (RandomChance(15)) {\r\n        msg (\"\")\r\n        player.health = player.health + 8\r\n        if (RandomChance(5)) {\r\n          msg (\"\")\r\n          player.healthy = True\r\n          player.sick = False\r\n          player.poison = False\r\n        }\r\n      }\r\n      else if (RandomChance(15)) {\r\n        msg (\"\")\r\n        player.health = player.health + 7\r\n        if (RandomChance(5)) {\r\n          msg (\"\")\r\n          player.healthy = True\r\n          player.sick = False\r\n          player.poison = False\r\n        }\r\n      }\r\n      else if (RandomChance(15)) {\r\n        msg (\"\")\r\n        player.health = player.health + 6\r\n        if (RandomChance(5)) {\r\n          msg (\"\")\r\n          player.healthy = True\r\n          player.sick = False\r\n          player.poison = False\r\n        }\r\n      }\r\n      else if (RandomChance(15)) {\r\n        msg (\"\")\r\n        player.health = player.health + 5\r\n        if (RandomChance(5)) {\r\n          msg (\"\")\r\n          player.healthy = True\r\n          player.sick = False\r\n          player.poison = False\r\n        }\r\n      }\r\n      else if (RandomChance(15)) {\r\n        msg (\"\")\r\n        player.health = player.health + 4\r\n        if (RandomChance(5)) {\r\n          msg (\"\")\r\n          player.healthy = True\r\n          player.sick = False\r\n          player.poison = False\r\n        }\r\n      }\r\n      else if (RandomChance(15)) {\r\n        msg (\"\")\r\n        player.health = player.health + 3\r\n        if (RandomChance(5)) {\r\n          msg (\"\")\r\n          player.healthy = True\r\n          player.sick = False\r\n          player.poison = False\r\n        }\r\n      }\r\n      else {\r\n        msg (\"\")\r\n        player.health = player.health + 2\r\n        if (RandomChance(5)) {\r\n          msg (\"\")\r\n          player.healthy = True\r\n          player.sick = False\r\n          player.poison = False\r\n        }\r\n      }\r\n    }\r\n    this.seenflag = True\r\n  }\r\n  else {\r\n    msg (\"\")\r\n  }\r\n}\r\n```\r\n```\r\nif (this.seenflag=True) {\r\n  if (RandomChance(50)) {\r\n    firsttime {\r\n      msg (\"\")\r\n      this.searchtrue = True\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n",
      "EditableFormat": "markdown",
      "HTML": "<p>Not sure why this error is happening since I've been using \"this\" for quite a while now. On this particular object however it seems to be causing a problem. The If-Scripts of it work. Is there a problem I'm overlooking @_@?</p>\n<p>Here's the code for one particular verb.</p>\n<p><em>inky_lab_water.Object</em><br>\n<strong>Attributes</strong><br>\nseenflag boolean<br>\nsearchtrue boolean<br>\nalreadydone boolean</p>\n<p>Drink Verb</p>\n<pre><code>ClearScreen\nif (this.seenflag=True) {\n  msg (\"\")\n}\nelse {\n  if (RandomChance(50)) {\n    msg (\"\")\n    wait {\n      ClearScreen\n      msg (\"\")\n      if (RandomChance(15)) {\n        msg (\"\")\n        player.health = player.health + 8\n        if (RandomChance(5)) {\n          msg (\"\")\n          player.healthy = True\n          player.sick = False\n          player.poison = False\n        }\n      }\n      else if (RandomChance(15)) {\n        msg (\"\")\n        player.health = player.health + 7\n        if (RandomChance(5)) {\n          msg (\"\")\n          player.healthy = True\n          player.sick = False\n          player.poison = False\n        }\n      }\n      else if (RandomChance(15)) {\n        msg (\"\")\n        player.health = player.health + 6\n        if (RandomChance(5)) {\n          msg (\"\")\n          player.healthy = True\n          player.sick = False\n          player.poison = False\n        }\n      }\n      else if (RandomChance(15)) {\n        msg (\"\")\n        player.health = player.health + 5\n        if (RandomChance(5)) {\n          msg (\"\")\n          player.healthy = True\n          player.sick = False\n          player.poison = False\n        }\n      }\n      else if (RandomChance(15)) {\n        msg (\"\")\n        player.health = player.health + 4\n        if (RandomChance(5)) {\n          msg (\"\")\n          player.healthy = True\n          player.sick = False\n          player.poison = False\n        }\n      }\n      else if (RandomChance(15)) {\n        msg (\"\")\n        player.health = player.health + 3\n        if (RandomChance(5)) {\n          msg (\"\")\n          player.healthy = True\n          player.sick = False\n          player.poison = False\n        }\n      }\n      else {\n        msg (\"\")\n        player.health = player.health + 2\n        if (RandomChance(5)) {\n          msg (\"\")\n          player.healthy = True\n          player.sick = False\n          player.poison = False\n        }\n      }\n    }\n    this.seenflag = True\n  }\n  else {\n    msg (\"\")\n  }\n}\n</code></pre>\n<pre><code>if (this.seenflag=True) {\n  if (RandomChance(50)) {\n    firsttime {\n      msg (\"\")\n      this.searchtrue = True\n    }\n  }\n}\n</code></pre>\n\n",
      "PostDate": "2017-11-05T21:42:45.1607284Z",
      "LastEditDate": "2017-11-10T18:31:15.5012607Z",
      "link": null
    },
    {
      "PostId": "245afad9-efbe-4b46-af05-bc8674cf7b7d",
      "UserId": 248029,
      "Username": "Anonynn",
      "AvatarUrl": "http://i.imgur.com/FBcxPJRb.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "I still can't figure out why this \"this\" error is happening. Halp! LOL\r\n\r\nAnonynn.",
      "EditableFormat": "markdown",
      "HTML": "<p>I still can't figure out why this \"this\" error is happening. Halp! LOL</p>\n<p>Anonynn.</p>\n\n",
      "PostDate": "2017-11-10T18:31:44.491205Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "959d37bd-40cf-4c5d-ac64-558200e43e82",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Does `wait` create a closure in Quest? I'm not sure, but I think it might. If so, code within a `wait` block wouldn't have access to variables from outside it, including `this`.",
      "EditableFormat": "markdown",
      "HTML": "<p>Does <code>wait</code> create a closure in Quest? I'm not sure, but I think it might. If so, code within a <code>wait</code> block wouldn't have access to variables from outside it, including <code>this</code>.</p>\n\n",
      "PostDate": "2017-11-10T21:53:32.390894Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "5a0dc1d3-8a2e-451c-8ae6-74cc107740a4",
      "UserId": 248029,
      "Username": "Anonynn",
      "AvatarUrl": "http://i.imgur.com/FBcxPJRb.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Ah, so I wonder if I embedded the \"this\" in a block of code that the game can't access. I don't THINK I did, but I'll definitely double check for that! I appreciate your time! :D \r\n\r\nAnonynn. ",
      "EditableFormat": "markdown",
      "HTML": "<p>Ah, so I wonder if I embedded the \"this\" in a block of code that the game can't access. I don't THINK I did, but I'll definitely double check for that! I appreciate your time! :D</p>\n<p>Anonynn.</p>\n\n",
      "PostDate": "2017-11-10T22:51:06.4289394Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "ff2c45d5-a5c4-470c-aeed-82975e3f45f9",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Are you sure it's in this piece of code?",
      "EditableFormat": "markdown",
      "HTML": "<p>Are you sure it's in this piece of code?</p>\n\n",
      "PostDate": "2017-11-10T23:07:08.1253323Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "b54fc870-67e7-461b-bb45-4f4ff15e5900",
      "UserId": 260569,
      "Username": "DarkLizerd",
      "AvatarUrl": "https://i.imgur.com/vjdH3t6b.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "\"this\" is a powerful \"pronoun\"... unfortunally... It is also very vague...\r\nIt does not play very well where you want it to play...\r\n",
      "EditableFormat": "markdown",
      "HTML": "<p>\"this\" is a powerful \"pronoun\"... unfortunally... It is also very vague...<br>\nIt does not play very well where you want it to play...</p>\n\n",
      "PostDate": "2017-11-11T03:13:19.9294003Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "97ccf0aa-b0b5-4bd0-bab5-f3ee3021f584",
      "UserId": 318253,
      "Username": "K.V.",
      "AvatarUrl": "http://i.imgur.com/FOIjtApb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "EDIT:\r\n\r\nI tested it[*](http://textadventures.co.uk/forum/quest/topic/1y1rqafiru6okmq1qvhvbg/things-to-do-with-this), and, surprisingly, ```this``` works within a ```wait``` script.  (I didn't think it would either, mrangel.)\r\n\r\n---\r\nIf I copy the  water to a game of its own, it doesn't throw an error.\r\n\r\n**<details><summary>CLICK HERE FOR THE EXAMPLE GAME'S CODE</summary>**\r\n\r\n```\r\n<!--Saved by Quest 5.7.6404.15496-->\r\n<asl version=\"550\">\r\n  <include ref=\"English.aslx\" />\r\n  <include ref=\"Core.aslx\" />\r\n  <game name=\"inky water\">\r\n    <gameid>1d119012-81c0-424a-b70d-bbd671972799</gameid>\r\n    <version>1.0</version>\r\n    <firstpublished>2017</firstpublished>\r\n  </game>\r\n  <object name=\"room\">\r\n    <inherit name=\"editor_room\" />\r\n    <object name=\"player\">\r\n      <inherit name=\"editor_object\" />\r\n      <inherit name=\"editor_player\" />\r\n      <health type=\"int\">0</health>\r\n    </object>\r\n    <object name=\"Water\">\r\n      <inherit name=\"editor_object\" />\r\n      <visible type=\"boolean\">false</visible>\r\n      <object name=\"dirty_water\">\r\n        <inherit name=\"editor_object\" />\r\n        <usedefaultprefix type=\"boolean\">false</usedefaultprefix>\r\n        <alt type=\"stringlist\">\r\n          <value>dirty water</value>\r\n          <value>dirty aqua</value>\r\n          <value>d water</value>\r\n        </alt>\r\n        <stacklimit type=\"int\">3</stacklimit>\r\n        <stackverbs type=\"stringlist\">\r\n          <value>Look at</value>\r\n          <value>Drop</value>\r\n        </stackverbs>\r\n        <stacklimitreached>You can carry no more. </stacklimitreached>\r\n        <price type=\"int\">0</price>\r\n        <lastsfor type=\"int\">0</lastsfor>\r\n        <cannothold type=\"boolean\">false</cannothold>\r\n        <alias>Dirty Water</alias>\r\n        <drop type=\"boolean\">false</drop>\r\n        <volume type=\"int\">0</volume>\r\n        <inventoryverbs type=\"stringlist\">\r\n          <value>Look at</value>\r\n        </inventoryverbs>\r\n        <take type=\"boolean\">false</take>\r\n        <takemsg>You cannot take it{once:, however, if you have a container, try the \"Fill\" verb on it}. </takemsg>\r\n        <watersource />\r\n        <displayverbs type=\"stringlist\">\r\n          <value>Look at</value>\r\n        </displayverbs>\r\n        <listalias><![CDATA[<font color= \"0093ff\">Dirty Water</font color> ]]></listalias>\r\n        <liquidsource />\r\n        <saveloadatts type=\"stringlist\" />\r\n        <stackparent type=\"object\">dirty_water</stackparent>\r\n        <look type=\"script\"><![CDATA[\r\n          msg (\"<br/>This water looks like it came from a pond. It isn't very clear and you can see bits of something floating around inside. Yuck...Still this could be used as something to drink if you're desperate enough but it probably won't be safe...and it may yield some strange results.<br/><br/><u>The volume of this object is</u>: 0\")\r\n        ]]></look>\r\n        <ondrop type=\"script\">\r\n        </ondrop>\r\n        <drink type=\"script\"><![CDATA[\r\n          if (RandomChance(50)) {\r\n            msg (\"<br/>The warm, dirty water glides downs your throat making you gag a little; it's not very refreshing you but it did manage to quench some of your thirst. <br/>\")\r\n            if (RandomChance(5)) {\r\n              player.health = player.health + 5\r\n              msg (\"<br/>Somehow it refreshes you as well, so much in fact that you feel better!<br/><br/>You gain + 5 health!<br/>\")\r\n            }\r\n          }\r\n          else {\r\n            player.health = player.health - 5\r\n            msg (\"<br/>After drinking the dirty water, you suddenly feel sick to your stomach. Moments later, your stomach turns which causes you to vomit! Ugh!! You feel worse now...<br/>\")\r\n            if (RandomChance(10)) {\r\n              if (not player.feet = \"goblin\") {\r\n                msg (\"<br/>After drinking the dirty water, you suddenly notice an odd sensation sweeping across your feet like they are reshaping a little. From there you can feel your toes lengthen and gain another joint that they didn't previously have. It gives your feet the appearance of being long and gangly, which looks absolutely disgusting. Moments later, after your feet have completely warped before your very eyes. You also notice that your {player.skin} skin fades from its normal color around your ankles, and becomes a deep green across the entirety of your feet! They look like a goblinâ€™s now!<br/>\")\r\n                SetTo (\"feet\", \"goblin\")\r\n              }\r\n              else {\r\n                msg (\"<br/>After drinking the dirty water, you feel a strange sensation spreading throughout your body, and focusing specifically on your feet...but...ultimately, nothing happens. How weird, or lucky...<br/>\")\r\n              }\r\n            }\r\n            else if (RandomChance(10)) {\r\n              if (not player.feet = \"centaur\") {\r\n                msg (\"<br/>{if player.gender=female:After drinking the dirty water, you suddenly notice an odd sensation sweeping across your feet like they are reshaping a little. From there, it feels like...Oh no! Your toes! They look as though they are growing smaller and smaller by the second! What's happening? You watch in horror as the skin of your feet begins hardening; first becoming less pliable, then turning calloused, then extremely rough, and then rounding out like some kind of bone! At the same time, your toes have become microscopic in size within seconds --- and then the bone that your skin is becoming slowly overtakes them little by little. Ah! Y-your growing....hooves!? You lose most of the feeling in your feet at this point, and your balance is terribly off, but it feels like you could pass over any terrain without getting hurt too badly, not to mention the fact that you could deliver a hell of a kick! You notice that they are also smaller and daintier than a normal horses meaning your feet must have become like a centauress'. You aren't sure how to feel about this, but wearing shoes is going to SUCK.}{if player.gender=male:After drinking the dirty water, you suddenly notice an odd sensation sweeping across your feet like they are reshaping a little. From there, it feels like...Oh no! Your toes! They look as though they are growing smaller and smaller by the second! What's happening? You watch in horror as the skin of your feet begins hardening; first becoming less pliable, then turning calloused, then extremely rough, and then rounding out like some kind of bone! At the same time, your toes have become microscopic in size within seconds --- and then the bone that your skin is becoming slowly overtakes them little by little. Ah! Y-your growing....hooves!? You lose most of the feeling in your feet at this point, and your balance is terribly off, but it feels like you could pass over any terrain without getting hurt too badly, not to mention the fact that you could deliver a hell of a kick! You notice that they are also larger and clumsier than a normal horses meaning your feet must have become like a centaur's. You aren't sure how to feel about this, but wearing shoes is going to SUCK.}} <br/>\")\r\n              SetTo (\"feet\", \"centaur\")\r\n            }\r\n            else {\r\n              msg (\"<br/>After drinking the dirty water, you feel a strange sensation spreading throughout your body, and focusing specifically on your feet...but...ultimately, nothing happens. How weird, or lucky...<br/>\")\r\n            }\r\n          }\r\n        }\r\n        ]]></drink>\r\n      </object>\r\n    </object>\r\n    <object name=\"inky_lab_water\">\r\n      <inherit name=\"editor_object\" />\r\n      <usedefaultprefix type=\"boolean\">false</usedefaultprefix>\r\n      <alt type=\"stringlist\">\r\n        <value>inky water</value>\r\n        <value>dark water</value>\r\n        <value>black water</value>\r\n        <value>fresh water</value>\r\n        <value>clean water</value>\r\n        <value>cold water</value>\r\n      </alt>\r\n      <stacklimit type=\"int\">3</stacklimit>\r\n      <stackverbs type=\"stringlist\">\r\n        <value>Look at</value>\r\n        <value>Drop</value>\r\n      </stackverbs>\r\n      <stacklimitreached>You can carry no more. </stacklimitreached>\r\n      <price type=\"int\">0</price>\r\n      <lastsfor type=\"int\">0</lastsfor>\r\n      <cannothold type=\"boolean\">false</cannothold>\r\n      <alias>Inky Laboratory Water</alias>\r\n      <drop type=\"boolean\">false</drop>\r\n      <volume type=\"int\">0</volume>\r\n      <inventoryverbs type=\"stringlist\">\r\n        <value>Look at</value>\r\n      </inventoryverbs>\r\n      <take type=\"boolean\">false</take>\r\n      <takemsg>You cannot take it{once:, however, if you have a container, try the \"Fill\" verb on it}. </takemsg>\r\n      <watersource />\r\n      <displayverbs type=\"stringlist\">\r\n        <value>Look at</value>\r\n        <value>Drink</value>\r\n        <value>Swim</value>\r\n        <value>Fill Containers</value>\r\n      </displayverbs>\r\n      <listalias><![CDATA[<font color= \"0093ff\">Dirty Water</font color> ]]></listalias>\r\n      <liquidsource />\r\n      <saveloadatts type=\"stringlist\" />\r\n      <seenflag type=\"boolean\">false</seenflag>\r\n      <searchtrue type=\"boolean\">false</searchtrue>\r\n      <alreadydone type=\"boolean\">false</alreadydone>\r\n      <stackparent type=\"object\">dirty_water</stackparent>\r\n      <look type=\"script\"><![CDATA[\r\n        game.text_processor_this = this\r\n        msg (\"<br/>You can see a dark pool of{if this.seenflag=True: fresh cave-}{if this.seenflag=False: inky }water before you{if this.seenflag=False:; whether the water is dark because there is very little light shining upon it or the actual color is black is anyone's guess right now. You definitely need a better look to find out though. Alternatively however, you could just stay away from it entirely since it could be filled with dangerous creatures or it might not even be water at all..}.<br/><br/><u>The volume of this object is</u>: 0\")\r\n      ]]></look>\r\n      <ondrop type=\"script\">\r\n      </ondrop>\r\n      <drink type=\"script\"><![CDATA[\r\n        ClearScreen\r\n        if (this.seenflag=True) {\r\n          msg (\"<br/>You approach one of the many edges of the dark cold water. Afterward, you reach down again and scoop a handful of it into your palms, the excess pouring down between your fingers. Afterward, you bring it to your mouth and proceed to gingerly sip it. The cool liquid brings instant relief to your dry mouth and coats the back of your throat before winding downward into your stomach bringing with it a wonderful sensation. Yum! You do this a couple of times until feeling completely satisfied and a little full as well.\")\r\n        }\r\n        else {\r\n          if (RandomChance(50)) {\r\n            msg (\"<br/>You approach an edge of the murky black water before you and inspect it closely from side to side, especially since you're very unsure about it's contents and possibly it's consistency as well. After several moments, you conclude that it <i>seems</i> harmless enough and you haven't spotted anything living inside, nor have you heard splashes from anything that could be living inside---so....perhaps it's okay to touch? You move into a kneeling position, extend your pointer finger and then poke the calm, cold surface. Ripples spread outward but quickly dissipate. As you retract your finger, you can see that it looks completely fine and looks wet. Naturally. Hm. So it's okay to touch. It actually feels like normal water. That wasn't as bad as you were anticipating. You try to touch it again and retract your finger without incident. Okay. So definitely safe to touch. You hesitantly dip your entire hand inside and cup it to retrieve some water out of it.<br/><br/>Upon careful inspection (by the light of the blue torches) you can see nothing out of the ordinary about this water. It's cold, it doesn't have much of a scent except for minerals and it's very clear. Matter of fact, you can't find a single blemish within. Of course, this warrants more testing. You simple turn your hand and dump it to the ground. Afterward, you carefully tread back to the edge and grab up some more. Under the light of the torches again, you inspect the captured liquid but once more it's clean looking, cold and blemish free. How interesting, this water appears completely normal. You can't find a single thing wrong with it. Of course, there's only one way to find out for sure. You bring it up to your lips and smell it---then you taste it. Hm. Tastes okay. You sip a little more and again, it feels very natural, cold and quite refreshing on top of that.<br/><br/>You wait a few minutes...Your stomach feels fine. So everything checks out. It looks, smells and tastes exactly like water---cold water at that, which is a rarity. You don't see anything living inside either which means you might not have to worry about getting sick from drinking too much of it. You shrug and conclude that this makes sense. Rold likely wouldn't surround his laboratory with something dangerous and it seems perfect for relaxing as well---and it works for magic that requires water too. <br/><br/>The only thing wrong with this place are the distant dark edges, that which lies beyond the light, you can't help but feel a little creeped out by that unknown. Despite this though, you have found a fresh source of water to drink from, which is very useful!\")\r\n            if (RandomChance(15)) {\r\n              msg (\"<br/><font color=\\\"dedede\\\">You've gained +8 health and you feel much better!</font color> \")\r\n              player.health = player.health + 8\r\n              if (RandomChance(5)) {\r\n                msg (\"<br/><font color=\\\"dedede\\\">It's so refreshing in fact that all of your bodily ailments (like poison and sickness) have been cured and flushed from your system as well! Wow! Water is so good for you!</font color>\")\r\n                player.healthy = True\r\n                player.sick = False\r\n                player.poison = False\r\n              }\r\n            }\r\n            else if (RandomChance(15)) {\r\n              msg (\"<br/><font color=\\\"dedede\\\">You've gained +7 health and you feel much better!</font color> \")\r\n              player.health = player.health + 7\r\n              if (RandomChance(5)) {\r\n                msg (\"<br/><font color=\\\"dedede\\\">It's so refreshing in fact that all of your bodily ailments (like poison and sickness) have been cured and flushed from your system as well! Wow! Water is so good for you!</font color>\")\r\n                player.healthy = True\r\n                player.sick = False\r\n                player.poison = False\r\n              }\r\n            }\r\n            else if (RandomChance(15)) {\r\n              msg (\"<br/><font color=\\\"dedede\\\">You've gained +6 health and you feel much better!</font color> \")\r\n              player.health = player.health + 6\r\n              if (RandomChance(5)) {\r\n                msg (\"<br/><font color=\\\"dedede\\\">It's so refreshing in fact that all of your bodily ailments (like poison and sickness) have been cured and flushed from your system as well! Wow! Water is so good for you!</font color>\")\r\n                player.healthy = True\r\n                player.sick = False\r\n                player.poison = False\r\n              }\r\n            }\r\n            else if (RandomChance(15)) {\r\n              msg (\"<br/><font color=\\\"dedede\\\">You've gained +5 health and you feel much better!</font color> \")\r\n              player.health = player.health + 5\r\n              if (RandomChance(5)) {\r\n                msg (\"<br/><font color=\\\"dedede\\\">It's so refreshing in fact that all of your bodily ailments (like poison and sickness) have been cured and flushed from your system as well! Wow! Water is so good for you!</font color>\")\r\n                player.healthy = True\r\n                player.sick = False\r\n                player.poison = False\r\n              }\r\n            }\r\n            else if (RandomChance(15)) {\r\n              msg (\"<br/><font color=\\\"dedede\\\">You've gained +4 health and you feel much better!</font color> \")\r\n              player.health = player.health + 4\r\n              if (RandomChance(5)) {\r\n                msg (\"<br/><font color=\\\"dedede\\\">It's so refreshing in fact that all of your bodily ailments (like poison and sickness) have been cured and flushed from your system as well! Wow! Water is so good for you!</font color>\")\r\n                player.healthy = True\r\n                player.sick = False\r\n                player.poison = False\r\n              }\r\n            }\r\n            else if (RandomChance(15)) {\r\n              msg (\"<br/><font color=\\\"dedede\\\">You've gained +3 health and you feel much better!</font color> \")\r\n              player.health = player.health + 3\r\n              if (RandomChance(5)) {\r\n                msg (\"<br/><font color=\\\"dedede\\\">It's so refreshing in fact that all of your bodily ailments (like poison and sickness) have been cured and flushed from your system as well! Wow! Water is so good for you!</font color>\")\r\n                player.healthy = True\r\n                player.sick = False\r\n                player.poison = False\r\n              }\r\n            }\r\n            else {\r\n              msg (\"<br/><font color=\\\"dedede\\\">You've gained +2 health and you feel much better!</font color> \")\r\n              player.health = player.health + 2\r\n              if (RandomChance(5)) {\r\n                msg (\"<br/><font color=\\\"dedede\\\">It's so refreshing in fact that all of your bodily ailments (like poison and sickness) have been cured and flushed from your system as well! Wow! Water is so good for you!</font color>\")\r\n                player.healthy = True\r\n                player.sick = False\r\n                player.poison = False\r\n              }\r\n            }\r\n            this.seenflag = True\r\n          }\r\n          else {\r\n            msg (\"<br/>You slowly approach the edge of the stone platform and then peer downward at the murky black water to inspect it, especially since you're very unsure about it's contents and possibly it's consistency as well. After several moments however, you conclude that it seems harmless enough and you haven't spotted anything living inside, nor have you heard splashes from anything that could be living inside---so....perhaps it's okay to touch? You move into a kneeling position, extend your pointer finger but hesitate at the last possible moment. Hrm. Then again, if something <i>is</i> lurking around in there it's probably just waiting for some {if player.gender=female:dumb bimbo}{if player.gender=male:buffoon} to stick their stupid finger inside. You slowly retract your limb. Having scared yourself, you back away from the pool for the time being. Perhaps you just need time to regather your nerve before trying again. \")\r\n          }\r\n        }\r\n        if (this.seenflag=True) {\r\n          if (RandomChance(65)) {\r\n            firsttime {\r\n              msg (\"<br/>As you stand near the edge of the water again ready to capture some in your hands, you suddenly spot something shimmering deep down inside via the bright light of the torch. At first you think you're seeing some kind of glare off the surface, but as you tilt your head to the side with curosity and then move down into a kneeling position, you confirm that light is reflecting off something floating within. The question is, do you want to dive in and go get it? You'll have to <i>swim</i> for it. \")\r\n              this.searchtrue = True\r\n            }\r\n          }\r\n        }\r\n      ]]></drink>\r\n      <swim type=\"script\"><![CDATA[\r\n        if (this.seenflag=True) {\r\n          if (this.searchtrue=True) {\r\n            if (this.alreadydone=False) {\r\n              msg (\"<br/>You've seen the glimmer down in the bottom of the pools, now you just have to decide if you want to go after it or not. Is it worth the risk? What if it isn't what you think it is? What if it's worse? You also have to consider whether or not this is a trap of some kind, however unlikely.\")\r\n              menulist = Split(\"Yes;No\", \";\")\r\n              ShowMenu (\"\", menulist, true) {\r\n                if (result = \"Yes\") {\r\n                  msg (\"<br/>You decide that whatever is lurking down there <i>must</i> be uncovered. Your natural curiosity is just far too strong to simply ignore a beautiful shiny like that. So after glancing from side to side to make sure no one was watching, you strip out of your excess clothes, if any, and then proceed to drop any supplies your carrying so they don't get wet. After leaving everything you own by one of the blue burning torches, you stand at the edge of the stone platform, peer down inside at the strange shimmer, line yourself up with it and then proceed to dive on in, <b><i>BLOOSH!</i></b> After disappearing beneath the surface and being engulfed by the abyss waiting below, large ripples cascade through the pool until reaching far beyond the light of the torches and venturing into the unknown. <br/><br/>As you reach the bottom, you clasp the shiny bauble in hand and then race back toward the surface, your body moving furiously towards the faint blue glow. <b>SPLASH!</b> You break the surface of the calm pool and scurry back onto the stone platform waiting nearby. Once you roll onto it, you glance over at whatever it is you grabbed...\")\r\n                  if (RandomChance(65)) {\r\n                    RSearch\r\n                    DSearch\r\n                    CLootSearch\r\n                    this.alreadydone = True\r\n                    player.lust = 0\r\n                    msg (\"<br/>Afterward, you proceed to warm up by the nearest torch and then get dressed again ready to move on with the next part of your journey.\")\r\n                  }\r\n                  else {\r\n                    msg (\"<br/>You decide that whatever is lurking down there <i>must</i> be uncovered. Your natural curiosity is just far too strong to simply ignore a beautiful shiny like that. So after glancing from side to side to make sure no one was watching, you strip out of your excess clothes, if any, and then proceed to drop any supplies your carrying so they don't get wet. After leaving everything you own by one of the blue burning torches, you stand at the edge of the stone platform, peer down inside at the strange shimmer, line yourself up with it and then proceed to dive on in, <b><i>BLOOSH!</i></b> After disappearing beneath the surface and being engulfed by the abyss waiting below, large ripples cascade through the pool until reaching far beyond the light of the torches and venturing into the unknown. <br/><br/>As you reach the bottom, you clasp the shiny bauble in hand and then race back toward the surface, your body moving furiously towards the faint blue glow. <b>SPLASH!</b> You break the surface of the calm pool and scurry back onto the stone platform waiting nearby. Once you roll onto it, you glance over at whatever it is you grabbed...but unfortunately, it's just a worthless {random:rock:hairpin:pin:clip:hairclip:piece of shiny stone:rusted metal}. Bah! All that work for nothing. Maybe you just have rotten luck right now or something. \")\r\n                    this.alreadydone = True\r\n                  }\r\n                }\r\n                else if (result = \"No\") {\r\n                  msg (\"<br/>You figure the risk far outweights your natural curiosity---at least in your current frame of mind. Perhaps you should just leave whatever it is alone for now and then come back later to see if it's still there or something. You certainly don't want to drown going after something that might turn out to be completely useless. With that decided, you back away from the edge and rethink what you want to do next. \")\r\n                }\r\n              }\r\n            }\r\n            else {\r\n              msg (\"<br/>You've already retrieved the loot at the bottom of the pool. There isn't much there anymore. \")\r\n            }\r\n          }\r\n          else {\r\n            msg (\"<br/>Well, the water seems safe enough --- but you have no real reason to just dive in all whimsy-like, do you? Sure, it might feel refreshing, but it feels really cold and you'd wind up completely soaked, you'd have to wait to dry off as well---and you simply don't have time for all that. Perhaps for the time being you should just control your urges to jump in and come back again later. Now if you had a <i>reason</i> to go, sure, but right now that isn't the case. <br/><br/>Then again with all those reasons aside, you could just go and enjoy yourself, who cares? It might even turn out to be quite refreshing. <br/><br/>So what do you feel like doing? Go for a swim, postpone for now?\")\r\n            menulist = Split(\"Dive In;Nah\", \";\")\r\n            ShowMenu (\"\", menulist, true) {\r\n              if (result = \"Dive In\") {\r\n                if (HasAttribute(player, \"nakedtop\") and HasAttribute(player, \"nakedbottom\")) {\r\n                  msg (\"<br/>Er...what about your clothes? Should you strip out of them first and skinny dip? Or just forego? Or do anything else to Cancel. \")\r\n                  menulist = Split(\"Yes;No\", \";\")\r\n                  ShowMenu (\"\", menulist, true) {\r\n                    if (result = \"Yes\") {\r\n                      switch (GetHighestAtt()) {\r\n                        case (\"sexy\") {\r\n                          msg (\"<br/>You certainly don't want to soak your clothes or any of your supplies, plus skinny dipping sounds kind of fun and exciting{if player.lust>=5:, especially with how horny you're feeling right now. Maybe a cold dip is just what the doctor ordered}. On top of this reasoning the water is extremely cold so it'll be nice to get dressed back up again afterward in warm clothing. Now then, after stripping down to your birthday suit, {if player.gender=female:your {if player.gavebirth=True:dark}{if player.gavebirth=False:light pink} nipples hard as stone}{if player.gender=male:your {player.penissize} {random:dick:cock:shaft:man-hood:large cannon:beast} sticking straight out in front of you ready to impale}, you toss your clothes on top of any other supplies you're carrying with you and then without a second thought, you energetically {random:cannon-ball:swan dive:flip:back-flip:belly-flop} into the very, very cold water, <i><b>BLOOSH!</i></b>!<br/><br/>Immediately following your {random:crazy:outrageous:outlandish} splash, giant ripples cascade outward to the forgotten edges of the pool, inherently disturbing everything inside. Seconds later, you rise up from the depths shivering, every single part of your body delightfully tingling.{if player.feet=naga: Wow! That feels really great against the scales of your long serpentine body which is smoothly gliding back and forth beneath the surface}{if player.legs=goo:. Ah...how relaxing. Despite the freezing sensation, it really does make you feel like a million gold. To reconnect with your natural habitat again simply fills you with joy. The water feels great mixing with your gooey body. You almost feel at one with it}. {if player.gender=male:It's too bad your {random:dick:cock:shaft:man-hood:large cannon:beast} has practically retreated back up into your body}{if player.gender=female:After several minutes of this, the upper half of your body isn't fairing so well. Initially it felt good but the delightful tingle against your nipples has turned into a mild stinging which is getting progressively worse}. Brr! Your teeth begin to chatter. \")\r\n                          wait {\r\n                            ClearScreen\r\n                            msg (\"<br/>After wading around for another five to ten minutes, the cold starts to become unbearable.{once: That certainly came about faster than you first anticipated.} That's alright though, you were kind of getting bored of it anyway. You head back to the edge and climb onto the stone platform. Luckily, your dry clothes are waiting for you and they've been warmed by the nearby torches. Within that same glow you begin to warm up as well and gradually stop dripping and shivering. About ten minutes later, you dress yourself. Clear-headed, you ready yourself to continue on. <br/><br/><font color=\\\"dedede\\\">Your cold dip has left you completely clearheaded. You've also lost all your lust!</font color> \")\r\n                            player.lust = 0\r\n                          }\r\n                        }\r\n                        case (\"sympathy\") {\r\n                          msg (\"<br/>Um...on second thought, you aren't really in the mood to skinny dip. You're simply too shy to do something like that right now. You back away from the edge for the time being and rethink your plans. \")\r\n                        }\r\n                        case (\"sarcasm\") {\r\n                          msg (\"<br/>You certainly don't want to soak your damn clothes or any of your supplies, plus skinny dipping sounds kind of fun and exciting{if player.lust>=5:, especially with how fucking horny you're feeling right now. Maybe a cold dip is just what the doctor ordered, otherwise you're likely to mount the first thing that comes along}. On top of this reasoning the water is extremely cold so it'll be nice to get dressed back up again afterward in warm clothing. Now then, after stripping down to your birthday suit, {if player.gender=female:your {if player.gavebirth=True:dark}{if player.gavebirth=False:light pink} nipples hard as stone}{if player.gender=male:your {player.penissize} {random:dick:cock:shaft:man-hood:large cannon:beast} sticking straight out in front of you ready to impale}, you carelessly toss your clothes on top of any other supplies you're carrying with you and then without a second thought, you {random:cannon-ball:swan dive:flip:back-flip:belly-flop} into the very, very cold water, <i><b>BLOOSH!</i></b>!<br/><br/>Immediately following your {random:crazy:outrageous:outlandish} splash, giant ripples cascade outward to the forgotten edges of the pool, inherently disturbing everything inside. Seconds later, you rise up from the depths shivering, every single part of your body delightfully tingling. Holy shit, that's cold! {if player.feet=naga: But wow! It certainly does feel great against the scales of your long serpentine body which is smoothly gliding back and forth beneath the surface}{if player.legs=goo:. But at the same time it's incredibly relaxing. It really does make you feel like a million gold. To reconnect with your natural habitat again simply fills you with joy. The water feels great mixing with your gooey body. You almost feel at one with it}. {if player.gender=male:It's too bad your {random:dick:cock:shaft:man-hood:large cannon:beast} has practically retreated back up into your body}{if player.gender=female:After several minutes of this, the upper half of your body isn't fairing so well. Initially it felt good but the delightful tingle against your nipples has turned into a mild stinging which is getting progressively worse}. Brr---shit! Your teeth begin to chatter uncontrollably. \")\r\n                          wait {\r\n                            ClearScreen\r\n                            msg (\"<br/>After wading around for another five to ten minutes, the cold starts to become even more unbearable.{once: That certainly came about faster than you first anticipated.} That's alright though, you were kind of getting bored of it anyway. You head back to the edge and climb onto the stone platform. Luckily, your dry clothes are waiting for you and they've been warmed by the nearby torches. Within that same glow you begin to warm up as well and gradually stop dripping and shivering. About ten minutes later, you dress yourself. Clear-headed, you ready yourself to continue on. <br/><br/><font color=\\\"dedede\\\">Your cold dip has left you completely clearheaded. You've also lost all your lust!</font color> \")\r\n                            player.lust = 0\r\n                          }\r\n                        }\r\n                        case (\"serious\") {\r\n                          msg (\"<br/>Hm. On second thought, you have much better things you could be doing with your time right now. You aren't going to waste it on skinny dipping or anything foolish like that. You back away from the edge for the time being and reconsider your plans from here. \")\r\n                        }\r\n                      }\r\n                    }\r\n                    else if (result = \"No\") {\r\n                      msg (\"<br/>Clothes, no clothes? Who cares? You toss down your things and without a second thought you brashly dive into the very, very cold water, <i><b>BLOOSH!</b></i>. Immediately following your wickedly large splash, giant ripples cascade outward to the forgotten edges of the pool. Seconds later, you rise up from the depths shivering{if player.feet=naga: despite how good it feels against the scales of your long serpentine body which is smoothly gliding back and forth beneath the surface}{if player.legs=goo:. Despite this, it feels really nice to reconnect with your natural habitat again. The water feels great mixing with your gooey body. You almost feel at one with it}. After wading around for a good ten or fifteen minutes, you finally get bored and then head back to the edge so as to climb out back onto the stone platform of sorts. Naturally, you and your clothing are completely drenched from top to bottom. <br/><br/>You try to warm up by the heat of the nearest blue torch before you and hope it'll get you dry but after several minutes of standing there and still dripping profusely, you idly realize it'll take much longer then you{once: first} anticipated. You also can't stop shivering! Hopefully, you don't wind up sick because of this...About thirty minutes later, you find that you're certainly more dry than you were before; now it's more like lightly drenched. But the cold feeling hasn't eased much to your dissatisfaction. Maybe it'll pass in time. <br/><br/><font color=\\\"dedede\\\">You're completely soaked from head to toe and feel extremely cold!</font color>\")\r\n                      if (RandomChance(35)) {\r\n                        player.cold = True\r\n                      }\r\n                    }\r\n                  }\r\n                }\r\n              }\r\n              else if (result = \"Nah\") {\r\n                msg (\"<br/>For the time being, you decide to back off from the edge of the dark pool. You do have better things to be doing right now for one...and two you really don't feel like getting soaked and being freezing afterward. Maybe if you have time you'll reconsider this particular decision but for now this is probably for the best.  \")\r\n              }\r\n            }\r\n          }\r\n        }\r\n        else {\r\n          msg (\"<br/>Uh...there's no way in hell you're leaping into water that looks that creepy. Who knows what's lurking inside? The last thing you want is to become chow or some chew-toy to some monster waiting for an easy meal...{once:Perhaps you need to try something else.}\")\r\n        }\r\n      ]]></swim>\r\n      <fillcontainers type=\"script\"><![CDATA[\r\n        msg (\"<br/>Would you like to fill up your empty container(s) with this {if this.seenflag=False:inky black, possibly dangerous water?}{if this.seenflag=True:clear refreshing cave-water}? {once:<i>Yes</i> or <i>No</i>, or do anything else to Cancel.}\")\r\n        menulist = Split(\"Yes;No\", \";\")\r\n        ShowMenu (\"\", menulist, true) {\r\n          if (result = \"Yes\") {\r\n            waterskin_clone = PlayersClone(waterskin)\r\n            if (not waterskin_clone = null) {\r\n              if (waterskin_clone.full = True) {\r\n                msg (\"<br/>Your waterskin is full at the moment. You'll need to dump it out or drink the contents first before you can fill it up anymore.  \")\r\n              }\r\n              else {\r\n                msg (\"<br/>You fill up your waterskin with {if this.seenflag=True:the clear, clean water}{if this.seenflag=False:the inky black...wait a second! This water isn't dark at all. It was definitely the light playing with your eyes. Matter of fact, it looks extremely clear and smells exactly like minerial water. Wow! You kind of guess this makes sense given that Rold likely wouldn't surround his laboratory with something dangerous. It makes you wonder if he swims in there too}.\")\r\n                waterskin_clone.fresh_water = True\r\n                waterskin_clone.full = True\r\n                this.seenflag = True\r\n              }\r\n            }\r\n            else {\r\n              msg (\"<br/>You'll need to find some type of container first, otherwise you have no way of carrying the liquid for any extended period of time. \")\r\n            }\r\n          }\r\n          else {\r\n            msg (\"<br/>You decide against it for the time being. \")\r\n          }\r\n        }\r\n      ]]></fillcontainers>\r\n    </object>\r\n  </object>\r\n</asl>\r\n```\r\n\r\n\r\n</details>\r\n\r\n\r\n---\r\nHow do I get to the inky lab water during play?",
      "EditableFormat": "markdown",
      "HTML": "<p>EDIT:</p>\n<p>I tested it<a href=\"http://textadventures.co.uk/forum/quest/topic/1y1rqafiru6okmq1qvhvbg/things-to-do-with-this\">*</a>, and, surprisingly, <code>this</code> works within a <code>wait</code> script.  (I didn't think it would either, mrangel.)</p>\n<hr>\n<p>If I copy the  water to a game of its own, it doesn't throw an error.</p>\n<p><strong></strong></p><details><summary><strong>CLICK HERE FOR THE EXAMPLE GAME'S CODE</strong></summary><p></p>\n<pre><code>&lt;!--Saved by Quest 5.7.6404.15496--&gt;\n&lt;asl version=\"550\"&gt;\n  &lt;include ref=\"English.aslx\" /&gt;\n  &lt;include ref=\"Core.aslx\" /&gt;\n  &lt;game name=\"inky water\"&gt;\n    &lt;gameid&gt;1d119012-81c0-424a-b70d-bbd671972799&lt;/gameid&gt;\n    &lt;version&gt;1.0&lt;/version&gt;\n    &lt;firstpublished&gt;2017&lt;/firstpublished&gt;\n  &lt;/game&gt;\n  &lt;object name=\"room\"&gt;\n    &lt;inherit name=\"editor_room\" /&gt;\n    &lt;object name=\"player\"&gt;\n      &lt;inherit name=\"editor_object\" /&gt;\n      &lt;inherit name=\"editor_player\" /&gt;\n      &lt;health type=\"int\"&gt;0&lt;/health&gt;\n    &lt;/object&gt;\n    &lt;object name=\"Water\"&gt;\n      &lt;inherit name=\"editor_object\" /&gt;\n      &lt;visible type=\"boolean\"&gt;false&lt;/visible&gt;\n      &lt;object name=\"dirty_water\"&gt;\n        &lt;inherit name=\"editor_object\" /&gt;\n        &lt;usedefaultprefix type=\"boolean\"&gt;false&lt;/usedefaultprefix&gt;\n        &lt;alt type=\"stringlist\"&gt;\n          &lt;value&gt;dirty water&lt;/value&gt;\n          &lt;value&gt;dirty aqua&lt;/value&gt;\n          &lt;value&gt;d water&lt;/value&gt;\n        &lt;/alt&gt;\n        &lt;stacklimit type=\"int\"&gt;3&lt;/stacklimit&gt;\n        &lt;stackverbs type=\"stringlist\"&gt;\n          &lt;value&gt;Look at&lt;/value&gt;\n          &lt;value&gt;Drop&lt;/value&gt;\n        &lt;/stackverbs&gt;\n        &lt;stacklimitreached&gt;You can carry no more. &lt;/stacklimitreached&gt;\n        &lt;price type=\"int\"&gt;0&lt;/price&gt;\n        &lt;lastsfor type=\"int\"&gt;0&lt;/lastsfor&gt;\n        &lt;cannothold type=\"boolean\"&gt;false&lt;/cannothold&gt;\n        &lt;alias&gt;Dirty Water&lt;/alias&gt;\n        &lt;drop type=\"boolean\"&gt;false&lt;/drop&gt;\n        &lt;volume type=\"int\"&gt;0&lt;/volume&gt;\n        &lt;inventoryverbs type=\"stringlist\"&gt;\n          &lt;value&gt;Look at&lt;/value&gt;\n        &lt;/inventoryverbs&gt;\n        &lt;take type=\"boolean\"&gt;false&lt;/take&gt;\n        &lt;takemsg&gt;You cannot take it{once:, however, if you have a container, try the \"Fill\" verb on it}. &lt;/takemsg&gt;\n        &lt;watersource /&gt;\n        &lt;displayverbs type=\"stringlist\"&gt;\n          &lt;value&gt;Look at&lt;/value&gt;\n        &lt;/displayverbs&gt;\n        &lt;listalias&gt;&lt;![CDATA[&lt;font color= \"0093ff\"&gt;Dirty Water&lt;/font color&gt; ]]&gt;&lt;/listalias&gt;\n        &lt;liquidsource /&gt;\n        &lt;saveloadatts type=\"stringlist\" /&gt;\n        &lt;stackparent type=\"object\"&gt;dirty_water&lt;/stackparent&gt;\n        &lt;look type=\"script\"&gt;&lt;![CDATA[\n          msg (\"&lt;br/&gt;This water looks like it came from a pond. It isn't very clear and you can see bits of something floating around inside. Yuck...Still this could be used as something to drink if you're desperate enough but it probably won't be safe...and it may yield some strange results.&lt;br/&gt;&lt;br/&gt;&lt;u&gt;The volume of this object is&lt;/u&gt;: 0\")\n        ]]&gt;&lt;/look&gt;\n        &lt;ondrop type=\"script\"&gt;\n        &lt;/ondrop&gt;\n        &lt;drink type=\"script\"&gt;&lt;![CDATA[\n          if (RandomChance(50)) {\n            msg (\"&lt;br/&gt;The warm, dirty water glides downs your throat making you gag a little; it's not very refreshing you but it did manage to quench some of your thirst. &lt;br/&gt;\")\n            if (RandomChance(5)) {\n              player.health = player.health + 5\n              msg (\"&lt;br/&gt;Somehow it refreshes you as well, so much in fact that you feel better!&lt;br/&gt;&lt;br/&gt;You gain + 5 health!&lt;br/&gt;\")\n            }\n          }\n          else {\n            player.health = player.health - 5\n            msg (\"&lt;br/&gt;After drinking the dirty water, you suddenly feel sick to your stomach. Moments later, your stomach turns which causes you to vomit! Ugh!! You feel worse now...&lt;br/&gt;\")\n            if (RandomChance(10)) {\n              if (not player.feet = \"goblin\") {\n                msg (\"&lt;br/&gt;After drinking the dirty water, you suddenly notice an odd sensation sweeping across your feet like they are reshaping a little. From there you can feel your toes lengthen and gain another joint that they didn't previously have. It gives your feet the appearance of being long and gangly, which looks absolutely disgusting. Moments later, after your feet have completely warped before your very eyes. You also notice that your {player.skin} skin fades from its normal color around your ankles, and becomes a deep green across the entirety of your feet! They look like a goblinâ€™s now!&lt;br/&gt;\")\n                SetTo (\"feet\", \"goblin\")\n              }\n              else {\n                msg (\"&lt;br/&gt;After drinking the dirty water, you feel a strange sensation spreading throughout your body, and focusing specifically on your feet...but...ultimately, nothing happens. How weird, or lucky...&lt;br/&gt;\")\n              }\n            }\n            else if (RandomChance(10)) {\n              if (not player.feet = \"centaur\") {\n                msg (\"&lt;br/&gt;{if player.gender=female:After drinking the dirty water, you suddenly notice an odd sensation sweeping across your feet like they are reshaping a little. From there, it feels like...Oh no! Your toes! They look as though they are growing smaller and smaller by the second! What's happening? You watch in horror as the skin of your feet begins hardening; first becoming less pliable, then turning calloused, then extremely rough, and then rounding out like some kind of bone! At the same time, your toes have become microscopic in size within seconds --- and then the bone that your skin is becoming slowly overtakes them little by little. Ah! Y-your growing....hooves!? You lose most of the feeling in your feet at this point, and your balance is terribly off, but it feels like you could pass over any terrain without getting hurt too badly, not to mention the fact that you could deliver a hell of a kick! You notice that they are also smaller and daintier than a normal horses meaning your feet must have become like a centauress'. You aren't sure how to feel about this, but wearing shoes is going to SUCK.}{if player.gender=male:After drinking the dirty water, you suddenly notice an odd sensation sweeping across your feet like they are reshaping a little. From there, it feels like...Oh no! Your toes! They look as though they are growing smaller and smaller by the second! What's happening? You watch in horror as the skin of your feet begins hardening; first becoming less pliable, then turning calloused, then extremely rough, and then rounding out like some kind of bone! At the same time, your toes have become microscopic in size within seconds --- and then the bone that your skin is becoming slowly overtakes them little by little. Ah! Y-your growing....hooves!? You lose most of the feeling in your feet at this point, and your balance is terribly off, but it feels like you could pass over any terrain without getting hurt too badly, not to mention the fact that you could deliver a hell of a kick! You notice that they are also larger and clumsier than a normal horses meaning your feet must have become like a centaur's. You aren't sure how to feel about this, but wearing shoes is going to SUCK.}} &lt;br/&gt;\")\n              SetTo (\"feet\", \"centaur\")\n            }\n            else {\n              msg (\"&lt;br/&gt;After drinking the dirty water, you feel a strange sensation spreading throughout your body, and focusing specifically on your feet...but...ultimately, nothing happens. How weird, or lucky...&lt;br/&gt;\")\n            }\n          }\n        }\n        ]]&gt;&lt;/drink&gt;\n      &lt;/object&gt;\n    &lt;/object&gt;\n    &lt;object name=\"inky_lab_water\"&gt;\n      &lt;inherit name=\"editor_object\" /&gt;\n      &lt;usedefaultprefix type=\"boolean\"&gt;false&lt;/usedefaultprefix&gt;\n      &lt;alt type=\"stringlist\"&gt;\n        &lt;value&gt;inky water&lt;/value&gt;\n        &lt;value&gt;dark water&lt;/value&gt;\n        &lt;value&gt;black water&lt;/value&gt;\n        &lt;value&gt;fresh water&lt;/value&gt;\n        &lt;value&gt;clean water&lt;/value&gt;\n        &lt;value&gt;cold water&lt;/value&gt;\n      &lt;/alt&gt;\n      &lt;stacklimit type=\"int\"&gt;3&lt;/stacklimit&gt;\n      &lt;stackverbs type=\"stringlist\"&gt;\n        &lt;value&gt;Look at&lt;/value&gt;\n        &lt;value&gt;Drop&lt;/value&gt;\n      &lt;/stackverbs&gt;\n      &lt;stacklimitreached&gt;You can carry no more. &lt;/stacklimitreached&gt;\n      &lt;price type=\"int\"&gt;0&lt;/price&gt;\n      &lt;lastsfor type=\"int\"&gt;0&lt;/lastsfor&gt;\n      &lt;cannothold type=\"boolean\"&gt;false&lt;/cannothold&gt;\n      &lt;alias&gt;Inky Laboratory Water&lt;/alias&gt;\n      &lt;drop type=\"boolean\"&gt;false&lt;/drop&gt;\n      &lt;volume type=\"int\"&gt;0&lt;/volume&gt;\n      &lt;inventoryverbs type=\"stringlist\"&gt;\n        &lt;value&gt;Look at&lt;/value&gt;\n      &lt;/inventoryverbs&gt;\n      &lt;take type=\"boolean\"&gt;false&lt;/take&gt;\n      &lt;takemsg&gt;You cannot take it{once:, however, if you have a container, try the \"Fill\" verb on it}. &lt;/takemsg&gt;\n      &lt;watersource /&gt;\n      &lt;displayverbs type=\"stringlist\"&gt;\n        &lt;value&gt;Look at&lt;/value&gt;\n        &lt;value&gt;Drink&lt;/value&gt;\n        &lt;value&gt;Swim&lt;/value&gt;\n        &lt;value&gt;Fill Containers&lt;/value&gt;\n      &lt;/displayverbs&gt;\n      &lt;listalias&gt;&lt;![CDATA[&lt;font color= \"0093ff\"&gt;Dirty Water&lt;/font color&gt; ]]&gt;&lt;/listalias&gt;\n      &lt;liquidsource /&gt;\n      &lt;saveloadatts type=\"stringlist\" /&gt;\n      &lt;seenflag type=\"boolean\"&gt;false&lt;/seenflag&gt;\n      &lt;searchtrue type=\"boolean\"&gt;false&lt;/searchtrue&gt;\n      &lt;alreadydone type=\"boolean\"&gt;false&lt;/alreadydone&gt;\n      &lt;stackparent type=\"object\"&gt;dirty_water&lt;/stackparent&gt;\n      &lt;look type=\"script\"&gt;&lt;![CDATA[\n        game.text_processor_this = this\n        msg (\"&lt;br/&gt;You can see a dark pool of{if this.seenflag=True: fresh cave-}{if this.seenflag=False: inky }water before you{if this.seenflag=False:; whether the water is dark because there is very little light shining upon it or the actual color is black is anyone's guess right now. You definitely need a better look to find out though. Alternatively however, you could just stay away from it entirely since it could be filled with dangerous creatures or it might not even be water at all..}.&lt;br/&gt;&lt;br/&gt;&lt;u&gt;The volume of this object is&lt;/u&gt;: 0\")\n      ]]&gt;&lt;/look&gt;\n      &lt;ondrop type=\"script\"&gt;\n      &lt;/ondrop&gt;\n      &lt;drink type=\"script\"&gt;&lt;![CDATA[\n        ClearScreen\n        if (this.seenflag=True) {\n          msg (\"&lt;br/&gt;You approach one of the many edges of the dark cold water. Afterward, you reach down again and scoop a handful of it into your palms, the excess pouring down between your fingers. Afterward, you bring it to your mouth and proceed to gingerly sip it. The cool liquid brings instant relief to your dry mouth and coats the back of your throat before winding downward into your stomach bringing with it a wonderful sensation. Yum! You do this a couple of times until feeling completely satisfied and a little full as well.\")\n        }\n        else {\n          if (RandomChance(50)) {\n            msg (\"&lt;br/&gt;You approach an edge of the murky black water before you and inspect it closely from side to side, especially since you're very unsure about it's contents and possibly it's consistency as well. After several moments, you conclude that it &lt;i&gt;seems&lt;/i&gt; harmless enough and you haven't spotted anything living inside, nor have you heard splashes from anything that could be living inside---so....perhaps it's okay to touch? You move into a kneeling position, extend your pointer finger and then poke the calm, cold surface. Ripples spread outward but quickly dissipate. As you retract your finger, you can see that it looks completely fine and looks wet. Naturally. Hm. So it's okay to touch. It actually feels like normal water. That wasn't as bad as you were anticipating. You try to touch it again and retract your finger without incident. Okay. So definitely safe to touch. You hesitantly dip your entire hand inside and cup it to retrieve some water out of it.&lt;br/&gt;&lt;br/&gt;Upon careful inspection (by the light of the blue torches) you can see nothing out of the ordinary about this water. It's cold, it doesn't have much of a scent except for minerals and it's very clear. Matter of fact, you can't find a single blemish within. Of course, this warrants more testing. You simple turn your hand and dump it to the ground. Afterward, you carefully tread back to the edge and grab up some more. Under the light of the torches again, you inspect the captured liquid but once more it's clean looking, cold and blemish free. How interesting, this water appears completely normal. You can't find a single thing wrong with it. Of course, there's only one way to find out for sure. You bring it up to your lips and smell it---then you taste it. Hm. Tastes okay. You sip a little more and again, it feels very natural, cold and quite refreshing on top of that.&lt;br/&gt;&lt;br/&gt;You wait a few minutes...Your stomach feels fine. So everything checks out. It looks, smells and tastes exactly like water---cold water at that, which is a rarity. You don't see anything living inside either which means you might not have to worry about getting sick from drinking too much of it. You shrug and conclude that this makes sense. Rold likely wouldn't surround his laboratory with something dangerous and it seems perfect for relaxing as well---and it works for magic that requires water too. &lt;br/&gt;&lt;br/&gt;The only thing wrong with this place are the distant dark edges, that which lies beyond the light, you can't help but feel a little creeped out by that unknown. Despite this though, you have found a fresh source of water to drink from, which is very useful!\")\n            if (RandomChance(15)) {\n              msg (\"&lt;br/&gt;&lt;font color=\\\"dedede\\\"&gt;You've gained +8 health and you feel much better!&lt;/font color&gt; \")\n              player.health = player.health + 8\n              if (RandomChance(5)) {\n                msg (\"&lt;br/&gt;&lt;font color=\\\"dedede\\\"&gt;It's so refreshing in fact that all of your bodily ailments (like poison and sickness) have been cured and flushed from your system as well! Wow! Water is so good for you!&lt;/font color&gt;\")\n                player.healthy = True\n                player.sick = False\n                player.poison = False\n              }\n            }\n            else if (RandomChance(15)) {\n              msg (\"&lt;br/&gt;&lt;font color=\\\"dedede\\\"&gt;You've gained +7 health and you feel much better!&lt;/font color&gt; \")\n              player.health = player.health + 7\n              if (RandomChance(5)) {\n                msg (\"&lt;br/&gt;&lt;font color=\\\"dedede\\\"&gt;It's so refreshing in fact that all of your bodily ailments (like poison and sickness) have been cured and flushed from your system as well! Wow! Water is so good for you!&lt;/font color&gt;\")\n                player.healthy = True\n                player.sick = False\n                player.poison = False\n              }\n            }\n            else if (RandomChance(15)) {\n              msg (\"&lt;br/&gt;&lt;font color=\\\"dedede\\\"&gt;You've gained +6 health and you feel much better!&lt;/font color&gt; \")\n              player.health = player.health + 6\n              if (RandomChance(5)) {\n                msg (\"&lt;br/&gt;&lt;font color=\\\"dedede\\\"&gt;It's so refreshing in fact that all of your bodily ailments (like poison and sickness) have been cured and flushed from your system as well! Wow! Water is so good for you!&lt;/font color&gt;\")\n                player.healthy = True\n                player.sick = False\n                player.poison = False\n              }\n            }\n            else if (RandomChance(15)) {\n              msg (\"&lt;br/&gt;&lt;font color=\\\"dedede\\\"&gt;You've gained +5 health and you feel much better!&lt;/font color&gt; \")\n              player.health = player.health + 5\n              if (RandomChance(5)) {\n                msg (\"&lt;br/&gt;&lt;font color=\\\"dedede\\\"&gt;It's so refreshing in fact that all of your bodily ailments (like poison and sickness) have been cured and flushed from your system as well! Wow! Water is so good for you!&lt;/font color&gt;\")\n                player.healthy = True\n                player.sick = False\n                player.poison = False\n              }\n            }\n            else if (RandomChance(15)) {\n              msg (\"&lt;br/&gt;&lt;font color=\\\"dedede\\\"&gt;You've gained +4 health and you feel much better!&lt;/font color&gt; \")\n              player.health = player.health + 4\n              if (RandomChance(5)) {\n                msg (\"&lt;br/&gt;&lt;font color=\\\"dedede\\\"&gt;It's so refreshing in fact that all of your bodily ailments (like poison and sickness) have been cured and flushed from your system as well! Wow! Water is so good for you!&lt;/font color&gt;\")\n                player.healthy = True\n                player.sick = False\n                player.poison = False\n              }\n            }\n            else if (RandomChance(15)) {\n              msg (\"&lt;br/&gt;&lt;font color=\\\"dedede\\\"&gt;You've gained +3 health and you feel much better!&lt;/font color&gt; \")\n              player.health = player.health + 3\n              if (RandomChance(5)) {\n                msg (\"&lt;br/&gt;&lt;font color=\\\"dedede\\\"&gt;It's so refreshing in fact that all of your bodily ailments (like poison and sickness) have been cured and flushed from your system as well! Wow! Water is so good for you!&lt;/font color&gt;\")\n                player.healthy = True\n                player.sick = False\n                player.poison = False\n              }\n            }\n            else {\n              msg (\"&lt;br/&gt;&lt;font color=\\\"dedede\\\"&gt;You've gained +2 health and you feel much better!&lt;/font color&gt; \")\n              player.health = player.health + 2\n              if (RandomChance(5)) {\n                msg (\"&lt;br/&gt;&lt;font color=\\\"dedede\\\"&gt;It's so refreshing in fact that all of your bodily ailments (like poison and sickness) have been cured and flushed from your system as well! Wow! Water is so good for you!&lt;/font color&gt;\")\n                player.healthy = True\n                player.sick = False\n                player.poison = False\n              }\n            }\n            this.seenflag = True\n          }\n          else {\n            msg (\"&lt;br/&gt;You slowly approach the edge of the stone platform and then peer downward at the murky black water to inspect it, especially since you're very unsure about it's contents and possibly it's consistency as well. After several moments however, you conclude that it seems harmless enough and you haven't spotted anything living inside, nor have you heard splashes from anything that could be living inside---so....perhaps it's okay to touch? You move into a kneeling position, extend your pointer finger but hesitate at the last possible moment. Hrm. Then again, if something &lt;i&gt;is&lt;/i&gt; lurking around in there it's probably just waiting for some {if player.gender=female:dumb bimbo}{if player.gender=male:buffoon} to stick their stupid finger inside. You slowly retract your limb. Having scared yourself, you back away from the pool for the time being. Perhaps you just need time to regather your nerve before trying again. \")\n          }\n        }\n        if (this.seenflag=True) {\n          if (RandomChance(65)) {\n            firsttime {\n              msg (\"&lt;br/&gt;As you stand near the edge of the water again ready to capture some in your hands, you suddenly spot something shimmering deep down inside via the bright light of the torch. At first you think you're seeing some kind of glare off the surface, but as you tilt your head to the side with curosity and then move down into a kneeling position, you confirm that light is reflecting off something floating within. The question is, do you want to dive in and go get it? You'll have to &lt;i&gt;swim&lt;/i&gt; for it. \")\n              this.searchtrue = True\n            }\n          }\n        }\n      ]]&gt;&lt;/drink&gt;\n      &lt;swim type=\"script\"&gt;&lt;![CDATA[\n        if (this.seenflag=True) {\n          if (this.searchtrue=True) {\n            if (this.alreadydone=False) {\n              msg (\"&lt;br/&gt;You've seen the glimmer down in the bottom of the pools, now you just have to decide if you want to go after it or not. Is it worth the risk? What if it isn't what you think it is? What if it's worse? You also have to consider whether or not this is a trap of some kind, however unlikely.\")\n              menulist = Split(\"Yes;No\", \";\")\n              ShowMenu (\"\", menulist, true) {\n                if (result = \"Yes\") {\n                  msg (\"&lt;br/&gt;You decide that whatever is lurking down there &lt;i&gt;must&lt;/i&gt; be uncovered. Your natural curiosity is just far too strong to simply ignore a beautiful shiny like that. So after glancing from side to side to make sure no one was watching, you strip out of your excess clothes, if any, and then proceed to drop any supplies your carrying so they don't get wet. After leaving everything you own by one of the blue burning torches, you stand at the edge of the stone platform, peer down inside at the strange shimmer, line yourself up with it and then proceed to dive on in, &lt;b&gt;&lt;i&gt;BLOOSH!&lt;/i&gt;&lt;/b&gt; After disappearing beneath the surface and being engulfed by the abyss waiting below, large ripples cascade through the pool until reaching far beyond the light of the torches and venturing into the unknown. &lt;br/&gt;&lt;br/&gt;As you reach the bottom, you clasp the shiny bauble in hand and then race back toward the surface, your body moving furiously towards the faint blue glow. &lt;b&gt;SPLASH!&lt;/b&gt; You break the surface of the calm pool and scurry back onto the stone platform waiting nearby. Once you roll onto it, you glance over at whatever it is you grabbed...\")\n                  if (RandomChance(65)) {\n                    RSearch\n                    DSearch\n                    CLootSearch\n                    this.alreadydone = True\n                    player.lust = 0\n                    msg (\"&lt;br/&gt;Afterward, you proceed to warm up by the nearest torch and then get dressed again ready to move on with the next part of your journey.\")\n                  }\n                  else {\n                    msg (\"&lt;br/&gt;You decide that whatever is lurking down there &lt;i&gt;must&lt;/i&gt; be uncovered. Your natural curiosity is just far too strong to simply ignore a beautiful shiny like that. So after glancing from side to side to make sure no one was watching, you strip out of your excess clothes, if any, and then proceed to drop any supplies your carrying so they don't get wet. After leaving everything you own by one of the blue burning torches, you stand at the edge of the stone platform, peer down inside at the strange shimmer, line yourself up with it and then proceed to dive on in, &lt;b&gt;&lt;i&gt;BLOOSH!&lt;/i&gt;&lt;/b&gt; After disappearing beneath the surface and being engulfed by the abyss waiting below, large ripples cascade through the pool until reaching far beyond the light of the torches and venturing into the unknown. &lt;br/&gt;&lt;br/&gt;As you reach the bottom, you clasp the shiny bauble in hand and then race back toward the surface, your body moving furiously towards the faint blue glow. &lt;b&gt;SPLASH!&lt;/b&gt; You break the surface of the calm pool and scurry back onto the stone platform waiting nearby. Once you roll onto it, you glance over at whatever it is you grabbed...but unfortunately, it's just a worthless {random:rock:hairpin:pin:clip:hairclip:piece of shiny stone:rusted metal}. Bah! All that work for nothing. Maybe you just have rotten luck right now or something. \")\n                    this.alreadydone = True\n                  }\n                }\n                else if (result = \"No\") {\n                  msg (\"&lt;br/&gt;You figure the risk far outweights your natural curiosity---at least in your current frame of mind. Perhaps you should just leave whatever it is alone for now and then come back later to see if it's still there or something. You certainly don't want to drown going after something that might turn out to be completely useless. With that decided, you back away from the edge and rethink what you want to do next. \")\n                }\n              }\n            }\n            else {\n              msg (\"&lt;br/&gt;You've already retrieved the loot at the bottom of the pool. There isn't much there anymore. \")\n            }\n          }\n          else {\n            msg (\"&lt;br/&gt;Well, the water seems safe enough --- but you have no real reason to just dive in all whimsy-like, do you? Sure, it might feel refreshing, but it feels really cold and you'd wind up completely soaked, you'd have to wait to dry off as well---and you simply don't have time for all that. Perhaps for the time being you should just control your urges to jump in and come back again later. Now if you had a &lt;i&gt;reason&lt;/i&gt; to go, sure, but right now that isn't the case. &lt;br/&gt;&lt;br/&gt;Then again with all those reasons aside, you could just go and enjoy yourself, who cares? It might even turn out to be quite refreshing. &lt;br/&gt;&lt;br/&gt;So what do you feel like doing? Go for a swim, postpone for now?\")\n            menulist = Split(\"Dive In;Nah\", \";\")\n            ShowMenu (\"\", menulist, true) {\n              if (result = \"Dive In\") {\n                if (HasAttribute(player, \"nakedtop\") and HasAttribute(player, \"nakedbottom\")) {\n                  msg (\"&lt;br/&gt;Er...what about your clothes? Should you strip out of them first and skinny dip? Or just forego? Or do anything else to Cancel. \")\n                  menulist = Split(\"Yes;No\", \";\")\n                  ShowMenu (\"\", menulist, true) {\n                    if (result = \"Yes\") {\n                      switch (GetHighestAtt()) {\n                        case (\"sexy\") {\n                          msg (\"&lt;br/&gt;You certainly don't want to soak your clothes or any of your supplies, plus skinny dipping sounds kind of fun and exciting{if player.lust&gt;=5:, especially with how horny you're feeling right now. Maybe a cold dip is just what the doctor ordered}. On top of this reasoning the water is extremely cold so it'll be nice to get dressed back up again afterward in warm clothing. Now then, after stripping down to your birthday suit, {if player.gender=female:your {if player.gavebirth=True:dark}{if player.gavebirth=False:light pink} nipples hard as stone}{if player.gender=male:your {player.penissize} {random:dick:cock:shaft:man-hood:large cannon:beast} sticking straight out in front of you ready to impale}, you toss your clothes on top of any other supplies you're carrying with you and then without a second thought, you energetically {random:cannon-ball:swan dive:flip:back-flip:belly-flop} into the very, very cold water, &lt;i&gt;&lt;b&gt;BLOOSH!&lt;/i&gt;&lt;/b&gt;!&lt;br/&gt;&lt;br/&gt;Immediately following your {random:crazy:outrageous:outlandish} splash, giant ripples cascade outward to the forgotten edges of the pool, inherently disturbing everything inside. Seconds later, you rise up from the depths shivering, every single part of your body delightfully tingling.{if player.feet=naga: Wow! That feels really great against the scales of your long serpentine body which is smoothly gliding back and forth beneath the surface}{if player.legs=goo:. Ah...how relaxing. Despite the freezing sensation, it really does make you feel like a million gold. To reconnect with your natural habitat again simply fills you with joy. The water feels great mixing with your gooey body. You almost feel at one with it}. {if player.gender=male:It's too bad your {random:dick:cock:shaft:man-hood:large cannon:beast} has practically retreated back up into your body}{if player.gender=female:After several minutes of this, the upper half of your body isn't fairing so well. Initially it felt good but the delightful tingle against your nipples has turned into a mild stinging which is getting progressively worse}. Brr! Your teeth begin to chatter. \")\n                          wait {\n                            ClearScreen\n                            msg (\"&lt;br/&gt;After wading around for another five to ten minutes, the cold starts to become unbearable.{once: That certainly came about faster than you first anticipated.} That's alright though, you were kind of getting bored of it anyway. You head back to the edge and climb onto the stone platform. Luckily, your dry clothes are waiting for you and they've been warmed by the nearby torches. Within that same glow you begin to warm up as well and gradually stop dripping and shivering. About ten minutes later, you dress yourself. Clear-headed, you ready yourself to continue on. &lt;br/&gt;&lt;br/&gt;&lt;font color=\\\"dedede\\\"&gt;Your cold dip has left you completely clearheaded. You've also lost all your lust!&lt;/font color&gt; \")\n                            player.lust = 0\n                          }\n                        }\n                        case (\"sympathy\") {\n                          msg (\"&lt;br/&gt;Um...on second thought, you aren't really in the mood to skinny dip. You're simply too shy to do something like that right now. You back away from the edge for the time being and rethink your plans. \")\n                        }\n                        case (\"sarcasm\") {\n                          msg (\"&lt;br/&gt;You certainly don't want to soak your damn clothes or any of your supplies, plus skinny dipping sounds kind of fun and exciting{if player.lust&gt;=5:, especially with how fucking horny you're feeling right now. Maybe a cold dip is just what the doctor ordered, otherwise you're likely to mount the first thing that comes along}. On top of this reasoning the water is extremely cold so it'll be nice to get dressed back up again afterward in warm clothing. Now then, after stripping down to your birthday suit, {if player.gender=female:your {if player.gavebirth=True:dark}{if player.gavebirth=False:light pink} nipples hard as stone}{if player.gender=male:your {player.penissize} {random:dick:cock:shaft:man-hood:large cannon:beast} sticking straight out in front of you ready to impale}, you carelessly toss your clothes on top of any other supplies you're carrying with you and then without a second thought, you {random:cannon-ball:swan dive:flip:back-flip:belly-flop} into the very, very cold water, &lt;i&gt;&lt;b&gt;BLOOSH!&lt;/i&gt;&lt;/b&gt;!&lt;br/&gt;&lt;br/&gt;Immediately following your {random:crazy:outrageous:outlandish} splash, giant ripples cascade outward to the forgotten edges of the pool, inherently disturbing everything inside. Seconds later, you rise up from the depths shivering, every single part of your body delightfully tingling. Holy shit, that's cold! {if player.feet=naga: But wow! It certainly does feel great against the scales of your long serpentine body which is smoothly gliding back and forth beneath the surface}{if player.legs=goo:. But at the same time it's incredibly relaxing. It really does make you feel like a million gold. To reconnect with your natural habitat again simply fills you with joy. The water feels great mixing with your gooey body. You almost feel at one with it}. {if player.gender=male:It's too bad your {random:dick:cock:shaft:man-hood:large cannon:beast} has practically retreated back up into your body}{if player.gender=female:After several minutes of this, the upper half of your body isn't fairing so well. Initially it felt good but the delightful tingle against your nipples has turned into a mild stinging which is getting progressively worse}. Brr---shit! Your teeth begin to chatter uncontrollably. \")\n                          wait {\n                            ClearScreen\n                            msg (\"&lt;br/&gt;After wading around for another five to ten minutes, the cold starts to become even more unbearable.{once: That certainly came about faster than you first anticipated.} That's alright though, you were kind of getting bored of it anyway. You head back to the edge and climb onto the stone platform. Luckily, your dry clothes are waiting for you and they've been warmed by the nearby torches. Within that same glow you begin to warm up as well and gradually stop dripping and shivering. About ten minutes later, you dress yourself. Clear-headed, you ready yourself to continue on. &lt;br/&gt;&lt;br/&gt;&lt;font color=\\\"dedede\\\"&gt;Your cold dip has left you completely clearheaded. You've also lost all your lust!&lt;/font color&gt; \")\n                            player.lust = 0\n                          }\n                        }\n                        case (\"serious\") {\n                          msg (\"&lt;br/&gt;Hm. On second thought, you have much better things you could be doing with your time right now. You aren't going to waste it on skinny dipping or anything foolish like that. You back away from the edge for the time being and reconsider your plans from here. \")\n                        }\n                      }\n                    }\n                    else if (result = \"No\") {\n                      msg (\"&lt;br/&gt;Clothes, no clothes? Who cares? You toss down your things and without a second thought you brashly dive into the very, very cold water, &lt;i&gt;&lt;b&gt;BLOOSH!&lt;/b&gt;&lt;/i&gt;. Immediately following your wickedly large splash, giant ripples cascade outward to the forgotten edges of the pool. Seconds later, you rise up from the depths shivering{if player.feet=naga: despite how good it feels against the scales of your long serpentine body which is smoothly gliding back and forth beneath the surface}{if player.legs=goo:. Despite this, it feels really nice to reconnect with your natural habitat again. The water feels great mixing with your gooey body. You almost feel at one with it}. After wading around for a good ten or fifteen minutes, you finally get bored and then head back to the edge so as to climb out back onto the stone platform of sorts. Naturally, you and your clothing are completely drenched from top to bottom. &lt;br/&gt;&lt;br/&gt;You try to warm up by the heat of the nearest blue torch before you and hope it'll get you dry but after several minutes of standing there and still dripping profusely, you idly realize it'll take much longer then you{once: first} anticipated. You also can't stop shivering! Hopefully, you don't wind up sick because of this...About thirty minutes later, you find that you're certainly more dry than you were before; now it's more like lightly drenched. But the cold feeling hasn't eased much to your dissatisfaction. Maybe it'll pass in time. &lt;br/&gt;&lt;br/&gt;&lt;font color=\\\"dedede\\\"&gt;You're completely soaked from head to toe and feel extremely cold!&lt;/font color&gt;\")\n                      if (RandomChance(35)) {\n                        player.cold = True\n                      }\n                    }\n                  }\n                }\n              }\n              else if (result = \"Nah\") {\n                msg (\"&lt;br/&gt;For the time being, you decide to back off from the edge of the dark pool. You do have better things to be doing right now for one...and two you really don't feel like getting soaked and being freezing afterward. Maybe if you have time you'll reconsider this particular decision but for now this is probably for the best.  \")\n              }\n            }\n          }\n        }\n        else {\n          msg (\"&lt;br/&gt;Uh...there's no way in hell you're leaping into water that looks that creepy. Who knows what's lurking inside? The last thing you want is to become chow or some chew-toy to some monster waiting for an easy meal...{once:Perhaps you need to try something else.}\")\n        }\n      ]]&gt;&lt;/swim&gt;\n      &lt;fillcontainers type=\"script\"&gt;&lt;![CDATA[\n        msg (\"&lt;br/&gt;Would you like to fill up your empty container(s) with this {if this.seenflag=False:inky black, possibly dangerous water?}{if this.seenflag=True:clear refreshing cave-water}? {once:&lt;i&gt;Yes&lt;/i&gt; or &lt;i&gt;No&lt;/i&gt;, or do anything else to Cancel.}\")\n        menulist = Split(\"Yes;No\", \";\")\n        ShowMenu (\"\", menulist, true) {\n          if (result = \"Yes\") {\n            waterskin_clone = PlayersClone(waterskin)\n            if (not waterskin_clone = null) {\n              if (waterskin_clone.full = True) {\n                msg (\"&lt;br/&gt;Your waterskin is full at the moment. You'll need to dump it out or drink the contents first before you can fill it up anymore.  \")\n              }\n              else {\n                msg (\"&lt;br/&gt;You fill up your waterskin with {if this.seenflag=True:the clear, clean water}{if this.seenflag=False:the inky black...wait a second! This water isn't dark at all. It was definitely the light playing with your eyes. Matter of fact, it looks extremely clear and smells exactly like minerial water. Wow! You kind of guess this makes sense given that Rold likely wouldn't surround his laboratory with something dangerous. It makes you wonder if he swims in there too}.\")\n                waterskin_clone.fresh_water = True\n                waterskin_clone.full = True\n                this.seenflag = True\n              }\n            }\n            else {\n              msg (\"&lt;br/&gt;You'll need to find some type of container first, otherwise you have no way of carrying the liquid for any extended period of time. \")\n            }\n          }\n          else {\n            msg (\"&lt;br/&gt;You decide against it for the time being. \")\n          }\n        }\n      ]]&gt;&lt;/fillcontainers&gt;\n    &lt;/object&gt;\n  &lt;/object&gt;\n&lt;/asl&gt;\n</code></pre>\n</details>\n<hr>\n<p>How do I get to the inky lab water during play?</p>\n\n",
      "PostDate": "2017-11-11T03:36:08.9547793Z",
      "LastEditDate": "2017-11-11T05:29:03.9829296Z",
      "link": null
    },
    {
      "PostId": "bfd343af-e47f-4b70-94be-24422978cffc",
      "UserId": 248029,
      "Username": "Anonynn",
      "AvatarUrl": "http://i.imgur.com/FBcxPJRb.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "I may have resolved the drinking \"this\" (the one I posted code for) because it's not happening anymore. But yeah, \"this\" works within \"If-scripts and numerous blocks of code because I have a million of them within it. All I use are clones of objects so I have to use \"this\" or the game wouldn't recognize the objects. \r\n\r\nAside from all that, the second and final \"this\" error happening within the same object but on a different verb has been narrowed down to one specific instance. So I'm going to rearrange it a little and see if that fixes the problem. I'll let you guys know what I find ^_^ \r\n\r\nAnonynn. ",
      "EditableFormat": "markdown",
      "HTML": "<p>I may have resolved the drinking \"this\" (the one I posted code for) because it's not happening anymore. But yeah, \"this\" works within \"If-scripts and numerous blocks of code because I have a million of them within it. All I use are clones of objects so I have to use \"this\" or the game wouldn't recognize the objects.</p>\n<p>Aside from all that, the second and final \"this\" error happening within the same object but on a different verb has been narrowed down to one specific instance. So I'm going to rearrange it a little and see if that fixes the problem. I'll let you guys know what I find ^_^</p>\n<p>Anonynn.</p>\n\n",
      "PostDate": "2017-11-11T05:33:59.1727214Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "b9958ec7-1f36-45e0-8d14-b499e8520291",
      "UserId": 318253,
      "Username": "K.V.",
      "AvatarUrl": "http://i.imgur.com/FOIjtApb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": ">I'm going to rearrange it a little and see if that fixes the problem.\r\n\r\nGood luck!\r\n\r\n> I'll let you guys know what I find \r\n\r\nGroovy.  (Inquiring minds want to know.)",
      "EditableFormat": "markdown",
      "HTML": "<blockquote>\n<p>I'm going to rearrange it a little and see if that fixes the problem.</p>\n</blockquote>\n<p>Good luck!</p>\n<blockquote>\n<p>I'll let you guys know what I find</p>\n</blockquote>\n<p>Groovy.  (Inquiring minds want to know.)</p>\n\n",
      "PostDate": "2017-11-11T05:44:30.1266653Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "6c58b0db-a5e4-451c-9c59-ed3b110df2dd",
      "UserId": 248029,
      "Username": "Anonynn",
      "AvatarUrl": "http://i.imgur.com/FBcxPJRb.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "So I basically couldn't figure out what was causing the \"this\" problems, so instead of cloning that particular object, I used the original name instead and all the scripts work perfectly now. The mysteries of life. What's strange is I do have objects in similar fashions that use \"this\" because I used clones, but I guess the role of the object matters. Maybe the other this' work because they are in the player's inventory. I dunno. Bug perhaps.\r\n\r\nAnonynn. ",
      "EditableFormat": "markdown",
      "HTML": "<p>So I basically couldn't figure out what was causing the \"this\" problems, so instead of cloning that particular object, I used the original name instead and all the scripts work perfectly now. The mysteries of life. What's strange is I do have objects in similar fashions that use \"this\" because I used clones, but I guess the role of the object matters. Maybe the other this' work because they are in the player's inventory. I dunno. Bug perhaps.</p>\n<p>Anonynn.</p>\n\n",
      "PostDate": "2017-11-11T06:25:23.0496277Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "e17b2264-948f-4f3a-8667-c59b7f204771",
      "UserId": 318253,
      "Username": "K.V.",
      "AvatarUrl": "http://i.imgur.com/FOIjtApb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Was it ```fillcontainers```?\r\n\r\nJust in case you run into ```this``` problem again, from what I could discern, you need *this* at the beginning of each separate script:\r\n```\r\ngame.text_processor_this = this\r\n```\r\n\r\n---\r\n(I discerned that while playing with [this](http://textadventures.co.uk/forum/quest/topic/1y1rqafiru6okmq1qvhvbg/things-to-do-with-this).)\r\n\r\n---\r\n```fillcontainers``` had ```this``` in text processor commands.  That's what made me look at it.\r\n\r\n---\r\nJust in case it happens to you again in a different script, you could check for the existence of that line in the code.",
      "EditableFormat": "markdown",
      "HTML": "<p>Was it <code>fillcontainers</code>?</p>\n<p>Just in case you run into <code>this</code> problem again, from what I could discern, you need <em>this</em> at the beginning of each separate script:</p>\n<pre><code>game.text_processor_this = this\n</code></pre>\n<hr>\n<p>(I discerned that while playing with <a href=\"http://textadventures.co.uk/forum/quest/topic/1y1rqafiru6okmq1qvhvbg/things-to-do-with-this\">this</a>.)</p>\n<hr>\n<p><code>fillcontainers</code> had <code>this</code> in text processor commands.  That's what made me look at it.</p>\n<hr>\n<p>Just in case it happens to you again in a different script, you could check for the existence of that line in the code.</p>\n\n",
      "PostDate": "2017-11-11T06:54:22.1331991Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "7137fcda-32e1-4a26-80fb-4d13a65f17a7",
      "UserId": 248029,
      "Username": "Anonynn",
      "AvatarUrl": "http://i.imgur.com/FBcxPJRb.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Yup. I had added that script. That is for the text processor however of cloned objects. I don't think it works for actual Scripts. \r\n\r\nAnonynn. ",
      "EditableFormat": "markdown",
      "HTML": "<p>Yup. I had added that script. That is for the text processor however of cloned objects. I don't think it works for actual Scripts.</p>\n<p>Anonynn.</p>\n\n",
      "PostDate": "2017-11-11T07:46:34.5304613Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "e1bd2cec-2e0d-4c45-862d-5ef8f7ee0e8c",
      "UserId": 318253,
      "Username": "K.V.",
      "AvatarUrl": "http://i.imgur.com/FOIjtApb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "**\\> I don't think it works for actual Scripts.**\r\n\r\nI just use ```game.this = this```, then, I use ```game.this``` in place of ```this``` in the scripts that don't like ```this```.\r\n\r\nI didn't know about ```game.text_processor_this = this``` until I saw it in your code, but using ```game.this``` really takes care of everything, as long as you're willing to type \"game.this\" every time you'd like to just type \"this\".\r\n\r\n---\r\nAs long as it works, it's all good.\r\n\r\n(I'm just tinkering with things that tonight, just to see how many ways there are to accomplish the same goal using Quest. Hehehe.)",
      "EditableFormat": "markdown",
      "HTML": "<p><strong>&gt; I don't think it works for actual Scripts.</strong></p>\n<p>I just use <code>game.this = this</code>, then, I use <code>game.this</code> in place of <code>this</code> in the scripts that don't like <code>this</code>.</p>\n<p>I didn't know about <code>game.text_processor_this = this</code> until I saw it in your code, but using <code>game.this</code> really takes care of everything, as long as you're willing to type \"game.this\" every time you'd like to just type \"this\".</p>\n<hr>\n<p>As long as it works, it's all good.</p>\n<p>(I'm just tinkering with things that tonight, just to see how many ways there are to accomplish the same goal using Quest. Hehehe.)</p>\n\n",
      "PostDate": "2017-11-11T09:11:45.179487Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "319179ae-a842-4331-8146-022feed36945",
      "UserId": 1346,
      "Username": "The Pixie",
      "AvatarUrl": "https://secure.gravatar.com/avatar/cfa37e927f96177bcf6053ae8f108f77?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "> Does wait create a closure in Quest? I'm not sure, but I think it might. If so, code within a wait block wouldn't have access to variables from outside it, including this.\r\n\r\nSee here:\r\nhttp://docs.textadventures.co.uk/quest/blocks_and_scripts.html",
      "EditableFormat": "markdown",
      "HTML": "<blockquote>\n<p>Does wait create a closure in Quest? I'm not sure, but I think it might. If so, code within a wait block wouldn't have access to variables from outside it, including this.</p>\n</blockquote>\n<p>See here:<br>\nhttp://docs.textadventures.co.uk/quest/blocks_and_scripts.html</p>\n\n",
      "PostDate": "2017-11-11T09:17:37.3678901Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "d718bf22-f3eb-4897-ad86-97a5ba392943",
      "UserId": 318253,
      "Username": "K.V.",
      "AvatarUrl": "http://i.imgur.com/FOIjtApb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "The text processor must check for the existence of (or value of) ```game.text_processor_this``` each time it's called (or something):\r\n\r\n\r\n```\r\ngame.text_processor_this = this\r\nif (this.alias = null) {\r\n  this.alias = this.name\r\n}\r\nmsg (\"(normal msg)  You use {this.article} ({this.article} being {this.prefix} {this.alias}).<br/>\")\r\nmsg (\"(text processor msg): You use {this.article}. (FYI: \\\"{this.article}\\\", in this case, is {this.prefix} {this.alias}).<br/>\")\r\nwait {\r\n  msg (\"(wait script - normal msg) You use {this.artictle} ({this.article} being {this.prefix} {this.alias}) inside of the <code>wait</code> script.<br/>\")\r\n  msg (\"(wait script - text processor msg): You use {this.article}. (FYI: \\\"this\\\", in this case, is {this.prefix} {this.alias}.)<br/>\")\r\n  ShowMenu (\"Click something here, too:\", Split(\"ShowMenu choice one;ShowMenu choice two\", \";\"), true) {\r\n    msg (\"(ShowMenu msg) 'this' is: {this.name}.<br/>\")\r\n    Ask (\"Will this recognize this?\") {\r\n  msg (\"(Ask msg) 'this' is: {this.alias}.\")\r\n}\r\n  }\r\n}\r\nshow menu (\"Click something here, too:\", Split(\"show menu choice one;show menu choice two\", \";\"), true) {\r\n  msg (\"(show menu msg) 'this' is: {this.name}.<br/>\")\r\n}\r\nask (\"Will this recognize this?\") {\r\n  msg (\"(ask msg) 'this' is: {this.alias}.\")\r\n}\r\n\r\n```\r\n\r\n<samp>\r\n\r\n\\> use thingy\r\n(normal msg) You use it (it being thingy).\r\n\r\n(text processor msg): You use it. (FYI: \"it\", in this case, is thingy).\r\n\r\nClick something here, too:\r\n(ask msg) 'this' is: thingy.\r\n\\- show menu choice one\r\n(show menu msg) 'this' is: thingy.\r\n\r\n(wait script - normal msg) You use (it being thingy) inside of the wait script.\r\n\r\n(wait script - text processor msg): You use it. (FYI: \"this\", in this case, is thingy.)\r\n\r\n(ShowMenu msg) 'this' is: thingy.\r\n\r\n(Ask msg) 'this' is: thingy.\r\n\r\n</samp>",
      "EditableFormat": "markdown",
      "HTML": "<p>The text processor must check for the existence of (or value of) <code>game.text_processor_this</code> each time it's called (or something):</p>\n<pre><code>game.text_processor_this = this\nif (this.alias = null) {\n  this.alias = this.name\n}\nmsg (\"(normal msg)  You use {this.article} ({this.article} being {this.prefix} {this.alias}).&lt;br/&gt;\")\nmsg (\"(text processor msg): You use {this.article}. (FYI: \\\"{this.article}\\\", in this case, is {this.prefix} {this.alias}).&lt;br/&gt;\")\nwait {\n  msg (\"(wait script - normal msg) You use {this.artictle} ({this.article} being {this.prefix} {this.alias}) inside of the &lt;code&gt;wait&lt;/code&gt; script.&lt;br/&gt;\")\n  msg (\"(wait script - text processor msg): You use {this.article}. (FYI: \\\"this\\\", in this case, is {this.prefix} {this.alias}.)&lt;br/&gt;\")\n  ShowMenu (\"Click something here, too:\", Split(\"ShowMenu choice one;ShowMenu choice two\", \";\"), true) {\n    msg (\"(ShowMenu msg) 'this' is: {this.name}.&lt;br/&gt;\")\n    Ask (\"Will this recognize this?\") {\n  msg (\"(Ask msg) 'this' is: {this.alias}.\")\n}\n  }\n}\nshow menu (\"Click something here, too:\", Split(\"show menu choice one;show menu choice two\", \";\"), true) {\n  msg (\"(show menu msg) 'this' is: {this.name}.&lt;br/&gt;\")\n}\nask (\"Will this recognize this?\") {\n  msg (\"(ask msg) 'this' is: {this.alias}.\")\n}\n\n</code></pre>\n<samp>\n<p>&gt; use thingy<br>\n(normal msg) You use it (it being thingy).</p>\n<p>(text processor msg): You use it. (FYI: \"it\", in this case, is thingy).</p>\n<p>Click something here, too:<br>\n(ask msg) 'this' is: thingy.<br>\n- show menu choice one<br>\n(show menu msg) 'this' is: thingy.</p>\n<p>(wait script - normal msg) You use (it being thingy) inside of the wait script.</p>\n<p>(wait script - text processor msg): You use it. (FYI: \"this\", in this case, is thingy.)</p>\n<p>(ShowMenu msg) 'this' is: thingy.</p>\n<p>(Ask msg) 'this' is: thingy.</p>\n</samp>\n\n",
      "PostDate": "2017-11-11T09:39:09.8287558Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "297c3865-95ee-4656-81ed-29251b26a171",
      "UserId": 1346,
      "Username": "The Pixie",
      "AvatarUrl": "https://secure.gravatar.com/avatar/cfa37e927f96177bcf6053ae8f108f77?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "The way the text processor does it means \"this\" will work in ShowMenu, which it normally does not, but it will not work inside a function call such as `\"{=CapFirst(this.alias)} is here.\"`, as in that context `this` will refer to the function. I do not think it actually checks it has been set, and indeed if you fail to set it at one point it will use the last value you did set, which has the potential for some confusing bugs!",
      "EditableFormat": "markdown",
      "HTML": "<p>The way the text processor does it means \"this\" will work in ShowMenu, which it normally does not, but it will not work inside a function call such as <code>\"{=CapFirst(this.alias)} is here.\"</code>, as in that context <code>this</code> will refer to the function. I do not think it actually checks it has been set, and indeed if you fail to set it at one point it will use the last value you did set, which has the potential for some confusing bugs!</p>\n\n",
      "PostDate": "2017-11-11T11:06:59.3497504Z",
      "LastEditDate": null,
      "link": null
    }
  ]
}
