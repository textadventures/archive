{
  "Topic": {
    "TopicId": "1825",
    "ForumId": "10",
    "Title": "Co-ordinate based system, old forum post",
    "LastUpdated": "2008-01-15T17:23:12+00:00",
    "ReplyCount": 3
  },
  "Posts": [
    {
      "PostId": "14545",
      "UserId": 0,
      "Username": "Elexxorine",
      "UserAvatar": null,
      "UserGravatar": "a220ee44d8fe2f07029cf1f61b98bf40",
      "EditableText": "In the old forum there was a thread about a co-ordinate based system, being developed by 'I think Im Back'. I'm quite interested in it. Here's the link to the thread: <!-- m --><a class=\"postlink\" href=\"http://www.axeuk.com/ubb/Forum2/HTML/000597.html\">http://www.axeuk.com/ubb/Forum2/HTML/000597.html</a><!-- m -->\n\nIs 'I Think Im Back' the same person as 'I Think Im Dead'? Has anyone else made something similar?",
      "EditableFormat": "bbcode",
      "HTML": "In the old forum there was a thread about a co-ordinate based system, being developed by 'I think Im Back'. I'm quite interested in it. Here's the link to the thread: <!-- m --><a class=\"postlink\" href=\"http://www.axeuk.com/ubb/Forum2/HTML/000597.html\">http://www.axeuk.com/ubb/Forum2/HTML/000597.html</a><!-- m --><br/><br/>Is 'I Think Im Back' the same person as 'I Think Im Dead'? Has anyone else made something similar?",
      "PostDate": "2008-01-15T11:39:10+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "14548",
      "UserId": 0,
      "Username": "steve the gaming guy",
      "UserAvatar": null,
      "UserGravatar": "6577a0affcb6ea711c75baf052ffd08a",
      "EditableText": "Well, ms. elex..\n\nPaul_one/Tr0n/Computer Whizz once helped me with a really cool system.  It may not be exactly what you're looking for but I had a section of desert that had to be walked through and I did not want to make a bunch of rooms.  So instead, this coordinate idea was devised which allowed like 2 or 3 rooms to turn into as many as I wanted.  It was a neat idea.  It's in both versions of my King's Quest game.  For the life of me, I can't find the link in the forums but it was sometime in 2005 when I was asking about it, I think.\nIf I stumble across it, I'll link it.",
      "EditableFormat": "bbcode",
      "HTML": "Well, ms. elex..<br/><br/>Paul_one/Tr0n/Computer Whizz once helped me with a really cool system.  It may not be exactly what you're looking for but I had a section of desert that had to be walked through and I did not want to make a bunch of rooms.  So instead, this coordinate idea was devised which allowed like 2 or 3 rooms to turn into as many as I wanted.  It was a neat idea.  It's in both versions of my King's Quest game.  For the life of me, I can't find the link in the forums but it was sometime in 2005 when I was asking about it, I think.<br/>If I stumble across it, I'll link it.",
      "PostDate": "2008-01-15T15:55:53+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "14549",
      "UserId": 0,
      "Username": "Elexxorine",
      "UserAvatar": null,
      "UserGravatar": "a220ee44d8fe2f07029cf1f61b98bf40",
      "EditableText": "Thanks, I'll have a look at what you've done.",
      "EditableFormat": "bbcode",
      "HTML": "Thanks, I'll have a look at what you've done.",
      "PostDate": "2008-01-15T16:24:23+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "14550",
      "UserId": 0,
      "Username": "steve the gaming guy",
      "UserAvatar": null,
      "UserGravatar": "6577a0affcb6ea711c75baf052ffd08a",
      "EditableText": "Paul_one may have to give you better specifics about this but I'm going to copy some code out of my game and show you.  The first segment was what was posted at the beginning of the file.  It sets specific points of interests throughout the grid; in other words, these are the non-repeating room coordinates...\n\n[code:2wqpyp4x]\tstartscript {\n\t\tset string &lt;oasis&#91;1&#93;; 5,2&gt;\n\t\tset string &lt;oasis&#91;2&#93;; 9,3&gt;\n\t\tset string &lt;oasis&#91;3&#93;; 7,0&gt;\n\t\tset string &lt;oasis&#91;4&#93;; 7,-1&gt;\n\t\tset string &lt;oasis&#91;5&#93;; 6,3&gt;\n\t\tset string &lt;oasis&#91;6&#93;; 10,6&gt;\n\t\tset string &lt;oasis&#91;7&#93;; 0,3&gt;\n\t\tset string &lt;oasis&#91;8&#93;; 0,4&gt;\n\t\tset string &lt;oasis&#91;9&#93;; 0,5&gt;\n\t\tset string &lt;oasis&#91;10&#93;; 0,6&gt;\n\t\tset string &lt;oasis_room&#91;1&#93;; oasis1&gt;\n\t\tset string &lt;oasis_room&#91;2&#93;; oasis2&gt;\n\t\tset string &lt;oasis_room&#91;3&#93;; oasis3&gt;\n\t\tset string &lt;oasis_room&#91;4&#93;; stone temple&gt;\n\t\tset string &lt;oasis_room&#91;5&#93;; desert skeleton&gt;\n\t\tset string &lt;oasis_room&#91;6&#93;; tents&gt;\n\t\tset string &lt;oasis_room&#91;7&#93;; death1&gt;\n\t\tset string &lt;oasis_room&#91;8&#93;; death2&gt;\n\t\tset string &lt;oasis_room&#91;9&#93;; death3&gt;\n\t\tset string &lt;oasis_room&#91;10&#93;; death4&gt;\n\t\tif ( $loadmethod$ = normal ) then do &lt;start&gt;\n\t\t\n\t}\n\n\tproperties &lt;desert_x=0; desert_y=0&gt;[/code:2wqpyp4x]\n\nNow here's some code from the middle part of the game.  It defines the desert rooms including the oasis rooms.\n\n[code:2wqpyp4x]define room &lt;start&gt;\n\talias &lt;end of the forest&gt;\n\tprefix &lt;the&gt;\n\tlook &lt;At the edge of the forest, the desert sands strangle what remaining grass tries to grow&#46;  Further west is nothing but desert sand as far as you can see&#46;&gt;\n\tsouth do &lt;desert_exit(S)&gt;\n\teast {\n\t\tgoto &lt;northeastern clearing&gt;\n\t}\n\twest do &lt;desert_exit(W)&gt;\n\tdescription {\n\t\tmsg &lt;You are at the |b|clend of the forest|xb|cb&#46;|n&gt;\n\t\tmsg &lt;#quest&#46;lookdesc#&gt;\n\t}\nend define\n\ndefine room &lt;desert&gt;\n\tprefix &lt;the&gt;\n\tlook &lt;Endless sand in all directions&#46;&gt;\n\tnorth {\n\t\tif ( #edgedetect&#91;2&#93;# = FALSE ) then msg &lt;The face of a cliff blocks any further passage north&#46;&gt; else do &lt;desert_exit(N)&gt;\n\t}\n\tsouth do &lt;desert_exit(S)&gt;\n\teast do &lt;desert_exit(E)&gt;\n\twest do &lt;desert_exit(W)&gt;\n\tscript {\n\t\tset numeric &lt;ED_north1; #game&#58;desert_y# - 1&gt;\n\t\tset numeric &lt;ED_east1; #game&#58;desert_x# - 1&gt;\n\t\tset string &lt;edgedetect&#91;1&#93;; $desertroom(%ED_east1%; #game&#58;desert_y#)$&gt;\n\t\tset string &lt;edgedetect&#91;2&#93;; $desertroom(#game&#58;desert_x#; %ED_north1%)$&gt;\n\t}\nend define\n\ndefine room &lt;oasis1&gt;\n\talias &lt;oasis&gt;\n\tprefix &lt;the&gt;\n\tlook &lt;You've reached the oasis&#46;  What a pleasant relief to find among the desert sands&#46;&gt;\n\tnorth do &lt;desert_exit(N)&gt;\n\tsouth do &lt;desert_exit(S)&gt;\n\teast do &lt;desert_exit(E)&gt;\n\twest do &lt;desert_exit(W)&gt;\n\tdescription {\n\t\tmsg &lt;You are at the |b|cloasis|xb|cb&#46;|n&gt;\n\t\tmsg &lt;#quest&#46;lookdesc#&gt;\n\t}\n\t                prefix &lt;the&gt;\n\t\tarticle &lt;it&gt;\n\t\tgender &lt;it&gt;\n\tend define\n\nend define\n\ndefine room &lt;oasis2&gt;\n\talias &lt;oasis&gt;\n\tprefix &lt;the&gt;\n\tlook &lt;You've reached the oasis&#46;  What a pleasant relief to find among the desert sands&#46;&gt;\n\tnorth do &lt;desert_exit(N)&gt;\n\tsouth do &lt;desert_exit(S)&gt;\n\teast do &lt;desert_exit(E)&gt;\n\twest do &lt;desert_exit(W)&gt;\n\tdescription {\n\t\tmsg &lt;You are at the |b|cloasis|xb|cb&#46;|n&gt;\n\t\tmsg &lt;#quest&#46;lookdesc#&gt;\n\t}\n\n\tend define\n\nend define\n\ndefine room &lt;oasis3&gt;\n\talias &lt;oasis&gt;\n\tprefix &lt;the&gt;\n\tlook &lt;You stand before a huge opening in the cliff to the north&#46;  You can see a huge stone temple carved right into the side of the cliff&#46;|nA small oasis sits near a small boulder&#46;&gt;\n\tnorth do &lt;desert_exit(N)&gt;\n\tsouth do &lt;desert_exit(S)&gt;\n\teast do &lt;desert_exit(E)&gt;\n\twest do &lt;desert_exit(W)&gt;\n\n\tend define[/code:2wqpyp4x]\n\nThis is the crazy formula:\n\n[code:2wqpyp4x]define function &lt;desertroom&gt;\n\tset string &lt;returning; 1&gt;\n\tset numeric &lt;upper; $ubound(oasis)$&gt;\n\tif ( $numberparameters$ &gt; 0 ) then {\n\t\tif ( $parameter(1)$ &gt; 0 ) and ( $parameter(2)$ &lt; 0 ) then {\n\t\t\tset string &lt;hypoth; $parameter(1)$,$parameter(2)$ &gt;\n\t\t\tset string &lt;returning; FALSE&gt;\n\t\t\tfor &lt;i; 1; %upper%&gt; {\n\t\t\t\tif ( #hypoth# = #oasis&#91;i&#93;# ) then set string &lt;returning; TRUE&gt;\n\t\t\t}\n\t\t}\n\t\telse set string &lt;returning; TRUE&gt;\n\t}\n\telse {\n\t\tfor &lt;i; 1; %upper%&gt; {\n\t\t\tset string &lt;dest; #game&#58;desert_x#,#game&#58;desert_y#&gt;\n\t\t\tif ( #dest# = #oasis&#91;i&#93;# ) then set string &lt;returning; #oasis_room&#91;i&#93;#&gt;\n\t\t}\n\t\tif ( #returning# = 1 ) then {\n\t\t\tif ( #game&#58;desert_x# = 0 ) and ( #game&#58;desert_y# = 0 ) then {\n\t\t\t\tset string &lt;returning; start&gt;\n\t\t\t\tproperty &lt;game; desert_x=0; desert_y=0&gt;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif ( #returning# = 1 ) then {\n\t\t\t\t\tif ( #game&#58;desert_x# = 0 ) and ( #game&#58;desert_y# = 1 ) then {\n\t\t\t\t\t\tset string &lt;returning; start2&gt;\n\t\t\t\t\t\tproperty &lt;game; desert_x=0; desert_y=1&gt;\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tif ( #returning# = 1 ) then {\n\t\t\t\t\t\t\tif ( #game&#58;desert_x# = 0 ) and ( #game&#58;desert_y# = 2 ) then {\n\t\t\t\t\t\t\t\tset string &lt;returning; start3&gt;\n\t\t\t\t\t\t\t\tproperty &lt;game; desert_x=0; desert_y=2&gt;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\tset string &lt;returning; desert&gt;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\treturn &lt;#returning#&gt;\n\t\nend define[/code:2wqpyp4x]",
      "EditableFormat": "bbcode",
      "HTML": "Paul_one may have to give you better specifics about this but I'm going to copy some code out of my game and show you.  The first segment was what was posted at the beginning of the file.  It sets specific points of interests throughout the grid; in other words, these are the non-repeating room coordinates...<br/><br/><pre><code>\tstartscript {<br/>\t\tset string &lt;oasis&#91;1&#93;; 5,2&gt;<br/>\t\tset string &lt;oasis&#91;2&#93;; 9,3&gt;<br/>\t\tset string &lt;oasis&#91;3&#93;; 7,0&gt;<br/>\t\tset string &lt;oasis&#91;4&#93;; 7,-1&gt;<br/>\t\tset string &lt;oasis&#91;5&#93;; 6,3&gt;<br/>\t\tset string &lt;oasis&#91;6&#93;; 10,6&gt;<br/>\t\tset string &lt;oasis&#91;7&#93;; 0,3&gt;<br/>\t\tset string &lt;oasis&#91;8&#93;; 0,4&gt;<br/>\t\tset string &lt;oasis&#91;9&#93;; 0,5&gt;<br/>\t\tset string &lt;oasis&#91;10&#93;; 0,6&gt;<br/>\t\tset string &lt;oasis_room&#91;1&#93;; oasis1&gt;<br/>\t\tset string &lt;oasis_room&#91;2&#93;; oasis2&gt;<br/>\t\tset string &lt;oasis_room&#91;3&#93;; oasis3&gt;<br/>\t\tset string &lt;oasis_room&#91;4&#93;; stone temple&gt;<br/>\t\tset string &lt;oasis_room&#91;5&#93;; desert skeleton&gt;<br/>\t\tset string &lt;oasis_room&#91;6&#93;; tents&gt;<br/>\t\tset string &lt;oasis_room&#91;7&#93;; death1&gt;<br/>\t\tset string &lt;oasis_room&#91;8&#93;; death2&gt;<br/>\t\tset string &lt;oasis_room&#91;9&#93;; death3&gt;<br/>\t\tset string &lt;oasis_room&#91;10&#93;; death4&gt;<br/>\t\tif ( $loadmethod$ = normal ) then do &lt;start&gt;<br/>\t\t<br/>\t}<br/><br/>\tproperties &lt;desert_x=0; desert_y=0&gt;</code></pre><br/><br/>Now here's some code from the middle part of the game.  It defines the desert rooms including the oasis rooms.<br/><br/><pre><code>define room &lt;start&gt;<br/>\talias &lt;end of the forest&gt;<br/>\tprefix &lt;the&gt;<br/>\tlook &lt;At the edge of the forest, the desert sands strangle what remaining grass tries to grow&#46;  Further west is nothing but desert sand as far as you can see&#46;&gt;<br/>\tsouth do &lt;desert_exit(S)&gt;<br/>\teast {<br/>\t\tgoto &lt;northeastern clearing&gt;<br/>\t}<br/>\twest do &lt;desert_exit(W)&gt;<br/>\tdescription {<br/>\t\tmsg &lt;You are at the |b|clend of the forest|xb|cb&#46;|n&gt;<br/>\t\tmsg &lt;#quest&#46;lookdesc#&gt;<br/>\t}<br/>end define<br/><br/>define room &lt;desert&gt;<br/>\tprefix &lt;the&gt;<br/>\tlook &lt;Endless sand in all directions&#46;&gt;<br/>\tnorth {<br/>\t\tif ( #edgedetect&#91;2&#93;# = FALSE ) then msg &lt;The face of a cliff blocks any further passage north&#46;&gt; else do &lt;desert_exit(N)&gt;<br/>\t}<br/>\tsouth do &lt;desert_exit(S)&gt;<br/>\teast do &lt;desert_exit(E)&gt;<br/>\twest do &lt;desert_exit(W)&gt;<br/>\tscript {<br/>\t\tset numeric &lt;ED_north1; #game&#58;desert_y# - 1&gt;<br/>\t\tset numeric &lt;ED_east1; #game&#58;desert_x# - 1&gt;<br/>\t\tset string &lt;edgedetect&#91;1&#93;; $desertroom(%ED_east1%; #game&#58;desert_y#)$&gt;<br/>\t\tset string &lt;edgedetect&#91;2&#93;; $desertroom(#game&#58;desert_x#; %ED_north1%)$&gt;<br/>\t}<br/>end define<br/><br/>define room &lt;oasis1&gt;<br/>\talias &lt;oasis&gt;<br/>\tprefix &lt;the&gt;<br/>\tlook &lt;You've reached the oasis&#46;  What a pleasant relief to find among the desert sands&#46;&gt;<br/>\tnorth do &lt;desert_exit(N)&gt;<br/>\tsouth do &lt;desert_exit(S)&gt;<br/>\teast do &lt;desert_exit(E)&gt;<br/>\twest do &lt;desert_exit(W)&gt;<br/>\tdescription {<br/>\t\tmsg &lt;You are at the |b|cloasis|xb|cb&#46;|n&gt;<br/>\t\tmsg &lt;#quest&#46;lookdesc#&gt;<br/>\t}<br/>\t                prefix &lt;the&gt;<br/>\t\tarticle &lt;it&gt;<br/>\t\tgender &lt;it&gt;<br/>\tend define<br/><br/>end define<br/><br/>define room &lt;oasis2&gt;<br/>\talias &lt;oasis&gt;<br/>\tprefix &lt;the&gt;<br/>\tlook &lt;You've reached the oasis&#46;  What a pleasant relief to find among the desert sands&#46;&gt;<br/>\tnorth do &lt;desert_exit(N)&gt;<br/>\tsouth do &lt;desert_exit(S)&gt;<br/>\teast do &lt;desert_exit(E)&gt;<br/>\twest do &lt;desert_exit(W)&gt;<br/>\tdescription {<br/>\t\tmsg &lt;You are at the |b|cloasis|xb|cb&#46;|n&gt;<br/>\t\tmsg &lt;#quest&#46;lookdesc#&gt;<br/>\t}<br/><br/>\tend define<br/><br/>end define<br/><br/>define room &lt;oasis3&gt;<br/>\talias &lt;oasis&gt;<br/>\tprefix &lt;the&gt;<br/>\tlook &lt;You stand before a huge opening in the cliff to the north&#46;  You can see a huge stone temple carved right into the side of the cliff&#46;|nA small oasis sits near a small boulder&#46;&gt;<br/>\tnorth do &lt;desert_exit(N)&gt;<br/>\tsouth do &lt;desert_exit(S)&gt;<br/>\teast do &lt;desert_exit(E)&gt;<br/>\twest do &lt;desert_exit(W)&gt;<br/><br/>\tend define</code></pre><br/><br/>This is the crazy formula:<br/><br/><pre><code>define function &lt;desertroom&gt;<br/>\tset string &lt;returning; 1&gt;<br/>\tset numeric &lt;upper; $ubound(oasis)$&gt;<br/>\tif ( $numberparameters$ &gt; 0 ) then {<br/>\t\tif ( $parameter(1)$ &gt; 0 ) and ( $parameter(2)$ &lt; 0 ) then {<br/>\t\t\tset string &lt;hypoth; $parameter(1)$,$parameter(2)$ &gt;<br/>\t\t\tset string &lt;returning; FALSE&gt;<br/>\t\t\tfor &lt;i; 1; %upper%&gt; {<br/>\t\t\t\tif ( #hypoth# = #oasis&#91;i&#93;# ) then set string &lt;returning; TRUE&gt;<br/>\t\t\t}<br/>\t\t}<br/>\t\telse set string &lt;returning; TRUE&gt;<br/>\t}<br/>\telse {<br/>\t\tfor &lt;i; 1; %upper%&gt; {<br/>\t\t\tset string &lt;dest; #game&#58;desert_x#,#game&#58;desert_y#&gt;<br/>\t\t\tif ( #dest# = #oasis&#91;i&#93;# ) then set string &lt;returning; #oasis_room&#91;i&#93;#&gt;<br/>\t\t}<br/>\t\tif ( #returning# = 1 ) then {<br/>\t\t\tif ( #game&#58;desert_x# = 0 ) and ( #game&#58;desert_y# = 0 ) then {<br/>\t\t\t\tset string &lt;returning; start&gt;<br/>\t\t\t\tproperty &lt;game; desert_x=0; desert_y=0&gt;<br/>\t\t\t}<br/>\t\t\telse {<br/>\t\t\t\tif ( #returning# = 1 ) then {<br/>\t\t\t\t\tif ( #game&#58;desert_x# = 0 ) and ( #game&#58;desert_y# = 1 ) then {<br/>\t\t\t\t\t\tset string &lt;returning; start2&gt;<br/>\t\t\t\t\t\tproperty &lt;game; desert_x=0; desert_y=1&gt;<br/>\t\t\t\t\t}<br/>\t\t\t\t\telse {<br/>\t\t\t\t\t\tif ( #returning# = 1 ) then {<br/>\t\t\t\t\t\t\tif ( #game&#58;desert_x# = 0 ) and ( #game&#58;desert_y# = 2 ) then {<br/>\t\t\t\t\t\t\t\tset string &lt;returning; start3&gt;<br/>\t\t\t\t\t\t\t\tproperty &lt;game; desert_x=0; desert_y=2&gt;<br/>\t\t\t\t\t\t\t}<br/>\t\t\t\t\t\t\telse {<br/>\t\t\t\t\t\t\t\tset string &lt;returning; desert&gt;<br/>\t\t\t\t\t\t\t}<br/>\t\t\t\t\t\t}<br/>\t\t\t\t\t}<br/>\t\t\t\t}<br/>\t\t\t}<br/>\t\t}<br/>\t}<br/>\treturn &lt;#returning#&gt;<br/>\t<br/>end define</code></pre>",
      "PostDate": "2008-01-15T17:23:12+00:00",
      "LastEditDate": null
    }
  ]
}
