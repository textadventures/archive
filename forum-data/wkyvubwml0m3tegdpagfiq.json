{
  "Topic": {
    "TopicId": "wkyvubwml0m3tegdpagfiq",
    "ForumId": "10",
    "Title": "How to make the exit unlock",
    "LastUpdated": "2020-04-17T17:41:05.0050422Z",
    "ReplyCount": 0
  },
  "Posts": [
    {
      "PostId": "35e346a1-8ead-4cae-afe9-51180d88b92e",
      "UserId": 476480,
      "Username": "ZodiacStories",
      "AvatarUrl": "https://i.imgur.com/P5bd59db.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Hello again, I have an exit that is locked, so what commanded to I have to use to make my key unlock it? Or is there a way I can trigger it to unlock when a certain item is picked up",
      "EditableFormat": "markdown",
      "HTML": "<p>Hello again, I have an exit that is locked, so what commanded to I have to use to make my key unlock it? Or is there a way I can trigger it to unlock when a certain item is picked up</p>\n\n",
      "PostDate": "2020-04-17T17:41:05.0050422Z",
      "LastEditDate": "2020-04-17T17:43:53.4421243Z",
      "link": null
    },
    {
      "PostId": "aacf9ba3-533c-4ec0-aa2b-8dffbb4479db",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "In any script, you can unlock an exit by doing something like:\r\n```\r\nname_of_exit.locked = false\r\n```\r\nNote that you have to give an exit a name before that will work.\r\n\r\n<hr />\r\n\r\nIt is also possible to give the exit an \"unlock\" verb; but \"lock\" and \"unlock\" are designed for containers, it requires a little extra work.\r\n\r\nFirst, you'd need to make the `unlock` verb work on exits as well as objects, by giving it script attribute named `changecommandscope` containing the script:\r\n```\r\nforeach (exit, ScopeExits()) {\r\n  list add (items, exit)\r\n}\r\n```\r\n\r\nThen you'd want to give the exit attributes like `autounlock`, `keycount`, `key`, `lockmessage`, and so on. I'm not sure, but I think that making the exit inherit `container_lockable` might add the tab to edit these values in the GUI.",
      "EditableFormat": "markdown",
      "HTML": "<p>In any script, you can unlock an exit by doing something like:</p>\n<pre><code>name_of_exit.locked = false\n</code></pre>\n<p>Note that you have to give an exit a name before that will work.</p>\n<hr>\n<p>It is also possible to give the exit an \"unlock\" verb; but \"lock\" and \"unlock\" are designed for containers, it requires a little extra work.</p>\n<p>First, you'd need to make the <code>unlock</code> verb work on exits as well as objects, by giving it script attribute named <code>changecommandscope</code> containing the script:</p>\n<pre><code>foreach (exit, ScopeExits()) {\n  list add (items, exit)\n}\n</code></pre>\n<p>Then you'd want to give the exit attributes like <code>autounlock</code>, <code>keycount</code>, <code>key</code>, <code>lockmessage</code>, and so on. I'm not sure, but I think that making the exit inherit <code>container_lockable</code> might add the tab to edit these values in the GUI.</p>\n\n",
      "PostDate": "2020-04-17T19:54:49.5036455Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "2709fdca-9b49-4f46-89e9-fc3f8607a6a0",
      "UserId": 476480,
      "Username": "ZodiacStories",
      "AvatarUrl": "https://i.imgur.com/P5bd59db.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Thank you, but do you know of a video that I could watch as well?",
      "EditableFormat": "markdown",
      "HTML": "<p>Thank you, but do you know of a video that I could watch as well?</p>\n\n",
      "PostDate": "2020-04-17T20:04:58.0192467Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "32497517-c86c-4828-8a7c-b2f98f086172",
      "UserId": 56551,
      "Username": "XanMag",
      "AvatarUrl": "https://secure.gravatar.com/avatar/4b45a3afd18077f76f6569225c422bdb?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Not sure if this would be that helpful but I pulled this from my template and tutorial \"game\".  Ask if you have questions!  And I ASSUME you are using the downloaded version.\r\n\r\n3. Whenever you want to unlock an exit, you need to choose an 'unlock exit' script from the pop-up menu and select it. It is that simple. So, for moost of these doors, I added an 'unlock exit' script when the key was used on the door. If you go to the 'use/give' tab of the key, you'll see the script.\r\n4. Be sure to add a default which is especially important if you have more than one key in your game.\r\n5. Usually when I unlock a door or gate, I like to also add a flag to that barrier. I just added a flag named 'unlocked' after each barrier was effectively unlocked.\r\n6. I then added 'IF' descriptions to each barrier. 'If' object old door has flag name 'unlocked' I printed a message indicating the door has already been unlocked. If you want a good game, be sure to do this with all locks. It seems kind of silly to unlock a door and the description indicates that it is still locked!\r\n---\r\n7. The locking button - I simply reversed everything I did above. I locked all exits in these four rooms and unset all flags. I did this just so you can see that you can also lock exits with certain events!\r\n---\r\n8. The triangular door - this lock I dealt with a little differently. If the player tries to move in the direction of the door and has possession of the key, I just let them pass. This is nice if you want save the player from typing in use key b on door, etc, etc.\r\n9. To do this, I simply used an 'IF' script. If object player is carrying object triangular key, then print a message that acknowledges that the player has teh key. Also, add a move object script to move player to desired room. For the 'Else' part of this script, I printed a message telling the player they do not have the proper key to access this area.",
      "EditableFormat": "markdown",
      "HTML": "<p>Not sure if this would be that helpful but I pulled this from my template and tutorial \"game\".  Ask if you have questions!  And I ASSUME you are using the downloaded version.</p>\n<ol start=\"3\">\n<li>Whenever you want to unlock an exit, you need to choose an 'unlock exit' script from the pop-up menu and select it. It is that simple. So, for moost of these doors, I added an 'unlock exit' script when the key was used on the door. If you go to the 'use/give' tab of the key, you'll see the script.</li>\n<li>Be sure to add a default which is especially important if you have more than one key in your game.</li>\n<li>Usually when I unlock a door or gate, I like to also add a flag to that barrier. I just added a flag named 'unlocked' after each barrier was effectively unlocked.</li>\n<li>I then added 'IF' descriptions to each barrier. 'If' object old door has flag name 'unlocked' I printed a message indicating the door has already been unlocked. If you want a good game, be sure to do this with all locks. It seems kind of silly to unlock a door and the description indicates that it is still locked!</li>\n</ol>\n<hr>\n<ol start=\"7\">\n<li>The locking button - I simply reversed everything I did above. I locked all exits in these four rooms and unset all flags. I did this just so you can see that you can also lock exits with certain events!</li>\n</ol>\n<hr>\n<ol start=\"8\">\n<li>The triangular door - this lock I dealt with a little differently. If the player tries to move in the direction of the door and has possession of the key, I just let them pass. This is nice if you want save the player from typing in use key b on door, etc, etc.</li>\n<li>To do this, I simply used an 'IF' script. If object player is carrying object triangular key, then print a message that acknowledges that the player has teh key. Also, add a move object script to move player to desired room. For the 'Else' part of this script, I printed a message telling the player they do not have the proper key to access this area.</li>\n</ol>\n\n",
      "PostDate": "2020-04-17T20:06:49.4170355Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "b9fd1c44-69c1-4952-b1c0-4d409a8a979b",
      "UserId": 476480,
      "Username": "ZodiacStories",
      "AvatarUrl": "https://i.imgur.com/P5bd59db.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "So, I want to have exit unlock once the player has a book in their inventory. I have the script for the exit that says \"If a player carries object\" then the exit is to unlock but nothing happens.",
      "EditableFormat": "markdown",
      "HTML": "<p>So, I want to have exit unlock once the player has a book in their inventory. I have the script for the exit that says \"If a player carries object\" then the exit is to unlock but nothing happens.</p>\n\n",
      "PostDate": "2020-04-17T23:07:23.6819388Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "d6f5a8be-d763-4c16-a1db-f6b93a6d6009",
      "UserId": 56551,
      "Username": "XanMag",
      "AvatarUrl": "https://secure.gravatar.com/avatar/4b45a3afd18077f76f6569225c422bdb?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "On the book, try ticking script when object is picked up.  Add to that script:\r\n1.  Add object book to inventory.\r\n2.  Make exit [name] visible\r\n3.  Unlock exit [name]",
      "EditableFormat": "markdown",
      "HTML": "<p>On the book, try ticking script when object is picked up.  Add to that script:</p>\n<ol>\n<li>Add object book to inventory.</li>\n<li>Make exit [name] visible</li>\n<li>Unlock exit [name]</li>\n</ol>\n\n",
      "PostDate": "2020-04-17T23:55:57.1996337Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "c17e3d13-3ddb-4bf4-899e-3a52cf590290",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "> So, I want to have exit unlock once the player has a book in their inventory. I have the script for the exit that says \"If a player carries object\" then the exit is to unlock but nothing happens.\r\n\r\nThe script on an exit runs only if the exit is unlocked, instead of going through it.\r\n\r\nSo you'd want to make the exit not locked, but give it a script like:\r\n<pre><code>if (Got (<em style=\"color:blue;font-fmily:initial\">book</em>)) {\r\n  MovePlayer (this.to)\r\n}\r\nelse {\r\n  msg (\"<em style=\"color:brown;font-fmily:initial\">You push at the door, but it doesn't open</em>\")\r\n}</code></pre>\r\n(changing <em style=\"color:blue\">book</em> to the name of the book object)",
      "EditableFormat": "markdown",
      "HTML": "<blockquote>\n<p>So, I want to have exit unlock once the player has a book in their inventory. I have the script for the exit that says \"If a player carries object\" then the exit is to unlock but nothing happens.</p>\n</blockquote>\n<p>The script on an exit runs only if the exit is unlocked, instead of going through it.</p>\n<p>So you'd want to make the exit not locked, but give it a script like:</p>\n<pre><code>if (Got (<em style=\"color: blue\">book</em>)) {\n  MovePlayer (this.to)\n}\nelse {\n  msg (\"<em style=\"color: brown\">You push at the door, but it doesn't open</em>\")\n}</code></pre>\n<p>(changing <em style=\"color: blue\">book</em> to the name of the book object)</p>\n\n",
      "PostDate": "2020-04-18T10:02:26.5641627Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "a471bb4a-c1f1-49e3-b99e-dbafa6a172b2",
      "UserId": 476480,
      "Username": "ZodiacStories",
      "AvatarUrl": "https://i.imgur.com/P5bd59db.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "One last thing, all of it works, but the player can't get to the next room. I type in \"go outside,\" and the message plays about leaving the first room, but the player is still in the first room.",
      "EditableFormat": "markdown",
      "HTML": "<p>One last thing, all of it works, but the player can't get to the next room. I type in \"go outside,\" and the message plays about leaving the first room, but the player is still in the first room.</p>\n\n",
      "PostDate": "2020-04-18T12:38:52.2649597Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "6cd377b4-3882-4ad3-952b-1422dd55f475",
      "UserId": 56551,
      "Username": "XanMag",
      "AvatarUrl": "https://secure.gravatar.com/avatar/4b45a3afd18077f76f6569225c422bdb?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Hm.  A simple solution would be to add a script:\r\n- move object player to room 2\r\n\r\nwhen they type \"go outside\"",
      "EditableFormat": "markdown",
      "HTML": "<p>Hm.  A simple solution would be to add a script:</p>\n<ul>\n<li>move object player to room 2</li>\n</ul>\n<p>when they type \"go outside\"</p>\n\n",
      "PostDate": "2020-04-18T15:14:34.961109Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "b8f3dc92-ac1c-42d9-abb1-9e8e1241a8b5",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "> One last thing, all of it works, but the player can't get to the next room. I type in \"go outside,\" and the message plays about leaving the first room, but the player is still in the first room.\r\n\r\nDid you use the method I suggested, or the method XanMag suggested?\r\n\r\nIf mine, did you remember to include the `MovePlayer` line?\r\n\r\nIf you're still having problems, it might be worth including the script that you're using (code view is good for copying and pasting excerpts here, even if you prefer to edit in the GUI); or a link to the game so we can see the problem.",
      "EditableFormat": "markdown",
      "HTML": "<blockquote>\n<p>One last thing, all of it works, but the player can't get to the next room. I type in \"go outside,\" and the message plays about leaving the first room, but the player is still in the first room.</p>\n</blockquote>\n<p>Did you use the method I suggested, or the method XanMag suggested?</p>\n<p>If mine, did you remember to include the <code>MovePlayer</code> line?</p>\n<p>If you're still having problems, it might be worth including the script that you're using (code view is good for copying and pasting excerpts here, even if you prefer to edit in the GUI); or a link to the game so we can see the problem.</p>\n\n",
      "PostDate": "2020-04-18T15:15:22.1133809Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "252a8b4e-4af1-453e-93ab-1a56a5295d49",
      "UserId": 476480,
      "Username": "ZodiacStories",
      "AvatarUrl": "https://i.imgur.com/P5bd59db.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "That was it!! thank you both",
      "EditableFormat": "markdown",
      "HTML": "<p>That was it!! thank you both</p>\n\n",
      "PostDate": "2020-04-18T16:21:05.7996767Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "8546807b-341d-4ba1-aba5-cf7a68d3be8b",
      "UserId": 476480,
      "Username": "ZodiacStories",
      "AvatarUrl": "https://i.imgur.com/P5bd59db.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "I do have one more question. is there a way to make it where the exit can only be unlocked when you have three certain objects in your inventory?",
      "EditableFormat": "markdown",
      "HTML": "<p>I do have one more question. is there a way to make it where the exit can only be unlocked when you have three certain objects in your inventory?</p>\n\n",
      "PostDate": "2020-04-18T22:40:45.7045318Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "9c40d842-456e-4c59-a6d2-71f607b914a5",
      "UserId": 56551,
      "Username": "XanMag",
      "AvatarUrl": "https://secure.gravatar.com/avatar/4b45a3afd18077f76f6569225c422bdb?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "The following is an example from my tutorial that I use.  I used puzzle pieces and a jigsaw puzzle.  Use what makes sense to you.\r\n\r\n>explain room\r\n\r\nThis is a frequent problem I see on the forums and one that I struggled with for the longest time. Once I figured this out, it is most likely the most helpful bit of coding I have learned. It really opens up gaming options! So, I will try to make this simple.\r\n\r\nYou will use something like this whenever you want multiple things to get accomplished before it triggers a new event or singular accomplishment. Want to have multiple keys used to open a door? Or, multiple pieces of a password collected before punching in a code? You want to wear multiple different pieces of clothing before you can sneak in to a top secret lab?? This is your answer.\r\n\r\n\r\n1. You will need to add an attribute to an object. (found in the bottom half of the attribute tab of whatever object you want to set this on).  Make it an integer attribute and set the integer equal to the number of sub-events (In your case, 3). In this room, I added the attribute to the jigsaw puzzle. You need to use four puzzle pieces to complete the puzzle, so I set the integer to 4.\r\n2. To do so, click on the object, click on the attribute tab. At the bottom box, click on 'Add'. I always name mine [something]Count. In this case, I named it 'MissingPieceCount'. (You could name it HeldKeysCount)\r\n3a. Next, click on the 'Add change script'. Under this, I added an 'If' script. Select the 'If object attribute equals' from the drop down. \r\n3b. Select the object the attribute is set on. In this case, it was the jigsaw puzzle.  (Yours May be the door name?)\r\n3c. Type in the title of your attribute. Here it was 'MissingPieceCount' and set it to value zero (0).\r\n3d. For the then, I printed a 'Congratulations, the puzzle is complete' message and set a flag titled 'Complete' on the puzzle. I did this so I could look at the puzzle and get a different response for a complete puzzle and one that wasn't complete.\r\n4a. Wherever the subevent is completed... in this case it was use puzzle piece with puzzle.... you need to adjust the integer variable on the object in question.\r\n4b. To do this, I chose the 'set a variable or attribute' script under the heading 'Variables'.\r\n4c. You need to type into that first box the following: object.attribute - In the second box you need to leave it as 'expression'. In the third box you need to adjust the variable by typing the following: object.attribute - 1\r\n4d. So, in my example, it looks like this: Set variable: jigsaw puzzle.MissingPieceCount = expression jigsaw puzzle.MissingPieceCount -1\r\n5. Now, back over to the changedMissingPieceCount script if you choose. I didn't, but you could have added a bunch of Else Ifs to the changedMissingPieceCount attribute. Else If, object has attribute equal to 4 (or 3, or 2, or 1) print a proper message. If you choose to do this, each time a sub-event is comleted, you can send a message to the player that there are three (or two, or one) more events needed to complete it.\r\n6. Optional: In the look at description, you can add a switch or a bunch of If/Else Ifs to describe the object (puzzle) that is changing.\r\n\r\nI know this is long winded and I hope it makes sense.  You just have to change the name of your objects to whatever you named them and change the name of your attribute to whatever you named it.\r\n\r\nAsk if you have questions!",
      "EditableFormat": "markdown",
      "HTML": "<p>The following is an example from my tutorial that I use.  I used puzzle pieces and a jigsaw puzzle.  Use what makes sense to you.</p>\n<blockquote>\n<p>explain room</p>\n</blockquote>\n<p>This is a frequent problem I see on the forums and one that I struggled with for the longest time. Once I figured this out, it is most likely the most helpful bit of coding I have learned. It really opens up gaming options! So, I will try to make this simple.</p>\n<p>You will use something like this whenever you want multiple things to get accomplished before it triggers a new event or singular accomplishment. Want to have multiple keys used to open a door? Or, multiple pieces of a password collected before punching in a code? You want to wear multiple different pieces of clothing before you can sneak in to a top secret lab?? This is your answer.</p>\n<ol>\n<li>You will need to add an attribute to an object. (found in the bottom half of the attribute tab of whatever object you want to set this on).  Make it an integer attribute and set the integer equal to the number of sub-events (In your case, 3). In this room, I added the attribute to the jigsaw puzzle. You need to use four puzzle pieces to complete the puzzle, so I set the integer to 4.</li>\n<li>To do so, click on the object, click on the attribute tab. At the bottom box, click on 'Add'. I always name mine [something]Count. In this case, I named it 'MissingPieceCount'. (You could name it HeldKeysCount)<br>\n3a. Next, click on the 'Add change script'. Under this, I added an 'If' script. Select the 'If object attribute equals' from the drop down.<br>\n3b. Select the object the attribute is set on. In this case, it was the jigsaw puzzle.  (Yours May be the door name?)<br>\n3c. Type in the title of your attribute. Here it was 'MissingPieceCount' and set it to value zero (0).<br>\n3d. For the then, I printed a 'Congratulations, the puzzle is complete' message and set a flag titled 'Complete' on the puzzle. I did this so I could look at the puzzle and get a different response for a complete puzzle and one that wasn't complete.<br>\n4a. Wherever the subevent is completed... in this case it was use puzzle piece with puzzle.... you need to adjust the integer variable on the object in question.<br>\n4b. To do this, I chose the 'set a variable or attribute' script under the heading 'Variables'.<br>\n4c. You need to type into that first box the following: object.attribute - In the second box you need to leave it as 'expression'. In the third box you need to adjust the variable by typing the following: object.attribute - 1<br>\n4d. So, in my example, it looks like this: Set variable: jigsaw puzzle.MissingPieceCount = expression jigsaw puzzle.MissingPieceCount -1</li>\n<li>Now, back over to the changedMissingPieceCount script if you choose. I didn't, but you could have added a bunch of Else Ifs to the changedMissingPieceCount attribute. Else If, object has attribute equal to 4 (or 3, or 2, or 1) print a proper message. If you choose to do this, each time a sub-event is comleted, you can send a message to the player that there are three (or two, or one) more events needed to complete it.</li>\n<li>Optional: In the look at description, you can add a switch or a bunch of If/Else Ifs to describe the object (puzzle) that is changing.</li>\n</ol>\n<p>I know this is long winded and I hope it makes sense.  You just have to change the name of your objects to whatever you named them and change the name of your attribute to whatever you named it.</p>\n<p>Ask if you have questions!</p>\n\n",
      "PostDate": "2020-04-18T22:57:40.1254142Z",
      "LastEditDate": "2020-04-18T23:09:32.3449686Z",
      "link": null
    },
    {
      "PostId": "8d5e1474-041b-49a8-8ee6-0ddacb860229",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "> is there a way to make it where the exit can only be unlocked when you have three certain objects in your inventory?\r\n\r\nYou could modify the existing script:\r\n<pre><code>if (Got (<em style=\"color:blue;font-fmily:initial\">bell</em>) and Got (<em style=\"color:blue;font-fmily:initial\">book</em>) and Got (<em style=\"color:blue;font-fmily:initial\">candle</em>)) {\r\n  msg (\"<em style=\"color:green;font-fmily:initial\">You wave three items at the door and it opens!</em>\")\r\n  MovePlayer (this.to)\r\n}\r\nelse {\r\n  msg (\"<em style=\"color:brown;font-fmily:initial\">You push at the door, but it doesn't open</em>\")\r\n}</code></pre>\r\n\r\nOr if you want to make the messages give more of a clue:\r\n<pre><code>if (not Got (<em style=\"color:blue;font-fmily:initial\">bell</em>)) {\r\n  msg (\"<em style=\"color:brown;font-fmily:initial\">You don't feel comfortable leaving your bell behind.</em>\")\r\n}\r\nelse if (not Got (<em style=\"color:blue;font-fmily:initial\">book</em>)) {\r\n  msg (\"<em style=\"color:brown;font-fmily:initial\">You haven't got anything to read yet.</em>\")\r\n}\r\nelse if (not Got (<em style=\"color:blue;font-fmily:initial\">candle</em>)) {\r\n  msg (\"<em style=\"color:brown;font-fmily:initial\">It's too dark to go out without a light source.</em>\")\r\n}\r\nelse {\r\n  msg (\"<em style=\"color:green;font-fmily:initial\">You wave three items at the door and it opens!</em>\")\r\n  MovePlayer (this.to)\r\n}</code></pre>\r\n\r\nIf you want the exit to 'unlock' so that the player doesn't need the items once they've been through once, you can add the line:\r\n```\r\n  this.script = null\r\n```\r\nbefore the `MovePlayer` line; so that it removes the script and turns the exit into a normal one.",
      "EditableFormat": "markdown",
      "HTML": "<blockquote>\n<p>is there a way to make it where the exit can only be unlocked when you have three certain objects in your inventory?</p>\n</blockquote>\n<p>You could modify the existing script:</p>\n<pre><code>if (Got (<em style=\"color: blue\">bell</em>) and Got (<em style=\"color: blue\">book</em>) and Got (<em style=\"color: blue\">candle</em>)) {\n  msg (\"<em style=\"color: green\">You wave three items at the door and it opens!</em>\")\n  MovePlayer (this.to)\n}\nelse {\n  msg (\"<em style=\"color: brown\">You push at the door, but it doesn't open</em>\")\n}</code></pre>\n<p>Or if you want to make the messages give more of a clue:</p>\n<pre><code>if (not Got (<em style=\"color: blue\">bell</em>)) {\n  msg (\"<em style=\"color: brown\">You don't feel comfortable leaving your bell behind.</em>\")\n}\nelse if (not Got (<em style=\"color: blue\">book</em>)) {\n  msg (\"<em style=\"color: brown\">You haven't got anything to read yet.</em>\")\n}\nelse if (not Got (<em style=\"color: blue\">candle</em>)) {\n  msg (\"<em style=\"color: brown\">It's too dark to go out without a light source.</em>\")\n}\nelse {\n  msg (\"<em style=\"color: green\">You wave three items at the door and it opens!</em>\")\n  MovePlayer (this.to)\n}</code></pre>\n<p>If you want the exit to 'unlock' so that the player doesn't need the items once they've been through once, you can add the line:</p>\n<pre><code>  this.script = null\n</code></pre>\n<p>before the <code>MovePlayer</code> line; so that it removes the script and turns the exit into a normal one.</p>\n\n",
      "PostDate": "2020-04-19T08:58:27.4336902Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "89ee4559-f076-44fa-92ba-c850715b57b2",
      "UserId": 476480,
      "Username": "ZodiacStories",
      "AvatarUrl": "https://i.imgur.com/P5bd59db.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "mrangel, how do I modify the existing script? is it expression? or is it the code?",
      "EditableFormat": "markdown",
      "HTML": "<p>mrangel, how do I modify the existing script? is it expression? or is it the code?</p>\n\n",
      "PostDate": "2020-04-19T13:18:32.5173143Z",
      "LastEditDate": "2020-04-19T13:31:00.5816807Z",
      "link": null
    }
  ]
}
