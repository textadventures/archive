{
  "Topic": {
    "TopicId": "6467",
    "ForumId": "10",
    "Title": "NPC walking path",
    "LastUpdated": "2016-07-01T10:57:41+01:00",
    "ReplyCount": 4
  },
  "Posts": [
    {
      "PostId": "43816",
      "UserId": 0,
      "Username": "Groctel",
      "UserAvatar": null,
      "UserGravatar": "4ce32fed1ffc8c095b0d4462e6ca5838",
      "EditableText": "[size=150:2h0hk411]Hello fellow makers![/size:2h0hk411]\n\nI have one small(1) problem with a room I am making.\nI want to create a hall in which a [u:2h0hk411]guard[/u:2h0hk411] npc moves in cycles, one square per turn. The point is to make it roam around the rooms that create the big open room (note that there are no doors involved anywhere here).\n\nFirst of all, here's the room map:\n[code:2h0hk411]\n    ____ ____ ____ ____ ____ ____ ____ \n   |    |    |    |    |    |    |    |\n   | NW | N1 | N2 | N3 | N4 | N5 | NE |\n   |____|____|____|____|____|____|____|\n   |    |                        |    |\n   | W1 |                        | E1 |\n   |____|                        |____|\n   |    |                        |    |\n   | W2 |                        | E2 |\n   |____|                        |____|\n   |    |                        |    |\n   | W3 |                        | E3 |\n   |____|____ ____ ____ ____ ____|____|\n   |    |    |    |    |    |    |    |\n   | SW | S1 | S2 | S3 | S4 | S5 | SE |\n   |____|____|____|____|____|____|____|[/code:2h0hk411]\n\nNow, here's the part where I seem to fail horribly:\n[code:2h0hk411]\nwhile (Guard&#46;movement = true) {\n  if (Guard&#46;parent = N1) {\n    MoveObject (Guard, N2)\n  }\n  else if (Guard&#46;parent = N2) {\n    MoveObject (Guard, N3)\n  }\n  else if (Guard&#46;parent = N3) {\n    MoveObject (Guard, N4)\n  }\n  else if (Guard&#46;parent = N4) {\n    MoveObject (Guard, N5)\n  }\n  else if (Guard&#46;parent = N5) {\n    MoveObject (Guard, NE)\n  }\n  else if (Guard&#46;parent = W1) {\n    MoveObject (GuardU, NW)\n  }\n  else if (Guard&#46;parent = W2) {\n    MoveObject (Guard, W1)\n  }\n  else if (Guard&#46;parent = W3) {\n    MoveObject (Guard, W2)\n  }\n  else if (Guard&#46;parent = E1) {\n    MoveObject (Guard, E2)\n  }\n  else if (Guard&#46;parent = E2) {\n    MoveObject (Guard, E3)\n  }\n  else if (Guard&#46;parent = E3) {\n    MoveObject (Guard, SE)\n  }\n  else if (Guard&#46;parent = S1) {\n    MoveObject (Guard, SW)\n  }\n  else if (Guard&#46;parent = S2) {\n    MoveObject (Guard, S1)\n  }\n  else if (Guard&#46;parent = S3) {\n    MoveObject (Guard, S2)\n  }\n  else if (Guard&#46;parent = S4) {\n    MoveObject (Guard, S3)\n  }\n  else if (Guard&#46;parent = S5) {\n    MoveObject (Guard, S4)\n  }\n  else if (Guard&#46;parent = NW) {\n    MoveObject (Guard, N1)\n  }\n  else if (Guard&#46;parent = NE) {\n    MoveObject (Guard, E1)\n  }\n  else if (Guard&#46;parent = SW) {\n    MoveObject (Guard, W3)\n  }\n  else if (Guard&#46;parent = SE) {\n    MoveObject (Guard, S5)\n  }\n  else {\n  }\n}\n}\n[/code:2h0hk411]\n\nI know the code is NOT clean at all and that I lack a turn-based script, which I don't know how to use and would like to learn to too &gt;.&lt;\n\nSo, if ayone can help me... I would be really really really grateful <!-- s:D --><img src=\"{SMILIES_PATH}/icon_biggrin.gif\" alt=\":D\" title=\"Very Happy\" /><!-- s:D -->\n\n(1) The word [i:2h0hk411]small[/i:2h0hk411] is open to interpretation.",
      "EditableFormat": "bbcode",
      "HTML": "<span style=\"font-size:150\">Hello fellow makers!</span><br/><br/>I have one small(1) problem with a room I am making.<br/>I want to create a hall in which a <span style=\"text-decoration:underline;\">guard</span> npc moves in cycles, one square per turn. The point is to make it roam around the rooms that create the big open room (note that there are no doors involved anywhere here).<br/><br/>First of all, here's the room map:<br/><pre><code><br/>    ____ ____ ____ ____ ____ ____ ____ <br/>   |    |    |    |    |    |    |    |<br/>   | NW | N1 | N2 | N3 | N4 | N5 | NE |<br/>   |____|____|____|____|____|____|____|<br/>   |    |                        |    |<br/>   | W1 |                        | E1 |<br/>   |____|                        |____|<br/>   |    |                        |    |<br/>   | W2 |                        | E2 |<br/>   |____|                        |____|<br/>   |    |                        |    |<br/>   | W3 |                        | E3 |<br/>   |____|____ ____ ____ ____ ____|____|<br/>   |    |    |    |    |    |    |    |<br/>   | SW | S1 | S2 | S3 | S4 | S5 | SE |<br/>   |____|____|____|____|____|____|____|</code></pre><br/><br/>Now, here's the part where I seem to fail horribly:<br/><pre><code><br/>while (Guard&#46;movement = true) {<br/>  if (Guard&#46;parent = N1) {<br/>    MoveObject (Guard, N2)<br/>  }<br/>  else if (Guard&#46;parent = N2) {<br/>    MoveObject (Guard, N3)<br/>  }<br/>  else if (Guard&#46;parent = N3) {<br/>    MoveObject (Guard, N4)<br/>  }<br/>  else if (Guard&#46;parent = N4) {<br/>    MoveObject (Guard, N5)<br/>  }<br/>  else if (Guard&#46;parent = N5) {<br/>    MoveObject (Guard, NE)<br/>  }<br/>  else if (Guard&#46;parent = W1) {<br/>    MoveObject (GuardU, NW)<br/>  }<br/>  else if (Guard&#46;parent = W2) {<br/>    MoveObject (Guard, W1)<br/>  }<br/>  else if (Guard&#46;parent = W3) {<br/>    MoveObject (Guard, W2)<br/>  }<br/>  else if (Guard&#46;parent = E1) {<br/>    MoveObject (Guard, E2)<br/>  }<br/>  else if (Guard&#46;parent = E2) {<br/>    MoveObject (Guard, E3)<br/>  }<br/>  else if (Guard&#46;parent = E3) {<br/>    MoveObject (Guard, SE)<br/>  }<br/>  else if (Guard&#46;parent = S1) {<br/>    MoveObject (Guard, SW)<br/>  }<br/>  else if (Guard&#46;parent = S2) {<br/>    MoveObject (Guard, S1)<br/>  }<br/>  else if (Guard&#46;parent = S3) {<br/>    MoveObject (Guard, S2)<br/>  }<br/>  else if (Guard&#46;parent = S4) {<br/>    MoveObject (Guard, S3)<br/>  }<br/>  else if (Guard&#46;parent = S5) {<br/>    MoveObject (Guard, S4)<br/>  }<br/>  else if (Guard&#46;parent = NW) {<br/>    MoveObject (Guard, N1)<br/>  }<br/>  else if (Guard&#46;parent = NE) {<br/>    MoveObject (Guard, E1)<br/>  }<br/>  else if (Guard&#46;parent = SW) {<br/>    MoveObject (Guard, W3)<br/>  }<br/>  else if (Guard&#46;parent = SE) {<br/>    MoveObject (Guard, S5)<br/>  }<br/>  else {<br/>  }<br/>}<br/>}<br/></code></pre><br/><br/>I know the code is NOT clean at all and that I lack a turn-based script, which I don't know how to use and would like to learn to too &gt;.&lt;<br/><br/>So, if ayone can help me... I would be really really really grateful <!-- s:D --><img src=\"{SMILIES_PATH}/icon_biggrin.gif\" alt=\":D\" title=\"Very Happy\" /><!-- s:D --><br/><br/>(1) The word <span style=\"font-style:italic;\">small</span> is open to interpretation.",
      "PostDate": "2016-06-30T11:19:51+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "43818",
      "UserId": 0,
      "Username": "HegemonKhan",
      "UserAvatar": null,
      "UserGravatar": "a96cf34d8d97c57de38f54ee22b1759b",
      "EditableText": "Your code logic is fine (assuming you didn't mess up the room transitions ~ hard to tell as you don't have them in simple easy-to-see clockwise or counter clockwise order), what's the error/going wrong with it?\n\nthe 'while' in quest often causes problems... your guard probably is infinitely moving non-stop... your 'while' loop has nothing to terminate/stop it...\n\ninstead, you can either use a (global) Turnscript or add the special 'changed' Script Attribute to your 'player' Player Object, examples in code below\n\nquest has internal turns, which increment (by 1), with every/any clicking of the mouse button on something clickable or entering something you typed-in into the command text box. You can add an Integer Attribute if you want those turns to be seen/displayed to the person playing the game.\n\n[b:213qx910](Global) Turnscript&#058;[/b:213qx910]\n\nclick on the upper left most 'object' (the root) in the left side's &quot;tree of stuff&quot; so it is highlighted (this will make the added Turnscript global: not added to a specific Room Object which would make it a 'local' Turnscript). Then in the menu bar at the top, under 'add', select 'Turnscript', and then add in your same scripting (except remove the 'while' Script from it). Check the 'enabled' check box. Or, you can add in more control over it, but let's not get into that unless you let me know you want to do so.\n\neach internal turn (click or type) the guard will move to the next room, from the moment the game begins. Let me know if you want something different to happen or more control over what happens.\n\n(I added in some extra stuff of my own... ask if you got any questions about any of it or about anything)\n\n[code:213qx910]&lt;game name=&quot;blah&quot;&gt;\n  &lt;attr name=&quot;turn&quot; type=&quot;int&quot;&gt;0&lt;/attr&gt;\n  &lt;status_attributes type=&quot;simplestringdictionary&quot;&gt;turn = Turn&#58; !&lt;/statusattributes&gt;\n&lt;/game&gt;\n\n// see how the Turnscript below, isn't inside of a Room Object, which makes it a global Turnscript&#058;\n&lt;turnscript name=&quot;global_turnscript&quot;&gt;\n  &lt;enabled /&gt;\n  &lt;script&gt;\n   Guard_movement_function\n   game&#46;turn = game&#46;turn + 1\n  &lt;/script&gt;\n&lt;/turnscript&gt;\n\n&lt;function name=&quot;Guard_movement_function&quot;&gt;\n  if (Guard&#46;movement) { // you don't need to use the '=true', as quest understands this shortened syntax form to be '=true'\n    if (Guard&#46;parent = NW) {\n      MoveObject (Guard, N1) // the 'MoveObject' Script/Function and the 'parent' Attribute via 'Guard&#46;parent = N2', do the exact same thing\n    }\n    else if (Guard&#46;parent = N1) {\n      MoveObject (Guard, N2)\n    }\n    else if (Guard&#46;parent = N2) {\n      MoveObject (Guard, N3)\n    }\n    else if (Guard&#46;parent = N3) {\n      MoveObject (Guard, N4)\n    }\n    else if (Guard&#46;parent = N4) {\n      MoveObject (Guard, N5)\n    }\n    else if (Guard&#46;parent = N5) {\n      MoveObject (Guard, NE)\n    }\n    else if (Guard&#46;parent = NE) {\n      MoveObject (GuardU, E1)\n    }\n    else if (Guard&#46;parent = E1) {\n      MoveObject (Guard, E2)\n    }\n    else if (Guard&#46;parent = E2) {\n      MoveObject (Guard, E3)\n    }\n    else if (Guard&#46;parent = E3) {\n      MoveObject (Guard, SE)\n    }\n    else if (Guard&#46;parent = SE) {\n      MoveObject (Guard, S5)\n    }\n    else if (Guard&#46;parent = S5) {\n      MoveObject (Guard, S4)\n    }\n    else if (Guard&#46;parent = S4) {\n      MoveObject (Guard, S3)\n    }\n    else if (Guard&#46;parent = S3) {\n      MoveObject (Guard, S2)\n    }\n    else if (Guard&#46;parent = S2) {\n      MoveObject (Guard, S1)\n    }\n    else if (Guard&#46;parent = S1) {\n      MoveObject (Guard, SW)\n    }\n    else if (Guard&#46;parent = SW) {\n      MoveObject (Guard, W3)\n    }\n    else if (Guard&#46;parent = W3) {\n      MoveObject (Guard, W2)\n    }\n    else if (Guard&#46;parent = W2) {\n      MoveObject (Guard, W1)\n    }\n    else if (Guard&#46;parent = W1) {\n      MoveObject (Guard, NW)\n    }\n  }\n&lt;/function&gt;[/code:213qx910]\n\n[b:213qx910]the special 'changed' Script Attribute:[/b:213qx910]\n\n(too lazy to describe what is going on here at the moment, lol ... hopefully you can figure it out... if not, ask me and I'll help/explain)\n\n[code:213qx910]&lt;game name=&quot;blah&quot;&gt;\n  &lt;attr name=&quot;turn&quot; type=&quot;int&quot;&gt;0&lt;/attr&gt;\n  &lt;status_attributes type=&quot;simplestringdictionary&quot;&gt;turn = Turn&#58; !&lt;/statusattributes&gt;\n&lt;/game&gt;\n\n&lt;object name=&quot;player&quot;&gt;\n  &lt;attr name=&quot;changedparent&quot; type=&quot;script&quot;&gt;\n    Guard_movement_function\n    // example&#58; increment_turn_function (1)\n  &lt;/attr&gt;\n&lt;/object&gt;\n\n// add 'increment_turn_function (type_in_a_number_here_for_how_much_to_increment_your_turn_by)' into where-ever whatever script location you want, or via the GUI~Editor&#58; 'where/what-ever' -&gt; run as script -&gt; add new script -&gt; 'output' category (I believe) -&gt; 'call function' Script -&gt; type your function's name into the small rectangle text box, and however you add in your argument/parameter amount, lol - I'm not familiar with the GUI~Editor\n&lt;function name=&quot;increment_turn_function&quot; parameters=&quot;amount&quot;&gt;\n  if (IsInt (amount)) {\n    game&#46;turn = game&#46;turn + ToInt (amount)\n  } else {\n    msg (&quot;Error in your code&#58; You didn't enter an integer number for its argument/parameter&quot;)\n  }\n&lt;/function&gt;\n\n&lt;function name=&quot;Guard_movement_function&quot;&gt;\n  if (Guard&#46;movement) { // you don't need to use the '=true', as quest understands this shortened syntax form to be '=true'\n    if (Guard&#46;parent = NW) {\n      MoveObject (Guard, N1) // the 'MoveObject' Script/Function and the 'parent' Attribute via 'Guard&#46;parent = N2', do the exact same thing\n    }\n    else if (Guard&#46;parent = N1) {\n      MoveObject (Guard, N2)\n    }\n    else if (Guard&#46;parent = N2) {\n      MoveObject (Guard, N3)\n    }\n    else if (Guard&#46;parent = N3) {\n      MoveObject (Guard, N4)\n    }\n    else if (Guard&#46;parent = N4) {\n      MoveObject (Guard, N5)\n    }\n    else if (Guard&#46;parent = N5) {\n      MoveObject (Guard, NE)\n    }\n    else if (Guard&#46;parent = NE) {\n      MoveObject (GuardU, E1)\n    }\n    else if (Guard&#46;parent = E1) {\n      MoveObject (Guard, E2)\n    }\n    else if (Guard&#46;parent = E2) {\n      MoveObject (Guard, E3)\n    }\n    else if (Guard&#46;parent = E3) {\n      MoveObject (Guard, SE)\n    }\n    else if (Guard&#46;parent = SE) {\n      MoveObject (Guard, S5)\n    }\n    else if (Guard&#46;parent = S5) {\n      MoveObject (Guard, S4)\n    }\n    else if (Guard&#46;parent = S4) {\n      MoveObject (Guard, S3)\n    }\n    else if (Guard&#46;parent = S3) {\n      MoveObject (Guard, S2)\n    }\n    else if (Guard&#46;parent = S2) {\n      MoveObject (Guard, S1)\n    }\n    else if (Guard&#46;parent = S1) {\n      MoveObject (Guard, SW)\n    }\n    else if (Guard&#46;parent = SW) {\n      MoveObject (Guard, W3)\n    }\n    else if (Guard&#46;parent = W3) {\n      MoveObject (Guard, W2)\n    }\n    else if (Guard&#46;parent = W2) {\n      MoveObject (Guard, W1)\n    }\n    else if (Guard&#46;parent = W1) {\n      MoveObject (Guard, NW)\n    }\n  }\n&lt;/function&gt;[/code:213qx910]\n\n---------\n\na different method would be to use List Attribute and its iteration, but List usage is a bit more complex if you're new to quest and especially to coding.\n\n----------\n\nan entirely different method would be to give all of your Room Objects: 'x_coordinate' and 'y_coordinate' (and if you want to do 3D: 'z_coordinate') Integer Attributes, and then handle it in many various ways with coding... not going to get into the methods here though.",
      "EditableFormat": "bbcode",
      "HTML": "Your code logic is fine (assuming you didn't mess up the room transitions ~ hard to tell as you don't have them in simple easy-to-see clockwise or counter clockwise order), what's the error/going wrong with it?<br/><br/>the 'while' in quest often causes problems... your guard probably is infinitely moving non-stop... your 'while' loop has nothing to terminate/stop it...<br/><br/>instead, you can either use a (global) Turnscript or add the special 'changed' Script Attribute to your 'player' Player Object, examples in code below<br/><br/>quest has internal turns, which increment (by 1), with every/any clicking of the mouse button on something clickable or entering something you typed-in into the command text box. You can add an Integer Attribute if you want those turns to be seen/displayed to the person playing the game.<br/><br/><span style=\"font-weight:bold;\">(Global) Turnscript&#058;</span><br/><br/>click on the upper left most 'object' (the root) in the left side's &quot;tree of stuff&quot; so it is highlighted (this will make the added Turnscript global: not added to a specific Room Object which would make it a 'local' Turnscript). Then in the menu bar at the top, under 'add', select 'Turnscript', and then add in your same scripting (except remove the 'while' Script from it). Check the 'enabled' check box. Or, you can add in more control over it, but let's not get into that unless you let me know you want to do so.<br/><br/>each internal turn (click or type) the guard will move to the next room, from the moment the game begins. Let me know if you want something different to happen or more control over what happens.<br/><br/>(I added in some extra stuff of my own... ask if you got any questions about any of it or about anything)<br/><br/><pre><code>&lt;game name=&quot;blah&quot;&gt;<br/>  &lt;attr name=&quot;turn&quot; type=&quot;int&quot;&gt;0&lt;/attr&gt;<br/>  &lt;status_attributes type=&quot;simplestringdictionary&quot;&gt;turn = Turn&#58; !&lt;/statusattributes&gt;<br/>&lt;/game&gt;<br/><br/>// see how the Turnscript below, isn't inside of a Room Object, which makes it a global Turnscript&#058;<br/>&lt;turnscript name=&quot;global_turnscript&quot;&gt;<br/>  &lt;enabled /&gt;<br/>  &lt;script&gt;<br/>   Guard_movement_function<br/>   game&#46;turn = game&#46;turn + 1<br/>  &lt;/script&gt;<br/>&lt;/turnscript&gt;<br/><br/>&lt;function name=&quot;Guard_movement_function&quot;&gt;<br/>  if (Guard&#46;movement) { // you don't need to use the '=true', as quest understands this shortened syntax form to be '=true'<br/>    if (Guard&#46;parent = NW) {<br/>      MoveObject (Guard, N1) // the 'MoveObject' Script/Function and the 'parent' Attribute via 'Guard&#46;parent = N2', do the exact same thing<br/>    }<br/>    else if (Guard&#46;parent = N1) {<br/>      MoveObject (Guard, N2)<br/>    }<br/>    else if (Guard&#46;parent = N2) {<br/>      MoveObject (Guard, N3)<br/>    }<br/>    else if (Guard&#46;parent = N3) {<br/>      MoveObject (Guard, N4)<br/>    }<br/>    else if (Guard&#46;parent = N4) {<br/>      MoveObject (Guard, N5)<br/>    }<br/>    else if (Guard&#46;parent = N5) {<br/>      MoveObject (Guard, NE)<br/>    }<br/>    else if (Guard&#46;parent = NE) {<br/>      MoveObject (GuardU, E1)<br/>    }<br/>    else if (Guard&#46;parent = E1) {<br/>      MoveObject (Guard, E2)<br/>    }<br/>    else if (Guard&#46;parent = E2) {<br/>      MoveObject (Guard, E3)<br/>    }<br/>    else if (Guard&#46;parent = E3) {<br/>      MoveObject (Guard, SE)<br/>    }<br/>    else if (Guard&#46;parent = SE) {<br/>      MoveObject (Guard, S5)<br/>    }<br/>    else if (Guard&#46;parent = S5) {<br/>      MoveObject (Guard, S4)<br/>    }<br/>    else if (Guard&#46;parent = S4) {<br/>      MoveObject (Guard, S3)<br/>    }<br/>    else if (Guard&#46;parent = S3) {<br/>      MoveObject (Guard, S2)<br/>    }<br/>    else if (Guard&#46;parent = S2) {<br/>      MoveObject (Guard, S1)<br/>    }<br/>    else if (Guard&#46;parent = S1) {<br/>      MoveObject (Guard, SW)<br/>    }<br/>    else if (Guard&#46;parent = SW) {<br/>      MoveObject (Guard, W3)<br/>    }<br/>    else if (Guard&#46;parent = W3) {<br/>      MoveObject (Guard, W2)<br/>    }<br/>    else if (Guard&#46;parent = W2) {<br/>      MoveObject (Guard, W1)<br/>    }<br/>    else if (Guard&#46;parent = W1) {<br/>      MoveObject (Guard, NW)<br/>    }<br/>  }<br/>&lt;/function&gt;</code></pre><br/><br/><span style=\"font-weight:bold;\">the special 'changed' Script Attribute:</span><br/><br/>(too lazy to describe what is going on here at the moment, lol ... hopefully you can figure it out... if not, ask me and I'll help/explain)<br/><br/><pre><code>&lt;game name=&quot;blah&quot;&gt;<br/>  &lt;attr name=&quot;turn&quot; type=&quot;int&quot;&gt;0&lt;/attr&gt;<br/>  &lt;status_attributes type=&quot;simplestringdictionary&quot;&gt;turn = Turn&#58; !&lt;/statusattributes&gt;<br/>&lt;/game&gt;<br/><br/>&lt;object name=&quot;player&quot;&gt;<br/>  &lt;attr name=&quot;changedparent&quot; type=&quot;script&quot;&gt;<br/>    Guard_movement_function<br/>    // example&#58; increment_turn_function (1)<br/>  &lt;/attr&gt;<br/>&lt;/object&gt;<br/><br/>// add 'increment_turn_function (type_in_a_number_here_for_how_much_to_increment_your_turn_by)' into where-ever whatever script location you want, or via the GUI~Editor&#58; 'where/what-ever' -&gt; run as script -&gt; add new script -&gt; 'output' category (I believe) -&gt; 'call function' Script -&gt; type your function's name into the small rectangle text box, and however you add in your argument/parameter amount, lol - I'm not familiar with the GUI~Editor<br/>&lt;function name=&quot;increment_turn_function&quot; parameters=&quot;amount&quot;&gt;<br/>  if (IsInt (amount)) {<br/>    game&#46;turn = game&#46;turn + ToInt (amount)<br/>  } else {<br/>    msg (&quot;Error in your code&#58; You didn't enter an integer number for its argument/parameter&quot;)<br/>  }<br/>&lt;/function&gt;<br/><br/>&lt;function name=&quot;Guard_movement_function&quot;&gt;<br/>  if (Guard&#46;movement) { // you don't need to use the '=true', as quest understands this shortened syntax form to be '=true'<br/>    if (Guard&#46;parent = NW) {<br/>      MoveObject (Guard, N1) // the 'MoveObject' Script/Function and the 'parent' Attribute via 'Guard&#46;parent = N2', do the exact same thing<br/>    }<br/>    else if (Guard&#46;parent = N1) {<br/>      MoveObject (Guard, N2)<br/>    }<br/>    else if (Guard&#46;parent = N2) {<br/>      MoveObject (Guard, N3)<br/>    }<br/>    else if (Guard&#46;parent = N3) {<br/>      MoveObject (Guard, N4)<br/>    }<br/>    else if (Guard&#46;parent = N4) {<br/>      MoveObject (Guard, N5)<br/>    }<br/>    else if (Guard&#46;parent = N5) {<br/>      MoveObject (Guard, NE)<br/>    }<br/>    else if (Guard&#46;parent = NE) {<br/>      MoveObject (GuardU, E1)<br/>    }<br/>    else if (Guard&#46;parent = E1) {<br/>      MoveObject (Guard, E2)<br/>    }<br/>    else if (Guard&#46;parent = E2) {<br/>      MoveObject (Guard, E3)<br/>    }<br/>    else if (Guard&#46;parent = E3) {<br/>      MoveObject (Guard, SE)<br/>    }<br/>    else if (Guard&#46;parent = SE) {<br/>      MoveObject (Guard, S5)<br/>    }<br/>    else if (Guard&#46;parent = S5) {<br/>      MoveObject (Guard, S4)<br/>    }<br/>    else if (Guard&#46;parent = S4) {<br/>      MoveObject (Guard, S3)<br/>    }<br/>    else if (Guard&#46;parent = S3) {<br/>      MoveObject (Guard, S2)<br/>    }<br/>    else if (Guard&#46;parent = S2) {<br/>      MoveObject (Guard, S1)<br/>    }<br/>    else if (Guard&#46;parent = S1) {<br/>      MoveObject (Guard, SW)<br/>    }<br/>    else if (Guard&#46;parent = SW) {<br/>      MoveObject (Guard, W3)<br/>    }<br/>    else if (Guard&#46;parent = W3) {<br/>      MoveObject (Guard, W2)<br/>    }<br/>    else if (Guard&#46;parent = W2) {<br/>      MoveObject (Guard, W1)<br/>    }<br/>    else if (Guard&#46;parent = W1) {<br/>      MoveObject (Guard, NW)<br/>    }<br/>  }<br/>&lt;/function&gt;</code></pre><br/><br/>---------<br/><br/>a different method would be to use List Attribute and its iteration, but List usage is a bit more complex if you're new to quest and especially to coding.<br/><br/>----------<br/><br/>an entirely different method would be to give all of your Room Objects: 'x_coordinate' and 'y_coordinate' (and if you want to do 3D: 'z_coordinate') Integer Attributes, and then handle it in many various ways with coding... not going to get into the methods here though.",
      "PostDate": "2016-06-30T12:32:16+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "43820",
      "UserId": 0,
      "Username": "Groctel",
      "UserAvatar": null,
      "UserGravatar": "4ce32fed1ffc8c095b0d4462e6ca5838",
      "EditableText": "Ok, I understood it all, I think.\n\nI perfectly got how the turnscript works, but I don't know where in the code I have to implement the movement function <!-- s:( --><img src=\"{SMILIES_PATH}/icon_sad.gif\" alt=\":(\" title=\"Sad\" /><!-- s:( -->\n\nAlso, I forgot to say that I want to create some more rooms exactly like this one. Do I have to make the turnscript global or do I just turn on and off the guards every time the player enters and leaves the room (don't worry about the position, that's already fixed, kinda)?",
      "EditableFormat": "bbcode",
      "HTML": "Ok, I understood it all, I think.<br/><br/>I perfectly got how the turnscript works, but I don't know where in the code I have to implement the movement function <!-- s:( --><img src=\"{SMILIES_PATH}/icon_sad.gif\" alt=\":(\" title=\"Sad\" /><!-- s:( --><br/><br/>Also, I forgot to say that I want to create some more rooms exactly like this one. Do I have to make the turnscript global or do I just turn on and off the guards every time the player enters and leaves the room (don't worry about the position, that's already fixed, kinda)?",
      "PostDate": "2016-06-30T13:29:59+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "43835",
      "UserId": 0,
      "Username": "HegemonKhan",
      "UserAvatar": null,
      "UserGravatar": "a96cf34d8d97c57de38f54ee22b1759b",
      "EditableText": "this post is just a brief repsonse... let me know if you're still confused and try to explain exactly what you want to do, so I can then try to be more specific and helpful\n\n-----------------\n\nleft side's &quot;tree of struff&quot; :\n\nObject\n-&gt; Game\n-&gt;-&gt; Verbs\n-&gt;-&gt; Commands\nFunctions &lt;---------------- click on this, and add in your function (name it whatever you want), put/add your Guard_1 movement scripts into this Function\netc etc etc\n\nA Function acts as like a storage spot for some action/event/scripting that you want (such as for moving your Guard_1), well there's more specifics about a Functions capabilities (but let's not get into that here), you can then add/use/call/put the Function into where-ever you want and as many of them as you want, via in the GUI~Editor: run as script -&gt; add new script -&gt; 'output' category I believe -&gt; 'call function' -&gt; skinny rectangle text box: your_functions_name -&gt; Add arguments/parameters if you got any - not sure how this works in the GUI~Editor\n\nA 'Function' Element is a container for scriptings (just like a Verb is), just as an 'Object' Element is a container for Attributes and/or other 'Object' Elements\n\nfor an example:\n\n[code:3jrky61o]&lt;game name=&quot;sample&quot;&gt;\n  // the built-in 'game&#46;start' Script Attribute is the first thing to run at game start, making it good, for example, for&#58; 'character creation'&#46; In the GUI~Editor, you'll find the 'start' Script in the 'Scripts' Tab of the 'game' Game Object&#58;\n  &lt;attr name=&quot;start&quot; type=&quot;script&quot;&gt;\n    test_function\n  &lt;/attr&gt;\n&lt;/game&gt;\n\n&lt;object name=&quot;npc_1&quot;&gt;\n  &lt;attr name=&quot;look&quot; type=&quot;script&quot;&gt;\n    test_function\n  &lt;/attr&gt;\n&lt;/object&gt;\n\n&lt;turnscript name=&quot;global_turnscript&quot;&gt;\n  &lt;enabled /&gt;\n  &lt;script&gt;\n    test_function\n  &lt;/script&gt;\n&lt;/turnscript&gt;\n\n&lt;verb&gt;\n  &lt;propety&gt;look&lt;/property&gt;\n  &lt;pattern&gt;look&lt;/property&gt;\n  &lt;defaultexpression&gt;You can't look at that!&lt;/defaultexpression&gt;\n&lt;/verb&gt;\n\n&lt;function name=&quot;test_function&quot;&gt;\n  msg (&quot;testing 1 2 3&quot;)\n&lt;/function&gt;[/code:3jrky61o]\n\nthe 'testing 1 2 3' will be displayed when the game starts ('game' Game Object's 'start' Script Attribute), upon each internal turn (Turnscript), and whenever you use the 'look' Verb for 'npc_1' Object.\n\n---------\n\nor, if Functions still are confusing, here's not using them:\n\n[code:3jrky61o]&lt;game name=&quot;sample&quot;&gt;\n  &lt;attr name=&quot;start&quot; type=&quot;script&quot;&gt;\n    msg (&quot;testing 1 2 3&quot;)\n  &lt;/attr&gt;\n&lt;/game&gt;\n\n&lt;object name=&quot;npc_1&quot;&gt;\n  &lt;attr name=&quot;look&quot; type=&quot;script&quot;&gt;\n    msg (&quot;testing 1 2 3&quot;)\n  &lt;/attr&gt;\n&lt;/object&gt;\n\n&lt;turnscript name=&quot;global_turnscript&quot;&gt;\n  &lt;enabled /&gt;\n  &lt;script&gt;\n    msg (&quot;testing 1 2 3&quot;)\n  &lt;/script&gt;\n&lt;/turnscript&gt;\n\n&lt;verb&gt;\n  &lt;propety&gt;look&lt;/property&gt;\n  &lt;pattern&gt;look&lt;/property&gt;\n  &lt;defaultexpression&gt;You can't look at that!&lt;/defaultexpression&gt;\n&lt;/verb&gt;[/code:3jrky61o]\n\n------------------------\n\n[quote=&quot;grotel&quot;:3jrky61o]Also, I forgot to say that I want to create some more rooms exactly like this one. Do I have to make the turnscript global or do I just turn on and off the guards every time the player enters and leaves the room (don't worry about the position, that's already fixed, kinda)?[/quote:3jrky61o]\n\ndo you just mean expanding/increasing your Guard's patrolled rooms, or do you mean creating separate/more npcs and with their own separate patrolled rooms?\n\nIf you add a Turnscript to an individual room (a 'local' Turnscript), then it (and any of its scripts running) is ONLY in effect when you're in that specific room, if this isn't what you want, then you need to make the Turnscript global (don't add it to a room, see my previous post for how to add in a global Turnscript). The Turnscript should be a global Turnscript (the Guard will be always moving to a new room each internal turn)... unless you want to have an &quot;activator&quot; room, which will activate the Turnscript or change the Value of your 'Guard.move_whatever' Boolean Attribute to 'true', and also then when done, you'd have to 'disable' the Turnscript or set: 'Guard.move_whatever=false'\n\nyes, by using the first condition of 'Guard.move_whatever_it_called', you thus then are controling whether the nested scripts run or (nothing happens or optionally the 'else' scripts run)\n\nThere's also Functions to toggle the Turnscripts &quot;on&quot; ('enabled=true') or &quot;off&quot; ('enabled=false')",
      "EditableFormat": "bbcode",
      "HTML": "this post is just a brief repsonse... let me know if you're still confused and try to explain exactly what you want to do, so I can then try to be more specific and helpful<br/><br/>-----------------<br/><br/>left side's &quot;tree of struff&quot; :<br/><br/>Object<br/>-&gt; Game<br/>-&gt;-&gt; Verbs<br/>-&gt;-&gt; Commands<br/>Functions &lt;---------------- click on this, and add in your function (name it whatever you want), put/add your Guard_1 movement scripts into this Function<br/>etc etc etc<br/><br/>A Function acts as like a storage spot for some action/event/scripting that you want (such as for moving your Guard_1), well there's more specifics about a Functions capabilities (but let's not get into that here), you can then add/use/call/put the Function into where-ever you want and as many of them as you want, via in the GUI~Editor: run as script -&gt; add new script -&gt; 'output' category I believe -&gt; 'call function' -&gt; skinny rectangle text box: your_functions_name -&gt; Add arguments/parameters if you got any - not sure how this works in the GUI~Editor<br/><br/>A 'Function' Element is a container for scriptings (just like a Verb is), just as an 'Object' Element is a container for Attributes and/or other 'Object' Elements<br/><br/>for an example:<br/><br/><pre><code>&lt;game name=&quot;sample&quot;&gt;<br/>  // the built-in 'game&#46;start' Script Attribute is the first thing to run at game start, making it good, for example, for&#58; 'character creation'&#46; In the GUI~Editor, you'll find the 'start' Script in the 'Scripts' Tab of the 'game' Game Object&#58;<br/>  &lt;attr name=&quot;start&quot; type=&quot;script&quot;&gt;<br/>    test_function<br/>  &lt;/attr&gt;<br/>&lt;/game&gt;<br/><br/>&lt;object name=&quot;npc_1&quot;&gt;<br/>  &lt;attr name=&quot;look&quot; type=&quot;script&quot;&gt;<br/>    test_function<br/>  &lt;/attr&gt;<br/>&lt;/object&gt;<br/><br/>&lt;turnscript name=&quot;global_turnscript&quot;&gt;<br/>  &lt;enabled /&gt;<br/>  &lt;script&gt;<br/>    test_function<br/>  &lt;/script&gt;<br/>&lt;/turnscript&gt;<br/><br/>&lt;verb&gt;<br/>  &lt;propety&gt;look&lt;/property&gt;<br/>  &lt;pattern&gt;look&lt;/property&gt;<br/>  &lt;defaultexpression&gt;You can't look at that!&lt;/defaultexpression&gt;<br/>&lt;/verb&gt;<br/><br/>&lt;function name=&quot;test_function&quot;&gt;<br/>  msg (&quot;testing 1 2 3&quot;)<br/>&lt;/function&gt;</code></pre><br/><br/>the 'testing 1 2 3' will be displayed when the game starts ('game' Game Object's 'start' Script Attribute), upon each internal turn (Turnscript), and whenever you use the 'look' Verb for 'npc_1' Object.<br/><br/>---------<br/><br/>or, if Functions still are confusing, here's not using them:<br/><br/><pre><code>&lt;game name=&quot;sample&quot;&gt;<br/>  &lt;attr name=&quot;start&quot; type=&quot;script&quot;&gt;<br/>    msg (&quot;testing 1 2 3&quot;)<br/>  &lt;/attr&gt;<br/>&lt;/game&gt;<br/><br/>&lt;object name=&quot;npc_1&quot;&gt;<br/>  &lt;attr name=&quot;look&quot; type=&quot;script&quot;&gt;<br/>    msg (&quot;testing 1 2 3&quot;)<br/>  &lt;/attr&gt;<br/>&lt;/object&gt;<br/><br/>&lt;turnscript name=&quot;global_turnscript&quot;&gt;<br/>  &lt;enabled /&gt;<br/>  &lt;script&gt;<br/>    msg (&quot;testing 1 2 3&quot;)<br/>  &lt;/script&gt;<br/>&lt;/turnscript&gt;<br/><br/>&lt;verb&gt;<br/>  &lt;propety&gt;look&lt;/property&gt;<br/>  &lt;pattern&gt;look&lt;/property&gt;<br/>  &lt;defaultexpression&gt;You can't look at that!&lt;/defaultexpression&gt;<br/>&lt;/verb&gt;</code></pre><br/><br/>------------------------<br/><br/><blockquote><cite>grotel wrote:</cite>Also, I forgot to say that I want to create some more rooms exactly like this one. Do I have to make the turnscript global or do I just turn on and off the guards every time the player enters and leaves the room (don't worry about the position, that's already fixed, kinda)?</blockquote><br/><br/>do you just mean expanding/increasing your Guard's patrolled rooms, or do you mean creating separate/more npcs and with their own separate patrolled rooms?<br/><br/>If you add a Turnscript to an individual room (a 'local' Turnscript), then it (and any of its scripts running) is ONLY in effect when you're in that specific room, if this isn't what you want, then you need to make the Turnscript global (don't add it to a room, see my previous post for how to add in a global Turnscript). The Turnscript should be a global Turnscript (the Guard will be always moving to a new room each internal turn)... unless you want to have an &quot;activator&quot; room, which will activate the Turnscript or change the Value of your 'Guard.move_whatever' Boolean Attribute to 'true', and also then when done, you'd have to 'disable' the Turnscript or set: 'Guard.move_whatever=false'<br/><br/>yes, by using the first condition of 'Guard.move_whatever_it_called', you thus then are controling whether the nested scripts run or (nothing happens or optionally the 'else' scripts run)<br/><br/>There's also Functions to toggle the Turnscripts &quot;on&quot; ('enabled=true') or &quot;off&quot; ('enabled=false')",
      "PostDate": "2016-07-01T05:00:24+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "43842",
      "UserId": 0,
      "Username": "The Pixie",
      "UserAvatar": null,
      "UserGravatar": "cfa37e927f96177bcf6053ae8f108f77",
      "EditableText": "I have had a bit of a play around, and created a turn script and a couple of functions that might be helpful, if you are still struggling. The way I have approached it is to have a list of rooms on the route, and track the NPC's progress.\n\nIf you are working off-line, you can copy the lot into your game code; if you are editing on-line, you will need to create the turnscript and each function individually, making sure the attributes are right, and then paste the code for each in. Say if that is not clear.\n\nOnce you have the code, you can set an NPC to patrol by setting an attribute called &quot;patrol_type&quot; on the NPC. Set it to &quot;circuit&quot; to have the NPC going on a loop, to &quot;return&quot; to have her go there and back, or &quot;random&quot; to have her just wander at random. For the first two options you also need a string list, &quot;patrol_route&quot; that contains the names of the rooms on the route.\n\nIf you are working on-line, you cannot set attributes directly, so would have to set the in game.start. Again, say if not clear.\n\nYou can have the NPC stop patrolling by setting &quot;patrol_paused&quot; to true, and have her resume by setting it to false. You can also set any number of NPCs to patrol in the same way.\n[code:nsuo52xl]  &lt;turnscript name=&quot;patrolling&quot;&gt;\n    &lt;enabled /&gt;\n    &lt;script&gt;\n      foreach (o, AllObjects()) {\n        if (HasString(o, &quot;patrol_type&quot;)) {\n          if (not HasInt(o, &quot;patrol_pos&quot;)) {\n            o&#46;patrol_pos = 0\n          }\n          if (not HasBoolean(o, &quot;patrol_paused&quot;)) {\n            o&#46;patrol_paused = false\n          }\n          if (not o&#46;patrol_paused) {\n            Patrol (o)\n          }\n        }\n      }\n    &lt;/script&gt;\n  &lt;/turnscript&gt;\n\n\n  &lt;function name=&quot;Patrol&quot; parameters=&quot;o&quot;&gt;&lt;!&#91;CDATA&#91;\n    oldroom = o&#46;parent\n    if (o&#46;patrol_type = &quot;circuit&quot;) {\n      o&#46;patrol_pos = o&#46;patrol_pos + 1\n      if (o&#46;patrol_pos &gt;= ListCount(o&#46;patrol_route)) {\n        o&#46;patrol_pos = 0\n      }\n      o&#46;parent = GetObject(StringListItem(o&#46;patrol_route, o&#46;patrol_pos))\n    }\n    if (o&#46;patrol_type = &quot;return&quot;) {\n      o&#46;patrol_pos = o&#46;patrol_pos + 1\n      if (o&#46;patrol_pos &gt; 2 * ListCount(o&#46;patrol_route) - 3) {\n        o&#46;patrol_pos = 0\n      }\n      if (o&#46;patrol_pos &gt;= ListCount(o&#46;patrol_route)) {\n        pos = ListCount(o&#46;patrol_route) * 2 - o&#46;patrol_pos - 2\n      }\n      else {\n        pos = o&#46;patrol_pos\n      }\n      o&#46;parent = GetObject(StringListItem(o&#46;patrol_route, pos))\n    }\n    if (o&#46;patrol_type = &quot;random&quot;) {\n      o&#46;parent = RandomNextUnlockedRoom(o&#46;parent)\n    }\n    if (oldroom = player&#46;parent) {\n      exitname = GetExitByLink(player&#46;parent,  o&#46;parent)\n      s = GetDisplayName(o) + &quot; has left the room&quot;\n      if (not exitname = null) {\n        exit = GetObject(exitname)\n        s = s + &quot;, heading &quot; + exit&#46;alias\n      }\n      msg (s + &quot;&#46;&quot;)\n    }\n    if (o&#46;parent = player&#46;parent) {\n      exitname = GetExitByLink(player&#46;parent,  oldroom)\n      s = GetDisplayName(o) + &quot; enters the room&quot;\n      if (not exitname = null) {\n        exit = GetObject(exitname)\n        s = s + &quot;, from &quot; + exit&#46;alias\n      }\n      msg (s + &quot;&#46;&quot;)\n    }\n    // msg (o&#46;alias + &quot; is now &quot; + o&#46;parent&#46;name)\n  &#93;&#93;&gt;&lt;/function&gt;\n  \n  \n  &lt;function name=&quot;ScopeUnlockedExitsForRoom&quot; parameters=&quot;room&quot; type=&quot;objectlist&quot;&gt;\n    result = NewObjectList()\n    foreach (exit, AllExits()) {\n      if (exit&#46;parent = room) {\n        if (exit&#46;visible and not exit&#46;locked) {\n          if (GetBoolean(room, &quot;darklevel&quot;)) {\n            if (GetBoolean(exit, &quot;lightsource&quot;)) {\n              list add (result, exit)\n            }\n          }\n          else {\n            list add (result, exit)\n          }\n        }\n      }\n    }\n    return (result)\n  &lt;/function&gt;\n  \n  \n  &lt;function name=&quot;RandomNextUnlockedRoom&quot; parameters=&quot;currentroom&quot; type=&quot;object&quot;&gt;\n    exts = ScopeUnlockedExitsForRoom (currentroom)\n    if (ListCount(exts) = 0) {\n      return (currentroom)\n    }\n    exit = ObjectListItem(exts, GetRandomInt(0, ListCount(exts) - 1))\n    return (exit&#46;to)\n  &lt;/function&gt;[/code:nsuo52xl]",
      "EditableFormat": "bbcode",
      "HTML": "I have had a bit of a play around, and created a turn script and a couple of functions that might be helpful, if you are still struggling. The way I have approached it is to have a list of rooms on the route, and track the NPC's progress.<br/><br/>If you are working off-line, you can copy the lot into your game code; if you are editing on-line, you will need to create the turnscript and each function individually, making sure the attributes are right, and then paste the code for each in. Say if that is not clear.<br/><br/>Once you have the code, you can set an NPC to patrol by setting an attribute called &quot;patrol_type&quot; on the NPC. Set it to &quot;circuit&quot; to have the NPC going on a loop, to &quot;return&quot; to have her go there and back, or &quot;random&quot; to have her just wander at random. For the first two options you also need a string list, &quot;patrol_route&quot; that contains the names of the rooms on the route.<br/><br/>If you are working on-line, you cannot set attributes directly, so would have to set the in game.start. Again, say if not clear.<br/><br/>You can have the NPC stop patrolling by setting &quot;patrol_paused&quot; to true, and have her resume by setting it to false. You can also set any number of NPCs to patrol in the same way.<br/><pre><code>  &lt;turnscript name=&quot;patrolling&quot;&gt;<br/>    &lt;enabled /&gt;<br/>    &lt;script&gt;<br/>      foreach (o, AllObjects()) {<br/>        if (HasString(o, &quot;patrol_type&quot;)) {<br/>          if (not HasInt(o, &quot;patrol_pos&quot;)) {<br/>            o&#46;patrol_pos = 0<br/>          }<br/>          if (not HasBoolean(o, &quot;patrol_paused&quot;)) {<br/>            o&#46;patrol_paused = false<br/>          }<br/>          if (not o&#46;patrol_paused) {<br/>            Patrol (o)<br/>          }<br/>        }<br/>      }<br/>    &lt;/script&gt;<br/>  &lt;/turnscript&gt;<br/><br/><br/>  &lt;function name=&quot;Patrol&quot; parameters=&quot;o&quot;&gt;&lt;!&#91;CDATA&#91;<br/>    oldroom = o&#46;parent<br/>    if (o&#46;patrol_type = &quot;circuit&quot;) {<br/>      o&#46;patrol_pos = o&#46;patrol_pos + 1<br/>      if (o&#46;patrol_pos &gt;= ListCount(o&#46;patrol_route)) {<br/>        o&#46;patrol_pos = 0<br/>      }<br/>      o&#46;parent = GetObject(StringListItem(o&#46;patrol_route, o&#46;patrol_pos))<br/>    }<br/>    if (o&#46;patrol_type = &quot;return&quot;) {<br/>      o&#46;patrol_pos = o&#46;patrol_pos + 1<br/>      if (o&#46;patrol_pos &gt; 2 * ListCount(o&#46;patrol_route) - 3) {<br/>        o&#46;patrol_pos = 0<br/>      }<br/>      if (o&#46;patrol_pos &gt;= ListCount(o&#46;patrol_route)) {<br/>        pos = ListCount(o&#46;patrol_route) * 2 - o&#46;patrol_pos - 2<br/>      }<br/>      else {<br/>        pos = o&#46;patrol_pos<br/>      }<br/>      o&#46;parent = GetObject(StringListItem(o&#46;patrol_route, pos))<br/>    }<br/>    if (o&#46;patrol_type = &quot;random&quot;) {<br/>      o&#46;parent = RandomNextUnlockedRoom(o&#46;parent)<br/>    }<br/>    if (oldroom = player&#46;parent) {<br/>      exitname = GetExitByLink(player&#46;parent,  o&#46;parent)<br/>      s = GetDisplayName(o) + &quot; has left the room&quot;<br/>      if (not exitname = null) {<br/>        exit = GetObject(exitname)<br/>        s = s + &quot;, heading &quot; + exit&#46;alias<br/>      }<br/>      msg (s + &quot;&#46;&quot;)<br/>    }<br/>    if (o&#46;parent = player&#46;parent) {<br/>      exitname = GetExitByLink(player&#46;parent,  oldroom)<br/>      s = GetDisplayName(o) + &quot; enters the room&quot;<br/>      if (not exitname = null) {<br/>        exit = GetObject(exitname)<br/>        s = s + &quot;, from &quot; + exit&#46;alias<br/>      }<br/>      msg (s + &quot;&#46;&quot;)<br/>    }<br/>    // msg (o&#46;alias + &quot; is now &quot; + o&#46;parent&#46;name)<br/>  &#93;&#93;&gt;&lt;/function&gt;<br/>  <br/>  <br/>  &lt;function name=&quot;ScopeUnlockedExitsForRoom&quot; parameters=&quot;room&quot; type=&quot;objectlist&quot;&gt;<br/>    result = NewObjectList()<br/>    foreach (exit, AllExits()) {<br/>      if (exit&#46;parent = room) {<br/>        if (exit&#46;visible and not exit&#46;locked) {<br/>          if (GetBoolean(room, &quot;darklevel&quot;)) {<br/>            if (GetBoolean(exit, &quot;lightsource&quot;)) {<br/>              list add (result, exit)<br/>            }<br/>          }<br/>          else {<br/>            list add (result, exit)<br/>          }<br/>        }<br/>      }<br/>    }<br/>    return (result)<br/>  &lt;/function&gt;<br/>  <br/>  <br/>  &lt;function name=&quot;RandomNextUnlockedRoom&quot; parameters=&quot;currentroom&quot; type=&quot;object&quot;&gt;<br/>    exts = ScopeUnlockedExitsForRoom (currentroom)<br/>    if (ListCount(exts) = 0) {<br/>      return (currentroom)<br/>    }<br/>    exit = ObjectListItem(exts, GetRandomInt(0, ListCount(exts) - 1))<br/>    return (exit&#46;to)<br/>  &lt;/function&gt;</code></pre>",
      "PostDate": "2016-07-01T10:57:41+01:00",
      "LastEditDate": null
    }
  ]
}
