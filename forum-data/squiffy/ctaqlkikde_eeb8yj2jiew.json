{
  "Topic": {
    "TopicId": "ctaqlkikde_eeb8yj2jiew",
    "ForumId": "24",
    "Title": "way to restore later versions or code from published game?",
    "LastUpdated": "2021-05-11T14:22:00.6460776Z",
    "ReplyCount": 0
  },
  "Posts": [
    {
      "PostId": "df514647-acde-4f66-98b2-4503984eea2e",
      "UserId": 453493,
      "Username": "Wiz is bored",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "ive been working on a game and published an unlisted version for friends to test, but then accidentally deleted all of the code. it was saved to the website. the published game still functions. is there a way to restore a previous version of the game, or extract the code from the published version? thanks.",
      "EditableFormat": "markdown",
      "HTML": "<p>ive been working on a game and published an unlisted version for friends to test, but then accidentally deleted all of the code. it was saved to the website. the published game still functions. is there a way to restore a previous version of the game, or extract the code from the published version? thanks.</p>\n\n",
      "PostDate": "2021-05-11T14:22:00.6460776Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "ee3be07a-2eeb-4452-83c7-c966661e2a1c",
      "UserId": 208122,
      "Username": "IFforClassroom",
      "AvatarUrl": "https://secure.gravatar.com/avatar/9683526b9b2547bc86419ed8a2454df1?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "I lost hundreds of lines in one of my short games this way. I had been working on it on my office desktop, classroom desktop, and personal laptop without saving anywhere but textadventures.co.uk. Then I published, immediately found several bugs and tried to go back in.  There's no way I was able to discover to get my Squiffy code back. Now I save all my changes in a Google Drive doc.",
      "EditableFormat": "markdown",
      "HTML": "<p>I lost hundreds of lines in one of my short games this way. I had been working on it on my office desktop, classroom desktop, and personal laptop without saving anywhere but textadventures.co.uk. Then I published, immediately found several bugs and tried to go back in.  There's no way I was able to discover to get my Squiffy code back. Now I save all my changes in a Google Drive doc.</p>\n\n",
      "PostDate": "2021-05-13T23:09:32.4086446Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "de534b00-2e3a-4dbc-a49c-b90ce5f6b33b",
      "UserId": 518866,
      "Username": "K.V.",
      "AvatarUrl": "https://secure.gravatar.com/avatar/a97688aadc8152436180b511021e94a7?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "If you have a link to the published game, go there. Play the game.\r\n\r\nOnce the game is loaded, your URL should be something like this:\r\n\r\nhttps://media.textadventures.co.uk/games/d-TTazJ0f0a-TjcA5RUZjQ/index.html\r\n\r\nClick up there and change \"index.html\" to \"story.js\". Like so:\r\n\r\nhttps://media.textadventures.co.uk/games/d-TTazJ0f0a-TjcA5RUZjQ/story.js\r\n\r\n---\r\nThe beginning of the file is just the JS Squiffy functions, but, after scrolling down (way down), you'll find your Squiffy code in JS format. It ain't Squiffy format, but it might be better than nothing?\r\n\r\n<a href=\"https://user-images.githubusercontent.com/30656341/118200597-19820480-b41b-11eb-8dbb-eeb8a96db092.png\" title=\"SCREENSHOT\"><img alt=\"SCREENSHOT\" style='width:100%' src=\"https://user-images.githubusercontent.com/30656341/118200597-19820480-b41b-11eb-8dbb-eeb8a96db092.png\"  /></a>",
      "EditableFormat": "markdown",
      "HTML": "<p>If you have a link to the published game, go there. Play the game.</p>\n<p>Once the game is loaded, your URL should be something like this:</p>\n<p>https://media.textadventures.co.uk/games/d-TTazJ0f0a-TjcA5RUZjQ/index.html</p>\n<p>Click up there and change \"index.html\" to \"story.js\". Like so:</p>\n<p>https://media.textadventures.co.uk/games/d-TTazJ0f0a-TjcA5RUZjQ/story.js</p>\n<hr>\n<p>The beginning of the file is just the JS Squiffy functions, but, after scrolling down (way down), you'll find your Squiffy code in JS format. It ain't Squiffy format, but it might be better than nothing?</p>\n<p><a href=\"https://user-images.githubusercontent.com/30656341/118200597-19820480-b41b-11eb-8dbb-eeb8a96db092.png\" title=\"SCREENSHOT\"><img alt=\"SCREENSHOT\" style=\"width: 100%\" src=\"https://user-images.githubusercontent.com/30656341/118200597-19820480-b41b-11eb-8dbb-eeb8a96db092.png\"></a></p>\n\n",
      "PostDate": "2021-05-13T23:33:13.689907Z",
      "LastEditDate": "2021-05-13T23:46:59.7653771Z",
      "link": null
    },
    {
      "PostId": "d3963e84-6f6b-4035-9654-dddba59e4eb2",
      "UserId": 260569,
      "Username": "DarkLizerd",
      "AvatarUrl": "https://i.imgur.com/HiZKEtPb.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Would you be interested in a program that could extract the original code from the compiled version?\r\nI thought about creating one that could do the job for you.\r\nBut I didn't know how it would be received by other authors if their source code could be extracted and looked at.\r\nBut then again... no one would be loosing money or bragging rights to a bit of code.\r\n",
      "EditableFormat": "markdown",
      "HTML": "<p>Would you be interested in a program that could extract the original code from the compiled version?<br>\nI thought about creating one that could do the job for you.<br>\nBut I didn't know how it would be received by other authors if their source code could be extracted and looked at.<br>\nBut then again... no one would be loosing money or bragging rights to a bit of code.</p>\n\n",
      "PostDate": "2021-05-14T02:48:44.7647152Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "3b256498-76ff-4ff3-9073-0015447d16bd",
      "UserId": 518866,
      "Username": "K.V.",
      "AvatarUrl": "https://secure.gravatar.com/avatar/a97688aadc8152436180b511021e94a7?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "> Would you be interested in a program that could extract the original code from the compiled version?\r\n\r\nYes, please!\r\n\r\nI mean... Email it to me if no one else wants it.  (I'm more interested in seeing how it works than anything else.)",
      "EditableFormat": "markdown",
      "HTML": "<blockquote>\n<p>Would you be interested in a program that could extract the original code from the compiled version?</p>\n</blockquote>\n<p>Yes, please!</p>\n<p>I mean... Email it to me if no one else wants it.  (I'm more interested in seeing how it works than anything else.)</p>\n\n",
      "PostDate": "2021-05-14T03:28:24.87527Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "df4c7f0d-7a56-4553-9239-4aed0d2575a0",
      "UserId": 260569,
      "Username": "DarkLizerd",
      "AvatarUrl": "https://i.imgur.com/HiZKEtPb.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Creation starts now, But, it will an EXE, not Quest.\r\nI know Basic MUCH better than Quest.\r\nBut I can show you the basic code, with explanations of what's happening. \r\n",
      "EditableFormat": "markdown",
      "HTML": "<p>Creation starts now, But, it will an EXE, not Quest.<br>\nI know Basic MUCH better than Quest.<br>\nBut I can show you the basic code, with explanations of what's happening.</p>\n\n",
      "PostDate": "2021-05-14T03:48:35.8626141Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "5f1830d2-9207-4326-8969-8f874c3d73d6",
      "UserId": 518866,
      "Username": "K.V.",
      "AvatarUrl": "https://secure.gravatar.com/avatar/a97688aadc8152436180b511021e94a7?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Awesome!!!",
      "EditableFormat": "markdown",
      "HTML": "<p>Awesome!!!</p>\n\n",
      "PostDate": "2021-05-14T04:56:54.1050524Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "721c9e47-af94-4b30-8b3d-0616254aa16d",
      "UserId": 260569,
      "Username": "DarkLizerd",
      "AvatarUrl": "https://i.imgur.com/HiZKEtPb.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Ver 0.01 \"works\"...\r\nAt least it reads the compiled Game.aslx, (currently the default file and will save the new file as the game name.aslx)\r\n Now, I just need to \"teach\" it what code blocks to cut out.\r\nThis may be the hard part.\r\n",
      "EditableFormat": "markdown",
      "HTML": "<p>Ver 0.01 \"works\"...<br>\nAt least it reads the compiled Game.aslx, (currently the default file and will save the new file as the game name.aslx)<br>\nNow, I just need to \"teach\" it what code blocks to cut out.<br>\nThis may be the hard part.</p>\n\n",
      "PostDate": "2021-05-14T06:11:55.337685Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "a8bfb33f-726a-4247-b2d6-cc40a7f76e7c",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "> At least it reads the compiled Game.aslx, (currently the default file and will save the new file as the game name.aslx)\r\n\r\nAre you doing this for Quest, or Squiffy games?\r\n\r\nI already built one for Quest; but it's a rather flaky command line tool that requires a little manual correction.\r\n\r\nThis is the Squiffy forum, and in Squiffy the compiled code is stored in `story.js`. It should be fairly easy to work backwards I think, which can probably be mostly done with regular expressions.",
      "EditableFormat": "markdown",
      "HTML": "<blockquote>\n<p>At least it reads the compiled Game.aslx, (currently the default file and will save the new file as the game name.aslx)</p>\n</blockquote>\n<p>Are you doing this for Quest, or Squiffy games?</p>\n<p>I already built one for Quest; but it's a rather flaky command line tool that requires a little manual correction.</p>\n<p>This is the Squiffy forum, and in Squiffy the compiled code is stored in <code>story.js</code>. It should be fairly easy to work backwards I think, which can probably be mostly done with regular expressions.</p>\n\n",
      "PostDate": "2021-05-14T19:18:41.4093388Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "bd9b9541-e423-42ea-81d1-de44a357101b",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Now I got myself trying to do this. It's getting there :)\r\n\r\nBut I don't know all the features of squiffy, so there's bound to be a whole load of things it's missing.",
      "EditableFormat": "markdown",
      "HTML": "<p>Now I got myself trying to do this. It's getting there :)</p>\n<p>But I don't know all the features of squiffy, so there's bound to be a whole load of things it's missing.</p>\n\n",
      "PostDate": "2021-05-14T21:17:30.5493477Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "e9886e77-f839-4a27-825f-cd2c0b4f7b0d",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "OK… after a little under 3 hours (including meal break mandated by family) I have a very ugly first draft.\r\n\r\nhttp://angelverse.mrangel.info/desquiff.html\r\n\r\nPaste your `story.js` file into the box, and hit the 'Go!' button at the bottom. It should give you something that looks like Squiffy code.\r\n\r\nIf it finds anything it doesn't recognise inside a section, it'll include an error message starting with `***`. It may mangle complex HTML, because it's using a bunch of regular expressions to turn the body of each section from HTML back into text; if you can give me an example of an original Squiffy source, the code that it turns into in `story.js`, and what my script outputs, I can try to fix that for you.",
      "EditableFormat": "markdown",
      "HTML": "<p>OK… after a little under 3 hours (including meal break mandated by family) I have a very ugly first draft.</p>\n<p>http://angelverse.mrangel.info/desquiff.html</p>\n<p>Paste your <code>story.js</code> file into the box, and hit the 'Go!' button at the bottom. It should give you something that looks like Squiffy code.</p>\n<p>If it finds anything it doesn't recognise inside a section, it'll include an error message starting with <code>***</code>. It may mangle complex HTML, because it's using a bunch of regular expressions to turn the body of each section from HTML back into text; if you can give me an example of an original Squiffy source, the code that it turns into in <code>story.js</code>, and what my script outputs, I can try to fix that for you.</p>\n\n",
      "PostDate": "2021-05-14T22:15:12.0720016Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "3749661f-4b33-41f4-af76-a7f01f278299",
      "UserId": 260569,
      "Username": "DarkLizerd",
      "AvatarUrl": "https://i.imgur.com/HiZKEtPb.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "I know Quest, but, I may be able to get it to extract Squiffy as well.\r\n",
      "EditableFormat": "markdown",
      "HTML": "<p>I know Quest, but, I may be able to get it to extract Squiffy as well.</p>\n\n",
      "PostDate": "2021-05-14T23:01:27.5281737Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "f45b09b9-0bfa-4bbb-a0ba-d047deae0a4f",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "> I know Quest, but, I may be able to get it to extract Squiffy as well.\r\n\r\nI assume you'd be starting over to do Squiffy, as there's nothing in common between the files. (Quest is XML; Squiffy is <s>JSON</s> Javascript… I almost got that wrong there. It's not JSON if it contains lambda functions).\r\n\r\n<details><summary>I'm curious how you handled the editor modules for Quest. My approach was … (click to expand)</summary>\r\n\r\nI'm curious how you handled the editor modules for Quest. My approach was to scan for functions and objects that are identical in one of the libraries, add an include line for each library that is used, and then include `GamebookCoreEditor.aslx` if it includes any functions that are in `GamebookCore.aslx` and nowhere else; or `CoreEditor.aslx` if it includes functions from the other libraries apart from `CoreFunctions.aslx` and `CoreOutput.aslx` than it does from gamebook (because a lot of people import functions from those two into gamebook). And similarly from language libraries, import the one that has the most matching templates in it, and import the corresponding editor language if it exists (or EditorEnglish otherwise).\r\n\r\nMaking it handle third party libraries correctly would be a challenge, but I think it should be doable.\r\n</details>",
      "EditableFormat": "markdown",
      "HTML": "<blockquote>\n<p>I know Quest, but, I may be able to get it to extract Squiffy as well.</p>\n</blockquote>\n<p>I assume you'd be starting over to do Squiffy, as there's nothing in common between the files. (Quest is XML; Squiffy is <s>JSON</s> Javascript… I almost got that wrong there. It's not JSON if it contains lambda functions).</p>\n<details><summary>I'm curious how you handled the editor modules for Quest. My approach was … (click to expand)</summary>\n<p>I'm curious how you handled the editor modules for Quest. My approach was to scan for functions and objects that are identical in one of the libraries, add an include line for each library that is used, and then include <code>GamebookCoreEditor.aslx</code> if it includes any functions that are in <code>GamebookCore.aslx</code> and nowhere else; or <code>CoreEditor.aslx</code> if it includes functions from the other libraries apart from <code>CoreFunctions.aslx</code> and <code>CoreOutput.aslx</code> than it does from gamebook (because a lot of people import functions from those two into gamebook). And similarly from language libraries, import the one that has the most matching templates in it, and import the corresponding editor language if it exists (or EditorEnglish otherwise).</p>\n<p>Making it handle third party libraries correctly would be a challenge, but I think it should be doable.</p>\n</details>\n\n",
      "PostDate": "2021-05-14T23:36:21.5624261Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "59e27218-c86c-4e55-9e33-c175cbc5da27",
      "UserId": 260569,
      "Username": "DarkLizerd",
      "AvatarUrl": "https://i.imgur.com/HiZKEtPb.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "I guess we need to continue this in the Quest section.\r\nI think, if I followed your idea, that was what I thought about first.\r\nBut right now, I'm trying to identify what Quest adds when it publishes the user script and copy the rest into a new file.\r\nSingle lines are easy, multiple lines is frustrating.\r\nIt's frustrating that quest will add some code at the start, some in the middle , and more at the end.\r\nIt would be better if Quest just added it's code at the end, or the beginning, just as long as it was all in one place.\r\n",
      "EditableFormat": "markdown",
      "HTML": "<p>I guess we need to continue this in the Quest section.<br>\nI think, if I followed your idea, that was what I thought about first.<br>\nBut right now, I'm trying to identify what Quest adds when it publishes the user script and copy the rest into a new file.<br>\nSingle lines are easy, multiple lines is frustrating.<br>\nIt's frustrating that quest will add some code at the start, some in the middle , and more at the end.<br>\nIt would be better if Quest just added it's code at the end, or the beginning, just as long as it was all in one place.</p>\n\n",
      "PostDate": "2021-05-15T01:31:48.0440022Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "ff99b15d-8a5b-4764-b56e-019f949f1cba",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Slightly updated. Now you can paste a game URL. But it has to be the address of the game, not the listing (because for some reason I can't get the actual game URL… looks like there's some security restriction)",
      "EditableFormat": "markdown",
      "HTML": "<p>Slightly updated. Now you can paste a game URL. But it has to be the address of the game, not the listing (because for some reason I can't get the actual game URL… looks like there's some security restriction)</p>\n\n",
      "PostDate": "2021-05-15T11:54:01.5381704Z",
      "LastEditDate": null,
      "link": null
    }
  ]
}
