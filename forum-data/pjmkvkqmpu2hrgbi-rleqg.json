{
  "Topic": {
    "TopicId": "pjmkvkqmpu2hrgbi-rleqg",
    "ForumId": "10",
    "Title": "Where is the save/resume function controlled in game UI?",
    "LastUpdated": "2016-12-10T02:30:31.7995088Z",
    "ReplyCount": 0
  },
  "Posts": [
    {
      "PostId": "20c66bb9-ecc9-4afc-8745-657df2ab4cea",
      "UserId": 107651,
      "Username": "OurJud",
      "AvatarUrl": "http://i.imgur.com/wfM9qy6b.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "All my (and other's) attempts over the last few years to get the resume/css problem resolved have come to nothing. Alex supposedly fixed the bug about 12 months ago, but on testing it still persists.\r\n\r\nWith Quest's continuation now in the balance I would dearly love to get to the bottom of this once and for all.\r\n\r\nJust to recap (this is all related to playing online)\r\n\r\n• I hide the command bar and **>** icon with CSS - resulting in a simple flashing cursor below the descriptions.\r\n• When the game is started from the beginning all is as it should be (this is because I have a bunch of clever JS in the start script which calls my CSS)\r\n• If a game is saved and then resumed, both the **>** icon and command box are rendered, meaning the CSS is not being called.\r\n\r\nBelow is everything (that I know of) that supposedly handles things.\r\n\r\nIn my game code CSS I have:\r\n```\r\nbody { overflow-x: hidden; line-height: 23px; text-align: justify; }\r\na.cmdlink { color: #777 !important;  text-decoration: none !important; }\r\ndiv#gamePanel { z-index: 99999; }        \r\n#titleimage { display: none; }\r\ndiv#txtCommandDiv { border: none; background: no-repeat; font-size:12px; font-family:'Courier New', Courier, monospace;  color: #fff; }\r\nbr { display: block;  content: \"\";  margin-top: .5em; }\r\nelement.style { display: none; }\r\ninput#txtCommand { float: left !important; outline: none !important; border: none !important; font-size:12px; margin: 0; padding: 0; max-width: 660px; }\r\n#status { display: none !important; visibility: hidden !important; }\r\n```\r\nIn my game's Start Script I have:\r\n```\r\nJS.eval (\"getCSSRule('a.cmdlink').style.color='#555f'\")\r\nJS.setCommandBarStyle (GetCurrentTextFormat(\"\") + \";border:\" + game.defaultbackground)\r\nJS.addText (game.css)\r\nJS.eval (\"$('#txtCommand').css('background-color', '#ddd');\")\r\n```\r\nI have a Clear Screen function with the script:\r\n```\r\nrequest (ClearScreen, \"\")\r\nOutputTextNoBr (game.css)\r\n```\r\nAnd finally in the InitUserInterface I have this script:\r\n```\r\nJS.setCommandBarStyle (GetCurrentTextFormat(\"\") + \";border:\" + game.defaultbackground)\r\nJS.eval (\"$('#status').hide();\")\r\nJS.SetBackgroundCol (\"white\")\r\nJS.eval (\"$('#txtCommandDiv').prepend('&gt;&nbsp;')\")\r\nJS.OutputTextNoBr (game.css)\r\nOutputTextNoBr (game.css)\r\nrequest (SetInterfaceString, \"TypeHereLabel=\")\r\nif (GetBoolean(game, \"inprogress\")) {\r\n}\r\nelse {\r\n  game.inprogress = true\r\n}\r\n```\r\nCan any of you coders out there see if there's ANYTHING that may be causing the issue - anything missing, anything that shouldn't be there, typos, bad code??\r\n\r\nIf it is a bug, then I'm stuffed, but this has been bugging me for years.\r\n\r\n",
      "EditableFormat": "markdown",
      "HTML": "<p>All my (and other's) attempts over the last few years to get the resume/css problem resolved have come to nothing. Alex supposedly fixed the bug about 12 months ago, but on testing it still persists.</p>\n<p>With Quest's continuation now in the balance I would dearly love to get to the bottom of this once and for all.</p>\n<p>Just to recap (this is all related to playing online)</p>\n<ul>\n<li>I hide the command bar and <strong>&gt;</strong> icon with CSS - resulting in a simple flashing cursor below the descriptions.</li>\n<li>When the game is started from the beginning all is as it should be (this is because I have a bunch of clever JS in the start script which calls my CSS)</li>\n<li>If a game is saved and then resumed, both the <strong>&gt;</strong> icon and command box are rendered, meaning the CSS is not being called.</li>\n</ul>\n<p>Below is everything (that I know of) that supposedly handles things.</p>\n<p>In my game code CSS I have:</p>\n<pre><code>body { overflow-x: hidden; line-height: 23px; text-align: justify; }\na.cmdlink { color: #777 !important;  text-decoration: none !important; }\ndiv#gamePanel { z-index: 99999; }        \n#titleimage { display: none; }\ndiv#txtCommandDiv { border: none; background: no-repeat; font-size:12px; font-family:'Courier New', Courier, monospace;  color: #fff; }\nbr { display: block;  content: \"\";  margin-top: .5em; }\nelement.style { display: none; }\ninput#txtCommand { float: left !important; outline: none !important; border: none !important; font-size:12px; margin: 0; padding: 0; max-width: 660px; }\n#status { display: none !important; visibility: hidden !important; }\n</code></pre>\n<p>In my game's Start Script I have:</p>\n<pre><code>JS.eval (\"getCSSRule('a.cmdlink').style.color='#555f'\")\nJS.setCommandBarStyle (GetCurrentTextFormat(\"\") + \";border:\" + game.defaultbackground)\nJS.addText (game.css)\nJS.eval (\"$('#txtCommand').css('background-color', '#ddd');\")\n</code></pre>\n<p>I have a Clear Screen function with the script:</p>\n<pre><code>request (ClearScreen, \"\")\nOutputTextNoBr (game.css)\n</code></pre>\n<p>And finally in the InitUserInterface I have this script:</p>\n<pre><code>JS.setCommandBarStyle (GetCurrentTextFormat(\"\") + \";border:\" + game.defaultbackground)\nJS.eval (\"$('#status').hide();\")\nJS.SetBackgroundCol (\"white\")\nJS.eval (\"$('#txtCommandDiv').prepend('&amp;gt;&amp;nbsp;')\")\nJS.OutputTextNoBr (game.css)\nOutputTextNoBr (game.css)\nrequest (SetInterfaceString, \"TypeHereLabel=\")\nif (GetBoolean(game, \"inprogress\")) {\n}\nelse {\n  game.inprogress = true\n}\n</code></pre>\n<p>Can any of you coders out there see if there's ANYTHING that may be causing the issue - anything missing, anything that shouldn't be there, typos, bad code??</p>\n<p>If it is a bug, then I'm stuffed, but this has been bugging me for years.</p>\n\n",
      "PostDate": "2016-12-10T02:30:31.7995088Z",
      "LastEditDate": "2016-12-10T02:55:12.6851687Z"
    },
    {
      "PostId": "37ca81a0-a99e-4c89-a119-424a45aeb8c7",
      "UserId": 1346,
      "Username": "The Pixie",
      "AvatarUrl": "https://secure.gravatar.com/avatar/cfa37e927f96177bcf6053ae8f108f77?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "At a quick glance, I would suggest moving the stuff from the game start script into InitUserInterface, apart from the JS.addText line, and see how that works.",
      "EditableFormat": "markdown",
      "HTML": "<p>At a quick glance, I would suggest moving the stuff from the game start script into InitUserInterface, apart from the JS.addText line, and see how that works.</p>\n\n",
      "PostDate": "2016-12-10T09:20:39.0172916Z",
      "LastEditDate": null
    },
    {
      "PostId": "c49a8ac2-8271-48ec-a74f-29bdd23f963e",
      "UserId": 107651,
      "Username": "OurJud",
      "AvatarUrl": "http://i.imgur.com/wfM9qy6b.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Thanks. I'll give that a go now and get back with the results.\r\n\r\n[edit] Nope, didn't work.\r\n\r\nHere's the link so you can see it an action. Obviously you need to load the game, type Save, close, reopen and Resume.\r\n\r\nhttp://textadventures.co.uk/games/view/bf002clwwui4-1ynmgkhsq/command-box-test",
      "EditableFormat": "markdown",
      "HTML": "<p>Thanks. I'll give that a go now and get back with the results.</p>\n<p>[edit] Nope, didn't work.</p>\n<p>Here's the link so you can see it an action. Obviously you need to load the game, type Save, close, reopen and Resume.</p>\n<p>http://textadventures.co.uk/games/view/bf002clwwui4-1ynmgkhsq/command-box-test</p>\n\n",
      "PostDate": "2016-12-10T15:15:04.4053871Z",
      "LastEditDate": "2016-12-10T15:21:18.5814338Z"
    },
    {
      "PostId": "b1bedbe9-370e-4425-b3f8-e60fbf59612c",
      "UserId": 107651,
      "Username": "OurJud",
      "AvatarUrl": "http://i.imgur.com/wfM9qy6b.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "In actual fact some headway HAS been made.\r\n\r\nI took your idea and played around with the position of the stuff from the Start Script. Initially I just put it right at the top of the InitUserInterface and it made no difference at all. But I then moved the three lines to after the **OutputTextNoBr (game.css)** line, and even though the command box still returns on resume, some of my CSS is at least being rendered on resume.\r\n\r\nBefore the move, the command box stretched right off the right side of the screen (I suspect this is due to a **z-index: 99999** line I have to hide the game panels) but now with the adjustments my text box width is being called on resume.\r\n\r\nYou can see the differences here:\r\nhttp://textadventures.co.uk/games/view/bf002clwwui4-1ynmgkhsq/command-box-test (old)\r\nhttp://textadventures.co.uk/games/view/ypmra07z2esvii25rqjola/command-box-test4 (new)\r\n\r\nI'm off to play around with the code's positioning again.\r\n\r\n----------\r\n\r\nThis doesn't make sense. If the command box width is now successfully being called on resume with this from my CSS:\r\n```\r\ninput#txtCommand { float: left !important; outline: none !important; border: none !important; font-size:12px; margin: 0; padding: 0; max-width: 660px; }\r\n```\r\nWhy aren't the other rules for outline and border being called too?",
      "EditableFormat": "markdown",
      "HTML": "<p>In actual fact some headway HAS been made.</p>\n<p>I took your idea and played around with the position of the stuff from the Start Script. Initially I just put it right at the top of the InitUserInterface and it made no difference at all. But I then moved the three lines to after the <strong>OutputTextNoBr (game.css)</strong> line, and even though the command box still returns on resume, some of my CSS is at least being rendered on resume.</p>\n<p>Before the move, the command box stretched right off the right side of the screen (I suspect this is due to a <strong>z-index: 99999</strong> line I have to hide the game panels) but now with the adjustments my text box width is being called on resume.</p>\n<p>You can see the differences here:<br>\nhttp://textadventures.co.uk/games/view/bf002clwwui4-1ynmgkhsq/command-box-test (old)<br>\nhttp://textadventures.co.uk/games/view/ypmra07z2esvii25rqjola/command-box-test4 (new)</p>\n<p>I'm off to play around with the code's positioning again.</p>\n<hr>\n<p>This doesn't make sense. If the command box width is now successfully being called on resume with this from my CSS:</p>\n<pre><code>input#txtCommand { float: left !important; outline: none !important; border: none !important; font-size:12px; margin: 0; padding: 0; max-width: 660px; }\n</code></pre>\n<p>Why aren't the other rules for outline and border being called too?</p>\n\n",
      "PostDate": "2016-12-10T16:02:11.8299929Z",
      "LastEditDate": "2016-12-10T16:20:55.9172163Z"
    },
    {
      "PostId": "943c52e3-03d7-4946-885e-58ff9f3e6c71",
      "UserId": 1346,
      "Username": "The Pixie",
      "AvatarUrl": "https://secure.gravatar.com/avatar/cfa37e927f96177bcf6053ae8f108f77?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Just to check, does you CSS start and end with `style` tags, like this:\r\n```\r\n<css><![CDATA[\r\n<style>\r\nbody { overflow-x: hidden; line-height: 23px; text-align: justify; }\r\na.cmdlink { color: #777 !important;  text-decoration: none !important; }\r\ndiv#gamePanel { z-index: 99999; }        \r\n#titleimage { display: none; }\r\ndiv#txtCommandDiv { border: none; background: no-repeat; font-size:12px; font-family:'Courier New', Courier, monospace;  color: #fff; }\r\nbr { display: block;  content: \"\";  margin-top: .5em; }\r\nelement.style { display: none; }\r\ninput#txtCommand { float: left !important; outline: none !important; border: none !important; font-size:12px; margin: 0; padding: 0; max-width: 660px; }\r\n#status { display: none !important; visibility: hidden !important; }  \r\n</style>\r\n]]></css>\r\n```\r\nAlso, delete this line from 'InitUserInterface', this is what is giving the > (not sure why only sometimes).\r\n```\r\nJS.eval (\"$('#txtCommandDiv').prepend('&gt;&nbsp;')\")\r\n```\r\nI had a quick try, and that should work.",
      "EditableFormat": "markdown",
      "HTML": "<p>Just to check, does you CSS start and end with <code>style</code> tags, like this:</p>\n<pre><code>&lt;css&gt;&lt;![CDATA[\n&lt;style&gt;\nbody { overflow-x: hidden; line-height: 23px; text-align: justify; }\na.cmdlink { color: #777 !important;  text-decoration: none !important; }\ndiv#gamePanel { z-index: 99999; }        \n#titleimage { display: none; }\ndiv#txtCommandDiv { border: none; background: no-repeat; font-size:12px; font-family:'Courier New', Courier, monospace;  color: #fff; }\nbr { display: block;  content: \"\";  margin-top: .5em; }\nelement.style { display: none; }\ninput#txtCommand { float: left !important; outline: none !important; border: none !important; font-size:12px; margin: 0; padding: 0; max-width: 660px; }\n#status { display: none !important; visibility: hidden !important; }  \n&lt;/style&gt;\n]]&gt;&lt;/css&gt;\n</code></pre>\n<p>Also, delete this line from 'InitUserInterface', this is what is giving the &gt; (not sure why only sometimes).</p>\n<pre><code>JS.eval (\"$('#txtCommandDiv').prepend('&amp;gt;&amp;nbsp;')\")\n</code></pre>\n<p>I had a quick try, and that should work.</p>\n\n",
      "PostDate": "2016-12-10T16:51:08.4643229Z",
      "LastEditDate": null
    },
    {
      "PostId": "53f4abce-ba2c-4635-9795-bd9340ee4fed",
      "UserId": 107651,
      "Username": "OurJud",
      "AvatarUrl": "http://i.imgur.com/wfM9qy6b.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Yes, the CSS is between the correct tags.\r\n\r\nI'll get rid of the > line. Thanks again. \r\n\r\nStill playing around with the position of the stuff you told me to move from the Start Script.",
      "EditableFormat": "markdown",
      "HTML": "<p>Yes, the CSS is between the correct tags.</p>\n<p>I'll get rid of the &gt; line. Thanks again.</p>\n<p>Still playing around with the position of the stuff you told me to move from the Start Script.</p>\n\n",
      "PostDate": "2016-12-10T17:00:40.0677118Z",
      "LastEditDate": null
    },
    {
      "PostId": "060041c9-4424-4cf8-a127-6ad341bbba3a",
      "UserId": 107651,
      "Username": "OurJud",
      "AvatarUrl": "http://i.imgur.com/wfM9qy6b.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Well that got rid of the >, so thanks for that, but the command box persists on resume.\r\n\r\nI'm wondering if I need to include a shadow rule in the CSS as that seems to be the setting for the command box. It has very strong top and left borders and very faint bottom and right borders.",
      "EditableFormat": "markdown",
      "HTML": "<p>Well that got rid of the &gt;, so thanks for that, but the command box persists on resume.</p>\n<p>I'm wondering if I need to include a shadow rule in the CSS as that seems to be the setting for the command box. It has very strong top and left borders and very faint bottom and right borders.</p>\n\n",
      "PostDate": "2016-12-10T17:07:17.9742299Z",
      "LastEditDate": null
    },
    {
      "PostId": "d8b22041-767a-479a-9dac-bbb8ac4716da",
      "UserId": 107651,
      "Username": "OurJud",
      "AvatarUrl": "http://i.imgur.com/wfM9qy6b.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Maybe this will help your diagnosis.\r\n\r\nWhen I resume a save, the following JS line from the InitUserInterface is called:\r\n```\r\nJS.eval (\"$('#txtCommand').css('background-color', '#000');\")\r\n```\r\nIn other words the command box has a black background.\r\n\r\nAnd now the weird part. If I do nothing and just wait, the black background is removed after about 4 seconds, leaving the shadowed border I describe in the last post.\r\n\r\nSo in a nutshell my JS/css is being called on resume, but only for a few seconds??\r\n\r\nWould it be possible to put a global **Get Input** in somewhere, and uncheck the **Show command bar** in the game interface tab?",
      "EditableFormat": "markdown",
      "HTML": "<p>Maybe this will help your diagnosis.</p>\n<p>When I resume a save, the following JS line from the InitUserInterface is called:</p>\n<pre><code>JS.eval (\"$('#txtCommand').css('background-color', '#000');\")\n</code></pre>\n<p>In other words the command box has a black background.</p>\n<p>And now the weird part. If I do nothing and just wait, the black background is removed after about 4 seconds, leaving the shadowed border I describe in the last post.</p>\n<p>So in a nutshell my JS/css is being called on resume, but only for a few seconds??</p>\n<p>Would it be possible to put a global <strong>Get Input</strong> in somewhere, and uncheck the <strong>Show command bar</strong> in the game interface tab?</p>\n\n",
      "PostDate": "2016-12-10T17:18:06.7656513Z",
      "LastEditDate": "2016-12-10T17:33:52.6577079Z"
    },
    {
      "PostId": "6a5de8b4-b795-40a3-958c-cfcc24726dbf",
      "UserId": 1346,
      "Username": "The Pixie",
      "AvatarUrl": "https://secure.gravatar.com/avatar/cfa37e927f96177bcf6053ae8f108f77?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Here is the test so you can see it works for me (still has the > but not the border):\r\nhttp://textadventures.co.uk/games/view/mdlva17_duoizkorxfakrw/test\r\n\r\nI did have an issue with Deeper like this. My suspicion was that InitUserInterface  was called whilst the game was still loading, and so its effects got overwritten. I got around it by doing it all again 2 second later. Try this in your InitUserInterface :\r\n```\r\nJS.setCommandBarStyle (GetCurrentTextFormat(\"\") + \";border:\" + game.defaultbackground)\r\nJS.eval (\"$('#status').hide();\")\r\nJS.SetBackgroundCol (\"white\")\r\nJS.eval (\"$('#txtCommandDiv').prepend('&gt;&nbsp;')\")\r\nJS.OutputTextNoBr (game.css)\r\nOutputTextNoBr (game.css)\r\nrequest (SetInterfaceString, \"TypeHereLabel=\")\r\nSetTimeout(2) {\r\nJS.setCommandBarStyle (GetCurrentTextFormat(\"\") + \";border:\" + game.defaultbackground)\r\nJS.eval (\"$('#status').hide();\")\r\nJS.SetBackgroundCol (\"white\")\r\nJS.eval (\"$('#txtCommandDiv').prepend('&gt;&nbsp;')\")\r\nJS.OutputTextNoBr (game.css)\r\nOutputTextNoBr (game.css)\r\nrequest (SetInterfaceString, \"TypeHereLabel=\")\r\n}",
      "EditableFormat": "markdown",
      "HTML": "<p>Here is the test so you can see it works for me (still has the &gt; but not the border):<br>\nhttp://textadventures.co.uk/games/view/mdlva17_duoizkorxfakrw/test</p>\n<p>I did have an issue with Deeper like this. My suspicion was that InitUserInterface  was called whilst the game was still loading, and so its effects got overwritten. I got around it by doing it all again 2 second later. Try this in your InitUserInterface :</p>\n<pre><code>JS.setCommandBarStyle (GetCurrentTextFormat(\"\") + \";border:\" + game.defaultbackground)\nJS.eval (\"$('#status').hide();\")\nJS.SetBackgroundCol (\"white\")\nJS.eval (\"$('#txtCommandDiv').prepend('&amp;gt;&amp;nbsp;')\")\nJS.OutputTextNoBr (game.css)\nOutputTextNoBr (game.css)\nrequest (SetInterfaceString, \"TypeHereLabel=\")\nSetTimeout(2) {\nJS.setCommandBarStyle (GetCurrentTextFormat(\"\") + \";border:\" + game.defaultbackground)\nJS.eval (\"$('#status').hide();\")\nJS.SetBackgroundCol (\"white\")\nJS.eval (\"$('#txtCommandDiv').prepend('&amp;gt;&amp;nbsp;')\")\nJS.OutputTextNoBr (game.css)\nOutputTextNoBr (game.css)\nrequest (SetInterfaceString, \"TypeHereLabel=\")\n}\n</code></pre>\n\n",
      "PostDate": "2016-12-10T17:58:55.6211903Z",
      "LastEditDate": null
    },
    {
      "PostId": "2d53ad7d-9e49-4e92-be71-0bb83bf5c7df",
      "UserId": 107651,
      "Username": "OurJud",
      "AvatarUrl": "http://i.imgur.com/wfM9qy6b.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Your game does exactly the same, TP. No border when I start, but if I save then resume, the border's there.\r\n\r\nWhen you do the resume are you coming right out of the game, refreshing then going back?\r\n\r\nWhat browser are you using?\r\n\r\nJust tried it in IE - same result.\r\n\r\nI'm using Quest 5.6.3 - which are you using?",
      "EditableFormat": "markdown",
      "HTML": "<p>Your game does exactly the same, TP. No border when I start, but if I save then resume, the border's there.</p>\n<p>When you do the resume are you coming right out of the game, refreshing then going back?</p>\n<p>What browser are you using?</p>\n<p>Just tried it in IE - same result.</p>\n<p>I'm using Quest 5.6.3 - which are you using?</p>\n\n",
      "PostDate": "2016-12-10T18:08:53.3826532Z",
      "LastEditDate": "2016-12-10T18:28:11.4433928Z"
    },
    {
      "PostId": "6be67f41-f4fd-46f9-8a43-2fb63b52ae6e",
      "UserId": 1346,
      "Username": "The Pixie",
      "AvatarUrl": "https://secure.gravatar.com/avatar/cfa37e927f96177bcf6053ae8f108f77?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Works for me with both Firefox and IE. Maybe I have a better internet connection, so the timing problem is not an issue with a small game. The trick in my last post is not in that test game, so still worth trying.",
      "EditableFormat": "markdown",
      "HTML": "<p>Works for me with both Firefox and IE. Maybe I have a better internet connection, so the timing problem is not an issue with a small game. The trick in my last post is not in that test game, so still worth trying.</p>\n\n",
      "PostDate": "2016-12-10T18:28:45.2396388Z",
      "LastEditDate": "2016-12-10T18:29:08.4258567Z"
    },
    {
      "PostId": "6f6a3deb-cb96-4b1d-a5dd-b19d060ac500",
      "UserId": 107651,
      "Username": "OurJud",
      "AvatarUrl": "http://i.imgur.com/wfM9qy6b.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Just let me get this straight. You say that with your test game, you start the game from the beginning with no border around the command box. Then you type Save, close the game, go back to the launch page and press Resume, and on Resume, even after you type **L** to bring up the last location, the border around the command box is STILL hidden??\r\n\r\nI tried your method with the SetTimout and it didn't work. On resume it started with the > and then two seconds later another > popped up by it's side. When I typed L to bring up the location that's when it throws up the border on the command box.",
      "EditableFormat": "markdown",
      "HTML": "<p>Just let me get this straight. You say that with your test game, you start the game from the beginning with no border around the command box. Then you type Save, close the game, go back to the launch page and press Resume, and on Resume, even after you type <strong>L</strong> to bring up the last location, the border around the command box is STILL hidden??</p>\n<p>I tried your method with the SetTimout and it didn't work. On resume it started with the &gt; and then two seconds later another &gt; popped up by it's side. When I typed L to bring up the location that's when it throws up the border on the command box.</p>\n\n",
      "PostDate": "2016-12-10T18:34:09.5756648Z",
      "LastEditDate": null
    },
    {
      "PostId": "82063187-fdda-48cb-94da-54de17fa4a70",
      "UserId": 107651,
      "Username": "OurJud",
      "AvatarUrl": "http://i.imgur.com/wfM9qy6b.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "None of this makes sense. Your method is also ignoring my command box width rule, so it stretches right off the the right side of the screen.",
      "EditableFormat": "markdown",
      "HTML": "<p>None of this makes sense. Your method is also ignoring my command box width rule, so it stretches right off the the right side of the screen.</p>\n\n",
      "PostDate": "2016-12-10T18:43:01.3583292Z",
      "LastEditDate": "2016-12-10T18:44:20.7395765Z"
    },
    {
      "PostId": "0d268332-7d2b-42a4-9689-fac42653c132",
      "UserId": 1346,
      "Username": "The Pixie",
      "AvatarUrl": "https://secure.gravatar.com/avatar/cfa37e927f96177bcf6053ae8f108f77?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Sorry, my bad. Just checked, and there is no border to start with, but it does appear when I do anything.",
      "EditableFormat": "markdown",
      "HTML": "<p>Sorry, my bad. Just checked, and there is no border to start with, but it does appear when I do anything.</p>\n\n",
      "PostDate": "2016-12-10T19:00:15.1653989Z",
      "LastEditDate": null
    },
    {
      "PostId": "ebea29f1-1ead-4abf-bf82-0ee6fe8dfe3d",
      "UserId": 107651,
      "Username": "OurJud",
      "AvatarUrl": "http://i.imgur.com/wfM9qy6b.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "^ Well that's something at least. Thought I was going mad.\r\n\r\nIf you can spare five minutes to talk me through, step by step, what you see with this test game.\r\n\r\n1. Is the > and border around the command box hidden when you first start the game?\r\n2. After a Save / Resume, what do you see on screen? If you do nothing, does anything change after a number of seconds?\r\n3. When you type L to bring up the location, does the border around the command box show up?\r\n4. If the border does show up, is it about the same width as the text, or does it endlessly stretch off the right side of the screen?\r\n\r\nThanks in advance.\r\n\r\nhttp://textadventures.co.uk/games/view/_ecmdtfhy0qrkfnbaplrra/command-box-test8",
      "EditableFormat": "markdown",
      "HTML": "<p>^ Well that's something at least. Thought I was going mad.</p>\n<p>If you can spare five minutes to talk me through, step by step, what you see with this test game.</p>\n<ol>\n<li>Is the &gt; and border around the command box hidden when you first start the game?</li>\n<li>After a Save / Resume, what do you see on screen? If you do nothing, does anything change after a number of seconds?</li>\n<li>When you type L to bring up the location, does the border around the command box show up?</li>\n<li>If the border does show up, is it about the same width as the text, or does it endlessly stretch off the right side of the screen?</li>\n</ol>\n<p>Thanks in advance.</p>\n<p>http://textadventures.co.uk/games/view/_ecmdtfhy0qrkfnbaplrra/command-box-test8</p>\n\n",
      "PostDate": "2016-12-10T19:01:59.9582809Z",
      "LastEditDate": "2016-12-10T19:04:32.6586865Z"
    },
    {
      "PostId": "77a3ea26-c2a5-4c44-b3e6-c5954c2e01f9",
      "UserId": 1346,
      "Username": "The Pixie",
      "AvatarUrl": "https://secure.gravatar.com/avatar/cfa37e927f96177bcf6053ae8f108f77?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "1. Yes.\r\n\r\n2. Yes, when I reload your test game, the screen is blank; previous text is missing. The border appears after a while; looking at ther console this may be when it fails to play airsupply.mp3.\r\n\r\n3. Yes.\r\n\r\n4. Same width.\r\n\r\n\r\nThe console indicates some issues with the JavaScript, which just possible could be the problem.\r\nSetBackgroundCol is not defined\r\nOutputTextNoBr (game.css) is not defined\r\nI guess these refer to lines 3 and 5 of InitUserInterface. Its a long shot, but try deleting them.\r\n",
      "EditableFormat": "markdown",
      "HTML": "<ol>\n<li>\n<p>Yes.</p>\n</li>\n<li>\n<p>Yes, when I reload your test game, the screen is blank; previous text is missing. The border appears after a while; looking at ther console this may be when it fails to play airsupply.mp3.</p>\n</li>\n<li>\n<p>Yes.</p>\n</li>\n<li>\n<p>Same width.</p>\n</li>\n</ol>\n<p>The console indicates some issues with the JavaScript, which just possible could be the problem.<br>\nSetBackgroundCol is not defined<br>\nOutputTextNoBr (game.css) is not defined<br>\nI guess these refer to lines 3 and 5 of InitUserInterface. Its a long shot, but try deleting them.</p>\n\n",
      "PostDate": "2016-12-10T19:22:12.8862961Z",
      "LastEditDate": null
    },
    {
      "PostId": "5be78d57-ee93-418c-b674-4a48f8782728",
      "UserId": 107651,
      "Username": "OurJud",
      "AvatarUrl": "http://i.imgur.com/wfM9qy6b.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Okie dokie.\r\n\r\nThanks for testing. Seems you're seeing the same behaviour as me, so I'm not losing my mind after all.",
      "EditableFormat": "markdown",
      "HTML": "<p>Okie dokie.</p>\n<p>Thanks for testing. Seems you're seeing the same behaviour as me, so I'm not losing my mind after all.</p>\n\n",
      "PostDate": "2016-12-10T19:26:58.2568114Z",
      "LastEditDate": null
    },
    {
      "PostId": "e2b25630-fab8-4d2e-b6d1-0a30f11fc781",
      "UserId": 107651,
      "Username": "OurJud",
      "AvatarUrl": "http://i.imgur.com/wfM9qy6b.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Removed - makes no difference. Although I'm not sure what you mean when you say they're not defined.\r\n\r\n**JS.SetBackgroundCol (\"white\")** is defined as **'white'**, no?\r\n\r\nAnd **OutputTextNoBr (game.css)** is defined as **game.css**, no?\r\n\r\n\r\nI also removed all those timers in the Start Script for the oxygen levels to see if that was messing things up, but no.",
      "EditableFormat": "markdown",
      "HTML": "<p>Removed - makes no difference. Although I'm not sure what you mean when you say they're not defined.</p>\n<p><strong>JS.SetBackgroundCol (\"white\")</strong> is defined as <strong>'white'</strong>, no?</p>\n<p>And <strong>OutputTextNoBr (game.css)</strong> is defined as <strong>game.css</strong>, no?</p>\n<p>I also removed all those timers in the Start Script for the oxygen levels to see if that was messing things up, but no.</p>\n\n",
      "PostDate": "2016-12-10T19:37:21.8451913Z",
      "LastEditDate": null
    },
    {
      "PostId": "c39667b8-9934-4b9d-a3e7-06bc82be30da",
      "UserId": 107651,
      "Username": "OurJud",
      "AvatarUrl": "http://i.imgur.com/wfM9qy6b.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "I scoured one of my old threads on this and found that one of Jay's hacks works. A confirmation would be appreciated.\r\n\r\nIt works on the same principle as your own SetTimeout method, but Jay's method places it in a different position.\r\n\r\nWhereas you had the SetTimeout between two blocks of the same JS, Jay suggests it goes right at the very top of my InitUserInterface JS block.\r\n\r\nThis results in the following behaviour:\r\n\r\n• On first load the game displays as it should.\r\n• On resume of a Save, both the command box border and the blue 'Save' bar across the top of the screen are shown, but then after the SetTimeout delay, my CSS is called and the page displays as desired.\r\n\r\nI have the SetTimeout set at 1 second, and don't know if bigger games would require a longer delay.\r\n\r\nAnyway, another confirmation would be appreciated when you have five.\r\n\r\nhttp://textadventures.co.uk/games/view/_ecmdtfhy0qrkfnbaplrra/command-box-test8\r\n\r\n",
      "EditableFormat": "markdown",
      "HTML": "<p>I scoured one of my old threads on this and found that one of Jay's hacks works. A confirmation would be appreciated.</p>\n<p>It works on the same principle as your own SetTimeout method, but Jay's method places it in a different position.</p>\n<p>Whereas you had the SetTimeout between two blocks of the same JS, Jay suggests it goes right at the very top of my InitUserInterface JS block.</p>\n<p>This results in the following behaviour:</p>\n<ul>\n<li>On first load the game displays as it should.</li>\n<li>On resume of a Save, both the command box border and the blue 'Save' bar across the top of the screen are shown, but then after the SetTimeout delay, my CSS is called and the page displays as desired.</li>\n</ul>\n<p>I have the SetTimeout set at 1 second, and don't know if bigger games would require a longer delay.</p>\n<p>Anyway, another confirmation would be appreciated when you have five.</p>\n<p>http://textadventures.co.uk/games/view/_ecmdtfhy0qrkfnbaplrra/command-box-test8</p>\n\n",
      "PostDate": "2016-12-10T22:49:59.5387135Z",
      "LastEditDate": "2016-12-11T01:09:39.1331096Z"
    },
    {
      "PostId": "0c295df2-d9b8-4eb4-8618-9812e6e2cfc5",
      "UserId": 1346,
      "Username": "The Pixie",
      "AvatarUrl": "https://secure.gravatar.com/avatar/cfa37e927f96177bcf6053ae8f108f77?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Yes, that is what I see (in Firefox).",
      "EditableFormat": "markdown",
      "HTML": "<p>Yes, that is what I see (in Firefox).</p>\n\n",
      "PostDate": "2016-12-11T10:31:42.6494686Z",
      "LastEditDate": null
    },
    {
      "PostId": "ad429226-0981-4207-96e0-b454d398adb5",
      "UserId": 107651,
      "Username": "OurJud",
      "AvatarUrl": "http://i.imgur.com/wfM9qy6b.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Thank you.",
      "EditableFormat": "markdown",
      "HTML": "<p>Thank you.</p>\n\n",
      "PostDate": "2016-12-11T15:01:22.798697Z",
      "LastEditDate": null
    }
  ]
}
