{
  "Topic": {
    "TopicId": "99cextjrgeq8aczkwh3jma",
    "ForumId": "10",
    "Title": "Room Descriptions Help",
    "LastUpdated": "2018-01-18T01:11:07.9337297Z",
    "ReplyCount": 0
  },
  "Posts": [
    {
      "PostId": "cc8b4f88-f6a2-4285-bffb-e3a9c6e4847c",
      "UserId": 339847,
      "Username": "WACahMole",
      "AvatarUrl": "https://secure.gravatar.com/avatar/30697f36356c10ce8d2dc957c1cad4aa?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "I would like to find out how to present players with a detailed room description when they first enter a room and upon reentering they only get a short brief unless they examine the room again.  Is there a way to do this?  I feel like I'm overlooking something simple.  Thanks in advance.",
      "EditableFormat": "markdown",
      "HTML": "<p>I would like to find out how to present players with a detailed room description when they first enter a room and upon reentering they only get a short brief unless they examine the room again.  Is there a way to do this?  I feel like I'm overlooking something simple.  Thanks in advance.</p>\n\n",
      "PostDate": "2018-01-18T01:11:07.9337297Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "6d82eff8-eac9-4f91-9c60-bfd721fc2365",
      "UserId": 318253,
      "Username": "K.V.",
      "AvatarUrl": "https://i.imgur.com/mBf7TBeb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "```\r\nThis is the bare bones text which displays as the short description.{once:\r\n\r\nThis text only displays once.  It is the extended part of the \"verbose\" room description.}\r\n```\r\n\r\nOr\r\n```\r\n{once:This is the long version.}{notfirst:This short version.}\r\n```",
      "EditableFormat": "markdown",
      "HTML": "<pre><code>This is the bare bones text which displays as the short description.{once:\n\nThis text only displays once.  It is the extended part of the \"verbose\" room description.}\n</code></pre>\n<p>Or</p>\n<pre><code>{once:This is the long version.}{notfirst:This short version.}\n</code></pre>\n\n",
      "PostDate": "2018-01-18T01:33:03.3139764Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "595c6352-aede-4fa8-9025-b79c7a1ceb3d",
      "UserId": 339847,
      "Username": "WACahMole",
      "AvatarUrl": "https://secure.gravatar.com/avatar/30697f36356c10ce8d2dc957c1cad4aa?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "thank you so much :-)",
      "EditableFormat": "markdown",
      "HTML": "<p>thank you so much :-)</p>\n\n",
      "PostDate": "2018-01-18T19:19:24.9080443Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "fc44f57b-df62-42d7-ad69-b31c23bc9bb5",
      "UserId": 318253,
      "Username": "K.V.",
      "AvatarUrl": "https://i.imgur.com/mBf7TBeb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "No problem!\r\n\r\nGlad to help!\r\n\r\nHappy gaming!",
      "EditableFormat": "markdown",
      "HTML": "<p>No problem!</p>\n<p>Glad to help!</p>\n<p>Happy gaming!</p>\n\n",
      "PostDate": "2018-01-18T19:29:48.1237011Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "0e5c8a69-4f52-4110-a724-196bcaa44411",
      "UserId": 20308,
      "Username": "fogmike",
      "AvatarUrl": "https://secure.gravatar.com/avatar/e0643fe31e6c5910ee8e1c089f300fdc?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "I'm not certain this actually answered WACahMole's question (which is also my question, thus bumping an older thread, sorry!) - they asked how to have the long brief also appear when the room is examined again. I.e. have two descriptions, a short one (S) and a long one (L) so that the following happens:\r\n\r\n(enter for the first time): L\r\n(enter again later): S\r\n(>look): L\r\n\r\nUsing {once:L} and {notfirst:S} sorts the first two points but doesn't work for using 'look' to reproduce the long description. Any ideas?\r\n\r\nI guess we could override the look function to set room.visited to false immediately before running, and back to true immediately after running; but I dread to think what I might break by touching something as fundamental as 'look'!",
      "EditableFormat": "markdown",
      "HTML": "<p>I'm not certain this actually answered WACahMole's question (which is also my question, thus bumping an older thread, sorry!) - they asked how to have the long brief also appear when the room is examined again. I.e. have two descriptions, a short one (S) and a long one (L) so that the following happens:</p>\n<p>(enter for the first time): L<br>\n(enter again later): S<br>\n(&gt;look): L</p>\n<p>Using {once:L} and {notfirst:S} sorts the first two points but doesn't work for using 'look' to reproduce the long description. Any ideas?</p>\n<p>I guess we could override the look function to set room.visited to false immediately before running, and back to true immediately after running; but I dread to think what I might break by touching something as fundamental as 'look'!</p>\n\n",
      "PostDate": "2018-02-19T10:51:52.0983666Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "df16b7c9-5f1d-4617-aa69-d73ff01818d8",
      "UserId": 32920,
      "Username": "Father",
      "AvatarUrl": "http://i.imgur.com/ogRXH9lb.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "If you use first time (on scripts ) . Then put first description on first time. On else, repeat first time. First time ( second go) put second description then on else put third description. (If you wish to put first time instead of third description then you can keep adding as many descriptions as you wish ) hope tis is not confusing. I can't do coding, and it works for me.",
      "EditableFormat": "markdown",
      "HTML": "<p>If you use first time (on scripts ) . Then put first description on first time. On else, repeat first time. First time ( second go) put second description then on else put third description. (If you wish to put first time instead of third description then you can keep adding as many descriptions as you wish ) hope tis is not confusing. I can't do coding, and it works for me.</p>\n\n",
      "PostDate": "2018-02-19T14:05:43.3128403Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "68848c8c-b839-4346-be40-5239fa768a08",
      "UserId": 20308,
      "Username": "fogmike",
      "AvatarUrl": "https://secure.gravatar.com/avatar/e0643fe31e6c5910ee8e1c089f300fdc?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Thanks Father for the help, but that still doesn't allow me to get different behaviour for 'look' and for entering a room, I believe",
      "EditableFormat": "markdown",
      "HTML": "<p>Thanks Father for the help, but that still doesn't allow me to get different behaviour for 'look' and for entering a room, I believe</p>\n\n",
      "PostDate": "2018-02-19T15:14:25.7033008Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "8cf46bdb-4b85-4bb5-9242-4e53549b26db",
      "UserId": 199273,
      "Username": "DavyB",
      "AvatarUrl": "http://i.imgur.com/8BcaZCyb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Hi fogmike, as well as 'look' you also can make use of 'look at' if you have provided an object for the room. I agree that taking over 'look' is not a good idea. Perhaps it would help if you gave a specific example of what you are trying to achieve?",
      "EditableFormat": "markdown",
      "HTML": "<p>Hi fogmike, as well as 'look' you also can make use of 'look at' if you have provided an object for the room. I agree that taking over 'look' is not a good idea. Perhaps it would help if you gave a specific example of what you are trying to achieve?</p>\n\n",
      "PostDate": "2018-02-19T15:21:22.726203Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "e5c4df15-7452-4c9c-ad85-8e03eee24ebc",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Only way I can see is to use a script for the description.\r\n\r\n```\r\nshowfulldescription = Equal(game.pov.currentcommandpattern, look) or Equal(game.pov.currentcommandpattern, lookat)\r\nfirsttime {\r\n  showfulldescription = true\r\n}\r\nif (showfulldescription) {\r\n  msg (\"You are in a bedroom. The carpet is brown. The curtains are brown. The sheets are brown. Even the lampshade is brown. You've never seen such a brown room in your life.\")\r\n}\r\nelse {\r\n  msg (\"You're in the brown room again\")\r\n}\r\n```\r\n\r\nI imagine you could override the `look` command.\r\n(can you use `or` in a boolean assignment like that? I've seen some programming languages where 'and' and 'or' are only valid within an 'if' statement, which I never understood the logic for)\r\n\r\n**Alternative method:**\r\n```\r\nplayer.changedparent => {\r\n  if (HasInt(this, \"ismoving\")) {\r\n    this.ismoving = this.ismoving + 1\r\n  }\r\n  else {\r\n    this.ismoving = 1\r\n  }\r\n  if (game.pov = this) {\r\n    if (IsDefined(\"oldvalue\")) {\r\n      OnEnterRoom(oldvalue)\r\n    }\r\n    else {\r\n      OnEnterRoom(null)\r\n    }\r\n    if (game.gridmap) {\r\n      MergePOVCoordinates\r\n    }\r\n  }\r\n  this.ismoving = this.ismoving - 1\r\n  this.hasbeenmoved = true\r\n}\r\n```\r\nAnd then in your descriptions you can use `{if player.ismoving>0:You're in a brown room}` in combination with `{once:...}` to determine whether the description is being displayed because you entered a room or for some other reason.",
      "EditableFormat": "markdown",
      "HTML": "<p>Only way I can see is to use a script for the description.</p>\n<pre><code>showfulldescription = Equal(game.pov.currentcommandpattern, look) or Equal(game.pov.currentcommandpattern, lookat)\nfirsttime {\n  showfulldescription = true\n}\nif (showfulldescription) {\n  msg (\"You are in a bedroom. The carpet is brown. The curtains are brown. The sheets are brown. Even the lampshade is brown. You've never seen such a brown room in your life.\")\n}\nelse {\n  msg (\"You're in the brown room again\")\n}\n</code></pre>\n<p>I imagine you could override the <code>look</code> command.<br>\n(can you use <code>or</code> in a boolean assignment like that? I've seen some programming languages where 'and' and 'or' are only valid within an 'if' statement, which I never understood the logic for)</p>\n<p><strong>Alternative method:</strong></p>\n<pre><code>player.changedparent =&gt; {\n  if (HasInt(this, \"ismoving\")) {\n    this.ismoving = this.ismoving + 1\n  }\n  else {\n    this.ismoving = 1\n  }\n  if (game.pov = this) {\n    if (IsDefined(\"oldvalue\")) {\n      OnEnterRoom(oldvalue)\n    }\n    else {\n      OnEnterRoom(null)\n    }\n    if (game.gridmap) {\n      MergePOVCoordinates\n    }\n  }\n  this.ismoving = this.ismoving - 1\n  this.hasbeenmoved = true\n}\n</code></pre>\n<p>And then in your descriptions you can use <code>{if player.ismoving&gt;0:You're in a brown room}</code> in combination with <code>{once:...}</code> to determine whether the description is being displayed because you entered a room or for some other reason.</p>\n\n",
      "PostDate": "2018-02-19T15:25:12.0379382Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "1e21622a-6c39-4503-a570-3c86a47f29e6",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "(In case it isn't obvious, `game.pov.currentcommandpattern` contains a reference to the command currently being executed. You could also use `StartsWith(LCase(LTrim(game.pov.currentcommand)), \"look\")` to see if the command the player entered starts with \"look\")\r\n\r\nI'm trying to answer quickly; so sorry if I made an error.",
      "EditableFormat": "markdown",
      "HTML": "<p>(In case it isn't obvious, <code>game.pov.currentcommandpattern</code> contains a reference to the command currently being executed. You could also use <code>StartsWith(LCase(LTrim(game.pov.currentcommand)), \"look\")</code> to see if the command the player entered starts with \"look\")</p>\n<p>I'm trying to answer quickly; so sorry if I made an error.</p>\n\n",
      "PostDate": "2018-02-19T15:28:32.4624847Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "19e1098c-c481-41d1-9c0b-e45f776063e6",
      "UserId": 318253,
      "Username": "K.V.",
      "AvatarUrl": "https://i.imgur.com/mBf7TBeb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "## INFOCOM style room descriptions\r\n\r\n\r\n### In an old-school text adventure:\r\n\r\nEntering SUPERBRIEF or SHORT will not display any room descriptions (except for the room name, the objects list, and the exits list), even if you haven't visited the room.\r\n\r\nEntering BRIEF will not display room descriptions in rooms you have visited before\r\n\r\nEntering VERBOSE or LONG will display all room descriptions\r\n\r\n\r\n---\r\nThis effects every room in the game, whether you enter a room or enter LOOK.\r\n\r\n---\r\nThis can be accomplished in Quest with one line in the start script, three commands, and a modified ```ShowRoomDescription()``` function.\r\n\r\nIf you add the following to your game, there is no need to add any other code, not even to the rooms themselves.\r\n\r\n---\r\n- The start script\r\n\r\n```game.autodescription_descriptionBak = game.autodescription_description```\r\n\r\n---\r\n- The commands\r\n\r\n<details>\r\n\r\n```\r\n  <command name=\"brief_cmd\">\r\n    <pattern>brief</pattern>\r\n    <script><![CDATA[\r\n      if (not GetBoolean(game, \"brief_descriptions\")) {\r\n        game.brief_descriptions = true\r\n        game.autodescription_description = game.autodescription_descriptionBak\r\n      }\r\n      msg (\"Room Descriptions is now in its \\\"brief\\\" printing mode, which gives long descriptions of places never before visited and short descriptions otherwise.<br/>\")\r\n    ]]></script>\r\n  </command>\r\n```\r\n```\r\n  <command name=\"superbrief_cmd\">\r\n    <pattern>superbrief;short</pattern>\r\n    <script><![CDATA[\r\n      game.autodescription_description = 0\r\n      msg (\"Room Descriptions is now in its \\\"superbrief\\\" mode, which always gives short descriptions of locations (even if you haven't been there before).<br/>\")\r\n    ]]></script>\r\n  </command>\r\n```\r\n```\r\n  <command name=\"verbose_cmd\">\r\n    <pattern>verbose;long</pattern>\r\n    <script><![CDATA[\r\n      game.autodescription_description = game.autodescription_descriptionBak\r\n      game.brief_descriptions = false\r\n      msg (\"Room Descriptions is now in its \\\"verbose\\\" mode, which always gives long descriptions of locations (even if you've been there before).<br/>\")\r\n    ]]></script>\r\n  </command>\r\n```\r\n\r\n</details>\r\n\r\n---\r\n- The modified ```ShowRoomDescription()``` function\r\n\r\n<details>\r\n\r\n```\r\n  <function name=\"ShowRoomDescription\"><![CDATA[\r\n// BEGIN FIRST ADDED BIT FOR THIS EXAMPLE\r\n    if (GetBoolean(game,\"brief_descriptions\")) {\r\n      if (game.pov.parent.visited) {\r\n        game.autodescription_description = 0\r\n      }\r\n    }\r\n// END OF FIRST ADDED BIT FOR THIS EXAMPLE\r\n    isDark = CheckDarkness()\r\n    if (isDark) {\r\n      descriptionfield = \"darkroomdescription\"\r\n    }\r\n    else {\r\n      descriptionfield = \"description\"\r\n    }\r\n    if (game.autodescription) {\r\n      desc = \"\"\r\n      for (i, 1, 4) {\r\n        if (i = game.autodescription_youarein) {\r\n          if (game.autodescription_youarein_useprefix) {\r\n            youarein = game.pov.parent.descprefix\r\n            desc = AddDescriptionLine (desc, youarein + \" \" + GetDisplayName(game.pov.parent) + \".\")\r\n          }\r\n          else {\r\n            desc = AddDescriptionLine (desc, \"<b>\" + CapFirst(GetDisplayName(game.pov.parent)) + \"</b>\")\r\n          }\r\n          if (game.autodescription_youarein_newline) {\r\n            msg (desc + \"<br/>\")\r\n            desc = \"\"\r\n          }\r\n        }\r\n        if (i = game.autodescription_youcansee) {\r\n          objects = FormatObjectList(game.pov.parent.objectslistprefix, GetNonTransparentParent(game.pov.parent), Template(\"And\"), \".\")\r\n          desc = AddDescriptionLine(desc, objects)\r\n          if (game.autodescription_youcansee_newline) {\r\n            msg (desc + \"<br/>\")\r\n            desc = \"\"\r\n          }\r\n        }\r\n        if (i = game.autodescription_youcango) {\r\n          exits = FormatExitList(game.pov.parent.exitslistprefix, GetExitsList(), Template(\"Or\"), \".\")\r\n          desc = AddDescriptionLine(desc, exits)\r\n          if (game.autodescription_youcango_newline) {\r\n            msg (desc + \"<br/>\")\r\n            desc = \"\"\r\n          }\r\n        }\r\n        if (i = game.autodescription_description) {\r\n          if (HasScript(game.pov.parent, descriptionfield)) {\r\n            if (LengthOf(desc) > 0) {\r\n              msg (desc)\r\n              desc = \"\"\r\n            }\r\n            do (game.pov.parent, descriptionfield)\r\n            if (game.autodescription_description_newline) {\r\n              msg (\"\")\r\n            }\r\n          }\r\n          else {\r\n            desc = AddDescriptionLine(desc, GetRoomDescription())\r\n            if (game.autodescription_description_newline) {\r\n              msg (desc + \"<br/>\")\r\n              desc = \"\"\r\n            }\r\n          }\r\n        }\r\n      }\r\n      if (LengthOf(desc) > 0) {\r\n        msg (desc)\r\n      }\r\n    }\r\n    else {\r\n      if (HasScript(game.pov.parent, descriptionfield)) {\r\n        do (game.pov.parent, descriptionfield)\r\n      }\r\n      else {\r\n        fulldesc = GetRoomDescription()\r\n        if (LengthOf(fulldesc) > 0) {\r\n          msg (fulldesc)\r\n        }\r\n      }\r\n    }\r\n// BEGIN SECOND ADDED BIT FOR THIS EXAMPLE\r\n    if (GetBoolean(game,\"brief_descriptions\")) {\r\n      game.autodescription_description = game.autodescription_descriptionBak\r\n    }\r\n// END OF SECOND ADDED BIT FOR THIS EXAMPLE\r\n  ]]></function>\r\n```\r\n\r\n</details>\r\n\r\n---\r\nExample game's code:\r\n\r\n<details>\r\n\r\n```\r\n<!--Saved by Quest 5.7.6606.27193-->\r\n<asl version=\"550\">\r\n  <include ref=\"English.aslx\" />\r\n  <include ref=\"Core.aslx\" />\r\n  <game name=\"Room Descriptions\">\r\n    <gameid>cdf9bb53-4c92-434e-af0f-1bbf6648000c</gameid>\r\n    <version>1.0</version>\r\n    <firstpublished>2018</firstpublished>\r\n    <start type=\"script\">\r\n      game.autodescription_descriptionBak = game.autodescription_description\r\n    </start>\r\n    <description>Just an example with BRIEF, SUPERBRIEF, and VERBOSE commands to handle room descriptions.</description>\r\n    <attr name=\"autodescription_description\" type=\"int\">2</attr>\r\n    <attr name=\"autodescription_youcansee\" type=\"int\">3</attr>\r\n    <attr name=\"autodescription_youcango\" type=\"int\">4</attr>\r\n  </game>\r\n  <object name=\"room\">\r\n    <inherit name=\"editor_room\" />\r\n    <description><![CDATA[Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam, eaque ipsa quae ab illo inventore veritatis et quasi architecto beatae vitae dicta sunt explicabo. Nemo enim ipsam voluptatem quia voluptas sit aspernatur aut odit aut fugit, sed quia consequuntur magni dolores eos qui ratione voluptatem sequi nesciunt. Neque porro quisquam est, qui dolorem ipsum quia dolor sit amet, consectetur, adipisci velit, sed quia non numquam eius modi tempora incidunt ut labore et dolore magnam aliquam quaerat voluptatem. Ut enim ad minima veniam, quis nostrum exercitationem ullam corporis suscipit laboriosam, nisi ut aliquid ex ea commodi consequatur? Quis autem vel eum iure reprehenderit qui in ea voluptate velit esse quam nihil molestiae consequatur, vel illum qui dolorem eum fugiat quo voluptas nulla pariatur?<br/>]]></description>\r\n    <object name=\"player\">\r\n      <inherit name=\"editor_object\" />\r\n      <inherit name=\"editor_player\" />\r\n    </object>\r\n    <exit alias=\"north\" to=\"second room\">\r\n      <inherit name=\"northdirection\" />\r\n    </exit>\r\n    <object name=\"Steve\">\r\n      <inherit name=\"editor_object\" />\r\n      <inherit name=\"namedmale\" />\r\n      <look>He looks like a man.</look>\r\n    </object>\r\n  </object>\r\n  <command name=\"brief_cmd\">\r\n    <pattern>brief</pattern>\r\n    <script><![CDATA[\r\n      if (not GetBoolean(game, \"brief_descriptions\")) {\r\n        game.brief_descriptions = true\r\n        game.autodescription_description = game.autodescription_descriptionBak\r\n      }\r\n      msg (\"Room Descriptions is now in its \\\"brief\\\" printing mode, which gives long descriptions of places never before visited and short descriptions otherwise.<br/>\")\r\n    ]]></script>\r\n  </command>\r\n  <command name=\"superbrief_cmd\">\r\n    <pattern>superbrief;short</pattern>\r\n    <script><![CDATA[\r\n      game.autodescription_description = 0\r\n      msg (\"Room Descriptions is now in its \\\"superbrief\\\" mode, which always gives short descriptions of locations (even if you haven't been there before).<br/>\")\r\n    ]]></script>\r\n  </command>\r\n  <command name=\"verbose_cmd\">\r\n    <pattern>verbose;long</pattern>\r\n    <script><![CDATA[\r\n      game.autodescription_description = game.autodescription_descriptionBak\r\n      game.brief_descriptions = false\r\n      msg (\"Room Descriptions is now in its \\\"verbose\\\" mode, which always gives long descriptions of locations (even if you've been there before).<br/>\")\r\n    ]]></script>\r\n  </command>\r\n  <object name=\"second room\">\r\n    <inherit name=\"editor_room\" />\r\n    <description><![CDATA[But I must explain to you how all this mistaken idea of denouncing pleasure and praising pain was born and I will give you a complete account of the system, and expound the actual teachings of the great explorer of the truth, the master-builder of human happiness. No one rejects, dislikes, or avoids pleasure itself, because it is pleasure, but because those who do not know how to pursue pleasure rationally encounter consequences that are extremely painful. Nor again is there anyone who loves or pursues or desires to obtain pain of itself, because it is pain, but because occasionally circumstances occur in which toil and pain can procure him some great pleasure. To take a trivial example, which of us ever undertakes laborious physical exercise, except to obtain some advantage from it? But who has any right to find fault with a man who chooses to enjoy a pleasure that has no annoying consequences, or one who avoids a pain that produces no resultant pleasure?<br/>]]></description>\r\n    <exit alias=\"south\" to=\"room\">\r\n      <inherit name=\"southdirection\" />\r\n    </exit>\r\n    <object name=\"Amanda\">\r\n      <inherit name=\"editor_object\" />\r\n      <inherit name=\"namedfemale\" />\r\n      <look>She looks like a woman.</look>\r\n    </object>\r\n  </object>\r\n  <function name=\"ShowRoomDescription\"><![CDATA[\r\n    if (GetBoolean(game,\"brief_descriptions\")) {\r\n      if (game.pov.parent.visited) {\r\n        game.autodescription_description = 0\r\n      }\r\n    }\r\n    isDark = CheckDarkness()\r\n    if (isDark) {\r\n      descriptionfield = \"darkroomdescription\"\r\n    }\r\n    else {\r\n      descriptionfield = \"description\"\r\n    }\r\n    if (game.autodescription) {\r\n      desc = \"\"\r\n      for (i, 1, 4) {\r\n        if (i = game.autodescription_youarein) {\r\n          if (game.autodescription_youarein_useprefix) {\r\n            youarein = game.pov.parent.descprefix\r\n            desc = AddDescriptionLine (desc, youarein + \" \" + GetDisplayName(game.pov.parent) + \".\")\r\n          }\r\n          else {\r\n            desc = AddDescriptionLine (desc, \"<b>\" + CapFirst(GetDisplayName(game.pov.parent)) + \"</b>\")\r\n          }\r\n          if (game.autodescription_youarein_newline) {\r\n            msg (desc + \"<br/>\")\r\n            desc = \"\"\r\n          }\r\n        }\r\n        if (i = game.autodescription_youcansee) {\r\n          objects = FormatObjectList(game.pov.parent.objectslistprefix, GetNonTransparentParent(game.pov.parent), Template(\"And\"), \".\")\r\n          desc = AddDescriptionLine(desc, objects)\r\n          if (game.autodescription_youcansee_newline) {\r\n            msg (desc + \"<br/>\")\r\n            desc = \"\"\r\n          }\r\n        }\r\n        if (i = game.autodescription_youcango) {\r\n          exits = FormatExitList(game.pov.parent.exitslistprefix, GetExitsList(), Template(\"Or\"), \".\")\r\n          desc = AddDescriptionLine(desc, exits)\r\n          if (game.autodescription_youcango_newline) {\r\n            msg (desc + \"<br/>\")\r\n            desc = \"\"\r\n          }\r\n        }\r\n        if (i = game.autodescription_description) {\r\n          if (HasScript(game.pov.parent, descriptionfield)) {\r\n            if (LengthOf(desc) > 0) {\r\n              msg (desc)\r\n              desc = \"\"\r\n            }\r\n            do (game.pov.parent, descriptionfield)\r\n            if (game.autodescription_description_newline) {\r\n              msg (\"\")\r\n            }\r\n          }\r\n          else {\r\n            desc = AddDescriptionLine(desc, GetRoomDescription())\r\n            if (game.autodescription_description_newline) {\r\n              msg (desc + \"<br/>\")\r\n              desc = \"\"\r\n            }\r\n          }\r\n        }\r\n      }\r\n      if (LengthOf(desc) > 0) {\r\n        msg (desc)\r\n      }\r\n    }\r\n    else {\r\n      if (HasScript(game.pov.parent, descriptionfield)) {\r\n        do (game.pov.parent, descriptionfield)\r\n      }\r\n      else {\r\n        fulldesc = GetRoomDescription()\r\n        if (LengthOf(fulldesc) > 0) {\r\n          msg (fulldesc)\r\n        }\r\n      }\r\n    }\r\n    if (GetBoolean(game,\"brief_descriptions\")) {\r\n      game.autodescription_description = game.autodescription_descriptionBak\r\n    }\r\n  ]]></function>\r\n</asl>\r\n```\r\n\r\n</details>\r\n\r\n---\r\nPlay the example game:\r\nhttp://textadventures.co.uk/games/view/tks44blfveebumw-i1lhlg/room-descriptions\r\n\r\n---\r\nUPDATE\r\n\r\nI must have started writing this before mrangel posted his suggestion.\r\n\r\nOne of the awesome things about Quest is how many ways you can approach any given situation.\r\n\r\n---\r\nANOTHER UPDATE\r\n\r\nI just made myself a library to handle this.\r\n\r\nEveryone is welcome to it:\r\nhttp://textadventures.co.uk/forum/samples/topic/y-ykeodite2pubg28rd-_q/infocom-style-room-descriptions",
      "EditableFormat": "markdown",
      "HTML": "<h2>INFOCOM style room descriptions</h2>\n<h3>In an old-school text adventure:</h3>\n<p>Entering SUPERBRIEF or SHORT will not display any room descriptions (except for the room name, the objects list, and the exits list), even if you haven't visited the room.</p>\n<p>Entering BRIEF will not display room descriptions in rooms you have visited before</p>\n<p>Entering VERBOSE or LONG will display all room descriptions</p>\n<hr>\n<p>This effects every room in the game, whether you enter a room or enter LOOK.</p>\n<hr>\n<p>This can be accomplished in Quest with one line in the start script, three commands, and a modified <code>ShowRoomDescription()</code> function.</p>\n<p>If you add the following to your game, there is no need to add any other code, not even to the rooms themselves.</p>\n<hr>\n<ul>\n<li>The start script</li>\n</ul>\n<p><code>game.autodescription_descriptionBak = game.autodescription_description</code></p>\n<hr>\n<ul>\n<li>The commands</li>\n</ul>\n<details>\n<pre><code>  &lt;command name=\"brief_cmd\"&gt;\n    &lt;pattern&gt;brief&lt;/pattern&gt;\n    &lt;script&gt;&lt;![CDATA[\n      if (not GetBoolean(game, \"brief_descriptions\")) {\n        game.brief_descriptions = true\n        game.autodescription_description = game.autodescription_descriptionBak\n      }\n      msg (\"Room Descriptions is now in its \\\"brief\\\" printing mode, which gives long descriptions of places never before visited and short descriptions otherwise.&lt;br/&gt;\")\n    ]]&gt;&lt;/script&gt;\n  &lt;/command&gt;\n</code></pre>\n<pre><code>  &lt;command name=\"superbrief_cmd\"&gt;\n    &lt;pattern&gt;superbrief;short&lt;/pattern&gt;\n    &lt;script&gt;&lt;![CDATA[\n      game.autodescription_description = 0\n      msg (\"Room Descriptions is now in its \\\"superbrief\\\" mode, which always gives short descriptions of locations (even if you haven't been there before).&lt;br/&gt;\")\n    ]]&gt;&lt;/script&gt;\n  &lt;/command&gt;\n</code></pre>\n<pre><code>  &lt;command name=\"verbose_cmd\"&gt;\n    &lt;pattern&gt;verbose;long&lt;/pattern&gt;\n    &lt;script&gt;&lt;![CDATA[\n      game.autodescription_description = game.autodescription_descriptionBak\n      game.brief_descriptions = false\n      msg (\"Room Descriptions is now in its \\\"verbose\\\" mode, which always gives long descriptions of locations (even if you've been there before).&lt;br/&gt;\")\n    ]]&gt;&lt;/script&gt;\n  &lt;/command&gt;\n</code></pre>\n</details>\n<hr>\n<ul>\n<li>The modified <code>ShowRoomDescription()</code> function</li>\n</ul>\n<details>\n<pre><code>  &lt;function name=\"ShowRoomDescription\"&gt;&lt;![CDATA[\n// BEGIN FIRST ADDED BIT FOR THIS EXAMPLE\n    if (GetBoolean(game,\"brief_descriptions\")) {\n      if (game.pov.parent.visited) {\n        game.autodescription_description = 0\n      }\n    }\n// END OF FIRST ADDED BIT FOR THIS EXAMPLE\n    isDark = CheckDarkness()\n    if (isDark) {\n      descriptionfield = \"darkroomdescription\"\n    }\n    else {\n      descriptionfield = \"description\"\n    }\n    if (game.autodescription) {\n      desc = \"\"\n      for (i, 1, 4) {\n        if (i = game.autodescription_youarein) {\n          if (game.autodescription_youarein_useprefix) {\n            youarein = game.pov.parent.descprefix\n            desc = AddDescriptionLine (desc, youarein + \" \" + GetDisplayName(game.pov.parent) + \".\")\n          }\n          else {\n            desc = AddDescriptionLine (desc, \"&lt;b&gt;\" + CapFirst(GetDisplayName(game.pov.parent)) + \"&lt;/b&gt;\")\n          }\n          if (game.autodescription_youarein_newline) {\n            msg (desc + \"&lt;br/&gt;\")\n            desc = \"\"\n          }\n        }\n        if (i = game.autodescription_youcansee) {\n          objects = FormatObjectList(game.pov.parent.objectslistprefix, GetNonTransparentParent(game.pov.parent), Template(\"And\"), \".\")\n          desc = AddDescriptionLine(desc, objects)\n          if (game.autodescription_youcansee_newline) {\n            msg (desc + \"&lt;br/&gt;\")\n            desc = \"\"\n          }\n        }\n        if (i = game.autodescription_youcango) {\n          exits = FormatExitList(game.pov.parent.exitslistprefix, GetExitsList(), Template(\"Or\"), \".\")\n          desc = AddDescriptionLine(desc, exits)\n          if (game.autodescription_youcango_newline) {\n            msg (desc + \"&lt;br/&gt;\")\n            desc = \"\"\n          }\n        }\n        if (i = game.autodescription_description) {\n          if (HasScript(game.pov.parent, descriptionfield)) {\n            if (LengthOf(desc) &gt; 0) {\n              msg (desc)\n              desc = \"\"\n            }\n            do (game.pov.parent, descriptionfield)\n            if (game.autodescription_description_newline) {\n              msg (\"\")\n            }\n          }\n          else {\n            desc = AddDescriptionLine(desc, GetRoomDescription())\n            if (game.autodescription_description_newline) {\n              msg (desc + \"&lt;br/&gt;\")\n              desc = \"\"\n            }\n          }\n        }\n      }\n      if (LengthOf(desc) &gt; 0) {\n        msg (desc)\n      }\n    }\n    else {\n      if (HasScript(game.pov.parent, descriptionfield)) {\n        do (game.pov.parent, descriptionfield)\n      }\n      else {\n        fulldesc = GetRoomDescription()\n        if (LengthOf(fulldesc) &gt; 0) {\n          msg (fulldesc)\n        }\n      }\n    }\n// BEGIN SECOND ADDED BIT FOR THIS EXAMPLE\n    if (GetBoolean(game,\"brief_descriptions\")) {\n      game.autodescription_description = game.autodescription_descriptionBak\n    }\n// END OF SECOND ADDED BIT FOR THIS EXAMPLE\n  ]]&gt;&lt;/function&gt;\n</code></pre>\n</details>\n<hr>\n<p>Example game's code:</p>\n<details>\n<pre><code>&lt;!--Saved by Quest 5.7.6606.27193--&gt;\n&lt;asl version=\"550\"&gt;\n  &lt;include ref=\"English.aslx\" /&gt;\n  &lt;include ref=\"Core.aslx\" /&gt;\n  &lt;game name=\"Room Descriptions\"&gt;\n    &lt;gameid&gt;cdf9bb53-4c92-434e-af0f-1bbf6648000c&lt;/gameid&gt;\n    &lt;version&gt;1.0&lt;/version&gt;\n    &lt;firstpublished&gt;2018&lt;/firstpublished&gt;\n    &lt;start type=\"script\"&gt;\n      game.autodescription_descriptionBak = game.autodescription_description\n    &lt;/start&gt;\n    &lt;description&gt;Just an example with BRIEF, SUPERBRIEF, and VERBOSE commands to handle room descriptions.&lt;/description&gt;\n    &lt;attr name=\"autodescription_description\" type=\"int\"&gt;2&lt;/attr&gt;\n    &lt;attr name=\"autodescription_youcansee\" type=\"int\"&gt;3&lt;/attr&gt;\n    &lt;attr name=\"autodescription_youcango\" type=\"int\"&gt;4&lt;/attr&gt;\n  &lt;/game&gt;\n  &lt;object name=\"room\"&gt;\n    &lt;inherit name=\"editor_room\" /&gt;\n    &lt;description&gt;&lt;![CDATA[Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam, eaque ipsa quae ab illo inventore veritatis et quasi architecto beatae vitae dicta sunt explicabo. Nemo enim ipsam voluptatem quia voluptas sit aspernatur aut odit aut fugit, sed quia consequuntur magni dolores eos qui ratione voluptatem sequi nesciunt. Neque porro quisquam est, qui dolorem ipsum quia dolor sit amet, consectetur, adipisci velit, sed quia non numquam eius modi tempora incidunt ut labore et dolore magnam aliquam quaerat voluptatem. Ut enim ad minima veniam, quis nostrum exercitationem ullam corporis suscipit laboriosam, nisi ut aliquid ex ea commodi consequatur? Quis autem vel eum iure reprehenderit qui in ea voluptate velit esse quam nihil molestiae consequatur, vel illum qui dolorem eum fugiat quo voluptas nulla pariatur?&lt;br/&gt;]]&gt;&lt;/description&gt;\n    &lt;object name=\"player\"&gt;\n      &lt;inherit name=\"editor_object\" /&gt;\n      &lt;inherit name=\"editor_player\" /&gt;\n    &lt;/object&gt;\n    &lt;exit alias=\"north\" to=\"second room\"&gt;\n      &lt;inherit name=\"northdirection\" /&gt;\n    &lt;/exit&gt;\n    &lt;object name=\"Steve\"&gt;\n      &lt;inherit name=\"editor_object\" /&gt;\n      &lt;inherit name=\"namedmale\" /&gt;\n      &lt;look&gt;He looks like a man.&lt;/look&gt;\n    &lt;/object&gt;\n  &lt;/object&gt;\n  &lt;command name=\"brief_cmd\"&gt;\n    &lt;pattern&gt;brief&lt;/pattern&gt;\n    &lt;script&gt;&lt;![CDATA[\n      if (not GetBoolean(game, \"brief_descriptions\")) {\n        game.brief_descriptions = true\n        game.autodescription_description = game.autodescription_descriptionBak\n      }\n      msg (\"Room Descriptions is now in its \\\"brief\\\" printing mode, which gives long descriptions of places never before visited and short descriptions otherwise.&lt;br/&gt;\")\n    ]]&gt;&lt;/script&gt;\n  &lt;/command&gt;\n  &lt;command name=\"superbrief_cmd\"&gt;\n    &lt;pattern&gt;superbrief;short&lt;/pattern&gt;\n    &lt;script&gt;&lt;![CDATA[\n      game.autodescription_description = 0\n      msg (\"Room Descriptions is now in its \\\"superbrief\\\" mode, which always gives short descriptions of locations (even if you haven't been there before).&lt;br/&gt;\")\n    ]]&gt;&lt;/script&gt;\n  &lt;/command&gt;\n  &lt;command name=\"verbose_cmd\"&gt;\n    &lt;pattern&gt;verbose;long&lt;/pattern&gt;\n    &lt;script&gt;&lt;![CDATA[\n      game.autodescription_description = game.autodescription_descriptionBak\n      game.brief_descriptions = false\n      msg (\"Room Descriptions is now in its \\\"verbose\\\" mode, which always gives long descriptions of locations (even if you've been there before).&lt;br/&gt;\")\n    ]]&gt;&lt;/script&gt;\n  &lt;/command&gt;\n  &lt;object name=\"second room\"&gt;\n    &lt;inherit name=\"editor_room\" /&gt;\n    &lt;description&gt;&lt;![CDATA[But I must explain to you how all this mistaken idea of denouncing pleasure and praising pain was born and I will give you a complete account of the system, and expound the actual teachings of the great explorer of the truth, the master-builder of human happiness. No one rejects, dislikes, or avoids pleasure itself, because it is pleasure, but because those who do not know how to pursue pleasure rationally encounter consequences that are extremely painful. Nor again is there anyone who loves or pursues or desires to obtain pain of itself, because it is pain, but because occasionally circumstances occur in which toil and pain can procure him some great pleasure. To take a trivial example, which of us ever undertakes laborious physical exercise, except to obtain some advantage from it? But who has any right to find fault with a man who chooses to enjoy a pleasure that has no annoying consequences, or one who avoids a pain that produces no resultant pleasure?&lt;br/&gt;]]&gt;&lt;/description&gt;\n    &lt;exit alias=\"south\" to=\"room\"&gt;\n      &lt;inherit name=\"southdirection\" /&gt;\n    &lt;/exit&gt;\n    &lt;object name=\"Amanda\"&gt;\n      &lt;inherit name=\"editor_object\" /&gt;\n      &lt;inherit name=\"namedfemale\" /&gt;\n      &lt;look&gt;She looks like a woman.&lt;/look&gt;\n    &lt;/object&gt;\n  &lt;/object&gt;\n  &lt;function name=\"ShowRoomDescription\"&gt;&lt;![CDATA[\n    if (GetBoolean(game,\"brief_descriptions\")) {\n      if (game.pov.parent.visited) {\n        game.autodescription_description = 0\n      }\n    }\n    isDark = CheckDarkness()\n    if (isDark) {\n      descriptionfield = \"darkroomdescription\"\n    }\n    else {\n      descriptionfield = \"description\"\n    }\n    if (game.autodescription) {\n      desc = \"\"\n      for (i, 1, 4) {\n        if (i = game.autodescription_youarein) {\n          if (game.autodescription_youarein_useprefix) {\n            youarein = game.pov.parent.descprefix\n            desc = AddDescriptionLine (desc, youarein + \" \" + GetDisplayName(game.pov.parent) + \".\")\n          }\n          else {\n            desc = AddDescriptionLine (desc, \"&lt;b&gt;\" + CapFirst(GetDisplayName(game.pov.parent)) + \"&lt;/b&gt;\")\n          }\n          if (game.autodescription_youarein_newline) {\n            msg (desc + \"&lt;br/&gt;\")\n            desc = \"\"\n          }\n        }\n        if (i = game.autodescription_youcansee) {\n          objects = FormatObjectList(game.pov.parent.objectslistprefix, GetNonTransparentParent(game.pov.parent), Template(\"And\"), \".\")\n          desc = AddDescriptionLine(desc, objects)\n          if (game.autodescription_youcansee_newline) {\n            msg (desc + \"&lt;br/&gt;\")\n            desc = \"\"\n          }\n        }\n        if (i = game.autodescription_youcango) {\n          exits = FormatExitList(game.pov.parent.exitslistprefix, GetExitsList(), Template(\"Or\"), \".\")\n          desc = AddDescriptionLine(desc, exits)\n          if (game.autodescription_youcango_newline) {\n            msg (desc + \"&lt;br/&gt;\")\n            desc = \"\"\n          }\n        }\n        if (i = game.autodescription_description) {\n          if (HasScript(game.pov.parent, descriptionfield)) {\n            if (LengthOf(desc) &gt; 0) {\n              msg (desc)\n              desc = \"\"\n            }\n            do (game.pov.parent, descriptionfield)\n            if (game.autodescription_description_newline) {\n              msg (\"\")\n            }\n          }\n          else {\n            desc = AddDescriptionLine(desc, GetRoomDescription())\n            if (game.autodescription_description_newline) {\n              msg (desc + \"&lt;br/&gt;\")\n              desc = \"\"\n            }\n          }\n        }\n      }\n      if (LengthOf(desc) &gt; 0) {\n        msg (desc)\n      }\n    }\n    else {\n      if (HasScript(game.pov.parent, descriptionfield)) {\n        do (game.pov.parent, descriptionfield)\n      }\n      else {\n        fulldesc = GetRoomDescription()\n        if (LengthOf(fulldesc) &gt; 0) {\n          msg (fulldesc)\n        }\n      }\n    }\n    if (GetBoolean(game,\"brief_descriptions\")) {\n      game.autodescription_description = game.autodescription_descriptionBak\n    }\n  ]]&gt;&lt;/function&gt;\n&lt;/asl&gt;\n</code></pre>\n</details>\n<hr>\n<p>Play the example game:<br>\nhttp://textadventures.co.uk/games/view/tks44blfveebumw-i1lhlg/room-descriptions</p>\n<hr>\n<p>UPDATE</p>\n<p>I must have started writing this before mrangel posted his suggestion.</p>\n<p>One of the awesome things about Quest is how many ways you can approach any given situation.</p>\n<hr>\n<p>ANOTHER UPDATE</p>\n<p>I just made myself a library to handle this.</p>\n<p>Everyone is welcome to it:<br>\nhttp://textadventures.co.uk/forum/samples/topic/y-ykeodite2pubg28rd-_q/infocom-style-room-descriptions</p>\n\n",
      "PostDate": "2018-02-19T16:20:21.9650498Z",
      "LastEditDate": "2018-02-19T20:54:30.0070177Z",
      "link": null
    },
    {
      "PostId": "5951c6ae-2982-4911-b642-7fca1f510a1b",
      "UserId": 248029,
      "Username": "Anonynn",
      "AvatarUrl": "https://i.imgur.com/1xu84dwb.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "I use firsttime descriptions if that helps. \r\n\r\nfirsttime print nothing, otherwise brief description--- and then make a detailed description in the \"after entering room\". \r\n\r\nAnonynn. ",
      "EditableFormat": "markdown",
      "HTML": "<p>I use firsttime descriptions if that helps.</p>\n<p>firsttime print nothing, otherwise brief description--- and then make a detailed description in the \"after entering room\".</p>\n<p>Anonynn.</p>\n\n",
      "PostDate": "2018-02-19T19:14:18.7799172Z",
      "LastEditDate": "2018-02-19T19:15:11.7189813Z",
      "link": null
    },
    {
      "PostId": "3c9445b9-279c-47a6-a7dc-a009cb017d2a",
      "UserId": 20308,
      "Username": "fogmike",
      "AvatarUrl": "https://secure.gravatar.com/avatar/e0643fe31e6c5910ee8e1c089f300fdc?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Thank you all for the help! In particular KV - brief/verbose was exactly what I was looking to replicate. That's much appreciated!",
      "EditableFormat": "markdown",
      "HTML": "<p>Thank you all for the help! In particular KV - brief/verbose was exactly what I was looking to replicate. That's much appreciated!</p>\n\n",
      "PostDate": "2018-02-20T16:08:57.7615851Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "49d01e31-5bee-4ef8-b0ea-ae84501f0290",
      "UserId": 318253,
      "Username": "K.V.",
      "AvatarUrl": "https://i.imgur.com/mBf7TBeb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Your welcome!\r\n\r\nI'm glad you asked about that, because I'm including this in all my games now!\r\n\r\nHappy gaming!",
      "EditableFormat": "markdown",
      "HTML": "<p>Your welcome!</p>\n<p>I'm glad you asked about that, because I'm including this in all my games now!</p>\n<p>Happy gaming!</p>\n\n",
      "PostDate": "2018-02-20T23:59:20.7804062Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "22ee8a69-4604-420b-9171-b086391a4d49",
      "UserId": 20308,
      "Username": "fogmike",
      "AvatarUrl": "https://secure.gravatar.com/avatar/e0643fe31e6c5910ee8e1c089f300fdc?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "I've adjusted my code according to mrangel's suggestion too - the player.changedparent script now also sets and unsets an 'ismoving' flag, and the ShowRoomDescription() function has this checked as an extra if statement before disabling the descriptions - aka the 'look' command will always display the room description regardless of verbosity setting. ",
      "EditableFormat": "markdown",
      "HTML": "<p>I've adjusted my code according to mrangel's suggestion too - the player.changedparent script now also sets and unsets an 'ismoving' flag, and the ShowRoomDescription() function has this checked as an extra if statement before disabling the descriptions - aka the 'look' command will always display the room description regardless of verbosity setting.</p>\n\n",
      "PostDate": "2018-02-21T11:19:53.3362507Z",
      "LastEditDate": null,
      "link": null
    }
  ]
}
