{
  "Topic": {
    "TopicId": "5502",
    "ForumId": "10",
    "Title": "Checking for multiple of the same item in inventory?",
    "LastUpdated": "2015-09-25T19:23:36+01:00",
    "ReplyCount": 2
  },
  "Posts": [
    {
      "PostId": "38079",
      "UserId": 0,
      "Username": "lightwriter",
      "UserAvatar": null,
      "UserGravatar": "4361dea0f293c64bea42cb1253ce25d4",
      "EditableText": "I'm working on a better inventory system for my game where things actually stack (The current Stackable Library is out of date and buggy with the current version)\nI've got the DoDrop part working fine, now I need to do the hard part, how do I determine if the player has the item in their inventory?  It has to use the alias due to cloned objects having different names...\nSo how would I go about doing this?",
      "EditableFormat": "bbcode",
      "HTML": "I'm working on a better inventory system for my game where things actually stack (The current Stackable Library is out of date and buggy with the current version)<br/>I've got the DoDrop part working fine, now I need to do the hard part, how do I determine if the player has the item in their inventory?  It has to use the alias due to cloned objects having different names...<br/>So how would I go about doing this?",
      "PostDate": "2015-09-25T16:14:37+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "38082",
      "UserId": 0,
      "Username": "HegemonKhan",
      "UserAvatar": null,
      "UserGravatar": "a96cf34d8d97c57de38f54ee22b1759b",
      "EditableText": "this is just the basics of checking the inventory for an item (in case you don't know already), but I'm unable to help any further, as Sora's Stackable library is beyond my ability~understanding, I can't help you past this basic way of checking an item in your inventory (or whatever ObjectList Attribute):\n\n<!-- m --><a class=\"postlink\" href=\"http://docs.textadventures.co.uk/quest/functions/contains.html\">http://docs.textadventures.co.uk/quest/ ... tains.html</a><!-- m -->\n<!-- m --><a class=\"postlink\" href=\"http://docs.textadventures.co.uk/quest/functions/listcontains.html\">http://docs.textadventures.co.uk/quest/ ... tains.html</a><!-- m -->\n<!-- m --><a class=\"postlink\" href=\"http://docs.textadventures.co.uk/quest/functions/dictionarycontains.html\">http://docs.textadventures.co.uk/quest/ ... tains.html</a><!-- m -->\n\nObject Lists (and~or important String Lists, which aren't for this topic but useful to know, aka: displayverbs, inventoryverbs):\n\n<!-- m --><a class=\"postlink\" href=\"http://docs.textadventures.co.uk/quest/functions/allobjects.html\">http://docs.textadventures.co.uk/quest/ ... jects.html</a><!-- m -->\n<!-- m --><a class=\"postlink\" href=\"http://docs.textadventures.co.uk/quest/functions/getallchildobjects.html\">http://docs.textadventures.co.uk/quest/ ... jects.html</a><!-- m -->\n<!-- m --><a class=\"postlink\" href=\"http://docs.textadventures.co.uk/quest/functions/getdirectchildren.html\">http://docs.textadventures.co.uk/quest/ ... ldren.html</a><!-- m -->\n<!-- m --><a class=\"postlink\" href=\"http://docs.textadventures.co.uk/quest/asl_requirements.html\">http://docs.textadventures.co.uk/quest/ ... ments.html</a><!-- m --> (displayverbs, inventoryverbs)\n<!-- m --><a class=\"postlink\" href=\"http://docs.textadventures.co.uk/quest/scopes.html\">http://docs.textadventures.co.uk/quest/scopes.html</a><!-- m -->\n<!-- m --><a class=\"postlink\" href=\"http://docs.textadventures.co.uk/quest/functions/corelibrary/scopeinventory.html\">http://docs.textadventures.co.uk/quest/ ... ntory.html</a><!-- m -->\n<!-- m --><a class=\"postlink\" href=\"http://docs.textadventures.co.uk/quest/functions/corelibrary/got.html\">http://docs.textadventures.co.uk/quest/ ... y/got.html</a><!-- m -->\n\nyou may want to take a look at these two list+dictionary guides of mine as well:\n\n<!-- l --><a class=\"postlink-local\" href=\"http://forum.textadventures.co.uk/viewtopic.php?f=18&amp;t=5137\">viewtopic.php?f=18&amp;t=5137</a><!-- l --> (guide on using lists and dictionaries)\n<!-- l --><a class=\"postlink-local\" href=\"http://forum.textadventures.co.uk/viewtopic.php?f=18&amp;t=5138\">viewtopic.php?f=18&amp;t=5138</a><!-- l --> (you can see how the 'contains~listcontains~dictionarycontains' works in this, I think)\n\n----------\n\nan example syntax-code would be:\n\nthe Stack (conceptual &quot;container&quot;, but NOT an actual Object Type: container) Object:\n\nObject0: life_50_potion_stack\nAlias0: life 50 potion stack\n// initial setting of its Integer Attribute, quantity: life_50_potion_stack.quantity = 0 // or whatever you want\n// Final Displayed Alias0: life 50 potion stack (quantity)*\n\nthe Individual Objects:\n\nObject1: life_50_potion_1 // it restores your current life by +50\nAlias1: life 50 potion\n\nObject2: life_50_potion_2\nAlias2: life 50 potion\n\netc etc etc\n\n* see below:\n<!-- m --><a class=\"postlink\" href=\"http://docs.textadventures.co.uk/quest/functions/corelibrary/getdisplayalias.html\">http://docs.textadventures.co.uk/quest/ ... alias.html</a><!-- m -->\nlife_50_potion_stack.alias = GetDisplayAlias(life_50_potion_stack) + &quot;(life_50_potion_stack.quantity)&quot;\n// GetDisplayAlias (life_50_potion_stack) --&gt; life 50 potion stack\n// + &quot;(life_50_potion_stack.quantity)&quot; --&gt; (quantity, let's say it's: 99)\n// life_50_potion_stack.alias = GetDisplayAlias(life_50_potion_stack) + &quot;(life_50_potion_stack.quantity)&quot; --&gt; life 50 potion stack (99)\n\n[code:oxl4dbrw]&lt;turnscript name=&quot;global_turnscript&quot;&gt;\n  &lt;enabled /&gt;\n  &lt;script&gt;\n    foreach (object_variable, ScopeInventory()) {\n      if (object_variable&#46;alias = &quot;life 50 potion&quot;) {\n        life_50_potion_stack&#46;quantity = life_50_potion_stack&#46;quantity + 1\n        destroy (object_variable&#46;name)\n      }\n    }\n  &lt;script&gt;\n&lt;/turnscript&gt;[/code:oxl4dbrw]",
      "EditableFormat": "bbcode",
      "HTML": "this is just the basics of checking the inventory for an item (in case you don't know already), but I'm unable to help any further, as Sora's Stackable library is beyond my ability~understanding, I can't help you past this basic way of checking an item in your inventory (or whatever ObjectList Attribute):<br/><br/><!-- m --><a class=\"postlink\" href=\"http://docs.textadventures.co.uk/quest/functions/contains.html\">http://docs.textadventures.co.uk/quest/ ... tains.html</a><!-- m --><br/><!-- m --><a class=\"postlink\" href=\"http://docs.textadventures.co.uk/quest/functions/listcontains.html\">http://docs.textadventures.co.uk/quest/ ... tains.html</a><!-- m --><br/><!-- m --><a class=\"postlink\" href=\"http://docs.textadventures.co.uk/quest/functions/dictionarycontains.html\">http://docs.textadventures.co.uk/quest/ ... tains.html</a><!-- m --><br/><br/>Object Lists (and~or important String Lists, which aren't for this topic but useful to know, aka: displayverbs, inventoryverbs):<br/><br/><!-- m --><a class=\"postlink\" href=\"http://docs.textadventures.co.uk/quest/functions/allobjects.html\">http://docs.textadventures.co.uk/quest/ ... jects.html</a><!-- m --><br/><!-- m --><a class=\"postlink\" href=\"http://docs.textadventures.co.uk/quest/functions/getallchildobjects.html\">http://docs.textadventures.co.uk/quest/ ... jects.html</a><!-- m --><br/><!-- m --><a class=\"postlink\" href=\"http://docs.textadventures.co.uk/quest/functions/getdirectchildren.html\">http://docs.textadventures.co.uk/quest/ ... ldren.html</a><!-- m --><br/><!-- m --><a class=\"postlink\" href=\"http://docs.textadventures.co.uk/quest/asl_requirements.html\">http://docs.textadventures.co.uk/quest/ ... ments.html</a><!-- m --> (displayverbs, inventoryverbs)<br/><!-- m --><a class=\"postlink\" href=\"http://docs.textadventures.co.uk/quest/scopes.html\">http://docs.textadventures.co.uk/quest/scopes.html</a><!-- m --><br/><!-- m --><a class=\"postlink\" href=\"http://docs.textadventures.co.uk/quest/functions/corelibrary/scopeinventory.html\">http://docs.textadventures.co.uk/quest/ ... ntory.html</a><!-- m --><br/><!-- m --><a class=\"postlink\" href=\"http://docs.textadventures.co.uk/quest/functions/corelibrary/got.html\">http://docs.textadventures.co.uk/quest/ ... y/got.html</a><!-- m --><br/><br/>you may want to take a look at these two list+dictionary guides of mine as well:<br/><br/><!-- l --><a class=\"postlink-local\" href=\"http://forum.textadventures.co.uk/viewtopic.php?f=18&amp;t=5137\">viewtopic.php?f=18&amp;t=5137</a><!-- l --> (guide on using lists and dictionaries)<br/><!-- l --><a class=\"postlink-local\" href=\"http://forum.textadventures.co.uk/viewtopic.php?f=18&amp;t=5138\">viewtopic.php?f=18&amp;t=5138</a><!-- l --> (you can see how the 'contains~listcontains~dictionarycontains' works in this, I think)<br/><br/>----------<br/><br/>an example syntax-code would be:<br/><br/>the Stack (conceptual &quot;container&quot;, but NOT an actual Object Type: container) Object:<br/><br/>Object0: life_50_potion_stack<br/>Alias0: life 50 potion stack<br/>// initial setting of its Integer Attribute, quantity: life_50_potion_stack.quantity = 0 // or whatever you want<br/>// Final Displayed Alias0: life 50 potion stack (quantity)*<br/><br/>the Individual Objects:<br/><br/>Object1: life_50_potion_1 // it restores your current life by +50<br/>Alias1: life 50 potion<br/><br/>Object2: life_50_potion_2<br/>Alias2: life 50 potion<br/><br/>etc etc etc<br/><br/>* see below:<br/><!-- m --><a class=\"postlink\" href=\"http://docs.textadventures.co.uk/quest/functions/corelibrary/getdisplayalias.html\">http://docs.textadventures.co.uk/quest/ ... alias.html</a><!-- m --><br/>life_50_potion_stack.alias = GetDisplayAlias(life_50_potion_stack) + &quot;(life_50_potion_stack.quantity)&quot;<br/>// GetDisplayAlias (life_50_potion_stack) --&gt; life 50 potion stack<br/>// + &quot;(life_50_potion_stack.quantity)&quot; --&gt; (quantity, let's say it's: 99)<br/>// life_50_potion_stack.alias = GetDisplayAlias(life_50_potion_stack) + &quot;(life_50_potion_stack.quantity)&quot; --&gt; life 50 potion stack (99)<br/><br/><pre><code>&lt;turnscript name=&quot;global_turnscript&quot;&gt;<br/>  &lt;enabled /&gt;<br/>  &lt;script&gt;<br/>    foreach (object_variable, ScopeInventory()) {<br/>      if (object_variable&#46;alias = &quot;life 50 potion&quot;) {<br/>        life_50_potion_stack&#46;quantity = life_50_potion_stack&#46;quantity + 1<br/>        destroy (object_variable&#46;name)<br/>      }<br/>    }<br/>  &lt;script&gt;<br/>&lt;/turnscript&gt;</code></pre>",
      "PostDate": "2015-09-25T18:44:11+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "38083",
      "UserId": 0,
      "Username": "lightwriter",
      "UserAvatar": null,
      "UserGravatar": "4361dea0f293c64bea42cb1253ce25d4",
      "EditableText": "I'm getting a general idea but still not resolved, I'd like a solution that doesn't cause me to have to manually code each item.\nUPDATE: I have found a somewhat working solution to this issue, for the most part it updates:\nI created a timer with a 1 second interval and used this code:\n[code:2hy5sxg4]\nforeach (item, ScopeInventory()) {\n  for (i, 1, 100) {\n    l = ScopeInventory()\n    n = GetRandomInt (0, ListCount(l)-1)\n    item1 = ObjectListItem(l,n)\n  }\n  for (z, 1, 100) {\n    x = ScopeInventory()\n    y = GetRandomInt (0, ListCount(x)-1)\n    item2 = ObjectListItem(x,y)\n  }\n  if (item1&#46;name = item2&#46;name) {\n  }\n  else if (item1&#46;alias = item2&#46;alias) {\n    item1&#46;quantity = item1&#46;quantity + item2&#46;quantity\n    item2&#46;parent = garbage\n  }\n  else {\n  }\n}\n[/code:2hy5sxg4]",
      "EditableFormat": "bbcode",
      "HTML": "I'm getting a general idea but still not resolved, I'd like a solution that doesn't cause me to have to manually code each item.<br/>UPDATE: I have found a somewhat working solution to this issue, for the most part it updates:<br/>I created a timer with a 1 second interval and used this code:<br/><pre><code><br/>foreach (item, ScopeInventory()) {<br/>  for (i, 1, 100) {<br/>    l = ScopeInventory()<br/>    n = GetRandomInt (0, ListCount(l)-1)<br/>    item1 = ObjectListItem(l,n)<br/>  }<br/>  for (z, 1, 100) {<br/>    x = ScopeInventory()<br/>    y = GetRandomInt (0, ListCount(x)-1)<br/>    item2 = ObjectListItem(x,y)<br/>  }<br/>  if (item1&#46;name = item2&#46;name) {<br/>  }<br/>  else if (item1&#46;alias = item2&#46;alias) {<br/>    item1&#46;quantity = item1&#46;quantity + item2&#46;quantity<br/>    item2&#46;parent = garbage<br/>  }<br/>  else {<br/>  }<br/>}<br/></code></pre>",
      "PostDate": "2015-09-25T19:23:36+01:00",
      "LastEditDate": null
    }
  ]
}
