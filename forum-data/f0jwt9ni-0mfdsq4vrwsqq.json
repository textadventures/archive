{
  "Topic": {
    "TopicId": "f0jwt9ni-0mfdsq4vrwsqq",
    "ForumId": "18",
    "Title": "Make a Quest game respond to ENTER press with no input",
    "LastUpdated": "2021-05-31T02:24:00.7129691Z",
    "ReplyCount": 0
  },
  "Posts": [
    {
      "PostId": "0011f790-a21d-4168-ad0f-1049673a455b",
      "UserId": 518866,
      "Username": "K.V.",
      "AvatarUrl": "https://secure.gravatar.com/avatar/a97688aadc8152436180b511021e94a7?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "In the old text adventures I played, the game responded when you pressed ENTER with nothing to parse.\r\n\r\nThis code in your ```game.inituserinterface``` script will make Quest do that.\r\n\r\nThis will make it say \"I beg your pardon?\"\r\n\r\n```\r\nJS.eval (\"function runCommand() {var command = $('#txtCommand').val();if (command.length > 0 && canSendCommand) {numCommands++;commandsList[numCommands] = command;thisCommand = numCommands + 1;sendCommand(command);$('#txtCommand').val('');} else if (command.length === 0 && canSendCommand){addTextAndScroll('<br/>><br/>I beg your pardon?<br/>')}}\")\r\n```\r\n\r\n---\r\n![image](https://user-images.githubusercontent.com/30656341/120130922-e797ce80-c18c-11eb-8688-d32625b429b6.png)\r\n\r\n---\r\n## The original:\r\n\r\n![image](https://user-images.githubusercontent.com/30656341/120131043-2c236a00-c18d-11eb-8a27-12e99e113761.png)",
      "EditableFormat": "markdown",
      "HTML": "<p>In the old text adventures I played, the game responded when you pressed ENTER with nothing to parse.</p>\n<p>This code in your <code>game.inituserinterface</code> script will make Quest do that.</p>\n<p>This will make it say \"I beg your pardon?\"</p>\n<pre><code>JS.eval (\"function runCommand() {var command = $('#txtCommand').val();if (command.length &gt; 0 &amp;&amp; canSendCommand) {numCommands++;commandsList[numCommands] = command;thisCommand = numCommands + 1;sendCommand(command);$('#txtCommand').val('');} else if (command.length === 0 &amp;&amp; canSendCommand){addTextAndScroll('&lt;br/&gt;&gt;&lt;br/&gt;I beg your pardon?&lt;br/&gt;')}}\")\n</code></pre>\n<hr>\n<p><img src=\"https://user-images.githubusercontent.com/30656341/120130922-e797ce80-c18c-11eb-8688-d32625b429b6.png\" alt=\"image\"></p>\n<hr>\n<h2>The original:</h2>\n<p><img src=\"https://user-images.githubusercontent.com/30656341/120131043-2c236a00-c18d-11eb-8a27-12e99e113761.png\" alt=\"image\"></p>\n\n",
      "PostDate": "2021-05-31T02:24:00.7129691Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "ed9967b1-9f84-40f4-8942-5c682e45a15a",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "That's an interesting way to do it :)\r\n\r\nI would probably have changed the function `runCommand` to skip the check for there being something in the input box. So…\r\n\r\n```\r\nJS.eval(\"runCommand=function(){var a=$('#txtCommand').val();canSendCommand&&(numCommands++,commandsList[numCommands]=a,thisCommand=numCommands+1,sendCommand(a),$('#txtCommand').val(''))};\")\r\n```\r\n\r\nThen you can make a command with a regex pattern `^$` to match an empty line. Means that if you want to, you could have parts of the game where it gives a different response (like an NPC who responds to you saying nothing).",
      "EditableFormat": "markdown",
      "HTML": "<p>That's an interesting way to do it :)</p>\n<p>I would probably have changed the function <code>runCommand</code> to skip the check for there being something in the input box. So…</p>\n<pre><code>JS.eval(\"runCommand=function(){var a=$('#txtCommand').val();canSendCommand&amp;&amp;(numCommands++,commandsList[numCommands]=a,thisCommand=numCommands+1,sendCommand(a),$('#txtCommand').val(''))};\")\n</code></pre>\n<p>Then you can make a command with a regex pattern <code>^$</code> to match an empty line. Means that if you want to, you could have parts of the game where it gives a different response (like an NPC who responds to you saying nothing).</p>\n\n",
      "PostDate": "2021-05-31T08:59:29.7961842Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "c9e9bbab-95f4-42b2-a593-ec247641c081",
      "UserId": 518866,
      "Username": "K.V.",
      "AvatarUrl": "https://secure.gravatar.com/avatar/a97688aadc8152436180b511021e94a7?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Hey, that's a better idea!\r\n\r\nI didn't even see that part of the code.",
      "EditableFormat": "markdown",
      "HTML": "<p>Hey, that's a better idea!</p>\n<p>I didn't even see that part of the code.</p>\n\n",
      "PostDate": "2021-06-11T17:55:11.5557958Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "1be3b40c-70eb-4a50-9020-a232e3406dc3",
      "UserId": 260569,
      "Username": "DarkLizerd",
      "AvatarUrl": "https://i.imgur.com/HiZKEtPb.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "I've talked about the differences between Quest and Basic...\r\nThat's a LOT of code just to do what Basic can do without breaking a drop of sweat...\r\nIn Basic, the GetInput command is just input.\r\nWith variations:\r\nInput \"What is your name?\", Name\r\nName would be the same as result... but that aside...\r\nA simple check:\r\nif Name=\"\" then print \"What was that?\"\r\nor\r\nif len(Name)<1 then print \"Sorry, were you mumbling?\"\r\nIs there a way to check:\r\nif lengthOf(result)<1 {\r\nmsg (\"I'm sorry, I didn't get that. Please try again.\")\r\n}\r\n \r\nWell, that didn't work so easy, maybe there could be a change in the core code?\r\n\r\n",
      "EditableFormat": "markdown",
      "HTML": "<p>I've talked about the differences between Quest and Basic...<br>\nThat's a LOT of code just to do what Basic can do without breaking a drop of sweat...<br>\nIn Basic, the GetInput command is just input.<br>\nWith variations:<br>\nInput \"What is your name?\", Name<br>\nName would be the same as result... but that aside...<br>\nA simple check:<br>\nif Name=\"\" then print \"What was that?\"<br>\nor<br>\nif len(Name)&lt;1 then print \"Sorry, were you mumbling?\"<br>\nIs there a way to check:<br>\nif lengthOf(result)&lt;1 {<br>\nmsg (\"I'm sorry, I didn't get that. Please try again.\")<br>\n}</p>\n<p>Well, that didn't work so easy, maybe there could be a change in the core code?</p>\n\n",
      "PostDate": "2021-06-12T01:27:00.4933914Z",
      "LastEditDate": "2021-06-12T01:44:11.5601302Z",
      "link": null
    },
    {
      "PostId": "f5ee4145-54a4-44be-af3a-a2070ef055d7",
      "UserId": 518866,
      "Username": "K.V.",
      "AvatarUrl": "https://secure.gravatar.com/avatar/a97688aadc8152436180b511021e94a7?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "What's ```len```? I see that in ZIL when dealing with the input, too.",
      "EditableFormat": "markdown",
      "HTML": "<p>What's <code>len</code>? I see that in ZIL when dealing with the input, too.</p>\n\n",
      "PostDate": "2021-06-12T01:31:55.2571372Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "87538ee8-0ed3-4a28-bc3c-d188dd36c4e8",
      "UserId": 260569,
      "Username": "DarkLizerd",
      "AvatarUrl": "https://i.imgur.com/HiZKEtPb.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Len= LengthOf\r\nHmmm, maybe knowing a little Basic could help.\r\n",
      "EditableFormat": "markdown",
      "HTML": "<p>Len= LengthOf<br>\nHmmm, maybe knowing a little Basic could help.</p>\n\n",
      "PostDate": "2021-06-12T01:44:59.9197118Z",
      "LastEditDate": "2021-06-12T01:54:12.3956966Z",
      "link": null
    },
    {
      "PostId": "0a51c97b-28bc-4204-b8c8-8bdeb39776d9",
      "UserId": 518866,
      "Username": "K.V.",
      "AvatarUrl": "https://secure.gravatar.com/avatar/a97688aadc8152436180b511021e94a7?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Oh, I would have seen that if I'd kept reading that code past that line.\r\n\r\nThat ```len``` isn't the same as the one in ZIL.\r\n\r\n---\r\n**EDIT**\r\n\r\nHa!\r\n\r\nI was mistaken, anyway. It's ```LEX``` in the ZIL code; not ```len```.",
      "EditableFormat": "markdown",
      "HTML": "<p>Oh, I would have seen that if I'd kept reading that code past that line.</p>\n<p>That <code>len</code> isn't the same as the one in ZIL.</p>\n<hr>\n<p><strong>EDIT</strong></p>\n<p>Ha!</p>\n<p>I was mistaken, anyway. It's <code>LEX</code> in the ZIL code; not <code>len</code>.</p>\n\n",
      "PostDate": "2021-06-12T03:13:47.6083275Z",
      "LastEditDate": "2021-06-12T17:35:43.8200105Z",
      "link": null
    },
    {
      "PostId": "bc722ede-31bf-46fb-9595-c84e8c77c05f",
      "UserId": 1346,
      "Username": "The Pixie",
      "AvatarUrl": "https://secure.gravatar.com/avatar/cfa37e927f96177bcf6053ae8f108f77?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "> That's a LOT of code just to do what Basic can do without breaking a drop of sweat...\r\n\r\nIn fairness, that is because Quest - and I would guess pretty much all IF systems (except QuestJS) - deliberately insulate authors from the low level input system.",
      "EditableFormat": "markdown",
      "HTML": "<blockquote>\n<p>That's a LOT of code just to do what Basic can do without breaking a drop of sweat...</p>\n</blockquote>\n<p>In fairness, that is because Quest - and I would guess pretty much all IF systems (except QuestJS) - deliberately insulate authors from the low level input system.</p>\n\n",
      "PostDate": "2021-06-12T17:07:15.8535542Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "21bc18c1-2539-4fe6-928f-5a714d793ca0",
      "UserId": 260569,
      "Username": "DarkLizerd",
      "AvatarUrl": "https://i.imgur.com/HiZKEtPb.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Maybe to prevent problems when the user hits the enter more than once.\r\nBUT, it would be nice to be able to access some of that \"insulated\" stuff.",
      "EditableFormat": "markdown",
      "HTML": "<p>Maybe to prevent problems when the user hits the enter more than once.<br>\nBUT, it would be nice to be able to access some of that \"insulated\" stuff.</p>\n\n",
      "PostDate": "2021-06-12T21:18:55.590777Z",
      "LastEditDate": null,
      "link": null
    }
  ]
}
