{
  "Topic": {
    "TopicId": "5dd9dxgpw0if2qqkhmcara",
    "ForumId": "10",
    "Title": "Noob looking for help with functions",
    "LastUpdated": "2020-05-04T02:43:08.7965455Z",
    "ReplyCount": 0
  },
  "Posts": [
    {
      "PostId": "3fa610af-d34c-465a-ac91-69088b4006e9",
      "UserId": 479542,
      "Username": "Iconaclast",
      "AvatarUrl": "https://secure.gravatar.com/avatar/1003e57ca2a8cab38ae4d3bc7805845c?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Hello,\r\nI'm attempting to learn how to use functions to save time. I want to create a function that activates any time you use my \"attack\" verb on a mob. This way I can just add the verb \"attack\" to a mob instead of re-scripting the attack script every time I add a new one.\r\n\r\nI would like to avoid using a command so that players can simply tap the \"attack\" verb connected to the mob in the object list.\r\n\r\nI'm also hoping there's a way to have the function take the #object# you are using the verb on so I can adjust attributes. I.E. instead of using \"squirel.hp = squirel.hp - player.dmg\" I would like to use \"object.hp = object.hp - player.dmg\"\r\n\r\nAny help would be greatly appreciated!",
      "EditableFormat": "markdown",
      "HTML": "<p>Hello,<br>\nI'm attempting to learn how to use functions to save time. I want to create a function that activates any time you use my \"attack\" verb on a mob. This way I can just add the verb \"attack\" to a mob instead of re-scripting the attack script every time I add a new one.</p>\n<p>I would like to avoid using a command so that players can simply tap the \"attack\" verb connected to the mob in the object list.</p>\n<p>I'm also hoping there's a way to have the function take the #object# you are using the verb on so I can adjust attributes. I.E. instead of using \"squirel.hp = squirel.hp - player.dmg\" I would like to use \"object.hp = object.hp - player.dmg\"</p>\n<p>Any help would be greatly appreciated!</p>\n\n",
      "PostDate": "2020-05-04T02:43:08.7965455Z",
      "LastEditDate": "2020-05-04T05:48:21.8693957Z",
      "link": null
    },
    {
      "PostId": "6a18c16b-bd08-4165-8f3f-1dc0832796fb",
      "UserId": 142763,
      "Username": "Forgewright",
      "AvatarUrl": "http://i.imgur.com/Ea6HecZb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "The attack verb script should call the function as so:\r\n```\r\nMobFunction (whatever the name of the object) <---What object you want to be sent to the function.\r\n```\r\nThen add a parameter to the function script called  **object** (Are you using the desktop version of Quest)? Then you will see the box asking for the parameter... And whatever you send in the verb function call will be called **object** in the function script\r\nThe function will then expect the parameter to be sent to it, which is (whatever the name of the object) and you can then refer to it as you did in the script using **object**.\r\nUse only the **name** of the object in the calling of the function in the verb script not it's alias. \r\n\r\nI hope this is clear and also what you needed.",
      "EditableFormat": "markdown",
      "HTML": "<p>The attack verb script should call the function as so:</p>\n<pre><code>MobFunction (whatever the name of the object) &lt;---What object you want to be sent to the function.\n</code></pre>\n<p>Then add a parameter to the function script called  <strong>object</strong> (Are you using the desktop version of Quest)? Then you will see the box asking for the parameter... And whatever you send in the verb function call will be called <strong>object</strong> in the function script<br>\nThe function will then expect the parameter to be sent to it, which is (whatever the name of the object) and you can then refer to it as you did in the script using <strong>object</strong>.<br>\nUse only the <strong>name</strong> of the object in the calling of the function in the verb script not it's alias.</p>\n<p>I hope this is clear and also what you needed.</p>\n\n",
      "PostDate": "2020-05-04T05:50:40.2967257Z",
      "LastEditDate": "2020-05-04T05:56:26.9050646Z",
      "link": null
    },
    {
      "PostId": "6e358819-b857-44d2-8a7c-72cc2f14d700",
      "UserId": 479542,
      "Username": "Iconaclast",
      "AvatarUrl": "https://secure.gravatar.com/avatar/1003e57ca2a8cab38ae4d3bc7805845c?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "That kind of worked.  Although the function did not recognize \"object\" in ```msg (\"You punch the \" + object + \".\")``` as anything.\r\n\r\n``` \r\nif (player.haswep = false) {\r\n  Attacks = NewStringList ()\r\n  list add (Attacks, \"Punch\")\r\n  list add (Attacks, \"Heavy Punch\")\r\n  list add (Attacks, \"Recover\")\r\n  ShowMenu (\"Fight Menu\", Attacks, false) {\r\n    if (result = \"Punch\") {\r\n      if (player.en >= 5) {\r\n        msg (\"You punch the \" + object + \".\")\r\n        if (object.hp - ((player.str + player.dmg) - object.def) > 0) {\r\n          player.en = player.en - 5\r\n          object.hp = object.hp - ((player.str + player.dmg) - object.def)\r\n          msg (\"You dealt \" + ((player.str + player.dmg) - object.def) + \" damage.\")\r\n          if (object.hp <= 0) {\r\n            MakeObjectInvisible (object)\r\n```\r\nI added the call function with parameter **squirel** <--(the object I'm testing with) to the verb.\r\nI added the parameter **object** to the function parameters.",
      "EditableFormat": "markdown",
      "HTML": "<p>That kind of worked.  Although the function did not recognize \"object\" in <code>msg (\"You punch the \" + object + \".\")</code> as anything.</p>\n<pre><code>if (player.haswep = false) {\n  Attacks = NewStringList ()\n  list add (Attacks, \"Punch\")\n  list add (Attacks, \"Heavy Punch\")\n  list add (Attacks, \"Recover\")\n  ShowMenu (\"Fight Menu\", Attacks, false) {\n    if (result = \"Punch\") {\n      if (player.en &gt;= 5) {\n        msg (\"You punch the \" + object + \".\")\n        if (object.hp - ((player.str + player.dmg) - object.def) &gt; 0) {\n          player.en = player.en - 5\n          object.hp = object.hp - ((player.str + player.dmg) - object.def)\n          msg (\"You dealt \" + ((player.str + player.dmg) - object.def) + \" damage.\")\n          if (object.hp &lt;= 0) {\n            MakeObjectInvisible (object)\n</code></pre>\n<p>I added the call function with parameter <strong>squirel</strong> &lt;--(the object I'm testing with) to the verb.<br>\nI added the parameter <strong>object</strong> to the function parameters.</p>\n\n",
      "PostDate": "2020-05-04T06:32:55.3290241Z",
      "LastEditDate": "2020-05-04T06:34:19.7452227Z",
      "link": null
    },
    {
      "PostId": "59be2484-b8a2-49f0-9c26-24b94630d74f",
      "UserId": 142763,
      "Username": "Forgewright",
      "AvatarUrl": "http://i.imgur.com/Ea6HecZb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Check that the spelling is the same for squirrel (matches object name) it has to be exact and it is spelled wrong in your example.\r\nAlso you lose the effect in  a show menu. do this\r\n```\r\nobject = game.temp before the show menu line\r\nand\r\ngame.temp = object  after the show menu line\r\nit carries it through for you.",
      "EditableFormat": "markdown",
      "HTML": "<p>Check that the spelling is the same for squirrel (matches object name) it has to be exact and it is spelled wrong in your example.<br>\nAlso you lose the effect in  a show menu. do this</p>\n<pre><code>object = game.temp before the show menu line\nand\ngame.temp = object  after the show menu line\nit carries it through for you.\n</code></pre>\n\n",
      "PostDate": "2020-05-04T07:25:29.5975655Z",
      "LastEditDate": "2020-05-04T07:30:08.211718Z",
      "link": null
    },
    {
      "PostId": "ec8fcfd9-04e8-4952-9d53-c9af3aabca4a",
      "UserId": 479542,
      "Username": "Iconaclast",
      "AvatarUrl": "https://secure.gravatar.com/avatar/1003e57ca2a8cab38ae4d3bc7805845c?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "I was misspelling it in both places, just to be sure though I renamed the object and and verb parameter to squirrel. I added the temp lines but now it cannot find **object** in the ```object = game.temp``` expression. I added the full code for the function this time in case there's something else I don't know about.\r\n\r\nI will mention that if i create an object called **object** and give it the appropriate attributes, then the function does work, just not for the squirrel.\r\n```\r\nif (player.haswep = false) {\r\n  Attacks = NewStringList ()\r\n  list add (Attacks, \"Punch\")\r\n  list add (Attacks, \"Heavy Punch\")\r\n  list add (Attacks, \"Recover\")\r\n  object = game.temp\r\n  ShowMenu (\"Fight Menu\", Attacks, false) {\r\n    game.temp = object\r\n    if (result = \"Punch\") {\r\n      if (player.en >= 5) {\r\n        msg (\"You punch the \" + object + \".\")\r\n        if (object.hp - ((player.str + player.dmg) - object.def) > 0) {\r\n          player.en = player.en - 5\r\n          object.hp = object.hp - ((player.str + player.dmg) - object.def)\r\n          msg (\"You dealt \" + ((player.str + player.dmg) - object.def) + \" damage.\")\r\n          if (object.hp <= 0) {\r\n            MakeObjectInvisible (object)\r\n          }\r\n        }\r\n        else {\r\n          player.en = player.en - 5\r\n          msg (\"Your punch dealt no damage to the \" + object + \".\")\r\n        }\r\n      }\r\n      else {\r\n        msg (\"Your too tired to punch the \" + object + \".\")\r\n      }\r\n    }\r\n    else if (result = \"Heavy Punch\") {\r\n      if (player.en >= 15) {\r\n        msg (\"You punch the \" + object + \" hard.\")\r\n        if (object.hp - (((player.str + player.dmg) * 2) - object.def) > 0) {\r\n          player.en = player.en - 15\r\n          object.hp = object.hp - (((player.str + player.dmg) * 2) - object.def)\r\n          msg (\"You dealt \" + (((player.str + player.dmg) * 2) - object.def) + \" damage.\")\r\n          if (object.hp <= 0) {\r\n            MakeObjectInvisible (Object)\r\n          }\r\n        }\r\n        else {\r\n          player.en = player.en - 15\r\n          msg (\"Your punch dealt no damage to the \" + object + \".\")\r\n        }\r\n      }\r\n      else {\r\n        msg (\"Your too tired to punch the \" + object + \" this hard.\")\r\n      }\r\n    }\r\n    else if (result = \"Recover\") {\r\n      player.en = player.en + 25\r\n      if (object.en >= 5) {\r\n        if (object.dmg > object.mag) {\r\n          if (object.dmg > player.def) {\r\n            object.en = object.en - 5\r\n            player.hp = player.hp - (object.dmg - player.def)\r\n            msg (\"The \" + object + \" got an extra attack in while you were resting and dealt \" + ((object.dmg + object.mag) - player.def) + \" damage.\")\r\n          }\r\n          else {\r\n            msg (\"The \" + object + \" tried to get in an extra attack, but it dealt no damage.\")\r\n          }\r\n        }\r\n        else {\r\n          if (object.mag > player.res) {\r\n            object.en = object.en - 5\r\n            player.hp = player.hp - (object.mag - player.res)\r\n            msg (\"The \" + object + \" got an extra attack in while you were resting and dealt \" + (object.mag - player.res) + \" magic damage.\")\r\n          }\r\n          else {\r\n            msg (\"The \" + object + \" tried to get in an extra attack, but it dealt no damage.\")\r\n          }\r\n        }\r\n      }\r\n      else {\r\n        msg (\"The \" + object + \" looked very tired and did not attack.\")\r\n        object.en = object.en + 25\r\n      }\r\n    }\r\n  }\r\n}\r\nelse {\r\n  ShowMenu (\"Fight Menu\", wepAttacks, true) {\r\n    list add (wepAttacks, \"Slash\")\r\n    list add (wepAttacks, \"Shoot\")\r\n    list add (wepAttacks, \"Blast\")\r\n    list add (wepAttacks, \"Recover\")\r\n    if (result = \"Slash\") {\r\n      if (player.en >= 5) {\r\n        msg (\"You slash the \" + object + \".\")\r\n        if (object.hp - ((player.str + player.dmg) - object.def) > 0) {\r\n          player.en = player.en - 5\r\n          object.hp = object.hp - ((player.str + player.dmg) - object.def)\r\n          msg (\"You dealt \" + ((player.str + player.dmg) - object.def) + \" damage.\")\r\n          if (object.hp <= 0) {\r\n            MakeObjectInvisible (Object)\r\n          }\r\n        }\r\n        else {\r\n          player.en = player.en - 5\r\n          msg (\"Your slash dealt no damage to the \" + object + \".\")\r\n        }\r\n      }\r\n      else {\r\n        msg (\"Your too tired to slash the \" + object + \".\")\r\n      }\r\n    }\r\n    else if (result = \"Shoot\") {\r\n      if (player.en >= 5) {\r\n        msg (\"You shoot the \" + object + \".\")\r\n        if (object.hp - ((player.agi + player.dmg) - object.def) > 0) {\r\n          player.en = player.en - 5\r\n          object.hp = object.hp - ((player.agi + player.dmg) - object.def)\r\n          msg (\"You dealt \" + ((player.agi + player.dmg) - object.def) + \" damage.\")\r\n          if (object.hp <= 0) {\r\n            MakeObjectInvisible (Object)\r\n          }\r\n        }\r\n        else {\r\n          player.en = player.en - 5\r\n          msg (\"Your shot dealt no damage to the \" + object + \".\")\r\n        }\r\n      }\r\n      else {\r\n        msg (\"Your too tired to shoot the \" + object + \".\")\r\n      }\r\n    }\r\n    else if (result = \"Blast\") {\r\n      if (object.en >= 5) {\r\n        msg (\"You blast the \" + object + \".\")\r\n        if (object.hp - ((player.int + player.mag) - object.res) > 0) {\r\n          player.en = player.en - 5\r\n          object.hp = object.hp - ((player.int + player.mag) - object.res)\r\n          msg (\"You dealt \" + ((player.int + player.mag) - object.res) + \" magic damage.\")\r\n          if (object.hp <= 0) {\r\n            MakeObjectInvisible (Object)\r\n          }\r\n        }\r\n        else {\r\n          player.en = player.en - 5\r\n          msg (\"Your blast dealt no magic damage to the \" + object + \".\")\r\n        }\r\n      }\r\n      else {\r\n        msg (\"Your too tired to blast the \" + object + \".\")\r\n      }\r\n    }\r\n    else if (result = \"Recover\") {\r\n      player.en = player.en + 25\r\n      if (object.en >= 5) {\r\n        if (object.dmg > object.mag) {\r\n          if (object.dmg > player.def) {\r\n            object.en = object.en - 5\r\n            player.hp = player.hp - (object.dmg - player.def)\r\n            msg (\"The \" + object + \" got an extra attack in while you were resting and dealt \" + ((object.dmg + object.mag) - player.def) + \" damage.\")\r\n          }\r\n          else {\r\n            msg (\"The \" + object + \" tried to get in an extra attack, but it dealt no damage.\")\r\n          }\r\n        }\r\n        else {\r\n          if (object.mag > player.res) {\r\n            object.en = object.en - 5\r\n            player.hp = player.hp - (object.mag - player.res)\r\n            msg (\"The \" + object + \" got an extra attack in while you were resting and dealt \" + (object.mag - player.res) + \" magic damage.\")\r\n          }\r\n          else {\r\n            msg (\"The \" + object + \" tried to get in an extra attack, but it dealt no damage.\")\r\n          }\r\n        }\r\n      }\r\n      else {\r\n        msg (\"The \" + object + \" looked very tired and did not attack.\")\r\n        object.en = object.en + 25\r\n      }\r\n    }\r\n  }\r\n  if () {\r\n    if (object.en >= 5) {\r\n      if (object.dmg > object.mag) {\r\n        if (object.dmg > player.def) {\r\n          object.en = object.en - 5\r\n          player.hp = player.hp - (object.dmg - player.def)\r\n          msg (\"The \" + object + \" attacked and dealt \" + (object.dmg - player.def) + \" damage.\")\r\n        }\r\n        else {\r\n          msg (\"The \" + object + \" tried to attack, but it dealt no damage.\")\r\n        }\r\n      }\r\n      else {\r\n        if (object.mag > player.res) {\r\n          object.en = object.en - 5\r\n          player.hp = player.hp - (object.mag - player.res)\r\n          msg (\"The \" + object + \" attacked and dealt \" + (object.mag - player.res) + \" magic damage.\")\r\n        }\r\n        else {\r\n          msg (\"The \" + object + \" tried to attack, but it dealt no damage.\")\r\n        }\r\n      }\r\n    }\r\n    else {\r\n      msg (\"The \" + object + \" looked very tired and did not attack.\")\r\n      object.en = object.en + 25\r\n    }\r\n  }\r\n}\r\n```",
      "EditableFormat": "markdown",
      "HTML": "<p>I was misspelling it in both places, just to be sure though I renamed the object and and verb parameter to squirrel. I added the temp lines but now it cannot find <strong>object</strong> in the <code>object = game.temp</code> expression. I added the full code for the function this time in case there's something else I don't know about.</p>\n<p>I will mention that if i create an object called <strong>object</strong> and give it the appropriate attributes, then the function does work, just not for the squirrel.</p>\n<pre><code>if (player.haswep = false) {\n  Attacks = NewStringList ()\n  list add (Attacks, \"Punch\")\n  list add (Attacks, \"Heavy Punch\")\n  list add (Attacks, \"Recover\")\n  object = game.temp\n  ShowMenu (\"Fight Menu\", Attacks, false) {\n    game.temp = object\n    if (result = \"Punch\") {\n      if (player.en &gt;= 5) {\n        msg (\"You punch the \" + object + \".\")\n        if (object.hp - ((player.str + player.dmg) - object.def) &gt; 0) {\n          player.en = player.en - 5\n          object.hp = object.hp - ((player.str + player.dmg) - object.def)\n          msg (\"You dealt \" + ((player.str + player.dmg) - object.def) + \" damage.\")\n          if (object.hp &lt;= 0) {\n            MakeObjectInvisible (object)\n          }\n        }\n        else {\n          player.en = player.en - 5\n          msg (\"Your punch dealt no damage to the \" + object + \".\")\n        }\n      }\n      else {\n        msg (\"Your too tired to punch the \" + object + \".\")\n      }\n    }\n    else if (result = \"Heavy Punch\") {\n      if (player.en &gt;= 15) {\n        msg (\"You punch the \" + object + \" hard.\")\n        if (object.hp - (((player.str + player.dmg) * 2) - object.def) &gt; 0) {\n          player.en = player.en - 15\n          object.hp = object.hp - (((player.str + player.dmg) * 2) - object.def)\n          msg (\"You dealt \" + (((player.str + player.dmg) * 2) - object.def) + \" damage.\")\n          if (object.hp &lt;= 0) {\n            MakeObjectInvisible (Object)\n          }\n        }\n        else {\n          player.en = player.en - 15\n          msg (\"Your punch dealt no damage to the \" + object + \".\")\n        }\n      }\n      else {\n        msg (\"Your too tired to punch the \" + object + \" this hard.\")\n      }\n    }\n    else if (result = \"Recover\") {\n      player.en = player.en + 25\n      if (object.en &gt;= 5) {\n        if (object.dmg &gt; object.mag) {\n          if (object.dmg &gt; player.def) {\n            object.en = object.en - 5\n            player.hp = player.hp - (object.dmg - player.def)\n            msg (\"The \" + object + \" got an extra attack in while you were resting and dealt \" + ((object.dmg + object.mag) - player.def) + \" damage.\")\n          }\n          else {\n            msg (\"The \" + object + \" tried to get in an extra attack, but it dealt no damage.\")\n          }\n        }\n        else {\n          if (object.mag &gt; player.res) {\n            object.en = object.en - 5\n            player.hp = player.hp - (object.mag - player.res)\n            msg (\"The \" + object + \" got an extra attack in while you were resting and dealt \" + (object.mag - player.res) + \" magic damage.\")\n          }\n          else {\n            msg (\"The \" + object + \" tried to get in an extra attack, but it dealt no damage.\")\n          }\n        }\n      }\n      else {\n        msg (\"The \" + object + \" looked very tired and did not attack.\")\n        object.en = object.en + 25\n      }\n    }\n  }\n}\nelse {\n  ShowMenu (\"Fight Menu\", wepAttacks, true) {\n    list add (wepAttacks, \"Slash\")\n    list add (wepAttacks, \"Shoot\")\n    list add (wepAttacks, \"Blast\")\n    list add (wepAttacks, \"Recover\")\n    if (result = \"Slash\") {\n      if (player.en &gt;= 5) {\n        msg (\"You slash the \" + object + \".\")\n        if (object.hp - ((player.str + player.dmg) - object.def) &gt; 0) {\n          player.en = player.en - 5\n          object.hp = object.hp - ((player.str + player.dmg) - object.def)\n          msg (\"You dealt \" + ((player.str + player.dmg) - object.def) + \" damage.\")\n          if (object.hp &lt;= 0) {\n            MakeObjectInvisible (Object)\n          }\n        }\n        else {\n          player.en = player.en - 5\n          msg (\"Your slash dealt no damage to the \" + object + \".\")\n        }\n      }\n      else {\n        msg (\"Your too tired to slash the \" + object + \".\")\n      }\n    }\n    else if (result = \"Shoot\") {\n      if (player.en &gt;= 5) {\n        msg (\"You shoot the \" + object + \".\")\n        if (object.hp - ((player.agi + player.dmg) - object.def) &gt; 0) {\n          player.en = player.en - 5\n          object.hp = object.hp - ((player.agi + player.dmg) - object.def)\n          msg (\"You dealt \" + ((player.agi + player.dmg) - object.def) + \" damage.\")\n          if (object.hp &lt;= 0) {\n            MakeObjectInvisible (Object)\n          }\n        }\n        else {\n          player.en = player.en - 5\n          msg (\"Your shot dealt no damage to the \" + object + \".\")\n        }\n      }\n      else {\n        msg (\"Your too tired to shoot the \" + object + \".\")\n      }\n    }\n    else if (result = \"Blast\") {\n      if (object.en &gt;= 5) {\n        msg (\"You blast the \" + object + \".\")\n        if (object.hp - ((player.int + player.mag) - object.res) &gt; 0) {\n          player.en = player.en - 5\n          object.hp = object.hp - ((player.int + player.mag) - object.res)\n          msg (\"You dealt \" + ((player.int + player.mag) - object.res) + \" magic damage.\")\n          if (object.hp &lt;= 0) {\n            MakeObjectInvisible (Object)\n          }\n        }\n        else {\n          player.en = player.en - 5\n          msg (\"Your blast dealt no magic damage to the \" + object + \".\")\n        }\n      }\n      else {\n        msg (\"Your too tired to blast the \" + object + \".\")\n      }\n    }\n    else if (result = \"Recover\") {\n      player.en = player.en + 25\n      if (object.en &gt;= 5) {\n        if (object.dmg &gt; object.mag) {\n          if (object.dmg &gt; player.def) {\n            object.en = object.en - 5\n            player.hp = player.hp - (object.dmg - player.def)\n            msg (\"The \" + object + \" got an extra attack in while you were resting and dealt \" + ((object.dmg + object.mag) - player.def) + \" damage.\")\n          }\n          else {\n            msg (\"The \" + object + \" tried to get in an extra attack, but it dealt no damage.\")\n          }\n        }\n        else {\n          if (object.mag &gt; player.res) {\n            object.en = object.en - 5\n            player.hp = player.hp - (object.mag - player.res)\n            msg (\"The \" + object + \" got an extra attack in while you were resting and dealt \" + (object.mag - player.res) + \" magic damage.\")\n          }\n          else {\n            msg (\"The \" + object + \" tried to get in an extra attack, but it dealt no damage.\")\n          }\n        }\n      }\n      else {\n        msg (\"The \" + object + \" looked very tired and did not attack.\")\n        object.en = object.en + 25\n      }\n    }\n  }\n  if () {\n    if (object.en &gt;= 5) {\n      if (object.dmg &gt; object.mag) {\n        if (object.dmg &gt; player.def) {\n          object.en = object.en - 5\n          player.hp = player.hp - (object.dmg - player.def)\n          msg (\"The \" + object + \" attacked and dealt \" + (object.dmg - player.def) + \" damage.\")\n        }\n        else {\n          msg (\"The \" + object + \" tried to attack, but it dealt no damage.\")\n        }\n      }\n      else {\n        if (object.mag &gt; player.res) {\n          object.en = object.en - 5\n          player.hp = player.hp - (object.mag - player.res)\n          msg (\"The \" + object + \" attacked and dealt \" + (object.mag - player.res) + \" magic damage.\")\n        }\n        else {\n          msg (\"The \" + object + \" tried to attack, but it dealt no damage.\")\n        }\n      }\n    }\n    else {\n      msg (\"The \" + object + \" looked very tired and did not attack.\")\n      object.en = object.en + 25\n    }\n  }\n}\n</code></pre>\n\n",
      "PostDate": "2020-05-04T07:58:01.496759Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "f0b6351f-6081-4de8-b4d4-6e439a3b5708",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "> I'm attempting to learn how to use functions to save time. I want to create a function that activates any time you use my \"attack\" verb on a mob. This way I can just add the verb \"attack\" to a mob instead of re-scripting the attack script every time I add a new one.\r\n\r\nVerbs are for commands that do different things for each object you can use them on.\r\nFor something like this, you really want a command.\r\n\r\n> I would like to avoid using a command so that players can simply tap the \"attack\" verb connected to the mob in the object list.\r\n\r\nOn the 'Object' tab, there is a list called \"displayverbs\" which controls the options in the popup menu and verb buttons. You can add a command to it, and that command appears in the menu. (It's confusing that they're called \"displayverbs\" when they're not verbs; but important to realise that you can use them)\r\n\r\n<hr />\r\n\r\nWith regard to Forgewright's suggestion:\r\n>     object = game.temp before the show menu line\r\n>     and\r\n>     game.temp = object  after the show menu line\r\n>     it carries it through for you.\r\n\r\nThat's the wrong way around.\r\nYou want\r\n```\r\n  game.temp = object\r\n  ShowMenu (\"Fight Menu\", Attacks, false) {\r\n    object = game.temp\r\n```\r\n(I also suggest giving the attribute a sensible name rather than `temp`)",
      "EditableFormat": "markdown",
      "HTML": "<blockquote>\n<p>I'm attempting to learn how to use functions to save time. I want to create a function that activates any time you use my \"attack\" verb on a mob. This way I can just add the verb \"attack\" to a mob instead of re-scripting the attack script every time I add a new one.</p>\n</blockquote>\n<p>Verbs are for commands that do different things for each object you can use them on.<br>\nFor something like this, you really want a command.</p>\n<blockquote>\n<p>I would like to avoid using a command so that players can simply tap the \"attack\" verb connected to the mob in the object list.</p>\n</blockquote>\n<p>On the 'Object' tab, there is a list called \"displayverbs\" which controls the options in the popup menu and verb buttons. You can add a command to it, and that command appears in the menu. (It's confusing that they're called \"displayverbs\" when they're not verbs; but important to realise that you can use them)</p>\n<hr>\n<p>With regard to Forgewright's suggestion:</p>\n<blockquote>\n<pre><code>object = game.temp before the show menu line\nand\ngame.temp = object  after the show menu line\nit carries it through for you.\n</code></pre>\n</blockquote>\n<p>That's the wrong way around.<br>\nYou want</p>\n<pre><code>  game.temp = object\n  ShowMenu (\"Fight Menu\", Attacks, false) {\n    object = game.temp\n</code></pre>\n<p>(I also suggest giving the attribute a sensible name rather than <code>temp</code>)</p>\n\n",
      "PostDate": "2020-05-04T09:17:13.5053228Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "bffee00c-575d-4a64-87af-072b93ecab3e",
      "UserId": 479542,
      "Username": "Iconaclast",
      "AvatarUrl": "https://i.imgur.com/OnE0M7Bb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "**Awesome!** I was tearing my hair out over that function for a bit, tried 99 fixes but swapping game.temp/object wasn't one. xD\r\n\r\nThank you both for the help it has been extremely educating!\r\n\r\n    On the 'Object' tab, there is a list called \"displayverbs\" which controls the options in the popup menu and verb buttons. You can add a command to it, and that command appears in the menu. (It's confusing that they're called \"displayverbs\" when they're not verbs; but important to realise that you can use them)    \r\n So in regards to this because I feel like this will be vitally important to what I'm working on. This means that if I have a command like **add str** and link this to an object like a **stats book** \"displayverbs\" then the **add str** command would become a button that displays like a verb on the book in game?!? I will check it out for sure.\r\n\r\nLast thing for this thread, can I edit the default sleep command so it displays a custom message?\r\n",
      "EditableFormat": "markdown",
      "HTML": "<p><strong>Awesome!</strong> I was tearing my hair out over that function for a bit, tried 99 fixes but swapping game.temp/object wasn't one. xD</p>\n<p>Thank you both for the help it has been extremely educating!</p>\n<pre><code>On the 'Object' tab, there is a list called \"displayverbs\" which controls the options in the popup menu and verb buttons. You can add a command to it, and that command appears in the menu. (It's confusing that they're called \"displayverbs\" when they're not verbs; but important to realise that you can use them)    \n</code></pre>\n<p>So in regards to this because I feel like this will be vitally important to what I'm working on. This means that if I have a command like <strong>add str</strong> and link this to an object like a <strong>stats book</strong> \"displayverbs\" then the <strong>add str</strong> command would become a button that displays like a verb on the book in game?!? I will check it out for sure.</p>\n<p>Last thing for this thread, can I edit the default sleep command so it displays a custom message?</p>\n\n",
      "PostDate": "2020-05-04T09:33:02.5477279Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "95f2d906-8f38-421a-95dd-dd69c2f2d777",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "> Last thing for this thread, can I edit the default sleep command so it displays a custom message?\r\n\r\nIf you're in the desktop editor, you can modify any of the core commands. They're included in your game, just hidden in the editor, so it's possible to show the hidden commands and then edit them.\r\n\r\nIf you're using the web editor, it's not quite so easy. The web editor doesn't allow you to modify core commands, or to create a new one with the same name.\r\nBut, a command's *name* is only used internally. It doesn't have to be the same as the command's *pattern* (what the player has to type to activate it). So you could create your own command with the pattern `sleep;rest`, and then in the game's start script do something like `destroy (\"sleep\")` to remove the built-in command.\r\n\r\nOr the way I do it if I want to change a core command in the web editor: in the start script you can put something like:\r\n```\r\nsleep.script => {\r\n  msg (\"It's too loud to sleep around here.\")\r\n}\r\n```\r\nThis just replaces the command's script with something else.",
      "EditableFormat": "markdown",
      "HTML": "<blockquote>\n<p>Last thing for this thread, can I edit the default sleep command so it displays a custom message?</p>\n</blockquote>\n<p>If you're in the desktop editor, you can modify any of the core commands. They're included in your game, just hidden in the editor, so it's possible to show the hidden commands and then edit them.</p>\n<p>If you're using the web editor, it's not quite so easy. The web editor doesn't allow you to modify core commands, or to create a new one with the same name.<br>\nBut, a command's <em>name</em> is only used internally. It doesn't have to be the same as the command's <em>pattern</em> (what the player has to type to activate it). So you could create your own command with the pattern <code>sleep;rest</code>, and then in the game's start script do something like <code>destroy (\"sleep\")</code> to remove the built-in command.</p>\n<p>Or the way I do it if I want to change a core command in the web editor: in the start script you can put something like:</p>\n<pre><code>sleep.script =&gt; {\n  msg (\"It's too loud to sleep around here.\")\n}\n</code></pre>\n<p>This just replaces the command's script with something else.</p>\n\n",
      "PostDate": "2020-05-04T09:49:11.7759318Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "8d36abc7-07d2-474b-90a1-8d4f14e6a0f2",
      "UserId": 479542,
      "Username": "Iconaclast",
      "AvatarUrl": "https://i.imgur.com/OnE0M7Bb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Thank you! Now I can properly inform the player they did not give an amount of time for how long to sleep!\r\n\r\nConsider this thread resolved :)",
      "EditableFormat": "markdown",
      "HTML": "<p>Thank you! Now I can properly inform the player they did not give an amount of time for how long to sleep!</p>\n<p>Consider this thread resolved :)</p>\n\n",
      "PostDate": "2020-05-04T21:50:19.4151375Z",
      "LastEditDate": null,
      "link": null
    }
  ]
}
