{
  "Topic": {
    "TopicId": "5831",
    "ForumId": "18",
    "Title": "My Game Won't Load!",
    "LastUpdated": "2016-01-08T09:30:23+00:00",
    "ReplyCount": 0
  },
  "Posts": [
    {
      "PostId": "40351",
      "UserId": 0,
      "Username": "The Pixie",
      "UserAvatar": null,
      "UserGravatar": "cfa37e927f96177bcf6053ae8f108f77",
      "EditableText": "This is a set of suggestions for what to do if your game will not load in Quest. This is specifically for the off-line editor, for when you try to open your game file and Quest fails, or when you go from [i:14xy2hg9]Code view[/i:14xy2hg9] back to the GUI. If your game is displayed in the GUI, but will not play, that is a whole different issue that is not addressed here.\n\nAs a general rule do not use the [i:14xy2hg9]Code view[/i:14xy2hg9] from the menu and do not edit your game file with a text editor! Just use the [i:14xy2hg9]Code view[/i:14xy2hg9] for individual scripts.\n\nThat said, if you are creating or modifying a library file, then you have to use a text editor. And if your game will not load at all, you also need to use a text editor. Notepad, the built-in Windows text editor is suitable, but if you do this a lot, Notepad++ is far superior.\n\nTo test if this is an issue with a specific library, create a new game, add the suspect library and see if the game will load. If it fails to load, you know the library is the culprit. If you have not edited any library files or have checked all the ones you have modified are not to blame, it is your main game file.\n\nSo we now know which file is the problem.\n\n[b:14xy2hg9][i:14xy2hg9]Invalid XML[/i:14xy2hg9][/b:14xy2hg9]\n\nIf the game does not load into the GUI, and you are getting an error that mentions &quot;Invalid XML&quot; it is probably a problem with the XML formatting. Does it give a line number in the error? Open the file in a text editor, go to the line number, and see what looks bad. You could also try changing the file extension of the game file from .aslx to .xml, then opening it in Internet Explorer, and see if that can locate the error. Remember to change it back afterwards.\n\nXML consists of elements, where each element has a start tag, an end tag and some context. This is the basic format:\n[code:14xy2hg9]&lt;elementname&gt;Some content&lt;/elementname&gt;[/code:14xy2hg9]\nHere is an actual example:\n[code:14xy2hg9]    &lt;object name=&quot;lute&quot;&gt;\n      &lt;inherit name=&quot;editor_object&quot; /&gt;\n      &lt;inherit name=&quot;merchandise&quot; /&gt;\n      &lt;alias&gt;Lute&lt;/alias&gt;\n      &lt;look&gt;When you planned to get a shed load of loot, this was not what you had in mind&#46;&lt;/look&gt;\n      &lt;price type=&quot;int&quot;&gt;72&lt;/price&gt;\n      &lt;alt type=&quot;stringlist&quot;&gt;\n        &lt;value&gt;guitar&lt;/value&gt;\n        &lt;value&gt;banjo&lt;/value&gt;\n      &lt;/alt&gt;\n    &lt;/object&gt;[/code:14xy2hg9]\nIn Quest, they often have a type attribute, telling Quest what sort of thing they are (as in the 6th and 7th lines above), or a name attribute (as in lines 1, 2 and 3). Some elements have no content, and just have a start tag that ends with a slash (as in lines 2 and 3). Lists have more elements nested inside them (lines 7 to 10).\n\nElements nest (fit wholly within the one above), and must not overlap. That means the &quot;look&quot; element above has to be completely within the &quot;object&quot; element. Quest will fail to load if it cannot find the end tag of the look element before it meets the end tag of the object element. Is that the case in your game?\n\nSomething else that Quest can stumble over is a [i:14xy2hg9]less than[/i:14xy2hg9] symbol. In this line, Quest will see the &lt; symbol as the beginning of an XML tag and get confused.\n[code:14xy2hg9]&lt;open type=&quot;script&quot;&gt;if (this&#46;pressure &lt; 45) { msg(&quot;Do stuff&quot;) }&lt;/open&gt;[/code:14xy2hg9]\nTo get around this you need to wrap it as CDATA (and Quest will do this for you if you work in the GUI):\n[code:14xy2hg9]&lt;open type=&quot;script&quot;&gt;&lt;!&#91;CDATA&#91;if (this&#46;pressure &lt; 45) { msg(&quot;Do stuff&quot;) }&#93;&#93;&gt;&lt;/open&gt;[/code:14xy2hg9]\n\n[b:14xy2hg9][i:14xy2hg9]Other Errors[/i:14xy2hg9][/b:14xy2hg9]\n\nIf it is not Invalid XML, you will need to read the error message carefully to see what Quest has found or what it has failed to find, and to determine what object (and possibly what attribute) it failed for. Both of these will be given in single quotes, which may make them easier to spot. Search your code for the object (in code view, do [CTRL-F] to open the search). Put the object name in double quotes, as that is how it appears in the XML element (otherwise you will also find every time it gets a mention in a string or script).",
      "EditableFormat": "bbcode",
      "HTML": "This is a set of suggestions for what to do if your game will not load in Quest. This is specifically for the off-line editor, for when you try to open your game file and Quest fails, or when you go from <span style=\"font-style:italic;\">Code view</span> back to the GUI. If your game is displayed in the GUI, but will not play, that is a whole different issue that is not addressed here.<br/><br/>As a general rule do not use the <span style=\"font-style:italic;\">Code view</span> from the menu and do not edit your game file with a text editor! Just use the <span style=\"font-style:italic;\">Code view</span> for individual scripts.<br/><br/>That said, if you are creating or modifying a library file, then you have to use a text editor. And if your game will not load at all, you also need to use a text editor. Notepad, the built-in Windows text editor is suitable, but if you do this a lot, Notepad++ is far superior.<br/><br/>To test if this is an issue with a specific library, create a new game, add the suspect library and see if the game will load. If it fails to load, you know the library is the culprit. If you have not edited any library files or have checked all the ones you have modified are not to blame, it is your main game file.<br/><br/>So we now know which file is the problem.<br/><br/><span style=\"font-weight:bold;\"><span style=\"font-style:italic;\">Invalid XML</span></span><br/><br/>If the game does not load into the GUI, and you are getting an error that mentions &quot;Invalid XML&quot; it is probably a problem with the XML formatting. Does it give a line number in the error? Open the file in a text editor, go to the line number, and see what looks bad. You could also try changing the file extension of the game file from .aslx to .xml, then opening it in Internet Explorer, and see if that can locate the error. Remember to change it back afterwards.<br/><br/>XML consists of elements, where each element has a start tag, an end tag and some context. This is the basic format:<br/><pre><code>&lt;elementname&gt;Some content&lt;/elementname&gt;</code></pre><br/>Here is an actual example:<br/><pre><code>    &lt;object name=&quot;lute&quot;&gt;<br/>      &lt;inherit name=&quot;editor_object&quot; /&gt;<br/>      &lt;inherit name=&quot;merchandise&quot; /&gt;<br/>      &lt;alias&gt;Lute&lt;/alias&gt;<br/>      &lt;look&gt;When you planned to get a shed load of loot, this was not what you had in mind&#46;&lt;/look&gt;<br/>      &lt;price type=&quot;int&quot;&gt;72&lt;/price&gt;<br/>      &lt;alt type=&quot;stringlist&quot;&gt;<br/>        &lt;value&gt;guitar&lt;/value&gt;<br/>        &lt;value&gt;banjo&lt;/value&gt;<br/>      &lt;/alt&gt;<br/>    &lt;/object&gt;</code></pre><br/>In Quest, they often have a type attribute, telling Quest what sort of thing they are (as in the 6th and 7th lines above), or a name attribute (as in lines 1, 2 and 3). Some elements have no content, and just have a start tag that ends with a slash (as in lines 2 and 3). Lists have more elements nested inside them (lines 7 to 10).<br/><br/>Elements nest (fit wholly within the one above), and must not overlap. That means the &quot;look&quot; element above has to be completely within the &quot;object&quot; element. Quest will fail to load if it cannot find the end tag of the look element before it meets the end tag of the object element. Is that the case in your game?<br/><br/>Something else that Quest can stumble over is a <span style=\"font-style:italic;\">less than</span> symbol. In this line, Quest will see the &lt; symbol as the beginning of an XML tag and get confused.<br/><pre><code>&lt;open type=&quot;script&quot;&gt;if (this&#46;pressure &lt; 45) { msg(&quot;Do stuff&quot;) }&lt;/open&gt;</code></pre><br/>To get around this you need to wrap it as CDATA (and Quest will do this for you if you work in the GUI):<br/><pre><code>&lt;open type=&quot;script&quot;&gt;&lt;!&#91;CDATA&#91;if (this&#46;pressure &lt; 45) { msg(&quot;Do stuff&quot;) }&#93;&#93;&gt;&lt;/open&gt;</code></pre><br/><br/><span style=\"font-weight:bold;\"><span style=\"font-style:italic;\">Other Errors</span></span><br/><br/>If it is not Invalid XML, you will need to read the error message carefully to see what Quest has found or what it has failed to find, and to determine what object (and possibly what attribute) it failed for. Both of these will be given in single quotes, which may make them easier to spot. Search your code for the object (in code view, do [CTRL-F] to open the search). Put the object name in double quotes, as that is how it appears in the XML element (otherwise you will also find every time it gets a mention in a string or script).",
      "PostDate": "2016-01-08T09:30:23+00:00",
      "LastEditDate": null
    }
  ]
}
