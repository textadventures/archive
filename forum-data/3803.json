{
  "Topic": {
    "TopicId": "3803",
    "ForumId": "10",
    "Title": "Level Up And Battle System?",
    "LastUpdated": "2013-07-17T10:04:18+01:00",
    "ReplyCount": 4
  },
  "Posts": [
    {
      "PostId": "25459",
      "UserId": 0,
      "Username": "HyperMasenko",
      "UserAvatar": null,
      "UserGravatar": "afd0b75808bf7b5dc1f5bc8a7b4cadc1",
      "EditableText": "How can you make an experience system and a turn-based battle function in Quest? I am planning to make a combat game. =P",
      "EditableFormat": "bbcode",
      "HTML": "How can you make an experience system and a turn-based battle function in Quest? I am planning to make a combat game. =P",
      "PostDate": "2013-07-16T04:01:43+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "25462",
      "UserId": 0,
      "Username": "Pertex",
      "UserAvatar": "5940_1369854251.gif",
      "UserGravatar": "4cc1e52f99452e841ecf4cbee9eadde9",
      "EditableText": "I think you must learn scripting for this.",
      "EditableFormat": "bbcode",
      "HTML": "I think you must learn scripting for this.",
      "PostDate": "2013-07-16T09:42:05+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "25471",
      "UserId": 0,
      "Username": "jaynabonne",
      "UserAvatar": "6579_1344778256.jpg",
      "UserGravatar": "379859a7f1952a65399fc63997e68f0b",
      "EditableText": "I also think that you need to figure out how you want it to work before you try to code it. In other words, you need a design. That doesn't have to be as scary as it sounds - you just need to perhaps work out some examples (&quot;storyboards&quot;?) of what the player will do, what the player will see, how turns are shown to the player, etc, all from the point of view of what the player *does* and what the player *sees*. Then you can get down to detailed coding questions.\n\nThe above is my answer to your other thread as well. You had asked, &quot;Also, where/how do you add an attack function?&quot; And my answer is: it depends on what you mean by &quot;attack function&quot;. What is your design? Does the player type commands like &quot;attack orc&quot; directly? Is it menu based? Is combat a distinct state that you enter into and exit out of, or is it more free form where, say, the player can simply type something like &quot;n&quot; to leave the room? And many more questions. You need to work out exactly what you want before you try to code it.\n\nIf you can tell us specific questions based on a breakdown of your design into more manageable chunks, then we can help better.",
      "EditableFormat": "bbcode",
      "HTML": "I also think that you need to figure out how you want it to work before you try to code it. In other words, you need a design. That doesn't have to be as scary as it sounds - you just need to perhaps work out some examples (&quot;storyboards&quot;?) of what the player will do, what the player will see, how turns are shown to the player, etc, all from the point of view of what the player *does* and what the player *sees*. Then you can get down to detailed coding questions.<br/><br/>The above is my answer to your other thread as well. You had asked, &quot;Also, where/how do you add an attack function?&quot; And my answer is: it depends on what you mean by &quot;attack function&quot;. What is your design? Does the player type commands like &quot;attack orc&quot; directly? Is it menu based? Is combat a distinct state that you enter into and exit out of, or is it more free form where, say, the player can simply type something like &quot;n&quot; to leave the room? And many more questions. You need to work out exactly what you want before you try to code it.<br/><br/>If you can tell us specific questions based on a breakdown of your design into more manageable chunks, then we can help better.",
      "PostDate": "2013-07-16T23:07:39+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "25473",
      "UserId": 0,
      "Username": "HegemonKhan",
      "UserAvatar": null,
      "UserGravatar": "a96cf34d8d97c57de38f54ee22b1759b",
      "EditableText": "this is advanced coding unfortunately, as well as difficult Game Design (including Game Mechanics too).\n\nif you want to take a look (actually play~test it ~ if I converted it correctly for v5.4) at it, I've got something started on this:\n\nTurn Based Combat:\n\n[code:1if0g8x6]    &lt;asl version=&quot;540&quot;&gt;\n      &lt;include ref=&quot;English&#46;aslx&quot; /&gt;\n      &lt;include ref=&quot;Core&#46;aslx&quot; /&gt;\n      &lt;game name=&quot;Test&quot;&gt;\n        &lt;gameid&gt;d83ba5bb-2e3c-4f31-80c9-3e88a2dc082c&lt;/gameid&gt;\n        &lt;version&gt;1&#46;0&lt;/version&gt;\n        &lt;pov type=&quot;object&quot;&gt;player&lt;/pov&gt;\n        &lt;start type=&quot;script&quot;&gt;\n          cc\n        &lt;/start&gt;\n        &lt;turns type=&quot;int&quot;&gt;0&lt;/turns&gt;\n        &lt;statusattributes type=&quot;simplestringdictionary&quot;&gt;turns = &lt;/statusattributes&gt;\n      &lt;/game&gt;\n      &lt;object name=&quot;room&quot;&gt;\n        &lt;inherit name=&quot;editor_room&quot; /&gt;\n        &lt;object name=&quot;player&quot;&gt;\n          &lt;inherit name=&quot;defaultplayer&quot; /&gt;\n          &lt;inherit name=&quot;pc&quot; /&gt;\n          &lt;cur_hp type=&quot;int&quot;&gt;999&lt;/cur_hp&gt;\n          &lt;max_hp type=&quot;int&quot;&gt;999&lt;/max_hp&gt;\n          &lt;str type=&quot;int&quot;&gt;100&lt;/str&gt;\n          &lt;end type=&quot;int&quot;&gt;100&lt;/end&gt;\n          &lt;dex type=&quot;int&quot;&gt;100&lt;/dex&gt;\n          &lt;agi type=&quot;int&quot;&gt;100&lt;/agi&gt;\n          &lt;spd type=&quot;int&quot;&gt;100&lt;/spd&gt;\n          &lt;hc type=&quot;int&quot;&gt;100&lt;/hc&gt;\n          &lt;pd type=&quot;int&quot;&gt;100&lt;/pd&gt;\n          &lt;pr type=&quot;int&quot;&gt;100&lt;/pr&gt;\n        &lt;/object&gt;\n        &lt;object name=&quot;orc1&quot;&gt;\n          &lt;inherit name=&quot;editor_object&quot; /&gt;\n          &lt;inherit name=&quot;npc&quot; /&gt;\n          &lt;hostile type=&quot;boolean&quot;&gt;true&lt;/hostile&gt;\n          &lt;dead type=&quot;boolean&quot;&gt;false&lt;/dead&gt;\n          &lt;alias&gt;orc&lt;/alias&gt;\n          &lt;cur_hp type=&quot;int&quot;&gt;999&lt;/cur_hp&gt;\n          &lt;max_hp type=&quot;int&quot;&gt;999&lt;/max_hp&gt;\n          &lt;str type=&quot;int&quot;&gt;25&lt;/str&gt;\n          &lt;end type=&quot;int&quot;&gt;25&lt;/end&gt;\n          &lt;dex type=&quot;int&quot;&gt;25&lt;/dex&gt;\n          &lt;agi type=&quot;int&quot;&gt;25&lt;/agi&gt;\n          &lt;spd type=&quot;int&quot;&gt;25&lt;/spd&gt;\n          &lt;hc type=&quot;int&quot;&gt;25&lt;/hc&gt;\n          &lt;pd type=&quot;int&quot;&gt;25&lt;/pd&gt;\n          &lt;pr type=&quot;int&quot;&gt;25&lt;/pr&gt;\n        &lt;/object&gt;\n      &lt;/object&gt;\n      &lt;turnscript name=&quot;game_turns&quot;&gt;\n        &lt;enabled /&gt;\n        &lt;script&gt;\n          sa\n          game&#46;turns = game&#46;turns + 1\n        &lt;/script&gt;\n      &lt;/turnscript&gt;\n      &lt;command name=&quot;fight&quot;&gt;\n        &lt;pattern&gt;fight #text#&lt;/pattern&gt;\n        &lt;script&gt;\n          battle_system (game&#46;pov,text)\n        &lt;/script&gt;\n      &lt;/command&gt;\n      &lt;type name=&quot;char&quot;&gt;\n        &lt;cur_hp type=&quot;int&quot;&gt;0&lt;/cur_hp&gt;\n        &lt;drop type=&quot;boolean&quot;&gt;false&lt;/drop&gt;\n        &lt;defending type=&quot;boolean&quot;&gt;false&lt;/defending&gt;\n        &lt;max_hp type=&quot;int&quot;&gt;0&lt;/max_hp&gt;\n        &lt;str type=&quot;int&quot;&gt;0&lt;/str&gt;\n        &lt;end type=&quot;int&quot;&gt;0&lt;/end&gt;\n        &lt;dex type=&quot;int&quot;&gt;0&lt;/dex&gt;\n        &lt;agi type=&quot;int&quot;&gt;0&lt;/agi&gt;\n        &lt;spd type=&quot;int&quot;&gt;0&lt;/spd&gt;\n        &lt;hp type=&quot;int&quot;&gt;0&lt;/hp&gt;\n        &lt;hc type=&quot;int&quot;&gt;0&lt;/hc&gt;\n        &lt;pd type=&quot;int&quot;&gt;0&lt;/pd&gt;\n        &lt;pr type=&quot;int&quot;&gt;0&lt;/pr&gt;\n      &lt;/type&gt;\n      &lt;type name=&quot;pc&quot;&gt;\n        &lt;inherit name=&quot;char&quot; /&gt;\n        &lt;statusattributes type=&quot;simplestringdictionary&quot;&gt;hp = ;str = ;end = ;dex = ;agi = ;spd = ;hc = ;pd = ;pr = &lt;/statusattributes&gt;\n      &lt;/type&gt;\n      &lt;type name=&quot;npc&quot;&gt;\n        &lt;inherit name=&quot;char&quot; /&gt;\n        &lt;dead type=&quot;boolean&quot;&gt;false&lt;/dead&gt;\n        &lt;hostile type=&quot;boolean&quot;&gt;false&lt;/hostile&gt;\n        &lt;displayverbs type=&quot;simplestringlist&quot;&gt;Look at; Talk; Fight&lt;/displayverbs&gt;\n      &lt;/type&gt;\n      &lt;function name=&quot;cc&quot;&gt;\n        msg (&quot;What is your name?&quot;)\n        get input {\n          game&#46;pov&#46;alias = result\n          msg (&quot; - &quot; + game&#46;pov&#46;alias)\n          show menu (&quot;What is your gender?&quot;, split (&quot;male;female&quot; , &quot;;&quot;), false) {\n            game&#46;pov&#46;gender = result\n            show menu (&quot;What is your race?&quot;, split (&quot;human;dwarf;elf&quot; , &quot;;&quot;), false) {\n              game&#46;pov&#46;race = result\n              show menu (&quot;What is your class?&quot;, split (&quot;warrior;cleric;mage;thief&quot; , &quot;;&quot;), false) {\n                game&#46;pov&#46;class = result\n                msg (game&#46;pov&#46;alias + &quot; is a &quot; + game&#46;pov&#46;gender + &quot; &quot; + game&#46;pov&#46;race + &quot; &quot; + game&#46;pov&#46;class + &quot;&#46;&quot;)\n                wait {\n                  ClearScreen\n\t\t\t\t  \n                }\n              }\n            }\n          }\n        }\n      &lt;/function&gt;\n      &lt;function name=&quot;sa&quot;&gt;\n        game&#46;pov&#46;hp = game&#46;pov&#46;cur_hp + &quot; / &quot; + game&#46;pov&#46;max_hp\n      &lt;/function&gt;\n      &lt;function name=&quot;battle_system&quot; parameters=&quot;self,text&quot;&gt;\n        enemy = GetObject (text)\n        if (enemy = null) {\n          foreach (obj,AllObjects()) {\n            if (obj&#46;alias=text) {\n              enemy = obj\n            }\n          }\n        }\n        if (enemy = null) {\n          msg (&quot;There is no &quot; + text + &quot; here&#46;&quot;)\n        }\n        else if (not Doesinherit (enemy,&quot;npc&quot;)) {\n          msg (&quot;You can not battle that!&quot;)\n        }\n        else if (not npc_reachable (enemy)) {\n          msg (&quot;There is no &quot; + enemy&#46;alias + &quot; in your vicinity&#46;&quot;)\n        }\n        else if (GetBoolean (enemy,&quot;dead&quot;) = true) {\n          msg (enemy&#46;alias + &quot; is already dead&#46;&quot;)\n        }\n        else if (GetBoolean (enemy,&quot;hostile&quot;) = false) {\n          msg (enemy&#46;alias + &quot; is not hostile&#46;&quot;)\n        }\n        else {\n\t\t\tbattle_sequence (self,enemy)\n    \t} \n\n      &lt;/function&gt;\n      &lt;function name=&quot;battle_sequence&quot; parameters=&quot;self,enemy&quot;&gt;&lt;!&#91;CDATA&#91;\n\t\tif (enemy&#46;dead = false) {\n\t\t\tplayerfirst=false\n\t\t\tif (GetInt (self,&quot;spd&quot;) &gt; GetInt (enemy,&quot;spd&quot;)) {\n\t\t\t\tplayerfirst=true\n\t\t\t} else if (GetInt (self,&quot;spd&quot;) = GetInt (enemy,&quot;spd&quot;) and RandomChance (50)) {\n\t\t\t\tplayerfirst=true\n\t\t\t}   \t\t  \n\t\t\t\n\t\t\tif (playerfirst) {\n\t\t\t   msg (&quot;You get to go first for this round&quot;)\n\t\t\t   self_battle_turn (self,enemy) \n\t\t\t   on ready {\n\t\t\t\t if (not enemy&#46;dead){\n\t\t\t\t   enemy_battle_turn (self,enemy) \n\t\t\t\t }\n\t\t\t   }\n\t\t\t} else {\n\t\t\t   msg (enemy&#46;alias + &quot; gets to go first for this round&#46;&quot;)\n\t\t\t\tenemy_battle_turn (self,enemy) \n\t\t\t\tmsg (&quot;It is now your turn&#46;&quot;)\n\t\t\t\tself_battle_turn (self,enemy) \n\t\t\t}\n\t\t\ton ready {\n\t\t\t\tmsg (&quot;The round has ended&#46;&quot;)\n\t\t\t\tmsg(&quot;&quot;)  \n\t\t\t\tbattle_sequence (self,enemy)\t\n\t\t\t}\t\n        } \telse { \n\t\t\t\tmsg (&quot;The battle is over&#46;&quot;)\n        }\n      &#93;&#93;&gt;&lt;/function&gt;\n      &lt;function name=&quot;self_battle_turn&quot; parameters=&quot;self,enemy&quot;&gt;&lt;!&#91;CDATA&#91;\n\t\tmsg (self&#46;alias + &quot; has &quot; + self&#46;cur_hp + &quot; HP left&#46;&quot;)\n        msg (enemy&#46;alias + &quot; has &quot; + enemy&#46;cur_hp + &quot; HP left&#46;&quot;)\n        wait {\n          show menu (&quot;What is your battle choice?&quot;, split (&quot;Attack;Defend;Cast;Item;Run&quot;, &quot;;&quot;), false) {\n            switch (result) {\n              case (&quot;Attack&quot;) {\n                fourth_value = false\n                if (RandomChance (GetInt (enemy,&quot;agi&quot;) - GetInt (self,&quot;spd&quot;)) = true) {\n                  msg (enemy&#46;alias + &quot;evaded your attack!&quot;)\n                  fourth_value = true\n                }\n                else if (RandomChance (GetInt (enemy,&quot;Dex&quot;) - GetInt (self,&quot;agi&quot;)) = true) {\n                  msg (enemy&#46;alias + &quot;parried your attack!&quot;)\n                  fourth_value = true\n                }\n                else if (RandomChance (GetInt (enemy,&quot;agi&quot;) - GetInt (self,&quot;dex&quot;)) = true) {\n                  msg (enemy&#46;alias + &quot;blocked your attack!&quot;)\n                  fourth_value = true\n                }\n                else if (RandomChance (GetInt (self,&quot;dex&quot;) - GetInt (enemy,&quot;spd&quot;)) = false) {\n                  msg (&quot;Your attack missed &quot; + enemy&#46;alias +&quot;!&quot;)\n                  fourth_value = true\n                }\n                else if (RandomChance (GetInt (enemy,&quot;pr&quot;) - GetInt (self,&quot;hc&quot;)) = true) {\n                  msg (&quot;Your attack got resisted by &quot; + enemy&#46;alias +&quot;!&quot;)\n                  fourth_value = true\n                }\n                else if (fourth_value = false) {\n                  if (self&#46;defending = true and enemy&#46;defending = true) {\n                    enemy&#46;cur_hp = enemy&#46;cur_hp - (crit_hit (self) * 2 * GetInt (self,&quot;pd&quot;) / 2 + GetInt (self,&quot;pd&quot;) * (GetInt (self,&quot;str&quot;) - GetInt (enemy,&quot;end&quot;)) / 100)\n                    msg (enemy&#46;alias + &quot; has &quot; + enemy&#46;cur_hp + &quot; HP left&#46;&quot;)\n                    self&#46;defending = false\n                  }\n                  else if (self&#46;defending = true and enemy&#46;defending = false) {\n                    enemy&#46;cur_hp = enemy&#46;cur_hp - (crit_hit (self) * 2 * GetInt (self,&quot;pd&quot;) + GetInt (self,&quot;pd&quot;) * (GetInt (self,&quot;str&quot;) - GetInt (enemy,&quot;end&quot;)) / 100)\n                    msg (enemy&#46;alias + &quot; has &quot; + enemy&#46;cur_hp + &quot; HP left&#46;&quot;)\n                    self&#46;defending = false\n                  }\n                  else if (self&#46;defending = false and enemy&#46;defending = true) {\n                    enemy&#46;cur_hp = enemy&#46;cur_hp - (crit_hit (self) * GetInt (self,&quot;pd&quot;) / 2 + GetInt (self,&quot;pd&quot;) * (GetInt (self,&quot;str&quot;) - GetInt (enemy,&quot;end&quot;)) / 100)\n                    msg (enemy&#46;alias + &quot; has &quot; + enemy&#46;cur_hp + &quot; HP left&#46;&quot;)\n                  }\n                  else if (self&#46;defending = false and enemy&#46;defending = false) {\n                    enemy&#46;cur_hp = enemy&#46;cur_hp - (crit_hit (self) * GetInt (self,&quot;pd&quot;) + GetInt (self,&quot;pd&quot;) * (GetInt (self,&quot;str&quot;) - GetInt (enemy,&quot;end&quot;)) / 100)\n                    msg (enemy&#46;alias + &quot; has &quot; + enemy&#46;cur_hp + &quot; HP left&#46;&quot;)\n                  }\n                }\n              }\n              case (&quot;Defend&quot;) {\n                if (self&#46;defending = false) {\n                  self&#46;defending = true\n                }\n              }\n              case (&quot;Cast&quot;) {\n                self&#46;defending = false\n              }\n              case (&quot;Item&quot;) {\n                self&#46;defending = false\n              }\n              case (&quot;Run&quot;) {\n                self&#46;defending = false\n              }\n            }\n            if (GetInt (enemy,&quot;cur_hp&quot;) &gt; 0) {\n\t\t\t  if ( RandomChance (GetInt (self,&quot;spd&quot;) - GetInt (enemy,&quot;spd&quot;))= true) {\n                msg (&quot;You get an extra battle turn!&quot;)\n                self_battle_turn (self,enemy)\n              }\n              else {\n                msg (&quot;Your battle turn is over&#46;&quot;)\n              }\n            }\n            else if (GetInt (enemy,&quot;cur_hp&quot;) &lt;= 0) {\n              msg (enemy&#46;alias + &quot; is dead&#46;&quot;)\n              msg (&quot;You have won the battle!&quot;)\n              enemy&#46;defending = false\n              enemy&#46;dead = true\n            }\n          }\n        }\n      &#93;&#93;&gt;&lt;/function&gt;\n      &lt;function name=&quot;enemy_battle_turn&quot; parameters=&quot;self,enemy&quot;&gt;&lt;!&#91;CDATA&#91;\n        msg (self&#46;alias + &quot; has &quot; + self&#46;cur_hp + &quot; HP left&#46;&quot;)\n        msg (enemy&#46;alias + &quot; has &quot; + enemy&#46;cur_hp + &quot; HP left&#46;&quot;)\n        result = GetRandomInt (1,3)\n        switch (result) {\n          case (1) {\n            sixth_value = false\n            if (RandomChance (GetInt (self,&quot;agi&quot;) - GetInt (enemy,&quot;spd&quot;)) = true) {\n              msg (&quot;You have evaded the attack!&quot;)\n              sixth_value = true\n            }\n            else if (RandomChance (GetInt (self,&quot;dex&quot;) - GetInt (enemy,&quot;agi&quot;)) = true) {\n              msg (&quot;You have parried the attack!&quot;)\n              sixth_value = true\n            }\n            else if (RandomChance (GetInt (self,&quot;agi&quot;) - GetInt (enemy,&quot;dex&quot;)) = true) {\n              msg (&quot;You have blocked the attack!&quot;)\n              sixth_value = true\n            }\n            else if (RandomChance (GetInt (enemy,&quot;dex&quot;) - GetInt (self,&quot;spd&quot;)) = false) {\n              msg (enemy&#46;alias +&quot;'s attack missed!&quot;)\n              sixth_value = true\n            }\n            else if (RandomChance (GetInt (self,&quot;pr&quot;) - GetInt (enemy,&quot;hc&quot;)) = true) {\n              msg (&quot;You resisted the attack!&quot;)\n              sixth_value = true\n            }\n            else if (sixth_value = false) {\n              if (enemy&#46;defending = true and self&#46;defending = true) {\n                self&#46;cur_hp = self&#46;cur_hp - (crit_hit (enemy) * 2 * GetInt (enemy,&quot;pd&quot;) / 2 + GetInt (enemy,&quot;pd&quot;) * (GetInt (enemy,&quot;str&quot;) - GetInt (self,&quot;end&quot;)) / 100)\n                msg (self&#46;alias + &quot; has &quot; + self&#46;cur_hp + &quot; HP left&#46;&quot;)\n                enemy&#46;defending = false\n              }\n              else if (enemy&#46;defending = true and self&#46;defending = false) {\n                self&#46;cur_hp = self&#46;cur_hp - (crit_hit (enemy) * 2 * GetInt (enemy,&quot;pd&quot;) + GetInt (enemy,&quot;pd&quot;) * (GetInt (enemy,&quot;str&quot;) - GetInt (self,&quot;end&quot;)) / 100)\n                msg (self&#46;alias + &quot; has &quot; + self&#46;cur_hp + &quot; HP left&#46;&quot;)\n                enemy&#46;defending = false\n              }\n              else if (enemy&#46;defending = false and self&#46;defending = true) {\n                self&#46;cur_hp = self&#46;cur_hp - (crit_hit (enemy) * GetInt (enemy,&quot;pd&quot;) / 2 + GetInt (enemy,&quot;pd&quot;) * (GetInt (enemy,&quot;str&quot;) - GetInt (self,&quot;end&quot;)) / 100)\n                msg (self&#46;alias + &quot; has &quot; + self&#46;cur_hp + &quot; HP left&#46;&quot;)\n              }\n              else if (enemy&#46;defending = false and self&#46;defending = false) {\n                self&#46;cur_hp = self&#46;cur_hp - (crit_hit (enemy) * GetInt (enemy,&quot;pd&quot;) + GetInt (enemy,&quot;pd&quot;) * (GetInt (enemy,&quot;str&quot;) - GetInt (self,&quot;end&quot;)) / 100)\n                msg (self&#46;alias + &quot; has &quot; + self&#46;cur_hp + &quot; HP left&#46;&quot;)\n              }\n            }\n          }\n          case (2) {\n            if (enemy&#46;defending = false) {\n              msg (enemy&#46;alias + &quot; has choosen to defend itself&#46;&quot;)\n              enemy&#46;defending = true\n            }\n          }\n          case (3) {\n            enemy&#46;defending = false\n            msg (&quot;Cast&quot;)\n          }\n        }\n        if (GetInt (self,&quot;cur_hp&quot;) &gt; 0) {\n          if (RandomChance (GetInt (enemy,&quot;spd&quot;) - GetInt (self,&quot;spd&quot;)) = true) {\n            msg (enemy&#46;alias + &quot; gets an extra battle turn!&quot;)\n            wait {\n              enemy_battle_turn (self,enemy)\n            }\n          }\n          else {\n            msg (enemy&#46;alias + &quot; 's battle turn is over&#46;&quot;)\n          }\n        }\n        else if (GetInt (self,&quot;cur_hp&quot;) &lt;= 0) {\n          msg (self&#46;alias + &quot; has died&#46;&quot;)\n          msg (&quot;GAME OVER&quot;)\n          finish\n        }\n      &#93;&#93;&gt;&lt;/function&gt;\n      &lt;function name=&quot;npc_reachable&quot; parameters=&quot;object&quot; type=&quot;boolean&quot;&gt;\n        value = false\n        foreach (x,ScopeReachableNotHeld ()) {\n          if (x=object) {\n            value = true\n          }\n        }\n        return (value)\n      &lt;/function&gt;\n      &lt;function name=&quot;crit_hit&quot; parameters=&quot;object&quot; type=&quot;int&quot;&gt;\n        if (RandomChance (GetInt (object,&quot;luck&quot;)) = true) {\n          value = 2\n        }\n        else {\n          value = 1\n        }\n        return (value)\n      &lt;/function&gt;\n    &lt;/asl&gt;[/code:1if0g8x6]\n\nand here's just &quot;leveling&quot; (experience thresh-holds increase your level):\n\n(no stat gains choosing &quot;screen&quot; set up yet though. I give stat points but you don't get to select them, I'm still working on how exactly to do~implement that, lol)\n\n(hopefully this works for v5.4, if not, then let me know, and I'll work on trying to convert it for v5.4 again)\n\n[code:1if0g8x6]&lt;asl version=&quot;540&quot;&gt;\n  &lt;include ref=&quot;English&#46;aslx&quot; /&gt;\n  &lt;include ref=&quot;Core&#46;aslx&quot; /&gt;\n  &lt;game name=&quot;Testing Game Stuff&quot;&gt;\n    &lt;gameid&gt;cd102f9d-370a-4bda-b6ea-ca42288f619c&lt;/gameid&gt;\n    &lt;version&gt;1&#46;0&lt;/version&gt;\n    &lt;start type=&quot;script&quot;&gt;\n      msg (&quot;What is your name?&quot;)\n      get input {\n        msg (&quot;-&quot; + result)\n        player&#46;alias = result\n        show menu (&quot;What is your gender?&quot;, split (&quot;male;female&quot; , &quot;;&quot;), false) {\n          player&#46;gender = result\n          show menu (&quot;What is your race?&quot;, split (&quot;human;elf;dwarf&quot; , &quot;;&quot;), false) {\n            player&#46;race = result\n            show menu (&quot;What is your class?&quot;, split (&quot;warrior;cleric;mage;thief&quot; , &quot;;&quot;), false) {\n              player&#46;class = result\n              msg (player&#46;alias + &quot; is a &quot; + &quot; &quot; + player&#46;gender + &quot; &quot; + player&#46;race + &quot; &quot; + player&#46;class + &quot;&#46;&quot;)\n            }\n          }\n        }\n      }\n    &lt;/start&gt;\n  &lt;/game&gt;\n  &lt;object name=&quot;room&quot;&gt;\n    &lt;inherit name=&quot;editor_room&quot; /&gt;\n    &lt;object name=&quot;player&quot;&gt;\n      &lt;inherit name=&quot;defaultplayer&quot; /&gt;\n      &lt;age type=&quot;int&quot;&gt;0&lt;/age&gt;\n      &lt;height type=&quot;int&quot;&gt;0&lt;/height&gt;\n      &lt;weight type=&quot;int&quot;&gt;0&lt;/weight&gt;\n      &lt;strength type=&quot;int&quot;&gt;0&lt;/strength&gt;\n      &lt;intelligence type=&quot;int&quot;&gt;0&lt;/intelligence&gt;\n      &lt;agility type=&quot;int&quot;&gt;0&lt;/agility&gt;\n      &lt;statusattributes type=&quot;stringdictionary&quot;&gt;age = ;height = ;weight = ;strength = ;intelligence = ;agility = ;level = ;experience = ;cash = ;turns = &lt;/statusattributes&gt;\n      &lt;level type=&quot;int&quot;&gt;0&lt;/level&gt;\n      &lt;experience type=&quot;int&quot;&gt;0&lt;/experience&gt;\n      &lt;cash type=&quot;int&quot;&gt;0&lt;/cash&gt;\n      &lt;turns type=&quot;int&quot;&gt;0&lt;/turns&gt;\n    &lt;/object&gt;\n    &lt;object name=&quot;potion100&quot;&gt;\n      &lt;inherit name=&quot;editor_object&quot; /&gt;\n      &lt;alias&gt;100 exp potion&lt;/alias&gt;\n      &lt;take /&gt;\n      &lt;displayverbs&gt;Look at; Take; drink&lt;/displayverbs&gt;\n      &lt;inventoryverbs&gt;Look at; Use; Drop; drink&lt;/inventoryverbs&gt;\n      &lt;drink type=&quot;script&quot;&gt;\n        msg (&quot;You drink the exp potion, receiving 100 experience&#46;&quot;)\n        player&#46;experience = player&#46;experience + 100\n      &lt;/drink&gt;\n    &lt;/object&gt;\n    &lt;object name=&quot;potion300&quot;&gt;\n      &lt;inherit name=&quot;editor_object&quot; /&gt;\n      &lt;alias&gt;300 exp potion&lt;/alias&gt;\n      &lt;take /&gt;\n      &lt;displayverbs&gt;Look at; Take; drink&lt;/displayverbs&gt;\n      &lt;inventoryverbs&gt;Look at; Use; Drop; drink&lt;/inventoryverbs&gt;\n      &lt;drink type=&quot;script&quot;&gt;\n        msg (&quot;You drink the exp potion, receiving 300 experience&#46;&quot;)\n        player&#46;experience = player&#46;experience + 300\n      &lt;/drink&gt;\n    &lt;/object&gt;\n  &lt;/object&gt;\n  &lt;turnscript name=&quot;turns lvlup script&quot;&gt;\n    &lt;enabled /&gt;\n    &lt;script&gt;\n      lvlup\n      player&#46;turns = player&#46;turns + 1\n    &lt;/script&gt;\n  &lt;/turnscript&gt;\n  &lt;function name=&quot;lvlup&quot;&gt;&lt;!&#91;CDATA&#91;\n    if (player&#46;experience &gt;= player&#46;level * 100 + 100) {\n      player&#46;experience = player&#46;experience - (player&#46;level * 100 + 100)\n      player&#46;level = player&#46;level + 1\n      switch (player&#46;gender) {\n        case (&quot;male&quot;) {\n          player&#46;strength = player&#46;strength + 1\n        }\n        case (&quot;female&quot;) {\n          player&#46;agility = player&#46;agility + 1\n        }\n      }\n      switch (player&#46;race) {\n        case (&quot;dwarf&quot;) {\n          player&#46;strength = player&#46;strength + 2\n        }\n        case (&quot;elf&quot;) {\n          player&#46;agility = player&#46;intelligence + 2\n        }\n        case (&quot;human&quot;) {\n          player&#46;strength = player&#46;strength + 1\n          player&#46;agility = player&#46;agility + 1\n        }\n      }\n      switch (player&#46;class) {\n        case (&quot;warrior&quot;) {\n          player&#46;strength = player&#46;strength + 2\n        }\n        case (&quot;cleric&quot;) {\n          player&#46;intelligence = player&#46;intelligence + 1\n          player&#46;agility = player&#46;agility + 1\n        }\n        case (&quot;mage&quot;) {\n          player&#46;intelligence = player&#46;intelligence + 2\n        }\n        case (&quot;thief&quot;) {\n          player&#46;strength = player&#46;strength + 1\n          player&#46;agility = player&#46;agility + 1\n        }\n      }\n      lvlup\n    }\n  &#93;&#93;&gt;&lt;/function&gt;\n&lt;/asl&gt;[/code:1if0g8x6]",
      "EditableFormat": "bbcode",
      "HTML": "this is advanced coding unfortunately, as well as difficult Game Design (including Game Mechanics too).<br/><br/>if you want to take a look (actually play~test it ~ if I converted it correctly for v5.4) at it, I've got something started on this:<br/><br/>Turn Based Combat:<br/><br/><pre><code>    &lt;asl version=&quot;540&quot;&gt;<br/>      &lt;include ref=&quot;English&#46;aslx&quot; /&gt;<br/>      &lt;include ref=&quot;Core&#46;aslx&quot; /&gt;<br/>      &lt;game name=&quot;Test&quot;&gt;<br/>        &lt;gameid&gt;d83ba5bb-2e3c-4f31-80c9-3e88a2dc082c&lt;/gameid&gt;<br/>        &lt;version&gt;1&#46;0&lt;/version&gt;<br/>        &lt;pov type=&quot;object&quot;&gt;player&lt;/pov&gt;<br/>        &lt;start type=&quot;script&quot;&gt;<br/>          cc<br/>        &lt;/start&gt;<br/>        &lt;turns type=&quot;int&quot;&gt;0&lt;/turns&gt;<br/>        &lt;statusattributes type=&quot;simplestringdictionary&quot;&gt;turns = &lt;/statusattributes&gt;<br/>      &lt;/game&gt;<br/>      &lt;object name=&quot;room&quot;&gt;<br/>        &lt;inherit name=&quot;editor_room&quot; /&gt;<br/>        &lt;object name=&quot;player&quot;&gt;<br/>          &lt;inherit name=&quot;defaultplayer&quot; /&gt;<br/>          &lt;inherit name=&quot;pc&quot; /&gt;<br/>          &lt;cur_hp type=&quot;int&quot;&gt;999&lt;/cur_hp&gt;<br/>          &lt;max_hp type=&quot;int&quot;&gt;999&lt;/max_hp&gt;<br/>          &lt;str type=&quot;int&quot;&gt;100&lt;/str&gt;<br/>          &lt;end type=&quot;int&quot;&gt;100&lt;/end&gt;<br/>          &lt;dex type=&quot;int&quot;&gt;100&lt;/dex&gt;<br/>          &lt;agi type=&quot;int&quot;&gt;100&lt;/agi&gt;<br/>          &lt;spd type=&quot;int&quot;&gt;100&lt;/spd&gt;<br/>          &lt;hc type=&quot;int&quot;&gt;100&lt;/hc&gt;<br/>          &lt;pd type=&quot;int&quot;&gt;100&lt;/pd&gt;<br/>          &lt;pr type=&quot;int&quot;&gt;100&lt;/pr&gt;<br/>        &lt;/object&gt;<br/>        &lt;object name=&quot;orc1&quot;&gt;<br/>          &lt;inherit name=&quot;editor_object&quot; /&gt;<br/>          &lt;inherit name=&quot;npc&quot; /&gt;<br/>          &lt;hostile type=&quot;boolean&quot;&gt;true&lt;/hostile&gt;<br/>          &lt;dead type=&quot;boolean&quot;&gt;false&lt;/dead&gt;<br/>          &lt;alias&gt;orc&lt;/alias&gt;<br/>          &lt;cur_hp type=&quot;int&quot;&gt;999&lt;/cur_hp&gt;<br/>          &lt;max_hp type=&quot;int&quot;&gt;999&lt;/max_hp&gt;<br/>          &lt;str type=&quot;int&quot;&gt;25&lt;/str&gt;<br/>          &lt;end type=&quot;int&quot;&gt;25&lt;/end&gt;<br/>          &lt;dex type=&quot;int&quot;&gt;25&lt;/dex&gt;<br/>          &lt;agi type=&quot;int&quot;&gt;25&lt;/agi&gt;<br/>          &lt;spd type=&quot;int&quot;&gt;25&lt;/spd&gt;<br/>          &lt;hc type=&quot;int&quot;&gt;25&lt;/hc&gt;<br/>          &lt;pd type=&quot;int&quot;&gt;25&lt;/pd&gt;<br/>          &lt;pr type=&quot;int&quot;&gt;25&lt;/pr&gt;<br/>        &lt;/object&gt;<br/>      &lt;/object&gt;<br/>      &lt;turnscript name=&quot;game_turns&quot;&gt;<br/>        &lt;enabled /&gt;<br/>        &lt;script&gt;<br/>          sa<br/>          game&#46;turns = game&#46;turns + 1<br/>        &lt;/script&gt;<br/>      &lt;/turnscript&gt;<br/>      &lt;command name=&quot;fight&quot;&gt;<br/>        &lt;pattern&gt;fight #text#&lt;/pattern&gt;<br/>        &lt;script&gt;<br/>          battle_system (game&#46;pov,text)<br/>        &lt;/script&gt;<br/>      &lt;/command&gt;<br/>      &lt;type name=&quot;char&quot;&gt;<br/>        &lt;cur_hp type=&quot;int&quot;&gt;0&lt;/cur_hp&gt;<br/>        &lt;drop type=&quot;boolean&quot;&gt;false&lt;/drop&gt;<br/>        &lt;defending type=&quot;boolean&quot;&gt;false&lt;/defending&gt;<br/>        &lt;max_hp type=&quot;int&quot;&gt;0&lt;/max_hp&gt;<br/>        &lt;str type=&quot;int&quot;&gt;0&lt;/str&gt;<br/>        &lt;end type=&quot;int&quot;&gt;0&lt;/end&gt;<br/>        &lt;dex type=&quot;int&quot;&gt;0&lt;/dex&gt;<br/>        &lt;agi type=&quot;int&quot;&gt;0&lt;/agi&gt;<br/>        &lt;spd type=&quot;int&quot;&gt;0&lt;/spd&gt;<br/>        &lt;hp type=&quot;int&quot;&gt;0&lt;/hp&gt;<br/>        &lt;hc type=&quot;int&quot;&gt;0&lt;/hc&gt;<br/>        &lt;pd type=&quot;int&quot;&gt;0&lt;/pd&gt;<br/>        &lt;pr type=&quot;int&quot;&gt;0&lt;/pr&gt;<br/>      &lt;/type&gt;<br/>      &lt;type name=&quot;pc&quot;&gt;<br/>        &lt;inherit name=&quot;char&quot; /&gt;<br/>        &lt;statusattributes type=&quot;simplestringdictionary&quot;&gt;hp = ;str = ;end = ;dex = ;agi = ;spd = ;hc = ;pd = ;pr = &lt;/statusattributes&gt;<br/>      &lt;/type&gt;<br/>      &lt;type name=&quot;npc&quot;&gt;<br/>        &lt;inherit name=&quot;char&quot; /&gt;<br/>        &lt;dead type=&quot;boolean&quot;&gt;false&lt;/dead&gt;<br/>        &lt;hostile type=&quot;boolean&quot;&gt;false&lt;/hostile&gt;<br/>        &lt;displayverbs type=&quot;simplestringlist&quot;&gt;Look at; Talk; Fight&lt;/displayverbs&gt;<br/>      &lt;/type&gt;<br/>      &lt;function name=&quot;cc&quot;&gt;<br/>        msg (&quot;What is your name?&quot;)<br/>        get input {<br/>          game&#46;pov&#46;alias = result<br/>          msg (&quot; - &quot; + game&#46;pov&#46;alias)<br/>          show menu (&quot;What is your gender?&quot;, split (&quot;male;female&quot; , &quot;;&quot;), false) {<br/>            game&#46;pov&#46;gender = result<br/>            show menu (&quot;What is your race?&quot;, split (&quot;human;dwarf;elf&quot; , &quot;;&quot;), false) {<br/>              game&#46;pov&#46;race = result<br/>              show menu (&quot;What is your class?&quot;, split (&quot;warrior;cleric;mage;thief&quot; , &quot;;&quot;), false) {<br/>                game&#46;pov&#46;class = result<br/>                msg (game&#46;pov&#46;alias + &quot; is a &quot; + game&#46;pov&#46;gender + &quot; &quot; + game&#46;pov&#46;race + &quot; &quot; + game&#46;pov&#46;class + &quot;&#46;&quot;)<br/>                wait {<br/>                  ClearScreen<br/>\t\t\t\t  <br/>                }<br/>              }<br/>            }<br/>          }<br/>        }<br/>      &lt;/function&gt;<br/>      &lt;function name=&quot;sa&quot;&gt;<br/>        game&#46;pov&#46;hp = game&#46;pov&#46;cur_hp + &quot; / &quot; + game&#46;pov&#46;max_hp<br/>      &lt;/function&gt;<br/>      &lt;function name=&quot;battle_system&quot; parameters=&quot;self,text&quot;&gt;<br/>        enemy = GetObject (text)<br/>        if (enemy = null) {<br/>          foreach (obj,AllObjects()) {<br/>            if (obj&#46;alias=text) {<br/>              enemy = obj<br/>            }<br/>          }<br/>        }<br/>        if (enemy = null) {<br/>          msg (&quot;There is no &quot; + text + &quot; here&#46;&quot;)<br/>        }<br/>        else if (not Doesinherit (enemy,&quot;npc&quot;)) {<br/>          msg (&quot;You can not battle that!&quot;)<br/>        }<br/>        else if (not npc_reachable (enemy)) {<br/>          msg (&quot;There is no &quot; + enemy&#46;alias + &quot; in your vicinity&#46;&quot;)<br/>        }<br/>        else if (GetBoolean (enemy,&quot;dead&quot;) = true) {<br/>          msg (enemy&#46;alias + &quot; is already dead&#46;&quot;)<br/>        }<br/>        else if (GetBoolean (enemy,&quot;hostile&quot;) = false) {<br/>          msg (enemy&#46;alias + &quot; is not hostile&#46;&quot;)<br/>        }<br/>        else {<br/>\t\t\tbattle_sequence (self,enemy)<br/>    \t} <br/><br/>      &lt;/function&gt;<br/>      &lt;function name=&quot;battle_sequence&quot; parameters=&quot;self,enemy&quot;&gt;&lt;!&#91;CDATA&#91;<br/>\t\tif (enemy&#46;dead = false) {<br/>\t\t\tplayerfirst=false<br/>\t\t\tif (GetInt (self,&quot;spd&quot;) &gt; GetInt (enemy,&quot;spd&quot;)) {<br/>\t\t\t\tplayerfirst=true<br/>\t\t\t} else if (GetInt (self,&quot;spd&quot;) = GetInt (enemy,&quot;spd&quot;) and RandomChance (50)) {<br/>\t\t\t\tplayerfirst=true<br/>\t\t\t}   \t\t  <br/>\t\t\t<br/>\t\t\tif (playerfirst) {<br/>\t\t\t   msg (&quot;You get to go first for this round&quot;)<br/>\t\t\t   self_battle_turn (self,enemy) <br/>\t\t\t   on ready {<br/>\t\t\t\t if (not enemy&#46;dead){<br/>\t\t\t\t   enemy_battle_turn (self,enemy) <br/>\t\t\t\t }<br/>\t\t\t   }<br/>\t\t\t} else {<br/>\t\t\t   msg (enemy&#46;alias + &quot; gets to go first for this round&#46;&quot;)<br/>\t\t\t\tenemy_battle_turn (self,enemy) <br/>\t\t\t\tmsg (&quot;It is now your turn&#46;&quot;)<br/>\t\t\t\tself_battle_turn (self,enemy) <br/>\t\t\t}<br/>\t\t\ton ready {<br/>\t\t\t\tmsg (&quot;The round has ended&#46;&quot;)<br/>\t\t\t\tmsg(&quot;&quot;)  <br/>\t\t\t\tbattle_sequence (self,enemy)\t<br/>\t\t\t}\t<br/>        } \telse { <br/>\t\t\t\tmsg (&quot;The battle is over&#46;&quot;)<br/>        }<br/>      &#93;&#93;&gt;&lt;/function&gt;<br/>      &lt;function name=&quot;self_battle_turn&quot; parameters=&quot;self,enemy&quot;&gt;&lt;!&#91;CDATA&#91;<br/>\t\tmsg (self&#46;alias + &quot; has &quot; + self&#46;cur_hp + &quot; HP left&#46;&quot;)<br/>        msg (enemy&#46;alias + &quot; has &quot; + enemy&#46;cur_hp + &quot; HP left&#46;&quot;)<br/>        wait {<br/>          show menu (&quot;What is your battle choice?&quot;, split (&quot;Attack;Defend;Cast;Item;Run&quot;, &quot;;&quot;), false) {<br/>            switch (result) {<br/>              case (&quot;Attack&quot;) {<br/>                fourth_value = false<br/>                if (RandomChance (GetInt (enemy,&quot;agi&quot;) - GetInt (self,&quot;spd&quot;)) = true) {<br/>                  msg (enemy&#46;alias + &quot;evaded your attack!&quot;)<br/>                  fourth_value = true<br/>                }<br/>                else if (RandomChance (GetInt (enemy,&quot;Dex&quot;) - GetInt (self,&quot;agi&quot;)) = true) {<br/>                  msg (enemy&#46;alias + &quot;parried your attack!&quot;)<br/>                  fourth_value = true<br/>                }<br/>                else if (RandomChance (GetInt (enemy,&quot;agi&quot;) - GetInt (self,&quot;dex&quot;)) = true) {<br/>                  msg (enemy&#46;alias + &quot;blocked your attack!&quot;)<br/>                  fourth_value = true<br/>                }<br/>                else if (RandomChance (GetInt (self,&quot;dex&quot;) - GetInt (enemy,&quot;spd&quot;)) = false) {<br/>                  msg (&quot;Your attack missed &quot; + enemy&#46;alias +&quot;!&quot;)<br/>                  fourth_value = true<br/>                }<br/>                else if (RandomChance (GetInt (enemy,&quot;pr&quot;) - GetInt (self,&quot;hc&quot;)) = true) {<br/>                  msg (&quot;Your attack got resisted by &quot; + enemy&#46;alias +&quot;!&quot;)<br/>                  fourth_value = true<br/>                }<br/>                else if (fourth_value = false) {<br/>                  if (self&#46;defending = true and enemy&#46;defending = true) {<br/>                    enemy&#46;cur_hp = enemy&#46;cur_hp - (crit_hit (self) * 2 * GetInt (self,&quot;pd&quot;) / 2 + GetInt (self,&quot;pd&quot;) * (GetInt (self,&quot;str&quot;) - GetInt (enemy,&quot;end&quot;)) / 100)<br/>                    msg (enemy&#46;alias + &quot; has &quot; + enemy&#46;cur_hp + &quot; HP left&#46;&quot;)<br/>                    self&#46;defending = false<br/>                  }<br/>                  else if (self&#46;defending = true and enemy&#46;defending = false) {<br/>                    enemy&#46;cur_hp = enemy&#46;cur_hp - (crit_hit (self) * 2 * GetInt (self,&quot;pd&quot;) + GetInt (self,&quot;pd&quot;) * (GetInt (self,&quot;str&quot;) - GetInt (enemy,&quot;end&quot;)) / 100)<br/>                    msg (enemy&#46;alias + &quot; has &quot; + enemy&#46;cur_hp + &quot; HP left&#46;&quot;)<br/>                    self&#46;defending = false<br/>                  }<br/>                  else if (self&#46;defending = false and enemy&#46;defending = true) {<br/>                    enemy&#46;cur_hp = enemy&#46;cur_hp - (crit_hit (self) * GetInt (self,&quot;pd&quot;) / 2 + GetInt (self,&quot;pd&quot;) * (GetInt (self,&quot;str&quot;) - GetInt (enemy,&quot;end&quot;)) / 100)<br/>                    msg (enemy&#46;alias + &quot; has &quot; + enemy&#46;cur_hp + &quot; HP left&#46;&quot;)<br/>                  }<br/>                  else if (self&#46;defending = false and enemy&#46;defending = false) {<br/>                    enemy&#46;cur_hp = enemy&#46;cur_hp - (crit_hit (self) * GetInt (self,&quot;pd&quot;) + GetInt (self,&quot;pd&quot;) * (GetInt (self,&quot;str&quot;) - GetInt (enemy,&quot;end&quot;)) / 100)<br/>                    msg (enemy&#46;alias + &quot; has &quot; + enemy&#46;cur_hp + &quot; HP left&#46;&quot;)<br/>                  }<br/>                }<br/>              }<br/>              case (&quot;Defend&quot;) {<br/>                if (self&#46;defending = false) {<br/>                  self&#46;defending = true<br/>                }<br/>              }<br/>              case (&quot;Cast&quot;) {<br/>                self&#46;defending = false<br/>              }<br/>              case (&quot;Item&quot;) {<br/>                self&#46;defending = false<br/>              }<br/>              case (&quot;Run&quot;) {<br/>                self&#46;defending = false<br/>              }<br/>            }<br/>            if (GetInt (enemy,&quot;cur_hp&quot;) &gt; 0) {<br/>\t\t\t  if ( RandomChance (GetInt (self,&quot;spd&quot;) - GetInt (enemy,&quot;spd&quot;))= true) {<br/>                msg (&quot;You get an extra battle turn!&quot;)<br/>                self_battle_turn (self,enemy)<br/>              }<br/>              else {<br/>                msg (&quot;Your battle turn is over&#46;&quot;)<br/>              }<br/>            }<br/>            else if (GetInt (enemy,&quot;cur_hp&quot;) &lt;= 0) {<br/>              msg (enemy&#46;alias + &quot; is dead&#46;&quot;)<br/>              msg (&quot;You have won the battle!&quot;)<br/>              enemy&#46;defending = false<br/>              enemy&#46;dead = true<br/>            }<br/>          }<br/>        }<br/>      &#93;&#93;&gt;&lt;/function&gt;<br/>      &lt;function name=&quot;enemy_battle_turn&quot; parameters=&quot;self,enemy&quot;&gt;&lt;!&#91;CDATA&#91;<br/>        msg (self&#46;alias + &quot; has &quot; + self&#46;cur_hp + &quot; HP left&#46;&quot;)<br/>        msg (enemy&#46;alias + &quot; has &quot; + enemy&#46;cur_hp + &quot; HP left&#46;&quot;)<br/>        result = GetRandomInt (1,3)<br/>        switch (result) {<br/>          case (1) {<br/>            sixth_value = false<br/>            if (RandomChance (GetInt (self,&quot;agi&quot;) - GetInt (enemy,&quot;spd&quot;)) = true) {<br/>              msg (&quot;You have evaded the attack!&quot;)<br/>              sixth_value = true<br/>            }<br/>            else if (RandomChance (GetInt (self,&quot;dex&quot;) - GetInt (enemy,&quot;agi&quot;)) = true) {<br/>              msg (&quot;You have parried the attack!&quot;)<br/>              sixth_value = true<br/>            }<br/>            else if (RandomChance (GetInt (self,&quot;agi&quot;) - GetInt (enemy,&quot;dex&quot;)) = true) {<br/>              msg (&quot;You have blocked the attack!&quot;)<br/>              sixth_value = true<br/>            }<br/>            else if (RandomChance (GetInt (enemy,&quot;dex&quot;) - GetInt (self,&quot;spd&quot;)) = false) {<br/>              msg (enemy&#46;alias +&quot;'s attack missed!&quot;)<br/>              sixth_value = true<br/>            }<br/>            else if (RandomChance (GetInt (self,&quot;pr&quot;) - GetInt (enemy,&quot;hc&quot;)) = true) {<br/>              msg (&quot;You resisted the attack!&quot;)<br/>              sixth_value = true<br/>            }<br/>            else if (sixth_value = false) {<br/>              if (enemy&#46;defending = true and self&#46;defending = true) {<br/>                self&#46;cur_hp = self&#46;cur_hp - (crit_hit (enemy) * 2 * GetInt (enemy,&quot;pd&quot;) / 2 + GetInt (enemy,&quot;pd&quot;) * (GetInt (enemy,&quot;str&quot;) - GetInt (self,&quot;end&quot;)) / 100)<br/>                msg (self&#46;alias + &quot; has &quot; + self&#46;cur_hp + &quot; HP left&#46;&quot;)<br/>                enemy&#46;defending = false<br/>              }<br/>              else if (enemy&#46;defending = true and self&#46;defending = false) {<br/>                self&#46;cur_hp = self&#46;cur_hp - (crit_hit (enemy) * 2 * GetInt (enemy,&quot;pd&quot;) + GetInt (enemy,&quot;pd&quot;) * (GetInt (enemy,&quot;str&quot;) - GetInt (self,&quot;end&quot;)) / 100)<br/>                msg (self&#46;alias + &quot; has &quot; + self&#46;cur_hp + &quot; HP left&#46;&quot;)<br/>                enemy&#46;defending = false<br/>              }<br/>              else if (enemy&#46;defending = false and self&#46;defending = true) {<br/>                self&#46;cur_hp = self&#46;cur_hp - (crit_hit (enemy) * GetInt (enemy,&quot;pd&quot;) / 2 + GetInt (enemy,&quot;pd&quot;) * (GetInt (enemy,&quot;str&quot;) - GetInt (self,&quot;end&quot;)) / 100)<br/>                msg (self&#46;alias + &quot; has &quot; + self&#46;cur_hp + &quot; HP left&#46;&quot;)<br/>              }<br/>              else if (enemy&#46;defending = false and self&#46;defending = false) {<br/>                self&#46;cur_hp = self&#46;cur_hp - (crit_hit (enemy) * GetInt (enemy,&quot;pd&quot;) + GetInt (enemy,&quot;pd&quot;) * (GetInt (enemy,&quot;str&quot;) - GetInt (self,&quot;end&quot;)) / 100)<br/>                msg (self&#46;alias + &quot; has &quot; + self&#46;cur_hp + &quot; HP left&#46;&quot;)<br/>              }<br/>            }<br/>          }<br/>          case (2) {<br/>            if (enemy&#46;defending = false) {<br/>              msg (enemy&#46;alias + &quot; has choosen to defend itself&#46;&quot;)<br/>              enemy&#46;defending = true<br/>            }<br/>          }<br/>          case (3) {<br/>            enemy&#46;defending = false<br/>            msg (&quot;Cast&quot;)<br/>          }<br/>        }<br/>        if (GetInt (self,&quot;cur_hp&quot;) &gt; 0) {<br/>          if (RandomChance (GetInt (enemy,&quot;spd&quot;) - GetInt (self,&quot;spd&quot;)) = true) {<br/>            msg (enemy&#46;alias + &quot; gets an extra battle turn!&quot;)<br/>            wait {<br/>              enemy_battle_turn (self,enemy)<br/>            }<br/>          }<br/>          else {<br/>            msg (enemy&#46;alias + &quot; 's battle turn is over&#46;&quot;)<br/>          }<br/>        }<br/>        else if (GetInt (self,&quot;cur_hp&quot;) &lt;= 0) {<br/>          msg (self&#46;alias + &quot; has died&#46;&quot;)<br/>          msg (&quot;GAME OVER&quot;)<br/>          finish<br/>        }<br/>      &#93;&#93;&gt;&lt;/function&gt;<br/>      &lt;function name=&quot;npc_reachable&quot; parameters=&quot;object&quot; type=&quot;boolean&quot;&gt;<br/>        value = false<br/>        foreach (x,ScopeReachableNotHeld ()) {<br/>          if (x=object) {<br/>            value = true<br/>          }<br/>        }<br/>        return (value)<br/>      &lt;/function&gt;<br/>      &lt;function name=&quot;crit_hit&quot; parameters=&quot;object&quot; type=&quot;int&quot;&gt;<br/>        if (RandomChance (GetInt (object,&quot;luck&quot;)) = true) {<br/>          value = 2<br/>        }<br/>        else {<br/>          value = 1<br/>        }<br/>        return (value)<br/>      &lt;/function&gt;<br/>    &lt;/asl&gt;</code></pre><br/><br/>and here's just &quot;leveling&quot; (experience thresh-holds increase your level):<br/><br/>(no stat gains choosing &quot;screen&quot; set up yet though. I give stat points but you don't get to select them, I'm still working on how exactly to do~implement that, lol)<br/><br/>(hopefully this works for v5.4, if not, then let me know, and I'll work on trying to convert it for v5.4 again)<br/><br/><pre><code>&lt;asl version=&quot;540&quot;&gt;<br/>  &lt;include ref=&quot;English&#46;aslx&quot; /&gt;<br/>  &lt;include ref=&quot;Core&#46;aslx&quot; /&gt;<br/>  &lt;game name=&quot;Testing Game Stuff&quot;&gt;<br/>    &lt;gameid&gt;cd102f9d-370a-4bda-b6ea-ca42288f619c&lt;/gameid&gt;<br/>    &lt;version&gt;1&#46;0&lt;/version&gt;<br/>    &lt;start type=&quot;script&quot;&gt;<br/>      msg (&quot;What is your name?&quot;)<br/>      get input {<br/>        msg (&quot;-&quot; + result)<br/>        player&#46;alias = result<br/>        show menu (&quot;What is your gender?&quot;, split (&quot;male;female&quot; , &quot;;&quot;), false) {<br/>          player&#46;gender = result<br/>          show menu (&quot;What is your race?&quot;, split (&quot;human;elf;dwarf&quot; , &quot;;&quot;), false) {<br/>            player&#46;race = result<br/>            show menu (&quot;What is your class?&quot;, split (&quot;warrior;cleric;mage;thief&quot; , &quot;;&quot;), false) {<br/>              player&#46;class = result<br/>              msg (player&#46;alias + &quot; is a &quot; + &quot; &quot; + player&#46;gender + &quot; &quot; + player&#46;race + &quot; &quot; + player&#46;class + &quot;&#46;&quot;)<br/>            }<br/>          }<br/>        }<br/>      }<br/>    &lt;/start&gt;<br/>  &lt;/game&gt;<br/>  &lt;object name=&quot;room&quot;&gt;<br/>    &lt;inherit name=&quot;editor_room&quot; /&gt;<br/>    &lt;object name=&quot;player&quot;&gt;<br/>      &lt;inherit name=&quot;defaultplayer&quot; /&gt;<br/>      &lt;age type=&quot;int&quot;&gt;0&lt;/age&gt;<br/>      &lt;height type=&quot;int&quot;&gt;0&lt;/height&gt;<br/>      &lt;weight type=&quot;int&quot;&gt;0&lt;/weight&gt;<br/>      &lt;strength type=&quot;int&quot;&gt;0&lt;/strength&gt;<br/>      &lt;intelligence type=&quot;int&quot;&gt;0&lt;/intelligence&gt;<br/>      &lt;agility type=&quot;int&quot;&gt;0&lt;/agility&gt;<br/>      &lt;statusattributes type=&quot;stringdictionary&quot;&gt;age = ;height = ;weight = ;strength = ;intelligence = ;agility = ;level = ;experience = ;cash = ;turns = &lt;/statusattributes&gt;<br/>      &lt;level type=&quot;int&quot;&gt;0&lt;/level&gt;<br/>      &lt;experience type=&quot;int&quot;&gt;0&lt;/experience&gt;<br/>      &lt;cash type=&quot;int&quot;&gt;0&lt;/cash&gt;<br/>      &lt;turns type=&quot;int&quot;&gt;0&lt;/turns&gt;<br/>    &lt;/object&gt;<br/>    &lt;object name=&quot;potion100&quot;&gt;<br/>      &lt;inherit name=&quot;editor_object&quot; /&gt;<br/>      &lt;alias&gt;100 exp potion&lt;/alias&gt;<br/>      &lt;take /&gt;<br/>      &lt;displayverbs&gt;Look at; Take; drink&lt;/displayverbs&gt;<br/>      &lt;inventoryverbs&gt;Look at; Use; Drop; drink&lt;/inventoryverbs&gt;<br/>      &lt;drink type=&quot;script&quot;&gt;<br/>        msg (&quot;You drink the exp potion, receiving 100 experience&#46;&quot;)<br/>        player&#46;experience = player&#46;experience + 100<br/>      &lt;/drink&gt;<br/>    &lt;/object&gt;<br/>    &lt;object name=&quot;potion300&quot;&gt;<br/>      &lt;inherit name=&quot;editor_object&quot; /&gt;<br/>      &lt;alias&gt;300 exp potion&lt;/alias&gt;<br/>      &lt;take /&gt;<br/>      &lt;displayverbs&gt;Look at; Take; drink&lt;/displayverbs&gt;<br/>      &lt;inventoryverbs&gt;Look at; Use; Drop; drink&lt;/inventoryverbs&gt;<br/>      &lt;drink type=&quot;script&quot;&gt;<br/>        msg (&quot;You drink the exp potion, receiving 300 experience&#46;&quot;)<br/>        player&#46;experience = player&#46;experience + 300<br/>      &lt;/drink&gt;<br/>    &lt;/object&gt;<br/>  &lt;/object&gt;<br/>  &lt;turnscript name=&quot;turns lvlup script&quot;&gt;<br/>    &lt;enabled /&gt;<br/>    &lt;script&gt;<br/>      lvlup<br/>      player&#46;turns = player&#46;turns + 1<br/>    &lt;/script&gt;<br/>  &lt;/turnscript&gt;<br/>  &lt;function name=&quot;lvlup&quot;&gt;&lt;!&#91;CDATA&#91;<br/>    if (player&#46;experience &gt;= player&#46;level * 100 + 100) {<br/>      player&#46;experience = player&#46;experience - (player&#46;level * 100 + 100)<br/>      player&#46;level = player&#46;level + 1<br/>      switch (player&#46;gender) {<br/>        case (&quot;male&quot;) {<br/>          player&#46;strength = player&#46;strength + 1<br/>        }<br/>        case (&quot;female&quot;) {<br/>          player&#46;agility = player&#46;agility + 1<br/>        }<br/>      }<br/>      switch (player&#46;race) {<br/>        case (&quot;dwarf&quot;) {<br/>          player&#46;strength = player&#46;strength + 2<br/>        }<br/>        case (&quot;elf&quot;) {<br/>          player&#46;agility = player&#46;intelligence + 2<br/>        }<br/>        case (&quot;human&quot;) {<br/>          player&#46;strength = player&#46;strength + 1<br/>          player&#46;agility = player&#46;agility + 1<br/>        }<br/>      }<br/>      switch (player&#46;class) {<br/>        case (&quot;warrior&quot;) {<br/>          player&#46;strength = player&#46;strength + 2<br/>        }<br/>        case (&quot;cleric&quot;) {<br/>          player&#46;intelligence = player&#46;intelligence + 1<br/>          player&#46;agility = player&#46;agility + 1<br/>        }<br/>        case (&quot;mage&quot;) {<br/>          player&#46;intelligence = player&#46;intelligence + 2<br/>        }<br/>        case (&quot;thief&quot;) {<br/>          player&#46;strength = player&#46;strength + 1<br/>          player&#46;agility = player&#46;agility + 1<br/>        }<br/>      }<br/>      lvlup<br/>    }<br/>  &#93;&#93;&gt;&lt;/function&gt;<br/>&lt;/asl&gt;</code></pre>",
      "PostDate": "2013-07-17T01:38:32+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "25479",
      "UserId": 0,
      "Username": "jaynabonne",
      "UserAvatar": "6579_1344778256.jpg",
      "UserGravatar": "379859a7f1952a65399fc63997e68f0b",
      "EditableText": "I don't think the game design *needs* to be difficult - just defined. I'm sure the OP has played at least one RPG game and so has an idea of what is desired. It does need to be worked through a bit - we take a lot for granted when playing games as opposed to writing them - which is why actually sitting down and writing down some examples can help to show up. It needs to be done regardless...\n\n(I'm just trying to steer the OP away from big, general questions. The big questions are what a game author decides and works out. Once it's broken down to the smaller details, then we can help.)",
      "EditableFormat": "bbcode",
      "HTML": "I don't think the game design *needs* to be difficult - just defined. I'm sure the OP has played at least one RPG game and so has an idea of what is desired. It does need to be worked through a bit - we take a lot for granted when playing games as opposed to writing them - which is why actually sitting down and writing down some examples can help to show up. It needs to be done regardless...<br/><br/>(I'm just trying to steer the OP away from big, general questions. The big questions are what a game author decides and works out. Once it's broken down to the smaller details, then we can help.)",
      "PostDate": "2013-07-17T10:04:18+01:00",
      "LastEditDate": null
    }
  ]
}
