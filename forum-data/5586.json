{
  "Topic": {
    "TopicId": "5586",
    "ForumId": "10",
    "Title": "Turn Script Help",
    "LastUpdated": "2015-11-01T00:41:47+00:00",
    "ReplyCount": 5
  },
  "Posts": [
    {
      "PostId": "38451",
      "UserId": 0,
      "Username": "chrisw70",
      "UserAvatar": null,
      "UserGravatar": "9d003b3c68a9eed46bafc31599ac1c56",
      "EditableText": "Hello - I have been trying to understand how to implement a turn script and then end it, so it does not keep repeating in a loop. I keep reading the forums and there's something about adding an &quot;integer&quot; or &quot;counter&quot; to make the turn script stop, but I can't find a visual example of how that is done through the GUI?\n\nSimply, I'd just like each room to have a turn script which will print a message after a specified number of turns, and then stop. I only want it to rn when the player is in the room.\n\nHow can you make a tun script stop after it's started? Thanks in advance for any help.",
      "EditableFormat": "bbcode",
      "HTML": "Hello - I have been trying to understand how to implement a turn script and then end it, so it does not keep repeating in a loop. I keep reading the forums and there's something about adding an &quot;integer&quot; or &quot;counter&quot; to make the turn script stop, but I can't find a visual example of how that is done through the GUI?<br/><br/>Simply, I'd just like each room to have a turn script which will print a message after a specified number of turns, and then stop. I only want it to rn when the player is in the room.<br/><br/>How can you make a tun script stop after it's started? Thanks in advance for any help.",
      "PostDate": "2015-10-30T21:10:31+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "38453",
      "UserId": 0,
      "Username": "HegemonKhan",
      "UserAvatar": null,
      "UserGravatar": "a96cf34d8d97c57de38f54ee22b1759b",
      "EditableText": "this is a bit advanced and involves quite a few steps~things that you got to do... so please ask questions if you get stuck anywhere or need help with anything or don't understand something or etc etc etc\n\n---------------------------------------\n\nTurnscripts are like always running Functions (or Verbs, if you're not familiar with Functions yet)... well... when they are 'enabled' (a Boolean Attribute: true~false).\n\nSo, this is the answer to your question:\n\n1A. add the Turnscripts to your desired rooms (for example):\n\nclick on 'roomX' Room Object on the left side, so it is highlighted, then (one way) at the top of the screen in the menu bar, click on 'Add', and select 'Turnscript', this will create~add a Turnscript into your 'roomX' (when Turnscripts are in rooms, they are 'local' Turnscripts, meaning that their scripts only apply~run~activate when you're in that room, and when the Turnscript is 'enabled' too, of course)\n\nrepeat the above for additional rooms, 'roomX+1', roomX+2', etc, of yours.\n\n~~~~~~ OR ~~~~~~~\n\n1B. due to me being unclear from your post, if you want the same scripts to be run~activated in EVERY~ALL of your game's rooms... then you'll just want to make a single 'global' Turnscript (as you don't want to be adding a Turnscript to every room in your game! This would be VERY BAD!)\n\nto create~add a 'global' Turnscript, means that you do *NOT* add a Turnscript into a specific room, thus a way to ensure this is to do this:\n\nclick on the upper-left most 'Object' in your 'tree of stuff' on the left side of the screen, so it is highlighted, and then (one way) at the top of the screen, click on the 'Add', and then select 'Turnscript', which will create~add a global Turnscript to your game.\n\n2. Setting up the Turnscript(s):\n\nName: whatever you want to call it, must be unique (no two names of anything can be the same, within the same scope and of the same data type, anyways)\n\n[_] Enabled when the game begins: it explains itself, check this in, if you want the Turnscript to be immediately running~activating its scripts when the game begins. (if checked, this sets its 'enabled' Boolean Attribute to 'true'. In Code scripting: Turnscript_name.enabled = true. If not checked, then it sets its 'enabled' Boolean Attribute to 'false'. In code scripting: Turnscript_name.enabled = false)\n\nScript&#058; (add your scripts that the Turnscript runs constantly, when its 'enabled', and if local Turnscript, also when you're in its room)\n\n-----------\n\nTurnscripts (when 'enabled', and if local, also when in its room) run their scripts every internal turn (basically, this is whenever you click on something and~or hit enter when you've highlighted the command-text input box at the bottom of the screen, during game play)\n\n------------\n\nSince you want scripts to be based off of your turns, then you must create~add your own Attribute, as I'm not sure if you even can keep track of the internal turns directly (and if you can, no idea how to yet, lol).\n\nBy creating~adding your own Attribute, you can use (manipulate) it for what you want (increasing-counting it, and basing your messages off of its increasing-count-counting value).\n\nso, we got two choices:\n\nA. a local 'turn' Int (Integer) Attribute: add these attributes to each of your desired rooms\n~OR~\nB. a global 'turn' Int (Integer) Attribute: add this Attribute, either to your 'game' Game Object or your 'player' Player Object.\n\nA. (example) 'roomX' Room Object -&gt; 'Attributes' Tab -&gt; Attributes -&gt; Add -&gt; (see below)\n\n(Object Name: roomX)\nAttribute Name: turns // or whatever you want to call it\nAttribute Type: int // an integer (non-decimal) data type\nAttribute Value: 0 // usually you want to start at 0 and count upwards for most things, but you can certainly start at say 100 and count downwards too\n\nrepeat this for each of your desired rooms\n\nlet's say in 'roomX+1' your 'turn' Int Attribute has the value (is at) '5', and in 'roomX+2' your 'turn' Int Attribute has the value (is at) '50', this is pefectly okay, as this is what 'local' means, they're independant~separate from each other.\n\nB. (examples, see below)\n\n'game' Game Object -&gt; 'Attributes' Tab -&gt; Attributes -&gt; Add -&gt; (see below)\n\n(Object Name: game)\nAttribute Name: turns\nAttribute Type: int\nAttribute Value: 0\n\n~OR~\n\n'player' Player Object -&gt; 'Attributes' Tab -&gt; Attributes -&gt; Add -&gt; (see below)\n\n(Object Name: player)\nAttribute Name: turns\nAttribute Type: int\nAttribute Value: 0\n\n-------------------------\n\nnow, back within, your Turnscript(s):\n\nyour LAST (bottom-most) added script must be:\n\nadd new script -&gt; variables -&gt; 'set a variable or attribute' Script -&gt; (see below, we're going to do some code writing, hehe)\n\n(depending on how you decided to set up the above, choose the correct script below)\n\n// Object_name.Attribute_name = Value_or_Expression\n// Object_name: player\n// Attribute_name: turns\n// Expression (Attribute_VARIABLE Addition_Operation Value): player.turns + 1\n\nset variable player.turns = [EXPRESSION] player.turns + 1\n// you don't have to do '+ (addition)', nor '1 (value)', you could do, for example, ' * 5 (multiply by 5)', see below:\n// set variable player.turns = [EXPRESSION] player.turns * 5 \n// by the way, working directly in code, it's actual form is this (a bit of a difference than how the GUI~Editor coding does it):\n// player.turns = player.turns + 1\n\nOR\n\nset variable game.turns = [EXPRESSION] game.turns + 1\n\nOR (for your various rooms, replace the code with the proper names you've given your room~s):\n\nset variable roomX.turns = [EXPRESSION] roomX.turns + 1\n--\nset variable roomX+1.turns = [EXPRESSION] roomX+1.turns + 1\n---\netc etc etc\n\n---------------\n\nthis will cause your 'turns' to increase by 1, after every internal turn.\n\n-------------\n\nas for your desired ('msg' ~ 'Print a message' Script) message script&#058;\n\nwithin your Turnscripts, BEFORE (ABOVE) your 'Object_name.turns = Object_name.turns + 1' Script, add in these scripts (using 'game' as the example):\n\nadd new script -&gt; scripts -&gt; 'if' Script -&gt; (more GUI~Editor coding, hehe) -&gt; if [Expression] game.turns = 5\n// or you can do: if [expression] game.turns &gt; 5\n-&gt; then -&gt; add new script -&gt; output -&gt; 'print a message' Script -&gt; (write what you want here: if you do [message] option, then you just write a normal sentence, aka 'text', for your message, if you choose the [expression] option, then you can do VARIABLES with your text - you'll probably need help for this if you're new to quest and especially programming~coding)\n\nadd new script -&gt; variables -&gt; 'set a variable or attribute' Script -&gt; set variable game.turns = [expression] game.turns + 1\n\nrepeat and adjust the coding, for each of your rooms, if doing local turnscripts.\n\n-------------\n\nlastly... you want to display the 'turns' to the person playing the game...\n\nif you're doing a global Turnscript, using 'game' or 'player' Objects, then you can use their 'STATUS ATTRIBUTES' for the displayment during game play.\n(I can link you to a guide I made on them if interested or if can't find it on your own, it's in the 'libraries and code samples' forum board section, called ~ 'attributes' ~ I discuss attributes and status attribute in it)\n\nif you're using local turnscripts, then it's a bit different to display your rooms' 'turns'... the easiest would be using a message script in your rooms' turnscripts... other ways, would be more advanced~complex~hard to do...",
      "EditableFormat": "bbcode",
      "HTML": "this is a bit advanced and involves quite a few steps~things that you got to do... so please ask questions if you get stuck anywhere or need help with anything or don't understand something or etc etc etc<br/><br/>---------------------------------------<br/><br/>Turnscripts are like always running Functions (or Verbs, if you're not familiar with Functions yet)... well... when they are 'enabled' (a Boolean Attribute: true~false).<br/><br/>So, this is the answer to your question:<br/><br/>1A. add the Turnscripts to your desired rooms (for example):<br/><br/>click on 'roomX' Room Object on the left side, so it is highlighted, then (one way) at the top of the screen in the menu bar, click on 'Add', and select 'Turnscript', this will create~add a Turnscript into your 'roomX' (when Turnscripts are in rooms, they are 'local' Turnscripts, meaning that their scripts only apply~run~activate when you're in that room, and when the Turnscript is 'enabled' too, of course)<br/><br/>repeat the above for additional rooms, 'roomX+1', roomX+2', etc, of yours.<br/><br/>~~~~~~ OR ~~~~~~~<br/><br/>1B. due to me being unclear from your post, if you want the same scripts to be run~activated in EVERY~ALL of your game's rooms... then you'll just want to make a single 'global' Turnscript (as you don't want to be adding a Turnscript to every room in your game! This would be VERY BAD!)<br/><br/>to create~add a 'global' Turnscript, means that you do *NOT* add a Turnscript into a specific room, thus a way to ensure this is to do this:<br/><br/>click on the upper-left most 'Object' in your 'tree of stuff' on the left side of the screen, so it is highlighted, and then (one way) at the top of the screen, click on the 'Add', and then select 'Turnscript', which will create~add a global Turnscript to your game.<br/><br/>2. Setting up the Turnscript(s):<br/><br/>Name: whatever you want to call it, must be unique (no two names of anything can be the same, within the same scope and of the same data type, anyways)<br/><br/>[_] Enabled when the game begins: it explains itself, check this in, if you want the Turnscript to be immediately running~activating its scripts when the game begins. (if checked, this sets its 'enabled' Boolean Attribute to 'true'. In Code scripting: Turnscript_name.enabled = true. If not checked, then it sets its 'enabled' Boolean Attribute to 'false'. In code scripting: Turnscript_name.enabled = false)<br/><br/>Script&#058; (add your scripts that the Turnscript runs constantly, when its 'enabled', and if local Turnscript, also when you're in its room)<br/><br/>-----------<br/><br/>Turnscripts (when 'enabled', and if local, also when in its room) run their scripts every internal turn (basically, this is whenever you click on something and~or hit enter when you've highlighted the command-text input box at the bottom of the screen, during game play)<br/><br/>------------<br/><br/>Since you want scripts to be based off of your turns, then you must create~add your own Attribute, as I'm not sure if you even can keep track of the internal turns directly (and if you can, no idea how to yet, lol).<br/><br/>By creating~adding your own Attribute, you can use (manipulate) it for what you want (increasing-counting it, and basing your messages off of its increasing-count-counting value).<br/><br/>so, we got two choices:<br/><br/>A. a local 'turn' Int (Integer) Attribute: add these attributes to each of your desired rooms<br/>~OR~<br/>B. a global 'turn' Int (Integer) Attribute: add this Attribute, either to your 'game' Game Object or your 'player' Player Object.<br/><br/>A. (example) 'roomX' Room Object -&gt; 'Attributes' Tab -&gt; Attributes -&gt; Add -&gt; (see below)<br/><br/>(Object Name: roomX)<br/>Attribute Name: turns // or whatever you want to call it<br/>Attribute Type: int // an integer (non-decimal) data type<br/>Attribute Value: 0 // usually you want to start at 0 and count upwards for most things, but you can certainly start at say 100 and count downwards too<br/><br/>repeat this for each of your desired rooms<br/><br/>let's say in 'roomX+1' your 'turn' Int Attribute has the value (is at) '5', and in 'roomX+2' your 'turn' Int Attribute has the value (is at) '50', this is pefectly okay, as this is what 'local' means, they're independant~separate from each other.<br/><br/>B. (examples, see below)<br/><br/>'game' Game Object -&gt; 'Attributes' Tab -&gt; Attributes -&gt; Add -&gt; (see below)<br/><br/>(Object Name: game)<br/>Attribute Name: turns<br/>Attribute Type: int<br/>Attribute Value: 0<br/><br/>~OR~<br/><br/>'player' Player Object -&gt; 'Attributes' Tab -&gt; Attributes -&gt; Add -&gt; (see below)<br/><br/>(Object Name: player)<br/>Attribute Name: turns<br/>Attribute Type: int<br/>Attribute Value: 0<br/><br/>-------------------------<br/><br/>now, back within, your Turnscript(s):<br/><br/>your LAST (bottom-most) added script must be:<br/><br/>add new script -&gt; variables -&gt; 'set a variable or attribute' Script -&gt; (see below, we're going to do some code writing, hehe)<br/><br/>(depending on how you decided to set up the above, choose the correct script below)<br/><br/>// Object_name.Attribute_name = Value_or_Expression<br/>// Object_name: player<br/>// Attribute_name: turns<br/>// Expression (Attribute_VARIABLE Addition_Operation Value): player.turns + 1<br/><br/>set variable player.turns = [EXPRESSION] player.turns + 1<br/>// you don't have to do '+ (addition)', nor '1 (value)', you could do, for example, ' * 5 (multiply by 5)', see below:<br/>// set variable player.turns = [EXPRESSION] player.turns * 5 <br/>// by the way, working directly in code, it's actual form is this (a bit of a difference than how the GUI~Editor coding does it):<br/>// player.turns = player.turns + 1<br/><br/>OR<br/><br/>set variable game.turns = [EXPRESSION] game.turns + 1<br/><br/>OR (for your various rooms, replace the code with the proper names you've given your room~s):<br/><br/>set variable roomX.turns = [EXPRESSION] roomX.turns + 1<br/>--<br/>set variable roomX+1.turns = [EXPRESSION] roomX+1.turns + 1<br/>---<br/>etc etc etc<br/><br/>---------------<br/><br/>this will cause your 'turns' to increase by 1, after every internal turn.<br/><br/>-------------<br/><br/>as for your desired ('msg' ~ 'Print a message' Script) message script&#058;<br/><br/>within your Turnscripts, BEFORE (ABOVE) your 'Object_name.turns = Object_name.turns + 1' Script, add in these scripts (using 'game' as the example):<br/><br/>add new script -&gt; scripts -&gt; 'if' Script -&gt; (more GUI~Editor coding, hehe) -&gt; if [Expression] game.turns = 5<br/>// or you can do: if [expression] game.turns &gt; 5<br/>-&gt; then -&gt; add new script -&gt; output -&gt; 'print a message' Script -&gt; (write what you want here: if you do [message] option, then you just write a normal sentence, aka 'text', for your message, if you choose the [expression] option, then you can do VARIABLES with your text - you'll probably need help for this if you're new to quest and especially programming~coding)<br/><br/>add new script -&gt; variables -&gt; 'set a variable or attribute' Script -&gt; set variable game.turns = [expression] game.turns + 1<br/><br/>repeat and adjust the coding, for each of your rooms, if doing local turnscripts.<br/><br/>-------------<br/><br/>lastly... you want to display the 'turns' to the person playing the game...<br/><br/>if you're doing a global Turnscript, using 'game' or 'player' Objects, then you can use their 'STATUS ATTRIBUTES' for the displayment during game play.<br/>(I can link you to a guide I made on them if interested or if can't find it on your own, it's in the 'libraries and code samples' forum board section, called ~ 'attributes' ~ I discuss attributes and status attribute in it)<br/><br/>if you're using local turnscripts, then it's a bit different to display your rooms' 'turns'... the easiest would be using a message script in your rooms' turnscripts... other ways, would be more advanced~complex~hard to do...",
      "PostDate": "2015-10-31T01:10:30+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "38454",
      "UserId": 0,
      "Username": "HegemonKhan",
      "UserAvatar": null,
      "UserGravatar": "a96cf34d8d97c57de38f54ee22b1759b",
      "EditableText": "oops... I forgot to tell you how to 'enable~disable' your Turnscripts....\n\nyou can do so from where-ever and~or how~ever you want to within your game, you just have to select these scripts:\n\n(run as script) -&gt; add new script -&gt; Turn Scripts -&gt; 'enable turn script ~ disable turn script' Scripts -&gt; (type in the name of the desired turnscript in the 'enable~disable turn script' text box)\n\n------\n\nalso, you may want to return~reset your (various) 'turns' Attribute(s) back to '0' (such as after your message script), which can be done via this script&#058;\n\n(run as script) -&gt; add new script -&gt; variables -&gt; 'set a variable or attribute' Script -&gt; (see below, an example only, adjust code as needed, aka: just change 'game' to the proper Object's name)\n\nset variable game.turns = [Expression] 0\n\n-----\n\nalso, be aware that you can do this (example) type of design (sorry for the code, but it's quick for me ~ hopefully you can understand the design concept, of multiple responses~effects~events based upon increasing values of the 'turn' counting, of what I'm trying to convey with it):\n\n[code:3pjqjehd]&lt;turnscript name=&quot;global_turnscript&quot;&gt;\n  &lt;enabled /&gt;\n  &lt;script&gt;\n    if (game&#46;turns = 5) {\n      msg (&quot;5 game turns have passed&quot;)\n    } else if (game&#46;turns = 10) {\n      msg (&quot;10 game turns have passed&quot;)\n    } else if (game&#46;turns = 25) {\n      player&#46;strength = player&#46;strength + 5\n      msg (&quot;Due to reaching turn 25, you get a bonus of +5 strength&quot;)\n    } else if (game&#46;turns = 50) {\n      msg (&quot;50 game turns have passed&quot;)\n    } else if (game&#46;turns &gt;= 100) {\n      msg (&quot;You've played the game beyond its turn limit of 100, so, to keep playing, the game turns are being reset back to zero for you&#46;&quot;)\n      game&#46;turns = 0\n    }\n    game&#46;turns = game&#46;turns + 1\n  &lt;/script&gt;\n&lt;/turnscript&gt;[/code:3pjqjehd]\n\n----\n\nif you need help on this (more explanation), let me know",
      "EditableFormat": "bbcode",
      "HTML": "oops... I forgot to tell you how to 'enable~disable' your Turnscripts....<br/><br/>you can do so from where-ever and~or how~ever you want to within your game, you just have to select these scripts:<br/><br/>(run as script) -&gt; add new script -&gt; Turn Scripts -&gt; 'enable turn script ~ disable turn script' Scripts -&gt; (type in the name of the desired turnscript in the 'enable~disable turn script' text box)<br/><br/>------<br/><br/>also, you may want to return~reset your (various) 'turns' Attribute(s) back to '0' (such as after your message script), which can be done via this script&#058;<br/><br/>(run as script) -&gt; add new script -&gt; variables -&gt; 'set a variable or attribute' Script -&gt; (see below, an example only, adjust code as needed, aka: just change 'game' to the proper Object's name)<br/><br/>set variable game.turns = [Expression] 0<br/><br/>-----<br/><br/>also, be aware that you can do this (example) type of design (sorry for the code, but it's quick for me ~ hopefully you can understand the design concept, of multiple responses~effects~events based upon increasing values of the 'turn' counting, of what I'm trying to convey with it):<br/><br/><pre><code>&lt;turnscript name=&quot;global_turnscript&quot;&gt;<br/>  &lt;enabled /&gt;<br/>  &lt;script&gt;<br/>    if (game&#46;turns = 5) {<br/>      msg (&quot;5 game turns have passed&quot;)<br/>    } else if (game&#46;turns = 10) {<br/>      msg (&quot;10 game turns have passed&quot;)<br/>    } else if (game&#46;turns = 25) {<br/>      player&#46;strength = player&#46;strength + 5<br/>      msg (&quot;Due to reaching turn 25, you get a bonus of +5 strength&quot;)<br/>    } else if (game&#46;turns = 50) {<br/>      msg (&quot;50 game turns have passed&quot;)<br/>    } else if (game&#46;turns &gt;= 100) {<br/>      msg (&quot;You've played the game beyond its turn limit of 100, so, to keep playing, the game turns are being reset back to zero for you&#46;&quot;)<br/>      game&#46;turns = 0<br/>    }<br/>    game&#46;turns = game&#46;turns + 1<br/>  &lt;/script&gt;<br/>&lt;/turnscript&gt;</code></pre><br/><br/>----<br/><br/>if you need help on this (more explanation), let me know",
      "PostDate": "2015-10-31T01:13:37+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "38460",
      "UserId": 0,
      "Username": "chrisw70",
      "UserAvatar": null,
      "UserGravatar": "9d003b3c68a9eed46bafc31599ac1c56",
      "EditableText": "Thanks, I get how to implement the turn-script globally (outside of specific rooms) as per your example, but when I have tried to modify the code example you gave and apply it to a specific room, I cannot get it to work right. So, using my example game code here, how would you integrate your code example so when the player enters the room &quot;Castle&quot; a turn-script runs and prints msg's after a specific number of turns only while the player is in the room &quot;Castle,&quot; and then resets itself to 0 so it runs again from the start the next time the player enters the room?\n\nIf you could show me how to integrate the code here in this example it would be easier to understand how i works when I can run the example game and see in the code and GUI how everything was structured...\n\nThanks again!\n\n[code:8zuc3n0y]&lt;!--Saved by Quest 5&#46;6&#46;5621&#46;18142--&gt;\n&lt;asl version=&quot;550&quot;&gt;\n  &lt;include ref=&quot;English&#46;aslx&quot; /&gt;\n  &lt;include ref=&quot;Core&#46;aslx&quot; /&gt;\n  &lt;game name=&quot;turn script sample&quot;&gt;\n    &lt;gameid&gt;a9cea17b-af4a-4145-9f40-6002bffc2c7c&lt;/gameid&gt;\n    &lt;version&gt;1&#46;0&lt;/version&gt;\n    &lt;firstpublished&gt;2015&lt;/firstpublished&gt;\n  &lt;/game&gt;\n  &lt;object name=&quot;Road&quot;&gt;\n    &lt;inherit name=&quot;editor_room&quot; /&gt;\n    &lt;object name=&quot;player&quot;&gt;\n      &lt;inherit name=&quot;editor_object&quot; /&gt;\n      &lt;inherit name=&quot;editor_player&quot; /&gt;\n    &lt;/object&gt;\n    &lt;exit alias=&quot;south&quot; to=&quot;Forest&quot;&gt;\n      &lt;inherit name=&quot;southdirection&quot; /&gt;\n    &lt;/exit&gt;\n  &lt;/object&gt;\n  &lt;object name=&quot;Forest&quot;&gt;\n    &lt;inherit name=&quot;editor_room&quot; /&gt;\n    &lt;exit alias=&quot;north&quot; to=&quot;Road&quot;&gt;\n      &lt;inherit name=&quot;northdirection&quot; /&gt;\n    &lt;/exit&gt;\n    &lt;exit alias=&quot;south&quot; to=&quot;Lake Shore&quot;&gt;\n      &lt;inherit name=&quot;southdirection&quot; /&gt;\n    &lt;/exit&gt;\n  &lt;/object&gt;\n  &lt;object name=&quot;Lake Shore&quot;&gt;\n    &lt;inherit name=&quot;editor_room&quot; /&gt;\n    &lt;exit alias=&quot;north&quot; to=&quot;Forest&quot;&gt;\n      &lt;inherit name=&quot;northdirection&quot; /&gt;\n    &lt;/exit&gt;\n    &lt;exit alias=&quot;south&quot; to=&quot;Castle&quot;&gt;\n      &lt;inherit name=&quot;southdirection&quot; /&gt;\n    &lt;/exit&gt;\n  &lt;/object&gt;\n  &lt;object name=&quot;Castle&quot;&gt;\n    &lt;inherit name=&quot;editor_room&quot; /&gt;\n    &lt;exit alias=&quot;north&quot; to=&quot;Lake Shore&quot;&gt;\n      &lt;inherit name=&quot;northdirection&quot; /&gt;\n    &lt;/exit&gt;\n  &lt;/object&gt;\n&lt;/asl&gt;[/code:8zuc3n0y]",
      "EditableFormat": "bbcode",
      "HTML": "Thanks, I get how to implement the turn-script globally (outside of specific rooms) as per your example, but when I have tried to modify the code example you gave and apply it to a specific room, I cannot get it to work right. So, using my example game code here, how would you integrate your code example so when the player enters the room &quot;Castle&quot; a turn-script runs and prints msg's after a specific number of turns only while the player is in the room &quot;Castle,&quot; and then resets itself to 0 so it runs again from the start the next time the player enters the room?<br/><br/>If you could show me how to integrate the code here in this example it would be easier to understand how i works when I can run the example game and see in the code and GUI how everything was structured...<br/><br/>Thanks again!<br/><br/><pre><code>&lt;!--Saved by Quest 5&#46;6&#46;5621&#46;18142--&gt;<br/>&lt;asl version=&quot;550&quot;&gt;<br/>  &lt;include ref=&quot;English&#46;aslx&quot; /&gt;<br/>  &lt;include ref=&quot;Core&#46;aslx&quot; /&gt;<br/>  &lt;game name=&quot;turn script sample&quot;&gt;<br/>    &lt;gameid&gt;a9cea17b-af4a-4145-9f40-6002bffc2c7c&lt;/gameid&gt;<br/>    &lt;version&gt;1&#46;0&lt;/version&gt;<br/>    &lt;firstpublished&gt;2015&lt;/firstpublished&gt;<br/>  &lt;/game&gt;<br/>  &lt;object name=&quot;Road&quot;&gt;<br/>    &lt;inherit name=&quot;editor_room&quot; /&gt;<br/>    &lt;object name=&quot;player&quot;&gt;<br/>      &lt;inherit name=&quot;editor_object&quot; /&gt;<br/>      &lt;inherit name=&quot;editor_player&quot; /&gt;<br/>    &lt;/object&gt;<br/>    &lt;exit alias=&quot;south&quot; to=&quot;Forest&quot;&gt;<br/>      &lt;inherit name=&quot;southdirection&quot; /&gt;<br/>    &lt;/exit&gt;<br/>  &lt;/object&gt;<br/>  &lt;object name=&quot;Forest&quot;&gt;<br/>    &lt;inherit name=&quot;editor_room&quot; /&gt;<br/>    &lt;exit alias=&quot;north&quot; to=&quot;Road&quot;&gt;<br/>      &lt;inherit name=&quot;northdirection&quot; /&gt;<br/>    &lt;/exit&gt;<br/>    &lt;exit alias=&quot;south&quot; to=&quot;Lake Shore&quot;&gt;<br/>      &lt;inherit name=&quot;southdirection&quot; /&gt;<br/>    &lt;/exit&gt;<br/>  &lt;/object&gt;<br/>  &lt;object name=&quot;Lake Shore&quot;&gt;<br/>    &lt;inherit name=&quot;editor_room&quot; /&gt;<br/>    &lt;exit alias=&quot;north&quot; to=&quot;Forest&quot;&gt;<br/>      &lt;inherit name=&quot;northdirection&quot; /&gt;<br/>    &lt;/exit&gt;<br/>    &lt;exit alias=&quot;south&quot; to=&quot;Castle&quot;&gt;<br/>      &lt;inherit name=&quot;southdirection&quot; /&gt;<br/>    &lt;/exit&gt;<br/>  &lt;/object&gt;<br/>  &lt;object name=&quot;Castle&quot;&gt;<br/>    &lt;inherit name=&quot;editor_room&quot; /&gt;<br/>    &lt;exit alias=&quot;north&quot; to=&quot;Lake Shore&quot;&gt;<br/>      &lt;inherit name=&quot;northdirection&quot; /&gt;<br/>    &lt;/exit&gt;<br/>  &lt;/object&gt;<br/>&lt;/asl&gt;</code></pre>",
      "PostDate": "2015-10-31T16:23:06+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "38462",
      "UserId": 0,
      "Username": "HegemonKhan",
      "UserAvatar": null,
      "UserGravatar": "a96cf34d8d97c57de38f54ee22b1759b",
      "EditableText": "I've separated out the part (you 'Castle' Room Object 'creation' tag block) that I've edited, so you can clearly see what I've done:\n\n(quest doesn't care about empty lines ~ though it's not that pretty ~ once you see what I've done you should remove my empty lines and my, comment: //, lines)\n\n(I also just used the room's built-in 'onexit' Script, for returning~resetting your turns back to zero, as this is the easiest~simpliest way to do so: upon entering for first time, the 'Castle.turns' starts at 0, after each action~click and~or typing+enter you do as the person playing the game, the turns increase by 1, and upon leaving the 'Castle' room, the 'Castle.turns' are reset back to 0, so when you re-enter the room, they'll be starting at zero again)\n\n(in the GUI~Editor, you can access~find the 'onexit' Script via: 'Castle' Room Object -&gt; 'Scripts' Tab -&gt; 'onexit' Script)\n\n[code:3sru44s6]&lt;asl version=&quot;550&quot;&gt;\n  &lt;include ref=&quot;English&#46;aslx&quot; /&gt;\n  &lt;include ref=&quot;Core&#46;aslx&quot; /&gt;\n  &lt;game name=&quot;turn script sample&quot;&gt;\n    &lt;gameid&gt;a9cea17b-af4a-4145-9f40-6002bffc2c7c&lt;/gameid&gt;\n    &lt;version&gt;1&#46;0&lt;/version&gt;\n    &lt;firstpublished&gt;2015&lt;/firstpublished&gt;\n  &lt;/game&gt;\n  &lt;object name=&quot;Road&quot;&gt;\n    &lt;inherit name=&quot;editor_room&quot; /&gt;\n    &lt;object name=&quot;player&quot;&gt;\n      &lt;inherit name=&quot;editor_object&quot; /&gt;\n      &lt;inherit name=&quot;editor_player&quot; /&gt;\n    &lt;/object&gt;\n    &lt;exit alias=&quot;south&quot; to=&quot;Forest&quot;&gt;\n      &lt;inherit name=&quot;southdirection&quot; /&gt;\n    &lt;/exit&gt;\n  &lt;/object&gt;\n  &lt;object name=&quot;Forest&quot;&gt;\n    &lt;inherit name=&quot;editor_room&quot; /&gt;\n    &lt;exit alias=&quot;north&quot; to=&quot;Road&quot;&gt;\n      &lt;inherit name=&quot;northdirection&quot; /&gt;\n    &lt;/exit&gt;\n    &lt;exit alias=&quot;south&quot; to=&quot;Lake Shore&quot;&gt;\n      &lt;inherit name=&quot;southdirection&quot; /&gt;\n    &lt;/exit&gt;\n  &lt;/object&gt;\n  &lt;object name=&quot;Lake Shore&quot;&gt;\n    &lt;inherit name=&quot;editor_room&quot; /&gt;\n    &lt;exit alias=&quot;north&quot; to=&quot;Forest&quot;&gt;\n      &lt;inherit name=&quot;northdirection&quot; /&gt;\n    &lt;/exit&gt;\n    &lt;exit alias=&quot;south&quot; to=&quot;Castle&quot;&gt;\n      &lt;inherit name=&quot;southdirection&quot; /&gt;\n    &lt;/exit&gt;\n  &lt;/object&gt;\n\n\n\n  &lt;object name=&quot;Castle&quot;&gt;\n    &lt;inherit name=&quot;editor_room&quot; /&gt;\n    &lt;exit alias=&quot;north&quot; to=&quot;Lake Shore&quot;&gt;\n      &lt;inherit name=&quot;northdirection&quot; /&gt;\n    &lt;/exit&gt;\n\n    // your Castle's 'turns' Int Attribute&#58;\n    &lt;attr name=&quot;turns&quot; type=&quot;int&quot;&gt;0&lt;/attr&gt;\n\n    // upon leaving the room, your Castle's 'turns' are reset to 0&#58;\n    &lt;onexit type=&quot;script&quot;&gt;\n      Castle&#46;turns = 0\n    &lt;/onexit&gt;\n\n    // the local Turnscript (aka&#58; the Castle's Turnscript)&#58;\n    &lt;turnscript name=&quot;test_turnscript&quot;&gt;\n      // this is the shortened syntax for setting 'enabled' to 'true',\n      //      this makes the Turnscript active immediately upon\n      //      entering the 'Castle' Room Object&#58;\n      &lt;enabled /&gt;\n\n      &lt;script&gt;\n        // there's better ways to display your castle's turns,\n        //       but this is just a sample code for you&#58;\n        msg (&quot;Castle Turn&#58; &quot; + Castle&#46;turns)\n\n        // adjust~change the Values (5,10,etc) as you want&#58;\n        if (Castle&#46;turns = 5) {\n          msg (&quot;turn 5&quot;)\n        } else if (Castle&#46;turns = 10) {\n          msg (&quot;turn 10&quot;)\n        }\n        // etc more or less 'else ifs' as needed\n        // optional&#58; an 'else' if needed\n\n        // this increases your turns&#58;\n        Castle&#46;turns = Castle&#46;turns + 1\n      &lt;/script&gt;\n    &lt;/turnscript&gt;\n\n  &lt;/object&gt;\n\n\n\n&lt;/asl&gt;[/code:3sru44s6]\n\n-------------------------\n\nhere's the code, without any empty lines, nor any comment lines:\n\n[code:3sru44s6]&lt;asl version=&quot;550&quot;&gt;\n  &lt;include ref=&quot;English&#46;aslx&quot; /&gt;\n  &lt;include ref=&quot;Core&#46;aslx&quot; /&gt;\n  &lt;game name=&quot;turn script sample&quot;&gt;\n    &lt;gameid&gt;a9cea17b-af4a-4145-9f40-6002bffc2c7c&lt;/gameid&gt;\n    &lt;version&gt;1&#46;0&lt;/version&gt;\n    &lt;firstpublished&gt;2015&lt;/firstpublished&gt;\n  &lt;/game&gt;\n  &lt;object name=&quot;Road&quot;&gt;\n    &lt;inherit name=&quot;editor_room&quot; /&gt;\n    &lt;object name=&quot;player&quot;&gt;\n      &lt;inherit name=&quot;editor_object&quot; /&gt;\n      &lt;inherit name=&quot;editor_player&quot; /&gt;\n    &lt;/object&gt;\n    &lt;exit alias=&quot;south&quot; to=&quot;Forest&quot;&gt;\n      &lt;inherit name=&quot;southdirection&quot; /&gt;\n    &lt;/exit&gt;\n  &lt;/object&gt;\n  &lt;object name=&quot;Forest&quot;&gt;\n    &lt;inherit name=&quot;editor_room&quot; /&gt;\n    &lt;exit alias=&quot;north&quot; to=&quot;Road&quot;&gt;\n      &lt;inherit name=&quot;northdirection&quot; /&gt;\n    &lt;/exit&gt;\n    &lt;exit alias=&quot;south&quot; to=&quot;Lake Shore&quot;&gt;\n      &lt;inherit name=&quot;southdirection&quot; /&gt;\n    &lt;/exit&gt;\n  &lt;/object&gt;\n  &lt;object name=&quot;Lake Shore&quot;&gt;\n    &lt;inherit name=&quot;editor_room&quot; /&gt;\n    &lt;exit alias=&quot;north&quot; to=&quot;Forest&quot;&gt;\n      &lt;inherit name=&quot;northdirection&quot; /&gt;\n    &lt;/exit&gt;\n    &lt;exit alias=&quot;south&quot; to=&quot;Castle&quot;&gt;\n      &lt;inherit name=&quot;southdirection&quot; /&gt;\n    &lt;/exit&gt;\n  &lt;/object&gt;\n  &lt;object name=&quot;Castle&quot;&gt;\n    &lt;inherit name=&quot;editor_room&quot; /&gt;\n    &lt;exit alias=&quot;north&quot; to=&quot;Lake Shore&quot;&gt;\n      &lt;inherit name=&quot;northdirection&quot; /&gt;\n    &lt;/exit&gt;\n    &lt;attr name=&quot;turns&quot; type=&quot;int&quot;&gt;0&lt;/attr&gt;\n    &lt;onexit type=&quot;script&quot;&gt;\n      Castle&#46;turns = 0\n    &lt;/onexit&gt;\n    &lt;turnscript name=&quot;test_turnscript&quot;&gt;\n      &lt;enabled /&gt;\n      &lt;script&gt;\n        msg (&quot;Castle Turn&#58; &quot; + Castle&#46;turns)\n        if (Castle&#46;turns = 5) {\n          msg (&quot;turn 5&quot;)\n        } else if (Castle&#46;turns = 10) {\n          msg (&quot;turn 10&quot;)\n        }\n        Castle&#46;turns = Castle&#46;turns + 1\n      &lt;/script&gt;\n    &lt;/turnscript&gt;\n  &lt;/object&gt;\n&lt;/asl&gt;[/code:3sru44s6]\n\n------------------------\n\nif it doesn't work, let me know, and I'll fix it up, so it does.\n(it'a easy to make mistakes~typos~etc, and I may not have some syntax correct, easy things to fix up)",
      "EditableFormat": "bbcode",
      "HTML": "I've separated out the part (you 'Castle' Room Object 'creation' tag block) that I've edited, so you can clearly see what I've done:<br/><br/>(quest doesn't care about empty lines ~ though it's not that pretty ~ once you see what I've done you should remove my empty lines and my, comment: //, lines)<br/><br/>(I also just used the room's built-in 'onexit' Script, for returning~resetting your turns back to zero, as this is the easiest~simpliest way to do so: upon entering for first time, the 'Castle.turns' starts at 0, after each action~click and~or typing+enter you do as the person playing the game, the turns increase by 1, and upon leaving the 'Castle' room, the 'Castle.turns' are reset back to 0, so when you re-enter the room, they'll be starting at zero again)<br/><br/>(in the GUI~Editor, you can access~find the 'onexit' Script via: 'Castle' Room Object -&gt; 'Scripts' Tab -&gt; 'onexit' Script)<br/><br/><pre><code>&lt;asl version=&quot;550&quot;&gt;<br/>  &lt;include ref=&quot;English&#46;aslx&quot; /&gt;<br/>  &lt;include ref=&quot;Core&#46;aslx&quot; /&gt;<br/>  &lt;game name=&quot;turn script sample&quot;&gt;<br/>    &lt;gameid&gt;a9cea17b-af4a-4145-9f40-6002bffc2c7c&lt;/gameid&gt;<br/>    &lt;version&gt;1&#46;0&lt;/version&gt;<br/>    &lt;firstpublished&gt;2015&lt;/firstpublished&gt;<br/>  &lt;/game&gt;<br/>  &lt;object name=&quot;Road&quot;&gt;<br/>    &lt;inherit name=&quot;editor_room&quot; /&gt;<br/>    &lt;object name=&quot;player&quot;&gt;<br/>      &lt;inherit name=&quot;editor_object&quot; /&gt;<br/>      &lt;inherit name=&quot;editor_player&quot; /&gt;<br/>    &lt;/object&gt;<br/>    &lt;exit alias=&quot;south&quot; to=&quot;Forest&quot;&gt;<br/>      &lt;inherit name=&quot;southdirection&quot; /&gt;<br/>    &lt;/exit&gt;<br/>  &lt;/object&gt;<br/>  &lt;object name=&quot;Forest&quot;&gt;<br/>    &lt;inherit name=&quot;editor_room&quot; /&gt;<br/>    &lt;exit alias=&quot;north&quot; to=&quot;Road&quot;&gt;<br/>      &lt;inherit name=&quot;northdirection&quot; /&gt;<br/>    &lt;/exit&gt;<br/>    &lt;exit alias=&quot;south&quot; to=&quot;Lake Shore&quot;&gt;<br/>      &lt;inherit name=&quot;southdirection&quot; /&gt;<br/>    &lt;/exit&gt;<br/>  &lt;/object&gt;<br/>  &lt;object name=&quot;Lake Shore&quot;&gt;<br/>    &lt;inherit name=&quot;editor_room&quot; /&gt;<br/>    &lt;exit alias=&quot;north&quot; to=&quot;Forest&quot;&gt;<br/>      &lt;inherit name=&quot;northdirection&quot; /&gt;<br/>    &lt;/exit&gt;<br/>    &lt;exit alias=&quot;south&quot; to=&quot;Castle&quot;&gt;<br/>      &lt;inherit name=&quot;southdirection&quot; /&gt;<br/>    &lt;/exit&gt;<br/>  &lt;/object&gt;<br/><br/><br/><br/>  &lt;object name=&quot;Castle&quot;&gt;<br/>    &lt;inherit name=&quot;editor_room&quot; /&gt;<br/>    &lt;exit alias=&quot;north&quot; to=&quot;Lake Shore&quot;&gt;<br/>      &lt;inherit name=&quot;northdirection&quot; /&gt;<br/>    &lt;/exit&gt;<br/><br/>    // your Castle's 'turns' Int Attribute&#58;<br/>    &lt;attr name=&quot;turns&quot; type=&quot;int&quot;&gt;0&lt;/attr&gt;<br/><br/>    // upon leaving the room, your Castle's 'turns' are reset to 0&#58;<br/>    &lt;onexit type=&quot;script&quot;&gt;<br/>      Castle&#46;turns = 0<br/>    &lt;/onexit&gt;<br/><br/>    // the local Turnscript (aka&#58; the Castle's Turnscript)&#58;<br/>    &lt;turnscript name=&quot;test_turnscript&quot;&gt;<br/>      // this is the shortened syntax for setting 'enabled' to 'true',<br/>      //      this makes the Turnscript active immediately upon<br/>      //      entering the 'Castle' Room Object&#58;<br/>      &lt;enabled /&gt;<br/><br/>      &lt;script&gt;<br/>        // there's better ways to display your castle's turns,<br/>        //       but this is just a sample code for you&#58;<br/>        msg (&quot;Castle Turn&#58; &quot; + Castle&#46;turns)<br/><br/>        // adjust~change the Values (5,10,etc) as you want&#58;<br/>        if (Castle&#46;turns = 5) {<br/>          msg (&quot;turn 5&quot;)<br/>        } else if (Castle&#46;turns = 10) {<br/>          msg (&quot;turn 10&quot;)<br/>        }<br/>        // etc more or less 'else ifs' as needed<br/>        // optional&#58; an 'else' if needed<br/><br/>        // this increases your turns&#58;<br/>        Castle&#46;turns = Castle&#46;turns + 1<br/>      &lt;/script&gt;<br/>    &lt;/turnscript&gt;<br/><br/>  &lt;/object&gt;<br/><br/><br/><br/>&lt;/asl&gt;</code></pre><br/><br/>-------------------------<br/><br/>here's the code, without any empty lines, nor any comment lines:<br/><br/><pre><code>&lt;asl version=&quot;550&quot;&gt;<br/>  &lt;include ref=&quot;English&#46;aslx&quot; /&gt;<br/>  &lt;include ref=&quot;Core&#46;aslx&quot; /&gt;<br/>  &lt;game name=&quot;turn script sample&quot;&gt;<br/>    &lt;gameid&gt;a9cea17b-af4a-4145-9f40-6002bffc2c7c&lt;/gameid&gt;<br/>    &lt;version&gt;1&#46;0&lt;/version&gt;<br/>    &lt;firstpublished&gt;2015&lt;/firstpublished&gt;<br/>  &lt;/game&gt;<br/>  &lt;object name=&quot;Road&quot;&gt;<br/>    &lt;inherit name=&quot;editor_room&quot; /&gt;<br/>    &lt;object name=&quot;player&quot;&gt;<br/>      &lt;inherit name=&quot;editor_object&quot; /&gt;<br/>      &lt;inherit name=&quot;editor_player&quot; /&gt;<br/>    &lt;/object&gt;<br/>    &lt;exit alias=&quot;south&quot; to=&quot;Forest&quot;&gt;<br/>      &lt;inherit name=&quot;southdirection&quot; /&gt;<br/>    &lt;/exit&gt;<br/>  &lt;/object&gt;<br/>  &lt;object name=&quot;Forest&quot;&gt;<br/>    &lt;inherit name=&quot;editor_room&quot; /&gt;<br/>    &lt;exit alias=&quot;north&quot; to=&quot;Road&quot;&gt;<br/>      &lt;inherit name=&quot;northdirection&quot; /&gt;<br/>    &lt;/exit&gt;<br/>    &lt;exit alias=&quot;south&quot; to=&quot;Lake Shore&quot;&gt;<br/>      &lt;inherit name=&quot;southdirection&quot; /&gt;<br/>    &lt;/exit&gt;<br/>  &lt;/object&gt;<br/>  &lt;object name=&quot;Lake Shore&quot;&gt;<br/>    &lt;inherit name=&quot;editor_room&quot; /&gt;<br/>    &lt;exit alias=&quot;north&quot; to=&quot;Forest&quot;&gt;<br/>      &lt;inherit name=&quot;northdirection&quot; /&gt;<br/>    &lt;/exit&gt;<br/>    &lt;exit alias=&quot;south&quot; to=&quot;Castle&quot;&gt;<br/>      &lt;inherit name=&quot;southdirection&quot; /&gt;<br/>    &lt;/exit&gt;<br/>  &lt;/object&gt;<br/>  &lt;object name=&quot;Castle&quot;&gt;<br/>    &lt;inherit name=&quot;editor_room&quot; /&gt;<br/>    &lt;exit alias=&quot;north&quot; to=&quot;Lake Shore&quot;&gt;<br/>      &lt;inherit name=&quot;northdirection&quot; /&gt;<br/>    &lt;/exit&gt;<br/>    &lt;attr name=&quot;turns&quot; type=&quot;int&quot;&gt;0&lt;/attr&gt;<br/>    &lt;onexit type=&quot;script&quot;&gt;<br/>      Castle&#46;turns = 0<br/>    &lt;/onexit&gt;<br/>    &lt;turnscript name=&quot;test_turnscript&quot;&gt;<br/>      &lt;enabled /&gt;<br/>      &lt;script&gt;<br/>        msg (&quot;Castle Turn&#58; &quot; + Castle&#46;turns)<br/>        if (Castle&#46;turns = 5) {<br/>          msg (&quot;turn 5&quot;)<br/>        } else if (Castle&#46;turns = 10) {<br/>          msg (&quot;turn 10&quot;)<br/>        }<br/>        Castle&#46;turns = Castle&#46;turns + 1<br/>      &lt;/script&gt;<br/>    &lt;/turnscript&gt;<br/>  &lt;/object&gt;<br/>&lt;/asl&gt;</code></pre><br/><br/>------------------------<br/><br/>if it doesn't work, let me know, and I'll fix it up, so it does.<br/>(it'a easy to make mistakes~typos~etc, and I may not have some syntax correct, easy things to fix up)",
      "PostDate": "2015-10-31T17:34:10+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "38469",
      "UserId": 0,
      "Username": "chrisw70",
      "UserAvatar": null,
      "UserGravatar": "9d003b3c68a9eed46bafc31599ac1c56",
      "EditableText": "Works great I tried it out under a variety of different scenarios and I believe I can adapt it now to fit a lot of different needs, thanks HK!",
      "EditableFormat": "bbcode",
      "HTML": "Works great I tried it out under a variety of different scenarios and I believe I can adapt it now to fit a lot of different needs, thanks HK!",
      "PostDate": "2015-11-01T00:41:47+00:00",
      "LastEditDate": null
    }
  ]
}
