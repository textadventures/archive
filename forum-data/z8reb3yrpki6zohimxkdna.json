{
  "Topic": {
    "TopicId": "z8reb3yrpki6zohimxkdna",
    "ForumId": "10",
    "Title": "Attribute value help",
    "LastUpdated": "2021-06-10T01:31:49.478725Z",
    "ReplyCount": 0
  },
  "Posts": [
    {
      "PostId": "97829539-4c8c-4f25-a707-67551f2d5149",
      "UserId": 301405,
      "Username": "CheshireTiger",
      "AvatarUrl": "https://i.imgur.com/dGwXAqub.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Basicly, an npc needs time to make something for player (object already made just invisible untill player makes 3 interactions of thier leisure.) So far i have the following italics\r\n\r\n*Vendor: \"Quality takes time, come back later.\"*\r\n*set object ITEM attribute progress value 1*\r\n\r\nEach time player interacts with an npc, the value is raised by 1 regardless of order.\r\n\r\nI want the vendor to give player the item only when the value is at least 5 \r\nAfter that, the atribute will be useless.\r\n\r\nHow whould i set that up?\r\n\r\n",
      "EditableFormat": "markdown",
      "HTML": "<p>Basicly, an npc needs time to make something for player (object already made just invisible untill player makes 3 interactions of thier leisure.) So far i have the following italics</p>\n<p><em>Vendor: \"Quality takes time, come back later.\"</em><br>\n<em>set object ITEM attribute progress value 1</em></p>\n<p>Each time player interacts with an npc, the value is raised by 1 regardless of order.</p>\n<p>I want the vendor to give player the item only when the value is at least 5<br>\nAfter that, the atribute will be useless.</p>\n<p>How whould i set that up?</p>\n\n",
      "PostDate": "2021-06-10T01:31:49.478725Z",
      "LastEditDate": "2021-06-10T01:34:47.1526079Z",
      "link": null
    },
    {
      "PostId": "5c1c8db3-28d0-4e99-b32d-bb715893f41e",
      "UserId": 267336,
      "Username": "jmnevil54",
      "AvatarUrl": "https://secure.gravatar.com/avatar/5d73d7ec1dbe20a5cb46f02a6d53f187?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Something like this?\r\n```\r\nnpc.value = 0\r\nplayer.money = 5\r\nif (npc.value >= 5) {\r\n  if (player.money >= 5) {\r\n    msg (\"You bought a sandwhich.\")\r\n    player.money = player.money - 5\r\n    AddToInventory (Sandwhich)\r\n    npc.value = npc.value + 1\r\n  }\r\n}\r\nelse {\r\n  msg (\"You don't have enough of a bond to buy a sandwhich.\")\r\n  npc.value = npc.value + 1\r\n}\r\n```",
      "EditableFormat": "markdown",
      "HTML": "<p>Something like this?</p>\n<pre><code>npc.value = 0\nplayer.money = 5\nif (npc.value &gt;= 5) {\n  if (player.money &gt;= 5) {\n    msg (\"You bought a sandwhich.\")\n    player.money = player.money - 5\n    AddToInventory (Sandwhich)\n    npc.value = npc.value + 1\n  }\n}\nelse {\n  msg (\"You don't have enough of a bond to buy a sandwhich.\")\n  npc.value = npc.value + 1\n}\n</code></pre>\n\n",
      "PostDate": "2021-06-10T12:53:24.5779773Z",
      "LastEditDate": "2021-06-10T13:03:48.8495449Z",
      "link": null
    },
    {
      "PostId": "ec88a71b-db97-4b65-9de6-2816163cee31",
      "UserId": 301405,
      "Username": "CheshireTiger",
      "AvatarUrl": "https://i.imgur.com/dGwXAqub.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "No money involved. Vender will just give it to player.\r\nAtribute value affected by n0c interactions.\r\n",
      "EditableFormat": "markdown",
      "HTML": "<p>No money involved. Vender will just give it to player.<br>\nAtribute value affected by n0c interactions.</p>\n\n",
      "PostDate": "2021-06-10T14:25:06.5290807Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "6cddc602-2ee2-46a7-8fb7-39a4c8f9f001",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "The script when you interact on the NPC would be something like:\r\n```\r\nif (GetBoolean (frob, \"visible\")) {\r\n  msg (CapFirst(this, \"has\") + \" already made a {object:frob} for you.\")\r\n}\r\nelse if (not HasInt (this, \"progress\")) {\r\n  msg (\"You ask \" + GetDisplayName(this) + \" to make you a frob, and \" + WriteVerb(this, \"start\") + \" work.\")\r\n  this.progress = 1\r\n}\r\nelse if (this.progress >= 5) {\r\n  msg (\"“Ah, I just finished!” \" + WriteVerb(this, \"say\") + \" with a smile, and hands you a {object:frob}.\")\r\n  frob.visible = true\r\n}\r\nelse {\r\n  msg (\"“I'm still working on it. Good work takes time.”\")\r\n  this.progress = this.progress + 1\r\n}\r\n```",
      "EditableFormat": "markdown",
      "HTML": "<p>The script when you interact on the NPC would be something like:</p>\n<pre><code>if (GetBoolean (frob, \"visible\")) {\n  msg (CapFirst(this, \"has\") + \" already made a {object:frob} for you.\")\n}\nelse if (not HasInt (this, \"progress\")) {\n  msg (\"You ask \" + GetDisplayName(this) + \" to make you a frob, and \" + WriteVerb(this, \"start\") + \" work.\")\n  this.progress = 1\n}\nelse if (this.progress &gt;= 5) {\n  msg (\"“Ah, I just finished!” \" + WriteVerb(this, \"say\") + \" with a smile, and hands you a {object:frob}.\")\n  frob.visible = true\n}\nelse {\n  msg (\"“I'm still working on it. Good work takes time.”\")\n  this.progress = this.progress + 1\n}\n</code></pre>\n\n",
      "PostDate": "2021-06-10T15:09:58.6315852Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "770277b6-b74f-4103-8b3b-b3feef402139",
      "UserId": 301405,
      "Username": "CheshireTiger",
      "AvatarUrl": "https://i.imgur.com/dGwXAqub.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Boolean? HasInt? ve never tried thosebefore, so i was hoping to use atribute, but i could try that...",
      "EditableFormat": "markdown",
      "HTML": "<p>Boolean? HasInt? ve never tried thosebefore, so i was hoping to use atribute, but i could try that...</p>\n\n",
      "PostDate": "2021-06-10T15:14:09.0037276Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "17224a4c-113e-4e6e-bc0d-82ec6f11ddc5",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "> Boolean? HasInt? ve never tried thosebefore, so i was hoping to use atribute, but i could try that...\r\n\r\nA boolean is an attribute that's set to `true` or `false`.\r\n\r\nI used `GetBoolean` to check if the object is already visible; you might not need to do that.\r\n\r\n`HasInt` checks if an attribute exists and contains a number. This is often a quick way to check if a process has started.\r\n\r\nI also used `WriteVerb` a few times, which isn't really necessary but makes the code look a little neater (it comes up with strings like \"he says\" or \"they say\" as appropriate, so you don't need to change the script if you use it for a different NPC. It's a good habit to get into)",
      "EditableFormat": "markdown",
      "HTML": "<blockquote>\n<p>Boolean? HasInt? ve never tried thosebefore, so i was hoping to use atribute, but i could try that...</p>\n</blockquote>\n<p>A boolean is an attribute that's set to <code>true</code> or <code>false</code>.</p>\n<p>I used <code>GetBoolean</code> to check if the object is already visible; you might not need to do that.</p>\n<p><code>HasInt</code> checks if an attribute exists and contains a number. This is often a quick way to check if a process has started.</p>\n<p>I also used <code>WriteVerb</code> a few times, which isn't really necessary but makes the code look a little neater (it comes up with strings like \"he says\" or \"they say\" as appropriate, so you don't need to change the script if you use it for a different NPC. It's a good habit to get into)</p>\n\n",
      "PostDate": "2021-06-10T15:33:49.6674593Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "e0b53fb9-7909-43b8-9a6b-9f1022b2b3d4",
      "UserId": 301405,
      "Username": "CheshireTiger",
      "AvatarUrl": "https://i.imgur.com/dGwXAqub.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "So HasInt... can i use that tk run a script it the value is </>a given number? \r\n\r\n",
      "EditableFormat": "markdown",
      "HTML": "<p>So HasInt... can i use that tk run a script it the value is &lt;/&gt;a given number?</p>\n\n",
      "PostDate": "2021-06-10T17:26:31.6339874Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "a99853d9-c61b-457b-a5fb-65ed33bbced4",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "> So HasInt... can i use that tk run a script it the value is </>a given number?\r\n\r\nNo, HasInt checks that an integer attribute *exists*.\r\n\r\nIt's a good idea to check if the attribute exists before you check its value. Good habit to get into, because it makes sure you won't get an error message for an attribute that hasn't been created yet.  You use HasInt to check if the attribute is there, and then use > or < to check what its value is.",
      "EditableFormat": "markdown",
      "HTML": "<blockquote>\n<p>So HasInt... can i use that tk run a script it the value is &lt;/&gt;a given number?</p>\n</blockquote>\n<p>No, HasInt checks that an integer attribute <em>exists</em>.</p>\n<p>It's a good idea to check if the attribute exists before you check its value. Good habit to get into, because it makes sure you won't get an error message for an attribute that hasn't been created yet.  You use HasInt to check if the attribute is there, and then use &gt; or &lt; to check what its value is.</p>\n\n",
      "PostDate": "2021-06-10T18:23:38.0740218Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "8789a391-147f-49cf-b1f4-1d4aeebe20ed",
      "UserId": 267336,
      "Username": "jmnevil54",
      "AvatarUrl": "https://secure.gravatar.com/avatar/5d73d7ec1dbe20a5cb46f02a6d53f187?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Alright, one last attempt.\r\nCreate a command, call it whatever you like.\r\nHere's the code:\r\n```\r\nif (Got(Sandwhich)) {\r\n  msg (\"You have the sandwhich already!\")\r\n}\r\nelse {\r\n  if (npc.value >= 5) {\r\n    msg (\"You bought a sandwhich.\")\r\n    npc.value = npc.value + 1\r\n    AddToInventory (Sandwhich)\r\n  }\r\n  else {\r\n    msg (\"You don't have enough credit to buy a sandwhich.\")\r\n    npc.value = npc.value + 1\r\n  }\r\n}\r\n```",
      "EditableFormat": "markdown",
      "HTML": "<p>Alright, one last attempt.<br>\nCreate a command, call it whatever you like.<br>\nHere's the code:</p>\n<pre><code>if (Got(Sandwhich)) {\n  msg (\"You have the sandwhich already!\")\n}\nelse {\n  if (npc.value &gt;= 5) {\n    msg (\"You bought a sandwhich.\")\n    npc.value = npc.value + 1\n    AddToInventory (Sandwhich)\n  }\n  else {\n    msg (\"You don't have enough credit to buy a sandwhich.\")\n    npc.value = npc.value + 1\n  }\n}\n</code></pre>\n\n",
      "PostDate": "2021-06-10T21:47:48.1653927Z",
      "LastEditDate": "2021-06-10T21:48:24.9532866Z",
      "link": null
    },
    {
      "PostId": "484435b8-aec1-43f2-8eb8-dcadfacaf511",
      "UserId": 301405,
      "Username": "CheshireTiger",
      "AvatarUrl": "https://i.imgur.com/dGwXAqub.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "    (Object.AtributeName >= 5)\r\nCauses internal error",
      "EditableFormat": "markdown",
      "HTML": "<pre><code>(Object.AtributeName &gt;= 5)\n</code></pre>\n<p>Causes internal error</p>\n\n",
      "PostDate": "2021-06-10T22:45:13.8672066Z",
      "LastEditDate": "2021-06-10T23:06:00.0522263Z",
      "link": null
    }
  ]
}
