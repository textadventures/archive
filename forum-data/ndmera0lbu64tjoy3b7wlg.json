{
  "Topic": {
    "TopicId": "ndmera0lbu64tjoy3b7wlg",
    "ForumId": "10",
    "Title": "Initializing attributes for the \"player\" object in Quest gamebook",
    "LastUpdated": "2018-07-18T00:57:34.8248383Z",
    "ReplyCount": 0
  },
  "Posts": [
    {
      "PostId": "f78a0dd5-6c61-44f5-88f7-7ab1040c87ee",
      "UserId": 368593,
      "Username": "Jetstream",
      "AvatarUrl": "https://secure.gravatar.com/avatar/df646e1f3cfa8fabfe433ea785091841?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Hi!\r\n\r\nI've recently started working with Quest gamebook, since it looks much easier to work with than the interactive text adventure thingie. I've searched the forums earlier and found out how I can actually set attributes by transforming a page to \"Script mode\" and then make a Set Variable script and all that. But here's my issue. I bind a counter \"quests_done\" to my player (player.quests_done) and initialize it to 0 on the first page of the book. Then at some point, I have a \"player.quests_done = player.quests_done + 1\", which is basically the first time the player completes a quest. When I reach that page, I check the \"Debugger\" and it's showing me that attribute \"quests_done\" of the object \"player\" is actually now 1. But then, when from the said page, I click the link to another page where I have a script to print in the number of quests done by the player, it prints 0 and the debugger shows that it's actually reset to 0 again. I feel like there's something wrong with where I've added my scripts but I can't quite figure out what exactly seems to be the issue. Can anyone help me? I can provide any additional information if needed.",
      "EditableFormat": "markdown",
      "HTML": "<p>Hi!</p>\n<p>I've recently started working with Quest gamebook, since it looks much easier to work with than the interactive text adventure thingie. I've searched the forums earlier and found out how I can actually set attributes by transforming a page to \"Script mode\" and then make a Set Variable script and all that. But here's my issue. I bind a counter \"quests_done\" to my player (player.quests_done) and initialize it to 0 on the first page of the book. Then at some point, I have a \"player.quests_done = player.quests_done + 1\", which is basically the first time the player completes a quest. When I reach that page, I check the \"Debugger\" and it's showing me that attribute \"quests_done\" of the object \"player\" is actually now 1. But then, when from the said page, I click the link to another page where I have a script to print in the number of quests done by the player, it prints 0 and the debugger shows that it's actually reset to 0 again. I feel like there's something wrong with where I've added my scripts but I can't quite figure out what exactly seems to be the issue. Can anyone help me? I can provide any additional information if needed.</p>\n\n",
      "PostDate": "2018-07-18T00:57:34.8248383Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "61b279d8-be4a-4fea-a8fe-66c91e488496",
      "UserId": 247325,
      "Username": "hegemonkhan",
      "AvatarUrl": "https://secure.gravatar.com/avatar/a96cf34d8d97c57de38f54ee22b1759b?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "(filler for getting my edited post, updated/posted)\r\n\r\n----------------------------\r\n\r\nbased on what you've said (assuming that your other scripting is correctly increasing your value), either:\r\n\r\n1. you're returning to the Page that sets it to '0' (either as its normal scripting: Page Type: [script] or [script + text], or as its 'on entering page' or whatever like that, scripting), and thus it's set back to '0'\r\n\r\n2. you got the script that sets it to '0' on some global scripting ('on entering page' for every/any page, turnscripts/timers if game book has these, etc)\r\n\r\n------------\r\n\r\nif your game isn't too big, if you don't mind posting your entire game code, we can quickly see the issue and fix it for you (and explain it to you too), just right click on your 'NAME_OF_GAME.aslx' game file, and choose to open it, and select a text editor software (notepad, wordpad, Apple: text editor, notepad++, etc), which will open up into your entire game code, highlight all of it, copy it, and then paste it here in the post's code box, like so:\r\n\r\n```\r\nm```\r\n(paste code here)\r\nm```\r\n```\r\n\r\nbut without the m's in front, which produces this:\r\n\r\n```\r\n(paste code here)\r\n```\r\n\r\n----------\r\n\r\nif you're working online... you got to download your own game, then unzip (using: winrar, winzip, etc) the published 'NAME_OF_GAME.quest' file, which unpackages it, allowing you to get to your 'NAME_OF_GAME.aslx' game file, and then do the above section's instructions\r\n\r\n-----------------\r\n\r\nP.S.\r\n\r\na really good way to debug, is to manually insert 'msg' (Print a message) Scripts, for an example (using a Text Adventure though):\r\n\r\n```\r\n<game name=\"NAME_OF_GAME\">\r\n\r\n  <attr name=\"example_integer_attribute\" type=\"int\">0</attr>\r\n\r\n  <attr name=\"start\" type=\"script\">\r\n\r\n    msg (\"Debug: 1, game.example_integer_attribute (\" + TypeOf (game.example_integer_attribute) + \"): \" + game.example_integer_attribute)\r\n\r\n    game.example_integer_attribute = 0\r\n\r\n    msg (\"Debug: 2, game.example_integer_attribute (\" + TypeOf (game.example_integer_attribute) + \"): \" + game.example_integer_attribute)\r\n\r\n  </attr>\r\n\r\n</game>\r\n\r\n<turnscript name=\"example_turnscript\">\r\n\r\n  <enabled />\r\n\r\n  <script>\r\n\r\n    msg (\"Debug: 3, game.example_integer_attribute (\" + TypeOf (game.example_integer_attribute) + \"): \" + game.example_integer_attribute)\r\n\r\n    game.example_integer_attribute = game.example_integer_attribute + 1\r\n\r\n    msg (\"Debug: 4, game.example_integer_attribute (\" + TypeOf (game.example_integer_attribute) + \"): \" + game.example_integer_attribute)\r\n\r\n    example_function\r\n\r\n  </script>\r\n\r\n</turnscript>\r\n\r\n<function name=\"example_function\">\r\n\r\n  msg (\"Debug: 5, game.example_integer_attribute (\" + TypeOf (game.example_integer_attribute) + \"): \" + game.example_integer_attribute)\r\n\r\n  game.example_integer_attribute = 0\r\n\r\n  msg (\"Debug: 6, game.example_integer_attribute (\" + TypeOf (game.example_integer_attribute) + \"): \" + game.example_integer_attribute)\r\n\r\n</function>\r\n```",
      "EditableFormat": "markdown",
      "HTML": "<p>(filler for getting my edited post, updated/posted)</p>\n<hr>\n<p>based on what you've said (assuming that your other scripting is correctly increasing your value), either:</p>\n<ol>\n<li>\n<p>you're returning to the Page that sets it to '0' (either as its normal scripting: Page Type: [script] or [script + text], or as its 'on entering page' or whatever like that, scripting), and thus it's set back to '0'</p>\n</li>\n<li>\n<p>you got the script that sets it to '0' on some global scripting ('on entering page' for every/any page, turnscripts/timers if game book has these, etc)</p>\n</li>\n</ol>\n<hr>\n<p>if your game isn't too big, if you don't mind posting your entire game code, we can quickly see the issue and fix it for you (and explain it to you too), just right click on your 'NAME_OF_GAME.aslx' game file, and choose to open it, and select a text editor software (notepad, wordpad, Apple: text editor, notepad++, etc), which will open up into your entire game code, highlight all of it, copy it, and then paste it here in the post's code box, like so:</p>\n<pre><code>m```\n(paste code here)\nm```\n</code></pre>\n<p>but without the m's in front, which produces this:</p>\n<pre><code>(paste code here)\n</code></pre>\n<hr>\n<p>if you're working online... you got to download your own game, then unzip (using: winrar, winzip, etc) the published 'NAME_OF_GAME.quest' file, which unpackages it, allowing you to get to your 'NAME_OF_GAME.aslx' game file, and then do the above section's instructions</p>\n<hr>\n<p>P.S.</p>\n<p>a really good way to debug, is to manually insert 'msg' (Print a message) Scripts, for an example (using a Text Adventure though):</p>\n<pre><code>&lt;game name=\"NAME_OF_GAME\"&gt;\n\n  &lt;attr name=\"example_integer_attribute\" type=\"int\"&gt;0&lt;/attr&gt;\n\n  &lt;attr name=\"start\" type=\"script\"&gt;\n\n    msg (\"Debug: 1, game.example_integer_attribute (\" + TypeOf (game.example_integer_attribute) + \"): \" + game.example_integer_attribute)\n\n    game.example_integer_attribute = 0\n\n    msg (\"Debug: 2, game.example_integer_attribute (\" + TypeOf (game.example_integer_attribute) + \"): \" + game.example_integer_attribute)\n\n  &lt;/attr&gt;\n\n&lt;/game&gt;\n\n&lt;turnscript name=\"example_turnscript\"&gt;\n\n  &lt;enabled /&gt;\n\n  &lt;script&gt;\n\n    msg (\"Debug: 3, game.example_integer_attribute (\" + TypeOf (game.example_integer_attribute) + \"): \" + game.example_integer_attribute)\n\n    game.example_integer_attribute = game.example_integer_attribute + 1\n\n    msg (\"Debug: 4, game.example_integer_attribute (\" + TypeOf (game.example_integer_attribute) + \"): \" + game.example_integer_attribute)\n\n    example_function\n\n  &lt;/script&gt;\n\n&lt;/turnscript&gt;\n\n&lt;function name=\"example_function\"&gt;\n\n  msg (\"Debug: 5, game.example_integer_attribute (\" + TypeOf (game.example_integer_attribute) + \"): \" + game.example_integer_attribute)\n\n  game.example_integer_attribute = 0\n\n  msg (\"Debug: 6, game.example_integer_attribute (\" + TypeOf (game.example_integer_attribute) + \"): \" + game.example_integer_attribute)\n\n&lt;/function&gt;\n</code></pre>\n\n",
      "PostDate": "2018-07-18T02:43:48.5389544Z",
      "LastEditDate": "2018-07-18T03:01:31.3948597Z",
      "link": null
    },
    {
      "PostId": "2634194d-7ddd-4296-ba9d-de2e4bcbf2b3",
      "UserId": 341771,
      "Username": "JenniferCampbell",
      "AvatarUrl": "https://secure.gravatar.com/avatar/8b9a63b5bbacc531368953df3a1709ec?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Did you initialize the variable under the 'game' object?  Any scripts located under the game object (on the game page) will run every time the player moves.  Put the script on the page where the player completes the quest, and you should be good.",
      "EditableFormat": "markdown",
      "HTML": "<p>Did you initialize the variable under the 'game' object?  Any scripts located under the game object (on the game page) will run every time the player moves.  Put the script on the page where the player completes the quest, and you should be good.</p>\n\n",
      "PostDate": "2018-07-31T17:08:51.8510625Z",
      "LastEditDate": null,
      "link": null
    }
  ]
}
