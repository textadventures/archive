{
  "Topic": {
    "TopicId": "gqdsoy3jc0illlm6bdss1g",
    "ForumId": "24",
    "Title": "Auto Restart",
    "LastUpdated": "2020-12-23T22:06:10.441108Z",
    "ReplyCount": 0
  },
  "Posts": [
    {
      "PostId": "3f314cb8-f2cb-4452-85c0-840b2b49632a",
      "UserId": 313553,
      "Username": "UnclearImage86",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "I'm editing my Squiffy project, and using 'build' to view the changes. Then closing the window, making more changes, and building the thing again.\r\n\r\nBut every time I have to click the Restart button, and it's annoying. Is there a way to force restart on every build? Or Force restart somewhere in the beginning of the Squiffy file?",
      "EditableFormat": "markdown",
      "HTML": "<p>I'm editing my Squiffy project, and using 'build' to view the changes. Then closing the window, making more changes, and building the thing again.</p>\n<p>But every time I have to click the Restart button, and it's annoying. Is there a way to force restart on every build? Or Force restart somewhere in the beginning of the Squiffy file?</p>\n\n",
      "PostDate": "2020-12-23T22:06:10.441108Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "168565f6-6be3-40ac-a7cd-0f0ddcbc8a24",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Off the top of my head, I think that something like this in your first section will force the game to restart instead of resuming each time you open it:\r\n```\r\n    squiffy.story.save = function () { squiffy.set('_output', squiffy.ui.output.html()); squiffy.set('_transition', 'squiffy.story.restart') };\r\n```\r\nDoes that do what you need?",
      "EditableFormat": "markdown",
      "HTML": "<p>Off the top of my head, I think that something like this in your first section will force the game to restart instead of resuming each time you open it:</p>\n<pre><code>    squiffy.story.save = function () { squiffy.set('_output', squiffy.ui.output.html()); squiffy.set('_transition', 'squiffy.story.restart') };\n</code></pre>\n<p>Does that do what you need?</p>\n\n",
      "PostDate": "2020-12-23T22:58:00.0046196Z",
      "LastEditDate": "2020-12-23T22:58:20.0212869Z",
      "link": null
    },
    {
      "PostId": "b2289b46-1147-4c47-8280-5c049bf3264e",
      "UserId": 251768,
      "Username": "Bluevoss",
      "AvatarUrl": "https://i.imgur.com/6mfIIbhb.gif",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Wow...",
      "EditableFormat": "markdown",
      "HTML": "<p>Wow...</p>\n\n",
      "PostDate": "2020-12-23T23:21:42.706338Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "36a955b0-841e-46bf-bc45-40487ea8d785",
      "UserId": 313553,
      "Username": "UnclearImage86",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "No the function doesn't seem to do anything at all for me.\r\n\r\nIf I manually hit 'restart' after adding the function, the entire screen turns white.",
      "EditableFormat": "markdown",
      "HTML": "<p>No the function doesn't seem to do anything at all for me.</p>\n<p>If I manually hit 'restart' after adding the function, the entire screen turns white.</p>\n\n",
      "PostDate": "2020-12-24T18:14:07.1649059Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "00605c84-7f8d-4e31-a133-dd7afff26428",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "I'll have to take a look at the code, see where the mistake is. I was half asleep when I wrote that, so it's probably something silly.",
      "EditableFormat": "markdown",
      "HTML": "<p>I'll have to take a look at the code, see where the mistake is. I was half asleep when I wrote that, so it's probably something silly.</p>\n\n",
      "PostDate": "2020-12-24T18:34:10.2177113Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "ad673484-9604-4581-bcb2-82e121b3eb90",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "OK, I've tried it and I'm confused. For me, it works exactly as intended. Can anyone with more experience maybe pin down the difference? It shouldn't depend on OS, because it's all javascript. (in case it does, I'm on Fedora)",
      "EditableFormat": "markdown",
      "HTML": "<p>OK, I've tried it and I'm confused. For me, it works exactly as intended. Can anyone with more experience maybe pin down the difference? It shouldn't depend on OS, because it's all javascript. (in case it does, I'm on Fedora)</p>\n\n",
      "PostDate": "2020-12-24T19:59:59.114741Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "21033bbf-245e-43d3-838a-052f96b33394",
      "UserId": 313553,
      "Username": "UnclearImage86",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "I replaced the squiffy.story.save function in the 'story.js' file, however it is overridden every time i use the 'build' in the editor. I then tried to create a 'story.template.js' file and overwrite the function in there however it didn't work/ unlike style.template.css Squiffy doesn't seem to pull from the js template.\r\n\r\nI also tried placing the Javascript function directly into my .sq file, at the beginning just to see if maybe that's how it would overwrite the function. But it didn't work there, which I figured it wouldn't. \r\n\r\nBuilding the Squiffy file, then editing the story.js file to include the changed function before running the file from the .html also did not work.\r\n\r\nEDIT: I also tried adding it at the very first (starting) passage surrounded with <  script  > and <  /script  > but that didn't work. All searches I do for script send me to Quest forum threads. Changing story.js to read only to preserve the changes only prevents the application from be able to 'build' my story.",
      "EditableFormat": "markdown",
      "HTML": "<p>I replaced the squiffy.story.save function in the 'story.js' file, however it is overridden every time i use the 'build' in the editor. I then tried to create a 'story.template.js' file and overwrite the function in there however it didn't work/ unlike style.template.css Squiffy doesn't seem to pull from the js template.</p>\n<p>I also tried placing the Javascript function directly into my .sq file, at the beginning just to see if maybe that's how it would overwrite the function. But it didn't work there, which I figured it wouldn't.</p>\n<p>Building the Squiffy file, then editing the story.js file to include the changed function before running the file from the .html also did not work.</p>\n<p>EDIT: I also tried adding it at the very first (starting) passage surrounded with &lt;  script  &gt; and &lt;  /script  &gt; but that didn't work. All searches I do for script send me to Quest forum threads. Changing story.js to read only to preserve the changes only prevents the application from be able to 'build' my story.</p>\n\n",
      "PostDate": "2020-12-24T20:56:49.7051328Z",
      "LastEditDate": "2020-12-24T21:26:18.4645814Z",
      "link": null
    },
    {
      "PostId": "b9448bfd-7acd-4370-ab29-e15e7182d65e",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Wow, that's a lot of complexity.\r\n\r\nI just added the script at the start of the first section.",
      "EditableFormat": "markdown",
      "HTML": "<p>Wow, that's a lot of complexity.</p>\n<p>I just added the script at the start of the first section.</p>\n\n",
      "PostDate": "2020-12-24T23:55:39.8939702Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "f6a75458-97d8-4f58-9917-0814d321c3db",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "> I also tried placing the Javascript function directly into my .sq file, at the beginning just to see if maybe that's how it would overwrite the function. But it didn't work there, which I figured it wouldn't.\r\n\r\nShould work.\r\n\r\nIf your first section has a name, then putting the script before it would create a new, unnamed section which the player can't get out of. This was my best guess for the white screen you described.\r\n\r\nThe script needs to go in the javascript portion of the first section. So before any text or squiffy functions, but after the game title, global settings, and section name.\r\n\r\nDon't forget the four spaces at the start of the line.",
      "EditableFormat": "markdown",
      "HTML": "<blockquote>\n<p>I also tried placing the Javascript function directly into my .sq file, at the beginning just to see if maybe that's how it would overwrite the function. But it didn't work there, which I figured it wouldn't.</p>\n</blockquote>\n<p>Should work.</p>\n<p>If your first section has a name, then putting the script before it would create a new, unnamed section which the player can't get out of. This was my best guess for the white screen you described.</p>\n<p>The script needs to go in the javascript portion of the first section. So before any text or squiffy functions, but after the game title, global settings, and section name.</p>\n<p>Don't forget the four spaces at the start of the line.</p>\n\n",
      "PostDate": "2020-12-25T00:02:08.7943855Z",
      "LastEditDate": null,
      "link": null
    }
  ]
}
