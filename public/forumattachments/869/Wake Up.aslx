<!--Saved by Quest 5.5.5173.27901-->
<asl version="550">
  <include ref="English.aslx" />
  <include ref="Core.aslx" />
  <game name="Wake Up">
    <gameid>f27ba3e8-fb98-4ca6-8975-518774053b81</gameid>
    <version>1.1</version>
    <firstpublished>2014</firstpublished>
    <description><![CDATA[You are trapped in a dream.  You must wake up.<br/><br/>Note:  You can die in this game, but you cannot get stuck.  If you think you are stuck, you either haven't tried all your options or you have encountered a previously un-encountered glitch.  Please comment if you think you are stuck.<br/><br/>This is my first game.  It's primarily puzzle based as an exercise in programming and puzzle-making to improve another IF game in progress.  Please be honest and constructive with feedback, so I can make improvements as needed and so that I can make my next game better.  Typos, grammar mistakes and script errors will be fixed ASAP.  Plot, puzzle and gameplay feedback will be taken into consideration.]]></description>
    <menufont>Georgia, serif</menufont>
    <enablehyperlinks type="boolean">false</enablehyperlinks>
    <attr name="autodescription_youcansee" type="int">3</attr>
    <attr name="autodescription_description" type="int">2</attr>
    <autodescription_description_newline />
    <attr name="autodescription_youcango" type="int">4</attr>
    <attr name="autodescription_youarein_useprefix" type="boolean">false</attr>
    <autodisplayverbs type="boolean">false</autodisplayverbs>
    <author>xavea</author>
    <category>Horror</category>
    <difficulty>Medium</difficulty>
    <cruelty>Polite</cruelty>
    <autodescription_youarein_newline />
    <autodescription_youcansee_newline />
    <autodescription_youcango_newline />
    <showscore />
    <menufontsize type="int">12</menufontsize>
    <showpanes type="boolean">false</showpanes>
    <defaultwebfont type="string"></defaultwebfont>
    <defaultfontsize type="int">14</defaultfontsize>
    <defaultbackground>White</defaultbackground>
    <povstatusattributes type="stringdictionary" />
    <underlinehyperlinks type="boolean">false</underlinehyperlinks>
    <feature_asktell />
    <setcustompadding />
    <custompaddingleft type="int">10</custompaddingleft>
    <custompaddingright type="int">10</custompaddingright>
  </game>
  <verb>
    <property>kick</property>
    <pattern>kick</pattern>
    <defaultexpression>"You can't kick " + object.article + "."</defaultexpression>
  </verb>
  <verb>
    <property>break</property>
    <pattern>break</pattern>
    <defaultexpression>"You can't break " + object.article + "."</defaultexpression>
  </verb>
  <verb>
    <property>smash</property>
    <pattern>smash</pattern>
    <defaultexpression>"You can't smash " + object.article + "."</defaultexpression>
  </verb>
  <verb>
    <property>shoot</property>
    <pattern>shoot</pattern>
    <defaultexpression>"You can't shoot " + object.article + "."</defaultexpression>
  </verb>
  <verb>
    <property>shake</property>
    <pattern>shake</pattern>
    <defaultexpression>"You can't shake " + object.article + "."</defaultexpression>
  </verb>
  <verb>
    <property>wakeup</property>
    <pattern>wake up</pattern>
    <defaultexpression>"You can't wake up " + object.article + "."</defaultexpression>
  </verb>
  <command name="wake up">
    <pattern>wake up</pattern>
    <unresolved>wake up</unresolved>
    <script>
      msg ("You know you must be dreaming.  You try to wake up, but it has as much effect as trying to wake up as you are going about normal life.  There must be another way out of this place.")
    </script>
  </command>
  <command name="wake">
    <pattern>wake</pattern>
    <unresolved>wake</unresolved>
    <script>
      msg ("You know you must be dreaming.  You try to wake up, but it has as much effect as trying to wake up as you are going about normal life.  There must be another way out of this place.")
    </script>
  </command>
  <verb>
    <property>pinch</property>
    <pattern>pinch</pattern>
    <defaultexpression>"You can't pinch " + object.article + "."</defaultexpression>
  </verb>
  <command name="pinch">
    <pattern>pinch</pattern>
    <unresolved>pinch</unresolved>
    <script>
      msg ("You pinch yourself to see if it hurts.  It does.  This clearly isn't an ordinary dream.")
    </script>
  </command>
  <verb>
    <property>swim</property>
    <pattern>swim</pattern>
    <defaultexpression>"You can't swim " + object.article + "."</defaultexpression>
  </verb>
  <verb>
    <property>cross</property>
    <pattern>cross</pattern>
    <defaultexpression>"You can't cross " + object.article + "."</defaultexpression>
  </verb>
  <verb>
    <property>play</property>
    <pattern>play</pattern>
    <defaultexpression>"You can't play " + object.article + "."</defaultexpression>
  </verb>
  <command name="testport">
    <pattern>testport</pattern>
    <unresolved>testport</unresolved>
    <script>
      msg ("(You found a play-test secret command.)  You blink and find yourself in another location.")
      MoveObject (player, Animal Den)
    </script>
  </command>
  <object name="Part 1">
    <inherit name="editor_room" />
    <object name="Campsite">
      <inherit name="editor_room" />
      <description>A campsite that appears to have been used frequently enough to have been someone's home at one point, it is now slightly overgrown.</description>
      <exit alias="west" to="The Middle of a Meadow">
        <inherit name="westdirection" />
      </exit>
      <object name="fire">
        <inherit name="editor_object" />
        <inherit name="surface" />
        <contentsprefix>In the pile of ash there is</contentsprefix>
        <hidechildren />
        <listchildren />
        <listchildrenprefix>In the pile of ash you see</listchildrenprefix>
        <look>An old ring of stones mark the place where someone once had a campfire.</look>
        <takemsg>You try to take the old fire, but find yourself rearranging the stones to spell the words "WAKE UP".  The ash blows out of your hands quicker than you can take a handful.</takemsg>
        <alias>fire-pit</alias>
        <object name="a piece of charcoal">
          <inherit name="editor_object" />
          <look>A piece of charcoal, big enough to fit in the palm of your hand.  It leaves smudges on your hands when you touch it.</look>
          <open type="boolean">false</open>
          <close type="boolean">false</close>
          <hidechildren />
          <listchildren />
          <contentsprefix type="string"></contentsprefix>
          <take />
          <alias>piece of black charcoal</alias>
          <alt type="stringlist">
            <value>black</value>
          </alt>
        </object>
        <object name="ash">
          <inherit name="editor_object" />
          <scenery />
          <look>A pile of ash from fires long extinguished sits inside the circle of stones.  </look>
          <alt type="stringlist">
            <value>pile</value>
            <value>heap</value>
          </alt>
        </object>
        <object name="stones">
          <inherit name="editor_object" />
          <scenery />
          <look>Large stones are nestled tightly together in a circle to contain a fire.</look>
          <alt type="stringlist">
            <value>circle</value>
          </alt>
          <takemsg>They look too heavy to carry around with you.</takemsg>
        </object>
      </object>
      <object name="Teepee">
        <description>The floor inside of the teepee is covered in piles of furs, probably to be used as sleeping places.  You have to duck because of the low ceiling.</description>
        <alt type="stringlist">
          <value>tent</value>
          <value>wigwam</value>
        </alt>
        <look type="script">
          if (GetBoolean(Teepee, "coloured")) {
            msg ("A brightly coloured teepee.  The door-flap is open.")
          }
          else if (not GetBoolean(Teepee, "coloured")) {
            msg ("A sturdily constructed teepee.  You see traces of old colours and outlines of drawings on the outside.  The door is tightly closed.")
            if (GetBoolean(Teepee, "blue")) {
              msg ("You have gone over the faded colours with blue ink.")
            }
            if (GetBoolean(Teepee, "red")) {
              msg ("You have gone over the faded colours with red paint.")
            }
            if (GetBoolean(Teepee, "yellow")) {
              msg ("You have gone over the faded colours with yellow marker.")
            }
            if (GetBoolean(Teepee, "black")) {
              msg ("You have traced the faded outline with black charcoal.")
            }
          }
        </look>
        <useanything type="script">
          msg ("You don't want to destroy the teepee.")
        </useanything>
        <useon type="scriptdictionary">
          <item key="blue ink">
            msg ("You add the blue ink to the drawings on the teepee.")
            SetObjectFlagOn (Teepee, "blue")
            if (GetBoolean(Teepee, "black")) {
              if (GetBoolean(Teepee, "red")) {
                if (GetBoolean(Teepee, "yellow")) {
                  if (GetBoolean(Teepee, "blue")) {
                    SetObjectFlagOn (Teepee, "coloured")
                    msg ("The entrance to the teepee flashes a brilliant white light, temporarily blinding you.  When your eyes clear, you see the entrance is now open.")
                  }
                }
              }
            }
            RemoveObject (blue ink)
          </item>
          <item key="jar of red paint">
            msg ("You add the red paint to the drawings on the teepee.")
            SetObjectFlagOn (Teepee, "red")
            if (GetBoolean(Teepee, "black")) {
              if (GetBoolean(Teepee, "red")) {
                if (GetBoolean(Teepee, "yellow")) {
                  if (GetBoolean(Teepee, "blue")) {
                    SetObjectFlagOn (Teepee, "coloured")
                    msg ("The entrance to the teepee flashes a brilliant white light, temporarily blinding you.  When your eyes clear, you see the entrance is now open.")
                  }
                }
              }
            }
            RemoveObject (jar of red paint)
          </item>
          <item key="yellow marker">
            msg ("You add yellow marker to the drawings on the teepee.")
            SetObjectFlagOn (Teepee, "yellow")
            if (GetBoolean(Teepee, "black")) {
              if (GetBoolean(Teepee, "red")) {
                if (GetBoolean(Teepee, "yellow")) {
                  if (GetBoolean(Teepee, "blue")) {
                    SetObjectFlagOn (Teepee, "coloured")
                    msg ("The entrance to the teepee flashes a brilliant white light, temporarily blinding you.  When your eyes clear, you see the entrance is now open.")
                  }
                }
              }
            }
            RemoveObject (yellow marker)
          </item>
          <item key="a piece of charcoal">
            msg ("You add black outlines to the drawings on the teepee.")
            SetObjectFlagOn (Teepee, "black")
            if (GetBoolean(Teepee, "black")) {
              if (GetBoolean(Teepee, "red")) {
                if (GetBoolean(Teepee, "yellow")) {
                  if (GetBoolean(Teepee, "blue")) {
                    SetObjectFlagOn (Teepee, "coloured")
                    msg ("The entrance to the teepee flashes a brilliant white light, temporarily blinding you.  When your eyes clear, you see the entrance is now open.")
                  }
                }
              }
            }
            RemoveObject (a piece of charcoal)
          </item>
        </useon>
        <draw type="scriptdictionary">
          <item key="blue ink">
            msg ("You add the blue ink to the drawings on the teepee.")
            SetObjectFlagOn (Teepee, "blue")
            if (GetBoolean(Teepee, "black")) {
              if (GetBoolean(Teepee, "red")) {
                if (GetBoolean(Teepee, "yellow")) {
                  if (GetBoolean(Teepee, "blue")) {
                    SetObjectFlagOn (Teepee, "coloured")
                    msg ("The entrance to the teepee flashes a brilliant white light, temporarily blinding you.  When your eyes clear, you see the entrance is now open.")
                  }
                }
              }
            }
            RemoveObject (blue ink)
          </item>
          <item key="jar of red paint">
            msg ("You add the red paint to the drawings on the teepee.")
            SetObjectFlagOn (Teepee, "red")
            if (GetBoolean(Teepee, "black")) {
              if (GetBoolean(Teepee, "red")) {
                if (GetBoolean(Teepee, "yellow")) {
                  if (GetBoolean(Teepee, "blue")) {
                    SetObjectFlagOn (Teepee, "coloured")
                    msg ("The entrance to the teepee flashes a brilliant white light, temporarily blinding you.  When your eyes clear, you see the entrance is now open.")
                  }
                }
              }
            }
            RemoveObject (jar of red paint)
          </item>
          <item key="yellow marker">
            msg ("You add yellow marker to the drawings on the teepee.")
            SetObjectFlagOn (Teepee, "yellow")
            if (GetBoolean(Teepee, "black")) {
              if (GetBoolean(Teepee, "red")) {
                if (GetBoolean(Teepee, "yellow")) {
                  if (GetBoolean(Teepee, "blue")) {
                    SetObjectFlagOn (Teepee, "coloured")
                    msg ("The entrance to the teepee flashes a brilliant white light, temporarily blinding you.  When your eyes clear, you see the entrance is now open.")
                  }
                }
              }
            }
            RemoveObject (yellow marker)
          </item>
          <item key="a piece of charcoal">
            msg ("You add black outlines to the drawings on the teepee.")
            SetObjectFlagOn (Teepee, "black")
            if (GetBoolean(Teepee, "black")) {
              if (GetBoolean(Teepee, "red")) {
                if (GetBoolean(Teepee, "yellow")) {
                  if (GetBoolean(Teepee, "blue")) {
                    SetObjectFlagOn (Teepee, "coloured")
                    msg ("The entrance to the teepee flashes a brilliant white light, temporarily blinding you.  When your eyes clear, you see the entrance is now filled with swirling, pastel-coloured mist.  A portal?")
                  }
                }
              }
            }
            RemoveObject (a piece of charcoal)
          </item>
        </draw>
        <colour type="scriptdictionary">
          <item key="blue ink">
            msg ("You add the blue ink to the drawings on the teepee.")
            SetObjectFlagOn (Teepee, "blue")
            if (GetBoolean(Teepee, "black")) {
              if (GetBoolean(Teepee, "red")) {
                if (GetBoolean(Teepee, "yellow")) {
                  if (GetBoolean(Teepee, "blue")) {
                    SetObjectFlagOn (Teepee, "coloured")
                    msg ("The entrance to the teepee flashes a brilliant white light, temporarily blinding you.  When your eyes clear, you see the entrance is now open.")
                  }
                }
              }
            }
            RemoveObject (blue ink)
          </item>
          <item key="jar of red paint">
            msg ("You add the red paint to the drawings on the teepee.")
            SetObjectFlagOn (Teepee, "red")
            if (GetBoolean(Teepee, "black")) {
              if (GetBoolean(Teepee, "red")) {
                if (GetBoolean(Teepee, "yellow")) {
                  if (GetBoolean(Teepee, "blue")) {
                    SetObjectFlagOn (Teepee, "coloured")
                    msg ("The entrance to the teepee flashes a brilliant white light, temporarily blinding you.  When your eyes clear, you see the entrance is now open.")
                  }
                }
              }
            }
            RemoveObject (jar of red paint)
          </item>
          <item key="yellow marker">
            msg ("You add yellow marker to the drawings on the teepee.")
            SetObjectFlagOn (Teepee, "yellow")
            if (GetBoolean(Teepee, "black")) {
              if (GetBoolean(Teepee, "red")) {
                if (GetBoolean(Teepee, "yellow")) {
                  if (GetBoolean(Teepee, "blue")) {
                    SetObjectFlagOn (Teepee, "coloured")
                    msg ("The entrance to the teepee flashes a brilliant white light, temporarily blinding you.  When your eyes clear, you see the entrance is now open.")
                  }
                }
              }
            }
            RemoveObject (yellow marker)
          </item>
          <item key="a piece of charcoal">
            msg ("You add black outlines to the drawings on the teepee.")
            SetObjectFlagOn (Teepee, "black")
            if (GetBoolean(Teepee, "black")) {
              if (GetBoolean(Teepee, "red")) {
                if (GetBoolean(Teepee, "yellow")) {
                  if (GetBoolean(Teepee, "blue")) {
                    SetObjectFlagOn (Teepee, "coloured")
                    msg ("The entrance to the teepee flashes a brilliant white light, temporarily blinding you.  When your eyes clear, you see the entrance is now filled with swirling, pastel-coloured mist.  A portal?")
                  }
                }
              }
            }
            RemoveObject (a piece of charcoal)
          </item>
        </colour>
        <exit alias="out" to="Campsite">
          <inherit name="westdirection" />
        </exit>
        <object name="furs">
          <inherit name="editor_object" />
          <inherit name="surface" />
          <inherit name="plural" />
          <hidechildren />
          <look>Furs are piled on the dirt floor of the teepee.  While they look like they were once soft, they are now beginning to decay and smell.</look>
          <listchildren />
          <listchildrenprefix>Resting on the furs you see</listchildrenprefix>
          <usedefaultprefix type="boolean">false</usedefaultprefix>
          <alias>some furs</alias>
          <object name="Amulet">
            <inherit name="editor_object" />
            <look>A small charm in the form of a protection symbol, it has a tiny loop at the top to string a chain.  It radiates a pale blue light.</look>
            <visible />
            <take />
            <drop type="boolean">false</drop>
            <takemsg>A feeling of warmth spreads through your body as you pick it up.</takemsg>
            <dropmsg>You really don't want to let go of that warm feeling.</dropmsg>
            <alias>amulet</alias>
            <giveto>You don't want to give away the only warmth you have found in this desolate place.</giveto>
            <lightsource />
            <lightstrength>strong</lightstrength>
          </object>
        </object>
      </object>
      <exit alias="in" to="Teepee">
        <inherit name="eastdirection" />
        <runscript />
        <script type="script">
          if (not GetBoolean(Teepee, "coloured")) {
            msg ("The door is tightly closed.")
          }
          else if (GetBoolean(Teepee, "coloured")) {
            MoveObject (player, Teepee)
          }
        </script>
      </exit>
      <object name="door">
        <inherit name="editor_object" />
        <inherit name="openable" />
        <scenery />
        <look>The door to the teepee is tightly closed.  The seams glow with a colour changing light that feels powerful.  There must be some sort of magic keeping it shut.</look>
        <alt type="stringlist">
          <value>flap</value>
        </alt>
        <takemsg>It is attached to the teepee.</takemsg>
        <open />
        <close />
        <openscript type="script">
          if (GetBoolean(Teepee, "coloured")) {
            msg ("It is already open.")
          }
          else if (not GetBoolean(Teepee, "coloured")) {
            msg ("The door is closed tightly with what you suspect is magic.  There must be something you need to do first.")
          }
        </openscript>
        <closescript type="script">
          if (GetBoolean(Teepee, "coloured")) {
            msg ("It seems to be held open by the same magic that previously held it shut.")
          }
          else if (not GetBoolean(Teepee, "coloured")) {
            msg ("It's already closed.")
          }
        </closescript>
      </object>
      <object name="drawings">
        <inherit name="editor_object" />
        <scenery />
        <look>The drawings are simply done in primary colours with heavy black outlines depicting various scenes of hunting and the daily lives of the people who must have lived inside.</look>
        <alt type="stringlist">
          <value>colours</value>
          <value>colors</value>
        </alt>
      </object>
    </object>
    <object name="House of Mirrors">
      <inherit name="editor_room" />
      <description>You find yourself in a maze of mirrors.  Your own image, warped by differences in sizes and angles of some of the mirrors stares back at you too many times to count.</description>
      <usedefaultprefix type="boolean">false</usedefaultprefix>
      <prefix>the</prefix>
      <exit alias="west" to="Carnival">
        <inherit name="westdirection" />
        <runscript />
        <script type="script">
          if (not Got(confetti)) {
            msg ("You follow the confetti you dropped behind you, retracing your steps to find your way out.")
            MoveObject (player, Carnival)
            SetObjectFlagOn (House of Mirrors, "retreat")
          }
          else {
            msg ("You get hopelessly lost and go in circles.  If only you could create a trail so that you would know where you had already been.")
          }
        </script>
      </exit>
      <object name="jar of red paint">
        <inherit name="editor_object" />
        <visible type="boolean">false</visible>
        <alt type="stringlist">
          <value>jar</value>
          <value>red</value>
          <value>paint</value>
        </alt>
        <take />
        <look>A small jar of craft paint in a bright red hue.</look>
      </object>
      <object name="mirrors">
        <inherit name="editor_object" />
        <inherit name="plural" />
        <look>The mirrors are warped to give your reflection various amounts of the grotesque.  As you pass one of the more normal-looking images, you see it mouth the words "WAKE UP" at you and feel an overwhelming desire to get out of this place.</look>
        <usedefaultprefix type="boolean">false</usedefaultprefix>
        <scenery />
      </object>
    </object>
    <object name="Midway">
      <inherit name="editor_room" />
      <description>More bright lights and loud sounds here, flashing and ringing to entice carnival-goers to play rigged games of chance masquerading as games of skill.</description>
      <exit alias="east" to="Carnival">
        <inherit name="eastdirection" />
      </exit>
      <object name="midway game">
        <inherit name="editor_object" />
        <inherit name="container_limited" />
        <alt type="stringlist">
          <value>game</value>
          <value>midway</value>
        </alt>
        <open type="boolean">false</open>
        <close type="boolean">false</close>
        <hidechildren type="boolean">false</hidechildren>
        <listchildren />
        <contentsprefix>at the back of which hangs</contentsprefix>
        <listchildrenprefix>At the back of the tent hangs a</listchildrenprefix>
        <look>A wooden booth with red tarps draped over the top and three sides to make it into a tent.  A sign is hung above the open front.</look>
        <object name="target">
          <inherit name="editor_object" />
          <shoot type="script"><![CDATA[
            if (Got(rigged gun)) {
              firsttime {
                msg ("You stand at the line indicated by the barker and shoot the rigged gun at the target.  The ball makes it halfway to the target before it falls to the ground.  You suspect there is a part missing that would propel the ball further.  It might be a good idea to fix it before trying again, or else the barker will win your soul.")
              }
              otherwise {
                msg ("Not convinced that the game is rigged, you step up to try again.  Once again, the ball drops halfway to the target.  The barker begins to laugh.  Involuntarily, you turn to face him.  In horror you watch the barker's face split open as he continues to laugh.  Black mist swirls out of the barker's open head.  You try to run, but you are rooted to the spot.  The mist envelops you and you feel cold.  A sharp pain shoots through you, but you don't feel it in your body.  You understand that it's the barker devouring your soul.<br/><br/>Looks like now you will never wake up.  <br/><br/>Game over.")
                finish
              }
            }
            else if (Got(fixed game gun)) {
              msg ("You step up to the line indicated by the barker and give it your best shot.  The ball hits the target.  Lights start flashing, bells and sirens start ringing, and the barker lets out an anguished wail, like he was denied a treat.  He grabs the gun from your hand and gives it a quick look to make sure it was the same gun he gave you.<br/><br/>\"Here's your prize!\" The barker snarls, shovinga shabby doll into your hands. \"Now get out of here, before I find out how you cheated!\"  <br/><br/>You beat a hasty retreat towards the main Carnival.")
              AddToInventory (shabby doll)
              MakeObjectVisible (shabby doll)
              MoveObject (player, Carnival)
              LockExit (to Midway)
            }
            else {
              msg ("With what?  Maybe you should speak to the Barker?")
            }
          ]]></shoot>
        </object>
        <object name="tarps">
          <inherit name="editor_object" />
          <scenery />
          <look>Brightly-coloured tarps draped over a stand to create an tent that is open in the front.</look>
        </object>
        <object name="sign">
          <inherit name="editor_object" />
          <look><![CDATA[The marquee on the tent reads: "Shoot the target! Win a prize!"<br/>Beneath which someone has scrawled the words "WAKE UP".]]></look>
          <scenery />
        </object>
      </object>
      <object name="barker">
        <inherit name="editor_object" />
        <inherit name="male" />
        <look>Dressed in a brightly coloured uniform, the barker yells out to passers-by, trying to get them interested in his game.</look>
        <alt type="stringlist">
          <value>man</value>
        </alt>
        <speak type="script"><![CDATA[
          if (not Got(rigged gun)) {
            if (not Got(fixed game gun)) {
              msg ("\"Wanna to play, kiddo?  Give it a try!  Just shoot the gun and hit the target to win a prize!  I like the look of you, kid, so I'll give you two free tries!  But if you don't win in two tries, I win your soul!\"<br/><br/>The barker hands you a rigged toy gun.")
              AddToInventory (rigged gun)
            }
            else {
              msg ("\"Just step right up to the line and use the gun on the target!\"")
            }
          }
          else {
            msg ("\"Just step right up to the line and use the gun on the target!\"")
          }
        ]]></speak>
        <askdefault type="script">
          msg ("The barker is really only interesting in bargaining for your soul and asks \"WAKE UP, kid!  Wanna play?\"")
        </askdefault>
        <telldefault type="script">
          msg ("\"WAKE UP, kiddo!  It's the lizard people who've done it!\"")
        </telldefault>
        <ask type="scriptdictionary">
          <item key="game"><![CDATA[
            if (not Got(rigged gun)) {
              if (not Got(fixed game gun)) {
                msg ("\"Wanna to play, kiddo?  Give it a try!  Just shoot the gun and hit the target to win a prize!  I like the look of you, kid, so I'll give you two free tries!  But if you don't win in two tries, I win your soul!\"<br/><br/>The barker hands you a rigged toy gun.")
                AddToInventory (rigged gun)
              }
              else {
                msg ("\"Just step right up to the line and use the gun on the target!\"")
              }
            }
            else {
              msg ("\"Just step right up to the line and use the gun on the target!\"")
            }
          ]]></item>
        </ask>
        <shoot type="scriptdictionary">
          <item key="rigged gun">
            msg ("You don't think the toy gun will kill him, but you are certain it will make him angry.")
          </item>
          <item key="fixed game gun">
            msg ("You don't think the toy gun will kill him, but you are certain it will make him angry.")
          </item>
        </shoot>
        <object name="rigged gun">
          <inherit name="editor_object" />
          <look>The gun given to you by the barker.  It appears to be missing a spring so that anything fired from the gun won't travel far.</look>
          <givesingle type="boolean">false</givesingle>
          <attr name="feature_usegive" type="boolean">false</attr>
          <take />
          <takemsg>Abused by this reality, you accept that to get out of here, something must be done with the gun.  You dejectedly pick it up from the ground.</takemsg>
          <dropmsg>Frustrated at the unfairness of the game, you throw the rigged gun to the ground.</dropmsg>
          <use type="script">
            msg ("It would probably not be a good idea to be shooting a gun all willy-nilly, even if it is a toy.")
          </use>
          <useanything type="script">
            msg ("That won't make it shoot better.")
          </useanything>
          <selfuseanything type="script">
            msg ("It would probably not be a good idea to be shooting a gun all willy-nilly, even if it is a toy.")
          </selfuseanything>
          <useon type="scriptdictionary">
            <item key="spring">
              AddToInventory (fixed game gun)
              MakeObjectVisible (fixed game gun)
              RemoveObject (rigged gun)
              msg ("You fit the spring into place behind the loading mechanism.  Now it should shoot properly.")
              RemoveObject (spring)
            </item>
          </useon>
          <shoot type="scriptdictionary">
            <item key="target"><![CDATA[
              firsttime {
                msg ("You stand at the line indicated by the barker and shoot the rigged gun at the target.  The ball makes it halfway to the target before it falls to the ground.  You suspect there is a part missing that would propel the ball further.  It might be a good idea to fix it before trying again, or else the barker will win your soul.")
              }
              otherwise {
                msg ("Not convinced that the game is rigged, you step up to try again.  Once again, the ball drops halfway to the target.  The barker begins to laugh.  Involuntarily, you turn to face him.  In horror you watch the barker's face split open as he continues to laugh.  Black mist swirls out of the barker's open head.  You try to run, but you are rooted to the spot.  The mist envelops you and you feel cold.  A sharp pain shoots through you, but you don't feel it in your body.  You understand that it's the barker devouring your soul.<br/><br/>Looks like now you will never wake up.  <br/><br/>Game over.")
                finish
              }
            ]]></item>
            <item key="barker">
              msg ("You don't think the toy gun will kill him, but you are certain it will make him angry.")
            </item>
            <item key="monster">
              msg ("You don't think the toy gun will kill him, but you are certain it will make him angry.")
            </item>
          </shoot>
          <selfuseon type="scriptdictionary">
            <item key="target"><![CDATA[
              firsttime {
                msg ("You stand at the line indicated by the barker and shoot the rigged gun at the target.  The ball makes it halfway to the target before it falls to the ground.  You suspect there is a part missing that would propel the ball further.  It might be a good idea to fix it before trying again, or else the barker will win your soul.")
              }
              otherwise {
                msg ("Not convinced that the game is rigged, you step up to try again.  Once again, the ball drops halfway to the target.  The barker begins to laugh.  Involuntarily, you turn to face him.  In horror you watch the barker's face split open as he continues to laugh.  Black mist swirls out of the barker's open head.  You try to run, but you are rooted to the spot.  The mist envelops you and you feel cold.  A sharp pain shoots through you, but you don't feel it in your body.  You understand that it's the barker devouring your soul.<br/><br/>Looks like now you will never wake up.  Game over.")
                finish
              }
            ]]></item>
          </selfuseon>
          <fix type="scriptdictionary">
            <item key="spring">
              msg ("You fit the spring into place behind the loading mechanism. Now it should shoot properly.")
            </item>
          </fix>
          <object name="fixed game gun">
            <inherit name="editor_object" />
            <look>The gun the barker gave you, which you fixed.  It looks like it should shoot pretty well now.</look>
            <visible type="boolean">false</visible>
            <useon>You already fixed it.</useon>
            <use type="script">
              msg ("It would probably not be a good idea to be shooting a gun all willy-nilly, even if it is a toy.")
            </use>
            <selfuseanything type="script">
              msg ("It would probably not be a good idea to be shooting a gun all willy-nilly, even if it is a toy.")
            </selfuseanything>
            <selfuseon type="scriptdictionary">
              <item key="target"><![CDATA[
                msg ("You step up to the line indicated by the barker and give it your best shot.  The ball hits the target.  Lights start flashing, bells and sirens start ringing, and the barker lets out an anguished wail, like he was denied a treat.  He grabs the gun from your hand and gives it a quick look to make sure it was the same gun he gave you.<br/><br/>\"Here's your prize!\" The barker snarls, shoving a shabby doll into your hands. \"Now get out of here, before I find out how you cheated!\"  <br/><br/>You beat a hasty retreat towards the main Carnival.")
                RemoveObject (fixed game gun)
                AddToInventory (shabby doll)
                MakeObjectVisible (shabby doll)
                MoveObject (player, Carnival)
                LockExit (to Midway)
              ]]></item>
            </selfuseon>
            <shoot type="scriptdictionary">
              <item key="target"><![CDATA[
                msg ("You step up to the line indicated by the barker and give it your best shot.  The ball hits the target.  Lights start flashing, bells and sirens start ringing, and the barker lets out an anguished wail, like he was denied a treat.  He grabs the gun from your hand and gives it a quick look to make sure it was the same gun he gave you.<br/><br/>\"Here's your prize!\" The barker snarls, shoving a large teddy bear and a shabby doll into your hands. \"Now get out of here, before I find out how you cheated!\"  <br/><br/>You beat a hasty retreat towards the main Carnival.")
                AddToInventory (shabby doll)
                MakeObjectVisible (shabby doll)
                MoveObject (player, Carnival)
                LockExit (to Midway)
              ]]></item>
              <item key="barker">
                msg ("You don't think the toy gun will kill him, but you are certain it will make him angry.")
              </item>
              <item key="monster">
                msg ("You don't think the toy gun will kill it, but you are certain it will make it angry.")
              </item>
            </shoot>
          </object>
        </object>
        <object name="shabby doll">
          <inherit name="editor_object" />
          <visible />
          <alt type="stringlist">
            <value>doll</value>
          </alt>
          <kick>The doll looks so pitiful and lonely on the ground that you can't bring yourself to kick it when it's down.</kick>
          <take />
          <play>You sing the doll a few nursery rhymes until she gets bored and whispers "WAKE UP".</play>
          <takemsg>You tenderly take the unloved doll into your arms.</takemsg>
          <dropmsg>You fling the creepy doll away from you.</dropmsg>
          <look type="script">
            if (not GetBoolean(shabby doll, "empty")) {
              msg ("A large doll that was your prize for winning the shooting game.  The faded pink dress is tattered, and the once golden ringlets are now clumps of matted tangles.  One blue glass eye stares back at you from her doll's face; the other is missing.  You can hear something rattling around inside her plastic head.")
            }
            else if (GetBoolean(shabby doll, "empty")) {
              msg ("A large doll that was your prize for winning the shooting game.  The faded pink dress is tattered, and the once golden ringlets are now clumps of matted tangles.  One blue glass eye stares back at you from her doll's face; the other is missing.  ")
            }
          </look>
          <shake type="script">
            if (not GetBoolean(shabby doll, "empty")) {
              firsttime {
                msg ("You shake the doll gently and hear something rattling around in her head.  You catch glimpses of it around her empty eye socket.  If you shook it again, you might be able to get it to drop out her eye.")
              }
              otherwise {
                msg ("You tip the doll up and gently shake it until you can see something just inside the empty eye socket.  You slip a finger inside the hole and gently manoever the object until it falls out of the doll's head.  It is a yellow marker some child must have put there.")
                SetObjectFlagOn (shabby doll, "empty")
                AddToInventory (yellow marker)
                MakeObjectVisible (yellow marker)
              }
            }
            else if (GetBoolean(shabby doll, "empty")) {
              msg ("You shake the doll. You hear nothing but a soft whisper from its still lips, saying \"WAKE UP\".")
            }
          </shake>
          <throw type="script"><![CDATA[
            if (game.pov.parent = Animal Den) {
              msg ("You throw the doll at the monster.  The heads tear it apart viciously and begin to fight over the remains.  ")
              if (not Got(yellow marker)) {
                msg ("<br/>A yellow marker is flung from the doll and lands at your feet.")
                MoveObjectHere (yellow marker)
              }
              SetObjectFlagOn (monster, "distracted")
            }
            else {
              msg ("You fling the creepy doll away from you.")
              MoveObjectHere (shabby doll)
            }
          ]]></throw>
          <object name="yellow marker">
            <inherit name="editor_object" />
            <take />
            <selfuseon type="scriptdictionary">
              <item key="Teepee">
                msg ("After wandering through the maze for a while, you find a jar of red paint. ")
                MakeObjectVisible (jar of red paint)
                MoveObjectHere (jar of red paint)
              </item>
            </selfuseon>
          </object>
        </object>
      </object>
    </object>
    <object name="Carnival">
      <inherit name="editor_room" />
      <description>You are in the center of a carnival.  Lights from the booths and ride cause you to squint. A cacophony of music and bells reaches your ears.  Ghostly people flow by, not seeming to take notice of you.</description>
      <exit alias="north" to="Dark Forest">
        <inherit name="northdirection" />
        <runscript />
        <script type="script">
          msg ("You step on the ferry gingerly to avoid being splashed and stand carefully balanced as you are transported across the river.")
          MoveObject (player, Dark Forest)
        </script>
      </exit>
      <exit name="to Midway" alias="west" to="Midway">
        <inherit name="westdirection" />
        <locked type="boolean">false</locked>
        <lockmessage>You don't think it would be a good idea to anger the barker further and decide against going back.</lockmessage>
      </exit>
      <exit alias="east" to="House of Mirrors">
        <inherit name="eastdirection" />
        <runscript />
        <script type="script">
          if (not GetBoolean(House of Mirrors, "retreat")) {
            if (not Got(confetti)) {
              msg ("It looks like a maze.  It might be a good idea to have something you can drop behind you to mark the way back out.")
            }
            else if (Got(confetti)) {
              MoveObject (player, House of Mirrors)
            }
          }
          else if (GetBoolean(House of Mirrors, "retreat")) {
            MoveObject (player, House of Mirrors)
          }
        </script>
      </exit>
      <object name="ghostly people">
        <inherit name="editor_object" />
        <inherit name="plural" />
        <usedefaultprefix type="boolean">false</usedefaultprefix>
        <look>Ghostly people of all sorts wander around here.  As they pass you, you can hear them whispering "WAKE UP".</look>
        <alt type="stringlist">
          <value>ghosts</value>
          <value>people</value>
        </alt>
      </object>
    </object>
    <object name="Classroom">
      <inherit name="editor_room" />
      <description>A standard classroom full of small desks facing a larger desk where the teacher would sit.  Childish, brightly-coloured artwork is hung on the walls.  The west wall is filled with windows.</description>
      <exit alias="east" to="The Middle of a Meadow">
        <inherit name="eastdirection" />
      </exit>
      <object name="windows">
        <inherit name="editor_object" />
        <look>Through the windows you can see nothing but swirling, dark green smoke sliding across the glass.  As you watch, wisps of black smoke spell out the words "WAKE UP".  You look away. </look>
        <kick>You are afraid that if you smash the windows the smoke will choke you.</kick>
        <break>You are afraid that if you smash the windows the smoke will choke you.</break>
        <smash type="string"></smash>
        <usedefaultprefix type="boolean">false</usedefaultprefix>
      </object>
      <object name="large desk">
        <inherit name="editor_object" />
        <inherit name="surface" />
        <hidechildren />
        <listchildren />
        <listchildrenprefix>On top of the desk is</listchildrenprefix>
        <look>A large, messy desk, stacked high with piles of paper.</look>
        <contentsprefix type="string"></contentsprefix>
        <object name="pen">
          <inherit name="editor_object" />
          <inherit name="openable" />
          <close type="boolean">false</close>
          <look>A blue pen that has a button at the top to raise and lower the ink nib.  </look>
          <take />
          <openscript type="script">
            msg ("You twirl the center of the pen to open it.  You gasp in surprise as the outside of the pen bursts into confetti, leaving you with the ink and a small spring.")
            RemoveObject (pen)
            AddToInventory (spring)
            AddToInventory (blue ink)
            MakeObjectVisible (confetti)
            AddToInventory (confetti)
          </openscript>
          <object name="spring">
            <inherit name="editor_object" />
            <take />
            <look>The small spring you took from the pen.</look>
          </object>
          <object name="blue ink">
            <inherit name="editor_object" />
            <take />
          </object>
          <object name="confetti">
            <inherit name="editor_object" />
            <visible type="boolean">false</visible>
            <takemsg>While cleaning up after yourself is admirable, you need to follow the trail to find your way out.</takemsg>
            <usedefaultprefix type="boolean">false</usedefaultprefix>
            <ondrop type="script">
            </ondrop>
            <drop type="script"><![CDATA[
              if (game.pov.parent = House of Mirrors) {
                msg ("As you wander through the maze of mirrors, you sprinkle a trail of confetti behind you to avoid walking in circles.<br/>")
                MoveObjectHere (confetti)
                msg ("After wandering through the maze for a while, you find a jar of red paint. ")
                MakeObjectVisible (jar of red paint)
                MoveObjectHere (jar of red paint)
              }
              else if (not game.pov.parent = House of Mirrors) {
                msg ("You have a strange feeling you might need this later and decide to hang onto it.")
              }
              else {
              }
            ]]></drop>
          </object>
        </object>
        <object name="paper">
          <inherit name="editor_object" />
          <scenery />
          <look>Large stacks of blank paper.</look>
          <alt type="stringlist">
            <value>piles of paper</value>
            <value>piles</value>
          </alt>
          <useanything type="script">
            msg ("You can't write with that.")
          </useanything>
          <useon type="scriptdictionary">
            <item key="a piece of charcoal">
              msg ("Charcoal smudges everywhere as you write a note on the paper.  You can't seem to make out the words you've written, until you realize that you've spelled out the words \"WAKE UP\" over and over again, upside-down and backwards.")
            </item>
            <item key="pen">
              msg ("You write a note on the paper.  You can't seem to make out the words you've written, until you realize that you've spelled out the words \"WAKE UP\" over and over again, upside-down and backwards.")
            </item>
            <item key="blue ink">
              msg ("You hold the pen nib tightly between your finger and write a note on the paper.  You can't seem to make out the words you've written, until you realize that you've spelled out the words \"WAKE UP\" over and over again, upside-down and backwards.")
            </item>
            <item key="jar of red paint">
              msg ("You dip your fingers in the paint and write a note on the paper.  You can't seem to make out the words you've written, until you realize that you've spelled out the words \"WAKE UP\" over and over again, upside-down and backwards.")
            </item>
            <item key="yellow marker">
              msg ("You write a note on the paper.  The marker is too light-coloured to see the message on the paper.")
            </item>
          </useon>
        </object>
      </object>
      <object name="artwork">
        <inherit name="editor_object" />
        <scenery />
        <look>Simple artwork in primary colours with heavy black outlines.  The pictures appear to be modeled after Native North American artwork.</look>
        <useon>You're certain that whomever drew these worked hard on them.  You decide to leave them alone.</useon>
      </object>
    </object>
    <object name="Dark Forest">
      <inherit name="editor_room" />
      <dark type="boolean">false</dark>
      <description>There are tightly packed trees all around.  A deep riverbed cuts through the trees further south.  </description>
      <exit alias="north" to="The Middle of a Meadow">
        <inherit name="northdirection" />
        <lightsource type="boolean">false</lightsource>
        <lightstrength>weak</lightstrength>
      </exit>
      <object name="river">
        <inherit name="editor_object" />
        <look>A river flows low within its banks.  The water appears thick and red.  Is it... blood?  Sticks flow through the river, getting caught on each other until they spell out the words "WAKE UP".  You scramble away from the bank.</look>
        <alt type="stringlist">
          <value>riverbed</value>
        </alt>
        <swim>You would rather not bathe in blood today.</swim>
        <cross>You would rather not bathe in blood today. </cross>
        <takemsg>You don't even want to touch it.</takemsg>
      </object>
      <object name="Ferryman">
        <inherit name="editor_object" />
        <inherit name="male" />
        <look>A figure stands wrapped in a dark, hooded cloak.  One bony hand, barely more than a sheath of flesh over a skeleton, holds a long pole.  The other is outstretched, waiting for payment.</look>
        <kick>That isn't a good idea.</kick>
        <speak>In a deep, raspy whisper that you strain to hear the Ferryman says "Payment must be made."</speak>
        <alt type="stringlist">
          <value>man</value>
          <value>Charon</value>
          <value></value>
        </alt>
        <usedefaultprefix type="boolean">false</usedefaultprefix>
        <prefix>the </prefix>
        <giveanything type="script">
          msg ("He isn't interested.")
        </giveanything>
        <useanything type="script">
          msg ("He isn't interested.")
        </useanything>
        <pay type="script"><![CDATA[
          if (not Got(shiny coin)) {
            msg ("With what?  He might take your soul, but you think it might be better to hang onto that as long as possible, and you don't have anything else that would interest him.")
          }
          else {
            msg ("You place the coin in the Ferryman's open hand, pulling back your fingers quickly as the bony hand snatches the coin out of sight.<br/><br/>The Ferryman turns and glides onto the ferry, and beckons for you to join him.")
            SetObjectFlagOn (Ferryman, "paid")
            RemoveObject (shiny coin)
          }
        ]]></pay>
        <useon type="scriptdictionary">
          <item key="shiny coin"><![CDATA[
            msg ("You place the coin in the Ferryman's open hand, pulling back your fingers quickly as the bony hand snatches the coin out of sight.<br/><br/>The Ferryman turns and glides onto the ferry, and beckons for you to join him.")
            SetObjectFlagOn (Ferryman, "paid")
            RemoveObject (shiny coin)
          ]]></item>
        </useon>
        <give type="scriptdictionary">
          <item key="shiny coin"><![CDATA[
            msg ("You place the coin in the Ferryman's open hand, pulling back your fingers quickly as the bony hand snatches the coin out of sight.<br/><br/>The Ferryman turns and glides onto the ferry, and beckons for you to join him.")
            SetObjectFlagOn (Ferryman, "paid")
            RemoveObject (shiny coin)
          ]]></item>
        </give>
        <ask type="scriptdictionary" />
        <object name="pole">
          <inherit name="editor_object" />
          <scenery />
          <look>The Ferryman holds a pole slightly taller than he is, causing you to wonder about the depth of the river.</look>
          <takemsg>The Ferryman clutches the pole tightly.  He looks quite possessive of it.</takemsg>
        </object>
        <object name="cloak">
          <inherit name="editor_object" />
          <look>A dark cloak with a deep hood shields the Ferryman's features from you.  The skeletal hands that emerge from the billowing sleeves make you grateful that you cannot see his face.</look>
          <scenery />
          <takemsg>You have no desire to find out what is under there.</takemsg>
        </object>
      </object>
      <object name="ferry">
        <inherit name="editor_object" />
        <look>A simple ferry waits to take you across the river.</look>
        <use type="script">
          if (GetBoolean(Ferryman, "paid")) {
            msg ("You step on the ferry gingerly to avoid being splashed and stand carefully balanced as you are transported across the river.")
            MoveObject (player, Carnival)
          }
          else {
            msg ("The Ferryman blocks your way and says \"Payment must be made for passage.\"")
          }
        </use>
        <useanything type="script">
          msg ("The Ferryman blocks your way and says \"Payment must be made for passage.\"")
        </useanything>
        <giveanything type="script">
          msg ("The Ferryman blocks your way and says \"Payment must be made for passage.\"")
        </giveanything>
        <useon type="scriptdictionary">
          <item key="shiny coin"><![CDATA[
            msg ("You place the coin in the Ferryman's open hand, pulling back your fingers quickly as the bony hand snatches the coin out of sight.<br/><br/>The Ferryman turns and glides onto the ferry, and beckons for you to join him.")
            SetObjectFlagOn (Ferryman, "paid")
            RemoveObject (shiny coin)
          ]]></item>
        </useon>
        <give type="scriptdictionary">
          <item key="shiny coin"><![CDATA[
            msg ("You place the coin in the Ferryman's open hand, pulling back your fingers quickly as the bony hand snatches the coin out of sight.<br/><br/>The Ferryman turns and glides onto the ferry, and beckons for you to join him.")
            SetObjectFlagOn (Ferryman, "paid")
            RemoveObject (shiny coin)
          ]]></item>
        </give>
      </object>
      <exit alias="south" to="Carnival">
        <inherit name="southdirection" />
        <runscript />
        <locked type="boolean">false</locked>
        <script type="script">
          if (GetBoolean(Ferryman, "paid")) {
            msg ("You step on the ferry gingerly to avoid being splashed and stand carefully balanced as you are transported across the river.")
            MoveObject (player, Carnival)
          }
          else {
            msg ("The Ferryman blocks your way and says \"Payment must be made for passage.\"")
          }
        </script>
      </exit>
      <object name="trees">
        <inherit name="editor_object" />
        <inherit name="plural" />
        <scenery />
        <look type="string"></look>
      </object>
    </object>
    <object name="The Middle of a Meadow">
      <inherit name="editor_room" />
      <description>A meadow stretches out as far as you can see on all sides of you.</description>
      <usedefaultprefix type="boolean">false</usedefaultprefix>
      <object name="player">
        <inherit name="editor_object" />
        <inherit name="editor_player" />
        <pinch>You pinch yourself to see if it hurts.  It does.  This clearly isn't an ordinary dream.</pinch>
        <attr name="pov_look">You appear just as you normally do, except that you seem a little less... corporeal than usual.</attr>
      </object>
      <object name="human skull">
        <inherit name="editor_object" />
        <look>A human skull is embedded in the ground at your feet.  It appears to have been picked clean by an animal of some sort. There are deep claw marks gouged into the top, making it look brittle.   Through one of the empty eye sockets, you catch a glimpse of something shiny inside.</look>
        <alt type="stringlist">
          <value>skull</value>
          <value>human</value>
        </alt>
        <takemsg>The skull is half-buried in the ground. You can't pry it up.</takemsg>
        <drop type="boolean">false</drop>
        <scenery />
        <alias>human skull</alias>
        <kick type="script"><![CDATA[
          RemoveObject (human skull)
          MakeObjectVisible (broken skull)
          HelperOpenObject (broken skull)
          msg ("You give the skull a kick hard enough to cave in the top.<br/>At the bottom of the skull you see a shiny coin.")
        ]]></kick>
        <smash type="script"><![CDATA[
          RemoveObject (human skull)
          MakeObjectVisible (broken skull)
          HelperOpenObject (broken skull)
          msg ("You give the skull a kick hard enough to cave in the top.<br/>At the bottom of the skull you see a shiny coin.")
        ]]></smash>
        <break type="script"><![CDATA[
          RemoveObject (human skull)
          MakeObjectVisible (broken skull)
          HelperOpenObject (broken skull)
          msg ("You give the skull a kick hard enough to cave in the top.<br/>At the bottom of the skull you see a shiny coin.")
        ]]></break>
        <object name="socket">
          <inherit name="editor_object" />
          <scenery />
          <look>You catch a glint of metal at the bottom of the skull, but can't quite see the object that is reflecting the light.  Maybe you could open the skull somehow?</look>
          <alt type="stringlist">
            <value>eye socket</value>
            <value>empty socket</value>
            <value>eye</value>
          </alt>
        </object>
        <object name="shiny">
          <inherit name="editor_object" />
          <scenery />
          <alt type="stringlist">
            <value>metal</value>
            <value>glint</value>
          </alt>
          <look>You catch a glint of metal at the bottom of the skull, but can't quite see the object that is reflecting the light.  Maybe you could open the skull somehow?</look>
        </object>
      </object>
      <object name="broken skull">
        <inherit name="editor_object" />
        <inherit name="container_open" />
        <look>The remains of a human skull are embedded in the ground.  The top has been kicked open.</look>
        <open />
        <close type="boolean">false</close>
        <listchildren />
        <visible type="boolean">false</visible>
        <hidechildren type="boolean">false</hidechildren>
        <takemsg>The skull is half-buried in the ground. You can't pry it up.</takemsg>
        <isopen type="boolean">false</isopen>
        <listchildrenprefix>At the bottom of the skull you see</listchildrenprefix>
        <openmsg type="string"></openmsg>
        <object name="shiny coin">
          <inherit name="editor_object" />
          <inherit name="surface" />
          <look>A shiny coin.  It has an inscription on one side and a head engraved on the other.</look>
          <take />
          <hidechildren />
          <givetoanything type="script">
            msg ("You don't need to pay that.")
          </givetoanything>
          <selfuseanything type="script">
            msg ("You don't need to pay that.")
          </selfuseanything>
          <givesingle type="script">
            msg ("Who do you want to pay?")
          </givesingle>
          <use type="script">
            msg ("Who do you want to pay?")
          </use>
          <selfuseon type="scriptdictionary">
            <item key="ferry"><![CDATA[
              msg ("You place the coin in the Ferryman's open hand, pulling back your fingers quickly as the bony hand snatches the coin out of sight.<br/><br/>The Ferryman turns and glides onto the ferry, and beckons for you to join him.")
              SetObjectFlagOn (Ferryman, "paid")
              RemoveObject (shiny coin)
            ]]></item>
            <item key="Ferryman"><![CDATA[
              msg ("You place the coin in the Ferryman's open hand, pulling back your fingers quickly as the bony hand snatches the coin out of sight.<br/><br/>The Ferryman turns and glides onto the ferry, and beckons for you to join him.")
              SetObjectFlagOn (Ferryman, "paid")
              RemoveObject (shiny coin)
            ]]></item>
          </selfuseon>
          <giveto type="scriptdictionary">
            <item key="ferry"><![CDATA[
              msg ("You place the coin in the Ferryman's open hand, pulling back your fingers quickly as the bony hand snatches the coin out of sight.<br/><br/>The Ferryman turns and glides onto the ferry, and beckons for you to join him.")
              SetObjectFlagOn (Ferryman, "paid")
              RemoveObject (shiny coin)
            ]]></item>
            <item key="Ferryman"><![CDATA[
              msg ("You place the coin in the Ferryman's open hand, pulling back your fingers quickly as the bony hand snatches the coin out of sight.<br/><br/>The Ferryman turns and glides onto the ferry, and beckons for you to join him.")
              SetObjectFlagOn (Ferryman, "paid")
              RemoveObject (shiny coin)
            ]]></item>
          </giveto>
          <object name="inscription">
            <inherit name="editor_object" />
            <look>The inscription reads: "WAKE UP"</look>
            <read>The inscription reads: "WAKE UP"</read>
            <scenery />
          </object>
          <object name="head">
            <inherit name="editor_object" />
            <look>The coin contains an image of your face as it would look if it was rotting.</look>
            <scenery />
          </object>
        </object>
      </object>
      <exit alias="south" to="Dark Forest">
        <inherit name="southdirection" />
        <runscript />
        <script type="script">
          msg ("You take a few steps to the south and the world around you blurs until you find yourself somewhere new.")
          MoveObject (player, Dark Forest)
        </script>
      </exit>
      <exit alias="west" to="Classroom">
        <inherit name="westdirection" />
        <runscript />
        <script type="script">
          msg ("You take a few steps to the west and the world around you blurs until you find yourself somewhere new.")
          MoveObject (player, Classroom)
        </script>
      </exit>
      <exit alias="north" to="Animal Den">
        <inherit name="northdirection" />
        <runscript />
        <locked type="boolean">false</locked>
        <lockmessage>This area of the game is closed for debugging and expansion.  </lockmessage>
        <script type="script">
          msg ("You take a few steps to the north and the world around you blurs until you find yourself somewhere new.")
          MoveObject (player, Animal Den)
        </script>
      </exit>
      <exit alias="east" to="Campsite">
        <inherit name="eastdirection" />
        <runscript />
        <script type="script">
          msg ("You take a few steps to the east and the world around you blurs until you find yourself somewhere new.")
          MoveObject (player, Campsite)
        </script>
      </exit>
      <object name="meadow">
        <inherit name="editor_object" />
        <scenery />
        <look>Tall grass surrounds you and stretches out as far as you can see in every direction.</look>
        <alt type="stringlist" />
      </object>
      <object name="grass">
        <inherit name="editor_object" />
        <scenery />
        <look>Tall grass surrounds you and stretches out as far as you can see in every direction.</look>
        <pick type="script">
          firsttime {
            msg ("You pick some grass stalks and begin weaving them together.  You don't pay much attention to what you are doing until you look down and realize that you have somehow woven the words \"WAKE UP\".  You drop the grass and the words fall apart.  The grass pieces are picked up by the wind and scattered throughout the meadow.")
          }
          otherwise {
            msg ("You are afraid to do that again.")
          }
        </pick>
      </object>
    </object>
    <object name="Hospital Room">
      <inherit name="editor_room" />
      <darkroomdescription type="string"></darkroomdescription>
      <dark type="boolean">false</dark>
      <description>You look around you and discover you are laying in a hospital bed.  Your arms and legs are held down by padded restraints.  The bland, pale green room has one small window, set halfway up the wall to your right.  There are no curtains.  Due to your restricted movement, you can't see anything else in the room. </description>
      <beforeenter type="script">
      </beforeenter>
      <enter type="script">
      </enter>
      <firstenter type="script"><![CDATA[
        msg ("As you try to get your bearings and figure out what's happening, a woman in nurse's scrubs leans into your field of view.<br/><br/>\"Hello!\" she smiles at you with such compassionate eyes that you know you are very sick. \"It's time to WAKE UP!\"<br/><br/><br/><br/>*****CONGRATULATIONS!***** You finished the game! <br/><br/>Please rate and leave feedback about ways to make this and my future games better.")
        finish
      ]]></firstenter>
      <beforefirstenter type="script"><![CDATA[
        if (Got(rusty key)) {
          ClearScreen
          msg ("You step through the gate and fall into nothingness.  The void around you swells and fills you.  It tears you apart but you feel no pain.  You feel nothing.<br/><br/>Then you open your eyes. ")
        }
        else {
          ClearScreen
          msg ("You take control of your mind and pray to wake up.<br/><br/>Then you open your eyes. ")
        }
      ]]></beforefirstenter>
    </object>
  </object>
  <object name="Part 2">
    <inherit name="editor_room" />
    <object name="Underground Caverns">
      <inherit name="editor_room" />
      <usedefaultprefix type="boolean">false</usedefaultprefix>
      <description><![CDATA[A vast underground cavern stretches before you.  The high ceilings and distant walls create the perfect echo of your footsteps to make it sound as if someone is following you.<br/><br/>]]></description>
      <enter type="script">
        firsttime {
        }
        otherwise {
          msg ("You get turned around in the darkness of the caverns and find yourself back where you started.")
        }
      </enter>
      <turnscript>
        <enabled />
        <script>
          msg ("Your movements and the rustle of your clothing echoes around the room.")
        </script>
      </turnscript>
      <exit alias="southwest" to="Cramped Tunnel">
        <inherit name="southwestdirection" />
        <runscript />
        <script type="script">
        </script>
      </exit>
      <exit alias="north" to="Caverns1">
        <inherit name="northdirection" />
      </exit>
    </object>
    <object name="Monster Cave">
      <inherit name="editor_room" />
      <alias>Deep Within the Caverns</alias>
      <usedefaultprefix type="boolean">false</usedefaultprefix>
      <dark />
      <description>In the heart of the monster's lair, you see something that looks like a gigantic bird's nest near the western wall.  There is a tunnel that looks just big enough for you to squeeze through to the northeast.</description>
      <darkroomdescription type="script">
        msg ("You find yourself deep within the monster's lair.  Without a light source, you may as well be offering yourself up on a platter to be eaten.")
      </darkroomdescription>
      <enter type="script">
      </enter>
      <beforeenter type="script">
        if (Got(Amulet)) {
          SetLight (Monster Cave)
        }
      </beforeenter>
      <exit alias="south" to="Animal Den">
        <inherit name="southdirection" />
        <lightsource />
        <lightstrength>weak</lightstrength>
      </exit>
      <turnscript>
        <enabled />
        <script><![CDATA[
          if (not Got(Amulet)) {
            if (not GetBoolean(player, "warned2")) {
              if (not GetBoolean(player, "warned")) {
                msg ("<br/>You hear bumps and wet breathing noises coming towards you in the dark.")
                SetObjectFlagOn (player, "warned")
              }
              else if (GetBoolean(player, "warned")) {
                msg ("<br/>You cringe as hot, foul-smelling breath washes over your face.  Whatever is in here is right in front of you!  And you still can't see it!  Better get out while you can!")
                SetObjectFlagOn (player, "warned2")
              }
            }
            else if (GetBoolean(player, "warned2")) {
              msg ("<br/>Hanging out in a monster's den without being able to see what's around you hasn't been your best idea.  You are knocked to the ground as a much smaller version of the monster guarding the cave leaps on you.  Pinned by the thing's small but strong tentacles and the weight of it's body, you are helpless to escape as three mouths drool and slobber as the milk teeth in the heads begin to tear you apart.<br/><br/>As the pain continues, you find yourself wishing you had been eaten by the parent.  At least it would have been over quickly.<br/><br/>Now you will never wake up. <br/><br/>")
              finish
            }
          }
        ]]></script>
      </turnscript>
      <object name="baby monster">
        <inherit name="editor_object" />
        <inherit name="male" />
        <gender>it</gender>
        <article>it</article>
        <look>A significantly smaller version of the parent monster, the baby monster is still about the size and weight of a cow.  The baby monster paces restlessly inside its nest.  It periodically mewls in a way that reminds you of a wet kitten.  It appears to be afraid of the light glowing from the amulet you are carrying.</look>
      </object>
      <object name="nest">
        <inherit name="editor_object" />
        <look>Constructed of tree branches and mud, the nest is about the size around of a backyard swimming pool and is about three feet deep.  The baby monster paces inside it.</look>
      </object>
      <exit alias="down" to="Cramped Tunnel">
        <inherit name="northeastdirection" />
        <runscript />
        <script type="script"><![CDATA[
          msg ("You walk facing the baby monster, keeping the amulet held out in front of you to discourage it from pursuit.<br/>")
          MoveObject (player, Cramped Tunnel)
        ]]></script>
      </exit>
    </object>
    <object name="Animal Den">
      <inherit name="editor_room" />
      <description>You stand at the entrance to a dark and damp cave that stretches further into darkness to the north.  Looks like you have found the lair of whatever monster left that skull in the meadow.</description>
      <alias>Before the Monster's Lair</alias>
      <usedefaultprefix type="boolean">false</usedefaultprefix>
      <enter type="script">
      </enter>
      <onexit type="script">
        SetObjectFlagOff (player, "warned")
        SetObjectFlagOff (player, "warned2")
        SetObjectFlagOff (player, "warned3")
      </onexit>
      <beforefirstenter type="script">
      </beforefirstenter>
      <beforeenter type="script">
      </beforeenter>
      <exit alias="south" to="The Middle of a Meadow">
        <inherit name="southdirection" />
      </exit>
      <object name="monster">
        <inherit name="editor_object" />
        <takemsg>It's far more likely to take you!</takemsg>
        <look type="script">
          if (not GetBoolean(monster, "distracted")) {
            msg ("A gigantic, three-headed monster. It ambles towards you, spit dripping from fangs in all of its mouths. It reaches for you with long, furry tentacles. Maybe you can find something to distract it?")
          }
          else {
            msg ("A gigantic, three-headed monster with long, furry tentacles instead of arms or legs.  Its heads are currently fighting one another.")
          }
        </look>
        <kick type="script"><![CDATA[
          firsttime {
            msg ("You try to kick the monster and get caught by one of his long furry, tentacles.  You struggle and continue to kick at the creature until it lets out a yelp and drops you.  Breathing hard, you begin to doubt you would be able to get away a second time.")
          }
          otherwise {
            msg ("Trying to kick the monster a second time, you once again are caught by a tentacle.  You struggle and kick, but the monster has a better hold on you this time.  You scream as you are dangled over his gaping maw.  You continue to scream until the sharp fangs from his mouths tear you apart as each head fights to get its fair share of the tasty morsel that is you.<br/><br/>Now you will never wake up.  <br/><br/>")
            finish
          }
        ]]></kick>
        <useon type="scriptdictionary">
          <item key="shabby doll"><![CDATA[
            msg ("You throw the doll at the monster.  The heads tear it apart viciously and begin to fight over the remains.  ")
            if (not Got(yellow marker)) {
              msg ("<br/>A yellow marker is flung from the doll and lands at your feet.")
              MoveObjectHere (yellow marker)
            }
            SetObjectFlagOn (monster, "distracted")
          ]]></item>
          <item key="confetti">
            msg ("Now is hardly the time to be throwing it a party.  It would probably just eat you.")
          </item>
          <item key="pen">
            msg ("You doubt it is much of an artist.")
          </item>
          <item key="a piece of charcoal">
            msg ("You doubt it is much of an artist.")
          </item>
        </useon>
        <shoot type="scriptdictionary">
          <item key="rigged gun">
            msg ("You don't think the toy gun will kill it, but you are certain it will make it angry.")
          </item>
          <item key="fixed game gun">
            msg ("You don't think the toy gun will kill it, but you are certain it will make it angry.")
          </item>
        </shoot>
      </object>
      <object name="bones">
        <inherit name="editor_object" />
        <look>Bones of various shapes, sizes, and state of decay are scattered about the entrance to the monster's den.  A pile to the right seems to spell out the words "WAKE UP". </look>
        <takemsg>You don't even want to touch them.</takemsg>
        <usedefaultprefix type="boolean">false</usedefaultprefix>
      </object>
      <exit alias="north" to="Monster Cave">
        <inherit name="northdirection" />
        <runscript />
        <script type="script">
          if (GetBoolean(monster, "distracted")) {
            msg ("You sneak past the monster as quickly and quietly as you can. ")
            MoveObject (player, Monster Cave)
          }
          else {
            msg ("You can't run past the monster into it's home with finding a way to distract it!")
          }
        </script>
      </exit>
      <turnscript>
        <enabled />
        <script><![CDATA[
          if (not GetBoolean(monster, "distracted")) {
            if (not GetBoolean(player, "warned3")) {
              if (not GetBoolean(player, "warned2")) {
                if (not GetBoolean(player, "warned")) {
                  msg ("<br/>The monster roars and moves towards you.  Run away or throw something to distract it!")
                  SetObjectFlagOn (player, "warned")
                }
                else if (GetBoolean(player, "warned")) {
                  msg ("<br/>The monster roars and moves closer to you.  Quick! Run away or throw something to distract it!")
                  SetObjectFlagOn (player, "warned2")
                }
              }
              else if (GetBoolean(player, "warned2")) {
                msg ("<br/>The monster is right in front of you!  Act fast! Run away or throw something to distract it!")
                SetObjectFlagOn (player, "warned3")
              }
            }
            else if (GetBoolean(player, "warned3")) {
              msg ("<br/>The monster roars again and grabs you with a long, furry tentacle.  You struggle and kick, but the monster has a tight hold on you.  You scream as you are dangled over his gaping maw.  You continue to scream until the sharp fangs from his mouths tear you apart as each head fights to get its fair share of the tasty morsel that is you.<br/><br/>Now you will never wake up. <br/>")
              finish
            }
          }
        ]]></script>
      </turnscript>
      <command name="boo">
        <pattern>boo</pattern>
        <unresolved>boo</unresolved>
        <script>
          SetObjectFlagOn (monster, "distracted")
          msg ("(You found a play-test secret command.)  You startle the monster and the heads begin fighting each other. ")
        </script>
      </command>
    </object>
    <object name="Cramped Tunnel">
      <inherit name="editor_room" />
      <description>The walls appear to close in on you as you squeeze against rock surfaces on either side of your body.  If you were any bigger, you wouldn't fit.  The tunnel slopes downwards, and seems to stretch for hours.</description>
      <exit alias="southwest" to="Monster Cave">
        <inherit name="southwestdirection" />
      </exit>
      <exit alias="down" to="Underground Caverns">
        <inherit name="northeastdirection" />
      </exit>
    </object>
    <object name="Caverns1">
      <inherit name="editor_room" />
      <description><![CDATA[The walls are speckled with what appear to be green crystals. <br/><br/>You feel a breeze blowing in from your right.]]></description>
      <alias>Underground Cavern</alias>
      <exit alias="south" to="Underground Caverns">
        <inherit name="southdirection" />
      </exit>
      <exit alias="east" to="Caverns2">
        <inherit name="eastdirection" />
      </exit>
      <exit alias="north" to="Underground Caverns">
        <inherit name="northdirection" />
      </exit>
      <exit alias="west" to="Underground Caverns">
        <inherit name="westdirection" />
      </exit>
      <exit alias="west" to="Underground Caverns">
        <inherit name="westdirection" />
      </exit>
    </object>
    <object name="Caverns2">
      <inherit name="editor_room" />
      <alias>Underground Cavern</alias>
      <description><![CDATA[An abundance of stalactites and stalagmites make this room difficult to navigate.<br/><br/>You feel a breeze blowing from your left.]]></description>
      <exit alias="north" to="Caverns3">
        <inherit name="northdirection" />
      </exit>
      <exit alias="west" to="Caverns1">
        <inherit name="westdirection" />
      </exit>
      <exit alias="east" to="Underground Caverns">
        <inherit name="eastdirection" />
      </exit>
      <exit alias="south" to="Underground Caverns">
        <inherit name="southdirection" />
      </exit>
    </object>
    <object name="Caverns3">
      <inherit name="editor_room" />
      <alias>Underground Cavern</alias>
      <description><![CDATA[You can hear water drip from the ceiling nearby, but the cavern is too dark for see where its coming from. <br/><br/>You feel a breeze blowing from your right.]]></description>
      <exit alias="south" to="Caverns2">
        <inherit name="southdirection" />
      </exit>
      <exit alias="east" to="Caverns4">
        <inherit name="eastdirection" />
      </exit>
      <exit alias="north" to="Underground Caverns">
        <inherit name="northdirection" />
      </exit>
      <exit alias="west" to="Underground Caverns">
        <inherit name="westdirection" />
      </exit>
    </object>
    <object name="Caverns4">
      <inherit name="editor_room" />
      <alias>Underground Cavern</alias>
      <description><![CDATA[You continue walking in the semi-darkness.  A bug of some kind crawls across your foot and you cringe.<br/><br/>You feel a breeze blowing from your left.]]></description>
      <exit alias="west" to="Caverns3">
        <inherit name="westdirection" />
      </exit>
      <exit alias="north" to="Caverns5">
        <inherit name="northdirection" />
      </exit>
      <exit alias="east" to="Underground Caverns">
        <inherit name="eastdirection" />
      </exit>
      <exit alias="south" to="Underground Caverns">
        <inherit name="southdirection" />
      </exit>
    </object>
    <object name="Caverns5">
      <inherit name="editor_room" />
      <alias>Underground Cavern</alias>
      <description><![CDATA[A chill creeps across your skin and you shiver.  You begin to doubt that you will ever find your way out of this maze.<br/><br/>You feel a breeze blowing from your left. ]]></description>
      <exit alias="south" to="Caverns4">
        <inherit name="southdirection" />
      </exit>
      <exit alias="west" to="Caverns6">
        <inherit name="westdirection" />
      </exit>
      <exit alias="north" to="Underground Caverns">
        <inherit name="northdirection" />
      </exit>
      <exit alias="east" to="Underground Caverns">
        <inherit name="eastdirection" />
      </exit>
    </object>
    <object name="Caverns6">
      <inherit name="editor_room" />
      <alias>Underground Cavern</alias>
      <description><![CDATA[This section of the tunnels has a low ceiling.  Your head brushes against stalactites as you walk.<br/><br/>You feel a breeze blowing in from ahead of you.]]></description>
      <exit alias="east" to="Caverns5">
        <inherit name="eastdirection" />
      </exit>
      <exit alias="west" to="Caverns7">
        <inherit name="westdirection" />
      </exit>
      <exit alias="north" to="Underground Caverns">
        <inherit name="northdirection" />
      </exit>
      <exit alias="south" to="Underground Caverns">
        <inherit name="southdirection" />
      </exit>
    </object>
    <object name="Caverns7">
      <inherit name="editor_room" />
      <alias>Underground Cavern</alias>
      <description><![CDATA[Small puddles cover the floor and your feet get wet as you splash through them.<br/><br/>You feel a breeze blowing from your left.  ]]></description>
      <exit alias="east" to="Caverns6">
        <inherit name="eastdirection" />
      </exit>
      <exit alias="south" to="Caverns8">
        <inherit name="southdirection" />
      </exit>
      <exit alias="north" to="Underground Caverns">
        <inherit name="northdirection" />
      </exit>
      <exit alias="west" to="Underground Caverns">
        <inherit name="westdirection" />
      </exit>
    </object>
    <object name="Caverns8">
      <inherit name="editor_room" />
      <alias>Underground Cavern</alias>
      <description><![CDATA[The tunnel is dark and the floor is uneven.  You trip every few steps as you try to find your way to another room.<br/><br/>You feel a breeze blowing from your right.]]></description>
      <exit alias="north" to="Caverns7">
        <inherit name="northdirection" />
      </exit>
      <exit alias="west" to="Caverns9">
        <inherit name="westdirection" />
      </exit>
      <exit alias="east" to="Underground Caverns">
        <inherit name="eastdirection" />
      </exit>
      <exit alias="south" to="Underground Caverns">
        <inherit name="southdirection" />
      </exit>
    </object>
    <object name="Caverns10">
      <inherit name="editor_room" />
      <alias>Underground Cavern</alias>
      <description><![CDATA[You think you must be close to a way out.  You can see some light coming from the cavern on your left.<br/><br/>You feel a breeze blowing from your left.]]></description>
      <exit alias="north" to="Caverns9">
        <inherit name="northdirection" />
      </exit>
      <exit alias="east" to="Caverns11">
        <inherit name="eastdirection" />
      </exit>
      <exit alias="west" to="Underground Caverns">
        <inherit name="westdirection" />
      </exit>
      <exit alias="south" to="Underground Caverns">
        <inherit name="southdirection" />
      </exit>
    </object>
    <object name="Caverns11">
      <inherit name="editor_room" />
      <alias>Underground Cavern</alias>
      <description>The cavern is significantly brighter than any you have passed through since you entered the caves.  The light is streaming in through a large crack in the southern wall.</description>
      <exit name="Crack" alias="south" to="Flower Garden">
        <inherit name="southdirection" />
        <runscript />
        <look>A brightly lit crack in the cavern wall.  Your eyes can't adjust while you are still in this room and you can't see anything other than bright light.</look>
        <lightsource type="boolean">false</lightsource>
        <lightstrength>weak</lightstrength>
        <script type="script">
          msg ("You squeeze through a brightly lit gap in the cavern wall and blink rapidly against the bright sunlight as you look around and find yourself in...")
          MoveObject (player, Flower Garden)
        </script>
      </exit>
      <exit alias="west" to="Caverns10">
        <inherit name="westdirection" />
      </exit>
      <exit alias="north" to="Underground Caverns">
        <inherit name="northdirection" />
      </exit>
      <exit alias="east" to="Underground Caverns">
        <inherit name="eastdirection" />
      </exit>
    </object>
    <object name="Caverns9">
      <inherit name="editor_room" />
      <alias>Underground Cavern</alias>
      <usedefaultprefix />
      <description><![CDATA[You hear the squeaks of small rodents around you.  You jump as something small and furry brushes past you.<br/><br/>You feel a breeze blowing from your left.]]></description>
      <exit alias="east" to="Caverns8">
        <inherit name="eastdirection" />
      </exit>
      <exit alias="south" to="Caverns10">
        <inherit name="southdirection" />
      </exit>
      <exit alias="north" to="Underground Caverns">
        <inherit name="northdirection" />
      </exit>
      <exit alias="west" to="Underground Caverns">
        <inherit name="westdirection" />
      </exit>
    </object>
  </object>
  <object name="Part 3">
    <inherit name="editor_room" />
    <object name="Flower Garden">
      <inherit name="editor_room" />
      <description>Flowers cover the ground at your feet, grouped into sections of different types and colours.  Although much time was obviously put into the design of the garden, it is clear that no one has tended it for quite some time.  Weeds have sprung up in places, haphazardly breaking up the patches of colour.  A tall wrought-iron fence covered in ivy can be seen surrounding the garden a short ways in the distance.  </description>
      <exit alias="north" to="Caverns11">
        <inherit name="northdirection" />
        <locked />
        <scenery />
        <lockmessage>You only see a sheer rock face and cannot find the entrance back into the caves.</lockmessage>
      </exit>
      <object name="flowers">
        <inherit name="editor_object" />
        <inherit name="plural" />
        <inherit name="container_limited" />
        <look>You only recognize a few of the types around you.</look>
        <takemsg>Which type of flower would you like to take?</takemsg>
        <smell>You take a moment to smell some roses.  A bee emerges from on of the flowers near your head and you would swear that the buzzing sounded like "WAKE UP" being repeated over and over.</smell>
        <open type="boolean">false</open>
        <close type="boolean">false</close>
        <listchildren />
        <listchildrenprefix>You recognize</listchildrenprefix>
        <usedefaultprefix type="boolean">false</usedefaultprefix>
        <hidechildren />
        <contentsprefix>you recognize</contentsprefix>
        <object name="daisies">
          <inherit name="editor_object" />
          <inherit name="plural" />
          <usedefaultprefix type="boolean">false</usedefaultprefix>
          <look>The daisies have bright white petals surrounding a yellow center.</look>
          <open type="boolean">false</open>
          <close type="boolean">false</close>
          <maxvolume type="int">1</maxvolume>
          <hidechildren />
          <take type="script">
            if (not GetBoolean(daisies, "picked")) {
              msg ("You pick a daisy.")
              AddToInventory (daisy)
              SetObjectFlagOn (daisies, "picked")
            }
            else {
              msg ("You have already picked one and decide to leave the rest alone.")
            }
          </take>
          <object name="daisy">
            <inherit name="editor_object" />
            <look>A white and yellow daisy.</look>
            <takemsg type="string"></takemsg>
            <take type="script">
              if (not GetBoolean(daisies, "picked")) {
                msg ("You pick a daisy.")
                AddToInventory (daisy)
                SetObjectFlagOn (daisies, "picked")
              }
              else {
                msg ("You already picked one and decide to leave the rest alone.")
              }
            </take>
          </object>
        </object>
        <object name="roses">
          <inherit name="editor_object" />
          <inherit name="plural" />
          <usedefaultprefix type="boolean">false</usedefaultprefix>
          <look>Red roses grow on low shrubs nearby.  Watch out for the thorns!</look>
          <open type="boolean">false</open>
          <close type="boolean">false</close>
          <hidechildren />
          <take type="script">
            if (not GetBoolean(roses, "picked")) {
              msg ("You pick a rose from the nearest bush.  A thorn pricks your finger and snaps away from the stem.")
              AddToInventory (rose)
              AddToInventory (thorn)
              SetObjectFlagOn (roses, "picked")
            }
            else {
              msg ("Once bitten, twice shy.  You think you'll leave them alone now.")
            }
          </take>
          <object name="rose">
            <inherit name="editor_object" />
            <takemsg>You pick a rose from the nearest bush.  A thorn pricks your finger and snaps away from the stem.</takemsg>
            <look>A red rose.</look>
            <take type="script">
              if (not GetBoolean(roses, "picked")) {
                msg ("You pick a rose from the nearest bush.  A thorn pricks your finger and snaps away from the stem.")
                AddToInventory (rose)
                AddToInventory (thorn)
                SetObjectFlagOn (roses, "picked")
              }
              else {
                msg ("Once bitten, twice shy.  You think you'll leave them alone now.")
              }
            </take>
            <ontake type="script">
              AddToInventory (thorn)
            </ontake>
            <object name="thorn">
              <inherit name="editor_object" />
              <look>The sharp thorn already has a taste for blood.  Specifically yours.</look>
              <kick type="string"></kick>
              <drop type="script">
                RemoveObject (thorn)
                MoveObjectHere (Thorn Monster)
                msg ("You drop the thorn and take a step back as it changes form and grows before hitting the ground.  It quickly doubles you in size, becoming a spiny monster with a taste for your blood.")
              </drop>
              <kill type="scriptdictionary">
                <item key="sunflower">
                  msg ("You use the sunflower like a club and savagely beat the Thorn Monster.  You hear a snap and the stalk of the sunflower breaks, but your attack has thrown the monster off balance and you jab the broken stem into the monster's eye.  The monster lets out an agonized howl and collapses in front of you.")
                  RemoveObject (Thorn Monster)
                </item>
              </kill>
              <object name="Thorn Monster">
                <inherit name="editor_object" />
                <displayverbs type="stringlist">
                  <value>Look at</value>
                </displayverbs>
                <drop type="boolean">false</drop>
                <look>The monster lunges towards you, but you dodge its slow movements easily enough.  The thing is twice your size, with spines covering its body.  Vaguely human shaped, the monster lumbers around the garden after you.</look>
                <kill type="script"><![CDATA[
                  if (not Got(sunflower)) {
                    firsttime {
                      msg ("With your bare hands?  It'll kill you if you get too close without something to use as a weapon!")
                    }
                    otherwise {
                      msg ("You foolishly try again to get close enough to kill the monster with just your hands.  It scoops you up with one of its massive hands and you regret your decision as you feel hundreds of spines pierce your body.<br/><br/>Now you will never wake up.  <br/><br/>")
                      finish
                    }
                  }
                  else {
                    msg ("You wield the sunflower like a club and savagely beat the spiky monster.  You hear a snap as the stalk of the flower breaks from the violence, but your attack has thrown the monster off balance and you are able to jab the broken stalk into its eye.  The monster howls in agony and collapses.")
                    RemoveObject (Thorn Monster)
                    MoveObjectHere (body)
                  }
                ]]></kill>
                <useanything type="script">
                  msg ("You can't use that on the monster! It would kill you!")
                </useanything>
                <kick type="script"><![CDATA[
                  firsttime {
                    msg ("It'll kill you if you get too close without something to use as a weapon!")
                  }
                  otherwise {
                    msg ("You foolishly try again to get close enough to kick the monster to death.  It scoops you up with one of its massive hands and you regret your decision as you feel hundreds of spines pierce your body.<br/><br/>Now you will never wake up.  <br/><br/>")
                    finish
                  }
                ]]></kick>
                <useon type="scriptdictionary">
                  <item key="sunflower">
                    msg ("You wield the sunflower like a club and savagely beat the spiky monster.  You hear a snap as the stalk of the flower breaks from the violence, but your attack has thrown the monster off balance and you are able to jab the broken stalk into its eye.  The monster howls in agony and collapses.")
                    RemoveObject (Thorn Monster)
                    MoveObjectHere (body)
                  </item>
                </useon>
                <object name="body">
                  <inherit name="editor_object" />
                  <usedefaultprefix />
                  <listchildren type="boolean">false</listchildren>
                  <hidechildren />
                  <close type="boolean">false</close>
                  <open type="boolean">false</open>
                  <alias>monster corpse</alias>
                  <prefix>the</prefix>
                  <look type="script">
                    AddToInventory (rusty key)
                    msg ("You find an extremely large, slightly rusty key and take it with you.")
                  </look>
                  <object name="rusty key">
                    <inherit name="editor_object" />
                    <take />
                    <selfuseanything type="script">
                      msg ("You can't unlock that.")
                    </selfuseanything>
                    <selfuseon type="scriptdictionary">
                      <item key="fence gate">
                        UnlockExit (Gate)
                        msg ("You maneuver the large key into the gate and use your body weight to turn it.  The gate unlocks with a loud grating noise.")
                      </item>
                      <item key="fence">
                        UnlockExit (Gate)
                        msg ("You maneuver the large key into the gate and use your body weight to turn it.  The gate unlocks with a loud grating noise.")
                      </item>
                    </selfuseon>
                  </object>
                </object>
              </object>
            </object>
          </object>
        </object>
        <object name="tulips">
          <inherit name="editor_object" />
          <inherit name="plural" />
          <usedefaultprefix type="boolean">false</usedefaultprefix>
          <look>Orange and black tulips sit atop long green stalks among the other flowers.</look>
          <take type="script">
            if (not GetBoolean(tulips, "picked")) {
              msg ("You pick a tulip.")
              AddToInventory (tulip)
              SetObjectFlagOn (tulips, "picked")
            }
            else {
              msg ("You already picked one and decide to leave the rest alone.")
            }
          </take>
          <object name="tulip">
            <inherit name="editor_object" />
            <look>An orange and black tulip with a long green stem.</look>
            <take />
          </object>
        </object>
        <object name="marigolds">
          <inherit name="editor_object" />
          <inherit name="plural" />
          <usedefaultprefix type="boolean">false</usedefaultprefix>
          <take type="script">
            if (not GetBoolean(marigolds, "picked")) {
              msg ("You pick a marigold.")
              AddToInventory (marigold)
              SetObjectFlagOn (marigolds, "picked")
            }
            else {
              msg ("You already picked one and decide to leave the rest alone.")
            }
          </take>
          <object name="marigold">
            <inherit name="editor_object" />
            <look>A cheerful yellow and orange flower. </look>
            <take />
          </object>
        </object>
        <object name="sunflowers">
          <inherit name="editor_object" />
          <inherit name="plural" />
          <usedefaultprefix type="boolean">false</usedefaultprefix>
          <take type="script">
            if (not GetBoolean(sunflowers, "picked")) {
              msg ("You pick a sunflower.")
              AddToInventory (sunflower)
              SetObjectFlagOn (sunflowers, "picked")
            }
            else {
              msg ("You already picked one and decide to leave the rest alone.")
            }
          </take>
          <object name="sunflower">
            <inherit name="editor_object" />
            <look>A large flower with lots of yellow petals surrounding a black, bumpy center.  The stalk is thick and strong to be able to support the hard, heavy flower. </look>
            <take />
          </object>
        </object>
      </object>
      <object name="fence">
        <inherit name="editor_object" />
        <scenery />
        <look>A tall wrought-iron fence in the distance is covered in ivy.</look>
        <alt type="stringlist">
          <value>ivy</value>
        </alt>
        <takemsg>It's too far away.  And probably stuck in the ground.</takemsg>
      </object>
      <exit alias="east" to="Flower Garden shorter">
        <inherit name="eastdirection" />
      </exit>
      <exit alias="south" to="Flower Garden shorter">
        <inherit name="southdirection" />
      </exit>
    </object>
    <object name="Flower Garden shorter">
      <inherit name="editor_room" />
      <alias>Flower Garden</alias>
      <description>You notice that all the flowers in this part of the garden seem smaller and daintier than they normally would.  You wonder if the plants in this section are some sort of genetic experiment.  You can see a wrought iron fence in the distance, and spot the gate to the east.</description>
      <object name="flowers smaller">
        <inherit name="editor_object" />
        <inherit name="plural" />
        <alias>flowers</alias>
        <scenery />
        <alt type="stringlist">
          <value>daisies</value>
          <value>roses</value>
          <value>tulips</value>
          <value>marigolds</value>
          <value>sunflowers</value>
        </alt>
        <displayverbs type="stringlist">
          <value>Look at</value>
        </displayverbs>
        <drop type="boolean">false</drop>
        <takemsg>The flowers look too delicate to touch.  </takemsg>
        <look>The flowers around you are small and fragile looking.  Your hands look like clumsy slabs of meat in comparison.</look>
      </object>
      <exit alias="west" to="Flower Garden">
        <inherit name="westdirection" />
      </exit>
      <exit alias="east" to="At The Gate">
        <inherit name="eastdirection" />
      </exit>
    </object>
  </object>
  <command name="fg">
    <pattern>fg</pattern>
    <unresolved>fg</unresolved>
    <script>
      msg ("(You found a play-test secret command.)  You will yourself into the flower garden.")
      MoveObject (player, Flower Garden)
    </script>
  </command>
  <command name="maze">
    <pattern>maze</pattern>
    <unresolved>maze</unresolved>
    <script>
      if (game.pov.parent = Underground Caverns) {
        msg ("(You found a play-test secret command.)  You deftly walk through the caverns until you come across one with a brightly lit crack in the wall.")
        MoveObject (player, Caverns11)
      }
      else {
        msg ("(You found a play-test secret command.  But it doesn't work here.)")
      }
    </script>
  </command>
  <object name="At The Gate">
    <inherit name="editor_room" />
    <usedefaultprefix type="boolean">false</usedefaultprefix>
    <description>You reach the wrought iron fence and stand before the gate.  From afar, the fence looked like a normal-sized fence, but up close you discover that it reaches far above your head.  The flowers in this part of the garden also look miles tall, way taller than you would have thought possible.</description>
    <object name="flowers tall">
      <inherit name="editor_object" />
      <inherit name="plural" />
      <scenery />
      <takemsg>The flowers here are bigger than you are.  Taking one would be impossible.</takemsg>
      <drop type="boolean">false</drop>
      <look>The flowers here are the same types as in the rest of the garden, but they dwarf you in size.  The stems are as big around as trees, and some of the leaves look at least as big as your head.</look>
      <object name="leaves">
        <inherit name="editor_object" />
        <inherit name="plural" />
        <scenery />
        <look>The leaves look nearly translucent in the sunlight.  Upon closer inspection, you see that the veins spell the words "WAKE UP".</look>
      </object>
    </object>
    <exit alias="west" to="Flower Garden shorter">
      <inherit name="westdirection" />
    </exit>
    <exit name="Gate" alias="east" to="Hospital Room">
      <inherit name="eastdirection" />
      <locked />
      <lockmessage>The gate is locked and you see no way around or through the fence.  You see an old, slightly rusty keyhole set near the latch.</lockmessage>
    </exit>
    <object name="fence gate">
      <inherit name="editor_object" />
      <scenery />
      <alias>gate</alias>
      <unlock type="script">
        if (Got(rusty key)) {
          msg ("You maneuver the large key into the gate and use your body weight to turn it. The gate unlocks with a loud grating noise.")
          UnlockExit (Gate)
        }
        else {
          msg ("The keyhole is big, but not so big you can crawl inside to pick the lock.  You will need to find the key.")
        }
      </unlock>
    </object>
  </object>
  <command name="light">
    <pattern>light</pattern>
    <unresolved>light</unresolved>
    <script>
      AddToInventory (Amulet)
      msg ("(You found a play-test secret command.) You find an amulet on the ground and pick it up.")
    </script>
  </command>
  <command name="about">
    <pattern>about</pattern>
    <unresolved>about</unresolved>
    <script><![CDATA[
      msg ("Thanks for playing my first text game and taking the time to read this about page!  <br/><br/>There isn't much to say about the game, I wrote this game to work out learning how to program game puzzles so that I could focus more on the story writing for another game that is in progress at this time.  <br/><br/>Thanks to all my wonderful play testers, I couldn't have done it without your help!<br/><br/>Coding help:<br/>Jay Nabonne<br/><br/>Alpha testers:<br/>Jay Nabonne<br/>Ertwin<br/>Roland<br/>Ken<br/>Liam<br/>Clayton<br/><br/>Beta testers:<br/><br/>")
    ]]></script>
  </command>
  <verb>
    <property>draw</property>
    <pattern>draw</pattern>
    <defaultexpression>"You can't draw " + object.article + "."</defaultexpression>
  </verb>
  <verb>
    <property>colour</property>
    <pattern>colour</pattern>
    <defaultexpression>"You can't colour " + object.article + "."</defaultexpression>
  </verb>
  <verb>
    <property>pay</property>
    <pattern>pay</pattern>
    <defaultexpression>"You can't pay " + object.article + "."</defaultexpression>
  </verb>
  <verb>
    <property>pick</property>
    <pattern>pick</pattern>
    <defaultexpression>"You can't pick " + object.article + "."</defaultexpression>
  </verb>
  <verb>
    <property>fix</property>
    <pattern>fix </pattern>
    <defaultexpression>"You can't fix  " + object.article + "."</defaultexpression>
  </verb>
</asl>