<!--Saved by Quest 5.5.5328.26617-->
<asl version="550">
  <include ref="English.aslx" />
  <include ref="Core.aslx" />
  <include ref="dimsome.aslx" />
  <include ref="ConvLib.aslx" />
  <include ref="retrostyle.aslx" />
  <include ref="retrostyle.aslx" />
  <template name="UnrecognisedCommand">Huh?</template>
  <template name="ContinueLabel"></template>
  <game name="cloud9">
    <gameid>e55fa912-0986-479b-a1c1-bdd07ab89b48</gameid>
    <version>1.0</version>
    <firstpublished>2014</firstpublished>
    <css><![CDATA[
    
       <style type="text/css">
        body {
            line-height: 1.2em;
          }
       
        div#txtCommandDiv {
            border:0;
            background: no-repeat;
            font-size:10px;
            font-family:'Trebuchet MS', Helvetica, sans-serif;
            
          }
          input#txtCommand {
            outline:none;
            border:0;
            font-size:10px;
            margin:0;
            padding:0;
            max-width: 1000px;
          }
          
                    
          </style>
    
                                                                                                                                                                                                                                                                                                ]]></css>
    <showtitle type="boolean">false</showtitle>
    <enablehyperlinks />
    <defaultfontsize type="int">11</defaultfontsize>
    <setbackgroundopacity />
    <backgroundopacity type="double">1</backgroundopacity>
    <showpanes type="boolean">false</showpanes>
    <showcommandbar />
    <showlocation type="boolean">false</showlocation>
    <showborder type="boolean">false</showborder>
    <attr name="autodescription_youcansee" type="int">0</attr>
    <attr name="autodescription_youcango" type="int">0</attr>
    <attr name="autodescription_youarein_useprefix" type="boolean">false</attr>
    <autodescription />
    <setcustomwidth />
    <customwidth type="int">1270</customwidth>
    <setcustompadding />
    <custompaddingright type="int">500</custompaddingright>
    <custompaddingleft type="int">100</custompaddingleft>
    <defaultfont>'Trebuchet MS', Helvetica, sans-serif</defaultfont>
    <defaultwebfont>ABeeZee</defaultwebfont>
    <defaultbackground>Black</defaultbackground>
    <defaultforeground>LightGrey</defaultforeground>
    <showdescriptiononenter />
    <attr name="changeroom_newline" type="boolean">false</attr>
    <attr name="autodescription_youarein" type="int">0</attr>
    <cover>futurecity 2.jpg</cover>
    <custompaddingbottom type="int">100</custompaddingbottom>
    <echocommand />
    <attr name="autodescription_youcango_newline" type="boolean">false</attr>
    <appendobjectdescription type="boolean">false</appendobjectdescription>
    <category>Sci-Fi</category>
    <autodisplayverbs type="boolean">false</autodisplayverbs>
    <feature_asktell />
    <feature_lightdark />
    <underlinehyperlinks />
    <defaultlinkforeground>LightGrey</defaultlinkforeground>
    <start type="script">
      JS.JS.eval ("getCSSRule('a.cmdlink').style.color='#ffffff'")
    </start>
    <roomenter type="script">
    </roomenter>
    <echohyperlinks type="boolean">false</echohyperlinks>
    <turnscript>
      <enabled />
      <script>
        JS.eval ("$('div[id^=\"divOutputAlign\"]').css('opacity', '0.5');")
        JS.eval ("getCurrentDiv().css('opacity', '1.0');")
      </script>
    </turnscript>
    <object name="apartment folder">
      <inherit name="editor_room" />
      <object name="bedroom">
        <inherit name="editor_room" />
        <description type="script"><![CDATA[
          if (GetBoolean(player, "night")) {
            ClearScreen
            msg ("Bedroom. Night time.")
          }
          else {
            firsttime {
              msg ("The soft, female tones of your alarm clock drift into your subconcious. \"Good morning, sir, this is your eight am wake-up call.\"<br/>")
              SetTimeout (3) {
                msg ("You throw back the covers with a groan, and climb out of bed.<br/><br/>An expanse of glass overlooks the darkened city below.  You can't remember the last time you saw a clear sky.<br/><br/>A door leads to the bathroom while an archway gives access to the lounge area.<br/>")
              }
            }
            otherwise {
              msg ("Your bed lies unmade on the far wall.<br/><br/>A door leads to the bathroom while an archway gives access to the lounge area. <br/>")
            }
          }
        ]]></description>
        <enter type="script">
        </enter>
        <exit alias="lounge" to="lounge" />
        <exit alias="bathroom" to="bathroom" />
        <object name="bed">
          <inherit name="editor_object" />
          <drop type="boolean">false</drop>
          <look>The bed is as wide as it is long. The ruffled sheets are a mixture of tasteful chocolate browns and beiges.</look>
          <feature_usegive />
          <climb type="string"></climb>
          <lie>You climb on the bed and close your eyes.</lie>
          <takemsg>It's bolted to the floor.</takemsg>
          <use type="script">
            msg ("You climb on the bed and close your eyes.")
          </use>
        </object>
        <object name="clothes">
          <inherit name="editor_object" />
          <take />
          <drop type="boolean">false</drop>
          <scenery />
          <look>A crumpled pair of black slacks, red shirt and a pair of suede shoes.</look>
          <wear type="script">
            if (GetBoolean(player, "clotheson")) {
              msg ("You're already wearing the clothes.")
            }
            else {
              msg ("You give the clothes a quick smell before shrugging and putting them on.")
              SetObjectFlagOn (player, "clotheson")
            }
          </wear>
        </object>
        <object name="window">
          <inherit name="editor_object" />
          <takemsg>If you do that, your room will collapse. Now stop being silly.</takemsg>
          <look>You step up to the window and notice the grime on the outside of the glass. Below, the city streets are glistening, reflecting the many neons lining the sidewalks.</look>
        </object>
        <exit alias="northeast" to="millers bar ext">
          <inherit name="northeastdirection" />
        </exit>
        <exit to="bedroom" />
      </object>
      <object name="lounge">
        <inherit name="editor_room" />
        <description type="script"><![CDATA[
          if (Got(gun)) {
            if (Got(cellphone)) {
              msg ("The lounge is large and open-plan. It's why you choose the apartment... that and the security of having your own, retina-scan operated elevator. It came at a price, but you had money... back then.<br/><br/>A kitchen lies at the far end. A door leads to your bedroom and an elevator gives access to the streets outside.<br/><br/>There is a smoked-glass coffee table here.")
            }
            else {
              msg ("The lounge is large and open-plan. It's why you choose the apartment... that and the security of having your own, retina-scan operated elevator. It came at a price, but you had money... back then.<br/><br/>A kitchen lies at the far end. A door leads to your bedroom and an elevator gives access to the streets outside.<br/><br/>There is a smoked-glass coffee table on which sits a cellphone.")
            }
          }
          else {
            if (Got(cellphone)) {
              msg ("The lounge is large and open-plan. It's why you choose the apartment... that and the security of having your own, retina-scan operated elevator. It came at a price, but you had money... back then.<br/><br/>A kitchen lies at the far end. A door leads to your bedroom and an elevator gives access to the streets outside.<br/><br/>There is a smoked-glass coffee table on which sits a gun.")
            }
            else {
              msg ("The lounge is large and open-plan. It's why you choose the apartment... that and the security of having your own, retina-scan operated elevator. It came at a price, but you had money... back then.<br/><br/>A kitchen lies at the far end. A door leads to your bedroom and an elevator gives access to the streets outside.<br/><br/>There is a smoked-glass coffee table on which sits a gun and a cellphone.")
            }
          }
        ]]></description>
        <onexit type="script">
        </onexit>
        <enter type="script">
        </enter>
        <exit to="bedroom" />
        <exit to="kitchen" />
        <object name="cellphone">
          <inherit name="editor_object" />
          <inherit name="switchable" />
          <look>A Pear ePhone 6 in black.</look>
          <take />
          <takemsg>You grab the phone and drop it into your pocket.</takemsg>
          <feature_usegive />
          <feature_switchable />
          <dropmsg>You think better and decide to keep hold of it for now.</dropmsg>
          <onswitchon type="script">
          </onswitchon>
          <onswitchoff type="script">
          </onswitchoff>
        </object>
        <exit alias="lift; elevator" to="elevator">
          <scenery type="boolean">false</scenery>
          <prefix type="string"></prefix>
        </exit>
        <command>
          <pattern>use lift; use elevator</pattern>
          <script>
            MoveObject (player, elevator)
          </script>
        </command>
        <object name="table lounge">
          <inherit name="editor_object" />
          <alias>table</alias>
          <look>It's a smoked-glass table with a frame made from carbon nanotubes.</look>
        </object>
      </object>
      <object name="bathroom">
        <inherit name="editor_room" />
        <description><![CDATA[As you enter the bathroom the ceiling panel lights buzz and flicker into life . You inspect your reflection, rubbing at the stuble on your face and contemplating a shave.<br/><br/>A razor sits on the small glass shelf beneath the mirror.<br/><br/>To your right is the toilet, and to your left a wet-room.]]></description>
        <object name="razor">
          <inherit name="editor_object" />
          <take />
          <takemsg>You pick it up and check the blades. Looks clean enough.</takemsg>
          <dropmsg>You place the razor back on the shelf.</dropmsg>
          <look>It's a simple three-bladed razor and looks relatively new.</look>
          <alt type="stringlist" />
          <feature_usegive />
          <use type="script"><![CDATA[
            msg ("You lather your face with shaving cream and begin scraping away at the three-day stubble.<br/><br/>Five minutes later and clean shaven, you feel remarkable refreshed.")
          ]]></use>
        </object>
        <object name="toilet">
          <inherit name="editor_object" />
          <look>Nothing out of the ordinary here - just a bog-standard bog.</look>
          <takemsg>It's bolted to the floor</takemsg>
          <drop type="boolean">false</drop>
          <feature_usegive />
          <sit>It's not the most comfortable place to sit.</sit>
          <use type="script">
            if (GetBoolean(player, "boguse")) {
              msg ("You've already been.")
            }
            else {
              msg ("You approach the toilet and pull out your member. The flow comes easily and you sigh as you feel your bladder emptying.")
              SetObjectFlagOn (player, "boguse")
            }
          </use>
        </object>
        <object name="wetroom">
          <inherit name="editor_object" />
          <look>The wetroom takes up half the bathroom space, and it's a big bathroom.</look>
          <takemsg>Don't be silly.</takemsg>
          <feature_usegive />
          <alt type="stringlist">
            <value>shower</value>
          </alt>
          <use type="script"><![CDATA[
            if (GetBoolean(player, "hadshower")) {
              msg ("You've already showered.")
            }
            else {
              msg ("You turn on the shower and step under the steaming jet of water coming from the multiple heads. You wash away last night's filth, standing with your head bowed. The sensation of the water cascading over your face is wonderful.<br/><br/>Ten minutes later you step out and begin patting yourself dry with a towel.")
              SetObjectFlagOn (player, "hadshower")
            }
          ]]></use>
        </object>
        <exit alias="bedroom" to="bedroom" />
      </object>
      <object name="kitchen">
        <inherit name="editor_room" />
        <description type="script"><![CDATA[
          if (Got(torch)) {
            if (Got(cigarettes)) {
              msg ("A seldom used place, at least for cooking, evident by the pristine hob in the work surface.<br/><br/>The lounge is situated at the opposite end and an elevator in the wall to you left leads to the streets outside.<br/><br/>A silver fridge sits at one end.<br/>")
            }
            else {
              msg ("A seldom used place, at least for cooking, evident by the pristine hob in the work surface.<br/><br/>The lounge is situated at the opposite end and an elevator in the wall to you left leads to the streets outside.<br/><br/>A silver fridge sits at one end and on the work surface by its side lies a packet of cigarettes.<br/>")
            }
          }
          else {
            if (Got(cigarettes)) {
              msg ("A seldom used place, at least for cooking, evident by the pristine hob in the work surface.<br/><br/>The lounge is situated at the opposite end and an elevator in the wall to you left leads to the streets outside.<br/><br/>A silver fridge sits at one end and on the work surface by its side lies a torch.<br/>")
            }
            else {
              msg ("A seldom used place, at least for cooking, evident by the pristine hob in the work surface.<br/><br/>The lounge is situated at the opposite end and an elevator in the wall to you left leads to the streets outside.<br/><br/>A silver fridge sits at one end and on the work surface by its side lies a torch, a packet of cigarettes.<br/>")
            }
          }
        ]]></description>
        <object name="fridge">
          <inherit name="editor_object" />
          <inherit name="openable" />
          <look>Nothing special. Its the same fridge you've had for the last four years.</look>
          <attr name="feature_usegive" type="boolean">false</attr>
          <feature_container />
          <use type="script">
            msg ("The smell of something long past its sell-by date rushes your nostrils. You recoil and close the door.")
          </use>
          <openscript type="script">
            msg ("The stench of something long past its sell-by day invades your nostrils. You recoil and close the door.")
          </openscript>
        </object>
        <object name="hob">
          <inherit name="editor_object" />
          <inherit name="switchable" />
          <look>It's a hob, unused.</look>
          <feature_switchable />
          <switchonmsg>The hob is now on.</switchonmsg>
          <switchoffmsg>The hob is off.</switchoffmsg>
        </object>
        <exit to="lounge" />
        <exit alias="lift; elevator" to="elevator" />
        <command>
          <pattern>use lift; use elevator; go lift; go elevator; use the elevator; use the lift</pattern>
          <script>
            MoveObject (player, elevator)
          </script>
        </command>
        <object name="cigarettes">
          <inherit name="editor_object" />
          <feature_usegive />
          <take />
          <alt type="stringlist">
            <value>cigs</value>
            <value>fags</value>
            <value>cig</value>
            <value>fag</value>
          </alt>
          <takemsg>You pick up the packet of cigarettes and slip them into your pocket.</takemsg>
          <dropmsg>You drop the packet of ciagrettes.</dropmsg>
          <look>It's a softpak of 20 Morfield Lights, with two already smoked.</look>
          <use type="script">
            if (GetBoolean(player, "cigbut")) {
              msg ("You're already smoking one.")
            }
            else {
              msg ("You grab the pack from you pocket and tap one into your hand. You light it and inhale deeply")
              SetObjectFlagOn (player, "cigbut")
              SetTimeout (120) {
                msg ("You take a final drag from the cigarette before flicking it into the air.")
                SetObjectFlagOff (player, "cigbut")
              }
            }
          </use>
          <smoke type="script">
            if (GetBoolean(player, "cigbut")) {
              msg ("You're already smoking one.")
            }
            else {
              msg ("You grab the pack from you pocket and tap one into your hand. You light it and inhale deeply")
              SetObjectFlagOn (player, "cigbut")
              SetTimeout (10) {
                msg ("You take a final drag from the cigarette before flicking it into the air.")
                SetObjectFlagOff (player, "cigbut")
              }
            }
          </smoke>
          <light type="script">
            if (GetBoolean(player, "cigbut")) {
              msg ("You're already smoking one.")
            }
            else {
              msg ("You grab the pack from you pocket and tap one into your hand. You light it and inhale deeply")
              SetObjectFlagOn (player, "cigbut")
              SetTimeout (10) {
                msg ("You take a final drag from the cigarette before flicking it into the air.")
                SetObjectFlagOff (player, "cigbut")
              }
            }
          </light>
          <have type="script">
            if (GetBoolean(player, "cigbut")) {
              msg ("You're already smoking one.")
            }
            else {
              msg ("You grab the pack from you pocket and tap one into your hand. You light it and inhale deeply")
              SetObjectFlagOn (player, "cigbut")
              SetTimeout (10) {
                msg ("You take a final drag from the cigarette before flicking it into the air.")
                SetObjectFlagOff (player, "cigbut")
              }
            }
          </have>
        </object>
      </object>
      <object name="elevator">
        <alias>lift; elevator</alias>
        <open />
        <feature_usegive />
        <drop type="boolean">false</drop>
        <description type="script"><![CDATA[
          msg ("Going down.<br/><br/>Please wait...<br/>")
          SetTimeout (2) {
            MoveObject (player, outside)
          }
        ]]></description>
        <use type="script"><![CDATA[
          msg ("Going down.<br/><br/>Please wait...")
          SetTimeout (4) {
          }
          MoveObject (player, outside)
        ]]></use>
      </object>
      <object name="lounge2">
        <inherit name="editor_room" />
        <description type="script"><![CDATA[
          ClearScreen
          if (GetBoolean(player, "lancesearched")) {
            msg ("Back at your apartment, you relax with a scotch while you examine the items taken from Lance.<br/>")
          }
        ]]></description>
      </object>
      <object name="epad use">
        <inherit name="editor_room" />
        <object name="login">
          <inherit name="editor_room" />
        </object>
        <object name="logout">
          <inherit name="editor_room" />
          <description type="script"><![CDATA[
            msg ("Logging off. Please wait...<br/>")
            SetTimeout (3) {
              msg ("You pour yourself another scotch and contemplate your option. The kitchen is bare, you're running out of scotch, and you're tired.")
            }
          ]]></description>
          <exit to="kitchen" />
          <exit to="bedroom" />
          <exit to="elevator" />
        </object>
      </object>
    </object>
    <object name="dawsons office rooms">
      <inherit name="editor_room" />
      <object name="dawsons outside">
        <inherit name="editor_room" />
        <description type="script"><![CDATA[
          if (GetBoolean(player, "night")) {
            msg ("The sign above the main entrance is entinquished and the doors and windows are shuttured sescurley.<br/><br/>Back to the west you can just make out the lights around the entrance to your apartment.<br/>")
          }
          else {
            msg ("The sign above the main entrance reads <b>Dawsons Expert Systems</b>.  Large, double glass doors lead through to the reception.<br/><br/>To the west you can just make out the entrance to your apartment through the rows of food stalls and people.<br/>")
          }
        ]]></description>
        <exit alias="west" to="outside">
          <inherit name="westdirection" />
        </exit>
        <exit alias="dawsons" to="dawsons" />
        <command>
          <pattern>enter; enter building; open door; go dawsons; enter dawsons</pattern>
          <script>
            if (GetBoolean(player, "night")) {
              msg ("A hologramatical sign with the company's opening times, floats in front of the shuttering")
            }
            else {
              MoveObject (player, dawsons)
            }
          </script>
        </command>
        <object name="dawson office">
          <inherit name="editor_room" />
          <alias>office</alias>
          <description><![CDATA[Dawson is already getting to his feet as you enter his office. He steps from behnd his desk and still hasn't smiled as you approach one another.<br/><br/>"I'm glad you've called," he says, "I've put this together for you. It's all the information I have. It's all I know." He leans in close and hisses in your ear, "Don't fucking lose it."<br/><br/>He holds out a small black notebook. "I could have given you this information digitally... sent it to your phone, whatever, but I know if that falls into the wrong hands it's not going to get traced back to me. Safer all round. I had a few of my contacts gather this information, but it's as far as they were prepared to go... and they weren't best pleased about doing that." He opens the notebook and shows you a small photo lying between the pages. "There's also this - it's a photo of Yazmin. A bit worn, but you're not having my decent ones." He prods the notebook towards you. "Here, take them."]]></description>
          <exit alias="out" to="dawsons">
            <inherit name="outdirection" />
          </exit>
          <command>
            <pattern>leave office; go out; leave; leave room</pattern>
            <script>
              MoveObject (player, dawsons)
            </script>
          </command>
          <command>
            <pattern>use gun; fire gun; kill dawson; kill frank; kill dawson with gun; kill frank with gun; shoot dawson; shoot frank</pattern>
            <script>
              msg ("You think about it, but quickly realise what a stupid move that would be.")
            </script>
          </command>
        </object>
      </object>
      <object name="dawsons">
        <inherit name="editor_room" />
        <alias>dawsons</alias>
        <description type="script"><![CDATA[
          firsttime {
            msg ("You step inside and approach the receptionist. She smiles at you and says, \"Yes, sir, can I help you?\"<br/><br/>\"I'm here to see Mr Dawson,\" you reply.<br/><br/>She picks up the phone and places a hand over the mouthpiece. \"What name is it, please?\"<br/><br/>You hesitate. \"Just tell him his new employee needs to speak to him. He'll know what you mean.\"<br/><br/>The woman eyes you suspiciously before speaking into the phone. A breif moment later she hangs up and gestures towards a door to you left.<br/><br/>The sign on the office door says <b>Frank Dawson CEO</b><br/><br/>West will return you to the street outside.<br/>")
          }
          otherwise {
            msg ("You are in the foyer of Dawsons. The receptionist busies herself behind a large U-shaped entry desk.<br/><br/>West will return you to the street outside.<br/>")
          }
        ]]></description>
        <exit alias="west" to="dawsons outside">
          <inherit name="westdirection" />
        </exit>
        <command>
          <pattern>enter; enter office; go office; open door</pattern>
          <script>
            firsttime {
              MoveObject (player, dawson office)
            }
            otherwise {
              msg ("You knock but get no reply. You try the door but it's locked.")
            }
          </script>
        </command>
      </object>
    </object>
    <object name="intro">
      <inherit name="editor_room" />
      <description type="script"><![CDATA[
        picture ("futurecity 3.jpg")
        msg ("2068 and civilisation is not as it were. Cities are overcrowded and illegal narcotics rife. You can hardly blame these people, though – mind-drugs are just about their only escape from this hell-hole we call earth.<br/><br/>Most of the stuff out there is harmless enough; Virtual Dream Enhancers, Deep Sleepers, Instant Inebriates... but there's a new one on the market, and a particularity dangerous one at that. On the street, it goes by the name of Cloud9 - Trapemiumbenzodipotream if you want to get chemical. It's primary purpose is recreational, offering a euphoric high like nothing before, but the come-downs are devastating, triggering suicidal desires in many users, and unbridled aggression in others.<br/><br/>The enforcement department, such as they are, have turned a blind eye to the problem – no doubt paid off by the drug's developers, but there are many who want to see it gone for good.<br/><br/>One such man has good reason. He lost his daughter to the drug and is willing to pay good money to anyone who can bring the production of Cloud9 to a stop, by whatever means possible. He doesn't advertise the job, for obvious reasons, but he's heard of your record and reputation for getting jobs done.<br/><br/>A fee was agreed and you shook hands before going home to get a good night's sleep – probably your last for the foreseeable.<br/><br/>Stand by...<br/>")
        wait {
          MoveObject (player, bedroom)
        }
      ]]></description>
    </object>
    <object name="outside locations">
      <inherit name="editor_room" />
      <object name="the slums">
        <inherit name="editor_room" />
        <alias>slums</alias>
        <description type="script"><![CDATA[
          if (GetBoolean(player, "night")) {
            msg ("As you near the slums, dark figures seem to lurk or duck into every avaialable shadow and crevise. The air is thick with the stench of unwashed bodies and various chemicals.<br/><br/>The drug den in the derelict apartments to your north lies quiet. A thick metal door seals the entrance - seems even the criminal professions like to keep regular hours these days.<br/>")
          }
          else {
            firsttime {
              msg ("As you near the slums you can feel the air begin to change. Everything seems darker here, although you know it's just your imagination. Those having just used don't hang around here - too depressing. No, you'll only ever find those who are coming down lurking about this place.<br/><br/>Many of the apartment entrances are boarded up, but the clean-up process was never really intended as anything other than a mild deterent - a gesture by the authorities, to show that something was being done about the problem.<br/><br/>Tiny glass vials litter the area, snapped at the neck. You recognise the vessels as those that carry the drug Cloud9. Appartenly the clear liquid tastes lke battery acid, but what do they care? Three minutes later they'll be higher than the highest kite.<br/><br/>A fair amount of noise and activity is coming from one of the apartments to your north. A black rectangle in the wall leads into the darkness.<br/><br/>Your apartment back to the east is just visiable through the crowds of people. Further west lies the shuttle service.<br/>")
            }
            otherwise {
              msg ("A fair amount of noise and activity is coming from one of the apartments to your north. A black rectangle in the wall where the boarding once stood leads into the darkness.<br/><br/>Your apartment lies to the east and further west is the shuttle service.<br/>")
            }
            if (GetBoolean(player, "knapsack")) {
              msg ("You check for prying eyes again, then duck down quickly and retrive your knapsack from the pile of cardboard boxes.<br/>")
              MoveObject (knapsack, player)
              SetObjectFlagOff (player, "knapsack")
            }
          }
        ]]></description>
        <beforeenter type="script">
        </beforeenter>
        <exit alias="east" to="outside">
          <inherit name="eastdirection" />
        </exit>
        <exit alias="north" to="drugden">
          <inherit name="northdirection" />
        </exit>
        <exit alias="west" to="shuttle service">
          <inherit name="westdirection" />
        </exit>
        <command>
          <pattern>n; north; go hole; enter apartment; go apartment; open steel door; open metal door; shoot lock; shoot lock on metal door; kick steel door; use crowbar; use crowbar on door</pattern>
          <script><![CDATA[
            if (GetBoolean(player, "night")) {
              msg ("On closer inspection you realise there's no way through the steel door, especially with so many bodies about. There must be another way in.<br/>")
            }
            else {
              msg ("You really don't want to go in there unarmed, but a body search is inevitable. You look around to make sure the coast is clear before hiding your knapsack and its contents in a pile of cardboard boxes that have been dumped near the entrance.<br/>")
              RemoveObject (knapsack)
              wait {
                MoveObject (player, drugden)
              }
            }
          ]]></script>
        </command>
      </object>
      <object name="outside">
        <inherit name="editor_room" />
        <alias>street</alias>
        <description type="script"><![CDATA[
          if (GetBoolean(player, "night")) {
            msg ("More rain has fallen during your sleep and the black streets glisten with silver, red and gold reflections from the neons and Chinese lanterns decorating the stalls and stores lining the main road.<br/><br/>Dawsons Expert Systems lie to the east, shuttered down for the night.<br/><br/>West, The Slums - far more active and dangerous at this time of night.<br/><br/>The elevator from which you've just stepped, leads back to your apartment.<br/>")
          }
          else {
            firsttime {
              msg ("It's been raining again and dirty puddles have collected where ever you want to step. Rubbish seems to be everywhere you look; empty food cartons, cigarette packets, bottles... the sanitory droids must still be in maintainence.<br/><br/>Food stalls line the whole length of the street and you can't walk five paces without banging shoulders with someone. You remember the first time you moved here, constantly apologising and exscusing yourself for every little bump and collision. Not any more, and especially not today.<br/><br/>Over on the east block is Dawsons - the company owned by your employer Frank Dawson, the man who lost his daughtert to Cloud9 and who's paying you a large sum of money to bring the developers of the drug to justice. You've discussed the contract and conditions already, but maybe there's more he can tell you about his daughter.<br/><br/>And then there's the users themselves, of course, over in the slums on the west side of town, where few dare to venture.<br/><br/>An elevator leads back to your apartment.<br/>")
            }
            otherwise {
              msg ("Food stalls line the street and people are milling about everywhere. An elevator leads up to your apartment.<br/><br/>Dawsons Electronics lies to the east. West will take you to the slums.")
            }
          }
        ]]></description>
        <enter type="script">
        </enter>
        <exit name="retscanopen" alias="lift; elevator" to="elevator2">
          <locked />
          <lockmessage>There are no buttons for calling the elevator.</lockmessage>
        </exit>
        <exit alias="east" to="dawsons outside">
          <inherit name="eastdirection" />
        </exit>
        <exit alias="west" to="the slums">
          <inherit name="westdirection" />
        </exit>
        <object name="retscan">
          <inherit name="editor_object" />
          <alias>scanner; scan; retina scan</alias>
          <alt type="stringlist">
            <value>scanner</value>
            <value>scan</value>
            <value>retina scan</value>
            <value>retina scanner</value>
          </alt>
          <drop type="boolean">false</drop>
          <feature_usegive />
          <use type="script"><![CDATA[
            firsttime {
              msg ("You approach the scanner and rest your head againsts the rubber surround. A soft red light pans across your eyes and emits a high-piched bleep.")
              UnlockExit (retscanopen)
            }
            otherwise {
              msg ("You rest your head againsts the rubber surround and wait for the beep.<br/><br/>The lift doors open and you step inside.<br/>")
              MoveObject (player, elevator2)
            }
          ]]></use>
        </object>
        <command>
          <pattern>use lift; use elevator</pattern>
          <script>
            MoveObject (player, elevator2)
          </script>
        </command>
        <object name="podrankmillers">
          <inherit name="editor_room" />
          <description type="script"><![CDATA[
            if (GetBoolean(player, "night")) {
              msg ("Shuttle Service - Millers Bar. Night time.")
            }
            else {
              msg ("<br/>A short line of pods lie in wait.<br/><br/>North leads to Millers Bar")
            }
          ]]></description>
          <exit alias="north" to="industrial park">
            <inherit name="northdirection" />
          </exit>
          <exit alias="east" to="the slums">
            <inherit name="eastdirection" />
          </exit>
          <object name="pod2">
            <inherit name="editor_player" />
            <inherit name="editor_room" />
            <alias>pod2</alias>
            <alt type="stringlist">
              <value>shuttle</value>
            </alt>
            <drop type="boolean">false</drop>
            <ride type="string"></ride>
            <hire type="string"></hire>
            <hail type="string"></hail>
            <feature_usegive />
            <attr name="feature_container" type="boolean">false</attr>
            <attr name="feature_player" type="boolean">false</attr>
            <use type="script"><![CDATA[
              msg ("The door hisses and slides into the body of the pod. You step inside and sit in the nearest seat, hitting the button to close the door as you do so.<br/><br/>A polite sounding male voice greets you. \"Good morning. Please state your destination when ready.\"")
              get input {
                if (LCase(result)="wilsons palace") {
                  MoveObject (player, wilsons palace)
                }
                else if (LCase(result)="millers bar") {
                  MoveObject (player, millers bar)
                }
                else if (LCase(result)="oaklie towers") {
                  MoveObject (player, oaklie towers)
                }
              }
            ]]></use>
            <description type="script"><![CDATA[
              if (GetBoolean(player, "beenmillers")) {
                msg ("The door hisses and slides into the body of the pod. You step inside and sit in the nearest seat, hitting the button to close the door as you do so.<br/><br/>A polite sounding male voice greets you. \"Good morning. Please choose from the list of available destinations and state your choice clearly.\"<br/><br/><b>Oaklie Towers<br/>Wilsons Palace<br/>Shuttle Service</b>")
              }
            ]]></description>
            <command>
              <pattern>leave; leave pod; out; open; open pod; open door; get out; get out of pod</pattern>
              <script><![CDATA[
                msg ("You hit the door release button and climb out.<br/>")
                MoveObject (player, shuttle service)
              ]]></script>
            </command>
            <exit alias="out" to="shuttle service">
              <inherit name="outdirection" />
            </exit>
            <exit to="millers bar ext" />
            <exit to="oaklie towers" />
            <exit to="wilsons palace" />
            <command>
              <pattern>wilsons palace; Wilsons Palace</pattern>
              <script><![CDATA[
                msg ("<br/>The journey details appear on a large display towards the front of the pod: Destination: Wilsons Palace/ Journey time: 9 minutes / Fare: N/27,00<br/><br/>The pod pulls away smoothly. You settle back and close your eyes.<br/>")
                SetTimeout (6) {
                  msg ("The pods slows to a halt. The doors slide open and you step out onto the platform.<br/>")
                  MoveObject (player, wilsons palace)
                }
              ]]></script>
            </command>
            <command>
              <pattern>millers bar; Millers Bar</pattern>
              <script><![CDATA[
                msg ("<br/>\"We are stationed at the designated location, sir.\"<br/>")
              ]]></script>
            </command>
            <command>
              <pattern>oaklie towers; Oaklie Towers</pattern>
              <script><![CDATA[
                msg ("<br/>The journey details appear on a large display towards the front of the pod: Destination: Oaklie Towers/ Journey time: 12 minutes / Fare: N/32,00<br/><br/>The pod pulls away smoothly. You settle back and close your eyes.<br/>")
                SetTimeout (6) {
                  msg ("The pod slows to a halt. The doors slide open and you step out onto the platform.<br/>")
                  MoveObject (player, oaklie towers)
                }
              ]]></script>
            </command>
            <command>
              <pattern>open notebook; use notebook; look notebook; look at notebook</pattern>
              <script>
                if (Got(notebook)) {
                  picture ("Moleskine.jpg")
                }
                else if (Got(notebook page 2)) {
                  picture ("Moleskine_pg2 2.jpg")
                }
              </script>
            </command>
            <exit to="shuttle service" />
            <command>
              <pattern>shuttle service; shuttle station</pattern>
              <script><![CDATA[
                msg ("<br/>The journey details appear on a large display towards the front of the pod: Destination: Shuttle Station/ Journey time: 6 minutes / Fare: N/21,00<br/><br/>The pod pulls away smoothly. You settle back and close your eyes.<br/>")
                SetTimeout (6) {
                  msg ("The pods slows to a halt. The doors slide open and you step out onto the platform.<br/>")
                  MoveObject (player, shuttle service)
                }
              ]]></script>
            </command>
          </object>
          <command>
            <pattern>enter; enter pod; go pod; enter shuttle; go shuttle; open door; ride pod; ride shuttle</pattern>
            <script>
              if (GetBoolean(player, "beenmillers")) {
              }
              MoveObject (player, pod2)
            </script>
          </command>
          <exit alias="in" to="pod2">
            <inherit name="indirection" />
          </exit>
        </object>
      </object>
      <object name="shuttle service">
        <inherit name="editor_room" />
        <description type="script"><![CDATA[
          if (GetBoolean(player, "night")) {
            msg ("The shuttle pods lie in wait like shiny capsules, their grime and scuff marks even more apparent under the harsh street lamps.<br/><br/>The slums are back to your east, barely visible at this time of night. Within walking distance to the north, the buildings and towers of the indutrail park look even less inviting than they do during the day.<br/>")
          }
          else {
            firsttime {
              msg ("As you near the shuttle station you see the line of shiny Transport Pods waiting to carry their occupants around the city. Silver in colour, with a large black door in the centre, the pods sway and bob, just inches from the metal guidetrack below their bellies. The front pod, nearest to you, displays a large green sign in the door which reads 'Vacant'.<br/><br/>The slums lurk under dark clouds back to the east. Within walking distance to the north you can see a number of drab looking buildings and towers belonging to a derelict indutrail park.<br/>")
            }
            otherwise {
              msg ("The shuttle pods lie in wait, like some giant pearl necklace.<br/><br/>The slums lurk under dark clouds back to the east. North you can see a number of drab looking buildings and towers belonging to an indutrail park.<br/>")
            }
          }
        ]]></description>
        <exit alias="north" to="industrial park">
          <inherit name="northdirection" />
        </exit>
        <exit alias="east" to="the slums">
          <inherit name="eastdirection" />
        </exit>
        <object name="pod">
          <inherit name="editor_player" />
          <inherit name="editor_room" />
          <alias>pod</alias>
          <alt type="stringlist">
            <value>shuttle</value>
          </alt>
          <drop type="boolean">false</drop>
          <ride type="string"></ride>
          <hire type="string"></hire>
          <hail type="string"></hail>
          <feature_usegive />
          <attr name="feature_container" type="boolean">false</attr>
          <attr name="feature_player" type="boolean">false</attr>
          <use type="script"><![CDATA[
            msg ("The door hisses and slides into the body of the pod. You step inside and sit in the nearest seat, hitting the button to close the door as you do so.<br/><br/>A polite sounding male voice greets you. \"Good morning. Please state your destination when ready.\"")
            get input {
              if (LCase(result)="wilsons palace") {
                MoveObject (player, wilsons palace)
              }
              else if (LCase(result)="millers bar") {
                MoveObject (player, millers bar)
              }
              else if (LCase(result)="oaklie towers") {
                MoveObject (player, oaklie towers)
              }
            }
          ]]></use>
          <description type="script"><![CDATA[
            msg ("The door hisses and slides into the body of the pod. You step inside and sit in the nearest seat, hitting the button to close the door as you do so.<br/><br/>A polite sounding male voice greets you. \"Good morning. Please choose from the list of available destinations and state your choice clearly.\"<br/><br/><b>Oaklie Towers<br/>Wilsons Palace<br/>Millers Bar</b>")
          ]]></description>
          <command>
            <pattern>leave; leave pod; out; open; open pod; open door; get out; get out of pod</pattern>
            <script><![CDATA[
              msg ("You hit the door release button and climb out.<br/>")
              MoveObject (player, shuttle service)
            ]]></script>
          </command>
          <exit alias="out" to="shuttle service">
            <inherit name="outdirection" />
          </exit>
          <exit to="millers bar ext" />
          <exit to="oaklie towers" />
          <exit to="wilsons palace" />
          <command>
            <pattern>wilsons palace; Wilsons Palace</pattern>
            <script><![CDATA[
              msg ("<br/>The journey details appear on a large display towards the front of the pod: Destination: Wilsons Palace/ Journey time: 9 minutes / Fare: N/27,00<br/><br/>The pod pulls away smoothly. You settle back and close your eyes.<br/>")
              SetTimeout (6) {
                msg ("The pods slows to a halt. The doors slide open and you step out onto the platform.<br/>")
                MoveObject (player, wilsons palace)
              }
            ]]></script>
          </command>
          <command>
            <pattern>millers bar; Miller Bar</pattern>
            <script><![CDATA[
              msg ("<br/>The journey details appear on a large display towards the front of the pod: Destination: Millers Bar/ Journey time: 6 minutes / Fare: N/21,00<br/><br/>The pod pulls away smoothly. You settle back and close your eyes.<br/>")
              SetTimeout (6) {
                msg ("The pod slows to a halt. The doors slide open and you step out onto the platform.<br/>")
                MoveObject (player, millers bar ext)
              }
            ]]></script>
          </command>
          <command>
            <pattern>oaklie towers; Oaklie Towers</pattern>
            <script><![CDATA[
              msg ("<br/>The journey details appear on a large display towards the front of the pod: Destination: Oaklie Towers/ Journey time: 12 minutes / Fare: N/32,00<br/><br/>The pod pulls away smoothly. You settle back and close your eyes.<br/>")
              SetTimeout (6) {
                msg ("The pod slows to a halt. The doors slide open and you step out onto the platform.<br/>")
                MoveObject (player, oaklie towers)
              }
            ]]></script>
          </command>
          <command>
            <pattern>open notebook; use notebook; look notebook; look at notebook</pattern>
            <script>
              if (Got(notebook)) {
                picture ("Moleskine.jpg")
              }
            </script>
          </command>
        </object>
        <command>
          <pattern>enter; enter pod; go pod; enter shuttle; go shuttle; open door; ride pod; ride shuttle</pattern>
          <script>
            MoveObject (player, pod)
          </script>
        </command>
        <exit alias="in" to="pod">
          <inherit name="indirection" />
        </exit>
      </object>
      <object name="industrial park">
        <inherit name="editor_room" />
        <description type="script"><![CDATA[
          if (GetBoolean(player, "night")) {
            firsttime {
              msg ("The buildings and chimneys of the industrail estate cast black shadows whereever the moon's beams can't get, creating a forboding and eerie atmosphere. Somewhere off in the distance a dog is barking, its call echoing through the night air.<br/><br/>To the west, squashed between two larger buildings, you can just make out the shape of a small hut.<br/><br/>The shuttle service is south, and to the east where the fence is broken, a field looks onto the rear of the slum buildings.<br/>")
            }
            otherwise {
              msg ("A collection of dark buildings and chimneys loom over you here.<br/><br/>A small wooden hut lies to the west, set back and lying between two bigger buildings.<br/><br/>The shuttle service is south, and to the east where the fence is broken, a field looks onto the rear of the slum buildings.<br/>")
            }
          }
          else {
            firsttime {
              msg ("You stroll into the yard of the indutrial estate. Litter floats on the wind making the whole place feel like a ghost town. It might as well be for the activity it sees these days. Thirty years ago it was a hive of indutrial activity, producing materials and goods for the whole city, but its machines and furances have long since been retired. No one needs or wants those things now... or so the kids say.<br/><br/>Almost every building's means of entrance is shuttered with inch-thick metal grills, riveted for extra security. Not even the drug users bother trying to make use of this place.<br/><br/>A small wooden hut lies to the west, set back and lying between two bigger buildings.<br/><br/>The shuttle service is south, and to the east where the fence is broken, a field looks onto the rear of the slum buildings.<br/>")
            }
            otherwise {
              msg ("A collection of dark buildings and chimneys loom over you here.<br/><br/>A small wooden hut lies to the west, set back and lying between two bigger buildings.<br/><br/>The shuttle service is south, and to the east where the fence is broken, a field looks onto the rear of the slum buildings.<br/>")
            }
          }
        ]]></description>
        <exit alias="south" to="shuttle service">
          <inherit name="southdirection" />
        </exit>
        <exit alias="west" to="hut">
          <inherit name="westdirection" />
        </exit>
        <exit alias="east" to="field">
          <inherit name="eastdirection" />
          <runscript type="boolean">false</runscript>
        </exit>
        <object name="hut">
          <inherit name="container_closed" />
          <inherit name="editor_room" />
          <feature_container />
          <close type="boolean">false</close>
          <open type="boolean">false</open>
          <description type="script">
            s = "It looks like a storage hut."
            if (GetBoolean(player, "inhut")) {
              s = s + " The door lies open."
            }
            if (GetBoolean(game, "night")) {
              s = s + " At this time of night it looks very dark."
            }
            s = s + "East will take you back to the entrance."
            msg (s)
          </description>
          <openscript type="script">
          </openscript>
          <exit alias="east" to="industrial park">
            <inherit name="eastdirection" />
          </exit>
          <command>
            <pattern>open door; enter hut; push door; enter; go; go hut; try door; break door; break down door</pattern>
            <script>
              if (GetBoolean(player, "night")) {
                if (not GetBoolean(player, "inhut")) {
                  msg ("You try the door, but it's locked and rattles loosely in the frame. It appears to be very flimsy.")
                }
                else {
                  MoveObject (player, hutinside)
                }
              }
              else if (not GetBoolean(player, "inhut")) {
                msg ("You try the door, but it's locked and rattles loosely in the frame. It appears to be very flimsy.")
              }
              else {
                MoveObject (player, hutinside)
              }
            </script>
          </command>
          <command>
            <pattern>kick door; ram door; barge door; use force; force door; smash door; break door; break down door; boot door</pattern>
            <script><![CDATA[
              msg ("<br/>The door gives up easily, opening with little more than a crack as the lock breaks through the rotting wood.<br/>")
              MoveObject (player, hutinside)
            ]]></script>
          </command>
          <command>
            <pattern>shoot door; shoot lock; use gun; shoot lock with gun</pattern>
            <script><![CDATA[
              if (not Got(gun)) {
                msg ("You reach for your gun, but it's not there.<br/>")
              }
              else if (Got(gun)) {
                msg ("You pull out your gun and fire a round at the lock area. Rotten wood splinters around you and the door swings open. You grin, \"Just like in the movies!\"<br/>")
                MoveObject (player, hutinside)
              }
            ]]></script>
          </command>
          <object name="hutinside">
            <inherit name="editor_room" />
            <description type="script"><![CDATA[
              if (GetBoolean(player, "night")) {
                SetObjectFlagOn (player, "inhut")
                if (not Got(crowbar)) {
                  msg ("The hut's interior is pitch black, You wait for your eyes to adjust, but it makes no difference. (crowbar is here)<br/>")
                }
                else if (Got(crowbar)) {
                  msg ("The hut's interior is pitch black, You wait for your eyes to adjust, but it makes no difference. (crowbar is NOT here)<br/>")
                }
              }
              else {
                SetObjectFlagOn (player, "inhut")
                if (not Got(crowbar)) {
                  msg ("The air inside is damp and stale. It's a small hut, about 14' X 10'. A workbench runs down the right side and a table and chair occupy the other side.<br/><br/>Propped up in the corner by the door you notice a small crowbar.<br/>")
                }
                else if (Got(crowbar)) {
                  msg ("The air inside is damp and stale. It's a small hut, about 14' X 10'. A workbench runs down the right side and a table and chair occupy the other side.<br/>")
                }
              }
            ]]></description>
            <object name="chair">
              <inherit name="editor_object" />
              <look>It's a standard wooden chair. Paint is flaking off in various places.</look>
              <alt type="stringlist">
                <value>seat</value>
              </alt>
              <attr name="feature_usegive" type="boolean">false</attr>
              <use type="script">
                msg ("You lower yourself onto the chair. It takes your weight, but creaks with every move.")
              </use>
            </object>
            <object name="table">
              <inherit name="editor_object" />
              <inherit name="switchable" />
              <inherit name="openable" />
              <attr name="feature_switchable" type="boolean">false</attr>
              <attr name="feature_container" type="boolean">false</attr>
              <look type="script"><![CDATA[
                if (not Got(magazines)) {
                  msg ("Two coffee mugs - their insides coated with green, furry mould - sit on the table. A bottle of milk is also there, half full, its contents looking like a well-matured blue stilton.<br/><br/>Three magazine lie covered in dust.")
                }
                else if (Got(magazines)) {
                  msg ("Two coffee mugs - their insides coated with green, furry mould - sit on the table. A bottle of milk is also there, half full, its contents looking like a well-matured blue stilton.")
                }
              ]]></look>
            </object>
            <object name="workbench">
              <inherit name="editor_object" />
              <look>The workbench is roughly eight feet in length and littered with dust, splinters of metal. There is nothing of use here.</look>
            </object>
            <command>
              <pattern>out; go out; leave; leave hut; go out of hut; outside; go outside</pattern>
              <script>
                MoveObject (player, hut)
              </script>
            </command>
            <object name="bottle of milk">
              <inherit name="editor_object" />
              <alt type="stringlist">
                <value>milk</value>
              </alt>
              <look>On closer inspection, the contents of the bottle look more like cottage cheese than stilton.</look>
              <takemsg>You shake your head and dismiss the idea, wondering why you ever thought a bottle of stinking milk would be of any use to you.</takemsg>
              <drop type="boolean">false</drop>
            </object>
            <object name="coffee mugs">
              <inherit name="editor_object" />
              <look><![CDATA[One mug has the words <b>'World's Best Dad'</b> printed on it. The other is a plain beige colour. Both have... or at least <i>had</i>, dregs of coffee in them at one time, but now something that looks very much like green candyfloss grows in there.]]></look>
              <alt type="stringlist">
                <value>cups</value>
                <value>mugs</value>
                <value>cup</value>
                <value>mug</value>
              </alt>
              <takemsg>You decide against it.</takemsg>
            </object>
            <object name="magazines">
              <inherit name="editor_object" />
              <alt type="stringlist">
                <value>mags</value>
                <value>magazines</value>
              </alt>
              <take />
              <feature_usegive />
              <takemsg>You gather up all three magazines and slip them into your knapsack.</takemsg>
              <look type="script"><![CDATA[
                if (not Got(magazines)) {
                  msg ("You grab one of the magazines and brush the dust and dirt from the cover. All the magazines are A5 in size and you are amazed to see they are pornographic. Amazed because pornography was banned almost twenty years ago. You flick through their pages, wondering how much they would fetch on the underground market.<br/>")
                }
                else if (Got(magazines)) {
                  msg ("The cover depicts a full-figured, naked woman with a pink feather boa draped around her neck.<br/>")
                }
              ]]></look>
              <ontake type="script">
              </ontake>
            </object>
            <command>
              <pattern>use torch; switch on torch; use flashlight; switch on flashlight; turn on torch; turn on flashlight</pattern>
              <script><![CDATA[
                if (GetBoolean(player, "night")) {
                  if (not Got(torch)) {
                    msg ("<br/>You search your knapsack for the torch, but it's not there.<br/>")
                  }
                  else if (Got(torch)) {
                    msg ("It's a small hut, about 14' X 10'. A workbench runs down the right side and a table and chair occupy the other side.<br/><br/>Propped up in the corner by the door you notice a small crowbar.<br/>")
                  }
                }
                else {
                  if (not Got(torch)) {
                    msg ("You search your knapsack for the torch, but it's not there.<br/>")
                  }
                  else if (Got(torch)) {
                    msg ("You shine your torch into the darker corners of the hut, but find nothing of interest.<br/>")
                  }
                }
              ]]></script>
            </command>
            <object name="crowbar">
              <inherit name="editor_object" />
              <look>It's a small crowbar, rusty in parts, but good and strong.</look>
              <take />
              <dropmsg>You decide to hold on to it for now.</dropmsg>
              <takemsg>You crab the crowbar and heft it in your hand before slipping in inside your knapsack.</takemsg>
              <feature_usegive />
              <use type="boolean">false</use>
              <drop type="boolean">false</drop>
            </object>
          </object>
        </object>
      </object>
      <object name="field">
        <inherit name="editor_room" />
        <description type="script"><![CDATA[
          if (GetBoolean(player, "night")) {
            firsttime {
              msg ("You make your way over the concrete towards the broken fence. Broken glass cracks and crunches under your weight. You step over the fence and onto the wasteground.<br/><br/>The back of the slum apartments are a row of black, featureless blocks. There's no light around here, but that suits you perfectly considering your intentions.<br/><br/>One of these buildings is the drug den. You stop and try to visualise the front of the properties, in an attempt to identify the correct one. After some thought, you convince yourself it's the third one along from where you stand.<br/><br/>West leads back in to the industrial park. The slum rears are to the south.<br/>")
            }
            otherwise {
              msg ("You're stood on the edge of the waste ground, by the broken fence.<br/><br/>West leads back in to the industrial park. The slum rears are to the south.<br/>")
            }
          }
          else {
            firsttime {
              msg ("You make your way over the concrete towards the broken fence. Broken glass cracks and crunches under your weight. You step over the fence and onto the wasteground.<br/><br/>The back of the slum apartments are a row of black, featureless blocks. <br/><br/>One of these buildings is the drug den. You stop and try to visualise the front of the properties, in an attempt to identify the correct one. After some thought, you convince yourself it's the third one along from where you stand.<br/><br/>West leads back in to the industrial park. The slum rears are to the south.<br/>")
            }
            otherwise {
              msg ("You're stood on the edge of the waste ground, by the broken fence.<br/><br/>West leads back in to the industrial park. The slum rears are to the south.<br/>")
            }
          }
        ]]></description>
        <exit alias="west" to="industrial park">
          <inherit name="westdirection" />
        </exit>
        <exit alias="south" to="slum rear">
          <inherit name="southdirection" />
        </exit>
      </object>
      <object name="slum rear">
        <inherit name="editor_room" />
        <description type="script"><![CDATA[
          if (GetBoolean(player, "night")) {
            firsttime {
              msg ("As you near the backs of the buildings, you dissapear into the deep shadows, offering perfect cover from prying eyes. The building are silent and cold, each of their back entrances hidden behind a six-foot brick covered in climbing ivy.<br/><br/>You approach the wall of the third building.<br/><br/>The field is behind you to your north.<br/>")
            }
            otherwise {
              msg ("You're standing in the shadows of the slum buildings. Each of their back entrances hidden behind a six-foot brick wall covered in climbing ivy.<br/><br/>The field is behind you to your north.<br/>")
            }
          }
          else {
            firsttime {
              msg ("As you near the backs of the buildings, you notice each of their back entrances hidden behind a six-foot brick wall covered in climbing ivy.<br/><br/>Raised voices and activity is coming from one of the buildings and several people are strolling back and forth across the filed.<br/><br/>The field is behind you to your north.<br/>")
            }
            otherwise {
              msg ("You're standing at the rear of the slum buildings. Each of their back entrances hidden behind a six-foot brick wall covered in climbing ivy.<br/><br/>The field is behind you to your north.<br/>")
            }
          }
        ]]></description>
        <exit alias="north" to="field">
          <inherit name="northdirection" />
        </exit>
        <command>
          <pattern>climb wall; climb over wall; climb up wall; climb</pattern>
          <script><![CDATA[
            if (GetBoolean(player, "night")) {
              msg ("You step back a few feet and run at the wall, leaping as you near. You just about manage to get your elbow on top and use it to heave yourself up and over the wall and into the small enclosed yard of the building's rear.<br/>")
              SetTimeout (2) {
                MoveObject (player, drug den yard)
              }
            }
            else {
              msg ("You study the wall and feel sure you could just about drag your carcass over, but there's far too much activity at this time of day.<br/>")
            }
          ]]></script>
        </command>
        <object name="wall">
          <inherit name="editor_object" />
          <look>The wall is made from brick, and roughly six-feet high.</look>
        </object>
      </object>
    </object>
    <object name="drug den room">
      <inherit name="editor_room" />
      <object name="drugden">
        <inherit name="editor_room" />
        <description type="script"><![CDATA[
          SetObjectFlagOn (player, "knapsack")
          firsttime {
            msg ("You step into the corridor of the building, then left though a black drape hung over the doorway.<br/><br/>The room is thick with smoke and the unmistakeable stench of weed. A man lounges in a tatty old armchair, and stood either side of him, two shaven-headed men, bred for fighting.<br/><br/>The two men move forward quickly and throw your arms up in the air. Frisking time!<br/><br/>You wait patiently as they pat you down. Finally satisfied, the two gorillas step back and nod to the man in the armchair.<br/><br/>\"Okay, grandpa, what can I do for you?\"<br/><br/>You drop into character and beging shifting uncomfortably. \"I just need some Yellows, that's all. Just for a bit of escape. Nothing heavy.\"<br/><br/>\"Dream Enhancers, huh? Well I sincerley hope you have the magic word.\"<br/>")
          }
          otherwise {
            msg ("\"Well look who it isn't!\" the man says, still slumped in his armchair. His two bodygaurds snigger. \"I sure as hell hope you've got the magic word this time, cos it's your last chance!\"<br/>")
          }
        ]]></description>
        <exit alias="south" to="the slums">
          <inherit name="southdirection" />
        </exit>
        <command>
          <pattern>#text#</pattern>
          <script><![CDATA[
            firsttime {
              msg ("The two goons moved forward and grab you under the arms before you can do anything.<br/><br/>\"Get him out of here, fellas.\"<br/><br/>They frog-march you to the door and hurl you into the street.<br/>")
              SetTimeout (6) {
                MoveObject (player, the slums)
              }
            }
            otherwise {
              msg ("The man looks at you and shaked his head, sighing heavily. \"Get rid of him.\" He nods at you and his two goons move forward.<br/>")
              SetTimeout (6) {
                MoveObject (player, drugden fail)
              }
            }
          ]]></script>
        </command>
        <command>
          <pattern>cold rose; Cold rose; say cold rose; say Cold Rose</pattern>
          <script><![CDATA[
            msg ("<br/>He eyes you for a while, playing with your mind. You try to look frightened and hope you pull it off.<br/><br/>Eventually he nods towards a door behind him. You nod back and move to the door.<br/>")
            wait {
              ClearScreen
              MoveObject (player, backroom)
            }
          ]]></script>
        </command>
        <object name="shootout">
          <inherit name="editor_room" />
          <description type="script"><![CDATA[
            if (game.pov.parent = shootout) {
              msg ("<br/>\"Drop the gun!\" the goon screams.<br/><br/>Through the open door you see his two asscoiates making a run for it - obviously no stomach for this kind of thing when it comes to the crunch.<br/><br/>\"Drop it! He repeats. \"You've got ten seconds. before I pull the trigger!\"<br/><br/>\"Fuck ten seconds!\" Lance yells. \"Shoot him now, you immecile! This isn't the NYPD!\"<br/>")
              SetTimeout (15) {
                if (game.pov.parent = shootout) {
                  msg ("<br/>The man fires, but misses and you hear the bullet crack into the plaster above your head.<br/>")
                }
              }
            }
          ]]></description>
          <command>
            <pattern>shoot goon; shoot; kill goon; shoot at goon; shoot him; fire; fire at goon; fire gun at goon; shoot goon; kill thug, shoot at thug</pattern>
            <script><![CDATA[
              msg ("You swivel on your heels and blast two shots into the gorillas chest. His face contorts as his knees buckle. He drops to the floor like a pile of dirty laundry.<br/><br/>You turn your attention back to Lance who is now quivering in the corner of the room.<br/><br/>\"Do I need to ask you again?\" you say, pointing the gun at his head.<br/><br/>It would appear not.<br/><br/>\"Moreno! Morenol! Derek Moreno,\" Lance blurts.<br/>")
              SetObjectFlagOn (goon, "goondead")
              MoveObject (player, shoottrue)
              MoveObject (goon, shoottrue)
              MoveObject (lance, shoottrue)
            ]]></script>
          </command>
          <command>
            <pattern>#text#</pattern>
            <script><![CDATA[
              msg ("The goon fires his gun and misses, hitting the wall just above your head.<br/>")
            ]]></script>
          </command>
          <command>
            <pattern>attack goon; attack; attack goons; attack man in armchair; punch goon; kick goon; kick goons</pattern>
            <script><![CDATA[
              msg ("You try to make your move and almost reach your target, but he sees you coming and punches you hard in the face. You hit the floor and darkness evelops you.<br/>")
              SetTimeout (6) {
              }
              msg ("You come round under a deserted food stall. Your left eye won't open and your tongue finds a gap between your teeth that wasn't there before. There's a metalic taste in your mouth. You spit out a gobbule of thick red saliva and muscus as you climb to your feet and dust yourself off. Another day at the office.<br/>")
              wait {
              }
              MoveObject (player, drugden fail)
            ]]></script>
          </command>
          <command>
            <pattern>duck; hide behind desk; duck behind desk; take cover</pattern>
            <script><![CDATA[
              msg ("<br/>You duck behind the desk just in time to hear the bullet from the goon's gun crack into the plaster above your head.<br/>")
            ]]></script>
          </command>
          <command>
            <pattern>shoot lance; kill lance; fire at lance</pattern>
            <script><![CDATA[
              msg ("You turn the gun on Lance and pull the trigger, He drops like a sack and lies still.<br/><br/>The goon sees his chance, spins like a prima ballerina and crashes out of the building.<br/><br/>You walk over to Lance and shove him with your foot. A pool of thick, dark blood is polling beneath him.<br/><br/>\"Good move,\" you tell yourself sarcastically. \"He's not going to do much talking now.\"<br/>")
              SetObjectFlagOn (lance, "lancedead")
              MoveObject (lance, shoot lance)
              MoveObject (player, shoot lance)
            ]]></script>
          </command>
          <command>
            <pattern>drop gun; drop handgun; drop meson; surrender; give up; put hands up</pattern>
            <script><![CDATA[
              msg ("You drop the gun and show the goon your empty hands. \"Okay. Let's not do anything silly here.\"<br/><br/>Obvioulsy they didn't consider beating you half to death as silly.<br/>")
              SetTimeout (6) {
                msg ("You come round under a deserted food stall. Your left eye won't open and your tongue finds a gap between your teeth that wasn't there before. There's metalic taste in your mouth. You spit out a gobbule of thick red saliva and muscus as you climb to your feet and dust yourself off.<br/>")
                wait {
                }
                MoveObject (player, drugden fail)
              }
            ]]></script>
          </command>
        </object>
        <object name="backroom">
          <inherit name="editor_room" />
          <description type="script"><![CDATA[
            msg ("You open the door and step into the room, closing the door behind you. The air smells fresher in here and the room is well kept.<br/><br/>A man in his 40s sits behind a desk. You guess this must be Lance. You quickly scan the desk for his weapon, but see nothing. No doubt he's packing something somewhere.<br/><br/>You suddenly wish you'd given your plans more thought. No need to fake your fear now.<br/><br/>\"Oi! I haven't got all day. What are you after?\"<br/><br/>\"Uum... some Yellows.\"<br/><br/>The man opens a draw, reaches inside and pulls out a handgun. He places it on the table then reaches back into the draw and produces a large quanity of yellow pills in a clear plastic bag.<br/><br/>As he struggles with the knot fastening the bag, you eye his gun and wonder if you could reach it before him. The saftey catch is off and you prey it's loaded.<br/>")
          ]]></description>
          <object name="lance">
            <inherit name="editor_object" />
            <alias>lance</alias>
            <scenery />
            <look type="script"><![CDATA[
              if (GetBoolean(goon, "goondead")) {
                msg ("He's crouched in the corner quivering like a leaf.<br/>")
              }
              else if (GetBoolean(lance, "lancedead")) {
                msg ("Lance hasn't moved since you shot him. Definately dead.<br/>")
              }
              else {
                msg ("The man is in his mid 40s, slim, clean shaven, and wearing an expensive suit.<br/>")
              }
            ]]></look>
          </object>
          <object name="pistol">
            <inherit name="editor_object" />
            <alias>handgun</alias>
            <look>It's a Meson 9mm.</look>
            <alt type="stringlist">
              <value>handgun</value>
              <value>gun</value>
              <value>meson</value>
              <value>meson 9mm</value>
            </alt>
            <drop type="boolean">false</drop>
            <take type="boolean">false</take>
          </object>
          <command>
            <pattern>get gun; grab gun; snatch gun; get gun quickly; reach for gun; get meson; get meson 9mm; grab meson; grab meson 9mm; snatch meson; snatch meson 9mm; take gun; take meson; take meson 9mm; take pistol; take handgun; grab pistol; grab handgun; snatch handgun; snatch pistol; grab gun quickly</pattern>
            <script><![CDATA[
              msg ("It's now or never, unless all you want is to walk out of here with a quanity of Yellows.<br/><br/>You move like an olympic sprinter out of the blocks and have the gun in your hands before the man has so much as moved a muscle. You point it as his head.<br/><br/>He raises his hands. \"Whoa! Steady on. Don't shoot... please.\"<br/><br/>\"Right, who do you work for?\" you demand.<br/><br/>\"If I tell you that I'm a dead man.\"<br/><br/>\"Yeah? And if you <i>don't</i> you're a dead man. This isn't your day, Luke.\"<br/>")
              MoveObject (pistol, player)
              wait {
                ClearScreen
                msg ("Suddenly, the door bursts open and one of the goons steps into the frame. He's armed and starts to raise his weapon.<br/>")
                MoveObject (player, shootout)
                MoveObject (lance, shootout)
                MoveObject (goon, shootout)
              }
            ]]></script>
          </command>
          <command>
            <pattern>#text#</pattern>
            <script><![CDATA[
              msg ("Lance eyes you with suspicion.<br/>")
            ]]></script>
          </command>
          <command>
            <pattern>attack man; attack lance; distract lance; attack; leave; go out; out; escape; run; dive at lance; dive on man; dive on lance; kill lance; get gun and shoot lance; grab gun and shoot lance; snatch gun and shoot lance; get handgun and shoot lance; grab handgun and shoot lance; snatch handgun and shoot lance</pattern>
            <script><![CDATA[
              msg ("You try to make your move and almost reach your target, but he sees you coming and pistol whips you across the head. You hit the floor and darkness evelops you.<br/>")
              SetTimeout (6) {
              }
              msg ("You come round under a deserted food stall. Your left eye won't open and your tongue finds a gap between your teeth that wasn't there before. There's metalic taste in your mouth. You spit out a gobbule of thick red saliva and muscus as you climb to your feet and dust yourself off.<br/>")
              wait {
              }
              MoveObject (player, drugden fail)
            ]]></script>
          </command>
          <object name="pills">
            <inherit name="editor_object" />
            <alias>yellows</alias>
            <look>A clear plastic bag containing at least a hundred, small yellow pills.</look>
            <alt type="stringlist">
              <value>pills</value>
              <value>yellows</value>
            </alt>
          </object>
          <command>
            <pattern>grab pills; grab yellows; grab bag of pills; take pills; take yellows; take bag of pills; snatch pills; snatch yellows; snatch bag of pills; take bag of yellows; snatch bag of yellows; grab pills; grab bag of pills; grab bag of yellows</pattern>
            <script><![CDATA[
              msg ("You bolt forward and snatch the bag out of Lance's grasp. He looks startled and grabs his gun, pointing it at your head. \"What the fuck is this!?\"<br/><br/>He calls the heavies in. In hindsight, you wish you'd grabbed the gun instead. You have a horrible feeling the next ten minutes isn't going to be very pleasant.<br/>")
              wait {
                MoveObject (player, drugden fail)
              }
            ]]></script>
          </command>
          <command>
            <pattern>shoot lance</pattern>
            <script><![CDATA[
              msg ("It's a nice plan until you remember you're unarmed.<br/>")
            ]]></script>
          </command>
          <object name="desk">
            <inherit name="editor_object" />
            <look>It's a wooden desk and looks to have drawers on the right side.</look>
          </object>
          <command>
            <pattern>search drawers; search desk</pattern>
            <script><![CDATA[
              msg ("You move towards the desk, much to Lance's surprise. He grabs his gun, pointing it at your head. \"What the fuck are you doing!?\"<br/><br/>He calls the heavies in. In hindsight, you wish you'd grabbed the gun instead. You have a horrible feeling the next ten minutes isn't going to be very pleasant.<br/>")
              wait {
                MoveObject (player, drugden fail)
              }
            ]]></script>
          </command>
          <command>
            <pattern>say #text#; ask #text#</pattern>
            <script><![CDATA[
              msg ("\"Shut your mouth!\" Lance says, without looking up.<br/>")
            ]]></script>
          </command>
        </object>
        <object name="shoot lance">
          <inherit name="editor_room" />
          <description>You assess the situation and decide you probably dont have long before a team of Lance's cronies turn up. There has to be something in here, but the room is practically bare, save for the desk and Lance's corpse.</description>
          <command>
            <pattern>shoot; fire; kill lance; shoot lance</pattern>
            <script><![CDATA[
              msg ("As much as you want to, you resist the urge to fill his corpse with lead.<br/>")
            ]]></script>
          </command>
          <command>
            <pattern>search drawers; search desk; search the desk; search the drawers; open drawers; open the drawers</pattern>
            <script><![CDATA[
              msg ("You quickly check the drawers and find them both unlocked. Unfortunatley, they're empty.<br/>")
            ]]></script>
          </command>
          <command>
            <pattern>search lance; search lance's body; search body; search dead body; search lances body</pattern>
            <script><![CDATA[
              firsttime {
                msg ("You kneel down by the side of the body, careful to avoid the blood, and begin rifling through his pockets. In his trouser pockets you find a thick roll of bills and a pocket address book, and in his breast pocket, a small ePad.<br/>")
                SetObjectFlagOn (player, "lancesearched")
              }
              otherwise {
                msg ("You double check Lance's body for items, but find nothing.<br/>")
              }
            ]]></script>
          </command>
          <object name="roll of bills">
            <inherit name="editor_object" />
            <alias>bills</alias>
            <look>It's about two inches in diameter - several hundred numus, at least.</look>
            <money type="string"></money>
            <cash type="string"></cash>
            <bills type="string"></bills>
            <take />
            <takemsg>You take the money.</takemsg>
            <dropmsg>You drop the money.</dropmsg>
            <alt type="stringlist">
              <value>money</value>
              <value>cash</value>
            </alt>
            <ontake type="script">
              MoveObject (roll of bills, player)
            </ontake>
          </object>
          <object name="desk2">
            <inherit name="editor_object" />
            <alias>desk</alias>
            <look>It's a wooden desk and looks to have drawers on the right side.</look>
            <scenery />
          </object>
          <object name="address book">
            <inherit name="editor_object" />
            <inherit name="openable" />
            <alt type="stringlist" />
            <take />
            <takemsg>You take the address book.</takemsg>
            <dropmsg>You drop it.</dropmsg>
            <feature_usegive />
            <feature_container />
            <close type="boolean">false</close>
            <open />
            <look type="script"><![CDATA[
              if (game.pov.parent = shoot lance) {
                msg ("You decide to <i><b>leave</b></i> and return to the privacy and safety of your apartment before examining your findings.")
              }
              else {
                picture ("address_book_distressed.jpg")
              }
            ]]></look>
            <read type="script"><![CDATA[
              if (game.pov.parent = shoot lance) {
                msg ("You decide to <i><b>leave</b></i> and return to the privacy and safety of your apartment before examining your findings.<br/>")
              }
              else {
                picture ("address_book_distressed.jpg")
              }
            ]]></read>
            <use type="script"><![CDATA[
              if (game.pov.parent = shoot lance) {
                msg ("You decide to <i><b>leave</b></i> and return to the privacy and safety of your apartment before examining your findings.<br/>")
              }
              else {
                picture ("address_book_distressed.jpg")
              }
            ]]></use>
            <openscript type="script"><![CDATA[
              if (game.pov.parent = shoot lance) {
                msg ("You decide to <i><b>leave</b></i> and return to the privacy and safety of your apartment before examining your findings.<br/>")
              }
              else {
                picture ("address_book_distressed.jpg")
              }
            ]]></openscript>
          </object>
          <command>
            <pattern>leave; leave drugden; leave drug den; out; go out</pattern>
            <script><![CDATA[
              if (GetBoolean(player, "lancesearched")) {
                if (Got(address book) and Got(ePad)) {
                  MoveObject (player, lounge2)
                }
                else {
                  if (not Got(address book)) {
                    msg ("You decide it would be better to take the address book as its probably full of useful information.<br/>")
                  }
                  else if (not Got(ePad)) {
                    msg ("You decide it would be better to take the ePad as its probably full of useful information..<br/>")
                  }
                }
              }
              else if (not GetBoolean(player, "lancesearched")) {
                msg ("You turn to leave, but stop, convinced there must be some information here <i>somewhere.</i>")
              }
            ]]></script>
          </command>
          <object name="lance2">
            <inherit name="editor_object" />
            <alias>lance</alias>
            <look>Lance hasn't moved since you shot him. Definately dead.</look>
            <scenery />
          </object>
          <command>
            <pattern>#text#</pattern>
            <script><![CDATA[
              if (game.pov.parent = shoot lance) {
                msg ("You decide it's probably time to <i><b>leave</b></i> and return to the privacy and safety of your apartment to examine your findings.")
              }
              else {
                picture ("address_book_distressed.jpg")
              }
            ]]></script>
          </command>
          <object name="ePad">
            <inherit name="editor_object" />
            <look>It's a Pear ePad 4 - the same ePad everybody else buys.</look>
            <takemsg>You slide the ePad from his pocket.</takemsg>
            <take />
            <dropmsg>You decide agianst it for now.</dropmsg>
            <drop type="boolean">false</drop>
            <alt type="stringlist">
              <value>ePad 4</value>
            </alt>
            <attr name="feature_usegive" type="boolean">false</attr>
            <ontake type="script">
              MoveObject (ePad, player)
            </ontake>
            <use type="script"><![CDATA[
              ClearScreen
              msg ("Enter password | {command:Log off}")
              get input {
                if (result<>"1234") {
                  msg ("Incorrect password entered<br/>")
                  msg (CommandLink("use epad", "Try again"))
                }
                else if (result="1234") {
                  ClearScreen
                  MoveObject (player, login)
                }
              }
            ]]></use>
          </object>
        </object>
        <command>
          <pattern>go room; go backroom; enter room; enter backroom</pattern>
          <script><![CDATA[
            msg ("\"Whooa!\" the man blurts, as the two meatheads grab hold of you and hurl you againsts a wall. \"You ain't going nowhere till you answer the question.\"<br/>")
          ]]></script>
        </command>
        <exit to="backroom">
          <look>A tatty wooden door. Closed.</look>
        </exit>
        <object name="goon1">
          <inherit name="editor_object" />
          <look>The two goons measure six four, at least. Not to be tangled with.</look>
          <alias>goon</alias>
          <alt type="stringlist">
            <value>goons</value>
            <value>shaven headed man</value>
            <value>men</value>
            <value>goon</value>
          </alt>
        </object>
        <object name="man1">
          <inherit name="editor_object" />
          <alias>man</alias>
          <alt type="stringlist">
            <value>man in armchair</value>
            <value>guy in armchair</value>
            <value>man in chair</value>
            <value>guy in chair</value>
          </alt>
          <look>The man has a wirey build and clearly needs the protection of the men by his side.</look>
        </object>
        <command>
          <pattern>l; look</pattern>
          <script><![CDATA[
            msg ("The room is thick with smoke and the unmistakeable stench of weed. A man lounges in a tatty old armchair, and stood either side of him, two shaven-headed men, bred for fighting.<br/>")
          ]]></script>
        </command>
        <command>
          <pattern>say #text#; ask #text#</pattern>
          <script><![CDATA[
            msg ("The man in the armchair eyes you for a moment then says, \"If you want chitchat, grandpa, try somewhere else.\" The two goons snigger.<br/>")
          ]]></script>
        </command>
        <command>
          <pattern>attack goon; attack; attack goons; attack man in armchair; punch goon; kick goon; kick goons</pattern>
          <script><![CDATA[
            msg ("<br/>You try to make your move and almost reach your target, but he sees you coming and punches you hard in the face. You hit the floor and darkness evelops you.<br/>")
            SetTimeout (6) {
            }
            msg ("<br/>You come round under a deserted food stall. Your left eye won't open and your tongue finds a gap between your teeth that wasn't there before. There's a metalic taste in your mouth. You spit out a gobbule of thick red saliva and muscus as you climb to your feet and dust yourself off. Another day at the office.<br/>")
            wait {
            }
            MoveObject (player, the slums)
            MoveObject (knapsack, player)
          ]]></script>
        </command>
        <object name="goon">
          <inherit name="editor_object" />
          <look type="script"><![CDATA[
            if (not GetBoolean(goon, "goondead")) {
              msg ("Six foot four and full of muscle... isn't that how the song goes? And this one is armed and dangerous too.<br/>")
            }
            else if (GetBoolean(goon, "goondead")) {
              msg ("He's as dead as they come.<br/>")
            }
          ]]></look>
        </object>
        <command>
          <pattern>attack man; attack goons; attack gorillas; attack men; punch goon; punch man</pattern>
          <script><![CDATA[
            msg ("Before you can make your move, the two gorillas move forward and begin to strike your head and body. You crumple into a semi-concious heap on the floor and feel yourself being dragged out of the room.<br/>")
            wait {
              SetObjectFlagOn (player, "night")
              if (GetBoolean(player, "knapsack")) {
              }
              MoveObject (player, drugden fail)
            }
          ]]></script>
        </command>
      </object>
      <object name="drug den yard">
        <inherit name="editor_room" />
        <description type="script"><![CDATA[
          if (not IsSwitchedOn(torch)) {
            firsttime {
              msg ("The enclosed yard feels tiny, but the darkness here is so intense that you can see nothing.<br/>")
            }
            otherwise {
              msg ("The wall of the yard leads to the field and the hole where the grill once stood leads to the kitchen.<br/>")
            }
          }
          else if (IsSwitchedOn(torch)) {
            firsttime {
              msg ("The enclosed yard is tiny, no bigger than ten feet square. There is a door secured with a metal grill.<br/>")
            }
            otherwise {
              msg ("The wall of the yard leads to the field and the hole where the grill once stood leads to the kitchen.<br/>")
            }
          }
        ]]></description>
        <command>
          <pattern>pull off grill; tear off grill; kick grill; break grill; pull grill off door; tear grill off door; yank grill off door; remove grill; remove grill from door</pattern>
          <script><![CDATA[
            msg ("You tug at the grill, but it's too secure to be removed so easily. You can get your fingers behind the grill, but don't have the strength to move it.<br/>")
          ]]></script>
        </command>
        <command>
          <pattern>shoot at grill; shoot grill; shoot grill with gun; use gun to shoot off grill; use gun; fire gun at grill</pattern>
          <script><![CDATA[
            if (not Got(gun)) {
              msg ("You go to grab your gun, but discover it isn't there.<br/>")
            }
            else if (Got(gun)) {
              msg ("You grab your gun and fire a round into the grill. A huge spark is accomponied with a deafening report, but it does nothing to help loosen the grill.")
            }
          ]]></script>
        </command>
        <command>
          <pattern>use crowbar; use crowbar on door grill; use crowbar on grill; use crowbar to remove grill; use crowbar to remove grill from door; lever grill with crowbar</pattern>
          <script><![CDATA[
            if (not Got(crowbar)) {
              msg ("You don't have a crowbar.<br/><br/>You think back to that hut in the indutrial park. Maybe there's something in there you can use.<br/>")
            }
            else if (Got(crowbar)) {
              msg ("You grab the crowbar and jam it firmly between the wall and grill. Standing with one foot against the wall, you begin to pull as hard as you can. The rivets begin to creak as the brick around them begins to crumble. A few more sharp tugs and they start to pull away from the wall.<br/><br/>You repeat the process around the grill until it comes away.completely, leaving you staring at a black, rectangular hole in the wall.<br/>")
              MoveObject (player, drugden kitchen)
            }
          ]]></script>
        </command>
        <command>
          <pattern>climb wall; climb over wall; climb up wall; climb</pattern>
          <script><![CDATA[
            if (Got(crowbar)) {
              msg ("You think about leaving, but decide to persevere. There must be a way in somehow and it's why you came here in the first place.<br/>")
            }
            else if (not Got(crowbar)) {
              MoveObject (player, slum rear)
            }
          ]]></script>
        </command>
        <command>
          <pattern>go kitchen; enter; in; kitchen</pattern>
          <script>
            MoveObject (player, drugden kitchen)
          </script>
        </command>
        <object name="player">
          <inherit name="editor_object" />
          <inherit name="editor_player" />
          <inherit name="talkingchar" />
          <drop type="boolean">false</drop>
          <attr name="feature_usegive" type="boolean">false</attr>
          <use type="script">
            if (Got(gun)) {
              msg ("You reach round your back and take out your gun.")
            }
            else if (not Got(gun)) {
              msg ("You reach round your back to grab your gun, only to realise it's not there.")
            }
          </use>
          <object name="knapsack">
            <inherit name="editor_object" />
            <inherit name="openable" />
            <drop />
            <feature_container />
            <isopen />
            <close type="boolean">false</close>
            <open type="boolean">false</open>
            <dropmsg>dropped knapsack</dropmsg>
            <object name="notebook">
              <inherit name="editor_object" />
              <alt type="stringlist">
                <value>notebook</value>
                <value>book</value>
              </alt>
              <feature_usegive />
              <take />
              <takemsg>You take the notebook. The cover is soft, feels like leather.</takemsg>
              <drop />
              <dropmsg>You think twice and decide to keep hold of it.</dropmsg>
              <use type="script"><![CDATA[
                picture ("Moleskine.jpg")
                if (game.pov.parent = dawson office) {
                  msg ("\"The police say it was suicide, but I know my Yazmin. She fell in with a rotten crowd, but suicide? No.\"<br/><br/>He coughs and gathers himself together. \"Anyway, we've already agreed the fee and you've had half of it up front, so why don't you get out there and find the bastards that killed my little girl?\"")
                }
              ]]></use>
              <look type="script"><![CDATA[
                picture ("Moleskine.jpg")
                if (game.pov.parent = dawson office) {
                  msg ("\"The police say it was suicide, but I know my Yazmin. She fell in with a rotten crowd, but suicide? No.\"<br/><br/>He coughs and gathers himself together. \"Anyway, we've already agreed the fee and you've had half of it up front, so why don't you get out there and find the bastards that killed my little girl?\"<br/>")
                }
              ]]></look>
            </object>
            <object name="notebook page 2">
              <inherit name="editor_object" />
              <look type="script">
                picture ("Moleskine_pg2 2.jpg")
              </look>
              <drop type="boolean">false</drop>
            </object>
            <object name="photo">
              <inherit name="editor_object" />
              <take />
              <takemsg>You take the photo from Dawson. Passport size, the photo is creased and well thumbed.</takemsg>
              <dropmsg>You decide to keep the photo for now.</dropmsg>
              <drop type="boolean">false</drop>
              <look type="script">
                picture ("yaz_dawson_photo_distressed2.jpg")
              </look>
            </object>
            <object name="gun">
              <inherit name="editor_object" />
              <look>An Oracle Snubnose. Discreet, but packs a mighty whallop.</look>
              <take />
              <takemsg>You grab the gun and slip into your trouser waist.</takemsg>
              <feature_usegive />
              <fire type="string"></fire>
              <drop type="boolean">false</drop>
              <dropmsg>You think better and decide to keep hold of it for now.</dropmsg>
              <alt type="stringlist">
                <value>pistol</value>
                <value>oracle</value>
              </alt>
              <use type="script">
                if (Got(gun)) {
                  msg ("You fire the pistol and gunshot noise fills the air.")
                }
                else if (not Got(gun)) {
                  msg ("You reach round your back to grab your gun, only to realise it's not there.")
                }
              </use>
            </object>
          </object>
          <object name="torch">
            <inherit name="editor_object" />
            <inherit name="switchable" />
            <alt type="stringlist">
              <value>flashlight</value>
            </alt>
            <take />
            <drop type="boolean">false</drop>
            <dropmsg>You decide to keep hold for the time being.</dropmsg>
            <feature_usegive />
            <feature_switchable />
            <switchonmsg>You turn the torch on - the beam is good and strong.</switchonmsg>
            <onswitchon type="script"><![CDATA[
              if (game.pov.parent = drug den yard) {
                msg ("The enclosed yard is no bigger than ten feet square. With good light, you can now see a door, secured with a metal grill.<br/><br/>The wall over which you climbed to get in is behind you.<br/>")
              }
              if (game.pov.parent = drug den backroom) {
                if (GetBoolean(player, "lucybackroom")) {
                  msg ("<br/>You sweep it across the room, illuminating a desk and.... a man slumped across its surface.<br/><br/>The shock knocks you back a step, more because you don't know if he's alive or just sleeping.<br/><br/>As you pull out your gun and slowly approach the man, your torch picks up the red-black blood that's pooled under his head. The blood's sheen has dulled somewhat - clearly not a very recent death and obviously the source of the smell.<br/><br/>This must be the Lance Lucy taled about.<br/>")
                }
                else if (not GetBoolean(player, "lucybackroom")) {
                  msg ("<br/>You sweep it across the room, illuminating a desk and.... a man slumped across its surface.<br/><br/>The shock knocks you back a step, more because you don't know if he's alive or just sleeping.<br/><br/>As you pull out your gun and slowly approach the man, your torch picks up the red-black blood that's pooled under his head. The blood's sheen has dulled somewhat - clearly not a very recent death and obviously the source of the smell.<br/>")
                }
              }
            ]]></onswitchon>
            <onswitchoff type="script"><![CDATA[
              if (game.pov.parent = drug den yard) {
                msg ("After the brightness from the torch, the darkness seems even more total.<br/>")
              }
              if (game.pov.parent = drug den backroom) {
                msg ("Total darkness. You can't see anything.<br/>")
              }
            ]]></onswitchoff>
            <feature_lightdark />
            <lightstrength>strong</lightstrength>
          </object>
        </object>
      </object>
      <object name="drugden kitchen">
        <inherit name="editor_room" />
        <description type="script"><![CDATA[
          firsttime {
            msg ("You step inside and sweep the room with the beam of your torch. Looks like it used to be the kitchen. Pizza boxes and Chinese food cartons litter the grimy surfaces. Gaps and holes in the surfaces show where the appliances and sink used to be.<br/><br/>You point your torch south down the hallway. <b>Out</b> will take you back to the yard.<br/>")
          }
          otherwise {
            msg ("The kitchen has been completely stripped of all its appliances, leaving only kitchen worktops strewn with fast food cartons.<br/><br/>A hole where the door should be leads <b>out</b> to the yard. South leads down the hallway.<br/>")
          }
        ]]></description>
        <exit to="drug den yard" />
        <exit alias="south" to="drugden hall">
          <inherit name="southdirection" />
        </exit>
        <command>
          <pattern>out; Out; go out; leave; leave kitch; go yard</pattern>
          <script>
            MoveObject (player, drug den yard)
          </script>
        </command>
        <object name="surfaces">
          <inherit name="editor_object" />
          <look>Formica kitchen surfaces, think with grime and littered with fast food packaging.</look>
        </object>
        <object name="pizza boxes">
          <inherit name="editor_object" />
          <look>They are of various sizes and types and strewn about the kitchen.</look>
          <drop type="boolean">false</drop>
          <take />
          <takemsg>You pick up one of the boxes. Nothing out of the ordinary. You toss it away.</takemsg>
        </object>
        <object name="chinese food cartons">
          <inherit name="editor_object" />
          <look>They are of various sizes and types and strewn about the kitchen.</look>
          <take />
          <takemsg>You pick up one of the boxes. Nothing out of the ordinary. You toss it away.</takemsg>
          <alt type="stringlist">
            <value>food cartons</value>
            <value>cartons</value>
            <value>boxes</value>
          </alt>
        </object>
      </object>
      <object name="drugden hall">
        <inherit name="editor_room" />
        <description type="script"><![CDATA[
          firsttime {
            msg ("You stroll down the hallway to an entrance on your right. A black drape hangs in place of the door, you sweep it aside and peer into the room - looks like the lounge.<br/><br/>Back to the north is the kitchen.<br/>")
          }
          otherwise {
            msg ("You're standing in the hallway. A black drape hangs in place of the door.<br/><br/>Back to the north is the kitchen.<br/>")
          }
        ]]></description>
        <exit alias="north" to="drugden kitchen">
          <inherit name="northdirection" />
        </exit>
        <object name="drape">
          <inherit name="editor_object" />
          <look>It's made from heavy black cotton - looks like a bed sheet.</look>
        </object>
        <command>
          <pattern>go kitchen; go to kitchen; kitchen; enter kitchen</pattern>
          <script>
            MoveObject (player, drugden kitchen)
          </script>
        </command>
        <exit to="drugden lounge" />
        <command>
          <pattern>enter lounge; go lounge; lounge; go to lounge; enter room; go room; go to the room</pattern>
          <script>
            MoveObject (player, drugden lounge)
          </script>
        </command>
      </object>
      <object name="drug den backroom">
        <inherit name="editor_room" />
        <description type="script"><![CDATA[
          if (IsSwitchedOn(torch)) {
            if (GetBoolean(player, "lucybackroom")) {
              msg ("You open the door and step into the room, pointing the torch's beam into the dark corners. You sweep the beam across the room, illuminating a desk and.... a man slumped across its surface.<br/><br/>The shock knocks you back a step, more because you don't know if he's alive or just sleeping.<br/><br/>As you pull out your gun and slowly approach the man, your torch picks up the red-black blood that's pooled under his head. The blood's sheen has dulled somewhat - not a very recent death then.<br/><br/>This must be the Lance Lucy told you of.<br/>")
            }
            else if (not GetBoolean(player, "lucybackroom")) {
              msg ("You open the door and step into the room, pointing the torch's beam into the dark corners. You sweep the beam across the room, illuminating a desk and.... a man slumped across its surface.<br/><br/>The shock knocks you back a step, more because you don't know if he's alive or just sleeping.<br/><br/>As you pull out your gun and slowly approach the man, your torch picks up the red-black blood that's pooled under his head. The blood's sheen has dulled somewhat - not a very recent death then.<br/>")
            }
          }
          else if (not IsSwitchedOn(torch)) {
            msg ("Total darkness. You can't see anything, but there is a faint, unpleasent sickly sweet smell in the air.<br/>")
          }
        ]]></description>
        <dark type="boolean">false</dark>
        <object name="lance1">
          <inherit name="editor_object" />
          <alias>lance</alias>
          <alt type="stringlist">
            <value>man</value>
            <value>body</value>
          </alt>
          <look>He's been dead a few hours. Looks like a single bullet to the head.</look>
          <scenery />
        </object>
        <object name="desk3">
          <inherit name="editor_object" />
          <alias>desk</alias>
          <look>It's a wooden desk and looks to have drawers on the right side.</look>
          <scenery />
        </object>
        <command>
          <pattern>search lance; search lance's body; search body; search dead body; search lances body; search man; search body; search corpse; search dead man</pattern>
          <script><![CDATA[
            firsttime {
              msg ("You carefully pat down the body, careful to avoid the blood. In his trouser pockets you find a thick roll of bills and a pocket address book, and in his breast pocket, a small ePad.<br/>")
              SetObjectFlagOn (player, "lancesearched")
            }
            otherwise {
              msg ("You double check the body for items, but find nothing.<br/>")
            }
          ]]></script>
        </command>
        <command>
          <pattern>search drawers; search desk; search the desk; search the drawers; open drawers; open the drawers</pattern>
          <script><![CDATA[
            msg ("You quickly check the drawers and find them both unlocked. Unfortunatley, they're empty.<br/>")
          ]]></script>
        </command>
        <object name="money">
          <inherit name="editor_object" />
          <look>It's about two inches in diameter - several hundred numus, at least.</look>
          <alt type="stringlist">
            <value>cash</value>
            <value>roll of bills</value>
            <value>money</value>
          </alt>
          <take />
          <takemsg>You shove the roll into your pocket.</takemsg>
          <dropmsg>You drop the money.</dropmsg>
        </object>
        <object name="address book1">
          <inherit name="editor_object" />
          <alias>address book</alias>
          <look type="script"><![CDATA[
            if (game.pov.parent = drug den backroom) {
              msg ("You decide to <i><b>leave</b></i> and return to the privacy and safety of your apartment before examining your findings.")
            }
            else {
              picture ("address_book_distressed.jpg")
            }
          ]]></look>
          <take />
          <takemsg>You slip the adress book into your pocket.</takemsg>
          <drop type="boolean">false</drop>
          <dropmsg>You decide to keep it for now.</dropmsg>
        </object>
        <object name="ePad2">
          <inherit name="editor_object" />
          <look>It's a Pear ePad 4 - the same ePad everybody else buys.</look>
          <take />
          <takemsg>You slide the ePad from his pocket.</takemsg>
          <dropmsg>You decide to keep hold of it for now.</dropmsg>
          <alias>ePad</alias>
        </object>
        <command>
          <script><![CDATA[
            if (GetBoolean(player, "lancesearched")) {
              if (Got(address book1) and Got(ePad2)) {
                MoveObject (player, lounge2)
              }
              else {
                if (not Got(address book1)) {
                  msg ("You decide it would be better to take the address book as its probably full of useful information.<br/>")
                }
                else if (not Got(ePad2)) {
                  msg ("You decide it would be better to take the ePad as its probably full of useful information..<br/>")
                }
              }
            }
            else if (not GetBoolean(player, "lancesearched")) {
              msg ("You turn to leave, but stop, convinced there must be some information here <i>somewhere.</i>")
            }
          ]]></script>
          <pattern>leave; out; leave room; open door; go out; go lounge</pattern>
        </command>
        <command>
          <script><![CDATA[
            msg ("Other than the dead body and the desk upon which he's slumped, the room is completely bare.<br/>")
          ]]></script>
          <pattern>search room</pattern>
        </command>
      </object>
      <object name="drugden lounge">
        <inherit name="editor_room" />
        <description><![CDATA[You sweep the drape aside and step into the room. There's the smell of stale weed hanging in the air and a tatty old armchair sits in the centre of the room.<br/><br/>On the back wall, a closed door leads to another room, and behind the drape lies the hallway.<br/>]]></description>
        <command>
          <pattern>sit down; sit in armchair; sit down in armchair; rest in armchair; sit; sit in chair; sit down in chair</pattern>
          <script><![CDATA[
            msg ("You lower yourself into the armchair and sink much further than you were expecting.<br/><br/>You clamber back out and dust the seat of your trousers.<br/>")
          ]]></script>
        </command>
        <object name="armchair">
          <inherit name="editor_object" />
          <look>It's dusty and grubby. The material on the arms has long since worn away.</look>
          <take />
          <takemsg>You pick it up and try to stuff it into your knapsack. You eventually give up trying and wonder why you tried to do such a stupid thing.</takemsg>
        </object>
        <object name="door">
          <inherit name="editor_object" />
          <look>It's made from cheap ply and is closed.</look>
        </object>
        <exit to="drug den backroom" />
        <command>
          <pattern>open door; go door; go room; walk to room; go to room; enter room</pattern>
          <script>
            MoveObject (player, drug den backroom)
          </script>
        </command>
        <exit to="drugden hall" />
        <command>
          <pattern>hallway; go hallway; enter hallway; go to hallway</pattern>
          <script>
            MoveObject (player, drugden hall)
          </script>
        </command>
      </object>
      <object name="drugden fail">
        <inherit name="editor_room" />
        <description type="script"><![CDATA[
          ClearScreen
          msg ("You come round under a deserted food stall. Your left eye won't open and your tongue finds a gap between your teeth that wasn't there before. There's a metalic taste in your mouth. You spit out a gobbule of thick red saliva and muscus as you climb to your feet and dust yourself off.<br/><br/>Another day at the office, but perhaps a few hours sleep wouldn't go a miss. Maybe with a clear head your options will be easier to come by.<br/>")
          wait {
            if (GetBoolean(player, "knapsack")) {
              msg ("You retrive your knapsack from the knapsack from its hiding place and head back to your apartment, already planning another way into the drug den.<br/>")
              MoveObject (knapsack, player)
              SetObjectFlagOn (player, "night")
              wait {
                MoveObject (player, bedroom)
              }
            }
          }
        ]]></description>
      </object>
      <object name="shoot goon">
        <inherit name="editor_room" />
      </object>
    </object>
    <object name="millers bar rooms">
      <inherit name="editor_room" />
      <object name="millers bar ext">
        <inherit name="editor_room" />
        <description type="script"><![CDATA[
          if (GetBoolean(player, "night")) {
            msg ("Opposite you lies Millers Bar. Closed and shuttered, standing dark and blending into the wall in which it's situated.<br/><br/>Various side streets branch off in all directions, most of them leading to the flickering lights along the main highway. A row of terraced houses, their occupants sleeping, sits overlooking the bar,<br/><br/>The pod rank is back to the south.<br/>")
            SetObjectFlagOn (player, "beenmillers")
          }
          else {
            SetObjectFlagOn (player, "beenmillers")
            firsttime {
              msg ("A short stroll north from the small shuttle rank where the pod dropped you off, and you find yourself on a quiet street opposite Millers Bar. It's a small, inconspicuous looking place. The sign is made from blue neon and written in a hand script, with the arm of the final R looping round and forming a line under the name.<br/><br/>Various side streets branch off in all directions, most of them leading to the hustle of bustle of the main highway, and a row of terraced houses sit overlooking the bar. <br/><br/>The pod rank is back to the south. East will take you to the bar. <br/>")
            }
            otherwise {
              msg ("You're standing opposite Millers Bar.<br/><br/>Various side streets branch off in all directions, most of them leading to the hustle of bustle of the main highway, and a row of terraced houses sit overlooking the bar. <br/><br/>The pod rank is back to the south. East will take you to the bar. <br/>")
            }
          }
        ]]></description>
        <command>
          <pattern>n; w; ne; se; sw; nw; go houses; go streets; go highway; go main highway</pattern>
          <script>
            msg ("You explore your surroundings for a while, but discover nothing that aids your immediate concerns and return your spot opposite Millers Bar.")
          </script>
        </command>
        <exit alias="east" to="millers bar int">
          <inherit name="eastdirection" />
        </exit>
        <exit alias="south" to="podrankmillers">
          <inherit name="southdirection" />
        </exit>
        <object name="millers bar int">
          <inherit name="editor_room" />
          <description type="script"><![CDATA[
            firsttime {
              msg ("The first thing you notice as you stroll out of the entrance corridor and into the main bar is how empty the place is. You step down a couple of steps to the seating area, where you stop briefly to size up the place.<br/><br/>A couple, deep in conversation, are sat at a table a few feet away. At the other side of the area, a young woman sits alone.<br/><br/>Over by the bar itself is another woman ordering drinks. Possibly the friend of the girl on her own.<br/><br/>On the far side to your left, the toilets, and behind you the way out.<br/>")
            }
            otherwise {
              msg ("<br/>The place is far busier than it was the last time you were here.<br/><br/>You ask a few questions at a couple of the tables, but your presense and queries attract too much unwanted attraction, especially from the barman who is eyeing you suspiciously and talking with two shaven-headed men that look like tanks. You decide you've outstayed your welcome and leave.<br/>")
              wait {
                MoveObject (player, millers bar ext)
              }
            }
          ]]></description>
          <exit alias="west" to="millers bar ext">
            <inherit name="westdirection" />
          </exit>
          <object name="couple_in_bar">
            <inherit name="editor_object" />
            <inherit name="male" />
            <inherit name="editor_player" />
            <inherit name="talkingchar" />
            <alias>couple</alias>
            <look>The couple are in their mid-thirties, and clearly enjoying one anothers company. They sip at their drinks between exchanges.</look>
            <alt type="stringlist">
              <value>couple</value>
              <value>people</value>
              <value>couple at table</value>
            </alt>
            <attr name="feature_player" type="boolean">false</attr>
            <nowshow type="stringlist" />
            <talk type="script">
            </talk>
            <askdefault type="script"><![CDATA[
              firsttime {
                msg ("The man turns and looks at you like he would something he'd just scraped off his shoe.\"Do you mind. I'm having a conversation here. Sling your hook!\"<br/><br/>You think about breaking his nose, but just about resist the temptation. No need to cause a scene.<br/>")
              }
              otherwise {
                msg ("\"Are you looking for trouble? I've already told you, piss off!\"<br/><br/>His girlfriend looks a little embarrassed, not to mention concerned. For her sake, you smile and back away.")
              }
            ]]></askdefault>
          </object>
          <object name="lone_woman_in_bar">
            <inherit name="editor_object" />
            <inherit name="female" />
            <alias>woman</alias>
            <alt type="stringlist">
              <value>lone woman</value>
              <value>woman</value>
              <value>woman on her own</value>
              <value>girl</value>
              <value>girl on her own</value>
            </alt>
            <look>She's in her mid twenties, not unattractive, wearing jeans and a fluffy blue jumper.</look>
            <askdefault type="script"><![CDATA[
              firsttime {
                msg ("The woman crosses her legs as you begin to speak. \"Look, I'm not interested. Get lost, will you?\"<br/><br/>\"You're a friendly bunch, it has to be said.\"<br/><br/>She shows no sign of amusment.<br/>")
              }
              otherwise {
                msg ("\"Look. Go away, please. My husband will be back soon and he won't appreciate you talking to me.\"")
              }
            ]]></askdefault>
          </object>
          <command>
            <pattern>ask barman for drink; order drink; order; buy drink; buy</pattern>
            <script>
              msg ("He prepares your drink and places it down in front of you.")
            </script>
          </command>
          <exit alias="toilets" to="toilet" />
          <command>
            <pattern>go toilets; go toilet; use toilet; use toilets</pattern>
            <script>
              msg ("You step into the men's, take a piss, and return to the bar.")
            </script>
          </command>
          <exit to="bar" />
          <object name="woman at bar">
            <inherit name="editor_object" />
            <inherit name="female" />
            <look>She's leaning over the bar flirting with the barman, her shortness meaning she has to stand on the chrome footbar to steady herself. Two fresh drinks in tall glasses are by her side. She's wearing a short denim skirt, black boots and white t-shirt.</look>
            <askdefault type="script">
              MoveObject (player, bar)
            </askdefault>
            <speak type="script">
              MoveObject (player, bar)
            </speak>
          </object>
          <object name="barman1">
            <inherit name="editor_object" />
            <alias>barman</alias>
            <look>A young, slim man with a Mediterranean look. He's dressed in a white shirt, but the bar he stands behind prevents you defining any more detail.</look>
          </object>
          <command>
            <pattern>out; go out; leave bar; leave millers bar</pattern>
            <script>
              msg ("You decide there's nothing more for you here. Time to move on")
              SetTimeout (4) {
                MoveObject (player, millers bar ext)
              }
            </script>
          </command>
        </object>
        <object name="millers bar fail">
          <inherit name="editor_room" />
          <description type="script"><![CDATA[
            msg ("You come round, discovering the barman has relieved you of one of your front teeth.<br/><br/>Not your best move ever. You very much doubt you'll be welcome back into that place anytime soon, and what's more you managed to gather nothing from Lucy.<br/><br/>There has to be another way into the drug den. Maybe a few hours sleep might clear you head - you could certainly use a bed right now.<br/>")
            wait {
              ClearScreen
              MoveObject (player, bedroom)
            }
          ]]></description>
          <enter type="script">
            game.external_state = 1
          </enter>
        </object>
        <command>
          <pattern>e; east; enter bar; enter millers bar; go millers; go millers bar</pattern>
          <script><![CDATA[
            if (GetBoolean(player, "night")) {
              msg ("All closed up and secured.<br/>")
            }
            else {
              MoveObject (player, millers bar int)
            }
          ]]></script>
        </command>
      </object>
      <object name="bar">
        <inherit name="editor_room" />
        <description><![CDATA[You walk up to the bar and nod your head to the barman. He leans in your direction. "Yes, sir?"<br/><br/>"A milk, please."<br/><br/>"<i>Milk?</i>"<br/><br/>"Yes, you know, the stuff that comes out of a cow's udder. Milk."<br/><br/>"No, it's just that we don't really sell milk. I mean I can get you some from the fridge, but we don't have a price for it."<br/><br/>"Well how about you get me some and I'll make you an offer?"<br/><br/>The barman turns to the woman and says, "I'll be back in a tick, Lucy," before slipping through to the back room and returning with a tall glass of the stuff.<br/><br/>You look over at Lucy and notice a wide grin on her face.<br/><br/>Over beyond the seating area is the way out.<br/><br/>]]></description>
        <object name="lucy">
          <inherit name="editor_object" />
          <inherit name="female" />
          <drop type="boolean">false</drop>
          <attr name="feature_usegive" type="boolean">false</attr>
          <attr name="feature_container" type="boolean">false</attr>
          <attr name="feature_switchable" type="boolean">false</attr>
          <attr name="feature_edible" type="boolean">false</attr>
          <attr name="feature_player" type="boolean">false</attr>
          <alias>woman</alias>
          <alt type="stringlist">
            <value>woman at bar</value>
            <value>lucy</value>
            <value>woman</value>
            <value>girl at bar</value>
            <value>girl</value>
          </alt>
          <nowshow type="stringlist">
            <value>yazmin</value>
          </nowshow>
          <look type="script"><![CDATA[
            if (not GetBoolean(lucy, "lucybackroom")) {
              msg ("She's leaning over the bar flirting with the barman, her shortness meaning she has to stand on the chrome footbar to steady herself. Two fresh drinks in tall glasses are by her side. She's wearing a short denim skirt, black boots and white t-shirt.<br/>")
            }
            else if (GetBoolean(lucy, "lucybackroom")) {
              msg ("Perched on the edge of the desk and looking as pretty as ever.<br/>")
            }
          ]]></look>
          <askdefault type="script">
            msg ("")
          </askdefault>
          <ask type="scriptdictionary">
            <item key="yazmin"><![CDATA[
              msg ("<br/>\"Who?\"<br/><br/>\"Yazmin. Yazmin Dawson. I'm trying to gather some information about her last movements.\"<br/><br/>\"She dead then?\" Lucy asks coldly, her grin suddenly fading.<br/><br/>You nod. \"Very. Did you know her, Lucy?\"<br/><br/>\"Are you a cop then?\"<br/><br/>\"No, I work for myself.\" You lean in closer and lower your voice. \"Listen, nothing you tell me is going to go any further than my ears.\"<br/><br/>Lucy looks hesitant, but finally speaks. \"I knew <i>of</i> her, but I can't say I knew her personally. She used to be a regular in here, liked to make a scene... get herself noticed, if you know what I mean.\"<br/><br/>\"Was she usually alone or with people?\"<br/><br/>\"Usually with a couple of other people... faces I don't know.\" She looks around the bar again before lowering her voice herself. \"Listen... whoever you are, if you want to keep talking then you're going to have to make it worth my while. If you're interested I'll be in that room back there.\" She gestures to a back room at the end of a short corridor that runs along the right side of the bar.<br/><br/>You watch her stroll off and dissappear behind the door.<br/>")
              MoveObject (lucy, back room)
            ]]></item>
            <item key="yvonne upton"><![CDATA[
              msg ("<br/>Lucy grabs her drinks and strolls past you, stopping breifly to say, \"Get lost!\"")
            ]]></item>
            <item key="wilfred"><![CDATA[
              msg ("<br/>\"Never heard of him.\"<br/><br/>You study her face for a moment. Seems to be on the level.<br/><br/>You accept her answer.")
            ]]></item>
            <item key="sol withers"><![CDATA[
              msg ("<br/>\"Uum, yeah, name rings a bell. I think she was one of the ones Yazmin used to hang around with.\"<br/><br/>\"Anything else you can tell me? Anything?\"<br/><br/>\"Look, I'm getting a little uncomfortable with all this. I've told you all I know.\"")
            ]]></item>
            <item key="wilfred yoks"><![CDATA[
              msg ("\"Never heard of him.\"<br/><br/>You study her face for a moment. Seems to be on the level.<br/><br/>You accept her answer.")
            ]]></item>
            <item key=" sol"><![CDATA[
              msg ("<br/>\"Uum, yeah, name rings a bell. I think she was one of the ones Yazmin used to hang around with.\"<br/><br/>\"Anything else you can tell me? Anything?\"<br/><br/>\"Look, I'm getting a little uncomfortable with all this. I've told you all I know.\"")
            ]]></item>
            <item key="yazmin dawson"><![CDATA[
              msg ("\"Who?\"<br/><br/>\"Yazmin. Yazmin Dawson. I'm trying to gather some information about her last movements.\"<br/><br/>\"She dead then?\" Lucy asks coldly, her grin suddenly fading.<br/><br/>You nod. \"Very. Did you know her, Lucy?\"<br/><br/>\"Are you a cop then?\"<br/><br/>\"No, I work for myself.\" You lean in closer and lower your voice. \"Listen, nothing you tell me is going to go any further than my ears.\"<br/><br/>Lucy looks hesitant, but finally speaks. \"I knew <i>of</i> her, but I can't say I knew her personally. She used to be a regular in here, liked to make a scene... get herself noticed, if you know what I mean.\"<br/><br/>\"Was she usually alone or with people?\"<br/><br/>\"Usually with a couple of other people... faces I don't know.\" She looks around the bar again before lowering her voice herself. \"Listen... whoever you are, if you want to keep talking then you're going to have to make it worth my while. If you're interested I'll be in that room back there.\" She gestures to a back room at the end of a short corridor that runs along the right side of the bar.<br/><br/>You watch her stroll off and dissappear behind the door.<br/>")
            ]]></item>
            <item key=" yvonne"><![CDATA[
              msg ("<br/>Lucy grabs her drinks and strolls past you, stopping breifly to say, \"Get lost!\"")
            ]]></item>
          </ask>
        </object>
        <object name="barman">
          <inherit name="editor_object" />
          <look>A young, slim man with a Mediterranean look. He's dressed in a white shirt and black slacks.</look>
          <askdefault type="script"><![CDATA[
            msg ("<br/>\"I'm a busy man, friend. I don't have time for your questions.\"")
          ]]></askdefault>
        </object>
        <command>
          <pattern>drink; drink milk</pattern>
          <script>
            msg ("You take a long drink from the glass of milk.")
          </script>
        </command>
        <command>
          <pattern>buy girl drink; buy lucy drink; buy lucy a drink; buy girl a drink; offer lucy a drink; offer girl a drink</pattern>
          <script>
            msg ("\"Thanks,\" Lucy says, still smiling, \"but I've already got one.\"")
          </script>
        </command>
        <command>
          <pattern>out; go out; leave bar; leave millers bar</pattern>
          <script>
            msg ("You decide there's nothing more for you here. Time to move on")
            SetTimeout (4) {
              MoveObject (player, millers bar ext)
            }
          </script>
        </command>
        <command>
          <pattern>pay barman; pay for drink; pay; pay barman for drink; pay for milk; pay barman for milk</pattern>
          <script>
            msg ("You slip the barman12 numus and tell him to get himself one.")
          </script>
        </command>
        <command>
          <pattern>go back room; follow lucy; enter back room; follow woman</pattern>
          <script>
            MoveObject (player, back room)
          </script>
        </command>
        <exit to="back room" />
        <command>
          <pattern>attack barman; attack lucy; shoot barman; shoot lucy; kill barman; kill lucy; slap lucy; punch barman</pattern>
          <script><![CDATA[
            msg ("The barman moves like lightening and is on you in a flash. He wrestles you to the ground, helped by a few well-aimed kicks to the shines from Lucy.<br/><br/>Dazed from the barman's blows, you feel yourself being dragged somewhere.<br/>")
            wait {
              ClearScreen
              SetObjectFlagOn (player, "night")
              MoveObject (player, millers bar fail)
            }
          ]]></script>
        </command>
        <command>
          <pattern>offer money; give money; offer cash; give cash; offer bribe; give bribe; offer lucy a bribe; give lucy money; offer lucy money</pattern>
          <script><![CDATA[
            msg ("\"That's more like it,\" she smiles. \"But not out here. Follow me.\"<br/><br/>She turns and heads towards a door at the end of a corridor running along the side of the bar.<br/>")
            MoveObject (lucy, back room)
          ]]></script>
        </command>
      </object>
      <object name="back room">
        <inherit name="editor_room" />
        <alias>back room</alias>
        <description type="script"><![CDATA[
          MoveObject (lucy, back room)
          msg ("<br/>You tentitively enter the room and find Lucy perched on the edge of a desk, waiting. She stands and says, \"Before you say a word, let me explain that my boyfriend is just outside that door,\" she points to a door in the side of the room, \"He's armed and will be in here quicker than you can blink should you try any funny busniness. Okay?\"<br/><br/>You don't believe a word of it. You've encountered enough dodgy people over your time to know when you need to watch your back, and this girl poses no threat at all. She's just a kid trying to make some numus. And besides, if she has some information, you're not about to jepordise it.<br/><br/>You stifle the grin you feel creeping across your face. \"That's fine, Lucy. I'm no threat to you.\"<br/><br/>She says nothing as she takes a step closer to you and holds out her upturned palm.<br/>")
          MoveObject (notebook page 2, player)
        ]]></description>
        <enter type="script">
        </enter>
        <command>
          <pattern>give money; give lucy money; pay lucy; pay lucy money; give some money to lucy; pay; give; give money to lucy</pattern>
          <script><![CDATA[
            firsttime {
              msg ("You reach very slowly into your inside breast pocket and pull out your wallet, very deliberatly, so as not to startle Lucy. You open the wallet and thumb through the notes, wondering how much you'll need to hand over to get the inofrmation. You withdraw five twenties and hold them out for Lucy to take, but her eyes never leave yours and she makes no move towards your hand.<br/>")
            }
            otherwise {
              msg ("\"I've got to admire you Lucy,\" you say smiling. \"I've known you five minutes and you're fleecing me like a pro.\"<br/><br/>You pull out another five twenties and offer her the bundle of notes. She grabs the money and stuffs it into a little pocket on the hip of her denim skirt.<br/><br/>It was a gamble, you know, and you half expect some goon with a gun to burst in. However, it quickly becomes apparent that Lucy is going to stay true to her word.<br/><br/>\"Speak to a man called Luke. You'll find him over in the slums. I know he used to sell to Yazmin and her friends. A word of warning, though, go as a user. It's the only way you'll get to see him. If they get so much as a sniff that you're snooping around their business, they'll shoot you dead without a second thought.\"<br/><br/>You frown, genuinley confused. \"Wait, I'm not sure I understand. I don't want to buy drugs, I need information.\"<br/><br/>\"And he's the man to give it you. I didn't say it would be easy and I have no idea how you're going to get that inofrmation, but he's your man.\"<br/><br/>\"And I've just given you two-hundred fucking numus for that!!\"<br/><br/>\"No, you've given me two-hundred numus for the codeword you'll need to get that far. Cold Rose.\"<br/><br/>And with that she opens the door and leaves.<br/><br/>You grab your notebook and pencil and quickly jot down the information before leaving the bar and heading back to the shuttle service.<br/>")
              wait {
                MoveObject (player, podrankmillers)
              }
            }
          ]]></script>
        </command>
        <command>
          <pattern>give more money; give lucy more money; pay more; give more</pattern>
          <script><![CDATA[
            SetObjectFlagOn (lucy, "lucybackroom")
            msg ("\"I've got to admire you Lucy,\" you say smiling. \"I've known you five minutes and you're fleecing me like a pro.\"<br/><br/>You pull out another five twenties and offer her the bundle of notes. She grabs the money and stuffs it into a little pocket on the hip of her denim skirt.<br/><br/>It was a gamble, you know, and you half expect some goon with a gun to burst in. However, it quickly becomes apparent that Lucy is going to stay true to her word.<br/><br/>\"Speak to a man called Lance. You'll find him over in the slums. I know he used to sell to Yazmin and her friends. A word of warning, though, go as a user. It's the only way you'll get to see him. If they get so much as a sniff that you're snooping around their business, they'll shoot you dead without a second thought.\"<br/><br/>You frown, genuinley confused. \"Wait, I'm not sure I understand. I don't want to buy drugs, I need information.\"<br/><br/>\"And he's the man to give it you. I didn't say it would be easy and I have no idea how you're going to get that inofrmation, but he's your man.\"<br/><br/>\"And I've just given you two-hundred fucking numus for that!!\"<br/><br/>\"No, you've given me two-hundred numus for the codeword you'll need to get that far. Cold Rose.\"<br/><br/>And with that she opens the door and leaves.<br/><br/>You grab your notebook and pencil and quickly jot down the information before leaving the bar and heading back to the shuttle service.<br/>")
            wait {
              MoveObject (player, podrankmillers)
            }
          ]]></script>
        </command>
        <command>
          <pattern>attack lucy; shoot lucy; kill lucy; slap lucy; attack lucy with crowbar; kill lucy with crowbar; hit lucy; punch lucy; grab lucy</pattern>
          <script><![CDATA[
            msg ("Lucy bolts for the door screaming and the barman strides in carrying a gun.<br/><br/>\"Well, whaddya know, you weren't bluffing.\"<br/><br/>He moves like lightening and is on you in a flash. He wrestles you to the ground, helped by a few well-aimed kicks to the shins from Lucy.<br/><br/>Dazed from the barman's blows, you feel yourself being dragged somewhere.<br/>")
            wait {
              SetObjectFlagOn (player, "night")
              MoveObject (player, millers bar fail)
            }
          ]]></script>
        </command>
        <command>
          <pattern>say #text#; ask #text#</pattern>
          <script><![CDATA[
            msg ("\"The time for talking is over. I know what you want, and you know what I want.\"<br/>")
          ]]></script>
        </command>
      </object>
    </object>
    <command>
      <pattern>light cigarette; light a cigarette; use cigarettes; smoke; smoke cigarette; smoke a cigarette</pattern>
      <script>
        if (GetBoolean(player, "cigbut")) {
          msg ("You're already smoking one.")
        }
        else {
          msg ("You grab the pack from you pocket and tap one into your hand. You light it and inhale deeply")
          SetObjectFlagOn (player, "cigbut")
          SetTimeout (10) {
            msg ("You take a final drag from the cigarette before flicking it into the air.")
            SetObjectFlagOff (player, "cigbut")
          }
        }
      </script>
    </command>
  </game>
  <verb name="wear">
    <pattern>wear #object#</pattern>
    <property>wear</property>
    <defaulttemplate>DefaultWear</defaulttemplate>
  </verb>
  <command name="go">
    <pattern type="string"><![CDATA[^enter (?<exit>.*)$|^go to (?<exit>.*)$|^go (?<exit>.*)$|^(?<exit>north|east|south|west|northeast|northwest|southeast|southwest|in|out|up|down|n|e|s|w|ne|nw|se|sw|o|u|d)$]]></pattern>
    <unresolved>You can't go there.</unresolved>
    <script>
      if (exit.visible) {
        if (exit.locked) {
          msg (exit.lockmessage)
        }
        else if (exit.runscript) {
          if (HasScript(exit, "script")) {
            do (exit, "script")
          }
        }
        else if (exit.lookonly) {
          msg ("You can't go there.")
        }
        else {
          game.pov.parent = exit.to
        }
      }
      else {
        msg ("You can't go there.")
      }
    </script>
  </command>
  <verb name="dress">
    <property>dress</property>
    <pattern>dress #object#</pattern>
    <defaultexpression>"You can't dress " + object.article + "."</defaultexpression>
    <defaulttemplate>DefaultDress</defaulttemplate>
  </verb>
  <verb name="fire">
    <property>fire</property>
    <pattern>fire #object#</pattern>
    <defaultexpression type="string"></defaultexpression>
  </verb>
  <object name="elevator2">
    <inherit name="editor_room" />
    <alias>lift; elevator</alias>
    <open />
    <feature_usegive />
    <description type="script"><![CDATA[
      msg ("You rest your head agianst the rubber mount of the retina scanner and wait for the beep.<br/>")
      SetTimeout (4) {
        msg ("The elevator doors open and you step inside.<br/><br/>Going up.<br/><br/>Please wait...<br/>")
        SetTimeout (2) {
          MoveObject (player, lounge)
        }
      }
    ]]></description>
    <use type="script">
      msg ("Going up...")
      MoveObject (player, lounge)
    </use>
  </object>
  <object name="wilsons palace">
    <inherit name="editor_room" />
    <description><![CDATA[<br/>This is Wilsons Palace.]]></description>
  </object>
  <object name="oaklie towers">
    <inherit name="editor_room" />
    <description><![CDATA[<br/>This is Oaklie Towers.]]></description>
  </object>
  <verb>
    <property>ride</property>
    <pattern>ride</pattern>
    <defaultexpression>"You can't ride " + object.article + "."</defaultexpression>
  </verb>
  <verb>
    <property>hire</property>
    <pattern>hire</pattern>
    <defaultexpression>"You can't hire " + object.article + "."</defaultexpression>
  </verb>
  <verb>
    <property>hail</property>
    <pattern>hail</pattern>
    <defaultexpression>"You can't hail " + object.article + "."</defaultexpression>
  </verb>
  <object name="dark room">
    <inherit name="editor_room" />
    <description type="script">
      msg ("You burst through the door and find yourself in total darkness. You trace your hand up the door frame and find the light switch, but nothing happens when you flick the switch.")
    </description>
    <command>
      <pattern>switch on torch; turn on torch; switch on flashlight; turn on flashlight; use torch; use flashlight</pattern>
      <script>
        if (not Got(torch)) {
          msg ("You're not carryng a torch.")
        }
        else if (Got(torch)) {
          msg ("You sweep the light across the room and its broad beam illuminates various bits of furniture.")
        }
      </script>
    </command>
  </object>
  <verb>
    <property>smash</property>
    <pattern>smash</pattern>
    <defaultexpression>"You can't smash " + object.article + "."</defaultexpression>
  </verb>
  <verb>
    <property>break</property>
    <pattern>break</pattern>
    <defaultexpression>"You can't break " + object.article + "."</defaultexpression>
  </verb>
  <command>
    <pattern>order a #text#; buy a #text#; order #text#; buy #text#</pattern>
    <script>
      msg ("\"A " + text + "? Certainly sir.\"")
    </script>
  </command>
  <command>
    <pattern type="string"><![CDATA[^ask about (?<text>.*)$]]></pattern>
    <script>
      msg ("There is no one around to answer you right now.")
    </script>
  </command>
  <turnscript>
    <script>
    </script>
  </turnscript>
  <verb>
    <property>smoke</property>
    <pattern>smoke</pattern>
    <defaultexpression>"You can't smoke " + object.article + "."</defaultexpression>
  </verb>
  <verb>
    <property>light</property>
    <pattern>light</pattern>
    <defaultexpression>"You can't light " + object.article + "."</defaultexpression>
  </verb>
  <verb>
    <property>have</property>
    <pattern>have</pattern>
    <defaultexpression>"You can't have " + object.article + "."</defaultexpression>
  </verb>
  <verb>
    <property>money</property>
    <pattern>money</pattern>
    <defaultexpression>"You can't money " + object.article + "."</defaultexpression>
  </verb>
  <verb>
    <property>cash</property>
    <pattern>cash</pattern>
    <defaultexpression>"You can't cash " + object.article + "."</defaultexpression>
  </verb>
  <verb>
    <property>bills</property>
    <pattern>bills</pattern>
    <defaultexpression>"You can't bills " + object.article + "."</defaultexpression>
  </verb>
  <verb>
    <property>look</property>
    <pattern>look</pattern>
    <defaultexpression>"You can't look " + object.article + "."</defaultexpression>
  </verb>
  <command />
  <command>
    <pattern>log off</pattern>
    <script><![CDATA[
      ClearScreen
      msg ("Logging off. Please wait...<br/>")
      SetTimeout (3) {
        msg ("Logged off.")
      }
    ]]></script>
  </command>
  <command name="EpadCommand">
    <script><![CDATA[
      ClearScreen
      msg ("Enter password | {command:Log off}")
      get input {
        if (result<>"1234") {
          msg ("Incorrect password entered | {command:use epad:Try again}")
        }
        else if (result="1234") {
          ClearScreen
          MoveObject (player, login)
        }
      }
    ]]></script>
    <pattern>use epad</pattern>
  </command>
  <function name="InitUserInterface"><![CDATA[
    JS.eval ("$('#txtCommandDiv').prepend('&gt;&nbsp;')")
    request (SetInterfaceString, "TypeHereLabel=")
    OutputTextNoBr (game.css)
    JS.JS.eval ("$('#status').hide();")
  ]]></function>
</asl>