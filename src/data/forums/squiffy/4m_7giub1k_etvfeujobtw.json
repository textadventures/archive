{
  "Topic": {
    "TopicId": "4m_7giub1k_etvfeujobtw",
    "ForumId": "24",
    "Title": "Is there a way to create checkpoints?",
    "LastUpdated": "2021-04-28T17:09:07.7661234Z",
    "ReplyCount": 0
  },
  "Posts": [
    {
      "PostId": "a8fcd514-605f-467e-b891-1df2ec46734a",
      "UserId": 518999,
      "Username": "Mr.Dot",
      "AvatarUrl": "https://secure.gravatar.com/avatar/f4786663e44a09a9cd2d148a7e6cf553?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Like, instead of when you hit the restart button you go to a certain point and not the very start?\r\n\r\n1. How do you remove the \"Restart\" link at the top\r\n2. Is there a way to create a checkpoint or do you just do ```[[Restart]](checkpoint1)```",
      "EditableFormat": "markdown",
      "HTML": "<p>Like, instead of when you hit the restart button you go to a certain point and not the very start?</p>\n<ol>\n<li>How do you remove the \"Restart\" link at the top</li>\n<li>Is there a way to create a checkpoint or do you just do <code>[[Restart]](checkpoint1)</code></li>\n</ol>\n\n",
      "PostDate": "2021-04-28T17:09:07.7661234Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "67e1ac22-2d0c-4871-9880-c7e6caff728a",
      "UserId": 518866,
      "Username": "K.V.",
      "AvatarUrl": "https://secure.gravatar.com/avatar/a97688aadc8152436180b511021e94a7?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Hello.\r\n\r\nSquiffy games automatically save the progress in the browser's local storage.\r\n\r\nThe only way to start a game from the beginning is by clicking that restart button (unless the user clears their browser's local storage).\r\n\r\nSo, hiding that restart link is not advised, but you can do it by hiding the HTML element via JS (or jQuery).\r\n\r\nhttps://www.w3schools.com/jquery/eff_hide.asp\r\n\r\n---\r\nYou should be able to use the browser's local storage to store checkpoints.\r\n\r\nhttps://www.w3schools.com/html/html5_webstorage.asp",
      "EditableFormat": "markdown",
      "HTML": "<p>Hello.</p>\n<p>Squiffy games automatically save the progress in the browser's local storage.</p>\n<p>The only way to start a game from the beginning is by clicking that restart button (unless the user clears their browser's local storage).</p>\n<p>So, hiding that restart link is not advised, but you can do it by hiding the HTML element via JS (or jQuery).</p>\n<p>https://www.w3schools.com/jquery/eff_hide.asp</p>\n<hr>\n<p>You should be able to use the browser's local storage to store checkpoints.</p>\n<p>https://www.w3schools.com/html/html5_webstorage.asp</p>\n\n",
      "PostDate": "2021-04-28T18:42:13.2562834Z",
      "LastEditDate": "2021-04-28T18:47:14.123299Z",
      "link": null
    },
    {
      "PostId": "0296dd2b-1bed-4148-8307-8ae2c5f60ed2",
      "UserId": 251768,
      "Username": "Bluevoss",
      "AvatarUrl": "https://i.imgur.com/6mfIIbhb.gif",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "There are issues with this, right? What do you lose if you save? I've not had a lot of luck restarting a game. Well, one of my games.\r\n",
      "EditableFormat": "markdown",
      "HTML": "<p>There are issues with this, right? What do you lose if you save? I've not had a lot of luck restarting a game. Well, one of my games.</p>\n\n",
      "PostDate": "2021-04-29T15:05:51.5288563Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "f1804c12-a083-43e4-a138-5eaec8425ed1",
      "UserId": 518866,
      "Username": "K.V.",
      "AvatarUrl": "https://secure.gravatar.com/avatar/a97688aadc8152436180b511021e94a7?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": ">  I've not had a lot of luck restarting a game. Well, one of my games.\r\n\r\nIs it public?  I could test it on my system for you, just to see if it doesn't like me either.\r\n\r\n---\r\nAlso, to avoid working on what I'm supposed to be working on, I'm about to make a quick game to test checkpoints. :)",
      "EditableFormat": "markdown",
      "HTML": "<blockquote>\n<p>I've not had a lot of luck restarting a game. Well, one of my games.</p>\n</blockquote>\n<p>Is it public?  I could test it on my system for you, just to see if it doesn't like me either.</p>\n<hr>\n<p>Also, to avoid working on what I'm supposed to be working on, I'm about to make a quick game to test checkpoints. :)</p>\n\n",
      "PostDate": "2021-04-29T15:31:00.2528905Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "51579a6c-a9e0-4d6a-a816-1425f9007f15",
      "UserId": 518866,
      "Username": "K.V.",
      "AvatarUrl": "https://secure.gravatar.com/avatar/a97688aadc8152436180b511021e94a7?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "I tried to find a way to do this by only using the game's code -- without editing any CSS or HTML files.\r\n\r\nThis seems to work, but it seems like it could be done better:\r\n\r\n```\r\nBAD CODE REMOVED\r\n\r\n```\r\n\r\n---\r\nClicking RESTART should ask if you want to start from the beginning or from the checkpoint:\r\n\r\n---\r\n**EDIT**\r\n\r\nAh!  I was writing a reply at the same time as mrangel, and his post made me realize that my code was no good.  All my code really did was use ```squiffy.story.go()``` to go to whatever section name was saved in the local storage under \"checkpoint\".  That did *not* really create checkpoints.",
      "EditableFormat": "markdown",
      "HTML": "<p>I tried to find a way to do this by only using the game's code -- without editing any CSS or HTML files.</p>\n<p>This seems to work, but it seems like it could be done better:</p>\n<pre><code>BAD CODE REMOVED\n\n</code></pre>\n<hr>\n<p>Clicking RESTART should ask if you want to start from the beginning or from the checkpoint:</p>\n<hr>\n<p><strong>EDIT</strong></p>\n<p>Ah!  I was writing a reply at the same time as mrangel, and his post made me realize that my code was no good.  All my code really did was use <code>squiffy.story.go()</code> to go to whatever section name was saved in the local storage under \"checkpoint\".  That did <em>not</em> really create checkpoints.</p>\n\n",
      "PostDate": "2021-04-29T18:35:15.7071323Z",
      "LastEditDate": "2021-04-29T18:45:04.0620659Z",
      "link": null
    },
    {
      "PostId": "56c87b18-8512-40f3-903d-2388b8750f9e",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "You could implement a kind of checkpoint by looping over all attributes in localstorage and serialising them into a single attribute; if the player wants to go back to the checkpoint, you just unpack them all.\r\n\r\nIf you want to disable 'saving' between checkpoints (which is a bit weird, because attributes are always in LocalStorage, which the browser saves between sessions), you could set the `_transition` script to return to the previous checkpoint; this runs as soon as the player opens a game which has existing data in LocalStorage. You would presumably want to replace the `squiffy.story.save` function with one which doesn't save the output (you'd do that manually at checkpoints), but which resets the value of `_transition` to prevent `squiffy.story.go` clearing it.\r\n\r\nI don't think this would be too hard to achieve.",
      "EditableFormat": "markdown",
      "HTML": "<p>You could implement a kind of checkpoint by looping over all attributes in localstorage and serialising them into a single attribute; if the player wants to go back to the checkpoint, you just unpack them all.</p>\n<p>If you want to disable 'saving' between checkpoints (which is a bit weird, because attributes are always in LocalStorage, which the browser saves between sessions), you could set the <code>_transition</code> script to return to the previous checkpoint; this runs as soon as the player opens a game which has existing data in LocalStorage. You would presumably want to replace the <code>squiffy.story.save</code> function with one which doesn't save the output (you'd do that manually at checkpoints), but which resets the value of <code>_transition</code> to prevent <code>squiffy.story.go</code> clearing it.</p>\n<p>I don't think this would be too hard to achieve.</p>\n\n",
      "PostDate": "2021-04-29T18:38:01.9313039Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "b334bc30-9d72-45bd-9386-9c6feca8cd80",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Ah, we answered at the same time :)\r\n\r\nKV has a simpler kind of checkpoints, which would allow you to return to a specified checkpoint, but would keep any flags or attributes set after that point.",
      "EditableFormat": "markdown",
      "HTML": "<p>Ah, we answered at the same time :)</p>\n<p>KV has a simpler kind of checkpoints, which would allow you to return to a specified checkpoint, but would keep any flags or attributes set after that point.</p>\n\n",
      "PostDate": "2021-04-29T18:40:37.254813Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "d317c45b-f6da-44b3-a140-55b667bb3dc9",
      "UserId": 518866,
      "Username": "K.V.",
      "AvatarUrl": "https://secure.gravatar.com/avatar/a97688aadc8152436180b511021e94a7?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "> KV has a simpler kind of checkpoints\r\n\r\nOh, yeah...  It was no bueno.\r\n\r\nIt wouldn't even have cleared anything saved between creating the checkpoint and restarting from the checkpoint.\r\n\r\nAs soon as I read your post, I was like, \"oh, damn it! I forgot to cover 3/4 of the bases!\"",
      "EditableFormat": "markdown",
      "HTML": "<blockquote>\n<p>KV has a simpler kind of checkpoints</p>\n</blockquote>\n<p>Oh, yeah...  It was no bueno.</p>\n<p>It wouldn't even have cleared anything saved between creating the checkpoint and restarting from the checkpoint.</p>\n<p>As soon as I read your post, I was like, \"oh, damn it! I forgot to cover 3/4 of the bases!\"</p>\n\n",
      "PostDate": "2021-04-29T18:49:36.6130839Z",
      "LastEditDate": null,
      "link": null
    }
  ]
}
