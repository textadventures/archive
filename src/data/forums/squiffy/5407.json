{
  "Topic": {
    "TopicId": "5407",
    "ForumId": "24",
    "Title": "Accented chars",
    "LastUpdated": "2016-02-23T01:06:31+00:00",
    "ReplyCount": 5
  },
  "Posts": [
    {
      "PostId": "37515",
      "UserId": 0,
      "Username": "Uto",
      "UserAvatar": null,
      "UserGravatar": "84f12d9f57069f768936e74064c8f2af",
      "EditableText": "Hi,\n\nI've built my first Squiffy game, in spanish, and though while developing both on the Windows client and the online tool, all accented chars seem to work fine (even if you use the &quot;preview&quot; in the online tool), once you build it (using local client) or publish it (using &quot;publish&quot; option in the online tool), all accented chars get messed up.\n\nThis is the game:\n\n<!-- m --><a class=\"postlink\" href=\"http://textadventures.co.uk/games/view/gmfimmsfhkssh7dagfwuca/la-luz-que-vino-del-cielo\">http://textadventures.co.uk/games/view/ ... -del-cielo</a><!-- m -->\n\nIt seems to be an enconding issue, but I have tried forcing the encoding to ISO and UTF-8 creating the index.template.html file, but didn't change anything.\n\nI hope you can help <!-- s:-) --><img src=\"{SMILIES_PATH}/icon_smile.gif\" alt=\":-)\" title=\"Smile\" /><!-- s:-) -->\n\nEdit: I have also noticed the game doesn't show at all in iOS Safari on iPhone 5 (can't check others). It works on Android Tablet and iPad though. Actually, the &quot;restart&quot; link appears, but nothing else.",
      "EditableFormat": "bbcode",
      "HTML": "Hi,<br/><br/>I've built my first Squiffy game, in spanish, and though while developing both on the Windows client and the online tool, all accented chars seem to work fine (even if you use the &quot;preview&quot; in the online tool), once you build it (using local client) or publish it (using &quot;publish&quot; option in the online tool), all accented chars get messed up.<br/><br/>This is the game:<br/><br/><!-- m --><a class=\"postlink\" href=\"http://textadventures.co.uk/games/view/gmfimmsfhkssh7dagfwuca/la-luz-que-vino-del-cielo\">http://textadventures.co.uk/games/view/ ... -del-cielo</a><!-- m --><br/><br/>It seems to be an enconding issue, but I have tried forcing the encoding to ISO and UTF-8 creating the index.template.html file, but didn't change anything.<br/><br/>I hope you can help <!-- s:-) --><img src=\"{SMILIES_PATH}/icon_smile.gif\" alt=\":-)\" title=\"Smile\" /><!-- s:-) --><br/><br/>Edit: I have also noticed the game doesn't show at all in iOS Safari on iPhone 5 (can't check others). It works on Android Tablet and iPad though. Actually, the &quot;restart&quot; link appears, but nothing else.",
      "PostDate": "2015-08-09T15:36:48+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "37517",
      "UserId": 0,
      "Username": "Uto",
      "UserAvatar": null,
      "UserGravatar": "84f12d9f57069f768936e74064c8f2af",
      "EditableText": "I have been able to get a fixed version, and I have uploaded it here, so you can try to find the differences:\n\n<!-- m --><a class=\"postlink\" href=\"http://www.ngpaws.com/demos/laluz/\">http://www.ngpaws.com/demos/laluz/</a><!-- m -->\n\nThis is the complete step list of what got me there:\n\n1) Start developing game in the Windows version of Squiffy (64b). Everyhting working fine within the IDE, but when I built the game, accented chars were  wrong.\n\n2) Copy the code from the editor to the online editor, again everything when smooth, even the preview, but once I clicked on &quot;publish&quot;, the final version had the accents messed up.\n\n3) Copy the code again from the online version to the local one, just by copy/paste, not using the option to download it. I did it cause I had made some changes in the texts and I wanted to keep them in the local version. I clicked on &quot;build&quot; and suddenly the new version was working fine.\n\nIt seems the windows editor does work with a different encoding, and so pasting online and pasting back to Windows version fixed the problem.\n\nNote: the new version has some texts changed, cause I've been working on it, but I'm sure you will notice soon what I mean with &quot;messed up accented chars&quot;.",
      "EditableFormat": "bbcode",
      "HTML": "I have been able to get a fixed version, and I have uploaded it here, so you can try to find the differences:<br/><br/><!-- m --><a class=\"postlink\" href=\"http://www.ngpaws.com/demos/laluz/\">http://www.ngpaws.com/demos/laluz/</a><!-- m --><br/><br/>This is the complete step list of what got me there:<br/><br/>1) Start developing game in the Windows version of Squiffy (64b). Everyhting working fine within the IDE, but when I built the game, accented chars were  wrong.<br/><br/>2) Copy the code from the editor to the online editor, again everything when smooth, even the preview, but once I clicked on &quot;publish&quot;, the final version had the accents messed up.<br/><br/>3) Copy the code again from the online version to the local one, just by copy/paste, not using the option to download it. I did it cause I had made some changes in the texts and I wanted to keep them in the local version. I clicked on &quot;build&quot; and suddenly the new version was working fine.<br/><br/>It seems the windows editor does work with a different encoding, and so pasting online and pasting back to Windows version fixed the problem.<br/><br/>Note: the new version has some texts changed, cause I've been working on it, but I'm sure you will notice soon what I mean with &quot;messed up accented chars&quot;.",
      "PostDate": "2015-08-09T21:02:07+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "37568",
      "UserId": 0,
      "Username": "Uto",
      "UserAvatar": null,
      "UserGravatar": "84f12d9f57069f768936e74064c8f2af",
      "EditableText": "I created a new game with Squiffy, and this time I didn't use the Windows editor, but built it directly in the online tool. Sadly I got same result: everything goes fine in the internal tester and even in the &quot;preview&quot;, but as soon as I clicked in &quot;publish&quot; the accented chars got all messed up.\n\nI have managed to do a workaround, that  is opening the preview, then go to &quot;Save As&quot; menu in my browser, and then upload the game I saved.\n\nThere should be some difference between the files used for preview and the files used for publishing that affect the text encoding, and that makes unconfortable using Squiffy for most languages other than english.",
      "EditableFormat": "bbcode",
      "HTML": "I created a new game with Squiffy, and this time I didn't use the Windows editor, but built it directly in the online tool. Sadly I got same result: everything goes fine in the internal tester and even in the &quot;preview&quot;, but as soon as I clicked in &quot;publish&quot; the accented chars got all messed up.<br/><br/>I have managed to do a workaround, that  is opening the preview, then go to &quot;Save As&quot; menu in my browser, and then upload the game I saved.<br/><br/>There should be some difference between the files used for preview and the files used for publishing that affect the text encoding, and that makes unconfortable using Squiffy for most languages other than english.",
      "PostDate": "2015-08-11T09:12:34+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "37655",
      "UserId": 0,
      "Username": "Alex",
      "UserAvatar": null,
      "UserGravatar": "188b72c5e13327f4fde3989dca7d7d53",
      "EditableText": "This is now fixed - I've published an update to the Squiffy compiler (4.0.2) that includes charset=&quot;UTF-8&quot; in the script tag. This ensures accented characters don't get corrupted when the game is loaded.\n\nYou can fix an existing game by re-publishing it. Note that after doing this:\n\n- due to caching, it may be 4 hours before your update shows up correctly (quick tip for this - you can bypass the cache by replacing media.textadventures.co.uk with textadventures.blob.core.windows.net in the URL)\n- you'll need to click the Restart link to show the updated text, otherwise it will load the old corrupted characters from the save state in your browser's local storage",
      "EditableFormat": "bbcode",
      "HTML": "This is now fixed - I've published an update to the Squiffy compiler (4.0.2) that includes charset=&quot;UTF-8&quot; in the script tag. This ensures accented characters don't get corrupted when the game is loaded.<br/><br/>You can fix an existing game by re-publishing it. Note that after doing this:<br/><br/>- due to caching, it may be 4 hours before your update shows up correctly (quick tip for this - you can bypass the cache by replacing media.textadventures.co.uk with textadventures.blob.core.windows.net in the URL)<br/>- you'll need to click the Restart link to show the updated text, otherwise it will load the old corrupted characters from the save state in your browser's local storage",
      "PostDate": "2015-08-16T14:29:56+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "37695",
      "UserId": 0,
      "Username": "Uto",
      "UserAvatar": null,
      "UserGravatar": "84f12d9f57069f768936e74064c8f2af",
      "EditableText": "Great news! Thanks Alex ! I'm now in vacation but will update the game soon. Thanks for fast fix!",
      "EditableFormat": "bbcode",
      "HTML": "Great news! Thanks Alex ! I'm now in vacation but will update the game soon. Thanks for fast fix!",
      "PostDate": "2015-08-18T20:57:27+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "41377",
      "UserId": 0,
      "Username": "IFforClassroom",
      "UserAvatar": null,
      "UserGravatar": "427f06f5b553c04034e6708f1fa0a8df",
      "EditableText": "I've had a similar difficulty with Mandarin. Some characters get replaced with ��� marks. The spooky thing is it isn't in the same place in different iterations. One student finds them in setting text, which is annoying but not fatal. Others find them in links, which make the links unresponsive. I mean Squiffy understands what I want so well I think she must have a mind of her own. She's even cool if I flirt with her friends, like html and javascript. But then she does her own thing whenever [i:27oiqltr]She[/i:27oiqltr] wants. First step towards Skynet.",
      "EditableFormat": "bbcode",
      "HTML": "I've had a similar difficulty with Mandarin. Some characters get replaced with ��� marks. The spooky thing is it isn't in the same place in different iterations. One student finds them in setting text, which is annoying but not fatal. Others find them in links, which make the links unresponsive. I mean Squiffy understands what I want so well I think she must have a mind of her own. She's even cool if I flirt with her friends, like html and javascript. But then she does her own thing whenever <span style=\"font-style:italic;\">She</span> wants. First step towards Skynet.",
      "PostDate": "2016-02-23T01:06:31+00:00",
      "LastEditDate": null
    }
  ]
}
