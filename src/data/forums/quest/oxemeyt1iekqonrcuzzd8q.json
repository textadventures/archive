{
  "Topic": {
    "TopicId": "oxemeyt1iekqonrcuzzd8q",
    "ForumId": "10",
    "Title": "Script overrides unlock script.",
    "LastUpdated": "2019-04-25T03:12:15.8274414Z",
    "ReplyCount": 0
  },
  "Posts": [
    {
      "PostId": "b2b07907-66ab-4f02-a0d8-1a0bc38cb5d9",
      "UserId": 267336,
      "Username": "jmnevil54",
      "AvatarUrl": "https://secure.gravatar.com/avatar/5d73d7ec1dbe20a5cb46f02a6d53f187?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "I have a locked exit, named Had. I have a script that is done if the player tries to use the exit.\r\nThis is the script:\r\n```\r\nif (game.pokemonget = false) {\r\n  msg (\"No wait, I was supposed to follow Silver to the lake...\")\r\n}\r\nelse {\r\n  if (Had.locked = true) {\r\n    msg (\"No wait, I was supposed to follow the others to the lab...\")\r\n  }\r\n```\r\n\r\nI have another script that unlocks the exit when the player goes to the lab. But the message script is overriding the unlock script. It's not unlocking. So far, I turned off the run script option and went back to showing a message. I don't know how to fix this. Help?\r\n\r\nGame link. http://textadventures.co.uk/games/view/5jllte-m4e2e2whw4gf5jq/pokemon-type-harley-johto-and-sinnoh",
      "EditableFormat": "markdown",
      "HTML": "<p>I have a locked exit, named Had. I have a script that is done if the player tries to use the exit.<br>\nThis is the script:</p>\n<pre><code>if (game.pokemonget = false) {\n  msg (\"No wait, I was supposed to follow Silver to the lake...\")\n}\nelse {\n  if (Had.locked = true) {\n    msg (\"No wait, I was supposed to follow the others to the lab...\")\n  }\n</code></pre>\n<p>I have another script that unlocks the exit when the player goes to the lab. But the message script is overriding the unlock script. It's not unlocking. So far, I turned off the run script option and went back to showing a message. I don't know how to fix this. Help?</p>\n<p>Game link. http://textadventures.co.uk/games/view/5jllte-m4e2e2whw4gf5jq/pokemon-type-harley-johto-and-sinnoh</p>\n\n",
      "PostDate": "2019-04-25T03:12:15.8274414Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "9292ac08-60b4-49fc-a4c8-d9396b0cc046",
      "UserId": 277074,
      "Username": "Dcoder",
      "AvatarUrl": "https://i.imgur.com/XIlYPQ9b.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Your exit script won't run if Had is locked.  You have to unlock the exit first, then go through the exit and the exit script should work.",
      "EditableFormat": "markdown",
      "HTML": "<p>Your exit script won't run if Had is locked.  You have to unlock the exit first, then go through the exit and the exit script should work.</p>\n\n",
      "PostDate": "2019-04-25T07:14:25.6714823Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "6b934bb7-2cd9-4a83-85ac-48c0fcf67911",
      "UserId": 267336,
      "Username": "jmnevil54",
      "AvatarUrl": "https://secure.gravatar.com/avatar/5d73d7ec1dbe20a5cb46f02a6d53f187?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Dcoder, do you mean at the start of the game? I already have a code for unlocking the exit. That's why printing a message works but this code doesn't.",
      "EditableFormat": "markdown",
      "HTML": "<p>Dcoder, do you mean at the start of the game? I already have a code for unlocking the exit. That's why printing a message works but this code doesn't.</p>\n\n",
      "PostDate": "2019-04-25T17:09:07.4848572Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "c070194b-0bb0-4bbe-b12c-410827c49339",
      "UserId": 277074,
      "Username": "Dcoder",
      "AvatarUrl": "https://i.imgur.com/XIlYPQ9b.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Where did you put the unlocking script?",
      "EditableFormat": "markdown",
      "HTML": "<p>Where did you put the unlocking script?</p>\n\n",
      "PostDate": "2019-04-25T18:14:28.6448455Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "1861ef0f-851c-4895-9e82-52c4008704d9",
      "UserId": 267336,
      "Username": "jmnevil54",
      "AvatarUrl": "https://secure.gravatar.com/avatar/5d73d7ec1dbe20a5cb46f02a6d53f187?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "The Lab. After Gold gets a Pokemon, he goes to the lab. A message plays, and then the exit should unlock.\r\n\r\nAfter entering room,\r\n```\r\nif (game.pokemonget = true) {\r\n  firsttime {\r\n    if (Professor Elm.parent = The Lab) {\r\n      msg (\"Professor Elms speaks \\\"Here are some Oran berries and a few pokeballs.\\\" Professor Elm gives 5 Oran berries and 5 pokeballs to you and Silver, each. \")\r\n      player.potion = player.potion + 5\r\n      player.pokeballs = player.pokeballs + 5\r\n      msg (\"Professor Elm takes in a deep breath. His eyes take on a much more serious and experienced look. He looks like he's about to say something very hard, but important.<br/>\\\"I''m going to tell you about the world, and why it is the way it is. Most parents don't talk to their kids about this, sad to say, so I'm going to do it. 5000 years ago, the Big Catastrophe happened. Yellowstone erupted. As a result, the world changed. The climate grew hard. Earthquakes. Floods. Lava flows. Ash. Hail. Half the land fell into the sea, and it was replaced by new land. Half of all life died. Food became scarce. Pokemon ate humans! Humans ate Pokemon! Pokemon ate Pokemon! Humans ate humans! Humans were forced to enslave Pokemon to conquer the elements, and they made civilization. Some people views Pokemon as friends, some view them as pets, but across the world, people view them simply as feral Pokemon, needing to be controlled. People became greedy. They used their ideals and their Pokemon, and they made war with each other. Everyone's hearts hardened. I do not want your hearts to harden, as mine has, if they have not hardened already. I wish I could help you more, but I did all I can. You both will have to depend on yourselves, now.\\\"\")\r\n      UnlockExit (Had)\r\n    }\r\n    SetTimeout (1) {\r\n      msg (\"Your journey begins!\")\r\n    }\r\n  }\r\n}\r\nelse {\r\n  msg (\"Professsor Elm is gone. His assistants are too busy to talk at the moment.\")\r\n}\r\n```",
      "EditableFormat": "markdown",
      "HTML": "<p>The Lab. After Gold gets a Pokemon, he goes to the lab. A message plays, and then the exit should unlock.</p>\n<p>After entering room,</p>\n<pre><code>if (game.pokemonget = true) {\n  firsttime {\n    if (Professor Elm.parent = The Lab) {\n      msg (\"Professor Elms speaks \\\"Here are some Oran berries and a few pokeballs.\\\" Professor Elm gives 5 Oran berries and 5 pokeballs to you and Silver, each. \")\n      player.potion = player.potion + 5\n      player.pokeballs = player.pokeballs + 5\n      msg (\"Professor Elm takes in a deep breath. His eyes take on a much more serious and experienced look. He looks like he's about to say something very hard, but important.&lt;br/&gt;\\\"I''m going to tell you about the world, and why it is the way it is. Most parents don't talk to their kids about this, sad to say, so I'm going to do it. 5000 years ago, the Big Catastrophe happened. Yellowstone erupted. As a result, the world changed. The climate grew hard. Earthquakes. Floods. Lava flows. Ash. Hail. Half the land fell into the sea, and it was replaced by new land. Half of all life died. Food became scarce. Pokemon ate humans! Humans ate Pokemon! Pokemon ate Pokemon! Humans ate humans! Humans were forced to enslave Pokemon to conquer the elements, and they made civilization. Some people views Pokemon as friends, some view them as pets, but across the world, people view them simply as feral Pokemon, needing to be controlled. People became greedy. They used their ideals and their Pokemon, and they made war with each other. Everyone's hearts hardened. I do not want your hearts to harden, as mine has, if they have not hardened already. I wish I could help you more, but I did all I can. You both will have to depend on yourselves, now.\\\"\")\n      UnlockExit (Had)\n    }\n    SetTimeout (1) {\n      msg (\"Your journey begins!\")\n    }\n  }\n}\nelse {\n  msg (\"Professsor Elm is gone. His assistants are too busy to talk at the moment.\")\n}\n</code></pre>\n\n",
      "PostDate": "2019-04-25T22:29:59.0613275Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "51db872a-f2d6-4884-b172-068cb3cc2064",
      "UserId": 277074,
      "Username": "Dcoder",
      "AvatarUrl": "https://i.imgur.com/XIlYPQ9b.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "So you're sure that ```Had``` is unlocked when the player tries to use the exit?  You can use the Debugger tool in-game to confirm this -- under the Exits tab in Debugger, ```Had.locked``` should change from True to False.\r\n\r\nIf Had is unlocked, what happens when the player uses the exit?  Make sure in your exit script that you actually have code that moves the player from one room to another, since you have to manually code this in now.  You can put in your exit script:\r\n```\r\nMoveObject (game.pov, Had.to)\r\n```\r\nAnother thing, this part of your exit script is superfluous:\r\n```\r\nelse {\r\n  if (Had.locked = true) {\r\n    msg (\"No wait, I was supposed to follow the others to the lab...\")\r\n  }\r\n```\r\n...since this part will never run if Had.locked = True (the \"Print message when locked:\" message will display instead).  So you can delete that part of your exit script.",
      "EditableFormat": "markdown",
      "HTML": "<p>So you're sure that <code>Had</code> is unlocked when the player tries to use the exit?  You can use the Debugger tool in-game to confirm this -- under the Exits tab in Debugger, <code>Had.locked</code> should change from True to False.</p>\n<p>If Had is unlocked, what happens when the player uses the exit?  Make sure in your exit script that you actually have code that moves the player from one room to another, since you have to manually code this in now.  You can put in your exit script:</p>\n<pre><code>MoveObject (game.pov, Had.to)\n</code></pre>\n<p>Another thing, this part of your exit script is superfluous:</p>\n<pre><code>else {\n  if (Had.locked = true) {\n    msg (\"No wait, I was supposed to follow the others to the lab...\")\n  }\n</code></pre>\n<p>...since this part will never run if Had.locked = True (the \"Print message when locked:\" message will display instead).  So you can delete that part of your exit script.</p>\n\n",
      "PostDate": "2019-04-25T23:00:28.1433452Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "c413b97c-49dc-4e60-b889-54628a66aa00",
      "UserId": 267336,
      "Username": "jmnevil54",
      "AvatarUrl": "https://secure.gravatar.com/avatar/5d73d7ec1dbe20a5cb46f02a6d53f187?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "@dcoder No, I don't know if it unlocks. Also, I'm not sure why you would have to move the player to the exit. Seems redundant.",
      "EditableFormat": "markdown",
      "HTML": "<p>@dcoder No, I don't know if it unlocks. Also, I'm not sure why you would have to move the player to the exit. Seems redundant.</p>\n\n",
      "PostDate": "2019-04-26T04:40:09.0089826Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "0fc2cd1b-2f69-4f3c-a8d1-cb60d89722fb",
      "UserId": 267336,
      "Username": "jmnevil54",
      "AvatarUrl": "https://secure.gravatar.com/avatar/5d73d7ec1dbe20a5cb46f02a6d53f187?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Nevermind, I figured it out. I turned the other else into an else if, and I put ```MoveObject (player, Had.to)``` into the new else. Thank you anyways.",
      "EditableFormat": "markdown",
      "HTML": "<p>Nevermind, I figured it out. I turned the other else into an else if, and I put <code>MoveObject (player, Had.to)</code> into the new else. Thank you anyways.</p>\n\n",
      "PostDate": "2019-04-26T07:25:21.6428169Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "b7ce8cb2-243d-4e5f-8eda-548eb808955c",
      "UserId": 277074,
      "Username": "Dcoder",
      "AvatarUrl": "https://i.imgur.com/XIlYPQ9b.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Glad it works!",
      "EditableFormat": "markdown",
      "HTML": "<p>Glad it works!</p>\n\n",
      "PostDate": "2019-04-26T08:24:33.7469728Z",
      "LastEditDate": null,
      "link": null
    }
  ]
}
