{
  "Topic": {
    "TopicId": "s003dqwrquoivgd7vkmccg",
    "ForumId": "10",
    "Title": "Need help with \"Checking for an Attribute\" (Tutorial 7. Custom commands)",
    "LastUpdated": "2017-10-03T22:47:23.4604336Z",
    "ReplyCount": 0
  },
  "Posts": [
    {
      "PostId": "f079b6bc-1919-4d3c-b903-63afc7564104",
      "UserId": 325956,
      "Username": "Clarke Granger",
      "AvatarUrl": "https://secure.gravatar.com/avatar/9bc761312a0ee588823ba1d2dbb00f65?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Hi,\r\n\r\nI'm new here and I have a question regarding the tutorial. I am stuck in the section \"checking for an attribute\" (step 7: Custom commands) and could not find an answer in the forum. After running the game I always get the following error when I would like to weigh my objects:\r\n\r\nError running script: Error compiling expression 'HasAttribute(, \"weight\")': SyntaxError: Unexpected token \",\"; expected one of \")\"Line: 1, Column: 14\r\n\r\nThis is what \"code view\" shows me:\r\n\r\n(command pattern -> weigh #object#)\r\n\r\nif (HasAttribute(, \"weight\")) {\r\n  msg (\"It weighs \" + object.weight + \" grams.\")\r\n}\r\nelse {\r\n  msg (\"You can't weigh that.\")\r\n}\r\n\r\n######\r\n\r\n(game > scripts:)\r\n\r\nset (eggs, \"weight\", 250)\r\n\r\nI don't see what I did wrong here (I guess it has something to do with the missing object in (,_\"weight\")) and I'm sorry to bother you with such a simple question.. I thought I did exactly as the tutorial told me or maybe I'm just blind or stupid or both. :(\r\n\r\nMany thanks in advance for your help!",
      "EditableFormat": "markdown",
      "HTML": "<p>Hi,</p>\n<p>I'm new here and I have a question regarding the tutorial. I am stuck in the section \"checking for an attribute\" (step 7: Custom commands) and could not find an answer in the forum. After running the game I always get the following error when I would like to weigh my objects:</p>\n<p>Error running script: Error compiling expression 'HasAttribute(, \"weight\")': SyntaxError: Unexpected token \",\"; expected one of \")\"Line: 1, Column: 14</p>\n<p>This is what \"code view\" shows me:</p>\n<p>(command pattern -&gt; weigh #object#)</p>\n<p>if (HasAttribute(, \"weight\")) {<br>\nmsg (\"It weighs \" + object.weight + \" grams.\")<br>\n}<br>\nelse {<br>\nmsg (\"You can't weigh that.\")<br>\n}</p>\n<h6></h6>\n<p>(game &gt; scripts:)</p>\n<p>set (eggs, \"weight\", 250)</p>\n<p>I don't see what I did wrong here (I guess it has something to do with the missing object in (,_\"weight\")) and I'm sorry to bother you with such a simple question.. I thought I did exactly as the tutorial told me or maybe I'm just blind or stupid or both. :(</p>\n<p>Many thanks in advance for your help!</p>\n\n",
      "PostDate": "2017-10-03T22:47:23.4604336Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "3ac4b2c5-d3be-4b00-8783-f32a3eab4c5a",
      "UserId": 318253,
      "Username": "K.V.",
      "AvatarUrl": "http://i.imgur.com/FOIjtApb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Hello!\r\n\r\n```if (HasAttribute(, \"weight\")) {``` should be ```if (HasAttribute(object, \"weight\")) {```\r\n\r\n",
      "EditableFormat": "markdown",
      "HTML": "<p>Hello!</p>\n<p><code>if (HasAttribute(, \"weight\")) {</code> should be <code>if (HasAttribute(object, \"weight\")) {</code></p>\n\n",
      "PostDate": "2017-10-03T23:18:04.4723459Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "4e1881e8-674e-443b-8cfd-eb55717a7db8",
      "UserId": 247325,
      "Username": "hegemonkhan",
      "AvatarUrl": "https://secure.gravatar.com/avatar/a96cf34d8d97c57de38f54ee22b1759b?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "(filler for getting my edited post, updated/posted)\r\n\r\n-------------------------------\r\n\r\njust to further add commentary to KV's post:\r\n\r\n(this is a pseudo/partial example in-code, albiet using my own re-naming/re-labeling, lol)\r\n\r\n```\r\n<game name=\"example_game\">\r\n  <attr name=\"pov\" type=\"object\">player</attr>\r\n  <attr name=\"start\" type=\"script\">\r\n    set (eggs, \"weight\", 250) // or you can do this instead: eggs.weight = 250\r\n  </attr>\r\n</game>\r\n\r\n<object name=\"room\">\r\n</object>\r\n\r\n<object name=\"player\">\r\n  <attr name=\"parent\" type=\"object\">room</attr>\r\n</object>\r\n\r\n<object name=\"eggs\">\r\n  <attr name=\"parent\" type=\"object\">room</attr>\r\n  <attr name=\"weight\" type=\"int\">0</attr>\r\n</object>\r\n\r\n<command name=\"example_weigh_command\">\r\n  <pattern>weigh #object_parameter#</pattern>\r\n  <script>\r\n    if (HasInt (object_parameter, \"weight\")) {\r\n      msg (\"It weighs \" + object_parameter.weight + \" grams\")\r\n    } else {\r\n      msg (\"You can't weigh that\")\r\n    }\r\n  </script>\r\n</command>\r\n```\r\n\r\nthe Command's and its 'pattern' String Attribute's parsing functionality looks for the/your typed-in input pattern of: weigh NAME_OF_OBJECT\r\n\r\nthe hashes/pound symbols in '#objectXXX' or '#textXXX' in the 'pattern' String Attribute of a Command, are command-symbols for quest to store that input location into a 'objectXXX' or 'textXXX' Parameter VARIABLE, which the Command's scripting (its 'script' Script Attribute) will use.\r\n\r\nso, for example:\r\n\r\nI type in: weigh eggs\r\n\r\nfor the '#objectXXX#' pattern, quest looks through **ONLY** all of the Objects **WITHIN THE ROOM YOU'RE IN**, to see if there is such an 'eggs' Object\r\n\r\nif it exists (again it only checks for that object within room you're currently in. It does NOT check the entire game, for that object) (which in my example, indeed it does exist within the room you're currently in), then quest stores it into the 'objectXXX' Parameter VARIABLE:\r\n\r\nobjectXXX = eggs // (notice that the Parameter VARIABLE does NOT have the hash/pound symbols in it. The hash/pound symbols are only for the Command's 'pattern' String Attribute, as they're special command-symbols for quest's parsing functionality)\r\n\r\nso, now that Parameter VARIABLE is/can-be used in the Command's scripting, as seen:\r\n\r\n```\r\n    if (HasInt (object_parameter, \"weight\")) {\r\n      msg (\"It weighs \" + object_parameter.weight + \" grams\")\r\n    } else {\r\n      msg (\"You can't weigh that\")\r\n    }\r\n```\r\n\r\n--------------------------\r\n\r\nyou must have either:\r\n\r\n(my 'XXX' represents whatever you want to name/label it as, in my example above, as can be seen, I like for my own personal naming/labeling system/convention, to be descriptive: object_parameter, because it is a Parameter VARIABLE, lol. So, my generalized 'objectXXX' represents the/my actual name/label choice of 'object_parameter')\r\n\r\nPattern: #object#\r\nScripting: object\r\n\r\nor\r\n\r\n// my generalized format (not an actual format... well you could actually use it... lol):\r\nPattern: #objectXXX#\r\nScripting: objectXXX\r\n\r\nfor examples:\r\n\r\nPattern: #object_parameter#\r\nScripting: object_parameter\r\n\r\n// an example of using multiple Parameters:\r\nPattern: weigh #object1#, #object2#, and #object3#\r\nScripting: object1\r\nScripting: object2\r\nScripting: object3\r\n\r\n// an example of using multiple Parameters:\r\nPattern: weigh #object_100#, #object_200#, and #object_300#\r\nScripting: object_100\r\nScripting: object_200\r\nScripting: object_300\r\n\r\nPattern: #objectABC#\r\nScripting: objectABC\r\n\r\nor\r\n\r\nPattern: #text#\r\nScripting: text\r\n\r\nor\r\n\r\n// my generalized format (not an actual format... well you could actually use it... lol):\r\nPattern: #textXXX#\r\nScripting: textXXX\r\n\r\nfor examples:\r\n\r\nPattern: #text_parameter#\r\nScripting: text_parameter\r\n\r\n// an example of using multiple Parameters:\r\nPattern: weigh #text1#, #text2#, and #text3#\r\nScripting: text1\r\nScripting: text2\r\nScripting: textt3\r\n\r\n// an example of using multiple Parameters:\r\nPattern: weigh #text_100#, #text_200#, and #text_300#\r\nScripting: text_100\r\nScripting: text_200\r\nScripting: text_300\r\n\r\nPattern: #textABC#\r\nScripting: textABC\r\n\r\n---------\r\n\r\nin other words:\r\n\r\nthe Pattern for the Parameters must be:\r\n\r\nstart with a '#', then followed directly (no space) by either 'object' or 'text', optionally more characters/symbols (or not), and lastly ends with a '#'\r\n\r\n(my use of the 'XXX' represents the 'optionally more characters/symbols or not', lol)\r\n\r\nthe Parameter VARIABLE itself (used in the scripting), is the same as above, but without the '#' symbols in it.\r\n\r\n---------\r\n\r\nthe (generalized/dynamic) 'HasAttribute' Function has quest parse the type of Attribute automatically for you, but if you know what the Attribute is (or what it has to be), you can use the specific Functions instead:\r\n\r\nhttp://docs.textadventures.co.uk/quest/functions/index_allfunctions.html (scroll down to the 'h' section/category)\r\n\r\nHasString (XXX)\r\nHasInt (XXX)\r\nHasDouble (XXX)\r\nHasObject (XXX)\r\nHasBoolean (XXX)\r\nHasScript (XXX)",
      "EditableFormat": "markdown",
      "HTML": "<p>(filler for getting my edited post, updated/posted)</p>\n<hr>\n<p>just to further add commentary to KV's post:</p>\n<p>(this is a pseudo/partial example in-code, albiet using my own re-naming/re-labeling, lol)</p>\n<pre><code>&lt;game name=\"example_game\"&gt;\n  &lt;attr name=\"pov\" type=\"object\"&gt;player&lt;/attr&gt;\n  &lt;attr name=\"start\" type=\"script\"&gt;\n    set (eggs, \"weight\", 250) // or you can do this instead: eggs.weight = 250\n  &lt;/attr&gt;\n&lt;/game&gt;\n\n&lt;object name=\"room\"&gt;\n&lt;/object&gt;\n\n&lt;object name=\"player\"&gt;\n  &lt;attr name=\"parent\" type=\"object\"&gt;room&lt;/attr&gt;\n&lt;/object&gt;\n\n&lt;object name=\"eggs\"&gt;\n  &lt;attr name=\"parent\" type=\"object\"&gt;room&lt;/attr&gt;\n  &lt;attr name=\"weight\" type=\"int\"&gt;0&lt;/attr&gt;\n&lt;/object&gt;\n\n&lt;command name=\"example_weigh_command\"&gt;\n  &lt;pattern&gt;weigh #object_parameter#&lt;/pattern&gt;\n  &lt;script&gt;\n    if (HasInt (object_parameter, \"weight\")) {\n      msg (\"It weighs \" + object_parameter.weight + \" grams\")\n    } else {\n      msg (\"You can't weigh that\")\n    }\n  &lt;/script&gt;\n&lt;/command&gt;\n</code></pre>\n<p>the Command's and its 'pattern' String Attribute's parsing functionality looks for the/your typed-in input pattern of: weigh NAME_OF_OBJECT</p>\n<p>the hashes/pound symbols in '#objectXXX' or '#textXXX' in the 'pattern' String Attribute of a Command, are command-symbols for quest to store that input location into a 'objectXXX' or 'textXXX' Parameter VARIABLE, which the Command's scripting (its 'script' Script Attribute) will use.</p>\n<p>so, for example:</p>\n<p>I type in: weigh eggs</p>\n<p>for the '#objectXXX#' pattern, quest looks through <strong>ONLY</strong> all of the Objects <strong>WITHIN THE ROOM YOU'RE IN</strong>, to see if there is such an 'eggs' Object</p>\n<p>if it exists (again it only checks for that object within room you're currently in. It does NOT check the entire game, for that object) (which in my example, indeed it does exist within the room you're currently in), then quest stores it into the 'objectXXX' Parameter VARIABLE:</p>\n<p>objectXXX = eggs // (notice that the Parameter VARIABLE does NOT have the hash/pound symbols in it. The hash/pound symbols are only for the Command's 'pattern' String Attribute, as they're special command-symbols for quest's parsing functionality)</p>\n<p>so, now that Parameter VARIABLE is/can-be used in the Command's scripting, as seen:</p>\n<pre><code>    if (HasInt (object_parameter, \"weight\")) {\n      msg (\"It weighs \" + object_parameter.weight + \" grams\")\n    } else {\n      msg (\"You can't weigh that\")\n    }\n</code></pre>\n<hr>\n<p>you must have either:</p>\n<p>(my 'XXX' represents whatever you want to name/label it as, in my example above, as can be seen, I like for my own personal naming/labeling system/convention, to be descriptive: object_parameter, because it is a Parameter VARIABLE, lol. So, my generalized 'objectXXX' represents the/my actual name/label choice of 'object_parameter')</p>\n<p>Pattern: #object#<br>\nScripting: object</p>\n<p>or</p>\n<p>// my generalized format (not an actual format... well you could actually use it... lol):<br>\nPattern: #objectXXX#<br>\nScripting: objectXXX</p>\n<p>for examples:</p>\n<p>Pattern: #object_parameter#<br>\nScripting: object_parameter</p>\n<p>// an example of using multiple Parameters:<br>\nPattern: weigh #object1#, #object2#, and #object3#<br>\nScripting: object1<br>\nScripting: object2<br>\nScripting: object3</p>\n<p>// an example of using multiple Parameters:<br>\nPattern: weigh #object_100#, #object_200#, and #object_300#<br>\nScripting: object_100<br>\nScripting: object_200<br>\nScripting: object_300</p>\n<p>Pattern: #objectABC#<br>\nScripting: objectABC</p>\n<p>or</p>\n<p>Pattern: #text#<br>\nScripting: text</p>\n<p>or</p>\n<p>// my generalized format (not an actual format... well you could actually use it... lol):<br>\nPattern: #textXXX#<br>\nScripting: textXXX</p>\n<p>for examples:</p>\n<p>Pattern: #text_parameter#<br>\nScripting: text_parameter</p>\n<p>// an example of using multiple Parameters:<br>\nPattern: weigh #text1#, #text2#, and #text3#<br>\nScripting: text1<br>\nScripting: text2<br>\nScripting: textt3</p>\n<p>// an example of using multiple Parameters:<br>\nPattern: weigh #text_100#, #text_200#, and #text_300#<br>\nScripting: text_100<br>\nScripting: text_200<br>\nScripting: text_300</p>\n<p>Pattern: #textABC#<br>\nScripting: textABC</p>\n<hr>\n<p>in other words:</p>\n<p>the Pattern for the Parameters must be:</p>\n<p>start with a '#', then followed directly (no space) by either 'object' or 'text', optionally more characters/symbols (or not), and lastly ends with a '#'</p>\n<p>(my use of the 'XXX' represents the 'optionally more characters/symbols or not', lol)</p>\n<p>the Parameter VARIABLE itself (used in the scripting), is the same as above, but without the '#' symbols in it.</p>\n<hr>\n<p>the (generalized/dynamic) 'HasAttribute' Function has quest parse the type of Attribute automatically for you, but if you know what the Attribute is (or what it has to be), you can use the specific Functions instead:</p>\n<p>http://docs.textadventures.co.uk/quest/functions/index_allfunctions.html (scroll down to the 'h' section/category)</p>\n<p>HasString (XXX)<br>\nHasInt (XXX)<br>\nHasDouble (XXX)<br>\nHasObject (XXX)<br>\nHasBoolean (XXX)<br>\nHasScript (XXX)</p>\n\n",
      "PostDate": "2017-10-04T02:36:58.1884411Z",
      "LastEditDate": "2017-10-04T02:44:39.4756602Z",
      "link": null
    },
    {
      "PostId": "aa5c92de-3f3c-4f7f-8ebd-426e5026668f",
      "UserId": 325956,
      "Username": "Clarke Granger",
      "AvatarUrl": "https://secure.gravatar.com/avatar/9bc761312a0ee588823ba1d2dbb00f65?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Thank you so much for your help (and the detailed explanation @hegemonkhan. I had to re-read it a few times to be honest, but now it makes more sense)! I probably tried everything except this. Sometimes it is as simple as that... so obvious that I can't believe that I did not figure it out myself. \r\n\r\nThanks again. :)\r\n\r\n",
      "EditableFormat": "markdown",
      "HTML": "<p>Thank you so much for your help (and the detailed explanation @hegemonkhan. I had to re-read it a few times to be honest, but now it makes more sense)! I probably tried everything except this. Sometimes it is as simple as that... so obvious that I can't believe that I did not figure it out myself.</p>\n<p>Thanks again. :)</p>\n\n",
      "PostDate": "2017-10-04T16:42:39.7569547Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "3f3f282c-2060-4327-98e0-4e899c5b5b9b",
      "UserId": 247325,
      "Username": "hegemonkhan",
      "AvatarUrl": "https://secure.gravatar.com/avatar/a96cf34d8d97c57de38f54ee22b1759b?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "learning coding/scripting (and then programming and beyond) is not easy, when I was learning for my first time too (5 years ago with quest, which is an excellent source for learning to code if you're completely new to coding/programming), it took me many attempts to understand as well. Unfortunately now, I respond with posts that assume people understand coding already, as it takes a lot of time and effort to have to help/explain/guide someone who's new to coding through it all, especially having to do so with the GUI/Editor, as that takes more explanation and steps/writing/typing/posting than it does to write (and copy and paste) code into a post. When I have the time, I can give GUI/Editor help, but that's not often, especially now with school and school work.\r\n\r\nso, ignore my posts if they don't help, and/or (if you want) try to understand them / learn, through multiple attempts and/or asking for help with them. I'm happy to help and explain you through my posts and the code and/or how to do the code stuff through/within the GUI/Editor, but it's a matter of when I can find or have the time, to do so, so you might have to wait a bit, though hopefully, others will help you before I finally get the time to do so, hehe. But if not, then I'll help you when that free/open time comes for me to be able to do so.",
      "EditableFormat": "markdown",
      "HTML": "<p>learning coding/scripting (and then programming and beyond) is not easy, when I was learning for my first time too (5 years ago with quest, which is an excellent source for learning to code if you're completely new to coding/programming), it took me many attempts to understand as well. Unfortunately now, I respond with posts that assume people understand coding already, as it takes a lot of time and effort to have to help/explain/guide someone who's new to coding through it all, especially having to do so with the GUI/Editor, as that takes more explanation and steps/writing/typing/posting than it does to write (and copy and paste) code into a post. When I have the time, I can give GUI/Editor help, but that's not often, especially now with school and school work.</p>\n<p>so, ignore my posts if they don't help, and/or (if you want) try to understand them / learn, through multiple attempts and/or asking for help with them. I'm happy to help and explain you through my posts and the code and/or how to do the code stuff through/within the GUI/Editor, but it's a matter of when I can find or have the time, to do so, so you might have to wait a bit, though hopefully, others will help you before I finally get the time to do so, hehe. But if not, then I'll help you when that free/open time comes for me to be able to do so.</p>\n\n",
      "PostDate": "2017-10-04T17:22:20.4138271Z",
      "LastEditDate": "2017-10-04T17:22:58.037516Z",
      "link": null
    }
  ]
}
