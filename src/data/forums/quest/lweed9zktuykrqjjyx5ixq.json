{
  "Topic": {
    "TopicId": "lweed9zktuykrqjjyx5ixq",
    "ForumId": "10",
    "Title": "Exit Function",
    "LastUpdated": "2018-01-17T11:54:00.6608903Z",
    "ReplyCount": 0
  },
  "Posts": [
    {
      "PostId": "7f8c75b6-442d-48d1-b7ef-917150a3ebb4",
      "UserId": 340011,
      "Username": "wooterslw",
      "AvatarUrl": "https://secure.gravatar.com/avatar/7d20dd39301d8b9be2be0abaf005968d?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Is there an Exit Function feature? I have a function that checks a player's stamina and if they are dead they are moved to another room which acts as my Game Over. But, even though it send my player there it seems like the program is still following the chain of logic. For instance:\r\n\r\nRoom 1000\r\n   script:  modifystamina -5  <-- this is a function where I pass the amount to\r\n                  if the function completes then the script moves the player to Room 2000\r\n\r\nmodifystamina\r\n  script: this checks to see if player's stamina is 0. If so it moves the player to Game Over room and does Finish Game.\r\n\r\nBut, even though I move the player to the game over room, the function still finishes out and the player ends up in room 2000 with the game finishing. ",
      "EditableFormat": "markdown",
      "HTML": "<p>Is there an Exit Function feature? I have a function that checks a player's stamina and if they are dead they are moved to another room which acts as my Game Over. But, even though it send my player there it seems like the program is still following the chain of logic. For instance:</p>\n<p>Room 1000<br>\nscript:  modifystamina -5  &lt;-- this is a function where I pass the amount to<br>\nif the function completes then the script moves the player to Room 2000</p>\n<p>modifystamina<br>\nscript: this checks to see if player's stamina is 0. If so it moves the player to Game Over room and does Finish Game.</p>\n<p>But, even though I move the player to the game over room, the function still finishes out and the player ends up in room 2000 with the game finishing.</p>\n\n",
      "PostDate": "2018-01-17T11:54:00.6608903Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "36e1f883-85a2-48cf-b8af-9667f34446f6",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "The script that's currently running will always finish. If you want the script to move the player to room 2000 or not depending on whether they're still alive, then you need an if statement to check that.",
      "EditableFormat": "markdown",
      "HTML": "<p>The script that's currently running will always finish. If you want the script to move the player to room 2000 or not depending on whether they're still alive, then you need an if statement to check that.</p>\n\n",
      "PostDate": "2018-01-17T12:08:19.6552161Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "f5766e73-01f2-44de-8646-d5f602be9343",
      "UserId": 924,
      "Username": "Pertex",
      "AvatarUrl": "https://secure.gravatar.com/avatar/4cc1e52f99452e841ecf4cbee9eadde9?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "You want to exit a function? Use the return statement: http://docs.textadventures.co.uk/quest/scripts/return.html",
      "EditableFormat": "markdown",
      "HTML": "<p>You want to exit a function? Use the return statement: http://docs.textadventures.co.uk/quest/scripts/return.html</p>\n\n",
      "PostDate": "2018-01-17T15:08:35.7983521Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "e5b4fab5-2586-4a34-a7d9-598521c2fb72",
      "UserId": 340011,
      "Username": "wooterslw",
      "AvatarUrl": "https://secure.gravatar.com/avatar/7d20dd39301d8b9be2be0abaf005968d?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "That would work. How do I test the value of a return statement? Say the following:\r\n\r\n  if (modifystamina (-5) = \"Dead\" ) {\r\n  }\r\n  else {\r\n    MoveObject (player, Entry 2399)\r\n  }\r\n\r\nThat doesn't work. How would I do it?",
      "EditableFormat": "markdown",
      "HTML": "<p>That would work. How do I test the value of a return statement? Say the following:</p>\n<p>if (modifystamina (-5) = \"Dead\" ) {<br>\n}<br>\nelse {<br>\nMoveObject (player, Entry 2399)<br>\n}</p>\n<p>That doesn't work. How would I do it?</p>\n\n",
      "PostDate": "2018-01-17T19:40:04.8693124Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "cd75a59c-e2b4-448f-8904-f77c4b189355",
      "UserId": 247325,
      "Username": "hegemonkhan",
      "AvatarUrl": "https://secure.gravatar.com/avatar/a96cf34d8d97c57de38f54ee22b1759b?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "this is a bit of code overkill/redundant checking, but did it so you can see what you can do with scripting\r\n\r\n```\r\n<!--\r\nThe, type=\"XXX\", in the Function's signature/header (first/top) line specifies the return value's type. Your return value's type must match up with whatever the return type you specify in the Function's signature/header\r\n-->\r\n\r\n<function name=\"add_two_integer_function\" parameters=\"integer_1_parameter,integer_2_parameter\" type=\"int\">\r\n  if (TypeOf (integer_1_parameter) = \"int\" and TypeOf (integer_2_parameter) = \"int\") {\r\n    return (integer_1_parameter + integer_2_parameter)\r\n  } else {\r\n    msg (\"wrong inputs for your function's arguments/parameters\")\r\n    return (0)\r\n  }\r\n</function>\r\n\r\n// ---------------------------------\r\n\r\n// scripting example using this example function:\r\n\r\nexample_variable = add_two_integer_function (15, 5)\r\n\r\nif (TypeOf (example_variable) = \"int\") {\r\n  if (not example_variable = 0) {\r\n    msg (\"Sum of adding two integers: \" + example_variable)\r\n  } else {\r\n    msg (\"either: wrong inputs for your function's arguments/parameters or your two integers added together indeed results in a sum of zero\")\r\n  }\r\n} else {\r\n  msg (\"return value isn't an integer\")\r\n}\r\n```",
      "EditableFormat": "markdown",
      "HTML": "<p>this is a bit of code overkill/redundant checking, but did it so you can see what you can do with scripting</p>\n<pre><code>&lt;!--\nThe, type=\"XXX\", in the Function's signature/header (first/top) line specifies the return value's type. Your return value's type must match up with whatever the return type you specify in the Function's signature/header\n--&gt;\n\n&lt;function name=\"add_two_integer_function\" parameters=\"integer_1_parameter,integer_2_parameter\" type=\"int\"&gt;\n  if (TypeOf (integer_1_parameter) = \"int\" and TypeOf (integer_2_parameter) = \"int\") {\n    return (integer_1_parameter + integer_2_parameter)\n  } else {\n    msg (\"wrong inputs for your function's arguments/parameters\")\n    return (0)\n  }\n&lt;/function&gt;\n\n// ---------------------------------\n\n// scripting example using this example function:\n\nexample_variable = add_two_integer_function (15, 5)\n\nif (TypeOf (example_variable) = \"int\") {\n  if (not example_variable = 0) {\n    msg (\"Sum of adding two integers: \" + example_variable)\n  } else {\n    msg (\"either: wrong inputs for your function's arguments/parameters or your two integers added together indeed results in a sum of zero\")\n  }\n} else {\n  msg (\"return value isn't an integer\")\n}\n</code></pre>\n\n",
      "PostDate": "2018-01-17T20:30:41.9768846Z",
      "LastEditDate": "2018-01-17T20:33:28.6965723Z",
      "link": null
    },
    {
      "PostId": "8527cecd-2b47-4575-9926-0bf7b8ccb471",
      "UserId": 340011,
      "Username": "wooterslw",
      "AvatarUrl": "https://secure.gravatar.com/avatar/7d20dd39301d8b9be2be0abaf005968d?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Ok. So what is wrong with this? \r\n\r\nRoom 1000:\r\n   script: \r\n```msg (\"You take 5 points of stamina damage!\")\r\nif (modifystamina (-5) = -99) {\r\n  MoveObject (player, Game Over)\r\n}\r\nwait {\r\n  MoveObject (player, Entry 2399)\r\n}\r\n```\r\n\r\nFunction modifystamina:\r\n\r\n```player.staminacurrent = player.staminacurrent + modifier\r\nif (player.staminacurrent > player.staminamax) {\r\n  player.staminacurrent = player.staminamax\r\n}\r\nif (player.staminacurrent < 1 ) {\r\n  if (ListCount (game.playerskills) = 1) {\r\n    return (-99)\r\n  }\r\n  msg (\"You have been knocked unconcious. You must choose a skill to disable.\")\r\n  show menu (\"Pick a skill to disable:\", game.playerskills, true) {\r\n    list remove (game.playerskills, result)\r\n    list add (game.disabledskills, result)\r\n    player.Skills = ListItem(game.playerskills, 0)\r\n    for (N, 1, ListCount(game.playerskills), 1) {\r\n      player.Skills = player.Skills + \", \" + ListItem (game.playerskills, N)\r\n    }\r\n    player.disabledskills = ListItem(game.disabledskills, 0)\r\n    for (N, 1, ListCount(game.playerskills), 1) {\r\n      player.disabledskills = player.disabledskills + \", \" + ListItem (game.disabledskills, N)\r\n    }\r\n    player.staminacurrent = 1\r\n  }\r\n}\r\nplayer.Stamina = player.staminacurrent + \"/\" + player.staminamax\r\n}\r\n```\r\nIt keeps saying function doesnt return a value, the wait from the room script is going off at the same time as the showmenu and it's locking up. I get this alot. I'm sure it's an order thing but not sure how to fix it.",
      "EditableFormat": "markdown",
      "HTML": "<p>Ok. So what is wrong with this?</p>\n<p>Room 1000:<br>\nscript:</p>\n<pre><code>if (modifystamina (-5) = -99) {\n  MoveObject (player, Game Over)\n}\nwait {\n  MoveObject (player, Entry 2399)\n}\n</code></pre>\n<p>Function modifystamina:</p>\n<pre><code>if (player.staminacurrent &gt; player.staminamax) {\n  player.staminacurrent = player.staminamax\n}\nif (player.staminacurrent &lt; 1 ) {\n  if (ListCount (game.playerskills) = 1) {\n    return (-99)\n  }\n  msg (\"You have been knocked unconcious. You must choose a skill to disable.\")\n  show menu (\"Pick a skill to disable:\", game.playerskills, true) {\n    list remove (game.playerskills, result)\n    list add (game.disabledskills, result)\n    player.Skills = ListItem(game.playerskills, 0)\n    for (N, 1, ListCount(game.playerskills), 1) {\n      player.Skills = player.Skills + \", \" + ListItem (game.playerskills, N)\n    }\n    player.disabledskills = ListItem(game.disabledskills, 0)\n    for (N, 1, ListCount(game.playerskills), 1) {\n      player.disabledskills = player.disabledskills + \", \" + ListItem (game.disabledskills, N)\n    }\n    player.staminacurrent = 1\n  }\n}\nplayer.Stamina = player.staminacurrent + \"/\" + player.staminamax\n}\n</code></pre>\n<p>It keeps saying function doesnt return a value, the wait from the room script is going off at the same time as the showmenu and it's locking up. I get this alot. I'm sure it's an order thing but not sure how to fix it.</p>\n\n",
      "PostDate": "2018-01-18T04:38:06.283698Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "a4662ff2-252c-4438-a1d5-3576d843e6d0",
      "UserId": 318253,
      "Username": "K.V.",
      "AvatarUrl": "https://i.imgur.com/mBf7TBeb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "That function only returns a value if playerstaminacurrent is less than 1.\r\n\r\nIt must be greater than or equal to 1 when that function is being called, so it isn't returning anything.\r\n\r\nIf you set a function to return a value, it must return a value, no matter what, or Quest will throw an error.\r\n\r\n---\r\n\r\nCan you copy that function from full code view and paste that here?  (That will show your paramaters and your return type, which will also help.)",
      "EditableFormat": "markdown",
      "HTML": "<p>That function only returns a value if playerstaminacurrent is less than 1.</p>\n<p>It must be greater than or equal to 1 when that function is being called, so it isn't returning anything.</p>\n<p>If you set a function to return a value, it must return a value, no matter what, or Quest will throw an error.</p>\n<hr>\n<p>Can you copy that function from full code view and paste that here?  (That will show your paramaters and your return type, which will also help.)</p>\n\n",
      "PostDate": "2018-01-18T05:11:42.6905464Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "9d69a8cf-53ce-4a23-9b1e-7492ebda6dc2",
      "UserId": 340011,
      "Username": "wooterslw",
      "AvatarUrl": "https://secure.gravatar.com/avatar/7d20dd39301d8b9be2be0abaf005968d?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Well, I have the error fixed. Just stuck return (1) before the last line. But, I am still having the issue that the ShowMenu is going off but the program is not waiting for a response before it continues running and it locks it up. The menu, I can scroll up and down through the choices, but when I hit enter nothing happens. Grr.",
      "EditableFormat": "markdown",
      "HTML": "<p>Well, I have the error fixed. Just stuck return (1) before the last line. But, I am still having the issue that the ShowMenu is going off but the program is not waiting for a response before it continues running and it locks it up. The menu, I can scroll up and down through the choices, but when I hit enter nothing happens. Grr.</p>\n\n",
      "PostDate": "2018-01-18T05:38:39.095693Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "ec174fca-0496-404d-9c0a-3a5e18aef465",
      "UserId": 318253,
      "Username": "K.V.",
      "AvatarUrl": "https://i.imgur.com/mBf7TBeb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "If you paste some code, I'm sure one of us can fix you up.",
      "EditableFormat": "markdown",
      "HTML": "<p>If you paste some code, I'm sure one of us can fix you up.</p>\n\n",
      "PostDate": "2018-01-18T05:56:15.5371907Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "c09edfbf-57c5-4de0-9d02-d54c697bc07e",
      "UserId": 340011,
      "Username": "wooterslw",
      "AvatarUrl": "https://secure.gravatar.com/avatar/7d20dd39301d8b9be2be0abaf005968d?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Well, not sure what part to post. But I would assume it's just the room and the function that I posted above. But here it is again with the fixes from above:\r\n\r\nScript from room Entry 1099:\r\n```\r\nmsg (\"You take 5 points of stamina damage!\")\r\nif (modifystamina (-5) = -99) {\r\n  MoveObject (player, Game Over)\r\n}\r\nwait {\r\n  MoveObject (player, Entry 2399)\r\n}\r\n```\r\n\r\nScript from function modifystamina:\r\n```\r\n</function>\r\n]]  <function name=\"modifystamina\" parameters=\"modifier\" type=\"int\"><![CDATA[\r\n    player.staminacurrent = player.staminacurrent + modifier\r\n    if (player.staminacurrent > player.staminamax) {\r\n      player.staminacurrent = player.staminamax\r\n    }\r\n    if (player.staminacurrent < 1 ) {\r\n      if (ListCount (game.playerskills) = 1) {\r\n        return (-99)\r\n      }\r\n      msg (\"You have been knocked unconcious. You must choose a skill to disable.\")\r\n      show menu (\"Pick a skill to disable:\", game.playerskills, true) {\r\n        list remove (game.playerskills, result)\r\n        list add (game.disabledskills, result)\r\n        player.Skills = ListItem(game.playerskills, 0)\r\n        for (N, 1, ListCount(game.playerskills), 1) {\r\n          player.Skills = player.Skills + \", \" + ListItem (game.playerskills, N)\r\n        }\r\n        player.disabledskills = ListItem(game.disabledskills, 0)\r\n        for (N, 1, ListCount(game.playerskills), 1) {\r\n          player.disabledskills = player.disabledskills + \", \" + ListItem (game.disabledskills, N)\r\n        }\r\n        player.staminacurrent = 1\r\n      }\r\n    }\r\n    return (1)\r\n    player.Stamina = player.staminacurrent + \"/\" + player.staminamax\r\n  ]]></function>\r\n```",
      "EditableFormat": "markdown",
      "HTML": "<p>Well, not sure what part to post. But I would assume it's just the room and the function that I posted above. But here it is again with the fixes from above:</p>\n<p>Script from room Entry 1099:</p>\n<pre><code>msg (\"You take 5 points of stamina damage!\")\nif (modifystamina (-5) = -99) {\n  MoveObject (player, Game Over)\n}\nwait {\n  MoveObject (player, Entry 2399)\n}\n</code></pre>\n<p>Script from function modifystamina:</p>\n<pre><code>&lt;/function&gt;\n]]  &lt;function name=\"modifystamina\" parameters=\"modifier\" type=\"int\"&gt;&lt;![CDATA[\n    player.staminacurrent = player.staminacurrent + modifier\n    if (player.staminacurrent &gt; player.staminamax) {\n      player.staminacurrent = player.staminamax\n    }\n    if (player.staminacurrent &lt; 1 ) {\n      if (ListCount (game.playerskills) = 1) {\n        return (-99)\n      }\n      msg (\"You have been knocked unconcious. You must choose a skill to disable.\")\n      show menu (\"Pick a skill to disable:\", game.playerskills, true) {\n        list remove (game.playerskills, result)\n        list add (game.disabledskills, result)\n        player.Skills = ListItem(game.playerskills, 0)\n        for (N, 1, ListCount(game.playerskills), 1) {\n          player.Skills = player.Skills + \", \" + ListItem (game.playerskills, N)\n        }\n        player.disabledskills = ListItem(game.disabledskills, 0)\n        for (N, 1, ListCount(game.playerskills), 1) {\n          player.disabledskills = player.disabledskills + \", \" + ListItem (game.disabledskills, N)\n        }\n        player.staminacurrent = 1\n      }\n    }\n    return (1)\n    player.Stamina = player.staminacurrent + \"/\" + player.staminamax\n  ]]&gt;&lt;/function&gt;\n</code></pre>\n\n",
      "PostDate": "2018-01-18T06:03:57.715547Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "af2e52c0-2165-4ac3-9ba3-93d1c28de3d4",
      "UserId": 318253,
      "Username": "K.V.",
      "AvatarUrl": "https://i.imgur.com/mBf7TBeb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "You're using game.playerskills as the list for show menu.\r\n\r\nThen, you're removing something from that same list from inside the script.\r\n\r\nI don't think you can do that, but I'm not 100% sure.\r\n\r\nTry this:\r\n\r\n```\r\n      show menu (\"Pick a skill to disable:\", game.playerskills, true) {\r\n        game.playerskilltoremove = result\r\n        list add (game.disabledskills, result)\r\n        player.Skills = ListItem(game.playerskills, 0)\r\n        for (N, 1, ListCount(game.playerskills), 1) {\r\n          player.Skills = player.Skills + \", \" + ListItem (game.playerskills, N)\r\n        }\r\n        player.disabledskills = ListItem(game.disabledskills, 0)\r\n        for (N, 1, ListCount(game.playerskills), 1) {\r\n          player.disabledskills = player.disabledskills + \", \" + ListItem (game.disabledskills, N)\r\n        }\r\n        player.staminacurrent = 1\r\n      }\r\n      list remove (game.playerskills, game.playerskilltoremove)\r\n      game.playerskilltoremove = null\r\n```\r\n\r\n---\r\n<span style=\"color:white\">added this to get post to go through</span>",
      "EditableFormat": "markdown",
      "HTML": "<p>You're using game.playerskills as the list for show menu.</p>\n<p>Then, you're removing something from that same list from inside the script.</p>\n<p>I don't think you can do that, but I'm not 100% sure.</p>\n<p>Try this:</p>\n<pre><code>      show menu (\"Pick a skill to disable:\", game.playerskills, true) {\n        game.playerskilltoremove = result\n        list add (game.disabledskills, result)\n        player.Skills = ListItem(game.playerskills, 0)\n        for (N, 1, ListCount(game.playerskills), 1) {\n          player.Skills = player.Skills + \", \" + ListItem (game.playerskills, N)\n        }\n        player.disabledskills = ListItem(game.disabledskills, 0)\n        for (N, 1, ListCount(game.playerskills), 1) {\n          player.disabledskills = player.disabledskills + \", \" + ListItem (game.disabledskills, N)\n        }\n        player.staminacurrent = 1\n      }\n      list remove (game.playerskills, game.playerskilltoremove)\n      game.playerskilltoremove = null\n</code></pre>\n<hr>\n<p><span style=\"color: white\">added this to get post to go through</span></p>\n\n",
      "PostDate": "2018-01-18T06:13:38.0833495Z",
      "LastEditDate": "2018-01-18T06:15:05.6217575Z",
      "link": null
    },
    {
      "PostId": "ce18f1e7-1c85-44f9-9f06-e474feb769ef",
      "UserId": 340011,
      "Username": "wooterslw",
      "AvatarUrl": "https://secure.gravatar.com/avatar/7d20dd39301d8b9be2be0abaf005968d?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Well, the only problem with that is that I need to remove the skill from game.playerskills before I rebuild the list with the for/next statement in the first part of that. So I tried this:\r\n\r\n```\r\nplayer.staminacurrent = player.staminacurrent + modifier\r\nif (player.staminacurrent > player.staminamax) {\r\n  player.staminacurrent = player.staminamax\r\n}\r\nif (player.staminacurrent < 1 ) {\r\n  if (ListCount (game.playerskills) = 1) {\r\n    return (-99)\r\n  }\r\n  msg (\"You have been knocked unconcious. You must choose a skill to disable.\")\r\n  show menu (\"Pick a skill to disable:\", game.playerskills, true) {\r\n    player.skilltoremove = result\r\n    list add (game.disabledskills, result)\r\n    player.disabledskills = ListItem(game.disabledskills, 0)\r\n    for (N, 1, ListCount(game.playerskills), 1) {\r\n      player.disabledskills = player.disabledskills + \", \" + ListItem (game.disabledskills, N)\r\n    }\r\n  }\r\n  player.staminacurrent = 1\r\n  list remove (game.playerskills, player.skilltoremove)\r\n  player.Skills = ListItem(game.playerskills, 0)\r\n  for (N, 1, ListCount(game.playerskills), 1) {\r\n    player.Skills = player.Skills + \", \" + ListItem (game.playerskills, N)\r\n  }\r\n}\r\nreturn (1)\r\nplayer.Stamina = player.staminacurrent + \"/\" + player.staminamax\r\n```\r\nAnd got this error:\r\nError running script: Error evaluating expression 'player.Skills + \", \" + ListItem (game.playerskills, N)': ListItem: index 5 is out of range for this list (5 items, last index is 4)\r\n\r\nAnd I still don't get how it's going to the wait function in the room before it finishes getting the result from the menu. It's like it's running everything at once instead of what I feel should be logical:\r\n\r\nRoom Description\r\nmsg - You take 5 points of damage\r\nrun modifystamina function\r\nwait for any key\r\nmove player to entry 2399\r\n\r\nInstead its going\r\n\r\nRoom Description\r\nmsg- You take 5 points of damage\r\nwait for any key\r\nmodifystamina (which shows the menu)\r\nand locks up",
      "EditableFormat": "markdown",
      "HTML": "<p>Well, the only problem with that is that I need to remove the skill from game.playerskills before I rebuild the list with the for/next statement in the first part of that. So I tried this:</p>\n<pre><code>player.staminacurrent = player.staminacurrent + modifier\nif (player.staminacurrent &gt; player.staminamax) {\n  player.staminacurrent = player.staminamax\n}\nif (player.staminacurrent &lt; 1 ) {\n  if (ListCount (game.playerskills) = 1) {\n    return (-99)\n  }\n  msg (\"You have been knocked unconcious. You must choose a skill to disable.\")\n  show menu (\"Pick a skill to disable:\", game.playerskills, true) {\n    player.skilltoremove = result\n    list add (game.disabledskills, result)\n    player.disabledskills = ListItem(game.disabledskills, 0)\n    for (N, 1, ListCount(game.playerskills), 1) {\n      player.disabledskills = player.disabledskills + \", \" + ListItem (game.disabledskills, N)\n    }\n  }\n  player.staminacurrent = 1\n  list remove (game.playerskills, player.skilltoremove)\n  player.Skills = ListItem(game.playerskills, 0)\n  for (N, 1, ListCount(game.playerskills), 1) {\n    player.Skills = player.Skills + \", \" + ListItem (game.playerskills, N)\n  }\n}\nreturn (1)\nplayer.Stamina = player.staminacurrent + \"/\" + player.staminamax\n</code></pre>\n<p>And got this error:<br>\nError running script: Error evaluating expression 'player.Skills + \", \" + ListItem (game.playerskills, N)': ListItem: index 5 is out of range for this list (5 items, last index is 4)</p>\n<p>And I still don't get how it's going to the wait function in the room before it finishes getting the result from the menu. It's like it's running everything at once instead of what I feel should be logical:</p>\n<p>Room Description<br>\nmsg - You take 5 points of damage<br>\nrun modifystamina function<br>\nwait for any key<br>\nmove player to entry 2399</p>\n<p>Instead its going</p>\n<p>Room Description<br>\nmsg- You take 5 points of damage<br>\nwait for any key<br>\nmodifystamina (which shows the menu)<br>\nand locks up</p>\n\n",
      "PostDate": "2018-01-18T06:55:56.4201362Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "731972ff-3f63-4b09-b453-1a3aaa0973d2",
      "UserId": 318253,
      "Username": "K.V.",
      "AvatarUrl": "https://i.imgur.com/mBf7TBeb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "In place of this:\r\n```\r\nfor (N, 1, ListCount(game.playerskills), 1) {\r\n    player.Skills = player.Skills + \", \" + ListItem (game.playerskills, N)\r\n  }\r\n```\r\n\r\n\r\nTry:\r\n\r\n```\r\nforeach(N,game.playerskills) {\r\n    player.Skills = player.Skills + \", \" + N\r\n  }\r\n```\r\n\r\n---\r\nUnless you don't want the first item on the list included.  (The first item on the list is 0, and you have 1.  The last item on the list is ListCount(list)-1 (because the first one is 0). )\r\n\r\nIf you want to skip the first item, try:\r\n\r\n```\r\nfor (N, 1, ListCount(game.playerskills)-1, 1) {\r\n    player.Skills = player.Skills + \", \" + ListItem (game.playerskills, N)\r\n  }\r\n```\r\n\r\n\r\n---\r\nExample:\r\n\r\n```\r\nlist = Split(\"one;two;three;four;five\",\";\")\r\nfor (N, 1, ListCount(list)-1, 1) {\r\n  msg (ListItem(list,N))\r\n}\r\n```\r\n\r\nPrints:\r\n\r\n<samp>\r\n\r\ntwo\r\nthree\r\nfour\r\nfive\r\n\r\n</samp>\r\n\r\n---\r\n\r\n```\r\nlist = Split(\"one;two;three;four;five\",\";\")\r\nfor (N, 0, ListCount(list)-1, 1) {\r\n  msg (ListItem(list,N))\r\n}\r\n```\r\n\r\n<samp>\r\n\r\none\r\ntwo\r\nthree\r\nfour\r\nfive\r\n\r\n</samp>\r\n\r\n---\r\n\r\n```\r\nlist = Split(\"one;two;three;four;five\",\";\")\r\nforeach(N, list){\r\n  msg (N)\r\n}\r\n```\r\n\r\n<samp>\r\n\r\none\r\ntwo\r\nthree\r\nfour\r\nfive\r\n\r\n</samp>\r\n\r\n\r\n---\r\nhttp://docs.textadventures.co.uk/quest/scripts/for.html\r\n\r\nhttp://docs.textadventures.co.uk/quest/scripts/foreach.html",
      "EditableFormat": "markdown",
      "HTML": "<p>In place of this:</p>\n<pre><code>for (N, 1, ListCount(game.playerskills), 1) {\n    player.Skills = player.Skills + \", \" + ListItem (game.playerskills, N)\n  }\n</code></pre>\n<p>Try:</p>\n<pre><code>foreach(N,game.playerskills) {\n    player.Skills = player.Skills + \", \" + N\n  }\n</code></pre>\n<hr>\n<p>Unless you don't want the first item on the list included.  (The first item on the list is 0, and you have 1.  The last item on the list is ListCount(list)-1 (because the first one is 0). )</p>\n<p>If you want to skip the first item, try:</p>\n<pre><code>for (N, 1, ListCount(game.playerskills)-1, 1) {\n    player.Skills = player.Skills + \", \" + ListItem (game.playerskills, N)\n  }\n</code></pre>\n<hr>\n<p>Example:</p>\n<pre><code>list = Split(\"one;two;three;four;five\",\";\")\nfor (N, 1, ListCount(list)-1, 1) {\n  msg (ListItem(list,N))\n}\n</code></pre>\n<p>Prints:</p>\n<samp>\n<p>two<br>\nthree<br>\nfour<br>\nfive</p>\n</samp>\n<hr>\n<pre><code>list = Split(\"one;two;three;four;five\",\";\")\nfor (N, 0, ListCount(list)-1, 1) {\n  msg (ListItem(list,N))\n}\n</code></pre>\n<samp>\n<p>one<br>\ntwo<br>\nthree<br>\nfour<br>\nfive</p>\n</samp>\n<hr>\n<pre><code>list = Split(\"one;two;three;four;five\",\";\")\nforeach(N, list){\n  msg (N)\n}\n</code></pre>\n<samp>\n<p>one<br>\ntwo<br>\nthree<br>\nfour<br>\nfive</p>\n</samp>\n<hr>\n<p>http://docs.textadventures.co.uk/quest/scripts/for.html</p>\n<p>http://docs.textadventures.co.uk/quest/scripts/foreach.html</p>\n\n",
      "PostDate": "2018-01-18T07:19:04.4938194Z",
      "LastEditDate": "2018-01-18T07:30:04.9904248Z",
      "link": null
    },
    {
      "PostId": "2a931e15-0bbc-4b3c-9013-90cb28a2b25d",
      "UserId": 340011,
      "Username": "wooterslw",
      "AvatarUrl": "https://secure.gravatar.com/avatar/7d20dd39301d8b9be2be0abaf005968d?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Well, I was doing that because I was creating a custom string. The first entry is before the For statement:\r\n\r\n```\r\nplayer.disabledskills = ListItem(game.disabledskills, 0)\r\n```\r\nThen the for statement adds that entry along with a comma then the next item in the list. Thus, you get a single string of the players skills with commas separating them.",
      "EditableFormat": "markdown",
      "HTML": "<p>Well, I was doing that because I was creating a custom string. The first entry is before the For statement:</p>\n<pre><code>player.disabledskills = ListItem(game.disabledskills, 0)\n</code></pre>\n<p>Then the for statement adds that entry along with a comma then the next item in the list. Thus, you get a single string of the players skills with commas separating them.</p>\n\n",
      "PostDate": "2018-01-18T07:31:38.832574Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "47fb3efd-6d2e-4bc9-a502-d30a412828bd",
      "UserId": 318253,
      "Username": "K.V.",
      "AvatarUrl": "https://i.imgur.com/mBf7TBeb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "I see.\r\n\r\n(Sorry, I just realized I'm getting sleepy.)\r\n\r\nHow about this:\r\n\r\n```\r\nplayer.staminacurrent = player.staminacurrent + modifier\r\nif (player.staminacurrent > player.staminamax) {\r\n  player.staminacurrent = player.staminamax\r\n}\r\nif (player.staminacurrent < 1 ) {\r\n  if (ListCount (game.playerskills) = 1) {\r\n    return (-99)\r\n  }\r\n  msg (\"You have been knocked unconcious. You must choose a skill to disable.\")\r\n  show menu (\"Pick a skill to disable:\", game.playerskills, true) {\r\n    player.result_skill = result\r\n  }\r\n  list remove (game.playerskills, player.result_skill)\r\n  list add (game.disabledskills, player.result_skill)\r\n  player.result_skill = null\r\n  player.disabledskills = ListItem(game.disabledskills, 0)\r\n  for (N, 1, ListCount(game.playerskills)-1, 1) {\r\n    player.disabledskills = player.disabledskills + \", \" + ListItem (game.disabledskills, N)\r\n  }\r\n  player.staminacurrent = 1\r\n  player.Skills = ListItem(game.playerskills, 0)\r\n  for (N, 1, ListCount(game.playerskills), 1) {\r\n    player.Skills = player.Skills + \", \" + ListItem (game.playerskills, N)\r\n  }\r\n}\r\nreturn (1)\r\nplayer.Stamina = player.staminacurrent + \"/\" + player.staminamax\r\n```",
      "EditableFormat": "markdown",
      "HTML": "<p>I see.</p>\n<p>(Sorry, I just realized I'm getting sleepy.)</p>\n<p>How about this:</p>\n<pre><code>player.staminacurrent = player.staminacurrent + modifier\nif (player.staminacurrent &gt; player.staminamax) {\n  player.staminacurrent = player.staminamax\n}\nif (player.staminacurrent &lt; 1 ) {\n  if (ListCount (game.playerskills) = 1) {\n    return (-99)\n  }\n  msg (\"You have been knocked unconcious. You must choose a skill to disable.\")\n  show menu (\"Pick a skill to disable:\", game.playerskills, true) {\n    player.result_skill = result\n  }\n  list remove (game.playerskills, player.result_skill)\n  list add (game.disabledskills, player.result_skill)\n  player.result_skill = null\n  player.disabledskills = ListItem(game.disabledskills, 0)\n  for (N, 1, ListCount(game.playerskills)-1, 1) {\n    player.disabledskills = player.disabledskills + \", \" + ListItem (game.disabledskills, N)\n  }\n  player.staminacurrent = 1\n  player.Skills = ListItem(game.playerskills, 0)\n  for (N, 1, ListCount(game.playerskills), 1) {\n    player.Skills = player.Skills + \", \" + ListItem (game.playerskills, N)\n  }\n}\nreturn (1)\nplayer.Stamina = player.staminacurrent + \"/\" + player.staminamax\n</code></pre>\n\n",
      "PostDate": "2018-01-18T07:38:34.5321752Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "5d1fed7f-f192-4933-8d40-ad4c2e4a62e6",
      "UserId": 340011,
      "Username": "wooterslw",
      "AvatarUrl": "https://secure.gravatar.com/avatar/7d20dd39301d8b9be2be0abaf005968d?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Jesus this thing is pissing me off. Why is it so difficult?? Your method has everything going off before it gets the input from the show menu. I put a msg to display the game.playerskills. If I put all that code outside of the show menu, it goes off before getting the menu input. If I put it inside the showmenu it never goes off. WTH?!",
      "EditableFormat": "markdown",
      "HTML": "<p>Jesus this thing is pissing me off. Why is it so difficult?? Your method has everything going off before it gets the input from the show menu. I put a msg to display the game.playerskills. If I put all that code outside of the show menu, it goes off before getting the menu input. If I put it inside the showmenu it never goes off. WTH?!</p>\n\n",
      "PostDate": "2018-01-18T08:56:20.4059256Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "7a9687b4-6d44-4ee1-a9f9-7470698f6e1b",
      "UserId": 318253,
      "Username": "K.V.",
      "AvatarUrl": "https://i.imgur.com/mBf7TBeb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Sorry.  I was much more tired than I realized.\r\n\r\n```\r\nmsg (\"You take 5 points of stamina damage!\")\r\nif (modifystamina (-5) = -99) {\r\n  MoveObject (player, Game Over)\r\n}\r\nelse {\r\n  SetTurnTimeout (1) {\r\n    wait {\r\n      MoveObject (player, Entry 2399)\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n\r\n```\r\nplayer.staminacurrent = player.staminacurrent + modifier\r\nif (player.staminacurrent > player.staminamax) {\r\n  player.staminacurrent = player.staminamax\r\n}\r\nif (player.staminacurrent < 1 ) {\r\n  if (ListCount (game.playerskills) = 1) {\r\n    return (-99)\r\n  }\r\n  msg (\"You have been knocked unconcious. You must choose a skill to disable.\")\r\n  list = ListExclude(game.playerskills, \"XxYyZzYy\")\r\n  ShowMenu (\"Pick a skill to disable:\", list, true) {\r\n    list remove (game.playerskills, result)\r\n    list add (game.disabledskills, result)\r\n    player.Skills = ListItem(game.playerskills, 0)\r\n    for (N, 1, ListCount(game.playerskills)-1, 1) {\r\n      player.Skills = player.Skills + \", \" + ListItem (game.playerskills, N)\r\n    }\r\n    player.disabledskills = ListItem(game.disabledskills, 0)\r\n    for (N, 1, ListCount(game.playerskills)-1, 1) {\r\n      player.disabledskills = player.disabledskills + \", \" + ListItem (game.disabledskills, N)\r\n    }\r\n    player.staminacurrent = 1\r\n  }\r\n}\r\nplayer.Stamina = player.staminacurrent + \"/\" + player.staminamax\r\nreturn (1)\r\n```",
      "EditableFormat": "markdown",
      "HTML": "<p>Sorry.  I was much more tired than I realized.</p>\n<pre><code>msg (\"You take 5 points of stamina damage!\")\nif (modifystamina (-5) = -99) {\n  MoveObject (player, Game Over)\n}\nelse {\n  SetTurnTimeout (1) {\n    wait {\n      MoveObject (player, Entry 2399)\n    }\n  }\n}\n</code></pre>\n<pre><code>player.staminacurrent = player.staminacurrent + modifier\nif (player.staminacurrent &gt; player.staminamax) {\n  player.staminacurrent = player.staminamax\n}\nif (player.staminacurrent &lt; 1 ) {\n  if (ListCount (game.playerskills) = 1) {\n    return (-99)\n  }\n  msg (\"You have been knocked unconcious. You must choose a skill to disable.\")\n  list = ListExclude(game.playerskills, \"XxYyZzYy\")\n  ShowMenu (\"Pick a skill to disable:\", list, true) {\n    list remove (game.playerskills, result)\n    list add (game.disabledskills, result)\n    player.Skills = ListItem(game.playerskills, 0)\n    for (N, 1, ListCount(game.playerskills)-1, 1) {\n      player.Skills = player.Skills + \", \" + ListItem (game.playerskills, N)\n    }\n    player.disabledskills = ListItem(game.disabledskills, 0)\n    for (N, 1, ListCount(game.playerskills)-1, 1) {\n      player.disabledskills = player.disabledskills + \", \" + ListItem (game.disabledskills, N)\n    }\n    player.staminacurrent = 1\n  }\n}\nplayer.Stamina = player.staminacurrent + \"/\" + player.staminamax\nreturn (1)\n</code></pre>\n\n",
      "PostDate": "2018-01-18T14:28:58.0268744Z",
      "LastEditDate": "2018-01-18T14:52:07.2534809Z",
      "link": null
    },
    {
      "PostId": "4793f6ea-da37-4702-af2c-703be885cf8e",
      "UserId": 340011,
      "Username": "wooterslw",
      "AvatarUrl": "https://secure.gravatar.com/avatar/7d20dd39301d8b9be2be0abaf005968d?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Ok. So got the menu working now. It doesn't lock up. But for some reason, none of the code inside of the show menu is working. (Oh and I needed to put the last line before return (1) or the player.Stamina never updated.",
      "EditableFormat": "markdown",
      "HTML": "<p>Ok. So got the menu working now. It doesn't lock up. But for some reason, none of the code inside of the show menu is working. (Oh and I needed to put the last line before return (1) or the player.Stamina never updated.</p>\n\n",
      "PostDate": "2018-01-18T14:48:57.0630865Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "6ea8e8d8-3a2e-457b-8984-cc279c97b415",
      "UserId": 318253,
      "Username": "K.V.",
      "AvatarUrl": "https://i.imgur.com/mBf7TBeb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "```\r\n  player.disabledskills = ListItem(game.disabledskills, 0)\r\n    for (N, 1, ListCount(game.playerskills)-1, 1) {\r\n      player.disabledskills = player.disabledskills + \", \" + ListItem (game.disabledskills, N)\r\n    }\r\n```\r\n\r\n---\r\nI don't understand this bit.\r\n\r\nYou are adding each skill from game.playerskills to the string player.disabledskills, except for the first list item on game.playerskills?",
      "EditableFormat": "markdown",
      "HTML": "<pre><code>  player.disabledskills = ListItem(game.disabledskills, 0)\n    for (N, 1, ListCount(game.playerskills)-1, 1) {\n      player.disabledskills = player.disabledskills + \", \" + ListItem (game.disabledskills, N)\n    }\n</code></pre>\n<hr>\n<p>I don't understand this bit.</p>\n<p>You are adding each skill from game.playerskills to the string player.disabledskills, except for the first list item on game.playerskills?</p>\n\n",
      "PostDate": "2018-01-18T14:54:55.8135205Z",
      "LastEditDate": "2018-01-18T14:59:05.3942468Z",
      "link": null
    },
    {
      "PostId": "f0696f5a-f93d-41e6-93bf-5b766aabb4f4",
      "UserId": 340011,
      "Username": "wooterslw",
      "AvatarUrl": "https://secure.gravatar.com/avatar/7d20dd39301d8b9be2be0abaf005968d?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "No. The player gets knocked unconscious when his stamina drops below 0 and is required to choose one of his skills to disable and he is returned to 1 stamina. So...\r\n\r\n  msg (\"You have been knocked unconcious. You must choose a skill to disable.\")\r\n  // Below is the list of the players active skills\r\n  list = game.playerskills\r\n  // Show a menu of those skills and have player choose one\r\n  ShowMenu (\"Pick a skill to disable:\", list, true) {\r\n    // Remove that skill from his active skills\r\n    list remove (game.playerskills, result)\r\n   // Add that skill to the list of disabled skills\r\n    list add (game.disabledskills, result)\r\n   // Recreate the Status Box line that displays the players active skills\r\n   //  The line below is the first active skill (For example: Archery)\r\n    player.Skills = ListItem(game.playerskills, 0)\r\n   // The below for loop will now add the other active skills with a comma before each item (For example: , Agility, Brawling\r\n    for (N, 1, ListCount(game.playerskills)-1, 1) {\r\n      player.Skills = player.Skills + \", \" + ListItem (game.playerskills, N)\r\n    }\r\n    // So when it's done player.Skills show \"Archery, Agility, Brawling\" \r\n   // Same with below except with disabled skills\r\n    player.disabledskills = ListItem(game.disabledskills, 0)\r\n    for (N, 1, ListCount(game.playerskills)-1, 1) {\r\n      player.disabledskills = player.disabledskills + \", \" + ListItem (game.disabledskills, N)\r\n    }",
      "EditableFormat": "markdown",
      "HTML": "<p>No. The player gets knocked unconscious when his stamina drops below 0 and is required to choose one of his skills to disable and he is returned to 1 stamina. So...</p>\n<p>msg (\"You have been knocked unconcious. You must choose a skill to disable.\")<br>\n// Below is the list of the players active skills<br>\nlist = game.playerskills<br>\n// Show a menu of those skills and have player choose one<br>\nShowMenu (\"Pick a skill to disable:\", list, true) {<br>\n// Remove that skill from his active skills<br>\nlist remove (game.playerskills, result)<br>\n// Add that skill to the list of disabled skills<br>\nlist add (game.disabledskills, result)<br>\n// Recreate the Status Box line that displays the players active skills<br>\n//  The line below is the first active skill (For example: Archery)<br>\nplayer.Skills = ListItem(game.playerskills, 0)<br>\n// The below for loop will now add the other active skills with a comma before each item (For example: , Agility, Brawling<br>\nfor (N, 1, ListCount(game.playerskills)-1, 1) {<br>\nplayer.Skills = player.Skills + \", \" + ListItem (game.playerskills, N)<br>\n}<br>\n// So when it's done player.Skills show \"Archery, Agility, Brawling\"<br>\n// Same with below except with disabled skills<br>\nplayer.disabledskills = ListItem(game.disabledskills, 0)<br>\nfor (N, 1, ListCount(game.playerskills)-1, 1) {<br>\nplayer.disabledskills = player.disabledskills + \", \" + ListItem (game.disabledskills, N)<br>\n}</p>\n\n",
      "PostDate": "2018-01-18T15:04:18.1563184Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "db9e2def-a658-4a85-91d6-3bf95b9b898c",
      "UserId": 318253,
      "Username": "K.V.",
      "AvatarUrl": "https://i.imgur.com/mBf7TBeb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "EDIT\r\n\r\nI posted this as you were posting your last post, so I didn't see you break it down for me.\r\n\r\n---\r\nTo make sure I'm understand what you're goal is:\r\n\r\n---\r\nIf you subtract 5 from player.staminacurrent, and that makes player.staminacurrent less than 1, and if the player only has one skill on game.playerskills:\r\n- then you want to finish the game.\r\n\r\n---\r\nOtherwise, if you subtract 5 from player.staminacurrent, and if player.staminacurrent is 1 or more:\r\n-  you make the player disable a skill\r\n- then you want to remove that skill from game.playerskills\r\n- then you want to add that skill to a list (game.disabledskills) and to a string (player.disabledskills)\r\n- then you want to make player.Skills a string that displays all of the current skills\r\n- then you want to set player.staminacurrent to 1\r\n- then make player.Stamina show CURRENT STAMINA/MAX STAMINA.",
      "EditableFormat": "markdown",
      "HTML": "<p>EDIT</p>\n<p>I posted this as you were posting your last post, so I didn't see you break it down for me.</p>\n<hr>\n<p>To make sure I'm understand what you're goal is:</p>\n<hr>\n<p>If you subtract 5 from player.staminacurrent, and that makes player.staminacurrent less than 1, and if the player only has one skill on game.playerskills:</p>\n<ul>\n<li>then you want to finish the game.</li>\n</ul>\n<hr>\n<p>Otherwise, if you subtract 5 from player.staminacurrent, and if player.staminacurrent is 1 or more:</p>\n<ul>\n<li>you make the player disable a skill</li>\n<li>then you want to remove that skill from game.playerskills</li>\n<li>then you want to add that skill to a list (game.disabledskills) and to a string (player.disabledskills)</li>\n<li>then you want to make player.Skills a string that displays all of the current skills</li>\n<li>then you want to set player.staminacurrent to 1</li>\n<li>then make player.Stamina show CURRENT STAMINA/MAX STAMINA.</li>\n</ul>\n\n",
      "PostDate": "2018-01-18T15:10:21.865893Z",
      "LastEditDate": "2018-01-18T15:11:56.9202153Z",
      "link": null
    },
    {
      "PostId": "e0b0fc0b-c5c7-474d-a6a5-da01a5fe9ef2",
      "UserId": 340011,
      "Username": "wooterslw",
      "AvatarUrl": "https://secure.gravatar.com/avatar/7d20dd39301d8b9be2be0abaf005968d?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Almost. Right on the first one.\r\n\r\nOtherwise, if you subtract 5 from player.staminacurrent, and if player.staminacurrent is 0 or less:\r\n\r\n    you make the player disable a skill\r\n    then you want to remove that skill from game.playerskills\r\n    then you want to add that skill to a list (game.disabledskills)\r\n    then you want to make player.disabledskills a string that display all of the disabled skills\r\n    then you want to make player.Skills a string that displays all of the current skills\r\n    then you want to set player.staminacurrent to 1\r\n    then make player.Stamina show CURRENT STAMINA/MAX STAMINA.\r\n\r\n",
      "EditableFormat": "markdown",
      "HTML": "<p>Almost. Right on the first one.</p>\n<p>Otherwise, if you subtract 5 from player.staminacurrent, and if player.staminacurrent is 0 or less:</p>\n<pre><code>you make the player disable a skill\nthen you want to remove that skill from game.playerskills\nthen you want to add that skill to a list (game.disabledskills)\nthen you want to make player.disabledskills a string that display all of the disabled skills\nthen you want to make player.Skills a string that displays all of the current skills\nthen you want to set player.staminacurrent to 1\nthen make player.Stamina show CURRENT STAMINA/MAX STAMINA.\n</code></pre>\n\n",
      "PostDate": "2018-01-18T15:21:25.956124Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "66444a71-2f59-4bef-8e6d-556d584ff75c",
      "UserId": 318253,
      "Username": "K.V.",
      "AvatarUrl": "https://i.imgur.com/mBf7TBeb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Okay.\r\n\r\nI have changed ```show menu``` to ```ShowMenu```, along with a few other things.\r\n\r\nFor instance, I did away with the ```for``` scripts and just joined the lists.\r\n\r\n```\r\nplayer.staminacurrent = player.staminacurrent + modifier\r\nif (player.staminacurrent > player.staminamax) {\r\n  player.staminacurrent = player.staminamax\r\n}\r\nif (player.staminacurrent < 1 ) {\r\n  if (ListCount (game.playerskills) = 1) {\r\n    return (-99)\r\n  }\r\n  msg (\"You have been knocked unconcious. You must choose a skill to disable.\")\r\n  list = ListExclude(game.playerskills, \"XxYyZzYy\")\r\n  ShowMenu (\"Pick a skill to disable:\", list, true) {\r\n    list remove (game.playerskills, result)\r\n    list add (game.disabledskills, result)\r\n    player.Skills = Join(game.playerskills,\",\")\r\n    if (HasAttribute(game,\"debugging\")) {\r\n      if (game.debugging) {\r\n        msg (\"DEBUGGING: player.Skills = \"+player.Skills)\r\n      }\r\n    }\r\n    player.disabledskills = Join(game.disabledskills,\",\")\r\n    if (HasAttribute(game,\"debugging\")) {\r\n      if (game.debugging) {\r\n        msg (\"DEBUGGING: player.disabledskills = \"+ player.disabledskills)\r\n      }\r\n    }\r\n    player.staminacurrent = 1\r\n    player.Stamina = player.staminacurrent + \"/\" + player.staminamax\r\n    if (HasAttribute(game,\"debugging\")) {\r\n      if (game.debugging) {\r\n        msg (\"DEBUGGING: player.Stamina = \"+ player.Stamina)\r\n      }\r\n    }\r\n    msg(\"Your stamina is now: \"+player.Stamina)\r\n  }\r\n}\r\nreturn (player.staminacurrent)\r\n```\r\n\r\n---\r\n\r\nYou are in an Entry 1099.\r\nYou can go south.\r\n\r\nYou take 5 points of stamina damage!\r\n\r\nYou have been knocked unconcious. You must choose a skill to disable.\r\n\r\nDEBUGGING: player.Skills = Archery,Brawling\r\n\r\nDEBUGGING: player.disabledskills = Agility\r\n\r\nDEBUGGING: player.Stamina = 1/100\r\n\r\nYour stamina is now: 1/100\r\n\r\nYou are in an Entry 2399.\r\n\r\n\r\n\r\n\r\n---\r\n```show menu``` doesn't change the settings for some reason.\r\n\r\nI'm researching that now.\r\n\r\n---\r\n<span style=\"color:white\">I CAN TOO POST THIS HERE!!!</span>",
      "EditableFormat": "markdown",
      "HTML": "<p>Okay.</p>\n<p>I have changed <code>show menu</code> to <code>ShowMenu</code>, along with a few other things.</p>\n<p>For instance, I did away with the <code>for</code> scripts and just joined the lists.</p>\n<pre><code>player.staminacurrent = player.staminacurrent + modifier\nif (player.staminacurrent &gt; player.staminamax) {\n  player.staminacurrent = player.staminamax\n}\nif (player.staminacurrent &lt; 1 ) {\n  if (ListCount (game.playerskills) = 1) {\n    return (-99)\n  }\n  msg (\"You have been knocked unconcious. You must choose a skill to disable.\")\n  list = ListExclude(game.playerskills, \"XxYyZzYy\")\n  ShowMenu (\"Pick a skill to disable:\", list, true) {\n    list remove (game.playerskills, result)\n    list add (game.disabledskills, result)\n    player.Skills = Join(game.playerskills,\",\")\n    if (HasAttribute(game,\"debugging\")) {\n      if (game.debugging) {\n        msg (\"DEBUGGING: player.Skills = \"+player.Skills)\n      }\n    }\n    player.disabledskills = Join(game.disabledskills,\",\")\n    if (HasAttribute(game,\"debugging\")) {\n      if (game.debugging) {\n        msg (\"DEBUGGING: player.disabledskills = \"+ player.disabledskills)\n      }\n    }\n    player.staminacurrent = 1\n    player.Stamina = player.staminacurrent + \"/\" + player.staminamax\n    if (HasAttribute(game,\"debugging\")) {\n      if (game.debugging) {\n        msg (\"DEBUGGING: player.Stamina = \"+ player.Stamina)\n      }\n    }\n    msg(\"Your stamina is now: \"+player.Stamina)\n  }\n}\nreturn (player.staminacurrent)\n</code></pre>\n<hr>\n<p>You are in an Entry 1099.<br>\nYou can go south.</p>\n<p>You take 5 points of stamina damage!</p>\n<p>You have been knocked unconcious. You must choose a skill to disable.</p>\n<p>DEBUGGING: player.Skills = Archery,Brawling</p>\n<p>DEBUGGING: player.disabledskills = Agility</p>\n<p>DEBUGGING: player.Stamina = 1/100</p>\n<p>Your stamina is now: 1/100</p>\n<p>You are in an Entry 2399.</p>\n<hr>\n<p><code>show menu</code> doesn't change the settings for some reason.</p>\n<p>I'm researching that now.</p>\n<hr>\n<p><span style=\"color: white\">I CAN TOO POST THIS HERE!!!</span></p>\n\n",
      "PostDate": "2018-01-18T15:41:30.3304403Z",
      "LastEditDate": "2018-01-18T15:51:43.0070698Z",
      "link": null
    },
    {
      "PostId": "fdec4208-da0c-48cd-89a1-0f00c08a0886",
      "UserId": 340011,
      "Username": "wooterslw",
      "AvatarUrl": "https://secure.gravatar.com/avatar/7d20dd39301d8b9be2be0abaf005968d?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Hot diggity damn! I do prefer the other menu command, but I can certainly live with this option since it actually works. Thank you so very much! Didn't even know about that Join command. Sweet. :)",
      "EditableFormat": "markdown",
      "HTML": "<p>Hot diggity damn! I do prefer the other menu command, but I can certainly live with this option since it actually works. Thank you so very much! Didn't even know about that Join command. Sweet. :)</p>\n\n",
      "PostDate": "2018-01-18T15:46:33.7573044Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "ea0e097d-1235-4833-8f4d-ffab619926b1",
      "UserId": 318253,
      "Username": "K.V.",
      "AvatarUrl": "https://i.imgur.com/mBf7TBeb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "You're welcome!",
      "EditableFormat": "markdown",
      "HTML": "<p>You're welcome!</p>\n\n",
      "PostDate": "2018-01-18T15:46:39.4016359Z",
      "LastEditDate": "2018-01-18T15:47:36.1072421Z",
      "link": null
    },
    {
      "PostId": "5d6acde9-70fa-4d1a-9f3c-7c4b06b7df3e",
      "UserId": 318253,
      "Username": "K.V.",
      "AvatarUrl": "https://i.imgur.com/mBf7TBeb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "That ```show menu``` works if it's not inside of that function, for some reason, which most assuredly involves script blocking.\r\n\r\n---\r\nIf you make the ```show menu``` a function on its own, which is called from the first function, it works.\r\n\r\n```\r\n  <function name=\"modifystamina\" parameters=\"modifier\" type=\"int\"><![CDATA[\r\n    player.staminacurrent = player.staminacurrent + modifier\r\n    if (player.staminacurrent > player.staminamax) {\r\n      player.staminacurrent = player.staminamax\r\n    }\r\n    if (player.staminacurrent < 1 ) {\r\n      if (ListCount (game.playerskills) = 1) {\r\n        return (-99)\r\n      }\r\n      StaminaShowMenu\r\n    }\r\n    return (player.staminacurrent)\r\n  ]]></function>\r\n```\r\n```\r\n  <function name=\"StaminaShowMenu\">\r\n    msg (\"You have been knocked unconcious. You must choose a skill to disable.\")\r\n    list = ListExclude(game.playerskills, \"XxYyZzYy\")\r\n    show menu (\"Pick a skill to disable:\", list, false) {\r\n      list remove (game.playerskills, result)\r\n      list add (game.disabledskills, result)\r\n      player.Skills = Join(game.playerskills,\",\")\r\n      if (HasAttribute(game,\"debugging\")) {\r\n        if (game.debugging) {\r\n          msg (\"DEBUGGING: player.Skills = \"+player.Skills)\r\n        }\r\n      }\r\n      player.disabledskills = Join(game.disabledskills,\",\")\r\n      if (HasAttribute(game,\"debugging\")) {\r\n        if (game.debugging) {\r\n          msg (\"DEBUGGING: player.disabledskills = \"+ player.disabledskills)\r\n        }\r\n      }\r\n      player.staminacurrent = 1\r\n      player.Stamina = player.staminacurrent + \"/\" + player.staminamax\r\n      if (HasAttribute(game,\"debugging\")) {\r\n        if (game.debugging) {\r\n          msg (\"DEBUGGING: player.Stamina = \"+ player.Stamina)\r\n        }\r\n      }\r\n      msg (\"Your stamina is now: \"+player.Stamina)\r\n    }\r\n  </function>\r\n```\r\n\r\n---\r\nIt probably has something to do with that first function returning a value, but that's just a wild theory.",
      "EditableFormat": "markdown",
      "HTML": "<p>That <code>show menu</code> works if it's not inside of that function, for some reason, which most assuredly involves script blocking.</p>\n<hr>\n<p>If you make the <code>show menu</code> a function on its own, which is called from the first function, it works.</p>\n<pre><code>  &lt;function name=\"modifystamina\" parameters=\"modifier\" type=\"int\"&gt;&lt;![CDATA[\n    player.staminacurrent = player.staminacurrent + modifier\n    if (player.staminacurrent &gt; player.staminamax) {\n      player.staminacurrent = player.staminamax\n    }\n    if (player.staminacurrent &lt; 1 ) {\n      if (ListCount (game.playerskills) = 1) {\n        return (-99)\n      }\n      StaminaShowMenu\n    }\n    return (player.staminacurrent)\n  ]]&gt;&lt;/function&gt;\n</code></pre>\n<pre><code>  &lt;function name=\"StaminaShowMenu\"&gt;\n    msg (\"You have been knocked unconcious. You must choose a skill to disable.\")\n    list = ListExclude(game.playerskills, \"XxYyZzYy\")\n    show menu (\"Pick a skill to disable:\", list, false) {\n      list remove (game.playerskills, result)\n      list add (game.disabledskills, result)\n      player.Skills = Join(game.playerskills,\",\")\n      if (HasAttribute(game,\"debugging\")) {\n        if (game.debugging) {\n          msg (\"DEBUGGING: player.Skills = \"+player.Skills)\n        }\n      }\n      player.disabledskills = Join(game.disabledskills,\",\")\n      if (HasAttribute(game,\"debugging\")) {\n        if (game.debugging) {\n          msg (\"DEBUGGING: player.disabledskills = \"+ player.disabledskills)\n        }\n      }\n      player.staminacurrent = 1\n      player.Stamina = player.staminacurrent + \"/\" + player.staminamax\n      if (HasAttribute(game,\"debugging\")) {\n        if (game.debugging) {\n          msg (\"DEBUGGING: player.Stamina = \"+ player.Stamina)\n        }\n      }\n      msg (\"Your stamina is now: \"+player.Stamina)\n    }\n  &lt;/function&gt;\n</code></pre>\n<hr>\n<p>It probably has something to do with that first function returning a value, but that's just a wild theory.</p>\n\n",
      "PostDate": "2018-01-18T15:59:43.6056038Z",
      "LastEditDate": "2018-01-18T16:01:21.9361274Z",
      "link": null
    },
    {
      "PostId": "ad141e5e-dd8a-4e83-842e-a0f0030a7ba6",
      "UserId": 318253,
      "Username": "K.V.",
      "AvatarUrl": "https://i.imgur.com/mBf7TBeb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Here is an example with a completely different approach.\r\n\r\nI'm using a change script on player.staminacurrent to trigger the ```show menu```.\r\n\r\nThe change script will make the modifystamina script happen, no matter what room the player is in.\r\n\r\n---\r\n**NOTE:  I removed the modifystamina function, putting the script in the aforementioned change script.**\r\n\r\n\r\n<details>\r\n\r\n```\r\n<!--Saved by Quest 5.7.6404.15496-->\r\n<asl version=\"550\">\r\n  <include ref=\"English.aslx\" />\r\n  <include ref=\"Core.aslx\" />\r\n  <game name=\"Example Game 42\">\r\n    <gameid>b8e5fb45-e73d-47bb-8c07-27f2a20d1b20</gameid>\r\n    <version>1.0</version>\r\n    <firstpublished>2018</firstpublished>\r\n    <start type=\"script\"><![CDATA[\r\n      game.debugging = true\r\n      player.staminacurrent = 5\r\n      // Set up a change script on player.staminacurrent:\r\n      player.changedstaminacurrent => {\r\n        if (player.staminacurrent > player.staminamax) {\r\n          player.staminacurrent = player.staminamax\r\n        }\r\n        if (player.staminacurrent < 1 ) {\r\n          if (ListCount (game.playerskills) = 1) {\r\n            MoveObject (game.pov, Game Over)\r\n          }\r\n          else {\r\n            msg (\"You have been knocked unconcious. You must choose a skill to disable.\")\r\n            list = ListExclude(game.playerskills, \"XxYyZzYy\")\r\n            show menu (\"Pick a skill to disable:\", list, false) {\r\n              list remove (game.playerskills, result)\r\n              list add (game.disabledskills, result)\r\n              player.Skills = Join(game.playerskills,\",\")\r\n              if (HasAttribute(game,\"debugging\")) {\r\n                if (game.debugging) {\r\n                  msg (\"DEBUGGING: player.Skills = \"+player.Skills)\r\n                }\r\n              }\r\n              player.disabledskills = Join(game.disabledskills,\",\")\r\n              if (HasAttribute(game,\"debugging\")) {\r\n                if (game.debugging) {\r\n                  msg (\"DEBUGGING: player.disabledskills = \"+ player.disabledskills)\r\n                }\r\n              }\r\n              player.staminacurrent = 1\r\n              player.Stamina = player.staminacurrent + \"/\" + player.staminamax\r\n              if (HasAttribute(game,\"debugging\")) {\r\n                if (game.debugging) {\r\n                  msg (\"DEBUGGING: player.Stamina = \"+ player.Stamina)\r\n                }\r\n              }\r\n              msg (\"Your stamina is now: \"+player.Stamina)\r\n            }\r\n          }\r\n        }\r\n      }\r\n      player.staminamax = 100\r\n      game.playerskills = Split(\"Archery;Agility;Brawling\",\";\")\r\n      game.disabledskills = NewStringList()\r\n    ]]></start>\r\n  </game>\r\n  <object name=\"room\">\r\n    <inherit name=\"editor_room\" />\r\n    <enter type=\"script\">\r\n    </enter>\r\n    <object name=\"player\">\r\n      <inherit name=\"editor_object\" />\r\n      <inherit name=\"editor_player\" />\r\n    </object>\r\n    <exit alias=\"north\" to=\"Entry 1099\">\r\n      <inherit name=\"northdirection\" />\r\n    </exit>\r\n  </object>\r\n  <object name=\"Entry 1099\">\r\n    <inherit name=\"editor_room\" />\r\n    <enter type=\"script\"><![CDATA[\r\n      msg (\"You take 5 points of stamina damage!\")\r\n      player.staminacurrent = player.staminacurrent - 5\r\n      on ready {\r\n        if (player.staminacurrent>0) {\r\n          MoveObject (player, Entry 2399)\r\n        }\r\n      }\r\n    ]]></enter>\r\n    <exit alias=\"south\" to=\"room\">\r\n      <inherit name=\"southdirection\" />\r\n    </exit>\r\n  </object>\r\n  <object name=\"Entry 2399\">\r\n    <inherit name=\"editor_room\" />\r\n    <exit alias=\"south\" to=\"room\">\r\n      <inherit name=\"southdirection\" />\r\n    </exit>\r\n  </object>\r\n  <object name=\"Game Over\">\r\n    <inherit name=\"editor_room\" />\r\n    <beforeenter type=\"script\">\r\n      finish\r\n    </beforeenter>\r\n    <descprefix type=\"string\"></descprefix>\r\n    <usedefaultprefix type=\"boolean\">false</usedefaultprefix>\r\n  </object>\r\n</asl>\r\n```\r\n\r\n</details>",
      "EditableFormat": "markdown",
      "HTML": "<p>Here is an example with a completely different approach.</p>\n<p>I'm using a change script on player.staminacurrent to trigger the <code>show menu</code>.</p>\n<p>The change script will make the modifystamina script happen, no matter what room the player is in.</p>\n<hr>\n<p><strong>NOTE:  I removed the modifystamina function, putting the script in the aforementioned change script.</strong></p>\n<details>\n<pre><code>&lt;!--Saved by Quest 5.7.6404.15496--&gt;\n&lt;asl version=\"550\"&gt;\n  &lt;include ref=\"English.aslx\" /&gt;\n  &lt;include ref=\"Core.aslx\" /&gt;\n  &lt;game name=\"Example Game 42\"&gt;\n    &lt;gameid&gt;b8e5fb45-e73d-47bb-8c07-27f2a20d1b20&lt;/gameid&gt;\n    &lt;version&gt;1.0&lt;/version&gt;\n    &lt;firstpublished&gt;2018&lt;/firstpublished&gt;\n    &lt;start type=\"script\"&gt;&lt;![CDATA[\n      game.debugging = true\n      player.staminacurrent = 5\n      // Set up a change script on player.staminacurrent:\n      player.changedstaminacurrent =&gt; {\n        if (player.staminacurrent &gt; player.staminamax) {\n          player.staminacurrent = player.staminamax\n        }\n        if (player.staminacurrent &lt; 1 ) {\n          if (ListCount (game.playerskills) = 1) {\n            MoveObject (game.pov, Game Over)\n          }\n          else {\n            msg (\"You have been knocked unconcious. You must choose a skill to disable.\")\n            list = ListExclude(game.playerskills, \"XxYyZzYy\")\n            show menu (\"Pick a skill to disable:\", list, false) {\n              list remove (game.playerskills, result)\n              list add (game.disabledskills, result)\n              player.Skills = Join(game.playerskills,\",\")\n              if (HasAttribute(game,\"debugging\")) {\n                if (game.debugging) {\n                  msg (\"DEBUGGING: player.Skills = \"+player.Skills)\n                }\n              }\n              player.disabledskills = Join(game.disabledskills,\",\")\n              if (HasAttribute(game,\"debugging\")) {\n                if (game.debugging) {\n                  msg (\"DEBUGGING: player.disabledskills = \"+ player.disabledskills)\n                }\n              }\n              player.staminacurrent = 1\n              player.Stamina = player.staminacurrent + \"/\" + player.staminamax\n              if (HasAttribute(game,\"debugging\")) {\n                if (game.debugging) {\n                  msg (\"DEBUGGING: player.Stamina = \"+ player.Stamina)\n                }\n              }\n              msg (\"Your stamina is now: \"+player.Stamina)\n            }\n          }\n        }\n      }\n      player.staminamax = 100\n      game.playerskills = Split(\"Archery;Agility;Brawling\",\";\")\n      game.disabledskills = NewStringList()\n    ]]&gt;&lt;/start&gt;\n  &lt;/game&gt;\n  &lt;object name=\"room\"&gt;\n    &lt;inherit name=\"editor_room\" /&gt;\n    &lt;enter type=\"script\"&gt;\n    &lt;/enter&gt;\n    &lt;object name=\"player\"&gt;\n      &lt;inherit name=\"editor_object\" /&gt;\n      &lt;inherit name=\"editor_player\" /&gt;\n    &lt;/object&gt;\n    &lt;exit alias=\"north\" to=\"Entry 1099\"&gt;\n      &lt;inherit name=\"northdirection\" /&gt;\n    &lt;/exit&gt;\n  &lt;/object&gt;\n  &lt;object name=\"Entry 1099\"&gt;\n    &lt;inherit name=\"editor_room\" /&gt;\n    &lt;enter type=\"script\"&gt;&lt;![CDATA[\n      msg (\"You take 5 points of stamina damage!\")\n      player.staminacurrent = player.staminacurrent - 5\n      on ready {\n        if (player.staminacurrent&gt;0) {\n          MoveObject (player, Entry 2399)\n        }\n      }\n    ]]&gt;&lt;/enter&gt;\n    &lt;exit alias=\"south\" to=\"room\"&gt;\n      &lt;inherit name=\"southdirection\" /&gt;\n    &lt;/exit&gt;\n  &lt;/object&gt;\n  &lt;object name=\"Entry 2399\"&gt;\n    &lt;inherit name=\"editor_room\" /&gt;\n    &lt;exit alias=\"south\" to=\"room\"&gt;\n      &lt;inherit name=\"southdirection\" /&gt;\n    &lt;/exit&gt;\n  &lt;/object&gt;\n  &lt;object name=\"Game Over\"&gt;\n    &lt;inherit name=\"editor_room\" /&gt;\n    &lt;beforeenter type=\"script\"&gt;\n      finish\n    &lt;/beforeenter&gt;\n    &lt;descprefix type=\"string\"&gt;&lt;/descprefix&gt;\n    &lt;usedefaultprefix type=\"boolean\"&gt;false&lt;/usedefaultprefix&gt;\n  &lt;/object&gt;\n&lt;/asl&gt;\n</code></pre>\n</details>\n\n",
      "PostDate": "2018-01-18T16:30:21.4445571Z",
      "LastEditDate": "2018-01-18T16:33:07.2219039Z",
      "link": null
    },
    {
      "PostId": "72b8e220-7448-4799-b463-25314e9be8ae",
      "UserId": 340011,
      "Username": "wooterslw",
      "AvatarUrl": "https://secure.gravatar.com/avatar/7d20dd39301d8b9be2be0abaf005968d?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Kick ass! That works beautifully. Thank you!",
      "EditableFormat": "markdown",
      "HTML": "<p>Kick ass! That works beautifully. Thank you!</p>\n\n",
      "PostDate": "2018-01-19T04:03:55.5894772Z",
      "LastEditDate": null,
      "link": null
    }
  ]
}
