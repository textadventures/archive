{
  "Topic": {
    "TopicId": "kexj-h_tmksvq9zfr2amew",
    "ForumId": "10",
    "Title": "Updating Money Status Attribute",
    "LastUpdated": "2020-08-30T00:59:05.4686662Z",
    "ReplyCount": 3
  },
  "Posts": [
    {
      "PostId": "857a4653-c2aa-44d6-8895-d6a3cfea6620",
      "UserId": 497820,
      "Username": "afehlbaum",
      "AvatarUrl": "https://secure.gravatar.com/avatar/6eaf0a0d1ab9a8fb5214e44c88f9fa26?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Hello! I am a sociology professor who  is trying to take a game I'd normally play using paper and make it virtual since I've been moved online due to the pandemic. It is a poverty and intersectionality simulation called \"The Game of Social Life\" by Kosha D. Bramesfeld. Students must strategize in order to get their character through stages of life. \r\n\r\nIn class, each person would get a character with a race, class, sex, sexuality, and socioeconomic status. There are 64 character options, but I am trying to start small and just aim for three so that I can figure out what I'm doing! I should note that I'm utilizing the web version because I'm using a Mac. \r\n\r\nThis is what I've done so far:\r\nThe student starts out in the room and the objects - money, wellness points, experience points, etc. - are explained. They enter their name and, in the process, are given a player number (1, 2, or 3 for now) at random. Once the player number is assigned, the game POV switches to that character and the student is given a certain amount of money credits as well as informed about their character's race, sex, sexuality, ability to vote, etc. I want the students to be able to see the information specific to them, so I set up a status attributes pane. \r\n\r\nThis is my game's start script:\r\n\r\nmsg (\"Welcome to the Game of Social Life! \")\r\nmsg (\"What is your name?\")\r\nget input {\r\n  player.alias = result\r\n  msg (\"Hi, {player.alias}.\")\r\n  msg (\"This is your player number:\")\r\n  player.number = GetRandomInt(1,3)\r\n  msg (player.number)\r\n  if (player.number=1) {\r\n    ChangePOV (one)\r\n    msg (\"You are playing as a heterosexual man. Your family was originally from China, but are now naturalized citizens. You have a strong social support system. You can vote. You are part of the M and Q social groups.\")\r\n    set (one, \"money\", 10)\r\n    set (one, \"Bonus\", 2)\r\n  }\r\n  else if (player.number=2) {\r\n    ChangePOV (two)\r\n    msg (\"You are playing the game as a gay man. You are White (of European descent) and your family members are citizens by birth. You have a weak social support system. You can vote. You are part of the P social group.\")\r\n    set (two, \"money\", 80)\r\n    set (two, \"Bonus\", 6)\r\n  }\r\n  else if (player.number=3) {\r\n    ChangePOV (three)\r\n    msg (\"You are playing as a heterosexual woman. You are a recent immigrant from Iran who is not yet a citizen. English is not spoken in your home. You have a strong social support system. You cannot vote. You are part of the N, Q and S social groups.\")\r\n    set (three, \"money\", 40)\r\n    set (three, \"Bonus\", 0)\r\n  }\r\n  msg (\"The first thing you need to do is find a place to live. Press the down (South) arrow on the compass to the right to start!\")\r\n  set (one, \"statusattributes\", NewStringDictionary())\r\n  dictionary add (one.statusattributes, \"vote\", \"Vote: Yes\")\r\n  dictionary add (one.statusattributes, \"social groups\", \"Social Groups: M Q\")\r\n  set (two, \"statusattributes\", NewStringDictionary())\r\n  dictionary add (two.statusattributes, \"vote\", \"Vote: Yes\")\r\n  dictionary add (two.statusattributes, \"social groups\", \"Social Groups: P\")\r\n  set (three, \"statusattributes\", NewStringDictionary())\r\n  dictionary add (three.statusattributes, \"vote\", \"Vote: No\")\r\n  dictionary add (three.statusattributes, \"social groups\", \"Social Groups: N Q S\")\r\n}\r\n\r\n---------\r\nI am satisfied that I am getting 1 of 3 characters assigned and that the information about the character's money, bonuses, vote, and social groups are all evident in the status attribute pane. \r\n\r\nIn the next room they choose which neighborhood they'd like to live in. I've attempted to set this up like a shop (following the directions here https://docs.textadventures.co.uk/quest/shop.html, and if I \"Buy neighborhood A,\" it does say that the requisite of money credit was used and will not allow me to buy the neighborhood if the character doesn't have enough credits. BUT the status attribute pane is not updated. \r\n\r\nI'm not sure what I need to do to make sure that the status attribute pane is updated. I do have the box checked for money (though I put ! credits as the value) under the player tab. \r\n\r\nAny help would be very much appreciated. I very much wish I was in the classroom!",
      "EditableFormat": "markdown",
      "HTML": "<p>Hello! I am a sociology professor who  is trying to take a game I'd normally play using paper and make it virtual since I've been moved online due to the pandemic. It is a poverty and intersectionality simulation called \"The Game of Social Life\" by Kosha D. Bramesfeld. Students must strategize in order to get their character through stages of life.</p>\n<p>In class, each person would get a character with a race, class, sex, sexuality, and socioeconomic status. There are 64 character options, but I am trying to start small and just aim for three so that I can figure out what I'm doing! I should note that I'm utilizing the web version because I'm using a Mac.</p>\n<p>This is what I've done so far:<br>\nThe student starts out in the room and the objects - money, wellness points, experience points, etc. - are explained. They enter their name and, in the process, are given a player number (1, 2, or 3 for now) at random. Once the player number is assigned, the game POV switches to that character and the student is given a certain amount of money credits as well as informed about their character's race, sex, sexuality, ability to vote, etc. I want the students to be able to see the information specific to them, so I set up a status attributes pane.</p>\n<p>This is my game's start script:</p>\n<p>msg (\"Welcome to the Game of Social Life! \")<br>\nmsg (\"What is your name?\")<br>\nget input {<br>\nplayer.alias = result<br>\nmsg (\"Hi, {player.alias}.\")<br>\nmsg (\"This is your player number:\")<br>\nplayer.number = GetRandomInt(1,3)<br>\nmsg (player.number)<br>\nif (player.number=1) {<br>\nChangePOV (one)<br>\nmsg (\"You are playing as a heterosexual man. Your family was originally from China, but are now naturalized citizens. You have a strong social support system. You can vote. You are part of the M and Q social groups.\")<br>\nset (one, \"money\", 10)<br>\nset (one, \"Bonus\", 2)<br>\n}<br>\nelse if (player.number=2) {<br>\nChangePOV (two)<br>\nmsg (\"You are playing the game as a gay man. You are White (of European descent) and your family members are citizens by birth. You have a weak social support system. You can vote. You are part of the P social group.\")<br>\nset (two, \"money\", 80)<br>\nset (two, \"Bonus\", 6)<br>\n}<br>\nelse if (player.number=3) {<br>\nChangePOV (three)<br>\nmsg (\"You are playing as a heterosexual woman. You are a recent immigrant from Iran who is not yet a citizen. English is not spoken in your home. You have a strong social support system. You cannot vote. You are part of the N, Q and S social groups.\")<br>\nset (three, \"money\", 40)<br>\nset (three, \"Bonus\", 0)<br>\n}<br>\nmsg (\"The first thing you need to do is find a place to live. Press the down (South) arrow on the compass to the right to start!\")<br>\nset (one, \"statusattributes\", NewStringDictionary())<br>\ndictionary add (one.statusattributes, \"vote\", \"Vote: Yes\")<br>\ndictionary add (one.statusattributes, \"social groups\", \"Social Groups: M Q\")<br>\nset (two, \"statusattributes\", NewStringDictionary())<br>\ndictionary add (two.statusattributes, \"vote\", \"Vote: Yes\")<br>\ndictionary add (two.statusattributes, \"social groups\", \"Social Groups: P\")<br>\nset (three, \"statusattributes\", NewStringDictionary())<br>\ndictionary add (three.statusattributes, \"vote\", \"Vote: No\")<br>\ndictionary add (three.statusattributes, \"social groups\", \"Social Groups: N Q S\")<br>\n}</p>\n<hr>\n<p>I am satisfied that I am getting 1 of 3 characters assigned and that the information about the character's money, bonuses, vote, and social groups are all evident in the status attribute pane.</p>\n<p>In the next room they choose which neighborhood they'd like to live in. I've attempted to set this up like a shop (following the directions here https://docs.textadventures.co.uk/quest/shop.html, and if I \"Buy neighborhood A,\" it does say that the requisite of money credit was used and will not allow me to buy the neighborhood if the character doesn't have enough credits. BUT the status attribute pane is not updated.</p>\n<p>I'm not sure what I need to do to make sure that the status attribute pane is updated. I do have the box checked for money (though I put ! credits as the value) under the player tab.</p>\n<p>Any help would be very much appreciated. I very much wish I was in the classroom!</p>\n\n",
      "PostDate": "2020-08-30T00:59:05.4686662Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "1479d1fa-7c0e-4a30-850a-5a1bb8082f2e",
      "UserId": 317055,
      "Username": "n b",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "are you using something like:\r\n    \r\n    money = getInt(game.pov, \"money\")\r\n    money = money - 1\r\n    set (game.pov, \"money\", money)\r\n\r\nor \r\n\r\n    DecreaseMoney (1)\r\n\r\nto handle the money?",
      "EditableFormat": "markdown",
      "HTML": "<p>are you using something like:</p>\n<pre><code>money = getInt(game.pov, \"money\")\nmoney = money - 1\nset (game.pov, \"money\", money)\n</code></pre>\n<p>or</p>\n<pre><code>DecreaseMoney (1)\n</code></pre>\n<p>to handle the money?</p>\n\n",
      "PostDate": "2020-10-06T22:38:33.8628443Z",
      "LastEditDate": "2020-10-07T07:41:55.8405171Z",
      "link": null
    },
    {
      "PostId": "93af8542-e989-4c65-aae2-eee23fcc391e",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "The shop script you use linked uses `player` to refer to the player object. This will only work if the player object is named `player`.\r\n\r\nIt changes the money of the `player` objeect, even if the player is currently controlling the characters `one`, `two`, or `three`.\r\n\r\nTo make it work on a game which has multiple playable characters, you need to change all places in the code where it says `player.`to say `game.pov.` instead. (The attribute `game.pov` is used internally to refer to the object that the player is currently controlling).",
      "EditableFormat": "markdown",
      "HTML": "<p>The shop script you use linked uses <code>player</code> to refer to the player object. This will only work if the player object is named <code>player</code>.</p>\n<p>It changes the money of the <code>player</code> objeect, even if the player is currently controlling the characters <code>one</code>, <code>two</code>, or <code>three</code>.</p>\n<p>To make it work on a game which has multiple playable characters, you need to change all places in the code where it says <code>player.</code>to say <code>game.pov.</code> instead. (The attribute <code>game.pov</code> is used internally to refer to the object that the player is currently controlling).</p>\n\n",
      "PostDate": "2020-10-07T00:08:16.3998848Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "d26e0352-c5aa-428b-80a5-4b6a59e3baca",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "(This is why when I'm providing code samples on the forum, I *always* use `game.pov`. Because if my code works for the person I'm helping, but someone else finds the post later and uses it on a game with selectable player characters, I want it to still work. Using `player` in code is a bad habit to get into, and using it in libraries like that shop library is one place where it should certainly be done properly)",
      "EditableFormat": "markdown",
      "HTML": "<p>(This is why when I'm providing code samples on the forum, I <em>always</em> use <code>game.pov</code>. Because if my code works for the person I'm helping, but someone else finds the post later and uses it on a game with selectable player characters, I want it to still work. Using <code>player</code> in code is a bad habit to get into, and using it in libraries like that shop library is one place where it should certainly be done properly)</p>\n\n",
      "PostDate": "2020-10-07T00:12:16.6192417Z",
      "LastEditDate": null,
      "link": null
    }
  ]
}
