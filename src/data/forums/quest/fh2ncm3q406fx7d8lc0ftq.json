{
  "Topic": {
    "TopicId": "fh2ncm3q406fx7d8lc0ftq",
    "ForumId": "10",
    "Title": "Keep NPC unconscious ",
    "LastUpdated": "2018-07-08T14:44:33.1632026Z",
    "ReplyCount": 0
  },
  "Posts": [
    {
      "PostId": "8dbb9114-d84d-47ac-bab4-353cc926ac36",
      "UserId": 367153,
      "Username": "Repanon",
      "AvatarUrl": "https://secure.gravatar.com/avatar/f7fe4ccdb54a8ea1695ad1c7742a3632?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "I'm not scripting correctly after my players knocks out a NPC. I already have the fight COMMANDS , but once the NPC is down how do I stop the fight commands and just have the(you already did that message) so you can't keep inputting fight commands on a downed foe?\r\nThis is for a texted based game. Thanks.",
      "EditableFormat": "markdown",
      "HTML": "<p>I'm not scripting correctly after my players knocks out a NPC. I already have the fight COMMANDS , but once the NPC is down how do I stop the fight commands and just have the(you already did that message) so you can't keep inputting fight commands on a downed foe?<br>\nThis is for a texted based game. Thanks.</p>\n\n",
      "PostDate": "2018-07-08T14:44:33.1632026Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "c1941502-13ce-4fbd-98f0-f8f96de6d9d2",
      "UserId": 301690,
      "Username": "Richard Headkid",
      "AvatarUrl": "http://i.imgur.com/WUGXS8yb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Hello.\r\n\r\nHave you completed the tutorial?\r\n\r\nhttp://docs.textadventures.co.uk/quest/tutorial/tutorial_introduction.html\r\n\r\n---\r\nIt teaches us how to do exactly what you're inquiring about.",
      "EditableFormat": "markdown",
      "HTML": "<p>Hello.</p>\n<p>Have you completed the tutorial?</p>\n<p>http://docs.textadventures.co.uk/quest/tutorial/tutorial_introduction.html</p>\n<hr>\n<p>It teaches us how to do exactly what you're inquiring about.</p>\n\n",
      "PostDate": "2018-07-08T16:34:36.6328781Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "50ed41c3-8cc9-41cc-a47c-7a46e64ce4a3",
      "UserId": 263865,
      "Username": "NecroDeath",
      "AvatarUrl": "http://i.imgur.com/1w7HHAhb.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Just a guess here but something like..\r\n\r\nPut object flag on NPC when they are knocked out. Then put fight command in IF table that checks for object flag?\r\n\r\nOr swap NPC for different object ‘unconscious NPC’ and set different command/s for that object.",
      "EditableFormat": "markdown",
      "HTML": "<p>Just a guess here but something like..</p>\n<p>Put object flag on NPC when they are knocked out. Then put fight command in IF table that checks for object flag?</p>\n<p>Or swap NPC for different object ‘unconscious NPC’ and set different command/s for that object.</p>\n\n",
      "PostDate": "2018-07-08T16:35:45.7264615Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "ca329e44-d797-4a02-b1c7-cd474a693708",
      "UserId": 56551,
      "Username": "XanMag",
      "AvatarUrl": "https://secure.gravatar.com/avatar/4b45a3afd18077f76f6569225c422bdb?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": ">Or swap NPC for different object ‘unconscious NPC’ and set different command/s for that object.\r\n\r\nI second this.  Nice and easy.",
      "EditableFormat": "markdown",
      "HTML": "<blockquote>\n<p>Or swap NPC for different object ‘unconscious NPC’ and set different command/s for that object.</p>\n</blockquote>\n<p>I second this.  Nice and easy.</p>\n\n",
      "PostDate": "2018-07-08T17:43:54.6775222Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "56b21d54-7e70-4537-b866-f996e27a616c",
      "UserId": 367153,
      "Username": "Repanon",
      "AvatarUrl": "https://secure.gravatar.com/avatar/f7fe4ccdb54a8ea1695ad1c7742a3632?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Thanks for the help so quickly folks. I went through the tutorial, I think it's just me(user error).\r\nI found a way around it using the FIRST script. I'm just having problems with the IF script. It may be how I am setting up the Commands or something.\r\nI LOVE the program though. Been wanting to do interactive gaming for sometime. ",
      "EditableFormat": "markdown",
      "HTML": "<p>Thanks for the help so quickly folks. I went through the tutorial, I think it's just me(user error).<br>\nI found a way around it using the FIRST script. I'm just having problems with the IF script. It may be how I am setting up the Commands or something.<br>\nI LOVE the program though. Been wanting to do interactive gaming for sometime.</p>\n\n",
      "PostDate": "2018-07-08T20:06:57.953409Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "f39e2e99-efc4-4000-8ec2-0c2d996b5e50",
      "UserId": 56551,
      "Username": "XanMag",
      "AvatarUrl": "https://secure.gravatar.com/avatar/4b45a3afd18077f76f6569225c422bdb?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "I like to use the IF script and do IF object has flag (name), then do xyz.  Else do abc.\r\n\r\nUse this in conjunction with a set flag script and your good to go!\r\n\r\nAsk if you’ve got questions!\r\n\r\nHappy gaming!",
      "EditableFormat": "markdown",
      "HTML": "<p>I like to use the IF script and do IF object has flag (name), then do xyz.  Else do abc.</p>\n<p>Use this in conjunction with a set flag script and your good to go!</p>\n<p>Ask if you’ve got questions!</p>\n<p>Happy gaming!</p>\n\n",
      "PostDate": "2018-07-08T20:10:54.5846046Z",
      "LastEditDate": "2018-07-08T20:30:58.7526319Z",
      "link": null
    },
    {
      "PostId": "c8798697-bec4-4daa-8daf-fd58fce30419",
      "UserId": 263865,
      "Username": "NecroDeath",
      "AvatarUrl": "http://i.imgur.com/1w7HHAhb.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "You’re welcome, good luck with the game!",
      "EditableFormat": "markdown",
      "HTML": "<p>You’re welcome, good luck with the game!</p>\n\n",
      "PostDate": "2018-07-08T20:30:21.8043088Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "300a33af-b56d-4e2c-ac2e-c3a69633c1f5",
      "UserId": 247325,
      "Username": "hegemonkhan",
      "AvatarUrl": "https://secure.gravatar.com/avatar/a96cf34d8d97c57de38f54ee22b1759b?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "(filler for getting my edited post, updated/posted)\r\n\r\n--------------------\r\n\r\na \"simple\" example:\r\n\r\n```\r\n<object name=\"room\">\r\n\r\n  <inherit name=\"editor_room\" />\r\n\r\n</object>\r\n\r\n<object name=\"player\">\r\n\r\n  <inherit name=\"editor_object\" />\r\n  <inherit name=\"editor_player\" />\r\n\r\n  <attr name=\"parent\" type=\"object\">room</attr>\r\n\r\n</object>\r\n\r\n<object name=\"orc_1_npc\">\r\n\r\n  <inherit name=\"editor_object\" />\r\n\r\n  <attr name=\"parent\" type=\"object\">room</attr>\r\n\r\n  <attr name=\"alias\" type=\"string\">orc</attr>\r\n\r\n  <attr name=\"condition\" type=\"string\">normal</attr>\r\n\r\n  <attr name=\"attack\" type=\"script\">\r\n\r\n    if (this.condition = \"unconscious\") {\r\n\r\n      msg (\"The \" + this.alias + \" is \" + this.condition + \", silly\")\r\n\r\n    } else {\r\n\r\n      // you'll want your combat scripting stuff here, instead of my simple 'msg' script below:\r\n      msg (\"You attack the \" + this.alias + \", killing it\")\r\n\r\n      this.condition = \"unconscious\" // setting the orc as being 'unconscious'\r\n\r\n    }\r\n\r\n  </attr>\r\n\r\n</object>\r\n\r\n<verb>\r\n  <property>attack</property>\r\n  <pattern>attack</pattern>\r\n  <defaultexpression>You can't attack that!</defaultexpression>\r\n</verb>\r\n\r\n<command name=\"fight_command\">\r\n\r\n  <pattern>fight #object#</pattern>\r\n\r\n  <script>\r\n\r\n    objectlist_variable = NewObjectList ()\r\n\r\n    if (object = null) {\r\n      string_variable = ToString (object)\r\n      foreach (object_variable, ScopeReachable ())\r\n        if (object_variable.alias = string_variable) {\r\n          list add (objectlist_variable, object_variable)\r\n        }\r\n      }\r\n    } else {\r\n      list add (objectlist_variable, object)\r\n    }\r\n\r\n    if (ListCount (object_variable) = 0) {\r\n      do (this, \"unresolved\")\r\n    } else {\r\n      integer_variable = 0\r\n      foreach (object_variable, objectlist_variable) {\r\n        if (HasScript (object_variable, \"attack\")) {\r\n          integer_variable = integer_variable + 1\r\n          string_variable = object_variable.alias\r\n          ask (\"Attack the \" + string_variable + \"?\") {\r\n            if (result) {\r\n              do (object_variable, \"attack\")\r\n            }\r\n          }\r\n        }\r\n      }\r\n      on ready {\r\n        if (integer_variable = 0) {\r\n          msg (\"Wrong input: you can't fight that\")\r\n        }\r\n      }\r\n    }\r\n\r\n  </script>\r\n\r\n  <unresolved>Wrong input: can't find inputted object within the current room</unresolved>\r\n\r\n</command>\r\n```",
      "EditableFormat": "markdown",
      "HTML": "<p>(filler for getting my edited post, updated/posted)</p>\n<hr>\n<p>a \"simple\" example:</p>\n<pre><code>&lt;object name=\"room\"&gt;\n\n  &lt;inherit name=\"editor_room\" /&gt;\n\n&lt;/object&gt;\n\n&lt;object name=\"player\"&gt;\n\n  &lt;inherit name=\"editor_object\" /&gt;\n  &lt;inherit name=\"editor_player\" /&gt;\n\n  &lt;attr name=\"parent\" type=\"object\"&gt;room&lt;/attr&gt;\n\n&lt;/object&gt;\n\n&lt;object name=\"orc_1_npc\"&gt;\n\n  &lt;inherit name=\"editor_object\" /&gt;\n\n  &lt;attr name=\"parent\" type=\"object\"&gt;room&lt;/attr&gt;\n\n  &lt;attr name=\"alias\" type=\"string\"&gt;orc&lt;/attr&gt;\n\n  &lt;attr name=\"condition\" type=\"string\"&gt;normal&lt;/attr&gt;\n\n  &lt;attr name=\"attack\" type=\"script\"&gt;\n\n    if (this.condition = \"unconscious\") {\n\n      msg (\"The \" + this.alias + \" is \" + this.condition + \", silly\")\n\n    } else {\n\n      // you'll want your combat scripting stuff here, instead of my simple 'msg' script below:\n      msg (\"You attack the \" + this.alias + \", killing it\")\n\n      this.condition = \"unconscious\" // setting the orc as being 'unconscious'\n\n    }\n\n  &lt;/attr&gt;\n\n&lt;/object&gt;\n\n&lt;verb&gt;\n  &lt;property&gt;attack&lt;/property&gt;\n  &lt;pattern&gt;attack&lt;/pattern&gt;\n  &lt;defaultexpression&gt;You can't attack that!&lt;/defaultexpression&gt;\n&lt;/verb&gt;\n\n&lt;command name=\"fight_command\"&gt;\n\n  &lt;pattern&gt;fight #object#&lt;/pattern&gt;\n\n  &lt;script&gt;\n\n    objectlist_variable = NewObjectList ()\n\n    if (object = null) {\n      string_variable = ToString (object)\n      foreach (object_variable, ScopeReachable ())\n        if (object_variable.alias = string_variable) {\n          list add (objectlist_variable, object_variable)\n        }\n      }\n    } else {\n      list add (objectlist_variable, object)\n    }\n\n    if (ListCount (object_variable) = 0) {\n      do (this, \"unresolved\")\n    } else {\n      integer_variable = 0\n      foreach (object_variable, objectlist_variable) {\n        if (HasScript (object_variable, \"attack\")) {\n          integer_variable = integer_variable + 1\n          string_variable = object_variable.alias\n          ask (\"Attack the \" + string_variable + \"?\") {\n            if (result) {\n              do (object_variable, \"attack\")\n            }\n          }\n        }\n      }\n      on ready {\n        if (integer_variable = 0) {\n          msg (\"Wrong input: you can't fight that\")\n        }\n      }\n    }\n\n  &lt;/script&gt;\n\n  &lt;unresolved&gt;Wrong input: can't find inputted object within the current room&lt;/unresolved&gt;\n\n&lt;/command&gt;\n</code></pre>\n\n",
      "PostDate": "2018-07-09T03:09:23.4645344Z",
      "LastEditDate": "2018-07-09T03:24:42.8498264Z",
      "link": null
    },
    {
      "PostId": "b5d30295-3e5c-471a-b82e-25085cfe6bd5",
      "UserId": 367153,
      "Username": "Repanon",
      "AvatarUrl": "https://secure.gravatar.com/avatar/f7fe4ccdb54a8ea1695ad1c7742a3632?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Thanks! That's great !",
      "EditableFormat": "markdown",
      "HTML": "<p>Thanks! That's great !</p>\n\n",
      "PostDate": "2018-07-09T04:51:46.186202Z",
      "LastEditDate": null,
      "link": null
    }
  ]
}
