{
  "Topic": {
    "TopicId": "5956",
    "ForumId": "10",
    "Title": "Creating an exit by action",
    "LastUpdated": "2016-02-17T20:56:16+00:00",
    "ReplyCount": 6
  },
  "Posts": [
    {
      "PostId": "41205",
      "UserId": 0,
      "Username": "Enju",
      "UserAvatar": null,
      "UserGravatar": "722df5d1b3e3d65f7ca553c223984199",
      "EditableText": "I tried to find something similar in the tutorial/documentation but can't get behind it.\nBasically what I am trying to do is making an iron door that creates an exit when you &quot;kick it in&quot;, I tried to make it so that if you &quot;Push&quot; the door you get the question/reply that the door won't be opened from simply pushing, but you could try to kick it so it might move.\nNow, I searched for an hour, how can I create a &quot;Question&quot;(Yes/No) and then run a message and a script to unlock the door?",
      "EditableFormat": "bbcode",
      "HTML": "I tried to find something similar in the tutorial/documentation but can't get behind it.<br/>Basically what I am trying to do is making an iron door that creates an exit when you &quot;kick it in&quot;, I tried to make it so that if you &quot;Push&quot; the door you get the question/reply that the door won't be opened from simply pushing, but you could try to kick it so it might move.<br/>Now, I searched for an hour, how can I create a &quot;Question&quot;(Yes/No) and then run a message and a script to unlock the door?",
      "PostDate": "2016-02-13T15:28:53+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "41206",
      "UserId": 0,
      "Username": "XanMag",
      "UserAvatar": "7161_1436827710.jpg",
      "UserGravatar": "4b45a3afd18077f76f6569225c422bdb",
      "EditableText": "[quote=&quot;Enju&quot;:r2zyxw2r] how can I create a &quot;Question&quot;(Yes/No) and then run a message and a script to unlock the door?[/quote:r2zyxw2r]\n\nYou want to produce a yes/no question in response to trying to push the door open?  Like... &quot;You try to push the door open but you realize that won't do.  Would you like to try and kick the door down?&quot;\n\nAnd if the player responds with &quot;yes&quot;, the door will unlock?\n\nBefore I offer the solution, I want to make sure I have the scenario correct.  So, is that what you want?",
      "EditableFormat": "bbcode",
      "HTML": "<blockquote><cite>Enju wrote:</cite> how can I create a &quot;Question&quot;(Yes/No) and then run a message and a script to unlock the door?</blockquote><br/><br/>You want to produce a yes/no question in response to trying to push the door open?  Like... &quot;You try to push the door open but you realize that won't do.  Would you like to try and kick the door down?&quot;<br/><br/>And if the player responds with &quot;yes&quot;, the door will unlock?<br/><br/>Before I offer the solution, I want to make sure I have the scenario correct.  So, is that what you want?",
      "PostDate": "2016-02-13T15:41:13+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "41221",
      "UserId": 0,
      "Username": "Cylius_Optimi",
      "UserAvatar": null,
      "UserGravatar": "5cb0ff0b9a56ea169c5ff4f1be92e44f",
      "EditableText": "You could achieve your desired effect like so:\nExit (direction):\n[code:2lwdyo9o]Name&#58; door\nLocked&#58; True\nRun a Script (instead of moving the player automatically)&#58;\nif (this&#46;locked) {\n  msg (&quot;You try to push the door open but you realize that won't do&#46; Would you like to try and {command&#58;kick the door down}?&quot;)\n} else {\n  MoveObject (game&#46;pov, this&#46;to)\n}[/code:2lwdyo9o]\nLocal room command (Kick in Door):\n[code:2lwdyo9o]Pattern&#58; &quot;kick door; kick the door; kick in door; kick in the door; kick the door in; kick down door; kick down the door; kick the door down&quot;\n\nScript&#058; \nif (this&#46;locked) {\n  msg (&quot;You kick the door with everything you've got&#46; It comes off of its hinges with a snap and a spray of splinters&#46;&quot;)\n  this&#46;locked = false\n} else {\n  msg (&quot;You've already kicked down the door&#46;&quot;)\n}[/code:2lwdyo9o]\n\nHow does this work? First, you have a named exit - it having a name is crucial; the name itself doesn't matter, I just picked 'door'. Without a name, you can't unlock it. Second, you have a command inside the room with the exit; if it's at the top, with the rest of the commands, the player could just &quot;kick down the door&quot; from anywhere - even across the world!\n\nWhen the exit is locked, it won't let you go through; instead, it'll ask if you want to kick the door down. The {command} bit tells the parser to insert a clickable link; if the player clicks the link, it will run the command you made, and unlock the door.\n\nHope this helped.",
      "EditableFormat": "bbcode",
      "HTML": "You could achieve your desired effect like so:<br/>Exit (direction):<br/><pre><code>Name&#58; door<br/>Locked&#58; True<br/>Run a Script (instead of moving the player automatically)&#58;<br/>if (this&#46;locked) {<br/>  msg (&quot;You try to push the door open but you realize that won't do&#46; Would you like to try and {command&#58;kick the door down}?&quot;)<br/>} else {<br/>  MoveObject (game&#46;pov, this&#46;to)<br/>}</code></pre><br/>Local room command (Kick in Door):<br/><pre><code>Pattern&#58; &quot;kick door; kick the door; kick in door; kick in the door; kick the door in; kick down door; kick down the door; kick the door down&quot;<br/><br/>Script&#058; <br/>if (this&#46;locked) {<br/>  msg (&quot;You kick the door with everything you've got&#46; It comes off of its hinges with a snap and a spray of splinters&#46;&quot;)<br/>  this&#46;locked = false<br/>} else {<br/>  msg (&quot;You've already kicked down the door&#46;&quot;)<br/>}</code></pre><br/><br/>How does this work? First, you have a named exit - it having a name is crucial; the name itself doesn't matter, I just picked 'door'. Without a name, you can't unlock it. Second, you have a command inside the room with the exit; if it's at the top, with the rest of the commands, the player could just &quot;kick down the door&quot; from anywhere - even across the world!<br/><br/>When the exit is locked, it won't let you go through; instead, it'll ask if you want to kick the door down. The {command} bit tells the parser to insert a clickable link; if the player clicks the link, it will run the command you made, and unlock the door.<br/><br/>Hope this helped.",
      "PostDate": "2016-02-14T01:23:10+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "41226",
      "UserId": 0,
      "Username": "Enju",
      "UserAvatar": null,
      "UserGravatar": "722df5d1b3e3d65f7ca553c223984199",
      "EditableText": "[quote=&quot;XanMag&quot;:e7p40h3a]You want to produce a yes/no question in response to trying to push the door open?  Like... &quot;You try to push the door open but you realize that won't do.  Would you like to try and kick the door down?&quot;\n\nAnd if the player responds with &quot;yes&quot;, the door will unlock?\n\nBefore I offer the solution, I want to make sure I have the scenario correct.  So, is that what you want?[/quote:e7p40h3a]\nYes, that's what I want, can't get around how to do it, there's more to it than simply opening the door, but creating that yes no question is what I really can't get behind",
      "EditableFormat": "bbcode",
      "HTML": "<blockquote><cite>XanMag wrote:</cite>You want to produce a yes/no question in response to trying to push the door open?  Like... &quot;You try to push the door open but you realize that won't do.  Would you like to try and kick the door down?&quot;<br/><br/>And if the player responds with &quot;yes&quot;, the door will unlock?<br/><br/>Before I offer the solution, I want to make sure I have the scenario correct.  So, is that what you want?</blockquote><br/>Yes, that's what I want, can't get around how to do it, there's more to it than simply opening the door, but creating that yes no question is what I really can't get behind",
      "PostDate": "2016-02-14T10:12:12+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "41228",
      "UserId": 0,
      "Username": "HegemonKhan",
      "UserAvatar": null,
      "UserGravatar": "a96cf34d8d97c57de38f54ee22b1759b",
      "EditableText": "there's some different ways of implementing what you want, but here's the basic syntax of your two questions:\n\n(yes, this is as code, the other posters can help you with implementing it however you want through using the GUI~Editor, if you don't know how to code)\n\n--------------------\n\nCreating an Exit via Scripting:\n\n<!-- m --><a class=\"postlink\" href=\"http://docs.textadventures.co.uk/quest/scripts/create_exit.html\">http://docs.textadventures.co.uk/quest/ ... _exit.html</a><!-- m -->\n\nexample:\n\ncreate exit (&quot;exit1A&quot;, &quot;doorway&quot;, room1, room2, &quot;northdirection&quot;)\ncreate exit (&quot;exit1B&quot;, &quot;doorway&quot;, room2, room1, &quot;southdirection&quot;)\n\n---------------------\n\nthe 'ask' Script~Function (not the 'ask' Verb/Command, that's something else entirely):\n\n<!-- m --><a class=\"postlink\" href=\"http://docs.textadventures.co.uk/quest/scripts/ask.html\">http://docs.textadventures.co.uk/quest/scripts/ask.html</a><!-- m -->\n\n'ask' is the popup window menu version of it\n'Ask' is the in-line (in the big text box area on the left side) version of it\n\n(note that it is ONLY a 'yes/no' dualism/binary option choice, so you need to write your question message reflecting this aspect, thus, if you want more option choices than the limitation of dualism/binary of 'yes/no' option choices, then don't use this 'ask' Script~Function)\n\nan example of its syntax:\n\n[code:21vlw4gc]ask (&quot;Are you a male?&quot;) {\n  if (result) {\n    msg (&quot;Ah, so you are a male&#46;&quot;)\n  } else {\n    msg (&quot;Oh, you're not a male&#46;&quot;)\n  }\n}[/code:21vlw4gc]\n\nthe 'ask' Script~Function, automatically (hidden from you), sets (is assigned to 'result' Variable):\n\nresult = true\n~OR~\nresult = false\n\nif you chose 'yes', it converts that to the boolean flag keyword: true, which is as seen above, is assigned to the Variable: result, as shown above\nif you chose 'no', it converts that to the boolean flag keyword: false, which is as seen above, is assigned to the Variable: result, as shown above\n\nso...\n\nif (result) -&gt; is the short-hand syntax for: if (result = true) -&gt; which is conceptually:\n\nif (true = true) -&gt; TRUE -&gt; run the nested scripts for this condition\n~OR~\nif (false = true) -&gt; FALSE -&gt; (if there's no 'else ifs' to check) -&gt; (go to the 'else' condition, if there is one) -&gt; run the nested scripts for the 'else' condition",
      "EditableFormat": "bbcode",
      "HTML": "there's some different ways of implementing what you want, but here's the basic syntax of your two questions:<br/><br/>(yes, this is as code, the other posters can help you with implementing it however you want through using the GUI~Editor, if you don't know how to code)<br/><br/>--------------------<br/><br/>Creating an Exit via Scripting:<br/><br/><!-- m --><a class=\"postlink\" href=\"http://docs.textadventures.co.uk/quest/scripts/create_exit.html\">http://docs.textadventures.co.uk/quest/ ... _exit.html</a><!-- m --><br/><br/>example:<br/><br/>create exit (&quot;exit1A&quot;, &quot;doorway&quot;, room1, room2, &quot;northdirection&quot;)<br/>create exit (&quot;exit1B&quot;, &quot;doorway&quot;, room2, room1, &quot;southdirection&quot;)<br/><br/>---------------------<br/><br/>the 'ask' Script~Function (not the 'ask' Verb/Command, that's something else entirely):<br/><br/><!-- m --><a class=\"postlink\" href=\"http://docs.textadventures.co.uk/quest/scripts/ask.html\">http://docs.textadventures.co.uk/quest/scripts/ask.html</a><!-- m --><br/><br/>'ask' is the popup window menu version of it<br/>'Ask' is the in-line (in the big text box area on the left side) version of it<br/><br/>(note that it is ONLY a 'yes/no' dualism/binary option choice, so you need to write your question message reflecting this aspect, thus, if you want more option choices than the limitation of dualism/binary of 'yes/no' option choices, then don't use this 'ask' Script~Function)<br/><br/>an example of its syntax:<br/><br/><pre><code>ask (&quot;Are you a male?&quot;) {<br/>  if (result) {<br/>    msg (&quot;Ah, so you are a male&#46;&quot;)<br/>  } else {<br/>    msg (&quot;Oh, you're not a male&#46;&quot;)<br/>  }<br/>}</code></pre><br/><br/>the 'ask' Script~Function, automatically (hidden from you), sets (is assigned to 'result' Variable):<br/><br/>result = true<br/>~OR~<br/>result = false<br/><br/>if you chose 'yes', it converts that to the boolean flag keyword: true, which is as seen above, is assigned to the Variable: result, as shown above<br/>if you chose 'no', it converts that to the boolean flag keyword: false, which is as seen above, is assigned to the Variable: result, as shown above<br/><br/>so...<br/><br/>if (result) -&gt; is the short-hand syntax for: if (result = true) -&gt; which is conceptually:<br/><br/>if (true = true) -&gt; TRUE -&gt; run the nested scripts for this condition<br/>~OR~<br/>if (false = true) -&gt; FALSE -&gt; (if there's no 'else ifs' to check) -&gt; (go to the 'else' condition, if there is one) -&gt; run the nested scripts for the 'else' condition",
      "PostDate": "2016-02-14T13:38:24+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "41232",
      "UserId": 0,
      "Username": "XanMag",
      "UserAvatar": "7161_1436827710.jpg",
      "UserGravatar": "4b45a3afd18077f76f6569225c422bdb",
      "EditableText": "I have attached the .aslx file if you need to download it and look at it in the GUI.\n\nBut, here are the steps I used:\n\n1.  Make a door object.  Choose whether to make it 'scenery' or not.  I did not.\n2.  Add an 'IF' script for the door description.  Select 'object does not have flag' and set the object to door and type in kicked in the flag name box.\n3.  Add a print message script to describe the door.  \n4.  In the 'Else' part of this script, add a print message script and describe the door once it is kicked in.\n5.  Go to the 'verbs' tab of the door and add push.  Print a message to describe your push action.\n6.  Add kick to the verbs list.  Add an 'If' script.   Select 'object does not have flag' and set the object to door and type in kicked in the flag name box.\n7.  Add a print message script asking the question &quot;It looks pretty formidable.  Are you sure you want to try and kick this door?&quot;\n8.  Add a 'Get Input' script.  In the then Run Script section of this box, add a 'Switch' script.\n8.  In the 'Switch' script type this --&gt; LCase(result)\n9.  Click 'Add Case' and type something like this in:  &quot;yes&quot;,&quot;yeah&quot;,&quot;yep&quot;,&quot;yea&quot;,&quot;y&quot;\n10.  In this new box that pops up, add an 'If' script.  Select 'object does not have flag' and set the object to door and type in kicked in the flag name box.\n11.  Add a print message script describing your 'kick'.  Also add a 'Set object flag' script and set the object door and type in kicked in the flag name box.\n12.  In the 'Else' part of this script add some snarky comment about kicking the door again.\n13.  Close the box and add another 'case' to the switch script.  I typed in this:  &quot;no&quot;,&quot;nope&quot;,&quot;nay&quot;,&quot;n&quot;,&quot;nah&quot;\n14.  In this box, run a print message script indicating that the player changed their mind to kick the door.\n15.  In the default of the 'switch' script add a message indicating that the input wasn't understood or some other message about not answering the question.\n---\n16.  I added a 'push' verb to the door and printed a message saying pushing the door didn't work and suggesting a more &quot;forceful&quot; approach.  Be sure to add an 'If' script here too so the player doesn't try to push an already kicked in door!\n---\n17.  I created an exit to the room (that is being blocked by the door) as I normally would.  But there is a little box there that says 'Run a script instead of moving the player automatically'.  Click that.\n18.  Run an 'If' script and select 'object does not have flag' and set the object to door and type kicked in the flag name box.\n19.  In the 'then' part of this script, print a message stating that there is a heavy door blocking your path.\n20.  In the 'Else' part of this script, print a message (if you wish) saying that the player walks past the busted door and in to the next room.\n21.  Lastly, run a 'move object' script and set the object to 'player' (or whatever your player name is) and select object room2 (or whatever name the exit leads to)\n\nIf you have any questions, let me know.  I did this without proofreading it, so let me know if the steps aren't clear or are inaccurate!  Good luck!\n\n[attachment=0:3o90vn0p]<!-- ia0 -->Exit with switch.aslx<!-- ia0 -->[/attachment:3o90vn0p]",
      "EditableFormat": "bbcode",
      "HTML": "I have attached the .aslx file if you need to download it and look at it in the GUI.<br/><br/>But, here are the steps I used:<br/><br/>1.  Make a door object.  Choose whether to make it 'scenery' or not.  I did not.<br/>2.  Add an 'IF' script for the door description.  Select 'object does not have flag' and set the object to door and type in kicked in the flag name box.<br/>3.  Add a print message script to describe the door.  <br/>4.  In the 'Else' part of this script, add a print message script and describe the door once it is kicked in.<br/>5.  Go to the 'verbs' tab of the door and add push.  Print a message to describe your push action.<br/>6.  Add kick to the verbs list.  Add an 'If' script.   Select 'object does not have flag' and set the object to door and type in kicked in the flag name box.<br/>7.  Add a print message script asking the question &quot;It looks pretty formidable.  Are you sure you want to try and kick this door?&quot;<br/>8.  Add a 'Get Input' script.  In the then Run Script section of this box, add a 'Switch' script.<br/>8.  In the 'Switch' script type this --&gt; LCase(result)<br/>9.  Click 'Add Case' and type something like this in:  &quot;yes&quot;,&quot;yeah&quot;,&quot;yep&quot;,&quot;yea&quot;,&quot;y&quot;<br/>10.  In this new box that pops up, add an 'If' script.  Select 'object does not have flag' and set the object to door and type in kicked in the flag name box.<br/>11.  Add a print message script describing your 'kick'.  Also add a 'Set object flag' script and set the object door and type in kicked in the flag name box.<br/>12.  In the 'Else' part of this script add some snarky comment about kicking the door again.<br/>13.  Close the box and add another 'case' to the switch script.  I typed in this:  &quot;no&quot;,&quot;nope&quot;,&quot;nay&quot;,&quot;n&quot;,&quot;nah&quot;<br/>14.  In this box, run a print message script indicating that the player changed their mind to kick the door.<br/>15.  In the default of the 'switch' script add a message indicating that the input wasn't understood or some other message about not answering the question.<br/>---<br/>16.  I added a 'push' verb to the door and printed a message saying pushing the door didn't work and suggesting a more &quot;forceful&quot; approach.  Be sure to add an 'If' script here too so the player doesn't try to push an already kicked in door!<br/>---<br/>17.  I created an exit to the room (that is being blocked by the door) as I normally would.  But there is a little box there that says 'Run a script instead of moving the player automatically'.  Click that.<br/>18.  Run an 'If' script and select 'object does not have flag' and set the object to door and type kicked in the flag name box.<br/>19.  In the 'then' part of this script, print a message stating that there is a heavy door blocking your path.<br/>20.  In the 'Else' part of this script, print a message (if you wish) saying that the player walks past the busted door and in to the next room.<br/>21.  Lastly, run a 'move object' script and set the object to 'player' (or whatever your player name is) and select object room2 (or whatever name the exit leads to)<br/><br/>If you have any questions, let me know.  I did this without proofreading it, so let me know if the steps aren't clear or are inaccurate!  Good luck!<br/><br/><div><a href=\"/forumattachments/1499/Exit with switch.aslx\">Exit with switch.aslx</a></div>",
      "PostDate": "2016-02-14T16:25:12+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "41279",
      "UserId": 0,
      "Username": "Enju",
      "UserAvatar": null,
      "UserGravatar": "722df5d1b3e3d65f7ca553c223984199",
      "EditableText": "thanks a lot got it working now!",
      "EditableFormat": "bbcode",
      "HTML": "thanks a lot got it working now!",
      "PostDate": "2016-02-17T20:56:16+00:00",
      "LastEditDate": null
    }
  ]
}