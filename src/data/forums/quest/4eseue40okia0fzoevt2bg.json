{
  "Topic": {
    "TopicId": "4eseue40okia0fzoevt2bg",
    "ForumId": "10",
    "Title": "Where am I going wrong with my simple code?",
    "LastUpdated": "2020-01-05T06:08:43.2821814Z",
    "ReplyCount": 0
  },
  "Posts": [
    {
      "PostId": "8af893e0-b121-4a36-82b4-48dc38036ad1",
      "UserId": 454326,
      "Username": "Brian5757",
      "AvatarUrl": "https://secure.gravatar.com/avatar/411c3e8cd4782d4a996f292940a61069?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Can you please help me to get started.\r\nI'm trying to created a simple game to gain some experience with programming with Quest.\r\nI'm in an Engine room with a red button. When I press the red button then it turns on the engine. There is a check when I press the button using an EngineOn flag, if set then the engine has already been turned on and I get a message telling me this.\r\n\r\nWhen I type \"Press button\"  I get the following error:\r\nError running script: Error compiling expression 'object.article <> button': Unknown object or variable 'button'\r\n\r\nThis is my code:\r\n<asl version=\"580\">\r\n  <include ref=\"English.aslx\" />\r\n  <include ref=\"Core.aslx\" />\r\n  <game name=\"Test 3-1-20\">\r\n    <gameid>49bfc0b4-5f46-4eb6-b609-9c25d1972390</gameid>\r\n    <version>1.0</version>\r\n    <firstpublished>2020</firstpublished>\r\n  </game>\r\n  <object name=\"Engine room\">\r\n    <inherit name=\"editor_room\" />\r\n    <isroom />\r\n    <object name=\"player\">\r\n      <inherit name=\"editor_object\" />\r\n      <inherit name=\"editor_player\" />\r\n    </object>\r\n    <object name=\"red button\">\r\n      <inherit name=\"editor_object\" />\r\n      <look>Below the button is written \"Engine ON\"</look>\r\n      <alt type=\"stringlist\">\r\n        <value>Red</value>\r\n      </alt>\r\n      <displayverbs type=\"stringlist\">\r\n        <value>Look at</value>\r\n        <value>Take</value>\r\n        <value>Press</value>\r\n      </displayverbs>\r\n    </object>\r\n  </object>\r\n  <verb>\r\n    <pattern>press #object#</pattern>\r\n  </verb>\r\n  <command name=\"PressButton\">\r\n    <pattern>press #object#</pattern>\r\n    <script><![CDATA[\r\n      if (object.article  <> button) {\r\n        msg (\"That's not a button\")\r\n      }\r\n      else if (GetBoolean(true, \"EngineOn\")) {\r\n        msg (\"The Engine is already on\")\r\n      }\r\n      else {\r\n        msg (\"You switch the engine on\")\r\n      }\r\n    ]]></script>\r\n  </command>\r\n</asl>",
      "EditableFormat": "markdown",
      "HTML": "<p>Can you please help me to get started.<br>\nI'm trying to created a simple game to gain some experience with programming with Quest.<br>\nI'm in an Engine room with a red button. When I press the red button then it turns on the engine. There is a check when I press the button using an EngineOn flag, if set then the engine has already been turned on and I get a message telling me this.</p>\n<p>When I type \"Press button\"  I get the following error:<br>\nError running script: Error compiling expression 'object.article &lt;&gt; button': Unknown object or variable 'button'</p>\n<p>This is my code:<br>\n</p>\n\n",
      "PostDate": "2020-01-05T06:08:43.2821814Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "a517f9ba-2e5c-4594-9f2a-a998fb222114",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Is `button` the name of an object?\r\n\r\nRemember that in code you have to use the name of an object, not its alias. And it's case-sensitive, so `button` and `Button` are different objects.\r\n\r\nAlso, I notice that you're checking if `object.article` is a reference to `button`. This is likely to cause problems, as `article` is supposed to be a string containing \"him\", \"her\", \"it\", \"you\", or \"me\", and is used by lots of the built-in messages. Setting `article` to an object would break quite badly.\r\n\r\nIf this is a commmand checking if the object it's been used on is the button, you would want `(object <> button)`.\r\n\r\nIf you're setting an object's article to the string \"button\" and then need to check it for some reason, your expression would be `(object.article <> \"button\")`. This wouldn't cause errors, but may cause Quest's grammar to be a bit odd.\r\n\r\n> This is my code:\r\n\r\nI don't see the code, so I guessed what it might be.",
      "EditableFormat": "markdown",
      "HTML": "<p>Is <code>button</code> the name of an object?</p>\n<p>Remember that in code you have to use the name of an object, not its alias. And it's case-sensitive, so <code>button</code> and <code>Button</code> are different objects.</p>\n<p>Also, I notice that you're checking if <code>object.article</code> is a reference to <code>button</code>. This is likely to cause problems, as <code>article</code> is supposed to be a string containing \"him\", \"her\", \"it\", \"you\", or \"me\", and is used by lots of the built-in messages. Setting <code>article</code> to an object would break quite badly.</p>\n<p>If this is a commmand checking if the object it's been used on is the button, you would want <code>(object &lt;&gt; button)</code>.</p>\n<p>If you're setting an object's article to the string \"button\" and then need to check it for some reason, your expression would be <code>(object.article &lt;&gt; \"button\")</code>. This wouldn't cause errors, but may cause Quest's grammar to be a bit odd.</p>\n<blockquote>\n<p>This is my code:</p>\n</blockquote>\n<p>I don't see the code, so I guessed what it might be.</p>\n\n",
      "PostDate": "2020-01-05T09:41:29.5479838Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "8b82341d-26d8-439f-ab0e-c83df806fd8d",
      "UserId": 454326,
      "Username": "Brian5757",
      "AvatarUrl": "https://secure.gravatar.com/avatar/411c3e8cd4782d4a996f292940a61069?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Hi mrangel.\r\nThankld for your reply. I hope you can see my code this time.\r\nThis is my code:\r\n<asl version=\"580\">\r\n  <include ref=\"English.aslx\" />\r\n  <include ref=\"Core.aslx\" />\r\n  <game name=\"Test 3-1-20\">\r\n    <gameid>49bfc0b4-5f46-4eb6-b609-9c25d1972390</gameid>\r\n    <version>1.0</version>\r\n    <firstpublished>2020</firstpublished>\r\n  </game>\r\n  <object name=\"Engine room\">\r\n    <inherit name=\"editor_room\" />\r\n    <isroom />\r\n    <object name=\"player\">\r\n      <inherit name=\"editor_object\" />\r\n      <inherit name=\"editor_player\" />\r\n    </object>\r\n    <object name=\"red button\">\r\n      <inherit name=\"editor_object\" />\r\n      <look>Below the button is written \"Engine ON\"</look>\r\n      <alt type=\"stringlist\">\r\n        <value>Red</value>\r\n      </alt>\r\n      <displayverbs type=\"stringlist\">\r\n        <value>Look at</value>\r\n        <value>Take</value>\r\n        <value>Press</value>\r\n      </displayverbs>\r\n    </object>\r\n  </object>\r\n  <verb>\r\n    <pattern>press #object#</pattern>\r\n  </verb>\r\n  <command name=\"PressButton\">\r\n    <pattern>press #object#</pattern>\r\n    <script><![CDATA[\r\n      if (object.article  <> button) {\r\n        msg (\"That's not a button\")\r\n      }\r\n      else if (GetBoolean(true, \"EngineOn\")) {\r\n        msg (\"The Engine is already on\")\r\n      }\r\n      else {\r\n        msg (\"You switch the engine on\")\r\n      }\r\n    ]]></script>\r\n  </command>\r\n</asl>",
      "EditableFormat": "markdown",
      "HTML": "<p>Hi mrangel.<br>\nThankld for your reply. I hope you can see my code this time.<br>\nThis is my code:<br>\n</p>\n\n",
      "PostDate": "2020-01-05T10:11:45.8600438Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "8a2442e7-0b2d-47f7-b2b7-20e6990fe7fe",
      "UserId": 454326,
      "Username": "Brian5757",
      "AvatarUrl": "https://secure.gravatar.com/avatar/411c3e8cd4782d4a996f292940a61069?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Hi mrangel.\r\nI had to leave the < sign at the start of my code so that my code would be accepted by this Forum. \r\nThis is my code:\r\nasl version=\"580\">\r\ninclude ref=\"English.aslx\" />\r\ninclude ref=\"Core.aslx\" />\r\ngame name=\"Test 3-1-20\">\r\ngameid>49bfc0b4-5f46-4eb6-b609-9c25d1972390</gameid>\r\n    version>1.0</version>\r\n    firstpublished>2020</firstpublished>\r\n  /game>\r\n  object name=\"Engine room\">\r\n    inherit name=\"editor_room\" />\r\n    isroom />\r\n    object name=\"player\">\r\n      inherit name=\"editor_object\" />\r\n      inherit name=\"editor_player\" />\r\n    /object>\r\n    object name=\"red button\">\r\n      inherit name=\"editor_object\" />\r\n      look>Below the button is written \"Engine ON\"</look>\r\n      alt type=\"stringlist\">\r\n        value>Red</value>\r\n      /alt>\r\n      displayverbs type=\"stringlist\">\r\n        value>Look at</value>\r\n        value>Take</value>\r\n        value>Press</value>\r\n      /displayverbs>\r\n    /object>\r\n  /object>\r\n  verb>\r\n    pattern>press #object#</pattern>\r\n  /verb>\r\n  command name=\"PressButton\">\r\n    pattern>press #object#</pattern>\r\n    script><![CDATA[\r\n      if (object.article  <> button) {\r\n        msg (\"That's not a button\")\r\n      }\r\n      else if (GetBoolean(true, \"EngineOn\")) {\r\n        msg (\"The Engine is already on\")\r\n      }\r\n      else {\r\n        msg (\"You switch the engine on\")\r\n      }\r\n    ]]></script>\r\n  /command>\r\n/asl>'''",
      "EditableFormat": "markdown",
      "HTML": "<p>Hi mrangel.<br>\nI had to leave the &lt; sign at the start of my code so that my code would be accepted by this Forum.<br>\nThis is my code:<br>\nasl version=\"580\"&gt;<br>\ninclude ref=\"English.aslx\" /&gt;<br>\ninclude ref=\"Core.aslx\" /&gt;<br>\ngame name=\"Test 3-1-20\"&gt;<br>\ngameid&gt;49bfc0b4-5f46-4eb6-b609-9c25d1972390<br>\nversion&gt;1.0<br>\nfirstpublished&gt;2020<br>\n/game&gt;<br>\nobject name=\"Engine room\"&gt;<br>\ninherit name=\"editor_room\" /&gt;<br>\nisroom /&gt;<br>\nobject name=\"player\"&gt;<br>\ninherit name=\"editor_object\" /&gt;<br>\ninherit name=\"editor_player\" /&gt;<br>\n/object&gt;<br>\nobject name=\"red button\"&gt;<br>\ninherit name=\"editor_object\" /&gt;<br>\nlook&gt;Below the button is written \"Engine ON\"<br>\nalt type=\"stringlist\"&gt;<br>\nvalue&gt;Red<br>\n/alt&gt;<br>\ndisplayverbs type=\"stringlist\"&gt;<br>\nvalue&gt;Look at<br>\nvalue&gt;Take<br>\nvalue&gt;Press<br>\n/displayverbs&gt;<br>\n/object&gt;<br>\n/object&gt;<br>\nverb&gt;<br>\npattern&gt;press #object#<br>\n/verb&gt;<br>\ncommand name=\"PressButton\"&gt;<br>\npattern&gt;press #object#<br>\nscript&gt; button) {\nmsg (\"That's not a button\")\n}\nelse if (GetBoolean(true, \"EngineOn\")) {\nmsg (\"The Engine is already on\")\n}\nelse {\nmsg (\"You switch the engine on\")\n}\n]]&gt;<br>\n/command&gt;<br>\n/asl&gt;'''</p>\n\n",
      "PostDate": "2020-01-05T10:19:20.4790938Z",
      "LastEditDate": "2020-01-05T10:23:32.1561389Z",
      "link": null
    },
    {
      "PostId": "384b0f33-9c0c-4793-8662-63ba32c8699e",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "The forum has still mangled your code a little, but I think I can see what you're trying to do.\r\n\r\nYou should be able to look at a single script in code view; so in this case you only needed to include the script for the PressButton command.\r\n\r\nI think what you want is something like this:\r\n```\r\nif (object <> red button) {\r\n  msg (\"That's not a button\")\r\n}\r\nelse if (GetBoolean (object, \"EngineOn\")) {\r\n  msg (\"The Engine is already on\")\r\n}\r\nelse {\r\n  msg (\"You switch the engine on\")\r\n  object.EngineOn = true\r\n}\r\n```\r\n\r\n<hr />\r\n\r\nThis might also be a good place to use a *verb* instead of a regular command.\r\nVerbs are a special type of commands which do different things depending on what object they are used on. So if you created a press verb instead of a press command, the button would have a script which runs when it is pressed, and pressing any other object would automatically generate a message like \"You can't press that\".\r\n\r\nThe advantage of verbs is that if you add another button later, you can give it its own press verb without needing to modify the command.\r\n\r\n<hr />\r\n\r\nAbout posting scripts:\r\n\r\nFor mentioning a single line of code or an error message, you can surround it with backticks <code>&#96;&#96;&#96;Like this&#96;&#96;&#96;</code>.\r\nFor pasting multiple lines of code, put a line of backticks above it and another below it.\r\n<pre>```\r\nlike this\r\ncode goes here\r\n```</pre>\r\n\r\nIt's common to use one backtick for the inline method and three for a block of code, but that isn't really necessary. You can use any number as long as it's the same number at the beginning and end. If your code actually contains backticks (which some error messages do), the forum will get confused if the number of backticks before/after the code is less than the number in the code. So if you want to paste some code that has a row of three backticks in it somewhere, you'd want to put four above and below it.\r\n\r\nIf you can't find the backtick key on your keyboard (it's below 'Esc' in most countries) you can copy and paste three of them from the instructions to the right of the reply box.\r\nI know it says you can indent code with 4 spaces, but that doesn't work unless it's in a quote\r\n\r\nTo quote the message your're replying to, put a `>` at the start of the line you're quoting.\r\nIf you're quoting someone else's code, you can put five spaces after the `>` on each line.\r\n\r\n>This is quoted text with a `>` at the beginning\r\n> This is quoted text with a `>` and a space at the beginning\r\n>  This is quoted text with a `>` and 2 spaces at the beginning\r\n>   This is quoted text with a `>` and 3 spaces at the beginning\r\n    This is quoted text with a `>` and 4 spaces at the beginning\r\n\r\n>     This is quoted text with a `>` and 5 spaces at the beginning\r\n>      This is quoted text with a `>` and 6 spaces at the beginning\r\n>       This is quoted text with a `>` and 7 spaces at the beginning\r\n",
      "EditableFormat": "markdown",
      "HTML": "<p>The forum has still mangled your code a little, but I think I can see what you're trying to do.</p>\n<p>You should be able to look at a single script in code view; so in this case you only needed to include the script for the PressButton command.</p>\n<p>I think what you want is something like this:</p>\n<pre><code>if (object &lt;&gt; red button) {\n  msg (\"That's not a button\")\n}\nelse if (GetBoolean (object, \"EngineOn\")) {\n  msg (\"The Engine is already on\")\n}\nelse {\n  msg (\"You switch the engine on\")\n  object.EngineOn = true\n}\n</code></pre>\n<hr>\n<p>This might also be a good place to use a <em>verb</em> instead of a regular command.<br>\nVerbs are a special type of commands which do different things depending on what object they are used on. So if you created a press verb instead of a press command, the button would have a script which runs when it is pressed, and pressing any other object would automatically generate a message like \"You can't press that\".</p>\n<p>The advantage of verbs is that if you add another button later, you can give it its own press verb without needing to modify the command.</p>\n<hr>\n<p>About posting scripts:</p>\n<p>For mentioning a single line of code or an error message, you can surround it with backticks <code>```Like this```</code>.<br>\nFor pasting multiple lines of code, put a line of backticks above it and another below it.</p>\n<pre>```\nlike this\ncode goes here\n```</pre>\n<p>It's common to use one backtick for the inline method and three for a block of code, but that isn't really necessary. You can use any number as long as it's the same number at the beginning and end. If your code actually contains backticks (which some error messages do), the forum will get confused if the number of backticks before/after the code is less than the number in the code. So if you want to paste some code that has a row of three backticks in it somewhere, you'd want to put four above and below it.</p>\n<p>If you can't find the backtick key on your keyboard (it's below 'Esc' in most countries) you can copy and paste three of them from the instructions to the right of the reply box.<br>\nI know it says you can indent code with 4 spaces, but that doesn't work unless it's in a quote</p>\n<p>To quote the message your're replying to, put a <code>&gt;</code> at the start of the line you're quoting.<br>\nIf you're quoting someone else's code, you can put five spaces after the <code>&gt;</code> on each line.</p>\n<blockquote>\n<p>This is quoted text with a <code>&gt;</code> at the beginning<br>\nThis is quoted text with a <code>&gt;</code> and a space at the beginning<br>\nThis is quoted text with a <code>&gt;</code> and 2 spaces at the beginning<br>\nThis is quoted text with a <code>&gt;</code> and 3 spaces at the beginning<br>\nThis is quoted text with a <code>&gt;</code> and 4 spaces at the beginning</p>\n</blockquote>\n<blockquote>\n<pre><code>This is quoted text with a `&gt;` and 5 spaces at the beginning\n This is quoted text with a `&gt;` and 6 spaces at the beginning\n  This is quoted text with a `&gt;` and 7 spaces at the beginning\n</code></pre>\n</blockquote>\n\n",
      "PostDate": "2020-01-05T12:26:00.0093256Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "75c0cd92-313c-436b-ade7-6c9da7668f74",
      "UserId": 454326,
      "Username": "Brian5757",
      "AvatarUrl": "https://secure.gravatar.com/avatar/411c3e8cd4782d4a996f292940a61069?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Thanks mrangel.\r\nBy removing .article and putting red infront of the word button solved one of the probles.\r\n\r\nIt now has a problem with this code\r\nelse if (GetBoolean(true, \"EngineOn\")) {\r\n        msg (\"The Engine is already on\")\r\n      }\r\n\r\n I now get the error:\r\nError running script: Error evaluating expression 'GetBoolean(true, \"EngineOn\")': GetBoolean function expected object parameter but was passed 'True'\r\n\r\nMaybe I need to create a flag in the game called EngineOn and set it to false.\r\nI'm not certain how you would do this as I don't see anywhere in the game for doing this.",
      "EditableFormat": "markdown",
      "HTML": "<p>Thanks mrangel.<br>\nBy removing .article and putting red infront of the word button solved one of the probles.</p>\n<p>It now has a problem with this code<br>\nelse if (GetBoolean(true, \"EngineOn\")) {<br>\nmsg (\"The Engine is already on\")<br>\n}</p>\n<p>I now get the error:<br>\nError running script: Error evaluating expression 'GetBoolean(true, \"EngineOn\")': GetBoolean function expected object parameter but was passed 'True'</p>\n<p>Maybe I need to create a flag in the game called EngineOn and set it to false.<br>\nI'm not certain how you would do this as I don't see anywhere in the game for doing this.</p>\n\n",
      "PostDate": "2020-01-06T01:23:51.6631688Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "a0b31235-452c-4b77-a87e-fa3c5abfbe15",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Did you look at the example code in my previous reply?\r\n\r\nA flag needs to be set for a particular object. In this case, the button seems a good choice.\r\n\r\nSo you'd have:\r\n`GetBoolean (object, \"EngineOn\")`\r\n\r\nYou can't set a flag on `true` because `true` isn't an object.\r\n\r\nYou don't need to set it to false, because `GetBoolean` treats unset values the same as `false`.\r\n\r\nOnce the engine is turned on, you would set the flag using:\r\n```\r\nobject.EngineOn = true\r\n```",
      "EditableFormat": "markdown",
      "HTML": "<p>Did you look at the example code in my previous reply?</p>\n<p>A flag needs to be set for a particular object. In this case, the button seems a good choice.</p>\n<p>So you'd have:<br>\n<code>GetBoolean (object, \"EngineOn\")</code></p>\n<p>You can't set a flag on <code>true</code> because <code>true</code> isn't an object.</p>\n<p>You don't need to set it to false, because <code>GetBoolean</code> treats unset values the same as <code>false</code>.</p>\n<p>Once the engine is turned on, you would set the flag using:</p>\n<pre><code>object.EngineOn = true\n</code></pre>\n\n",
      "PostDate": "2020-01-06T10:24:11.8517747Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "35223c59-a21b-43ef-afc8-6a5ff4b2cbbd",
      "UserId": 454326,
      "Username": "Brian5757",
      "AvatarUrl": "https://secure.gravatar.com/avatar/411c3e8cd4782d4a996f292940a61069?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Thanks for your help mrangel.\r\nIt worked this time with the code changes.",
      "EditableFormat": "markdown",
      "HTML": "<p>Thanks for your help mrangel.<br>\nIt worked this time with the code changes.</p>\n\n",
      "PostDate": "2020-01-06T12:32:48.8032433Z",
      "LastEditDate": null,
      "link": null
    }
  ]
}
