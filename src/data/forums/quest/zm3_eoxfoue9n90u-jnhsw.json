{
  "Topic": {
    "TopicId": "zm3_eoxfoue9n90u-jnhsw",
    "ForumId": "10",
    "Title": "Show Menu Disappearing",
    "LastUpdated": "2024-11-21T22:26:34.7571435Z",
    "ReplyCount": 0
  },
  "Posts": [
    {
      "PostId": "9c8afddb-9538-44fa-8c12-c22130ff14c9",
      "UserId": 200638,
      "Username": "Bttflover5566",
      "AvatarUrl": "https://i.imgur.com/VKJ3Aaxb.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Hi, so I tried to make a dialogue tree of options using the show menu, but when you run it, the game will glitch and make the show menu disappear when clicking on certain options. Basically when I click on an option on the show menu the entire menu will disappear instead of leading to the next show menu. Here is the code.\r\n\r\n```msg (\"<br/>\\\"What do you want? I'm busy.\\\"\")\r\ntopics = split (\"Fight with Aphrodite;Bake Sale;Yellow Envelope;Never mind...\", \";\")\r\nShowMenu (\"Talk to Tiffany about...\", topics, false) {\r\n  switch (result) {\r\n    case (\"Fight with Aphrodite\") {\r\n      topics2 = split (\"You were a bitch! (Mean);What was that about? (Neutral);Why would you refuse her like that? (Nice);Never mind...\", \";\")\r\n      switch (result) {\r\n        case (\"You were a bitch! (Mean)\") {\r\n          msg (\"\\\"Um...excuse me?\\\"\")\r\n          NpcScore (npc, obj)\r\n          npc.score = npc.score - 1\r\n          msg (\"Your relationship with tiffany has gone done by one.\")\r\n        }\r\n        case (\"What was that about? (Neutral)\") {\r\n          msg (\"\\\"Aphrodite is an attention seeking whore and I couldn't care less about what lies she wants to tell me about the contest.\\\"\")\r\n        }\r\n        case (\"Why would you refuse her like that? (Nice)\") {\r\n          msg (\"\\\"Because I know she is a lying sniveling little bitch! And people like her who come from poor families and bitch about their life don't deserve to be a part of my group! You seem like okay though.\\\" \")\r\n        }\r\n        case (\"Never mind...\") {\r\n          msg (\"Tiffany rolls her eyes. \\\"Whatever\\\"\")\r\n        }\r\n      }\r\n    }\r\n    case (\"Bake Sale\") {\r\n      topics3 = split (\"What is this bake sale for?;I want to buy something;Never mind...\", \";\")\r\n      ShowMenu (\"Bake Sale\", topics3, false) {\r\n        switch (result) {\r\n          case (\"What is this bake sale for?\") {\r\n            msg (\"\\\"I'm raising money for the dance team so we can go to LA and compete in a national dance competition.\\\" \")\r\n          }\r\n          case (\"I want to buy something\") {\r\n            msg (\"\\\"What do you want?\\\" \")\r\n            MoveObject (player, Bake Sale)\r\n            msg (\"You are now at the bake sale! To leave, just click out or type go out.\")\r\n          }\r\n          case (\"Never mind...\") {\r\n            msg (\"Tiffany rolls her eyes. \\\"Whatever\\\"\")\r\n          }\r\n        }\r\n      }\r\n    }\r\n    case (\"Yellow Envelope\") {\r\n      msg (\"\\\"Like what do you think it is? It has everything you need to compete for that school. It's so elite that they hold competitions every year. My sister won, but she can't even talk about it because it is that elite, like she signed an NDA or something. That's why I know Aphrodite there is lying, nobody can get information about the contest until it starts.\\\"\")\r\n      topics4 = split (\"What is this about teams?;Would you team up with me?;Nevermind...\", \";\")\r\n    }\r\n    case (\"Never Mind...\") {\r\n      msg (\"Tiffany rolls her eyes. \\\"Whatever\\\"\")\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n",
      "EditableFormat": "markdown",
      "HTML": "<p>Hi, so I tried to make a dialogue tree of options using the show menu, but when you run it, the game will glitch and make the show menu disappear when clicking on certain options. Basically when I click on an option on the show menu the entire menu will disappear instead of leading to the next show menu. Here is the code.</p>\n<pre><code>topics = split (\"Fight with Aphrodite;Bake Sale;Yellow Envelope;Never mind...\", \";\")\nShowMenu (\"Talk to Tiffany about...\", topics, false) {\n  switch (result) {\n    case (\"Fight with Aphrodite\") {\n      topics2 = split (\"You were a bitch! (Mean);What was that about? (Neutral);Why would you refuse her like that? (Nice);Never mind...\", \";\")\n      switch (result) {\n        case (\"You were a bitch! (Mean)\") {\n          msg (\"\\\"Um...excuse me?\\\"\")\n          NpcScore (npc, obj)\n          npc.score = npc.score - 1\n          msg (\"Your relationship with tiffany has gone done by one.\")\n        }\n        case (\"What was that about? (Neutral)\") {\n          msg (\"\\\"Aphrodite is an attention seeking whore and I couldn't care less about what lies she wants to tell me about the contest.\\\"\")\n        }\n        case (\"Why would you refuse her like that? (Nice)\") {\n          msg (\"\\\"Because I know she is a lying sniveling little bitch! And people like her who come from poor families and bitch about their life don't deserve to be a part of my group! You seem like okay though.\\\" \")\n        }\n        case (\"Never mind...\") {\n          msg (\"Tiffany rolls her eyes. \\\"Whatever\\\"\")\n        }\n      }\n    }\n    case (\"Bake Sale\") {\n      topics3 = split (\"What is this bake sale for?;I want to buy something;Never mind...\", \";\")\n      ShowMenu (\"Bake Sale\", topics3, false) {\n        switch (result) {\n          case (\"What is this bake sale for?\") {\n            msg (\"\\\"I'm raising money for the dance team so we can go to LA and compete in a national dance competition.\\\" \")\n          }\n          case (\"I want to buy something\") {\n            msg (\"\\\"What do you want?\\\" \")\n            MoveObject (player, Bake Sale)\n            msg (\"You are now at the bake sale! To leave, just click out or type go out.\")\n          }\n          case (\"Never mind...\") {\n            msg (\"Tiffany rolls her eyes. \\\"Whatever\\\"\")\n          }\n        }\n      }\n    }\n    case (\"Yellow Envelope\") {\n      msg (\"\\\"Like what do you think it is? It has everything you need to compete for that school. It's so elite that they hold competitions every year. My sister won, but she can't even talk about it because it is that elite, like she signed an NDA or something. That's why I know Aphrodite there is lying, nobody can get information about the contest until it starts.\\\"\")\n      topics4 = split (\"What is this about teams?;Would you team up with me?;Nevermind...\", \";\")\n    }\n    case (\"Never Mind...\") {\n      msg (\"Tiffany rolls her eyes. \\\"Whatever\\\"\")\n    }\n  }\n}\n</code></pre>\n\n",
      "PostDate": "2024-11-21T22:26:34.7571435Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "a7ae8476-2b8d-42ef-8a4e-dcf25cba4e89",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "In the first case, \"Fight with Aphrodite\", you set the variable \"topics\" to a new list, but don't do `ShowMenu` again. This means that you're going into the second `switch` block, comparing `result` to \"You were a bitch! (Mean)\", \"What was that about? (Neutral)\", etc… when `result` is still set to \"Fight with Aphrodite\".\r\n\r\nThe second case, \"Bake Sale\", does this correctly – using `ShowMenu` again to display a new menu.\r\n\r\nIf you're doing lots of `switch` statements like this, I would also recommend including a `default` block which displays an error message. `default` should go inside the `switch` block, after all the `case`s. That way, if there's a typo in one of the options, it will tell you what the problem is and make it easier to debug.",
      "EditableFormat": "markdown",
      "HTML": "<p>In the first case, \"Fight with Aphrodite\", you set the variable \"topics\" to a new list, but don't do <code>ShowMenu</code> again. This means that you're going into the second <code>switch</code> block, comparing <code>result</code> to \"You were a bitch! (Mean)\", \"What was that about? (Neutral)\", etc… when <code>result</code> is still set to \"Fight with Aphrodite\".</p>\n<p>The second case, \"Bake Sale\", does this correctly – using <code>ShowMenu</code> again to display a new menu.</p>\n<p>If you're doing lots of <code>switch</code> statements like this, I would also recommend including a <code>default</code> block which displays an error message. <code>default</code> should go inside the <code>switch</code> block, after all the <code>case</code>s. That way, if there's a typo in one of the options, it will tell you what the problem is and make it easier to debug.</p>\n\n",
      "PostDate": "2024-11-22T10:49:15.8625759Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "b0267c61-7e73-42e2-aab4-289846dc4c8c",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Oh… just saw that someone already answered this in another thread :p\r\n\r\nHope you don't mind the repetition.\r\n\r\nYou've got a good method for handling the conversation, but I thought you might be interested to see an alternative way to handle conversations, which I sometimes find easier to keep track of. (Especially because if your conversation gets several levels deep, the text gets more bunched up at the right side of the screen)\r\n\r\nAssuming that this is the \"speak to\" verb of a character called `npc`, you could frame it like this:\r\n\r\n```\r\nif (not IsDefined (\"result\")) {\r\n  result = \"Talk to Tiffany about…\"\r\n}\r\nswitch (result) {\r\n  case (\"Talk to Tiffany about…\") {\r\n    topics = Split (\"Fight with Aphrodite;Bake Sale;Yellow Envelope;Never mind…\")\r\n  }\r\n  case (\"Fight with Aphrodite\") {\r\n    topics = Split (\"You were a bitch! (Mean);What was that about? (Neutral);Why would you refuse her like that? (Nice);Never mind…\")\r\n  }\r\n  case (\"You were a bitch! (Mean)\") {\r\n    msg (\"“Um… excuse me?”\")\r\n    // I'm not sure where the variable obj comes from - this might need fixing\r\n    NpcScore (npc, obj)\r\n    npc.score = npc.score - 1\r\n    msg (\"Your relationship with Tiffany has gone done by one.\")\r\n  }\r\n  case (\"What was that about? (Neutral)\") {\r\n    msg (\"“Aphrodite is an attention seeking whore and I couldn't care less about what lies she wants to tell me about the contest.”\")\r\n  }\r\n  case (\"Why would you refuse her like that? (Nice)\") {\r\n    msg (\"“Because I know she is a lying sniveling little bitch! And people like her who come from poor families and bitch about their life don't deserve to be a part of my group! You seem like okay though.”\")\r\n  }\r\n  case (\"Bake Sale\") {\r\n    topics = Split (\"What is this bake sale for?;I want to buy something;Never mind…\")\r\n  }\r\n  case (\"What is this bake sale for?\") {\r\n    msg (\"“I'm raising money for the dance team so we can go to LA and compete in a national dance competition.”\")\r\n  }\r\n  case (\"I want to buy something\") {\r\n    msg (\"“What do you want?”\")\r\n    MoveObject (player, Bake Sale)\r\n    msg (\"You are now at the bake sale! To leave, just click out or type go out.\")\r\n  }\r\n  case (\"Yellow Envelope\") {\r\n    msg (\"“Like what do you think it is? It has everything you need to compete for that school. It's so elite that they hold competitions every year. My sister won, but she can't even talk about it because it is that elite, like she signed an NDA or something. That's why I know Aphrodite there is lying, nobody can get information about the contest until it starts.”\")\r\n    topics = Split (\"What is this about teams?;Would you team up with me?;Nevermind…\")\r\n    }\r\n  case (\"What is this about teams?\") {\r\n    // TODO: Add response\r\n  }\r\n  case (\"Would you team up with me?\") {\r\n    // TODO: Add response\r\n  }\r\n  case (\"Never Mind…\", \"Nevermind…\") {\r\n    msg (\"Tiffany rolls her eyes. “Whatever”\")\r\n  }\r\n  default {\r\n    error (\"It looks like the script is missing a response for: '\"+result+\"'. Please let the game designer know so they can find the typo.\")\r\n  }\r\n}\r\nif (IsDefined (\"topics\")) {\r\n  // Use the name of the object/script here, so that it runs the script again\r\n  ShowMenu (result, topics, false, npc.speakto)\r\n}\r\n```\r\n\r\nDifferent people have different preferences; but if you end up with a long conversation that starts making it hard to navigate, something like this might be worth trying. (It also allows multiple options, from different parts of the conversation tree, to point to the same place",
      "EditableFormat": "markdown",
      "HTML": "<p>Oh… just saw that someone already answered this in another thread :p</p>\n<p>Hope you don't mind the repetition.</p>\n<p>You've got a good method for handling the conversation, but I thought you might be interested to see an alternative way to handle conversations, which I sometimes find easier to keep track of. (Especially because if your conversation gets several levels deep, the text gets more bunched up at the right side of the screen)</p>\n<p>Assuming that this is the \"speak to\" verb of a character called <code>npc</code>, you could frame it like this:</p>\n<pre><code>if (not IsDefined (\"result\")) {\n  result = \"Talk to Tiffany about…\"\n}\nswitch (result) {\n  case (\"Talk to Tiffany about…\") {\n    topics = Split (\"Fight with Aphrodite;Bake Sale;Yellow Envelope;Never mind…\")\n  }\n  case (\"Fight with Aphrodite\") {\n    topics = Split (\"You were a bitch! (Mean);What was that about? (Neutral);Why would you refuse her like that? (Nice);Never mind…\")\n  }\n  case (\"You were a bitch! (Mean)\") {\n    msg (\"“Um… excuse me?”\")\n    // I'm not sure where the variable obj comes from - this might need fixing\n    NpcScore (npc, obj)\n    npc.score = npc.score - 1\n    msg (\"Your relationship with Tiffany has gone done by one.\")\n  }\n  case (\"What was that about? (Neutral)\") {\n    msg (\"“Aphrodite is an attention seeking whore and I couldn't care less about what lies she wants to tell me about the contest.”\")\n  }\n  case (\"Why would you refuse her like that? (Nice)\") {\n    msg (\"“Because I know she is a lying sniveling little bitch! And people like her who come from poor families and bitch about their life don't deserve to be a part of my group! You seem like okay though.”\")\n  }\n  case (\"Bake Sale\") {\n    topics = Split (\"What is this bake sale for?;I want to buy something;Never mind…\")\n  }\n  case (\"What is this bake sale for?\") {\n    msg (\"“I'm raising money for the dance team so we can go to LA and compete in a national dance competition.”\")\n  }\n  case (\"I want to buy something\") {\n    msg (\"“What do you want?”\")\n    MoveObject (player, Bake Sale)\n    msg (\"You are now at the bake sale! To leave, just click out or type go out.\")\n  }\n  case (\"Yellow Envelope\") {\n    msg (\"“Like what do you think it is? It has everything you need to compete for that school. It's so elite that they hold competitions every year. My sister won, but she can't even talk about it because it is that elite, like she signed an NDA or something. That's why I know Aphrodite there is lying, nobody can get information about the contest until it starts.”\")\n    topics = Split (\"What is this about teams?;Would you team up with me?;Nevermind…\")\n    }\n  case (\"What is this about teams?\") {\n    // TODO: Add response\n  }\n  case (\"Would you team up with me?\") {\n    // TODO: Add response\n  }\n  case (\"Never Mind…\", \"Nevermind…\") {\n    msg (\"Tiffany rolls her eyes. “Whatever”\")\n  }\n  default {\n    error (\"It looks like the script is missing a response for: '\"+result+\"'. Please let the game designer know so they can find the typo.\")\n  }\n}\nif (IsDefined (\"topics\")) {\n  // Use the name of the object/script here, so that it runs the script again\n  ShowMenu (result, topics, false, npc.speakto)\n}\n</code></pre>\n<p>Different people have different preferences; but if you end up with a long conversation that starts making it hard to navigate, something like this might be worth trying. (It also allows multiple options, from different parts of the conversation tree, to point to the same place</p>\n\n",
      "PostDate": "2024-11-22T11:22:57.2234864Z",
      "LastEditDate": "2024-11-22T11:27:24.6103347Z",
      "link": null
    }
  ]
}
