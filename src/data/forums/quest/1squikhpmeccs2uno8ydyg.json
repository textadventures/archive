{
  "Topic": {
    "TopicId": "1squikhpmeccs2uno8ydyg",
    "ForumId": "10",
    "Title": "Date, Time, and Weather (work in progress)",
    "LastUpdated": "2017-12-29T10:16:43.89884Z",
    "ReplyCount": 0
  },
  "Posts": [
    {
      "PostId": "820f0cd1-7961-46c4-9798-112e658889ee",
      "UserId": 318253,
      "Username": "K.V.",
      "AvatarUrl": "https://i.imgur.com/Te0Y5FPb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "So, [Anonynn asked something in a different thread](http://textadventures.co.uk/forum/quest/topic/rykk91-r_k_wxw7edgei_g/real-world-time \"Visit the thread!\"), and I got a little crazy while playing around with what I learned while trying to help.\r\n\r\n\r\nhttp://textadventures.co.uk/games/view/yfl6ohdto0il_0l_hj0ggg/date-and-weather-and-stuff\r\n\r\n(It works in the desktop player, but it only works halfway in the web player.)\r\n\r\n---\r\n\r\nThe code:\r\n\r\n<details>\r\n\r\n```\r\n<!--Saved by Quest 5.7.6404.15496-->\r\n<asl version=\"550\">\r\n  <include ref=\"English.aslx\" />\r\n  <include ref=\"Core.aslx\" />\r\n  <game name=\"Date and Weather and stuff\">\r\n    <gameid>113ae923-f8a2-4b92-a4a6-1af36ab0ba4c</gameid>\r\n    <version>1.0</version>\r\n    <firstpublished>2017</firstpublished>\r\n    <feature_annotations />\r\n    <attr name=\"feature_advancedwearables\" type=\"boolean\">false</attr>\r\n    <feature_advancedscripts />\r\n    <start type=\"script\"><![CDATA[\r\n      calendar.weatherCodeDict = NewStringDictionary()\r\n      dictionary add (calendar.weatherCodeDict, \"0\", \"tornado\")\r\n      dictionary add (calendar.weatherCodeDict, \"1\", \"tropical storm\")\r\n      dictionary add (calendar.weatherCodeDict, \"2\", \"hurricane\")\r\n      dictionary add (calendar.weatherCodeDict, \"3\", \"severe thunderstorms\")\r\n      dictionary add (calendar.weatherCodeDict, \"4\", \"thunderstorms\")\r\n      dictionary add (calendar.weatherCodeDict, \"5\", \"mixed rain and snow\")\r\n      dictionary add (calendar.weatherCodeDict, \"6\", \"mixed rain and sleet\")\r\n      dictionary add (calendar.weatherCodeDict, \"7\", \"mixed snow and sleet\")\r\n      dictionary add (calendar.weatherCodeDict, \"8\", \"freezing drizzle\")\r\n      dictionary add (calendar.weatherCodeDict, \"9\", \"drizzle\")\r\n      dictionary add (calendar.weatherCodeDict, \"10\", \"freezing rain\")\r\n      dictionary add (calendar.weatherCodeDict, \"11\", \"showers\")\r\n      dictionary add (calendar.weatherCodeDict, \"12\", \"showers\")\r\n      dictionary add (calendar.weatherCodeDict, \"13\", \"snow flurries\")\r\n      dictionary add (calendar.weatherCodeDict, \"14\", \"light snow showers\")\r\n      dictionary add (calendar.weatherCodeDict, \"15\", \"blowing snow\")\r\n      dictionary add (calendar.weatherCodeDict, \"16\", \"snow\")\r\n      dictionary add (calendar.weatherCodeDict, \"17\", \"hail\")\r\n      dictionary add (calendar.weatherCodeDict, \"18\", \"sleet\")\r\n      dictionary add (calendar.weatherCodeDict, \"19\", \"dust\")\r\n      dictionary add (calendar.weatherCodeDict, \"20\", \"foggy\")\r\n      dictionary add (calendar.weatherCodeDict, \"21\", \"haze\")\r\n      dictionary add (calendar.weatherCodeDict, \"22\", \"smoky\")\r\n      dictionary add (calendar.weatherCodeDict, \"23\", \"blustery\")\r\n      dictionary add (calendar.weatherCodeDict, \"24\", \"windy\")\r\n      dictionary add (calendar.weatherCodeDict, \"25\", \"cold\")\r\n      dictionary add (calendar.weatherCodeDict, \"26\", \"cloudy\")\r\n      dictionary add (calendar.weatherCodeDict, \"27\", \"mostly cloudy\")\r\n      dictionary add (calendar.weatherCodeDict, \"28\", \"mostly cloudy\")\r\n      dictionary add (calendar.weatherCodeDict, \"29\", \"partly cloudy\")\r\n      dictionary add (calendar.weatherCodeDict, \"30\", \"partly cloudy\")\r\n      dictionary add (calendar.weatherCodeDict, \"31\", \"clear\")\r\n      dictionary add (calendar.weatherCodeDict, \"32\", \"sunny\")\r\n      dictionary add (calendar.weatherCodeDict, \"33\", \"fair\")\r\n      dictionary add (calendar.weatherCodeDict, \"34\", \"fair\")\r\n      dictionary add (calendar.weatherCodeDict, \"35\", \"mixed rain and hail\")\r\n      dictionary add (calendar.weatherCodeDict, \"36\", \"hot\")\r\n      dictionary add (calendar.weatherCodeDict, \"37\", \"isolated thunderstorms\")\r\n      dictionary add (calendar.weatherCodeDict, \"38\", \"scattered thunderstorms\")\r\n      dictionary add (calendar.weatherCodeDict, \"39\", \"scattered thunderstorms\")\r\n      dictionary add (calendar.weatherCodeDict, \"40\", \"scattered showers\")\r\n      dictionary add (calendar.weatherCodeDict, \"41\", \"heavy snow\")\r\n      dictionary add (calendar.weatherCodeDict, \"42\", \"scattered snow showers\")\r\n      dictionary add (calendar.weatherCodeDict, \"43\", \"heavy snow\")\r\n      dictionary add (calendar.weatherCodeDict, \"44\", \"partly cloudy\")\r\n      dictionary add (calendar.weatherCodeDict, \"45\", \"thundershowers\")\r\n      dictionary add (calendar.weatherCodeDict, \"46\", \"snow showers\")\r\n      dictionary add (calendar.weatherCodeDict, \"47\", \"isolated thundershowers\")\r\n      dictionary add (calendar.weatherCodeDict, \"3200\", \"not available\")\r\n      // JS.eval (js_room.description)\r\n      JS.eval (\"var today = new Date();var dd = today.getDate();var mm = today.getMonth()+1;var yyyy = today.getFullYear();var hrs = today.getHours();var mins = today.getMinutes();var secs = today.getSeconds();ASLEvent('SetHours',hrs);ASLEvent('SetMinutes',mins);if(dd<10) {\tdd = '0'+dd} if(mm<10) {\tmm = '0'+mm} today = mm + '/' + dd + '/' + yyyy;if(hrs>12) {\tampm = 'pm';\thrs = '0' + '' + hrs - 12}else{\tampm = 'am'} if (mins<10) {\tmins = '0'+mins} if(secs<10) {secs = '0' + secs}time = hrs + ':' + mins + ':' + secs + ' ' + ampm;ASLEvent('SetDate',today);ASLEvent('SetTime',time);ASLEvent('SetYear',yyyy);ASLEvent('SetMonth',mm);ASLEvent('SetDay',dd);if(mm==12&&(dd>27&&dd<=31)){ASLEvent('SetHoliday','newYears');};\")\r\n    ]]></start>\r\n    <inituserinterface type=\"script\">\r\n    </inituserinterface>\r\n    <object name=\"startupRoom\">\r\n      <inherit name=\"editor_room\" />\r\n      <enter type=\"script\">\r\n        ClearScreen\r\n        msg (\"Please enter the name of the city in which you are currently located.\")\r\n        get input {\r\n          SetCityManually (result)\r\n          msg (\"Setting city to \"+result+\".\")\r\n          JS.eval (js_room.description)\r\n          SetTimeout (2) {\r\n            JS.loadWeather (calendar.playerCity)\r\n          }\r\n          SetTimeout (4) {\r\n            ClearScreen\r\n            MoveObject (game.pov, room)\r\n            JS.loadWeather (calendar.playerCity)\r\n          }\r\n        }\r\n      </enter>\r\n      <object name=\"player\">\r\n        <inherit name=\"editor_object\" />\r\n        <inherit name=\"editor_player\" />\r\n      </object>\r\n    </object>\r\n  </game>\r\n  <object name=\"room\">\r\n    <inherit name=\"editor_room\" />\r\n    <description><![CDATA[<hr/><br/>Today is {calendar.month}-{calendar.day}-{calendar.year}.<br/><hr/><br/><br/>It is {calendar.tempF}&deg;F and {=WeatherStatus(calendar.weatherCode)} outside!{if calendar.isHoliday:<br/><br/>{=HolidayMessage(calendar.holiday)}}<br/><br/><div id='weather'></div>]]></description>\r\n    <enter type=\"script\"><![CDATA[\r\n      JS.eval (\"if(mm == 10 && (15 < dd && dd < 31)){alert('CHECK!');};\")\r\n    ]]></enter>\r\n    <object name=\"letter\">\r\n      <inherit name=\"editor_object\" />\r\n      <look><![CDATA[It's a letter, dated {calendar.month}/{=ToInt(calendar.day)-2}/{calendar.year}.<br/><br/>(You could try {command:read letter:reading} it.)]]></look>\r\n      <read><![CDATA[{either letter.parent=game.pov:You have until 11:59 {if calendar.hoursJS<10:a}{if calendar.hoursJS>10:p}m on {calendar.month}/{calendar.day}/{calendar.year} to email the author to receive your secret command!  (Enter {command:CONTACT} for the link!).|You can't read something you're not holding.}]]></read>\r\n      <take />\r\n    </object>\r\n    <exit alias=\"in\" to=\"another room\">\r\n      <inherit name=\"indirection\" />\r\n    </exit>\r\n  </object>\r\n  <object name=\"calendar\">\r\n    <inherit name=\"editor_object\" />\r\n    <holidays type=\"stringdictionary\">\r\n      <item>\r\n        <key>valentines</key>\r\n        <value>Insert Valentine's Day message here!</value>\r\n      </item>\r\n      <item>\r\n        <key>easter</key>\r\n        <value>INSERT EASTER EGGS ALERT HERE!</value>\r\n      </item>\r\n      <item>\r\n        <key>stPatricks</key>\r\n        <value>INSERT SAINT PATRICK'S DAY MESSAGE!</value>\r\n      </item>\r\n      <item>\r\n        <key>hallowsShroud</key>\r\n        <value>INSERT HALLOW'S SHROUD MESSAGE</value>\r\n      </item>\r\n      <item>\r\n        <key>christmas</key>\r\n        <value>INSERT XMAS MESSAGE</value>\r\n      </item>\r\n      <item>\r\n        <key>newYears</key>\r\n        <value>We hope you have a happy and safe new year!</value>\r\n      </item>\r\n    </holidays>\r\n    <isHoliday type=\"boolean\">false</isHoliday>\r\n    <holiday type=\"string\"></holiday>\r\n  </object>\r\n  <object name=\"another room\">\r\n    <inherit name=\"editor_room\" />\r\n    <description><![CDATA[This room is pointless.<br/><br/>{command:out:Go back to the first room.}]]></description>\r\n    <enter type=\"script\">\r\n    </enter>\r\n    <exit alias=\"out\" to=\"room\">\r\n      <inherit name=\"outdirection\" />\r\n    </exit>\r\n  </object>\r\n  <object name=\"js_room\">\r\n    <inherit name=\"editor_room\" />\r\n    <description><![CDATA[/*! simpleWeather v3.1.0 - http://simpleweatherjs.com */!function(t){\"use strict\";function e(t,e){return\"f\"===t?Math.round(5/9*(e-32)):Math.round(1.8*e+32)}t.extend({simpleWeather:function(i){i=t.extend({location:\"\",woeid:\"\",unit:\"f\",success:function(t){},error:function(t){}},i);var o=new Date,n=\"https://query.yahooapis.com/v1/public/yql?format=json&rnd=\"+o.getFullYear()+o.getMonth()+o.getDay()+o.getHours()+\"&diagnostics=true&callback=?&q=\";if(\"\"!==i.location){var r=\"\";r=/^(\\-?\\d+(\\.\\d+)?),\\s*(\\-?\\d+(\\.\\d+)?)$/.test(i.location)?\"(\"+i.location+\")\":i.location,n+='select * from weather.forecast where woeid in (select woeid from geo.places(1) where text=\"'+r+'\") and u=\"'+i.unit+'\"'}else{if(\"\"===i.woeid)return i.error(\"Could not retrieve weather due to an invalid location.\"),!1;n+=\"select * from weather.forecast where woeid=\"+i.woeid+' and u=\"'+i.unit+'\"'}return t.getJSON(encodeURI(n),function(t){if(null!==t&&null!==t.query&&null!==t.query.results&&\"Yahoo! Weather Error\"!==t.query.results.channel.description){var o,n=t.query.results.channel,r={},s=[\"N\",\"NNE\",\"NE\",\"ENE\",\"E\",\"ESE\",\"SE\",\"SSE\",\"S\",\"SSW\",\"SW\",\"WSW\",\"W\",\"WNW\",\"NW\",\"NNW\",\"N\"],a=\"https://s.yimg.com/os/mit/media/m/weather/images/icons/l/44d-100567.png\";r.title=n.item.title,r.temp=n.item.condition.temp,r.code=n.item.condition.code,r.todayCode=n.item.forecast[0].code,r.currently=n.item.condition.text,r.high=n.item.forecast[0].high,r.low=n.item.forecast[0].low,r.text=n.item.forecast[0].text,r.humidity=n.atmosphere.humidity,r.pressure=n.atmosphere.pressure,r.rising=n.atmosphere.rising,r.visibility=n.atmosphere.visibility,r.sunrise=n.astronomy.sunrise,r.sunset=n.astronomy.sunset,r.description=n.item.description,r.city=n.location.city,r.country=n.location.country,r.region=n.location.region,r.updated=n.item.pubDate,r.link=n.item.link,r.units={temp:n.units.temperature,distance:n.units.distance,pressure:n.units.pressure,speed:n.units.speed},r.wind={chill:n.wind.chill,direction:s[Math.round(n.wind.direction/22.5)],speed:n.wind.speed},n.item.condition.temp<80&&n.atmosphere.humidity<40?r.heatindex=-42.379+2.04901523*n.item.condition.temp+10.14333127*n.atmosphere.humidity-.22475541*n.item.condition.temp*n.atmosphere.humidity-6.83783*Math.pow(10,-3)*Math.pow(n.item.condition.temp,2)-5.481717*Math.pow(10,-2)*Math.pow(n.atmosphere.humidity,2)+1.22874*Math.pow(10,-3)*Math.pow(n.item.condition.temp,2)*n.atmosphere.humidity+8.5282*Math.pow(10,-4)*n.item.condition.temp*Math.pow(n.atmosphere.humidity,2)-1.99*Math.pow(10,-6)*Math.pow(n.item.condition.temp,2)*Math.pow(n.atmosphere.humidity,2):r.heatindex=n.item.condition.temp,\"3200\"==n.item.condition.code?(r.thumbnail=a,r.image=a):(r.thumbnail=\"https://s.yimg.com/zz/combo?a/i/us/nws/weather/gr/\"+n.item.condition.code+\"ds.png\",r.image=\"https://s.yimg.com/zz/combo?a/i/us/nws/weather/gr/\"+n.item.condition.code+\"d.png\"),r.alt={temp:e(i.unit,n.item.condition.temp),high:e(i.unit,n.item.forecast[0].high),low:e(i.unit,n.item.forecast[0].low)},\"f\"===i.unit?r.alt.unit=\"c\":r.alt.unit=\"f\",r.forecast=[];for(var m=0;m<n.item.forecast.length;m++)o=n.item.forecast[m],o.alt={high:e(i.unit,n.item.forecast[m].high),low:e(i.unit,n.item.forecast[m].low)},\"3200\"==n.item.forecast[m].code?(o.thumbnail=a,o.image=a):(o.thumbnail=\"https://s.yimg.com/zz/combo?a/i/us/nws/weather/gr/\"+n.item.forecast[m].code+\"ds.png\",o.image=\"https://s.yimg.com/zz/combo?a/i/us/nws/weather/gr/\"+n.item.forecast[m].code+\"d.png\"),r.forecast.push(o);i.success(r)}else i.error(\"There was a problem retrieving the latest weather information.\")}),this}})}(jQuery);function loadWeather(location, woeid) {  $.simpleWeather({    location: location,    woeid: woeid,    unit: 'f',    success: function(weather) {      ASLEvent('SetTempF',weather.temp);ASLEvent('SetCityFromWeather',weather.city);ASLEvent('SetWeatherCode',weather.code);ASLEvent('SetTempCelsius',weather.alt.temp);setTimeout(function(){html = '<h2><i class=\"icon-'+weather.code+'\"></i> '+weather.temp+'&deg;'+weather.units.temp+'</h2>';      html += '<ul><li>'+weather.city+', '+weather.region+'</li>';      html += '<li class=\"currently\">'+weather.currently+'</li>';      html += '<li>'+weather.alt.temp+'&deg;C</li></ul>';              $('#weather').html(html); },500);   },    error: function(error) {      alert('error with weather');      $(\"#weather\").html('<p>'+error+'</p>');  }  });};]]></description>\r\n    <attr name=\"implementation_notes\"><![CDATA[simpleWeather.js<br/><br/>MIT license<br/><br/>----------------------------------------------------------------------------------<br/><br/>Copyright (c) 2016 James Fleeting, http://jamesfleeting.com/\r\n\r\nPermission is hereby granted, free of charge, to any person obtaining\r\na copy of this software and associated documentation files (the\r\n\"Software\"), to deal in the Software without restriction, including\r\nwithout limitation the rights to use, copy, modify, merge, publish,\r\ndistribute, sublicense, and/or sell copies of the Software, and to\r\npermit persons to whom the Software is furnished to do so, subject to\r\nthe following conditions:\r\n\r\nThe above copyright notice and this permission notice shall be\r\nincluded in all copies or substantial portions of the Software.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\r\nEXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\nMERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\nNONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\r\nLIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\r\nOF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\r\nWITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n                    ]]></attr>\r\n  </object>\r\n  <command name=\"contact\">\r\n    <pattern>contact;contacts;email;message;bug;report;issue</pattern>\r\n    <script>\r\n      DisplayMailtoLink (\"richardheadkid@gmail.com\", \"richardheadkid@gmail.com\")\r\n    </script>\r\n  </command>\r\n  <function name=\"SetMonth\" parameters=\"month\">\r\n    calendar.month = month\r\n  </function>\r\n  <function name=\"HolidayMessage\" parameters=\"holiday\" type=\"string\">\r\n    return (StringDictionaryItem(calendar.holidays,holiday))\r\n  </function>\r\n  <function name=\"SetHoliday\" parameters=\"holiday\">\r\n    calendar.isHoliday = true\r\n    calendar.holiday = holiday\r\n  </function>\r\n  <function name=\"SetDay\" parameters=\"day\">\r\n    calendar.day = day\r\n  </function>\r\n  <function name=\"SetTempF\" parameters=\"temp\">\r\n    calendar.tempF = temp\r\n  </function>\r\n  <function name=\"SetWeatherCode\" parameters=\"weatherCode\">\r\n    calendar.weatherCode = weatherCode\r\n  </function>\r\n  <function name=\"SetCityFromWeather\" parameters=\"city\">\r\n    calendar.weatherCity = city\r\n  </function>\r\n  <function name=\"SetTempCelsius\" parameters=\"tempCelsius\">\r\n    calendar.tempC = tempCelsius\r\n  </function>\r\n  <function name=\"WeatherStatus\" parameters=\"code\" type=\"string\">\r\n    status = StringDictionaryItem(calendar.weatherCodeDict,code)\r\n    return (status)\r\n  </function>\r\n  <function name=\"SetCityManually\" parameters=\"city\">\r\n    calendar.playerCity = city\r\n  </function>\r\n  <function name=\"SetYear\" parameters=\"year\">\r\n    calendar.year = year\r\n  </function>\r\n  <function name=\"SetDate\" parameters=\"date\">\r\n    calendar.dateAsString = date\r\n  </function>\r\n  <function name=\"SetTime\" parameters=\"time\">\r\n    calendar.timeJS = time\r\n  </function>\r\n  <function name=\"SetHours\" parameters=\"hrs\">\r\n    calendar.hoursJS = ToInt(hrs)\r\n  </function>\r\n  <function name=\"SetMinutes\" parameters=\"min\">\r\n    calendar.minutesJS = ToInt(min)\r\n  </function>\r\n</asl>\r\n```\r\n\r\n</details>\r\n\r\n---\r\n![image](https://user-images.githubusercontent.com/30656341/34434880-e2b613f2-ec4e-11e7-8202-7424b6e7ec24.png)\r\n\r\n\r\n---\r\n\r\n---\r\nSomething in the room description throws an error in the web player for some reason.  (It may be the text processor (I have it evaluating functions that return strings from dictionaries), but that's just a wild guess.)\r\n\r\n---\r\nSCREENSHOT OF DESKTOP PLAYER:\r\n\r\n---\r\n![image](https://user-images.githubusercontent.com/30656341/34434695-656d235a-ec4d-11e7-992a-9718826e42e2.png)\r\n\r\n\r\n\r\n---\r\nSCREENSHOT OF ONLINE PLAY:\r\n\r\n---\r\n[![https://screenshots.firefoxusercontent.com/images/d18898da-2c4e-4152-9856-6cde195edca1.png](https://screenshots.firefoxusercontent.com/images/d18898da-2c4e-4152-9856-6cde195edca1.png)](https://screenshots.firefoxusercontent.com/images/d18898da-2c4e-4152-9856-6cde195edca1.png)",
      "EditableFormat": "markdown",
      "HTML": "<p>So, <a href=\"http://textadventures.co.uk/forum/quest/topic/rykk91-r_k_wxw7edgei_g/real-world-time\" title=\"Visit the thread!\">Anonynn asked something in a different thread</a>, and I got a little crazy while playing around with what I learned while trying to help.</p>\n<p>http://textadventures.co.uk/games/view/yfl6ohdto0il_0l_hj0ggg/date-and-weather-and-stuff</p>\n<p>(It works in the desktop player, but it only works halfway in the web player.)</p>\n<hr>\n<p>The code:</p>\n<details>\n<pre><code>&lt;!--Saved by Quest 5.7.6404.15496--&gt;\n&lt;asl version=\"550\"&gt;\n  &lt;include ref=\"English.aslx\" /&gt;\n  &lt;include ref=\"Core.aslx\" /&gt;\n  &lt;game name=\"Date and Weather and stuff\"&gt;\n    &lt;gameid&gt;113ae923-f8a2-4b92-a4a6-1af36ab0ba4c&lt;/gameid&gt;\n    &lt;version&gt;1.0&lt;/version&gt;\n    &lt;firstpublished&gt;2017&lt;/firstpublished&gt;\n    &lt;feature_annotations /&gt;\n    &lt;attr name=\"feature_advancedwearables\" type=\"boolean\"&gt;false&lt;/attr&gt;\n    &lt;feature_advancedscripts /&gt;\n    &lt;start type=\"script\"&gt;&lt;![CDATA[\n      calendar.weatherCodeDict = NewStringDictionary()\n      dictionary add (calendar.weatherCodeDict, \"0\", \"tornado\")\n      dictionary add (calendar.weatherCodeDict, \"1\", \"tropical storm\")\n      dictionary add (calendar.weatherCodeDict, \"2\", \"hurricane\")\n      dictionary add (calendar.weatherCodeDict, \"3\", \"severe thunderstorms\")\n      dictionary add (calendar.weatherCodeDict, \"4\", \"thunderstorms\")\n      dictionary add (calendar.weatherCodeDict, \"5\", \"mixed rain and snow\")\n      dictionary add (calendar.weatherCodeDict, \"6\", \"mixed rain and sleet\")\n      dictionary add (calendar.weatherCodeDict, \"7\", \"mixed snow and sleet\")\n      dictionary add (calendar.weatherCodeDict, \"8\", \"freezing drizzle\")\n      dictionary add (calendar.weatherCodeDict, \"9\", \"drizzle\")\n      dictionary add (calendar.weatherCodeDict, \"10\", \"freezing rain\")\n      dictionary add (calendar.weatherCodeDict, \"11\", \"showers\")\n      dictionary add (calendar.weatherCodeDict, \"12\", \"showers\")\n      dictionary add (calendar.weatherCodeDict, \"13\", \"snow flurries\")\n      dictionary add (calendar.weatherCodeDict, \"14\", \"light snow showers\")\n      dictionary add (calendar.weatherCodeDict, \"15\", \"blowing snow\")\n      dictionary add (calendar.weatherCodeDict, \"16\", \"snow\")\n      dictionary add (calendar.weatherCodeDict, \"17\", \"hail\")\n      dictionary add (calendar.weatherCodeDict, \"18\", \"sleet\")\n      dictionary add (calendar.weatherCodeDict, \"19\", \"dust\")\n      dictionary add (calendar.weatherCodeDict, \"20\", \"foggy\")\n      dictionary add (calendar.weatherCodeDict, \"21\", \"haze\")\n      dictionary add (calendar.weatherCodeDict, \"22\", \"smoky\")\n      dictionary add (calendar.weatherCodeDict, \"23\", \"blustery\")\n      dictionary add (calendar.weatherCodeDict, \"24\", \"windy\")\n      dictionary add (calendar.weatherCodeDict, \"25\", \"cold\")\n      dictionary add (calendar.weatherCodeDict, \"26\", \"cloudy\")\n      dictionary add (calendar.weatherCodeDict, \"27\", \"mostly cloudy\")\n      dictionary add (calendar.weatherCodeDict, \"28\", \"mostly cloudy\")\n      dictionary add (calendar.weatherCodeDict, \"29\", \"partly cloudy\")\n      dictionary add (calendar.weatherCodeDict, \"30\", \"partly cloudy\")\n      dictionary add (calendar.weatherCodeDict, \"31\", \"clear\")\n      dictionary add (calendar.weatherCodeDict, \"32\", \"sunny\")\n      dictionary add (calendar.weatherCodeDict, \"33\", \"fair\")\n      dictionary add (calendar.weatherCodeDict, \"34\", \"fair\")\n      dictionary add (calendar.weatherCodeDict, \"35\", \"mixed rain and hail\")\n      dictionary add (calendar.weatherCodeDict, \"36\", \"hot\")\n      dictionary add (calendar.weatherCodeDict, \"37\", \"isolated thunderstorms\")\n      dictionary add (calendar.weatherCodeDict, \"38\", \"scattered thunderstorms\")\n      dictionary add (calendar.weatherCodeDict, \"39\", \"scattered thunderstorms\")\n      dictionary add (calendar.weatherCodeDict, \"40\", \"scattered showers\")\n      dictionary add (calendar.weatherCodeDict, \"41\", \"heavy snow\")\n      dictionary add (calendar.weatherCodeDict, \"42\", \"scattered snow showers\")\n      dictionary add (calendar.weatherCodeDict, \"43\", \"heavy snow\")\n      dictionary add (calendar.weatherCodeDict, \"44\", \"partly cloudy\")\n      dictionary add (calendar.weatherCodeDict, \"45\", \"thundershowers\")\n      dictionary add (calendar.weatherCodeDict, \"46\", \"snow showers\")\n      dictionary add (calendar.weatherCodeDict, \"47\", \"isolated thundershowers\")\n      dictionary add (calendar.weatherCodeDict, \"3200\", \"not available\")\n      // JS.eval (js_room.description)\n      JS.eval (\"var today = new Date();var dd = today.getDate();var mm = today.getMonth()+1;var yyyy = today.getFullYear();var hrs = today.getHours();var mins = today.getMinutes();var secs = today.getSeconds();ASLEvent('SetHours',hrs);ASLEvent('SetMinutes',mins);if(dd&lt;10) {\tdd = '0'+dd} if(mm&lt;10) {\tmm = '0'+mm} today = mm + '/' + dd + '/' + yyyy;if(hrs&gt;12) {\tampm = 'pm';\thrs = '0' + '' + hrs - 12}else{\tampm = 'am'} if (mins&lt;10) {\tmins = '0'+mins} if(secs&lt;10) {secs = '0' + secs}time = hrs + ':' + mins + ':' + secs + ' ' + ampm;ASLEvent('SetDate',today);ASLEvent('SetTime',time);ASLEvent('SetYear',yyyy);ASLEvent('SetMonth',mm);ASLEvent('SetDay',dd);if(mm==12&amp;&amp;(dd&gt;27&amp;&amp;dd&lt;=31)){ASLEvent('SetHoliday','newYears');};\")\n    ]]&gt;&lt;/start&gt;\n    &lt;inituserinterface type=\"script\"&gt;\n    &lt;/inituserinterface&gt;\n    &lt;object name=\"startupRoom\"&gt;\n      &lt;inherit name=\"editor_room\" /&gt;\n      &lt;enter type=\"script\"&gt;\n        ClearScreen\n        msg (\"Please enter the name of the city in which you are currently located.\")\n        get input {\n          SetCityManually (result)\n          msg (\"Setting city to \"+result+\".\")\n          JS.eval (js_room.description)\n          SetTimeout (2) {\n            JS.loadWeather (calendar.playerCity)\n          }\n          SetTimeout (4) {\n            ClearScreen\n            MoveObject (game.pov, room)\n            JS.loadWeather (calendar.playerCity)\n          }\n        }\n      &lt;/enter&gt;\n      &lt;object name=\"player\"&gt;\n        &lt;inherit name=\"editor_object\" /&gt;\n        &lt;inherit name=\"editor_player\" /&gt;\n      &lt;/object&gt;\n    &lt;/object&gt;\n  &lt;/game&gt;\n  &lt;object name=\"room\"&gt;\n    &lt;inherit name=\"editor_room\" /&gt;\n    &lt;description&gt;&lt;![CDATA[&lt;hr/&gt;&lt;br/&gt;Today is {calendar.month}-{calendar.day}-{calendar.year}.&lt;br/&gt;&lt;hr/&gt;&lt;br/&gt;&lt;br/&gt;It is {calendar.tempF}&amp;deg;F and {=WeatherStatus(calendar.weatherCode)} outside!{if calendar.isHoliday:&lt;br/&gt;&lt;br/&gt;{=HolidayMessage(calendar.holiday)}}&lt;br/&gt;&lt;br/&gt;&lt;div id='weather'&gt;&lt;/div&gt;]]&gt;&lt;/description&gt;\n    &lt;enter type=\"script\"&gt;&lt;![CDATA[\n      JS.eval (\"if(mm == 10 &amp;&amp; (15 &lt; dd &amp;&amp; dd &lt; 31)){alert('CHECK!');};\")\n    ]]&gt;&lt;/enter&gt;\n    &lt;object name=\"letter\"&gt;\n      &lt;inherit name=\"editor_object\" /&gt;\n      &lt;look&gt;&lt;![CDATA[It's a letter, dated {calendar.month}/{=ToInt(calendar.day)-2}/{calendar.year}.&lt;br/&gt;&lt;br/&gt;(You could try {command:read letter:reading} it.)]]&gt;&lt;/look&gt;\n      &lt;read&gt;&lt;![CDATA[{either letter.parent=game.pov:You have until 11:59 {if calendar.hoursJS&lt;10:a}{if calendar.hoursJS&gt;10:p}m on {calendar.month}/{calendar.day}/{calendar.year} to email the author to receive your secret command!  (Enter {command:CONTACT} for the link!).|You can't read something you're not holding.}]]&gt;&lt;/read&gt;\n      &lt;take /&gt;\n    &lt;/object&gt;\n    &lt;exit alias=\"in\" to=\"another room\"&gt;\n      &lt;inherit name=\"indirection\" /&gt;\n    &lt;/exit&gt;\n  &lt;/object&gt;\n  &lt;object name=\"calendar\"&gt;\n    &lt;inherit name=\"editor_object\" /&gt;\n    &lt;holidays type=\"stringdictionary\"&gt;\n      &lt;item&gt;\n        &lt;key&gt;valentines&lt;/key&gt;\n        &lt;value&gt;Insert Valentine's Day message here!&lt;/value&gt;\n      &lt;/item&gt;\n      &lt;item&gt;\n        &lt;key&gt;easter&lt;/key&gt;\n        &lt;value&gt;INSERT EASTER EGGS ALERT HERE!&lt;/value&gt;\n      &lt;/item&gt;\n      &lt;item&gt;\n        &lt;key&gt;stPatricks&lt;/key&gt;\n        &lt;value&gt;INSERT SAINT PATRICK'S DAY MESSAGE!&lt;/value&gt;\n      &lt;/item&gt;\n      &lt;item&gt;\n        &lt;key&gt;hallowsShroud&lt;/key&gt;\n        &lt;value&gt;INSERT HALLOW'S SHROUD MESSAGE&lt;/value&gt;\n      &lt;/item&gt;\n      &lt;item&gt;\n        &lt;key&gt;christmas&lt;/key&gt;\n        &lt;value&gt;INSERT XMAS MESSAGE&lt;/value&gt;\n      &lt;/item&gt;\n      &lt;item&gt;\n        &lt;key&gt;newYears&lt;/key&gt;\n        &lt;value&gt;We hope you have a happy and safe new year!&lt;/value&gt;\n      &lt;/item&gt;\n    &lt;/holidays&gt;\n    &lt;isHoliday type=\"boolean\"&gt;false&lt;/isHoliday&gt;\n    &lt;holiday type=\"string\"&gt;&lt;/holiday&gt;\n  &lt;/object&gt;\n  &lt;object name=\"another room\"&gt;\n    &lt;inherit name=\"editor_room\" /&gt;\n    &lt;description&gt;&lt;![CDATA[This room is pointless.&lt;br/&gt;&lt;br/&gt;{command:out:Go back to the first room.}]]&gt;&lt;/description&gt;\n    &lt;enter type=\"script\"&gt;\n    &lt;/enter&gt;\n    &lt;exit alias=\"out\" to=\"room\"&gt;\n      &lt;inherit name=\"outdirection\" /&gt;\n    &lt;/exit&gt;\n  &lt;/object&gt;\n  &lt;object name=\"js_room\"&gt;\n    &lt;inherit name=\"editor_room\" /&gt;\n    &lt;description&gt;&lt;![CDATA[/*! simpleWeather v3.1.0 - http://simpleweatherjs.com */!function(t){\"use strict\";function e(t,e){return\"f\"===t?Math.round(5/9*(e-32)):Math.round(1.8*e+32)}t.extend({simpleWeather:function(i){i=t.extend({location:\"\",woeid:\"\",unit:\"f\",success:function(t){},error:function(t){}},i);var o=new Date,n=\"https://query.yahooapis.com/v1/public/yql?format=json&amp;rnd=\"+o.getFullYear()+o.getMonth()+o.getDay()+o.getHours()+\"&amp;diagnostics=true&amp;callback=?&amp;q=\";if(\"\"!==i.location){var r=\"\";r=/^(\\-?\\d+(\\.\\d+)?),\\s*(\\-?\\d+(\\.\\d+)?)$/.test(i.location)?\"(\"+i.location+\")\":i.location,n+='select * from weather.forecast where woeid in (select woeid from geo.places(1) where text=\"'+r+'\") and u=\"'+i.unit+'\"'}else{if(\"\"===i.woeid)return i.error(\"Could not retrieve weather due to an invalid location.\"),!1;n+=\"select * from weather.forecast where woeid=\"+i.woeid+' and u=\"'+i.unit+'\"'}return t.getJSON(encodeURI(n),function(t){if(null!==t&amp;&amp;null!==t.query&amp;&amp;null!==t.query.results&amp;&amp;\"Yahoo! Weather Error\"!==t.query.results.channel.description){var o,n=t.query.results.channel,r={},s=[\"N\",\"NNE\",\"NE\",\"ENE\",\"E\",\"ESE\",\"SE\",\"SSE\",\"S\",\"SSW\",\"SW\",\"WSW\",\"W\",\"WNW\",\"NW\",\"NNW\",\"N\"],a=\"https://s.yimg.com/os/mit/media/m/weather/images/icons/l/44d-100567.png\";r.title=n.item.title,r.temp=n.item.condition.temp,r.code=n.item.condition.code,r.todayCode=n.item.forecast[0].code,r.currently=n.item.condition.text,r.high=n.item.forecast[0].high,r.low=n.item.forecast[0].low,r.text=n.item.forecast[0].text,r.humidity=n.atmosphere.humidity,r.pressure=n.atmosphere.pressure,r.rising=n.atmosphere.rising,r.visibility=n.atmosphere.visibility,r.sunrise=n.astronomy.sunrise,r.sunset=n.astronomy.sunset,r.description=n.item.description,r.city=n.location.city,r.country=n.location.country,r.region=n.location.region,r.updated=n.item.pubDate,r.link=n.item.link,r.units={temp:n.units.temperature,distance:n.units.distance,pressure:n.units.pressure,speed:n.units.speed},r.wind={chill:n.wind.chill,direction:s[Math.round(n.wind.direction/22.5)],speed:n.wind.speed},n.item.condition.temp&lt;80&amp;&amp;n.atmosphere.humidity&lt;40?r.heatindex=-42.379+2.04901523*n.item.condition.temp+10.14333127*n.atmosphere.humidity-.22475541*n.item.condition.temp*n.atmosphere.humidity-6.83783*Math.pow(10,-3)*Math.pow(n.item.condition.temp,2)-5.481717*Math.pow(10,-2)*Math.pow(n.atmosphere.humidity,2)+1.22874*Math.pow(10,-3)*Math.pow(n.item.condition.temp,2)*n.atmosphere.humidity+8.5282*Math.pow(10,-4)*n.item.condition.temp*Math.pow(n.atmosphere.humidity,2)-1.99*Math.pow(10,-6)*Math.pow(n.item.condition.temp,2)*Math.pow(n.atmosphere.humidity,2):r.heatindex=n.item.condition.temp,\"3200\"==n.item.condition.code?(r.thumbnail=a,r.image=a):(r.thumbnail=\"https://s.yimg.com/zz/combo?a/i/us/nws/weather/gr/\"+n.item.condition.code+\"ds.png\",r.image=\"https://s.yimg.com/zz/combo?a/i/us/nws/weather/gr/\"+n.item.condition.code+\"d.png\"),r.alt={temp:e(i.unit,n.item.condition.temp),high:e(i.unit,n.item.forecast[0].high),low:e(i.unit,n.item.forecast[0].low)},\"f\"===i.unit?r.alt.unit=\"c\":r.alt.unit=\"f\",r.forecast=[];for(var m=0;m&lt;n.item.forecast.length;m++)o=n.item.forecast[m],o.alt={high:e(i.unit,n.item.forecast[m].high),low:e(i.unit,n.item.forecast[m].low)},\"3200\"==n.item.forecast[m].code?(o.thumbnail=a,o.image=a):(o.thumbnail=\"https://s.yimg.com/zz/combo?a/i/us/nws/weather/gr/\"+n.item.forecast[m].code+\"ds.png\",o.image=\"https://s.yimg.com/zz/combo?a/i/us/nws/weather/gr/\"+n.item.forecast[m].code+\"d.png\"),r.forecast.push(o);i.success(r)}else i.error(\"There was a problem retrieving the latest weather information.\")}),this}})}(jQuery);function loadWeather(location, woeid) {  $.simpleWeather({    location: location,    woeid: woeid,    unit: 'f',    success: function(weather) {      ASLEvent('SetTempF',weather.temp);ASLEvent('SetCityFromWeather',weather.city);ASLEvent('SetWeatherCode',weather.code);ASLEvent('SetTempCelsius',weather.alt.temp);setTimeout(function(){html = '&lt;h2&gt;&lt;i class=\"icon-'+weather.code+'\"&gt;&lt;/i&gt; '+weather.temp+'&amp;deg;'+weather.units.temp+'&lt;/h2&gt;';      html += '&lt;ul&gt;&lt;li&gt;'+weather.city+', '+weather.region+'&lt;/li&gt;';      html += '&lt;li class=\"currently\"&gt;'+weather.currently+'&lt;/li&gt;';      html += '&lt;li&gt;'+weather.alt.temp+'&amp;deg;C&lt;/li&gt;&lt;/ul&gt;';              $('#weather').html(html); },500);   },    error: function(error) {      alert('error with weather');      $(\"#weather\").html('&lt;p&gt;'+error+'&lt;/p&gt;');  }  });};]]&gt;&lt;/description&gt;\n    &lt;attr name=\"implementation_notes\"&gt;&lt;![CDATA[simpleWeather.js&lt;br/&gt;&lt;br/&gt;MIT license&lt;br/&gt;&lt;br/&gt;----------------------------------------------------------------------------------&lt;br/&gt;&lt;br/&gt;Copyright (c) 2016 James Fleeting, http://jamesfleeting.com/\n\nPermission is hereby granted, free of charge, to any person obtaining\na copy of this software and associated documentation files (the\n\"Software\"), to deal in the Software without restriction, including\nwithout limitation the rights to use, copy, modify, merge, publish,\ndistribute, sublicense, and/or sell copies of the Software, and to\npermit persons to whom the Software is furnished to do so, subject to\nthe following conditions:\n\nThe above copyright notice and this permission notice shall be\nincluded in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\nEXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\nMERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\nNONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\nLIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\nOF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\nWITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n                    ]]&gt;&lt;/attr&gt;\n  &lt;/object&gt;\n  &lt;command name=\"contact\"&gt;\n    &lt;pattern&gt;contact;contacts;email;message;bug;report;issue&lt;/pattern&gt;\n    &lt;script&gt;\n      DisplayMailtoLink (\"richardheadkid@gmail.com\", \"richardheadkid@gmail.com\")\n    &lt;/script&gt;\n  &lt;/command&gt;\n  &lt;function name=\"SetMonth\" parameters=\"month\"&gt;\n    calendar.month = month\n  &lt;/function&gt;\n  &lt;function name=\"HolidayMessage\" parameters=\"holiday\" type=\"string\"&gt;\n    return (StringDictionaryItem(calendar.holidays,holiday))\n  &lt;/function&gt;\n  &lt;function name=\"SetHoliday\" parameters=\"holiday\"&gt;\n    calendar.isHoliday = true\n    calendar.holiday = holiday\n  &lt;/function&gt;\n  &lt;function name=\"SetDay\" parameters=\"day\"&gt;\n    calendar.day = day\n  &lt;/function&gt;\n  &lt;function name=\"SetTempF\" parameters=\"temp\"&gt;\n    calendar.tempF = temp\n  &lt;/function&gt;\n  &lt;function name=\"SetWeatherCode\" parameters=\"weatherCode\"&gt;\n    calendar.weatherCode = weatherCode\n  &lt;/function&gt;\n  &lt;function name=\"SetCityFromWeather\" parameters=\"city\"&gt;\n    calendar.weatherCity = city\n  &lt;/function&gt;\n  &lt;function name=\"SetTempCelsius\" parameters=\"tempCelsius\"&gt;\n    calendar.tempC = tempCelsius\n  &lt;/function&gt;\n  &lt;function name=\"WeatherStatus\" parameters=\"code\" type=\"string\"&gt;\n    status = StringDictionaryItem(calendar.weatherCodeDict,code)\n    return (status)\n  &lt;/function&gt;\n  &lt;function name=\"SetCityManually\" parameters=\"city\"&gt;\n    calendar.playerCity = city\n  &lt;/function&gt;\n  &lt;function name=\"SetYear\" parameters=\"year\"&gt;\n    calendar.year = year\n  &lt;/function&gt;\n  &lt;function name=\"SetDate\" parameters=\"date\"&gt;\n    calendar.dateAsString = date\n  &lt;/function&gt;\n  &lt;function name=\"SetTime\" parameters=\"time\"&gt;\n    calendar.timeJS = time\n  &lt;/function&gt;\n  &lt;function name=\"SetHours\" parameters=\"hrs\"&gt;\n    calendar.hoursJS = ToInt(hrs)\n  &lt;/function&gt;\n  &lt;function name=\"SetMinutes\" parameters=\"min\"&gt;\n    calendar.minutesJS = ToInt(min)\n  &lt;/function&gt;\n&lt;/asl&gt;\n</code></pre>\n</details>\n<hr>\n<p><img src=\"https://user-images.githubusercontent.com/30656341/34434880-e2b613f2-ec4e-11e7-8202-7424b6e7ec24.png\" alt=\"image\"></p>\n<hr>\n<hr>\n<p>Something in the room description throws an error in the web player for some reason.  (It may be the text processor (I have it evaluating functions that return strings from dictionaries), but that's just a wild guess.)</p>\n<hr>\n<p>SCREENSHOT OF DESKTOP PLAYER:</p>\n<hr>\n<p><img src=\"https://user-images.githubusercontent.com/30656341/34434695-656d235a-ec4d-11e7-992a-9718826e42e2.png\" alt=\"image\"></p>\n<hr>\n<p>SCREENSHOT OF ONLINE PLAY:</p>\n<hr>\n<p><a href=\"https://screenshots.firefoxusercontent.com/images/d18898da-2c4e-4152-9856-6cde195edca1.png\"><img src=\"https://screenshots.firefoxusercontent.com/images/d18898da-2c4e-4152-9856-6cde195edca1.png\" alt=\"https://screenshots.firefoxusercontent.com/images/d18898da-2c4e-4152-9856-6cde195edca1.png\"></a></p>\n\n",
      "PostDate": "2017-12-29T10:16:43.89884Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "30c6240c-a0f8-4f24-9dcc-e4ac112cbe7d",
      "UserId": 318253,
      "Username": "K.V.",
      "AvatarUrl": "https://i.imgur.com/Te0Y5FPb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "It didn't fix it when I changed it from the text-processor stuff to a normal ```msg```.  I get the same error online, but not in the desktop player (just like before).\r\n\r\nThis makes me think it might have something to do with loading time at startup?\r\n\r\n---\r\n```\r\nError running script: Error compiling expression 'StringDictionaryItem(calendar.weatherCodeDict,code)': FunctionCallElement: Could find not function 'StringDictionaryItem(QuestDictionary`1; Object)'\r\n```\r\n\r\nDoes that mean it couldn't find the dictionary, or the parameter was null?  (I'm thinking the parameter was null.)",
      "EditableFormat": "markdown",
      "HTML": "<p>It didn't fix it when I changed it from the text-processor stuff to a normal <code>msg</code>.  I get the same error online, but not in the desktop player (just like before).</p>\n<p>This makes me think it might have something to do with loading time at startup?</p>\n<hr>\n<pre><code>Error running script: Error compiling expression 'StringDictionaryItem(calendar.weatherCodeDict,code)': FunctionCallElement: Could find not function 'StringDictionaryItem(QuestDictionary`1; Object)'\n</code></pre>\n<p>Does that mean it couldn't find the dictionary, or the parameter was null?  (I'm thinking the parameter was null.)</p>\n\n",
      "PostDate": "2017-12-29T10:22:39.4718275Z",
      "LastEditDate": "2017-12-29T10:24:48.5826977Z",
      "link": null
    },
    {
      "PostId": "6edbaf58-5bab-4ac5-ba2a-fdd02ca2ab4a",
      "UserId": 1346,
      "Username": "The Pixie",
      "AvatarUrl": "https://secure.gravatar.com/avatar/cfa37e927f96177bcf6053ae8f108f77?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "That is pretty cool.\r\n\r\n> Does that mean it couldn't find the dictionary, or the parameter was null? (I'm thinking the parameter was null.)\r\n\r\nThe C# code that generated this message calls null \"Object\", so you are right.\r\n\r\nIt might be worth calling `WeatherStatus` before printing the room description; it could be that it gets called later as it is embedding in the strng for the text processor. Or is that what you meant by \"It didn't fix it when I changed it from the text-processor stuff to a normal msg\"?\r\n\r\nMight be useful putting a message in SetWeatherCode to see when it gets called, and with what value.",
      "EditableFormat": "markdown",
      "HTML": "<p>That is pretty cool.</p>\n<blockquote>\n<p>Does that mean it couldn't find the dictionary, or the parameter was null? (I'm thinking the parameter was null.)</p>\n</blockquote>\n<p>The C# code that generated this message calls null \"Object\", so you are right.</p>\n<p>It might be worth calling <code>WeatherStatus</code> before printing the room description; it could be that it gets called later as it is embedding in the strng for the text processor. Or is that what you meant by \"It didn't fix it when I changed it from the text-processor stuff to a normal msg\"?</p>\n<p>Might be useful putting a message in SetWeatherCode to see when it gets called, and with what value.</p>\n\n",
      "PostDate": "2017-12-29T11:11:44.7155385Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "86e8115f-b808-4ea1-8a6c-142e9cc9c599",
      "UserId": 318253,
      "Username": "K.V.",
      "AvatarUrl": "https://i.imgur.com/Te0Y5FPb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Thank you, thank you.\r\n\r\nI thought it sounded pretty cool when Anonynn asked about it.\r\n\r\n---\r\nIt's the date that's not getting set.  (I was thinking I was overloading the web player by calling a function that returned a string from a dictionary via the text-processor, but nope.)\r\n\r\nHrmm...\r\n\r\nI shall nap, then come back and fix this.",
      "EditableFormat": "markdown",
      "HTML": "<p>Thank you, thank you.</p>\n<p>I thought it sounded pretty cool when Anonynn asked about it.</p>\n<hr>\n<p>It's the date that's not getting set.  (I was thinking I was overloading the web player by calling a function that returned a string from a dictionary via the text-processor, but nope.)</p>\n<p>Hrmm...</p>\n<p>I shall nap, then come back and fix this.</p>\n\n",
      "PostDate": "2017-12-29T12:07:53.7468793Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "64f7686c-287c-47d6-b60c-db578d7c55a2",
      "UserId": 318253,
      "Username": "K.V.",
      "AvatarUrl": "https://i.imgur.com/Te0Y5FPb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Okay, I finally got it working online.\r\n\r\nhttp://textadventures.co.uk/games/view/yfl6ohdto0il_0l_hj0ggg/date-and-weather-and-stuff\r\n\r\n---\r\n@Anonynn\r\n\r\nThis <s>bud's</s> code's for you!\r\n\r\n---\r\nHere's the code:\r\n\r\n<details>\r\n\r\n```\r\n<!--Saved by Quest 5.7.6404.15496-->\r\n<asl version=\"550\">\r\n  <include ref=\"English.aslx\" />\r\n  <include ref=\"Core.aslx\" />\r\n  <game name=\"Date, Time, and Weather (and stuff)\">\r\n    <gameid>22ec145c-169f-4b9d-ae36-454f0d79af03</gameid>\r\n    <version>0.0.20</version>\r\n    <firstpublished>2017</firstpublished>\r\n    <feature_annotations />\r\n    <feature_advancedscripts />\r\n    <author>KV</author>\r\n    <start type=\"script\">\r\n      JS.eval (js.description)\r\n      JS.setupDateAndTime ()\r\n      SetTimeout (2) {\r\n        JS.setupDateAndTime ()\r\n      }\r\n    </start>\r\n    <description>This is just an example game.</description>\r\n    <object name=\"startupRoom\">\r\n      <inherit name=\"editor_room\" />\r\n      <usedefaultprefix type=\"boolean\">false</usedefaultprefix>\r\n      <alias>ENTER YOUR CITY</alias>\r\n      <enter type=\"script\">\r\n        JS.eval (\"$('#txtCommandDiv').show();\")\r\n        ClearScreen\r\n        msg (\"Please enter the name of the city in which you are currently located.\")\r\n        get input {\r\n          SetCityManually (result)\r\n          JS.eval (\"$('#txtCommand').hide();\")\r\n          OutputTextNoBr (\"Setting city to \"+result+\".\")\r\n          SetTimeout (2) {\r\n            // JS.eval (js_room.description)\r\n          }\r\n          SetTimeout (4) {\r\n            JS.loadWeather (calendar.playerCity)\r\n          }\r\n          SetTimeout (6) {\r\n            JS.eval (\"$('#txtCommand').show();\")\r\n            ClearScreen\r\n            MoveObject (game.pov, room)\r\n            JS.loadWeather (calendar.playerCity)\r\n          }\r\n          TextFX_Typewriter (\".....\", 950)\r\n        }\r\n      </enter>\r\n    </object>\r\n  </game>\r\n  <object name=\"room\">\r\n    <inherit name=\"editor_room\" />\r\n    <description type=\"script\"><![CDATA[\r\n      msg (\"<hr/><br/>Today is \"+calendar.month+\"-\"+calendar.day+\"-\"+calendar.year+\".<br/><hr/><br/><br/>It is \"+calendar.tempF+\"&deg;F and \"+WeatherStatus(calendar.weatherCode)+\" outside!\")\r\n      if (IsHoliday()) {\r\n        msg (\"<br/><br/>\"+HolidayMessage(calendar.holiday)+\"<br/><br/>\")\r\n      }\r\n      msg (\"<div id='weather'></div>\")\r\n    ]]></description>\r\n    <enter type=\"script\">\r\n    </enter>\r\n    <object name=\"letter\">\r\n      <inherit name=\"editor_object\" />\r\n      <look><![CDATA[It's a letter, dated {calendar.month}/{=ToInt(calendar.day)-2}/{calendar.year}.<br/><br/>(You could try {command:read letter:reading} it.)]]></look>\r\n      <read><![CDATA[{either letter.parent=game.pov:You have until 11:59 {if calendar.hoursJS<10:a}{if calendar.hoursJS>10:p}m on {calendar.month}/{calendar.day}/{calendar.year} to email the author to receive your secret command!  (Enter {command:CONTACT} for the link!).|You can't read something you're not holding.}]]></read>\r\n      <take />\r\n      <inventoryverbs type=\"stringlist\">\r\n        <value>Look at</value>\r\n        <value>Drop</value>\r\n      </inventoryverbs>\r\n    </object>\r\n    <exit alias=\"in\" to=\"another room\">\r\n      <inherit name=\"indirection\" />\r\n    </exit>\r\n  </object>\r\n  <object name=\"calendar\">\r\n    <inherit name=\"editor_object\" />\r\n    <holidays type=\"stringdictionary\">\r\n      <item>\r\n        <key>valentines</key>\r\n        <value>Insert Valentine's Day message here!</value>\r\n      </item>\r\n      <item>\r\n        <key>easter</key>\r\n        <value>INSERT EASTER EGGS ALERT HERE!</value>\r\n      </item>\r\n      <item>\r\n        <key>stPatricks</key>\r\n        <value>INSERT SAINT PATRICK'S DAY MESSAGE!</value>\r\n      </item>\r\n      <item>\r\n        <key>hallowsShroud</key>\r\n        <value>INSERT HALLOW'S SHROUD MESSAGE</value>\r\n      </item>\r\n      <item>\r\n        <key>christmas</key>\r\n        <value>INSERT XMAS MESSAGE</value>\r\n      </item>\r\n      <item>\r\n        <key>newYears</key>\r\n        <value>We hope you have a happy and safe new year!</value>\r\n      </item>\r\n      <item>\r\n        <key>earthday</key>\r\n        <value>INSERT EARTH DAY MESSAGE!</value>\r\n      </item>\r\n    </holidays>\r\n    <isHoliday type=\"boolean\">false</isHoliday>\r\n    <holiday type=\"string\"></holiday>\r\n    <weatherCodeDict type=\"stringdictionary\">\r\n      <item>\r\n        <key>0</key>\r\n        <value>you need to take shelter because there is a tornado</value>\r\n      </item>\r\n      <item>\r\n        <key>1</key>\r\n        <value>you need to take shelter because there is a tropical storm</value>\r\n      </item>\r\n      <item>\r\n        <key>2</key>\r\n        <value>you need to take shelter because there is a hurricane</value>\r\n      </item>\r\n      <item>\r\n        <key>3</key>\r\n        <value>there are severe thunderstorms</value>\r\n      </item>\r\n      <item>\r\n        <key>4</key>\r\n        <value>there are thunderstorms</value>\r\n      </item>\r\n      <item>\r\n        <key>5</key>\r\n        <value>mixed rain and snow</value>\r\n      </item>\r\n      <item>\r\n        <key>6</key>\r\n        <value>mixed rain and sleet</value>\r\n      </item>\r\n      <item>\r\n        <key>7</key>\r\n        <value>mixed snow and sleet</value>\r\n      </item>\r\n      <item>\r\n        <key>8</key>\r\n        <value>there is freezing drizzle</value>\r\n      </item>\r\n      <item>\r\n        <key>9</key>\r\n        <value>there is drizzle</value>\r\n      </item>\r\n      <item>\r\n        <key>10</key>\r\n        <value>there is freezing rain</value>\r\n      </item>\r\n      <item>\r\n        <key>11</key>\r\n        <value>there are showers</value>\r\n      </item>\r\n      <item>\r\n        <key>12</key>\r\n        <value>there are showers</value>\r\n      </item>\r\n      <item>\r\n        <key>13</key>\r\n        <value>there are snow flurries</value>\r\n      </item>\r\n      <item>\r\n        <key>14</key>\r\n        <value>there are light snow showers</value>\r\n      </item>\r\n      <item>\r\n        <key>15</key>\r\n        <value>there is blowing snow</value>\r\n      </item>\r\n      <item>\r\n        <key>16</key>\r\n        <value>there is snow</value>\r\n      </item>\r\n      <item>\r\n        <key>17</key>\r\n        <value>there is hail</value>\r\n      </item>\r\n      <item>\r\n        <key>18</key>\r\n        <value>there is sleet</value>\r\n      </item>\r\n      <item>\r\n        <key>19</key>\r\n        <value>there is dust</value>\r\n      </item>\r\n      <item>\r\n        <key>20</key>\r\n        <value>foggy</value>\r\n      </item>\r\n      <item>\r\n        <key>21</key>\r\n        <value>there is haze</value>\r\n      </item>\r\n      <item>\r\n        <key>22</key>\r\n        <value>smoky</value>\r\n      </item>\r\n      <item>\r\n        <key>23</key>\r\n        <value>blustery</value>\r\n      </item>\r\n      <item>\r\n        <key>24</key>\r\n        <value>windy</value>\r\n      </item>\r\n      <item>\r\n        <key>25</key>\r\n        <value>cold</value>\r\n      </item>\r\n      <item>\r\n        <key>26</key>\r\n        <value>cloudy</value>\r\n      </item>\r\n      <item>\r\n        <key>27</key>\r\n        <value>mostly cloudy</value>\r\n      </item>\r\n      <item>\r\n        <key>28</key>\r\n        <value>mostly cloudy</value>\r\n      </item>\r\n      <item>\r\n        <key>29</key>\r\n        <value>partly cloudy</value>\r\n      </item>\r\n      <item>\r\n        <key>30</key>\r\n        <value>partly cloudy</value>\r\n      </item>\r\n      <item>\r\n        <key>31</key>\r\n        <value>clear</value>\r\n      </item>\r\n      <item>\r\n        <key>32</key>\r\n        <value>sunny</value>\r\n      </item>\r\n      <item>\r\n        <key>33</key>\r\n        <value>fair</value>\r\n      </item>\r\n      <item>\r\n        <key>34</key>\r\n        <value>fair</value>\r\n      </item>\r\n      <item>\r\n        <key>35</key>\r\n        <value>there is mixed rain and hail</value>\r\n      </item>\r\n      <item>\r\n        <key>36</key>\r\n        <value>it is hot</value>\r\n      </item>\r\n      <item>\r\n        <key>37</key>\r\n        <value>there are isolated thunderstorms</value>\r\n      </item>\r\n      <item>\r\n        <key>38</key>\r\n        <value>there are scattered thunderstorms</value>\r\n      </item>\r\n      <item>\r\n        <key>39</key>\r\n        <value>there are scattered thunderstorms</value>\r\n      </item>\r\n      <item>\r\n        <key>40</key>\r\n        <value>there are scattered showers</value>\r\n      </item>\r\n      <item>\r\n        <key>41</key>\r\n        <value>there is heavy snow</value>\r\n      </item>\r\n      <item>\r\n        <key>42</key>\r\n        <value>there are scattered snow showers</value>\r\n      </item>\r\n      <item>\r\n        <key>43</key>\r\n        <value>there is heavy snow</value>\r\n      </item>\r\n      <item>\r\n        <key>44</key>\r\n        <value>partly cloudy</value>\r\n      </item>\r\n      <item>\r\n        <key>45</key>\r\n        <value>there are thundershowers</value>\r\n      </item>\r\n      <item>\r\n        <key>46</key>\r\n        <value>there are snow showers</value>\r\n      </item>\r\n      <item>\r\n        <key>47</key>\r\n        <value>there are isolated thundershowers</value>\r\n      </item>\r\n      <item>\r\n        <key>3200</key>\r\n        <value>not available</value>\r\n      </item>\r\n    </weatherCodeDict>\r\n    <hoursJS type=\"int\">4</hoursJS>\r\n    <minutesJS type=\"int\">20</minutesJS>\r\n    <dateAsString>4/20/2017</dateAsString>\r\n    <timeJS>4:20:00 am</timeJS>\r\n    <year>2017</year>\r\n    <month>4</month>\r\n    <day>20</day>\r\n    <playerCity>NOT SET UP</playerCity>\r\n    <tempF>26</tempF>\r\n    <weatherCity>NOT SET UP</weatherCity>\r\n    <weatherCode>29</weatherCode>\r\n    <tempC>-3</tempC>\r\n    <holidayDates type=\"stringdictionary\">\r\n      <item>\r\n        <key>214</key>\r\n        <value>valentines</value>\r\n      </item>\r\n      <item>\r\n        <key>420</key>\r\n        <value>earthday</value>\r\n      </item>\r\n      <item>\r\n        <key>1229</key>\r\n        <value>newYears</value>\r\n      </item>\r\n      <item>\r\n        <key>1230</key>\r\n        <value>newYears</value>\r\n      </item>\r\n      <item>\r\n        <key>1231</key>\r\n        <value>newYears</value>\r\n      </item>\r\n      <item>\r\n        <key>11</key>\r\n        <value>newYears</value>\r\n      </item>\r\n    </holidayDates>\r\n    <monthDict type=\"stringdictionary\">\r\n      <item>\r\n        <key>1</key>\r\n        <value>January</value>\r\n      </item>\r\n      <item>\r\n        <key>2</key>\r\n        <value>February</value>\r\n      </item>\r\n      <item>\r\n        <key>3</key>\r\n        <value>March</value>\r\n      </item>\r\n      <item>\r\n        <key>4</key>\r\n        <value>April</value>\r\n      </item>\r\n      <item>\r\n        <key>5</key>\r\n        <value>May</value>\r\n      </item>\r\n      <item>\r\n        <key>6</key>\r\n        <value>June</value>\r\n      </item>\r\n      <item>\r\n        <key>7</key>\r\n        <value>July</value>\r\n      </item>\r\n      <item>\r\n        <key>8</key>\r\n        <value>August</value>\r\n      </item>\r\n      <item>\r\n        <key>9</key>\r\n        <value>September</value>\r\n      </item>\r\n      <item>\r\n        <key>10</key>\r\n        <value>October</value>\r\n      </item>\r\n      <item>\r\n        <key>11</key>\r\n        <value>November</value>\r\n      </item>\r\n      <item>\r\n        <key>12</key>\r\n        <value>December</value>\r\n      </item>\r\n    </monthDict>\r\n  </object>\r\n  <object name=\"another room\">\r\n    <inherit name=\"editor_room\" />\r\n    <description><![CDATA[This room is pointless.<br/><br/>{command:out:Go back to the first room.}]]></description>\r\n    <enter type=\"script\">\r\n      IsHoliday\r\n    </enter>\r\n    <exit alias=\"out\" to=\"room\">\r\n      <inherit name=\"outdirection\" />\r\n    </exit>\r\n  </object>\r\n  <command name=\"contact\">\r\n    <pattern>contact;contacts;email;message;bug;report;issue</pattern>\r\n    <script>\r\n      DisplayMailtoLink (\"richardheadkid@gmail.com\", \"richardheadkid@gmail.com\")\r\n    </script>\r\n  </command>\r\n  <object name=\"Loading Screen\">\r\n    <inherit name=\"editor_room\" />\r\n    <usedefaultprefix type=\"boolean\">false</usedefaultprefix>\r\n    <beforeenter type=\"script\">\r\n      JS.eval (\"$('#txtCommandDiv').hide();\")\r\n    </beforeenter>\r\n    <enter type=\"script\">\r\n      ClearScreen\r\n      SetTimeout (5) {\r\n        MoveObject (game.pov, startupRoom)\r\n      }\r\n      OutputTextNoBr (\"Loading\")\r\n      TextFX_Typewriter (\".....\", 550)\r\n    </enter>\r\n    <onexit type=\"script\">\r\n    </onexit>\r\n    <object name=\"player\">\r\n      <inherit name=\"editor_object\" />\r\n      <inherit name=\"editor_player\" />\r\n    </object>\r\n  </object>\r\n  <command name=\"secret_command\">\r\n    <script>\r\n      msg (\"Don't forget to drink your Ovaltine!\")\r\n    </script>\r\n    <pattern>secret command;secret</pattern>\r\n  </command>\r\n  <object name=\"js\">\r\n    <inherit name=\"editor_room\" />\r\n    <description><![CDATA[setupDateAndTime = function(){var today = new Date();var dd = today.getDate();var mm = today.getMonth()+1;var yyyy = today.getFullYear();var hrs = today.getHours();var mins = today.getMinutes();var secs = today.getSeconds();var ampm = 'am';var hrsMins = [hrs,mins];if(dd<10) { dd = '0'+dd} if(mm<10) { mm = '0'+mm} today = mm + '/' + dd + '/' + yyyy;if(hrs>12) { ampm = 'pm'; hrs = '0' + '' + hrs - 12}else{ ampm = 'am'} if (mins<10) { mins = '0'+mins} if(secs<10) {secs = '0' + secs}time = hrs + ':' + mins + ':' + secs + ' ' + ampm;var realHrs = hrsMins[0];var realMins = hrsMins[1];var param = realHrs+';'+realMins+';'+time+';'+today+';'+yyyy+';'+mm+';'+dd;ASLEvent('BreakDateDown',param);};/*! simpleWeather v3.1.0 - http://simpleweatherjs.com */!function(t){\"use strict\";function e(t,e){return\"f\"===t?Math.round(5/9*(e-32)):Math.round(1.8*e+32)}t.extend({simpleWeather:function(i){i=t.extend({location:\"\",woeid:\"\",unit:\"f\",success:function(t){},error:function(t){}},i);var o=new Date,n=\"https://query.yahooapis.com/v1/public/yql?format=json&rnd=\"+o.getFullYear()+o.getMonth()+o.getDay()+o.getHours()+\"&diagnostics=true&callback=?&q=\";if(\"\"!==i.location){var r=\"\";r=/^(\\-?\\d+(\\.\\d+)?),\\s*(\\-?\\d+(\\.\\d+)?)$/.test(i.location)?\"(\"+i.location+\")\":i.location,n+='select * from weather.forecast where woeid in (select woeid from geo.places(1) where text=\"'+r+'\") and u=\"'+i.unit+'\"'}else{if(\"\"===i.woeid)return i.error(\"Could not retrieve weather due to an invalid location.\"),!1;n+=\"select * from weather.forecast where woeid=\"+i.woeid+' and u=\"'+i.unit+'\"'}return t.getJSON(encodeURI(n),function(t){if(null!==t&&null!==t.query&&null!==t.query.results&&\"Yahoo! Weather Error\"!==t.query.results.channel.description){var o,n=t.query.results.channel,r={},s=[\"N\",\"NNE\",\"NE\",\"ENE\",\"E\",\"ESE\",\"SE\",\"SSE\",\"S\",\"SSW\",\"SW\",\"WSW\",\"W\",\"WNW\",\"NW\",\"NNW\",\"N\"],a=\"https://s.yimg.com/os/mit/media/m/weather/images/icons/l/44d-100567.png\";r.title=n.item.title,r.temp=n.item.condition.temp,r.code=n.item.condition.code,r.todayCode=n.item.forecast[0].code,r.currently=n.item.condition.text,r.high=n.item.forecast[0].high,r.low=n.item.forecast[0].low,r.text=n.item.forecast[0].text,r.humidity=n.atmosphere.humidity,r.pressure=n.atmosphere.pressure,r.rising=n.atmosphere.rising,r.visibility=n.atmosphere.visibility,r.sunrise=n.astronomy.sunrise,r.sunset=n.astronomy.sunset,r.description=n.item.description,r.city=n.location.city,r.country=n.location.country,r.region=n.location.region,r.updated=n.item.pubDate,r.link=n.item.link,r.units={temp:n.units.temperature,distance:n.units.distance,pressure:n.units.pressure,speed:n.units.speed},r.wind={chill:n.wind.chill,direction:s[Math.round(n.wind.direction/22.5)],speed:n.wind.speed},n.item.condition.temp<80&&n.atmosphere.humidity<40?r.heatindex=-42.379+2.04901523*n.item.condition.temp+10.14333127*n.atmosphere.humidity-.22475541*n.item.condition.temp*n.atmosphere.humidity-6.83783*Math.pow(10,-3)*Math.pow(n.item.condition.temp,2)-5.481717*Math.pow(10,-2)*Math.pow(n.atmosphere.humidity,2)+1.22874*Math.pow(10,-3)*Math.pow(n.item.condition.temp,2)*n.atmosphere.humidity+8.5282*Math.pow(10,-4)*n.item.condition.temp*Math.pow(n.atmosphere.humidity,2)-1.99*Math.pow(10,-6)*Math.pow(n.item.condition.temp,2)*Math.pow(n.atmosphere.humidity,2):r.heatindex=n.item.condition.temp,\"3200\"==n.item.condition.code?(r.thumbnail=a,r.image=a):(r.thumbnail=\"https://s.yimg.com/zz/combo?a/i/us/nws/weather/gr/\"+n.item.condition.code+\"ds.png\",r.image=\"https://s.yimg.com/zz/combo?a/i/us/nws/weather/gr/\"+n.item.condition.code+\"d.png\"),r.alt={temp:e(i.unit,n.item.condition.temp),high:e(i.unit,n.item.forecast[0].high),low:e(i.unit,n.item.forecast[0].low)},\"f\"===i.unit?r.alt.unit=\"c\":r.alt.unit=\"f\",r.forecast=[];for(var m=0;m<n.item.forecast.length;m++)o=n.item.forecast[m],o.alt={high:e(i.unit,n.item.forecast[m].high),low:e(i.unit,n.item.forecast[m].low)},\"3200\"==n.item.forecast[m].code?(o.thumbnail=a,o.image=a):(o.thumbnail=\"https://s.yimg.com/zz/combo?a/i/us/nws/weather/gr/\"+n.item.forecast[m].code+\"ds.png\",o.image=\"https://s.yimg.com/zz/combo?a/i/us/nws/weather/gr/\"+n.item.forecast[m].code+\"d.png\"),r.forecast.push(o);i.success(r)}else i.error(\"There was a problem retrieving the latest weather information.\")}),this}})}(jQuery);function loadWeather(location, woeid) {  $.simpleWeather({    location: location,    woeid: woeid,    unit: 'f',    success: function(weather) {      ASLEvent('SetTempF',weather.temp);ASLEvent('SetCityFromWeather',weather.city);ASLEvent('SetWeatherCode',weather.code);ASLEvent('SetTempCelsius',weather.alt.temp);setTimeout(function(){html = '<h2><i class=\"icon-'+weather.code+'\"></i> '+weather.temp+'&deg;'+weather.units.temp+'</h2>';      html += '<ul><li>'+weather.city+', '+weather.region+'</li>';      html += '<li class=\"currently\">'+weather.currently+'</li>';      html += '<li>'+weather.alt.temp+'&deg;C</li></ul>';              $('#weather').html(html); },500);   },    error: function(error) {      alert('error with weather');      $(\"#weather\").html('<p>'+error+'</p>');  }  });};]]></description>\r\n    <attr name=\"implementation_notes\"><![CDATA[simpleWeather<br/><br/>Copyright (c) 2016 James Fleeting, http://jamesfleeting.com/\r\n\r\nPermission is hereby granted, free of charge, to any person obtaining\r\na copy of this software and associated documentation files (the\r\n\"Software\"), to deal in the Software without restriction, including\r\nwithout limitation the rights to use, copy, modify, merge, publish,\r\ndistribute, sublicense, and/or sell copies of the Software, and to\r\npermit persons to whom the Software is furnished to do so, subject to\r\nthe following conditions:\r\n\r\nThe above copyright notice and this permission notice shall be\r\nincluded in all copies or substantial portions of the Software.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\r\nEXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\nMERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\nNONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\r\nLIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\r\nOF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\r\nWITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n<br/>---<br/>Modified by KV to set attributes in Quest.]]></attr>\r\n  </object>\r\n  <command name=\"credits\">\r\n    <pattern>about;credits;info</pattern>\r\n    <script><![CDATA[\r\n      msg (\"<hr/>\"+js.implementation_notes+\"<hr/>\")\r\n    ]]></script>\r\n  </command>\r\n  <command name=\"version\">\r\n    <pattern>version</pattern>\r\n    <script>\r\n      msg (game.gamename+\": version \"+game.version)\r\n    </script>\r\n  </command>\r\n  <function name=\"SetMonth\" parameters=\"month\">\r\n    calendar.month = month\r\n  </function>\r\n  <function name=\"HolidayMessage\" parameters=\"holiday\" type=\"string\">\r\n    return (StringDictionaryItem(calendar.holidays,holiday))\r\n  </function>\r\n  <function name=\"SetHoliday\" parameters=\"holiday\">\r\n    calendar.isHoliday = true\r\n    calendar.holiday = holiday\r\n  </function>\r\n  <function name=\"SetDay\" parameters=\"day\">\r\n    calendar.day = day\r\n  </function>\r\n  <function name=\"SetTempF\" parameters=\"temp\">\r\n    calendar.tempF = temp\r\n  </function>\r\n  <function name=\"SetWeatherCode\" parameters=\"weatherCode\">\r\n    calendar.weatherCode = weatherCode\r\n  </function>\r\n  <function name=\"SetCityFromWeather\" parameters=\"city\">\r\n    calendar.weatherCity = city\r\n  </function>\r\n  <function name=\"SetTempCelsius\" parameters=\"tempCelsius\">\r\n    calendar.tempC = tempCelsius\r\n  </function>\r\n  <function name=\"WeatherStatus\" parameters=\"code\" type=\"string\">\r\n    status = StringDictionaryItem(calendar.weatherCodeDict,code)\r\n    return (status)\r\n  </function>\r\n  <function name=\"SetCityManually\" parameters=\"city\">\r\n    calendar.playerCity = city\r\n  </function>\r\n  <function name=\"SetYear\" parameters=\"year\">\r\n    calendar.year = year\r\n  </function>\r\n  <function name=\"SetDate\" parameters=\"date\">\r\n    calendar.dateAsString = date\r\n  </function>\r\n  <function name=\"SetTime\" parameters=\"time\">\r\n    calendar.timeJS = time\r\n  </function>\r\n  <function name=\"SetHours\" parameters=\"hrs\">\r\n    calendar.hoursJS = ToInt(hrs)\r\n  </function>\r\n  <function name=\"SetMinutes\" parameters=\"min\">\r\n    calendar.minutesJS = ToInt(min)\r\n  </function>\r\n  <function name=\"IsHoliday\" type=\"boolean\">\r\n    date = calendar.month + \"\"+calendar.day\r\n    foreach (holiday, calendar.holidayDates) {\r\n      if (date = holiday) {\r\n        calendar.isHoliday = true\r\n        calendar.holiday = StringDictionaryItem(calendar.holidayDates,holiday)\r\n        return (true)\r\n      }\r\n    }\r\n    return (false)\r\n  </function>\r\n  <function name=\"BreakDateDown\" parameters=\"param\">\r\n    // JS.alert (param)\r\n    params = Split(param,\";\")\r\n    calendar.hoursJS = params[0]\r\n    calendar.hoursJS = ToInt(calendar.hoursJS)\r\n    calendar.minutesJS = params[1]\r\n    calendar.minutesJS = ToInt(calendar.minutesJS)\r\n    calendar.timeJS = params[2]\r\n    calendar.dateAsString = params[3]\r\n    calendar.year = params[4]\r\n    calendar.month = params[5]\r\n    calendar.day = params[6]\r\n  </function>\r\n  <function name=\"GetMonthName\" parameters=\"month\" type=\"string\">\r\n    return (StringDictionaryItem(calendar.monthDict,month))\r\n  </function>\r\n</asl>\r\n```\r\n\r\n</details>\r\n",
      "EditableFormat": "markdown",
      "HTML": "<p>Okay, I finally got it working online.</p>\n<p>http://textadventures.co.uk/games/view/yfl6ohdto0il_0l_hj0ggg/date-and-weather-and-stuff</p>\n<hr>\n<p>@Anonynn</p>\n<p>This <s>bud's</s> code's for you!</p>\n<hr>\n<p>Here's the code:</p>\n<details>\n<pre><code>&lt;!--Saved by Quest 5.7.6404.15496--&gt;\n&lt;asl version=\"550\"&gt;\n  &lt;include ref=\"English.aslx\" /&gt;\n  &lt;include ref=\"Core.aslx\" /&gt;\n  &lt;game name=\"Date, Time, and Weather (and stuff)\"&gt;\n    &lt;gameid&gt;22ec145c-169f-4b9d-ae36-454f0d79af03&lt;/gameid&gt;\n    &lt;version&gt;0.0.20&lt;/version&gt;\n    &lt;firstpublished&gt;2017&lt;/firstpublished&gt;\n    &lt;feature_annotations /&gt;\n    &lt;feature_advancedscripts /&gt;\n    &lt;author&gt;KV&lt;/author&gt;\n    &lt;start type=\"script\"&gt;\n      JS.eval (js.description)\n      JS.setupDateAndTime ()\n      SetTimeout (2) {\n        JS.setupDateAndTime ()\n      }\n    &lt;/start&gt;\n    &lt;description&gt;This is just an example game.&lt;/description&gt;\n    &lt;object name=\"startupRoom\"&gt;\n      &lt;inherit name=\"editor_room\" /&gt;\n      &lt;usedefaultprefix type=\"boolean\"&gt;false&lt;/usedefaultprefix&gt;\n      &lt;alias&gt;ENTER YOUR CITY&lt;/alias&gt;\n      &lt;enter type=\"script\"&gt;\n        JS.eval (\"$('#txtCommandDiv').show();\")\n        ClearScreen\n        msg (\"Please enter the name of the city in which you are currently located.\")\n        get input {\n          SetCityManually (result)\n          JS.eval (\"$('#txtCommand').hide();\")\n          OutputTextNoBr (\"Setting city to \"+result+\".\")\n          SetTimeout (2) {\n            // JS.eval (js_room.description)\n          }\n          SetTimeout (4) {\n            JS.loadWeather (calendar.playerCity)\n          }\n          SetTimeout (6) {\n            JS.eval (\"$('#txtCommand').show();\")\n            ClearScreen\n            MoveObject (game.pov, room)\n            JS.loadWeather (calendar.playerCity)\n          }\n          TextFX_Typewriter (\".....\", 950)\n        }\n      &lt;/enter&gt;\n    &lt;/object&gt;\n  &lt;/game&gt;\n  &lt;object name=\"room\"&gt;\n    &lt;inherit name=\"editor_room\" /&gt;\n    &lt;description type=\"script\"&gt;&lt;![CDATA[\n      msg (\"&lt;hr/&gt;&lt;br/&gt;Today is \"+calendar.month+\"-\"+calendar.day+\"-\"+calendar.year+\".&lt;br/&gt;&lt;hr/&gt;&lt;br/&gt;&lt;br/&gt;It is \"+calendar.tempF+\"&amp;deg;F and \"+WeatherStatus(calendar.weatherCode)+\" outside!\")\n      if (IsHoliday()) {\n        msg (\"&lt;br/&gt;&lt;br/&gt;\"+HolidayMessage(calendar.holiday)+\"&lt;br/&gt;&lt;br/&gt;\")\n      }\n      msg (\"&lt;div id='weather'&gt;&lt;/div&gt;\")\n    ]]&gt;&lt;/description&gt;\n    &lt;enter type=\"script\"&gt;\n    &lt;/enter&gt;\n    &lt;object name=\"letter\"&gt;\n      &lt;inherit name=\"editor_object\" /&gt;\n      &lt;look&gt;&lt;![CDATA[It's a letter, dated {calendar.month}/{=ToInt(calendar.day)-2}/{calendar.year}.&lt;br/&gt;&lt;br/&gt;(You could try {command:read letter:reading} it.)]]&gt;&lt;/look&gt;\n      &lt;read&gt;&lt;![CDATA[{either letter.parent=game.pov:You have until 11:59 {if calendar.hoursJS&lt;10:a}{if calendar.hoursJS&gt;10:p}m on {calendar.month}/{calendar.day}/{calendar.year} to email the author to receive your secret command!  (Enter {command:CONTACT} for the link!).|You can't read something you're not holding.}]]&gt;&lt;/read&gt;\n      &lt;take /&gt;\n      &lt;inventoryverbs type=\"stringlist\"&gt;\n        &lt;value&gt;Look at&lt;/value&gt;\n        &lt;value&gt;Drop&lt;/value&gt;\n      &lt;/inventoryverbs&gt;\n    &lt;/object&gt;\n    &lt;exit alias=\"in\" to=\"another room\"&gt;\n      &lt;inherit name=\"indirection\" /&gt;\n    &lt;/exit&gt;\n  &lt;/object&gt;\n  &lt;object name=\"calendar\"&gt;\n    &lt;inherit name=\"editor_object\" /&gt;\n    &lt;holidays type=\"stringdictionary\"&gt;\n      &lt;item&gt;\n        &lt;key&gt;valentines&lt;/key&gt;\n        &lt;value&gt;Insert Valentine's Day message here!&lt;/value&gt;\n      &lt;/item&gt;\n      &lt;item&gt;\n        &lt;key&gt;easter&lt;/key&gt;\n        &lt;value&gt;INSERT EASTER EGGS ALERT HERE!&lt;/value&gt;\n      &lt;/item&gt;\n      &lt;item&gt;\n        &lt;key&gt;stPatricks&lt;/key&gt;\n        &lt;value&gt;INSERT SAINT PATRICK'S DAY MESSAGE!&lt;/value&gt;\n      &lt;/item&gt;\n      &lt;item&gt;\n        &lt;key&gt;hallowsShroud&lt;/key&gt;\n        &lt;value&gt;INSERT HALLOW'S SHROUD MESSAGE&lt;/value&gt;\n      &lt;/item&gt;\n      &lt;item&gt;\n        &lt;key&gt;christmas&lt;/key&gt;\n        &lt;value&gt;INSERT XMAS MESSAGE&lt;/value&gt;\n      &lt;/item&gt;\n      &lt;item&gt;\n        &lt;key&gt;newYears&lt;/key&gt;\n        &lt;value&gt;We hope you have a happy and safe new year!&lt;/value&gt;\n      &lt;/item&gt;\n      &lt;item&gt;\n        &lt;key&gt;earthday&lt;/key&gt;\n        &lt;value&gt;INSERT EARTH DAY MESSAGE!&lt;/value&gt;\n      &lt;/item&gt;\n    &lt;/holidays&gt;\n    &lt;isHoliday type=\"boolean\"&gt;false&lt;/isHoliday&gt;\n    &lt;holiday type=\"string\"&gt;&lt;/holiday&gt;\n    &lt;weatherCodeDict type=\"stringdictionary\"&gt;\n      &lt;item&gt;\n        &lt;key&gt;0&lt;/key&gt;\n        &lt;value&gt;you need to take shelter because there is a tornado&lt;/value&gt;\n      &lt;/item&gt;\n      &lt;item&gt;\n        &lt;key&gt;1&lt;/key&gt;\n        &lt;value&gt;you need to take shelter because there is a tropical storm&lt;/value&gt;\n      &lt;/item&gt;\n      &lt;item&gt;\n        &lt;key&gt;2&lt;/key&gt;\n        &lt;value&gt;you need to take shelter because there is a hurricane&lt;/value&gt;\n      &lt;/item&gt;\n      &lt;item&gt;\n        &lt;key&gt;3&lt;/key&gt;\n        &lt;value&gt;there are severe thunderstorms&lt;/value&gt;\n      &lt;/item&gt;\n      &lt;item&gt;\n        &lt;key&gt;4&lt;/key&gt;\n        &lt;value&gt;there are thunderstorms&lt;/value&gt;\n      &lt;/item&gt;\n      &lt;item&gt;\n        &lt;key&gt;5&lt;/key&gt;\n        &lt;value&gt;mixed rain and snow&lt;/value&gt;\n      &lt;/item&gt;\n      &lt;item&gt;\n        &lt;key&gt;6&lt;/key&gt;\n        &lt;value&gt;mixed rain and sleet&lt;/value&gt;\n      &lt;/item&gt;\n      &lt;item&gt;\n        &lt;key&gt;7&lt;/key&gt;\n        &lt;value&gt;mixed snow and sleet&lt;/value&gt;\n      &lt;/item&gt;\n      &lt;item&gt;\n        &lt;key&gt;8&lt;/key&gt;\n        &lt;value&gt;there is freezing drizzle&lt;/value&gt;\n      &lt;/item&gt;\n      &lt;item&gt;\n        &lt;key&gt;9&lt;/key&gt;\n        &lt;value&gt;there is drizzle&lt;/value&gt;\n      &lt;/item&gt;\n      &lt;item&gt;\n        &lt;key&gt;10&lt;/key&gt;\n        &lt;value&gt;there is freezing rain&lt;/value&gt;\n      &lt;/item&gt;\n      &lt;item&gt;\n        &lt;key&gt;11&lt;/key&gt;\n        &lt;value&gt;there are showers&lt;/value&gt;\n      &lt;/item&gt;\n      &lt;item&gt;\n        &lt;key&gt;12&lt;/key&gt;\n        &lt;value&gt;there are showers&lt;/value&gt;\n      &lt;/item&gt;\n      &lt;item&gt;\n        &lt;key&gt;13&lt;/key&gt;\n        &lt;value&gt;there are snow flurries&lt;/value&gt;\n      &lt;/item&gt;\n      &lt;item&gt;\n        &lt;key&gt;14&lt;/key&gt;\n        &lt;value&gt;there are light snow showers&lt;/value&gt;\n      &lt;/item&gt;\n      &lt;item&gt;\n        &lt;key&gt;15&lt;/key&gt;\n        &lt;value&gt;there is blowing snow&lt;/value&gt;\n      &lt;/item&gt;\n      &lt;item&gt;\n        &lt;key&gt;16&lt;/key&gt;\n        &lt;value&gt;there is snow&lt;/value&gt;\n      &lt;/item&gt;\n      &lt;item&gt;\n        &lt;key&gt;17&lt;/key&gt;\n        &lt;value&gt;there is hail&lt;/value&gt;\n      &lt;/item&gt;\n      &lt;item&gt;\n        &lt;key&gt;18&lt;/key&gt;\n        &lt;value&gt;there is sleet&lt;/value&gt;\n      &lt;/item&gt;\n      &lt;item&gt;\n        &lt;key&gt;19&lt;/key&gt;\n        &lt;value&gt;there is dust&lt;/value&gt;\n      &lt;/item&gt;\n      &lt;item&gt;\n        &lt;key&gt;20&lt;/key&gt;\n        &lt;value&gt;foggy&lt;/value&gt;\n      &lt;/item&gt;\n      &lt;item&gt;\n        &lt;key&gt;21&lt;/key&gt;\n        &lt;value&gt;there is haze&lt;/value&gt;\n      &lt;/item&gt;\n      &lt;item&gt;\n        &lt;key&gt;22&lt;/key&gt;\n        &lt;value&gt;smoky&lt;/value&gt;\n      &lt;/item&gt;\n      &lt;item&gt;\n        &lt;key&gt;23&lt;/key&gt;\n        &lt;value&gt;blustery&lt;/value&gt;\n      &lt;/item&gt;\n      &lt;item&gt;\n        &lt;key&gt;24&lt;/key&gt;\n        &lt;value&gt;windy&lt;/value&gt;\n      &lt;/item&gt;\n      &lt;item&gt;\n        &lt;key&gt;25&lt;/key&gt;\n        &lt;value&gt;cold&lt;/value&gt;\n      &lt;/item&gt;\n      &lt;item&gt;\n        &lt;key&gt;26&lt;/key&gt;\n        &lt;value&gt;cloudy&lt;/value&gt;\n      &lt;/item&gt;\n      &lt;item&gt;\n        &lt;key&gt;27&lt;/key&gt;\n        &lt;value&gt;mostly cloudy&lt;/value&gt;\n      &lt;/item&gt;\n      &lt;item&gt;\n        &lt;key&gt;28&lt;/key&gt;\n        &lt;value&gt;mostly cloudy&lt;/value&gt;\n      &lt;/item&gt;\n      &lt;item&gt;\n        &lt;key&gt;29&lt;/key&gt;\n        &lt;value&gt;partly cloudy&lt;/value&gt;\n      &lt;/item&gt;\n      &lt;item&gt;\n        &lt;key&gt;30&lt;/key&gt;\n        &lt;value&gt;partly cloudy&lt;/value&gt;\n      &lt;/item&gt;\n      &lt;item&gt;\n        &lt;key&gt;31&lt;/key&gt;\n        &lt;value&gt;clear&lt;/value&gt;\n      &lt;/item&gt;\n      &lt;item&gt;\n        &lt;key&gt;32&lt;/key&gt;\n        &lt;value&gt;sunny&lt;/value&gt;\n      &lt;/item&gt;\n      &lt;item&gt;\n        &lt;key&gt;33&lt;/key&gt;\n        &lt;value&gt;fair&lt;/value&gt;\n      &lt;/item&gt;\n      &lt;item&gt;\n        &lt;key&gt;34&lt;/key&gt;\n        &lt;value&gt;fair&lt;/value&gt;\n      &lt;/item&gt;\n      &lt;item&gt;\n        &lt;key&gt;35&lt;/key&gt;\n        &lt;value&gt;there is mixed rain and hail&lt;/value&gt;\n      &lt;/item&gt;\n      &lt;item&gt;\n        &lt;key&gt;36&lt;/key&gt;\n        &lt;value&gt;it is hot&lt;/value&gt;\n      &lt;/item&gt;\n      &lt;item&gt;\n        &lt;key&gt;37&lt;/key&gt;\n        &lt;value&gt;there are isolated thunderstorms&lt;/value&gt;\n      &lt;/item&gt;\n      &lt;item&gt;\n        &lt;key&gt;38&lt;/key&gt;\n        &lt;value&gt;there are scattered thunderstorms&lt;/value&gt;\n      &lt;/item&gt;\n      &lt;item&gt;\n        &lt;key&gt;39&lt;/key&gt;\n        &lt;value&gt;there are scattered thunderstorms&lt;/value&gt;\n      &lt;/item&gt;\n      &lt;item&gt;\n        &lt;key&gt;40&lt;/key&gt;\n        &lt;value&gt;there are scattered showers&lt;/value&gt;\n      &lt;/item&gt;\n      &lt;item&gt;\n        &lt;key&gt;41&lt;/key&gt;\n        &lt;value&gt;there is heavy snow&lt;/value&gt;\n      &lt;/item&gt;\n      &lt;item&gt;\n        &lt;key&gt;42&lt;/key&gt;\n        &lt;value&gt;there are scattered snow showers&lt;/value&gt;\n      &lt;/item&gt;\n      &lt;item&gt;\n        &lt;key&gt;43&lt;/key&gt;\n        &lt;value&gt;there is heavy snow&lt;/value&gt;\n      &lt;/item&gt;\n      &lt;item&gt;\n        &lt;key&gt;44&lt;/key&gt;\n        &lt;value&gt;partly cloudy&lt;/value&gt;\n      &lt;/item&gt;\n      &lt;item&gt;\n        &lt;key&gt;45&lt;/key&gt;\n        &lt;value&gt;there are thundershowers&lt;/value&gt;\n      &lt;/item&gt;\n      &lt;item&gt;\n        &lt;key&gt;46&lt;/key&gt;\n        &lt;value&gt;there are snow showers&lt;/value&gt;\n      &lt;/item&gt;\n      &lt;item&gt;\n        &lt;key&gt;47&lt;/key&gt;\n        &lt;value&gt;there are isolated thundershowers&lt;/value&gt;\n      &lt;/item&gt;\n      &lt;item&gt;\n        &lt;key&gt;3200&lt;/key&gt;\n        &lt;value&gt;not available&lt;/value&gt;\n      &lt;/item&gt;\n    &lt;/weatherCodeDict&gt;\n    &lt;hoursJS type=\"int\"&gt;4&lt;/hoursJS&gt;\n    &lt;minutesJS type=\"int\"&gt;20&lt;/minutesJS&gt;\n    &lt;dateAsString&gt;4/20/2017&lt;/dateAsString&gt;\n    &lt;timeJS&gt;4:20:00 am&lt;/timeJS&gt;\n    &lt;year&gt;2017&lt;/year&gt;\n    &lt;month&gt;4&lt;/month&gt;\n    &lt;day&gt;20&lt;/day&gt;\n    &lt;playerCity&gt;NOT SET UP&lt;/playerCity&gt;\n    &lt;tempF&gt;26&lt;/tempF&gt;\n    &lt;weatherCity&gt;NOT SET UP&lt;/weatherCity&gt;\n    &lt;weatherCode&gt;29&lt;/weatherCode&gt;\n    &lt;tempC&gt;-3&lt;/tempC&gt;\n    &lt;holidayDates type=\"stringdictionary\"&gt;\n      &lt;item&gt;\n        &lt;key&gt;214&lt;/key&gt;\n        &lt;value&gt;valentines&lt;/value&gt;\n      &lt;/item&gt;\n      &lt;item&gt;\n        &lt;key&gt;420&lt;/key&gt;\n        &lt;value&gt;earthday&lt;/value&gt;\n      &lt;/item&gt;\n      &lt;item&gt;\n        &lt;key&gt;1229&lt;/key&gt;\n        &lt;value&gt;newYears&lt;/value&gt;\n      &lt;/item&gt;\n      &lt;item&gt;\n        &lt;key&gt;1230&lt;/key&gt;\n        &lt;value&gt;newYears&lt;/value&gt;\n      &lt;/item&gt;\n      &lt;item&gt;\n        &lt;key&gt;1231&lt;/key&gt;\n        &lt;value&gt;newYears&lt;/value&gt;\n      &lt;/item&gt;\n      &lt;item&gt;\n        &lt;key&gt;11&lt;/key&gt;\n        &lt;value&gt;newYears&lt;/value&gt;\n      &lt;/item&gt;\n    &lt;/holidayDates&gt;\n    &lt;monthDict type=\"stringdictionary\"&gt;\n      &lt;item&gt;\n        &lt;key&gt;1&lt;/key&gt;\n        &lt;value&gt;January&lt;/value&gt;\n      &lt;/item&gt;\n      &lt;item&gt;\n        &lt;key&gt;2&lt;/key&gt;\n        &lt;value&gt;February&lt;/value&gt;\n      &lt;/item&gt;\n      &lt;item&gt;\n        &lt;key&gt;3&lt;/key&gt;\n        &lt;value&gt;March&lt;/value&gt;\n      &lt;/item&gt;\n      &lt;item&gt;\n        &lt;key&gt;4&lt;/key&gt;\n        &lt;value&gt;April&lt;/value&gt;\n      &lt;/item&gt;\n      &lt;item&gt;\n        &lt;key&gt;5&lt;/key&gt;\n        &lt;value&gt;May&lt;/value&gt;\n      &lt;/item&gt;\n      &lt;item&gt;\n        &lt;key&gt;6&lt;/key&gt;\n        &lt;value&gt;June&lt;/value&gt;\n      &lt;/item&gt;\n      &lt;item&gt;\n        &lt;key&gt;7&lt;/key&gt;\n        &lt;value&gt;July&lt;/value&gt;\n      &lt;/item&gt;\n      &lt;item&gt;\n        &lt;key&gt;8&lt;/key&gt;\n        &lt;value&gt;August&lt;/value&gt;\n      &lt;/item&gt;\n      &lt;item&gt;\n        &lt;key&gt;9&lt;/key&gt;\n        &lt;value&gt;September&lt;/value&gt;\n      &lt;/item&gt;\n      &lt;item&gt;\n        &lt;key&gt;10&lt;/key&gt;\n        &lt;value&gt;October&lt;/value&gt;\n      &lt;/item&gt;\n      &lt;item&gt;\n        &lt;key&gt;11&lt;/key&gt;\n        &lt;value&gt;November&lt;/value&gt;\n      &lt;/item&gt;\n      &lt;item&gt;\n        &lt;key&gt;12&lt;/key&gt;\n        &lt;value&gt;December&lt;/value&gt;\n      &lt;/item&gt;\n    &lt;/monthDict&gt;\n  &lt;/object&gt;\n  &lt;object name=\"another room\"&gt;\n    &lt;inherit name=\"editor_room\" /&gt;\n    &lt;description&gt;&lt;![CDATA[This room is pointless.&lt;br/&gt;&lt;br/&gt;{command:out:Go back to the first room.}]]&gt;&lt;/description&gt;\n    &lt;enter type=\"script\"&gt;\n      IsHoliday\n    &lt;/enter&gt;\n    &lt;exit alias=\"out\" to=\"room\"&gt;\n      &lt;inherit name=\"outdirection\" /&gt;\n    &lt;/exit&gt;\n  &lt;/object&gt;\n  &lt;command name=\"contact\"&gt;\n    &lt;pattern&gt;contact;contacts;email;message;bug;report;issue&lt;/pattern&gt;\n    &lt;script&gt;\n      DisplayMailtoLink (\"richardheadkid@gmail.com\", \"richardheadkid@gmail.com\")\n    &lt;/script&gt;\n  &lt;/command&gt;\n  &lt;object name=\"Loading Screen\"&gt;\n    &lt;inherit name=\"editor_room\" /&gt;\n    &lt;usedefaultprefix type=\"boolean\"&gt;false&lt;/usedefaultprefix&gt;\n    &lt;beforeenter type=\"script\"&gt;\n      JS.eval (\"$('#txtCommandDiv').hide();\")\n    &lt;/beforeenter&gt;\n    &lt;enter type=\"script\"&gt;\n      ClearScreen\n      SetTimeout (5) {\n        MoveObject (game.pov, startupRoom)\n      }\n      OutputTextNoBr (\"Loading\")\n      TextFX_Typewriter (\".....\", 550)\n    &lt;/enter&gt;\n    &lt;onexit type=\"script\"&gt;\n    &lt;/onexit&gt;\n    &lt;object name=\"player\"&gt;\n      &lt;inherit name=\"editor_object\" /&gt;\n      &lt;inherit name=\"editor_player\" /&gt;\n    &lt;/object&gt;\n  &lt;/object&gt;\n  &lt;command name=\"secret_command\"&gt;\n    &lt;script&gt;\n      msg (\"Don't forget to drink your Ovaltine!\")\n    &lt;/script&gt;\n    &lt;pattern&gt;secret command;secret&lt;/pattern&gt;\n  &lt;/command&gt;\n  &lt;object name=\"js\"&gt;\n    &lt;inherit name=\"editor_room\" /&gt;\n    &lt;description&gt;&lt;![CDATA[setupDateAndTime = function(){var today = new Date();var dd = today.getDate();var mm = today.getMonth()+1;var yyyy = today.getFullYear();var hrs = today.getHours();var mins = today.getMinutes();var secs = today.getSeconds();var ampm = 'am';var hrsMins = [hrs,mins];if(dd&lt;10) { dd = '0'+dd} if(mm&lt;10) { mm = '0'+mm} today = mm + '/' + dd + '/' + yyyy;if(hrs&gt;12) { ampm = 'pm'; hrs = '0' + '' + hrs - 12}else{ ampm = 'am'} if (mins&lt;10) { mins = '0'+mins} if(secs&lt;10) {secs = '0' + secs}time = hrs + ':' + mins + ':' + secs + ' ' + ampm;var realHrs = hrsMins[0];var realMins = hrsMins[1];var param = realHrs+';'+realMins+';'+time+';'+today+';'+yyyy+';'+mm+';'+dd;ASLEvent('BreakDateDown',param);};/*! simpleWeather v3.1.0 - http://simpleweatherjs.com */!function(t){\"use strict\";function e(t,e){return\"f\"===t?Math.round(5/9*(e-32)):Math.round(1.8*e+32)}t.extend({simpleWeather:function(i){i=t.extend({location:\"\",woeid:\"\",unit:\"f\",success:function(t){},error:function(t){}},i);var o=new Date,n=\"https://query.yahooapis.com/v1/public/yql?format=json&amp;rnd=\"+o.getFullYear()+o.getMonth()+o.getDay()+o.getHours()+\"&amp;diagnostics=true&amp;callback=?&amp;q=\";if(\"\"!==i.location){var r=\"\";r=/^(\\-?\\d+(\\.\\d+)?),\\s*(\\-?\\d+(\\.\\d+)?)$/.test(i.location)?\"(\"+i.location+\")\":i.location,n+='select * from weather.forecast where woeid in (select woeid from geo.places(1) where text=\"'+r+'\") and u=\"'+i.unit+'\"'}else{if(\"\"===i.woeid)return i.error(\"Could not retrieve weather due to an invalid location.\"),!1;n+=\"select * from weather.forecast where woeid=\"+i.woeid+' and u=\"'+i.unit+'\"'}return t.getJSON(encodeURI(n),function(t){if(null!==t&amp;&amp;null!==t.query&amp;&amp;null!==t.query.results&amp;&amp;\"Yahoo! Weather Error\"!==t.query.results.channel.description){var o,n=t.query.results.channel,r={},s=[\"N\",\"NNE\",\"NE\",\"ENE\",\"E\",\"ESE\",\"SE\",\"SSE\",\"S\",\"SSW\",\"SW\",\"WSW\",\"W\",\"WNW\",\"NW\",\"NNW\",\"N\"],a=\"https://s.yimg.com/os/mit/media/m/weather/images/icons/l/44d-100567.png\";r.title=n.item.title,r.temp=n.item.condition.temp,r.code=n.item.condition.code,r.todayCode=n.item.forecast[0].code,r.currently=n.item.condition.text,r.high=n.item.forecast[0].high,r.low=n.item.forecast[0].low,r.text=n.item.forecast[0].text,r.humidity=n.atmosphere.humidity,r.pressure=n.atmosphere.pressure,r.rising=n.atmosphere.rising,r.visibility=n.atmosphere.visibility,r.sunrise=n.astronomy.sunrise,r.sunset=n.astronomy.sunset,r.description=n.item.description,r.city=n.location.city,r.country=n.location.country,r.region=n.location.region,r.updated=n.item.pubDate,r.link=n.item.link,r.units={temp:n.units.temperature,distance:n.units.distance,pressure:n.units.pressure,speed:n.units.speed},r.wind={chill:n.wind.chill,direction:s[Math.round(n.wind.direction/22.5)],speed:n.wind.speed},n.item.condition.temp&lt;80&amp;&amp;n.atmosphere.humidity&lt;40?r.heatindex=-42.379+2.04901523*n.item.condition.temp+10.14333127*n.atmosphere.humidity-.22475541*n.item.condition.temp*n.atmosphere.humidity-6.83783*Math.pow(10,-3)*Math.pow(n.item.condition.temp,2)-5.481717*Math.pow(10,-2)*Math.pow(n.atmosphere.humidity,2)+1.22874*Math.pow(10,-3)*Math.pow(n.item.condition.temp,2)*n.atmosphere.humidity+8.5282*Math.pow(10,-4)*n.item.condition.temp*Math.pow(n.atmosphere.humidity,2)-1.99*Math.pow(10,-6)*Math.pow(n.item.condition.temp,2)*Math.pow(n.atmosphere.humidity,2):r.heatindex=n.item.condition.temp,\"3200\"==n.item.condition.code?(r.thumbnail=a,r.image=a):(r.thumbnail=\"https://s.yimg.com/zz/combo?a/i/us/nws/weather/gr/\"+n.item.condition.code+\"ds.png\",r.image=\"https://s.yimg.com/zz/combo?a/i/us/nws/weather/gr/\"+n.item.condition.code+\"d.png\"),r.alt={temp:e(i.unit,n.item.condition.temp),high:e(i.unit,n.item.forecast[0].high),low:e(i.unit,n.item.forecast[0].low)},\"f\"===i.unit?r.alt.unit=\"c\":r.alt.unit=\"f\",r.forecast=[];for(var m=0;m&lt;n.item.forecast.length;m++)o=n.item.forecast[m],o.alt={high:e(i.unit,n.item.forecast[m].high),low:e(i.unit,n.item.forecast[m].low)},\"3200\"==n.item.forecast[m].code?(o.thumbnail=a,o.image=a):(o.thumbnail=\"https://s.yimg.com/zz/combo?a/i/us/nws/weather/gr/\"+n.item.forecast[m].code+\"ds.png\",o.image=\"https://s.yimg.com/zz/combo?a/i/us/nws/weather/gr/\"+n.item.forecast[m].code+\"d.png\"),r.forecast.push(o);i.success(r)}else i.error(\"There was a problem retrieving the latest weather information.\")}),this}})}(jQuery);function loadWeather(location, woeid) {  $.simpleWeather({    location: location,    woeid: woeid,    unit: 'f',    success: function(weather) {      ASLEvent('SetTempF',weather.temp);ASLEvent('SetCityFromWeather',weather.city);ASLEvent('SetWeatherCode',weather.code);ASLEvent('SetTempCelsius',weather.alt.temp);setTimeout(function(){html = '&lt;h2&gt;&lt;i class=\"icon-'+weather.code+'\"&gt;&lt;/i&gt; '+weather.temp+'&amp;deg;'+weather.units.temp+'&lt;/h2&gt;';      html += '&lt;ul&gt;&lt;li&gt;'+weather.city+', '+weather.region+'&lt;/li&gt;';      html += '&lt;li class=\"currently\"&gt;'+weather.currently+'&lt;/li&gt;';      html += '&lt;li&gt;'+weather.alt.temp+'&amp;deg;C&lt;/li&gt;&lt;/ul&gt;';              $('#weather').html(html); },500);   },    error: function(error) {      alert('error with weather');      $(\"#weather\").html('&lt;p&gt;'+error+'&lt;/p&gt;');  }  });};]]&gt;&lt;/description&gt;\n    &lt;attr name=\"implementation_notes\"&gt;&lt;![CDATA[simpleWeather&lt;br/&gt;&lt;br/&gt;Copyright (c) 2016 James Fleeting, http://jamesfleeting.com/\n\nPermission is hereby granted, free of charge, to any person obtaining\na copy of this software and associated documentation files (the\n\"Software\"), to deal in the Software without restriction, including\nwithout limitation the rights to use, copy, modify, merge, publish,\ndistribute, sublicense, and/or sell copies of the Software, and to\npermit persons to whom the Software is furnished to do so, subject to\nthe following conditions:\n\nThe above copyright notice and this permission notice shall be\nincluded in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\nEXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\nMERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\nNONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\nLIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\nOF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\nWITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n&lt;br/&gt;---&lt;br/&gt;Modified by KV to set attributes in Quest.]]&gt;&lt;/attr&gt;\n  &lt;/object&gt;\n  &lt;command name=\"credits\"&gt;\n    &lt;pattern&gt;about;credits;info&lt;/pattern&gt;\n    &lt;script&gt;&lt;![CDATA[\n      msg (\"&lt;hr/&gt;\"+js.implementation_notes+\"&lt;hr/&gt;\")\n    ]]&gt;&lt;/script&gt;\n  &lt;/command&gt;\n  &lt;command name=\"version\"&gt;\n    &lt;pattern&gt;version&lt;/pattern&gt;\n    &lt;script&gt;\n      msg (game.gamename+\": version \"+game.version)\n    &lt;/script&gt;\n  &lt;/command&gt;\n  &lt;function name=\"SetMonth\" parameters=\"month\"&gt;\n    calendar.month = month\n  &lt;/function&gt;\n  &lt;function name=\"HolidayMessage\" parameters=\"holiday\" type=\"string\"&gt;\n    return (StringDictionaryItem(calendar.holidays,holiday))\n  &lt;/function&gt;\n  &lt;function name=\"SetHoliday\" parameters=\"holiday\"&gt;\n    calendar.isHoliday = true\n    calendar.holiday = holiday\n  &lt;/function&gt;\n  &lt;function name=\"SetDay\" parameters=\"day\"&gt;\n    calendar.day = day\n  &lt;/function&gt;\n  &lt;function name=\"SetTempF\" parameters=\"temp\"&gt;\n    calendar.tempF = temp\n  &lt;/function&gt;\n  &lt;function name=\"SetWeatherCode\" parameters=\"weatherCode\"&gt;\n    calendar.weatherCode = weatherCode\n  &lt;/function&gt;\n  &lt;function name=\"SetCityFromWeather\" parameters=\"city\"&gt;\n    calendar.weatherCity = city\n  &lt;/function&gt;\n  &lt;function name=\"SetTempCelsius\" parameters=\"tempCelsius\"&gt;\n    calendar.tempC = tempCelsius\n  &lt;/function&gt;\n  &lt;function name=\"WeatherStatus\" parameters=\"code\" type=\"string\"&gt;\n    status = StringDictionaryItem(calendar.weatherCodeDict,code)\n    return (status)\n  &lt;/function&gt;\n  &lt;function name=\"SetCityManually\" parameters=\"city\"&gt;\n    calendar.playerCity = city\n  &lt;/function&gt;\n  &lt;function name=\"SetYear\" parameters=\"year\"&gt;\n    calendar.year = year\n  &lt;/function&gt;\n  &lt;function name=\"SetDate\" parameters=\"date\"&gt;\n    calendar.dateAsString = date\n  &lt;/function&gt;\n  &lt;function name=\"SetTime\" parameters=\"time\"&gt;\n    calendar.timeJS = time\n  &lt;/function&gt;\n  &lt;function name=\"SetHours\" parameters=\"hrs\"&gt;\n    calendar.hoursJS = ToInt(hrs)\n  &lt;/function&gt;\n  &lt;function name=\"SetMinutes\" parameters=\"min\"&gt;\n    calendar.minutesJS = ToInt(min)\n  &lt;/function&gt;\n  &lt;function name=\"IsHoliday\" type=\"boolean\"&gt;\n    date = calendar.month + \"\"+calendar.day\n    foreach (holiday, calendar.holidayDates) {\n      if (date = holiday) {\n        calendar.isHoliday = true\n        calendar.holiday = StringDictionaryItem(calendar.holidayDates,holiday)\n        return (true)\n      }\n    }\n    return (false)\n  &lt;/function&gt;\n  &lt;function name=\"BreakDateDown\" parameters=\"param\"&gt;\n    // JS.alert (param)\n    params = Split(param,\";\")\n    calendar.hoursJS = params[0]\n    calendar.hoursJS = ToInt(calendar.hoursJS)\n    calendar.minutesJS = params[1]\n    calendar.minutesJS = ToInt(calendar.minutesJS)\n    calendar.timeJS = params[2]\n    calendar.dateAsString = params[3]\n    calendar.year = params[4]\n    calendar.month = params[5]\n    calendar.day = params[6]\n  &lt;/function&gt;\n  &lt;function name=\"GetMonthName\" parameters=\"month\" type=\"string\"&gt;\n    return (StringDictionaryItem(calendar.monthDict,month))\n  &lt;/function&gt;\n&lt;/asl&gt;\n</code></pre>\n</details>\n\n",
      "PostDate": "2017-12-30T03:15:52.9352593Z",
      "LastEditDate": null,
      "link": null
    }
  ]
}
