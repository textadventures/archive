{
  "Topic": {
    "TopicId": "3642",
    "ForumId": "10",
    "Title": "Angry NPC",
    "LastUpdated": "2013-04-25T01:28:10+01:00",
    "ReplyCount": 1
  },
  "Posts": [
    {
      "PostId": "24240",
      "UserId": 0,
      "Username": "Candacis",
      "UserAvatar": "6829_1366365668.jpg",
      "UserGravatar": "7a1eed5e1c199fcb7203af5a03714db6",
      "EditableText": "I have started working on my own text adventure, creating rooms, objects, all that stuff that was covered in the tutorial. Now I want to have a npc that remembers if something was already mentioned to him, maybe several different things and so that he has new answers. How would I do this? An If command or maybe set a flag for the different topics? I don't want to work with a conversation menu (seems complicated), just ask/tell conversation.\n\nSecond thing I'm trying to accomplish is an angry mood the npc can get, if the player asks the wrong questions or does something wrong. I think I need some sort of counter or value, and different topics or actions can add to that counter until it is high enough to set the angry mood. In the &quot;add a script&quot; I saw the commands &quot;increase object counter&quot;, &quot;add a value to a list&quot; (they don't seem to appear in the wiki). Can some of these commands do what I want?  Maybe in a need little function script? But perhaps it is too difficult for me right now, so I'm not so sure about it.",
      "EditableFormat": "bbcode",
      "HTML": "I have started working on my own text adventure, creating rooms, objects, all that stuff that was covered in the tutorial. Now I want to have a npc that remembers if something was already mentioned to him, maybe several different things and so that he has new answers. How would I do this? An If command or maybe set a flag for the different topics? I don't want to work with a conversation menu (seems complicated), just ask/tell conversation.<br/><br/>Second thing I'm trying to accomplish is an angry mood the npc can get, if the player asks the wrong questions or does something wrong. I think I need some sort of counter or value, and different topics or actions can add to that counter until it is high enough to set the angry mood. In the &quot;add a script&quot; I saw the commands &quot;increase object counter&quot;, &quot;add a value to a list&quot; (they don't seem to appear in the wiki). Can some of these commands do what I want?  Maybe in a need little function script? But perhaps it is too difficult for me right now, so I'm not so sure about it.",
      "PostDate": "2013-04-24T22:23:34+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "24243",
      "UserId": 0,
      "Username": "HegemonKhan",
      "UserAvatar": null,
      "UserGravatar": "a96cf34d8d97c57de38f54ee22b1759b",
      "EditableText": "simplier, but more cumbersome (less efficient and~or less organized method ~ more work you got to do possibly depending on how much stuff you got in game):\n\n(more advanced method: lists and~or dictionaries, which I won't cover here, too hard to explain, lol)\n\n1A. NPC -&gt; Attributes -&gt; Add -&gt;\n\nName: topic_name_npc_name (example: legendary_sword_wise_owl)\nType: (Boolean or Integer or String ~ whichever you want to use)\nValue: (depends on Type: boolean == wise_owl.legendary_sword = false, Integer = 0, String = legendary_sword_wise_owl_topic)\n\nNPC -&gt; Ask~Tell (Tab) -&gt; Add a script -&gt;\n\nIf (example: wise_owl.legendary_sword = true) {\n-&gt; msg (where is it?)\n}\nelse {\n-&gt; msg (why do I need it?)\n}\n\n2. Unfortunately, If I remember correctly, the Ask/Tell scripts only uses a &quot;yes/no&quot; structure, so this probably won't be an option for you.\n\njust add~create a &quot;talk&quot; verb of your own (this will override the default~core quest engine talk verb script, which is completely fine to do so, it won't cause any problems, aside from using your own talk verb scripts and not the default talk verb script. It doesn't actually override the default talk verb, the game will just use yours instead of the default, so if you want the default to be used, just delete your own talk verbs)\n\n3. NPC -&gt; Attributes -&gt; Add -&gt;\n\nName: hostility\nType: Integer\nValue: 0 (or whatever you want as the starting~intial value for your npcs)\n\nNPC -&gt; Attributes -&gt; Add -&gt;\n\nName: hostile\nType: boolean\nValue: false\n\nthen just set it where you want it, for example:\n\nask npc about marrying his daughter -&gt; set variable or attribute -&gt; npc.hostility = npc.hostility + 100\n\nturnscript&#058;\n\nIf (npc.hostility &gt; 50) {\n-&gt; npc.hostile = true\n}\n\nwhere ever (what script where) you want this:\n\nif (npc.hostile = true) {\n-&gt; then (whatever you want, whatever script you want)\n}\n\n4. if you're able to use ~ work with ~ the code, then this is very useful:\n\n<!-- m --><a class=\"postlink\" href=\"http://quest5.net/wiki/Category:All_Functions_and_Script_Commands\">http://quest5.net/wiki/Category:All_Fun ... t_Commands</a><!-- m -->\n\nenjoy <!-- s;) --><img src=\"{SMILIES_PATH}/icon_wink.gif\" alt=\";)\" title=\"Wink\" /><!-- s;) -->\n\n--------------------------------\n\n&quot;Object Counters&quot;\n\nAdder:\n\nobject_name.object_integer_attribute =  object_name.object_integer_attribute + (your value amount)\n\nSubtractor:\n\nobject_name.object_integer_attribute =  object_name.object_integer_attribute - (your value amount)\n\nMultiplier:\n\nobject_name.object_integer_attribute =  object_name.object_integer_attribute * (your value amount)\n\nDividor:\n\nobject_name.object_integer_attribute =  object_name.object_integer_attribute / (your value amount)\n\n---------------------------------------\n\nAn Example:\n\nStarting npc's, named &quot;HK&quot;, &quot;strength&quot; 's value:\n\n&quot;object counter&quot; -&gt; HK.strength = 0\n\nA created &quot;Drink&quot; verb on a created object named, &quot;str_pot_100&quot;, and it's script line:\n\n&quot;adder&quot; -&gt; HK.strength = HK.strength + 100\n\n--------------------------------------------\n\n&quot;increase object counter&quot;\n\nis actually an [b:nc8tdnqn][size=150:nc8tdnqn]equation~formula[/size:nc8tdnqn][/b:nc8tdnqn] using &quot;Set a variable or attribute&quot;, so there's no actual~direct script command for it.\n\nas shown above:\n\ninitial~old HK's strength attribute's value: HK.strength = 0\n\nEquation~Formula (&quot;Adder&quot;) script&#058; HK.strength = HK.strength + 100\n\nHK.strength (new value) = HK.strength (old value) + 100\nHK. strength (new value) = (replace this old value HK.strength with what it is, which is: 0) + 100\nHK.strength (new value) = 0 + 100\nHK.strength (new value) = 100\n\nnew HK's strength attribute's value: HK.strength = 100\n\n------------------------\n\n&quot;add a value to a list&quot;\n\n<!-- m --><a class=\"postlink\" href=\"http://quest5.net/wiki/List_add\">http://quest5.net/wiki/List_add</a><!-- m -->\n<!-- m --><a class=\"postlink\" href=\"http://quest5.net/wiki/ListCombine\">http://quest5.net/wiki/ListCombine</a><!-- m -->\n\nlists and especially dictionaries are a bit more difficult to work with and understand for noobs, you may not be ready for this yet.\n\n<!-- m --><a class=\"postlink\" href=\"http://quest5.net/wiki/Using_Lists\">http://quest5.net/wiki/Using_Lists</a><!-- m -->\n\n<!-- m --><a class=\"postlink\" href=\"http://quest5.net/wiki/List_add\">http://quest5.net/wiki/List_add</a><!-- m -->\n<!-- m --><a class=\"postlink\" href=\"http://quest5.net/wiki/ListCombine\">http://quest5.net/wiki/ListCombine</a><!-- m -->\netc etc etc\n\n<!-- m --><a class=\"postlink\" href=\"http://quest5.net/wiki/Using_Dictionaries\">http://quest5.net/wiki/Using_Dictionaries</a><!-- m -->\n\n<!-- m --><a class=\"postlink\" href=\"http://quest5.net/wiki/Dictionary_add\">http://quest5.net/wiki/Dictionary_add</a><!-- m -->\netc etc etc\n\n----------------------\n\nP.S.\n\nI'm referencing the code, so I think the GUI~Editor lines you mentioned, indeed are correct, for doing the things you want. I think those GUI~Editor things are the right things that will do what you want. you guessed them correctly (I think ~ I'm too lazy to open up quest in the GUI~Editor to make sure, lol).\n\nI don't think the wiki has GUI~Editor lines, or much of any GUI~Editor stuff, but I could be wrong.",
      "EditableFormat": "bbcode",
      "HTML": "simplier, but more cumbersome (less efficient and~or less organized method ~ more work you got to do possibly depending on how much stuff you got in game):<br/><br/>(more advanced method: lists and~or dictionaries, which I won't cover here, too hard to explain, lol)<br/><br/>1A. NPC -&gt; Attributes -&gt; Add -&gt;<br/><br/>Name: topic_name_npc_name (example: legendary_sword_wise_owl)<br/>Type: (Boolean or Integer or String ~ whichever you want to use)<br/>Value: (depends on Type: boolean == wise_owl.legendary_sword = false, Integer = 0, String = legendary_sword_wise_owl_topic)<br/><br/>NPC -&gt; Ask~Tell (Tab) -&gt; Add a script -&gt;<br/><br/>If (example: wise_owl.legendary_sword = true) {<br/>-&gt; msg (where is it?)<br/>}<br/>else {<br/>-&gt; msg (why do I need it?)<br/>}<br/><br/>2. Unfortunately, If I remember correctly, the Ask/Tell scripts only uses a &quot;yes/no&quot; structure, so this probably won't be an option for you.<br/><br/>just add~create a &quot;talk&quot; verb of your own (this will override the default~core quest engine talk verb script, which is completely fine to do so, it won't cause any problems, aside from using your own talk verb scripts and not the default talk verb script. It doesn't actually override the default talk verb, the game will just use yours instead of the default, so if you want the default to be used, just delete your own talk verbs)<br/><br/>3. NPC -&gt; Attributes -&gt; Add -&gt;<br/><br/>Name: hostility<br/>Type: Integer<br/>Value: 0 (or whatever you want as the starting~intial value for your npcs)<br/><br/>NPC -&gt; Attributes -&gt; Add -&gt;<br/><br/>Name: hostile<br/>Type: boolean<br/>Value: false<br/><br/>then just set it where you want it, for example:<br/><br/>ask npc about marrying his daughter -&gt; set variable or attribute -&gt; npc.hostility = npc.hostility + 100<br/><br/>turnscript&#058;<br/><br/>If (npc.hostility &gt; 50) {<br/>-&gt; npc.hostile = true<br/>}<br/><br/>where ever (what script where) you want this:<br/><br/>if (npc.hostile = true) {<br/>-&gt; then (whatever you want, whatever script you want)<br/>}<br/><br/>4. if you're able to use ~ work with ~ the code, then this is very useful:<br/><br/><!-- m --><a class=\"postlink\" href=\"http://quest5.net/wiki/Category:All_Functions_and_Script_Commands\">http://quest5.net/wiki/Category:All_Fun ... t_Commands</a><!-- m --><br/><br/>enjoy <!-- s;) --><img src=\"{SMILIES_PATH}/icon_wink.gif\" alt=\";)\" title=\"Wink\" /><!-- s;) --><br/><br/>--------------------------------<br/><br/>&quot;Object Counters&quot;<br/><br/>Adder:<br/><br/>object_name.object_integer_attribute =  object_name.object_integer_attribute + (your value amount)<br/><br/>Subtractor:<br/><br/>object_name.object_integer_attribute =  object_name.object_integer_attribute - (your value amount)<br/><br/>Multiplier:<br/><br/>object_name.object_integer_attribute =  object_name.object_integer_attribute * (your value amount)<br/><br/>Dividor:<br/><br/>object_name.object_integer_attribute =  object_name.object_integer_attribute / (your value amount)<br/><br/>---------------------------------------<br/><br/>An Example:<br/><br/>Starting npc's, named &quot;HK&quot;, &quot;strength&quot; 's value:<br/><br/>&quot;object counter&quot; -&gt; HK.strength = 0<br/><br/>A created &quot;Drink&quot; verb on a created object named, &quot;str_pot_100&quot;, and it's script line:<br/><br/>&quot;adder&quot; -&gt; HK.strength = HK.strength + 100<br/><br/>--------------------------------------------<br/><br/>&quot;increase object counter&quot;<br/><br/>is actually an <span style=\"font-weight:bold;\"><span style=\"font-size:150\">equation~formula</span></span> using &quot;Set a variable or attribute&quot;, so there's no actual~direct script command for it.<br/><br/>as shown above:<br/><br/>initial~old HK's strength attribute's value: HK.strength = 0<br/><br/>Equation~Formula (&quot;Adder&quot;) script&#058; HK.strength = HK.strength + 100<br/><br/>HK.strength (new value) = HK.strength (old value) + 100<br/>HK. strength (new value) = (replace this old value HK.strength with what it is, which is: 0) + 100<br/>HK.strength (new value) = 0 + 100<br/>HK.strength (new value) = 100<br/><br/>new HK's strength attribute's value: HK.strength = 100<br/><br/>------------------------<br/><br/>&quot;add a value to a list&quot;<br/><br/><!-- m --><a class=\"postlink\" href=\"http://quest5.net/wiki/List_add\">http://quest5.net/wiki/List_add</a><!-- m --><br/><!-- m --><a class=\"postlink\" href=\"http://quest5.net/wiki/ListCombine\">http://quest5.net/wiki/ListCombine</a><!-- m --><br/><br/>lists and especially dictionaries are a bit more difficult to work with and understand for noobs, you may not be ready for this yet.<br/><br/><!-- m --><a class=\"postlink\" href=\"http://quest5.net/wiki/Using_Lists\">http://quest5.net/wiki/Using_Lists</a><!-- m --><br/><br/><!-- m --><a class=\"postlink\" href=\"http://quest5.net/wiki/List_add\">http://quest5.net/wiki/List_add</a><!-- m --><br/><!-- m --><a class=\"postlink\" href=\"http://quest5.net/wiki/ListCombine\">http://quest5.net/wiki/ListCombine</a><!-- m --><br/>etc etc etc<br/><br/><!-- m --><a class=\"postlink\" href=\"http://quest5.net/wiki/Using_Dictionaries\">http://quest5.net/wiki/Using_Dictionaries</a><!-- m --><br/><br/><!-- m --><a class=\"postlink\" href=\"http://quest5.net/wiki/Dictionary_add\">http://quest5.net/wiki/Dictionary_add</a><!-- m --><br/>etc etc etc<br/><br/>----------------------<br/><br/>P.S.<br/><br/>I'm referencing the code, so I think the GUI~Editor lines you mentioned, indeed are correct, for doing the things you want. I think those GUI~Editor things are the right things that will do what you want. you guessed them correctly (I think ~ I'm too lazy to open up quest in the GUI~Editor to make sure, lol).<br/><br/>I don't think the wiki has GUI~Editor lines, or much of any GUI~Editor stuff, but I could be wrong.",
      "PostDate": "2013-04-25T01:28:10+01:00",
      "LastEditDate": null
    }
  ]
}
