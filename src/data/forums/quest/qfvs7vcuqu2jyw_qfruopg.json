{
  "Topic": {
    "TopicId": "qfvs7vcuqu2jyw_qfruopg",
    "ForumId": "10",
    "Title": "The best way to implement interactive story type \"events\" within the \"rooms layout\"?",
    "LastUpdated": "2018-04-15T12:29:39.5714568Z",
    "ReplyCount": 0
  },
  "Posts": [
    {
      "PostId": "d9a1d5dd-4343-4277-bad4-e04941522b08",
      "UserId": 96655,
      "Username": "Midir",
      "AvatarUrl": "https://i.imgur.com/AvhqLnRb.gif",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "I really like how much efforts are put into this engine but when I need to do something unusual I sometimes think it would be easier to write from scratch... though I am probably mistaken anyway!\r\n\r\nSo I want to create a network of rooms, like in a good old MUD, but then implement combat using a series of events. As in where you are given three choices to five what to do (and these three choices are not constant, but it feels more like an interactive story. What is the best way of doing it? I tried creating a new room for each dialogue, but thinking about it, it's probably not the best idea after all! The namespace gets really clunky and hard to work with, to start with, and the thing is a bit hard to debug. How would you recommend going about it?\r\n\r\nI guess I should try some dialogue system?",
      "EditableFormat": "markdown",
      "HTML": "<p>I really like how much efforts are put into this engine but when I need to do something unusual I sometimes think it would be easier to write from scratch... though I am probably mistaken anyway!</p>\n<p>So I want to create a network of rooms, like in a good old MUD, but then implement combat using a series of events. As in where you are given three choices to five what to do (and these three choices are not constant, but it feels more like an interactive story. What is the best way of doing it? I tried creating a new room for each dialogue, but thinking about it, it's probably not the best idea after all! The namespace gets really clunky and hard to work with, to start with, and the thing is a bit hard to debug. How would you recommend going about it?</p>\n<p>I guess I should try some dialogue system?</p>\n\n",
      "PostDate": "2018-04-15T12:29:39.5714568Z",
      "LastEditDate": "2018-04-15T12:30:55.549226Z",
      "link": null
    },
    {
      "PostId": "b8140df2-b513-4a52-9c72-7740d1485a98",
      "UserId": 247325,
      "Username": "hegemonkhan",
      "AvatarUrl": "https://secure.gravatar.com/avatar/a96cf34d8d97c57de38f54ee22b1759b?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "(filler for getting my edited post, updated/posted)\r\n\r\n-----------------\r\n\r\nthis gets into a bit of \"advanced\" code handling/using... so, it might be a bit difficult if you're totally new to coding... we can help if you want to learn to code, which will make all of this easier for you to understand and eventually do yourself, but we'll help with getting this game design setup for you regardless of whether you want to learn to code or not, lol, so fear not, we're a small community, but large in friendliness and helping others with anything quest related, including coding, hehe.\r\n\r\nif you just want global (as in it doesn't matter what room/location you're at) random events, then using a global (as in: not within a Room Object) Turnscript, along with the scripting/coding for doing your random events within it, is probably the best/\"easiest\" method\r\n\r\nif you want specific random events, depending on which Room Object (location) you're at, then there's a bit more good options for methods of doing it... (you can use the same Turnscript usage method, and jsut have them be local Turnscripts, as in: you have the Turnscripts within the specific rooms, along with the coding/scripting for your random events within the Turnscript for that room/location. But there's other good methods you can use too)\r\n\r\nand/or do you want the random list/menu of choices to be 'path-ed' as well, as in: selecting 'A' as you first choice/option, leads to X,Y,Z choices/options as your second choice/option list/menu, whereas selecting 'B' as your first choice/option, leads to U,V,W choices/options as your second choice/option list/menu, whereas selecting 'C' as your first choice/option, leads to R,S,T choices/options as your second choice/option list/menu???\r\n\r\n----------\r\n\r\na list/menu of choices involves using 'List/Dictionary' Attributes, along with working well with randomization usage too.\r\n\r\n-----\r\n\r\ndo you want the combat to be purely choices/options driven, or do you want it to be (RPG) mechanics driven (equations/formulas/calculations: life/hp, damage, defense, etc), or both (choices/options + mechanics) ???",
      "EditableFormat": "markdown",
      "HTML": "<p>(filler for getting my edited post, updated/posted)</p>\n<hr>\n<p>this gets into a bit of \"advanced\" code handling/using... so, it might be a bit difficult if you're totally new to coding... we can help if you want to learn to code, which will make all of this easier for you to understand and eventually do yourself, but we'll help with getting this game design setup for you regardless of whether you want to learn to code or not, lol, so fear not, we're a small community, but large in friendliness and helping others with anything quest related, including coding, hehe.</p>\n<p>if you just want global (as in it doesn't matter what room/location you're at) random events, then using a global (as in: not within a Room Object) Turnscript, along with the scripting/coding for doing your random events within it, is probably the best/\"easiest\" method</p>\n<p>if you want specific random events, depending on which Room Object (location) you're at, then there's a bit more good options for methods of doing it... (you can use the same Turnscript usage method, and jsut have them be local Turnscripts, as in: you have the Turnscripts within the specific rooms, along with the coding/scripting for your random events within the Turnscript for that room/location. But there's other good methods you can use too)</p>\n<p>and/or do you want the random list/menu of choices to be 'path-ed' as well, as in: selecting 'A' as you first choice/option, leads to X,Y,Z choices/options as your second choice/option list/menu, whereas selecting 'B' as your first choice/option, leads to U,V,W choices/options as your second choice/option list/menu, whereas selecting 'C' as your first choice/option, leads to R,S,T choices/options as your second choice/option list/menu???</p>\n<hr>\n<p>a list/menu of choices involves using 'List/Dictionary' Attributes, along with working well with randomization usage too.</p>\n<hr>\n<p>do you want the combat to be purely choices/options driven, or do you want it to be (RPG) mechanics driven (equations/formulas/calculations: life/hp, damage, defense, etc), or both (choices/options + mechanics) ???</p>\n\n",
      "PostDate": "2018-04-15T15:36:55.9612777Z",
      "LastEditDate": "2018-04-15T15:46:52.7741704Z",
      "link": null
    },
    {
      "PostId": "11de28c0-e6c5-4469-8971-6965251c390b",
      "UserId": 96655,
      "Username": "Midir",
      "AvatarUrl": "https://i.imgur.com/AvhqLnRb.gif",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "I was thinking more about interactive style combat, but of course it wouldnt hurt to have additional variables in there. \r\n\r\nI am somewhat decent with coding, just new to Quest.. I guess I could have come up wit something on my own, but I just ask in case there is a simple solution ^^'",
      "EditableFormat": "markdown",
      "HTML": "<p>I was thinking more about interactive style combat, but of course it wouldnt hurt to have additional variables in there.</p>\n<p>I am somewhat decent with coding, just new to Quest.. I guess I could have come up wit something on my own, but I just ask in case there is a simple solution ^^'</p>\n\n",
      "PostDate": "2018-04-15T16:48:26.8449292Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "674091c6-3a52-4d27-ae25-4e14b04ede72",
      "UserId": 318253,
      "Username": "K.V.",
      "AvatarUrl": "https://i.imgur.com/mBf7TBeb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Something like this (although this has nothing random)?\r\n\r\n\r\n**EDITED (version 4)**\r\n\r\n<details>\r\n\r\n```\r\n<!--Saved by Quest 5.7.6606.27193-->\r\n<asl version=\"550\">\r\n  <include ref=\"English.aslx\" />\r\n  <include ref=\"Core.aslx\" />\r\n  <game name=\"Arena\">\r\n    <gameid>aa5981db-96fc-4d48-8145-c05f0957abfa</gameid>\r\n    <version>1.0</version>\r\n    <firstpublished>2018</firstpublished>\r\n    <attr name=\"autodescription_youarein_useprefix\" type=\"boolean\">false</attr>\r\n    <showhealth />\r\n    <onhealthzero type=\"script\"><![CDATA[\r\n      msg (\"You have been defeated!\")\r\n      if (game.pov.potion_count>0) {\r\n        msg (\"<br/>You had \"+game.pov.potion_count+\" potion{if game.pov.potion_count>0:s}!\")\r\n      }\r\n      finish\r\n    ]]></onhealthzero>\r\n    <start type=\"script\">\r\n      msg (\"Welcome to the Arena!\")\r\n    </start>\r\n  </game>\r\n  <object name=\"Arena\">\r\n    <inherit name=\"editor_room\" />\r\n    <usedefaultprefix type=\"boolean\">false</usedefaultprefix>\r\n    <beforefirstenter type=\"script\">\r\n      NewEnemy\r\n    </beforefirstenter>\r\n  </object>\r\n  <verb>\r\n    <property>attack</property>\r\n    <pattern>attack</pattern>\r\n    <defaultexpression>\"You can't attack \" + object.article + \".\"</defaultexpression>\r\n  </verb>\r\n  <turnscript name=\"game_options_turnscript\">\r\n    <enabled />\r\n    <script>\r\n      if (game.pov.parent = Arena) {\r\n        ArenaOptions\r\n      }\r\n      else {\r\n        MainOptions\r\n      }\r\n    </script>\r\n  </turnscript>\r\n  <object name=\"green_room\">\r\n    <inherit name=\"editor_room\" />\r\n    <object name=\"Skeleton\">\r\n      <inherit name=\"editor_object\" />\r\n      <inherit name=\"enemy\" />\r\n    </object>\r\n    <object name=\"Warrior\">\r\n      <inherit name=\"editor_object\" />\r\n      <inherit name=\"enemy\" />\r\n    </object>\r\n    <object name=\"Assassin\">\r\n      <inherit name=\"editor_object\" />\r\n      <inherit name=\"enemy\" />\r\n    </object>\r\n    <object name=\"Zombie\">\r\n      <inherit name=\"editor_object\" />\r\n      <inherit name=\"enemy\" />\r\n    </object>\r\n  </object>\r\n  <object name=\"Just Outside the Arena\">\r\n    <inherit name=\"editor_room\" />\r\n    <firstenter type=\"script\">\r\n      MainOptions\r\n    </firstenter>\r\n    <object name=\"player\">\r\n      <inherit name=\"editor_object\" />\r\n      <inherit name=\"editor_player\" />\r\n      <attr name=\"attack_damage\" type=\"int\">50</attr>\r\n      <attr name=\"potion_count\" type=\"int\">3</attr>\r\n      <attr name=\"potion_heal_amount\" type=\"int\">30</attr>\r\n      <attr name=\"potion_drop_chance\" type=\"int\">50</attr>\r\n    </object>\r\n  </object>\r\n  <type name=\"enemy\">\r\n    <attr name=\"max_health\" type=\"int\">75</attr>\r\n    <attr name=\"attack_damage\" type=\"int\">25</attr>\r\n    <hp type=\"int\">0</hp>\r\n    <usedefaultprefix type=\"boolean\">false</usedefaultprefix>\r\n    <prefix>the</prefix>\r\n    <attack type=\"script\"><![CDATA[\r\n      game.enemy.damage_dealt = GetRandomInt(0,game.pov.attack_damage)\r\n      game.pov.damage_taken = GetRandomInt(0,game.enemy.attack_damage)\r\n      game.enemy.hp = game.enemy.hp - game.enemy.damage_dealt\r\n      game.pov.health = game.pov.health - game.pov.damage_taken\r\n      msg (\"You attack {=GetDisplayName(game.enemy)}, dealing \"+game.enemy.damage_dealt+\" damage points!\")\r\n      if (game.enemy.hp<1) {\r\n        msg (CapFirst(GetDisplayName(game.enemy))+\" has been defeated!\")\r\n        RemoveObject (game.enemy)\r\n        NewEnemy\r\n        msg (CapFirst(GetDisplayName(game.enemy))+\" has entered the Arena!\")\r\n      }\r\n      else {\r\n        msg (CapFirst(GetDisplayName(game.enemy))+\" retaliates, dealing \"+game.pov.damage_taken+\" damage points!\")\r\n      }\r\n    ]]></attack>\r\n  </type>\r\n  <function name=\"NewEnemy\">\r\n    game.enemy = CloneObjectAndMoveHere(PickOneChild(green_room))\r\n    game.enemy.hp = GetRandomInt(0,100)\r\n  </function>\r\n  <function name=\"ArenaOptions\">\r\n    ShowMenu (\"What would you like to do?\", Split(\"Attack;Drink a health potion;Run!\"), false) {\r\n      switch (LCase(result)) {\r\n        case (\"attack\") {\r\n          do (game.enemy, \"attack\")\r\n        }\r\n        case (\"drink a health potion\") {\r\n          DrinkPotion\r\n        }\r\n        case (\"run!\") {\r\n          msg (\"You run away from {=GetDisplayName(game.enemy)}!\")\r\n          RemoveObject (game.enemy)\r\n          game.enemy = null\r\n          MoveObject (game.pov, Just Outside the Arena)\r\n        }\r\n        default {\r\n          Options\r\n        }\r\n      }\r\n    }\r\n  </function>\r\n  <function name=\"DrinkPotion\"><![CDATA[\r\n    if (game.pov.potion_count<1) {\r\n      msg (\"You have no potions!  Defeat enemies for a chance to acquire them!\")\r\n    }\r\n    else {\r\n      game.pov.potion_count = game.pov.potion_count -1\r\n      game.pov.health = game.pov.health + game.pov.potion_heal_amount\r\n      msg (\"Done.<br/><b>Health: \"+game.pov.health+\"<br/>Potions: \"+game.pov.potion_count+\"</b>\")\r\n    }\r\n  ]]></function>\r\n  <function name=\"MainOptions\">\r\n    firsttime {\r\n      opts = Split(\"Enter the Arena;Quit\")\r\n    }\r\n    otherwise {\r\n      opts = Split(\"Enter the Arena;Drink a health potion;Quit\")\r\n    }\r\n    ShowMenu (\"What would you like to do?\", opts, false) {\r\n      switch (LCase(result)) {\r\n        case (\"enter the arena\") {\r\n          MoveObject (game.pov, Arena)\r\n        }\r\n        case (\"drink a health potion\") {\r\n          DrinkPotion\r\n        }\r\n        case (\"quit\") {\r\n          request (Quit, \"\")\r\n        }\r\n        default {\r\n          Options\r\n        }\r\n      }\r\n    }\r\n  </function>\r\n</asl>\r\n```\r\n\r\n\r\n</details>",
      "EditableFormat": "markdown",
      "HTML": "<p>Something like this (although this has nothing random)?</p>\n<p><strong>EDITED (version 4)</strong></p>\n<details>\n<pre><code>&lt;!--Saved by Quest 5.7.6606.27193--&gt;\n&lt;asl version=\"550\"&gt;\n  &lt;include ref=\"English.aslx\" /&gt;\n  &lt;include ref=\"Core.aslx\" /&gt;\n  &lt;game name=\"Arena\"&gt;\n    &lt;gameid&gt;aa5981db-96fc-4d48-8145-c05f0957abfa&lt;/gameid&gt;\n    &lt;version&gt;1.0&lt;/version&gt;\n    &lt;firstpublished&gt;2018&lt;/firstpublished&gt;\n    &lt;attr name=\"autodescription_youarein_useprefix\" type=\"boolean\"&gt;false&lt;/attr&gt;\n    &lt;showhealth /&gt;\n    &lt;onhealthzero type=\"script\"&gt;&lt;![CDATA[\n      msg (\"You have been defeated!\")\n      if (game.pov.potion_count&gt;0) {\n        msg (\"&lt;br/&gt;You had \"+game.pov.potion_count+\" potion{if game.pov.potion_count&gt;0:s}!\")\n      }\n      finish\n    ]]&gt;&lt;/onhealthzero&gt;\n    &lt;start type=\"script\"&gt;\n      msg (\"Welcome to the Arena!\")\n    &lt;/start&gt;\n  &lt;/game&gt;\n  &lt;object name=\"Arena\"&gt;\n    &lt;inherit name=\"editor_room\" /&gt;\n    &lt;usedefaultprefix type=\"boolean\"&gt;false&lt;/usedefaultprefix&gt;\n    &lt;beforefirstenter type=\"script\"&gt;\n      NewEnemy\n    &lt;/beforefirstenter&gt;\n  &lt;/object&gt;\n  &lt;verb&gt;\n    &lt;property&gt;attack&lt;/property&gt;\n    &lt;pattern&gt;attack&lt;/pattern&gt;\n    &lt;defaultexpression&gt;\"You can't attack \" + object.article + \".\"&lt;/defaultexpression&gt;\n  &lt;/verb&gt;\n  &lt;turnscript name=\"game_options_turnscript\"&gt;\n    &lt;enabled /&gt;\n    &lt;script&gt;\n      if (game.pov.parent = Arena) {\n        ArenaOptions\n      }\n      else {\n        MainOptions\n      }\n    &lt;/script&gt;\n  &lt;/turnscript&gt;\n  &lt;object name=\"green_room\"&gt;\n    &lt;inherit name=\"editor_room\" /&gt;\n    &lt;object name=\"Skeleton\"&gt;\n      &lt;inherit name=\"editor_object\" /&gt;\n      &lt;inherit name=\"enemy\" /&gt;\n    &lt;/object&gt;\n    &lt;object name=\"Warrior\"&gt;\n      &lt;inherit name=\"editor_object\" /&gt;\n      &lt;inherit name=\"enemy\" /&gt;\n    &lt;/object&gt;\n    &lt;object name=\"Assassin\"&gt;\n      &lt;inherit name=\"editor_object\" /&gt;\n      &lt;inherit name=\"enemy\" /&gt;\n    &lt;/object&gt;\n    &lt;object name=\"Zombie\"&gt;\n      &lt;inherit name=\"editor_object\" /&gt;\n      &lt;inherit name=\"enemy\" /&gt;\n    &lt;/object&gt;\n  &lt;/object&gt;\n  &lt;object name=\"Just Outside the Arena\"&gt;\n    &lt;inherit name=\"editor_room\" /&gt;\n    &lt;firstenter type=\"script\"&gt;\n      MainOptions\n    &lt;/firstenter&gt;\n    &lt;object name=\"player\"&gt;\n      &lt;inherit name=\"editor_object\" /&gt;\n      &lt;inherit name=\"editor_player\" /&gt;\n      &lt;attr name=\"attack_damage\" type=\"int\"&gt;50&lt;/attr&gt;\n      &lt;attr name=\"potion_count\" type=\"int\"&gt;3&lt;/attr&gt;\n      &lt;attr name=\"potion_heal_amount\" type=\"int\"&gt;30&lt;/attr&gt;\n      &lt;attr name=\"potion_drop_chance\" type=\"int\"&gt;50&lt;/attr&gt;\n    &lt;/object&gt;\n  &lt;/object&gt;\n  &lt;type name=\"enemy\"&gt;\n    &lt;attr name=\"max_health\" type=\"int\"&gt;75&lt;/attr&gt;\n    &lt;attr name=\"attack_damage\" type=\"int\"&gt;25&lt;/attr&gt;\n    &lt;hp type=\"int\"&gt;0&lt;/hp&gt;\n    &lt;usedefaultprefix type=\"boolean\"&gt;false&lt;/usedefaultprefix&gt;\n    &lt;prefix&gt;the&lt;/prefix&gt;\n    &lt;attack type=\"script\"&gt;&lt;![CDATA[\n      game.enemy.damage_dealt = GetRandomInt(0,game.pov.attack_damage)\n      game.pov.damage_taken = GetRandomInt(0,game.enemy.attack_damage)\n      game.enemy.hp = game.enemy.hp - game.enemy.damage_dealt\n      game.pov.health = game.pov.health - game.pov.damage_taken\n      msg (\"You attack {=GetDisplayName(game.enemy)}, dealing \"+game.enemy.damage_dealt+\" damage points!\")\n      if (game.enemy.hp&lt;1) {\n        msg (CapFirst(GetDisplayName(game.enemy))+\" has been defeated!\")\n        RemoveObject (game.enemy)\n        NewEnemy\n        msg (CapFirst(GetDisplayName(game.enemy))+\" has entered the Arena!\")\n      }\n      else {\n        msg (CapFirst(GetDisplayName(game.enemy))+\" retaliates, dealing \"+game.pov.damage_taken+\" damage points!\")\n      }\n    ]]&gt;&lt;/attack&gt;\n  &lt;/type&gt;\n  &lt;function name=\"NewEnemy\"&gt;\n    game.enemy = CloneObjectAndMoveHere(PickOneChild(green_room))\n    game.enemy.hp = GetRandomInt(0,100)\n  &lt;/function&gt;\n  &lt;function name=\"ArenaOptions\"&gt;\n    ShowMenu (\"What would you like to do?\", Split(\"Attack;Drink a health potion;Run!\"), false) {\n      switch (LCase(result)) {\n        case (\"attack\") {\n          do (game.enemy, \"attack\")\n        }\n        case (\"drink a health potion\") {\n          DrinkPotion\n        }\n        case (\"run!\") {\n          msg (\"You run away from {=GetDisplayName(game.enemy)}!\")\n          RemoveObject (game.enemy)\n          game.enemy = null\n          MoveObject (game.pov, Just Outside the Arena)\n        }\n        default {\n          Options\n        }\n      }\n    }\n  &lt;/function&gt;\n  &lt;function name=\"DrinkPotion\"&gt;&lt;![CDATA[\n    if (game.pov.potion_count&lt;1) {\n      msg (\"You have no potions!  Defeat enemies for a chance to acquire them!\")\n    }\n    else {\n      game.pov.potion_count = game.pov.potion_count -1\n      game.pov.health = game.pov.health + game.pov.potion_heal_amount\n      msg (\"Done.&lt;br/&gt;&lt;b&gt;Health: \"+game.pov.health+\"&lt;br/&gt;Potions: \"+game.pov.potion_count+\"&lt;/b&gt;\")\n    }\n  ]]&gt;&lt;/function&gt;\n  &lt;function name=\"MainOptions\"&gt;\n    firsttime {\n      opts = Split(\"Enter the Arena;Quit\")\n    }\n    otherwise {\n      opts = Split(\"Enter the Arena;Drink a health potion;Quit\")\n    }\n    ShowMenu (\"What would you like to do?\", opts, false) {\n      switch (LCase(result)) {\n        case (\"enter the arena\") {\n          MoveObject (game.pov, Arena)\n        }\n        case (\"drink a health potion\") {\n          DrinkPotion\n        }\n        case (\"quit\") {\n          request (Quit, \"\")\n        }\n        default {\n          Options\n        }\n      }\n    }\n  &lt;/function&gt;\n&lt;/asl&gt;\n</code></pre>\n</details>\n\n",
      "PostDate": "2018-04-15T17:37:09.4618316Z",
      "LastEditDate": "2018-04-15T17:56:27.4630105Z",
      "link": null
    },
    {
      "PostId": "3c4b5b2e-e00c-43fc-8906-8874a5841deb",
      "UserId": 260569,
      "Username": "DarkLizerd",
      "AvatarUrl": "https://i.imgur.com/vjdH3t6b.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "If you think outside the box, you might be surprised how easy it could be...\r\nIf you put a series of \"attack\" commands (verbs) on the person / creature  you are fighting, then it would not be combat based on the room, but instead based on the target.\r\n",
      "EditableFormat": "markdown",
      "HTML": "<p>If you think outside the box, you might be surprised how easy it could be...<br>\nIf you put a series of \"attack\" commands (verbs) on the person / creature  you are fighting, then it would not be combat based on the room, but instead based on the target.</p>\n\n",
      "PostDate": "2018-04-15T18:11:50.6228204Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "8457a64f-5180-48dd-8b08-8bee60ac131d",
      "UserId": 96655,
      "Username": "Midir",
      "AvatarUrl": "https://i.imgur.com/AvhqLnRb.gif",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Oh looks like Show Menu is exactly what I need!",
      "EditableFormat": "markdown",
      "HTML": "<p>Oh looks like Show Menu is exactly what I need!</p>\n\n",
      "PostDate": "2018-04-16T02:07:46.2637735Z",
      "LastEditDate": null,
      "link": null
    }
  ]
}
