{
  "Topic": {
    "TopicId": "883",
    "ForumId": "10",
    "Title": "Menus and Procedures",
    "LastUpdated": "2005-12-13T06:29:41+00:00",
    "ReplyCount": 14
  },
  "Posts": [
    {
      "PostId": "6865",
      "UserId": 0,
      "Username": "steve the gaming guy",
      "UserAvatar": null,
      "UserGravatar": "6577a0affcb6ea711c75baf052ffd08a",
      "EditableText": "I have created the following code for an example of the problem I am having.  I want to use a spell book on the wizard and show a menu of a list of spells available to use.  As I use different spells, I want the wizard's property to change.\nIn this example, the wizard uses the ice spell and to counter, the player should use the fire spell or else he dies.\nOnce the fire spell is used, the wizard changes into fire himself and the player is to use the water spell to finish the game.\n\nWhat happens here is that when the fire spell is used, it shows the first (correct) reaction where the wizard backs away but then when the property changes, it immediately shows the second reaction as if the player used the fire spell a second time.\n\n[code:1h9qd0w7]' &quot;book test&quot;\n' Created with QDK 3&#46;53 - UNREGISTERED VERSION\n\ndefine game &lt;book test&gt;\n\tasl-version &lt;350&gt;\n\tgametype singleplayer\n\tstart &lt;room1&gt;\n\tgame info &lt;Created with QDK 3&#46;53 - UNREGISTERED EVALUATION VERSION&#46;&gt;\nend define\n\ndefine synonyms\nend define\n\ndefine room &lt;room1&gt;\n\tlook &lt;This is a big room&#46;&gt;\n\tcommand &lt;cast spell&gt; if got &lt;spell book&gt; then do &lt;cast_spell&gt; else msg &lt;You have no powers&#46;&gt;\n\n\tdefine object &lt;spell book&gt;\n\t\ttake &#123;\n\t\t\tgive &lt;spell book&gt;\n\t\t\tdo &lt;get_book&gt;\n\t\t&#125;\n\t\tuse on &lt;wizard&gt; do &lt;cast_spell&gt;\n\tend define\n\n\tdefine object &lt;wizard&gt;\n\t\tlook &lt;The wizard is evil&#46;&gt;\n\t\tspeak &lt;He is not going to talk to you&#46;&gt;\n\t\tprefix &lt;the&gt;\n\t\tgender &lt;he&gt;\n\tend define\n\nend define\n\ndefine procedure &lt;cast_spell&gt;\n\tmsg &lt;You wave your hand and cast one the available spells from the spell book&#58;|n&gt;\n\tchoose &lt;book&gt;\nend define\n\ndefine procedure &lt;get_book&gt;\n\tmsg &lt;As you pick up the book, the evil wizard casts an ice spell&#46;  You better do something quick!|n&gt;\n\tproperty &lt;wizard; ice&gt;\nend define\n\ndefine text &lt;intro&gt;\n\nend define\n\ndefine text &lt;win&gt;\n\nend define\n\ndefine text &lt;lose&gt;\n\nend define\n\ndefine selection &lt;book&gt;\n\tinfo &lt;book&gt;\n\tchoice &lt;fire&gt; &#123;\n\t\tif property &lt;wizard; ice&gt; then &#123;\n\t\t\tmsg &lt;You cast the fire spell and melt the evil wizard but he backs up and changes into a fire himself&#46;|n|nWhat spell do you cast now?&gt;\n\t\t\tproperty &lt;wizard; fire&gt;\n\t\t&#125;\n\t\tif property &lt;wizard; fire&gt; then &#123;\n\t\t\tmsg &lt;You cast the fire spell but he is already a flame himself so he burns you alive&#46;|n&gt;\n\t\t\tplayerlose\n\t\t&#125;\n\t&#125;\n\tchoice &lt;water&gt; &#123;\n\t\tif property &lt;wizard; ice&gt; then &#123;\n\t\t\tmsg &lt;You cast the water spell on the wizard but he has already cast the ice spell&#46;|nLarge ice shards pummel your body and you die&#46;|n&gt;\n\t\t\tplayerlose\n\t\t&#125;\n\t\tif property &lt;wizard; fire&gt; then &#123;\n\t\t\tmsg &lt;You cast the water spell and wash the wizard out completely!!!&gt;\n\t\t\tplayerwin\n\t\t&#125;\n\t&#125;\nend define\n\n[/code:1h9qd0w7]\n\nI hope I explained that correctly.  If you test this, you will see what I mean.   <!-- s:shock: --><img src=\"{SMILIES_PATH}/icon_eek.gif\" alt=\":shock:\" title=\"Shocked\" /><!-- s:shock: -->\n\nWhat I want to happen is after the wizard changes his property, the player must use the command \"cast spell\" a second time before anything else happens.",
      "EditableFormat": "bbcode",
      "HTML": "I have created the following code for an example of the problem I am having.  I want to use a spell book on the wizard and show a menu of a list of spells available to use.  As I use different spells, I want the wizard's property to change.<br/>In this example, the wizard uses the ice spell and to counter, the player should use the fire spell or else he dies.<br/>Once the fire spell is used, the wizard changes into fire himself and the player is to use the water spell to finish the game.<br/><br/>What happens here is that when the fire spell is used, it shows the first (correct) reaction where the wizard backs away but then when the property changes, it immediately shows the second reaction as if the player used the fire spell a second time.<br/><br/><pre><code>' &quot;book test&quot;<br/>' Created with QDK 3&#46;53 - UNREGISTERED VERSION<br/><br/>define game &lt;book test&gt;<br/>\tasl-version &lt;350&gt;<br/>\tgametype singleplayer<br/>\tstart &lt;room1&gt;<br/>\tgame info &lt;Created with QDK 3&#46;53 - UNREGISTERED EVALUATION VERSION&#46;&gt;<br/>end define<br/><br/>define synonyms<br/>end define<br/><br/>define room &lt;room1&gt;<br/>\tlook &lt;This is a big room&#46;&gt;<br/>\tcommand &lt;cast spell&gt; if got &lt;spell book&gt; then do &lt;cast_spell&gt; else msg &lt;You have no powers&#46;&gt;<br/><br/>\tdefine object &lt;spell book&gt;<br/>\t\ttake &#123;<br/>\t\t\tgive &lt;spell book&gt;<br/>\t\t\tdo &lt;get_book&gt;<br/>\t\t&#125;<br/>\t\tuse on &lt;wizard&gt; do &lt;cast_spell&gt;<br/>\tend define<br/><br/>\tdefine object &lt;wizard&gt;<br/>\t\tlook &lt;The wizard is evil&#46;&gt;<br/>\t\tspeak &lt;He is not going to talk to you&#46;&gt;<br/>\t\tprefix &lt;the&gt;<br/>\t\tgender &lt;he&gt;<br/>\tend define<br/><br/>end define<br/><br/>define procedure &lt;cast_spell&gt;<br/>\tmsg &lt;You wave your hand and cast one the available spells from the spell book&#58;|n&gt;<br/>\tchoose &lt;book&gt;<br/>end define<br/><br/>define procedure &lt;get_book&gt;<br/>\tmsg &lt;As you pick up the book, the evil wizard casts an ice spell&#46;  You better do something quick!|n&gt;<br/>\tproperty &lt;wizard; ice&gt;<br/>end define<br/><br/>define text &lt;intro&gt;<br/><br/>end define<br/><br/>define text &lt;win&gt;<br/><br/>end define<br/><br/>define text &lt;lose&gt;<br/><br/>end define<br/><br/>define selection &lt;book&gt;<br/>\tinfo &lt;book&gt;<br/>\tchoice &lt;fire&gt; &#123;<br/>\t\tif property &lt;wizard; ice&gt; then &#123;<br/>\t\t\tmsg &lt;You cast the fire spell and melt the evil wizard but he backs up and changes into a fire himself&#46;|n|nWhat spell do you cast now?&gt;<br/>\t\t\tproperty &lt;wizard; fire&gt;<br/>\t\t&#125;<br/>\t\tif property &lt;wizard; fire&gt; then &#123;<br/>\t\t\tmsg &lt;You cast the fire spell but he is already a flame himself so he burns you alive&#46;|n&gt;<br/>\t\t\tplayerlose<br/>\t\t&#125;<br/>\t&#125;<br/>\tchoice &lt;water&gt; &#123;<br/>\t\tif property &lt;wizard; ice&gt; then &#123;<br/>\t\t\tmsg &lt;You cast the water spell on the wizard but he has already cast the ice spell&#46;|nLarge ice shards pummel your body and you die&#46;|n&gt;<br/>\t\t\tplayerlose<br/>\t\t&#125;<br/>\t\tif property &lt;wizard; fire&gt; then &#123;<br/>\t\t\tmsg &lt;You cast the water spell and wash the wizard out completely!!!&gt;<br/>\t\t\tplayerwin<br/>\t\t&#125;<br/>\t&#125;<br/>end define<br/><br/></code></pre><br/><br/>I hope I explained that correctly.  If you test this, you will see what I mean.   <!-- s:shock: --><img src=\"{SMILIES_PATH}/icon_eek.gif\" alt=\":shock:\" title=\"Shocked\" /><!-- s:shock: --><br/><br/>What I want to happen is after the wizard changes his property, the player must use the command \"cast spell\" a second time before anything else happens.",
      "PostDate": "2005-08-09T17:17:31+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "6866",
      "UserId": 0,
      "Username": "Arbutus",
      "UserAvatar": null,
      "UserGravatar": "8592c0fe872d1d1e7468550ad6cf381c",
      "EditableText": "Put the if property &lt;wizard;fire&gt; block before the if property &lt;wizard;ice&gt; block. The wizard was set to ice right before the code was checking for ice, so both choices would run every time.\n\nAnd when you set the fire property, make sure to also \"turn off\" the ice property and vice-versa. Otherwise, he's fire and ice! What a wizard!\n\n[code:38z2now6]\n   choice &lt;fire&gt; &#123; \n      if property &lt;wizard; fire&gt; then &#123; \n         msg &lt;You cast the fire spell but he is already a flame himself so he burns you alive&#46;|n&gt; \n         playerlose \n      &#125; \n      if property &lt;wizard; ice&gt; then &#123; \n         msg &lt;You cast the fire spell and melt the evil wizard but he backs up and changes into a fire himself&#46;|n|nWhat spell do you cast now?&gt; \n         property &lt;wizard; fire&gt;\n         property &lt;wizard; not ice&gt;\n      &#125; \n   &#125; \n\n[/code:38z2now6]",
      "EditableFormat": "bbcode",
      "HTML": "Put the if property &lt;wizard;fire&gt; block before the if property &lt;wizard;ice&gt; block. The wizard was set to ice right before the code was checking for ice, so both choices would run every time.<br/><br/>And when you set the fire property, make sure to also \"turn off\" the ice property and vice-versa. Otherwise, he's fire and ice! What a wizard!<br/><br/><pre><code><br/>   choice &lt;fire&gt; &#123; <br/>      if property &lt;wizard; fire&gt; then &#123; <br/>         msg &lt;You cast the fire spell but he is already a flame himself so he burns you alive&#46;|n&gt; <br/>         playerlose <br/>      &#125; <br/>      if property &lt;wizard; ice&gt; then &#123; <br/>         msg &lt;You cast the fire spell and melt the evil wizard but he backs up and changes into a fire himself&#46;|n|nWhat spell do you cast now?&gt; <br/>         property &lt;wizard; fire&gt;<br/>         property &lt;wizard; not ice&gt;<br/>      &#125; <br/>   &#125; <br/><br/></code></pre>",
      "PostDate": "2005-08-09T19:13:21+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "6867",
      "UserId": 0,
      "Username": "steve the gaming guy",
      "UserAvatar": null,
      "UserGravatar": "6577a0affcb6ea711c75baf052ffd08a",
      "EditableText": "Throwing a \"not\" in front of ice in the property turns ice off?  It makes sense but I didn't think that works.  I will try it out.\nThanks!",
      "EditableFormat": "bbcode",
      "HTML": "Throwing a \"not\" in front of ice in the property turns ice off?  It makes sense but I didn't think that works.  I will try it out.<br/>Thanks!",
      "PostDate": "2005-08-09T20:01:05+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "6868",
      "UserId": 0,
      "Username": "paul_one",
      "UserAvatar": null,
      "UserGravatar": "fef8a1875028f4300bb683f29c432894",
      "EditableText": "Yes, not turns boolean properties off.\n\nI advise you to use a value property instead though, ie:\n[code:faayja8k]property &lt;element=fire&gt;[/code:faayja8k]\nSince he can usually only be one element (or all elements - as the fifth element I guess).\n\nBut yeah, everything Arbutus put is 100% correct, s/he's done some work in the area and has picked up the language pretty quickly &amp; well.",
      "EditableFormat": "bbcode",
      "HTML": "Yes, not turns boolean properties off.<br/><br/>I advise you to use a value property instead though, ie:<br/><pre><code>property &lt;element=fire&gt;</code></pre><br/>Since he can usually only be one element (or all elements - as the fifth element I guess).<br/><br/>But yeah, everything Arbutus put is 100% correct, s/he's done some work in the area and has picked up the language pretty quickly &amp; well.",
      "PostDate": "2005-08-09T22:02:48+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "6869",
      "UserId": 0,
      "Username": "steve the gaming guy",
      "UserAvatar": null,
      "UserGravatar": "6577a0affcb6ea711c75baf052ffd08a",
      "EditableText": "I will have to try the â€œelement=fireâ€ idea as well.  The first way seemed to work.\nHowever, I ran into some trouble last night when I was working on it because for this example, I said there are only two different elements.  In my game, it is actually four.  I was just going to use the basic principle for all four and adjust it accordingly.\nWhat happens now is when the wizard changes to the first element, the first counter spell works and the wizard then changes to the second element and waits for the players command.  This is correct so far.\nHOWEVER, when the second counter spell is cast, the response was as if the wizard had already changed into his third element.  \nItâ€™s probably just a simple error that I need to fix.  I have something backwards or something like that.\nI donâ€™t have the actual code here at work with me so I cannot post it.  If I have further problems with it, I will post it.\n\nThank you Arbutus and Tr0n",
      "EditableFormat": "bbcode",
      "HTML": "I will have to try the â€œelement=fireâ€ idea as well.  The first way seemed to work.<br/>However, I ran into some trouble last night when I was working on it because for this example, I said there are only two different elements.  In my game, it is actually four.  I was just going to use the basic principle for all four and adjust it accordingly.<br/>What happens now is when the wizard changes to the first element, the first counter spell works and the wizard then changes to the second element and waits for the players command.  This is correct so far.<br/>HOWEVER, when the second counter spell is cast, the response was as if the wizard had already changed into his third element.  <br/>Itâ€™s probably just a simple error that I need to fix.  I have something backwards or something like that.<br/>I donâ€™t have the actual code here at work with me so I cannot post it.  If I have further problems with it, I will post it.<br/><br/>Thank you Arbutus and Tr0n",
      "PostDate": "2005-08-10T14:48:39+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "7102",
      "UserId": 0,
      "Username": "steve the gaming guy",
      "UserAvatar": null,
      "UserGravatar": "6577a0affcb6ea711c75baf052ffd08a",
      "EditableText": "Tr0n,\n\nI haven't abandoned this project or the forums.  I haven't been \"Quest active\" lately. \nBut I did try your suggestions and I just keep running into the same annoying problems. \n\nIn short, the wizard is going to change into four different objects/elements.  I want the player to pick 1 of 4 defensive spells.  One spell counters one of the wizards spells.  If they choose the wrong spell, they get killed.  \nAs it stands now, the first spell works properly and the wizard changes himself into the 2nd object.  Now when the 2nd correct spell is cast, the counter spell is correctly described but then suddenly, the description for the wizard was as if I used the 2nd counter spell on the wizard's 3rd spell and the player is killed.\nThen it produces the standard lose text block of the game.  Then the game continues and produces the description of the 2nd counter spell and then the wizard's 4th spell.  \nI can't really describe it any better so here is the code:\nIn order to progress, the commands are \"use crispin's wand on machine, use mordack's wand on machine, use cheese on machine, get crispin's wand, use wand on mordack, choose tiger spell, use wand on mordack, choose rabbit spell...be confused!\n\n\n[code:p5igpojf]\n' &quot;King's Quest V - text adventure&quot;\n' Created with QDK 3&#46;53 - UNREGISTERED VERSION\n\n!include &lt;Typelib&#46;qlb&gt;\n\ndefine game &lt;King's Quest V - text adventure&gt;\n\tasl-version &lt;350&gt;\n\tgametype singleplayer\n\tstart &lt;lab - upstairs&gt;\n\tgame author &lt;Steve Lingle&gt;\n\tgame version &lt;1&#46;0&gt;\n\tgame copyright &lt;Revised by Steveco Games for free distribution only&gt;\n\tgame info &lt;Created with QDK 3&#46;53 - UNREGISTERED EVALUATION VERSION&#46;&gt;\n\tdefine variable &lt;mordack_insect&gt;\n\t\ttype numeric\n\t\tvalue &lt;30&gt;\n\t\tonchange if &#40; %mordack_insect% &lt; 1 &#41; then &#123;\n\t\t\ttimeroff &lt;mordack_insect&gt;\n\t\t\tmsg &lt;Just as Graham is deciding on what to do, Mordack &#40;as the \n\ninsect&#41; swoops down upon him and finishes him off&#46;|n&gt;\n\t\t\twait &lt;press any key&gt;\n\t\t\tmsg &lt;If only there were something that Graham could have done \n\nto stop Mordack&#46;|n|nHint&#58; read the book in the library&#46;  They are magic spells&#46;|n&#40;use \n\ncommand&#58; cast spell or wave wand or use wand on Mordack&#41;&gt;\n\t\t\twait &lt;press any key&gt;\n\t\t\tplayerlose\n\t\t&#125;\n\tend define\n\tdefine variable &lt;Score&gt;\n\t\ttype numeric\n\t\tvalue &lt;0&gt;\n\t\tdisplay &lt;!&gt;\n\tend define\nend define\n\ndefine synonyms\n\ttake = get\n\tbandit = man\n\te = east\n\tw = west\n\ts = south\n\tn = north\n\tpipe organ = organ\nend define\n\ndefine room &lt;inven room&gt;\n\n\tdefine object &lt;Mordack&gt;\n\t\tlook &#123;\n\t\t\tif property &lt;Mordack; &gt; then msg &lt;Mordack stands in the room \n\nstaring menacingly at Graham&#46;|n&gt;\n\t\t\tif property &lt;Mordack; insect&gt; then msg &lt;Mordack &#40;as a large \n\ninsect&#41; hovers eerily above Graham&#46;|n&gt;\n\t\t\tif property &lt;Mordack; dragon&gt; then msg &lt;Mordack &#40;as a dragon&#41; \n\ntowers over Graham ready to scorch him with fire&#46;|n&gt;\n\t\t\tif property &lt;Mordack; cobra&gt; then msg &lt;Mordack &#40;as a cobra&#41; \n\nslithers closer and closer to Graham ready to strike&#46;|n&gt;\n\t\t\tif property &lt;Mordack; fire&gt; then msg &lt;Mordack &#40;as a fire&#41; \n\ncircles Graham containing him in one spot&#46;|n&gt;\n\t\t&#125;\n\t\tspeak &lt;Mordack is not going to discuss anything with Graham&#46;&gt;\n\t\tdisplaytype &lt;character&gt;\n\t\tgender &lt;he&gt;\n\tend define\n\n\tdefine object &lt;Mordack's wand2&gt;\n\t\talias &lt;Mordack's wand&gt;\n\t\talt &lt;wand; Mordack's wand; Mordacks wand&gt;\n\t\tlook &lt;Mordack's wand barely sparkles at all now&#46;&gt;\n\t\ttake msg &lt;Now that the wand has lost all of its magical powers, there \n\nis no further use for it&#46;|n&gt;\n\t\tarticle &lt;it&gt;\n\t\tgender &lt;it&gt;\n\t\tuse msg &lt;Graham waves Mordack's wand which is full of magical \n\nenergy&#46;|nStrangely, nothing happens&#46;  Could it be that only Mordack can use the \n\nwand?|n&gt;\n\tend define\n\nend define\n\ndefine room &lt;laboratory&gt;\n\tprefix &lt;the&gt;\n\tlook &lt;The laboratory is a very large room&#46;  A stairway immediately to the left \n\nleads to the upper section of the laboratory where a strange machine can be seen from \n\nthe ground floor&#46;|nAn enormous fireplace sits against the east wall with a ventilation \n\nshaft leading up and out through the ceiling&#46;  On either side of the shaft are windows \n\nwhere most of the room's light is coming from&#46;|nMagic trinkets and other type of \n\nchemical substances clutter laboratory tables on the sides of the room&#46;|nAmong the \n\nbottles and jars, Graham notices a very large jar on the edge of one of the tables \n\ncontaining a miniature castle&#46;&gt;\n\twest if here &lt;Mordack&gt; then msg &lt;Graham cannot leave now&#46;  He must deal with \n\nMordack&#46;|n&gt; else goto &lt;upstairs hallway&gt;\n\tup if here &lt;Mordack&gt; then msg &lt;Graham cannot leave now&#46;  He must deal with \n\nMordack&#46;|n&gt; else goto &lt;lab - upstairs&gt;\n\n\tdefine object &lt;stairway&gt;\n\t\tlook &lt;The stone stairway leads to the top floor of the laboratory&#46;&gt;\n\t\tprefix &lt;the&gt;\n\t\tarticle &lt;it&gt;\n\t\tinvisible\n\tend define\n\n\tdefine object &lt;machine1&gt;\n\t\talias &lt;strange machine&gt;\n\t\talt &lt;strange machine; machine&gt;\n\t\tlook &lt;A strange machine can be seen from the ground floor&#46;&gt;\n\t\ttake msg &lt;Graham will need to be closer to examine the strange \n\nmachine&#46;|n&gt;\n\t\texamine &lt;A strange machine can be seen from the ground floor&#46;  Graham \n\nwill need to be closer to examine it&#46;&gt;\n\t\tprefix &lt;a&gt;\n\t\tarticle &lt;it&gt;\n\tend define\n\n\tdefine object &lt;fireplace1&gt;\n\t\talias &lt;fireplace&gt;\n\t\talt &lt;fire; place; fire place&gt;\n\t\tlook &lt;A dormant fireplace sits on the east side of the room&#46;  This is \n\nmost likely where magic spells and experiments are created&#46;&gt;\n\t\tprefix &lt;a&gt;\n\t\tarticle &lt;it&gt;\n\tend define\n\n\tdefine object &lt;shaft&gt;\n\t\talt &lt;ventilation; ventilation shaft&gt;\n\t\tlook &lt;A ventilation shaft extends from the fireplace against the wall \n\nand travels up and out of the castle near the ceiling where fumes from the fireplace \n\nwould most likely go&#46;&gt;\n\t\tprefix &lt;a&gt;\n\t\tarticle &lt;it&gt;\n\tend define\n\n\tdefine object &lt;windows&gt;\n\t\talt &lt;window&gt;\n\t\tlook &lt;The two windows against the east wall are too high to be reached&#46; \n\n There not especially large either so this would not provide an adequate means of \n\nescape&#46;&gt;\n\t\tprefix &lt;the&gt;\n\t\tarticle &lt;them&gt;\n\t\tinvisible\n\tend define\n\n\tdefine object &lt;trinkets&gt;\n\t\talt &lt;magic trinkets; chemicals; bottles; tubes; table; tables&gt;\n\t\tlook &lt;Magic trinkets, chemical apparatus and tubes are scattered around \n\nthe laboratory&#46;  In one corner of a table sits a large glass jar with a miniature \n\ncastle inside&#46;&gt;\n\t\ttake msg &lt;There is nothing of interest with the them&#46;|n&gt;\n\t\tprefix &lt;the&gt;\n\t\tarticle &lt;them&gt;\n\t\tinvisible\n\tend define\n\n\tdefine object &lt;glass jar&gt;\n\t\talt &lt;jar; castle; miniature castle; castle in jar; miniature castle in \n\njar&gt;\n\t\tlook &lt;On the edge of a table sits a large glass jar containing Graham's \n\ncastle&#46;&gt;\n\t\ttake msg &lt;The glass jar is too large to carry around&#46;  There must be a \n\nway to save Graham's family&#46;|n&gt;\n\t\tspeak msg &lt;A tear comes to Graham's eye as he sees his family inside of \n\nthe glass jar&#46;|n|cr&quot;I will rescue you soon, my family&#46;&quot;|cb|n&gt;\n\t\texamine msg &lt;A tear comes to Graham's eye as he sees his family inside \n\nof the glass jar&#46;|n|cr&quot;I will rescue you soon, my family&#46;&quot;|cb|n&gt;\n\t\tprefix &lt;a&gt;\n\t\tarticle &lt;it&gt;\n\tend define\n\nend define\n\ndefine room &lt;lab - upstairs&gt;\n\tdown &lt;laboratory&gt;\n\n\tdefine object &lt;machine2&gt;\n\t\talias &lt;strange machine&gt;\n\t\talt &lt;strange machine; machine&gt;\n\t\tlook &lt;The machine has a large basin with bubbling liquid in the center \n\nwith pipes and copper coils coming out of it&#46;  They pipes form a cross section and \n\nextend to the left and right where each end comes to a point&#46;  At the points on each \n\nend are metallic cones that point to empty trays&#46;  There is a tray on the left and a \n\ntray on the right&#46;  If only Graham could figure out what goes on the trays&#46;&gt;\n\t\ttake msg &lt;Graham will need to be closer to examine the strange \n\nmachine&#46;|n&gt;\n\t\tprefix &lt;a&gt;\n\t\tarticle &lt;it&gt;\n\tend define\n\n\tdefine object &lt;trays&gt;\n\t\talt &lt;tray&gt;\n\t\tlook &lt;A tray sits on the left and right side of the machine&#46;  Graham \n\nwonders what they could be used for&#46;&gt;\n\t\tprefix &lt;the&gt;\n\t\tarticle &lt;them&gt;\n\t\tinvisible\n\tend define\n\n\tdefine object &lt;crispin's wand2&gt;\n\t\talias &lt;crispin's wand&gt;\n\t\talt &lt;wand&gt;\n\t\tlook &lt;Crispin's wand is now pulsing with magical power&#46;&gt;\n\t\ttake do &lt;Crispin's wand charged&gt;\n\t\tspeak &lt;Talking to the wand will do nothing&#46;&gt;\n\t\tarticle &lt;it&gt;\n\t\tgender &lt;it&gt;\n\t\tuse msg &lt;You wave the wand but only a couple sparkles fizzle out from \n\nthe wand and nothing happens&#46;&gt;\n\t\tuse on &lt;Mordack&gt; do &lt;Wand on Mordack&gt;\n\t\tuse on anything msg &lt;You wave the wand but only a couple sparkles \n\nfizzle out from the wand and nothing happens&#46;&gt;\n\t\tdrop nowhere\n\tend define\n\nend define\n\ndefine procedure &lt;Crispin's wand charged&gt;\n\tmsg &lt;Graham picks up Crispin's wand from the tray and can immediately feel the \n\nmagical power flowing through it&#46;|n&gt;\n\tinc &lt;Score; 2&gt;\n\tgive &lt;crispin's wand2&gt;\n\twait &lt;press any key&gt;\n\tmsg &lt;A few moments later, Mordack appears in the entry of the laboratory \n\ndownstairs&#46;|n&gt;\n\tmove &lt;Mordack; lab - upstairs&gt;\n\twait &lt;press any key&gt;\n\tmsg &lt;Graham steps forward to the edge of the balcony so he can see the \n\nlaboratory&#46;|n&gt;\n\twait &lt;press any key&gt;\n\tgoto &lt;laboratory&gt;\n\tmove &lt;Mordack; laboratory&gt;\n\twait &lt;press any key&gt;\n\tmsg &lt;|cl&quot;What are you doing with my wand, you swine!&quot;|cb Mordack waves his \n\nhands and his wand sails through the air and into his waiting hand&#46;|n&gt;\n\tmove &lt;Mordack's wand2; inven room&gt;\n\twait &lt;press any key&gt;\n\tmsg &lt;|cl&quot;You will be a hinderance no more!&quot;|cb  |nJust as Mordack begins to \n\nwave his wand&#46;&#46;&#46;|n&gt;\n\twait &lt;press any key&gt;\n\tmsg &lt;|cg&quot;Graham, I have just heard from Crispin and he will be on his way to \n\nhelp&#46;&#46;&#46;&quot;|cb|nIt was Cedric!  He flew in through the laboratory windows&#46;|n&gt;\n\twait &lt;press any key&gt;\n\tmsg &lt;At that moment, a ray of magic shoots from Mordack's wand and hits Cedric \n\nas he accidentally intercepted the path of the magic spell&#46;|n&gt;\n\twait &lt;press any key&gt;\n\tmsg &lt;Cedric immediately turned to stone and fell to the floor&#46;|n|cr&quot;Cedric!&quot;|cb \n\nshouted Graham&#46;|n&gt;\n\twait &lt;press any key&gt;\n\tmsg &lt;Mordack waves his wand again but only a few sparkles fizzle through the \n\nend&#46;|n|cl&quot;What did you do to my wand?  Do not under estimate my powers, little \n\nman&#46;&#46;&#46;&quot;|cb|n&gt;\n\twait &lt;press any key&gt;\n\tmsg &lt;Mordack waves his arms and suddenly his whole body begins to glow&#46;|nGraham \n\nwatched in awe and horror as Mordack started to grow and change into a large flying \n\ninsect&#46;|n&gt;\n\twait &lt;press any key&gt;\n\tmsg &lt;Mordack &#40;as an insect&#41; flies up to the upper level of the laboratory and \n\nhovers just above Graham&#46;|nNow is the time for Graham to pull a trick or two out of his \n\nhat!|n&gt;\n\tproperty &lt;Mordack; insect&gt;\n\t\nend define\n\ndefine procedure &lt;Wand on Mordack&gt;\n\tmsg &lt;Graham waves his wand and prepares to cast a spell from the large book \n\nfrom Mordack's library&#46;|n&gt;\n\twait &lt;press any key&gt;\n\tchoose &lt;book&gt;\n\tif property &lt;Mordack; insect&gt; then property &lt;Mordack; dragon&gt;\n\tif property &lt;Mordack; dragon&gt; then property &lt;Mordack; cobra&gt;\n\tif property &lt;Mordack; cobra&gt; then property &lt;Mordack; fire&gt;\n\t\nend define\n\ndefine procedure &lt;end of story&gt;\n\tmsg &lt;Graham, in bewilderment, looks around the laboratory&#46;  Mordack's ashes \n\nsmoke as the last of the burning ambers fizzle away&#46;|n&gt;\n\twait &lt;press any key&gt;\n\tmsg &lt;He looks at poor Cedric lying on the floor of the laboratory and he looks \n\nat his family in the large glass jar&#46;|n&gt;\n\twait &lt;press any key&gt;\n\tmsg &lt;As he ponders what to do next and how he would possibly get everyone home, \n\na puff of smoke appeared behind Graham&#46;|n&gt;\n\twait &lt;press any key&gt;\n\tsay &lt;|cl&quot;Confound it&#46;&#46;&#46;Oh wonderful&#46;  Graham, I'm glad to see you are still \n\nalive&#46;&quot;|cb  It was Crispin&#46;  Although he missed the show, hopefully he could help \n\nrestore everything to normal&#46;|n&gt;\n\twait &lt;press any key&gt;\n\t\nend define\n\ndefine procedure &lt;tiger&gt;\n\tif property &lt;Mordack; dragon&gt; then &#123;\n\t\tmsg &lt;Graham casts the tiger spell on himself and he instantly changes \n\ninto the form of a tiger&#46;|n&gt;\n\t\twait &lt;press any key&gt;\n\t\tmsg &lt;Mordack &#40;as the dragon&#41; blows a gust of fire at Graham &#40;as the \n\ntiger&#41; and consumes him completely killing Graham quite quickly&#46;|n&gt;\n\t\twait &lt;press any key&gt;\n\t\tmsg &lt;Maybe there is another spell that Graham should try&#46;|n&gt;\n\t\twait &lt;press any key&gt;\n\t\tplayerlose\n\t&#125;\n\tif property &lt;Mordack; cobra&gt; then &#123;\n\t\tmsg &lt;Graham casts the tiger spell on himself changing him into the form \n\nof a tiger instantly&#46;|n&gt;\n\t\twait &lt;press any key&gt;\n\t\tmsg &lt;Mordack &#40;as the cobra&#41; slithers up to Graham &#40;as the tiger&#41; and \n\nbites him quickly on the neck&#46;|n&gt;\n\t\twait &lt;press any key&gt;\n\t\tmsg &lt;After a few moments, Graham falls to the floor dead&#46;|n|nPerhaps \n\nthere was another spell Graham could use&#46;|n&gt;\n\t\twait &lt;press any key&gt;\n\t\tplayerlose\n\t&#125;\n\tif property &lt;Mordack; fire&gt; then &#123;\n\t\tmsg &lt;Graham cast the tiger spell on himself and his body changes into \n\nthe form of a tiger instantly&#46;|n&gt;\n\t\twait &lt;press any key&gt;\n\t\tmsg &lt;Mordack &#40;as the fire&#41; surrounds Graham &#40;as the tiger&#41; and consumes \n\nhim quickly&#46;  |nIt does not take long for Graham to pass away&#46;|n&gt;\n\t\twait &lt;press any key&gt;\n\t\tmsg &lt;Perhaps there was a different spell Graham could use&#46;|n&gt;\n\t\twait &lt;press any key&gt;\n\t\tplayerlose\n\t&#125;\n\tif property &lt;Mordack; insect&gt; then &#123;\n\t\ttimeroff &lt;mordack_insect&gt;\n\t\tmsg &lt;Graham casts the tiger spell on himself and he immediately changes \n\nform into a tiger&#46;|n&gt;\n\t\twait &lt;press any key&gt;\n\t\tmsg &lt;Graham &#40;as the tiger&#41; begins jumping up on his hind legs and \n\nclawing at Mordack &#40;as the insect&#41;&#46;|n&gt;\n\t\twait &lt;press any key&gt;\n\t\tmsg &lt;|cl&quot;Grrrrrrraaaahhhh!!!&quot; |cbcries Mordack&#46;|nMordack flies back \n\ndown to the lower area of the laboratory and Graham jumps down ready to attack&#46;|n&gt;\n\t\twait &lt;press any key&gt;\n\t\tmsg &lt;|cl&quot;You think you're pretty smart, Graham&#46;&#46;&#46;Let's see how you \n\nhandle a little fire&#46;&quot;|cb  Mordack begins to grow very large and changes into a \n\nferocious dragon&#46;|n&gt;\n\t\tproperty &lt;Mordack; not insect&gt;\n\t\tproperty &lt;Mordack; dragon&gt;\n\t\ttimeron &lt;mordack_dragon&gt;\n\t&#125;\nend define\n\ndefine procedure &lt;rabbit&gt;\n\tif property &lt;Mordack; insect&gt; then &#123;\n\t\tmsg &lt;Graham casts the rabbit spell on himself and he immediately \n\nchanges form into a rabbit&#46;|n&gt;\n\t\twait &lt;press any key&gt;\n\t\tmsg &lt;Mordack &#40;as the insect&#41; swoops down on Graham &#40;as the rabbit&#41; and \n\neats him whole&#46;|n&gt;\n\t\twait &lt;press any key&gt;\n\t\tmsg &lt;Perhaps there was another spell Graham could have used&#46;|n&gt;\n\t\twait &lt;press any key&gt;\n\t\tplayerlose\n\t&#125;\n\tif property &lt;Mordack; cobra&gt; then &#123;\n\t\tmsg &lt;Graham casts the rabbit spell on himself changing him into the \n\nform of a rabbit instantly&#46;|n&gt;\n\t\twait &lt;press any key&gt;\n\t\tmsg &lt;Mordack &#40;as the cobra&#41; slithers up to Graham &#40;as the rabbit&#41; and \n\nbites him quickly on the neck&#46;|n&gt;\n\t\twait &lt;press any key&gt;\n\t\tmsg &lt;After a few moments, Graham falls to the floor dead&#46;|n|nPerhaps \n\nthere was another spell Graham could use&#46;|n&gt;\n\t\twait &lt;press any key&gt;\n\t\tplayerlose\n\t&#125;\n\tif property &lt;Mordack; fire&gt; then &#123;\n\t\tmsg &lt;Graham cast the rabbit spell on himself and his body changes into \n\nthe form of a rabbit instantly&#46;|n&gt;\n\t\twait &lt;press any key&gt;\n\t\tmsg &lt;Mordack &#40;as the fire&#41; surrounds Graham &#40;as the rabbit&#41; and \n\nconsumes him quickly&#46;  |nIt does not take long for Graham to pass away&#46;|n&gt;\n\t\twait &lt;press any key&gt;\n\t\tmsg &lt;Perhaps there was a different spell Graham could use&#46;|n&gt;\n\t\twait &lt;press any key&gt;\n\t\tplayerlose\n\t&#125;\n\tif property &lt;Mordack; dragon&gt; then &#123;\n\t\ttimeroff &lt;mordack_dragon&gt;\n\t\tmsg &lt;Graham casts the rabbit spell on himself and he immediately \n\nchanges form into a rabbit&#46;|n&gt;\n\t\twait &lt;press any key&gt;\n\t\tmsg &lt;Mordack &#40;as the dragon&#41; begins blowing fireballs down at the \n\nfloor&#46;  Graham &#40;as the rabbit&#41; easily hops out of harm's way with each blast&#46;|n&gt;\n\t\twait &lt;press any key&gt;\n\t\tmsg &lt;|cl&quot;Rrrooooaaarrr!&quot;|cb Mordack is visually frustrated at Graham's \n\ntrick&#46;  He begins to shrink down to a smaller size&#46;|n&gt;\n\t\twait &lt;press any key&gt;\n\t\tmsg &lt;Mordack changed himself into a king cobra!  He begins to slither \n\ntowards Graham &#40;as the rabbit&#41;&#46;|n|cl&quot;Let'sssss ssseee how you handle thissss&#46;&#46;&#46;&quot;|cb|n&gt;\n\t\tproperty &lt;Mordack; not dragon&gt;\n\t\tproperty &lt;Mordack; cobra&gt;\n\t\ttimeron &lt;mordack_cobra&gt;\n\t&#125;\nend define\n\ndefine procedure &lt;weasel&gt;\n\tif property &lt;Mordack; insect&gt; then &#123;\n\t\tmsg &lt;Graham casts the weasel spell on himself and he immediately \n\nchanges form into a weasel&#46;|n&gt;\n\t\twait &lt;press any key&gt;\n\t\tmsg &lt;Mordack &#40;as the insect&#41; swoops down on Graham &#40;as the weasel&#41; and \n\neats him whole&#46;|n&gt;\n\t\twait &lt;press any key&gt;\n\t\tmsg &lt;Perhaps there was another spell Graham could have used&#46;|n&gt;\n\t\twait &lt;press any key&gt;\n\t\tplayerlose\n\t&#125;\n\tif property &lt;Mordack; dragon&gt; then &#123;\n\t\tmsg &lt;Graham casts the weasel spell on himself and he instantly changes \n\ninto the form of a weasel&#46;|n&gt;\n\t\twait &lt;press any key&gt;\n\t\tmsg &lt;Mordack &#40;as the dragon&#41; blows a gust of fire at Graham &#40;as the \n\nweasel&#41; and consumes him completely killing Graham quite quickly&#46;|n&gt;\n\t\twait &lt;press any key&gt;\n\t\tmsg &lt;Maybe there is another spell that Graham should try&#46;|n&gt;\n\t\twait &lt;press any key&gt;\n\t\tplayerlose\n\t&#125;\n\tif property &lt;Mordack; fire&gt; then &#123;\n\t\tmsg &lt;Graham cast the weasel spell on himself and his body changes into \n\nthe form of a weasel instantly&#46;|n&gt;\n\t\twait &lt;press any key&gt;\n\t\tmsg &lt;Mordack &#40;as the fire&#41; surrounds Graham &#40;as the weasel&#41; and \n\nconsumes him quickly&#46;  |nIt does not take long for Graham to pass away&#46;|n&gt;\n\t\twait &lt;press any key&gt;\n\t\tmsg &lt;Perhaps there was a different spell Graham could use&#46;|n&gt;\n\t\twait &lt;press any key&gt;\n\t\tplayerlose\n\t&#125;\n\tif property &lt;Mordack; cobra&gt; then &#123;\n\t\ttimeroff &lt;mordack_cobra&gt;\n\t\tmsg &lt;Graham casts the weasel spell on himself changing him into the \n\nform of a weasel instantly&#46;|n&gt;\n\t\twait &lt;press any key&gt;\n\t\tmsg &lt;Mordack &#40;as the cobra&#41; slithers up to Graham &#40;as the weasel&#41; and \n\ntries to bite at him&#46;|n|nUsing quick weasel reflexes, Graham jumps up and bites the \n\nneck of the king cobra and shakes his head violently&#46;|n&gt;\n\t\twait &lt;press any key&gt;\n\t\tmsg &lt;|cl&quot;Aaahhh!  Cursssessss!&quot;|cb Mordack slithers away quickly&#46;|n&gt;\n\t\twait &lt;press any key&gt;\n\t\tmsg &lt;|cl&quot;Thisss isss the end of you, Graham!&quot;|cb Mordack screams as he \n\nbegins to change into a very real ring of fire across the floor surrounding Graham \n\nentirely&#46;|n&gt;\n\t\tproperty &lt;Mordack; not cobra&gt;\n\t\tproperty &lt;Mordack; fire&gt;\n\t\ttimeron &lt;mordack_fire&gt;\n\t&#125;\n\t\nend define\n\ndefine procedure &lt;rain&gt;\n\tif property &lt;Mordack; insect&gt; then &#123;\n\t\tmsg &lt;Graham casts the rain spell on himself and a small rain cloud \n\nimmediately appears over his head and begins to pour down heavy rain on Graham&#46;|n&gt;\n\t\twait &lt;press any key&gt;\n\t\tmsg &lt;Mordack &#40;as the insect&#41; swoops down on Graham covered with rain \n\nand eats him whole&#46;|n&gt;\n\t\twait &lt;press any key&gt;\n\t\tmsg &lt;Perhaps there was another spell Graham could have used&#46;|n&gt;\n\t\twait &lt;press any key&gt;\n\t\tplayerlose\n\t&#125;\n\tif property &lt;Mordack; dragon&gt; then &#123;\n\t\tmsg &lt;Graham casts the rain spell on himself and a small rain cloud \n\nimmediately appears over his head and begins to pour down heavy rain on Graham&#46;|n&gt;\n\t\twait &lt;press any key&gt;\n\t\tmsg &lt;Mordack &#40;as the dragon&#41; blows a gust of fire at Graham covered \n\nwith rain but it was not enough to stop the dragon's fire&#46;|nIt quickly consumes Graham \n\nand he dies&#46;|n|n&gt;\n\t\twait &lt;press any key&gt;\n\t\tmsg &lt;Maybe there is another spell that Graham should try&#46;|n&gt;\n\t\twait &lt;press any key&gt;\n\t\tplayerlose\n\t&#125;\n\tif property &lt;Mordack; cobra&gt; then &#123;\n\t\tmsg &lt;Graham casts the rain spell on himself and a small rain cloud \n\nimmediately appears over his head and begins to pour down heavy rain on Graham&#46;|n&gt;\n\t\twait &lt;press any key&gt;\n\t\tmsg &lt;Mordack &#40;as the cobra&#41; slithers up to Graham covered with rain and \n\nbites him quickly on the neck&#46;|n&gt;\n\t\twait &lt;press any key&gt;\n\t\tmsg &lt;After a few moments, Graham falls to the floor dead&#46;|n|nPerhaps \n\nthere was another spell Graham could use&#46;|n&gt;\n\t\twait &lt;press any key&gt;\n\t\tplayerlose\n\t&#125;\n\tif property &lt;Mordack; fire&gt; then &#123;\n\t\ttimeroff &lt;mordack_fire&gt;\n\t\tmsg &lt;Graham casts the rain spell on himself and a small rain cloud \n\nimmediately appears over his head and begins to pour down heavy rain on Graham&#46;|n&gt;\n\t\twait &lt;press any key&gt;\n\t\tmsg &lt;Mordack &#40;as the fire&#41; surrounds Graham and the rain pours down on \n\nboth of them washing out the fire&#46;|n&gt;\n\t\twait &lt;press any key&gt;\n\t\tmsg &lt;Mordack is gone!  Graham has won!|n&gt;\n\t\twait &lt;press any key&gt;\n\t\tdo &lt;end of story&gt;\n\t&#125;\n\t\nend define\n\ndefine timer &lt;mordack_appear&gt;\n\tinterval &lt;1&gt;\n\taction dec &lt;mordack_appear; 1&gt;\n\tdisabled\nend define\n\ndefine text &lt;intro&gt;\n\nend define\n\ndefine text &lt;lose&gt;\n\n~!~!~!~!~!~!~!~!~!~!~!~!~!~!~!~!~!~!~!~!~!~!~!~!~!~!~!~!~!~!~\nPlease try again&#46;  If you've saved the game, please restore by clicking &quot;restore&quot; in \n\nthe lower righthand corner of the screen&#46;\n~!~!~!~!~!~!~!~!~!~!~!~!~!~!~!~!~!~!~!~!~!~!~!~!~!~!~!~!~!~!~\nend define\n\ndefine text &lt;win&gt;\n\nend define\n\ndefine selection &lt;book&gt;\n\tinfo &lt;book&gt;\n\tchoice &lt;tiger&gt; do &lt;tiger&gt;\n\tchoice &lt;rabbit&gt; do &lt;rabbit&gt;\n\tchoice &lt;weasel&gt; do &lt;weasel&gt;\n\tchoice &lt;rain&gt; do &lt;rain&gt;\nend define\n\n[/code:p5igpojf]",
      "EditableFormat": "bbcode",
      "HTML": "Tr0n,<br/><br/>I haven't abandoned this project or the forums.  I haven't been \"Quest active\" lately. <br/>But I did try your suggestions and I just keep running into the same annoying problems. <br/><br/>In short, the wizard is going to change into four different objects/elements.  I want the player to pick 1 of 4 defensive spells.  One spell counters one of the wizards spells.  If they choose the wrong spell, they get killed.  <br/>As it stands now, the first spell works properly and the wizard changes himself into the 2nd object.  Now when the 2nd correct spell is cast, the counter spell is correctly described but then suddenly, the description for the wizard was as if I used the 2nd counter spell on the wizard's 3rd spell and the player is killed.<br/>Then it produces the standard lose text block of the game.  Then the game continues and produces the description of the 2nd counter spell and then the wizard's 4th spell.  <br/>I can't really describe it any better so here is the code:<br/>In order to progress, the commands are \"use crispin's wand on machine, use mordack's wand on machine, use cheese on machine, get crispin's wand, use wand on mordack, choose tiger spell, use wand on mordack, choose rabbit spell...be confused!<br/><br/><br/><pre><code><br/>' &quot;King's Quest V - text adventure&quot;<br/>' Created with QDK 3&#46;53 - UNREGISTERED VERSION<br/><br/>!include &lt;Typelib&#46;qlb&gt;<br/><br/>define game &lt;King's Quest V - text adventure&gt;<br/>\tasl-version &lt;350&gt;<br/>\tgametype singleplayer<br/>\tstart &lt;lab - upstairs&gt;<br/>\tgame author &lt;Steve Lingle&gt;<br/>\tgame version &lt;1&#46;0&gt;<br/>\tgame copyright &lt;Revised by Steveco Games for free distribution only&gt;<br/>\tgame info &lt;Created with QDK 3&#46;53 - UNREGISTERED EVALUATION VERSION&#46;&gt;<br/>\tdefine variable &lt;mordack_insect&gt;<br/>\t\ttype numeric<br/>\t\tvalue &lt;30&gt;<br/>\t\tonchange if &#40; %mordack_insect% &lt; 1 &#41; then &#123;<br/>\t\t\ttimeroff &lt;mordack_insect&gt;<br/>\t\t\tmsg &lt;Just as Graham is deciding on what to do, Mordack &#40;as the <br/><br/>insect&#41; swoops down upon him and finishes him off&#46;|n&gt;<br/>\t\t\twait &lt;press any key&gt;<br/>\t\t\tmsg &lt;If only there were something that Graham could have done <br/><br/>to stop Mordack&#46;|n|nHint&#58; read the book in the library&#46;  They are magic spells&#46;|n&#40;use <br/><br/>command&#58; cast spell or wave wand or use wand on Mordack&#41;&gt;<br/>\t\t\twait &lt;press any key&gt;<br/>\t\t\tplayerlose<br/>\t\t&#125;<br/>\tend define<br/>\tdefine variable &lt;Score&gt;<br/>\t\ttype numeric<br/>\t\tvalue &lt;0&gt;<br/>\t\tdisplay &lt;!&gt;<br/>\tend define<br/>end define<br/><br/>define synonyms<br/>\ttake = get<br/>\tbandit = man<br/>\te = east<br/>\tw = west<br/>\ts = south<br/>\tn = north<br/>\tpipe organ = organ<br/>end define<br/><br/>define room &lt;inven room&gt;<br/><br/>\tdefine object &lt;Mordack&gt;<br/>\t\tlook &#123;<br/>\t\t\tif property &lt;Mordack; &gt; then msg &lt;Mordack stands in the room <br/><br/>staring menacingly at Graham&#46;|n&gt;<br/>\t\t\tif property &lt;Mordack; insect&gt; then msg &lt;Mordack &#40;as a large <br/><br/>insect&#41; hovers eerily above Graham&#46;|n&gt;<br/>\t\t\tif property &lt;Mordack; dragon&gt; then msg &lt;Mordack &#40;as a dragon&#41; <br/><br/>towers over Graham ready to scorch him with fire&#46;|n&gt;<br/>\t\t\tif property &lt;Mordack; cobra&gt; then msg &lt;Mordack &#40;as a cobra&#41; <br/><br/>slithers closer and closer to Graham ready to strike&#46;|n&gt;<br/>\t\t\tif property &lt;Mordack; fire&gt; then msg &lt;Mordack &#40;as a fire&#41; <br/><br/>circles Graham containing him in one spot&#46;|n&gt;<br/>\t\t&#125;<br/>\t\tspeak &lt;Mordack is not going to discuss anything with Graham&#46;&gt;<br/>\t\tdisplaytype &lt;character&gt;<br/>\t\tgender &lt;he&gt;<br/>\tend define<br/><br/>\tdefine object &lt;Mordack's wand2&gt;<br/>\t\talias &lt;Mordack's wand&gt;<br/>\t\talt &lt;wand; Mordack's wand; Mordacks wand&gt;<br/>\t\tlook &lt;Mordack's wand barely sparkles at all now&#46;&gt;<br/>\t\ttake msg &lt;Now that the wand has lost all of its magical powers, there <br/><br/>is no further use for it&#46;|n&gt;<br/>\t\tarticle &lt;it&gt;<br/>\t\tgender &lt;it&gt;<br/>\t\tuse msg &lt;Graham waves Mordack's wand which is full of magical <br/><br/>energy&#46;|nStrangely, nothing happens&#46;  Could it be that only Mordack can use the <br/><br/>wand?|n&gt;<br/>\tend define<br/><br/>end define<br/><br/>define room &lt;laboratory&gt;<br/>\tprefix &lt;the&gt;<br/>\tlook &lt;The laboratory is a very large room&#46;  A stairway immediately to the left <br/><br/>leads to the upper section of the laboratory where a strange machine can be seen from <br/><br/>the ground floor&#46;|nAn enormous fireplace sits against the east wall with a ventilation <br/><br/>shaft leading up and out through the ceiling&#46;  On either side of the shaft are windows <br/><br/>where most of the room's light is coming from&#46;|nMagic trinkets and other type of <br/><br/>chemical substances clutter laboratory tables on the sides of the room&#46;|nAmong the <br/><br/>bottles and jars, Graham notices a very large jar on the edge of one of the tables <br/><br/>containing a miniature castle&#46;&gt;<br/>\twest if here &lt;Mordack&gt; then msg &lt;Graham cannot leave now&#46;  He must deal with <br/><br/>Mordack&#46;|n&gt; else goto &lt;upstairs hallway&gt;<br/>\tup if here &lt;Mordack&gt; then msg &lt;Graham cannot leave now&#46;  He must deal with <br/><br/>Mordack&#46;|n&gt; else goto &lt;lab - upstairs&gt;<br/><br/>\tdefine object &lt;stairway&gt;<br/>\t\tlook &lt;The stone stairway leads to the top floor of the laboratory&#46;&gt;<br/>\t\tprefix &lt;the&gt;<br/>\t\tarticle &lt;it&gt;<br/>\t\tinvisible<br/>\tend define<br/><br/>\tdefine object &lt;machine1&gt;<br/>\t\talias &lt;strange machine&gt;<br/>\t\talt &lt;strange machine; machine&gt;<br/>\t\tlook &lt;A strange machine can be seen from the ground floor&#46;&gt;<br/>\t\ttake msg &lt;Graham will need to be closer to examine the strange <br/><br/>machine&#46;|n&gt;<br/>\t\texamine &lt;A strange machine can be seen from the ground floor&#46;  Graham <br/><br/>will need to be closer to examine it&#46;&gt;<br/>\t\tprefix &lt;a&gt;<br/>\t\tarticle &lt;it&gt;<br/>\tend define<br/><br/>\tdefine object &lt;fireplace1&gt;<br/>\t\talias &lt;fireplace&gt;<br/>\t\talt &lt;fire; place; fire place&gt;<br/>\t\tlook &lt;A dormant fireplace sits on the east side of the room&#46;  This is <br/><br/>most likely where magic spells and experiments are created&#46;&gt;<br/>\t\tprefix &lt;a&gt;<br/>\t\tarticle &lt;it&gt;<br/>\tend define<br/><br/>\tdefine object &lt;shaft&gt;<br/>\t\talt &lt;ventilation; ventilation shaft&gt;<br/>\t\tlook &lt;A ventilation shaft extends from the fireplace against the wall <br/><br/>and travels up and out of the castle near the ceiling where fumes from the fireplace <br/><br/>would most likely go&#46;&gt;<br/>\t\tprefix &lt;a&gt;<br/>\t\tarticle &lt;it&gt;<br/>\tend define<br/><br/>\tdefine object &lt;windows&gt;<br/>\t\talt &lt;window&gt;<br/>\t\tlook &lt;The two windows against the east wall are too high to be reached&#46; <br/><br/> There not especially large either so this would not provide an adequate means of <br/><br/>escape&#46;&gt;<br/>\t\tprefix &lt;the&gt;<br/>\t\tarticle &lt;them&gt;<br/>\t\tinvisible<br/>\tend define<br/><br/>\tdefine object &lt;trinkets&gt;<br/>\t\talt &lt;magic trinkets; chemicals; bottles; tubes; table; tables&gt;<br/>\t\tlook &lt;Magic trinkets, chemical apparatus and tubes are scattered around <br/><br/>the laboratory&#46;  In one corner of a table sits a large glass jar with a miniature <br/><br/>castle inside&#46;&gt;<br/>\t\ttake msg &lt;There is nothing of interest with the them&#46;|n&gt;<br/>\t\tprefix &lt;the&gt;<br/>\t\tarticle &lt;them&gt;<br/>\t\tinvisible<br/>\tend define<br/><br/>\tdefine object &lt;glass jar&gt;<br/>\t\talt &lt;jar; castle; miniature castle; castle in jar; miniature castle in <br/><br/>jar&gt;<br/>\t\tlook &lt;On the edge of a table sits a large glass jar containing Graham's <br/><br/>castle&#46;&gt;<br/>\t\ttake msg &lt;The glass jar is too large to carry around&#46;  There must be a <br/><br/>way to save Graham's family&#46;|n&gt;<br/>\t\tspeak msg &lt;A tear comes to Graham's eye as he sees his family inside of <br/><br/>the glass jar&#46;|n|cr&quot;I will rescue you soon, my family&#46;&quot;|cb|n&gt;<br/>\t\texamine msg &lt;A tear comes to Graham's eye as he sees his family inside <br/><br/>of the glass jar&#46;|n|cr&quot;I will rescue you soon, my family&#46;&quot;|cb|n&gt;<br/>\t\tprefix &lt;a&gt;<br/>\t\tarticle &lt;it&gt;<br/>\tend define<br/><br/>end define<br/><br/>define room &lt;lab - upstairs&gt;<br/>\tdown &lt;laboratory&gt;<br/><br/>\tdefine object &lt;machine2&gt;<br/>\t\talias &lt;strange machine&gt;<br/>\t\talt &lt;strange machine; machine&gt;<br/>\t\tlook &lt;The machine has a large basin with bubbling liquid in the center <br/><br/>with pipes and copper coils coming out of it&#46;  They pipes form a cross section and <br/><br/>extend to the left and right where each end comes to a point&#46;  At the points on each <br/><br/>end are metallic cones that point to empty trays&#46;  There is a tray on the left and a <br/><br/>tray on the right&#46;  If only Graham could figure out what goes on the trays&#46;&gt;<br/>\t\ttake msg &lt;Graham will need to be closer to examine the strange <br/><br/>machine&#46;|n&gt;<br/>\t\tprefix &lt;a&gt;<br/>\t\tarticle &lt;it&gt;<br/>\tend define<br/><br/>\tdefine object &lt;trays&gt;<br/>\t\talt &lt;tray&gt;<br/>\t\tlook &lt;A tray sits on the left and right side of the machine&#46;  Graham <br/><br/>wonders what they could be used for&#46;&gt;<br/>\t\tprefix &lt;the&gt;<br/>\t\tarticle &lt;them&gt;<br/>\t\tinvisible<br/>\tend define<br/><br/>\tdefine object &lt;crispin's wand2&gt;<br/>\t\talias &lt;crispin's wand&gt;<br/>\t\talt &lt;wand&gt;<br/>\t\tlook &lt;Crispin's wand is now pulsing with magical power&#46;&gt;<br/>\t\ttake do &lt;Crispin's wand charged&gt;<br/>\t\tspeak &lt;Talking to the wand will do nothing&#46;&gt;<br/>\t\tarticle &lt;it&gt;<br/>\t\tgender &lt;it&gt;<br/>\t\tuse msg &lt;You wave the wand but only a couple sparkles fizzle out from <br/><br/>the wand and nothing happens&#46;&gt;<br/>\t\tuse on &lt;Mordack&gt; do &lt;Wand on Mordack&gt;<br/>\t\tuse on anything msg &lt;You wave the wand but only a couple sparkles <br/><br/>fizzle out from the wand and nothing happens&#46;&gt;<br/>\t\tdrop nowhere<br/>\tend define<br/><br/>end define<br/><br/>define procedure &lt;Crispin's wand charged&gt;<br/>\tmsg &lt;Graham picks up Crispin's wand from the tray and can immediately feel the <br/><br/>magical power flowing through it&#46;|n&gt;<br/>\tinc &lt;Score; 2&gt;<br/>\tgive &lt;crispin's wand2&gt;<br/>\twait &lt;press any key&gt;<br/>\tmsg &lt;A few moments later, Mordack appears in the entry of the laboratory <br/><br/>downstairs&#46;|n&gt;<br/>\tmove &lt;Mordack; lab - upstairs&gt;<br/>\twait &lt;press any key&gt;<br/>\tmsg &lt;Graham steps forward to the edge of the balcony so he can see the <br/><br/>laboratory&#46;|n&gt;<br/>\twait &lt;press any key&gt;<br/>\tgoto &lt;laboratory&gt;<br/>\tmove &lt;Mordack; laboratory&gt;<br/>\twait &lt;press any key&gt;<br/>\tmsg &lt;|cl&quot;What are you doing with my wand, you swine!&quot;|cb Mordack waves his <br/><br/>hands and his wand sails through the air and into his waiting hand&#46;|n&gt;<br/>\tmove &lt;Mordack's wand2; inven room&gt;<br/>\twait &lt;press any key&gt;<br/>\tmsg &lt;|cl&quot;You will be a hinderance no more!&quot;|cb  |nJust as Mordack begins to <br/><br/>wave his wand&#46;&#46;&#46;|n&gt;<br/>\twait &lt;press any key&gt;<br/>\tmsg &lt;|cg&quot;Graham, I have just heard from Crispin and he will be on his way to <br/><br/>help&#46;&#46;&#46;&quot;|cb|nIt was Cedric!  He flew in through the laboratory windows&#46;|n&gt;<br/>\twait &lt;press any key&gt;<br/>\tmsg &lt;At that moment, a ray of magic shoots from Mordack's wand and hits Cedric <br/><br/>as he accidentally intercepted the path of the magic spell&#46;|n&gt;<br/>\twait &lt;press any key&gt;<br/>\tmsg &lt;Cedric immediately turned to stone and fell to the floor&#46;|n|cr&quot;Cedric!&quot;|cb <br/><br/>shouted Graham&#46;|n&gt;<br/>\twait &lt;press any key&gt;<br/>\tmsg &lt;Mordack waves his wand again but only a few sparkles fizzle through the <br/><br/>end&#46;|n|cl&quot;What did you do to my wand?  Do not under estimate my powers, little <br/><br/>man&#46;&#46;&#46;&quot;|cb|n&gt;<br/>\twait &lt;press any key&gt;<br/>\tmsg &lt;Mordack waves his arms and suddenly his whole body begins to glow&#46;|nGraham <br/><br/>watched in awe and horror as Mordack started to grow and change into a large flying <br/><br/>insect&#46;|n&gt;<br/>\twait &lt;press any key&gt;<br/>\tmsg &lt;Mordack &#40;as an insect&#41; flies up to the upper level of the laboratory and <br/><br/>hovers just above Graham&#46;|nNow is the time for Graham to pull a trick or two out of his <br/><br/>hat!|n&gt;<br/>\tproperty &lt;Mordack; insect&gt;<br/>\t<br/>end define<br/><br/>define procedure &lt;Wand on Mordack&gt;<br/>\tmsg &lt;Graham waves his wand and prepares to cast a spell from the large book <br/><br/>from Mordack's library&#46;|n&gt;<br/>\twait &lt;press any key&gt;<br/>\tchoose &lt;book&gt;<br/>\tif property &lt;Mordack; insect&gt; then property &lt;Mordack; dragon&gt;<br/>\tif property &lt;Mordack; dragon&gt; then property &lt;Mordack; cobra&gt;<br/>\tif property &lt;Mordack; cobra&gt; then property &lt;Mordack; fire&gt;<br/>\t<br/>end define<br/><br/>define procedure &lt;end of story&gt;<br/>\tmsg &lt;Graham, in bewilderment, looks around the laboratory&#46;  Mordack's ashes <br/><br/>smoke as the last of the burning ambers fizzle away&#46;|n&gt;<br/>\twait &lt;press any key&gt;<br/>\tmsg &lt;He looks at poor Cedric lying on the floor of the laboratory and he looks <br/><br/>at his family in the large glass jar&#46;|n&gt;<br/>\twait &lt;press any key&gt;<br/>\tmsg &lt;As he ponders what to do next and how he would possibly get everyone home, <br/><br/>a puff of smoke appeared behind Graham&#46;|n&gt;<br/>\twait &lt;press any key&gt;<br/>\tsay &lt;|cl&quot;Confound it&#46;&#46;&#46;Oh wonderful&#46;  Graham, I'm glad to see you are still <br/><br/>alive&#46;&quot;|cb  It was Crispin&#46;  Although he missed the show, hopefully he could help <br/><br/>restore everything to normal&#46;|n&gt;<br/>\twait &lt;press any key&gt;<br/>\t<br/>end define<br/><br/>define procedure &lt;tiger&gt;<br/>\tif property &lt;Mordack; dragon&gt; then &#123;<br/>\t\tmsg &lt;Graham casts the tiger spell on himself and he instantly changes <br/><br/>into the form of a tiger&#46;|n&gt;<br/>\t\twait &lt;press any key&gt;<br/>\t\tmsg &lt;Mordack &#40;as the dragon&#41; blows a gust of fire at Graham &#40;as the <br/><br/>tiger&#41; and consumes him completely killing Graham quite quickly&#46;|n&gt;<br/>\t\twait &lt;press any key&gt;<br/>\t\tmsg &lt;Maybe there is another spell that Graham should try&#46;|n&gt;<br/>\t\twait &lt;press any key&gt;<br/>\t\tplayerlose<br/>\t&#125;<br/>\tif property &lt;Mordack; cobra&gt; then &#123;<br/>\t\tmsg &lt;Graham casts the tiger spell on himself changing him into the form <br/><br/>of a tiger instantly&#46;|n&gt;<br/>\t\twait &lt;press any key&gt;<br/>\t\tmsg &lt;Mordack &#40;as the cobra&#41; slithers up to Graham &#40;as the tiger&#41; and <br/><br/>bites him quickly on the neck&#46;|n&gt;<br/>\t\twait &lt;press any key&gt;<br/>\t\tmsg &lt;After a few moments, Graham falls to the floor dead&#46;|n|nPerhaps <br/><br/>there was another spell Graham could use&#46;|n&gt;<br/>\t\twait &lt;press any key&gt;<br/>\t\tplayerlose<br/>\t&#125;<br/>\tif property &lt;Mordack; fire&gt; then &#123;<br/>\t\tmsg &lt;Graham cast the tiger spell on himself and his body changes into <br/><br/>the form of a tiger instantly&#46;|n&gt;<br/>\t\twait &lt;press any key&gt;<br/>\t\tmsg &lt;Mordack &#40;as the fire&#41; surrounds Graham &#40;as the tiger&#41; and consumes <br/><br/>him quickly&#46;  |nIt does not take long for Graham to pass away&#46;|n&gt;<br/>\t\twait &lt;press any key&gt;<br/>\t\tmsg &lt;Perhaps there was a different spell Graham could use&#46;|n&gt;<br/>\t\twait &lt;press any key&gt;<br/>\t\tplayerlose<br/>\t&#125;<br/>\tif property &lt;Mordack; insect&gt; then &#123;<br/>\t\ttimeroff &lt;mordack_insect&gt;<br/>\t\tmsg &lt;Graham casts the tiger spell on himself and he immediately changes <br/><br/>form into a tiger&#46;|n&gt;<br/>\t\twait &lt;press any key&gt;<br/>\t\tmsg &lt;Graham &#40;as the tiger&#41; begins jumping up on his hind legs and <br/><br/>clawing at Mordack &#40;as the insect&#41;&#46;|n&gt;<br/>\t\twait &lt;press any key&gt;<br/>\t\tmsg &lt;|cl&quot;Grrrrrrraaaahhhh!!!&quot; |cbcries Mordack&#46;|nMordack flies back <br/><br/>down to the lower area of the laboratory and Graham jumps down ready to attack&#46;|n&gt;<br/>\t\twait &lt;press any key&gt;<br/>\t\tmsg &lt;|cl&quot;You think you're pretty smart, Graham&#46;&#46;&#46;Let's see how you <br/><br/>handle a little fire&#46;&quot;|cb  Mordack begins to grow very large and changes into a <br/><br/>ferocious dragon&#46;|n&gt;<br/>\t\tproperty &lt;Mordack; not insect&gt;<br/>\t\tproperty &lt;Mordack; dragon&gt;<br/>\t\ttimeron &lt;mordack_dragon&gt;<br/>\t&#125;<br/>end define<br/><br/>define procedure &lt;rabbit&gt;<br/>\tif property &lt;Mordack; insect&gt; then &#123;<br/>\t\tmsg &lt;Graham casts the rabbit spell on himself and he immediately <br/><br/>changes form into a rabbit&#46;|n&gt;<br/>\t\twait &lt;press any key&gt;<br/>\t\tmsg &lt;Mordack &#40;as the insect&#41; swoops down on Graham &#40;as the rabbit&#41; and <br/><br/>eats him whole&#46;|n&gt;<br/>\t\twait &lt;press any key&gt;<br/>\t\tmsg &lt;Perhaps there was another spell Graham could have used&#46;|n&gt;<br/>\t\twait &lt;press any key&gt;<br/>\t\tplayerlose<br/>\t&#125;<br/>\tif property &lt;Mordack; cobra&gt; then &#123;<br/>\t\tmsg &lt;Graham casts the rabbit spell on himself changing him into the <br/><br/>form of a rabbit instantly&#46;|n&gt;<br/>\t\twait &lt;press any key&gt;<br/>\t\tmsg &lt;Mordack &#40;as the cobra&#41; slithers up to Graham &#40;as the rabbit&#41; and <br/><br/>bites him quickly on the neck&#46;|n&gt;<br/>\t\twait &lt;press any key&gt;<br/>\t\tmsg &lt;After a few moments, Graham falls to the floor dead&#46;|n|nPerhaps <br/><br/>there was another spell Graham could use&#46;|n&gt;<br/>\t\twait &lt;press any key&gt;<br/>\t\tplayerlose<br/>\t&#125;<br/>\tif property &lt;Mordack; fire&gt; then &#123;<br/>\t\tmsg &lt;Graham cast the rabbit spell on himself and his body changes into <br/><br/>the form of a rabbit instantly&#46;|n&gt;<br/>\t\twait &lt;press any key&gt;<br/>\t\tmsg &lt;Mordack &#40;as the fire&#41; surrounds Graham &#40;as the rabbit&#41; and <br/><br/>consumes him quickly&#46;  |nIt does not take long for Graham to pass away&#46;|n&gt;<br/>\t\twait &lt;press any key&gt;<br/>\t\tmsg &lt;Perhaps there was a different spell Graham could use&#46;|n&gt;<br/>\t\twait &lt;press any key&gt;<br/>\t\tplayerlose<br/>\t&#125;<br/>\tif property &lt;Mordack; dragon&gt; then &#123;<br/>\t\ttimeroff &lt;mordack_dragon&gt;<br/>\t\tmsg &lt;Graham casts the rabbit spell on himself and he immediately <br/><br/>changes form into a rabbit&#46;|n&gt;<br/>\t\twait &lt;press any key&gt;<br/>\t\tmsg &lt;Mordack &#40;as the dragon&#41; begins blowing fireballs down at the <br/><br/>floor&#46;  Graham &#40;as the rabbit&#41; easily hops out of harm's way with each blast&#46;|n&gt;<br/>\t\twait &lt;press any key&gt;<br/>\t\tmsg &lt;|cl&quot;Rrrooooaaarrr!&quot;|cb Mordack is visually frustrated at Graham's <br/><br/>trick&#46;  He begins to shrink down to a smaller size&#46;|n&gt;<br/>\t\twait &lt;press any key&gt;<br/>\t\tmsg &lt;Mordack changed himself into a king cobra!  He begins to slither <br/><br/>towards Graham &#40;as the rabbit&#41;&#46;|n|cl&quot;Let'sssss ssseee how you handle thissss&#46;&#46;&#46;&quot;|cb|n&gt;<br/>\t\tproperty &lt;Mordack; not dragon&gt;<br/>\t\tproperty &lt;Mordack; cobra&gt;<br/>\t\ttimeron &lt;mordack_cobra&gt;<br/>\t&#125;<br/>end define<br/><br/>define procedure &lt;weasel&gt;<br/>\tif property &lt;Mordack; insect&gt; then &#123;<br/>\t\tmsg &lt;Graham casts the weasel spell on himself and he immediately <br/><br/>changes form into a weasel&#46;|n&gt;<br/>\t\twait &lt;press any key&gt;<br/>\t\tmsg &lt;Mordack &#40;as the insect&#41; swoops down on Graham &#40;as the weasel&#41; and <br/><br/>eats him whole&#46;|n&gt;<br/>\t\twait &lt;press any key&gt;<br/>\t\tmsg &lt;Perhaps there was another spell Graham could have used&#46;|n&gt;<br/>\t\twait &lt;press any key&gt;<br/>\t\tplayerlose<br/>\t&#125;<br/>\tif property &lt;Mordack; dragon&gt; then &#123;<br/>\t\tmsg &lt;Graham casts the weasel spell on himself and he instantly changes <br/><br/>into the form of a weasel&#46;|n&gt;<br/>\t\twait &lt;press any key&gt;<br/>\t\tmsg &lt;Mordack &#40;as the dragon&#41; blows a gust of fire at Graham &#40;as the <br/><br/>weasel&#41; and consumes him completely killing Graham quite quickly&#46;|n&gt;<br/>\t\twait &lt;press any key&gt;<br/>\t\tmsg &lt;Maybe there is another spell that Graham should try&#46;|n&gt;<br/>\t\twait &lt;press any key&gt;<br/>\t\tplayerlose<br/>\t&#125;<br/>\tif property &lt;Mordack; fire&gt; then &#123;<br/>\t\tmsg &lt;Graham cast the weasel spell on himself and his body changes into <br/><br/>the form of a weasel instantly&#46;|n&gt;<br/>\t\twait &lt;press any key&gt;<br/>\t\tmsg &lt;Mordack &#40;as the fire&#41; surrounds Graham &#40;as the weasel&#41; and <br/><br/>consumes him quickly&#46;  |nIt does not take long for Graham to pass away&#46;|n&gt;<br/>\t\twait &lt;press any key&gt;<br/>\t\tmsg &lt;Perhaps there was a different spell Graham could use&#46;|n&gt;<br/>\t\twait &lt;press any key&gt;<br/>\t\tplayerlose<br/>\t&#125;<br/>\tif property &lt;Mordack; cobra&gt; then &#123;<br/>\t\ttimeroff &lt;mordack_cobra&gt;<br/>\t\tmsg &lt;Graham casts the weasel spell on himself changing him into the <br/><br/>form of a weasel instantly&#46;|n&gt;<br/>\t\twait &lt;press any key&gt;<br/>\t\tmsg &lt;Mordack &#40;as the cobra&#41; slithers up to Graham &#40;as the weasel&#41; and <br/><br/>tries to bite at him&#46;|n|nUsing quick weasel reflexes, Graham jumps up and bites the <br/><br/>neck of the king cobra and shakes his head violently&#46;|n&gt;<br/>\t\twait &lt;press any key&gt;<br/>\t\tmsg &lt;|cl&quot;Aaahhh!  Cursssessss!&quot;|cb Mordack slithers away quickly&#46;|n&gt;<br/>\t\twait &lt;press any key&gt;<br/>\t\tmsg &lt;|cl&quot;Thisss isss the end of you, Graham!&quot;|cb Mordack screams as he <br/><br/>begins to change into a very real ring of fire across the floor surrounding Graham <br/><br/>entirely&#46;|n&gt;<br/>\t\tproperty &lt;Mordack; not cobra&gt;<br/>\t\tproperty &lt;Mordack; fire&gt;<br/>\t\ttimeron &lt;mordack_fire&gt;<br/>\t&#125;<br/>\t<br/>end define<br/><br/>define procedure &lt;rain&gt;<br/>\tif property &lt;Mordack; insect&gt; then &#123;<br/>\t\tmsg &lt;Graham casts the rain spell on himself and a small rain cloud <br/><br/>immediately appears over his head and begins to pour down heavy rain on Graham&#46;|n&gt;<br/>\t\twait &lt;press any key&gt;<br/>\t\tmsg &lt;Mordack &#40;as the insect&#41; swoops down on Graham covered with rain <br/><br/>and eats him whole&#46;|n&gt;<br/>\t\twait &lt;press any key&gt;<br/>\t\tmsg &lt;Perhaps there was another spell Graham could have used&#46;|n&gt;<br/>\t\twait &lt;press any key&gt;<br/>\t\tplayerlose<br/>\t&#125;<br/>\tif property &lt;Mordack; dragon&gt; then &#123;<br/>\t\tmsg &lt;Graham casts the rain spell on himself and a small rain cloud <br/><br/>immediately appears over his head and begins to pour down heavy rain on Graham&#46;|n&gt;<br/>\t\twait &lt;press any key&gt;<br/>\t\tmsg &lt;Mordack &#40;as the dragon&#41; blows a gust of fire at Graham covered <br/><br/>with rain but it was not enough to stop the dragon's fire&#46;|nIt quickly consumes Graham <br/><br/>and he dies&#46;|n|n&gt;<br/>\t\twait &lt;press any key&gt;<br/>\t\tmsg &lt;Maybe there is another spell that Graham should try&#46;|n&gt;<br/>\t\twait &lt;press any key&gt;<br/>\t\tplayerlose<br/>\t&#125;<br/>\tif property &lt;Mordack; cobra&gt; then &#123;<br/>\t\tmsg &lt;Graham casts the rain spell on himself and a small rain cloud <br/><br/>immediately appears over his head and begins to pour down heavy rain on Graham&#46;|n&gt;<br/>\t\twait &lt;press any key&gt;<br/>\t\tmsg &lt;Mordack &#40;as the cobra&#41; slithers up to Graham covered with rain and <br/><br/>bites him quickly on the neck&#46;|n&gt;<br/>\t\twait &lt;press any key&gt;<br/>\t\tmsg &lt;After a few moments, Graham falls to the floor dead&#46;|n|nPerhaps <br/><br/>there was another spell Graham could use&#46;|n&gt;<br/>\t\twait &lt;press any key&gt;<br/>\t\tplayerlose<br/>\t&#125;<br/>\tif property &lt;Mordack; fire&gt; then &#123;<br/>\t\ttimeroff &lt;mordack_fire&gt;<br/>\t\tmsg &lt;Graham casts the rain spell on himself and a small rain cloud <br/><br/>immediately appears over his head and begins to pour down heavy rain on Graham&#46;|n&gt;<br/>\t\twait &lt;press any key&gt;<br/>\t\tmsg &lt;Mordack &#40;as the fire&#41; surrounds Graham and the rain pours down on <br/><br/>both of them washing out the fire&#46;|n&gt;<br/>\t\twait &lt;press any key&gt;<br/>\t\tmsg &lt;Mordack is gone!  Graham has won!|n&gt;<br/>\t\twait &lt;press any key&gt;<br/>\t\tdo &lt;end of story&gt;<br/>\t&#125;<br/>\t<br/>end define<br/><br/>define timer &lt;mordack_appear&gt;<br/>\tinterval &lt;1&gt;<br/>\taction dec &lt;mordack_appear; 1&gt;<br/>\tdisabled<br/>end define<br/><br/>define text &lt;intro&gt;<br/><br/>end define<br/><br/>define text &lt;lose&gt;<br/><br/>~!~!~!~!~!~!~!~!~!~!~!~!~!~!~!~!~!~!~!~!~!~!~!~!~!~!~!~!~!~!~<br/>Please try again&#46;  If you've saved the game, please restore by clicking &quot;restore&quot; in <br/><br/>the lower righthand corner of the screen&#46;<br/>~!~!~!~!~!~!~!~!~!~!~!~!~!~!~!~!~!~!~!~!~!~!~!~!~!~!~!~!~!~!~<br/>end define<br/><br/>define text &lt;win&gt;<br/><br/>end define<br/><br/>define selection &lt;book&gt;<br/>\tinfo &lt;book&gt;<br/>\tchoice &lt;tiger&gt; do &lt;tiger&gt;<br/>\tchoice &lt;rabbit&gt; do &lt;rabbit&gt;<br/>\tchoice &lt;weasel&gt; do &lt;weasel&gt;<br/>\tchoice &lt;rain&gt; do &lt;rain&gt;<br/>end define<br/><br/></code></pre>",
      "PostDate": "2005-11-14T04:17:32+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "7129",
      "UserId": 0,
      "Username": "paul_one",
      "UserAvatar": null,
      "UserGravatar": "fef8a1875028f4300bb683f29c432894",
      "EditableText": "I'm confused from the off.\n\nNumber 1, you have procedures when you don't need them:\nMainly procedures are helpful when either of the two are important:\n1)  a summary of one action to simplify code\n2)  one section of code is used for various purposes.\n\nNow I had to go all over that code to realise what you were doing.\n\nI finally get through, and the first few commands mean nothing to the code I can read. Using the wand will do nothing, and there's also no cheese.\n\nBut then, when you go to cast the tiger spell from the book - you haven't given the object Mordack doesn't have any animal property - but the spell REQUIRES it to actually do anything!\nThere should be a 5th option where if Mordack doesn't have an animal property then one thing happens.\n\nI expect that's where your error comes from.\n\nThen again, I can't even start up my PC right now to start Quest up - so I may be wrong somewhere.",
      "EditableFormat": "bbcode",
      "HTML": "I'm confused from the off.<br/><br/>Number 1, you have procedures when you don't need them:<br/>Mainly procedures are helpful when either of the two are important:<br/>1)  a summary of one action to simplify code<br/>2)  one section of code is used for various purposes.<br/><br/>Now I had to go all over that code to realise what you were doing.<br/><br/>I finally get through, and the first few commands mean nothing to the code I can read. Using the wand will do nothing, and there's also no cheese.<br/><br/>But then, when you go to cast the tiger spell from the book - you haven't given the object Mordack doesn't have any animal property - but the spell REQUIRES it to actually do anything!<br/>There should be a 5th option where if Mordack doesn't have an animal property then one thing happens.<br/><br/>I expect that's where your error comes from.<br/><br/>Then again, I can't even start up my PC right now to start Quest up - so I may be wrong somewhere.",
      "PostDate": "2005-12-06T14:44:54+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "7131",
      "UserId": 0,
      "Username": "steve the gaming guy",
      "UserAvatar": null,
      "UserGravatar": "6577a0affcb6ea711c75baf052ffd08a",
      "EditableText": "Well thank you for reading over it.  \nI chose procedures because I thought I was simplifying it.  Maybe Iâ€™m wrong.  Mordack becomes something; you counter it which triggers a procedure.  Anywayâ€¦regardless, the wand and the cheese are for the final version of the game.\nAs far as casting the tiger spell, Mordack actually already has the property of â€œinsectâ€.  This happens at the last line of the â€œdefine procedure &lt;Crispin's wand charged&gt;â€\nSo in other words, when you pick up the wand, this procedure happens providing a bit of dialogue and changing Mordack into an insect.  From this point, if the tiger spell is cast, you have succeeded in countering the â€œinsectâ€ spell.\nWhat I have just described actually works in the game.  Iâ€™ve tested it.  It is what happens next that does not seem to work properly.\nItâ€™s almost as if Mordackâ€™s property reverts to other properties causing the counter spells/procedures not to work right.\nItâ€™s hard to explain without you seeing what happens.  \nI hope I have cleared this up a tiny bit for you.",
      "EditableFormat": "bbcode",
      "HTML": "Well thank you for reading over it.  <br/>I chose procedures because I thought I was simplifying it.  Maybe Iâ€™m wrong.  Mordack becomes something; you counter it which triggers a procedure.  Anywayâ€¦regardless, the wand and the cheese are for the final version of the game.<br/>As far as casting the tiger spell, Mordack actually already has the property of â€œinsectâ€.  This happens at the last line of the â€œdefine procedure &lt;Crispin's wand charged&gt;â€<br/>So in other words, when you pick up the wand, this procedure happens providing a bit of dialogue and changing Mordack into an insect.  From this point, if the tiger spell is cast, you have succeeded in countering the â€œinsectâ€ spell.<br/>What I have just described actually works in the game.  Iâ€™ve tested it.  It is what happens next that does not seem to work properly.<br/>Itâ€™s almost as if Mordackâ€™s property reverts to other properties causing the counter spells/procedures not to work right.<br/>Itâ€™s hard to explain without you seeing what happens.  <br/>I hope I have cleared this up a tiny bit for you.",
      "PostDate": "2005-12-06T18:54:27+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "7132",
      "UserId": 0,
      "Username": "paul_one",
      "UserAvatar": null,
      "UserGravatar": "fef8a1875028f4300bb683f29c432894",
      "EditableText": "There's the whole \"wand on mordack\" procedure!\nIt sets these properties, all at once - so after ONE spell, you have it get ALL the properties so he's everything at once!\n\nUsing the debug menu in Quest is brillient (not sure if typelib stops this or not, as I don't use it).\n*cough* on laptop now */cough*\n\n... Now I'm off to stamp about and kick my PC a few times, seeing as how copying Linux across is one hell of a job!",
      "EditableFormat": "bbcode",
      "HTML": "There's the whole \"wand on mordack\" procedure!<br/>It sets these properties, all at once - so after ONE spell, you have it get ALL the properties so he's everything at once!<br/><br/>Using the debug menu in Quest is brillient (not sure if typelib stops this or not, as I don't use it).<br/>*cough* on laptop now */cough*<br/><br/>... Now I'm off to stamp about and kick my PC a few times, seeing as how copying Linux across is one hell of a job!",
      "PostDate": "2005-12-06T22:15:47+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "7139",
      "UserId": 0,
      "Username": "steve the gaming guy",
      "UserAvatar": null,
      "UserGravatar": "6577a0affcb6ea711c75baf052ffd08a",
      "EditableText": "Ok, I think I see what you are saying.  So are you suggesting that it should be broken up into separate procedures?  I'm really going to have to rethink this whole puzzle since I apparently screwed it up.\n\nhaha, and don't kick your PC too hard!",
      "EditableFormat": "bbcode",
      "HTML": "Ok, I think I see what you are saying.  So are you suggesting that it should be broken up into separate procedures?  I'm really going to have to rethink this whole puzzle since I apparently screwed it up.<br/><br/>haha, and don't kick your PC too hard!",
      "PostDate": "2005-12-11T16:22:43+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "7142",
      "UserId": 0,
      "Username": "paul_one",
      "UserAvatar": null,
      "UserGravatar": "fef8a1875028f4300bb683f29c432894",
      "EditableText": "Bah... Needs a good beating I think - with a paddle...\n\nI think my PC just got a little sick, and then went off having a female paddy for about 2 weeks. Then I accidentally put a 'b' instead of a 'c' and wiped my linux partition.\nD'OH!\n\nI have to start all over again, and with Linux it's SUCH a pain to get everything working correctly.\nI'm gonna go really slowly I think.\n\nRight, as it is - it IS in seperate procedures.\nBUT you have one procedure basically just printing a message and then calling another procedure straight away. Then coming back and setting all the flags to true. (wand on mordack procedure).\n\nWhat you'd usually do is put similar bits of code into one function, and pass stuff TO the function to make it different - instead of 5 different procedures.\nThen there's bits like bit lumps of storyline/text.\nSo say you have about 20 lines of text just coming up on the screen. Instead of putting them into a normal part, put them into a \"story_part_15\" or something procedure, then leave a little note giving a summary:\n' Mordack changes into Fly, Guy is now stone.\nStuff that would make sense if you were the programmer (which you are <!-- s:P --><img src=\"{SMILIES_PATH}/icon_razz.gif\" alt=\":P\" title=\"Razz\" /><!-- s:P --> ).\nIt just makes it easier on the eyes to seperate story from what's actually happenning.",
      "EditableFormat": "bbcode",
      "HTML": "Bah... Needs a good beating I think - with a paddle...<br/><br/>I think my PC just got a little sick, and then went off having a female paddy for about 2 weeks. Then I accidentally put a 'b' instead of a 'c' and wiped my linux partition.<br/>D'OH!<br/><br/>I have to start all over again, and with Linux it's SUCH a pain to get everything working correctly.<br/>I'm gonna go really slowly I think.<br/><br/>Right, as it is - it IS in seperate procedures.<br/>BUT you have one procedure basically just printing a message and then calling another procedure straight away. Then coming back and setting all the flags to true. (wand on mordack procedure).<br/><br/>What you'd usually do is put similar bits of code into one function, and pass stuff TO the function to make it different - instead of 5 different procedures.<br/>Then there's bits like bit lumps of storyline/text.<br/>So say you have about 20 lines of text just coming up on the screen. Instead of putting them into a normal part, put them into a \"story_part_15\" or something procedure, then leave a little note giving a summary:<br/>' Mordack changes into Fly, Guy is now stone.<br/>Stuff that would make sense if you were the programmer (which you are <!-- s:P --><img src=\"{SMILIES_PATH}/icon_razz.gif\" alt=\":P\" title=\"Razz\" /><!-- s:P --> ).<br/>It just makes it easier on the eyes to seperate story from what's actually happenning.",
      "PostDate": "2005-12-11T20:30:37+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "7153",
      "UserId": 0,
      "Username": "steve the gaming guy",
      "UserAvatar": null,
      "UserGravatar": "6577a0affcb6ea711c75baf052ffd08a",
      "EditableText": "I scrolled up and re-read the actual code for the \"wand on mordack\" procedure.  I generally don't manually enter the code unless I am tweaking something.  This entire code, for the most part, was created through QDK.  But in trying to determine what you were referencing within this procedure, I can clearly see that what I have in it does not make sense to me.  I'm trying to figure out what Quest is trying to do when it tries to perform this procedure.  \nSpecifically the three lines that follow \"choose &lt;book&gt;\", it's like I'm telling Quest to make Mordack one property if he's another property.  And then repeat it two more times!  I will be reworking this.\n\n[code:ajxu3odt]define procedure &lt;Wand on Mordack&gt; \n   msg &lt;Graham waves his wand and prepares to cast a spell from the large book \n\nfrom Mordack's library&#46;|n&gt; \n   wait &lt;press any key&gt; \n   choose &lt;book&gt; \n   if property &lt;Mordack; insect&gt; then property &lt;Mordack; dragon&gt; \n   if property &lt;Mordack; dragon&gt; then property &lt;Mordack; cobra&gt; \n   if property &lt;Mordack; cobra&gt; then property &lt;Mordack; fire&gt; \n    \nend define [/code:ajxu3odt]\n\n\n...and in regards to paddling.  That's always entertaining!   <!-- s:lol: --><img src=\"{SMILIES_PATH}/icon_lol.gif\" alt=\":lol:\" title=\"Laughing\" /><!-- s:lol: -->",
      "EditableFormat": "bbcode",
      "HTML": "I scrolled up and re-read the actual code for the \"wand on mordack\" procedure.  I generally don't manually enter the code unless I am tweaking something.  This entire code, for the most part, was created through QDK.  But in trying to determine what you were referencing within this procedure, I can clearly see that what I have in it does not make sense to me.  I'm trying to figure out what Quest is trying to do when it tries to perform this procedure.  <br/>Specifically the three lines that follow \"choose &lt;book&gt;\", it's like I'm telling Quest to make Mordack one property if he's another property.  And then repeat it two more times!  I will be reworking this.<br/><br/><pre><code>define procedure &lt;Wand on Mordack&gt; <br/>   msg &lt;Graham waves his wand and prepares to cast a spell from the large book <br/><br/>from Mordack's library&#46;|n&gt; <br/>   wait &lt;press any key&gt; <br/>   choose &lt;book&gt; <br/>   if property &lt;Mordack; insect&gt; then property &lt;Mordack; dragon&gt; <br/>   if property &lt;Mordack; dragon&gt; then property &lt;Mordack; cobra&gt; <br/>   if property &lt;Mordack; cobra&gt; then property &lt;Mordack; fire&gt; <br/>    <br/>end define </code></pre><br/><br/><br/>...and in regards to paddling.  That's always entertaining!   <!-- s:lol: --><img src=\"{SMILIES_PATH}/icon_lol.gif\" alt=\":lol:\" title=\"Laughing\" /><!-- s:lol: -->",
      "PostDate": "2005-12-12T16:55:14+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "7155",
      "UserId": 0,
      "Username": "paul_one",
      "UserAvatar": null,
      "UserGravatar": "fef8a1875028f4300bb683f29c432894",
      "EditableText": "You are Steve.\n\nIf property &lt;&gt; works by seeing if the object has that property. Not what value it is - but only if it has that property.\n\nBut can you see that it'll go through the first one - see that he IS an insect, then set him as a dragon. Then the second spots that he's a dragon and then activates the cobra. Then the 3rd spots that he's a cobra and activates fire.\n\nHope it works out for ya.",
      "EditableFormat": "bbcode",
      "HTML": "You are Steve.<br/><br/>If property &lt;&gt; works by seeing if the object has that property. Not what value it is - but only if it has that property.<br/><br/>But can you see that it'll go through the first one - see that he IS an insect, then set him as a dragon. Then the second spots that he's a dragon and then activates the cobra. Then the 3rd spots that he's a cobra and activates fire.<br/><br/>Hope it works out for ya.",
      "PostDate": "2005-12-12T17:20:41+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "7158",
      "UserId": 0,
      "Username": "steve the gaming guy",
      "UserAvatar": null,
      "UserGravatar": "6577a0affcb6ea711c75baf052ffd08a",
      "EditableText": "Yes, I am Steve!  Bwahahaha\n\nSeriously though...that makes sense given the results that I was getting when you play it based on how the code looks now.  I told my wife that I need to start working on this at nights again when I get home from work so I can get it done!",
      "EditableFormat": "bbcode",
      "HTML": "Yes, I am Steve!  Bwahahaha<br/><br/>Seriously though...that makes sense given the results that I was getting when you play it based on how the code looks now.  I told my wife that I need to start working on this at nights again when I get home from work so I can get it done!",
      "PostDate": "2005-12-12T19:19:15+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "7162",
      "UserId": 0,
      "Username": "steve the gaming guy",
      "UserAvatar": null,
      "UserGravatar": "6577a0affcb6ea711c75baf052ffd08a",
      "EditableText": "Tr0n!!!  WE HAVE SUCCESS!!....I thank you a million times!\n\nI took out the four spell procedures entirely and just included them all into the book menu instead of calling these procedures from the book menu.  After testing it, I even purposely used the wrong spells to make sure I get killed in the right way..haha...  For example, if the dragon was shooting fire at me and I turned myself into a weasel, I would just be a weasel consumed in the dragon's fire....correct death.  <!-- s:D --><img src=\"{SMILIES_PATH}/icon_e_biggrin.gif\" alt=\":D\" title=\"Very Happy\" /><!-- s:D -->\n\nThis was THE final puzzle of the game and now that it works, I can do the finishing touches such as grammar/spelling, etc... and the game should be ready in a matter of time.  I believe I'm going to hold it until the beginning of January though to start the year off right.\n\nNo matter....The now working code is as follows:\n\n[code:2g9urt34]' &quot;King's Quest V - text adventure&quot;\n' Created with QDK 3&#46;53 - UNREGISTERED VERSION\n\n!include &lt;Typelib&#46;qlb&gt;\n\ndefine game &lt;King's Quest V - text adventure&gt;\n\tasl-version &lt;350&gt;\n\tgametype singleplayer\n\tstart &lt;lab - upstairs&gt;\n\tgame author &lt;Steve Lingle&gt;\n\tgame version &lt;1&#46;0&gt;\n\tgame copyright &lt;Revised by Steveco Games for free distribution only&gt;\n\tgame info &lt;Created with QDK 3&#46;53 - UNREGISTERED EVALUATION VERSION&#46;&gt;\n\tcommand &lt;cast spell&gt; exec &lt;use wand on mordack&gt;\n\tcommand &lt;wave wand&gt; exec &lt;use wand on mordack&gt;\n\tdefine variable &lt;mordack_insect&gt;\n\t\ttype numeric\n\t\tvalue &lt;30&gt;\n\t\tonchange if &#40; %mordack_insect% &lt; 1 &#41; then &#123;\n\t\t\ttimeroff &lt;mordack_insect&gt;\n\t\t\tmsg &lt;Just as Graham is deciding on what to do, Mordack &#40;as the insect&#41; swoops down upon him and finishes him off&#46;|n&gt;\n\t\t\twait &lt;press any key&gt;\n\t\t\tmsg &lt;If only there were something that Graham could have done to stop Mordack&#46;|n|nHint&#58; read the book in the library&#46;  They are magic spells&#46;|n&#40;use command&#58; cast spell or wave wand or use wand on Mordack&#41;&gt;\n\t\t\twait &lt;press any key&gt;\n\t\t\tplayerlose\n\t\t&#125;\n\tend define\n\tdefine variable &lt;Score&gt;\n\t\ttype numeric\n\t\tvalue &lt;0&gt;\n\t\tdisplay &lt;!&gt;\n\tend define\nend define\n\ndefine synonyms\n\ttake = get\n\tbandit = man\n\te = east\n\tw = west\n\ts = south\n\tn = north\n\tpipe organ = organ\nend define\n\ndefine room &lt;inven room&gt;\n\n\tdefine object &lt;Mordack&gt;\n\t\tlook &#123;\n\t\t\tif property &lt;Mordack; &gt; then msg &lt;Mordack stands in the room staring menacingly at Graham&#46;|n&gt;\n\t\t\tif property &lt;Mordack; insect&gt; then msg &lt;Mordack &#40;as a large insect&#41; hovers eerily above Graham&#46;|n&gt;\n\t\t\tif property &lt;Mordack; dragon&gt; then msg &lt;Mordack &#40;as a dragon&#41; towers over Graham ready to scorch him with fire&#46;|n&gt;\n\t\t\tif property &lt;Mordack; cobra&gt; then msg &lt;Mordack &#40;as a cobra&#41; slithers closer and closer to Graham ready to strike&#46;|n&gt;\n\t\t\tif property &lt;Mordack; fire&gt; then msg &lt;Mordack &#40;as a fire&#41; circles Graham containing him in one spot&#46;|n&gt;\n\t\t&#125;\n\t\tspeak &lt;Mordack is not going to discuss anything with Graham&#46;&gt;\n\t\tdisplaytype &lt;character&gt;\n\t\tgender &lt;he&gt;\n\tend define\n\n\tdefine object &lt;Mordack's wand2&gt;\n\t\talias &lt;Mordack's wand&gt;\n\t\talt &lt;wand; Mordack's wand; Mordacks wand&gt;\n\t\tlook &lt;Mordack's wand barely sparkles at all now&#46;&gt;\n\t\ttake msg &lt;Now that the wand has lost all of its magical powers, there is no further use for it&#46;|n&gt;\n\t\tarticle &lt;it&gt;\n\t\tgender &lt;it&gt;\n\t\tuse msg &lt;Graham waves Mordack's wand which is full of magical energy&#46;|nStrangely, nothing happens&#46;  Could it be that only Mordack can use the wand?|n&gt;\n\tend define\n\nend define\n\ndefine room &lt;laboratory&gt;\n\tprefix &lt;the&gt;\n\tlook &lt;The laboratory is a very large room&#46;  A stairway immediately to the left leads to the upper section of the laboratory where a strange machine can be seen from the ground floor&#46;|nAn enormous fireplace sits against the east wall with a ventilation shaft leading up and out through the ceiling&#46;  On either side of the shaft are windows where most of the room's light is coming from&#46;|nMagic trinkets and other type of chemical substances clutter laboratory tables on the sides of the room&#46;|nAmong the bottles and jars, Graham notices a very large jar on the edge of one of the tables containing a miniature castle&#46;&gt;\n\twest if here &lt;Mordack&gt; then msg &lt;Graham cannot leave now&#46;  He must deal with Mordack&#46;|n&gt; else goto &lt;upstairs hallway&gt;\n\tup if here &lt;Mordack&gt; then msg &lt;Graham cannot leave now&#46;  He must deal with Mordack&#46;|n&gt; else goto &lt;lab - upstairs&gt;\n\n\tdefine object &lt;stairway&gt;\n\t\tlook &lt;The stone stairway leads to the top floor of the laboratory&#46;&gt;\n\t\tprefix &lt;the&gt;\n\t\tarticle &lt;it&gt;\n\t\tinvisible\n\tend define\n\n\tdefine object &lt;machine1&gt;\n\t\talias &lt;strange machine&gt;\n\t\talt &lt;strange machine; machine&gt;\n\t\tlook &lt;A strange machine can be seen from the ground floor&#46;&gt;\n\t\ttake msg &lt;Graham will need to be closer to examine the strange machine&#46;|n&gt;\n\t\texamine &lt;A strange machine can be seen from the ground floor&#46;  Graham will need to be closer to examine it&#46;&gt;\n\t\tprefix &lt;a&gt;\n\t\tarticle &lt;it&gt;\n\tend define\n\n\tdefine object &lt;fireplace1&gt;\n\t\talias &lt;fireplace&gt;\n\t\talt &lt;fire; place; fire place&gt;\n\t\tlook &lt;A dormant fireplace sits on the east side of the room&#46;  This is most likely where magic spells and experiments are created&#46;&gt;\n\t\tprefix &lt;a&gt;\n\t\tarticle &lt;it&gt;\n\tend define\n\n\tdefine object &lt;shaft&gt;\n\t\talt &lt;ventilation; ventilation shaft&gt;\n\t\tlook &lt;A ventilation shaft extends from the fireplace against the wall and travels up and out of the castle near the ceiling where fumes from the fireplace would most likely go&#46;&gt;\n\t\tprefix &lt;a&gt;\n\t\tarticle &lt;it&gt;\n\tend define\n\n\tdefine object &lt;windows&gt;\n\t\talt &lt;window&gt;\n\t\tlook &lt;The two windows against the east wall are too high to be reached&#46;  There not especially large either so this would not provide an adequate means of escape&#46;&gt;\n\t\tprefix &lt;the&gt;\n\t\tarticle &lt;them&gt;\n\t\tinvisible\n\tend define\n\n\tdefine object &lt;trinkets&gt;\n\t\talt &lt;magic trinkets; chemicals; bottles; tubes; table; tables&gt;\n\t\tlook &lt;Magic trinkets, chemical apparatus and tubes are scattered around the laboratory&#46;  In one corner of a table sits a large glass jar with a miniature castle inside&#46;&gt;\n\t\ttake msg &lt;There is nothing of interest with the them&#46;|n&gt;\n\t\tprefix &lt;the&gt;\n\t\tarticle &lt;them&gt;\n\t\tinvisible\n\tend define\n\n\tdefine object &lt;glass jar&gt;\n\t\talt &lt;jar; castle; miniature castle; castle in jar; miniature castle in jar&gt;\n\t\tlook &lt;On the edge of a table sits a large glass jar containing Graham's castle&#46;&gt;\n\t\ttake msg &lt;The glass jar is too large to carry around&#46;  There must be a way to save Graham's family&#46;|n&gt;\n\t\tspeak msg &lt;A tear comes to Graham's eye as he sees his family inside of the glass jar&#46;|n|cr&quot;I will rescue you soon, my family&#46;&quot;|cb|n&gt;\n\t\texamine msg &lt;A tear comes to Graham's eye as he sees his family inside of the glass jar&#46;|n|cr&quot;I will rescue you soon, my family&#46;&quot;|cb|n&gt;\n\t\tprefix &lt;a&gt;\n\t\tarticle &lt;it&gt;\n\tend define\n\nend define\n\ndefine room &lt;lab - upstairs&gt;\n\tdown &lt;laboratory&gt;\n\n\tdefine object &lt;machine2&gt;\n\t\talias &lt;strange machine&gt;\n\t\talt &lt;strange machine; machine&gt;\n\t\tlook &lt;The machine has a large basin with bubbling liquid in the center with pipes and copper coils coming out of it&#46;  They pipes form a cross section and extend to the left and right where each end comes to a point&#46;  At the points on each end are metallic cones that point to empty trays&#46;  There is a tray on the left and a tray on the right&#46;  If only Graham could figure out what goes on the trays&#46;&gt;\n\t\ttake msg &lt;Graham will need to be closer to examine the strange machine&#46;|n&gt;\n\t\tprefix &lt;a&gt;\n\t\tarticle &lt;it&gt;\n\tend define\n\n\tdefine object &lt;trays&gt;\n\t\talt &lt;tray&gt;\n\t\tlook &lt;A tray sits on the left and right side of the machine&#46;  Graham wonders what they could be used for&#46;&gt;\n\t\tprefix &lt;the&gt;\n\t\tarticle &lt;them&gt;\n\t\tinvisible\n\tend define\n\n\tdefine object &lt;crispin's wand2&gt;\n\t\talias &lt;crispin's wand&gt;\n\t\talt &lt;wand&gt;\n\t\tlook &lt;Crispin's wand is now pulsing with magical power&#46;&gt;\n\t\ttake do &lt;Crispin's wand charged&gt;\n\t\tspeak &lt;Talking to the wand will do nothing&#46;&gt;\n\t\tarticle &lt;it&gt;\n\t\tgender &lt;it&gt;\n\t\tuse msg &lt;You wave the wand but only a couple sparkles fizzle out from the wand and nothing happens&#46;&gt;\n\t\tuse on &lt;Mordack&gt; do &lt;Wand on Mordack&gt;\n\t\tuse on anything msg &lt;You wave the wand but only a couple sparkles fizzle out from the wand and nothing happens&#46;&gt;\n\t\tdrop nowhere\n\tend define\n\nend define\n\ndefine procedure &lt;Crispin's wand charged&gt;\n\tmsg &lt;Graham picks up Crispin's wand from the tray and can immediately feel the magical power flowing through it&#46;|n&gt;\n\tinc &lt;Score; 2&gt;\n\tgive &lt;crispin's wand2&gt;\n\twait &lt;press any key&gt;\n\tmsg &lt;A few moments later, Mordack appears in the entry of the laboratory downstairs&#46;|n&gt;\n\tmove &lt;Mordack; lab - upstairs&gt;\n\twait &lt;press any key&gt;\n\tmsg &lt;Graham steps forward to the edge of the balcony so he can see the laboratory&#46;|n&gt;\n\twait &lt;press any key&gt;\n\tgoto &lt;laboratory&gt;\n\tmove &lt;Mordack; laboratory&gt;\n\twait &lt;press any key&gt;\n\tmsg &lt;|cl&quot;What are you doing with my wand, you swine!&quot;|cb Mordack waves his hands and his wand sails through the air and into his waiting hand&#46;|n&gt;\n\tmove &lt;Mordack's wand2; inven room&gt;\n\twait &lt;press any key&gt;\n\tmsg &lt;|cl&quot;You will be a hinderance no more!&quot;|cb  |nJust as Mordack begins to wave his wand&#46;&#46;&#46;|n&gt;\n\twait &lt;press any key&gt;\n\tmsg &lt;|cg&quot;Graham, I have just heard from Crispin and he will be on his way to help&#46;&#46;&#46;&quot;|cb|nIt was Cedric!  He flew in through the laboratory windows&#46;|n&gt;\n\twait &lt;press any key&gt;\n\tmsg &lt;At that moment, a ray of magic shoots from Mordack's wand and hits Cedric as he accidentally intercepted the path of the magic spell&#46;|n&gt;\n\twait &lt;press any key&gt;\n\tmsg &lt;Cedric immediately turned to stone and fell to the floor&#46;|n|cr&quot;Cedric!&quot;|cb shouted Graham&#46;|n&gt;\n\twait &lt;press any key&gt;\n\tmsg &lt;Mordack waves his wand again but only a few sparkles fizzle through the end&#46;|n|cl&quot;What did you do to my wand?  Do not under estimate my powers, little man&#46;&#46;&#46;&quot;|cb|n&gt;\n\twait &lt;press any key&gt;\n\tmsg &lt;Mordack waves his arms and suddenly his whole body begins to glow&#46;|nGraham watched in awe and horror as Mordack started to grow and change into a large flying insect&#46;|n&gt;\n\twait &lt;press any key&gt;\n\tmsg &lt;Mordack &#40;as an insect&#41; flies up to the upper level of the laboratory and hovers just above Graham&#46;|nNow is the time for Graham to pull a trick or two out of his hat!|n&gt;\n\tproperty &lt;Mordack; insect&gt;\n\t\nend define\n\ndefine procedure &lt;Wand on Mordack&gt;\n\tmsg &lt;Graham waves his wand and prepares to cast a spell from the large book from Mordack's library&#46;|n&gt;\n\twait &lt;press any key&gt;\n\tchoose &lt;book&gt;\n\t\nend define\n\ndefine procedure &lt;end of story&gt;\n\tmsg &lt;Graham, in bewilderment, looks around the laboratory&#46;  Mordack's ashes smoke as the last of the burning ambers fizzle away&#46;|n&gt;\n\twait &lt;press any key&gt;\n\tmsg &lt;He looks at poor Cedric lying on the floor of the laboratory and he looks at his family in the large glass jar&#46;|n&gt;\n\twait &lt;press any key&gt;\n\tmsg &lt;As he ponders what to do next and how he would possibly get everyone home, a puff of smoke appeared behind Graham&#46;|n&gt;\n\twait &lt;press any key&gt;\n\tsay &lt;|cl&quot;Confound it&#46;&#46;&#46;Oh wonderful&#46;  Graham, I'm glad to see you are still alive&#46;&quot;|cb  It was Crispin&#46;  Although he missed the show, hopefully he could help restore everything to normal&#46;|n&gt;\n\twait &lt;press any key&gt;\n\t\nend define\n\ndefine timer &lt;mordack_appear&gt;\n\tinterval &lt;1&gt;\n\taction dec &lt;mordack_appear; 1&gt;\n\tdisabled\nend define\n\ndefine text &lt;intro&gt;\n\nend define\n\ndefine text &lt;lose&gt;\n\n~!~!~!~!~!~!~!~!~!~!~!~!~!~!~!~!~!~!~!~!~!~!~!~!~!~!~!~!~!~!~\nPlease try again&#46;  If you've saved the game, please restore by clicking &quot;restore&quot; in the lower righthand corner of the screen&#46;\n~!~!~!~!~!~!~!~!~!~!~!~!~!~!~!~!~!~!~!~!~!~!~!~!~!~!~!~!~!~!~\nend define\n\ndefine text &lt;win&gt;\n\nend define\n\ndefine selection &lt;book&gt;\n\tinfo &lt;book&gt;\n\tchoice &lt;tiger&gt; &#123;\n\t\tif property &lt;Mordack; dragon&gt; then &#123;\n\t\t\tmsg &lt;Graham casts the tiger spell on himself and he instantly changes into the form of a tiger&#46;|n&gt;\n\t\t\twait &lt;press any key&gt;\n\t\t\tmsg &lt;Mordack &#40;as the dragon&#41; blows a gust of fire at Graham &#40;as the tiger&#41; and consumes him completely killing Graham quite quickly&#46;|n&gt;\n\t\t\ttimeroff &lt;mordack_dragon&gt;\n\t\t\twait &lt;press any key&gt;\n\t\t\tmsg &lt;Maybe there is another spell that Graham should try&#46;|n&gt;\n\t\t\twait &lt;press any key&gt;\n\t\t\tplayerlose\n\t\t&#125;\n\t\tif property &lt;Mordack; cobra&gt; then &#123;\n\t\t\tmsg &lt;Graham casts the tiger spell on himself changing him into the form of a tiger instantly&#46;|n&gt;\n\t\t\twait &lt;press any key&gt;\n\t\t\tmsg &lt;Mordack &#40;as the cobra&#41; slithers up to Graham &#40;as the tiger&#41; and bites him quickly on the neck&#46;|n&gt;\n\t\t\ttimeroff &lt;mordack_cobra&gt;\n\t\t\twait &lt;press any key&gt;\n\t\t\tmsg &lt;After a few moments, Graham falls to the floor dead&#46;|n|nPerhaps there was another spell Graham could use&#46;|n&gt;\n\t\t\twait &lt;press any key&gt;\n\t\t\tplayerlose\n\t\t&#125;\n\t\tif property &lt;Mordack; fire&gt; then &#123;\n\t\t\tmsg &lt;Graham cast the tiger spell on himself and his body changes into the form of a tiger instantly&#46;|n&gt;\n\t\t\twait &lt;press any key&gt;\n\t\t\tmsg &lt;Mordack &#40;as the fire&#41; surrounds Graham &#40;as the tiger&#41; and consumes him quickly&#46;  |nIt does not take long for Graham to pass away&#46;|n&gt;\n\t\t\ttimeroff &lt;mordack_fire&gt;\n\t\t\twait &lt;press any key&gt;\n\t\t\tmsg &lt;Perhaps there was a different spell Graham could use&#46;|n&gt;\n\t\t\twait &lt;press any key&gt;\n\t\t\tplayerlose\n\t\t&#125;\n\t\tif property &lt;Mordack; insect&gt; then &#123;\n\t\t\ttimeroff &lt;mordack_insect&gt;\n\t\t\tmsg &lt;Graham casts the tiger spell on himself and he immediately changes form into a tiger&#46;|n&gt;\n\t\t\twait &lt;press any key&gt;\n\t\t\tmsg &lt;Graham &#40;as the tiger&#41; begins jumping up on his hind legs and clawing at Mordack &#40;as the insect&#41;&#46;|n&gt;\n\t\t\twait &lt;press any key&gt;\n\t\t\tmsg &lt;|cl&quot;Grrrrrrraaaahhhh!!!&quot; |cbcries Mordack&#46;|nMordack flies back down to the lower area of the laboratory and Graham jumps down ready to attack&#46;|n&gt;\n\t\t\twait &lt;press any key&gt;\n\t\t\tmsg &lt;|cl&quot;You think you're pretty smart, Graham&#46;&#46;&#46;Let's see how you handle a little fire&#46;&quot;|cb  Mordack begins to grow very large and changes into a ferocious dragon&#46;|n&gt;\n\t\t\tproperty &lt;Mordack; not insect&gt;\n\t\t\tproperty &lt;Mordack; dragon&gt;\n\t\t\ttimeron &lt;mordack_dragon&gt;\n\t\t&#125;\n\t&#125;\n\tchoice &lt;rabbit&gt; &#123;\n\t\tif property &lt;Mordack; insect&gt; then &#123;\n\t\t\tmsg &lt;Graham casts the rabbit spell on himself and he immediately changes form into a rabbit&#46;|n&gt;\n\t\t\twait &lt;press any key&gt;\n\t\t\tmsg &lt;Mordack &#40;as the insect&#41; swoops down on Graham &#40;as the rabbit&#41; and eats him whole&#46;|n&gt;\n\t\t\ttimeroff &lt;mordack_insect&gt;\n\t\t\twait &lt;press any key&gt;\n\t\t\tmsg &lt;Perhaps there was another spell Graham could have used&#46;|n&gt;\n\t\t\twait &lt;press any key&gt;\n\t\t\tplayerlose\n\t\t&#125;\n\t\tif property &lt;Mordack; cobra&gt; then &#123;\n\t\t\tmsg &lt;Graham casts the rabbit spell on himself changing him into the form of a rabbit instantly&#46;|n&gt;\n\t\t\twait &lt;press any key&gt;\n\t\t\tmsg &lt;Mordack &#40;as the cobra&#41; slithers up to Graham &#40;as the rabbit&#41; and bites him quickly on the neck&#46;|n&gt;\n\t\t\ttimeroff &lt;mordack_cobra&gt;\n\t\t\twait &lt;press any key&gt;\n\t\t\tmsg &lt;After a few moments, Graham falls to the floor dead&#46;|n|nPerhaps there was another spell Graham could use&#46;|n&gt;\n\t\t\twait &lt;press any key&gt;\n\t\t\tplayerlose\n\t\t&#125;\n\t\tif property &lt;Mordack; fire&gt; then &#123;\n\t\t\tmsg &lt;Graham cast the rabbit spell on himself and his body changes into the form of a rabbit instantly&#46;|n&gt;\n\t\t\twait &lt;press any key&gt;\n\t\t\tmsg &lt;Mordack &#40;as the fire&#41; surrounds Graham &#40;as the rabbit&#41; and consumes him quickly&#46;  |nIt does not take long for Graham to pass away&#46;|n&gt;\n\t\t\ttimeroff &lt;mordack_fire&gt;\n\t\t\twait &lt;press any key&gt;\n\t\t\tmsg &lt;Perhaps there was a different spell Graham could use&#46;|n&gt;\n\t\t\twait &lt;press any key&gt;\n\t\t\tplayerlose\n\t\t&#125;\n\t\tif property &lt;Mordack; dragon&gt; then &#123;\n\t\t\ttimeroff &lt;mordack_dragon&gt;\n\t\t\tmsg &lt;Graham casts the rabbit spell on himself and he immediately changes form into a rabbit&#46;|n&gt;\n\t\t\twait &lt;press any key&gt;\n\t\t\tmsg &lt;Mordack &#40;as the dragon&#41; begins blowing fireballs down at the floor&#46;  Graham &#40;as the rabbit&#41; easily hops out of harm's way with each blast&#46;|n&gt;\n\t\t\twait &lt;press any key&gt;\n\t\t\tmsg &lt;|cl&quot;Rrrooooaaarrr!&quot;|cb Mordack is visually frustrated at Graham's trick&#46;  He begins to shrink down to a smaller size&#46;|n&gt;\n\t\t\twait &lt;press any key&gt;\n\t\t\tmsg &lt;Mordack changed himself into a king cobra!  He begins to slither towards Graham &#40;as the rabbit&#41;&#46;|n|cl&quot;Let'sssss ssseee how you handle thissss&#46;&#46;&#46;&quot;|cb|n&gt;\n\t\t\tproperty &lt;Mordack; not dragon&gt;\n\t\t\tproperty &lt;Mordack; cobra&gt;\n\t\t\ttimeron &lt;mordack_cobra&gt;\n\t\t&#125;\n\t&#125;\n\tchoice &lt;weasel&gt; &#123;\n\t\tif property &lt;Mordack; insect&gt; then &#123;\n\t\t\tmsg &lt;Graham casts the weasel spell on himself and he immediately changes form into a weasel&#46;|n&gt;\n\t\t\twait &lt;press any key&gt;\n\t\t\tmsg &lt;Mordack &#40;as the insect&#41; swoops down on Graham &#40;as the weasel&#41; and eats him whole&#46;|n&gt;\n\t\t\ttimeroff &lt;mordack_insect&gt;\n\t\t\twait &lt;press any key&gt;\n\t\t\tmsg &lt;Perhaps there was another spell Graham could have used&#46;|n&gt;\n\t\t\twait &lt;press any key&gt;\n\t\t\tplayerlose\n\t\t&#125;\n\t\tif property &lt;Mordack; dragon&gt; then &#123;\n\t\t\tmsg &lt;Graham casts the weasel spell on himself and he instantly changes into the form of a weasel&#46;|n&gt;\n\t\t\twait &lt;press any key&gt;\n\t\t\tmsg &lt;Mordack &#40;as the dragon&#41; blows a gust of fire at Graham &#40;as the weasel&#41; and consumes him completely killing Graham quite quickly&#46;|n&gt;\n\t\t\ttimeroff &lt;mordack_dragon&gt;\n\t\t\twait &lt;press any key&gt;\n\t\t\tmsg &lt;Maybe there is another spell that Graham should try&#46;|n&gt;\n\t\t\twait &lt;press any key&gt;\n\t\t\tplayerlose\n\t\t&#125;\n\t\tif property &lt;Mordack; fire&gt; then &#123;\n\t\t\tmsg &lt;Graham cast the weasel spell on himself and his body changes into the form of a weasel instantly&#46;|n&gt;\n\t\t\twait &lt;press any key&gt;\n\t\t\tmsg &lt;Mordack &#40;as the fire&#41; surrounds Graham &#40;as the weasel&#41; and consumes him quickly&#46;  |nIt does not take long for Graham to pass away&#46;|n&gt;\n\t\t\ttimeroff &lt;mordack_fire&gt;\n\t\t\twait &lt;press any key&gt;\n\t\t\tmsg &lt;Perhaps there was a different spell Graham could use&#46;|n&gt;\n\t\t\twait &lt;press any key&gt;\n\t\t\tplayerlose\n\t\t&#125;\n\t\tif property &lt;Mordack; cobra&gt; then &#123;\n\t\t\ttimeroff &lt;mordack_cobra&gt;\n\t\t\tmsg &lt;Graham casts the weasel spell on himself changing him into the form of a weasel instantly&#46;|n&gt;\n\t\t\twait &lt;press any key&gt;\n\t\t\tmsg &lt;Mordack &#40;as the cobra&#41; slithers up to Graham &#40;as the weasel&#41; and tries to bite at him&#46;|n|nUsing quick weasel reflexes, Graham jumps up and bites the neck of the king cobra and shakes his head violently&#46;|n&gt;\n\t\t\twait &lt;press any key&gt;\n\t\t\tmsg &lt;|cl&quot;Aaahhh!  Cursssessss!&quot;|cb Mordack slithers away quickly&#46;|n&gt;\n\t\t\twait &lt;press any key&gt;\n\t\t\tmsg &lt;|cl&quot;Thisss isss the end of you, Graham!&quot;|cb Mordack screams as he begins to change into a very real ring of fire across the floor surrounding Graham entirely&#46;|n&gt;\n\t\t\tproperty &lt;Mordack; not cobra&gt;\n\t\t\tproperty &lt;Mordack; fire&gt;\n\t\t\ttimeron &lt;mordack_fire&gt;\n\t\t&#125;\n\t&#125;\n\tchoice &lt;rain&gt; &#123;\n\t\tif property &lt;Mordack; insect&gt; then &#123;\n\t\t\tmsg &lt;Graham casts the rain spell on himself and a small rain cloud immediately appears over his head and begins to pour down heavy rain on Graham&#46;|n&gt;\n\t\t\twait &lt;press any key&gt;\n\t\t\tmsg &lt;Mordack &#40;as the insect&#41; swoops down on Graham covered with rain and eats him whole&#46;|n&gt;\n\t\t\ttimeroff &lt;mordack_insect&gt;\n\t\t\twait &lt;press any key&gt;\n\t\t\tmsg &lt;Perhaps there was another spell Graham could have used&#46;|n&gt;\n\t\t\twait &lt;press any key&gt;\n\t\t\tplayerlose\n\t\t&#125;\n\t\tif property &lt;Mordack; dragon&gt; then &#123;\n\t\t\tmsg &lt;Graham casts the rain spell on himself and a small rain cloud immediately appears over his head and begins to pour down heavy rain on Graham&#46;|n&gt;\n\t\t\twait &lt;press any key&gt;\n\t\t\tmsg &lt;Mordack &#40;as the dragon&#41; blows a gust of fire at Graham covered with rain but it was not enough to stop the dragon's fire&#46;|nIt quickly consumes Graham and he dies&#46;|n|n&gt;\n\t\t\ttimeroff &lt;mordack_dragon&gt;\n\t\t\twait &lt;press any key&gt;\n\t\t\tmsg &lt;Maybe there is another spell that Graham should try&#46;|n&gt;\n\t\t\twait &lt;press any key&gt;\n\t\t\tplayerlose\n\t\t&#125;\n\t\tif property &lt;Mordack; cobra&gt; then &#123;\n\t\t\tmsg &lt;Graham casts the rain spell on himself and a small rain cloud immediately appears over his head and begins to pour down heavy rain on Graham&#46;|n&gt;\n\t\t\twait &lt;press any key&gt;\n\t\t\tmsg &lt;Mordack &#40;as the cobra&#41; slithers up to Graham covered with rain and bites him quickly on the neck&#46;|n&gt;\n\t\t\ttimeroff &lt;mordack_cobra&gt;\n\t\t\twait &lt;press any key&gt;\n\t\t\tmsg &lt;After a few moments, Graham falls to the floor dead&#46;|n|nPerhaps there was another spell Graham could use&#46;|n&gt;\n\t\t\twait &lt;press any key&gt;\n\t\t\tplayerlose\n\t\t&#125;\n\t\tif property &lt;Mordack; fire&gt; then &#123;\n\t\t\ttimeroff &lt;mordack_fire&gt;\n\t\t\tmsg &lt;Graham casts the rain spell on himself and a small rain cloud immediately appears over his head and begins to pour down heavy rain on Graham&#46;|n&gt;\n\t\t\twait &lt;press any key&gt;\n\t\t\tmsg &lt;Mordack &#40;as the fire&#41; surrounds Graham and the rain pours down on both of them washing out the fire&#46;|n&gt;\n\t\t\twait &lt;press any key&gt;\n\t\t\tmsg &lt;Mordack is gone!  Graham has won!|n&gt;\n\t\t\twait &lt;press any key&gt;\n\t\t\tdo &lt;end of story&gt;\n\t\t&#125;\n\t&#125;\nend define\n\n[/code:2g9urt34]",
      "EditableFormat": "bbcode",
      "HTML": "Tr0n!!!  WE HAVE SUCCESS!!....I thank you a million times!<br/><br/>I took out the four spell procedures entirely and just included them all into the book menu instead of calling these procedures from the book menu.  After testing it, I even purposely used the wrong spells to make sure I get killed in the right way..haha...  For example, if the dragon was shooting fire at me and I turned myself into a weasel, I would just be a weasel consumed in the dragon's fire....correct death.  <!-- s:D --><img src=\"{SMILIES_PATH}/icon_e_biggrin.gif\" alt=\":D\" title=\"Very Happy\" /><!-- s:D --><br/><br/>This was THE final puzzle of the game and now that it works, I can do the finishing touches such as grammar/spelling, etc... and the game should be ready in a matter of time.  I believe I'm going to hold it until the beginning of January though to start the year off right.<br/><br/>No matter....The now working code is as follows:<br/><br/><pre><code>' &quot;King's Quest V - text adventure&quot;<br/>' Created with QDK 3&#46;53 - UNREGISTERED VERSION<br/><br/>!include &lt;Typelib&#46;qlb&gt;<br/><br/>define game &lt;King's Quest V - text adventure&gt;<br/>\tasl-version &lt;350&gt;<br/>\tgametype singleplayer<br/>\tstart &lt;lab - upstairs&gt;<br/>\tgame author &lt;Steve Lingle&gt;<br/>\tgame version &lt;1&#46;0&gt;<br/>\tgame copyright &lt;Revised by Steveco Games for free distribution only&gt;<br/>\tgame info &lt;Created with QDK 3&#46;53 - UNREGISTERED EVALUATION VERSION&#46;&gt;<br/>\tcommand &lt;cast spell&gt; exec &lt;use wand on mordack&gt;<br/>\tcommand &lt;wave wand&gt; exec &lt;use wand on mordack&gt;<br/>\tdefine variable &lt;mordack_insect&gt;<br/>\t\ttype numeric<br/>\t\tvalue &lt;30&gt;<br/>\t\tonchange if &#40; %mordack_insect% &lt; 1 &#41; then &#123;<br/>\t\t\ttimeroff &lt;mordack_insect&gt;<br/>\t\t\tmsg &lt;Just as Graham is deciding on what to do, Mordack &#40;as the insect&#41; swoops down upon him and finishes him off&#46;|n&gt;<br/>\t\t\twait &lt;press any key&gt;<br/>\t\t\tmsg &lt;If only there were something that Graham could have done to stop Mordack&#46;|n|nHint&#58; read the book in the library&#46;  They are magic spells&#46;|n&#40;use command&#58; cast spell or wave wand or use wand on Mordack&#41;&gt;<br/>\t\t\twait &lt;press any key&gt;<br/>\t\t\tplayerlose<br/>\t\t&#125;<br/>\tend define<br/>\tdefine variable &lt;Score&gt;<br/>\t\ttype numeric<br/>\t\tvalue &lt;0&gt;<br/>\t\tdisplay &lt;!&gt;<br/>\tend define<br/>end define<br/><br/>define synonyms<br/>\ttake = get<br/>\tbandit = man<br/>\te = east<br/>\tw = west<br/>\ts = south<br/>\tn = north<br/>\tpipe organ = organ<br/>end define<br/><br/>define room &lt;inven room&gt;<br/><br/>\tdefine object &lt;Mordack&gt;<br/>\t\tlook &#123;<br/>\t\t\tif property &lt;Mordack; &gt; then msg &lt;Mordack stands in the room staring menacingly at Graham&#46;|n&gt;<br/>\t\t\tif property &lt;Mordack; insect&gt; then msg &lt;Mordack &#40;as a large insect&#41; hovers eerily above Graham&#46;|n&gt;<br/>\t\t\tif property &lt;Mordack; dragon&gt; then msg &lt;Mordack &#40;as a dragon&#41; towers over Graham ready to scorch him with fire&#46;|n&gt;<br/>\t\t\tif property &lt;Mordack; cobra&gt; then msg &lt;Mordack &#40;as a cobra&#41; slithers closer and closer to Graham ready to strike&#46;|n&gt;<br/>\t\t\tif property &lt;Mordack; fire&gt; then msg &lt;Mordack &#40;as a fire&#41; circles Graham containing him in one spot&#46;|n&gt;<br/>\t\t&#125;<br/>\t\tspeak &lt;Mordack is not going to discuss anything with Graham&#46;&gt;<br/>\t\tdisplaytype &lt;character&gt;<br/>\t\tgender &lt;he&gt;<br/>\tend define<br/><br/>\tdefine object &lt;Mordack's wand2&gt;<br/>\t\talias &lt;Mordack's wand&gt;<br/>\t\talt &lt;wand; Mordack's wand; Mordacks wand&gt;<br/>\t\tlook &lt;Mordack's wand barely sparkles at all now&#46;&gt;<br/>\t\ttake msg &lt;Now that the wand has lost all of its magical powers, there is no further use for it&#46;|n&gt;<br/>\t\tarticle &lt;it&gt;<br/>\t\tgender &lt;it&gt;<br/>\t\tuse msg &lt;Graham waves Mordack's wand which is full of magical energy&#46;|nStrangely, nothing happens&#46;  Could it be that only Mordack can use the wand?|n&gt;<br/>\tend define<br/><br/>end define<br/><br/>define room &lt;laboratory&gt;<br/>\tprefix &lt;the&gt;<br/>\tlook &lt;The laboratory is a very large room&#46;  A stairway immediately to the left leads to the upper section of the laboratory where a strange machine can be seen from the ground floor&#46;|nAn enormous fireplace sits against the east wall with a ventilation shaft leading up and out through the ceiling&#46;  On either side of the shaft are windows where most of the room's light is coming from&#46;|nMagic trinkets and other type of chemical substances clutter laboratory tables on the sides of the room&#46;|nAmong the bottles and jars, Graham notices a very large jar on the edge of one of the tables containing a miniature castle&#46;&gt;<br/>\twest if here &lt;Mordack&gt; then msg &lt;Graham cannot leave now&#46;  He must deal with Mordack&#46;|n&gt; else goto &lt;upstairs hallway&gt;<br/>\tup if here &lt;Mordack&gt; then msg &lt;Graham cannot leave now&#46;  He must deal with Mordack&#46;|n&gt; else goto &lt;lab - upstairs&gt;<br/><br/>\tdefine object &lt;stairway&gt;<br/>\t\tlook &lt;The stone stairway leads to the top floor of the laboratory&#46;&gt;<br/>\t\tprefix &lt;the&gt;<br/>\t\tarticle &lt;it&gt;<br/>\t\tinvisible<br/>\tend define<br/><br/>\tdefine object &lt;machine1&gt;<br/>\t\talias &lt;strange machine&gt;<br/>\t\talt &lt;strange machine; machine&gt;<br/>\t\tlook &lt;A strange machine can be seen from the ground floor&#46;&gt;<br/>\t\ttake msg &lt;Graham will need to be closer to examine the strange machine&#46;|n&gt;<br/>\t\texamine &lt;A strange machine can be seen from the ground floor&#46;  Graham will need to be closer to examine it&#46;&gt;<br/>\t\tprefix &lt;a&gt;<br/>\t\tarticle &lt;it&gt;<br/>\tend define<br/><br/>\tdefine object &lt;fireplace1&gt;<br/>\t\talias &lt;fireplace&gt;<br/>\t\talt &lt;fire; place; fire place&gt;<br/>\t\tlook &lt;A dormant fireplace sits on the east side of the room&#46;  This is most likely where magic spells and experiments are created&#46;&gt;<br/>\t\tprefix &lt;a&gt;<br/>\t\tarticle &lt;it&gt;<br/>\tend define<br/><br/>\tdefine object &lt;shaft&gt;<br/>\t\talt &lt;ventilation; ventilation shaft&gt;<br/>\t\tlook &lt;A ventilation shaft extends from the fireplace against the wall and travels up and out of the castle near the ceiling where fumes from the fireplace would most likely go&#46;&gt;<br/>\t\tprefix &lt;a&gt;<br/>\t\tarticle &lt;it&gt;<br/>\tend define<br/><br/>\tdefine object &lt;windows&gt;<br/>\t\talt &lt;window&gt;<br/>\t\tlook &lt;The two windows against the east wall are too high to be reached&#46;  There not especially large either so this would not provide an adequate means of escape&#46;&gt;<br/>\t\tprefix &lt;the&gt;<br/>\t\tarticle &lt;them&gt;<br/>\t\tinvisible<br/>\tend define<br/><br/>\tdefine object &lt;trinkets&gt;<br/>\t\talt &lt;magic trinkets; chemicals; bottles; tubes; table; tables&gt;<br/>\t\tlook &lt;Magic trinkets, chemical apparatus and tubes are scattered around the laboratory&#46;  In one corner of a table sits a large glass jar with a miniature castle inside&#46;&gt;<br/>\t\ttake msg &lt;There is nothing of interest with the them&#46;|n&gt;<br/>\t\tprefix &lt;the&gt;<br/>\t\tarticle &lt;them&gt;<br/>\t\tinvisible<br/>\tend define<br/><br/>\tdefine object &lt;glass jar&gt;<br/>\t\talt &lt;jar; castle; miniature castle; castle in jar; miniature castle in jar&gt;<br/>\t\tlook &lt;On the edge of a table sits a large glass jar containing Graham's castle&#46;&gt;<br/>\t\ttake msg &lt;The glass jar is too large to carry around&#46;  There must be a way to save Graham's family&#46;|n&gt;<br/>\t\tspeak msg &lt;A tear comes to Graham's eye as he sees his family inside of the glass jar&#46;|n|cr&quot;I will rescue you soon, my family&#46;&quot;|cb|n&gt;<br/>\t\texamine msg &lt;A tear comes to Graham's eye as he sees his family inside of the glass jar&#46;|n|cr&quot;I will rescue you soon, my family&#46;&quot;|cb|n&gt;<br/>\t\tprefix &lt;a&gt;<br/>\t\tarticle &lt;it&gt;<br/>\tend define<br/><br/>end define<br/><br/>define room &lt;lab - upstairs&gt;<br/>\tdown &lt;laboratory&gt;<br/><br/>\tdefine object &lt;machine2&gt;<br/>\t\talias &lt;strange machine&gt;<br/>\t\talt &lt;strange machine; machine&gt;<br/>\t\tlook &lt;The machine has a large basin with bubbling liquid in the center with pipes and copper coils coming out of it&#46;  They pipes form a cross section and extend to the left and right where each end comes to a point&#46;  At the points on each end are metallic cones that point to empty trays&#46;  There is a tray on the left and a tray on the right&#46;  If only Graham could figure out what goes on the trays&#46;&gt;<br/>\t\ttake msg &lt;Graham will need to be closer to examine the strange machine&#46;|n&gt;<br/>\t\tprefix &lt;a&gt;<br/>\t\tarticle &lt;it&gt;<br/>\tend define<br/><br/>\tdefine object &lt;trays&gt;<br/>\t\talt &lt;tray&gt;<br/>\t\tlook &lt;A tray sits on the left and right side of the machine&#46;  Graham wonders what they could be used for&#46;&gt;<br/>\t\tprefix &lt;the&gt;<br/>\t\tarticle &lt;them&gt;<br/>\t\tinvisible<br/>\tend define<br/><br/>\tdefine object &lt;crispin's wand2&gt;<br/>\t\talias &lt;crispin's wand&gt;<br/>\t\talt &lt;wand&gt;<br/>\t\tlook &lt;Crispin's wand is now pulsing with magical power&#46;&gt;<br/>\t\ttake do &lt;Crispin's wand charged&gt;<br/>\t\tspeak &lt;Talking to the wand will do nothing&#46;&gt;<br/>\t\tarticle &lt;it&gt;<br/>\t\tgender &lt;it&gt;<br/>\t\tuse msg &lt;You wave the wand but only a couple sparkles fizzle out from the wand and nothing happens&#46;&gt;<br/>\t\tuse on &lt;Mordack&gt; do &lt;Wand on Mordack&gt;<br/>\t\tuse on anything msg &lt;You wave the wand but only a couple sparkles fizzle out from the wand and nothing happens&#46;&gt;<br/>\t\tdrop nowhere<br/>\tend define<br/><br/>end define<br/><br/>define procedure &lt;Crispin's wand charged&gt;<br/>\tmsg &lt;Graham picks up Crispin's wand from the tray and can immediately feel the magical power flowing through it&#46;|n&gt;<br/>\tinc &lt;Score; 2&gt;<br/>\tgive &lt;crispin's wand2&gt;<br/>\twait &lt;press any key&gt;<br/>\tmsg &lt;A few moments later, Mordack appears in the entry of the laboratory downstairs&#46;|n&gt;<br/>\tmove &lt;Mordack; lab - upstairs&gt;<br/>\twait &lt;press any key&gt;<br/>\tmsg &lt;Graham steps forward to the edge of the balcony so he can see the laboratory&#46;|n&gt;<br/>\twait &lt;press any key&gt;<br/>\tgoto &lt;laboratory&gt;<br/>\tmove &lt;Mordack; laboratory&gt;<br/>\twait &lt;press any key&gt;<br/>\tmsg &lt;|cl&quot;What are you doing with my wand, you swine!&quot;|cb Mordack waves his hands and his wand sails through the air and into his waiting hand&#46;|n&gt;<br/>\tmove &lt;Mordack's wand2; inven room&gt;<br/>\twait &lt;press any key&gt;<br/>\tmsg &lt;|cl&quot;You will be a hinderance no more!&quot;|cb  |nJust as Mordack begins to wave his wand&#46;&#46;&#46;|n&gt;<br/>\twait &lt;press any key&gt;<br/>\tmsg &lt;|cg&quot;Graham, I have just heard from Crispin and he will be on his way to help&#46;&#46;&#46;&quot;|cb|nIt was Cedric!  He flew in through the laboratory windows&#46;|n&gt;<br/>\twait &lt;press any key&gt;<br/>\tmsg &lt;At that moment, a ray of magic shoots from Mordack's wand and hits Cedric as he accidentally intercepted the path of the magic spell&#46;|n&gt;<br/>\twait &lt;press any key&gt;<br/>\tmsg &lt;Cedric immediately turned to stone and fell to the floor&#46;|n|cr&quot;Cedric!&quot;|cb shouted Graham&#46;|n&gt;<br/>\twait &lt;press any key&gt;<br/>\tmsg &lt;Mordack waves his wand again but only a few sparkles fizzle through the end&#46;|n|cl&quot;What did you do to my wand?  Do not under estimate my powers, little man&#46;&#46;&#46;&quot;|cb|n&gt;<br/>\twait &lt;press any key&gt;<br/>\tmsg &lt;Mordack waves his arms and suddenly his whole body begins to glow&#46;|nGraham watched in awe and horror as Mordack started to grow and change into a large flying insect&#46;|n&gt;<br/>\twait &lt;press any key&gt;<br/>\tmsg &lt;Mordack &#40;as an insect&#41; flies up to the upper level of the laboratory and hovers just above Graham&#46;|nNow is the time for Graham to pull a trick or two out of his hat!|n&gt;<br/>\tproperty &lt;Mordack; insect&gt;<br/>\t<br/>end define<br/><br/>define procedure &lt;Wand on Mordack&gt;<br/>\tmsg &lt;Graham waves his wand and prepares to cast a spell from the large book from Mordack's library&#46;|n&gt;<br/>\twait &lt;press any key&gt;<br/>\tchoose &lt;book&gt;<br/>\t<br/>end define<br/><br/>define procedure &lt;end of story&gt;<br/>\tmsg &lt;Graham, in bewilderment, looks around the laboratory&#46;  Mordack's ashes smoke as the last of the burning ambers fizzle away&#46;|n&gt;<br/>\twait &lt;press any key&gt;<br/>\tmsg &lt;He looks at poor Cedric lying on the floor of the laboratory and he looks at his family in the large glass jar&#46;|n&gt;<br/>\twait &lt;press any key&gt;<br/>\tmsg &lt;As he ponders what to do next and how he would possibly get everyone home, a puff of smoke appeared behind Graham&#46;|n&gt;<br/>\twait &lt;press any key&gt;<br/>\tsay &lt;|cl&quot;Confound it&#46;&#46;&#46;Oh wonderful&#46;  Graham, I'm glad to see you are still alive&#46;&quot;|cb  It was Crispin&#46;  Although he missed the show, hopefully he could help restore everything to normal&#46;|n&gt;<br/>\twait &lt;press any key&gt;<br/>\t<br/>end define<br/><br/>define timer &lt;mordack_appear&gt;<br/>\tinterval &lt;1&gt;<br/>\taction dec &lt;mordack_appear; 1&gt;<br/>\tdisabled<br/>end define<br/><br/>define text &lt;intro&gt;<br/><br/>end define<br/><br/>define text &lt;lose&gt;<br/><br/>~!~!~!~!~!~!~!~!~!~!~!~!~!~!~!~!~!~!~!~!~!~!~!~!~!~!~!~!~!~!~<br/>Please try again&#46;  If you've saved the game, please restore by clicking &quot;restore&quot; in the lower righthand corner of the screen&#46;<br/>~!~!~!~!~!~!~!~!~!~!~!~!~!~!~!~!~!~!~!~!~!~!~!~!~!~!~!~!~!~!~<br/>end define<br/><br/>define text &lt;win&gt;<br/><br/>end define<br/><br/>define selection &lt;book&gt;<br/>\tinfo &lt;book&gt;<br/>\tchoice &lt;tiger&gt; &#123;<br/>\t\tif property &lt;Mordack; dragon&gt; then &#123;<br/>\t\t\tmsg &lt;Graham casts the tiger spell on himself and he instantly changes into the form of a tiger&#46;|n&gt;<br/>\t\t\twait &lt;press any key&gt;<br/>\t\t\tmsg &lt;Mordack &#40;as the dragon&#41; blows a gust of fire at Graham &#40;as the tiger&#41; and consumes him completely killing Graham quite quickly&#46;|n&gt;<br/>\t\t\ttimeroff &lt;mordack_dragon&gt;<br/>\t\t\twait &lt;press any key&gt;<br/>\t\t\tmsg &lt;Maybe there is another spell that Graham should try&#46;|n&gt;<br/>\t\t\twait &lt;press any key&gt;<br/>\t\t\tplayerlose<br/>\t\t&#125;<br/>\t\tif property &lt;Mordack; cobra&gt; then &#123;<br/>\t\t\tmsg &lt;Graham casts the tiger spell on himself changing him into the form of a tiger instantly&#46;|n&gt;<br/>\t\t\twait &lt;press any key&gt;<br/>\t\t\tmsg &lt;Mordack &#40;as the cobra&#41; slithers up to Graham &#40;as the tiger&#41; and bites him quickly on the neck&#46;|n&gt;<br/>\t\t\ttimeroff &lt;mordack_cobra&gt;<br/>\t\t\twait &lt;press any key&gt;<br/>\t\t\tmsg &lt;After a few moments, Graham falls to the floor dead&#46;|n|nPerhaps there was another spell Graham could use&#46;|n&gt;<br/>\t\t\twait &lt;press any key&gt;<br/>\t\t\tplayerlose<br/>\t\t&#125;<br/>\t\tif property &lt;Mordack; fire&gt; then &#123;<br/>\t\t\tmsg &lt;Graham cast the tiger spell on himself and his body changes into the form of a tiger instantly&#46;|n&gt;<br/>\t\t\twait &lt;press any key&gt;<br/>\t\t\tmsg &lt;Mordack &#40;as the fire&#41; surrounds Graham &#40;as the tiger&#41; and consumes him quickly&#46;  |nIt does not take long for Graham to pass away&#46;|n&gt;<br/>\t\t\ttimeroff &lt;mordack_fire&gt;<br/>\t\t\twait &lt;press any key&gt;<br/>\t\t\tmsg &lt;Perhaps there was a different spell Graham could use&#46;|n&gt;<br/>\t\t\twait &lt;press any key&gt;<br/>\t\t\tplayerlose<br/>\t\t&#125;<br/>\t\tif property &lt;Mordack; insect&gt; then &#123;<br/>\t\t\ttimeroff &lt;mordack_insect&gt;<br/>\t\t\tmsg &lt;Graham casts the tiger spell on himself and he immediately changes form into a tiger&#46;|n&gt;<br/>\t\t\twait &lt;press any key&gt;<br/>\t\t\tmsg &lt;Graham &#40;as the tiger&#41; begins jumping up on his hind legs and clawing at Mordack &#40;as the insect&#41;&#46;|n&gt;<br/>\t\t\twait &lt;press any key&gt;<br/>\t\t\tmsg &lt;|cl&quot;Grrrrrrraaaahhhh!!!&quot; |cbcries Mordack&#46;|nMordack flies back down to the lower area of the laboratory and Graham jumps down ready to attack&#46;|n&gt;<br/>\t\t\twait &lt;press any key&gt;<br/>\t\t\tmsg &lt;|cl&quot;You think you're pretty smart, Graham&#46;&#46;&#46;Let's see how you handle a little fire&#46;&quot;|cb  Mordack begins to grow very large and changes into a ferocious dragon&#46;|n&gt;<br/>\t\t\tproperty &lt;Mordack; not insect&gt;<br/>\t\t\tproperty &lt;Mordack; dragon&gt;<br/>\t\t\ttimeron &lt;mordack_dragon&gt;<br/>\t\t&#125;<br/>\t&#125;<br/>\tchoice &lt;rabbit&gt; &#123;<br/>\t\tif property &lt;Mordack; insect&gt; then &#123;<br/>\t\t\tmsg &lt;Graham casts the rabbit spell on himself and he immediately changes form into a rabbit&#46;|n&gt;<br/>\t\t\twait &lt;press any key&gt;<br/>\t\t\tmsg &lt;Mordack &#40;as the insect&#41; swoops down on Graham &#40;as the rabbit&#41; and eats him whole&#46;|n&gt;<br/>\t\t\ttimeroff &lt;mordack_insect&gt;<br/>\t\t\twait &lt;press any key&gt;<br/>\t\t\tmsg &lt;Perhaps there was another spell Graham could have used&#46;|n&gt;<br/>\t\t\twait &lt;press any key&gt;<br/>\t\t\tplayerlose<br/>\t\t&#125;<br/>\t\tif property &lt;Mordack; cobra&gt; then &#123;<br/>\t\t\tmsg &lt;Graham casts the rabbit spell on himself changing him into the form of a rabbit instantly&#46;|n&gt;<br/>\t\t\twait &lt;press any key&gt;<br/>\t\t\tmsg &lt;Mordack &#40;as the cobra&#41; slithers up to Graham &#40;as the rabbit&#41; and bites him quickly on the neck&#46;|n&gt;<br/>\t\t\ttimeroff &lt;mordack_cobra&gt;<br/>\t\t\twait &lt;press any key&gt;<br/>\t\t\tmsg &lt;After a few moments, Graham falls to the floor dead&#46;|n|nPerhaps there was another spell Graham could use&#46;|n&gt;<br/>\t\t\twait &lt;press any key&gt;<br/>\t\t\tplayerlose<br/>\t\t&#125;<br/>\t\tif property &lt;Mordack; fire&gt; then &#123;<br/>\t\t\tmsg &lt;Graham cast the rabbit spell on himself and his body changes into the form of a rabbit instantly&#46;|n&gt;<br/>\t\t\twait &lt;press any key&gt;<br/>\t\t\tmsg &lt;Mordack &#40;as the fire&#41; surrounds Graham &#40;as the rabbit&#41; and consumes him quickly&#46;  |nIt does not take long for Graham to pass away&#46;|n&gt;<br/>\t\t\ttimeroff &lt;mordack_fire&gt;<br/>\t\t\twait &lt;press any key&gt;<br/>\t\t\tmsg &lt;Perhaps there was a different spell Graham could use&#46;|n&gt;<br/>\t\t\twait &lt;press any key&gt;<br/>\t\t\tplayerlose<br/>\t\t&#125;<br/>\t\tif property &lt;Mordack; dragon&gt; then &#123;<br/>\t\t\ttimeroff &lt;mordack_dragon&gt;<br/>\t\t\tmsg &lt;Graham casts the rabbit spell on himself and he immediately changes form into a rabbit&#46;|n&gt;<br/>\t\t\twait &lt;press any key&gt;<br/>\t\t\tmsg &lt;Mordack &#40;as the dragon&#41; begins blowing fireballs down at the floor&#46;  Graham &#40;as the rabbit&#41; easily hops out of harm's way with each blast&#46;|n&gt;<br/>\t\t\twait &lt;press any key&gt;<br/>\t\t\tmsg &lt;|cl&quot;Rrrooooaaarrr!&quot;|cb Mordack is visually frustrated at Graham's trick&#46;  He begins to shrink down to a smaller size&#46;|n&gt;<br/>\t\t\twait &lt;press any key&gt;<br/>\t\t\tmsg &lt;Mordack changed himself into a king cobra!  He begins to slither towards Graham &#40;as the rabbit&#41;&#46;|n|cl&quot;Let'sssss ssseee how you handle thissss&#46;&#46;&#46;&quot;|cb|n&gt;<br/>\t\t\tproperty &lt;Mordack; not dragon&gt;<br/>\t\t\tproperty &lt;Mordack; cobra&gt;<br/>\t\t\ttimeron &lt;mordack_cobra&gt;<br/>\t\t&#125;<br/>\t&#125;<br/>\tchoice &lt;weasel&gt; &#123;<br/>\t\tif property &lt;Mordack; insect&gt; then &#123;<br/>\t\t\tmsg &lt;Graham casts the weasel spell on himself and he immediately changes form into a weasel&#46;|n&gt;<br/>\t\t\twait &lt;press any key&gt;<br/>\t\t\tmsg &lt;Mordack &#40;as the insect&#41; swoops down on Graham &#40;as the weasel&#41; and eats him whole&#46;|n&gt;<br/>\t\t\ttimeroff &lt;mordack_insect&gt;<br/>\t\t\twait &lt;press any key&gt;<br/>\t\t\tmsg &lt;Perhaps there was another spell Graham could have used&#46;|n&gt;<br/>\t\t\twait &lt;press any key&gt;<br/>\t\t\tplayerlose<br/>\t\t&#125;<br/>\t\tif property &lt;Mordack; dragon&gt; then &#123;<br/>\t\t\tmsg &lt;Graham casts the weasel spell on himself and he instantly changes into the form of a weasel&#46;|n&gt;<br/>\t\t\twait &lt;press any key&gt;<br/>\t\t\tmsg &lt;Mordack &#40;as the dragon&#41; blows a gust of fire at Graham &#40;as the weasel&#41; and consumes him completely killing Graham quite quickly&#46;|n&gt;<br/>\t\t\ttimeroff &lt;mordack_dragon&gt;<br/>\t\t\twait &lt;press any key&gt;<br/>\t\t\tmsg &lt;Maybe there is another spell that Graham should try&#46;|n&gt;<br/>\t\t\twait &lt;press any key&gt;<br/>\t\t\tplayerlose<br/>\t\t&#125;<br/>\t\tif property &lt;Mordack; fire&gt; then &#123;<br/>\t\t\tmsg &lt;Graham cast the weasel spell on himself and his body changes into the form of a weasel instantly&#46;|n&gt;<br/>\t\t\twait &lt;press any key&gt;<br/>\t\t\tmsg &lt;Mordack &#40;as the fire&#41; surrounds Graham &#40;as the weasel&#41; and consumes him quickly&#46;  |nIt does not take long for Graham to pass away&#46;|n&gt;<br/>\t\t\ttimeroff &lt;mordack_fire&gt;<br/>\t\t\twait &lt;press any key&gt;<br/>\t\t\tmsg &lt;Perhaps there was a different spell Graham could use&#46;|n&gt;<br/>\t\t\twait &lt;press any key&gt;<br/>\t\t\tplayerlose<br/>\t\t&#125;<br/>\t\tif property &lt;Mordack; cobra&gt; then &#123;<br/>\t\t\ttimeroff &lt;mordack_cobra&gt;<br/>\t\t\tmsg &lt;Graham casts the weasel spell on himself changing him into the form of a weasel instantly&#46;|n&gt;<br/>\t\t\twait &lt;press any key&gt;<br/>\t\t\tmsg &lt;Mordack &#40;as the cobra&#41; slithers up to Graham &#40;as the weasel&#41; and tries to bite at him&#46;|n|nUsing quick weasel reflexes, Graham jumps up and bites the neck of the king cobra and shakes his head violently&#46;|n&gt;<br/>\t\t\twait &lt;press any key&gt;<br/>\t\t\tmsg &lt;|cl&quot;Aaahhh!  Cursssessss!&quot;|cb Mordack slithers away quickly&#46;|n&gt;<br/>\t\t\twait &lt;press any key&gt;<br/>\t\t\tmsg &lt;|cl&quot;Thisss isss the end of you, Graham!&quot;|cb Mordack screams as he begins to change into a very real ring of fire across the floor surrounding Graham entirely&#46;|n&gt;<br/>\t\t\tproperty &lt;Mordack; not cobra&gt;<br/>\t\t\tproperty &lt;Mordack; fire&gt;<br/>\t\t\ttimeron &lt;mordack_fire&gt;<br/>\t\t&#125;<br/>\t&#125;<br/>\tchoice &lt;rain&gt; &#123;<br/>\t\tif property &lt;Mordack; insect&gt; then &#123;<br/>\t\t\tmsg &lt;Graham casts the rain spell on himself and a small rain cloud immediately appears over his head and begins to pour down heavy rain on Graham&#46;|n&gt;<br/>\t\t\twait &lt;press any key&gt;<br/>\t\t\tmsg &lt;Mordack &#40;as the insect&#41; swoops down on Graham covered with rain and eats him whole&#46;|n&gt;<br/>\t\t\ttimeroff &lt;mordack_insect&gt;<br/>\t\t\twait &lt;press any key&gt;<br/>\t\t\tmsg &lt;Perhaps there was another spell Graham could have used&#46;|n&gt;<br/>\t\t\twait &lt;press any key&gt;<br/>\t\t\tplayerlose<br/>\t\t&#125;<br/>\t\tif property &lt;Mordack; dragon&gt; then &#123;<br/>\t\t\tmsg &lt;Graham casts the rain spell on himself and a small rain cloud immediately appears over his head and begins to pour down heavy rain on Graham&#46;|n&gt;<br/>\t\t\twait &lt;press any key&gt;<br/>\t\t\tmsg &lt;Mordack &#40;as the dragon&#41; blows a gust of fire at Graham covered with rain but it was not enough to stop the dragon's fire&#46;|nIt quickly consumes Graham and he dies&#46;|n|n&gt;<br/>\t\t\ttimeroff &lt;mordack_dragon&gt;<br/>\t\t\twait &lt;press any key&gt;<br/>\t\t\tmsg &lt;Maybe there is another spell that Graham should try&#46;|n&gt;<br/>\t\t\twait &lt;press any key&gt;<br/>\t\t\tplayerlose<br/>\t\t&#125;<br/>\t\tif property &lt;Mordack; cobra&gt; then &#123;<br/>\t\t\tmsg &lt;Graham casts the rain spell on himself and a small rain cloud immediately appears over his head and begins to pour down heavy rain on Graham&#46;|n&gt;<br/>\t\t\twait &lt;press any key&gt;<br/>\t\t\tmsg &lt;Mordack &#40;as the cobra&#41; slithers up to Graham covered with rain and bites him quickly on the neck&#46;|n&gt;<br/>\t\t\ttimeroff &lt;mordack_cobra&gt;<br/>\t\t\twait &lt;press any key&gt;<br/>\t\t\tmsg &lt;After a few moments, Graham falls to the floor dead&#46;|n|nPerhaps there was another spell Graham could use&#46;|n&gt;<br/>\t\t\twait &lt;press any key&gt;<br/>\t\t\tplayerlose<br/>\t\t&#125;<br/>\t\tif property &lt;Mordack; fire&gt; then &#123;<br/>\t\t\ttimeroff &lt;mordack_fire&gt;<br/>\t\t\tmsg &lt;Graham casts the rain spell on himself and a small rain cloud immediately appears over his head and begins to pour down heavy rain on Graham&#46;|n&gt;<br/>\t\t\twait &lt;press any key&gt;<br/>\t\t\tmsg &lt;Mordack &#40;as the fire&#41; surrounds Graham and the rain pours down on both of them washing out the fire&#46;|n&gt;<br/>\t\t\twait &lt;press any key&gt;<br/>\t\t\tmsg &lt;Mordack is gone!  Graham has won!|n&gt;<br/>\t\t\twait &lt;press any key&gt;<br/>\t\t\tdo &lt;end of story&gt;<br/>\t\t&#125;<br/>\t&#125;<br/>end define<br/><br/></code></pre>",
      "PostDate": "2005-12-13T06:29:41+00:00",
      "LastEditDate": null
    }
  ]
}
