{
  "Topic": {
    "TopicId": "4849",
    "ForumId": "10",
    "Title": "Controlling order of events",
    "LastUpdated": "2014-12-02T23:36:35+00:00",
    "ReplyCount": 6
  },
  "Posts": [
    {
      "PostId": "32280",
      "UserId": 0,
      "Username": "OurJud",
      "UserAvatar": "7473_1417206896.jpg",
      "UserGravatar": "7892e1059c02a91b34ffd60deb7402ff",
      "EditableText": "I'm just putting out feelers here, as I'm not entirely sure I'm going to take my game down this route as I need to consider if it will be too frustrating, but if I wanted different interactions with NPCs playing out differently depending on whether the player had done something else, how would I go about it?\n\nIf the player was tasked with investigating a murder, and needed to speak to two people to get information (let's call these people John and Bill), and you needed some piece of information from John, before Bill would give up [i:p7tpg5zf]his[/i:p7tpg5zf] information, this would be done with a simple flag. Set the flag on John, and then check for that flag when he speaks to Bill. If player has the flag, Bill talks, if not he tells you nothing (not quite sure how you'd set this flag to determine the relevant dialogue exchanged had taken place, rather than the player just having visited the same location as John without actually speaking with him), but that's the principal.\n\nBut how would I do this if there were more than two NPC that you needed information from? Is there such a script as 'if player has [flagname1] and [flagname2], then...' ?",
      "EditableFormat": "bbcode",
      "HTML": "I'm just putting out feelers here, as I'm not entirely sure I'm going to take my game down this route as I need to consider if it will be too frustrating, but if I wanted different interactions with NPCs playing out differently depending on whether the player had done something else, how would I go about it?<br/><br/>If the player was tasked with investigating a murder, and needed to speak to two people to get information (let's call these people John and Bill), and you needed some piece of information from John, before Bill would give up <span style=\"font-style:italic;\">his</span> information, this would be done with a simple flag. Set the flag on John, and then check for that flag when he speaks to Bill. If player has the flag, Bill talks, if not he tells you nothing (not quite sure how you'd set this flag to determine the relevant dialogue exchanged had taken place, rather than the player just having visited the same location as John without actually speaking with him), but that's the principal.<br/><br/>But how would I do this if there were more than two NPC that you needed information from? Is there such a script as 'if player has [flagname1] and [flagname2], then...' ?",
      "PostDate": "2014-12-02T02:02:09+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "32292",
      "UserId": 0,
      "Username": "HegemonKhan",
      "UserAvatar": null,
      "UserGravatar": "a96cf34d8d97c57de38f54ee22b1759b",
      "EditableText": "simpliest method is:\n\nInteger Attribute Flags:\n\nGlobal:\n\ngame.event_flag = 0\nif (game.event_flag = 0) {\n-&gt; do script(s) 1\n} else if (game.event_flag = 1) {\n-&gt; do script(s) 2\n} else if (game.event_flag = 2) {\n-&gt; do script(s) 3\n(.... etc.....)\n} else if (game.event_flag = 100) {\n-&gt; do script(s) 101\n}\n\nand you can have more than just one such Integer Attribute Flag, of course:\n\ngame.event_flag = 0\ngame.dialogue_flag = 0\ngame.monster_level_flag = 0\ngame.item_drop_level_flag = 0\ngame.weather_flag = 0\netc etc etc\n\nLocally:\n\nObject: orc_1\norc_1.dialogue_flag = 0\n\nObject: dragon_1\ndragon_1.dialogue_flag = 0\n\nObject: npc_1\nnpc_1.dialogue_flag = 0\n\nObject: npc_2\nnpc_2.dialogue_flag = 0\n\n------------------\n\nObject: npc_1\nVerb: talk:\nif (npc_1.dialogue_flag = 0 and npc_2.dialogue_flag = 0) {\n-&gt; msg (&quot;blah A&quot;)\n} else if (npc_1.dialogue_flag = 1 and npc_2.dialogue_flag = 0) {\n-&gt; msg (&quot;blah B&quot;)\n} else if (npc_1.dialogue_flag = 0 and npc_2.dialogue_flag = 1) {\n-&gt; msg (&quot;blah C&quot;)\n} else if (npc_1.dialogue_flag = 1 and npc_2.dialogue_flag = 1) {\n-&gt; msg (&quot;blah D&quot;)\n} else if (npc_1.dialogue_flag = 2 and npc_2.dialogue_flag = 0) {\n-&gt; msg (&quot;blah E&quot;)\n}\n\nObject: npc_2\nVerb: talk:\nif (npc_1.dialogue_flag = 0 and npc_2.dialogue_flag = 0) {\n-&gt; msg (&quot;blah Z&quot;)\n} else if (npc_1.dialogue_flag = 1 and npc_2.dialogue_flag = 0) {\n-&gt; msg (&quot;blah Y&quot;)\n} else if (npc_1.dialogue_flag = 0 and npc_2.dialogue_flag = 1) {\n-&gt; msg (&quot;blah X&quot;)\n} else if (npc_1.dialogue_flag = 1 and npc_2.dialogue_flag = 1) {\n-&gt; msg (&quot;blah W&quot;)\n} else if (npc_1.dialogue_flag = 2 and npc_2.dialogue_flag = 0) {\n-&gt; msg (&quot;blah V &quot;)\n}\n\n---------\n\nor, the other alternative is using Lists and~or Dictionaries Attributes, as opposed to 'flag' Integer (or Boolean) Attributes.",
      "EditableFormat": "bbcode",
      "HTML": "simpliest method is:<br/><br/>Integer Attribute Flags:<br/><br/>Global:<br/><br/>game.event_flag = 0<br/>if (game.event_flag = 0) {<br/>-&gt; do script(s) 1<br/>} else if (game.event_flag = 1) {<br/>-&gt; do script(s) 2<br/>} else if (game.event_flag = 2) {<br/>-&gt; do script(s) 3<br/>(.... etc.....)<br/>} else if (game.event_flag = 100) {<br/>-&gt; do script(s) 101<br/>}<br/><br/>and you can have more than just one such Integer Attribute Flag, of course:<br/><br/>game.event_flag = 0<br/>game.dialogue_flag = 0<br/>game.monster_level_flag = 0<br/>game.item_drop_level_flag = 0<br/>game.weather_flag = 0<br/>etc etc etc<br/><br/>Locally:<br/><br/>Object: orc_1<br/>orc_1.dialogue_flag = 0<br/><br/>Object: dragon_1<br/>dragon_1.dialogue_flag = 0<br/><br/>Object: npc_1<br/>npc_1.dialogue_flag = 0<br/><br/>Object: npc_2<br/>npc_2.dialogue_flag = 0<br/><br/>------------------<br/><br/>Object: npc_1<br/>Verb: talk:<br/>if (npc_1.dialogue_flag = 0 and npc_2.dialogue_flag = 0) {<br/>-&gt; msg (&quot;blah A&quot;)<br/>} else if (npc_1.dialogue_flag = 1 and npc_2.dialogue_flag = 0) {<br/>-&gt; msg (&quot;blah B&quot;)<br/>} else if (npc_1.dialogue_flag = 0 and npc_2.dialogue_flag = 1) {<br/>-&gt; msg (&quot;blah C&quot;)<br/>} else if (npc_1.dialogue_flag = 1 and npc_2.dialogue_flag = 1) {<br/>-&gt; msg (&quot;blah D&quot;)<br/>} else if (npc_1.dialogue_flag = 2 and npc_2.dialogue_flag = 0) {<br/>-&gt; msg (&quot;blah E&quot;)<br/>}<br/><br/>Object: npc_2<br/>Verb: talk:<br/>if (npc_1.dialogue_flag = 0 and npc_2.dialogue_flag = 0) {<br/>-&gt; msg (&quot;blah Z&quot;)<br/>} else if (npc_1.dialogue_flag = 1 and npc_2.dialogue_flag = 0) {<br/>-&gt; msg (&quot;blah Y&quot;)<br/>} else if (npc_1.dialogue_flag = 0 and npc_2.dialogue_flag = 1) {<br/>-&gt; msg (&quot;blah X&quot;)<br/>} else if (npc_1.dialogue_flag = 1 and npc_2.dialogue_flag = 1) {<br/>-&gt; msg (&quot;blah W&quot;)<br/>} else if (npc_1.dialogue_flag = 2 and npc_2.dialogue_flag = 0) {<br/>-&gt; msg (&quot;blah V &quot;)<br/>}<br/><br/>---------<br/><br/>or, the other alternative is using Lists and~or Dictionaries Attributes, as opposed to 'flag' Integer (or Boolean) Attributes.",
      "PostDate": "2014-12-02T07:22:53+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "32294",
      "UserId": 0,
      "Username": "OurJud",
      "UserAvatar": "7473_1417206896.jpg",
      "UserGravatar": "7892e1059c02a91b34ffd60deb7402ff",
      "EditableText": "Thanks, HK. I'll need to study this and have a play around before it starts to click, but thanks <!-- s:) --><img src=\"{SMILIES_PATH}/icon_smile.gif\" alt=\":)\" title=\"Smile\" /><!-- s:) -->",
      "EditableFormat": "bbcode",
      "HTML": "Thanks, HK. I'll need to study this and have a play around before it starts to click, but thanks <!-- s:) --><img src=\"{SMILIES_PATH}/icon_smile.gif\" alt=\":)\" title=\"Smile\" /><!-- s:) -->",
      "PostDate": "2014-12-02T07:36:27+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "32301",
      "UserId": 0,
      "Username": "HegemonKhan",
      "UserAvatar": null,
      "UserGravatar": "a96cf34d8d97c57de38f54ee22b1759b",
      "EditableText": "with Boolean Attributes, you're limited to only two cases: (1) false or (2) true, for your flags:\nif (1:false), do this scripts1; else if (2:true), do this scripts2\nexamples:\ngame.killed_evil_wizard_boolean_flag = false -&gt; true\ngame.acquired_dragon_slayer_sword_boolean_flag = false -&gt; true\ngame.killed_dragon_boolean_flag = false -&gt; true\ngame.rescued_princess_boolean_flag = false -&gt; true\n\nwhereas....\n\nwith Integer Attributes, you've got an infinite number of cases: (1) 0, (2) 1, (3) 2, (4) 3, ... (101) 100 ... (100,000,000,001) 100,000,000,000 ... to infinity, and also in the negative value direction too: (5) -1, (6) -2, (7) -3, ... (100,000,001) -100,000,000 to negative infinity\nif (y =0), do this scripts1; else if (y=1), do this scripts2; else if (y=2), do this scripts3; else if (y=3), do this scripts 4; etc etc etc\n\nand the same with Lists~Dictionaries too, infinite cases for your flags",
      "EditableFormat": "bbcode",
      "HTML": "with Boolean Attributes, you're limited to only two cases: (1) false or (2) true, for your flags:<br/>if (1:false), do this scripts1; else if (2:true), do this scripts2<br/>examples:<br/>game.killed_evil_wizard_boolean_flag = false -&gt; true<br/>game.acquired_dragon_slayer_sword_boolean_flag = false -&gt; true<br/>game.killed_dragon_boolean_flag = false -&gt; true<br/>game.rescued_princess_boolean_flag = false -&gt; true<br/><br/>whereas....<br/><br/>with Integer Attributes, you've got an infinite number of cases: (1) 0, (2) 1, (3) 2, (4) 3, ... (101) 100 ... (100,000,000,001) 100,000,000,000 ... to infinity, and also in the negative value direction too: (5) -1, (6) -2, (7) -3, ... (100,000,001) -100,000,000 to negative infinity<br/>if (y =0), do this scripts1; else if (y=1), do this scripts2; else if (y=2), do this scripts3; else if (y=3), do this scripts 4; etc etc etc<br/><br/>and the same with Lists~Dictionaries too, infinite cases for your flags",
      "PostDate": "2014-12-02T08:25:13+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "32308",
      "UserId": 0,
      "Username": "HegemonKhan",
      "UserAvatar": null,
      "UserGravatar": "a96cf34d8d97c57de38f54ee22b1759b",
      "EditableText": "with dialogue (between two or more npcs), conceptually, you're doing: a '3 way handshake' (coding~programming), as you got to check on both (or all) of their states (flags), to determine what the response~output will be for that scenario of their states.\n\n<!-- m --><a class=\"postlink\" href=\"http://www.inetdaemon.com/tutorials/internet/tcp/3-way_handshake.shtml\">http://www.inetdaemon.com/tutorials/int ... hake.shtml</a><!-- m -->\n\n1. HK says (sends) 'hi' SYN to OJ\n2. OJ says (sends) 'yes, I heard your &quot;hi&quot; to me' ACK to HK, and also OJ says (sends) 'hi' SYN to HK. Aka, a SYN-ACK is sent to HK.\n(2.5. if OJ doesn't send the ACK to HK, then HK will resend his 'hi' SYN to OJ)\n3. HK says (sends) 'yes, I heard your &quot;hi&quot; to me' ACK to OJ\n(3.5. if HK doesn't send the ACK to OJ, then OJ will resend his 'hi' SYN to HK)\n4. Greetings completed.\n\nand we ourselves do this too, but our brains do it instantaneously, so we're completely unaware that we do communication exactly as how computers do communication, as there's ONLY 1 WAY to communicate, which is why humans and computers use the same method to communicate: it is the only method to communicate!\n\n---------\n\nhere's an analogy example:\n\nbob, bill, red shirts, blue shirts\n\nhow many combinations do we have?\n\n1. bob:red and bill:blue\n2. bob:red and bill:red\n3. bob:blue and bill:red\n4. bob:blue and bill:blue\n\nif (bob:red and bill:red) {\n-&gt; msg (blah1)\n} else if (bob:red and bill:blue) {\n-&gt; msg (blah2)\n} else if (bob:blue and bill:red) {\n-&gt; msg (&quot;blah3)\n} else if (bob:blue and bill:blue) {\n-&gt; msg (&quot;blah4&quot;)\n}\n\n---------------\n\nnpc1 = bob\nnpc2 = bill\nred shirt = 0\nblue shirt = 1\n\nif (npc1.shirt = 0 and npc2.shirt = 0) {\n-&gt; msg (&quot;blah1&quot;)\n} else if (npc1.shirt = 0 and npc2.shirt = 1) {\n-&gt; msg (&quot;blah2&quot;)\n} else if (npc1.shirt = 1 and npc2.shirt = 0) {\n-&gt; msg (&quot;blah3&quot;)\n} else if (npc1.shirt = 1 and npc2.shirt = 1) {\n-&gt; msg (&quot;blah1&quot;)\n}\n\n-------------\n\nbill.dialogue = 0\nbob.dialogue = 0\n\nBill:\nVerb: talk\nif (bill.dialogue = 0 and bob.dialogue = 0) {\n-&gt; msg (&quot;Hi, I'm Bill. Go say hi to my friend Bob.&quot;)\n-&gt; bill.dialogue = 1\n} else if (bill.dialogue = 0 and bob.dialogue = 1) {\n-&gt; msg (&quot;Hi, I'm Bill. I see you already met my friend, Bob.&quot;)\n-&gt; bill.dialogue = 1\n} else if (bill.dialogue = 1 and bob.dialogue = 0) {\n-&gt; msg (&quot;Go say hi to my friend bob.&quot;)\n} else if (bill.dialogue = 1 and bob.dialogue = 1) {\n-&gt; msg (&quot;Go say goodbye to my friend, bob.&quot;)\n-&gt; bill.dialogue = 2\n} else if (bill.dialogue = 2 and bob.dialogue = 1) {\n-&gt; msg (&quot;Again, Go say goodbye to my friend, bob.&quot;)\n} else if (bill.dialogue = 2 and bob.dialogue = 2) {\n-&gt; msg (&quot;You've won the game!&quot;)\n-&gt; finish\n}\n\nBob:\nVerb: talk\nif (bill.dialogue = 0 and bob.dialogue = 0) {\n-&gt; msg (&quot;Hi, I'm Bob. Go say hi to my friend bill.&quot;)\n-&gt; bob.dialogue = 1\n} else if (bill.dialogue = 0 and bob.dialogue = 1) {\n-&gt; msg (&quot;Go say hi to my friend Bill.&quot;)\n} else if (bill.dialogue = 1 and bob.dialogue = 0) {\n-&gt; msg (&quot;Hi, I'm Bob. I see you already met my friend, Bill.&quot;)\n-&gt; bob.dialogue = 1\n} else if (bill.dialogue = 1 and bob.dialogue = 1) {\n-&gt; msg (&quot;Go say goodbye to my friend, bill.&quot;)\n-&gt; bob.dialogue = 2\n} else if (bill.dialogue = 1 and bob.dialogue = 2) {\n-&gt; msg (&quot;Again, Go say goodbye to my friend, bill.&quot;)\n} else if (bill.dialogue = 2 and bob.dialogue = 2) {\n-&gt; msg (&quot;You've won the game!&quot;)\n-&gt; finish\n}",
      "EditableFormat": "bbcode",
      "HTML": "with dialogue (between two or more npcs), conceptually, you're doing: a '3 way handshake' (coding~programming), as you got to check on both (or all) of their states (flags), to determine what the response~output will be for that scenario of their states.<br/><br/><!-- m --><a class=\"postlink\" href=\"http://www.inetdaemon.com/tutorials/internet/tcp/3-way_handshake.shtml\">http://www.inetdaemon.com/tutorials/int ... hake.shtml</a><!-- m --><br/><br/>1. HK says (sends) 'hi' SYN to OJ<br/>2. OJ says (sends) 'yes, I heard your &quot;hi&quot; to me' ACK to HK, and also OJ says (sends) 'hi' SYN to HK. Aka, a SYN-ACK is sent to HK.<br/>(2.5. if OJ doesn't send the ACK to HK, then HK will resend his 'hi' SYN to OJ)<br/>3. HK says (sends) 'yes, I heard your &quot;hi&quot; to me' ACK to OJ<br/>(3.5. if HK doesn't send the ACK to OJ, then OJ will resend his 'hi' SYN to HK)<br/>4. Greetings completed.<br/><br/>and we ourselves do this too, but our brains do it instantaneously, so we're completely unaware that we do communication exactly as how computers do communication, as there's ONLY 1 WAY to communicate, which is why humans and computers use the same method to communicate: it is the only method to communicate!<br/><br/>---------<br/><br/>here's an analogy example:<br/><br/>bob, bill, red shirts, blue shirts<br/><br/>how many combinations do we have?<br/><br/>1. bob:red and bill:blue<br/>2. bob:red and bill:red<br/>3. bob:blue and bill:red<br/>4. bob:blue and bill:blue<br/><br/>if (bob:red and bill:red) {<br/>-&gt; msg (blah1)<br/>} else if (bob:red and bill:blue) {<br/>-&gt; msg (blah2)<br/>} else if (bob:blue and bill:red) {<br/>-&gt; msg (&quot;blah3)<br/>} else if (bob:blue and bill:blue) {<br/>-&gt; msg (&quot;blah4&quot;)<br/>}<br/><br/>---------------<br/><br/>npc1 = bob<br/>npc2 = bill<br/>red shirt = 0<br/>blue shirt = 1<br/><br/>if (npc1.shirt = 0 and npc2.shirt = 0) {<br/>-&gt; msg (&quot;blah1&quot;)<br/>} else if (npc1.shirt = 0 and npc2.shirt = 1) {<br/>-&gt; msg (&quot;blah2&quot;)<br/>} else if (npc1.shirt = 1 and npc2.shirt = 0) {<br/>-&gt; msg (&quot;blah3&quot;)<br/>} else if (npc1.shirt = 1 and npc2.shirt = 1) {<br/>-&gt; msg (&quot;blah1&quot;)<br/>}<br/><br/>-------------<br/><br/>bill.dialogue = 0<br/>bob.dialogue = 0<br/><br/>Bill:<br/>Verb: talk<br/>if (bill.dialogue = 0 and bob.dialogue = 0) {<br/>-&gt; msg (&quot;Hi, I'm Bill. Go say hi to my friend Bob.&quot;)<br/>-&gt; bill.dialogue = 1<br/>} else if (bill.dialogue = 0 and bob.dialogue = 1) {<br/>-&gt; msg (&quot;Hi, I'm Bill. I see you already met my friend, Bob.&quot;)<br/>-&gt; bill.dialogue = 1<br/>} else if (bill.dialogue = 1 and bob.dialogue = 0) {<br/>-&gt; msg (&quot;Go say hi to my friend bob.&quot;)<br/>} else if (bill.dialogue = 1 and bob.dialogue = 1) {<br/>-&gt; msg (&quot;Go say goodbye to my friend, bob.&quot;)<br/>-&gt; bill.dialogue = 2<br/>} else if (bill.dialogue = 2 and bob.dialogue = 1) {<br/>-&gt; msg (&quot;Again, Go say goodbye to my friend, bob.&quot;)<br/>} else if (bill.dialogue = 2 and bob.dialogue = 2) {<br/>-&gt; msg (&quot;You've won the game!&quot;)<br/>-&gt; finish<br/>}<br/><br/>Bob:<br/>Verb: talk<br/>if (bill.dialogue = 0 and bob.dialogue = 0) {<br/>-&gt; msg (&quot;Hi, I'm Bob. Go say hi to my friend bill.&quot;)<br/>-&gt; bob.dialogue = 1<br/>} else if (bill.dialogue = 0 and bob.dialogue = 1) {<br/>-&gt; msg (&quot;Go say hi to my friend Bill.&quot;)<br/>} else if (bill.dialogue = 1 and bob.dialogue = 0) {<br/>-&gt; msg (&quot;Hi, I'm Bob. I see you already met my friend, Bill.&quot;)<br/>-&gt; bob.dialogue = 1<br/>} else if (bill.dialogue = 1 and bob.dialogue = 1) {<br/>-&gt; msg (&quot;Go say goodbye to my friend, bill.&quot;)<br/>-&gt; bob.dialogue = 2<br/>} else if (bill.dialogue = 1 and bob.dialogue = 2) {<br/>-&gt; msg (&quot;Again, Go say goodbye to my friend, bill.&quot;)<br/>} else if (bill.dialogue = 2 and bob.dialogue = 2) {<br/>-&gt; msg (&quot;You've won the game!&quot;)<br/>-&gt; finish<br/>",
      "PostDate": "2014-12-02T08:56:41+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "32325",
      "UserId": 0,
      "Username": "The Pixie",
      "UserAvatar": null,
      "UserGravatar": "cfa37e927f96177bcf6053ae8f108f77",
      "EditableText": "[quote=&quot;OurJud&quot;:27qfm2yd]I'm just putting out feelers here, as I'm not entirely sure I'm going to take my game down this route as I need to consider if it will be too frustrating, but if I wanted different interactions with NPCs playing out differently depending on whether the player had done something else, how would I go about it?\n\nIf the player was tasked with investigating a murder, and needed to speak to two people to get information (let's call these people John and Bill), and you needed some piece of information from John, before Bill would give up [i:27qfm2yd]his[/i:27qfm2yd] information, this would be done with a simple flag. Set the flag on John, and then check for that flag when he speaks to Bill. If player has the flag, Bill talks, if not he tells you nothing (not quite sure how you'd set this flag to determine the relevant dialogue exchanged had taken place, rather than the player just having visited the same location as John without actually speaking with him), but that's the principal.\n\nBut how would I do this if there were more than two NPC that you needed information from? Is there such a script as 'if player has [flagname1] and [flagname2], then...' ?[/quote:27qfm2yd]\nThe simplest way is to have the flags on Bill and John (set a Boolean attribute on both of them, perhaps called flag).\n\nIn the conversation you set the flags:\n[code:27qfm2yd]msg(&quot;'Who did it?'&quot;)\nmsg(&quot;'It was John, I saw him!'&quot;)\nbill&#46;flag = true[/code:27qfm2yd]\n\nWhen talking to John, check if Bill has the flag set:\n[code:27qfm2yd]if (bill&#46;flag) {\n  msg(&quot;'I know you did it, Bill saw you&#46;'&quot;)\n  msg(&quot;'Okay, okay, I confess&#46;'&quot;)\n  john&#46;flag = true\n}\nelse {\n  msg(&quot;'Did you do it?'&quot;)\n  msg(&quot;'You can't prove anything&#46;'&quot;)\n}[/code:27qfm2yd]\n\nTo test if both have been set:\n[code:27qfm2yd]if (bill&#46;flag and john&#46;flag) {\n  msg(&quot;'I've blown the case wide open, boss!'&quot;)\n}\nelse if (bill&#46;flag) {\n  msg(&quot;'I've think I've got a witness boss&#46;'&quot;)\n}\nelse {\n  msg(&quot;'Still looking for leads here, boss&#46;'&quot;)\n}\n[/code:27qfm2yd]",
      "EditableFormat": "bbcode",
      "HTML": "<blockquote><cite>OurJud wrote:</cite>I'm just putting out feelers here, as I'm not entirely sure I'm going to take my game down this route as I need to consider if it will be too frustrating, but if I wanted different interactions with NPCs playing out differently depending on whether the player had done something else, how would I go about it?<br/><br/>If the player was tasked with investigating a murder, and needed to speak to two people to get information (let's call these people John and Bill), and you needed some piece of information from John, before Bill would give up <span style=\"font-style:italic;\">his</span> information, this would be done with a simple flag. Set the flag on John, and then check for that flag when he speaks to Bill. If player has the flag, Bill talks, if not he tells you nothing (not quite sure how you'd set this flag to determine the relevant dialogue exchanged had taken place, rather than the player just having visited the same location as John without actually speaking with him), but that's the principal.<br/><br/>But how would I do this if there were more than two NPC that you needed information from? Is there such a script as 'if player has [flagname1] and [flagname2], then...' ?</blockquote><br/>The simplest way is to have the flags on Bill and John (set a Boolean attribute on both of them, perhaps called flag).<br/><br/>In the conversation you set the flags:<br/><pre><code>msg(&quot;'Who did it?'&quot;)<br/>msg(&quot;'It was John, I saw him!'&quot;)<br/>bill&#46;flag = true</code></pre><br/><br/>When talking to John, check if Bill has the flag set:<br/><pre><code>if (bill&#46;flag) {<br/>  msg(&quot;'I know you did it, Bill saw you&#46;'&quot;)<br/>  msg(&quot;'Okay, okay, I confess&#46;'&quot;)<br/>  john&#46;flag = true<br/>}<br/>else {<br/>  msg(&quot;'Did you do it?'&quot;)<br/>  msg(&quot;'You can't prove anything&#46;'&quot;)<br/>}</code></pre><br/><br/>To test if both have been set:<br/><pre><code>if (bill&#46;flag and john&#46;flag) {<br/>  msg(&quot;'I've blown the case wide open, boss!'&quot;)<br/>}<br/>else if (bill&#46;flag) {<br/>  msg(&quot;'I've think I've got a witness boss&#46;'&quot;)<br/>}<br/>else {<br/>  msg(&quot;'Still looking for leads here, boss&#46;'&quot;)<br/>}<br/></code></pre>",
      "PostDate": "2014-12-02T13:35:07+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "32363",
      "UserId": 0,
      "Username": "OurJud",
      "UserAvatar": "7473_1417206896.jpg",
      "UserGravatar": "7892e1059c02a91b34ffd60deb7402ff",
      "EditableText": "Thanks, TP. I need to work out how to apply this pattern to more than just the two NPCs, but at least I have the bones of it now.",
      "EditableFormat": "bbcode",
      "HTML": "Thanks, TP. I need to work out how to apply this pattern to more than just the two NPCs, but at least I have the bones of it now.",
      "PostDate": "2014-12-02T23:36:35+00:00",
      "LastEditDate": null
    }
  ]
}
