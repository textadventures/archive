{
  "Topic": {
    "TopicId": "uxdndzmbpuyhb0twf4aysa",
    "ForumId": "10",
    "Title": "Making a player type a command (using if result)",
    "LastUpdated": "2017-11-28T11:56:44.3109203Z",
    "ReplyCount": 0
  },
  "Posts": [
    {
      "PostId": "8f001687-1dd3-4ec8-8f49-32a4476b8a34",
      "UserId": 329383,
      "Username": "J_J",
      "AvatarUrl": "https://secure.gravatar.com/avatar/d6dcf2651a8e3cfe546c1fe096981552?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "\r\nI have a scene where the player needs to type \"wake up\" this stops a timer that is writing the phrase wake up, and transports the player to a different room. It works... but only if the player ONLY types \"wake up.\" If they type anything else the else msg runs (one time). Then after that they can interact with the objects in the game normally, and the \"wake up\" command no longer works... meaning that the timer just continuously types wake up. \r\n\r\nWhat am I doing wrong?\r\n\r\n```\r\nelse if (Got(subway vending water)) {\r\n  firsttime {\r\n    msg (\"msg\")\r\n    if ((GetBoolean(phone, \"SamTalk\")) and (not Got(sam phone number))) {\r\n      msg (\"description.\")\r\n      MakeObjectVisible (sam phone number)\r\n      AddToInventory (sam phone number)\r\n    }\r\n  }\r\n  otherwise {\r\n    MakeObjectInvisible (subway vending water)\r\n    msg (\"description, fall asleep.\")\r\n    SetTimeout (1) {\r\n      EnableTimer (wake up)\r\n    }\r\n    SetTimeout (1) {\r\n      picture (\"firstdreamsequence.gif\")\r\n    }\r\n    get input {\r\n      if (result = \"wake up\") {\r\n        msg (\"You wake up.\")\r\n        DisableTimer (wake up)\r\n        MoveObject (player, Sketchy Room)\r\n      }\r\n      else {\r\n        msg (\"bla bla msg?\")\r\n      }\r\n    }",
      "EditableFormat": "markdown",
      "HTML": "<p>I have a scene where the player needs to type \"wake up\" this stops a timer that is writing the phrase wake up, and transports the player to a different room. It works... but only if the player ONLY types \"wake up.\" If they type anything else the else msg runs (one time). Then after that they can interact with the objects in the game normally, and the \"wake up\" command no longer works... meaning that the timer just continuously types wake up.</p>\n<p>What am I doing wrong?</p>\n<pre><code>else if (Got(subway vending water)) {\n  firsttime {\n    msg (\"msg\")\n    if ((GetBoolean(phone, \"SamTalk\")) and (not Got(sam phone number))) {\n      msg (\"description.\")\n      MakeObjectVisible (sam phone number)\n      AddToInventory (sam phone number)\n    }\n  }\n  otherwise {\n    MakeObjectInvisible (subway vending water)\n    msg (\"description, fall asleep.\")\n    SetTimeout (1) {\n      EnableTimer (wake up)\n    }\n    SetTimeout (1) {\n      picture (\"firstdreamsequence.gif\")\n    }\n    get input {\n      if (result = \"wake up\") {\n        msg (\"You wake up.\")\n        DisableTimer (wake up)\n        MoveObject (player, Sketchy Room)\n      }\n      else {\n        msg (\"bla bla msg?\")\n      }\n    }\n</code></pre>\n\n",
      "PostDate": "2017-11-28T11:56:44.3109203Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "805eba26-aa21-4543-8839-34413e32fad0",
      "UserId": 318253,
      "Username": "K.V.",
      "AvatarUrl": "http://i.imgur.com/FOIjtApb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "What goes wrong?\r\n\r\nIt looks like the picture will display no matter what, but that's just a guess...\r\n\r\n...but what does it do and what does it not do?",
      "EditableFormat": "markdown",
      "HTML": "<p>What goes wrong?</p>\n<p>It looks like the picture will display no matter what, but that's just a guess...</p>\n<p>...but what does it do and what does it not do?</p>\n\n",
      "PostDate": "2017-11-28T12:35:58.4918328Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "849575a1-3442-408d-9598-036eba0c000f",
      "UserId": 329383,
      "Username": "J_J",
      "AvatarUrl": "https://secure.gravatar.com/avatar/d6dcf2651a8e3cfe546c1fe096981552?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "The picture displays, and the timer runs (which types out \"wake up\" underneath the animation). If the player ONLY types \"wake up\" it works perfectly: the timer stops, and they are transported to a different room. If they type anything besides \"wake up\" the ELSE message runs the first time. After that the result = \"wake up\" not longer works. So the timer continues to type \"wake up\" and there is no way to stop it. The player can now interact with objects in the room as if they are awake, but the timer can't be shut off, and there is no way for them to leave the room.",
      "EditableFormat": "markdown",
      "HTML": "<p>The picture displays, and the timer runs (which types out \"wake up\" underneath the animation). If the player ONLY types \"wake up\" it works perfectly: the timer stops, and they are transported to a different room. If they type anything besides \"wake up\" the ELSE message runs the first time. After that the result = \"wake up\" not longer works. So the timer continues to type \"wake up\" and there is no way to stop it. The player can now interact with objects in the room as if they are awake, but the timer can't be shut off, and there is no way for them to leave the room.</p>\n\n",
      "PostDate": "2017-11-28T12:44:04.5104799Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "e9f6fff5-0eb9-4c0c-9935-8ccfc76b6dc6",
      "UserId": 318253,
      "Username": "K.V.",
      "AvatarUrl": "http://i.imgur.com/FOIjtApb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "<s>Oh..\r\n\r\n```EnableTimer (wake up)```\r\n\r\nCan you post the script for that timer?",
      "EditableFormat": "markdown",
      "HTML": "<p><s>Oh..</s></p><s>\n<p><code>EnableTimer (wake up)</code></p>\n<p>Can you post the script for that timer?</p>\n\n</s>",
      "PostDate": "2017-11-28T13:04:46.0994064Z",
      "LastEditDate": "2017-11-28T16:30:24.2194523Z",
      "link": null
    },
    {
      "PostId": "dad14a9c-6346-4f7e-847b-eb9cb28a7913",
      "UserId": 318253,
      "Username": "K.V.",
      "AvatarUrl": "http://i.imgur.com/FOIjtApb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Eh...  I don't think I need the timer, sorry about that.\r\n\r\nI would create a function that calls itself over and over until the correct input is entered, name it **WakeFunction**:\r\n\r\n```\r\nget input {\r\n  if (result = \"wake up\") {\r\n    msg (\"You wake up.\")\r\n    DisableTimer (wake up)\r\n    MoveObject (player, Sketchy Room)\r\n  }\r\n  else {\r\n    msg (\"bla bla msg?\")\r\n    WakeFunction\r\n  }\r\n}\r\n```\r\n\r\n\r\n---\r\nThen, change what you've posted from your ```otherwise``` to this:\r\n\r\n```\r\n  otherwise {\r\n    MakeObjectInvisible (subway vending water)\r\n    msg (\"description, fall asleep.\")\r\n    SetTimeout (1) {\r\n      picture (\"firstdreamsequence.gif\")\r\n      EnableTimer (wake up)\r\n    }\r\n    WakeFunction\r\n```",
      "EditableFormat": "markdown",
      "HTML": "<p>Eh...  I don't think I need the timer, sorry about that.</p>\n<p>I would create a function that calls itself over and over until the correct input is entered, name it <strong>WakeFunction</strong>:</p>\n<pre><code>get input {\n  if (result = \"wake up\") {\n    msg (\"You wake up.\")\n    DisableTimer (wake up)\n    MoveObject (player, Sketchy Room)\n  }\n  else {\n    msg (\"bla bla msg?\")\n    WakeFunction\n  }\n}\n</code></pre>\n<hr>\n<p>Then, change what you've posted from your <code>otherwise</code> to this:</p>\n<pre><code>  otherwise {\n    MakeObjectInvisible (subway vending water)\n    msg (\"description, fall asleep.\")\n    SetTimeout (1) {\n      picture (\"firstdreamsequence.gif\")\n      EnableTimer (wake up)\n    }\n    WakeFunction\n</code></pre>\n\n",
      "PostDate": "2017-11-28T13:15:21.1031305Z",
      "LastEditDate": "2017-11-28T13:17:22.9449407Z",
      "link": null
    },
    {
      "PostId": "ddb61681-af05-4e3b-b326-b8b05f6314ba",
      "UserId": 329383,
      "Username": "J_J",
      "AvatarUrl": "https://secure.gravatar.com/avatar/d6dcf2651a8e3cfe546c1fe096981552?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Edit because I misunderstood you instructions. I will try this out. Thank you!",
      "EditableFormat": "markdown",
      "HTML": "<p>Edit because I misunderstood you instructions. I will try this out. Thank you!</p>\n\n",
      "PostDate": "2017-11-28T23:18:03.7744744Z",
      "LastEditDate": "2017-11-28T23:22:15.6163116Z",
      "link": null
    },
    {
      "PostId": "c54cf1fa-45cb-4bc7-816b-75ce3149e23e",
      "UserId": 318253,
      "Username": "K.V.",
      "AvatarUrl": "http://i.imgur.com/FOIjtApb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "No problem!\r\n\r\nI just create a function, then call the function from within itself if the player doesn't enter \"wake up\".\r\n\r\n\r\n...and, actually, you should add a line to cover capital letters, so the function would be:\r\n\r\n```\r\nget input {\r\n  result = LCase(result)\r\n  if (result = \"wake up\") {\r\n    msg (\"You wake up.\")\r\n    DisableTimer (wake up)\r\n    MoveObject (player, Sketchy Room)\r\n  }\r\n  else {\r\n    msg (\"bla bla msg?\")\r\n    WakeFunction\r\n  }\r\n}\r\n```",
      "EditableFormat": "markdown",
      "HTML": "<p>No problem!</p>\n<p>I just create a function, then call the function from within itself if the player doesn't enter \"wake up\".</p>\n<p>...and, actually, you should add a line to cover capital letters, so the function would be:</p>\n<pre><code>get input {\n  result = LCase(result)\n  if (result = \"wake up\") {\n    msg (\"You wake up.\")\n    DisableTimer (wake up)\n    MoveObject (player, Sketchy Room)\n  }\n  else {\n    msg (\"bla bla msg?\")\n    WakeFunction\n  }\n}\n</code></pre>\n\n",
      "PostDate": "2017-11-29T00:58:19.9796625Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "4311b62c-a3e3-4e1b-bb49-a91570e5017d",
      "UserId": 329383,
      "Username": "J_J",
      "AvatarUrl": "https://secure.gravatar.com/avatar/d6dcf2651a8e3cfe546c1fe096981552?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "I finally got to try it out, and it works perfectly. Thank you!",
      "EditableFormat": "markdown",
      "HTML": "<p>I finally got to try it out, and it works perfectly. Thank you!</p>\n\n",
      "PostDate": "2017-11-29T12:13:23.8180113Z",
      "LastEditDate": null,
      "link": null
    }
  ]
}
