{
  "Topic": {
    "TopicId": "4241",
    "ForumId": "10",
    "Title": "Newbie Gamebook Confusion",
    "LastUpdated": "2014-04-02T16:30:37+01:00",
    "ReplyCount": 3
  },
  "Posts": [
    {
      "PostId": "28211",
      "UserId": 0,
      "Username": "werew",
      "UserAvatar": null,
      "UserGravatar": "ee987437d6b7a387324af35d81121d28",
      "EditableText": "I've started with quest not that long ago, and have been full steam ahead on a gamebook project, but I've run into a bit of functionality that I'd like to add and can't seem to figure out how to do for the life of me. \n\nI'm basically trying to add relationship levels to the characters in the story, so that if you get someone on your side, they'll be more likely to help you... but I'd rather it be a scale than using a simply &quot;if&quot; command so that the relationship level can be anywhere from -5 to 10 (or anything that works). I've tried using the &quot;set variable&quot; script, to no avail. I'm not sure if I just don't understand what I'm doing, am getting something small wrong, or am completely using the wrong kind of script for what I'm trying to do.\n\nIs this possible with gamebooks? I'm so lost with the tutorial/wiki, as I can't seem to find mention of doing something like that... but even sending me to the right page might help, if such a tutorial exists and I haven't found it.\n\nMy fail attempt can be seen in my game file under LifeintheOrder -&gt; nursery cave -&gt; pleasebemyfriend 0 FIX SCRIPT. I also tried to use script on the page &quot;pursue590 0&quot;, but that page isn't returning an error like the other one is (I dunno if that means I did it right, or that it just didn't fuss at me....)\n\nThanks in advance!",
      "EditableFormat": "bbcode",
      "HTML": "I've started with quest not that long ago, and have been full steam ahead on a gamebook project, but I've run into a bit of functionality that I'd like to add and can't seem to figure out how to do for the life of me. <br/><br/>I'm basically trying to add relationship levels to the characters in the story, so that if you get someone on your side, they'll be more likely to help you... but I'd rather it be a scale than using a simply &quot;if&quot; command so that the relationship level can be anywhere from -5 to 10 (or anything that works). I've tried using the &quot;set variable&quot; script, to no avail. I'm not sure if I just don't understand what I'm doing, am getting something small wrong, or am completely using the wrong kind of script for what I'm trying to do.<br/><br/>Is this possible with gamebooks? I'm so lost with the tutorial/wiki, as I can't seem to find mention of doing something like that... but even sending me to the right page might help, if such a tutorial exists and I haven't found it.<br/><br/>My fail attempt can be seen in my game file under LifeintheOrder -&gt; nursery cave -&gt; pleasebemyfriend 0 FIX SCRIPT. I also tried to use script on the page &quot;pursue590 0&quot;, but that page isn't returning an error like the other one is (I dunno if that means I did it right, or that it just didn't fuss at me....)<br/><br/>Thanks in advance!<div><a href=\"/attachment/870\">Life of a Dragon.aslx</a></div>",
      "PostDate": "2014-03-19T16:15:45+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "28212",
      "UserId": 0,
      "Username": "jaynabonne",
      "UserAvatar": "6579_1344778256.jpg",
      "UserGravatar": "379859a7f1952a65399fc63997e68f0b",
      "EditableText": "The problem is that a variable is local to the script where its set. So it won't persist to other pages. You can use attributes instead, by storing into an object's attribute (e.g. &quot;game.count&quot; or &quot;player.someattr&quot;).\n\nIt does look like there are some built-in gamebook function for doing what you want: counters. You can set a counter, increase and decrease a counter by one, or change a counter by an arbitrary amount. That would allow you to keep track the way you've been trying. I don't see a method to retrieve a counter, but it's just attached to the game object. You can test the value of the counter at some point with an &quot;if&quot; script. \n\nIf that won't work for you, let me know, and we can see if there's something better.",
      "EditableFormat": "bbcode",
      "HTML": "The problem is that a variable is local to the script where its set. So it won't persist to other pages. You can use attributes instead, by storing into an object's attribute (e.g. &quot;game.count&quot; or &quot;player.someattr&quot;).<br/><br/>It does look like there are some built-in gamebook function for doing what you want: counters. You can set a counter, increase and decrease a counter by one, or change a counter by an arbitrary amount. That would allow you to keep track the way you've been trying. I don't see a method to retrieve a counter, but it's just attached to the game object. You can test the value of the counter at some point with an &quot;if&quot; script. <br/><br/>If that won't work for you, let me know, and we can see if there's something better.",
      "PostDate": "2014-03-19T20:08:42+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "28214",
      "UserId": 0,
      "Username": "HegemonKhan",
      "UserAvatar": null,
      "UserGravatar": "a96cf34d8d97c57de38f54ee22b1759b",
      "EditableText": "The problem with the ' set a variable or attribute ' Script in the GUI~Editor, is that it forces the &quot;=&quot;, whereas for a range (or as you call it, a scale, if I understand your question, lol), you need the &quot;&lt;&quot;, &quot;&gt;&quot;, &quot;&lt;=&quot;, &quot;&gt;=&quot;, &quot;and&quot;, and~or &quot;or&quot;.\n\n------\n\nI never used gamebooks, but for text adventure, we'd do this:\n\n-----\n\nOperators and~or Conditionals:\n\nless than: &lt;\ngreater than: &gt;\nlesser than or equal to: &lt;=\ngreater than or equal to: &gt;=\nequals to: =\nnot equals to: &lt;&gt;\n// example: if (HK.dead &lt;&gt; true) -&gt; ' if HK is alive ', VS, if (HK.dead=true) -&gt; ' if HK is dead '\nnot equals to: not\n// example: if (not HK.dead=true) -&gt; ' if HK is alive ', VS, if (HK.dead=true) -&gt; ' if HK is dead '\nand: and\n// example: if (periodic_element.Cesium and periodic_compound.H2O), then... big explosion!\nor: or\n// example: we want to be facing to the right: if (you.turn_45_degrees_to_the_right_once or you.turn_45_degrees_to_the_left_thrice), then... you're facing to the right\n\n------\n\nrun as script -&gt; add a script -&gt; scripts -&gt; if -&gt; [EXPRESSION] -&gt; Object.Attribute &gt;= Value and Object.Attribute &lt; Value -&gt;\n-&gt; then -&gt; // whatever script(s)\n\nin code, it'd look like this (an example):\n\n[code:260a2fv3]&lt;function name=&quot;age_integer_to_string_function&quot;&gt;&lt;!&#91;CDATA&#91;\n\tif (game&#46;pov&#46;age_integer &gt;= 0 and game&#46;pov&#46;age_integer &lt; 4) {\n\t  game&#46;pov&#46;age_string = &quot;baby&quot;\n\t} else if (game&#46;pov&#46;age_integer &gt;= 4 and game&#46;pov&#46;age_integer &lt; 13) {\n\t  game&#46;pov&#46;age_string = &quot;child&quot;\n    } else if (game&#46;pov&#46;age_integer &gt;= 13 and game&#46;pov&#46;age_integer &lt; 20) {\n\t  game&#46;pov&#46;age_string = &quot;teen&quot;\n\t} else if (game&#46;pov&#46;age_integer &gt;= 20) {\n\t  game&#46;pov&#46;age_string = &quot;adult&quot;\n    }\n  &#93;&#93;&gt;&lt;/function&gt;[/code:260a2fv3]\n\n---------\n\nor using your 'relationship' Attribute (an example):\n\nif (npc.relationship_integer &lt; 0) {\n-&gt; npc.relationship_integer = 0\n} else if (npc.relationship_integer &gt; 100) {\n-&gt; npc.relationship_integer = 100\n}\nif (npc.relationship_integer &gt;= 0 and npc.relationship_integer &lt; 33) {\n-&gt; npc.relationship_string = &quot;enemy&quot;\n} else if (npc.relationship_integer &gt;= 33 and npc.relationship_integer &lt; 66) {\n-&gt; npc.relationship_string = &quot;neutral&quot;\n} else if (npc.relationship_integer &gt;= 66 and npc.relationship_integer &lt;= 100) {\n-&gt; npc.relationship_string = &quot;friend&quot;\n}\nif (npc.relationship_string = &quot;enemy&quot;) {\n-&gt; // ' fight ' scripts\n} else if (npc.relationship_string = &quot;neutral&quot;) {\n-&gt; // ' dialogue ' scripts\n} else if (npc.relationship_string = &quot;friend&quot;) {\n-&gt; // ' give gifts like items or equipment or spells to you ' scripts\n}",
      "EditableFormat": "bbcode",
      "HTML": "The problem with the ' set a variable or attribute ' Script in the GUI~Editor, is that it forces the &quot;=&quot;, whereas for a range (or as you call it, a scale, if I understand your question, lol), you need the &quot;&lt;&quot;, &quot;&gt;&quot;, &quot;&lt;=&quot;, &quot;&gt;=&quot;, &quot;and&quot;, and~or &quot;or&quot;.<br/><br/>------<br/><br/>I never used gamebooks, but for text adventure, we'd do this:<br/><br/>-----<br/><br/>Operators and~or Conditionals:<br/><br/>less than: &lt;<br/>greater than: &gt;<br/>lesser than or equal to: &lt;=<br/>greater than or equal to: &gt;=<br/>equals to: =<br/>not equals to: &lt;&gt;<br/>// example: if (HK.dead &lt;&gt; true) -&gt; ' if HK is alive ', VS, if (HK.dead=true) -&gt; ' if HK is dead '<br/>not equals to: not<br/>// example: if (not HK.dead=true) -&gt; ' if HK is alive ', VS, if (HK.dead=true) -&gt; ' if HK is dead '<br/>and: and<br/>// example: if (periodic_element.Cesium and periodic_compound.H2O), then... big explosion!<br/>or: or<br/>// example: we want to be facing to the right: if (you.turn_45_degrees_to_the_right_once or you.turn_45_degrees_to_the_left_thrice), then... you're facing to the right<br/><br/>------<br/><br/>run as script -&gt; add a script -&gt; scripts -&gt; if -&gt; [EXPRESSION] -&gt; Object.Attribute &gt;= Value and Object.Attribute &lt; Value -&gt;<br/>-&gt; then -&gt; // whatever script(s)<br/><br/>in code, it'd look like this (an example):<br/><br/><pre><code>&lt;function name=&quot;age_integer_to_string_function&quot;&gt;&lt;!&#91;CDATA&#91;<br/>\tif (game&#46;pov&#46;age_integer &gt;= 0 and game&#46;pov&#46;age_integer &lt; 4) {<br/>\t  game&#46;pov&#46;age_string = &quot;baby&quot;<br/>\t} else if (game&#46;pov&#46;age_integer &gt;= 4 and game&#46;pov&#46;age_integer &lt; 13) {<br/>\t  game&#46;pov&#46;age_string = &quot;child&quot;<br/>    } else if (game&#46;pov&#46;age_integer &gt;= 13 and game&#46;pov&#46;age_integer &lt; 20) {<br/>\t  game&#46;pov&#46;age_string = &quot;teen&quot;<br/>\t} else if (game&#46;pov&#46;age_integer &gt;= 20) {<br/>\t  game&#46;pov&#46;age_string = &quot;adult&quot;<br/>    }<br/>  &#93;&#93;&gt;&lt;/function&gt;</code></pre><br/><br/>---------<br/><br/>or using your 'relationship' Attribute (an example):<br/><br/>if (npc.relationship_integer &lt; 0) {<br/>-&gt; npc.relationship_integer = 0<br/>} else if (npc.relationship_integer &gt; 100) {<br/>-&gt; npc.relationship_integer = 100<br/>}<br/>if (npc.relationship_integer &gt;= 0 and npc.relationship_integer &lt; 33) {<br/>-&gt; npc.relationship_string = &quot;enemy&quot;<br/>} else if (npc.relationship_integer &gt;= 33 and npc.relationship_integer &lt; 66) {<br/>-&gt; npc.relationship_string = &quot;neutral&quot;<br/>} else if (npc.relationship_integer &gt;= 66 and npc.relationship_integer &lt;= 100) {<br/>-&gt; npc.relationship_string = &quot;friend&quot;<br/>}<br/>if (npc.relationship_string = &quot;enemy&quot;) {<br/>-&gt; // ' fight ' scripts<br/>} else if (npc.relationship_string = &quot;neutral&quot;) {<br/>-&gt; // ' dialogue ' scripts<br/>} else if (npc.relationship_string = &quot;friend&quot;) {<br/>-&gt; // ' give gifts like items or equipment or spells to you ' scripts<br/>",
      "PostDate": "2014-03-20T05:03:17+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "28331",
      "UserId": 0,
      "Username": "werew",
      "UserAvatar": null,
      "UserGravatar": "ee987437d6b7a387324af35d81121d28",
      "EditableText": "Thanks guys, I'm a lot less confused. I'll try fussing around with the things you've said and figure out what will work. <!-- s:) --><img src=\"{SMILIES_PATH}/icon_smile.gif\" alt=\":)\" title=\"Smile\" /><!-- s:) --> (and no doubt get confused again and have to return but one step closer, eh?)\n\nEDIT: With only a little trial and error, counters works perfectly! Thanks again you two <!-- s:) --><img src=\"{SMILIES_PATH}/icon_smile.gif\" alt=\":)\" title=\"Smile\" /><!-- s:) --> (also {counter:countername} returns the value of the counter. I don't think I'll need it but it's good to know)",
      "EditableFormat": "bbcode",
      "HTML": "Thanks guys, I'm a lot less confused. I'll try fussing around with the things you've said and figure out what will work. <!-- s:) --><img src=\"{SMILIES_PATH}/icon_smile.gif\" alt=\":)\" title=\"Smile\" /><!-- s:) --> (and no doubt get confused again and have to return but one step closer, eh?)<br/><br/>EDIT: With only a little trial and error, counters works perfectly! Thanks again you two <!-- s:) --><img src=\"{SMILIES_PATH}/icon_smile.gif\" alt=\":)\" title=\"Smile\" /><!-- s:) --> (also {counter:countername} returns the value of the counter. I don't think I'll need it but it's good to know)",
      "PostDate": "2014-04-02T16:30:37+01:00",
      "LastEditDate": null
    }
  ]
}
