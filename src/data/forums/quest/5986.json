{
  "Topic": {
    "TopicId": "5986",
    "ForumId": "10",
    "Title": "Timers",
    "LastUpdated": "2016-02-24T08:52:42+00:00",
    "ReplyCount": 3
  },
  "Posts": [
    {
      "PostId": "41393",
      "UserId": 0,
      "Username": "Finn Ewan Cameron",
      "UserAvatar": null,
      "UserGravatar": "512f15d9206be10a2b5660d08921e284",
      "EditableText": "I'm pretty new to this and am still familiarising myself with all of the ins and outs. In my game, the player starts a timer that will eventually kill them if they don't take a certain action. Should they take that action they will survive the encounter and continue the game. My question is: How exactly do I stop a timer once it's been started. I've already tried using the &quot;disable timer&quot; script and it hasn't worked. I'd appreciate some assistance",
      "EditableFormat": "bbcode",
      "HTML": "I'm pretty new to this and am still familiarising myself with all of the ins and outs. In my game, the player starts a timer that will eventually kill them if they don't take a certain action. Should they take that action they will survive the encounter and continue the game. My question is: How exactly do I stop a timer once it's been started. I've already tried using the &quot;disable timer&quot; script and it hasn't worked. I'd appreciate some assistance",
      "PostDate": "2016-02-23T21:40:05+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "41398",
      "UserId": 0,
      "Username": "HegemonKhan",
      "UserAvatar": null,
      "UserGravatar": "a96cf34d8d97c57de38f54ee22b1759b",
      "EditableText": "you may want to look at this thread:\n\n<!-- l --><a class=\"postlink-local\" href=\"http://forum.textadventures.co.uk/viewtopic.php?f=10&amp;t=5961\">viewtopic.php?f=10&amp;t=5961</a><!-- l -->\n\nwhile it's about Turnscripts, maybe it also applies to your issue with Timers.",
      "EditableFormat": "bbcode",
      "HTML": "you may want to look at this thread:<br/><br/><!-- l --><a class=\"postlink-local\" href=\"http://forum.textadventures.co.uk/viewtopic.php?f=10&amp;t=5961\">viewtopic.php?f=10&amp;t=5961</a><!-- l --><br/><br/>while it's about Turnscripts, maybe it also applies to your issue with Timers.",
      "PostDate": "2016-02-23T22:24:50+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "41402",
      "UserId": 0,
      "Username": "XanMag",
      "UserAvatar": "7161_1436827710.jpg",
      "UserGravatar": "4b45a3afd18077f76f6569225c422bdb",
      "EditableText": "Ha.  Here is a really stupid &quot;game&quot; I threw together.  This is the .aslx file which you can download and view in the GUI.\n\n[attachment=0:3av2a8vs]<!-- ia0 -->Timer Time Out.aslx<!-- ia0 -->[/attachment:3av2a8vs]\n\nI'm not sure what events trigger your timer, but I used a flag that gets raised after a button is pushed.\n\n1.  I went to the 'when entering the room' tab and added a script.  Print message &quot;You accidentally push a self destruct button&quot;.  Set flag on object self destruct button flag name pushed.  Call Function name SDB.\n2.  Go to the Functions in the 'Tree of Stuff'.  Right-click, Add Function.  Name it whatever you called at the end of Step 1 (mine was 'SDB')\n3.  Choose 'Run Script after a number of seconds'.  Set your time (mine was 25 seconds).  Run 'IF' script here.  If object has flag... If object self destruct button has flag pushed, 'THEN' runs scripts to finish the game.\n4.  You can leave the 'Else' part of this blank if you choose, or choose to run some sort of script indicating the player saved the game from ending.\n---\n5.  For whatever event caused the game NOT to end after the time (in my case it was pushing the cancellation button), you need to run an 'unset object flag' script and cancel the flag that you set that was coupled with the potential game ending turn script.  \nI unset the flag pushed on the self destruct button when the cancellation button was pushed.\n\nHere is also the code for the little &quot;game&quot; if you are comfortable looking at it.\n\n[code:3av2a8vs]&lt;asl version=&quot;550&quot;&gt;\n  &lt;include ref=&quot;English&#46;aslx&quot; /&gt;\n  &lt;include ref=&quot;Core&#46;aslx&quot; /&gt;\n  &lt;game name=&quot;Timer Time Out&quot;&gt;\n    &lt;gameid&gt;99e26be6-48df-4400-ad61-0d72fc751d49&lt;/gameid&gt;\n    &lt;version&gt;1&#46;0&lt;/version&gt;\n    &lt;firstpublished&gt;2016&lt;/firstpublished&gt;\n  &lt;/game&gt;\n  &lt;object name=&quot;room&quot;&gt;\n    &lt;inherit name=&quot;editor_room&quot; /&gt;\n    &lt;enter type=&quot;script&quot;&gt;\n    &lt;/enter&gt;\n    &lt;object name=&quot;player&quot;&gt;\n      &lt;inherit name=&quot;editor_object&quot; /&gt;\n      &lt;inherit name=&quot;editor_player&quot; /&gt;\n    &lt;/object&gt;\n    &lt;exit alias=&quot;south&quot; to=&quot;room 2&quot;&gt;\n      &lt;inherit name=&quot;southdirection&quot; /&gt;\n    &lt;/exit&gt;\n  &lt;/object&gt;\n  &lt;object name=&quot;room 2&quot;&gt;\n    &lt;inherit name=&quot;editor_room&quot; /&gt;\n    &lt;description type=&quot;script&quot;&gt;\n      msg (&quot;This is the self destruct room&#46;&quot;)\n    &lt;/description&gt;\n    &lt;enter type=&quot;script&quot;&gt;&lt;!&#91;CDATA&#91;\n      firsttime {\n        if (GetBoolean(self destruct button, &quot;pushed&quot;)) {\n          msg (&quot;\\&quot;You have ten seconds to push the cancellation button&#46;\\&quot;&quot;)\n        }\n        else {\n          ShowYouTube (&quot;BKAdkbQWAJ8&quot;)\n          SetObjectFlagOn (self destruct button, &quot;pushed&quot;)\n          msg (&quot;&lt;br/&gt;You walk into the room and see your nemesis, Lonestar&#46;  Since his Schwartz is bigger than yours he overpowers you and you stumble backward into the self destruct button&#46;&lt;br/&gt;&lt;br/&gt;A voice booms, \\&quot;Thank you for pressing the self destruct button&#46;  You have 20 seconds to push the cancellation button&#46;\\&quot;&quot;)\n          SDB\n        }\n      }\n      otherwise {\n        if (GetBoolean(self destruct button, &quot;pushed&quot;)) {\n          msg (&quot;\\&quot;You have ten seconds to push the cancellation button&#46;\\&quot;&quot;)\n        }\n        else {\n          ShowYouTube (&quot;BKAdkbQWAJ8&quot;)\n          msg (&quot;&lt;br/&gt;Really?  It happened again?  Will you ever learn?  20 seconds and counting&#46;&quot;)\n          SetObjectFlagOn (self destruct button, &quot;pushed&quot;)\n          SDB\n        }\n      }\n    &#93;&#93;&gt;&lt;/enter&gt;\n    &lt;exit alias=&quot;north&quot; to=&quot;room&quot;&gt;\n      &lt;inherit name=&quot;northdirection&quot; /&gt;\n    &lt;/exit&gt;\n    &lt;object name=&quot;self destruct button&quot;&gt;\n      &lt;inherit name=&quot;editor_object&quot; /&gt;\n      &lt;look type=&quot;script&quot;&gt;\n        if (GetBoolean(self destruct button, &quot;pushed&quot;)) {\n          msg (&quot;It appears to be safely deactivated&#46;  It no longer blinks in warning&#46;&quot;)\n        }\n        else {\n          msg (&quot;It appears to have been activated&#46;  It is blinking red!&quot;)\n        }\n      &lt;/look&gt;\n      &lt;push type=&quot;script&quot;&gt;\n        if (GetBoolean(deactivation button, &quot;pushed&quot;)) {\n          msg (&quot;In hopes of deactivating it, you push it again&#46;  Nothing happens&#46;  It is still blinking and it is still active!&quot;)\n        }\n        else {\n          msg (&quot;No&#46;  You do not want to intentionally blow up the game, especially with you in it!&quot;)\n        }\n      &lt;/push&gt;\n    &lt;/object&gt;\n    &lt;exit alias=&quot;south&quot; to=&quot;room 3&quot;&gt;\n      &lt;inherit name=&quot;southdirection&quot; /&gt;\n    &lt;/exit&gt;\n  &lt;/object&gt;\n  &lt;object name=&quot;room 3&quot;&gt;\n    &lt;inherit name=&quot;editor_room&quot; /&gt;\n    &lt;object name=&quot;deactivation button&quot;&gt;\n      &lt;inherit name=&quot;editor_object&quot; /&gt;\n      &lt;look type=&quot;script&quot;&gt;\n        if (GetBoolean(deactivation button, &quot;pushed&quot;)) {\n          msg (&quot;It is slowly blinking a dull green indicating that things are normal! &quot;)\n        }\n        else {\n          msg (&quot;It is emitting no light&#46;  Maybe you should push it?&quot;)\n        }\n      &lt;/look&gt;\n      &lt;push type=&quot;script&quot;&gt;\n        if (GetBoolean(deactivation button, &quot;pushed&quot;)) {\n          msg (&quot;You push the calm green light, but nothing happens&#46;&quot;)\n        }\n        else {\n          if (GetBoolean(self destruct button, &quot;pushed&quot;)) {\n            msg (&quot;You jam your palm down on the deactivate button and it begins flashing green&#46;&quot;)\n            SetObjectFlagOn (deactivation button, &quot;pushed&quot;)\n            SetObjectFlagOff (self destruct button, &quot;pushed&quot;)\n          }\n        }\n      &lt;/push&gt;\n    &lt;/object&gt;\n    &lt;exit alias=&quot;north&quot; to=&quot;room 2&quot;&gt;\n      &lt;inherit name=&quot;northdirection&quot; /&gt;\n    &lt;/exit&gt;\n  &lt;/object&gt;\n  &lt;function name=&quot;SDB&quot;&gt;&lt;!&#91;CDATA&#91;\n    SetTimeout (25) {\n      if (GetBoolean(self destruct button, &quot;pushed&quot;)) {\n        ClearScreen\n        ShowYouTube (&quot;3UunQXXxAWY&quot;)\n        finish\n      }\n      else {\n        msg (&quot;&lt;br/&gt;\\&quot;Long Live Dark Helmet!\\&quot;&quot;)\n      }\n    }\n  &#93;&#93;&gt;&lt;/function&gt;\n&lt;/asl&gt;[/code:3av2a8vs]\n\nThe only pitfall to my game is that you can re-push the button at second 22 and 3 seconds later the game will end because it is still running even if the flag has been unset.  In other words, it does not reset the 25-second game-ending counter, but in your game that probably doesn't matter.  If your timer needs the capability of being reset, I'll have to think about how to do that...\n\nGood luck.  Let me know if it helps.\n\nLONG LIVE DARK HELMET!   <!-- s:lol: --><img src=\"{SMILIES_PATH}/icon_lol.gif\" alt=\":lol:\" title=\"Laughing\" /><!-- s:lol: -->",
      "EditableFormat": "bbcode",
      "HTML": "Ha.  Here is a really stupid &quot;game&quot; I threw together.  This is the .aslx file which you can download and view in the GUI.<br/><br/><div><a href=\"/forumattachments/1523/Timer Time Out.aslx\">Timer Time Out.aslx</a></div><br/><br/>I'm not sure what events trigger your timer, but I used a flag that gets raised after a button is pushed.<br/><br/>1.  I went to the 'when entering the room' tab and added a script.  Print message &quot;You accidentally push a self destruct button&quot;.  Set flag on object self destruct button flag name pushed.  Call Function name SDB.<br/>2.  Go to the Functions in the 'Tree of Stuff'.  Right-click, Add Function.  Name it whatever you called at the end of Step 1 (mine was 'SDB')<br/>3.  Choose 'Run Script after a number of seconds'.  Set your time (mine was 25 seconds).  Run 'IF' script here.  If object has flag... If object self destruct button has flag pushed, 'THEN' runs scripts to finish the game.<br/>4.  You can leave the 'Else' part of this blank if you choose, or choose to run some sort of script indicating the player saved the game from ending.<br/>---<br/>5.  For whatever event caused the game NOT to end after the time (in my case it was pushing the cancellation button), you need to run an 'unset object flag' script and cancel the flag that you set that was coupled with the potential game ending turn script.  <br/>I unset the flag pushed on the self destruct button when the cancellation button was pushed.<br/><br/>Here is also the code for the little &quot;game&quot; if you are comfortable looking at it.<br/><br/><pre><code>&lt;asl version=&quot;550&quot;&gt;<br/>  &lt;include ref=&quot;English&#46;aslx&quot; /&gt;<br/>  &lt;include ref=&quot;Core&#46;aslx&quot; /&gt;<br/>  &lt;game name=&quot;Timer Time Out&quot;&gt;<br/>    &lt;gameid&gt;99e26be6-48df-4400-ad61-0d72fc751d49&lt;/gameid&gt;<br/>    &lt;version&gt;1&#46;0&lt;/version&gt;<br/>    &lt;firstpublished&gt;2016&lt;/firstpublished&gt;<br/>  &lt;/game&gt;<br/>  &lt;object name=&quot;room&quot;&gt;<br/>    &lt;inherit name=&quot;editor_room&quot; /&gt;<br/>    &lt;enter type=&quot;script&quot;&gt;<br/>    &lt;/enter&gt;<br/>    &lt;object name=&quot;player&quot;&gt;<br/>      &lt;inherit name=&quot;editor_object&quot; /&gt;<br/>      &lt;inherit name=&quot;editor_player&quot; /&gt;<br/>    &lt;/object&gt;<br/>    &lt;exit alias=&quot;south&quot; to=&quot;room 2&quot;&gt;<br/>      &lt;inherit name=&quot;southdirection&quot; /&gt;<br/>    &lt;/exit&gt;<br/>  &lt;/object&gt;<br/>  &lt;object name=&quot;room 2&quot;&gt;<br/>    &lt;inherit name=&quot;editor_room&quot; /&gt;<br/>    &lt;description type=&quot;script&quot;&gt;<br/>      msg (&quot;This is the self destruct room&#46;&quot;)<br/>    &lt;/description&gt;<br/>    &lt;enter type=&quot;script&quot;&gt;&lt;!&#91;CDATA&#91;<br/>      firsttime {<br/>        if (GetBoolean(self destruct button, &quot;pushed&quot;)) {<br/>          msg (&quot;\\&quot;You have ten seconds to push the cancellation button&#46;\\&quot;&quot;)<br/>        }<br/>        else {<br/>          ShowYouTube (&quot;BKAdkbQWAJ8&quot;)<br/>          SetObjectFlagOn (self destruct button, &quot;pushed&quot;)<br/>          msg (&quot;&lt;br/&gt;You walk into the room and see your nemesis, Lonestar&#46;  Since his Schwartz is bigger than yours he overpowers you and you stumble backward into the self destruct button&#46;&lt;br/&gt;&lt;br/&gt;A voice booms, \\&quot;Thank you for pressing the self destruct button&#46;  You have 20 seconds to push the cancellation button&#46;\\&quot;&quot;)<br/>          SDB<br/>        }<br/>      }<br/>      otherwise {<br/>        if (GetBoolean(self destruct button, &quot;pushed&quot;)) {<br/>          msg (&quot;\\&quot;You have ten seconds to push the cancellation button&#46;\\&quot;&quot;)<br/>        }<br/>        else {<br/>          ShowYouTube (&quot;BKAdkbQWAJ8&quot;)<br/>          msg (&quot;&lt;br/&gt;Really?  It happened again?  Will you ever learn?  20 seconds and counting&#46;&quot;)<br/>          SetObjectFlagOn (self destruct button, &quot;pushed&quot;)<br/>          SDB<br/>        }<br/>      }<br/>    &#93;&#93;&gt;&lt;/enter&gt;<br/>    &lt;exit alias=&quot;north&quot; to=&quot;room&quot;&gt;<br/>      &lt;inherit name=&quot;northdirection&quot; /&gt;<br/>    &lt;/exit&gt;<br/>    &lt;object name=&quot;self destruct button&quot;&gt;<br/>      &lt;inherit name=&quot;editor_object&quot; /&gt;<br/>      &lt;look type=&quot;script&quot;&gt;<br/>        if (GetBoolean(self destruct button, &quot;pushed&quot;)) {<br/>          msg (&quot;It appears to be safely deactivated&#46;  It no longer blinks in warning&#46;&quot;)<br/>        }<br/>        else {<br/>          msg (&quot;It appears to have been activated&#46;  It is blinking red!&quot;)<br/>        }<br/>      &lt;/look&gt;<br/>      &lt;push type=&quot;script&quot;&gt;<br/>        if (GetBoolean(deactivation button, &quot;pushed&quot;)) {<br/>          msg (&quot;In hopes of deactivating it, you push it again&#46;  Nothing happens&#46;  It is still blinking and it is still active!&quot;)<br/>        }<br/>        else {<br/>          msg (&quot;No&#46;  You do not want to intentionally blow up the game, especially with you in it!&quot;)<br/>        }<br/>      &lt;/push&gt;<br/>    &lt;/object&gt;<br/>    &lt;exit alias=&quot;south&quot; to=&quot;room 3&quot;&gt;<br/>      &lt;inherit name=&quot;southdirection&quot; /&gt;<br/>    &lt;/exit&gt;<br/>  &lt;/object&gt;<br/>  &lt;object name=&quot;room 3&quot;&gt;<br/>    &lt;inherit name=&quot;editor_room&quot; /&gt;<br/>    &lt;object name=&quot;deactivation button&quot;&gt;<br/>      &lt;inherit name=&quot;editor_object&quot; /&gt;<br/>      &lt;look type=&quot;script&quot;&gt;<br/>        if (GetBoolean(deactivation button, &quot;pushed&quot;)) {<br/>          msg (&quot;It is slowly blinking a dull green indicating that things are normal! &quot;)<br/>        }<br/>        else {<br/>          msg (&quot;It is emitting no light&#46;  Maybe you should push it?&quot;)<br/>        }<br/>      &lt;/look&gt;<br/>      &lt;push type=&quot;script&quot;&gt;<br/>        if (GetBoolean(deactivation button, &quot;pushed&quot;)) {<br/>          msg (&quot;You push the calm green light, but nothing happens&#46;&quot;)<br/>        }<br/>        else {<br/>          if (GetBoolean(self destruct button, &quot;pushed&quot;)) {<br/>            msg (&quot;You jam your palm down on the deactivate button and it begins flashing green&#46;&quot;)<br/>            SetObjectFlagOn (deactivation button, &quot;pushed&quot;)<br/>            SetObjectFlagOff (self destruct button, &quot;pushed&quot;)<br/>          }<br/>        }<br/>      &lt;/push&gt;<br/>    &lt;/object&gt;<br/>    &lt;exit alias=&quot;north&quot; to=&quot;room 2&quot;&gt;<br/>      &lt;inherit name=&quot;northdirection&quot; /&gt;<br/>    &lt;/exit&gt;<br/>  &lt;/object&gt;<br/>  &lt;function name=&quot;SDB&quot;&gt;&lt;!&#91;CDATA&#91;<br/>    SetTimeout (25) {<br/>      if (GetBoolean(self destruct button, &quot;pushed&quot;)) {<br/>        ClearScreen<br/>        ShowYouTube (&quot;3UunQXXxAWY&quot;)<br/>        finish<br/>      }<br/>      else {<br/>        msg (&quot;&lt;br/&gt;\\&quot;Long Live Dark Helmet!\\&quot;&quot;)<br/>      }<br/>    }<br/>  &#93;&#93;&gt;&lt;/function&gt;<br/>&lt;/asl&gt;</code></pre><br/><br/>The only pitfall to my game is that you can re-push the button at second 22 and 3 seconds later the game will end because it is still running even if the flag has been unset.  In other words, it does not reset the 25-second game-ending counter, but in your game that probably doesn't matter.  If your timer needs the capability of being reset, I'll have to think about how to do that...<br/><br/>Good luck.  Let me know if it helps.<br/><br/>LONG LIVE DARK HELMET!   <!-- s:lol: --><img src=\"{SMILIES_PATH}/icon_lol.gif\" alt=\":lol:\" title=\"Laughing\" /><!-- s:lol: -->",
      "PostDate": "2016-02-24T05:07:20+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "41404",
      "UserId": 0,
      "Username": "The Pixie",
      "UserAvatar": null,
      "UserGravatar": "cfa37e927f96177bcf6053ae8f108f77",
      "EditableText": "[quote=&quot;Finn Ewan Cameron&quot;:1ebt171e]I'm pretty new to this and am still familiarising myself with all of the ins and outs. In my game, the player starts a timer that will eventually kill them if they don't take a certain action. Should they take that action they will survive the encounter and continue the game. My question is: How exactly do I stop a timer once it's been started. I've already tried using the &quot;disable timer&quot; script and it hasn't worked. I'd appreciate some assistance[/quote:1ebt171e]\nAre you using &quot;Run script after a number of seconds&quot; (in code, the SetTimeout function)? if so, the easiest way is to let the timer get to its conclusion, and then check if the player has taken the action. If not, kill him. Here is an example:\n[attachment=0:1ebt171e]<!-- ia0 -->timer.png<!-- ia0 -->[/attachment:1ebt171e]\nSee that the &quot;If&quot; part is inside the script for the time. In this case it checks if the player is still in the room, and kills if if he is. If not, nothing happens.",
      "EditableFormat": "bbcode",
      "HTML": "<blockquote><cite>Finn Ewan Cameron wrote:</cite>I'm pretty new to this and am still familiarising myself with all of the ins and outs. In my game, the player starts a timer that will eventually kill them if they don't take a certain action. Should they take that action they will survive the encounter and continue the game. My question is: How exactly do I stop a timer once it's been started. I've already tried using the &quot;disable timer&quot; script and it hasn't worked. I'd appreciate some assistance</blockquote><br/>Are you using &quot;Run script after a number of seconds&quot; (in code, the SetTimeout function)? if so, the easiest way is to let the timer get to its conclusion, and then check if the player has taken the action. If not, kill him. Here is an example:<br/><div><img src=\"/forumattachments/1524/timer.png\" alt=\"timer.png\" /></div><br/>See that the &quot;If&quot; part is inside the script for the time. In this case it checks if the player is still in the room, and kills if if he is. If not, nothing happens.",
      "PostDate": "2016-02-24T08:52:42+00:00",
      "LastEditDate": null
    }
  ]
}