{
  "Topic": {
    "TopicId": "5893",
    "ForumId": "10",
    "Title": "Script Template",
    "LastUpdated": "2016-01-18T09:26:05+00:00",
    "ReplyCount": 7
  },
  "Posts": [
    {
      "PostId": "40741",
      "UserId": 0,
      "Username": "OurJud",
      "UserAvatar": "7473_1417206896.jpg",
      "UserGravatar": "7892e1059c02a91b34ffd60deb7402ff",
      "EditableText": "I was in two minds where to put this. I thought about Libraries and Code Samples, but then changed my mind as it's more question based.\n\nAnyway, I have a recurring scenario in most of my games, which always gives me headache when trying to account for all possibilities. I usually butcher my way through it and end up with a long and complex series of scripts, which I'm sure can be done more efficiently. I did have a template for this which I used to just copy &amp; paste, but then my PC died and all my code samples with it.\n\nThe scenario is this:\n\nThe player comes across a hut/shed which can be accessed by kicking down the door (I include a hint for this). Inside the shed is an object (doesn't matter what - let's say an axe).\n\nSo, here's a list of the things I need to cater for, and I wonder if any of you who are super proficient with scripts could provide a 'template' which will cater.\n\n• The shed location needs two descriptions - a 'first time' and 'otherwise'\n• These descriptions need to recognise and output two factors:\n1. Has the door already been smashed in?\n2. Has the axe been taken?\n\nI'll have a go at this in my own unique way, and post my efforts later to see how they compare, but please feel free to offer your own before then.\n\nPS. I realise now this will require two scripts/locations - outside the hut and inside.",
      "EditableFormat": "bbcode",
      "HTML": "I was in two minds where to put this. I thought about Libraries and Code Samples, but then changed my mind as it's more question based.<br/><br/>Anyway, I have a recurring scenario in most of my games, which always gives me headache when trying to account for all possibilities. I usually butcher my way through it and end up with a long and complex series of scripts, which I'm sure can be done more efficiently. I did have a template for this which I used to just copy &amp; paste, but then my PC died and all my code samples with it.<br/><br/>The scenario is this:<br/><br/>The player comes across a hut/shed which can be accessed by kicking down the door (I include a hint for this). Inside the shed is an object (doesn't matter what - let's say an axe).<br/><br/>So, here's a list of the things I need to cater for, and I wonder if any of you who are super proficient with scripts could provide a 'template' which will cater.<br/><br/>• The shed location needs two descriptions - a 'first time' and 'otherwise'<br/>• These descriptions need to recognise and output two factors:<br/>1. Has the door already been smashed in?<br/>2. Has the axe been taken?<br/><br/>I'll have a go at this in my own unique way, and post my efforts later to see how they compare, but please feel free to offer your own before then.<br/><br/>PS. I realise now this will require two scripts/locations - outside the hut and inside.",
      "PostDate": "2016-01-18T07:02:02+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "40744",
      "UserId": 0,
      "Username": "XanMag",
      "UserAvatar": "7161_1436827710.jpg",
      "UserGravatar": "4b45a3afd18077f76f6569225c422bdb",
      "EditableText": "I'll throw this code out there and then wonder if it is of any use.  I have a script in there that changes the room after the sixth turn in there.\n\nHere is a code for a changing script room from my tutorial game:\n\n[code:32mps84f]  &lt;object name=&quot;room that changes script once&quot;&gt;\n    &lt;inherit name=&quot;editor_room&quot; /&gt;\n    &lt;description type=&quot;script&quot;&gt;&lt;!&#91;CDATA&#91;\n      if (GetBoolean(room that changes script once, &quot;changed&quot;)) {\n        msg (&quot;&lt;b&gt;The room looks brand new&#46;  The floor is covered in carpet and the walls and ceiling got a new colorful coat of paint!&lt;/b&gt;&quot;)\n      }\n      else {\n        firsttime {\n          msg (&quot;This room will change appearance twice&#46;  The first is the following&#58;&lt;br/&gt;&lt;br/&gt;&lt;b&gt;You are in a bare room&#46;  Nothing is here&#46;  Four white walls, a ceiling, and a floor&#46;&lt;/b&gt;&lt;br/&gt;&lt;br/&gt;If you look at the room again, you will see a simplified version of the description&#46;  You can even look at the walls, ceiling, and floor&#46;&lt;br/&gt;&lt;br/&gt;These descriptions were accomplished with a first time/otherwise script&#46;  When you entered the room, a turnscript started to change the room after six turns&#46;  You'll know when to look around again&#46;&quot;)\n        }\n        otherwise {\n          msg (&quot;&lt;b&gt;Bare room&#46;  White walls and ceiling&#46;  Wooden floor&#46;&lt;/b&gt;&lt;br/&gt;&lt;br/&gt;In a few turns, the room will change description drastically&#46;  This was set up in the 'After entering room' script&#46;  After six turns, I raised a flag on the 'room that changes script once' room&#46;  I called it changed&#46;  In the floor, ceiling, walls, and room description, I used an 'If' script to check and see if the flag 'changed' was true&#46;&quot;)\n        }\n      }\n    &#93;&#93;&gt;&lt;/description&gt;\n    &lt;enter type=&quot;script&quot;&gt;\n      SetTurnTimeout (6) {\n        msg (&quot;Without warning, a slew of construction workers and artists come rushing in&#46;  In a hysteria of carpentry and painting the room you are in gets a make-over&#46;  As soon as they arrived, they depart, leaving you in a new room!  Take a look!&quot;)\n        SetObjectFlagOn (room that changes script once, &quot;changed&quot;)\n      }\n    &lt;/enter&gt;\n    &lt;object name=&quot;walls1&quot;&gt;\n      &lt;inherit name=&quot;editor_object&quot; /&gt;\n      &lt;alias&gt;walls&lt;/alias&gt;\n      &lt;alt type=&quot;stringlist&quot;&gt;\n        &lt;value&gt;wall&lt;/value&gt;\n      &lt;/alt&gt;\n      &lt;usedefaultprefix type=&quot;boolean&quot;&gt;false&lt;/usedefaultprefix&gt;\n      &lt;look type=&quot;script&quot;&gt;\n        if (GetBoolean(room that changes script once, &quot;changed&quot;)) {\n          msg (&quot;The walls are painted in an array of colors&#46;  They look like a swirl of graffiti&#46;  There are pinks and yellows and blues and whites and greens, all swirled together in a hypnotic blend&#46;&quot;)\n        }\n        else {\n          msg (&quot;Four white walls&#46;  Nothing remarkable&#46;&quot;)\n        }\n      &lt;/look&gt;\n    &lt;/object&gt;\n    &lt;object name=&quot;floor&quot;&gt;\n      &lt;inherit name=&quot;editor_object&quot; /&gt;\n      &lt;look type=&quot;script&quot;&gt;\n        if (GetBoolean(room that changes script once, &quot;changed&quot;)) {\n          msg (&quot;The floor that once was boring wood is now carpeted and plush&#46;  Feels good on your feet!&quot;)\n        }\n        else {\n          msg (&quot;One wooden floor&#46;  Quite boring&#46;&quot;)\n        }\n      &lt;/look&gt;\n    &lt;/object&gt;\n    &lt;object name=&quot;ceiling&quot;&gt;\n      &lt;inherit name=&quot;editor_object&quot; /&gt;\n      &lt;look type=&quot;script&quot;&gt;\n        if (GetBoolean(room that changes script once, &quot;changed&quot;)) {\n          msg (&quot;The ceiling was once flat, boring, and white&#46;  It is now accessed by crown molding and has a comfortable beige tint to it&#46;  Much nicer!&quot;)\n        }\n        else {\n          msg (&quot;A ceiling&#46;  Plain&#46;  Boring&#46;&quot;)\n        }\n      &lt;/look&gt;\n    &lt;/object&gt;\n    &lt;command name=&quot;explain room cmd&quot;&gt;\n      &lt;pattern&gt;explain room&lt;/pattern&gt;\n      &lt;script&gt;&lt;!&#91;CDATA&#91;\n        msg (&quot;There are really two ways to get the room description to change once&#46;  The easiest is the use of a 'First time/Otherwise' script&#46;&lt;br/&gt;&lt;br/&gt;1&#46;  Simply choose to run a script instead of having the default 'text' description&#46;&lt;br/&gt;2&#46;  To this script, add new script and select the 'First time&#46;&#46;&#46;' script under the scripts category in the GUI&#46;&lt;br/&gt;3&#46;  In the First time section below the Run script, click add new script&#46;  Type whatever message you want for your room description&#46;&lt;br/&gt;4&#46;  Repeat this for the 'Otherwise' section&#46;  Add a message that you want to print every other time the play enters the room or types 'look'&#46;&lt;br/&gt;---&lt;br/&gt;5&#46;  In addition to this, I added a 'Run script after set number of turns' to give you another look at the room&#46;  After six turns, I printed a message to indicate that the room is now different&#46;&lt;br/&gt;6&#46;  I also added a flag&#46;&#46;&#46; add new script, set object flag (under variables), and set object flag on the room called changed&#46;&lt;br/&gt;7&#46;  You can place an 'If' script in the room description box and have it look like this --&gt; If object has flag object &#91;current room name&#93; flag name changed, then print the message explaining the changed script&#46;&quot;)\n      &#93;&#93;&gt;&lt;/script&gt;\n    &lt;/command&gt;\n  &lt;/object&gt;[/code:32mps84f]\n\nI have an 'If' script that checks for the 'changed' flag on the room, walls, floor, and ceiling.  You would just need one on the room and the door.",
      "EditableFormat": "bbcode",
      "HTML": "I'll throw this code out there and then wonder if it is of any use.  I have a script in there that changes the room after the sixth turn in there.<br/><br/>Here is a code for a changing script room from my tutorial game:<br/><br/><pre><code>  &lt;object name=&quot;room that changes script once&quot;&gt;<br/>    &lt;inherit name=&quot;editor_room&quot; /&gt;<br/>    &lt;description type=&quot;script&quot;&gt;&lt;!&#91;CDATA&#91;<br/>      if (GetBoolean(room that changes script once, &quot;changed&quot;)) {<br/>        msg (&quot;&lt;b&gt;The room looks brand new&#46;  The floor is covered in carpet and the walls and ceiling got a new colorful coat of paint!&lt;/b&gt;&quot;)<br/>      }<br/>      else {<br/>        firsttime {<br/>          msg (&quot;This room will change appearance twice&#46;  The first is the following&#58;&lt;br/&gt;&lt;br/&gt;&lt;b&gt;You are in a bare room&#46;  Nothing is here&#46;  Four white walls, a ceiling, and a floor&#46;&lt;/b&gt;&lt;br/&gt;&lt;br/&gt;If you look at the room again, you will see a simplified version of the description&#46;  You can even look at the walls, ceiling, and floor&#46;&lt;br/&gt;&lt;br/&gt;These descriptions were accomplished with a first time/otherwise script&#46;  When you entered the room, a turnscript started to change the room after six turns&#46;  You'll know when to look around again&#46;&quot;)<br/>        }<br/>        otherwise {<br/>          msg (&quot;&lt;b&gt;Bare room&#46;  White walls and ceiling&#46;  Wooden floor&#46;&lt;/b&gt;&lt;br/&gt;&lt;br/&gt;In a few turns, the room will change description drastically&#46;  This was set up in the 'After entering room' script&#46;  After six turns, I raised a flag on the 'room that changes script once' room&#46;  I called it changed&#46;  In the floor, ceiling, walls, and room description, I used an 'If' script to check and see if the flag 'changed' was true&#46;&quot;)<br/>        }<br/>      }<br/>    &#93;&#93;&gt;&lt;/description&gt;<br/>    &lt;enter type=&quot;script&quot;&gt;<br/>      SetTurnTimeout (6) {<br/>        msg (&quot;Without warning, a slew of construction workers and artists come rushing in&#46;  In a hysteria of carpentry and painting the room you are in gets a make-over&#46;  As soon as they arrived, they depart, leaving you in a new room!  Take a look!&quot;)<br/>        SetObjectFlagOn (room that changes script once, &quot;changed&quot;)<br/>      }<br/>    &lt;/enter&gt;<br/>    &lt;object name=&quot;walls1&quot;&gt;<br/>      &lt;inherit name=&quot;editor_object&quot; /&gt;<br/>      &lt;alias&gt;walls&lt;/alias&gt;<br/>      &lt;alt type=&quot;stringlist&quot;&gt;<br/>        &lt;value&gt;wall&lt;/value&gt;<br/>      &lt;/alt&gt;<br/>      &lt;usedefaultprefix type=&quot;boolean&quot;&gt;false&lt;/usedefaultprefix&gt;<br/>      &lt;look type=&quot;script&quot;&gt;<br/>        if (GetBoolean(room that changes script once, &quot;changed&quot;)) {<br/>          msg (&quot;The walls are painted in an array of colors&#46;  They look like a swirl of graffiti&#46;  There are pinks and yellows and blues and whites and greens, all swirled together in a hypnotic blend&#46;&quot;)<br/>        }<br/>        else {<br/>          msg (&quot;Four white walls&#46;  Nothing remarkable&#46;&quot;)<br/>        }<br/>      &lt;/look&gt;<br/>    &lt;/object&gt;<br/>    &lt;object name=&quot;floor&quot;&gt;<br/>      &lt;inherit name=&quot;editor_object&quot; /&gt;<br/>      &lt;look type=&quot;script&quot;&gt;<br/>        if (GetBoolean(room that changes script once, &quot;changed&quot;)) {<br/>          msg (&quot;The floor that once was boring wood is now carpeted and plush&#46;  Feels good on your feet!&quot;)<br/>        }<br/>        else {<br/>          msg (&quot;One wooden floor&#46;  Quite boring&#46;&quot;)<br/>        }<br/>      &lt;/look&gt;<br/>    &lt;/object&gt;<br/>    &lt;object name=&quot;ceiling&quot;&gt;<br/>      &lt;inherit name=&quot;editor_object&quot; /&gt;<br/>      &lt;look type=&quot;script&quot;&gt;<br/>        if (GetBoolean(room that changes script once, &quot;changed&quot;)) {<br/>          msg (&quot;The ceiling was once flat, boring, and white&#46;  It is now accessed by crown molding and has a comfortable beige tint to it&#46;  Much nicer!&quot;)<br/>        }<br/>        else {<br/>          msg (&quot;A ceiling&#46;  Plain&#46;  Boring&#46;&quot;)<br/>        }<br/>      &lt;/look&gt;<br/>    &lt;/object&gt;<br/>    &lt;command name=&quot;explain room cmd&quot;&gt;<br/>      &lt;pattern&gt;explain room&lt;/pattern&gt;<br/>      &lt;script&gt;&lt;!&#91;CDATA&#91;<br/>        msg (&quot;There are really two ways to get the room description to change once&#46;  The easiest is the use of a 'First time/Otherwise' script&#46;&lt;br/&gt;&lt;br/&gt;1&#46;  Simply choose to run a script instead of having the default 'text' description&#46;&lt;br/&gt;2&#46;  To this script, add new script and select the 'First time&#46;&#46;&#46;' script under the scripts category in the GUI&#46;&lt;br/&gt;3&#46;  In the First time section below the Run script, click add new script&#46;  Type whatever message you want for your room description&#46;&lt;br/&gt;4&#46;  Repeat this for the 'Otherwise' section&#46;  Add a message that you want to print every other time the play enters the room or types 'look'&#46;&lt;br/&gt;---&lt;br/&gt;5&#46;  In addition to this, I added a 'Run script after set number of turns' to give you another look at the room&#46;  After six turns, I printed a message to indicate that the room is now different&#46;&lt;br/&gt;6&#46;  I also added a flag&#46;&#46;&#46; add new script, set object flag (under variables), and set object flag on the room called changed&#46;&lt;br/&gt;7&#46;  You can place an 'If' script in the room description box and have it look like this --&gt; If object has flag object &#91;current room name&#93; flag name changed, then print the message explaining the changed script&#46;&quot;)<br/>      &#93;&#93;&gt;&lt;/script&gt;<br/>    &lt;/command&gt;<br/>  &lt;/object&gt;</code></pre><br/><br/>I have an 'If' script that checks for the 'changed' flag on the room, walls, floor, and ceiling.  You would just need one on the room and the door.",
      "PostDate": "2016-01-18T07:26:39+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "40746",
      "UserId": 0,
      "Username": "OurJud",
      "UserAvatar": "7473_1417206896.jpg",
      "UserGravatar": "7892e1059c02a91b34ffd60deb7402ff",
      "EditableText": "I get a bit confused when people post game script. I was looking for UI script.\n\nAnyway, I'm not sure it's the headache I feared. Here's what I came up with. This uses flags, the 'lock exit / unlock exit' feature, and a custom command for 'kick door in; break down door etc'\n\nshed_outside\n\n[code:11ic7mws]firsttime {\n  if (GetBoolean(player, &quot;shedopen&quot;)) {\n    msg (&quot;There's a small shed here&#46; The door hangs off its hinges&#46;&lt;br/&gt;&lt;br/&gt;You can go south or in&#46;&quot;)\n  }\n  else {\n    msg (&quot;There's a small shed here&#46; The door is closed and locked with a padlock, but it all looks rather flimsy&#46;&lt;br/&gt;&lt;br/&gt;You can go south or in&#46;&quot;)\n  }\n}\notherwise {\n  if (GetBoolean(player, &quot;shedopen&quot;)) {\n    msg (&quot;The small shed sqauts miserbaly in the long grass, it's door hanging from the hinges&#46;&lt;br/&gt;&lt;br/&gt;You can go south or in&#46;&quot;)\n  }\n  else {\n    msg (&quot;The small shed sqauts miserbaly in the long grass&#46; The door is closed and locked with a padlock&#46;&lt;br/&gt;&lt;br/&gt;You can go south or in&#46;&quot;)\n  }\n}[/code:11ic7mws]\nshed_inside (with &quot;shedopen&quot; flag set on &quot;After entering the room&quot; in the Scripts tab)\n\n[code:11ic7mws]if (Got(Axe)) {\n  msg (&quot;The inside is thick with dust&#46;&quot;)\n}\nelse {\n  msg (&quot;The inside is thick with dust&#46; There's an axe lying in the corner&#46;&quot;)\n}[/code:11ic7mws]",
      "EditableFormat": "bbcode",
      "HTML": "I get a bit confused when people post game script. I was looking for UI script.<br/><br/>Anyway, I'm not sure it's the headache I feared. Here's what I came up with. This uses flags, the 'lock exit / unlock exit' feature, and a custom command for 'kick door in; break down door etc'<br/><br/>shed_outside<br/><br/><pre><code>firsttime {<br/>  if (GetBoolean(player, &quot;shedopen&quot;)) {<br/>    msg (&quot;There's a small shed here&#46; The door hangs off its hinges&#46;&lt;br/&gt;&lt;br/&gt;You can go south or in&#46;&quot;)<br/>  }<br/>  else {<br/>    msg (&quot;There's a small shed here&#46; The door is closed and locked with a padlock, but it all looks rather flimsy&#46;&lt;br/&gt;&lt;br/&gt;You can go south or in&#46;&quot;)<br/>  }<br/>}<br/>otherwise {<br/>  if (GetBoolean(player, &quot;shedopen&quot;)) {<br/>    msg (&quot;The small shed sqauts miserbaly in the long grass, it's door hanging from the hinges&#46;&lt;br/&gt;&lt;br/&gt;You can go south or in&#46;&quot;)<br/>  }<br/>  else {<br/>    msg (&quot;The small shed sqauts miserbaly in the long grass&#46; The door is closed and locked with a padlock&#46;&lt;br/&gt;&lt;br/&gt;You can go south or in&#46;&quot;)<br/>  }<br/>}</code></pre><br/>shed_inside (with &quot;shedopen&quot; flag set on &quot;After entering the room&quot; in the Scripts tab)<br/><br/><pre><code>if (Got(Axe)) {<br/>  msg (&quot;The inside is thick with dust&#46;&quot;)<br/>}<br/>else {<br/>  msg (&quot;The inside is thick with dust&#46; There's an axe lying in the corner&#46;&quot;)<br/>}</code></pre>",
      "PostDate": "2016-01-18T07:37:11+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "40747",
      "UserId": 0,
      "Username": "XanMag",
      "UserAvatar": "7161_1436827710.jpg",
      "UserGravatar": "4b45a3afd18077f76f6569225c422bdb",
      "EditableText": "Here is what I just tossed together.  See if we solved it the same way!\n\n[attachment=0:77zi9gda]<!-- ia0 -->OurJuds Hut.aslx<!-- ia0 -->[/attachment:77zi9gda]\n\nOr code [code:77zi9gda]  &lt;object name=&quot;outside hut&quot;&gt;\n    &lt;inherit name=&quot;editor_room&quot; /&gt;\n    &lt;description type=&quot;script&quot;&gt;\n      if (GetBoolean(hut, &quot;&quot;)) {\n      }\n    &lt;/description&gt;\n    &lt;object name=&quot;hut&quot;&gt;\n      &lt;inherit name=&quot;editor_object&quot; /&gt;\n      &lt;look type=&quot;script&quot;&gt;\n        if (GetBoolean(hut door, &quot;bashed&quot;)) {\n          msg (&quot;It's a small hut with a gaping hole where the door used to be&#46;  The door lies around the threshold in ruins&#46;&quot;)\n        }\n        else {\n          msg (&quot;It's a small hut with a moderately sturdy door on its front that is supposed to keep scum like OurJud out!&quot;)\n        }\n      &lt;/look&gt;\n    &lt;/object&gt;\n    &lt;object name=&quot;hut door&quot;&gt;\n      &lt;inherit name=&quot;editor_object&quot; /&gt;\n      &lt;scenery /&gt;\n      &lt;look type=&quot;script&quot;&gt;\n        if (GetBoolean(hut door, &quot;bashed&quot;)) {\n          msg (&quot;The door here lays in splinters&#46;  You sure showed it who is boss!&quot;)\n        }\n        else {\n          msg (&quot;It's a door that with a little ramming or slamming or kicking might just collapse inward&#46;&quot;)\n        }\n      &lt;/look&gt;\n      &lt;ram type=&quot;script&quot;&gt;\n        firsttime {\n          msg (&quot;You slam into the door with all your might&#46;  You hear a *CRACK* but you think that might have come from your shoulder!  Maybe you should try again?&quot;)\n        }\n        otherwise {\n          if (GetBoolean(hut door, &quot;bashed&quot;)) {\n            msg (&quot;Why would you want to bash an already destroyed door&#46;  Just go in!&quot;)\n          }\n          else {\n            msg (&quot;You throw your mighty belly against the door with all your might&#46;  *CRASH* The door is splintered into a gazillion pieces&#46;  Really&#46;&#46;&#46; a gazillion&#46;&quot;)\n            SetObjectFlagOn (hut door, &quot;bashed&quot;)\n          }\n        }\n      &lt;/ram&gt;\n    &lt;/object&gt;\n    &lt;object name=&quot;player&quot;&gt;\n      &lt;inherit name=&quot;editor_object&quot; /&gt;\n      &lt;inherit name=&quot;editor_player&quot; /&gt;\n    &lt;/object&gt;\n    &lt;exit alias=&quot;in&quot; to=&quot;inside hut&quot;&gt;\n      &lt;inherit name=&quot;indirection&quot; /&gt;\n      &lt;locked type=&quot;boolean&quot;&gt;false&lt;/locked&gt;\n      &lt;runscript /&gt;\n      &lt;script type=&quot;script&quot;&gt;\n        if (GetBoolean(hut door, &quot;bashed&quot;)) {\n          msg (&quot;You step across the recently destroyed door and into the hut&#46;&quot;)\n          MoveObject (player, inside hut)\n        }\n        else {\n          msg (&quot;There is a door that blocks your way&#46;&quot;)\n        }\n      &lt;/script&gt;\n    &lt;/exit&gt;\n  &lt;/object&gt;\n  &lt;object name=&quot;inside hut&quot;&gt;\n    &lt;inherit name=&quot;editor_room&quot; /&gt;\n    &lt;description type=&quot;script&quot;&gt;\n      if (GetBoolean(hut door, &quot;bashed&quot;)) {\n        if (GetBoolean(axe, &quot;taken&quot;)) {\n          msg (&quot;You are standing in a small hut&#46;  There is little to be seen here&#46;  Even the priceless axe that once rested on the wall is missing&#46;  You can go out if you step over the remains of the busted door&#46;&quot;)\n        }\n        else {\n          msg (&quot;You are in a small hut&#46;  There is little to be seen here except for the small axe that is resting against the wall&#46;  You can go out if you step over the remains of the busted door&#46;&quot;)\n        }\n      }\n      else {\n        if (GetBoolean(axe, &quot;taken&quot;)) {\n          msg (&quot;You are standing in a small hut&#46;  There is little to be seen here&#46;  Even the priceless axe that once rested on the wall is missing&#46;  The hut door stands firmly anchored on its hinges&#46;&quot;)\n        }\n        else {\n          msg (&quot;You are in a small hut&#46;  There is little to be seen here except for the small axe that is resting against the wall&#46;  The hut door stands firmly anchored on its hinges&#46;&quot;)\n        }\n      }\n    &lt;/description&gt;\n    &lt;object name=&quot;axe&quot;&gt;\n      &lt;inherit name=&quot;editor_object&quot; /&gt;\n      &lt;take type=&quot;script&quot;&gt;\n        msg (&quot;Don't go cutting your thumbs off, Paul Bunyon&#46;&quot;)\n        SetObjectFlagOn (axe, &quot;taken&quot;)\n      &lt;/take&gt;\n    &lt;/object&gt;\n    &lt;exit alias=&quot;out&quot; to=&quot;outside hut&quot;&gt;\n      &lt;inherit name=&quot;outdirection&quot; /&gt;\n    &lt;/exit&gt;\n    &lt;object name=&quot;hut door1&quot;&gt;\n      &lt;inherit name=&quot;editor_object&quot; /&gt;\n      &lt;scenery /&gt;\n      &lt;look type=&quot;script&quot;&gt;\n        if (GetBoolean(hut door, &quot;bashed&quot;)) {\n          msg (&quot;The door here lays in splinters&#46;  You sure showed it who is boss!&quot;)\n        }\n        else {\n          msg (&quot;It's a door that with a little ramming or slamming or kicking might just collapse inward&#46;&quot;)\n        }\n      &lt;/look&gt;\n      &lt;ram type=&quot;script&quot;&gt;\n        firsttime {\n          msg (&quot;You slam into the door with all your might&#46;  You hear a *CRACK* but you think that might have come from your shoulder!  Maybe you should try again?&quot;)\n        }\n        otherwise {\n          if (GetBoolean(hut door, &quot;bashed&quot;)) {\n            msg (&quot;Why would you want to bash an already destroyed door&#46;  Just go in!&quot;)\n          }\n          else {\n            msg (&quot;You throw your mighty belly against the door with all your might&#46;  *CRASH* The door is splintered into a gazillion pieces&#46;  Really&#46;&#46;&#46; a gazillion&#46;&quot;)\n            SetObjectFlagOn (, &quot;&quot;)\n          }\n        }\n      &lt;/ram&gt;\n      &lt;alias&gt;hut door&lt;/alias&gt;\n    &lt;/object&gt;\n  &lt;/object&gt;\n  &lt;verb&gt;\n    &lt;property&gt;ram&lt;/property&gt;\n    &lt;pattern&gt;ram; slam; kick; punch; push&lt;/pattern&gt;\n    &lt;defaultexpression&gt;&quot;You can't ram; slam; kick; punch; push &quot; + object&#46;article + &quot;&#46;&quot;&lt;/defaultexpression&gt;\n  &lt;/verb&gt;[/code:77zi9gda]",
      "EditableFormat": "bbcode",
      "HTML": "Here is what I just tossed together.  See if we solved it the same way!<br/><br/><div><a href=\"/attachment/1469\">OurJuds Hut.aslx</a></div><br/><br/>Or code <pre><code>  &lt;object name=&quot;outside hut&quot;&gt;<br/>    &lt;inherit name=&quot;editor_room&quot; /&gt;<br/>    &lt;description type=&quot;script&quot;&gt;<br/>      if (GetBoolean(hut, &quot;&quot;)) {<br/>      }<br/>    &lt;/description&gt;<br/>    &lt;object name=&quot;hut&quot;&gt;<br/>      &lt;inherit name=&quot;editor_object&quot; /&gt;<br/>      &lt;look type=&quot;script&quot;&gt;<br/>        if (GetBoolean(hut door, &quot;bashed&quot;)) {<br/>          msg (&quot;It's a small hut with a gaping hole where the door used to be&#46;  The door lies around the threshold in ruins&#46;&quot;)<br/>        }<br/>        else {<br/>          msg (&quot;It's a small hut with a moderately sturdy door on its front that is supposed to keep scum like OurJud out!&quot;)<br/>        }<br/>      &lt;/look&gt;<br/>    &lt;/object&gt;<br/>    &lt;object name=&quot;hut door&quot;&gt;<br/>      &lt;inherit name=&quot;editor_object&quot; /&gt;<br/>      &lt;scenery /&gt;<br/>      &lt;look type=&quot;script&quot;&gt;<br/>        if (GetBoolean(hut door, &quot;bashed&quot;)) {<br/>          msg (&quot;The door here lays in splinters&#46;  You sure showed it who is boss!&quot;)<br/>        }<br/>        else {<br/>          msg (&quot;It's a door that with a little ramming or slamming or kicking might just collapse inward&#46;&quot;)<br/>        }<br/>      &lt;/look&gt;<br/>      &lt;ram type=&quot;script&quot;&gt;<br/>        firsttime {<br/>          msg (&quot;You slam into the door with all your might&#46;  You hear a *CRACK* but you think that might have come from your shoulder!  Maybe you should try again?&quot;)<br/>        }<br/>        otherwise {<br/>          if (GetBoolean(hut door, &quot;bashed&quot;)) {<br/>            msg (&quot;Why would you want to bash an already destroyed door&#46;  Just go in!&quot;)<br/>          }<br/>          else {<br/>            msg (&quot;You throw your mighty belly against the door with all your might&#46;  *CRASH* The door is splintered into a gazillion pieces&#46;  Really&#46;&#46;&#46; a gazillion&#46;&quot;)<br/>            SetObjectFlagOn (hut door, &quot;bashed&quot;)<br/>          }<br/>        }<br/>      &lt;/ram&gt;<br/>    &lt;/object&gt;<br/>    &lt;object name=&quot;player&quot;&gt;<br/>      &lt;inherit name=&quot;editor_object&quot; /&gt;<br/>      &lt;inherit name=&quot;editor_player&quot; /&gt;<br/>    &lt;/object&gt;<br/>    &lt;exit alias=&quot;in&quot; to=&quot;inside hut&quot;&gt;<br/>      &lt;inherit name=&quot;indirection&quot; /&gt;<br/>      &lt;locked type=&quot;boolean&quot;&gt;false&lt;/locked&gt;<br/>      &lt;runscript /&gt;<br/>      &lt;script type=&quot;script&quot;&gt;<br/>        if (GetBoolean(hut door, &quot;bashed&quot;)) {<br/>          msg (&quot;You step across the recently destroyed door and into the hut&#46;&quot;)<br/>          MoveObject (player, inside hut)<br/>        }<br/>        else {<br/>          msg (&quot;There is a door that blocks your way&#46;&quot;)<br/>        }<br/>      &lt;/script&gt;<br/>    &lt;/exit&gt;<br/>  &lt;/object&gt;<br/>  &lt;object name=&quot;inside hut&quot;&gt;<br/>    &lt;inherit name=&quot;editor_room&quot; /&gt;<br/>    &lt;description type=&quot;script&quot;&gt;<br/>      if (GetBoolean(hut door, &quot;bashed&quot;)) {<br/>        if (GetBoolean(axe, &quot;taken&quot;)) {<br/>          msg (&quot;You are standing in a small hut&#46;  There is little to be seen here&#46;  Even the priceless axe that once rested on the wall is missing&#46;  You can go out if you step over the remains of the busted door&#46;&quot;)<br/>        }<br/>        else {<br/>          msg (&quot;You are in a small hut&#46;  There is little to be seen here except for the small axe that is resting against the wall&#46;  You can go out if you step over the remains of the busted door&#46;&quot;)<br/>        }<br/>      }<br/>      else {<br/>        if (GetBoolean(axe, &quot;taken&quot;)) {<br/>          msg (&quot;You are standing in a small hut&#46;  There is little to be seen here&#46;  Even the priceless axe that once rested on the wall is missing&#46;  The hut door stands firmly anchored on its hinges&#46;&quot;)<br/>        }<br/>        else {<br/>          msg (&quot;You are in a small hut&#46;  There is little to be seen here except for the small axe that is resting against the wall&#46;  The hut door stands firmly anchored on its hinges&#46;&quot;)<br/>        }<br/>      }<br/>    &lt;/description&gt;<br/>    &lt;object name=&quot;axe&quot;&gt;<br/>      &lt;inherit name=&quot;editor_object&quot; /&gt;<br/>      &lt;take type=&quot;script&quot;&gt;<br/>        msg (&quot;Don't go cutting your thumbs off, Paul Bunyon&#46;&quot;)<br/>        SetObjectFlagOn (axe, &quot;taken&quot;)<br/>      &lt;/take&gt;<br/>    &lt;/object&gt;<br/>    &lt;exit alias=&quot;out&quot; to=&quot;outside hut&quot;&gt;<br/>      &lt;inherit name=&quot;outdirection&quot; /&gt;<br/>    &lt;/exit&gt;<br/>    &lt;object name=&quot;hut door1&quot;&gt;<br/>      &lt;inherit name=&quot;editor_object&quot; /&gt;<br/>      &lt;scenery /&gt;<br/>      &lt;look type=&quot;script&quot;&gt;<br/>        if (GetBoolean(hut door, &quot;bashed&quot;)) {<br/>          msg (&quot;The door here lays in splinters&#46;  You sure showed it who is boss!&quot;)<br/>        }<br/>        else {<br/>          msg (&quot;It's a door that with a little ramming or slamming or kicking might just collapse inward&#46;&quot;)<br/>        }<br/>      &lt;/look&gt;<br/>      &lt;ram type=&quot;script&quot;&gt;<br/>        firsttime {<br/>          msg (&quot;You slam into the door with all your might&#46;  You hear a *CRACK* but you think that might have come from your shoulder!  Maybe you should try again?&quot;)<br/>        }<br/>        otherwise {<br/>          if (GetBoolean(hut door, &quot;bashed&quot;)) {<br/>            msg (&quot;Why would you want to bash an already destroyed door&#46;  Just go in!&quot;)<br/>          }<br/>          else {<br/>            msg (&quot;You throw your mighty belly against the door with all your might&#46;  *CRASH* The door is splintered into a gazillion pieces&#46;  Really&#46;&#46;&#46; a gazillion&#46;&quot;)<br/>            SetObjectFlagOn (, &quot;&quot;)<br/>          }<br/>        }<br/>      &lt;/ram&gt;<br/>      &lt;alias&gt;hut door&lt;/alias&gt;<br/>    &lt;/object&gt;<br/>  &lt;/object&gt;<br/>  &lt;verb&gt;<br/>    &lt;property&gt;ram&lt;/property&gt;<br/>    &lt;pattern&gt;ram; slam; kick; punch; push&lt;/pattern&gt;<br/>    &lt;defaultexpression&gt;&quot;You can't ram; slam; kick; punch; push &quot; + object&#46;article + &quot;&#46;&quot;&lt;/defaultexpression&gt;<br/>  &lt;/verb&gt;</code></pre>",
      "PostDate": "2016-01-18T07:44:09+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "40748",
      "UserId": 0,
      "Username": "OurJud",
      "UserAvatar": "7473_1417206896.jpg",
      "UserGravatar": "7892e1059c02a91b34ffd60deb7402ff",
      "EditableText": "Certainly better written than mine, from a literary aspect  <!-- s:lol: --><img src=\"{SMILIES_PATH}/icon_lol.gif\" alt=\":lol:\" title=\"Laughing\" /><!-- s:lol: -->\n\nIf you could just post the scripts from the UI rather than the whole game code, I would be able to compare easier.",
      "EditableFormat": "bbcode",
      "HTML": "Certainly better written than mine, from a literary aspect  <!-- s:lol: --><img src=\"{SMILIES_PATH}/icon_lol.gif\" alt=\":lol:\" title=\"Laughing\" /><!-- s:lol: --><br/><br/>If you could just post the scripts from the UI rather than the whole game code, I would be able to compare easier.",
      "PostDate": "2016-01-18T07:50:15+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "40751",
      "UserId": 0,
      "Username": "XanMag",
      "UserAvatar": "7161_1436827710.jpg",
      "UserGravatar": "4b45a3afd18077f76f6569225c422bdb",
      "EditableText": "Noted and will do.  I posted the whole game code so, if you wanted, you could copy-paste it into a new game and see the whole thing in the UI.",
      "EditableFormat": "bbcode",
      "HTML": "Noted and will do.  I posted the whole game code so, if you wanted, you could copy-paste it into a new game and see the whole thing in the UI.",
      "PostDate": "2016-01-18T08:03:13+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "40752",
      "UserId": 0,
      "Username": "The Pixie",
      "UserAvatar": null,
      "UserGravatar": "cfa37e927f96177bcf6053ae8f108f77",
      "EditableText": "[quote=&quot;OurJud&quot;:1k24a4az]• The shed location needs two descriptions - a 'first time' and 'otherwise'\n• These descriptions need to recognise and output two factors:\n1. Has the door already been smashed in?\n2. Has the axe been taken?[/quote:1k24a4az]\nThe first factor depends on the exit from outside to inside being unlocked, so the best way is to check that flag, rather than setting a new one. If you go to the exit, and look at the list of attributed you should see &quot;locked&quot; is set to true. I guess it already has a name so it can be unlocked, say it is &quot;entrance_to_shed&quot;, you could code it like this (the first time the player sees it the door must still be there, right?):\n[code:1k24a4az]firsttime {\n  msg (&quot;There's a small shed here&#46; The door is closed and locked with a padlock, but it all looks rather flimsy&#46;&lt;br/&gt;&lt;br/&gt;You can go south or in&#46;&quot;)\n}\notherwise {\n  if (not entrance_to_shed&#46;locked) {\n    msg (&quot;The small shed squats miserably in the long grass, it's door hanging from the hinges&#46;&lt;br/&gt;&lt;br/&gt;You can go south or in&#46;&quot;)\n  }\n  else {\n    msg (&quot;The small shed squats miserably in the long grass&#46; The door is closed and locked with a padlock&#46;&lt;br/&gt;&lt;br/&gt;You can go south or in&#46;&quot;)\n  }\n}[/code:1k24a4az]\nFor the inside, you need to check if the axe is in the shed, not if the player has it. What if the player drops somewhere else?\n[code:1k24a4az]if (not Axe&#46;parent = this) {\n  msg (&quot;The inside is thick with dust&#46;&quot;)\n}\nelse {\n  msg (&quot;The inside is thick with dust&#46; There's an axe lying in the corner&#46;&quot;)\n}[/code:1k24a4az]\nOr you could set the axe to be scenery, and check against that. I think if it gets picked up the scenery flag gets turned off, and if it is dropped again, it would appear in the list of stuff here (depending on how your game is set up). This could be better, but you should check what happens when you pick up and drop the axe back in the room, etc. and see if it works.\n[code:1k24a4az]if (not Axe&#46;scenery) {\n  msg (&quot;The inside is thick with dust&#46;&quot;)\n}\nelse {\n  msg (&quot;The inside is thick with dust&#46; There's an axe lying in the corner&#46;&quot;)\n}[/code:1k24a4az]",
      "EditableFormat": "bbcode",
      "HTML": "<blockquote><cite>OurJud wrote:</cite>• The shed location needs two descriptions - a 'first time' and 'otherwise'<br/>• These descriptions need to recognise and output two factors:<br/>1. Has the door already been smashed in?<br/>2. Has the axe been taken?</blockquote><br/>The first factor depends on the exit from outside to inside being unlocked, so the best way is to check that flag, rather than setting a new one. If you go to the exit, and look at the list of attributed you should see &quot;locked&quot; is set to true. I guess it already has a name so it can be unlocked, say it is &quot;entrance_to_shed&quot;, you could code it like this (the first time the player sees it the door must still be there, right?):<br/><pre><code>firsttime {<br/>  msg (&quot;There's a small shed here&#46; The door is closed and locked with a padlock, but it all looks rather flimsy&#46;&lt;br/&gt;&lt;br/&gt;You can go south or in&#46;&quot;)<br/>}<br/>otherwise {<br/>  if (not entrance_to_shed&#46;locked) {<br/>    msg (&quot;The small shed squats miserably in the long grass, it's door hanging from the hinges&#46;&lt;br/&gt;&lt;br/&gt;You can go south or in&#46;&quot;)<br/>  }<br/>  else {<br/>    msg (&quot;The small shed squats miserably in the long grass&#46; The door is closed and locked with a padlock&#46;&lt;br/&gt;&lt;br/&gt;You can go south or in&#46;&quot;)<br/>  }<br/>}</code></pre><br/>For the inside, you need to check if the axe is in the shed, not if the player has it. What if the player drops somewhere else?<br/><pre><code>if (not Axe&#46;parent = this) {<br/>  msg (&quot;The inside is thick with dust&#46;&quot;)<br/>}<br/>else {<br/>  msg (&quot;The inside is thick with dust&#46; There's an axe lying in the corner&#46;&quot;)<br/>}</code></pre><br/>Or you could set the axe to be scenery, and check against that. I think if it gets picked up the scenery flag gets turned off, and if it is dropped again, it would appear in the list of stuff here (depending on how your game is set up). This could be better, but you should check what happens when you pick up and drop the axe back in the room, etc. and see if it works.<br/><pre><code>if (not Axe&#46;scenery) {<br/>  msg (&quot;The inside is thick with dust&#46;&quot;)<br/>}<br/>else {<br/>  msg (&quot;The inside is thick with dust&#46; There's an axe lying in the corner&#46;&quot;)<br/>}</code></pre>",
      "PostDate": "2016-01-18T08:33:52+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "40754",
      "UserId": 0,
      "Username": "OurJud",
      "UserAvatar": "7473_1417206896.jpg",
      "UserGravatar": "7892e1059c02a91b34ffd60deb7402ff",
      "EditableText": "Thanks, TP.\n\nMy game setups are always the same, in that I never auto-list any items / exits etc. Everything I want in the scene is just incorporated into the description.\n\nThe checking that the axe is in the shed rather than if the player is carrying it, is a good one. When I test it my way, if I drop the axe outside the shed, it gets magically returned to its original position, as you alluded to, so I really need to change that.\n\nI'll test and see how it works your way when I drop it in the shed and outside the shed.\n\n[edit] okay, so the checking the shed for the axe works. If I drop it outside the shed, it stays where I drop it. If I drop it inside the shed, I get the 'There's an axe lying in the corner.' line.\n\nAll good there. The only thing I need to be aware of is that because I don't auto-list objects, they don't get listed in my descriptions when I drop them elsewhere.\n\nBut maybe that's a puzzle for another thread.\n\nThank you all very much.",
      "EditableFormat": "bbcode",
      "HTML": "Thanks, TP.<br/><br/>My game setups are always the same, in that I never auto-list any items / exits etc. Everything I want in the scene is just incorporated into the description.<br/><br/>The checking that the axe is in the shed rather than if the player is carrying it, is a good one. When I test it my way, if I drop the axe outside the shed, it gets magically returned to its original position, as you alluded to, so I really need to change that.<br/><br/>I'll test and see how it works your way when I drop it in the shed and outside the shed.<br/><br/>[edit] okay, so the checking the shed for the axe works. If I drop it outside the shed, it stays where I drop it. If I drop it inside the shed, I get the 'There's an axe lying in the corner.' line.<br/><br/>All good there. The only thing I need to be aware of is that because I don't auto-list objects, they don't get listed in my descriptions when I drop them elsewhere.<br/><br/>But maybe that's a puzzle for another thread.<br/><br/>Thank you all very much.",
      "PostDate": "2016-01-18T09:26:05+00:00",
      "LastEditDate": null
    }
  ]
}
