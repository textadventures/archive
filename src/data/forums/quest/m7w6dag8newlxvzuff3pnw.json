{
  "Topic": {
    "TopicId": "m7w6dag8newlxvzuff3pnw",
    "ForumId": "10",
    "Title": "How to make it so each turn brings you closer to death ... except when you enter one room your timer resets.",
    "LastUpdated": "2017-12-25T08:53:10.2185998Z",
    "ReplyCount": 0
  },
  "Posts": [
    {
      "PostId": "552ecffd-ea12-45ac-aa94-9216b859d03f",
      "UserId": 262169,
      "Username": "Laraqua",
      "AvatarUrl": "https://secure.gravatar.com/avatar/62e7b4391dc6f205a4820699c027a564?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "So I want to do something fairly complicated ... I want the Starting Area to be safe and refresh your number of turns available to explore the area.  You'd get messages print out every time you enter a room or after a certain number of actions in a room.  If you take too long, I want it to print text and basically force you to head back to the starting area where you can then begin again.  I figure it has something to do with Turnscript as I don't want it to be a seconds-Timer and probably For Each (i.e. for each room) but I'm not sure where to build it from there.  Has anyone got a script available to look at when they've done something similarly?",
      "EditableFormat": "markdown",
      "HTML": "<p>So I want to do something fairly complicated ... I want the Starting Area to be safe and refresh your number of turns available to explore the area.  You'd get messages print out every time you enter a room or after a certain number of actions in a room.  If you take too long, I want it to print text and basically force you to head back to the starting area where you can then begin again.  I figure it has something to do with Turnscript as I don't want it to be a seconds-Timer and probably For Each (i.e. for each room) but I'm not sure where to build it from there.  Has anyone got a script available to look at when they've done something similarly?</p>\n\n",
      "PostDate": "2017-12-25T08:53:10.2185998Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "294a8ed1-a270-4d76-8da3-24c7c634a0e1",
      "UserId": 1346,
      "Username": "The Pixie",
      "AvatarUrl": "https://secure.gravatar.com/avatar/cfa37e927f96177bcf6053ae8f108f77?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "So you need a count attribute on the player that tracks the state. Set up a script for the Starting Area when the player enters the room (lok on the _scripts_ tab of the room) that resets the count:\r\n```\r\nplayer.count = 12\r\n```\r\nThe turn script must do two thing; reduce the count and see if the player is dead.\r\n```\r\nplayer.count = player.count - 1\r\nif (player.count < 0) {\r\n  msg(\"You died\")\r\n  finish\r\n}\r\n```\r\n",
      "EditableFormat": "markdown",
      "HTML": "<p>So you need a count attribute on the player that tracks the state. Set up a script for the Starting Area when the player enters the room (lok on the <em>scripts</em> tab of the room) that resets the count:</p>\n<pre><code>player.count = 12\n</code></pre>\n<p>The turn script must do two thing; reduce the count and see if the player is dead.</p>\n<pre><code>player.count = player.count - 1\nif (player.count &lt; 0) {\n  msg(\"You died\")\n  finish\n}\n</code></pre>\n\n",
      "PostDate": "2017-12-25T12:37:39.8382942Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "38c16808-059c-43e2-a4e2-0195b42019a3",
      "UserId": 267336,
      "Username": "jmnevil54",
      "AvatarUrl": "https://secure.gravatar.com/avatar/5d73d7ec1dbe20a5cb46f02a6d53f187?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Actually it's not that complicated. You just need to do what The Pixie says, create the turnscript, and then in the enter part script of the room that resets it, you type something like player.count = 20...",
      "EditableFormat": "markdown",
      "HTML": "<p>Actually it's not that complicated. You just need to do what The Pixie says, create the turnscript, and then in the enter part script of the room that resets it, you type something like player.count = 20...</p>\n\n",
      "PostDate": "2017-12-25T13:55:37.3653189Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "3ccdebe8-84cd-4211-975d-a31ca5dafcec",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "I'd probably put all the script in a turnscript if there's a large number of rooms, rather than creating lots of enter or exit scripts that do the same thing. A bit more complex, but may be easier to maintain if all your code is in one place.\r\n\r\nOff the top of my head, a turnscript something like...\r\n```\r\nif (Contains(Starting area, player)) {\r\n  player.turns_remaining = 20\r\n  player.last_room = player.parent\r\n}\r\nelse {\r\n  player.turns_remaining = player.turns_remaining - 1\r\n  if (player.turns_remaining = 0) {\r\n    msg (\"Ooops, out of time!\")\r\n    finish\r\n  }\r\n  else\r\n    if (player.last_room = player.parent) {\r\n      player.turns_in_room = player.turns_in_room + 1\r\n    }\r\n    else {\r\n      player.last_room = player.parent\r\n      player.turns_in_room = 0\r\n    }\r\n    if ((player.turns_in_room % 5 = 0) or (player.turns_remaining < 5)) {\r\n      msg (\"You need to get back to the starting area in \"+player.turns_remaining+\" turns.\")\r\n    }\r\n  }\r\n}\r\n```\r\nTo give the player 20 turns after leaving the starting room, and notify them how many turns they have left when they enter a new room, after spending 5 turns in the same room, or every turn when they have less than 5 left.",
      "EditableFormat": "markdown",
      "HTML": "<p>I'd probably put all the script in a turnscript if there's a large number of rooms, rather than creating lots of enter or exit scripts that do the same thing. A bit more complex, but may be easier to maintain if all your code is in one place.</p>\n<p>Off the top of my head, a turnscript something like...</p>\n<pre><code>if (Contains(Starting area, player)) {\n  player.turns_remaining = 20\n  player.last_room = player.parent\n}\nelse {\n  player.turns_remaining = player.turns_remaining - 1\n  if (player.turns_remaining = 0) {\n    msg (\"Ooops, out of time!\")\n    finish\n  }\n  else\n    if (player.last_room = player.parent) {\n      player.turns_in_room = player.turns_in_room + 1\n    }\n    else {\n      player.last_room = player.parent\n      player.turns_in_room = 0\n    }\n    if ((player.turns_in_room % 5 = 0) or (player.turns_remaining &lt; 5)) {\n      msg (\"You need to get back to the starting area in \"+player.turns_remaining+\" turns.\")\n    }\n  }\n}\n</code></pre>\n<p>To give the player 20 turns after leaving the starting room, and notify them how many turns they have left when they enter a new room, after spending 5 turns in the same room, or every turn when they have less than 5 left.</p>\n\n",
      "PostDate": "2017-12-25T14:56:31.3387284Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "273b826a-8415-4100-8dc5-ac5a935ffb9c",
      "UserId": 262169,
      "Username": "Laraqua",
      "AvatarUrl": "https://secure.gravatar.com/avatar/62e7b4391dc6f205a4820699c027a564?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "I kept tinkering with it after posting the question and I figured out how to make the turnscript work in terms of throwing up a message when you're out of the Starting Area too long.  Rather than killing them, I'm going to Move Object into a new room so some weird stuff can happen.  Thanks for the code to forewarn them that they need to return to the starting area and letting them know how long they have.  \r\n\r\n````<dropdestination type=\"object\">Starting Area</dropdestination>\r\n    <enter type=\"script\">\r\n      DisableTurnScript (PsychicAssault)\r\n    </enter>\r\n    <onexit type=\"script\">\r\n      EnableTurnScript (PsychicAssault)\r\n    </onexit>````\r\n\r\nBut now I'm having difficulty getting the turnscript to disable script when they re-enter the Starting Area so the whole thing can refresh.  I tried using just putting in Disable Turn Script in On Enter but that's not working at all.  Once it's started it'll get rid of them even if they spend most of the turns in the Starting Area.  Do I need to make it into an attribute (player.count) or is there a simpler method using the Disable TurnScript command?  I don't know what should be in the brackets after Disable Turn Script so I just put in the name of the script.\r\n\r\n````\r\n  <turnscript name=\"PsychicAssault\">\r\n    <script>\r\n      SetTurnTimeout (3) {\r\n        msg (\"You feel unsettled, as though you are being watched.\")\r\n        SetTurnTimeout (3) {\r\n          msg (\"There is a flickering behind your eyes that gives everything a jerky and bizarre sensation to it.\")\r\n          SetTurnTimeout (3) {\r\n            msg (\"You feel something scratching around inside of your brain.\")\r\n            SetTurnTimeout (3) {\r\n            }\r\n            msg (\"You are now mind controlled.\")\r\n            MoveObject (player, Mind Controlled)\r\n          }\r\n        }\r\n      }\r\n      if (game.pov.parent = Starting Area) {\r\n        DisableTurnScript (PsychicAssault)\r\n      }\r\n    </script>````",
      "EditableFormat": "markdown",
      "HTML": "<p>I kept tinkering with it after posting the question and I figured out how to make the turnscript work in terms of throwing up a message when you're out of the Starting Area too long.  Rather than killing them, I'm going to Move Object into a new room so some weird stuff can happen.  Thanks for the code to forewarn them that they need to return to the starting area and letting them know how long they have.</p>\n<pre><code>    &lt;enter type=\"script\"&gt;\n      DisableTurnScript (PsychicAssault)\n    &lt;/enter&gt;\n    &lt;onexit type=\"script\"&gt;\n      EnableTurnScript (PsychicAssault)\n    &lt;/onexit&gt;````\n\nBut now I'm having difficulty getting the turnscript to disable script when they re-enter the Starting Area so the whole thing can refresh.  I tried using just putting in Disable Turn Script in On Enter but that's not working at all.  Once it's started it'll get rid of them even if they spend most of the turns in the Starting Area.  Do I need to make it into an attribute (player.count) or is there a simpler method using the Disable TurnScript command?  I don't know what should be in the brackets after Disable Turn Script so I just put in the name of the script.\n\n</code></pre>\n  ",
      "PostDate": "2017-12-26T00:01:08.6203637Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "753cf2f8-1300-4873-a5c7-d6ef8740870f",
      "UserId": 262169,
      "Username": "Laraqua",
      "AvatarUrl": "https://secure.gravatar.com/avatar/62e7b4391dc6f205a4820699c027a564?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "So now I'm having difficulty getting the turnscript to disable script when they re-enter the Starting Area so the whole thing can refresh.  I tried using just putting in Disable Turn Script in On Enter but that's not working at all.  Once it's started it'll get rid of them even if they spend most of the turns in the Starting Area.  Do I need to make it into an attribute (player.count) or is there a simpler method using the Disable TurnScript command?  I don't know what should be in the brackets after Disable Turn Script so I just put in the name of the script.\r\n\r\n````\r\n  <turnscript name=\"PsychicAssault\">\r\n    <script>\r\n      SetTurnTimeout (3) {\r\n        msg (\"You feel unsettled, as though you are being watched.\")\r\n        SetTurnTimeout (3) {\r\n          msg (\"There is a flickering behind your eyes that gives everything a jerky and bizarre sensation to it.\")\r\n          SetTurnTimeout (3) {\r\n            msg (\"You feel something scratching around inside of your brain.\")\r\n            SetTurnTimeout (3) {\r\n            }\r\n            msg (\"You are now mind controlled.\")\r\n            MoveObject (player, Mind Controlled)\r\n          }\r\n        }\r\n      }\r\n      if (game.pov.parent = Starting Area) {\r\n        DisableTurnScript (PsychicAssault)\r\n      }\r\n    </script>````",
      "EditableFormat": "markdown",
      "HTML": "<p>So now I'm having difficulty getting the turnscript to disable script when they re-enter the Starting Area so the whole thing can refresh.  I tried using just putting in Disable Turn Script in On Enter but that's not working at all.  Once it's started it'll get rid of them even if they spend most of the turns in the Starting Area.  Do I need to make it into an attribute (player.count) or is there a simpler method using the Disable TurnScript command?  I don't know what should be in the brackets after Disable Turn Script so I just put in the name of the script.</p>\n<pre><code>  &lt;turnscript name=\"PsychicAssault\"&gt;\n    &lt;script&gt;\n      SetTurnTimeout (3) {\n        msg (\"You feel unsettled, as though you are being watched.\")\n        SetTurnTimeout (3) {\n          msg (\"There is a flickering behind your eyes that gives everything a jerky and bizarre sensation to it.\")\n          SetTurnTimeout (3) {\n            msg (\"You feel something scratching around inside of your brain.\")\n            SetTurnTimeout (3) {\n            }\n            msg (\"You are now mind controlled.\")\n            MoveObject (player, Mind Controlled)\n          }\n        }\n      }\n      if (game.pov.parent = Starting Area) {\n        DisableTurnScript (PsychicAssault)\n      }\n    &lt;/script&gt;````\n</code></pre>\n\n",
      "PostDate": "2017-12-26T00:08:32.8499861Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "7d89a4f8-c2c9-4bde-884e-d9af6d4748fe",
      "UserId": 260569,
      "Username": "DarkLizerd",
      "AvatarUrl": "https://i.imgur.com/vjdH3t6b.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "If you can't disable the script...\r\nThen just reset the count each turn they are in the \"safe place\"...\r\nI assume your SetTurnTimeout is 3,6,8,12...\r\nInstead of a nested approach, you should be able to do this as a flat if statement...\r\n```\r\nSetTurnTimeout=SetTurnTimeout+1\r\nif(SetTurnTimeout=3) {\r\nmsg (\"You feel unsettled, as though you are being watched.\")\r\n}\r\nif(SetTurnTimeout=6) {\r\nmsg (\"There is a flickering behind your eyes that gives everything a jerky and bizarre sensation to it.\")\r\n}\r\nif(SetTurnTimeout=9) {\r\nmsg (\"You feel something scratching around inside of your brain.\")\r\n}\r\nif(SetTurnTimeout=12) {\r\nmsg (\"You are now mind controlled.\")\r\nMoveObject (player, Mind Controlled)\r\n}\r\n```\r\n\r\n",
      "EditableFormat": "markdown",
      "HTML": "<p>If you can't disable the script...<br>\nThen just reset the count each turn they are in the \"safe place\"...<br>\nI assume your SetTurnTimeout is 3,6,8,12...<br>\nInstead of a nested approach, you should be able to do this as a flat if statement...</p>\n<pre><code>SetTurnTimeout=SetTurnTimeout+1\nif(SetTurnTimeout=3) {\nmsg (\"You feel unsettled, as though you are being watched.\")\n}\nif(SetTurnTimeout=6) {\nmsg (\"There is a flickering behind your eyes that gives everything a jerky and bizarre sensation to it.\")\n}\nif(SetTurnTimeout=9) {\nmsg (\"You feel something scratching around inside of your brain.\")\n}\nif(SetTurnTimeout=12) {\nmsg (\"You are now mind controlled.\")\nMoveObject (player, Mind Controlled)\n}\n</code></pre>\n\n",
      "PostDate": "2017-12-26T02:07:49.8889064Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "e858c7d7-f409-4e1d-9fa8-9ec630ba1ec4",
      "UserId": 1346,
      "Username": "The Pixie",
      "AvatarUrl": "https://secure.gravatar.com/avatar/cfa37e927f96177bcf6053ae8f108f77?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "To get it to reset every turn the player is in the safe room, add a turn script to the safe room (create it as normal, then move it to the room). That will fire every turn the player is there, and just needs to set the counter back to its original value.\r\n\r\nYour first turn script will need going, but because the counter is reset each turn, it does not get any closer to zero.\r\n\r\n",
      "EditableFormat": "markdown",
      "HTML": "<p>To get it to reset every turn the player is in the safe room, add a turn script to the safe room (create it as normal, then move it to the room). That will fire every turn the player is there, and just needs to set the counter back to its original value.</p>\n<p>Your first turn script will need going, but because the counter is reset each turn, it does not get any closer to zero.</p>\n\n",
      "PostDate": "2017-12-26T10:13:45.7063924Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "045ac108-9767-40ef-90d6-b080bf9c5b5e",
      "UserId": 262169,
      "Username": "Laraqua",
      "AvatarUrl": "https://secure.gravatar.com/avatar/62e7b4391dc6f205a4820699c027a564?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "I'm not sure how to reset the count.  Thank you for your continued forbearance.  It's really making this a lot easier.\r\n\r\nAlso, I tried the un-nested approach and it threw up an error.",
      "EditableFormat": "markdown",
      "HTML": "<p>I'm not sure how to reset the count.  Thank you for your continued forbearance.  It's really making this a lot easier.</p>\n<p>Also, I tried the un-nested approach and it threw up an error.</p>\n\n",
      "PostDate": "2017-12-26T10:43:37.0695829Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "30686bf2-38a8-4db3-954c-4d4fe58d872e",
      "UserId": 1346,
      "Username": "The Pixie",
      "AvatarUrl": "https://secure.gravatar.com/avatar/cfa37e927f96177bcf6053ae8f108f77?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "The turn script fires every turn. the way you have it set up, it will call `SetTurnTimeout` every turn, so the event will fire in three turns and in four turns and n five turns, etc.\r\n\r\nYou need to either use a turn script OR use `SetTurnTimeout`... and I would advise the turn script, as it is easy to handle once you set it going.\r\n\r\nI will slightly modify what I said before; set up _two_ turn scripts, and move one to the safe area. The turn script in the safe area just needs to reset the counter:\r\n\r\n```\r\nplayer.counter = 0\r\n```\r\n\r\nThe other turn script needs to decrease the counter each turn, and then have it trigger events at certain points.\r\n\r\n```\r\nplayer.counter = player.counter + 1\r\nif (player.counter = 3) {\r\n msg (\"You feel unsettled, as though you are being watched.\")\r\n}\r\nif (player.counter = 6) {\r\n  msg (\"There is a flickering behind your eyes that gives everything a jerky and bizarre sensation to it.\")\r\n}\r\nif (player.counter = 9) {\r\n  msg (\"You feel something scratching around inside of your brain.\")\r\n}\r\nif (player.counter = 12) {\r\n  msg (\"You are now mind controlled.\")\r\n  MoveObject (player, Mind Controlled)\r\n}\r\n```\r\n\r\nYou would probably need to give the player a \"count\" attribute and set it to be an integer.\r\n\r\nSo the turn script will fire every turn, but the counter goes back to zero when the player is in the safe room.",
      "EditableFormat": "markdown",
      "HTML": "<p>The turn script fires every turn. the way you have it set up, it will call <code>SetTurnTimeout</code> every turn, so the event will fire in three turns and in four turns and n five turns, etc.</p>\n<p>You need to either use a turn script OR use <code>SetTurnTimeout</code>... and I would advise the turn script, as it is easy to handle once you set it going.</p>\n<p>I will slightly modify what I said before; set up <em>two</em> turn scripts, and move one to the safe area. The turn script in the safe area just needs to reset the counter:</p>\n<pre><code>player.counter = 0\n</code></pre>\n<p>The other turn script needs to decrease the counter each turn, and then have it trigger events at certain points.</p>\n<pre><code>player.counter = player.counter + 1\nif (player.counter = 3) {\n msg (\"You feel unsettled, as though you are being watched.\")\n}\nif (player.counter = 6) {\n  msg (\"There is a flickering behind your eyes that gives everything a jerky and bizarre sensation to it.\")\n}\nif (player.counter = 9) {\n  msg (\"You feel something scratching around inside of your brain.\")\n}\nif (player.counter = 12) {\n  msg (\"You are now mind controlled.\")\n  MoveObject (player, Mind Controlled)\n}\n</code></pre>\n<p>You would probably need to give the player a \"count\" attribute and set it to be an integer.</p>\n<p>So the turn script will fire every turn, but the counter goes back to zero when the player is in the safe room.</p>\n\n",
      "PostDate": "2017-12-26T11:47:59.9167893Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "99504156-6b6f-48aa-8b3c-9385afadcbc7",
      "UserId": 262169,
      "Username": "Laraqua",
      "AvatarUrl": "https://secure.gravatar.com/avatar/62e7b4391dc6f205a4820699c027a564?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Okay, it's working!  You guys are incredible!  New turnscript issue ... so I want when someone opens a door for a fog to pour out into the surrounding rooms.  Technically it's only when they open a door, but really they can't see inside a room without entering it anyway.  I'm figuring a general turnscript that starts when they enter a particular room or open a particular door that fires wherever they are ... but stops when they leave the basement.  This means I'll need the turnscript to disable once they leave the basement unless I want to put the Turnscript = 0 code in every unaffected room which could be a pain.  Plus side is all I need is a message to print as it's fog ... I don't need to reduce health points or anything.",
      "EditableFormat": "markdown",
      "HTML": "<p>Okay, it's working!  You guys are incredible!  New turnscript issue ... so I want when someone opens a door for a fog to pour out into the surrounding rooms.  Technically it's only when they open a door, but really they can't see inside a room without entering it anyway.  I'm figuring a general turnscript that starts when they enter a particular room or open a particular door that fires wherever they are ... but stops when they leave the basement.  This means I'll need the turnscript to disable once they leave the basement unless I want to put the Turnscript = 0 code in every unaffected room which could be a pain.  Plus side is all I need is a message to print as it's fog ... I don't need to reduce health points or anything.</p>\n\n",
      "PostDate": "2017-12-28T00:13:19.9036424Z",
      "LastEditDate": "2017-12-28T00:22:52.4313683Z",
      "link": null
    },
    {
      "PostId": "de03f577-57f4-49af-afa4-4ac7f0b81bea",
      "UserId": 318253,
      "Username": "K.V.",
      "AvatarUrl": "https://i.imgur.com/Te0Y5FPb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "I think there's a thread somewhere concerning a fire (and smoke filling the building, room by room), but it is hiding from me.  (It should be the same concept, though.)\r\n\r\nBe right back.",
      "EditableFormat": "markdown",
      "HTML": "<p>I think there's a thread somewhere concerning a fire (and smoke filling the building, room by room), but it is hiding from me.  (It should be the same concept, though.)</p>\n<p>Be right back.</p>\n\n",
      "PostDate": "2017-12-28T01:06:27.9206915Z",
      "LastEditDate": "2017-12-28T01:08:21.0767319Z",
      "link": null
    },
    {
      "PostId": "6a63cedd-a39d-4bde-8281-5a8765318ce5",
      "UserId": 318253,
      "Username": "K.V.",
      "AvatarUrl": "https://i.imgur.com/Te0Y5FPb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "I couldn't find the thread...\r\n\r\nThis isn't exactly what you want to happen, but it may help.\r\n\r\nIf you open the basement door, fog rolls into the house, room by room, depending on how many turns the door has been open. \r\n\r\nWhen you close the door, the fog stops rolling in, but the rooms with fog in them remain foggy.\r\n\r\n```\r\n<!--Saved by Quest 5.7.6404.15496-->\r\n<asl version=\"550\">\r\n  <include ref=\"English.aslx\" />\r\n  <include ref=\"Core.aslx\" />\r\n  <game name=\"The Fog Rolls In\">\r\n    <gameid>5950d7a6-16e7-455b-8202-b018031419f7</gameid>\r\n    <version>1.1</version>\r\n    <firstpublished>2017</firstpublished>\r\n    <foggy type=\"int\">0</foggy>\r\n    <start type=\"script\">\r\n    </start>\r\n    <changedfoggy type=\"script\">\r\n      switch (game.foggy) {\r\n        case (1) {\r\n          kitchen.foggy = true\r\n        }\r\n        case (2) {\r\n          dining room.foggy = true\r\n        }\r\n        case (4) {\r\n          living room.foggy = true\r\n          den.foggy = true\r\n        }\r\n        case (6) {\r\n          bedroom.foggy = true\r\n        }\r\n      }\r\n    </changedfoggy>\r\n  </game>\r\n  <object name=\"living room\">\r\n    <inherit name=\"editor_room\" />\r\n    <foggy type=\"boolean\">false</foggy>\r\n    <changedfoggy type=\"script\"><![CDATA[\r\n      this.description = this.description + \"<br/><br/>It's foggy in here.\"\r\n    ]]></changedfoggy>\r\n    <object name=\"player\">\r\n      <inherit name=\"editor_object\" />\r\n      <inherit name=\"editor_player\" />\r\n    </object>\r\n    <exit alias=\"south\" to=\"dining room\">\r\n      <inherit name=\"southdirection\" />\r\n    </exit>\r\n    <exit alias=\"west\" to=\"bedroom\">\r\n      <inherit name=\"westdirection\" />\r\n    </exit>\r\n  </object>\r\n  <object name=\"dining room\">\r\n    <inherit name=\"editor_room\" />\r\n    <foggy type=\"boolean\">false</foggy>\r\n    <changedfoggy type=\"script\"><![CDATA[\r\n      this.description = this.description + \"<br/><br/>It's foggy in here.\"\r\n    ]]></changedfoggy>\r\n    <exit alias=\"north\" to=\"living room\">\r\n      <inherit name=\"northdirection\" />\r\n    </exit>\r\n    <exit alias=\"east\" to=\"kitchen\">\r\n      <inherit name=\"eastdirection\" />\r\n    </exit>\r\n    <exit alias=\"west\" to=\"den\">\r\n      <inherit name=\"westdirection\" />\r\n    </exit>\r\n  </object>\r\n  <object name=\"kitchen\">\r\n    <inherit name=\"editor_room\" />\r\n    <foggy type=\"boolean\">false</foggy>\r\n    <changedfoggy type=\"script\"><![CDATA[\r\n      this.description = this.description + \"<br/><br/>It's foggy in here.\"\r\n    ]]></changedfoggy>\r\n    <object name=\"basement door\">\r\n      <inherit name=\"editor_object\" />\r\n      <inherit name=\"openable\" />\r\n      <feature_container />\r\n      <displayverbs type=\"stringlist\">\r\n        <value>Look at</value>\r\n        <value>Open</value>\r\n        <value>Close</value>\r\n        <value>Enter</value>\r\n      </displayverbs>\r\n      <takemsg>It's fixed in place.</takemsg>\r\n      <openscript type=\"script\"><![CDATA[\r\n        msg (\"You open it.\")\r\n        this.isopen = true\r\n        if (not to_basement.visible) {\r\n          MakeExitVisible (to_basement)\r\n          msg (\"<br/>You can go {exit:to_basement}.\")\r\n        }\r\n        EnableTurnScript (fog)\r\n        basement_view.visible = true\r\n        kitchen_view.visible = true\r\n      ]]></openscript>\r\n      <closescript type=\"script\">\r\n        msg (\"You close it.\")\r\n        this.isopen = false\r\n        MakeExitInvisible (to_basement)\r\n        DisableTurnScript (fog)\r\n        basement_view.visible = false\r\n        kitchen_view.visible = false\r\n      </closescript>\r\n      <look>It's {either basement door.isopen=true:open|closed}.</look>\r\n    </object>\r\n    <exit name=\"to_basement\" alias=\"into the basement\" to=\"basement\">\r\n      <visible type=\"boolean\">false</visible>\r\n    </exit>\r\n    <exit alias=\"west\" to=\"dining room\">\r\n      <inherit name=\"westdirection\" />\r\n    </exit>\r\n    <object name=\"basement_view\">\r\n      <inherit name=\"editor_object\" />\r\n      <alias>basement</alias>\r\n      <scenery />\r\n      <visible type=\"boolean\">false</visible>\r\n      <look>You could get a better look if you went inside.</look>\r\n      <displayverbs type=\"stringlist\">\r\n        <value>Look at</value>\r\n      </displayverbs>\r\n    </object>\r\n  </object>\r\n  <object name=\"bedroom\">\r\n    <inherit name=\"editor_room\" />\r\n    <foggy type=\"boolean\">false</foggy>\r\n    <changedfoggy type=\"script\"><![CDATA[\r\n      this.description = this.description + \"<br/><br/>It's foggy in here.\"\r\n    ]]></changedfoggy>\r\n    <beforeenter type=\"script\">\r\n    </beforeenter>\r\n    <onexit type=\"script\">\r\n    </onexit>\r\n    <exit alias=\"south\" to=\"den\">\r\n      <inherit name=\"southdirection\" />\r\n    </exit>\r\n    <exit alias=\"east\" to=\"living room\">\r\n      <inherit name=\"eastdirection\" />\r\n    </exit>\r\n  </object>\r\n  <object name=\"den\">\r\n    <inherit name=\"editor_room\" />\r\n    <foggy type=\"boolean\">false</foggy>\r\n    <changedfoggy type=\"script\"><![CDATA[\r\n      this.description = this.description + \"<br/><br/>It's foggy in here.\"\r\n    ]]></changedfoggy>\r\n    <exit alias=\"east\" to=\"dining room\">\r\n      <inherit name=\"eastdirection\" />\r\n    </exit>\r\n    <exit alias=\"north\" to=\"bedroom\">\r\n      <inherit name=\"northdirection\" />\r\n    </exit>\r\n  </object>\r\n  <object name=\"basement\">\r\n    <inherit name=\"editor_room\" />\r\n    <description>The window is open, and fog is pouring in.</description>\r\n    <beforeenter type=\"script\">\r\n      MoveObjectHere (basement door)\r\n    </beforeenter>\r\n    <onexit type=\"script\">\r\n      MoveObjectHere (basement door)\r\n    </onexit>\r\n    <object name=\"window\">\r\n      <inherit name=\"editor_object\" />\r\n      <inherit name=\"openable\" />\r\n      <feature_container />\r\n      <close />\r\n      <takemsg>It's fixed in place.</takemsg>\r\n      <closescript type=\"script\">\r\n        msg (\"You can't.  It's stuck.\")\r\n      </closescript>\r\n      <look>It's open and fog is rolling in through it.</look>\r\n      <lookthrough>You see nothing but fog out there.</lookthrough>\r\n    </object>\r\n    <exit alias=\"out\" to=\"kitchen\">\r\n      <inherit name=\"outdirection\" />\r\n    </exit>\r\n    <object name=\"kitchen_view\">\r\n      <inherit name=\"editor_object\" />\r\n      <alias>kitchen</alias>\r\n      <look>You could get a better look if you went inside.</look>\r\n      <displayverbs type=\"stringlist\">\r\n        <value>Look at</value>\r\n      </displayverbs>\r\n      <visible type=\"boolean\">false</visible>\r\n      <scenery />\r\n    </object>\r\n  </object>\r\n  <turnscript name=\"fog\">\r\n    <script>\r\n      game.foggy = game.foggy + 1\r\n    </script>\r\n  </turnscript>\r\n  <command name=\"enter_cmd\">\r\n    <pattern>enter #object#</pattern>\r\n    <script>\r\n      if (not object = basement door) {\r\n        msg (\"You can't enter \"+object.article+\".\")\r\n      }\r\n      else {\r\n        if (basement door.isopen) {\r\n          if (game.pov.parent = basement) {\r\n            MoveObject (game.pov, kitchen)\r\n          }\r\n          else {\r\n            MoveObject (game.pov, basement)\r\n          }\r\n        }\r\n        else {\r\n          msg (\"It's closed.\")\r\n        }\r\n      }\r\n    </script>\r\n  </command>\r\n  <verb>\r\n    <property>lookthrough</property>\r\n    <pattern>look through</pattern>\r\n    <defaultexpression>\"You can't look through \" + object.article + \".\"</defaultexpression>\r\n  </verb>\r\n</asl>\r\n```",
      "EditableFormat": "markdown",
      "HTML": "<p>I couldn't find the thread...</p>\n<p>This isn't exactly what you want to happen, but it may help.</p>\n<p>If you open the basement door, fog rolls into the house, room by room, depending on how many turns the door has been open.</p>\n<p>When you close the door, the fog stops rolling in, but the rooms with fog in them remain foggy.</p>\n<pre><code>&lt;!--Saved by Quest 5.7.6404.15496--&gt;\n&lt;asl version=\"550\"&gt;\n  &lt;include ref=\"English.aslx\" /&gt;\n  &lt;include ref=\"Core.aslx\" /&gt;\n  &lt;game name=\"The Fog Rolls In\"&gt;\n    &lt;gameid&gt;5950d7a6-16e7-455b-8202-b018031419f7&lt;/gameid&gt;\n    &lt;version&gt;1.1&lt;/version&gt;\n    &lt;firstpublished&gt;2017&lt;/firstpublished&gt;\n    &lt;foggy type=\"int\"&gt;0&lt;/foggy&gt;\n    &lt;start type=\"script\"&gt;\n    &lt;/start&gt;\n    &lt;changedfoggy type=\"script\"&gt;\n      switch (game.foggy) {\n        case (1) {\n          kitchen.foggy = true\n        }\n        case (2) {\n          dining room.foggy = true\n        }\n        case (4) {\n          living room.foggy = true\n          den.foggy = true\n        }\n        case (6) {\n          bedroom.foggy = true\n        }\n      }\n    &lt;/changedfoggy&gt;\n  &lt;/game&gt;\n  &lt;object name=\"living room\"&gt;\n    &lt;inherit name=\"editor_room\" /&gt;\n    &lt;foggy type=\"boolean\"&gt;false&lt;/foggy&gt;\n    &lt;changedfoggy type=\"script\"&gt;&lt;![CDATA[\n      this.description = this.description + \"&lt;br/&gt;&lt;br/&gt;It's foggy in here.\"\n    ]]&gt;&lt;/changedfoggy&gt;\n    &lt;object name=\"player\"&gt;\n      &lt;inherit name=\"editor_object\" /&gt;\n      &lt;inherit name=\"editor_player\" /&gt;\n    &lt;/object&gt;\n    &lt;exit alias=\"south\" to=\"dining room\"&gt;\n      &lt;inherit name=\"southdirection\" /&gt;\n    &lt;/exit&gt;\n    &lt;exit alias=\"west\" to=\"bedroom\"&gt;\n      &lt;inherit name=\"westdirection\" /&gt;\n    &lt;/exit&gt;\n  &lt;/object&gt;\n  &lt;object name=\"dining room\"&gt;\n    &lt;inherit name=\"editor_room\" /&gt;\n    &lt;foggy type=\"boolean\"&gt;false&lt;/foggy&gt;\n    &lt;changedfoggy type=\"script\"&gt;&lt;![CDATA[\n      this.description = this.description + \"&lt;br/&gt;&lt;br/&gt;It's foggy in here.\"\n    ]]&gt;&lt;/changedfoggy&gt;\n    &lt;exit alias=\"north\" to=\"living room\"&gt;\n      &lt;inherit name=\"northdirection\" /&gt;\n    &lt;/exit&gt;\n    &lt;exit alias=\"east\" to=\"kitchen\"&gt;\n      &lt;inherit name=\"eastdirection\" /&gt;\n    &lt;/exit&gt;\n    &lt;exit alias=\"west\" to=\"den\"&gt;\n      &lt;inherit name=\"westdirection\" /&gt;\n    &lt;/exit&gt;\n  &lt;/object&gt;\n  &lt;object name=\"kitchen\"&gt;\n    &lt;inherit name=\"editor_room\" /&gt;\n    &lt;foggy type=\"boolean\"&gt;false&lt;/foggy&gt;\n    &lt;changedfoggy type=\"script\"&gt;&lt;![CDATA[\n      this.description = this.description + \"&lt;br/&gt;&lt;br/&gt;It's foggy in here.\"\n    ]]&gt;&lt;/changedfoggy&gt;\n    &lt;object name=\"basement door\"&gt;\n      &lt;inherit name=\"editor_object\" /&gt;\n      &lt;inherit name=\"openable\" /&gt;\n      &lt;feature_container /&gt;\n      &lt;displayverbs type=\"stringlist\"&gt;\n        &lt;value&gt;Look at&lt;/value&gt;\n        &lt;value&gt;Open&lt;/value&gt;\n        &lt;value&gt;Close&lt;/value&gt;\n        &lt;value&gt;Enter&lt;/value&gt;\n      &lt;/displayverbs&gt;\n      &lt;takemsg&gt;It's fixed in place.&lt;/takemsg&gt;\n      &lt;openscript type=\"script\"&gt;&lt;![CDATA[\n        msg (\"You open it.\")\n        this.isopen = true\n        if (not to_basement.visible) {\n          MakeExitVisible (to_basement)\n          msg (\"&lt;br/&gt;You can go {exit:to_basement}.\")\n        }\n        EnableTurnScript (fog)\n        basement_view.visible = true\n        kitchen_view.visible = true\n      ]]&gt;&lt;/openscript&gt;\n      &lt;closescript type=\"script\"&gt;\n        msg (\"You close it.\")\n        this.isopen = false\n        MakeExitInvisible (to_basement)\n        DisableTurnScript (fog)\n        basement_view.visible = false\n        kitchen_view.visible = false\n      &lt;/closescript&gt;\n      &lt;look&gt;It's {either basement door.isopen=true:open|closed}.&lt;/look&gt;\n    &lt;/object&gt;\n    &lt;exit name=\"to_basement\" alias=\"into the basement\" to=\"basement\"&gt;\n      &lt;visible type=\"boolean\"&gt;false&lt;/visible&gt;\n    &lt;/exit&gt;\n    &lt;exit alias=\"west\" to=\"dining room\"&gt;\n      &lt;inherit name=\"westdirection\" /&gt;\n    &lt;/exit&gt;\n    &lt;object name=\"basement_view\"&gt;\n      &lt;inherit name=\"editor_object\" /&gt;\n      &lt;alias&gt;basement&lt;/alias&gt;\n      &lt;scenery /&gt;\n      &lt;visible type=\"boolean\"&gt;false&lt;/visible&gt;\n      &lt;look&gt;You could get a better look if you went inside.&lt;/look&gt;\n      &lt;displayverbs type=\"stringlist\"&gt;\n        &lt;value&gt;Look at&lt;/value&gt;\n      &lt;/displayverbs&gt;\n    &lt;/object&gt;\n  &lt;/object&gt;\n  &lt;object name=\"bedroom\"&gt;\n    &lt;inherit name=\"editor_room\" /&gt;\n    &lt;foggy type=\"boolean\"&gt;false&lt;/foggy&gt;\n    &lt;changedfoggy type=\"script\"&gt;&lt;![CDATA[\n      this.description = this.description + \"&lt;br/&gt;&lt;br/&gt;It's foggy in here.\"\n    ]]&gt;&lt;/changedfoggy&gt;\n    &lt;beforeenter type=\"script\"&gt;\n    &lt;/beforeenter&gt;\n    &lt;onexit type=\"script\"&gt;\n    &lt;/onexit&gt;\n    &lt;exit alias=\"south\" to=\"den\"&gt;\n      &lt;inherit name=\"southdirection\" /&gt;\n    &lt;/exit&gt;\n    &lt;exit alias=\"east\" to=\"living room\"&gt;\n      &lt;inherit name=\"eastdirection\" /&gt;\n    &lt;/exit&gt;\n  &lt;/object&gt;\n  &lt;object name=\"den\"&gt;\n    &lt;inherit name=\"editor_room\" /&gt;\n    &lt;foggy type=\"boolean\"&gt;false&lt;/foggy&gt;\n    &lt;changedfoggy type=\"script\"&gt;&lt;![CDATA[\n      this.description = this.description + \"&lt;br/&gt;&lt;br/&gt;It's foggy in here.\"\n    ]]&gt;&lt;/changedfoggy&gt;\n    &lt;exit alias=\"east\" to=\"dining room\"&gt;\n      &lt;inherit name=\"eastdirection\" /&gt;\n    &lt;/exit&gt;\n    &lt;exit alias=\"north\" to=\"bedroom\"&gt;\n      &lt;inherit name=\"northdirection\" /&gt;\n    &lt;/exit&gt;\n  &lt;/object&gt;\n  &lt;object name=\"basement\"&gt;\n    &lt;inherit name=\"editor_room\" /&gt;\n    &lt;description&gt;The window is open, and fog is pouring in.&lt;/description&gt;\n    &lt;beforeenter type=\"script\"&gt;\n      MoveObjectHere (basement door)\n    &lt;/beforeenter&gt;\n    &lt;onexit type=\"script\"&gt;\n      MoveObjectHere (basement door)\n    &lt;/onexit&gt;\n    &lt;object name=\"window\"&gt;\n      &lt;inherit name=\"editor_object\" /&gt;\n      &lt;inherit name=\"openable\" /&gt;\n      &lt;feature_container /&gt;\n      &lt;close /&gt;\n      &lt;takemsg&gt;It's fixed in place.&lt;/takemsg&gt;\n      &lt;closescript type=\"script\"&gt;\n        msg (\"You can't.  It's stuck.\")\n      &lt;/closescript&gt;\n      &lt;look&gt;It's open and fog is rolling in through it.&lt;/look&gt;\n      &lt;lookthrough&gt;You see nothing but fog out there.&lt;/lookthrough&gt;\n    &lt;/object&gt;\n    &lt;exit alias=\"out\" to=\"kitchen\"&gt;\n      &lt;inherit name=\"outdirection\" /&gt;\n    &lt;/exit&gt;\n    &lt;object name=\"kitchen_view\"&gt;\n      &lt;inherit name=\"editor_object\" /&gt;\n      &lt;alias&gt;kitchen&lt;/alias&gt;\n      &lt;look&gt;You could get a better look if you went inside.&lt;/look&gt;\n      &lt;displayverbs type=\"stringlist\"&gt;\n        &lt;value&gt;Look at&lt;/value&gt;\n      &lt;/displayverbs&gt;\n      &lt;visible type=\"boolean\"&gt;false&lt;/visible&gt;\n      &lt;scenery /&gt;\n    &lt;/object&gt;\n  &lt;/object&gt;\n  &lt;turnscript name=\"fog\"&gt;\n    &lt;script&gt;\n      game.foggy = game.foggy + 1\n    &lt;/script&gt;\n  &lt;/turnscript&gt;\n  &lt;command name=\"enter_cmd\"&gt;\n    &lt;pattern&gt;enter #object#&lt;/pattern&gt;\n    &lt;script&gt;\n      if (not object = basement door) {\n        msg (\"You can't enter \"+object.article+\".\")\n      }\n      else {\n        if (basement door.isopen) {\n          if (game.pov.parent = basement) {\n            MoveObject (game.pov, kitchen)\n          }\n          else {\n            MoveObject (game.pov, basement)\n          }\n        }\n        else {\n          msg (\"It's closed.\")\n        }\n      }\n    &lt;/script&gt;\n  &lt;/command&gt;\n  &lt;verb&gt;\n    &lt;property&gt;lookthrough&lt;/property&gt;\n    &lt;pattern&gt;look through&lt;/pattern&gt;\n    &lt;defaultexpression&gt;\"You can't look through \" + object.article + \".\"&lt;/defaultexpression&gt;\n  &lt;/verb&gt;\n&lt;/asl&gt;\n</code></pre>\n\n",
      "PostDate": "2017-12-28T05:27:35.7874973Z",
      "LastEditDate": "2017-12-28T05:29:33.4573808Z",
      "link": null
    },
    {
      "PostId": "c9174875-0e6c-441e-9172-d35d9c3d3ff4",
      "UserId": 262169,
      "Username": "Laraqua",
      "AvatarUrl": "https://secure.gravatar.com/avatar/62e7b4391dc6f205a4820699c027a564?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Oh wow, cool!",
      "EditableFormat": "markdown",
      "HTML": "<p>Oh wow, cool!</p>\n\n",
      "PostDate": "2017-12-28T08:27:18.134858Z",
      "LastEditDate": null,
      "link": null
    }
  ]
}
