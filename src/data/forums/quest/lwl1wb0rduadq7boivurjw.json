{
  "Topic": {
    "TopicId": "lwl1wb0rduadq7boivurjw",
    "ForumId": "10",
    "Title": "A WAY TO ADD CUSTOM \"PARTY\" STATUS PANE & MANY OTHER LITTLE PROBLEMS",
    "LastUpdated": "2020-01-07T15:45:59.3712136Z",
    "ReplyCount": 0
  },
  "Posts": [
    {
      "PostId": "11443a37-53cf-4dbd-9e95-dd9e1e1b6388",
      "UserId": 445604,
      "Username": "Y4T5UR0",
      "AvatarUrl": "https://i.imgur.com/HJN9Gwwb.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Soo, I come up with another problem. Also, I'm sorry if it's not clear enough. I'm bad at explaining things.\r\nFirst of all, here is what I'm trying to do:\r\n1. I want to create a customized status pane (and customized command pane, which doesn't really matter but I'd prefer to fix it if it's possible and if you don't mind).\r\n- I tried setting JS.setCustomStatus on the start script on the **game object** as it's written in the tutorial and I did visit several other related posts but I am still lost.\r\n\r\n2. So I planned to have the customized status pane to actually be a list of the members in the player's party.\r\n- I found a post about \"How to make a party\" which seemed to be related, but as far as I read, it was about characters following the player. I did fix the following player problem soon after that, though. I tried to make a new object list called as player.party, and the NPCs, when they decide to \"follow\" the player, will be added to this party. I also made a boolean attribute in which the player, or the characters will be added to the list if the attribute is true (I deleted the code for this though, since I don't know if this whole thing can be operated. Hesitant, hesitant).\r\nHere is the part of start script:\r\n```\r\nJS.setCustomStatus (\"Party:\" + player.party)\r\nplayer.party = NewObjectList()\r\n```\r\nI tried to switch the order but it became messed up. The code above is also not working when I tried to do it last time.\r\n(Most of the posts mention HTML. I think I really should learn it soon lol)\r\n\r\n3. If it's possible, I hope I can run a script when I click the party members. Showing commands also do. \r\n- The only thing I can think of to do this is to use a command, but then the commands won't be connected to the list anymore, will it?\r\n\r\n4. Not really important, but can I actually imitate the status pane? Like, making it a drop-down-list-like...\r\n5. Next, I also plan to have the GetInput being limited. I mean, related to my previous post, I wanted to have the players input only alphabets for their name and not including symbols or numbers. Tried using an asterisk (*) (since that's what you do in microsoft access) but seems like it doesn't work here in the coding world hehe~\r\n6. Another thing in my mind - not so important is, how can I hide panes? I wish to only make the party pane visible only after the first time the player has a member.\r\n\r\nI'm sorry for the troubles and the many questions. Just wish I don't have to create new topics many times. (._.)\r\nEither way, I'm sorry if I can't check or reply anytime soon due to my current schedule. Wish the holiday is a bit longer~",
      "EditableFormat": "markdown",
      "HTML": "<p>Soo, I come up with another problem. Also, I'm sorry if it's not clear enough. I'm bad at explaining things.<br>\nFirst of all, here is what I'm trying to do:</p>\n<ol>\n<li>I want to create a customized status pane (and customized command pane, which doesn't really matter but I'd prefer to fix it if it's possible and if you don't mind).</li>\n</ol>\n<ul>\n<li>I tried setting JS.setCustomStatus on the start script on the <strong>game object</strong> as it's written in the tutorial and I did visit several other related posts but I am still lost.</li>\n</ul>\n<ol start=\"2\">\n<li>So I planned to have the customized status pane to actually be a list of the members in the player's party.</li>\n</ol>\n<ul>\n<li>I found a post about \"How to make a party\" which seemed to be related, but as far as I read, it was about characters following the player. I did fix the following player problem soon after that, though. I tried to make a new object list called as player.party, and the NPCs, when they decide to \"follow\" the player, will be added to this party. I also made a boolean attribute in which the player, or the characters will be added to the list if the attribute is true (I deleted the code for this though, since I don't know if this whole thing can be operated. Hesitant, hesitant).<br>\nHere is the part of start script:</li>\n</ul>\n<pre><code>JS.setCustomStatus (\"Party:\" + player.party)\nplayer.party = NewObjectList()\n</code></pre>\n<p>I tried to switch the order but it became messed up. The code above is also not working when I tried to do it last time.<br>\n(Most of the posts mention HTML. I think I really should learn it soon lol)</p>\n<ol start=\"3\">\n<li>If it's possible, I hope I can run a script when I click the party members. Showing commands also do.</li>\n</ol>\n<ul>\n<li>The only thing I can think of to do this is to use a command, but then the commands won't be connected to the list anymore, will it?</li>\n</ul>\n<ol start=\"4\">\n<li>Not really important, but can I actually imitate the status pane? Like, making it a drop-down-list-like...</li>\n<li>Next, I also plan to have the GetInput being limited. I mean, related to my previous post, I wanted to have the players input only alphabets for their name and not including symbols or numbers. Tried using an asterisk (*) (since that's what you do in microsoft access) but seems like it doesn't work here in the coding world hehe~</li>\n<li>Another thing in my mind - not so important is, how can I hide panes? I wish to only make the party pane visible only after the first time the player has a member.</li>\n</ol>\n<p>I'm sorry for the troubles and the many questions. Just wish I don't have to create new topics many times. (._.)<br>\nEither way, I'm sorry if I can't check or reply anytime soon due to my current schedule. Wish the holiday is a bit longer~</p>\n\n",
      "PostDate": "2020-01-07T15:45:59.3712136Z",
      "LastEditDate": "2020-01-07T15:47:53.7263361Z",
      "link": null
    },
    {
      "PostId": "3fadebfd-c7e3-486a-a6b2-d93cf1f07910",
      "UserId": 282833,
      "Username": "Io",
      "AvatarUrl": "http://i.imgur.com/XVmdocTb.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Hmm, I don't know enough about JScript to help with this, sorry.\r\n\r\nAlso, I'm not SURE, but I don't know if object attributes can be object lists? The game doesn't give it as an option, I know that much.",
      "EditableFormat": "markdown",
      "HTML": "<p>Hmm, I don't know enough about JScript to help with this, sorry.</p>\n<p>Also, I'm not SURE, but I don't know if object attributes can be object lists? The game doesn't give it as an option, I know that much.</p>\n\n",
      "PostDate": "2020-01-09T01:20:19.0562321Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "3b766c94-9f15-47db-979f-6dbe7f22a86d",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": ">     JS.setCustomStatus (\"Party:\" + player.party)\r\n>     player.party = NewObjectList()\r\n\r\nThe first thing I notice is that you're casting an objectlist to a string. This will probably make your status pane look something like: \"Party: List: Object: Dave, Object: John, Object: Rick\". - I'm pretty sure that isn't what you want.\r\n\r\nSecondly, do you really want to set `player.party` to an empty list every time it's displayed?\r\n\r\nOh, you're doing this in the start script. Are you calling `setCustomStatus` again when a party member is added or removed later? The contents of the custom status pane only change when you call it manually.\r\n\r\n> Next, I also plan to have the GetInput being limited. I mean, related to my previous post, I wanted to have the players input only alphabets for their name and not including symbols or numbers. \r\n\r\n```\r\nif (IsRegexMatch (\"[^A-Za-z ]\", result)) {\r\n  msg (\"That isn't a valid name!\")\r\n}\r\n```\r\nOr if you want to be a little more fancy, you could use the <a href=\"https://igorescobar.github.io/jQuery-Mask-Plugin/\">jquery mask plugin</a>, which allows you to put restrictions on the textbox so that disallowed characters don't even appear.\r\n\r\n> Not really important, but can I actually imitate the status pane? Like, making it a drop-down-list-like...\r\n\r\nDo you mean putting party members in a different box that works like the \"inventory\" and \"placesobjects\" panes?\r\nI wrote a script a while back to make a 3rd pane for a spellbook, which I think should be adaptable.\r\n\r\nIt's a pretty large chunk of code, though.",
      "EditableFormat": "markdown",
      "HTML": "<blockquote>\n<pre><code>JS.setCustomStatus (\"Party:\" + player.party)\nplayer.party = NewObjectList()\n</code></pre>\n</blockquote>\n<p>The first thing I notice is that you're casting an objectlist to a string. This will probably make your status pane look something like: \"Party: List: Object: Dave, Object: John, Object: Rick\". - I'm pretty sure that isn't what you want.</p>\n<p>Secondly, do you really want to set <code>player.party</code> to an empty list every time it's displayed?</p>\n<p>Oh, you're doing this in the start script. Are you calling <code>setCustomStatus</code> again when a party member is added or removed later? The contents of the custom status pane only change when you call it manually.</p>\n<blockquote>\n<p>Next, I also plan to have the GetInput being limited. I mean, related to my previous post, I wanted to have the players input only alphabets for their name and not including symbols or numbers.</p>\n</blockquote>\n<pre><code>if (IsRegexMatch (\"[^A-Za-z ]\", result)) {\n  msg (\"That isn't a valid name!\")\n}\n</code></pre>\n<p>Or if you want to be a little more fancy, you could use the <a href=\"https://igorescobar.github.io/jQuery-Mask-Plugin/\">jquery mask plugin</a>, which allows you to put restrictions on the textbox so that disallowed characters don't even appear.</p>\n<blockquote>\n<p>Not really important, but can I actually imitate the status pane? Like, making it a drop-down-list-like...</p>\n</blockquote>\n<p>Do you mean putting party members in a different box that works like the \"inventory\" and \"placesobjects\" panes?<br>\nI wrote a script a while back to make a 3rd pane for a spellbook, which I think should be adaptable.</p>\n<p>It's a pretty large chunk of code, though.</p>\n\n",
      "PostDate": "2020-01-09T11:00:51.7929441Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "5f93fd60-6e25-4879-8370-96010680cdb6",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "A little thought about restricting input.\r\n\r\nHow about:\r\n```\r\nJS.eval(\"$('#txtCommand').on('input', function () {$(this).val($(this).val().replace(/[^A-Za-z ]/, ''));});\")\r\n```\r\n\r\nRemoves all characters except from A-Z, a-z, and space from the command bar every time the user changes its contents.\r\n\r\nCan be reverted by using:\r\n```\r\nJS.eval(\"$('#txtCommand').off('input')\");\r\n```\r\nif you want to allow numbers at some point.",
      "EditableFormat": "markdown",
      "HTML": "<p>A little thought about restricting input.</p>\n<p>How about:</p>\n<pre><code>JS.eval(\"$('#txtCommand').on('input', function () {$(this).val($(this).val().replace(/[^A-Za-z ]/, ''));});\")\n</code></pre>\n<p>Removes all characters except from A-Z, a-z, and space from the command bar every time the user changes its contents.</p>\n<p>Can be reverted by using:</p>\n<pre><code>JS.eval(\"$('#txtCommand').off('input')\");\n</code></pre>\n<p>if you want to allow numbers at some point.</p>\n\n",
      "PostDate": "2020-01-09T22:35:12.1299171Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "925dc29a-9818-4c91-909d-6925c2a186b5",
      "UserId": 445604,
      "Username": "Y4T5UR0",
      "AvatarUrl": "https://i.imgur.com/HJN9Gwwb.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Thanks. I'm sorry for the late reply. I will try as soon as I can!",
      "EditableFormat": "markdown",
      "HTML": "<p>Thanks. I'm sorry for the late reply. I will try as soon as I can!</p>\n\n",
      "PostDate": "2020-01-12T05:56:48.6442707Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "d0518827-875f-46e6-900d-d337c415faf6",
      "UserId": 445604,
      "Username": "Y4T5UR0",
      "AvatarUrl": "https://i.imgur.com/HJN9Gwwb.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Sorry for the late reply.\r\n@mrangel thanks for the help, though. It's all working. Just a little question, though, for the list in the JS.setCustomStatus. I did try recalling the javascript every time I want it to update, but it doesn't seem to be working, as expected. Any idea about adding the list of party members in the status pane?\r\nAlso, what should I do if I want to convert library code in notepad into a format readable by Quest?",
      "EditableFormat": "markdown",
      "HTML": "<p>Sorry for the late reply.<br>\n@mrangel thanks for the help, though. It's all working. Just a little question, though, for the list in the JS.setCustomStatus. I did try recalling the javascript every time I want it to update, but it doesn't seem to be working, as expected. Any idea about adding the list of party members in the status pane?<br>\nAlso, what should I do if I want to convert library code in notepad into a format readable by Quest?</p>\n\n",
      "PostDate": "2020-02-01T05:54:59.7692372Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "4c6d7ed6-0048-4315-8b3e-0ed5b082f62d",
      "UserId": 445604,
      "Username": "Y4T5UR0",
      "AvatarUrl": "https://i.imgur.com/HJN9Gwwb.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "._.",
      "EditableFormat": "markdown",
      "HTML": "<p>._.</p>\n\n",
      "PostDate": "2020-02-05T16:15:48.1497172Z",
      "LastEditDate": null,
      "link": null
    }
  ]
}
