{
  "Topic": {
    "TopicId": "bvm0hqyfm0ut0zcpvvac0q",
    "ForumId": "10",
    "Title": "\"If  Attribute\" combos help",
    "LastUpdated": "2020-01-03T17:00:31.1445701Z",
    "ReplyCount": 0
  },
  "Posts": [
    {
      "PostId": "937b840c-d132-4c93-95a9-69625a346d09",
      "UserId": 301405,
      "Username": "CheshireTiger",
      "AvatarUrl": "https://i.imgur.com/dGwXAqub.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "so I've run into some errors while using an attribute on player character to learn skills from npc\r\nthe first happens here, when player can see details about next skill:\r\n```\r\nif (HasAttribute(Kurota, \"Skills\")) {\r\n  PrintCentered (\"Dash & Slash {Blade} S dammage to all enemies\")\r\n}\r\nelse if (Kurota.Skills = 1) {\r\n  PrintCentered (\"Breeze [Gust} S damage to all enemies\")\r\n}\r\n```\r\nThen there is another when given the option to learn the next skill:\r\n```\r\nif (Kurota.Skills = 0) {\r\n  msg (\"Dalia teaches you how to slash while running past enemies. She says its a simple teqnique compared to other things she can teach you...\")\r\n  PrintCentered (\"~NEW SKILL: Dash & Slash~\")\r\n  set (Kurota, Skills, = 1)\r\n}\r\nelse if (Kurota.Skills = 1) {\r\n  msg (\"After telling Dalia how you handled the trapper, she helps you work on that skill until it affects a wider area.\")\r\n  PrintCentered (\"~NEW SKILL: Breeze~\")\r\n  set (Kurota, Skills,  = 2)\r\n```\r\nId also like to have an inventory item show a list of all curennt skills, displaying each one as the attribute value increases like:\r\n```\r\nif (Kurota.Skills > 0) {\r\nmsg (\"Dash & Slash: {Blade} S damage all enemies\")\r\n}\r\nif (Kurota.Skills > 1) {\r\nmsg (\"Breeze: [Gust] S damage all enemies\")\r\n}\r\n```\r\nI Realize im asking about 3 issues at once, and I dont expect replies to tackle aal 3 at once, but any help would be apreciated",
      "EditableFormat": "markdown",
      "HTML": "<p>so I've run into some errors while using an attribute on player character to learn skills from npc<br>\nthe first happens here, when player can see details about next skill:</p>\n<pre><code>if (HasAttribute(Kurota, \"Skills\")) {\n  PrintCentered (\"Dash &amp; Slash {Blade} S dammage to all enemies\")\n}\nelse if (Kurota.Skills = 1) {\n  PrintCentered (\"Breeze [Gust} S damage to all enemies\")\n}\n</code></pre>\n<p>Then there is another when given the option to learn the next skill:</p>\n<pre><code>if (Kurota.Skills = 0) {\n  msg (\"Dalia teaches you how to slash while running past enemies. She says its a simple teqnique compared to other things she can teach you...\")\n  PrintCentered (\"~NEW SKILL: Dash &amp; Slash~\")\n  set (Kurota, Skills, = 1)\n}\nelse if (Kurota.Skills = 1) {\n  msg (\"After telling Dalia how you handled the trapper, she helps you work on that skill until it affects a wider area.\")\n  PrintCentered (\"~NEW SKILL: Breeze~\")\n  set (Kurota, Skills,  = 2)\n</code></pre>\n<p>Id also like to have an inventory item show a list of all curennt skills, displaying each one as the attribute value increases like:</p>\n<pre><code>if (Kurota.Skills &gt; 0) {\nmsg (\"Dash &amp; Slash: {Blade} S damage all enemies\")\n}\nif (Kurota.Skills &gt; 1) {\nmsg (\"Breeze: [Gust] S damage all enemies\")\n}\n</code></pre>\n<p>I Realize im asking about 3 issues at once, and I dont expect replies to tackle aal 3 at once, but any help would be apreciated</p>\n\n",
      "PostDate": "2020-01-03T17:00:31.1445701Z",
      "LastEditDate": "2020-01-03T17:04:12.5755169Z",
      "link": null
    },
    {
      "PostId": "1a16ba5c-be34-45ac-87d9-cac40f9abb4b",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Not sure if someone else will have answered these before me, as I got called for dinner in the middle of writing my answer. But here it is anyway:\r\n\r\n>     if (HasAttribute(Kurota, \"Skills\")) {\r\n>       PrintCentered (\"Dash & Slash {Blade} S dammage to all enemies\")\r\n>     }\r\n>     else if (Kurota.Skills = 1) {\r\n>       PrintCentered (\"Breeze [Gust} S damage to all enemies\")\r\n>     }\r\n\r\nIf they have an attribute called \"Skills\", the first part runs, regardless of what value the attribute has.\r\n\r\nIf they *don't* have an attribute called skills, Quest looks at the `else if` statement, which compares the attribute to the number 1. This will cause an error, because you can't compare a number to a value that isn't defined.\r\n(In Quest, an undefined attribute has the special value `null` which is technically an object, so this will generate an error message telling you that `=` can't compare an object to an int)\r\n\r\nLooking at the others, I'm guessing that you probably meant:\r\n\r\n<pre><code>if (<b style=\"border: 1px solid blue\">Kurota.Skills = 0</b>) {\r\n  PrintCentered (\"Dash & Slash {Blade} S damage to all enemies\")\r\n}\r\nelse if (Kurota.Skills = 1) {\r\n  PrintCentered (\"Breeze [Gust} S damage to all enemies\")\r\n}</code></pre>\r\n\r\nHowever, this would still fail if `Kurota.Skills` has no value at all. If the attribute isn't set to 0 initially, you might want to test it first with something like:\r\n\r\n<pre><code><div style=\"border: 1px solid green\">if (not HasInt (Kurota, \"Skills\")) {\r\n  Kurota.Skills = 0\r\n}</div>if (Kurota.Skills = 0) {\r\n  PrintCentered (\"Dash & Slash {Blade} S damage to all enemies\")\r\n}\r\nelse if (Kurota.Skills = 1) {\r\n  PrintCentered (\"Breeze [Gust} S damage to all enemies\")\r\n}</code></pre>\r\n(setting the attribute to 0 if it hasn't been initialised yet)\r\nor if you want \"not yet defined\" to mean something different from zero:\r\n<pre><code><div style=\"border: 1px solid green\">if (HasInt (Kurota, \"Skills\")) {</div>  if (Kurota.Skills = 0) {\r\n    PrintCentered (\"Dash & Slash {Blade} S damage to all enemies\")\r\n  }\r\n  else if (Kurota.Skills = 1) {\r\n    PrintCentered (\"Breeze [Gust} S damage to all enemies\")\r\n  }<div style=\"border: 1px solid green\">}\r\nelse {\r\n  <i style=\"font-family: sans\">Some code you want it to run if Kurota.Skills doesn't have a value at all</i>\r\n}</div></code></pre>\r\n\r\n<hr style=\"border-top: 2px dotted gray\"/>\r\n\r\n**An aside:** It's probably worth noting at this point that if you're going to compare one attribute to a lot of different numbers, it's more efficient to use `switch` than `if`. In your example, Quest is looking up the value of `Kurota.Skills` every time it compares it to a number. It's not a big difference, but this version would only need to look it up once:\r\n```\r\nswitch (Kurota.Skills) {\r\n  case (0) {\r\n    msg (\"Dash & Slash: {Blade} S damage all enemies\")\r\n  }\r\n  case (1) {\r\n    msg (\"Breeze: [Gust] S damage all enemies\")\r\n  }\r\n}\r\n```\r\nThe switch statement looks up the value of the attribute you pass to it, and then skips to the first `case` with the same value. It's more efficient than using lots of `else if`; like looking up the thing you want in the index of a book, rather than turning pages until you find it.\r\nProbably won't make enough difference for a player to notice, but it's worth knowing.\r\n\r\n<hr style=\"border-top: 2px dotted gray\"/>\r\n\r\n**Second piece of code:**\r\n\r\nYou have:\r\n>     set (Kurota, Skills, = 1)\r\n\r\nI think you mean either:\r\n<pre><code>Kurota.Skills = 1</code></pre>\r\nor\r\n<pre><code>set (Kurota, \"Skills\", 1)</code></pre>\r\n\r\nThose two mean pretty much the same thing.\r\n\r\nNote that you use the `=` sign or the `set` keyword, but not both; and the two have slightly different grammar:\r\n* The `=` operator has *two* operands:\r\n     * **Left hand side operand:** - a variable or an attribute\r\n     * **Right hand side operand:** - the value you want to set it to\r\n* While the `set` statement has *three* parameters:\r\n     * **1st parameter:** An object\r\n     * **2nd parameter:** The **name** of an attribute (so you either put it in quotes, or give a variable that contains the name of the attribute)\r\n     * **3rd parameter:** The value you want to set it to\r\n\r\n<hr style=\"border-top: 2px dotted gray\"/>\r\n\r\n**Third piece of code:**\r\n\r\nThat looks correct.\r\n\r\nIf it isn't working, could you give some more information? When you have a problem, there are 4 things we need to work out what's wrong:\r\n1) Code\r\n2) Test context\r\n3) Expected result\r\n4) Actual result\r\n\r\n(This is a useful step towards thinking like a programmer. If you can phrase a problem as <big>\"I'm trying this code: [quoted code] with the attributes set to [list of any attributes the code uses and their values when you tested it]. I expected it to output [quoted text] but instead it gave me [quoted text]\"</big> then that's probably all the information a programmer needs to spot the problem. And once you get used to the language, you'll probably find that writing it like that makes you more likely to notice the problem",
      "EditableFormat": "markdown",
      "HTML": "<p>Not sure if someone else will have answered these before me, as I got called for dinner in the middle of writing my answer. But here it is anyway:</p>\n<blockquote>\n<pre><code>if (HasAttribute(Kurota, \"Skills\")) {\n  PrintCentered (\"Dash &amp; Slash {Blade} S dammage to all enemies\")\n}\nelse if (Kurota.Skills = 1) {\n  PrintCentered (\"Breeze [Gust} S damage to all enemies\")\n}\n</code></pre>\n</blockquote>\n<p>If they have an attribute called \"Skills\", the first part runs, regardless of what value the attribute has.</p>\n<p>If they <em>don't</em> have an attribute called skills, Quest looks at the <code>else if</code> statement, which compares the attribute to the number 1. This will cause an error, because you can't compare a number to a value that isn't defined.<br>\n(In Quest, an undefined attribute has the special value <code>null</code> which is technically an object, so this will generate an error message telling you that <code>=</code> can't compare an object to an int)</p>\n<p>Looking at the others, I'm guessing that you probably meant:</p>\n<pre><code>if (<b style=\"border: 1px solid blue\">Kurota.Skills = 0</b>) {\n  PrintCentered (\"Dash &amp; Slash {Blade} S damage to all enemies\")\n}\nelse if (Kurota.Skills = 1) {\n  PrintCentered (\"Breeze [Gust} S damage to all enemies\")\n}</code></pre>\n<p>However, this would still fail if <code>Kurota.Skills</code> has no value at all. If the attribute isn't set to 0 initially, you might want to test it first with something like:</p>\n<pre><code><div style=\"border: 1px solid green\">if (not HasInt (Kurota, \"Skills\")) {\n  Kurota.Skills = 0\n}</div>if (Kurota.Skills = 0) {\n  PrintCentered (\"Dash &amp; Slash {Blade} S damage to all enemies\")\n}\nelse if (Kurota.Skills = 1) {\n  PrintCentered (\"Breeze [Gust} S damage to all enemies\")\n}</code></pre>\n<p>(setting the attribute to 0 if it hasn't been initialised yet)<br>\nor if you want \"not yet defined\" to mean something different from zero:</p>\n<pre><code><div style=\"border: 1px solid green\">if (HasInt (Kurota, \"Skills\")) {</div>  if (Kurota.Skills = 0) {\n    PrintCentered (\"Dash &amp; Slash {Blade} S damage to all enemies\")\n  }\n  else if (Kurota.Skills = 1) {\n    PrintCentered (\"Breeze [Gust} S damage to all enemies\")\n  }<div style=\"border: 1px solid green\">}\nelse {\n  <i style=\"font-family: sans\">Some code you want it to run if Kurota.Skills doesn't have a value at all</i>\n}</div></code></pre>\n<hr style=\"border-top: 2px dotted gray\">\n<p><strong>An aside:</strong> It's probably worth noting at this point that if you're going to compare one attribute to a lot of different numbers, it's more efficient to use <code>switch</code> than <code>if</code>. In your example, Quest is looking up the value of <code>Kurota.Skills</code> every time it compares it to a number. It's not a big difference, but this version would only need to look it up once:</p>\n<pre><code>switch (Kurota.Skills) {\n  case (0) {\n    msg (\"Dash &amp; Slash: {Blade} S damage all enemies\")\n  }\n  case (1) {\n    msg (\"Breeze: [Gust] S damage all enemies\")\n  }\n}\n</code></pre>\n<p>The switch statement looks up the value of the attribute you pass to it, and then skips to the first <code>case</code> with the same value. It's more efficient than using lots of <code>else if</code>; like looking up the thing you want in the index of a book, rather than turning pages until you find it.<br>\nProbably won't make enough difference for a player to notice, but it's worth knowing.</p>\n<hr style=\"border-top: 2px dotted gray\">\n<p><strong>Second piece of code:</strong></p>\n<p>You have:</p>\n<blockquote>\n<pre><code>set (Kurota, Skills, = 1)\n</code></pre>\n</blockquote>\n<p>I think you mean either:</p>\n<pre><code>Kurota.Skills = 1</code></pre>\n<p>or</p>\n<pre><code>set (Kurota, \"Skills\", 1)</code></pre>\n<p>Those two mean pretty much the same thing.</p>\n<p>Note that you use the <code>=</code> sign or the <code>set</code> keyword, but not both; and the two have slightly different grammar:</p>\n<ul>\n<li>The <code>=</code> operator has <em>two</em> operands:\n<ul>\n<li><strong>Left hand side operand:</strong> - a variable or an attribute</li>\n<li><strong>Right hand side operand:</strong> - the value you want to set it to</li>\n</ul>\n</li>\n<li>While the <code>set</code> statement has <em>three</em> parameters:\n<ul>\n<li><strong>1st parameter:</strong> An object</li>\n<li><strong>2nd parameter:</strong> The <strong>name</strong> of an attribute (so you either put it in quotes, or give a variable that contains the name of the attribute)</li>\n<li><strong>3rd parameter:</strong> The value you want to set it to</li>\n</ul>\n</li>\n</ul>\n<hr style=\"border-top: 2px dotted gray\">\n<p><strong>Third piece of code:</strong></p>\n<p>That looks correct.</p>\n<p>If it isn't working, could you give some more information? When you have a problem, there are 4 things we need to work out what's wrong:</p>\n<ol>\n<li>Code</li>\n<li>Test context</li>\n<li>Expected result</li>\n<li>Actual result</li>\n</ol>\n<p>(This is a useful step towards thinking like a programmer. If you can phrase a problem as <big>\"I'm trying this code: [quoted code] with the attributes set to [list of any attributes the code uses and their values when you tested it]. I expected it to output [quoted text] but instead it gave me [quoted text]\"</big> then that's probably all the information a programmer needs to spot the problem. And once you get used to the language, you'll probably find that writing it like that makes you more likely to notice the problem</p>\n\n",
      "PostDate": "2020-01-03T19:30:19.5851272Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "a04467d3-27d3-41ae-bda9-b65c3b10f8bf",
      "UserId": 301405,
      "Username": "CheshireTiger",
      "AvatarUrl": "https://i.imgur.com/dGwXAqub.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Suprise, Mr.Angel, youre the 1st! \r\n\r\nSo i can use 'switch' on the atribe value instead of 'else if'...\r\n\r\n Dont use = with set\r\n\r\nAnd ill try to rephrase if the 3rd part dosent work....\r\n\r\nThanks.",
      "EditableFormat": "markdown",
      "HTML": "<p>Suprise, Mr.Angel, youre the 1st!</p>\n<p>So i can use 'switch' on the atribe value instead of 'else if'...</p>\n<p>Dont use = with set</p>\n<p>And ill try to rephrase if the 3rd part dosent work....</p>\n<p>Thanks.</p>\n\n",
      "PostDate": "2020-01-03T19:48:37.1029872Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "534b2486-4b1d-42ef-a325-212b23cde17f",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Ah… on second look I think the 3rd one might be off by one. You might want to use `>=` (\"greater than or equal to\") instead of `>` (\"greater than\")\r\n\r\nSadly there's no way to make `case` work with greater than or less than. But you can have a case with multiple values separated by commas. (For example, I think `case (null, 0) {` will make this option display if the attribute is zero or if it hasn't been set yet)",
      "EditableFormat": "markdown",
      "HTML": "<p>Ah… on second look I think the 3rd one might be off by one. You might want to use <code>&gt;=</code> (\"greater than or equal to\") instead of <code>&gt;</code> (\"greater than\")</p>\n<p>Sadly there's no way to make <code>case</code> work with greater than or less than. But you can have a case with multiple values separated by commas. (For example, I think <code>case (null, 0) {</code> will make this option display if the attribute is zero or if it hasn't been set yet)</p>\n\n",
      "PostDate": "2020-01-03T20:17:27.497916Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "f3e497ac-62f1-4daa-81b1-1b8a84f31106",
      "UserId": 301405,
      "Username": "CheshireTiger",
      "AvatarUrl": "https://i.imgur.com/dGwXAqub.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Case wont work with </>?  Noted",
      "EditableFormat": "markdown",
      "HTML": "<p>Case wont work with &lt;/&gt;?  Noted</p>\n\n",
      "PostDate": "2020-01-03T21:59:21.6082582Z",
      "LastEditDate": null,
      "link": null
    }
  ]
}
