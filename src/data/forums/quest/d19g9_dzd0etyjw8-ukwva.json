{
  "Topic": {
    "TopicId": "d19g9_dzd0etyjw8-ukwva",
    "ForumId": "10",
    "Title": "[SOLVED] Avoiding Having to Use CDATA (ALSO INCLUDES: A Word of Warning!!!)",
    "LastUpdated": "2021-05-09T16:55:37.9707014Z",
    "ReplyCount": 0
  },
  "Posts": [
    {
      "PostId": "98db1988-c8f9-4ac3-899d-77b6d2e00f63",
      "UserId": 518866,
      "Username": "K.V.",
      "AvatarUrl": "https://secure.gravatar.com/avatar/a97688aadc8152436180b511021e94a7?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "So, I'm working in a text editor, creating libraries for Quest 5. (Right?)\r\n\r\n...and I hate, I hate, I hate when I code something which should be nested in ```<[CDATA[ ]]>```, but I forget to nest it in CDATA. (This is infrequent, but I'd like to eradicate the thought from the back of my mind -- when it does decide to make an appearance.)\r\n\r\nAs far as I know, there are three characters which need to be nested in CDATA: ```<```, ```>``` and ```&```.\r\n\r\nI never use ```&```, and I made a text processor thingy to use ```\"{br}\"``` instead of ```\"<br/>\"```, so I don't have to worry about that.\r\n\r\nI also created greater than and less than functions which return booleans.\r\n\r\nAm I missing anything? (I feel like I am.)",
      "EditableFormat": "markdown",
      "HTML": "<p>So, I'm working in a text editor, creating libraries for Quest 5. (Right?)</p>\n<p>...and I hate, I hate, I hate when I code something which should be nested in <code>&lt;[CDATA[ ]]&gt;</code>, but I forget to nest it in CDATA. (This is infrequent, but I'd like to eradicate the thought from the back of my mind -- when it does decide to make an appearance.)</p>\n<p>As far as I know, there are three characters which need to be nested in CDATA: <code>&lt;</code>, <code>&gt;</code> and <code>&amp;</code>.</p>\n<p>I never use <code>&amp;</code>, and I made a text processor thingy to use <code>\"{br}\"</code> instead of <code>\"&lt;br/&gt;\"</code>, so I don't have to worry about that.</p>\n<p>I also created greater than and less than functions which return booleans.</p>\n<p>Am I missing anything? (I feel like I am.)</p>\n\n",
      "PostDate": "2021-05-09T16:55:37.9707014Z",
      "LastEditDate": "2021-05-10T00:08:55.1731838Z",
      "link": null
    },
    {
      "PostId": "0d4d3f1f-bb80-40de-9df3-499f3e3e971d",
      "UserId": 1346,
      "Username": "The Pixie",
      "AvatarUrl": "https://secure.gravatar.com/avatar/cfa37e927f96177bcf6053ae8f108f77?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "I think it is only < and &. This means you need to always use > in comparisons.\r\n\r\nOr use CDATA for everything.",
      "EditableFormat": "markdown",
      "HTML": "<p>I think it is only &lt; and &amp;. This means you need to always use &gt; in comparisons.</p>\n<p>Or use CDATA for everything.</p>\n\n",
      "PostDate": "2021-05-09T18:35:10.9652134Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "bf59dcf2-eb3f-4955-ab38-1936ce6163f2",
      "UserId": 518866,
      "Username": "K.V.",
      "AvatarUrl": "https://secure.gravatar.com/avatar/a97688aadc8152436180b511021e94a7?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "> I think it is only ```<``` and ```&```. This means you need to always use > in comparisons.\r\n\r\nI thought that, too. In fact, I only had those two listed in the post. Then, I decided to check ```>``` before I clicked post, and if you put ```>``` in a script using the editor, Quest will put that script in CDATA.\r\n\r\nI didn't test it in a library to see if it throws an error. Hold on . . .\r\n\r\nNope. No error. So it *is* just ```<``` and ```&```.  Cool.\r\n\r\n---\r\n> use CDATA for everything.\r\n\r\nThat's what I used to do. (Or at least that's what I used to mean to do. Hehehe.)\r\n\r\nIt makes the text look funny in the VS Code editor.  It's not a big deal at all, really. Just distracting.\r\n\r\nMaybe I should just switch pack to Notepad++ . . .",
      "EditableFormat": "markdown",
      "HTML": "<blockquote>\n<p>I think it is only <code>&lt;</code> and <code>&amp;</code>. This means you need to always use &gt; in comparisons.</p>\n</blockquote>\n<p>I thought that, too. In fact, I only had those two listed in the post. Then, I decided to check <code>&gt;</code> before I clicked post, and if you put <code>&gt;</code> in a script using the editor, Quest will put that script in CDATA.</p>\n<p>I didn't test it in a library to see if it throws an error. Hold on . . .</p>\n<p>Nope. No error. So it <em>is</em> just <code>&lt;</code> and <code>&amp;</code>.  Cool.</p>\n<hr>\n<blockquote>\n<p>use CDATA for everything.</p>\n</blockquote>\n<p>That's what I used to do. (Or at least that's what I used to mean to do. Hehehe.)</p>\n<p>It makes the text look funny in the VS Code editor.  It's not a big deal at all, really. Just distracting.</p>\n<p>Maybe I should just switch pack to Notepad++ . . .</p>\n\n",
      "PostDate": "2021-05-09T19:06:34.5990826Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "a9ea8a0a-6877-459f-a8ab-1c02c45bf03e",
      "UserId": 518866,
      "Username": "K.V.",
      "AvatarUrl": "https://secure.gravatar.com/avatar/a97688aadc8152436180b511021e94a7?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "# **NOTE**\r\n\r\nWe can put a ```>``` in a library's code without nesting the script in ```<![CDATA[ ]]>```, ***but*** Quest will automatically copy that object (or function, or whatever -- the whole block of code which owns the offending character (```>```)) into the game's main code, nested in ```<![CDATA[ ]]>```.\r\n\r\nThat's why my code kept ending up in the main game's code while we were making [Pixie's Quest](https://textadventures.co.uk/games/view/jymfhimg00c5cvrdqna7xa/pixies-quest) a long time ago!\r\n\r\nI'd code something, then change it a little, then the changes wouldn't take effect. I'd eventually find the damned code copied into the main game's code, and I always blamed it on XanMag (not really)!  I even threatened to thump my ashes into his beer, which (if you don't know) causes a beer to foam over. Bwahahahaha! (NOTE: I didn't really threaten to do that. My ashes are too good to thump into XM's Milwaukee's Best Ice! Ha ha ha ha ha!)\r\n\r\nAnyway, I learned something today.  I forget what it was now, but this stuff about the ```>``` causing the code to get copied into the game's code and probably confusing the game author is pretty interesting, too.",
      "EditableFormat": "markdown",
      "HTML": "<h1><strong>NOTE</strong></h1>\n<p>We can put a <code>&gt;</code> in a library's code without nesting the script in <code>&lt;![CDATA[ ]]&gt;</code>, <strong><em>but</em></strong> Quest will automatically copy that object (or function, or whatever -- the whole block of code which owns the offending character (<code>&gt;</code>)) into the game's main code, nested in <code>&lt;![CDATA[ ]]&gt;</code>.</p>\n<p>That's why my code kept ending up in the main game's code while we were making <a href=\"https://textadventures.co.uk/games/view/jymfhimg00c5cvrdqna7xa/pixies-quest\">Pixie's Quest</a> a long time ago!</p>\n<p>I'd code something, then change it a little, then the changes wouldn't take effect. I'd eventually find the damned code copied into the main game's code, and I always blamed it on XanMag (not really)!  I even threatened to thump my ashes into his beer, which (if you don't know) causes a beer to foam over. Bwahahahaha! (NOTE: I didn't really threaten to do that. My ashes are too good to thump into XM's Milwaukee's Best Ice! Ha ha ha ha ha!)</p>\n<p>Anyway, I learned something today.  I forget what it was now, but this stuff about the <code>&gt;</code> causing the code to get copied into the game's code and probably confusing the game author is pretty interesting, too.</p>\n\n",
      "PostDate": "2021-05-10T00:07:44.3206928Z",
      "LastEditDate": "2021-05-10T02:51:21.2828136Z",
      "link": null
    },
    {
      "PostId": "096cfb1c-dd4a-4fbb-8886-6df2e185dd45",
      "UserId": 1346,
      "Username": "The Pixie",
      "AvatarUrl": "https://secure.gravatar.com/avatar/cfa37e927f96177bcf6053ae8f108f77?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "I have certainly used > in libraries without a problem. Could this just be with objects?",
      "EditableFormat": "markdown",
      "HTML": "<p>I have certainly used &gt; in libraries without a problem. Could this just be with objects?</p>\n\n",
      "PostDate": "2021-05-10T07:08:23.4515345Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "9e89c634-23af-48e8-8b86-af4d17cd6421",
      "UserId": 518866,
      "Username": "K.V.",
      "AvatarUrl": "https://secure.gravatar.com/avatar/a97688aadc8152436180b511021e94a7?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Hrmm...\r\n\r\nI tried to make it do it again to double-check, and I changed something else that made Quest copy the object into the game's code.\r\n\r\nNow my theory concerns editing the library file while the game is loaded in the Quest editor and an object in said library with a parent attribute which targets a room in the game's main code.\r\n\r\n---\r\nI tested it out.\r\n\r\nYou are right about ```>```. My ```>``` just happened to be in a script on an object in a library, and the object had a parent attribute targeting a room in the game's main code.\r\n\r\nSo:\r\n\r\n- the Quest editor is open and the game is loaded in it\r\n- open the library file in Notepad++\r\n- make any simple change to the library file and save your change\r\n- Quest is still open and says the library has been modified outside Quest\r\n\r\nAt this point, if I save in Quest before clicking \"Reload\", it copies the object(s) with ```parent``` targeting objects in the game's main code.\r\n\r\nTo be more precise, this only happens if an object in the library has ```parent``` targeting an object in the game's main code ***and*** this was the case before opening the game in Quest. At this point, any change at all to anything in the library will be the first step towards the magic. Then, save Quest before clicking \"Reload\" when prompted. If all these stars align, any objects in the library which have a parent in the main game's code will be copied into the main game's code.\r\n\r\nNote that changing an object in the library to make it have a parent in the game while the editor is open will not trigger this. The library object must be tied to the in-game object before opening Quest to trigger this.",
      "EditableFormat": "markdown",
      "HTML": "<p>Hrmm...</p>\n<p>I tried to make it do it again to double-check, and I changed something else that made Quest copy the object into the game's code.</p>\n<p>Now my theory concerns editing the library file while the game is loaded in the Quest editor and an object in said library with a parent attribute which targets a room in the game's main code.</p>\n<hr>\n<p>I tested it out.</p>\n<p>You are right about <code>&gt;</code>. My <code>&gt;</code> just happened to be in a script on an object in a library, and the object had a parent attribute targeting a room in the game's main code.</p>\n<p>So:</p>\n<ul>\n<li>the Quest editor is open and the game is loaded in it</li>\n<li>open the library file in Notepad++</li>\n<li>make any simple change to the library file and save your change</li>\n<li>Quest is still open and says the library has been modified outside Quest</li>\n</ul>\n<p>At this point, if I save in Quest before clicking \"Reload\", it copies the object(s) with <code>parent</code> targeting objects in the game's main code.</p>\n<p>To be more precise, this only happens if an object in the library has <code>parent</code> targeting an object in the game's main code <strong><em>and</em></strong> this was the case before opening the game in Quest. At this point, any change at all to anything in the library will be the first step towards the magic. Then, save Quest before clicking \"Reload\" when prompted. If all these stars align, any objects in the library which have a parent in the main game's code will be copied into the main game's code.</p>\n<p>Note that changing an object in the library to make it have a parent in the game while the editor is open will not trigger this. The library object must be tied to the in-game object before opening Quest to trigger this.</p>\n\n",
      "PostDate": "2021-05-10T15:17:32.8470276Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "dec6bc4e-41b2-4203-af06-572aaf111408",
      "UserId": 518866,
      "Username": "K.V.",
      "AvatarUrl": "https://secure.gravatar.com/avatar/a97688aadc8152436180b511021e94a7?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "So . . .\r\n\r\nTo negate this worry, I shall no longer use a parent attribute in libraries.  I'll just write a script to handle moving things around while the game is loading.",
      "EditableFormat": "markdown",
      "HTML": "<p>So . . .</p>\n<p>To negate this worry, I shall no longer use a parent attribute in libraries.  I'll just write a script to handle moving things around while the game is loading.</p>\n\n",
      "PostDate": "2021-05-10T16:26:48.831959Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "00d8239f-5596-42e4-b0fb-9bc6659ae303",
      "UserId": 56551,
      "Username": "XanMag",
      "AvatarUrl": "https://secure.gravatar.com/avatar/4b45a3afd18077f76f6569225c422bdb?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "> My ashes are too good to thump into XM's Milwaukee's Best Ice! \r\n\r\n1.  Re: ashes - my beer is too good for your ashes to be thumped into.\r\n\r\n2.  Re: aforementioned beer - That is incredibly insulting and was not advertised that way in “Pixie’s Quest”.  If anyone is wondering what my favorite beer is... maybe you should go play the game!\r\n\r\nhttp://textadventures.co.uk/games/view/-t63d7lfaus4vr6uo4bnka/pixies-quest-link",
      "EditableFormat": "markdown",
      "HTML": "<blockquote>\n<p>My ashes are too good to thump into XM's Milwaukee's Best Ice!</p>\n</blockquote>\n<ol>\n<li>\n<p>Re: ashes - my beer is too good for your ashes to be thumped into.</p>\n</li>\n<li>\n<p>Re: aforementioned beer - That is incredibly insulting and was not advertised that way in “Pixie’s Quest”.  If anyone is wondering what my favorite beer is... maybe you should go play the game!</p>\n</li>\n</ol>\n<p>http://textadventures.co.uk/games/view/-t63d7lfaus4vr6uo4bnka/pixies-quest-link</p>\n\n",
      "PostDate": "2021-05-10T22:19:03.9530166Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "65a778f9-8a95-4a1c-9207-5aab40a1623d",
      "UserId": 5574,
      "Username": "R2T1",
      "AvatarUrl": "http://i.imgur.com/32ogfqMb.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "K.V. \r\nThis makes sense when you stop and think about it. \r\n      If you have a game open along with some referenced libraries and you are editing said game.\r\nIf you then make changes outside of Quest to one of these referenced components and quest sees this, then Quest will/should try to preserve the code as it was in order to keep the status quo.\r\nSaving before or without a reload (to obtain the updated library code) means Quest has to preserve what it has - just in case.\r\n\r\nI hope that makes some sense.",
      "EditableFormat": "markdown",
      "HTML": "<p>K.V.<br>\nThis makes sense when you stop and think about it.<br>\nIf you have a game open along with some referenced libraries and you are editing said game.<br>\nIf you then make changes outside of Quest to one of these referenced components and quest sees this, then Quest will/should try to preserve the code as it was in order to keep the status quo.<br>\nSaving before or without a reload (to obtain the updated library code) means Quest has to preserve what it has - just in case.</p>\n<p>I hope that makes some sense.</p>\n\n",
      "PostDate": "2021-05-11T00:16:18.2091484Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "da49efb2-dad8-454a-a501-25c2d59f779b",
      "UserId": 518866,
      "Username": "K.V.",
      "AvatarUrl": "https://secure.gravatar.com/avatar/a97688aadc8152436180b511021e94a7?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Exactly.\r\n\r\nI should either edit a library or edit the game's main code, not both at once.\r\n\r\nPlus, if I didn't have something in a library with a parent attribute targeting something in the main code **while** editing both at the same time, this wouldn't happen.\r\n\r\nI guess when you click SAVE in Quest, if it finds that you have code in the main code which differs from anything in any included libraries, it saves the code in the game to the code in the game.\r\n\r\nI was trying not to be confusing, but I'm doing crazy stuff and this is just what happens when people do crazy stuff. (They write run-on sentences.)",
      "EditableFormat": "markdown",
      "HTML": "<p>Exactly.</p>\n<p>I should either edit a library or edit the game's main code, not both at once.</p>\n<p>Plus, if I didn't have something in a library with a parent attribute targeting something in the main code <strong>while</strong> editing both at the same time, this wouldn't happen.</p>\n<p>I guess when you click SAVE in Quest, if it finds that you have code in the main code which differs from anything in any included libraries, it saves the code in the game to the code in the game.</p>\n<p>I was trying not to be confusing, but I'm doing crazy stuff and this is just what happens when people do crazy stuff. (They write run-on sentences.)</p>\n\n",
      "PostDate": "2021-05-11T00:48:11.7609309Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "585c6ee2-d579-4e0c-bdd0-fb3845c4652c",
      "UserId": 1346,
      "Username": "The Pixie",
      "AvatarUrl": "https://secure.gravatar.com/avatar/cfa37e927f96177bcf6053ae8f108f77?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "It is a while since I did this, but I have a feeling the editor monitors all the files in the game file, and will notice if any are changed by another program. I suspect this is so image files get updated in the editor if the author changes them.\r\n\r\nAlso, when I have had objects in a library, I think I made sure they were separate from the rest of the game. No objects in the main file have any reference to them, eg via exits.",
      "EditableFormat": "markdown",
      "HTML": "<p>It is a while since I did this, but I have a feeling the editor monitors all the files in the game file, and will notice if any are changed by another program. I suspect this is so image files get updated in the editor if the author changes them.</p>\n<p>Also, when I have had objects in a library, I think I made sure they were separate from the rest of the game. No objects in the main file have any reference to them, eg via exits.</p>\n\n",
      "PostDate": "2021-05-12T06:18:02.1302954Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "8c7f3361-b570-4e69-b52d-05092726660e",
      "UserId": 518866,
      "Username": "K.V.",
      "AvatarUrl": "https://secure.gravatar.com/avatar/a97688aadc8152436180b511021e94a7?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "You are right on both counts, sir.",
      "EditableFormat": "markdown",
      "HTML": "<p>You are right on both counts, sir.</p>\n\n",
      "PostDate": "2021-05-12T19:01:48.337511Z",
      "LastEditDate": null,
      "link": null
    }
  ]
}
