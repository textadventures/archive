{
  "Topic": {
    "TopicId": "3587",
    "ForumId": "10",
    "Title": "Move [object] to [other object]",
    "LastUpdated": "2013-04-02T00:23:47+01:00",
    "ReplyCount": 21
  },
  "Posts": [
    {
      "PostId": "23800",
      "UserId": 0,
      "Username": "psymann",
      "UserAvatar": "6819_1364769382.jpg",
      "UserGravatar": "2d1e5da4ff4691a75d40742f904764d1",
      "EditableText": "Hello\n\nI just discovered Quest recently and have been making some progress figuring out most of the basics.  What a clever program!   <!-- s:D --><img src=\"{SMILIES_PATH}/icon_biggrin.gif\" alt=\":D\" title=\"Very Happy\" /><!-- s:D --> \n\nBut I'm stuck on one particular action that I can't figure out or find on the wiki, so hoping someone here can help.   <!-- s:? --><img src=\"{SMILIES_PATH}/icon_confused.gif\" alt=\":?\" title=\"Confused\" /><!-- s:? --> \n\n\nI have a room called &quot;Kitchen&quot;.\nI have a room called &quot;Study&quot;.\nIn the &quot;Kitchen&quot; is an object called &quot;Box&quot;.\n\nWhat I want is to set up a command called &quot;Drag&quot;.\n\nBecause what I want my user to do is type in:\n\nDRAG Box TO Study\n\nAnd I want the outcome to be that the object, and the player, both simultaneously move out of the &quot;Kitchen&quot; and into the &quot;Study&quot;.\n\nI'm ok on the script bit - I can see an option &quot;Move&quot; that allows me to:\n\nMove object: object [box] to object [study]\nand\nMove object: object [player] to object [study]\n\nWhat I can't figure out is how to set up the verb &quot;Drag&quot; to allow my user to specify both the object he wants to move, and the destination to which he wants to move it.  Since it's a big box that's too heavy to lift, I don't want him to have to 'take' the box and then 'drop' it, unless there's a way of using take/drop to make it look like a drag.  I suppose I could have him 'take' it, and then lock all the exits other than the one to the study, and then unlock them all again if he drops it, but it doesn't seem fully intuitive to do it that way.\n\nSo - how to set up verb Drag so that:\n\nDRAG [object 1] TO [object 2]\nlets me set up scripts\nMove object: object [object 1] to object [object 2]\nand\nMove object: object [player] to object [object 2]\n\nDoes the question make sense?\nAnd is it possible?\n\nThanks!\n\npsymann",
      "EditableFormat": "bbcode",
      "HTML": "Hello<br/><br/>I just discovered Quest recently and have been making some progress figuring out most of the basics.  What a clever program!   <!-- s:D --><img src=\"{SMILIES_PATH}/icon_biggrin.gif\" alt=\":D\" title=\"Very Happy\" /><!-- s:D --> <br/><br/>But I'm stuck on one particular action that I can't figure out or find on the wiki, so hoping someone here can help.   <!-- s:? --><img src=\"{SMILIES_PATH}/icon_confused.gif\" alt=\":?\" title=\"Confused\" /><!-- s:? --> <br/><br/><br/>I have a room called &quot;Kitchen&quot;.<br/>I have a room called &quot;Study&quot;.<br/>In the &quot;Kitchen&quot; is an object called &quot;Box&quot;.<br/><br/>What I want is to set up a command called &quot;Drag&quot;.<br/><br/>Because what I want my user to do is type in:<br/><br/>DRAG Box TO Study<br/><br/>And I want the outcome to be that the object, and the player, both simultaneously move out of the &quot;Kitchen&quot; and into the &quot;Study&quot;.<br/><br/>I'm ok on the script bit - I can see an option &quot;Move&quot; that allows me to:<br/><br/>Move object: object [box] to object [study]<br/>and<br/>Move object: object [player] to object [study]<br/><br/>What I can't figure out is how to set up the verb &quot;Drag&quot; to allow my user to specify both the object he wants to move, and the destination to which he wants to move it.  Since it's a big box that's too heavy to lift, I don't want him to have to 'take' the box and then 'drop' it, unless there's a way of using take/drop to make it look like a drag.  I suppose I could have him 'take' it, and then lock all the exits other than the one to the study, and then unlock them all again if he drops it, but it doesn't seem fully intuitive to do it that way.<br/><br/>So - how to set up verb Drag so that:<br/><br/>DRAG [object 1] TO [object 2]<br/>lets me set up scripts<br/>Move object: object [object 1] to object [object 2]<br/>and<br/>Move object: object [player] to object [object 2]<br/><br/>Does the question make sense?<br/>And is it possible?<br/><br/>Thanks!<br/><br/>psymann",
      "PostDate": "2013-03-31T18:58:51+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "23801",
      "UserId": 0,
      "Username": "jaynabonne",
      "UserAvatar": "6579_1344778256.jpg",
      "UserGravatar": "379859a7f1952a65399fc63997e68f0b",
      "EditableText": "I don't think using an object for the room will work, because the room will not be visible in *this* room, and so it won't be found.\n\nYou can create a command with this pattern:\n\ndrag #object# to #text#\n\nThen in the script, you can query the &quot;text&quot; argument to see what they typed. It will match anything they type for the &quot;to&quot; object, so you'll have to check if it exists and is a room (e.g. use GetObject(text) to get the object), etc and put up an appropriate error message if not.\n\nOr if you only want to drag to one room, you can just make the command pattern:\n\ndrag #object# to kitchen\n\nand be done with it! Hope that helps!",
      "EditableFormat": "bbcode",
      "HTML": "I don't think using an object for the room will work, because the room will not be visible in *this* room, and so it won't be found.<br/><br/>You can create a command with this pattern:<br/><br/>drag #object# to #text#<br/><br/>Then in the script, you can query the &quot;text&quot; argument to see what they typed. It will match anything they type for the &quot;to&quot; object, so you'll have to check if it exists and is a room (e.g. use GetObject(text) to get the object), etc and put up an appropriate error message if not.<br/><br/>Or if you only want to drag to one room, you can just make the command pattern:<br/><br/>drag #object# to kitchen<br/><br/>and be done with it! Hope that helps!",
      "PostDate": "2013-03-31T19:14:07+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "23802",
      "UserId": 0,
      "Username": "psymann",
      "UserAvatar": "6819_1364769382.jpg",
      "UserGravatar": "2d1e5da4ff4691a75d40742f904764d1",
      "EditableText": "The hardwired &quot;to kitchen&quot; option is clever, hadn't thought of that.  <!-- s:) --><img src=\"{SMILIES_PATH}/icon_smile.gif\" alt=\":)\" title=\"Smile\" /><!-- s:) -->   Though I might still stick with #text# so that I can give different error messages depending on the differently wrong places the user tries to drag it to <!-- s;-) --><img src=\"{SMILIES_PATH}/icon_wink.gif\" alt=\";-)\" title=\"Wink\" /><!-- s;-) -->\n\n[quote:1tg8yw16]Then in the script, you can query the &quot;text&quot; argument to see what they typed[/quote:1tg8yw16]\n\nHow do I do that?  Maybe I'm trying to run before I can walk, but I'm getting in a muddle as to:\n\n- whether I am trying to create a 'verb' or a 'command' to do this\n- whether I'm trying to use IF or SWITCH to do the test (eg &quot;If object = 'box'&quot; or &quot;Switch object, Case box&quot;.\n\nI was thinking I wanted to create a command with a pattern of drag #object_to_drag# to #text_to_drag_to# and then do a Switch to check (a) what the object_to_drag was, and (b) what the text_to_drag_to was, to determine what (if any) course of action could be taken.  So far all I've managed to get is compile errors where it says it doesn't understand the box.\n\npsymann",
      "EditableFormat": "bbcode",
      "HTML": "The hardwired &quot;to kitchen&quot; option is clever, hadn't thought of that.  <!-- s:) --><img src=\"{SMILIES_PATH}/icon_smile.gif\" alt=\":)\" title=\"Smile\" /><!-- s:) -->   Though I might still stick with #text# so that I can give different error messages depending on the differently wrong places the user tries to drag it to <!-- s;-) --><img src=\"{SMILIES_PATH}/icon_wink.gif\" alt=\";-)\" title=\"Wink\" /><!-- s;-) --><br/><br/><blockquote><p>Then in the script, you can query the &quot;text&quot; argument to see what they typed</p></blockquote><br/><br/>How do I do that?  Maybe I'm trying to run before I can walk, but I'm getting in a muddle as to:<br/><br/>- whether I am trying to create a 'verb' or a 'command' to do this<br/>- whether I'm trying to use IF or SWITCH to do the test (eg &quot;If object = 'box'&quot; or &quot;Switch object, Case box&quot;.<br/><br/>I was thinking I wanted to create a command with a pattern of drag #object_to_drag# to #text_to_drag_to# and then do a Switch to check (a) what the object_to_drag was, and (b) what the text_to_drag_to was, to determine what (if any) course of action could be taken.  So far all I've managed to get is compile errors where it says it doesn't understand the box.<br/><br/>psymann",
      "PostDate": "2013-03-31T20:07:20+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "23805",
      "UserId": 0,
      "Username": "jaynabonne",
      "UserAvatar": "6579_1344778256.jpg",
      "UserGravatar": "379859a7f1952a65399fc63997e68f0b",
      "EditableText": "I would say that if you could post what you have so far here, it will be easier to debug. Otherwise, it will be a guess. <!-- s:) --><img src=\"{SMILIES_PATH}/icon_smile.gif\" alt=\":)\" title=\"Smile\" /><!-- s:) -->\n\nAs far as verbs and commands, verbs are a targetted form of command. The verb defines a script attribute which is invoked on the object which matches the pattern. There is also a &quot;multi-verb&quot; form, which I'd have to revisit (but I do remember I had to rewrite some core code to use it the way I wanted before).\n\nIf you wanted to be able to use &quot;drag&quot; generally on different objects and to different targets, that might be a way to go, but it will be tricky. If you just have a couple of cases to implement, a command should be simpler.",
      "EditableFormat": "bbcode",
      "HTML": "I would say that if you could post what you have so far here, it will be easier to debug. Otherwise, it will be a guess. <!-- s:) --><img src=\"{SMILIES_PATH}/icon_smile.gif\" alt=\":)\" title=\"Smile\" /><!-- s:) --><br/><br/>As far as verbs and commands, verbs are a targetted form of command. The verb defines a script attribute which is invoked on the object which matches the pattern. There is also a &quot;multi-verb&quot; form, which I'd have to revisit (but I do remember I had to rewrite some core code to use it the way I wanted before).<br/><br/>If you wanted to be able to use &quot;drag&quot; generally on different objects and to different targets, that might be a way to go, but it will be tricky. If you just have a couple of cases to implement, a command should be simpler.",
      "PostDate": "2013-03-31T22:14:36+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "23808",
      "UserId": 0,
      "Username": "sonic102",
      "UserAvatar": null,
      "UserGravatar": "fd0d4fb0d4f66001ed8c262e48930d07",
      "EditableText": "Command pattern: drag #objectdrag to #textplace\n\nScript\nif textplace has attirbute [visited]\n   if textplace.visited = true\n      move [player] to [textplace]\n      move [objectdrag] to [textplace]\n      print &quot;You drag it.&quot;\n   else\n      print &quot;I don't know that place.&quot;\nelse \n   &quot;I don't know that place.&quot;\n\nThe problem with this is that if you lock a place that the player has entered, the player can still go back there. This can be solved with a simple flag.\n\nAnyway, this is a cool feature! Waiting to see it.",
      "EditableFormat": "bbcode",
      "HTML": "Command pattern: drag #objectdrag to #textplace<br/><br/>Script<br/>if textplace has attirbute [visited]<br/>   if textplace.visited = true<br/>      move [player] to [textplace]<br/>      move [objectdrag] to [textplace]<br/>      print &quot;You drag it.&quot;<br/>   else<br/>      print &quot;I don't know that place.&quot;<br/>else <br/>   &quot;I don't know that place.&quot;<br/><br/>The problem with this is that if you lock a place that the player has entered, the player can still go back there. This can be solved with a simple flag.<br/><br/>Anyway, this is a cool feature! Waiting to see it.",
      "PostDate": "2013-03-31T22:34:25+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "23813",
      "UserId": 0,
      "Username": "psymann",
      "UserAvatar": "6819_1364769382.jpg",
      "UserGravatar": "2d1e5da4ff4691a75d40742f904764d1",
      "EditableText": "I don't really have any code yet worth sharing, jaynabonne, as I keep trying different things <!-- s;-) --><img src=\"{SMILIES_PATH}/icon_wink.gif\" alt=\";-)\" title=\"Wink\" /><!-- s;-) -->  When I get a bit closer to what I'm after I may revisit with some code, but thanks for now <!-- s:) --><img src=\"{SMILIES_PATH}/icon_smile.gif\" alt=\":)\" title=\"Smile\" /><!-- s:) -->\n\nSonic, I'll give your structure a try - the wiki says that &quot;visited&quot; is a standard attribute that's part of the Core library, but I can't see it listed on the attributes tab of my rooms.  Do I have to do something to set it up before I can start using it?\n\nI should be ok to add the flags etc to validate which items can/can't go into which rooms at which times - once I've got a basic structure working for dragging anything anywhere at all <!-- s;) --><img src=\"{SMILIES_PATH}/icon_wink.gif\" alt=\";)\" title=\"Wink\" /><!-- s;) -->\n\npsymann",
      "EditableFormat": "bbcode",
      "HTML": "I don't really have any code yet worth sharing, jaynabonne, as I keep trying different things <!-- s;-) --><img src=\"{SMILIES_PATH}/icon_wink.gif\" alt=\";-)\" title=\"Wink\" /><!-- s;-) -->  When I get a bit closer to what I'm after I may revisit with some code, but thanks for now <!-- s:) --><img src=\"{SMILIES_PATH}/icon_smile.gif\" alt=\":)\" title=\"Smile\" /><!-- s:) --><br/><br/>Sonic, I'll give your structure a try - the wiki says that &quot;visited&quot; is a standard attribute that's part of the Core library, but I can't see it listed on the attributes tab of my rooms.  Do I have to do something to set it up before I can start using it?<br/><br/>I should be ok to add the flags etc to validate which items can/can't go into which rooms at which times - once I've got a basic structure working for dragging anything anywhere at all <!-- s;) --><img src=\"{SMILIES_PATH}/icon_wink.gif\" alt=\";)\" title=\"Wink\" /><!-- s;) --><br/><br/>psymann",
      "PostDate": "2013-03-31T23:24:10+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "23814",
      "UserId": 0,
      "Username": "jaynabonne",
      "UserAvatar": "6579_1344778256.jpg",
      "UserGravatar": "379859a7f1952a65399fc63997e68f0b",
      "EditableText": "&quot;visited&quot; is set by the core code when you visit a room for the first time. So before you visit a room, it will be undefined (so be sure to use GetBoolean, which returns false if an attribute is not defined). So the sequence sonic gave allows you to drag to a room you have already visited (and only if you have). If that's not the behavior you want, then you'll need to eliminate that part.\n\nYou will also want to validate the text parameter. Either you can have hard-coded values that work (e.g. &quot;kitchen&quot;, &quot;bedroom&quot;) or you can use GetObject(textplace) and see if it returns a non-null value. That return value is what you would move the object to. Note that just checking that non-null return value won't ensure the text they typed is actually a room (e.g. they could indicate some other object). So you will need a way to ensure that what they have typed is a valid place to drag whatever it is they want to drag. I don't know of a standard way to do that in Quest. One thing you could do is attach an attribute to valid rooms (e.g. &quot;dragtarget&quot;) or something that you can explicitly check. Then if it has that attribute, it's a good drag target. Otherwise, it isn't.",
      "EditableFormat": "bbcode",
      "HTML": "&quot;visited&quot; is set by the core code when you visit a room for the first time. So before you visit a room, it will be undefined (so be sure to use GetBoolean, which returns false if an attribute is not defined). So the sequence sonic gave allows you to drag to a room you have already visited (and only if you have). If that's not the behavior you want, then you'll need to eliminate that part.<br/><br/>You will also want to validate the text parameter. Either you can have hard-coded values that work (e.g. &quot;kitchen&quot;, &quot;bedroom&quot;) or you can use GetObject(textplace) and see if it returns a non-null value. That return value is what you would move the object to. Note that just checking that non-null return value won't ensure the text they typed is actually a room (e.g. they could indicate some other object). So you will need a way to ensure that what they have typed is a valid place to drag whatever it is they want to drag. I don't know of a standard way to do that in Quest. One thing you could do is attach an attribute to valid rooms (e.g. &quot;dragtarget&quot;) or something that you can explicitly check. Then if it has that attribute, it's a good drag target. Otherwise, it isn't.",
      "PostDate": "2013-03-31T23:39:07+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "23816",
      "UserId": 0,
      "Username": "HegemonKhan",
      "UserAvatar": null,
      "UserGravatar": "a96cf34d8d97c57de38f54ee22b1759b",
      "EditableText": "I did this quickly just now, so it may need to be fixed up a bit (the syntax may be wrong), but otherwise, I think it'll work, lol\n\n[code:1jt8ogxx]&lt;command name=&quot;drag_command&quot;&gt;\n  &lt;pattern&gt;drag #text1# to #text2#&lt;/pattern&gt;\n  &lt;script&gt;\n    drag_function (text1,text2)\n  &lt;/script&gt;\n&lt;/command&gt;\n\n&lt;function name=&quot;drag_function&quot; parameters=&quot;text1,text2&quot;&gt;\n  drag_target_object = GetObject (text1)\n  drag_target_destination_room = GetObject (text2)\n  if (drag_target_object = null) {\n    foreach (obj1,GetAllChildObjects(game&#46;pov&#46;parent)) {\n      if (obj1&#46;alias=text1) {\n        drag_target_object = obj1\n\t  } else {\n\t    msg (&quot;There seemingly is no &quot; + text1 + &quot; in the vicinity&#46;&quot;)\n\t  }\n\t}\n  }\n  if (drag_target_destination_room = null) {\n    foreach (obj2,AllObjects()) {\n      if (obj2&#46;alias=text2) {\n        drag_target_destination_room = obj2\n\t  } else {\n\t    msg (text2 + &quot;seemingly doesn't exist&#46;&quot;)\n\t  }\n\t}\n  }\n  if (not drag_target_object&#46;dragable) {\n    msg (&quot;You can't drag &quot; + drag_target_object + &quot;, as it's too big and heavy!&quot;)\n  } else if (not drag_target_destination_room&#46;dragable) {\n    msg (&quot;You can't drag &quot; + drag_target_object + &quot;, as it can't fit in the &quot; + drag_target_destination_room +&quot;!&quot;)\n  } else if (not drag_target_destination_room&#46;visited) {\n    msg (&quot;You seemingly can't drag &quot; + drag_target_object + &quot; to &quot; + drag_target_destination_room +&quot;&#46;&quot;)\n  } else if (not drag_target_object, &quot;ScopeReachable&quot;) {\n    msg (&quot;There seemingly is no &quot; + drag_target_object + &quot; in the vicinity&#46;&quot;)\n  } else {\n    msg (&quot;You drag &quot; + drag_target_object + &quot; to &quot; + drag_target_destination_room +&quot;&#46;&quot;)\n    game&#46;pov&#46;parent = drag_target_destination_room\n\tdrag_target_object&#46;parent = drag_target_destination_room\n  }\n&lt;/function&gt;[/code:1jt8ogxx]\n\n--------------------\n\n@psymann,\n\nwait for someone to look over this and correct it (assuming that it does work), then you'd just need to copy and paste this into your game code, (and you can alter it to how you want it, too, of course), then, all you got to do is to add in (create) the boolean attribute &quot;dragable&quot; to~on the objects and rooms that you want, set them to false, and then simply add in setting them to true into where you want to do so.\n\nI can and will help you do all of this stuff, (it's good to learn to work with the code, as it is much faster and easier, lol), once my code is corrected and verified as being able to work.",
      "EditableFormat": "bbcode",
      "HTML": "I did this quickly just now, so it may need to be fixed up a bit (the syntax may be wrong), but otherwise, I think it'll work, lol<br/><br/><pre><code>&lt;command name=&quot;drag_command&quot;&gt;<br/>  &lt;pattern&gt;drag #text1# to #text2#&lt;/pattern&gt;<br/>  &lt;script&gt;<br/>    drag_function (text1,text2)<br/>  &lt;/script&gt;<br/>&lt;/command&gt;<br/><br/>&lt;function name=&quot;drag_function&quot; parameters=&quot;text1,text2&quot;&gt;<br/>  drag_target_object = GetObject (text1)<br/>  drag_target_destination_room = GetObject (text2)<br/>  if (drag_target_object = null) {<br/>    foreach (obj1,GetAllChildObjects(game&#46;pov&#46;parent)) {<br/>      if (obj1&#46;alias=text1) {<br/>        drag_target_object = obj1<br/>\t  } else {<br/>\t    msg (&quot;There seemingly is no &quot; + text1 + &quot; in the vicinity&#46;&quot;)<br/>\t  }<br/>\t}<br/>  }<br/>  if (drag_target_destination_room = null) {<br/>    foreach (obj2,AllObjects()) {<br/>      if (obj2&#46;alias=text2) {<br/>        drag_target_destination_room = obj2<br/>\t  } else {<br/>\t    msg (text2 + &quot;seemingly doesn't exist&#46;&quot;)<br/>\t  }<br/>\t}<br/>  }<br/>  if (not drag_target_object&#46;dragable) {<br/>    msg (&quot;You can't drag &quot; + drag_target_object + &quot;, as it's too big and heavy!&quot;)<br/>  } else if (not drag_target_destination_room&#46;dragable) {<br/>    msg (&quot;You can't drag &quot; + drag_target_object + &quot;, as it can't fit in the &quot; + drag_target_destination_room +&quot;!&quot;)<br/>  } else if (not drag_target_destination_room&#46;visited) {<br/>    msg (&quot;You seemingly can't drag &quot; + drag_target_object + &quot; to &quot; + drag_target_destination_room +&quot;&#46;&quot;)<br/>  } else if (not drag_target_object, &quot;ScopeReachable&quot;) {<br/>    msg (&quot;There seemingly is no &quot; + drag_target_object + &quot; in the vicinity&#46;&quot;)<br/>  } else {<br/>    msg (&quot;You drag &quot; + drag_target_object + &quot; to &quot; + drag_target_destination_room +&quot;&#46;&quot;)<br/>    game&#46;pov&#46;parent = drag_target_destination_room<br/>\tdrag_target_object&#46;parent = drag_target_destination_room<br/>  }<br/>&lt;/function&gt;</code></pre><br/><br/>--------------------<br/><br/>@psymann,<br/><br/>wait for someone to look over this and correct it (assuming that it does work), then you'd just need to copy and paste this into your game code, (and you can alter it to how you want it, too, of course), then, all you got to do is to add in (create) the boolean attribute &quot;dragable&quot; to~on the objects and rooms that you want, set them to false, and then simply add in setting them to true into where you want to do so.<br/><br/>I can and will help you do all of this stuff, (it's good to learn to work with the code, as it is much faster and easier, lol), once my code is corrected and verified as being able to work.",
      "PostDate": "2013-04-01T00:06:28+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "23817",
      "UserId": 0,
      "Username": "jaynabonne",
      "UserAvatar": "6579_1344778256.jpg",
      "UserGravatar": "379859a7f1952a65399fc63997e68f0b",
      "EditableText": "Wow, HK, that's impressive! <!-- s:) --><img src=\"{SMILIES_PATH}/icon_smile.gif\" alt=\":)\" title=\"Smile\" /><!-- s:) --> Quite comprehensive. My only critique: if you use #object# instead of #text1#, then you can eliminate all the code that's checking for it being a valid object, being in the vicinity, etc as Quest will do that for you.\n\nBeyond that - nicely done!",
      "EditableFormat": "bbcode",
      "HTML": "Wow, HK, that's impressive! <!-- s:) --><img src=\"{SMILIES_PATH}/icon_smile.gif\" alt=\":)\" title=\"Smile\" /><!-- s:) --> Quite comprehensive. My only critique: if you use #object# instead of #text1#, then you can eliminate all the code that's checking for it being a valid object, being in the vicinity, etc as Quest will do that for you.<br/><br/>Beyond that - nicely done!",
      "PostDate": "2013-04-01T00:17:07+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "23818",
      "UserId": 0,
      "Username": "HegemonKhan",
      "UserAvatar": null,
      "UserGravatar": "a96cf34d8d97c57de38f54ee22b1759b",
      "EditableText": "thanks, I've been working on something similar to this, so it wasn't too much to try to transfer over to doing what psymann wanted. heh, I knew my code wouldn't be perfect, between syntax and~or &quot;redundency&quot; (or poor or unneeded extra coding). I'm just happy that I then presume this code would work?\n\n----------\n\nP.S.\n\nYour (and sonic's) mentioning that the core already has a visited attribute, saved me a lot of grief, in trying to code in some complex stuff, lol.\n\nI was just about to try to make my own &quot;visited&quot; coding (via using scriptdictionaries), when I just thankfully decided to refresh and look at the forum, reading your post, lol.\n\n----------\n\n(HK Edit: nvm, with trying to rewrite my code better, atm anyways, as I got family coming soon for Easter. I'll try to work on it another day, when I can. Psymann, feel free to ask on how to get my code set up if you want to use it, and when I've got the time, I'll walk you through getting it set up correctly)",
      "EditableFormat": "bbcode",
      "HTML": "thanks, I've been working on something similar to this, so it wasn't too much to try to transfer over to doing what psymann wanted. heh, I knew my code wouldn't be perfect, between syntax and~or &quot;redundency&quot; (or poor or unneeded extra coding). I'm just happy that I then presume this code would work?<br/><br/>----------<br/><br/>P.S.<br/><br/>Your (and sonic's) mentioning that the core already has a visited attribute, saved me a lot of grief, in trying to code in some complex stuff, lol.<br/><br/>I was just about to try to make my own &quot;visited&quot; coding (via using scriptdictionaries), when I just thankfully decided to refresh and look at the forum, reading your post, lol.<br/><br/>----------<br/><br/>(HK Edit: nvm, with trying to rewrite my code better, atm anyways, as I got family coming soon for Easter. I'll try to work on it another day, when I can. Psymann, feel free to ask on how to get my code set up if you want to use it, and when I've got the time, I'll walk you through getting it set up correctly)",
      "PostDate": "2013-04-01T00:26:12+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "23819",
      "UserId": 0,
      "Username": "psymann",
      "UserAvatar": "6819_1364769382.jpg",
      "UserGravatar": "2d1e5da4ff4691a75d40742f904764d1",
      "EditableText": "Ooh, thanks HK - that looks very exciting and I'll certainly give it a go (after a short while to see what other comments there are on it!).\n\nIn the meantime I had managed to get something that did work ... but in a really horrid fudgey sort of way... using entirely objects and not text at all because I've not got my head round all the error-checking code yet:\n\n[quote=&quot;jaynabonne&quot;:23ba8m30]I don't think using an object for the room will work, because the room will not be visible in *this* room, and so it won't be found.[/quote:23ba8m30]\n\nSo with that new knowledge, what I can do with a bit of fudging is create a dummy object called &quot;Roomdummy&quot; with an Alias of &quot;Room&quot;.  So the user thinks they're dragging the object to the real room, but actually they're dragging it to a dummy room-named object which triggers an action to do the drag to the intended real room.  Hmm.\n\n[code:23ba8m30] &lt;command name=&quot;drag&quot;&gt;\n    &lt;pattern&gt;drag #objecttodrag# to #objectdestination#&lt;/pattern&gt;\n    &lt;script&gt;\n      if (HasAttribute(objecttodrag, &quot;draggable&quot;)) {\n        msg (&quot;Can be dragged&quot;)\n        if (HasAttribute(objectdestination, &quot;canbedraggedto&quot;)) {\n          msg (&quot;Can be dragged to this location&quot;)\n          MoveObject (player, Study)\n          MoveObject (objecttodrag, Study)\n        }\n        else {\n          msg (&quot;Cannot be dragged to this location&quot;)\n        }\n      }\n      else {\n        msg (&quot;Cannot be dragged&quot;)\n      }\n    &lt;/script&gt;\n  &lt;/command&gt;\n\nAnd Studydummy has an attribute called &quot;canbedraggedto&quot;, whereas Bathroomdummy does not&#46;\nAnd Box has an attribute called &quot;draggable&quot;, whereas Wall does not&#46;[/code:23ba8m30]\n\nIt does seem to work although I had to hardwire in the name &quot;Study&quot; in the MoveObject code because what I wanted to do was put in a Switch/Case to move to different options based on objectdestination, but then my coding (non-)skills failed me again.  But anyway - if I type &quot;Drag box to Study&quot;, then both box and player move into the Study <!-- s:) --><img src=\"{SMILIES_PATH}/icon_smile.gif\" alt=\":)\" title=\"Smile\" /><!-- s:) -->\nIf I type &quot;Drag box to Bathroom&quot;, it tells me it can't be dragged to that location, and if I try to &quot;Drag wall to Study&quot; it tells me it can't be dragged.\n\n(And no, I have no idea how many G's there are in drag(g)able!  <!-- s:lol: --><img src=\"{SMILIES_PATH}/icon_lol.gif\" alt=\":lol:\" title=\"Laughing\" /><!-- s:lol: --> )\n\nAnyway, that works but is horrid, so I will now go and look at your version which looks as if it will be miles nicer!\n\npsymann",
      "EditableFormat": "bbcode",
      "HTML": "Ooh, thanks HK - that looks very exciting and I'll certainly give it a go (after a short while to see what other comments there are on it!).<br/><br/>In the meantime I had managed to get something that did work ... but in a really horrid fudgey sort of way... using entirely objects and not text at all because I've not got my head round all the error-checking code yet:<br/><br/><blockquote><cite>jaynabonne wrote:</cite>I don't think using an object for the room will work, because the room will not be visible in *this* room, and so it won't be found.</blockquote><br/><br/>So with that new knowledge, what I can do with a bit of fudging is create a dummy object called &quot;Roomdummy&quot; with an Alias of &quot;Room&quot;.  So the user thinks they're dragging the object to the real room, but actually they're dragging it to a dummy room-named object which triggers an action to do the drag to the intended real room.  Hmm.<br/><br/><pre><code> &lt;command name=&quot;drag&quot;&gt;<br/>    &lt;pattern&gt;drag #objecttodrag# to #objectdestination#&lt;/pattern&gt;<br/>    &lt;script&gt;<br/>      if (HasAttribute(objecttodrag, &quot;draggable&quot;)) {<br/>        msg (&quot;Can be dragged&quot;)<br/>        if (HasAttribute(objectdestination, &quot;canbedraggedto&quot;)) {<br/>          msg (&quot;Can be dragged to this location&quot;)<br/>          MoveObject (player, Study)<br/>          MoveObject (objecttodrag, Study)<br/>        }<br/>        else {<br/>          msg (&quot;Cannot be dragged to this location&quot;)<br/>        }<br/>      }<br/>      else {<br/>        msg (&quot;Cannot be dragged&quot;)<br/>      }<br/>    &lt;/script&gt;<br/>  &lt;/command&gt;<br/><br/>And Studydummy has an attribute called &quot;canbedraggedto&quot;, whereas Bathroomdummy does not&#46;<br/>And Box has an attribute called &quot;draggable&quot;, whereas Wall does not&#46;</code></pre><br/><br/>It does seem to work although I had to hardwire in the name &quot;Study&quot; in the MoveObject code because what I wanted to do was put in a Switch/Case to move to different options based on objectdestination, but then my coding (non-)skills failed me again.  But anyway - if I type &quot;Drag box to Study&quot;, then both box and player move into the Study <!-- s:) --><img src=\"{SMILIES_PATH}/icon_smile.gif\" alt=\":)\" title=\"Smile\" /><!-- s:) --><br/>If I type &quot;Drag box to Bathroom&quot;, it tells me it can't be dragged to that location, and if I try to &quot;Drag wall to Study&quot; it tells me it can't be dragged.<br/><br/>(And no, I have no idea how many G's there are in drag(g)able!  <!-- s:lol: --><img src=\"{SMILIES_PATH}/icon_lol.gif\" alt=\":lol:\" title=\"Laughing\" /><!-- s:lol: --> )<br/><br/>Anyway, that works but is horrid, so I will now go and look at your version which looks as if it will be miles nicer!<br/><br/>psymann",
      "PostDate": "2013-04-01T00:48:20+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "23820",
      "UserId": 0,
      "Username": "HegemonKhan",
      "UserAvatar": null,
      "UserGravatar": "a96cf34d8d97c57de38f54ee22b1759b",
      "EditableText": "a quick mistake that I think exists (lol as in I'm not sure if it's wrong on not) in your code....\n\neither:\n\nchange HasAttribute to GetAttribute\n~OR~\nuse: if (HasAttribute (the_object,&quot;it's_attribute&quot;) = true) {\n\nIF HasAttribute: needs to be set = to true/false, and if it matches your setup, then it continues ~it does the additional nested script\n\nIF GetAttribute: simply checks if you've got the attribute or not (if you do, then it continues ~ it does the additional nested script)",
      "EditableFormat": "bbcode",
      "HTML": "a quick mistake that I think exists (lol as in I'm not sure if it's wrong on not) in your code....<br/><br/>either:<br/><br/>change HasAttribute to GetAttribute<br/>~OR~<br/>use: if (HasAttribute (the_object,&quot;it's_attribute&quot;) = true) {<br/><br/>IF HasAttribute: needs to be set = to true/false, and if it matches your setup, then it continues ~it does the additional nested script<br/><br/>IF GetAttribute: simply checks if you've got the attribute or not (if you do, then it continues ~ it does the additional nested script)",
      "PostDate": "2013-04-01T00:59:05+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "23821",
      "UserId": 0,
      "Username": "jaynabonne",
      "UserAvatar": "6579_1344778256.jpg",
      "UserGravatar": "379859a7f1952a65399fc63997e68f0b",
      "EditableText": "[quote:xale4cqw]It does seem to work although I had to hardwire in the name &quot;Study&quot; in the MoveObject code because what I wanted to do was put in a Switch/Case to move to different options based on objectdestination[/quote:xale4cqw]\n\nYou can create an attribute on the &quot;shadow&quot; objects which points to the real room. It would be of type &quot;object&quot;.\n\n[code:xale4cqw]&lt;object name=&quot;ShadowStudy&quot;&gt;\n   &lt;alias&gt;study&lt;/alias&gt;\n   &lt;realroom type=&quot;object&quot;&gt;Study&lt;/realroom&gt;\n&lt;/object&gt;[/code:xale4cqw]\nThen just do: \n\n[code:xale4cqw]realroom = objectdestination&#46;realroom\nMoveObject (player, realroom)\nMoveObject (objecttodrag, realroom)[/code:xale4cqw]",
      "EditableFormat": "bbcode",
      "HTML": "<blockquote><p>It does seem to work although I had to hardwire in the name &quot;Study&quot; in the MoveObject code because what I wanted to do was put in a Switch/Case to move to different options based on objectdestination</p></blockquote><br/><br/>You can create an attribute on the &quot;shadow&quot; objects which points to the real room. It would be of type &quot;object&quot;.<br/><br/><pre><code>&lt;object name=&quot;ShadowStudy&quot;&gt;<br/>   &lt;alias&gt;study&lt;/alias&gt;<br/>   &lt;realroom type=&quot;object&quot;&gt;Study&lt;/realroom&gt;<br/>&lt;/object&gt;</code></pre><br/>Then just do: <br/><br/><pre><code>realroom = objectdestination&#46;realroom<br/>MoveObject (player, realroom)<br/>MoveObject (objecttodrag, realroom)</code></pre>",
      "PostDate": "2013-04-01T01:14:50+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "23822",
      "UserId": 0,
      "Username": "jaynabonne",
      "UserAvatar": "6579_1344778256.jpg",
      "UserGravatar": "379859a7f1952a65399fc63997e68f0b",
      "EditableText": "[quote=&quot;HegemonKhan&quot;:1obtqkbe]a quick mistake that I think exists (lol as in I'm not sure if it's wrong on not) in your code....\n\neither:\n\nchange HasAttribute to GetAttribute\n~OR~\nuse: if (HasAttribute (the_object,&quot;it's_attribute&quot;) = true) {\n\nIF HasAttribute: needs to be set = to true/false, and if it matches your setup, then it continues ~it does the additional nested script\n\nIF GetAttribute: simply checks if you've got the attribute or not (if you do, then it continues ~ it does the additional nested script)[/quote:1obtqkbe]\n\n\nThe way he has it is fine. He's just using the *existence* of the attribute to key off of, not the value of it. At least, based on the code, I'm assuming that's what he's doing. <!-- s:) --><img src=\"{SMILIES_PATH}/icon_smile.gif\" alt=\":)\" title=\"Smile\" /><!-- s:) -->",
      "EditableFormat": "bbcode",
      "HTML": "<blockquote><cite>HegemonKhan wrote:</cite>a quick mistake that I think exists (lol as in I'm not sure if it's wrong on not) in your code....<br/><br/>either:<br/><br/>change HasAttribute to GetAttribute<br/>~OR~<br/>use: if (HasAttribute (the_object,&quot;it's_attribute&quot;) = true) {<br/><br/>IF HasAttribute: needs to be set = to true/false, and if it matches your setup, then it continues ~it does the additional nested script<br/><br/>IF GetAttribute: simply checks if you've got the attribute or not (if you do, then it continues ~ it does the additional nested script)</blockquote><br/><br/><br/>The way he has it is fine. He's just using the *existence* of the attribute to key off of, not the value of it. At least, based on the code, I'm assuming that's what he's doing. <!-- s:) --><img src=\"{SMILIES_PATH}/icon_smile.gif\" alt=\":)\" title=\"Smile\" /><!-- s:) -->",
      "PostDate": "2013-04-01T01:24:09+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "23830",
      "UserId": 0,
      "Username": "psymann",
      "UserAvatar": "6819_1364769382.jpg",
      "UserGravatar": "2d1e5da4ff4691a75d40742f904764d1",
      "EditableText": "One tangential question:\n\n[quote=&quot;HK&quot;:320i7kfj][code:320i7kfj]msg (&quot;You drag &quot; + drag_target_object + &quot; to &quot; + drag_target_destination_room +&quot;&#46;&quot;)[/code:320i7kfj][/quote:320i7kfj]\n\nWhen I try this in game, it comes out with the message:\n\nYou drag Object: Box to Object: Study.\n\nAny idea why it's putting the &quot;Object:&quot; bit in there and how I get rid of that?\n\nOh, and I like that realroom trick, thanks jay <!-- s:) --><img src=\"{SMILIES_PATH}/icon_smile.gif\" alt=\":)\" title=\"Smile\" /><!-- s:) -->\n\nThanks,\npsy",
      "EditableFormat": "bbcode",
      "HTML": "One tangential question:<br/><br/><blockquote><cite>HK wrote:</cite><pre><code>msg (&quot;You drag &quot; + drag_target_object + &quot; to &quot; + drag_target_destination_room +&quot;&#46;&quot;)</code></pre></blockquote><br/><br/>When I try this in game, it comes out with the message:<br/><br/>You drag Object: Box to Object: Study.<br/><br/>Any idea why it's putting the &quot;Object:&quot; bit in there and how I get rid of that?<br/><br/>Oh, and I like that realroom trick, thanks jay <!-- s:) --><img src=\"{SMILIES_PATH}/icon_smile.gif\" alt=\":)\" title=\"Smile\" /><!-- s:) --><br/><br/>Thanks,<br/>psy",
      "PostDate": "2013-04-01T18:32:46+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "23832",
      "UserId": 0,
      "Username": "jaynabonne",
      "UserAvatar": "6579_1344778256.jpg",
      "UserGravatar": "379859a7f1952a65399fc63997e68f0b",
      "EditableText": "Because you're just printing out the object reference. The safest way to show the object name is:\n\n[code:272gtaq4]msg (&quot;You drag &quot; + GetDisplayAlias(drag_target_object) + &quot; to &quot; + GetDisplayAlias(drag_target_destination_room) +&quot;&#46;&quot;)[/code:272gtaq4]\nGetDisplayAlias will return the alias attribute if there is one; else it will return the name attribute.",
      "EditableFormat": "bbcode",
      "HTML": "Because you're just printing out the object reference. The safest way to show the object name is:<br/><br/><pre><code>msg (&quot;You drag &quot; + GetDisplayAlias(drag_target_object) + &quot; to &quot; + GetDisplayAlias(drag_target_destination_room) +&quot;&#46;&quot;)</code></pre><br/>GetDisplayAlias will return the alias attribute if there is one; else it will return the name attribute.",
      "PostDate": "2013-04-01T18:43:00+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "23834",
      "UserId": 0,
      "Username": "psymann",
      "UserAvatar": "6819_1364769382.jpg",
      "UserGravatar": "2d1e5da4ff4691a75d40742f904764d1",
      "EditableText": "Aha, thanks.  There's more coding to this writing-an-adventure than I first realised <!-- s;) --><img src=\"{SMILIES_PATH}/icon_wink.gif\" alt=\";)\" title=\"Wink\" /><!-- s;) -->  Still, making progress at least!",
      "EditableFormat": "bbcode",
      "HTML": "Aha, thanks.  There's more coding to this writing-an-adventure than I first realised <!-- s;) --><img src=\"{SMILIES_PATH}/icon_wink.gif\" alt=\";)\" title=\"Wink\" /><!-- s;) -->  Still, making progress at least!",
      "PostDate": "2013-04-01T19:48:13+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "23835",
      "UserId": 0,
      "Username": "jaynabonne",
      "UserAvatar": "6579_1344778256.jpg",
      "UserGravatar": "379859a7f1952a65399fc63997e68f0b",
      "EditableText": "To be honest, if you always give your objects and rooms aliases (which I do and highly recommend), then you can just use \n\ndrag_target_object.alias\n\ninstead of \n\nGetDisplayAlias(drag_target_object)\n\nThe latter just handles the case where an alias is not defined. I rarely use GetDisplayAlias myself. <!-- s:) --><img src=\"{SMILIES_PATH}/icon_smile.gif\" alt=\":)\" title=\"Smile\" /><!-- s:) -->",
      "EditableFormat": "bbcode",
      "HTML": "To be honest, if you always give your objects and rooms aliases (which I do and highly recommend), then you can just use <br/><br/>drag_target_object.alias<br/><br/>instead of <br/><br/>GetDisplayAlias(drag_target_object)<br/><br/>The latter just handles the case where an alias is not defined. I rarely use GetDisplayAlias myself. <!-- s:) --><img src=\"{SMILIES_PATH}/icon_smile.gif\" alt=\":)\" title=\"Smile\" /><!-- s:) -->",
      "PostDate": "2013-04-01T20:11:21+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "23836",
      "UserId": 0,
      "Username": "HegemonKhan",
      "UserAvatar": null,
      "UserGravatar": "a96cf34d8d97c57de38f54ee22b1759b",
      "EditableText": "I'm terribly sorry psymann, I forgot to add the ' .alias ' onto the &quot;drag objects (object and room)&quot; usage in my posts.\n\nso, just add the ' .alias ' onto the ' drag_target_object ' and ' drag_target_destination_room ' in the msg code lines.\n\nfor example:\n\nmsg (&quot;You drag &quot; + drag_target_object.alias + &quot; to &quot; + drag_target_destination_room.alias &quot;.&quot;)\n\n*you do need to actually set an alias for the objects (in the actual objects' coding or those objects' GUI~Editor window), if you want to have aliases for them anyways.\n\n----------------------\n\nif you don't want to give or have your objects with aliases, then just do this instead:\n\n.name\n\nso, for example:\n\nmsg (&quot;You drag &quot; + drag_target_object.name + &quot; to &quot; + drag_target_destination_room.name &quot;.&quot;)",
      "EditableFormat": "bbcode",
      "HTML": "I'm terribly sorry psymann, I forgot to add the ' .alias ' onto the &quot;drag objects (object and room)&quot; usage in my posts.<br/><br/>so, just add the ' .alias ' onto the ' drag_target_object ' and ' drag_target_destination_room ' in the msg code lines.<br/><br/>for example:<br/><br/>msg (&quot;You drag &quot; + drag_target_object.alias + &quot; to &quot; + drag_target_destination_room.alias &quot;.&quot;)<br/><br/>*you do need to actually set an alias for the objects (in the actual objects' coding or those objects' GUI~Editor window), if you want to have aliases for them anyways.<br/><br/>----------------------<br/><br/>if you don't want to give or have your objects with aliases, then just do this instead:<br/><br/>.name<br/><br/>so, for example:<br/><br/>msg (&quot;You drag &quot; + drag_target_object.name + &quot; to &quot; + drag_target_destination_room.name &quot;.&quot;)",
      "PostDate": "2013-04-01T22:05:01+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "23838",
      "UserId": 0,
      "Username": "jaynabonne",
      "UserAvatar": "6579_1344778256.jpg",
      "UserGravatar": "379859a7f1952a65399fc63997e68f0b",
      "EditableText": "And if you can't decide (alias vs name) or have a mixture of both, then GetDisplayAlias will cover it. <!-- s:) --><img src=\"{SMILIES_PATH}/icon_smile.gif\" alt=\":)\" title=\"Smile\" /><!-- s:) -->",
      "EditableFormat": "bbcode",
      "HTML": "And if you can't decide (alias vs name) or have a mixture of both, then GetDisplayAlias will cover it. <!-- s:) --><img src=\"{SMILIES_PATH}/icon_smile.gif\" alt=\":)\" title=\"Smile\" /><!-- s:) -->",
      "PostDate": "2013-04-01T22:43:22+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "23839",
      "UserId": 0,
      "Username": "sonic102",
      "UserAvatar": null,
      "UserGravatar": "fd0d4fb0d4f66001ed8c262e48930d07",
      "EditableText": "For aliases, I just add a script to the game start that checks if an object has no alias, and if it doesn't, it sets the alias = the name.",
      "EditableFormat": "bbcode",
      "HTML": "For aliases, I just add a script to the game start that checks if an object has no alias, and if it doesn't, it sets the alias = the name.",
      "PostDate": "2013-04-01T22:50:37+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "23847",
      "UserId": 0,
      "Username": "psymann",
      "UserAvatar": "6819_1364769382.jpg",
      "UserGravatar": "2d1e5da4ff4691a75d40742f904764d1",
      "EditableText": "All good advice, thanks.  All my objects now have aliases <!-- s:-) --><img src=\"{SMILIES_PATH}/icon_smile.gif\" alt=\":-)\" title=\"Smile\" /><!-- s:-) -->",
      "EditableFormat": "bbcode",
      "HTML": "All good advice, thanks.  All my objects now have aliases <!-- s:-) --><img src=\"{SMILIES_PATH}/icon_smile.gif\" alt=\":-)\" title=\"Smile\" /><!-- s:-) -->",
      "PostDate": "2013-04-02T00:23:47+01:00",
      "LastEditDate": null
    }
  ]
}
