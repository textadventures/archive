{
  "Topic": {
    "TopicId": "3108",
    "ForumId": "10",
    "Title": "Scenery/ visible exits(Trust me, it works)",
    "LastUpdated": "2012-07-11T01:23:28+01:00",
    "ReplyCount": 0
  },
  "Posts": [
    {
      "PostId": "20973",
      "UserId": 0,
      "Username": "sonic102",
      "UserAvatar": null,
      "UserGravatar": "fd0d4fb0d4f66001ed8c262e48930d07",
      "EditableText": "Now you can make a scenery/ visible exit through my idea!\n\n[b:vh14a94q]Things to copy from Core[/b:vh14a94q]\ndefaultexit(Object Types)\nScopeExitsForRoom(Functions)\nGo(Commands)\n\n[b:vh14a94q]Method[/b:vh14a94q]\n1.To the defaultexit type, add two new attirbutes(visible and scenery). Set visible to true and scenery to false.\n2.Edit the ScopeExitsForRoom script like the below given code.[1]\n3.Edit the Go script like the below given code.[2]\n\n[b:vh14a94q]How To Use[/b:vh14a94q]\nIf you want an exit to not even exist, set e.visible to false where e is the exit name. Just like invisible objects.\nIf you want an exit to exist, but invisible to the player, set e.scenery to true where e is the exit name. Just like scenery objecs.\n\n[b:vh14a94q]Codes[/b:vh14a94q]\n[1][code:vh14a94q]&lt;function name=&quot;ScopeExitsForRoom&quot; parameters=&quot;room&quot; type=&quot;objectlist&quot;&gt;\n    result = NewObjectList()\n    foreach (exit, AllExits()) {\n      if (exit&#46;parent = room and not GetBoolean(exit, &quot;lookonly&quot;)) {\n        if (exit&#46;visible = true) {\n          if (exit&#46;scenery = false) {\n            list add (result, exit)\n          }\n        }\n      }\n    }\n    return (result)\n  &lt;/function&gt;[/code:vh14a94q]\n\n[2][code:vh14a94q]&lt;command name=&quot;go&quot;&gt;\n    &lt;pattern type=&quot;string&quot;&gt;&lt;!&#91;CDATA&#91;^go to (?&lt;exit&gt;&#46;*)$|^go (?&lt;exit&gt;&#46;*)$|^(?&lt;exit&gt;north|east|south|west|northeast|northwest|southeast|southwest|in|out|up|down|n|e|s|w|ne|nw|se|sw|o|u|d)$&#93;&#93;&gt;&lt;/pattern&gt;\n    &lt;unresolved&gt;You can't go there&#46;&lt;/unresolved&gt;\n    &lt;script&gt;\n      if (exit&#46;locked) {\n        msg (exit&#46;lockmessage)\n      }\n      else if (HasScript(exit, &quot;script&quot;)) {\n        do (exit, &quot;script&quot;)\n      }\n      else {\n        if (exit&#46;lookonly) {\n          msg (&quot;You can't go there&#46;&quot;)\n        }\n        else {\n          if (exit&#46;visible) {\n            player&#46;parent = exit&#46;to\n          }\n          else {\n            msg (&quot;You can't go there&#46;&quot;)\n          }\n        }\n      }\n    &lt;/script&gt;\n  &lt;/command&gt;[/code:vh14a94q]",
      "EditableFormat": "bbcode",
      "HTML": "Now you can make a scenery/ visible exit through my idea!<br/><br/><span style=\"font-weight:bold;\">Things to copy from Core</span><br/>defaultexit(Object Types)<br/>ScopeExitsForRoom(Functions)<br/>Go(Commands)<br/><br/><span style=\"font-weight:bold;\">Method</span><br/>1.To the defaultexit type, add two new attirbutes(visible and scenery). Set visible to true and scenery to false.<br/>2.Edit the ScopeExitsForRoom script like the below given code.[1]<br/>3.Edit the Go script like the below given code.[2]<br/><br/><span style=\"font-weight:bold;\">How To Use</span><br/>If you want an exit to not even exist, set e.visible to false where e is the exit name. Just like invisible objects.<br/>If you want an exit to exist, but invisible to the player, set e.scenery to true where e is the exit name. Just like scenery objecs.<br/><br/><span style=\"font-weight:bold;\">Codes</span><br/>[1]<pre><code>&lt;function name=&quot;ScopeExitsForRoom&quot; parameters=&quot;room&quot; type=&quot;objectlist&quot;&gt;<br/>    result = NewObjectList()<br/>    foreach (exit, AllExits()) {<br/>      if (exit&#46;parent = room and not GetBoolean(exit, &quot;lookonly&quot;)) {<br/>        if (exit&#46;visible = true) {<br/>          if (exit&#46;scenery = false) {<br/>            list add (result, exit)<br/>          }<br/>        }<br/>      }<br/>    }<br/>    return (result)<br/>  &lt;/function&gt;</code></pre><br/><br/>[2]<pre><code>&lt;command name=&quot;go&quot;&gt;<br/>    &lt;pattern type=&quot;string&quot;&gt;&lt;!&#91;CDATA&#91;^go to (?&lt;exit&gt;&#46;*)$|^go (?&lt;exit&gt;&#46;*)$|^(?&lt;exit&gt;north|east|south|west|northeast|northwest|southeast|southwest|in|out|up|down|n|e|s|w|ne|nw|se|sw|o|u|d)$&#93;&#93;&gt;&lt;/pattern&gt;<br/>    &lt;unresolved&gt;You can't go there&#46;&lt;/unresolved&gt;<br/>    &lt;script&gt;<br/>      if (exit&#46;locked) {<br/>        msg (exit&#46;lockmessage)<br/>      }<br/>      else if (HasScript(exit, &quot;script&quot;)) {<br/>        do (exit, &quot;script&quot;)<br/>      }<br/>      else {<br/>        if (exit&#46;lookonly) {<br/>          msg (&quot;You can't go there&#46;&quot;)<br/>        }<br/>        else {<br/>          if (exit&#46;visible) {<br/>            player&#46;parent = exit&#46;to<br/>          }<br/>          else {<br/>            msg (&quot;You can't go there&#46;&quot;)<br/>          }<br/>        }<br/>      }<br/>    &lt;/script&gt;<br/>  &lt;/command&gt;</code></pre>",
      "PostDate": "2012-07-11T01:23:28+01:00",
      "LastEditDate": null
    }
  ]
}
