{
  "Topic": {
    "TopicId": "qivrlsz81uelorqy16rvla",
    "ForumId": "10",
    "Title": "Indicator ",
    "LastUpdated": "2024-05-16T13:13:58.8724802Z",
    "ReplyCount": 0
  },
  "Posts": [
    {
      "PostId": "6e4ff6ae-8de7-42e5-a647-29d5dee0594a",
      "UserId": 579655,
      "Username": "Jennifer Wren",
      "AvatarUrl": "https://i.imgur.com/t1XUS1Kb.jpg",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "I found a document on how to make an indicator bar. Unfortunately, it is (in span style) not being read correctly by my game engine. The part I put into the script tab is not loading. I can't do anything with it. I don't know if the advanced script is doing anything or not, but it is loading correctly. That's all I know.\r\nHow can I make the indicator bar that works as described?\r\nhttp://docs.textadventures.co.uk/quest/custom_panes.html",
      "EditableFormat": "markdown",
      "HTML": "<p>I found a document on how to make an indicator bar. Unfortunately, it is (in span style) not being read correctly by my game engine. The part I put into the script tab is not loading. I can't do anything with it. I don't know if the advanced script is doing anything or not, but it is loading correctly. That's all I know.<br>\nHow can I make the indicator bar that works as described?<br>\nhttp://docs.textadventures.co.uk/quest/custom_panes.html</p>\n\n",
      "PostDate": "2024-05-16T13:13:58.8724802Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "a0997cb0-462d-4e97-a6cf-5d6eae132ac3",
      "UserId": 31991,
      "Username": "daeun",
      "AvatarUrl": "https://i.imgur.com/Xvt8zzBb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "I tried it and it might be working, when you enter room1, the player loses 1 hitpoints\r\n\r\nSample code (Customize according to what you need)\r\n\r\nTo paste the code\r\n1. Startup your quest gamebook/textadventure, on the right side of the big play button, you can see a code view button </>\r\n2. Copy my code to replace the code in the text box, click code view button again.\r\n3. Viola, it is done, press play button to test out the game and modify the code to your preference.\r\n\r\n<details>\r\n\r\n```\r\n<!--Saved by Quest 5.8.6836.13983-->\r\n<asl version=\"580\">\r\n  <include ref=\"English.aslx\" />\r\n  <include ref=\"Core.aslx\" />\r\n  <game name=\"test6\">\r\n    <gameid>dcc925f3-5b1c-40c8-b8fd-e24434d9e3aa</gameid>\r\n    <version>1.0</version>\r\n    <firstpublished>2024</firstpublished>\r\n    <feature_advancedscripts />\r\n    <inituserinterface type=\"script\"><![CDATA[\r\n      s = \"<table width=\\\"100%\\\"><tr>\"\r\n      s = s + \"   <td style=\\\"text-align:right;\\\" width=\\\"50%\\\">Hit points:</td>\"\r\n      s = s + \"   <td style=\\\"text-align:left;\\\" width=\\\"50%\\\"><span id=\\\"hits-span\\\">---</span></td>\"\r\n      s = s + \" </tr>\"\r\n      s = s + \" <tr>\"\r\n      s = s + \"   <td colspan=\\\"2\\\" style=\\\"border: thin solid;background:white;text-align:left;\\\">\"\r\n      s = s + \"   <span id=\\\"hits-indicator\\\" style=\\\"background-color:black;padding-right:200px;\\\"></span>\"\r\n      s = s + \"   </td>\"\r\n      s = s + \" </tr>\"\r\n      s = s + \"</table>\"\r\n      JS.setCustomStatus (s)\r\n      if (HasScript(player, \"changedhitpoints\")) {\r\n        do (player, \"changedhitpoints\")\r\n      }\r\n    ]]></inituserinterface>\r\n    <start type=\"script\"><![CDATA[\r\n      player.changedhitpoints => {\r\n        JS.eval (\"$('#hits-span').html('\" + game.pov.hitpoints + \"/\" + game.pov.maxhitpoints + \"');\")\r\n        JS.eval (\"$('#hits-indicator').css('padding-right', '\" + (200 * game.pov.hitpoints / game.pov.maxhitpoints) + \"px');\")\r\n      }\r\n      player.maxhitpoints = 70\r\n      player.hitpoints = 70\r\n    ]]></start>\r\n    <showhealth type=\"boolean\">false</showhealth>\r\n    <customstatuspane />\r\n  </game>\r\n  <object name=\"room\">\r\n    <inherit name=\"editor_room\" />\r\n    <isroom />\r\n    <object name=\"player\">\r\n      <inherit name=\"editor_object\" />\r\n      <inherit name=\"editor_player\" />\r\n    </object>\r\n    <exit alias=\"south\" to=\"room1\">\r\n      <inherit name=\"southdirection\" />\r\n    </exit>\r\n  </object>\r\n  <object name=\"room1\">\r\n    <inherit name=\"editor_room\" />\r\n    <enter type=\"script\">\r\n      player.hitpoints = player.hitpoints-1\r\n    </enter>\r\n    <exit alias=\"north\" to=\"room\">\r\n      <inherit name=\"northdirection\" />\r\n    </exit>\r\n  </object>\r\n</asl>\r\n```\r\n</details>",
      "EditableFormat": "markdown",
      "HTML": "<p>I tried it and it might be working, when you enter room1, the player loses 1 hitpoints</p>\n<p>Sample code (Customize according to what you need)</p>\n<p>To paste the code</p>\n<ol>\n<li>Startup your quest gamebook/textadventure, on the right side of the big play button, you can see a code view button &lt;/&gt;</li>\n<li>Copy my code to replace the code in the text box, click code view button again.</li>\n<li>Viola, it is done, press play button to test out the game and modify the code to your preference.</li>\n</ol>\n<details>\n<pre><code>&lt;!--Saved by Quest 5.8.6836.13983--&gt;\n&lt;asl version=\"580\"&gt;\n  &lt;include ref=\"English.aslx\" /&gt;\n  &lt;include ref=\"Core.aslx\" /&gt;\n  &lt;game name=\"test6\"&gt;\n    &lt;gameid&gt;dcc925f3-5b1c-40c8-b8fd-e24434d9e3aa&lt;/gameid&gt;\n    &lt;version&gt;1.0&lt;/version&gt;\n    &lt;firstpublished&gt;2024&lt;/firstpublished&gt;\n    &lt;feature_advancedscripts /&gt;\n    &lt;inituserinterface type=\"script\"&gt;&lt;![CDATA[\n      s = \"&lt;table width=\\\"100%\\\"&gt;&lt;tr&gt;\"\n      s = s + \"   &lt;td style=\\\"text-align:right;\\\" width=\\\"50%\\\"&gt;Hit points:&lt;/td&gt;\"\n      s = s + \"   &lt;td style=\\\"text-align:left;\\\" width=\\\"50%\\\"&gt;&lt;span id=\\\"hits-span\\\"&gt;---&lt;/span&gt;&lt;/td&gt;\"\n      s = s + \" &lt;/tr&gt;\"\n      s = s + \" &lt;tr&gt;\"\n      s = s + \"   &lt;td colspan=\\\"2\\\" style=\\\"border: thin solid;background:white;text-align:left;\\\"&gt;\"\n      s = s + \"   &lt;span id=\\\"hits-indicator\\\" style=\\\"background-color:black;padding-right:200px;\\\"&gt;&lt;/span&gt;\"\n      s = s + \"   &lt;/td&gt;\"\n      s = s + \" &lt;/tr&gt;\"\n      s = s + \"&lt;/table&gt;\"\n      JS.setCustomStatus (s)\n      if (HasScript(player, \"changedhitpoints\")) {\n        do (player, \"changedhitpoints\")\n      }\n    ]]&gt;&lt;/inituserinterface&gt;\n    &lt;start type=\"script\"&gt;&lt;![CDATA[\n      player.changedhitpoints =&gt; {\n        JS.eval (\"$('#hits-span').html('\" + game.pov.hitpoints + \"/\" + game.pov.maxhitpoints + \"');\")\n        JS.eval (\"$('#hits-indicator').css('padding-right', '\" + (200 * game.pov.hitpoints / game.pov.maxhitpoints) + \"px');\")\n      }\n      player.maxhitpoints = 70\n      player.hitpoints = 70\n    ]]&gt;&lt;/start&gt;\n    &lt;showhealth type=\"boolean\"&gt;false&lt;/showhealth&gt;\n    &lt;customstatuspane /&gt;\n  &lt;/game&gt;\n  &lt;object name=\"room\"&gt;\n    &lt;inherit name=\"editor_room\" /&gt;\n    &lt;isroom /&gt;\n    &lt;object name=\"player\"&gt;\n      &lt;inherit name=\"editor_object\" /&gt;\n      &lt;inherit name=\"editor_player\" /&gt;\n    &lt;/object&gt;\n    &lt;exit alias=\"south\" to=\"room1\"&gt;\n      &lt;inherit name=\"southdirection\" /&gt;\n    &lt;/exit&gt;\n  &lt;/object&gt;\n  &lt;object name=\"room1\"&gt;\n    &lt;inherit name=\"editor_room\" /&gt;\n    &lt;enter type=\"script\"&gt;\n      player.hitpoints = player.hitpoints-1\n    &lt;/enter&gt;\n    &lt;exit alias=\"north\" to=\"room\"&gt;\n      &lt;inherit name=\"northdirection\" /&gt;\n    &lt;/exit&gt;\n  &lt;/object&gt;\n&lt;/asl&gt;\n</code></pre>\n</details>\n\n",
      "PostDate": "2024-07-10T14:01:06.0434337Z",
      "LastEditDate": null,
      "link": null
    }
  ]
}
