{
  "Topic": {
    "TopicId": "594",
    "ForumId": "10",
    "Title": "Newb - Lighting",
    "LastUpdated": "2004-12-28T07:59:55+00:00",
    "ReplyCount": 5
  },
  "Posts": [
    {
      "PostId": "4551",
      "UserId": 0,
      "Username": "jpatton",
      "UserAvatar": null,
      "UserGravatar": "f172ee96a364c79db9a61f63ef042138",
      "EditableText": "Hi, I teach a scripting class and we are working on an adventure game using VBScript. It's very simple as there is not a lot of capability inherent to the scripting language. So I decided I would write what they are doing in one of the IF languages, and poking around I stumbled upon Quest.\n\nFirstly let me say, very well put together program had on critical error that caused the QDK to exit abruptly, I had an object named Chandelier and when I either tried to rename it the wrong way it said there was already an object with that name, threw an error, and exited. That sucked because I lost my work, but now I save after more or less each room creation or object creation, most likely wise decision regardless.\n\nSecondly, I love how easy it is to quickly put a game together. I wasn't sure initially how to build a map for my students, then I found this online maze creator which worked out well. Using Quest I was able to quickly input 34 rooms all connected for an initial walk-through in like 10min!\n\nOk, enough praise, my question is this, I want to have a series of rooms to be initially dark, and they must posses the flashlight to move anywhere. You should see a semblance of Zork here, if they don't have the flashlight they die on their next move unless it's to leave the room. I have read a few of the posts, and I think I would do this as a flag, but I'm not 100% sure. Is this possible using just the QDK? I have no knowledge of the underlying language at all.\n\nI think I can figure out how to verify if the flag is dark, using one of those conditional scripting commands, I'm just missing where I would set the initial flag in the room. Ok, well, I thought I could verify, here is what I just tried.\n\nSorry if I ramble.\n\nI have a room called lobby west, on the property sheet, on the misc tab, under the properties and actions button I defined a property HasLight and set it equal to No.\n\nSame room, under the script tab, in the enter room section it reads: If \"HasLight\" is equal to \"No\" Then Print \"You have entered a dark room.\"\n\nWhat I understand currently by looking at my properties I should get 'You have entered a dark room.' upon entering lobby west. But I don't see that, so I have something set wrong. If someone could help I would really appreciate it. Perhaps that same person could show me or guide me on how to let a flashlight turn on and off once you have taken it. I'll worry about having the flaslight's batteries run out for another time.\n\nThanks again for your help!\n\nJeff",
      "EditableFormat": "bbcode",
      "HTML": "Hi, I teach a scripting class and we are working on an adventure game using VBScript. It's very simple as there is not a lot of capability inherent to the scripting language. So I decided I would write what they are doing in one of the IF languages, and poking around I stumbled upon Quest.<br/><br/>Firstly let me say, very well put together program had on critical error that caused the QDK to exit abruptly, I had an object named Chandelier and when I either tried to rename it the wrong way it said there was already an object with that name, threw an error, and exited. That sucked because I lost my work, but now I save after more or less each room creation or object creation, most likely wise decision regardless.<br/><br/>Secondly, I love how easy it is to quickly put a game together. I wasn't sure initially how to build a map for my students, then I found this online maze creator which worked out well. Using Quest I was able to quickly input 34 rooms all connected for an initial walk-through in like 10min!<br/><br/>Ok, enough praise, my question is this, I want to have a series of rooms to be initially dark, and they must posses the flashlight to move anywhere. You should see a semblance of Zork here, if they don't have the flashlight they die on their next move unless it's to leave the room. I have read a few of the posts, and I think I would do this as a flag, but I'm not 100% sure. Is this possible using just the QDK? I have no knowledge of the underlying language at all.<br/><br/>I think I can figure out how to verify if the flag is dark, using one of those conditional scripting commands, I'm just missing where I would set the initial flag in the room. Ok, well, I thought I could verify, here is what I just tried.<br/><br/>Sorry if I ramble.<br/><br/>I have a room called lobby west, on the property sheet, on the misc tab, under the properties and actions button I defined a property HasLight and set it equal to No.<br/><br/>Same room, under the script tab, in the enter room section it reads: If \"HasLight\" is equal to \"No\" Then Print \"You have entered a dark room.\"<br/><br/>What I understand currently by looking at my properties I should get 'You have entered a dark room.' upon entering lobby west. But I don't see that, so I have something set wrong. If someone could help I would really appreciate it. Perhaps that same person could show me or guide me on how to let a flashlight turn on and off once you have taken it. I'll worry about having the flaslight's batteries run out for another time.<br/><br/>Thanks again for your help!<br/><br/>Jeff",
      "PostDate": "2004-12-14T01:53:07+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "4553",
      "UserId": 0,
      "Username": "Anonymous",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Hi Jeff and welcome to Quest  <!-- s:) --><img src=\"{SMILIES_PATH}/icon_e_smile.gif\" alt=\":)\" title=\"Smile\" /><!-- s:) --> \n\nAs you have no doubt discovered, Quest doesn't have the facility for 'dark places' built in, we are left to our own devices to implement this in whatever way we see fit.\n\nThe real problem here lies with the Quest GUI showing a list of objects etc in the current location.  Although it is relatively easy to suppress the textual description of the 'darkened' room in the text window, it is a bit more tricky to hide away the objects that are shown in the objects pane.\n\nDepending on how many rooms you need to have dark, it might be easier to just make duplicate rooms (an empty dark version + the real room) and swop your player between them according to posession of a light source.  If there are lots and lots of potentially dark rooms it might be better to write something a bit more sophisticated to deal with it.\n\nYou might have noticed too that Quest supports 'libraries' to extend the basic functionality and it would be entirely possible to write an include library that would add the capacity to make rooms dark / lit with a single click inside the QDK, a very useful facility.\n\nAl (MaDbRiT)",
      "EditableFormat": "bbcode",
      "HTML": "Hi Jeff and welcome to Quest  <!-- s:) --><img src=\"{SMILIES_PATH}/icon_e_smile.gif\" alt=\":)\" title=\"Smile\" /><!-- s:) --> <br/><br/>As you have no doubt discovered, Quest doesn't have the facility for 'dark places' built in, we are left to our own devices to implement this in whatever way we see fit.<br/><br/>The real problem here lies with the Quest GUI showing a list of objects etc in the current location.  Although it is relatively easy to suppress the textual description of the 'darkened' room in the text window, it is a bit more tricky to hide away the objects that are shown in the objects pane.<br/><br/>Depending on how many rooms you need to have dark, it might be easier to just make duplicate rooms (an empty dark version + the real room) and swop your player between them according to posession of a light source.  If there are lots and lots of potentially dark rooms it might be better to write something a bit more sophisticated to deal with it.<br/><br/>You might have noticed too that Quest supports 'libraries' to extend the basic functionality and it would be entirely possible to write an include library that would add the capacity to make rooms dark / lit with a single click inside the QDK, a very useful facility.<br/><br/>Al (MaDbRiT)",
      "PostDate": "2004-12-14T20:33:38+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "4554",
      "UserId": 0,
      "Username": "Anonymous",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Hi (again) Jeff,\n\nFollowing on from my last post, here's a little demo with three rooms (two initially dark) and a lamp.\n\nYou can cut, paste &amp; save the code below as (say) 'dark.asl'  and it should run in Quest and be able to be loaded into QDK to see how I made it work.\n\n\n[code:2xw04ggf]\n' &quot;Dark Room Demo&quot;\n' Created with QDK Pro 3&#46;53\n\ndefine game &lt;Dark Room Test&gt;\n\tasl-version &lt;350&gt;\n\tgametype singleplayer\n\tstart &lt;hall&gt;\n\tgame author &lt;Al &#40;MaDbRiT&#41;&gt;\n\tgame version &lt;&#46;09a&gt;\n\tgame info &lt;Created with QDK Pro 3&#46;53&gt;\n\tcommand &lt;turn on lamp; turn lamp on&gt; &#123;\n\t\tmsg &lt;The lamp is almost dazzling in its brightness&#46;&gt;\n\t\tmove &lt;lamp_on;inventory&gt;\n\t\tshow &lt;lamp_on&gt;\n\t\thide &lt;lamp_off&gt;\n\t\tif &#40;#&#40;quest&#46;currentroom&#41;&#58;darkRoomFor#&lt;&gt;!&#41; then &#123;\n\t\tgoto &lt;#quest&#46;currentroom&#41;&#58;darkRoomFor#&gt;\n\t\t&#125;\n\t&#125;\nend define\n\ndefine synonyms\nend define\n\ndefine room &lt;hall&gt;\n\tprefix &lt;the&gt;\n\tlook &lt;A shabby hallway&#46;&gt;\n\tsouth &#123;\n\t\tif got &lt;lamp_on&gt; then &#123;\n\t\t\tgoto &lt;kitchen&gt;\n\t\t&#125;\n\t\telse goto &lt;dark_kitchen&gt;\n\t&#125;\n\t\n\twest &#123;\n\t\tif got &lt;lamp_on&gt; then &#123;\n\t\t\tgoto &lt;cloakroom&gt;\n\t\t&#125;\n\t\telse goto &lt;dark_cloakroom&gt;\n\t&#125;\n\t\n\tdefine object &lt;lamp_on&gt;\n\t\talias &lt;lamp&gt;\n\t\tprefix &lt;a&gt;\t\t\n\t\tlook &lt;a powerful battery powered lamp, it throws a strong light&#46;&gt;\n\t\ttake\n\t\thidden\n\tend define\n\t\n\tdefine object &lt;lamp_off&gt;\n\t\talias &lt;lamp&gt;\n\t\tprefix &lt;a&gt;\n\t\tlook &lt;a powerful battery powered lamp, it looks like it would give _\n\t\ta strong light if you turned it on&#46;&gt;\n\t\ttake\n\tend define\n\nend define\n\ndefine room &lt;kitchen&gt;\n\tprefix &lt;the&gt;\n\tlook &lt;A filfthy kitchen, it ought to carry a health warning&#46;&gt;\n\tnorth &lt;hall&gt;\nend define\n\ndefine room &lt;dark_kitchen&gt;\n\talias &lt;darkness&gt;\n\tindescription &lt;You are in complete darkness&#46;&gt;\n\tlook &lt;It's pitch black in here, you can't see a thing&#46;&gt;\n\tnorth &lt;hall&gt;\n\tproperties &lt;darkRoomFor=kitchen&gt;\nend define\n\ndefine room &lt;cloakroom&gt;\n\tprefix &lt;the&gt;\n\tlook &lt;Indescribable, it would look better in the dark&#46;&gt;\n\teast &lt;hall&gt;\nend define\n\ndefine room &lt;dark_cloakroom&gt;\n\talias &lt;darkness&gt;\n\tindescription &lt;You are in complete darkness&#46;&gt;\n\tlook &lt;It's pitch black in here, you can't see a thing&#46;&gt;\n\teast &lt;hall&gt;\n\tproperties &lt;darkRoomFor=cloakroom&gt;\nend define\n\ndefine text &lt;intro&gt;\n\nend define\n\ndefine text &lt;win&gt;\n\nend define\n\ndefine text &lt;lose&gt;\n\nend define[/code:2xw04ggf]\n\nHope this helps, if there is anything in the above that you don't follow please ask.\n\nAl (MaDbRiT)",
      "EditableFormat": "bbcode",
      "HTML": "Hi (again) Jeff,<br/><br/>Following on from my last post, here's a little demo with three rooms (two initially dark) and a lamp.<br/><br/>You can cut, paste &amp; save the code below as (say) 'dark.asl'  and it should run in Quest and be able to be loaded into QDK to see how I made it work.<br/><br/><br/><pre><code><br/>' &quot;Dark Room Demo&quot;<br/>' Created with QDK Pro 3&#46;53<br/><br/>define game &lt;Dark Room Test&gt;<br/>\tasl-version &lt;350&gt;<br/>\tgametype singleplayer<br/>\tstart &lt;hall&gt;<br/>\tgame author &lt;Al &#40;MaDbRiT&#41;&gt;<br/>\tgame version &lt;&#46;09a&gt;<br/>\tgame info &lt;Created with QDK Pro 3&#46;53&gt;<br/>\tcommand &lt;turn on lamp; turn lamp on&gt; &#123;<br/>\t\tmsg &lt;The lamp is almost dazzling in its brightness&#46;&gt;<br/>\t\tmove &lt;lamp_on;inventory&gt;<br/>\t\tshow &lt;lamp_on&gt;<br/>\t\thide &lt;lamp_off&gt;<br/>\t\tif &#40;#&#40;quest&#46;currentroom&#41;&#58;darkRoomFor#&lt;&gt;!&#41; then &#123;<br/>\t\tgoto &lt;#quest&#46;currentroom&#41;&#58;darkRoomFor#&gt;<br/>\t\t&#125;<br/>\t&#125;<br/>end define<br/><br/>define synonyms<br/>end define<br/><br/>define room &lt;hall&gt;<br/>\tprefix &lt;the&gt;<br/>\tlook &lt;A shabby hallway&#46;&gt;<br/>\tsouth &#123;<br/>\t\tif got &lt;lamp_on&gt; then &#123;<br/>\t\t\tgoto &lt;kitchen&gt;<br/>\t\t&#125;<br/>\t\telse goto &lt;dark_kitchen&gt;<br/>\t&#125;<br/>\t<br/>\twest &#123;<br/>\t\tif got &lt;lamp_on&gt; then &#123;<br/>\t\t\tgoto &lt;cloakroom&gt;<br/>\t\t&#125;<br/>\t\telse goto &lt;dark_cloakroom&gt;<br/>\t&#125;<br/>\t<br/>\tdefine object &lt;lamp_on&gt;<br/>\t\talias &lt;lamp&gt;<br/>\t\tprefix &lt;a&gt;\t\t<br/>\t\tlook &lt;a powerful battery powered lamp, it throws a strong light&#46;&gt;<br/>\t\ttake<br/>\t\thidden<br/>\tend define<br/>\t<br/>\tdefine object &lt;lamp_off&gt;<br/>\t\talias &lt;lamp&gt;<br/>\t\tprefix &lt;a&gt;<br/>\t\tlook &lt;a powerful battery powered lamp, it looks like it would give _<br/>\t\ta strong light if you turned it on&#46;&gt;<br/>\t\ttake<br/>\tend define<br/><br/>end define<br/><br/>define room &lt;kitchen&gt;<br/>\tprefix &lt;the&gt;<br/>\tlook &lt;A filfthy kitchen, it ought to carry a health warning&#46;&gt;<br/>\tnorth &lt;hall&gt;<br/>end define<br/><br/>define room &lt;dark_kitchen&gt;<br/>\talias &lt;darkness&gt;<br/>\tindescription &lt;You are in complete darkness&#46;&gt;<br/>\tlook &lt;It's pitch black in here, you can't see a thing&#46;&gt;<br/>\tnorth &lt;hall&gt;<br/>\tproperties &lt;darkRoomFor=kitchen&gt;<br/>end define<br/><br/>define room &lt;cloakroom&gt;<br/>\tprefix &lt;the&gt;<br/>\tlook &lt;Indescribable, it would look better in the dark&#46;&gt;<br/>\teast &lt;hall&gt;<br/>end define<br/><br/>define room &lt;dark_cloakroom&gt;<br/>\talias &lt;darkness&gt;<br/>\tindescription &lt;You are in complete darkness&#46;&gt;<br/>\tlook &lt;It's pitch black in here, you can't see a thing&#46;&gt;<br/>\teast &lt;hall&gt;<br/>\tproperties &lt;darkRoomFor=cloakroom&gt;<br/>end define<br/><br/>define text &lt;intro&gt;<br/><br/>end define<br/><br/>define text &lt;win&gt;<br/><br/>end define<br/><br/>define text &lt;lose&gt;<br/><br/>end define</code></pre><br/><br/>Hope this helps, if there is anything in the above that you don't follow please ask.<br/><br/>Al (MaDbRiT)",
      "PostDate": "2004-12-14T21:48:07+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "4587",
      "UserId": 0,
      "Username": "007bond",
      "UserAvatar": null,
      "UserGravatar": "4c2673a2d8666a97b5c1082c5cf2e0e5",
      "EditableText": "Not that Jeff would know about this list, but I think that this should be another thing put on the list to put into the next version of ASL.  It's kind of like my room type thing, where you have like hallway, park, front or back yard, and so on, except  this is lighting in a room.  An idea I must admit I've never thought of before as a useful thing in Quest.",
      "EditableFormat": "bbcode",
      "HTML": "Not that Jeff would know about this list, but I think that this should be another thing put on the list to put into the next version of ASL.  It's kind of like my room type thing, where you have like hallway, park, front or back yard, and so on, except  this is lighting in a room.  An idea I must admit I've never thought of before as a useful thing in Quest.",
      "PostDate": "2004-12-21T20:55:29+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "4666",
      "UserId": 0,
      "Username": "EagleWing",
      "UserAvatar": null,
      "UserGravatar": "ac4095c11bee0e420948382df0256ffa",
      "EditableText": "[quote=&quot;007bond&quot;:2v21045q]Not that Jeff would know about this list, but I think that this should be another thing put on the list to put into the next version of ASL.  It's kind of like my room type thing, where you have like hallway, park, front or back yard, and so on, except  this is lighting in a room.  An idea I must admit I've never thought of before as a useful thing in Quest.[/quote:2v21045q]\n\n <!-- s:roll: --><img src=\"{SMILIES_PATH}/icon_rolleyes.gif\" alt=\":roll:\" title=\"Rolling Eyes\" /><!-- s:roll: --> Why does it have to be added to the program? A well written library would do the job equally well - and Al has demonstrated how easy it would be to add one.\n\nIf you've never before thought of dark-rooms as being useful in Quest then you haven't thought very much about actually writing IF. Cellars, dungeons and night scenes are fairly common in IF. The first and last are also pretty common in real life, I believe!\n\nFrank",
      "EditableFormat": "bbcode",
      "HTML": "<blockquote><cite>007bond wrote:</cite>Not that Jeff would know about this list, but I think that this should be another thing put on the list to put into the next version of ASL.  It's kind of like my room type thing, where you have like hallway, park, front or back yard, and so on, except  this is lighting in a room.  An idea I must admit I've never thought of before as a useful thing in Quest.</blockquote><br/><br/> <!-- s:roll: --><img src=\"{SMILIES_PATH}/icon_rolleyes.gif\" alt=\":roll:\" title=\"Rolling Eyes\" /><!-- s:roll: --> Why does it have to be added to the program? A well written library would do the job equally well - and Al has demonstrated how easy it would be to add one.<br/><br/>If you've never before thought of dark-rooms as being useful in Quest then you haven't thought very much about actually writing IF. Cellars, dungeons and night scenes are fairly common in IF. The first and last are also pretty common in real life, I believe!<br/><br/>Frank",
      "PostDate": "2004-12-27T13:36:21+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "4673",
      "UserId": 0,
      "Username": "paul_one",
      "UserAvatar": null,
      "UserGravatar": "fef8a1875028f4300bb683f29c432894",
      "EditableText": "I have nothing to say/add to the conversation... So I will say something anyway!\n\n007 again shows ignorance. Al once again shows intelligence, and EagleWing again gives a great point.",
      "EditableFormat": "bbcode",
      "HTML": "I have nothing to say/add to the conversation... So I will say something anyway!<br/><br/>007 again shows ignorance. Al once again shows intelligence, and EagleWing again gives a great point.",
      "PostDate": "2004-12-28T07:59:55+00:00",
      "LastEditDate": null
    }
  ]
}
