{
  "Topic": {
    "TopicId": "xk3zud5vaeihbldixzkqyq",
    "ForumId": "10",
    "Title": "How do I word this command?",
    "LastUpdated": "2018-06-22T01:31:11.2000695Z",
    "ReplyCount": 0
  },
  "Posts": [
    {
      "PostId": "98b4e156-c8ce-4711-b572-e62ff0becc5f",
      "UserId": 267336,
      "Username": "jmnevil54",
      "AvatarUrl": "https://secure.gravatar.com/avatar/5d73d7ec1dbe20a5cb46f02a6d53f187?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "So I have this command with a pattern of ```heal oran berry #object#```. But the game says it can't see the player. How do I heal oran berry player? Or, how do I just heal the player with an oran berry?\r\n\r\nI am also open to new names or patterns. This one is kind of long.\r\n\r\nIn the mean time I've just been typing \"heal oran beery hat\" or other objects.\r\n\r\nThis is the command's code, if that helps.\r\n```\r\nif (player.potion > 0) {\r\n  if (player.hitpoints < player.max) {\r\n    player.hitpoints = player.hitpoints + 30\r\n    msg (\"+30 health\")\r\n    if (player.potion > 0) {\r\n      player.potion = player.potion - 1\r\n    }\r\n  }\r\n}\r\nelse if (player.potion = 0) {\r\n  msg (\"You have no potions.\")\r\n}\r\nelse {\r\n  msg (\"You have full health.\")\r\n}\r\nif (player.hitpoints > player.max) {\r\n  player.hitpoints = player.max\r\n}\r\n```",
      "EditableFormat": "markdown",
      "HTML": "<p>So I have this command with a pattern of <code>heal oran berry #object#</code>. But the game says it can't see the player. How do I heal oran berry player? Or, how do I just heal the player with an oran berry?</p>\n<p>I am also open to new names or patterns. This one is kind of long.</p>\n<p>In the mean time I've just been typing \"heal oran beery hat\" or other objects.</p>\n<p>This is the command's code, if that helps.</p>\n<pre><code>if (player.potion &gt; 0) {\n  if (player.hitpoints &lt; player.max) {\n    player.hitpoints = player.hitpoints + 30\n    msg (\"+30 health\")\n    if (player.potion &gt; 0) {\n      player.potion = player.potion - 1\n    }\n  }\n}\nelse if (player.potion = 0) {\n  msg (\"You have no potions.\")\n}\nelse {\n  msg (\"You have full health.\")\n}\nif (player.hitpoints &gt; player.max) {\n  player.hitpoints = player.max\n}\n</code></pre>\n\n",
      "PostDate": "2018-06-22T01:31:11.2000695Z",
      "LastEditDate": "2018-06-22T01:41:08.4620646Z",
      "link": null
    },
    {
      "PostId": "9e679425-73b8-43cb-ba1a-a9d689878843",
      "UserId": 247325,
      "Username": "hegemonkhan",
      "AvatarUrl": "https://secure.gravatar.com/avatar/a96cf34d8d97c57de38f54ee22b1759b?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "just to fix up your code a bit (making it a bit more efficient, removing un-needed code lines):\r\n\r\n(I am going to change it's behavior a bit, which you may not want, if you need help in changing it back to what you want, let me know)\r\n\r\n```\r\nif (player.potion > 0) {\r\n  player.potion = player.potion - 1\r\n  player.hitpoints = player.hitpoints + 30\r\n  msg (\"+30 health\")\r\n  if (player.hitpoints > player.max) {\r\n    player.hitpoints = player.max\r\n  }\r\n} else {\r\n  msg (\"You have no potions.\")\r\n}\r\n```\r\n\r\n--------------\r\n\r\nthe Command's pattern, with the scripting you have for the Command, doesn't use/need the '#object#' Parameter VARIABLE at all\r\n\r\nif the scripting is correct, then you can just do this for the pattern:\r\n\r\n(if you want it to be 'heal oran berry', then just change my 'heal' to it, but I don't see why you couldn't just use 'heal', as people don't want to type out 'heal oran berry' when they could just type 'heal' instead)\r\n\r\n(the below assumes you do in-fact are using a Player Object named 'player', if not, then you need to change all instances of 'player' in the scripting below, to the name your Player Object)\r\n\r\n```\r\n<command name=\"heal_command\">\r\n\r\n  <pattern>heal</pattern>\r\n\r\n  <script>\r\n    if (player.potion > 0) {\r\n      player.potion = player.potion - 1\r\n      player.hitpoints = player.hitpoints + 30\r\n      msg (\"+30 health\")\r\n      if (player.hitpoints > player.max) {\r\n        player.hitpoints = player.max\r\n      }\r\n    } else {\r\n      msg (\"You have no potions.\")\r\n    }\r\n  </script>\r\n\r\n</command>\r\n```\r\n\r\n---------\r\n\r\nif you want your Command pattern to work on any/all Player Object/s:\r\n\r\n```\r\n<command name=\"heal_command\">\r\n\r\n  <pattern>heal</pattern>\r\n\r\n  <script>\r\n    if (game.pov.potion > 0) {\r\n      game.pov.potion = game.pov.potion - 1\r\n      game.pov.hitpoints = game.pov.hitpoints + 30\r\n      msg (\"+30 health\")\r\n      if (game.pov.hitpoints > game.pov.max) {\r\n        game.pov.hitpoints = game.pov.max\r\n      }\r\n    } else {\r\n      msg (\"You have no potions.\")\r\n    }\r\n  </script>\r\n\r\n</command>\r\n```\r\n\r\n---------\r\n\r\nif you want your Command to handle both an inputted/dynamic 'item' (a potion, elixir, vial, etc) Object and an inputted/dynamic 'target' Object:\r\n\r\n(you can change the wording of the pattern below, but you need the first 'word', which is your 'heal' in this case, to be unique and NOT a Parameter VARIABLE (NOT: #object#, NOR: #text#), which your 'heal' is already (I like to call this first word of a Command, the command's 'activator' word), and you need to use/have '#object#/#objectAAA#' and '#objectX#/#objectBBB#', but otherwise, you can have the pattern as whatever you want)\r\n\r\nI'm using this for the Command's pattern:\r\n\r\nheal #object1# with #object2#\r\n\r\nheal: activator\r\n\r\n#object1#: target (examples: player, HK, npc, etc)\r\n\r\n#object2#: item (examples: oran berry, candy, chocolate, etc)\r\n\r\nwith: this isn't required at all (you could just do this as the pattern: heal #object1# #object2#, and an example input during game paly would be: heal player oran berry), as it's is just for my own nazi grammar usage, to make it \"look/read\" better, lol\r\n\r\nboth object1 and object2 must be Objects and for the Command to work, you must be in the same room as those Objects and/or have them within your inventory, else the Command can't find them (we can change the Command if you need it to be able to find Objects not in the same room as you and/or if not in your inventory)\r\n\r\nexample of what you'd type in during game play:\r\n\r\nheal player with oran berry\r\n\r\n// this of course would require that both the 'oran berry' and 'player', exists as an Object within the same room as you (or that it is you, lol) and/or within your inventory, and also that these Objects have the Attributes that the scripting uses for their Attributes\r\n\r\n```\r\n<command name=\"heal_command\">\r\n\r\n  <pattern>heal #object1# with #object2#</pattern>\r\n\r\n  <script>\r\n    if (object2.quantity > 0) {\r\n      object2.quantity = object2.quantity - 1\r\n      object1.hitpoints = object1.hitpoints + 30\r\n      msg (\"+30 health\")\r\n      if (object1.hitpoints > object1.max) {\r\n        object1.hitpoints = object1.max\r\n      }\r\n    } else {\r\n      msg (\"You have no potions.\")\r\n    }\r\n  </script>\r\n\r\n  <unresolved>Quest can't locate/find those Objects within the game.pov 's parent room (game.pov.parent), nor within the inventory (game.pov), which could also mean that those Objects don't exist at all anywhere within the game or that you merely typo-ed/mis-spelled the Objects with your input during game play</unresolved>\r\n\r\n</command>\r\n```\r\n\r\n--------\r\n\r\nif you're still having trouble...\r\n\r\nit may be that the space for/within 'oran berry' is confusing/messing up the parser for the Command trying to match up your input with the pattern ... try removing the space or using an underscore instead (for example, you'd have to change all instances of 'oran berry' to 'oran_berry' within/throughout your ENTIRE GAME CODE and any libraries that use/have 'oran berry' within them as well",
      "EditableFormat": "markdown",
      "HTML": "<p>just to fix up your code a bit (making it a bit more efficient, removing un-needed code lines):</p>\n<p>(I am going to change it's behavior a bit, which you may not want, if you need help in changing it back to what you want, let me know)</p>\n<pre><code>if (player.potion &gt; 0) {\n  player.potion = player.potion - 1\n  player.hitpoints = player.hitpoints + 30\n  msg (\"+30 health\")\n  if (player.hitpoints &gt; player.max) {\n    player.hitpoints = player.max\n  }\n} else {\n  msg (\"You have no potions.\")\n}\n</code></pre>\n<hr>\n<p>the Command's pattern, with the scripting you have for the Command, doesn't use/need the '#object#' Parameter VARIABLE at all</p>\n<p>if the scripting is correct, then you can just do this for the pattern:</p>\n<p>(if you want it to be 'heal oran berry', then just change my 'heal' to it, but I don't see why you couldn't just use 'heal', as people don't want to type out 'heal oran berry' when they could just type 'heal' instead)</p>\n<p>(the below assumes you do in-fact are using a Player Object named 'player', if not, then you need to change all instances of 'player' in the scripting below, to the name your Player Object)</p>\n<pre><code>&lt;command name=\"heal_command\"&gt;\n\n  &lt;pattern&gt;heal&lt;/pattern&gt;\n\n  &lt;script&gt;\n    if (player.potion &gt; 0) {\n      player.potion = player.potion - 1\n      player.hitpoints = player.hitpoints + 30\n      msg (\"+30 health\")\n      if (player.hitpoints &gt; player.max) {\n        player.hitpoints = player.max\n      }\n    } else {\n      msg (\"You have no potions.\")\n    }\n  &lt;/script&gt;\n\n&lt;/command&gt;\n</code></pre>\n<hr>\n<p>if you want your Command pattern to work on any/all Player Object/s:</p>\n<pre><code>&lt;command name=\"heal_command\"&gt;\n\n  &lt;pattern&gt;heal&lt;/pattern&gt;\n\n  &lt;script&gt;\n    if (game.pov.potion &gt; 0) {\n      game.pov.potion = game.pov.potion - 1\n      game.pov.hitpoints = game.pov.hitpoints + 30\n      msg (\"+30 health\")\n      if (game.pov.hitpoints &gt; game.pov.max) {\n        game.pov.hitpoints = game.pov.max\n      }\n    } else {\n      msg (\"You have no potions.\")\n    }\n  &lt;/script&gt;\n\n&lt;/command&gt;\n</code></pre>\n<hr>\n<p>if you want your Command to handle both an inputted/dynamic 'item' (a potion, elixir, vial, etc) Object and an inputted/dynamic 'target' Object:</p>\n<p>(you can change the wording of the pattern below, but you need the first 'word', which is your 'heal' in this case, to be unique and NOT a Parameter VARIABLE (NOT: #object#, NOR: #text#), which your 'heal' is already (I like to call this first word of a Command, the command's 'activator' word), and you need to use/have '#object#/#objectAAA#' and '#objectX#/#objectBBB#', but otherwise, you can have the pattern as whatever you want)</p>\n<p>I'm using this for the Command's pattern:</p>\n<p>heal #object1# with #object2#</p>\n<p>heal: activator</p>\n<p>#object1#: target (examples: player, HK, npc, etc)</p>\n<p>#object2#: item (examples: oran berry, candy, chocolate, etc)</p>\n<p>with: this isn't required at all (you could just do this as the pattern: heal #object1# #object2#, and an example input during game paly would be: heal player oran berry), as it's is just for my own nazi grammar usage, to make it \"look/read\" better, lol</p>\n<p>both object1 and object2 must be Objects and for the Command to work, you must be in the same room as those Objects and/or have them within your inventory, else the Command can't find them (we can change the Command if you need it to be able to find Objects not in the same room as you and/or if not in your inventory)</p>\n<p>example of what you'd type in during game play:</p>\n<p>heal player with oran berry</p>\n<p>// this of course would require that both the 'oran berry' and 'player', exists as an Object within the same room as you (or that it is you, lol) and/or within your inventory, and also that these Objects have the Attributes that the scripting uses for their Attributes</p>\n<pre><code>&lt;command name=\"heal_command\"&gt;\n\n  &lt;pattern&gt;heal #object1# with #object2#&lt;/pattern&gt;\n\n  &lt;script&gt;\n    if (object2.quantity &gt; 0) {\n      object2.quantity = object2.quantity - 1\n      object1.hitpoints = object1.hitpoints + 30\n      msg (\"+30 health\")\n      if (object1.hitpoints &gt; object1.max) {\n        object1.hitpoints = object1.max\n      }\n    } else {\n      msg (\"You have no potions.\")\n    }\n  &lt;/script&gt;\n\n  &lt;unresolved&gt;Quest can't locate/find those Objects within the game.pov 's parent room (game.pov.parent), nor within the inventory (game.pov), which could also mean that those Objects don't exist at all anywhere within the game or that you merely typo-ed/mis-spelled the Objects with your input during game play&lt;/unresolved&gt;\n\n&lt;/command&gt;\n</code></pre>\n<hr>\n<p>if you're still having trouble...</p>\n<p>it may be that the space for/within 'oran berry' is confusing/messing up the parser for the Command trying to match up your input with the pattern ... try removing the space or using an underscore instead (for example, you'd have to change all instances of 'oran berry' to 'oran_berry' within/throughout your ENTIRE GAME CODE and any libraries that use/have 'oran berry' within them as well</p>\n\n",
      "PostDate": "2018-06-22T02:16:37.1217661Z",
      "LastEditDate": "2018-06-22T02:29:03.9983958Z",
      "link": null
    },
    {
      "PostId": "52084e40-c209-4c1d-86a1-b984c5974b2b",
      "UserId": 1346,
      "Username": "The Pixie",
      "AvatarUrl": "https://secure.gravatar.com/avatar/cfa37e927f96177bcf6053ae8f108f77?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "> So I have this command with a pattern of heal oran berry #object#. But the game says it can't see the player. How do I heal oran berry player? Or, how do I just heal the player with an oran berry?\r\n\r\nIf an object has an alias, Quest will use that instead of the object's name when matching. So while the player object has the _name_ object, Quest will not match that because it has an alias too. If you go to the _Player_ tab of the player, you will see that the alias is \"me\", and typing HEAL ORAN BERRY ME should work.\r\n\r\nIf you want, you can add \"player\" to the list of other names on that tab.\r\n\r\nI would also suggest HK's \"heal #object1# with #object2#\" is probably a better way to do it.",
      "EditableFormat": "markdown",
      "HTML": "<blockquote>\n<p>So I have this command with a pattern of heal oran berry #object#. But the game says it can't see the player. How do I heal oran berry player? Or, how do I just heal the player with an oran berry?</p>\n</blockquote>\n<p>If an object has an alias, Quest will use that instead of the object's name when matching. So while the player object has the <em>name</em> object, Quest will not match that because it has an alias too. If you go to the <em>Player</em> tab of the player, you will see that the alias is \"me\", and typing HEAL ORAN BERRY ME should work.</p>\n<p>If you want, you can add \"player\" to the list of other names on that tab.</p>\n<p>I would also suggest HK's \"heal #object1# with #object2#\" is probably a better way to do it.</p>\n\n",
      "PostDate": "2018-06-22T07:01:38.3734622Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "51b6e6ab-a82b-46b2-89a0-46407a03e718",
      "UserId": 247325,
      "Username": "hegemonkhan",
      "AvatarUrl": "https://secure.gravatar.com/avatar/a96cf34d8d97c57de38f54ee22b1759b?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "forgot the CDATA tags (if you want to use my code), fixed/corrected:\r\n\r\n----------------\r\n\r\n```\r\n<command name=\"heal_command\">\r\n\r\n  <pattern>heal #object1# with #object2#</pattern>\r\n\r\n  <script>\r\n\r\n    <![CDATA[\r\n\r\n      if (object2.quantity > 0) {\r\n        object2.quantity = object2.quantity - 1\r\n        object1.hitpoints = object1.hitpoints + 30\r\n        msg (\"+30 health\")\r\n        if (object1.hitpoints > object1.max) {\r\n          object1.hitpoints = object1.max\r\n        }\r\n      } else {\r\n        msg (\"You have no potions.\")\r\n      }\r\n\r\n    ]]>\r\n\r\n  </script>\r\n\r\n  <unresolved>Quest can't locate/find those Objects within the game.pov 's parent room (game.pov.parent), nor within the inventory (game.pov), which could also mean that those Objects don't exist at all anywhere within the game or that you merely typo-ed/mis-spelled the Objects with your input during game play</unresolved>\r\n\r\n</command>\r\n```\r\n\r\n---------\r\n\r\n```\r\n<command name=\"heal_command\">\r\n\r\n  <pattern>heal</pattern>\r\n\r\n  <script>\r\n\r\n    <![CDATA[\r\n\r\n      if (game.pov.potion > 0) {\r\n        game.pov.potion = game.pov.potion - 1\r\n        game.pov.hitpoints = game.pov.hitpoints + 30\r\n        msg (\"+30 health\")\r\n        if (game.pov.hitpoints > game.pov.max) {\r\n          game.pov.hitpoints = game.pov.max\r\n        }\r\n      } else {\r\n        msg (\"You have no potions.\")\r\n      }\r\n\r\n    ]]>\r\n\r\n  </script>\r\n\r\n</command>\r\n```\r\n\r\n--------------\r\n\r\n```\r\n<command name=\"heal_command\">\r\n\r\n  <pattern>heal</pattern>\r\n\r\n  <script>\r\n\r\n    <![CDATA[\r\n\r\n      if (player.potion > 0) {\r\n        player.potion = player.potion - 1\r\n        player.hitpoints = player.hitpoints + 30\r\n        msg (\"+30 health\")\r\n        if (player.hitpoints > player.max) {\r\n          player.hitpoints = player.max\r\n        }\r\n      } else {\r\n        msg (\"You have no potions.\")\r\n      }\r\n\r\n    ]]>\r\n\r\n  </script>\r\n\r\n</command>\r\n```",
      "EditableFormat": "markdown",
      "HTML": "<p>forgot the CDATA tags (if you want to use my code), fixed/corrected:</p>\n<hr>\n<pre><code>&lt;command name=\"heal_command\"&gt;\n\n  &lt;pattern&gt;heal #object1# with #object2#&lt;/pattern&gt;\n\n  &lt;script&gt;\n\n    &lt;![CDATA[\n\n      if (object2.quantity &gt; 0) {\n        object2.quantity = object2.quantity - 1\n        object1.hitpoints = object1.hitpoints + 30\n        msg (\"+30 health\")\n        if (object1.hitpoints &gt; object1.max) {\n          object1.hitpoints = object1.max\n        }\n      } else {\n        msg (\"You have no potions.\")\n      }\n\n    ]]&gt;\n\n  &lt;/script&gt;\n\n  &lt;unresolved&gt;Quest can't locate/find those Objects within the game.pov 's parent room (game.pov.parent), nor within the inventory (game.pov), which could also mean that those Objects don't exist at all anywhere within the game or that you merely typo-ed/mis-spelled the Objects with your input during game play&lt;/unresolved&gt;\n\n&lt;/command&gt;\n</code></pre>\n<hr>\n<pre><code>&lt;command name=\"heal_command\"&gt;\n\n  &lt;pattern&gt;heal&lt;/pattern&gt;\n\n  &lt;script&gt;\n\n    &lt;![CDATA[\n\n      if (game.pov.potion &gt; 0) {\n        game.pov.potion = game.pov.potion - 1\n        game.pov.hitpoints = game.pov.hitpoints + 30\n        msg (\"+30 health\")\n        if (game.pov.hitpoints &gt; game.pov.max) {\n          game.pov.hitpoints = game.pov.max\n        }\n      } else {\n        msg (\"You have no potions.\")\n      }\n\n    ]]&gt;\n\n  &lt;/script&gt;\n\n&lt;/command&gt;\n</code></pre>\n<hr>\n<pre><code>&lt;command name=\"heal_command\"&gt;\n\n  &lt;pattern&gt;heal&lt;/pattern&gt;\n\n  &lt;script&gt;\n\n    &lt;![CDATA[\n\n      if (player.potion &gt; 0) {\n        player.potion = player.potion - 1\n        player.hitpoints = player.hitpoints + 30\n        msg (\"+30 health\")\n        if (player.hitpoints &gt; player.max) {\n          player.hitpoints = player.max\n        }\n      } else {\n        msg (\"You have no potions.\")\n      }\n\n    ]]&gt;\n\n  &lt;/script&gt;\n\n&lt;/command&gt;\n</code></pre>\n\n",
      "PostDate": "2018-06-22T08:23:23.8121867Z",
      "LastEditDate": "2018-06-22T08:24:11.5780169Z",
      "link": null
    },
    {
      "PostId": "4cbf3e75-d64d-4d2f-a34b-36077c337b92",
      "UserId": 267336,
      "Username": "jmnevil54",
      "AvatarUrl": "https://secure.gravatar.com/avatar/5d73d7ec1dbe20a5cb46f02a6d53f187?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "My player's alias is Gold. So there is that.\r\nIn none of my other games can I type \"Heal potion player\" or something. I don't know why. I end up creating a potion bag because I can't type player, and it's just easier to click on an object instead of type.\r\n\r\nSo I opened my game. I typed \"heal oran berry Gold\" and that worked. I typed \"heal oran berry me\" and that worked. I typed \"heal oran berry player\" and it said it can't see that (player). I changed the command's name to heal1, and that worked.\r\n\r\nThe command uses the potion attribute I created, not an object.",
      "EditableFormat": "markdown",
      "HTML": "<p>My player's alias is Gold. So there is that.<br>\nIn none of my other games can I type \"Heal potion player\" or something. I don't know why. I end up creating a potion bag because I can't type player, and it's just easier to click on an object instead of type.</p>\n<p>So I opened my game. I typed \"heal oran berry Gold\" and that worked. I typed \"heal oran berry me\" and that worked. I typed \"heal oran berry player\" and it said it can't see that (player). I changed the command's name to heal1, and that worked.</p>\n<p>The command uses the potion attribute I created, not an object.</p>\n\n",
      "PostDate": "2018-06-22T10:44:18.2245085Z",
      "LastEditDate": "2018-06-22T10:45:32.3918022Z",
      "link": null
    }
  ]
}
