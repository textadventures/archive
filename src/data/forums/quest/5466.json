{
  "Topic": {
    "TopicId": "5466",
    "ForumId": "10",
    "Title": "Creating A flashlight",
    "LastUpdated": "2015-09-08T11:21:26+01:00",
    "ReplyCount": 2
  },
  "Posts": [
    {
      "PostId": "37894",
      "UserId": 0,
      "Username": "ivyostrider",
      "UserAvatar": null,
      "UserGravatar": "1aefe4d566dcf8f75bae1a6c7df9a7fb",
      "EditableText": "Hello, I am having trouble creating a flashlight for my game. When I looked up a way to make the object work automatically in all rooms, I found [url:2hsuoehg]http&#58;//forum&#46;textadventures&#46;co&#46;uk/viewtopic&#46;php?t=3743[/url:2hsuoehg] this topic, but I ran in to trouble following it: Not sure where to paste the code in which box after creating the function, Not sure how to find the function CheckDarkness, and how exactly to go putting in code once I found it.\nCould someone help? Thanks!",
      "EditableFormat": "bbcode",
      "HTML": "Hello, I am having trouble creating a flashlight for my game. When I looked up a way to make the object work automatically in all rooms, I found <a href=\"http&#58;//forum&#46;textadventures&#46;co&#46;uk/viewtopic&#46;php?t=3743\" rel=\"nofollow\">http&#58;//forum&#46;textadventures&#46;co&#46;uk/viewtopic&#46;php?t=3743</a> this topic, but I ran in to trouble following it: Not sure where to paste the code in which box after creating the function, Not sure how to find the function CheckDarkness, and how exactly to go putting in code once I found it.<br/>Could someone help? Thanks!",
      "PostDate": "2015-09-06T15:46:41+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "37923",
      "UserId": 0,
      "Username": "HaganeSteel",
      "UserAvatar": null,
      "UserGravatar": "df37a725b4b0ec648419f1076777c4b8",
      "EditableText": "This may or may not help, but in Carrion Fire, &quot;Flashlight&quot; is an attribute under the &quot;player&quot; object. It's not an object itself.\n\nFlashlight is an integer that begins at 125. I have a turn script called &quot;Flashlight&quot; that runs throughout the entire game, and every time the player takes an action, I have the turn script set the attribute: player.Flashlight = player.Flashlight - 1.\n\nTo make the turn script run globally, you don't place it in a room. You place it in the &quot;Objects&quot; tree.\n\n[attachment=1:1svmmkg3]<!-- ia1 -->flashlight.png<!-- ia1 -->[/attachment:1svmmkg3]\n\n[attachment=2:1svmmkg3]<!-- ia2 -->CFPlayer.png<!-- ia2 -->[/attachment:1svmmkg3]\n\nI also have a changed script. What this does is tell the game to end if the Flashlight integer reaches 0. Another thing it does is keep the Flashlight integer from going above 125. If player.Flashlight &gt; 125, then player.Flashlight = 125.\n\n[attachment=0:1svmmkg3]<!-- ia0 -->changedflashlight.png<!-- ia0 -->[/attachment:1svmmkg3]\n\nI did other things too. For example, when the player enters the final room to beat the game, I add +1 to player.Flashlight so that they won't die if their &quot;Flashlight&quot; is 1.",
      "EditableFormat": "bbcode",
      "HTML": "This may or may not help, but in Carrion Fire, &quot;Flashlight&quot; is an attribute under the &quot;player&quot; object. It's not an object itself.<br/><br/>Flashlight is an integer that begins at 125. I have a turn script called &quot;Flashlight&quot; that runs throughout the entire game, and every time the player takes an action, I have the turn script set the attribute: player.Flashlight = player.Flashlight - 1.<br/><br/>To make the turn script run globally, you don't place it in a room. You place it in the &quot;Objects&quot; tree.<br/><br/><div><img src=\"/forumattachments/1317/flashlight.png\" alt=\"flashlight.png\" /></div><br/><br/><div><img src=\"/forumattachments/1316/CFPlayer.png\" alt=\"CFPlayer.png\" /></div><br/><br/>I also have a changed script. What this does is tell the game to end if the Flashlight integer reaches 0. Another thing it does is keep the Flashlight integer from going above 125. If player.Flashlight &gt; 125, then player.Flashlight = 125.<br/><br/><div><img src=\"/forumattachments/1318/changedflashlight.png\" alt=\"changedflashlight.png\" /></div><br/><br/>I did other things too. For example, when the player enters the final room to beat the game, I add +1 to player.Flashlight so that they won't die if their &quot;Flashlight&quot; is 1.",
      "PostDate": "2015-09-07T23:49:27+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "37932",
      "UserId": 0,
      "Username": "The Pixie",
      "UserAvatar": null,
      "UserGravatar": "cfa37e927f96177bcf6053ae8f108f77",
      "EditableText": "I would make the flashlight an object the player can pick up and turn on and off. here is a quick example game.\n[code:16zfftgd]&lt;!--Saved by Quest 5&#46;6&#46;5621&#46;18142--&gt;\n&lt;asl version=&quot;550&quot;&gt;\n  &lt;include ref=&quot;English&#46;aslx&quot; /&gt;\n  &lt;include ref=&quot;Core&#46;aslx&quot; /&gt;\n  &lt;game name=&quot;testy&quot;&gt;\n    &lt;gameid&gt;ac0b3225-36cd-43ab-b1fc-eb4cdc4af74e&lt;/gameid&gt;\n    &lt;version&gt;1&#46;0&lt;/version&gt;\n    &lt;firstpublished&gt;2015&lt;/firstpublished&gt;\n    &lt;start type=&quot;script&quot;&gt;\n    &lt;/start&gt;\n  &lt;/game&gt;\n  &lt;object name=&quot;room&quot;&gt;\n    &lt;inherit name=&quot;editor_room&quot; /&gt;\n    &lt;object name=&quot;player&quot;&gt;\n      &lt;inherit name=&quot;editor_object&quot; /&gt;\n      &lt;inherit name=&quot;editor_player&quot; /&gt;\n      &lt;attr name=&quot;changedheight_rating&quot; type=&quot;script&quot;&gt;\n        player&#46;height = GetHeight()\n      &lt;/attr&gt;\n    &lt;/object&gt;\n    &lt;exit alias=&quot;south&quot; to=&quot;second_room&quot;&gt;\n      &lt;inherit name=&quot;southdirection&quot; /&gt;\n    &lt;/exit&gt;\n    &lt;object name=&quot;flashlight&quot;&gt;\n      &lt;inherit name=&quot;editor_object&quot; /&gt;\n      &lt;inherit name=&quot;switchable&quot; /&gt;\n      &lt;feature_switchable /&gt;\n      &lt;take /&gt;\n      &lt;battery type=&quot;int&quot;&gt;23&lt;/battery&gt;\n      &lt;displayverbs type=&quot;stringlist&quot;&gt;\n        &lt;value&gt;Look at&lt;/value&gt;\n        &lt;value&gt;Take&lt;/value&gt;\n      &lt;/displayverbs&gt;\n      &lt;inventoryverbs type=&quot;stringlist&quot;&gt;\n        &lt;value&gt;Look at&lt;/value&gt;\n        &lt;value&gt;Drop&lt;/value&gt;\n      &lt;/inventoryverbs&gt;\n      &lt;look&gt;An ordinary flashlight{if flashlight&#46;switchedon&#58;shining brightly}&#46;&lt;/look&gt;\n      &lt;turnon type=&quot;script&quot;&gt;&lt;!&#91;CDATA&#91;\n        if (ListContains(ScopeReachable(), this)) {\n          if (this&#46;switchedon) {\n            msg (DynamicTemplate(&quot;AlreadySwitchedOn&quot;, this))\n          }\n          if (this&#46;battery &lt; 1) {\n            msg (&quot;You try to turn on the flashlight, but the battery is dead&#46;&quot;)\n          }\n          else {\n            msg (&quot;You turn on the flashlight&#46;&quot;)\n            do (this, &quot;turn_on&quot;)\n          }\n        }\n        else {\n          msg (DynamicTemplate(&quot;DefaultTurnOn&quot;, this))\n        }\n      &#93;&#93;&gt;&lt;/turnon&gt;\n      &lt;turnoff type=&quot;script&quot;&gt;\n        if (ListContains(ScopeReachable(), this)) {\n          if (not this&#46;switchedon) {\n            msg (DynamicTemplate(&quot;AlreadySwitchedOff&quot;, this))\n          }\n          else {\n            msg (&quot;You turn off the flashlight&#46;&quot;)\n            do (this, &quot;turn_off&quot;)\n          }\n        }\n        else {\n          msg (DynamicTemplate(&quot;DefaultTurnOff&quot;, this))\n        }\n      &lt;/turnoff&gt;\n      &lt;attr name=&quot;turn_on&quot; type=&quot;script&quot;&gt;\n        this&#46;switchedon = true\n        EnableTurnScript (flashlight_turnscript)\n        msg (flashlight_turnscript&#46;enabled)\n        SetObjectLightstrength (this, &quot;strong&quot;)\n      &lt;/attr&gt;\n      &lt;attr name=&quot;turn_off&quot; type=&quot;script&quot;&gt;\n        DisableTurnScript (flashlight_turnscript)\n        this&#46;switchedon = false\n        SetObjectLightstrength (this, &quot;&quot;)\n      &lt;/attr&gt;\n    &lt;/object&gt;\n    &lt;object name=&quot;plasticbox&quot;&gt;\n      &lt;inherit name=&quot;editor_object&quot; /&gt;\n      &lt;inherit name=&quot;container_open&quot; /&gt;\n      &lt;take /&gt;\n      &lt;feature_container /&gt;\n      &lt;transparent /&gt;\n    &lt;/object&gt;\n    &lt;object name=&quot;woodenbox&quot;&gt;\n      &lt;inherit name=&quot;editor_object&quot; /&gt;\n      &lt;inherit name=&quot;container_open&quot; /&gt;\n      &lt;take /&gt;\n      &lt;feature_container /&gt;\n    &lt;/object&gt;\n  &lt;/object&gt;\n  &lt;object name=&quot;second_room&quot;&gt;\n    &lt;inherit name=&quot;editor_room&quot; /&gt;\n    &lt;feature_lightdark /&gt;\n    &lt;dark /&gt;\n    &lt;description&gt;An ornate room devoid of lights&#46;&lt;/description&gt;\n    &lt;exit alias=&quot;north&quot; to=&quot;room&quot;&gt;\n      &lt;inherit name=&quot;northdirection&quot; /&gt;\n      &lt;lightsource /&gt;\n      &lt;lightstrength&gt;weak&lt;/lightstrength&gt;\n    &lt;/exit&gt;\n    &lt;object name=&quot;teapot&quot;&gt;\n      &lt;inherit name=&quot;editor_object&quot; /&gt;\n    &lt;/object&gt;\n    &lt;exit alias=&quot;east&quot;&gt;\n      &lt;inherit name=&quot;eastdirection&quot; /&gt;\n    &lt;/exit&gt;\n  &lt;/object&gt;\n  &lt;turnscript name=&quot;flashlight_turnscript&quot;&gt;\n    &lt;enabled type=&quot;boolean&quot;&gt;false&lt;/enabled&gt;\n    &lt;script&gt;\n      flashlight&#46;battery = flashlight&#46;battery - 1\n      if (flashlight&#46;battery = 10 and ListContains(ScopeReachable(), flashlight)) {\n        msg (&quot;Your flashlight starts to flicker&#46;&quot;)\n      }\n      if (flashlight&#46;battery = 0) {\n        if (ListContains(ScopeReachable(), flashlight)) {\n          msg (&quot;Your flashlight flickers and dies&#46;&quot;)\n        }\n        do (flashlight, &quot;turn_off&quot;)\n      }\n    &lt;/script&gt;\n  &lt;/turnscript&gt;\n  &lt;walkthrough name=&quot;test&quot;&gt;\n    &lt;steps type=&quot;simplestringlist&quot;&gt;\n      take flashlight\n      x flashlight\n      take plasticbox\n      take woodenbox\n      south\n      x flashlight\n      turn on flashlight\n      x flashlight\n      l\n      drop flashlight\n      l\n      turn on flashlight\n      put flashlight in woodenbox\n      take flashlight\n      put flashlight in woodenbox\n      l\n      close woodenbox\n      l\n      open woodenbox\n      put flashlight in plasticbox\n      l\n      close plasticbox\n      l\n      turn off flashlight\n      open plasticbox\n      turn off flashlight\n      l\n      turn on flashlight\n      l\n      look at flashlight\n      z\n      look at flashlight\n      turn on flashlight\n    &lt;/steps&gt;\n  &lt;/walkthrough&gt;\n&lt;/asl&gt;[/code:16zfftgd]\nThere is an issue here about what happens if the player goes into a dark room without a torch. She can easily be trapped there as the exits are not accessible if they cannot be seen. One way around that is to have exits lit, but be aware of the issue",
      "EditableFormat": "bbcode",
      "HTML": "I would make the flashlight an object the player can pick up and turn on and off. here is a quick example game.<br/><pre><code>&lt;!--Saved by Quest 5&#46;6&#46;5621&#46;18142--&gt;<br/>&lt;asl version=&quot;550&quot;&gt;<br/>  &lt;include ref=&quot;English&#46;aslx&quot; /&gt;<br/>  &lt;include ref=&quot;Core&#46;aslx&quot; /&gt;<br/>  &lt;game name=&quot;testy&quot;&gt;<br/>    &lt;gameid&gt;ac0b3225-36cd-43ab-b1fc-eb4cdc4af74e&lt;/gameid&gt;<br/>    &lt;version&gt;1&#46;0&lt;/version&gt;<br/>    &lt;firstpublished&gt;2015&lt;/firstpublished&gt;<br/>    &lt;start type=&quot;script&quot;&gt;<br/>    &lt;/start&gt;<br/>  &lt;/game&gt;<br/>  &lt;object name=&quot;room&quot;&gt;<br/>    &lt;inherit name=&quot;editor_room&quot; /&gt;<br/>    &lt;object name=&quot;player&quot;&gt;<br/>      &lt;inherit name=&quot;editor_object&quot; /&gt;<br/>      &lt;inherit name=&quot;editor_player&quot; /&gt;<br/>      &lt;attr name=&quot;changedheight_rating&quot; type=&quot;script&quot;&gt;<br/>        player&#46;height = GetHeight()<br/>      &lt;/attr&gt;<br/>    &lt;/object&gt;<br/>    &lt;exit alias=&quot;south&quot; to=&quot;second_room&quot;&gt;<br/>      &lt;inherit name=&quot;southdirection&quot; /&gt;<br/>    &lt;/exit&gt;<br/>    &lt;object name=&quot;flashlight&quot;&gt;<br/>      &lt;inherit name=&quot;editor_object&quot; /&gt;<br/>      &lt;inherit name=&quot;switchable&quot; /&gt;<br/>      &lt;feature_switchable /&gt;<br/>      &lt;take /&gt;<br/>      &lt;battery type=&quot;int&quot;&gt;23&lt;/battery&gt;<br/>      &lt;displayverbs type=&quot;stringlist&quot;&gt;<br/>        &lt;value&gt;Look at&lt;/value&gt;<br/>        &lt;value&gt;Take&lt;/value&gt;<br/>      &lt;/displayverbs&gt;<br/>      &lt;inventoryverbs type=&quot;stringlist&quot;&gt;<br/>        &lt;value&gt;Look at&lt;/value&gt;<br/>        &lt;value&gt;Drop&lt;/value&gt;<br/>      &lt;/inventoryverbs&gt;<br/>      &lt;look&gt;An ordinary flashlight{if flashlight&#46;switchedon&#58;shining brightly}&#46;&lt;/look&gt;<br/>      &lt;turnon type=&quot;script&quot;&gt;&lt;!&#91;CDATA&#91;<br/>        if (ListContains(ScopeReachable(), this)) {<br/>          if (this&#46;switchedon) {<br/>            msg (DynamicTemplate(&quot;AlreadySwitchedOn&quot;, this))<br/>          }<br/>          if (this&#46;battery &lt; 1) {<br/>            msg (&quot;You try to turn on the flashlight, but the battery is dead&#46;&quot;)<br/>          }<br/>          else {<br/>            msg (&quot;You turn on the flashlight&#46;&quot;)<br/>            do (this, &quot;turn_on&quot;)<br/>          }<br/>        }<br/>        else {<br/>          msg (DynamicTemplate(&quot;DefaultTurnOn&quot;, this))<br/>        }<br/>      &#93;&#93;&gt;&lt;/turnon&gt;<br/>      &lt;turnoff type=&quot;script&quot;&gt;<br/>        if (ListContains(ScopeReachable(), this)) {<br/>          if (not this&#46;switchedon) {<br/>            msg (DynamicTemplate(&quot;AlreadySwitchedOff&quot;, this))<br/>          }<br/>          else {<br/>            msg (&quot;You turn off the flashlight&#46;&quot;)<br/>            do (this, &quot;turn_off&quot;)<br/>          }<br/>        }<br/>        else {<br/>          msg (DynamicTemplate(&quot;DefaultTurnOff&quot;, this))<br/>        }<br/>      &lt;/turnoff&gt;<br/>      &lt;attr name=&quot;turn_on&quot; type=&quot;script&quot;&gt;<br/>        this&#46;switchedon = true<br/>        EnableTurnScript (flashlight_turnscript)<br/>        msg (flashlight_turnscript&#46;enabled)<br/>        SetObjectLightstrength (this, &quot;strong&quot;)<br/>      &lt;/attr&gt;<br/>      &lt;attr name=&quot;turn_off&quot; type=&quot;script&quot;&gt;<br/>        DisableTurnScript (flashlight_turnscript)<br/>        this&#46;switchedon = false<br/>        SetObjectLightstrength (this, &quot;&quot;)<br/>      &lt;/attr&gt;<br/>    &lt;/object&gt;<br/>    &lt;object name=&quot;plasticbox&quot;&gt;<br/>      &lt;inherit name=&quot;editor_object&quot; /&gt;<br/>      &lt;inherit name=&quot;container_open&quot; /&gt;<br/>      &lt;take /&gt;<br/>      &lt;feature_container /&gt;<br/>      &lt;transparent /&gt;<br/>    &lt;/object&gt;<br/>    &lt;object name=&quot;woodenbox&quot;&gt;<br/>      &lt;inherit name=&quot;editor_object&quot; /&gt;<br/>      &lt;inherit name=&quot;container_open&quot; /&gt;<br/>      &lt;take /&gt;<br/>      &lt;feature_container /&gt;<br/>    &lt;/object&gt;<br/>  &lt;/object&gt;<br/>  &lt;object name=&quot;second_room&quot;&gt;<br/>    &lt;inherit name=&quot;editor_room&quot; /&gt;<br/>    &lt;feature_lightdark /&gt;<br/>    &lt;dark /&gt;<br/>    &lt;description&gt;An ornate room devoid of lights&#46;&lt;/description&gt;<br/>    &lt;exit alias=&quot;north&quot; to=&quot;room&quot;&gt;<br/>      &lt;inherit name=&quot;northdirection&quot; /&gt;<br/>      &lt;lightsource /&gt;<br/>      &lt;lightstrength&gt;weak&lt;/lightstrength&gt;<br/>    &lt;/exit&gt;<br/>    &lt;object name=&quot;teapot&quot;&gt;<br/>      &lt;inherit name=&quot;editor_object&quot; /&gt;<br/>    &lt;/object&gt;<br/>    &lt;exit alias=&quot;east&quot;&gt;<br/>      &lt;inherit name=&quot;eastdirection&quot; /&gt;<br/>    &lt;/exit&gt;<br/>  &lt;/object&gt;<br/>  &lt;turnscript name=&quot;flashlight_turnscript&quot;&gt;<br/>    &lt;enabled type=&quot;boolean&quot;&gt;false&lt;/enabled&gt;<br/>    &lt;script&gt;<br/>      flashlight&#46;battery = flashlight&#46;battery - 1<br/>      if (flashlight&#46;battery = 10 and ListContains(ScopeReachable(), flashlight)) {<br/>        msg (&quot;Your flashlight starts to flicker&#46;&quot;)<br/>      }<br/>      if (flashlight&#46;battery = 0) {<br/>        if (ListContains(ScopeReachable(), flashlight)) {<br/>          msg (&quot;Your flashlight flickers and dies&#46;&quot;)<br/>        }<br/>        do (flashlight, &quot;turn_off&quot;)<br/>      }<br/>    &lt;/script&gt;<br/>  &lt;/turnscript&gt;<br/>  &lt;walkthrough name=&quot;test&quot;&gt;<br/>    &lt;steps type=&quot;simplestringlist&quot;&gt;<br/>      take flashlight<br/>      x flashlight<br/>      take plasticbox<br/>      take woodenbox<br/>      south<br/>      x flashlight<br/>      turn on flashlight<br/>      x flashlight<br/>      l<br/>      drop flashlight<br/>      l<br/>      turn on flashlight<br/>      put flashlight in woodenbox<br/>      take flashlight<br/>      put flashlight in woodenbox<br/>      l<br/>      close woodenbox<br/>      l<br/>      open woodenbox<br/>      put flashlight in plasticbox<br/>      l<br/>      close plasticbox<br/>      l<br/>      turn off flashlight<br/>      open plasticbox<br/>      turn off flashlight<br/>      l<br/>      turn on flashlight<br/>      l<br/>      look at flashlight<br/>      z<br/>      look at flashlight<br/>      turn on flashlight<br/>    &lt;/steps&gt;<br/>  &lt;/walkthrough&gt;<br/>&lt;/asl&gt;</code></pre><br/>There is an issue here about what happens if the player goes into a dark room without a torch. She can easily be trapped there as the exits are not accessible if they cannot be seen. One way around that is to have exits lit, but be aware of the issue",
      "PostDate": "2015-09-08T11:21:26+01:00",
      "LastEditDate": null
    }
  ]
}