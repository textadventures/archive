{
  "Topic": {
    "TopicId": "5754",
    "ForumId": "10",
    "Title": "InitInterface help required",
    "LastUpdated": "2016-03-27T13:22:56+01:00",
    "ReplyCount": 33
  },
  "Posts": [
    {
      "PostId": "39838",
      "UserId": 0,
      "Username": "OurJud",
      "UserAvatar": "7473_1417206896.jpg",
      "UserGravatar": "7892e1059c02a91b34ffd60deb7402ff",
      "EditableText": "As some of you may be aware, I have been trying, ever since uploading my first test game over a year ago, to prevent the border around the parser command box from displaying.\n\nThe problem occurs when playing the game online, in that the game won't fetch the CSS rule which hides the parser command box, when the game is resumed from a save point.\n\nBack when this was originally discussed, Jay finally came to the conclusion that it was a bug with the online emulator, so over the last few weeks I've had a ticket running on Github and Alex has said that my CSS to hide the parser command box has to go in the IntInterface in order for it to work on resume.\n\nNow, I've found this in Library Elements, but have no idea where the CSS call needs to go.\n\nHere's a breakdown:\n\nIn the game's code I have the following CSS block, somewhere near the top:\n\n[code:7gwicuvj]&lt;css&gt;&lt;!&#91;CDATA&#91;\n    \n       &lt;style type=&quot;text/css&quot;&gt;\n        body {\n            line-height&#58; 1&#46;2em;\n          }\n       \n        div#txtCommandDiv {\n            border&#58;none;\n            background&#58; no-repeat;\n            font-size&#58;10px;\n            font-family&#58;'Trebuchet MS', Helvetica, sans-serif;\n            \n          }\n          input#txtCommand {\n            outline&#58;none;\n            border&#58;none;\n            font-size&#58;10px;\n            margin&#58;0;\n            padding&#58;0;\n            max-width&#58; 1000px;\n          }\n          \n                    \n          &lt;/style&gt;[/code:7gwicuvj]\nAnd then right at the very bottom:\n\n[code:7gwicuvj]&lt;function name=&quot;InitUserInterface&quot;&gt;&lt;!&#91;CDATA&#91;\n    JS&#46;eval (&quot;$('#txtCommandDiv')&#46;prepend('&amp;gt;&amp;nbsp;')&quot;)\n    request (SetInterfaceString, &quot;TypeHereLabel=&quot;)\n    OutputTextNoBr (game&#46;css)\n    JS&#46;JS&#46;eval (&quot;$('#status')&#46;hide();&quot;)\n  &#93;&#93;&gt;&lt;/function&gt;[/code:7gwicuvj]\n\nThen, in the UI, under Game &gt;&gt; Script (tab) I have the following JS running as a Start Script&#058;\n\n[code:7gwicuvj]JS&#46;JS&#46;eval (&quot;getCSSRule('a&#46;cmdlink')&#46;style&#46;color='#000000'&quot;)[/code:7gwicuvj]\n\nFinally, this is the entire script code for the IntInterface - which is where Alex says I need to add the CSS in order for it to hid the parser command box on resume of a save:\n\n[code:7gwicuvj]if (game&#46;setcustomwidth) {\n  JS&#46;setGameWidth (game&#46;customwidth)\n}\nelse {\n}\nif (not game&#46;showborder) {\n  JS&#46;hideBorder ()\n}\nif (game&#46;setcustompadding) {\n  JS&#46;setGamePadding (game&#46;custompaddingtop, game&#46;custompaddingbottom, game&#46;custompaddingleft, game&#46;custompaddingright)\n}\nif (game&#46;externalstylesheets &lt;&gt; null) {\n  foreach (stylesheet, game&#46;externalstylesheets) {\n    JS&#46;addExternalStylesheet (stylesheet)\n  }\n}\nif (game&#46;setbackgroundopacity) {\n  SetBackgroundOpacity (game&#46;backgroundopacity)\n}\nrequest (Background, game&#46;defaultbackground)\nrequest (Foreground, game&#46;defaultforeground)\nrequest (LinkForeground, game&#46;defaultlinkforeground)\nif (LengthOf(game&#46;backgroundimage) &gt; 0) {\n  SetBackgroundImage (game&#46;backgroundimage)\n}\nrequest (SetCompassDirections, Join(game&#46;compassdirections, &quot;;&quot;))\nrequest (SetInterfaceString, &quot;InventoryLabel=Inventory&quot;)\nrequest (SetInterfaceString, &quot;StatusLabel=Status&quot;)\nrequest (SetInterfaceString, &quot;PlacesObjectsLabel=Places and Objects&quot;)\nrequest (SetInterfaceString, &quot;CompassLabel=Compass&quot;)\nrequest (SetInterfaceString, &quot;InButtonLabel=in&quot;)\nrequest (SetInterfaceString, &quot;OutButtonLabel=out&quot;)\nrequest (SetInterfaceString, &quot;EmptyListLabel=(empty)&quot;)\nrequest (SetInterfaceString, &quot;NothingSelectedLabel=(nothing selected)&quot;)\nrequest (SetInterfaceString, &quot;TypeHereLabel=Type here&#46;&#46;&#46;&quot;)\nrequest (SetInterfaceString, &quot;ContinueLabel=&quot;)\nJS&#46;SetMenuBackground (game&#46;menubackground)\nJS&#46;SetMenuForeground (game&#46;menuforeground)\nJS&#46;SetMenuHoverBackground (game&#46;menuhoverbackground)\nJS&#46;SetMenuHoverForeground (game&#46;menuhoverforeground)\nJS&#46;SetMenuFontName (game&#46;menufont)\nJS&#46;SetMenuFontSize (game&#46;menufontsize + &quot;pt&quot;)\nif (not game&#46;underlinehyperlinks) {\n  JS&#46;TurnOffHyperlinksUnderline ()\n}\nif (game&#46;showpanes) {\n  request (Show, &quot;Panes&quot;)\n}\nelse {\n  request (Hide, &quot;Panes&quot;)\n}\nif (game&#46;showcommandbar) {\n  request (Show, &quot;Command&quot;)\n}\nelse {\n  request (Hide, &quot;Command&quot;)\n}\nif (game&#46;showlocation) {\n  request (Show, &quot;Location&quot;)\n}\nelse {\n  request (Hide, &quot;Location&quot;)\n}\nif (HasString(game, &quot;panelcontents&quot;)) {\n  SetFramePicture (game&#46;panelcontents)\n}\nif (game&#46;gridmap) {\n  JS&#46;ShowGrid (game&#46;mapsize)\n  Grid_SetScale (game&#46;mapscale)\n  if (game&#46;pov &lt;&gt; null) {\n    if (game&#46;pov&#46;parent &lt;&gt; null) {\n      Grid_Redraw\n      Grid_DrawPlayerInRoom (game&#46;pov&#46;parent)\n    }\n  }\n}\nInitUserInterface[/code:7gwicuvj]\n\nCan someone please explain where it needs to go?",
      "EditableFormat": "bbcode",
      "HTML": "As some of you may be aware, I have been trying, ever since uploading my first test game over a year ago, to prevent the border around the parser command box from displaying.<br/><br/>The problem occurs when playing the game online, in that the game won't fetch the CSS rule which hides the parser command box, when the game is resumed from a save point.<br/><br/>Back when this was originally discussed, Jay finally came to the conclusion that it was a bug with the online emulator, so over the last few weeks I've had a ticket running on Github and Alex has said that my CSS to hide the parser command box has to go in the IntInterface in order for it to work on resume.<br/><br/>Now, I've found this in Library Elements, but have no idea where the CSS call needs to go.<br/><br/>Here's a breakdown:<br/><br/>In the game's code I have the following CSS block, somewhere near the top:<br/><br/><pre><code>&lt;css&gt;&lt;!&#91;CDATA&#91;<br/>    <br/>       &lt;style type=&quot;text/css&quot;&gt;<br/>        body {<br/>            line-height&#58; 1&#46;2em;<br/>          }<br/>       <br/>        div#txtCommandDiv {<br/>            border&#58;none;<br/>            background&#58; no-repeat;<br/>            font-size&#58;10px;<br/>            font-family&#58;'Trebuchet MS', Helvetica, sans-serif;<br/>            <br/>          }<br/>          input#txtCommand {<br/>            outline&#58;none;<br/>            border&#58;none;<br/>            font-size&#58;10px;<br/>            margin&#58;0;<br/>            padding&#58;0;<br/>            max-width&#58; 1000px;<br/>          }<br/>          <br/>                    <br/>          &lt;/style&gt;</code></pre><br/>And then right at the very bottom:<br/><br/><pre><code>&lt;function name=&quot;InitUserInterface&quot;&gt;&lt;!&#91;CDATA&#91;<br/>    JS&#46;eval (&quot;$('#txtCommandDiv')&#46;prepend('&amp;gt;&amp;nbsp;')&quot;)<br/>    request (SetInterfaceString, &quot;TypeHereLabel=&quot;)<br/>    OutputTextNoBr (game&#46;css)<br/>    JS&#46;JS&#46;eval (&quot;$('#status')&#46;hide();&quot;)<br/>  &#93;&#93;&gt;&lt;/function&gt;</code></pre><br/><br/>Then, in the UI, under Game &gt;&gt; Script (tab) I have the following JS running as a Start Script&#058;<br/><br/><pre><code>JS&#46;JS&#46;eval (&quot;getCSSRule('a&#46;cmdlink')&#46;style&#46;color='#000000'&quot;)</code></pre><br/><br/>Finally, this is the entire script code for the IntInterface - which is where Alex says I need to add the CSS in order for it to hid the parser command box on resume of a save:<br/><br/><pre><code>if (game&#46;setcustomwidth) {<br/>  JS&#46;setGameWidth (game&#46;customwidth)<br/>}<br/>else {<br/>}<br/>if (not game&#46;showborder) {<br/>  JS&#46;hideBorder ()<br/>}<br/>if (game&#46;setcustompadding) {<br/>  JS&#46;setGamePadding (game&#46;custompaddingtop, game&#46;custompaddingbottom, game&#46;custompaddingleft, game&#46;custompaddingright)<br/>}<br/>if (game&#46;externalstylesheets &lt;&gt; null) {<br/>  foreach (stylesheet, game&#46;externalstylesheets) {<br/>    JS&#46;addExternalStylesheet (stylesheet)<br/>  }<br/>}<br/>if (game&#46;setbackgroundopacity) {<br/>  SetBackgroundOpacity (game&#46;backgroundopacity)<br/>}<br/>request (Background, game&#46;defaultbackground)<br/>request (Foreground, game&#46;defaultforeground)<br/>request (LinkForeground, game&#46;defaultlinkforeground)<br/>if (LengthOf(game&#46;backgroundimage) &gt; 0) {<br/>  SetBackgroundImage (game&#46;backgroundimage)<br/>}<br/>request (SetCompassDirections, Join(game&#46;compassdirections, &quot;;&quot;))<br/>request (SetInterfaceString, &quot;InventoryLabel=Inventory&quot;)<br/>request (SetInterfaceString, &quot;StatusLabel=Status&quot;)<br/>request (SetInterfaceString, &quot;PlacesObjectsLabel=Places and Objects&quot;)<br/>request (SetInterfaceString, &quot;CompassLabel=Compass&quot;)<br/>request (SetInterfaceString, &quot;InButtonLabel=in&quot;)<br/>request (SetInterfaceString, &quot;OutButtonLabel=out&quot;)<br/>request (SetInterfaceString, &quot;EmptyListLabel=(empty)&quot;)<br/>request (SetInterfaceString, &quot;NothingSelectedLabel=(nothing selected)&quot;)<br/>request (SetInterfaceString, &quot;TypeHereLabel=Type here&#46;&#46;&#46;&quot;)<br/>request (SetInterfaceString, &quot;ContinueLabel=&quot;)<br/>JS&#46;SetMenuBackground (game&#46;menubackground)<br/>JS&#46;SetMenuForeground (game&#46;menuforeground)<br/>JS&#46;SetMenuHoverBackground (game&#46;menuhoverbackground)<br/>JS&#46;SetMenuHoverForeground (game&#46;menuhoverforeground)<br/>JS&#46;SetMenuFontName (game&#46;menufont)<br/>JS&#46;SetMenuFontSize (game&#46;menufontsize + &quot;pt&quot;)<br/>if (not game&#46;underlinehyperlinks) {<br/>  JS&#46;TurnOffHyperlinksUnderline ()<br/>}<br/>if (game&#46;showpanes) {<br/>  request (Show, &quot;Panes&quot;)<br/>}<br/>else {<br/>  request (Hide, &quot;Panes&quot;)<br/>}<br/>if (game&#46;showcommandbar) {<br/>  request (Show, &quot;Command&quot;)<br/>}<br/>else {<br/>  request (Hide, &quot;Command&quot;)<br/>}<br/>if (game&#46;showlocation) {<br/>  request (Show, &quot;Location&quot;)<br/>}<br/>else {<br/>  request (Hide, &quot;Location&quot;)<br/>}<br/>if (HasString(game, &quot;panelcontents&quot;)) {<br/>  SetFramePicture (game&#46;panelcontents)<br/>}<br/>if (game&#46;gridmap) {<br/>  JS&#46;ShowGrid (game&#46;mapsize)<br/>  Grid_SetScale (game&#46;mapscale)<br/>  if (game&#46;pov &lt;&gt; null) {<br/>    if (game&#46;pov&#46;parent &lt;&gt; null) {<br/>      Grid_Redraw<br/>      Grid_DrawPlayerInRoom (game&#46;pov&#46;parent)<br/>    }<br/>  }<br/>}<br/>InitUserInterface</code></pre><br/><br/>Can someone please explain where it needs to go?",
      "PostDate": "2015-12-21T13:49:00+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "39840",
      "UserId": 0,
      "Username": "The Pixie",
      "UserAvatar": null,
      "UserGravatar": "cfa37e927f96177bcf6053ae8f108f77",
      "EditableText": "It is InitInterface, not IntInterface (short for initialise the interface) (it is important!). Bottom left, do show library stuff, then search for InitInterface. Select it, and click the Copy button on the right. Go to the code view for the function, and replace the existing code with the above.",
      "EditableFormat": "bbcode",
      "HTML": "It is InitInterface, not IntInterface (short for initialise the interface) (it is important!). Bottom left, do show library stuff, then search for InitInterface. Select it, and click the Copy button on the right. Go to the code view for the function, and replace the existing code with the above.",
      "PostDate": "2015-12-21T14:06:18+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "39841",
      "UserId": 0,
      "Username": "OurJud",
      "UserAvatar": "7473_1417206896.jpg",
      "UserGravatar": "7892e1059c02a91b34ffd60deb7402ff",
      "EditableText": "Sorry, I've not explained myself very well.\n\nThe IntInterface was just a typo on my part. I did actually search for InitInterface.\n\nSecondly, That last block of code is not something Alex has supplied, it's the 'as is' script code from InintInterface. Alex was simply telling me that this is where the CSS I'm using to hide the parser command box, needs to be added, but he doesn't explain how or where.",
      "EditableFormat": "bbcode",
      "HTML": "Sorry, I've not explained myself very well.<br/><br/>The IntInterface was just a typo on my part. I did actually search for InitInterface.<br/><br/>Secondly, That last block of code is not something Alex has supplied, it's the 'as is' script code from InintInterface. Alex was simply telling me that this is where the CSS I'm using to hide the parser command box, needs to be added, but he doesn't explain how or where.",
      "PostDate": "2015-12-21T14:23:21+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "39843",
      "UserId": 0,
      "Username": "Alex",
      "UserAvatar": null,
      "UserGravatar": "188b72c5e13327f4fde3989dca7d7d53",
      "EditableText": "It's actually InitUserInterface - this is a blank function that InitInterface calls. So if you create your own InitUserInterface function, that will be called instead and you can do your custom CSS setup in there.",
      "EditableFormat": "bbcode",
      "HTML": "It's actually InitUserInterface - this is a blank function that InitInterface calls. So if you create your own InitUserInterface function, that will be called instead and you can do your custom CSS setup in there.",
      "PostDate": "2015-12-21T14:41:33+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "39844",
      "UserId": 0,
      "Username": "Alex",
      "UserAvatar": null,
      "UserGravatar": "188b72c5e13327f4fde3989dca7d7d53",
      "EditableText": "What's this:\n\n[code:2td87nz5]\nJS&#46;JS&#46;eval (&quot;$('#status')&#46;hide();&quot;)\n[/code:2td87nz5]\n\nThat looks like it should be...\n\n[code:2td87nz5]\nJS&#46;eval (&quot;$('#status')&#46;hide();&quot;)\n[/code:2td87nz5]\n\nDoes that fix the problem?",
      "EditableFormat": "bbcode",
      "HTML": "What's this:<br/><br/><pre><code><br/>JS&#46;JS&#46;eval (&quot;$('#status')&#46;hide();&quot;)<br/></code></pre><br/><br/>That looks like it should be...<br/><br/><pre><code><br/>JS&#46;eval (&quot;$('#status')&#46;hide();&quot;)<br/></code></pre><br/><br/>Does that fix the problem?",
      "PostDate": "2015-12-21T14:50:40+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "39845",
      "UserId": 0,
      "Username": "OurJud",
      "UserAvatar": "7473_1417206896.jpg",
      "UserGravatar": "7892e1059c02a91b34ffd60deb7402ff",
      "EditableText": "Thanks, Alex, but as I stated via email/github, the JS which calls the CSS has already been added to InitUserInterface.\n\nThis is what's in there:\n\n[code:2khi4r0e]JS&#46;eval (&quot;$('#txtCommandDiv')&#46;prepend('&amp;gt;&amp;nbsp;')&quot;)\nrequest (SetInterfaceString, &quot;TypeHereLabel=&quot;)\nOutputTextNoBr (game&#46;css)\nJS&#46;JS&#46;eval (&quot;$('#status')&#46;hide();&quot;)[/code:2khi4r0e]\n\n[quote=&quot;Alex&quot;:2khi4r0e]What's this:\n\n[code:2khi4r0e]\nJS&#46;JS&#46;eval (&quot;$('#status')&#46;hide();&quot;)\n[/code:2khi4r0e]\n\nThat looks like it should be...\n\n[code:2khi4r0e]\nJS&#46;eval (&quot;$('#status')&#46;hide();&quot;)\n[/code:2khi4r0e]\n\nDoes that fix the problem?[/quote:2khi4r0e]\nThe double JS.JS is how it is for the Start Script in Game &gt;&gt; Script. Do I need to change it there, or just in InittUserInterface?\n\nI'll give it a go.",
      "EditableFormat": "bbcode",
      "HTML": "Thanks, Alex, but as I stated via email/github, the JS which calls the CSS has already been added to InitUserInterface.<br/><br/>This is what's in there:<br/><br/><pre><code>JS&#46;eval (&quot;$('#txtCommandDiv')&#46;prepend('&amp;gt;&amp;nbsp;')&quot;)<br/>request (SetInterfaceString, &quot;TypeHereLabel=&quot;)<br/>OutputTextNoBr (game&#46;css)<br/>JS&#46;JS&#46;eval (&quot;$('#status')&#46;hide();&quot;)</code></pre><br/><br/><blockquote><cite>Alex wrote:</cite>What's this:<br/><br/><pre><code><br/>JS&#46;JS&#46;eval (&quot;$('#status')&#46;hide();&quot;)<br/></code></pre><br/><br/>That looks like it should be...<br/><br/><pre><code><br/>JS&#46;eval (&quot;$('#status')&#46;hide();&quot;)<br/></code></pre><br/><br/>Does that fix the problem?</blockquote><br/>The double JS.JS is how it is for the Start Script in Game &gt;&gt; Script. Do I need to change it there, or just in InittUserInterface?<br/><br/>I'll give it a go.",
      "PostDate": "2015-12-21T14:52:53+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "39846",
      "UserId": 0,
      "Username": "OurJud",
      "UserAvatar": "7473_1417206896.jpg",
      "UserGravatar": "7892e1059c02a91b34ffd60deb7402ff",
      "EditableText": "Okay, so I removed the extra JS. first from InitUserInterface, and then also from the Start Script in Game &gt;&gt; Script, and the parser command box still gets reinstated on resume of a game save.",
      "EditableFormat": "bbcode",
      "HTML": "Okay, so I removed the extra JS. first from InitUserInterface, and then also from the Start Script in Game &gt;&gt; Script, and the parser command box still gets reinstated on resume of a game save.",
      "PostDate": "2015-12-21T15:03:36+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "39847",
      "UserId": 0,
      "Username": "Alex",
      "UserAvatar": null,
      "UserGravatar": "188b72c5e13327f4fde3989dca7d7d53",
      "EditableText": "Which bit of your InitUserInterface is supposed to hide it though?\n\nYou must be hiding it somewhere else at the moment, because I don't see anything in your InitUserInterface which would hide the command box.",
      "EditableFormat": "bbcode",
      "HTML": "Which bit of your InitUserInterface is supposed to hide it though?<br/><br/>You must be hiding it somewhere else at the moment, because I don't see anything in your InitUserInterface which would hide the command box.",
      "PostDate": "2015-12-21T15:06:36+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "39848",
      "UserId": 0,
      "Username": "Alex",
      "UserAvatar": null,
      "UserGravatar": "188b72c5e13327f4fde3989dca7d7d53",
      "EditableText": "Oh I see, it's when you output game.css. Check that game.css actually has a value - you're not unsetting it somewhere when your game runs? Try logging it to the log window.",
      "EditableFormat": "bbcode",
      "HTML": "Oh I see, it's when you output game.css. Check that game.css actually has a value - you're not unsetting it somewhere when your game runs? Try logging it to the log window.",
      "PostDate": "2015-12-21T15:09:25+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "39849",
      "UserId": 0,
      "Username": "OurJud",
      "UserAvatar": "7473_1417206896.jpg",
      "UserGravatar": "7892e1059c02a91b34ffd60deb7402ff",
      "EditableText": "In the Game's script tab I have the following Start Script&#058;\n\n[code:nag2m17i]JS&#46;eval (&quot;getCSSRule('a&#46;cmdlink')&#46;style&#46;border='none'&quot;)\nJS&#46;eval (&quot;getCSSRule('#txtCommandDiv')&#46;style&#46;border='none'&quot;)\nJS&#46;eval (&quot;getCSSRule('#txtCommand')&#46;style&#46;border='none'&quot;)[/code:nag2m17i]\n\nI just added these last two to InitUserInterface, but to no avail.\n\nIn the game's main code, I have the following block of CSS:\n\n[code:nag2m17i]&lt;css&gt;&lt;!&#91;CDATA&#91;\n   \n       &lt;style type=&quot;text/css&quot;&gt;\n        body {\n            line-height&#58; 1&#46;2em;\n          }\n       \n        div#txtCommandDiv {\n            border&#58;none;\n            background&#58; no-repeat;\n            font-size&#58;10px;\n            font-family&#58;'Trebuchet MS', Helvetica, sans-serif;\n           \n          }\n          input#txtCommand {\n            outline&#58;none;\n            border&#58;none;\n            font-size&#58;10px;\n            margin&#58;0;\n            padding&#58;0;\n            max-width&#58; 1000px;\n          }\n         \n                   \n          &lt;/style&gt;[/code:nag2m17i]",
      "EditableFormat": "bbcode",
      "HTML": "In the Game's script tab I have the following Start Script&#058;<br/><br/><pre><code>JS&#46;eval (&quot;getCSSRule('a&#46;cmdlink')&#46;style&#46;border='none'&quot;)<br/>JS&#46;eval (&quot;getCSSRule('#txtCommandDiv')&#46;style&#46;border='none'&quot;)<br/>JS&#46;eval (&quot;getCSSRule('#txtCommand')&#46;style&#46;border='none'&quot;)</code></pre><br/><br/>I just added these last two to InitUserInterface, but to no avail.<br/><br/>In the game's main code, I have the following block of CSS:<br/><br/><pre><code>&lt;css&gt;&lt;!&#91;CDATA&#91;<br/>   <br/>       &lt;style type=&quot;text/css&quot;&gt;<br/>        body {<br/>            line-height&#58; 1&#46;2em;<br/>          }<br/>       <br/>        div#txtCommandDiv {<br/>            border&#58;none;<br/>            background&#58; no-repeat;<br/>            font-size&#58;10px;<br/>            font-family&#58;'Trebuchet MS', Helvetica, sans-serif;<br/>           <br/>          }<br/>          input#txtCommand {<br/>            outline&#58;none;<br/>            border&#58;none;<br/>            font-size&#58;10px;<br/>            margin&#58;0;<br/>            padding&#58;0;<br/>            max-width&#58; 1000px;<br/>          }<br/>         <br/>                   <br/>          &lt;/style&gt;</code></pre>",
      "PostDate": "2015-12-21T15:11:00+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "39850",
      "UserId": 0,
      "Username": "OurJud",
      "UserAvatar": "7473_1417206896.jpg",
      "UserGravatar": "7892e1059c02a91b34ffd60deb7402ff",
      "EditableText": "[quote=&quot;Alex&quot;:28hsl7f9]Oh I see, it's when you output game.css. Check that game.css actually has a value - you're not unsetting it somewhere when your game runs? Try logging it to the log window.[/quote:28hsl7f9]\nSorry, I don't understand. What do you mean log it in the log window? And how do I check the game.css has a value / what should that value be?\n\nI've also got an additional problem, in that my uploaded games are not being saved. It lets me play after uploading, but when I go back to my games, I'm told I've neither created or uploaded any games.\n\nI'll try clearing my cookies.",
      "EditableFormat": "bbcode",
      "HTML": "<blockquote><cite>Alex wrote:</cite>Oh I see, it's when you output game.css. Check that game.css actually has a value - you're not unsetting it somewhere when your game runs? Try logging it to the log window.</blockquote><br/>Sorry, I don't understand. What do you mean log it in the log window? And how do I check the game.css has a value / what should that value be?<br/><br/>I've also got an additional problem, in that my uploaded games are not being saved. It lets me play after uploading, but when I go back to my games, I'm told I've neither created or uploaded any games.<br/><br/>I'll try clearing my cookies.",
      "PostDate": "2015-12-21T15:12:28+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "39851",
      "UserId": 0,
      "Username": "Alex",
      "UserAvatar": null,
      "UserGravatar": "188b72c5e13327f4fde3989dca7d7d53",
      "EditableText": "Wait, actually I don't think that CSS block does work anyway. It doesn't actually hide the command box, from what I can tell?",
      "EditableFormat": "bbcode",
      "HTML": "Wait, actually I don't think that CSS block does work anyway. It doesn't actually hide the command box, from what I can tell?",
      "PostDate": "2015-12-21T15:16:38+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "39852",
      "UserId": 0,
      "Username": "OurJud",
      "UserAvatar": "7473_1417206896.jpg",
      "UserGravatar": "7892e1059c02a91b34ffd60deb7402ff",
      "EditableText": "[quote=&quot;Alex&quot;:3v6tttsm]Wait, actually I don't think that CSS block does work anyway. It doesn't actually hide the command box, from what I can tell?[/quote:3v6tttsm]\nIt does on first load.\n\nIt's only on resume the command box returns.",
      "EditableFormat": "bbcode",
      "HTML": "<blockquote><cite>Alex wrote:</cite>Wait, actually I don't think that CSS block does work anyway. It doesn't actually hide the command box, from what I can tell?</blockquote><br/>It does on first load.<br/><br/>It's only on resume the command box returns.",
      "PostDate": "2015-12-21T15:23:57+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "39854",
      "UserId": 0,
      "Username": "Alex",
      "UserAvatar": null,
      "UserGravatar": "188b72c5e13327f4fde3989dca7d7d53",
      "EditableText": "I think you must have some other code that hides the input box. Your CSS just sets the border and width.",
      "EditableFormat": "bbcode",
      "HTML": "I think you must have some other code that hides the input box. Your CSS just sets the border and width.",
      "PostDate": "2015-12-21T15:29:59+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "39855",
      "UserId": 0,
      "Username": "OurJud",
      "UserAvatar": "7473_1417206896.jpg",
      "UserGravatar": "7892e1059c02a91b34ffd60deb7402ff",
      "EditableText": "[quote=&quot;Alex&quot;:3v734ya7]I think you must have some other code that hides the input box. Your CSS just sets the border and width.[/quote:3v734ya7]\nBut it's setting the border to none, which should hide it... which it does successfully on first load.\n\nI've even tried setting the border to #000000 (black - same colour as background)",
      "EditableFormat": "bbcode",
      "HTML": "<blockquote><cite>Alex wrote:</cite>I think you must have some other code that hides the input box. Your CSS just sets the border and width.</blockquote><br/>But it's setting the border to none, which should hide it... which it does successfully on first load.<br/><br/>I've even tried setting the border to #000000 (black - same colour as background)",
      "PostDate": "2015-12-21T15:31:47+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "39856",
      "UserId": 0,
      "Username": "Alex",
      "UserAvatar": null,
      "UserGravatar": "188b72c5e13327f4fde3989dca7d7d53",
      "EditableText": "No, that would just set the border to none. The CSS to hide something is &quot;display: none&quot;.",
      "EditableFormat": "bbcode",
      "HTML": "No, that would just set the border to none. The CSS to hide something is &quot;display: none&quot;.",
      "PostDate": "2015-12-21T15:33:17+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "39857",
      "UserId": 0,
      "Username": "OurJud",
      "UserAvatar": "7473_1417206896.jpg",
      "UserGravatar": "7892e1059c02a91b34ffd60deb7402ff",
      "EditableText": "I'll try it, but when I add 'border: none' on the fly, using firebug, it hides the border.\n\nBut wait. If I use 'display: none' on #txtCommand and/or txtCommandDiv - it will hide the cursor, too, meaning the ability to type will be removed.\n\n[edit] As I expected, [b:20lza69b][i:20lza69b]display: none[/i:20lza69b][/b:20lza69b] also removes the ability to type, as it hides the cursor too.",
      "EditableFormat": "bbcode",
      "HTML": "I'll try it, but when I add 'border: none' on the fly, using firebug, it hides the border.<br/><br/>But wait. If I use 'display: none' on #txtCommand and/or txtCommandDiv - it will hide the cursor, too, meaning the ability to type will be removed.<br/><br/>[edit] As I expected, <span style=\"font-weight:bold;\"><span style=\"font-style:italic;\">display: none</span></span> also removes the ability to type, as it hides the cursor too.",
      "PostDate": "2015-12-21T15:40:22+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "39858",
      "UserId": 0,
      "Username": "Alex",
      "UserAvatar": null,
      "UserGravatar": "188b72c5e13327f4fde3989dca7d7d53",
      "EditableText": "Oh sorry, I should learn to read! I thought you were hiding the textbox.\n\nI will take a look...",
      "EditableFormat": "bbcode",
      "HTML": "Oh sorry, I should learn to read! I thought you were hiding the textbox.<br/><br/>I will take a look...",
      "PostDate": "2015-12-21T15:48:59+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "39859",
      "UserId": 0,
      "Username": "OurJud",
      "UserAvatar": "7473_1417206896.jpg",
      "UserGravatar": "7892e1059c02a91b34ffd60deb7402ff",
      "EditableText": "[quote=&quot;Alex&quot;:1t64hnuv]Oh sorry, I should learn to read! I thought you were hiding the textbox.\n\nI will take a look...[/quote:1t64hnuv]\nI am, or at least trying to. I just want the border from around the parser command box hidden.\n\nLet me just give you a before and after, so you can see exactly what the issue is.\n\nOn first load:\n\n[attachment=1:1t64hnuv]<!-- ia1 -->firstload.jpg<!-- ia1 -->[/attachment:1t64hnuv]\n\nOn resume from save:\n\n[attachment=0:1t64hnuv]<!-- ia0 -->on_resume.jpg<!-- ia0 -->[/attachment:1t64hnuv]\n\nNot sure why I'm getting so obsessed and bogged down with this. It's not like my game is anywhere near completion, and on the off-chance anyone's going to resume a save once it's published, chances are they're not going to be bothered by the fact that the parser command box is showing. It's not like the game doesn't work.",
      "EditableFormat": "bbcode",
      "HTML": "<blockquote><cite>Alex wrote:</cite>Oh sorry, I should learn to read! I thought you were hiding the textbox.<br/><br/>I will take a look...</blockquote><br/>I am, or at least trying to. I just want the border from around the parser command box hidden.<br/><br/>Let me just give you a before and after, so you can see exactly what the issue is.<br/><br/>On first load:<br/><br/><div><img src=\"/forumattachments/1424/firstload.jpg\" alt=\"firstload.jpg\" /></div><br/><br/>On resume from save:<br/><br/><div><img src=\"/forumattachments/1425/on_resume.jpg\" alt=\"on_resume.jpg\" /></div><br/><br/>Not sure why I'm getting so obsessed and bogged down with this. It's not like my game is anywhere near completion, and on the off-chance anyone's going to resume a save once it's published, chances are they're not going to be bothered by the fact that the parser command box is showing. It's not like the game doesn't work.",
      "PostDate": "2015-12-21T15:52:22+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "39863",
      "UserId": 0,
      "Username": "Alex",
      "UserAvatar": null,
      "UserGravatar": "188b72c5e13327f4fde3989dca7d7d53",
      "EditableText": "The screenshot above looks different to the screenshot in the GitHub issue, which is <!-- m --><a class=\"postlink\" href=\"http://textadventures.co.uk/games/view/3d9aaxv3nuaxvkah3r_boq/aftermath-test\">http://textadventures.co.uk/games/view/ ... rmath-test</a><!-- m -->.\n\nThe one in the GitHub issue is what I can reproduce. The problem is that the input box doesn't have the correct background and font size applied after resuming the game. I have fixed this for the next version of Quest.\n\nYou can work around the problem in the meantime by adding this to your InitUserInterface function:\n\n[code:1kcd2tus]\nJS&#46;setCommandBarStyle(GetCurrentTextFormat(&quot;&quot;) + &quot;;background&#58;&quot; + game&#46;defaultbackground)\n[/code:1kcd2tus]\n\nFrom your latest screenshot in this thread though, it looks like you're experiencing a different problem. Can you send me a link to the game with the input box border issue?",
      "EditableFormat": "bbcode",
      "HTML": "The screenshot above looks different to the screenshot in the GitHub issue, which is <!-- m --><a class=\"postlink\" href=\"http://textadventures.co.uk/games/view/3d9aaxv3nuaxvkah3r_boq/aftermath-test\">http://textadventures.co.uk/games/view/ ... rmath-test</a><!-- m -->.<br/><br/>The one in the GitHub issue is what I can reproduce. The problem is that the input box doesn't have the correct background and font size applied after resuming the game. I have fixed this for the next version of Quest.<br/><br/>You can work around the problem in the meantime by adding this to your InitUserInterface function:<br/><br/><pre><code><br/>JS&#46;setCommandBarStyle(GetCurrentTextFormat(&quot;&quot;) + &quot;;background&#58;&quot; + game&#46;defaultbackground)<br/></code></pre><br/><br/>From your latest screenshot in this thread though, it looks like you're experiencing a different problem. Can you send me a link to the game with the input box border issue?",
      "PostDate": "2015-12-21T21:31:01+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "39866",
      "UserId": 0,
      "Username": "OurJud",
      "UserAvatar": "7473_1417206896.jpg",
      "UserGravatar": "7892e1059c02a91b34ffd60deb7402ff",
      "EditableText": "Thanks, Alex. It's not a different problem.\n\nThe screenshot I posted to GitHub (showing the solid white command box) is what appears immediately on 'resume'. When I enter 'l' to get the room description, it then changes to the border type you see above.\n\nIt's always been like that, it's just that I took a different screenshot last time.\n\nI'll try adding your solution, see what happens.",
      "EditableFormat": "bbcode",
      "HTML": "Thanks, Alex. It's not a different problem.<br/><br/>The screenshot I posted to GitHub (showing the solid white command box) is what appears immediately on 'resume'. When I enter 'l' to get the room description, it then changes to the border type you see above.<br/><br/>It's always been like that, it's just that I took a different screenshot last time.<br/><br/>I'll try adding your solution, see what happens.",
      "PostDate": "2015-12-21T21:54:04+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "39867",
      "UserId": 0,
      "Username": "OurJud",
      "UserAvatar": "7473_1417206896.jpg",
      "UserGravatar": "7892e1059c02a91b34ffd60deb7402ff",
      "EditableText": "No, that didn't work.\n\nI no longer get the solid white command box on resume (it resumes with the white border).\n\nHere's the script for InitUserInterface:\n\n[code:3jeljsh4]JS&#46;eval (&quot;$('#txtCommandDiv')&#46;prepend('&amp;gt;&amp;nbsp;')&quot;)\nJS&#46;eval (&quot;$('input#txtCommand')&#46;prepend('&amp;gt;&amp;nbsp;')&quot;)\nrequest (SetInterfaceString, &quot;TypeHereLabel=&quot;)\nOutputTextNoBr (game&#46;css)\nJS&#46;eval (&quot;$('#status')&#46;hide();&quot;)\nJS&#46;eval (&quot;getCSSRule('a&#46;cmdlink')&#46;style&#46;border='none'&quot;)\nJS&#46;setCommandBarStyle (GetCurrentTextFormat(&quot;&quot;) + &quot;;background&#58;&quot; + game&#46;defaultbackground)[/code:3jeljsh4]\n\nThis is just an uneducated guess, but would this be any use:\n\n[code:3jeljsh4]JS&#46;setCommandBarStyle (GetCurrentTextFormat(&quot;&quot;) + &quot;;border&#58;&quot; + game&#46;defaultbackground)[/code:3jeljsh4]\n\nAnd here's a link to the test game: <!-- m --><a class=\"postlink\" href=\"http://textadventures.co.uk/games/view/tpyolevrh0wgdinhbugw-a/parser-test\">http://textadventures.co.uk/games/view/ ... arser-test</a><!-- m -->\n\nTo test, just start the game, type save, close the game, refresh the title page and resume.",
      "EditableFormat": "bbcode",
      "HTML": "No, that didn't work.<br/><br/>I no longer get the solid white command box on resume (it resumes with the white border).<br/><br/>Here's the script for InitUserInterface:<br/><br/><pre><code>JS&#46;eval (&quot;$('#txtCommandDiv')&#46;prepend('&amp;gt;&amp;nbsp;')&quot;)<br/>JS&#46;eval (&quot;$('input#txtCommand')&#46;prepend('&amp;gt;&amp;nbsp;')&quot;)<br/>request (SetInterfaceString, &quot;TypeHereLabel=&quot;)<br/>OutputTextNoBr (game&#46;css)<br/>JS&#46;eval (&quot;$('#status')&#46;hide();&quot;)<br/>JS&#46;eval (&quot;getCSSRule('a&#46;cmdlink')&#46;style&#46;border='none'&quot;)<br/>JS&#46;setCommandBarStyle (GetCurrentTextFormat(&quot;&quot;) + &quot;;background&#58;&quot; + game&#46;defaultbackground)</code></pre><br/><br/>This is just an uneducated guess, but would this be any use:<br/><br/><pre><code>JS&#46;setCommandBarStyle (GetCurrentTextFormat(&quot;&quot;) + &quot;;border&#58;&quot; + game&#46;defaultbackground)</code></pre><br/><br/>And here's a link to the test game: <!-- m --><a class=\"postlink\" href=\"http://textadventures.co.uk/games/view/tpyolevrh0wgdinhbugw-a/parser-test\">http://textadventures.co.uk/games/view/ ... arser-test</a><!-- m --><br/><br/>To test, just start the game, type save, close the game, refresh the title page and resume.",
      "PostDate": "2015-12-21T22:03:24+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "39875",
      "UserId": 0,
      "Username": "Alex",
      "UserAvatar": null,
      "UserGravatar": "188b72c5e13327f4fde3989dca7d7d53",
      "EditableText": "When I resume the game in the online player, I'm not seeing any output. I'm also seeing a couple of browser console errors:\n\nUncaught TypeError: Cannot set property 'border' of undefined\n\nYou need to make sure your JS is working, otherwise other things can easily break.",
      "EditableFormat": "bbcode",
      "HTML": "When I resume the game in the online player, I'm not seeing any output. I'm also seeing a couple of browser console errors:<br/><br/>Uncaught TypeError: Cannot set property 'border' of undefined<br/><br/>You need to make sure your JS is working, otherwise other things can easily break.",
      "PostDate": "2015-12-22T09:05:32+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "39877",
      "UserId": 0,
      "Username": "OurJud",
      "UserAvatar": "7473_1417206896.jpg",
      "UserGravatar": "7892e1059c02a91b34ffd60deb7402ff",
      "EditableText": "[quote=&quot;Alex&quot;:2e6oaxa3]When I resume the game in the online player, I'm not seeing any output. [/quote:2e6oaxa3]\nBut that's the same with any game on 'resume'. It's just bad design on the way resume works in Quest. You have to start a resume by pressing 'l' to restore the current location.\n\n[quote=&quot;Alex&quot;:2e6oaxa3]I'm also seeing a couple of browser console errors:\n\nUncaught TypeError: Cannot set property 'border' of undefined\n\nYou need to make sure your JS is working, otherwise other things can easily break.[/quote:2e6oaxa3]\nI was testing it all day yesterday and got no such errors. I'm using Firefox 43.0.1\n\nAnd in any case, this is why I reported it as a bug. It's not just my game that has this problem. Any game where the author has hidden the parser command box, will find that on resume of a save, the border for that command box will return.",
      "EditableFormat": "bbcode",
      "HTML": "<blockquote><cite>Alex wrote:</cite>When I resume the game in the online player, I'm not seeing any output. </blockquote><br/>But that's the same with any game on 'resume'. It's just bad design on the way resume works in Quest. You have to start a resume by pressing 'l' to restore the current location.<br/><br/><blockquote><cite>Alex wrote:</cite>I'm also seeing a couple of browser console errors:<br/><br/>Uncaught TypeError: Cannot set property 'border' of undefined<br/><br/>You need to make sure your JS is working, otherwise other things can easily break.</blockquote><br/>I was testing it all day yesterday and got no such errors. I'm using Firefox 43.0.1<br/><br/>And in any case, this is why I reported it as a bug. It's not just my game that has this problem. Any game where the author has hidden the parser command box, will find that on resume of a save, the border for that command box will return.",
      "PostDate": "2015-12-22T10:32:03+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "39884",
      "UserId": 0,
      "Username": "Alex",
      "UserAvatar": null,
      "UserGravatar": "188b72c5e13327f4fde3989dca7d7d53",
      "EditableText": "Quest restores game output when you resume a game. If that's not happening, and there are no JavaScript errors that would be breaking game execution, then there's a bug somewhere.\n\nIf you check the browser console in Firefox, there's some kind of JavaScript error running the getCSSRule function. That looks like something I need to fix.",
      "EditableFormat": "bbcode",
      "HTML": "Quest restores game output when you resume a game. If that's not happening, and there are no JavaScript errors that would be breaking game execution, then there's a bug somewhere.<br/><br/>If you check the browser console in Firefox, there's some kind of JavaScript error running the getCSSRule function. That looks like something I need to fix.",
      "PostDate": "2015-12-22T13:29:01+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "39901",
      "UserId": 0,
      "Username": "OurJud",
      "UserAvatar": "7473_1417206896.jpg",
      "UserGravatar": "7892e1059c02a91b34ffd60deb7402ff",
      "EditableText": "[quote=&quot;Alex&quot;:1a46mg2s]If you check the browser console in Firefox, there's some kind of JavaScript error running the getCSSRule function. That looks like something I need to fix.[/quote:1a46mg2s]\nPlease keep me posted on your findings.",
      "EditableFormat": "bbcode",
      "HTML": "<blockquote><cite>Alex wrote:</cite>If you check the browser console in Firefox, there's some kind of JavaScript error running the getCSSRule function. That looks like something I need to fix.</blockquote><br/>Please keep me posted on your findings.",
      "PostDate": "2015-12-22T15:45:56+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "39968",
      "UserId": 0,
      "Username": "jaynabonne",
      "UserAvatar": "6579_1344778256.jpg",
      "UserGravatar": "379859a7f1952a65399fc63997e68f0b",
      "EditableText": "I have created a simple non-game with the InitUserInterface code and CSS you provided. It's attached. The code is just this:\n\n[code:1fmf23eg]&lt;asl version=&quot;550&quot;&gt;\n\n  &lt;include ref=&quot;English&#46;aslx&quot;/&gt;\n  &lt;include ref=&quot;Core&#46;aslx&quot;/&gt;\n\n  &lt;game name=&quot;hidetest&quot;&gt;\n    &lt;gameid&gt;f7327103-0eef-405e-9b1a-ee46513b3ab3&lt;/gameid&gt;\n    &lt;version&gt;1&#46;0&lt;/version&gt;\n    &lt;firstpublished&gt;2015&lt;/firstpublished&gt;\n    &lt;css&gt;&lt;!&#91;CDATA&#91;\n    \n       &lt;style type=&quot;text/css&quot;&gt;\n        body {\n            line-height&#58; 1&#46;2em;\n          }\n       \n        div#txtCommandDiv {\n            border&#58;none;\n            background&#58; no-repeat;\n            font-size&#58;10px;\n            font-family&#58;'Trebuchet MS', Helvetica, sans-serif;\n            \n          }\n          input#txtCommand {\n            outline&#58;none;\n            border&#58;none;\n            font-size&#58;10px;\n            margin&#58;0;\n            padding&#58;0;\n            max-width&#58; 1000px;\n          }\n          \n                    \n          &lt;/style&gt;\n          &#93;&#93;&gt;\n\t\t&lt;/css&gt;\n  &lt;/game&gt;\n\n  &lt;object name=&quot;room&quot;&gt;\n    &lt;inherit name=&quot;editor_room&quot; /&gt;\n\n    &lt;object name=&quot;player&quot;&gt;\n      &lt;inherit name=&quot;editor_object&quot; /&gt;\n      &lt;inherit name=&quot;editor_player&quot; /&gt;\n    &lt;/object&gt;\n  &lt;/object&gt;\n  \n  &lt;function name=&quot;InitUserInterface&quot;&gt;&lt;!&#91;CDATA&#91;\n    JS&#46;eval (&quot;$('#txtCommandDiv')&#46;prepend('&amp;gt;&amp;nbsp;')&quot;)\n    request (SetInterfaceString, &quot;TypeHereLabel=&quot;)\n    OutputTextNoBr (game&#46;css)\n    JS&#46;eval (&quot;$('#status')&#46;hide();&quot;)\n  &#93;&#93;&gt;&lt;/function&gt;\n\n&lt;/asl&gt;[/code:1fmf23eg]\n\nWhen I run the game, I see this:\n\n[attachment=3:1fmf23eg]<!-- ia3 -->capture1.PNG<!-- ia3 -->[/attachment:1fmf23eg]\n\nIf I save the game and then reload, I see this:\n\n[attachment=2:1fmf23eg]<!-- ia2 -->Capture2.PNG<!-- ia2 -->[/attachment:1fmf23eg]\n\nNote that the text typed is very tiny the first time.\n\nWhat's strange, though is what happens when I type a command. Let's say I type &quot;x me&quot;. This is what I then see:\n\n[attachment=1:1fmf23eg]<!-- ia1 -->Capture3.PNG<!-- ia1 -->[/attachment:1fmf23eg]\nIt has inserted the new output *above* the existing text. If I then type &quot;look&quot;, I get this:\n\n[attachment=0:1fmf23eg]<!-- ia0 -->Capture4.PNG<!-- ia0 -->[/attachment:1fmf23eg]\nA bug perhaps? I'm using Quest 5.6.2, if that helps at all.\nOurJud, is the style working as desired in this sample game (apart from the tiny text the first command after reloading)?",
      "EditableFormat": "bbcode",
      "HTML": "I have created a simple non-game with the InitUserInterface code and CSS you provided. It's attached. The code is just this:<br/><br/><pre><code>&lt;asl version=&quot;550&quot;&gt;<br/><br/>  &lt;include ref=&quot;English&#46;aslx&quot;/&gt;<br/>  &lt;include ref=&quot;Core&#46;aslx&quot;/&gt;<br/><br/>  &lt;game name=&quot;hidetest&quot;&gt;<br/>    &lt;gameid&gt;f7327103-0eef-405e-9b1a-ee46513b3ab3&lt;/gameid&gt;<br/>    &lt;version&gt;1&#46;0&lt;/version&gt;<br/>    &lt;firstpublished&gt;2015&lt;/firstpublished&gt;<br/>    &lt;css&gt;&lt;!&#91;CDATA&#91;<br/>    <br/>       &lt;style type=&quot;text/css&quot;&gt;<br/>        body {<br/>            line-height&#58; 1&#46;2em;<br/>          }<br/>       <br/>        div#txtCommandDiv {<br/>            border&#58;none;<br/>            background&#58; no-repeat;<br/>            font-size&#58;10px;<br/>            font-family&#58;'Trebuchet MS', Helvetica, sans-serif;<br/>            <br/>          }<br/>          input#txtCommand {<br/>            outline&#58;none;<br/>            border&#58;none;<br/>            font-size&#58;10px;<br/>            margin&#58;0;<br/>            padding&#58;0;<br/>            max-width&#58; 1000px;<br/>          }<br/>          <br/>                    <br/>          &lt;/style&gt;<br/>          &#93;&#93;&gt;<br/>\t\t&lt;/css&gt;<br/>  &lt;/game&gt;<br/><br/>  &lt;object name=&quot;room&quot;&gt;<br/>    &lt;inherit name=&quot;editor_room&quot; /&gt;<br/><br/>    &lt;object name=&quot;player&quot;&gt;<br/>      &lt;inherit name=&quot;editor_object&quot; /&gt;<br/>      &lt;inherit name=&quot;editor_player&quot; /&gt;<br/>    &lt;/object&gt;<br/>  &lt;/object&gt;<br/>  <br/>  &lt;function name=&quot;InitUserInterface&quot;&gt;&lt;!&#91;CDATA&#91;<br/>    JS&#46;eval (&quot;$('#txtCommandDiv')&#46;prepend('&amp;gt;&amp;nbsp;')&quot;)<br/>    request (SetInterfaceString, &quot;TypeHereLabel=&quot;)<br/>    OutputTextNoBr (game&#46;css)<br/>    JS&#46;eval (&quot;$('#status')&#46;hide();&quot;)<br/>  &#93;&#93;&gt;&lt;/function&gt;<br/><br/>&lt;/asl&gt;</code></pre><br/><br/>When I run the game, I see this:<br/><br/><div><img src=\"/forumattachments/1428/capture1.PNG\" alt=\"capture1.PNG\" /></div><br/><br/>If I save the game and then reload, I see this:<br/><br/><div><img src=\"/forumattachments/1429/Capture2.PNG\" alt=\"Capture2.PNG\" /></div><br/><br/>Note that the text typed is very tiny the first time.<br/><br/>What's strange, though is what happens when I type a command. Let's say I type &quot;x me&quot;. This is what I then see:<br/><br/><div><img src=\"/forumattachments/1430/Capture3.PNG\" alt=\"Capture3.PNG\" /></div><br/>It has inserted the new output *above* the existing text. If I then type &quot;look&quot;, I get this:<br/><br/><div><img src=\"/forumattachments/1431/Capture4.PNG\" alt=\"Capture4.PNG\" /></div><br/>A bug perhaps? I'm using Quest 5.6.2, if that helps at all.<br/>OurJud, is the style working as desired in this sample game (apart from the tiny text the first command after reloading)?",
      "PostDate": "2015-12-23T22:57:45+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "39969",
      "UserId": 0,
      "Username": "jaynabonne",
      "UserAvatar": "6579_1344778256.jpg",
      "UserGravatar": "379859a7f1952a65399fc63997e68f0b",
      "EditableText": "I see now that (1) I missed a whole second page of comments, (2) I have a white background which won't show the problem, and (3) I was using the desktop version, not online. So... I'll try again tomorrow, when I have some brain cells. lol\n\n( I did still run into the oddity with the text, though.)",
      "EditableFormat": "bbcode",
      "HTML": "I see now that (1) I missed a whole second page of comments, (2) I have a white background which won't show the problem, and (3) I was using the desktop version, not online. So... I'll try again tomorrow, when I have some brain cells. lol<br/><br/>( I did still run into the oddity with the text, though.)",
      "PostDate": "2015-12-23T23:09:02+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "39971",
      "UserId": 0,
      "Username": "OurJud",
      "UserAvatar": "7473_1417206896.jpg",
      "UserGravatar": "7892e1059c02a91b34ffd60deb7402ff",
      "EditableText": "[quote=&quot;jaynabonne&quot;:2mkbhivb]So... I'll try again tomorrow, when I have some brain cells. lol\n[/quote:2mkbhivb]\nThanks very much, Jay. I would very much appreciate it.\n\nSome things that might be relevant: My game uses a black background (as you've already acknowledged). I'm on XP and using the desktop version, 5.5.1 (as later versions won't load my old game saves)\n\nYour test has made me think, as an absolute last resort I could always go with a white background, although that would soon get very glarey on the eyes.",
      "EditableFormat": "bbcode",
      "HTML": "<blockquote><cite>jaynabonne wrote:</cite>So... I'll try again tomorrow, when I have some brain cells. lol<br/></blockquote><br/>Thanks very much, Jay. I would very much appreciate it.<br/><br/>Some things that might be relevant: My game uses a black background (as you've already acknowledged). I'm on XP and using the desktop version, 5.5.1 (as later versions won't load my old game saves)<br/><br/>Your test has made me think, as an absolute last resort I could always go with a white background, although that would soon get very glarey on the eyes.",
      "PostDate": "2015-12-23T23:20:15+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "40013",
      "UserId": 0,
      "Username": "OurJud",
      "UserAvatar": "7473_1417206896.jpg",
      "UserGravatar": "7892e1059c02a91b34ffd60deb7402ff",
      "EditableText": "I'm only posting this in case you forgot, Jay, but I take it you didn't make any progress with this irritation?",
      "EditableFormat": "bbcode",
      "HTML": "I'm only posting this in case you forgot, Jay, but I take it you didn't make any progress with this irritation?",
      "PostDate": "2015-12-24T23:55:46+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "40036",
      "UserId": 0,
      "Username": "jaynabonne",
      "UserAvatar": "6579_1344778256.jpg",
      "UserGravatar": "379859a7f1952a65399fc63997e68f0b",
      "EditableText": "When I run my test online, I see what Alex sees: the previous content is not preserved. When I dump out the elements, the content is all gone, including the CSS output in InitUserInterface. I suspect the web player is wiping out the contents pane at startup for some reason.\n\nIf Alex will be fixing this loss of content, then it should, in theory, fix your problem as well. In fact, since the old divs still have the previous CSS, you wouldn't even need to output it again (but it doesn't hurt).\n\nThe only way I can think to work around the problem for now is some hacky thing where you delay the CSS output past where the web player is resetting the content. For example, if you do this (using SetTimeout to delay things):\n\n[code:1towfz4i] &lt;function name=&quot;InitUserInterface&quot;&gt;&lt;!&#91;CDATA&#91;\n    SetTimeout (1) {\n      JS&#46;eval (&quot;$('#txtCommandDiv')&#46;prepend('&amp;gt;&amp;nbsp;')&quot;)\n      request (SetInterfaceString, &quot;TypeHereLabel=&quot;)\n      OutputTextNoBr (game&#46;css)\n      JS&#46;eval (&quot;$('#status')&#46;hide();&quot;)\n    }\n  &#93;&#93;&gt;&lt;/function&gt;[/code:1towfz4i]\nthen the style does get set - after a pause where you can see the old style for a bit. Ugly and probably not how you would want to ship it, but it does prove the point that if the CSS can get into an output div, then it will work.",
      "EditableFormat": "bbcode",
      "HTML": "When I run my test online, I see what Alex sees: the previous content is not preserved. When I dump out the elements, the content is all gone, including the CSS output in InitUserInterface. I suspect the web player is wiping out the contents pane at startup for some reason.<br/><br/>If Alex will be fixing this loss of content, then it should, in theory, fix your problem as well. In fact, since the old divs still have the previous CSS, you wouldn't even need to output it again (but it doesn't hurt).<br/><br/>The only way I can think to work around the problem for now is some hacky thing where you delay the CSS output past where the web player is resetting the content. For example, if you do this (using SetTimeout to delay things):<br/><br/><pre><code> &lt;function name=&quot;InitUserInterface&quot;&gt;&lt;!&#91;CDATA&#91;<br/>    SetTimeout (1) {<br/>      JS&#46;eval (&quot;$('#txtCommandDiv')&#46;prepend('&amp;gt;&amp;nbsp;')&quot;)<br/>      request (SetInterfaceString, &quot;TypeHereLabel=&quot;)<br/>      OutputTextNoBr (game&#46;css)<br/>      JS&#46;eval (&quot;$('#status')&#46;hide();&quot;)<br/>    }<br/>  &#93;&#93;&gt;&lt;/function&gt;</code></pre><br/>then the style does get set - after a pause where you can see the old style for a bit. Ugly and probably not how you would want to ship it, but it does prove the point that if the CSS can get into an output div, then it will work.",
      "PostDate": "2015-12-25T09:34:30+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "40043",
      "UserId": 0,
      "Username": "OurJud",
      "UserAvatar": "7473_1417206896.jpg",
      "UserGravatar": "7892e1059c02a91b34ffd60deb7402ff",
      "EditableText": "Thanks very much! Better ugly for a second, than there all the time.\n\nSo where do I put that hack? Is it right at the foot of my main code?\n\nThis is the function code I have, which includes quite a bit more than yours. I guess I just shove the timeout rule in, do I?\n\n[code:145jmyoh]&lt;function name=&quot;InitUserInterface&quot;&gt;&lt;!&#91;CDATA&#91;\n    JS&#46;setCommandBarStyle (GetCurrentTextFormat(&quot;&quot;) + &quot;;border&#58;&quot; + game&#46;defaultbackground)\n    JS&#46;eval (&quot;$('#status')&#46;hide();&quot;)\n    JS&#46;SetBackgroundCol (&quot;black&quot;)\n    JS&#46;eval (&quot;$('#txtCommandDiv')&#46;prepend('&amp;gt;&amp;nbsp;')&quot;)\n    JS&#46;OutputTextNoBr (game&#46;css)\n    OutputTextNoBr (RetroStyleHolder&#46;css)\n    request (SetInterfaceString, &quot;TypeHereLabel=&quot;)\n    if (GetBoolean(game, &quot;inprogress&quot;)) {\n    }\n    else {\n      game&#46;inprogress = true\n    }\n  &#93;&#93;&gt;&lt;/function&gt;[/code:145jmyoh]",
      "EditableFormat": "bbcode",
      "HTML": "Thanks very much! Better ugly for a second, than there all the time.<br/><br/>So where do I put that hack? Is it right at the foot of my main code?<br/><br/>This is the function code I have, which includes quite a bit more than yours. I guess I just shove the timeout rule in, do I?<br/><br/><pre><code>&lt;function name=&quot;InitUserInterface&quot;&gt;&lt;!&#91;CDATA&#91;<br/>    JS&#46;setCommandBarStyle (GetCurrentTextFormat(&quot;&quot;) + &quot;;border&#58;&quot; + game&#46;defaultbackground)<br/>    JS&#46;eval (&quot;$('#status')&#46;hide();&quot;)<br/>    JS&#46;SetBackgroundCol (&quot;black&quot;)<br/>    JS&#46;eval (&quot;$('#txtCommandDiv')&#46;prepend('&amp;gt;&amp;nbsp;')&quot;)<br/>    JS&#46;OutputTextNoBr (game&#46;css)<br/>    OutputTextNoBr (RetroStyleHolder&#46;css)<br/>    request (SetInterfaceString, &quot;TypeHereLabel=&quot;)<br/>    if (GetBoolean(game, &quot;inprogress&quot;)) {<br/>    }<br/>    else {<br/>      game&#46;inprogress = true<br/>    }<br/>  &#93;&#93;&gt;&lt;/function&gt;</code></pre>",
      "PostDate": "2015-12-26T01:22:10+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "40044",
      "UserId": 0,
      "Username": "OurJud",
      "UserAvatar": "7473_1417206896.jpg",
      "UserGravatar": "7892e1059c02a91b34ffd60deb7402ff",
      "EditableText": "Okay, I don't pretend to know why, but this timeout rule means the white command box is there on first load. Typing a command then allows the CSS to kick in and the box disappears. What it also does is successfully hide the command box on resume (once a command has been entered), which is what I've been hoping to achieve for the last 15 months or so.\n\nIt's a compromise, but what concerns me is that that because I'm using a white font, that initial command can't be seen (on the white command box). I think most players will take one look at this and immediately quit, presuming it's bugged or just bad design on my part.\n\nAnyway, thank you, Jay. I really appreciate you having another look at this. I think I'll just have to wait for a fix from Alex, but at least he's now armed with more info that I could ever have given him.",
      "EditableFormat": "bbcode",
      "HTML": "Okay, I don't pretend to know why, but this timeout rule means the white command box is there on first load. Typing a command then allows the CSS to kick in and the box disappears. What it also does is successfully hide the command box on resume (once a command has been entered), which is what I've been hoping to achieve for the last 15 months or so.<br/><br/>It's a compromise, but what concerns me is that that because I'm using a white font, that initial command can't be seen (on the white command box). I think most players will take one look at this and immediately quit, presuming it's bugged or just bad design on my part.<br/><br/>Anyway, thank you, Jay. I really appreciate you having another look at this. I think I'll just have to wait for a fix from Alex, but at least he's now armed with more info that I could ever have given him.",
      "PostDate": "2015-12-26T01:42:07+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "41949",
      "UserId": 0,
      "Username": "Alex",
      "UserAvatar": null,
      "UserGravatar": "188b72c5e13327f4fde3989dca7d7d53",
      "EditableText": "I've now fixed the getCSS error and this is now live on the site.\n\nThis is the only thing I'm aware of that I needed to fix - the other issue described (the blank output) was because of JavaScript errors in your own game code. But let me know if any weirdness is still going on if you've fixed those.",
      "EditableFormat": "bbcode",
      "HTML": "I've now fixed the getCSS error and this is now live on the site.<br/><br/>This is the only thing I'm aware of that I needed to fix - the other issue described (the blank output) was because of JavaScript errors in your own game code. But let me know if any weirdness is still going on if you've fixed those.",
      "PostDate": "2016-03-27T13:22:56+01:00",
      "LastEditDate": null
    }
  ]
}