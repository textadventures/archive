{
  "Topic": {
    "TopicId": "w7mtakf7ykixomwl09kjfw",
    "ForumId": "10",
    "Title": "Pain with Panes: Issue 3: Expanding Whitespace",
    "LastUpdated": "2018-05-18T08:06:33.7371992Z",
    "ReplyCount": 0
  },
  "Posts": [
    {
      "PostId": "c229c6b3-30e6-46a0-8fb2-4f45086ee76d",
      "UserId": 199273,
      "Username": "DavyB",
      "AvatarUrl": "http://i.imgur.com/8BcaZCyb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Thanks everyone for the help with dynamic game panes. That's a really useful feature. In adding it to my game, however, I've noticed that when panes are hidden there is white space between the dialogue text and the  input window at the bottom of the page and this effect gets worse after panes have been moved in and out a few times. Anyone know a quick fix?",
      "EditableFormat": "markdown",
      "HTML": "<p>Thanks everyone for the help with dynamic game panes. That's a really useful feature. In adding it to my game, however, I've noticed that when panes are hidden there is white space between the dialogue text and the  input window at the bottom of the page and this effect gets worse after panes have been moved in and out a few times. Anyone know a quick fix?</p>\n\n",
      "PostDate": "2018-05-18T08:06:33.7371992Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "c82f9082-1cac-48da-b5d5-d99c012a460b",
      "UserId": 301690,
      "Username": "Richard Headkid",
      "AvatarUrl": "http://i.imgur.com/WUGXS8yb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "```JS.eval(\"$('#txtCommandSpacer').height(10);\")```",
      "EditableFormat": "markdown",
      "HTML": "<p><code>JS.eval(\"$('#txtCommandSpacer').height(10);\")</code></p>\n\n",
      "PostDate": "2018-05-18T08:20:34.1696565Z",
      "LastEditDate": "2018-05-18T08:20:54.9318667Z",
      "link": null
    },
    {
      "PostId": "239c0026-151a-40f2-bd12-31eb0d1919fb",
      "UserId": 199273,
      "Username": "DavyB",
      "AvatarUrl": "http://i.imgur.com/8BcaZCyb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Sorry Richard, that didn't work. I've been whittling the problem down to something I could post here. In the game below, use the command 'gaptest' three times, then 'panes' twice to see the white space problem. The amount of text being printed affects the size of the white space but I haven't worked out the precise relationship. I can't begin to guess the issue here!\r\n```\r\n<asl version=\"550\">\r\n  <include ref=\"English.aslx\" />\r\n  <include ref=\"Core.aslx\" />\r\n  <game name=\"Test\">\r\n    <gameid>0e1e8167-0c69-4d58-900a-90d86f8a9452</gameid>\r\n    <version>1.0</version>\r\n    <firstpublished>2018</firstpublished>\r\n    <attr name=\"panes_on\" type=\"boolean\">false</attr>\r\n  </game>\r\n  <object name=\"room\">\r\n    <inherit name=\"editor_room\" />\r\n    <description>An empty room.</description>\r\n    <object name=\"player\">\r\n      <inherit name=\"editor_object\" />\r\n      <inherit name=\"editor_player\" />\r\n    </object>\r\n  </object>\r\n  <command name=\"gaptest\">\r\n    <script><![CDATA[\r\n      // Open Grid\r\n      JS.ShowGrid (300)\r\n      // Display largish message\r\n      msg (\"Maze B is the same as A but with points 12 and 13 connected and its starting point is 7. <br/>Maze C is similar to Maze B, but has 8 and 9 connected instead of 12 and 13; it uses a starting point at 7.<br/>Finally, Maze D is the same as C but its starting point is 3.<br/><br/>Maze B is the same as A but with points 12 and 13 connected and its starting point is 7. <br/>Maze C is similar to Maze B, but has 8 and 9 connected instead of 12 and 13; it uses a starting point at 7.<br/>Finally, Maze D is the same as C but its starting point is 3.<br/><br/>Maze B is the same as A but with points 12 and 13 connected and its starting point is 7. <br/>Maze C is similar to Maze B, but has 8 and 9 connected instead of 12 and 13; it uses a starting point at 7.<br/>Finally, Maze D is the same as C but its starting point is 3.\")\r\n      // Close Grid\r\n      JS.ShowGrid (0)\r\n    ]]></script>\r\n    <pattern>gaptest</pattern>\r\n  </command>\r\n  <command name=\"panes\">\r\n    <pattern>panes</pattern>\r\n    <script><![CDATA[\r\n      if (game.panes_on) {\r\n        request (Hide, \"Panes\")\r\n        JS.eval (\"$('#txtCommandSpacer').height(10);\")\r\n        game.panes_on = false\r\n        msg (\"The game panes have been hidden. Type <i>panes</i> again to restore them.\")\r\n      }\r\n      else {\r\n        request (Show, \"Panes\")\r\n        game.panes_on = true\r\n        msg (\"The game panes are now visible on the right. Type <i>panes</i> again to hide them.\")\r\n      }\r\n    ]]></script>\r\n  </command>\r\n</asl>\r\n```",
      "EditableFormat": "markdown",
      "HTML": "<p>Sorry Richard, that didn't work. I've been whittling the problem down to something I could post here. In the game below, use the command 'gaptest' three times, then 'panes' twice to see the white space problem. The amount of text being printed affects the size of the white space but I haven't worked out the precise relationship. I can't begin to guess the issue here!</p>\n<pre><code>&lt;asl version=\"550\"&gt;\n  &lt;include ref=\"English.aslx\" /&gt;\n  &lt;include ref=\"Core.aslx\" /&gt;\n  &lt;game name=\"Test\"&gt;\n    &lt;gameid&gt;0e1e8167-0c69-4d58-900a-90d86f8a9452&lt;/gameid&gt;\n    &lt;version&gt;1.0&lt;/version&gt;\n    &lt;firstpublished&gt;2018&lt;/firstpublished&gt;\n    &lt;attr name=\"panes_on\" type=\"boolean\"&gt;false&lt;/attr&gt;\n  &lt;/game&gt;\n  &lt;object name=\"room\"&gt;\n    &lt;inherit name=\"editor_room\" /&gt;\n    &lt;description&gt;An empty room.&lt;/description&gt;\n    &lt;object name=\"player\"&gt;\n      &lt;inherit name=\"editor_object\" /&gt;\n      &lt;inherit name=\"editor_player\" /&gt;\n    &lt;/object&gt;\n  &lt;/object&gt;\n  &lt;command name=\"gaptest\"&gt;\n    &lt;script&gt;&lt;![CDATA[\n      // Open Grid\n      JS.ShowGrid (300)\n      // Display largish message\n      msg (\"Maze B is the same as A but with points 12 and 13 connected and its starting point is 7. &lt;br/&gt;Maze C is similar to Maze B, but has 8 and 9 connected instead of 12 and 13; it uses a starting point at 7.&lt;br/&gt;Finally, Maze D is the same as C but its starting point is 3.&lt;br/&gt;&lt;br/&gt;Maze B is the same as A but with points 12 and 13 connected and its starting point is 7. &lt;br/&gt;Maze C is similar to Maze B, but has 8 and 9 connected instead of 12 and 13; it uses a starting point at 7.&lt;br/&gt;Finally, Maze D is the same as C but its starting point is 3.&lt;br/&gt;&lt;br/&gt;Maze B is the same as A but with points 12 and 13 connected and its starting point is 7. &lt;br/&gt;Maze C is similar to Maze B, but has 8 and 9 connected instead of 12 and 13; it uses a starting point at 7.&lt;br/&gt;Finally, Maze D is the same as C but its starting point is 3.\")\n      // Close Grid\n      JS.ShowGrid (0)\n    ]]&gt;&lt;/script&gt;\n    &lt;pattern&gt;gaptest&lt;/pattern&gt;\n  &lt;/command&gt;\n  &lt;command name=\"panes\"&gt;\n    &lt;pattern&gt;panes&lt;/pattern&gt;\n    &lt;script&gt;&lt;![CDATA[\n      if (game.panes_on) {\n        request (Hide, \"Panes\")\n        JS.eval (\"$('#txtCommandSpacer').height(10);\")\n        game.panes_on = false\n        msg (\"The game panes have been hidden. Type &lt;i&gt;panes&lt;/i&gt; again to restore them.\")\n      }\n      else {\n        request (Show, \"Panes\")\n        game.panes_on = true\n        msg (\"The game panes are now visible on the right. Type &lt;i&gt;panes&lt;/i&gt; again to hide them.\")\n      }\n    ]]&gt;&lt;/script&gt;\n  &lt;/command&gt;\n&lt;/asl&gt;\n</code></pre>\n\n",
      "PostDate": "2018-05-18T19:35:42.2065378Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "6ea534ca-2e6f-44d5-8bd5-becc31b6d41f",
      "UserId": 301690,
      "Username": "Richard Headkid",
      "AvatarUrl": "http://i.imgur.com/WUGXS8yb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "I will be able load this game up in about an hour, and I'll see what I can find.\r\n\r\n---\r\nUntil then, you could try this:\r\n\r\nReplace ```request (Hide, \"Panes\")``` with ```JS.uiHide(\"#gamePanes\")```, and replace ```request (Show, \"Panes\")``` with ```JS.uiShow(\"#gamePanes\")```.\r\n\r\n---\r\n**ETA**\r\n\r\nThis, it turns out, is not a fix, but ```request``` is being deprecated, so these changes are still a good idea.\r\n\r\n---\r\nSee next post for the fix.",
      "EditableFormat": "markdown",
      "HTML": "<p>I will be able load this game up in about an hour, and I'll see what I can find.</p>\n<hr>\n<p>Until then, you could try this:</p>\n<p>Replace <code>request (Hide, \"Panes\")</code> with <code>JS.uiHide(\"#gamePanes\")</code>, and replace <code>request (Show, \"Panes\")</code> with <code>JS.uiShow(\"#gamePanes\")</code>.</p>\n<hr>\n<p><strong>ETA</strong></p>\n<p>This, it turns out, is not a fix, but <code>request</code> is being deprecated, so these changes are still a good idea.</p>\n<hr>\n<p>See next post for the fix.</p>\n\n",
      "PostDate": "2018-05-18T19:39:32.3614039Z",
      "LastEditDate": "2018-05-18T20:12:09.9502998Z",
      "link": null
    },
    {
      "PostId": "16932a18-8581-4654-a562-125b98f47a31",
      "UserId": 301690,
      "Username": "Richard Headkid",
      "AvatarUrl": "http://i.imgur.com/WUGXS8yb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "```\r\nJS.eval(\"var reHeight = 0;  $('#divOutput').children().each(function(){reHeight += $(this).height();});  $('#divOutput').css('min-height',reHeight);\")\r\n```",
      "EditableFormat": "markdown",
      "HTML": "<pre><code>JS.eval(\"var reHeight = 0;  $('#divOutput').children().each(function(){reHeight += $(this).height();});  $('#divOutput').css('min-height',reHeight);\")\n</code></pre>\n\n",
      "PostDate": "2018-05-18T20:09:50.1808692Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "14bc9f64-4888-483d-92f0-846fb581c0f0",
      "UserId": 301690,
      "Username": "Richard Headkid",
      "AvatarUrl": "http://i.imgur.com/WUGXS8yb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "**ETA: Modified PANES script**\r\n\r\n```\r\n<asl version=\"550\">\r\n  <include ref=\"English.aslx\" />\r\n  <include ref=\"Core.aslx\" />\r\n  <game name=\"Test\">\r\n    <gameid>0e1e8167-0c69-4d58-900a-90d86f8a9452</gameid>\r\n    <version>3.0</version>\r\n    <firstpublished>2018</firstpublished>\r\n  </game>\r\n  <object name=\"room\">\r\n    <inherit name=\"editor_room\" />\r\n    <description>An empty room.</description>\r\n    <object name=\"player\">\r\n      <inherit name=\"editor_object\" />\r\n      <inherit name=\"editor_player\" />\r\n    </object>\r\n  </object>\r\n  <command name=\"gaptest\">\r\n    <script><![CDATA[\r\n      // Open Grid\r\n      JS.ShowGrid (300)\r\n      // Display largish message\r\n      msg (\"Maze B is the same as A but with points 12 and 13 connected and its starting point is 7. <br/>Maze C is similar to Maze B, but has 8 and 9 connected instead of 12 and 13; it uses a starting point at 7.<br/>Finally, Maze D is the same as C but its starting point is 3.<br/><br/>Maze B is the same as A but with points 12 and 13 connected and its starting point is 7. <br/>Maze C is similar to Maze B, but has 8 and 9 connected instead of 12 and 13; it uses a starting point at 7.<br/>Finally, Maze D is the same as C but its starting point is 3.<br/><br/>Maze B is the same as A but with points 12 and 13 connected and its starting point is 7. <br/>Maze C is similar to Maze B, but has 8 and 9 connected instead of 12 and 13; it uses a starting point at 7.<br/>Finally, Maze D is the same as C but its starting point is 3.\")\r\n      // Close Grid\r\n      JS.ShowGrid (0)\r\n    ]]></script>\r\n    <pattern>gaptest</pattern>\r\n  </command>\r\n  <command name=\"panes\">\r\n    <pattern>panes</pattern>\r\n    <script><![CDATA[\r\n      hidemsg = \"The game panes have been hidden. Type <i>panes</i> again to restore them.\"\r\n      showmsg = \"The game panes are now visible on the right. Type <i>panes</i> again to hide them.\"\r\n      JS.eval(\"if (isElementVisible('#gamePanes')){ uiHide('#gamePanes'); addTextAndScroll('\"+ hidemsg + \"') }else{uiShow('#gamePanes'); addTextAndScroll('\"+ showmsg + \"');}\")\r\n      JS.eval(\"var reHeight = 0;  $('#divOutput').children().each(function(){reHeight += $(this).height();});  $('#divOutput').css('min-height',reHeight);\")\r\n    ]]></script>\r\n  </command>\r\n</asl>\r\n```",
      "EditableFormat": "markdown",
      "HTML": "<p><strong>ETA: Modified PANES script</strong></p>\n<pre><code>&lt;asl version=\"550\"&gt;\n  &lt;include ref=\"English.aslx\" /&gt;\n  &lt;include ref=\"Core.aslx\" /&gt;\n  &lt;game name=\"Test\"&gt;\n    &lt;gameid&gt;0e1e8167-0c69-4d58-900a-90d86f8a9452&lt;/gameid&gt;\n    &lt;version&gt;3.0&lt;/version&gt;\n    &lt;firstpublished&gt;2018&lt;/firstpublished&gt;\n  &lt;/game&gt;\n  &lt;object name=\"room\"&gt;\n    &lt;inherit name=\"editor_room\" /&gt;\n    &lt;description&gt;An empty room.&lt;/description&gt;\n    &lt;object name=\"player\"&gt;\n      &lt;inherit name=\"editor_object\" /&gt;\n      &lt;inherit name=\"editor_player\" /&gt;\n    &lt;/object&gt;\n  &lt;/object&gt;\n  &lt;command name=\"gaptest\"&gt;\n    &lt;script&gt;&lt;![CDATA[\n      // Open Grid\n      JS.ShowGrid (300)\n      // Display largish message\n      msg (\"Maze B is the same as A but with points 12 and 13 connected and its starting point is 7. &lt;br/&gt;Maze C is similar to Maze B, but has 8 and 9 connected instead of 12 and 13; it uses a starting point at 7.&lt;br/&gt;Finally, Maze D is the same as C but its starting point is 3.&lt;br/&gt;&lt;br/&gt;Maze B is the same as A but with points 12 and 13 connected and its starting point is 7. &lt;br/&gt;Maze C is similar to Maze B, but has 8 and 9 connected instead of 12 and 13; it uses a starting point at 7.&lt;br/&gt;Finally, Maze D is the same as C but its starting point is 3.&lt;br/&gt;&lt;br/&gt;Maze B is the same as A but with points 12 and 13 connected and its starting point is 7. &lt;br/&gt;Maze C is similar to Maze B, but has 8 and 9 connected instead of 12 and 13; it uses a starting point at 7.&lt;br/&gt;Finally, Maze D is the same as C but its starting point is 3.\")\n      // Close Grid\n      JS.ShowGrid (0)\n    ]]&gt;&lt;/script&gt;\n    &lt;pattern&gt;gaptest&lt;/pattern&gt;\n  &lt;/command&gt;\n  &lt;command name=\"panes\"&gt;\n    &lt;pattern&gt;panes&lt;/pattern&gt;\n    &lt;script&gt;&lt;![CDATA[\n      hidemsg = \"The game panes have been hidden. Type &lt;i&gt;panes&lt;/i&gt; again to restore them.\"\n      showmsg = \"The game panes are now visible on the right. Type &lt;i&gt;panes&lt;/i&gt; again to hide them.\"\n      JS.eval(\"if (isElementVisible('#gamePanes')){ uiHide('#gamePanes'); addTextAndScroll('\"+ hidemsg + \"') }else{uiShow('#gamePanes'); addTextAndScroll('\"+ showmsg + \"');}\")\n      JS.eval(\"var reHeight = 0;  $('#divOutput').children().each(function(){reHeight += $(this).height();});  $('#divOutput').css('min-height',reHeight);\")\n    ]]&gt;&lt;/script&gt;\n  &lt;/command&gt;\n&lt;/asl&gt;\n</code></pre>\n\n",
      "PostDate": "2018-05-18T20:10:58.0014075Z",
      "LastEditDate": "2018-05-18T20:30:59.683317Z",
      "link": null
    },
    {
      "PostId": "68215855-19e4-411a-8c15-4f6113f3250f",
      "UserId": 199273,
      "Username": "DavyB",
      "AvatarUrl": "http://i.imgur.com/8BcaZCyb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Many thanks Richard. I've pasted that into my game and the problem has gone away. Hopefully that's my last issue and I'll be ready to release the fully dynamic game tomorrow after a thorough test.\r\n\r\nIs this a fix that will be made to show and hide at some point?",
      "EditableFormat": "markdown",
      "HTML": "<p>Many thanks Richard. I've pasted that into my game and the problem has gone away. Hopefully that's my last issue and I'll be ready to release the fully dynamic game tomorrow after a thorough test.</p>\n<p>Is this a fix that will be made to show and hide at some point?</p>\n\n",
      "PostDate": "2018-05-18T21:06:05.7157784Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "6bea77a2-1e20-4dcd-8c37-c16a5f6ebe58",
      "UserId": 301690,
      "Username": "Richard Headkid",
      "AvatarUrl": "http://i.imgur.com/WUGXS8yb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "You are very welcome.\r\n\r\nI'm not sure if this would be something the guys would add to Quest.  I think most games either have panes or they don't, so it isn't very necessary.\r\n\r\n(Plus, it's only truly necessary during a call to ```uiHide()```, now that I think about it, but it should be hurting anything the way it is.)\r\n\r\n---\r\nIf you want your ```uiHide()``` to do this every time, just add this to your user interface initialisation script, then you won't have to worry with it in any more code (it will resize automatically with each call to ```uiHide()```):\r\n\r\n```\r\nJS.eval(\"var uiHideBak = uiHide;function uiHide() {uiHideBak(); var reHeight = 0;  $('#divOutput').children().each(function(){reHeight += $(this).height();});  $('#divOutput').css('min-height',reHeight);\")\r\n```\r\n\r\n",
      "EditableFormat": "markdown",
      "HTML": "<p>You are very welcome.</p>\n<p>I'm not sure if this would be something the guys would add to Quest.  I think most games either have panes or they don't, so it isn't very necessary.</p>\n<p>(Plus, it's only truly necessary during a call to <code>uiHide()</code>, now that I think about it, but it should be hurting anything the way it is.)</p>\n<hr>\n<p>If you want your <code>uiHide()</code> to do this every time, just add this to your user interface initialisation script, then you won't have to worry with it in any more code (it will resize automatically with each call to <code>uiHide()</code>):</p>\n<pre><code>JS.eval(\"var uiHideBak = uiHide;function uiHide() {uiHideBak(); var reHeight = 0;  $('#divOutput').children().each(function(){reHeight += $(this).height();});  $('#divOutput').css('min-height',reHeight);\")\n</code></pre>\n\n",
      "PostDate": "2018-05-19T09:10:00.1996965Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "ef4e4018-5439-48b4-b82f-4044139f51ef",
      "UserId": 199273,
      "Username": "DavyB",
      "AvatarUrl": "http://i.imgur.com/8BcaZCyb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Again thanks Richard. An updated version of Giantkiller Too has just been uploaded which includes this adjustment. As it only seems to be needed when panes are removed, I've limited the adjustment to that case. I'll leave the thread open in case someone can comment of the source of the problem and a possible fix to uiHide().",
      "EditableFormat": "markdown",
      "HTML": "<p>Again thanks Richard. An updated version of Giantkiller Too has just been uploaded which includes this adjustment. As it only seems to be needed when panes are removed, I've limited the adjustment to that case. I'll leave the thread open in case someone can comment of the source of the problem and a possible fix to uiHide().</p>\n\n",
      "PostDate": "2018-05-19T16:31:45.5640869Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "2e349ed3-af42-44b4-8ed0-f85240735dd8",
      "UserId": 301690,
      "Username": "Richard Headkid",
      "AvatarUrl": "http://i.imgur.com/WUGXS8yb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Glad it worked!\r\n\r\n---\r\nMy thoughts concerning possible changes to ```uiHide()``` (which may be unfounded):\r\n\r\nWhen we hide the panes during play, the existing text fills that empty width, and the white space at the bottom is born.  That's because we are manipulating settings *after* the text has printed.  This wouldn't be considered a bug (or an issue).  Everything works out of the box.  We are creating the problem when we make your changes to the default display settings.\r\n\r\nQuest constantly checks the heights of the elements in divOutput, then sets the minimum height of divOutput to the sum of those heights.  When we hide the panes during play, that is a big, fat monkey wrench.  Quest is not expecting that at all.  It's a mod.  So, we must modify ```uiHide()``` while we're making the other changes.\r\n\r\n---\r\nI believe ```uiHide()``` is used every time an element is hidden, even when we (the game authors) are not calling ```uiHide()```.   It doesn't only hide the panes either.  It hides any and every element in the window.  Adding my code to the function would be a waste of space in 99% of games, and it would make every Quest game's code (at least a little bit) less efficient.  (Quest has trouble running online already, and this would slow it down just a little bit more.)\r\n\r\n---\r\nSo, for the greater good, I think we should have to modify ```uiHide()``` while adding code to games to hide and show elements which are normally either static or non-existent.",
      "EditableFormat": "markdown",
      "HTML": "<p>Glad it worked!</p>\n<hr>\n<p>My thoughts concerning possible changes to <code>uiHide()</code> (which may be unfounded):</p>\n<p>When we hide the panes during play, the existing text fills that empty width, and the white space at the bottom is born.  That's because we are manipulating settings <em>after</em> the text has printed.  This wouldn't be considered a bug (or an issue).  Everything works out of the box.  We are creating the problem when we make your changes to the default display settings.</p>\n<p>Quest constantly checks the heights of the elements in divOutput, then sets the minimum height of divOutput to the sum of those heights.  When we hide the panes during play, that is a big, fat monkey wrench.  Quest is not expecting that at all.  It's a mod.  So, we must modify <code>uiHide()</code> while we're making the other changes.</p>\n<hr>\n<p>I believe <code>uiHide()</code> is used every time an element is hidden, even when we (the game authors) are not calling <code>uiHide()</code>.   It doesn't only hide the panes either.  It hides any and every element in the window.  Adding my code to the function would be a waste of space in 99% of games, and it would make every Quest game's code (at least a little bit) less efficient.  (Quest has trouble running online already, and this would slow it down just a little bit more.)</p>\n<hr>\n<p>So, for the greater good, I think we should have to modify <code>uiHide()</code> while adding code to games to hide and show elements which are normally either static or non-existent.</p>\n\n",
      "PostDate": "2018-05-19T19:20:57.8832973Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "912059d4-ce4c-4e78-852b-0ae5e755a5e6",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "> Quest constantly checks the heights of the elements in divOutput, then sets the minimum height of divOutput to the sum of those heights.\r\n\r\nI still don't understand why this is necessary.",
      "EditableFormat": "markdown",
      "HTML": "<blockquote>\n<p>Quest constantly checks the heights of the elements in divOutput, then sets the minimum height of divOutput to the sum of those heights.</p>\n</blockquote>\n<p>I still don't understand why this is necessary.</p>\n\n",
      "PostDate": "2018-05-19T19:51:46.7755007Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "5cb7b4b7-1114-4f26-9dc6-c2a381c97fa9",
      "UserId": 199273,
      "Username": "DavyB",
      "AvatarUrl": "http://i.imgur.com/8BcaZCyb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Tried another game where the panes were on throughout the game but switched off for an epilogue at the end. The calculation was so far out at that point that no text at all was showing. It's as if there is an error in some calculation being performed behind the scenes that builds up as the games goes on. The fix above sorted it out but it would be nice to understand the problem!",
      "EditableFormat": "markdown",
      "HTML": "<p>Tried another game where the panes were on throughout the game but switched off for an epilogue at the end. The calculation was so far out at that point that no text at all was showing. It's as if there is an error in some calculation being performed behind the scenes that builds up as the games goes on. The fix above sorted it out but it would be nice to understand the problem!</p>\n\n",
      "PostDate": "2018-05-21T13:18:57.1455707Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "022dabb8-1c95-4df6-9648-63e4879514bb",
      "UserId": 318253,
      "Username": "K.V.",
      "AvatarUrl": "https://i.imgur.com/mBf7TBeb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Every time something is printed during play, Quest adds that new element's height to the main element's ```min-height```.\r\n\r\nSo, one game begins with divOutput's min-height set to 169px.\r\n\r\n![image](https://user-images.githubusercontent.com/30656341/40311882-cf001daa-5cd6-11e8-9988-c980bd81386a.png)\r\n\r\n---\r\nThen I take 1 turn which prints my command plus 2 lines of code, the min-height of divOutput becomes 245px.\r\n\r\n![image](https://user-images.githubusercontent.com/30656341/40311930-f0c22dfc-5cd6-11e8-94ae-0dbbc1a15d02.png)\r\n\r\n---\r\nWhat is the purpose of that?  I do not know.  I assume there is a purpose, though.   ...or at least that there was once a purpose.",
      "EditableFormat": "markdown",
      "HTML": "<p>Every time something is printed during play, Quest adds that new element's height to the main element's <code>min-height</code>.</p>\n<p>So, one game begins with divOutput's min-height set to 169px.</p>\n<p><img src=\"https://user-images.githubusercontent.com/30656341/40311882-cf001daa-5cd6-11e8-9988-c980bd81386a.png\" alt=\"image\"></p>\n<hr>\n<p>Then I take 1 turn which prints my command plus 2 lines of code, the min-height of divOutput becomes 245px.</p>\n<p><img src=\"https://user-images.githubusercontent.com/30656341/40311930-f0c22dfc-5cd6-11e8-94ae-0dbbc1a15d02.png\" alt=\"image\"></p>\n<hr>\n<p>What is the purpose of that?  I do not know.  I assume there is a purpose, though.   ...or at least that there was once a purpose.</p>\n\n",
      "PostDate": "2018-05-21T14:12:14.7858879Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "38a0adf0-89a9-49cb-8422-126c8c9fb517",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "I don't see the purpose.\r\n\r\nThe browser will display the div with either the specified `min-height`, OR the total height of all the elements inside it. Whichever is higher. If the min-height is 0, the element will be dynamically sized to fit its content.\r\n\r\nAs far as I can tell, Quest sets the min-height to be the sum of the sizes that all of the individual content divs were at the time they were added. If the content divs get bigger later on (panes appearing, the window being narrowed, or font size increasing), the min-height will be ignored because it's less than the content height and the browser will handle the size correctly. If nothing weird happens, the min-height will be ignored because it's the same as the content height, and the browser will handle sizing correctly. If the height of content panels is *reduced* (because the window becomes wider, the panes are hidden, a ShowMenu block is hidden, or a few other cases) the min-height will introduce empty space equal to the difference at the bottom of the output. Every case I've seen, this is treated as a bug, and is patched by yet another special-case in which the min-height has to be manually recalculated.\r\n\r\nI'd really like to know what circumstances this is actually useful in. Is there a case where we *want* to add whitespace at the bottom of the output?",
      "EditableFormat": "markdown",
      "HTML": "<p>I don't see the purpose.</p>\n<p>The browser will display the div with either the specified <code>min-height</code>, OR the total height of all the elements inside it. Whichever is higher. If the min-height is 0, the element will be dynamically sized to fit its content.</p>\n<p>As far as I can tell, Quest sets the min-height to be the sum of the sizes that all of the individual content divs were at the time they were added. If the content divs get bigger later on (panes appearing, the window being narrowed, or font size increasing), the min-height will be ignored because it's less than the content height and the browser will handle the size correctly. If nothing weird happens, the min-height will be ignored because it's the same as the content height, and the browser will handle sizing correctly. If the height of content panels is <em>reduced</em> (because the window becomes wider, the panes are hidden, a ShowMenu block is hidden, or a few other cases) the min-height will introduce empty space equal to the difference at the bottom of the output. Every case I've seen, this is treated as a bug, and is patched by yet another special-case in which the min-height has to be manually recalculated.</p>\n<p>I'd really like to know what circumstances this is actually useful in. Is there a case where we <em>want</em> to add whitespace at the bottom of the output?</p>\n\n",
      "PostDate": "2018-05-21T15:25:28.8673479Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "f87034d1-657f-47ca-abef-18fbc2f736ca",
      "UserId": 318253,
      "Username": "K.V.",
      "AvatarUrl": "https://i.imgur.com/mBf7TBeb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "The only thing I can think of (which may not even be relevant) is that trick to stick the command bar to the bottom of the page from the beginning of play.\r\n\r\nhttp://docs.textadventures.co.uk/quest/ui-javascript3.html#sticking-the-command-bar-to-the-bottom-of-the-screen",
      "EditableFormat": "markdown",
      "HTML": "<p>The only thing I can think of (which may not even be relevant) is that trick to stick the command bar to the bottom of the page from the beginning of play.</p>\n<p>http://docs.textadventures.co.uk/quest/ui-javascript3.html#sticking-the-command-bar-to-the-bottom-of-the-screen</p>\n\n",
      "PostDate": "2018-05-21T15:53:23.1692965Z",
      "LastEditDate": "2018-05-21T15:53:40.6106604Z",
      "link": null
    },
    {
      "PostId": "81702166-a3d7-469f-a7f3-e6c226b32268",
      "UserId": 319917,
      "Username": "mrangel",
      "AvatarUrl": "https://secure.gravatar.com/avatar/?d=retro",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "That doesn't use (or rely on) the min-height style rule; it's a different kind of whitespace. (a fixed-width margin, rather than making the div bigger than it needs to be)",
      "EditableFormat": "markdown",
      "HTML": "<p>That doesn't use (or rely on) the min-height style rule; it's a different kind of whitespace. (a fixed-width margin, rather than making the div bigger than it needs to be)</p>\n\n",
      "PostDate": "2018-05-21T16:13:21.9018379Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "76126dc6-3ff3-4af4-8da9-54f17b0f3f0e",
      "UserId": 318253,
      "Username": "K.V.",
      "AvatarUrl": "https://i.imgur.com/mBf7TBeb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "Hrmm...\r\n\r\nWell, I'll open Quest in Visual Studio and search the entire project for \"min-height\".  If it's used for anything, I would think this would lead me to it (if there aren't too many hits on the search).",
      "EditableFormat": "markdown",
      "HTML": "<p>Hrmm...</p>\n<p>Well, I'll open Quest in Visual Studio and search the entire project for \"min-height\".  If it's used for anything, I would think this would lead me to it (if there aren't too many hits on the search).</p>\n\n",
      "PostDate": "2018-05-21T16:36:12.0937719Z",
      "LastEditDate": null,
      "link": null
    },
    {
      "PostId": "33278117-e948-41fa-b676-1bc884cb3b99",
      "UserId": 318253,
      "Username": "K.V.",
      "AvatarUrl": "https://i.imgur.com/mBf7TBeb.png",
      "UserAvatar": null,
      "UserGravatar": null,
      "EditableText": "The only place I see it is in ```addText()```.\r\n\r\nI commented this line out of my ```addText()```, and I don't see any negative effects  (in fact, it completely solves this issue):\r\n\r\n```\r\n//$(\"#divOutput\").css(\"min-height\", $(\"#divOutput\").height());\r\n```",
      "EditableFormat": "markdown",
      "HTML": "<p>The only place I see it is in <code>addText()</code>.</p>\n<p>I commented this line out of my <code>addText()</code>, and I don't see any negative effects  (in fact, it completely solves this issue):</p>\n<pre><code>//$(\"#divOutput\").css(\"min-height\", $(\"#divOutput\").height());\n</code></pre>\n\n",
      "PostDate": "2018-05-21T17:03:25.9889417Z",
      "LastEditDate": null,
      "link": null
    }
  ]
}
