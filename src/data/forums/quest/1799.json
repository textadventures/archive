{
  "Topic": {
    "TopicId": "1799",
    "ForumId": "10",
    "Title": "Starting to do a little scripting",
    "LastUpdated": "2007-12-19T15:54:37+00:00",
    "ReplyCount": 3
  },
  "Posts": [
    {
      "PostId": "14257",
      "UserId": 0,
      "Username": "Merrie",
      "UserAvatar": null,
      "UserGravatar": "df5eb31c904dc50d0a8d5682a1a328b3",
      "EditableText": "I just need a bit of help getting started. Here is what I am trying to do.\n\nSet up a timer to display a weather description every four hours in game. I have looked up the timer function, and looked up the random function, but I'm not exactly sure how to put it together. So every four hours one of the below descriptions would show on a random basis.\n\nSo the script would have a rain light description, a rain heavy description, a high wind description, a cloudy description, clear description and a storm description. \n\nPlease help me to get started, thank you!",
      "EditableFormat": "bbcode",
      "HTML": "I just need a bit of help getting started. Here is what I am trying to do.<br/><br/>Set up a timer to display a weather description every four hours in game. I have looked up the timer function, and looked up the random function, but I'm not exactly sure how to put it together. So every four hours one of the below descriptions would show on a random basis.<br/><br/>So the script would have a rain light description, a rain heavy description, a high wind description, a cloudy description, clear description and a storm description. <br/><br/>Please help me to get started, thank you!",
      "PostDate": "2007-12-19T03:36:57+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "14259",
      "UserId": 0,
      "Username": "I think Im Dead",
      "UserAvatar": null,
      "UserGravatar": "662782b48efa4728f8d0773b83c01ddf",
      "EditableText": "Hey there, what you want to accomplish is pretty simple, I'll seperate the different pieces of code so it's more clear but understand that everything but the timer and actual weather descriptions could go in one procedure. IF we really wanted the weather descriptions in the same procedure we could easily do so, but that seems messy.\n\nOkay Step one the timer, this will go towards the bottom of your script outside of the game definition block. Quest uses seconds so let's see 60seconds * 60minutes * 4hours equals.... 14400 seconds. So we set our interval to 14400, we tell the timer to execute the procedure &quot;forecast&quot; when the timer hits zero, and we start the game with the timer enabled.\n[code:bolv4tg8]\ndefine timer &lt;weather&gt;\n  interval &lt;14400&gt;\n  action do &lt;forecast&gt;\n  enabled\nend define\n[/code:bolv4tg8]\nNext we have our &quot;forecast&quot; procedure which goes outside the game definition block and is going to pick a weather description at random, display the description, then turn our weather timer back on so the cycle can repeat.\n[code:bolv4tg8]\ndefine procedure &lt;forecast&gt;\n  set numeric &lt;n; $rand(1;6)$&gt;\n  displaytext &lt;weather%n%&gt;\n  timeron &lt;weather&gt;\nend define\n[/code:bolv4tg8]\nNow we just have to define our text blocks, also outside the game definition block, for each weather description with names such as weather1, weather2, etc.\n[code:bolv4tg8]\ndefine text &lt;weather1&gt;\n  It's lightly drizzling&#46;|n\nend define\ndefine text &lt;weather2&gt;\n  It's pouring heavy rain&#46;|n\nend define\ndefine text &lt;weather3&gt;\n  It's a very blustery day&#46;|n\nend define\ndefine text &lt;weather4&gt;\n  It's very overcast&#46;|n\nend define\ndefine text &lt;weather5&gt;\n  The skies are clear&#46;|n\nend define\ndefine text &lt;weather6&gt;\n  It's terribly stormy&#46;|n\nend define\n[/code:bolv4tg8]\nThat should be pretty much it. The timer points to the procedure, the procedure runs when the timer hits zero, the procedure shows the weather and resets the timer. Pretty simple huh?",
      "EditableFormat": "bbcode",
      "HTML": "Hey there, what you want to accomplish is pretty simple, I'll seperate the different pieces of code so it's more clear but understand that everything but the timer and actual weather descriptions could go in one procedure. IF we really wanted the weather descriptions in the same procedure we could easily do so, but that seems messy.<br/><br/>Okay Step one the timer, this will go towards the bottom of your script outside of the game definition block. Quest uses seconds so let's see 60seconds * 60minutes * 4hours equals.... 14400 seconds. So we set our interval to 14400, we tell the timer to execute the procedure &quot;forecast&quot; when the timer hits zero, and we start the game with the timer enabled.<br/><pre><code><br/>define timer &lt;weather&gt;<br/>  interval &lt;14400&gt;<br/>  action do &lt;forecast&gt;<br/>  enabled<br/>end define<br/></code></pre><br/>Next we have our &quot;forecast&quot; procedure which goes outside the game definition block and is going to pick a weather description at random, display the description, then turn our weather timer back on so the cycle can repeat.<br/><pre><code><br/>define procedure &lt;forecast&gt;<br/>  set numeric &lt;n; $rand(1;6)$&gt;<br/>  displaytext &lt;weather%n%&gt;<br/>  timeron &lt;weather&gt;<br/>end define<br/></code></pre><br/>Now we just have to define our text blocks, also outside the game definition block, for each weather description with names such as weather1, weather2, etc.<br/><pre><code><br/>define text &lt;weather1&gt;<br/>  It's lightly drizzling&#46;|n<br/>end define<br/>define text &lt;weather2&gt;<br/>  It's pouring heavy rain&#46;|n<br/>end define<br/>define text &lt;weather3&gt;<br/>  It's a very blustery day&#46;|n<br/>end define<br/>define text &lt;weather4&gt;<br/>  It's very overcast&#46;|n<br/>end define<br/>define text &lt;weather5&gt;<br/>  The skies are clear&#46;|n<br/>end define<br/>define text &lt;weather6&gt;<br/>  It's terribly stormy&#46;|n<br/>end define<br/></code></pre><br/>That should be pretty much it. The timer points to the procedure, the procedure runs when the timer hits zero, the procedure shows the weather and resets the timer. Pretty simple huh?",
      "PostDate": "2007-12-19T04:44:12+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "14270",
      "UserId": 0,
      "Username": "Elexxorine",
      "UserAvatar": null,
      "UserGravatar": "a220ee44d8fe2f07029cf1f61b98bf40",
      "EditableText": "[quote=&quot;Merrie&quot;:2t2xcuha][...] display a weather description every four hours in game [...][/quote:2t2xcuha]By in game time I assume you don't want 4 hours of real life, which is a lnog time to play a game. Here's what I propose, put the following in the define game block:[code:2t2xcuha]define variable &lt;min2&gt;\n\tvalue &lt;0&gt;\n\ttype numeric\n\tdisplay &lt;Time&#58; %hours%&#58;%min1%%min2%&#46;&gt;\n\tonchange if ( %min2% &gt; 9 ) then {\n\t\tset &lt;min2; 0&gt;\n\t\tinc &lt;min1&gt;\n\t}\nend define\n\ndefine variable &lt;min1&gt;\n\tvalue &lt;1&gt;\n\ttype numeric\n\tonchange if ( %min1% &gt; 5 ) then {\n\t\tset &lt;min1; 0&gt;\n\t\tinc &lt;hours&gt;\n\t}\nend define\n\ndefine variable &lt;hours&gt;\n\tvalue &lt;7&gt;\n\ttype numeric\n\tonchange {\n\t\tif ( %hours% &gt; 23 ) then set &lt;hours; 0&gt;\n\t\tif ( %hours% = 0 ) or ( %hours% = 4 ) or ( %hours% = 8 ) or ( %hours% = 12 ) or ( \n\n%hours% = 16 ) or ( %hours% = 20 ) or ( %hours% = 24 ) then {\n\t\t\tdo &lt;weather&gt;\n\t\t}\n\t}\nend define\n\ndefine variable &lt;weathers&gt;\n\tvalue &lt;Fine&gt;\n\ttype string\n\tdisplay &lt;Weather&#58; $capfirst(#weathers#)$&#46;&gt;\n\tonchange msg &lt;The weather is now #weathers#&#46;&gt;\nend define\n\nstart {\n\tset string &lt;weather&#91;1&#93;; fine&gt;\n\tset string &lt;weather&#91;2&#93;; rain&gt;\n\tset string &lt;weather&#91;3&#93;; heavy rain&gt;\n\tset string &lt;weather&#91;4&#93;; overcast&gt;\n\tset string &lt;weather&#91;5&#93;; clear&gt;\n\tset string &lt;weather&#91;6&#93;; cold&gt;\n\tset string &lt;weather&#91;7&#93;; stormy&gt;\n}[/code:2t2xcuha]This'll display in-game time in the side pannel, the onchange codes make them work together to make the time right (there's two minute varaibles to make it look right, you don't get '10:3'). Outside the define game block:[code:2t2xcuha]define timer &lt;time&gt;\n\tinterval &lt;4&gt;\n\taction inc &lt;min2&gt;\n\tenabled\nend define\n\ndefine procedure &lt;weather&gt;\n\tset numeric &lt;weathern; $rand(1;7)$&gt;\n\tset string &lt;weathers; #weather&#91;weathern&#93;#&gt;\nend define[/code:2t2xcuha]This should work how you want it...",
      "EditableFormat": "bbcode",
      "HTML": "<blockquote><cite>Merrie wrote:</cite>[...] display a weather description every four hours in game [...]</blockquote>By in game time I assume you don't want 4 hours of real life, which is a lnog time to play a game. Here's what I propose, put the following in the define game block:<pre><code>define variable &lt;min2&gt;<br/>\tvalue &lt;0&gt;<br/>\ttype numeric<br/>\tdisplay &lt;Time&#58; %hours%&#58;%min1%%min2%&#46;&gt;<br/>\tonchange if ( %min2% &gt; 9 ) then {<br/>\t\tset &lt;min2; 0&gt;<br/>\t\tinc &lt;min1&gt;<br/>\t}<br/>end define<br/><br/>define variable &lt;min1&gt;<br/>\tvalue &lt;1&gt;<br/>\ttype numeric<br/>\tonchange if ( %min1% &gt; 5 ) then {<br/>\t\tset &lt;min1; 0&gt;<br/>\t\tinc &lt;hours&gt;<br/>\t}<br/>end define<br/><br/>define variable &lt;hours&gt;<br/>\tvalue &lt;7&gt;<br/>\ttype numeric<br/>\tonchange {<br/>\t\tif ( %hours% &gt; 23 ) then set &lt;hours; 0&gt;<br/>\t\tif ( %hours% = 0 ) or ( %hours% = 4 ) or ( %hours% = 8 ) or ( %hours% = 12 ) or ( <br/><br/>%hours% = 16 ) or ( %hours% = 20 ) or ( %hours% = 24 ) then {<br/>\t\t\tdo &lt;weather&gt;<br/>\t\t}<br/>\t}<br/>end define<br/><br/>define variable &lt;weathers&gt;<br/>\tvalue &lt;Fine&gt;<br/>\ttype string<br/>\tdisplay &lt;Weather&#58; $capfirst(#weathers#)$&#46;&gt;<br/>\tonchange msg &lt;The weather is now #weathers#&#46;&gt;<br/>end define<br/><br/>start {<br/>\tset string &lt;weather&#91;1&#93;; fine&gt;<br/>\tset string &lt;weather&#91;2&#93;; rain&gt;<br/>\tset string &lt;weather&#91;3&#93;; heavy rain&gt;<br/>\tset string &lt;weather&#91;4&#93;; overcast&gt;<br/>\tset string &lt;weather&#91;5&#93;; clear&gt;<br/>\tset string &lt;weather&#91;6&#93;; cold&gt;<br/>\tset string &lt;weather&#91;7&#93;; stormy&gt;<br/>}</code></pre>This'll display in-game time in the side pannel, the onchange codes make them work together to make the time right (there's two minute varaibles to make it look right, you don't get '10:3'). Outside the define game block:<pre><code>define timer &lt;time&gt;<br/>\tinterval &lt;4&gt;<br/>\taction inc &lt;min2&gt;<br/>\tenabled<br/>end define<br/><br/>define procedure &lt;weather&gt;<br/>\tset numeric &lt;weathern; $rand(1;7)$&gt;<br/>\tset string &lt;weathers; #weather&#91;weathern&#93;#&gt;<br/>end define</code></pre>This should work how you want it...",
      "PostDate": "2007-12-19T09:35:25+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "14274",
      "UserId": 0,
      "Username": "Merrie",
      "UserAvatar": null,
      "UserGravatar": "df5eb31c904dc50d0a8d5682a1a328b3",
      "EditableText": "Thank you both very much, as to the time it was just a random figure I threw out. Actually what I'm working on is a ongoing MUCK style game. I have quite a few friends who like this style of text game but setting up a MUCK or MUD is a pain in the tushie. I've done it a few times, I know <!-- s:) --><img src=\"{SMILIES_PATH}/icon_smile.gif\" alt=\":)\" title=\"Smile\" /><!-- s:) --> The only part of this I'm really unsure about is persistent player information, or saving players, but I'll jump that bridge when I get to it.",
      "EditableFormat": "bbcode",
      "HTML": "Thank you both very much, as to the time it was just a random figure I threw out. Actually what I'm working on is a ongoing MUCK style game. I have quite a few friends who like this style of text game but setting up a MUCK or MUD is a pain in the tushie. I've done it a few times, I know <!-- s:) --><img src=\"{SMILIES_PATH}/icon_smile.gif\" alt=\":)\" title=\"Smile\" /><!-- s:) --> The only part of this I'm really unsure about is persistent player information, or saving players, but I'll jump that bridge when I get to it.",
      "PostDate": "2007-12-19T15:54:37+00:00",
      "LastEditDate": null
    }
  ]
}
