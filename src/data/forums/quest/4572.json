{
  "Topic": {
    "TopicId": "4572",
    "ForumId": "10",
    "Title": "Updating inventory verbs",
    "LastUpdated": "2016-01-28T08:37:28+00:00",
    "ReplyCount": 15
  },
  "Posts": [
    {
      "PostId": "30043",
      "UserId": 0,
      "Username": "The Pixie",
      "UserAvatar": null,
      "UserGravatar": "cfa37e927f96177bcf6053ae8f108f77",
      "EditableText": "Objects have lists associated with them called displayverbs and inventoryverbs. If you change these during a game, the UI should update to reflect the change. This seems tobe fine with the desk top version, but not with the web player. Adding a new verb is fine, but if you try to remove a verb that is currently showing, it stays there, and only gets removed when you go elsewhere.\n\nIs there a way to force this tio update?",
      "EditableFormat": "bbcode",
      "HTML": "Objects have lists associated with them called displayverbs and inventoryverbs. If you change these during a game, the UI should update to reflect the change. This seems tobe fine with the desk top version, but not with the web player. Adding a new verb is fine, but if you try to remove a verb that is currently showing, it stays there, and only gets removed when you go elsewhere.<br/><br/>Is there a way to force this tio update?",
      "PostDate": "2014-09-04T14:38:52+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "40935",
      "UserId": 0,
      "Username": "Quantus",
      "UserAvatar": null,
      "UserGravatar": "35a21115ef82667ce2865ae6db5011e6",
      "EditableText": "This is the exact same issue I'm currently dealing with.  Is this still an issue with the Web player?  Or is there now code to fix this? \n\nAs a work around, I have found that you can remove/add the object a certain way, which works, but it will deselect the object in your inventory.  The other option is to create two objects and swap them out on the fly, but that also deselects the object.  This is only an issue with the web version.",
      "EditableFormat": "bbcode",
      "HTML": "This is the exact same issue I'm currently dealing with.  Is this still an issue with the Web player?  Or is there now code to fix this? <br/><br/>As a work around, I have found that you can remove/add the object a certain way, which works, but it will deselect the object in your inventory.  The other option is to create two objects and swap them out on the fly, but that also deselects the object.  This is only an issue with the web version.",
      "PostDate": "2016-01-24T18:22:49+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "40961",
      "UserId": 0,
      "Username": "The Pixie",
      "UserAvatar": null,
      "UserGravatar": "cfa37e927f96177bcf6053ae8f108f77",
      "EditableText": "I have just tried this with an on-line game and it works okay for me. Can you give any more details of what you are trying to do? i just did this:\n[code:15rzbdj2]list remove (ball&#46;displayverbs, &quot;Bounce&quot;)[/code:15rzbdj2]",
      "EditableFormat": "bbcode",
      "HTML": "I have just tried this with an on-line game and it works okay for me. Can you give any more details of what you are trying to do? i just did this:<br/><pre><code>list remove (ball&#46;displayverbs, &quot;Bounce&quot;)</code></pre>",
      "PostDate": "2016-01-25T13:38:10+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "40994",
      "UserId": 0,
      "Username": "Quantus",
      "UserAvatar": null,
      "UserGravatar": "35a21115ef82667ce2865ae6db5011e6",
      "EditableText": "[quote=&quot;The Pixie&quot;:uxg7ws9b]I have just tried this with an on-line game and it works okay for me. Can you give any more details of what you are trying to do? i just did this:\n[code:uxg7ws9b]list remove (ball&#46;displayverbs, &quot;Bounce&quot;)[/code:uxg7ws9b][/quote:uxg7ws9b]\n\nOn the web version, I created an object called basketball.  I set it to verb take.  In the inventory I set a verb called dribble.  After you click dribble its supposed to remove the verb and replace it with shoot.  Which it does, but only if you drop the ball by typing the command, and use the verb Take to put the ball back in the inventory.  It will show shoot instead of dribble. This is just an example, but this same scenario and code works fine on the pc version.",
      "EditableFormat": "bbcode",
      "HTML": "<blockquote><cite>The Pixie wrote:</cite>I have just tried this with an on-line game and it works okay for me. Can you give any more details of what you are trying to do? i just did this:<br/><pre><code>list remove (ball&#46;displayverbs, &quot;Bounce&quot;)</code></pre></blockquote><br/><br/>On the web version, I created an object called basketball.  I set it to verb take.  In the inventory I set a verb called dribble.  After you click dribble its supposed to remove the verb and replace it with shoot.  Which it does, but only if you drop the ball by typing the command, and use the verb Take to put the ball back in the inventory.  It will show shoot instead of dribble. This is just an example, but this same scenario and code works fine on the pc version.",
      "PostDate": "2016-01-26T16:21:27+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "40998",
      "UserId": 0,
      "Username": "The Pixie",
      "UserAvatar": null,
      "UserGravatar": "cfa37e927f96177bcf6053ae8f108f77",
      "EditableText": "That is pretty much what I did, and it worked okay for me. You can play it here:\n<!-- m --><a class=\"postlink\" href=\"http://textadventures.co.uk/games/view/z-gggjwfjkqbxdht0xsqeq/online-test\">http://textadventures.co.uk/games/view/ ... nline-test</a><!-- m -->\n\nIs it dependent on the computer or browser? I amn using Firefox on Win7.",
      "EditableFormat": "bbcode",
      "HTML": "That is pretty much what I did, and it worked okay for me. You can play it here:<br/><!-- m --><a class=\"postlink\" href=\"http://textadventures.co.uk/games/view/z-gggjwfjkqbxdht0xsqeq/online-test\">http://textadventures.co.uk/games/view/ ... nline-test</a><!-- m --><br/><br/>Is it dependent on the computer or browser? I amn using Firefox on Win7.",
      "PostDate": "2016-01-26T18:10:13+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "41001",
      "UserId": 0,
      "Username": "Quantus",
      "UserAvatar": null,
      "UserGravatar": "35a21115ef82667ce2865ae6db5011e6",
      "EditableText": "Whats the balls verb supposed to change too?  In the panes i do not see a change when i click bounce.\n\nIt also says 'I dont understand your command' when i click it.",
      "EditableFormat": "bbcode",
      "HTML": "Whats the balls verb supposed to change too?  In the panes i do not see a change when i click bounce.<br/><br/>It also says 'I dont understand your command' when i click it.",
      "PostDate": "2016-01-26T20:16:40+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "41002",
      "UserId": 0,
      "Username": "The Pixie",
      "UserAvatar": null,
      "UserGravatar": "cfa37e927f96177bcf6053ae8f108f77",
      "EditableText": "Bounce does not do anything, but it should disappear when you JUMP.",
      "EditableFormat": "bbcode",
      "HTML": "Bounce does not do anything, but it should disappear when you JUMP.",
      "PostDate": "2016-01-26T20:28:01+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "41031",
      "UserId": 0,
      "Username": "Quantus",
      "UserAvatar": null,
      "UserGravatar": "35a21115ef82667ce2865ae6db5011e6",
      "EditableText": "I think my problem might be happening because the verb removes itself when you click it.  I might need to have two verbs instead of trying to set it up to toggle.",
      "EditableFormat": "bbcode",
      "HTML": "I think my problem might be happening because the verb removes itself when you click it.  I might need to have two verbs instead of trying to set it up to toggle.",
      "PostDate": "2016-01-27T18:53:25+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "41033",
      "UserId": 0,
      "Username": "Quantus",
      "UserAvatar": null,
      "UserGravatar": "35a21115ef82667ce2865ae6db5011e6",
      "EditableText": "Im now getting this error:\n\nError running script&#058; Cannot modify the contents of this list as it is defined by an inherited type. Clone it before attempting to modify.",
      "EditableFormat": "bbcode",
      "HTML": "Im now getting this error:<br/><br/>Error running script&#058; Cannot modify the contents of this list as it is defined by an inherited type. Clone it before attempting to modify.",
      "PostDate": "2016-01-27T19:22:57+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "41035",
      "UserId": 0,
      "Username": "jaynabonne",
      "UserAvatar": "6579_1344778256.jpg",
      "UserGravatar": "379859a7f1952a65399fc63997e68f0b",
      "EditableText": "To fix that, simply assign the list attribute to itself before you attempt to modify it (as strange as that might sound). Writing the list attribute makes a copy you can then do things to.",
      "EditableFormat": "bbcode",
      "HTML": "To fix that, simply assign the list attribute to itself before you attempt to modify it (as strange as that might sound). Writing the list attribute makes a copy you can then do things to.",
      "PostDate": "2016-01-27T19:33:04+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "41040",
      "UserId": 0,
      "Username": "Quantus",
      "UserAvatar": null,
      "UserGravatar": "35a21115ef82667ce2865ae6db5011e6",
      "EditableText": "[quote=&quot;jaynabonne&quot;:143842r8]To fix that, simply assign the list attribute to itself before you attempt to modify it (as strange as that might sound). Writing the list attribute makes a copy you can then do things to.[/quote:143842r8]\n\nTrying to understand this.  Seems like I read something about it before on another thread.",
      "EditableFormat": "bbcode",
      "HTML": "<blockquote><cite>jaynabonne wrote:</cite>To fix that, simply assign the list attribute to itself before you attempt to modify it (as strange as that might sound). Writing the list attribute makes a copy you can then do things to.</blockquote><br/><br/>Trying to understand this.  Seems like I read something about it before on another thread.",
      "PostDate": "2016-01-27T21:02:16+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "41045",
      "UserId": 0,
      "Username": "jaynabonne",
      "UserAvatar": "6579_1344778256.jpg",
      "UserGravatar": "379859a7f1952a65399fc63997e68f0b",
      "EditableText": "When you have an object of a type that has a list attribute, all the objects of that type share the same attribute until the attribute gets rewritten on a per-object basis. Until it's been rewritten, the attribute is shared and so is not able to be modified - otherwise, you'd change the attribute for every object sharing it. And when a list gets assigned to an object's attribute, a *copy* of the list is assigned, not the original. (I ran into this once where I assigned a list to an attribute and then added members to my local copy of the list, and it didn't add to the attribute, since the attribute was a copy.)\n\nSo, long story short, if you assign an object's list attribute to itself, then it actually assigns a copy of the original type-based list, and then your object has a unique copy of the list it can modify.",
      "EditableFormat": "bbcode",
      "HTML": "When you have an object of a type that has a list attribute, all the objects of that type share the same attribute until the attribute gets rewritten on a per-object basis. Until it's been rewritten, the attribute is shared and so is not able to be modified - otherwise, you'd change the attribute for every object sharing it. And when a list gets assigned to an object's attribute, a *copy* of the list is assigned, not the original. (I ran into this once where I assigned a list to an attribute and then added members to my local copy of the list, and it didn't add to the attribute, since the attribute was a copy.)<br/><br/>So, long story short, if you assign an object's list attribute to itself, then it actually assigns a copy of the original type-based list, and then your object has a unique copy of the list it can modify.",
      "PostDate": "2016-01-27T21:52:32+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "41046",
      "UserId": 0,
      "Username": "The Pixie",
      "UserAvatar": null,
      "UserGravatar": "cfa37e927f96177bcf6053ae8f108f77",
      "EditableText": "You can also add a verb and then remove it for the object in the editor (or remove a verb and put it back). That also sets the list as an attribute on the object, rather than an inherited attribute.",
      "EditableFormat": "bbcode",
      "HTML": "You can also add a verb and then remove it for the object in the editor (or remove a verb and put it back). That also sets the list as an attribute on the object, rather than an inherited attribute.",
      "PostDate": "2016-01-27T22:33:33+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "41047",
      "UserId": 0,
      "Username": "Quantus",
      "UserAvatar": null,
      "UserGravatar": "35a21115ef82667ce2865ae6db5011e6",
      "EditableText": "[quote=&quot;The Pixie&quot;:2mx8pmz3]You can also add a verb and then remove it for the object in the editor (or remove a verb and put it back). That also sets the list as an attribute on the object, rather than an inherited attribute.[/quote:2mx8pmz3]\n\nIf you could change your example to add the verb 'bounce' when you jump instead, that would be what I need.",
      "EditableFormat": "bbcode",
      "HTML": "<blockquote><cite>The Pixie wrote:</cite>You can also add a verb and then remove it for the object in the editor (or remove a verb and put it back). That also sets the list as an attribute on the object, rather than an inherited attribute.</blockquote><br/><br/>If you could change your example to add the verb 'bounce' when you jump instead, that would be what I need.",
      "PostDate": "2016-01-28T02:48:30+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "41048",
      "UserId": 0,
      "Username": "Quantus",
      "UserAvatar": null,
      "UserGravatar": "35a21115ef82667ce2865ae6db5011e6",
      "EditableText": "I basically have it working the way a I want now.  I did have to add/remove the inventory verb using 'inventoryverbs' instead of 'displayverbs' at the beginning of the game script.  Then, in order to get the verb to 'add'  I had to remove the item from the inventory, and run a script after .01 seconds to put it back into the inventory.  It works fine this way, and it 'adds' perfectly.  It happens so fast there is not any notice of item having been removed and added back to the inventory.",
      "EditableFormat": "bbcode",
      "HTML": "I basically have it working the way a I want now.  I did have to add/remove the inventory verb using 'inventoryverbs' instead of 'displayverbs' at the beginning of the game script.  Then, in order to get the verb to 'add'  I had to remove the item from the inventory, and run a script after .01 seconds to put it back into the inventory.  It works fine this way, and it 'adds' perfectly.  It happens so fast there is not any notice of item having been removed and added back to the inventory.",
      "PostDate": "2016-01-28T03:20:42+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "41050",
      "UserId": 0,
      "Username": "The Pixie",
      "UserAvatar": null,
      "UserGravatar": "cfa37e927f96177bcf6053ae8f108f77",
      "EditableText": "Here it is working as you require:\n\n<!-- m --><a class=\"postlink\" href=\"http://textadventures.co.uk/games/view/z-gggjwfjkqbxdht0xsqeq/online-test\">http://textadventures.co.uk/games/view/ ... nline-test</a><!-- m -->\n\nI could not get it to work using [i:15lydom2]list add[/i:15lydom2], I had to replace the whole list (which would also solve the &quot;Cannot modify the contents of this list as it is defined by an inherited type&quot; error).\n[code:15lydom2]ball&#46;displayverbs = Split(&quot;Look at,Take,Bounce&quot;, &quot;,&quot;)[/code:15lydom2]\nI have updated the thread in the libraries forum to reflect this issue, thanks for bringing it up.",
      "EditableFormat": "bbcode",
      "HTML": "Here it is working as you require:<br/><br/><!-- m --><a class=\"postlink\" href=\"http://textadventures.co.uk/games/view/z-gggjwfjkqbxdht0xsqeq/online-test\">http://textadventures.co.uk/games/view/ ... nline-test</a><!-- m --><br/><br/>I could not get it to work using <span style=\"font-style:italic;\">list add</span>, I had to replace the whole list (which would also solve the &quot;Cannot modify the contents of this list as it is defined by an inherited type&quot; error).<br/><pre><code>ball&#46;displayverbs = Split(&quot;Look at,Take,Bounce&quot;, &quot;,&quot;)</code></pre><br/>I have updated the thread in the libraries forum to reflect this issue, thanks for bringing it up.",
      "PostDate": "2016-01-28T08:37:28+00:00",
      "LastEditDate": null
    }
  ]
}
