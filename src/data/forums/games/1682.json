{
  "Topic": {
    "TopicId": "1682",
    "ForumId": "5",
    "Title": "Preview game",
    "LastUpdated": "2008-01-23T16:39:59+00:00",
    "ReplyCount": 16
  },
  "Posts": [
    {
      "PostId": "13364",
      "UserId": 0,
      "Username": "paul_one",
      "UserAvatar": null,
      "UserGravatar": "fef8a1875028f4300bb683f29c432894",
      "EditableText": "Right,\r\n\r\nI'm creating a little preview which has at the moment 4 rooms and about 5 objects.\r\n\r\nThis [b:1p2urt98]will[/b:1p2urt98] grow, please be aware this is a [b:1p2urt98]work in progress[/b:1p2urt98]!\r\n\r\nWhat I would love is if some people (the more the merrier) could download this, and give more suggestions on what is helpful.\r\nEven if you think it's stupid - it will help out.\r\n\r\nlinky:\r\n&lt;invalid&gt;\r\n\r\nOnce I am able to get a suitable amount of work done on this, then I will start on my small IF game later on in the summer, or early autumn.",
      "EditableFormat": "bbcode",
      "HTML": "Right,<br/><br/>I'm creating a little preview which has at the moment 4 rooms and about 5 objects.<br/><br/>This <span style=\"font-weight:bold;\">will</span> grow, please be aware this is a <span style=\"font-weight:bold;\">work in progress</span>!<br/><br/>What I would love is if some people (the more the merrier) could download this, and give more suggestions on what is helpful.<br/>Even if you think it's stupid - it will help out.<br/><br/>linky:<br/>&lt;invalid&gt;<br/><br/>Once I am able to get a suitable amount of work done on this, then I will start on my small IF game later on in the summer, or early autumn.",
      "PostDate": "2007-05-08T17:03:10+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "13367",
      "UserId": 0,
      "Username": "Elexxorine",
      "UserAvatar": null,
      "UserGravatar": "a220ee44d8fe2f07029cf1f61b98bf40",
      "EditableText": "Link's not working...",
      "EditableFormat": "bbcode",
      "HTML": "Link's not working...",
      "PostDate": "2007-05-09T09:00:47+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "13368",
      "UserId": 0,
      "Username": "paul_one",
      "UserAvatar": null,
      "UserGravatar": "fef8a1875028f4300bb683f29c432894",
      "EditableText": "Yeah, the link's to my home PC - and I turned it off to sleep..\r\n\r\nHere's the full code;\r\n[b:1sjgwu9u][updated below][/b:1sjgwu9u]",
      "EditableFormat": "bbcode",
      "HTML": "Yeah, the link's to my home PC - and I turned it off to sleep..<br/><br/>Here's the full code;<br/><span style=\"font-weight:bold;\">[updated below]</span>",
      "PostDate": "2007-05-09T11:03:42+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "13369",
      "UserId": 0,
      "Username": "paul_one",
      "UserAvatar": null,
      "UserGravatar": "fef8a1875028f4300bb683f29c432894",
      "EditableText": "[b:1cmj61yw]=============\n.. Ok, indenting *FINALLY* works now...\n=============[/b:1cmj61yw]",
      "EditableFormat": "bbcode",
      "HTML": "<span style=\"font-weight:bold;\">=============<br/>.. Ok, indenting *FINALLY* works now...<br/>=============</span>",
      "PostDate": "2007-05-09T11:04:34+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "13551",
      "UserId": 0,
      "Username": "paul_one",
      "UserAvatar": null,
      "UserGravatar": "fef8a1875028f4300bb683f29c432894",
      "EditableText": "Just solved indenting..\r\n\r\nTook me a while, but it suddenly came to me today - using |xn you can output a string with spaces, and indent a line.. So now I can proceed...\r\nWhere the hell was I with this?",
      "EditableFormat": "bbcode",
      "HTML": "Just solved indenting..<br/><br/>Took me a while, but it suddenly came to me today - using |xn you can output a string with spaces, and indent a line.. So now I can proceed...<br/>Where the hell was I with this?",
      "PostDate": "2007-07-17T13:26:31+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "13553",
      "UserId": 0,
      "Username": "Elexxorine",
      "UserAvatar": null,
      "UserGravatar": "a220ee44d8fe2f07029cf1f61b98bf40",
      "EditableText": "It's shaping up Tron. Good work, lolz.",
      "EditableFormat": "bbcode",
      "HTML": "It's shaping up Tron. Good work, lolz.",
      "PostDate": "2007-07-17T13:40:17+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "13622",
      "UserId": 0,
      "Username": "paul_one",
      "UserAvatar": null,
      "UserGravatar": "fef8a1875028f4300bb683f29c432894",
      "EditableText": "Ok peeps, I don't care if anyone likes indenting with directions now - I love them, and so does the guy working next to me.. That's enough for me!\r\n\r\nAltered bottle a tiny bit too.. It used to be so if you typed one of these:[quote:dck39pgz]hit bottle with bottle\nhit bottle with bottle, hit bottle[/quote:dck39pgz]and selected green bottle for them - that you'd have weird things happen (green bottle hitting and breaking the green bottle :S). Works sensibly now though.",
      "EditableFormat": "bbcode",
      "HTML": "Ok peeps, I don't care if anyone likes indenting with directions now - I love them, and so does the guy working next to me.. That's enough for me!<br/><br/>Altered bottle a tiny bit too.. It used to be so if you typed one of these:<blockquote><p>hit bottle with bottle<br/>hit bottle with bottle, hit bottle</p></blockquote>and selected green bottle for them - that you'd have weird things happen (green bottle hitting and breaking the green bottle :S). Works sensibly now though.",
      "PostDate": "2007-08-04T01:45:10+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "13634",
      "UserId": 0,
      "Username": "paul_one",
      "UserAvatar": null,
      "UserGravatar": "fef8a1875028f4300bb683f29c432894",
      "EditableText": "This is now the current preview.asl:\r\n[code:2w7xl9bd]' Preview to see how the system can deal with\n' stuff nicely&#46;\n' Including nice default error messages, good responses, descriptions, and general level of interactivity&#46;\n' containers, surfaces, items, exits and rooms too&#46;\n' Created by Tr0nÂ²\n\n!include &lt;common&#46;qlb&gt;\n\ndefine game &lt;Preview&gt;\n\tasl-version &lt;400&gt;\n\tgametype singleplayer\n\tstart &lt;start&gt;\n\tgame version &lt;0&#46;15&gt;\n\tgame author &lt;Tr0nÂ²&gt;\n\tgame info &lt;A simple IF game, previewing the interactive level&#46;&gt;\n\t\n\tproperties &lt;posture=standing&gt;\n\n\tstartscript &#123;\n\t\tset string &lt;one; yes&gt;\n\t\tset string &lt;two; yes&gt;\n\t\tset string &lt;three; no&gt;\n\t&#125;\n\tcommand &lt;t&#46;f1&gt; flag on &lt;mirror_in_use&gt;\n\tcommand &lt;t&#46;f11&gt; flag off &lt;mirror_in_use&gt;\n\tcommand &lt;t&#46;f2&gt; flag on &lt;darkness&gt;\n\tcommand &lt;t&#46;f22&gt; flag off &lt;darkness&gt;\n\tcommand &lt;t&#46;in&gt; debug &lt;$indent&#40;lets see here!|nthis should|ncome out|nas lines; 3&#41;$&gt;\n\tcommand &lt;t&#46;in2&gt; debug &lt;$indent&#40;this should&#46;|ncome out even&#46;|further out!; 20&#41;$ &gt;\n\tcommand &lt;t&#46;last&gt; msg &lt;#quest&#46;lastcommand#&gt;\n\nend define\n\ndefine room &lt;start&gt;\n\talias &lt;Wooded Glade&gt;\n\tprefix &lt;a&gt;\n\tlook &lt;You are all alone, tree's surround you, the grass is soft under your shoes and the morning light is dripping into the hole above you&#46;&gt;\n\n\tcomand &lt;yell;shout;cry out&gt; &#123;\n\t\texec &lt;yell; normal&gt;\n\t\tmsg &lt;The surrounding bushes seem to shuffle and look at you suspiciously&#46;&gt;\n\t&#125;\n\n\tdefine object &lt;treestump&gt;\n\t\talias &lt;Treestump&gt;\n\t\talt &lt;stump;treest&gt;\n\t\tprefix &lt;a&gt;\n\t\tlook &lt;The Oak Treestump looks like it is old, and many carvings are on the top&#46;&gt;\n\t\ttype &lt;surface&gt;\n\n\t\tlist empty exec &lt;look at carvings&gt;\n\t\tproperties &lt;kick=You kick the Treestump in frustration, and then limp around for a few seconds&#46;&gt;\n\n\tend define\n\n\tdefine object &lt;carvings&gt;\n\t\talt &lt;wooden carvings;enscriptions;markings&gt;\n\t\tprefix &lt;the&gt;\n\t\talias &lt;Carvings&gt;\n\t\tlook &lt;Some of the carvings are so old you can't make out if they were faces or rude pictures - possibly both&#46;&#46; Others are more recent&#46;|nYou see |b&quot;I will love you always&#46;&#46;&quot;|xb &gt;\n\t\tparent &lt;treestump&gt;\n\t\tproperties &lt;invisible&gt;\n\n\tend define\n\n\tdefine object &lt;trees&gt;\n\t\talt &lt;tree;woods;branches;leaves;glade&gt;\n\t\tprefix &lt;the&gt;\n\t\talias &lt;trees&gt;\n\t\tlook &lt;You look at the trees surrounding you, they all appear to be more or less the same&#46;|nThere are breaks in the circle to the north, east and south&#46;&gt;\n\t\tproperties &lt;invisible&gt;\n\n\tend define\n\t\n\tdefine object &lt;gbottle&gt;\n\t\talt &lt;bottle;green b;g bottle;btl&gt;\n\t\talias &lt;Green Bottle&gt;\n\t\tlook &lt;An empty green bottle&#46;&gt;\n\t\ttype &lt;bottle&gt;\n\n\t\tproperties &lt;gender=him&gt;\n\n\tend define\n\n\tdefine object &lt;rbottle&gt;\n\t\talt &lt;bottle;red b;rbottle;btl&gt;\n\t\talias &lt;Red Bottle&gt;\n\t\tlook &lt;An empty red bottle&#46;&gt;\n\t\ttype &lt;bottle&gt;\n\n\tend define\n\n\tdefine object &lt;boot&gt;\n\t\talt &lt;boot;shoe;heel&gt;\n\t\talias &lt;Leather Boot&gt;\n\t\tlook &lt;A leather boot, slightly scuffed and worn - but smells of dandylions!&gt;\n\t\ttype &lt;object&gt;\n\n\tend define\n\n\tdefine object &lt;feather&gt;\n\t\tproperties &lt;soft&gt;\n\tend define\n\n\tnorth &lt;room3&gt;\n\teast &lt;room4&gt;\n\tsouth &lt;room2&gt;\n\t\nend define\n\ndefine room &lt;room2&gt;\n\talias &lt;Small Beaten Path&gt;\n\tprefix &lt;a&gt;\n\tlook &lt;This small beaten path seems to wind Southwards through the trees&#46;&#46;&gt;\n\n\tdefine object &lt;beatenpath&gt;\n\t\talias &lt;Path&gt;\n\t\talt &lt;beaten path;small path;small beaten path;ground;floor;dirt;_\n\t\t\tbracken;twigs;sticks&gt;\n\t\tprefix &lt;the&gt;\n\t\tlook &lt;You look at the small beaten pathway between the trees&#46; Twigs lay like green or brown worms over the lighter dirt path&#46;&gt;\n\n\t\tproperties &lt;invisible&gt;\n\tend define\n\n\tnorth &lt;start&gt;\nend define\n\ndefine room &lt;room3&gt;\n\talias &lt;Dusty Road&gt;\n\tprefix &lt;a&gt;\n\tlook &lt;The dusty road appears to drift off Northwards, deviding the fields that lay ahead into two as if some god had half heartedly started to saw through the land and just given up after marking it&#46;&gt;\n\n\tdefine object &lt;dustyroad&gt;\n\t\talias &lt;Road&gt;\n\t\talt &lt;dusty road;road;ground;floor;dirt&gt;\n\t\tprefix &lt;the&gt;\n\t\tlook &lt;The road is quite wide, and shows some grass in patches, like mini-islands in a sea of sand&#46; Greenery grows either side, giving the fields beyond them boundaries, presumably to stop the road from consuming the rest&#46;&gt;\n\n\t\tproperties &lt;invisible&gt;\n\tend define\n\n\tsouth &lt;start&gt;\nend define\n\ndefine room &lt;room4&gt;\n\talias &lt;Cobbled Road&gt;\n\tprefix &lt;a&gt;\n\tlook &lt;The cobbles here are small and black bubbles on the floor&#46; It heads off Eastwards towards a small town&#46;&gt;\n\n\tdefine object &lt;cobbles&gt;\n\t\talt &lt;cobbles;cobble;ground;road;floor&gt;\n\t\talias &lt;Cobbles&gt;\n\t\tprefix &lt;the&gt;\n\t\tlook &lt;The cobbles under your feet look at if they were a black substance poured over a collection of large marbles&#46;&#46; They have the effect that any coach with circular wheels travelling along it either quickly evolves webbed wheels - or develops \n\t\n\t\tproperties &lt;invisible&gt;\n\tend define\n\n\twest &lt;start&gt;\nend define[/code:2w7xl9bd]",
      "EditableFormat": "bbcode",
      "HTML": "This is now the current preview.asl:<br/><pre><code>' Preview to see how the system can deal with<br/>' stuff nicely&#46;<br/>' Including nice default error messages, good responses, descriptions, and general level of interactivity&#46;<br/>' containers, surfaces, items, exits and rooms too&#46;<br/>' Created by Tr0nÂ²<br/><br/>!include &lt;common&#46;qlb&gt;<br/><br/>define game &lt;Preview&gt;<br/>\tasl-version &lt;400&gt;<br/>\tgametype singleplayer<br/>\tstart &lt;start&gt;<br/>\tgame version &lt;0&#46;15&gt;<br/>\tgame author &lt;Tr0nÂ²&gt;<br/>\tgame info &lt;A simple IF game, previewing the interactive level&#46;&gt;<br/>\t<br/>\tproperties &lt;posture=standing&gt;<br/><br/>\tstartscript &#123;<br/>\t\tset string &lt;one; yes&gt;<br/>\t\tset string &lt;two; yes&gt;<br/>\t\tset string &lt;three; no&gt;<br/>\t&#125;<br/>\tcommand &lt;t&#46;f1&gt; flag on &lt;mirror_in_use&gt;<br/>\tcommand &lt;t&#46;f11&gt; flag off &lt;mirror_in_use&gt;<br/>\tcommand &lt;t&#46;f2&gt; flag on &lt;darkness&gt;<br/>\tcommand &lt;t&#46;f22&gt; flag off &lt;darkness&gt;<br/>\tcommand &lt;t&#46;in&gt; debug &lt;$indent&#40;lets see here!|nthis should|ncome out|nas lines; 3&#41;$&gt;<br/>\tcommand &lt;t&#46;in2&gt; debug &lt;$indent&#40;this should&#46;|ncome out even&#46;|further out!; 20&#41;$ &gt;<br/>\tcommand &lt;t&#46;last&gt; msg &lt;#quest&#46;lastcommand#&gt;<br/><br/>end define<br/><br/>define room &lt;start&gt;<br/>\talias &lt;Wooded Glade&gt;<br/>\tprefix &lt;a&gt;<br/>\tlook &lt;You are all alone, tree's surround you, the grass is soft under your shoes and the morning light is dripping into the hole above you&#46;&gt;<br/><br/>\tcomand &lt;yell;shout;cry out&gt; &#123;<br/>\t\texec &lt;yell; normal&gt;<br/>\t\tmsg &lt;The surrounding bushes seem to shuffle and look at you suspiciously&#46;&gt;<br/>\t&#125;<br/><br/>\tdefine object &lt;treestump&gt;<br/>\t\talias &lt;Treestump&gt;<br/>\t\talt &lt;stump;treest&gt;<br/>\t\tprefix &lt;a&gt;<br/>\t\tlook &lt;The Oak Treestump looks like it is old, and many carvings are on the top&#46;&gt;<br/>\t\ttype &lt;surface&gt;<br/><br/>\t\tlist empty exec &lt;look at carvings&gt;<br/>\t\tproperties &lt;kick=You kick the Treestump in frustration, and then limp around for a few seconds&#46;&gt;<br/><br/>\tend define<br/><br/>\tdefine object &lt;carvings&gt;<br/>\t\talt &lt;wooden carvings;enscriptions;markings&gt;<br/>\t\tprefix &lt;the&gt;<br/>\t\talias &lt;Carvings&gt;<br/>\t\tlook &lt;Some of the carvings are so old you can't make out if they were faces or rude pictures - possibly both&#46;&#46; Others are more recent&#46;|nYou see |b&quot;I will love you always&#46;&#46;&quot;|xb &gt;<br/>\t\tparent &lt;treestump&gt;<br/>\t\tproperties &lt;invisible&gt;<br/><br/>\tend define<br/><br/>\tdefine object &lt;trees&gt;<br/>\t\talt &lt;tree;woods;branches;leaves;glade&gt;<br/>\t\tprefix &lt;the&gt;<br/>\t\talias &lt;trees&gt;<br/>\t\tlook &lt;You look at the trees surrounding you, they all appear to be more or less the same&#46;|nThere are breaks in the circle to the north, east and south&#46;&gt;<br/>\t\tproperties &lt;invisible&gt;<br/><br/>\tend define<br/>\t<br/>\tdefine object &lt;gbottle&gt;<br/>\t\talt &lt;bottle;green b;g bottle;btl&gt;<br/>\t\talias &lt;Green Bottle&gt;<br/>\t\tlook &lt;An empty green bottle&#46;&gt;<br/>\t\ttype &lt;bottle&gt;<br/><br/>\t\tproperties &lt;gender=him&gt;<br/><br/>\tend define<br/><br/>\tdefine object &lt;rbottle&gt;<br/>\t\talt &lt;bottle;red b;rbottle;btl&gt;<br/>\t\talias &lt;Red Bottle&gt;<br/>\t\tlook &lt;An empty red bottle&#46;&gt;<br/>\t\ttype &lt;bottle&gt;<br/><br/>\tend define<br/><br/>\tdefine object &lt;boot&gt;<br/>\t\talt &lt;boot;shoe;heel&gt;<br/>\t\talias &lt;Leather Boot&gt;<br/>\t\tlook &lt;A leather boot, slightly scuffed and worn - but smells of dandylions!&gt;<br/>\t\ttype &lt;object&gt;<br/><br/>\tend define<br/><br/>\tdefine object &lt;feather&gt;<br/>\t\tproperties &lt;soft&gt;<br/>\tend define<br/><br/>\tnorth &lt;room3&gt;<br/>\teast &lt;room4&gt;<br/>\tsouth &lt;room2&gt;<br/>\t<br/>end define<br/><br/>define room &lt;room2&gt;<br/>\talias &lt;Small Beaten Path&gt;<br/>\tprefix &lt;a&gt;<br/>\tlook &lt;This small beaten path seems to wind Southwards through the trees&#46;&#46;&gt;<br/><br/>\tdefine object &lt;beatenpath&gt;<br/>\t\talias &lt;Path&gt;<br/>\t\talt &lt;beaten path;small path;small beaten path;ground;floor;dirt;_<br/>\t\t\tbracken;twigs;sticks&gt;<br/>\t\tprefix &lt;the&gt;<br/>\t\tlook &lt;You look at the small beaten pathway between the trees&#46; Twigs lay like green or brown worms over the lighter dirt path&#46;&gt;<br/><br/>\t\tproperties &lt;invisible&gt;<br/>\tend define<br/><br/>\tnorth &lt;start&gt;<br/>end define<br/><br/>define room &lt;room3&gt;<br/>\talias &lt;Dusty Road&gt;<br/>\tprefix &lt;a&gt;<br/>\tlook &lt;The dusty road appears to drift off Northwards, deviding the fields that lay ahead into two as if some god had half heartedly started to saw through the land and just given up after marking it&#46;&gt;<br/><br/>\tdefine object &lt;dustyroad&gt;<br/>\t\talias &lt;Road&gt;<br/>\t\talt &lt;dusty road;road;ground;floor;dirt&gt;<br/>\t\tprefix &lt;the&gt;<br/>\t\tlook &lt;The road is quite wide, and shows some grass in patches, like mini-islands in a sea of sand&#46; Greenery grows either side, giving the fields beyond them boundaries, presumably to stop the road from consuming the rest&#46;&gt;<br/><br/>\t\tproperties &lt;invisible&gt;<br/>\tend define<br/><br/>\tsouth &lt;start&gt;<br/>end define<br/><br/>define room &lt;room4&gt;<br/>\talias &lt;Cobbled Road&gt;<br/>\tprefix &lt;a&gt;<br/>\tlook &lt;The cobbles here are small and black bubbles on the floor&#46; It heads off Eastwards towards a small town&#46;&gt;<br/><br/>\tdefine object &lt;cobbles&gt;<br/>\t\talt &lt;cobbles;cobble;ground;road;floor&gt;<br/>\t\talias &lt;Cobbles&gt;<br/>\t\tprefix &lt;the&gt;<br/>\t\tlook &lt;The cobbles under your feet look at if they were a black substance poured over a collection of large marbles&#46;&#46; They have the effect that any coach with circular wheels travelling along it either quickly evolves webbed wheels - or develops <br/>\t<br/>\t\tproperties &lt;invisible&gt;<br/>\tend define<br/><br/>\twest &lt;start&gt;<br/>end define</code></pre>",
      "PostDate": "2007-08-11T10:25:43+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "13635",
      "UserId": 0,
      "Username": "paul_one",
      "UserAvatar": null,
      "UserGravatar": "fef8a1875028f4300bb683f29c432894",
      "EditableText": "=============\r\n[b:2ag4xlzd]Fixed some issues,\n (**)[/b:2ag4xlzd] verbs using prefix looked nasty (you don't want to sit on a treestump).\r\n [b:2ag4xlzd](**)[/b:2ag4xlzd] added sit, yell, shout, look at, climb, jump, cry, some violent stuff (which I've said &quot;don't be so graphical&quot;), stop, get up (from sitting down).\r\n[size=150:2ag4xlzd]I'M THE BEST EVER![/size:2ag4xlzd]\r\nwith this library you can now type &quot;kick it&quot; and then type the name of the object afterwards, to make it do that... I'm so bloody clever!\r\n [b:2ag4xlzd](**)[/b:2ag4xlzd] hitting bottle with bottle now works correctly. Seems like a horrible botch to me.. Wish someone would have a look at the bottle type and see if they can come up with something cleaner..\r\n.. fixed the breaking stuff - but this is very much a WIP!! .. verbs no longer work because I've put a default rule in there.. I wish Quest handled commands nicer - perhaps put verbs FIRST.\r\n.. and what is exec &lt;;normal&gt; actually used for? because as far as I can see - it's only useful if you're using a room-specific action? Is that right? Since it means verbs are still ignored.\r\nI've jiggled things about, like an exotic dancer, and have re-invented the verb-wheel.\r\n[b:2ag4xlzd]I think I need to work on jumping off things a tiny bit..[/b:2ag4xlzd]\r\n[b:2ag4xlzd][*MOVED*][/b:2ag4xlzd]\r\n=============\r\n\r\nThis is now the common library:\r\n\r\ncommon.qlb\r\n[b:2ag4xlzd]below[/b:2ag4xlzd]",
      "EditableFormat": "bbcode",
      "HTML": "=============<br/><span style=\"font-weight:bold;\">Fixed some issues,<br/> (**)</span> verbs using prefix looked nasty (you don't want to sit on a treestump).<br/> <span style=\"font-weight:bold;\">(**)</span> added sit, yell, shout, look at, climb, jump, cry, some violent stuff (which I've said &quot;don't be so graphical&quot;), stop, get up (from sitting down).<br/><span style=\"font-size:150\">I'M THE BEST EVER!</span><br/>with this library you can now type &quot;kick it&quot; and then type the name of the object afterwards, to make it do that... I'm so bloody clever!<br/> <span style=\"font-weight:bold;\">(**)</span> hitting bottle with bottle now works correctly. Seems like a horrible botch to me.. Wish someone would have a look at the bottle type and see if they can come up with something cleaner..<br/>.. fixed the breaking stuff - but this is very much a WIP!! .. verbs no longer work because I've put a default rule in there.. I wish Quest handled commands nicer - perhaps put verbs FIRST.<br/>.. and what is exec &lt;;normal&gt; actually used for? because as far as I can see - it's only useful if you're using a room-specific action? Is that right? Since it means verbs are still ignored.<br/>I've jiggled things about, like an exotic dancer, and have re-invented the verb-wheel.<br/><span style=\"font-weight:bold;\">I think I need to work on jumping off things a tiny bit..</span><br/><span style=\"font-weight:bold;\">[*MOVED*]</span><br/>=============<br/><br/>This is now the common library:<br/><br/>common.qlb<br/><span style=\"font-weight:bold;\">below</span>",
      "PostDate": "2007-08-11T10:33:39+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "13845",
      "UserId": 0,
      "Username": "paul_one",
      "UserAvatar": null,
      "UserGravatar": "fef8a1875028f4300bb683f29c432894",
      "EditableText": "[b:3vdl11ho]WOW, fixed ALOT of stuff here.\nputting objects on other objects broke because I used a rubbish command.\nAlso, Quest doesn't handle quest.command properly (I thought it was supposed to be after objects were resolved etc?).[/b:3vdl11ho]\r\n\r\n[code:3vdl11ho]!library\n!asl-version &lt;400&gt;\n!Common library to give room descriptions, and default answers to many commands&#46;\n!Created by Tr0nÂ²\n\n!addto game\n\n\tstartscript &#123;\n\t\tpanes off\n\t\tset string &lt;directions&#91;0&#93;; north&gt;\n\t\tset string &lt;directions&#91;1&#93;; northeast&gt;\n\t\tset string &lt;directions&#91;2&#93;; northwest&gt;\n\t\tset string &lt;directions&#91;3&#93;; east&gt;\n\t\tset string &lt;directions&#91;4&#93;; west&gt;\n\t\tset string &lt;directions&#91;5&#93;; southeast&gt;\n\t\tset string &lt;directions&#91;6&#93;; south&gt;\n\t\tset string &lt;directions&#91;7&#93;; southwest&gt;\n\t\tset string &lt;directions&#91;8&#93;; up&gt;\n\t\tset string &lt;directions&#91;9&#93;; down&gt;\n\t\n\t\tset string &lt;desc&#46;rnd1&#91;0&#93;; in what seems to be,&gt;\n\t\tset string &lt;desc&#46;rnd1&#91;1&#93;; in&gt;\n\t\tset string &lt;desc&#46;rnd1&#91;2&#93;; in, what could be called,&gt;\n\t\tset string &lt;desc&#46;rnd1&#91;3&#93;; inside, what you can only call,&gt;\n\t\tset string &lt;desc&#46;rnd1&#91;4&#93;; inside&gt;\n\t\tset string &lt;desc&#46;rnd1&#91;5&#93;; , looking around&gt;\n\t\tset string &lt;desc&#46;rnd1&#91;6&#93;; in the middle of&gt;\n\n\t\tset string &lt;desc&#46;rnd2&#91;0&#93;; It looks like you can go;&gt;\n\t\tset string &lt;desc&#46;rnd2&#91;1&#93;; You see that you can go;&gt;\n\t\tset string &lt;desc&#46;rnd2&#91;2&#93;; The exits surrounding you are;&gt;\n\t\tset string &lt;desc&#46;rnd2&#91;3&#93;; You may go;&gt;\n\t\tset string &lt;desc&#46;rnd2&#91;4&#93;; You're torn for choice, you can go;&gt;\n\n\t\tset string &lt;desc&#46;rnd3&#91;0&#93;; to&gt;\n\t\tset string &lt;desc&#46;rnd3&#91;1&#93;; toward&gt;\n\t\tset string &lt;desc&#46;rnd3&#91;2&#93;; which is&gt;\n\t\tset string &lt;desc&#46;rnd3&#91;3&#93;; into&gt;\n\n\t&#125;\n\n\tdescription &#123;\n\t\tset numeric &lt;desc&#46;rnd1; $rand&#40;0;6&#41;$ &gt;\n\t\tmsg &lt;You are |cg#game&#58;posture#|cb _\n\t\t\t#desc&#46;rnd1&#91;desc&#46;rnd1&#93;# _\n\t\t\t#&#40;quest&#46;currentroom&#41;&#58;prefix# _\n\t\t\t|cr#&#40;quest&#46;currentroom&#41;&#58;alias#|cb &gt;\n\n\t\tif &#40; $left&#40;#quest&#46;command#;1&#41;$ = l&#41; or _\n\t\tnot property &lt;#quest&#46;currentroom#; been_here&gt; then &#123;\n\t\t\tmsg &lt;#quest&#46;lookdesc#&gt;\n\t\t\tproperty &lt;#quest&#46;currentroom#; been_here&gt;\n\t\t\tif not &#40; #quest&#46;formatobjects# = &#41; then msg &lt;You can see #quest&#46;formatobjects# here&#46; &gt;\n\t\t&#125;\n\n\t\tset numeric &lt;desc&#46;rnd1; $rand&#40;0;4&#41;$ &gt;\n\t\tmsg &lt;#desc&#46;rnd2&#91;desc&#46;rnd1&#93;#&gt;\n\t\tfor &lt;loop&#46;1; 0; 9&gt; &#123;\n\t\t\tif not &#40; $objectproperty&#40;#quest&#46;currentroom#; #directions&#91;loop&#46;1&#93;#&#41;$ = ! &#41; then &#123;\n\t\t\t\tset string &lt;direction&#46;name; $objectproperty&#40;#quest&#46;currentroom#; #directions&#91;loop&#46;1&#93;#&#41;$ &gt;\n\t\t\t\tset numeric &lt;desc&#46;rnd1; $rand&#40;0;3&#41;$ &gt;\n\t\t\t\tmsg &lt;$indent&#40;|cl#directions&#91;loop&#46;1&#93;#|cb #desc&#46;rnd3&#91;desc&#46;rnd1&#93;# #&#40;direction&#46;name&#41;&#58;prefix# |cr#&#40;direction&#46;name&#41;&#58;alias#|cb|xn; 6&#41;$,&gt;\n\t\t\t&#125;\n\t\t&#125;\n\t&#125;\n\n\tafterturn set string &lt;quest&#46;lastcommand; #quest&#46;command#&gt;\n\n\terror &lt;badthing; You don't see anything like that here&#46;&#46;&gt;\n\terror &lt;badcommand; $badcommand$&gt;\n\terror &lt;badgo; It doesn't seem like you can go there&#46;&#46;&gt;\n\terror &lt;defaultout; It doesn't seem like you can go there&#46;&#46;&gt;\n\terror &lt;badgive; You decide that you are a deserving owner, and give to yourself&#46;&#46; You are pleased with your new gift&#46;&gt;\n\terror &lt;badplace; It doesn't seem like you can go there&#46;&#46;&gt;\n\terror &lt;badpronoun; $badit$&gt;\n\terror &lt;badput; You put it into your own hand&#46;&#46;&gt;\n\terror &lt;badtake; You think about it, but decide that you can do without such an item&#46;&#46;&gt;\n\terror &lt;baduse; You try to use it, but can't quite figure out |ihow|xi to&#46;&#46;&gt;\n\terror &lt;defaultuse; You try to use it, but can't quite figure out |ihow|xi to&#46;&#46;&gt;\n\terror &lt;cantdrop; You can't get rid of that!&gt;\n\terror &lt;cantclose; You try your best, but it just won't close&#46;&#46;&gt;\n\terror &lt;cantopen; You try your best, but it just won't open&#46;&#46;&gt;\n\terror &lt;cantremove; You try your best, but you can't remove that&#46;&#46;&gt;\n\terror &lt;cantput; You think that there are better places to put things then |ithere|xi&#46;&#46;&gt;\n\terror &lt;defaultspeak; You suddenly feel something is wrong with you speaking to that&#46;&#46;&gt;\n\terror &lt;noitem; You can't do that if you don't have it first&#46;&#46;&gt;\n\terror &lt;itemunwanted; You decide it's better to hang onto it&#46;&#46;&gt;\n\n\t' This is taken from stdverbs&#46;lib, for standard compatibility&#46;&#46;\n\t' Edited a little because the actions were blurring together\n\tcommand &lt;#cmn&#46;command#&#46; #cmn&#46;command2#; _\n\t\t#cmn&#46;command#, and then #cmn&#46;command2#; _\n\t\t#cmn&#46;command#, then #cmn&#46;command2#; _\n\t\t#cmn&#46;command#, #cmn&#46;command2#; _\n\t\t#cmn&#46;command# and then #cmn&#46;command2#; _\n\t\t#cmn&#46;command# then #cmn&#46;command2#&gt; &#123;\n\t\tmsg &lt;|n|cg|b$symbol&#40;gt&#41;$ #cmn&#46;command#|cb|xb&gt;\n\t\texec &lt;#cmn&#46;command#&gt;\n\t\tpause &lt;500&gt;\n\t\tif &#40; $instr&#40;#cmn&#46;command2#;,&#41;$ = 0 &#41; and _\n\t\t\t&#40; $instr&#40;#cmn&#46;command2#;_then_&#41;$ = 0 &#41; then _\n\t\t\t\tmsg &lt;|n|cg|b$symbol&#40;gt&#41;$ #cmn&#46;command2#|xb|cb&gt;\n\t\texec &lt;#cmn&#46;command2#&gt;\n\t&#125;\n\n\tcommand &lt;look on #@object#;look at #@object#&gt; _\n\t\texec &lt;look at #@object#; normal&gt;\n\tcommand &lt;look at #@object# with #@something#;_\n\t\t\tlook at #@object# in #@something#;_\n\t\t\tlook down #@object# with #@something#;_\n\t\t\tlook in #@object# with #@something#;_\n\t\t\tlook in #@object# using #@something#&gt; &#123;\n\t\tmsg &lt;You angle the #@something# just right, look into it, and see&#46;&#46;&gt;\n\t\tif property &lt; #something#; reflective &gt; then &#123;\n\t\t\tflag on &lt;mirror_in_use&gt;\n\t\t\texec &lt;look at #@object#&gt;\n\t\t\tflag off &lt;mirror_in_use&gt;\n\t\t&#125;\n\t\telse _\n\t\t\texec &lt;look at #@something#&gt;\n\t&#125;\n\tcommand &lt;look around&gt; _\n\t\texec &lt;look&gt;\n\tcommand &lt;look into #@object#&gt; _\n\t\texec &lt;look in #@object#&gt;\n\tcommand &lt;look at ground&gt; _\n\t\tif here &lt;$getobjectname&#40;ground&#41;$&gt; then _\n\t\t\texec &lt;look at ground; normal&gt; _\n\t\telse _\n\t\t\tmsg &lt;You look at your feet, suddenly feeling bashful&#46;&#46;&gt;\n\tcommand &lt;look at sky&gt; _\n\t\tif here &lt;$getobjectname&#40;sky&#41;$&gt; then _\n\t\t\texec &lt;look at sky; normal&gt; _\n\t\telse _\n\t\t\tmsg &lt;You look up, letting your mind wander for a few moments&#46;&#46;&gt;\n\tcommand &lt;look #look&#46;direction#ward;_\n\t\t\tlook #look&#46;direction#wards;_\n\t\t\tlook #look&#46;direction#&gt; &#123;\n\t\tfor &lt;look&#46;loop; 0; 9&gt; _\n\t\t\tif &#40; #look&#46;direction# = #directions&#91;look&#46;loop&#93;# &#41; and _\n\t\t\t\tnot &#40; $objectproperty&#40;#quest&#46;currentroom#; #look&#46;direction#&#41;$ = ! &#41; then _\n\t\t\t\tflag on &lt;look_direction&gt;\n\t\tif flag &lt;look_direction&gt; then &#123;\n\t\t\tset string &lt;look&#46;direction&#46;name; $objectproperty&#40;#quest&#46;currentroom#; #look&#46;direction#&#41;$ &gt;\n\t\t\tmsg &lt;You see the #&#40;look&#46;direction&#46;name&#41;&#58;alias# &#46;&#46;&gt;\n\t\t\tflag off &lt;look_direction&gt;\n\t\t&#125;\n\t\telse _\n\t\t\tselect case &lt;#look&#46;direction#&gt; &#123;\n\t\t\t\tcase &lt;down&gt; _\n\t\t\t\t\texec &lt;look at ground&gt;\n\t\t\t\tcase &lt;up&gt; _\n\t\t\t\t\texec &lt;look at sky&gt;\n\t\t\t\tcase else _\n\t\t\t\t\texec &lt;look #look&#46;direction#; normal&gt;\n\t\t\t&#125;\n\t&#125;\n\n\tcommand &lt;go #direction#;_\n\t\t\tn;north;ne;northeast;e;east;se;southeast;_\n\t\t\ts;south;sw;southwest;w;west;nw;northwest;_\n\t\t\tu;up;d;down&gt; _\n\t\tselect case &lt;#game&#58;posture#&gt; &#123;\n\t\t\tcase &lt;standing; crouching; crawling; limping; crying&gt; _\n\t\t\t\texec &lt;#quest&#46;originalcommand#; normal&gt;\n\t\t\tcase else _\n\t\t\t\tmsg &lt;You can't do that while you're #game&#58;posture#&#46;&#46;&gt;\n\t\t&#125;\n\tcommand &lt;put #@object# and #@object2# and #object3# on #@last_object#; _\n\t\t\tput #@object#, #@object2# and #object3# on #@last_object#; _\n\t\t\tput #@object# and #@object2# on #@last_object#&gt; _\n\t\texec &lt;put #@object# on #@last_object#, put #@object2# on #@last_object#, put #@object3# on #@last_object#&gt;\n\tcommand &lt;put #@object# on #@last_object#&gt; _\n\t\texec &lt;put #@object# on #@last_object#; normal&gt;\n\n\tcommand &lt;sit down; sit up;sit&gt; _\n\t\tdebug &lt;SIT_$posture_change&#40;sit down;sitting;You sit down on the ground and rest&#46;&#46;&#41;$&gt;\n\tcommand &lt;stand up;stand&gt; _\n\t\tdebug &lt;STAND_$posture_change&#40;stand;standing;You stand up, brushing your legs for no real reason&#46;&#41;$&gt;\n\tcommand &lt;lay down;lay;sleep&gt; _\n\t\tif &#40; $posture_change&#40;lay down;laying;|xn&#41;$ = SUCC &#41; then &#123;\n\t\t\tmsg &lt;You lay down, spread your legs out, and |xn&gt;\n\t\t\tif &#40; $rand&#40;1;10&#41;$ = 5 &#41; then _\n\t\t\t\tmsg &lt;|cr`OUCH!`|cb hit your head!&gt; _\n\t\t\telse _\n\t\t\t\tmsg &lt;lay down with your hands behind your head&#46;&gt;\n\t&#125;\n\tcommand &lt;jump&gt; _\n\t\tselect case &lt;$posture_test&#40;laying&#41;$&gt; &#123;\n\t\t\tcase &lt;SUCC; FAIL&gt; _\n\t\t\t\tdebug &lt;JUMP_$posture_change&#40;jump;laying;You leap into the air, spread your arms and - fall flat on your face!|nYou are now lying on the ground&#46;&#41;$&gt;\n\t\t\tcase &lt;SAME&gt; _\n\t\t\t\texec &lt;stand up, jump&gt;\n\t\t&#125;\n\t\t\t\t\n\tcommand &lt;cry;sob&gt; _\n\t\tdebug &lt;CRY_$posture_change&#40;cry;crying;Your vision goes blurry and there's a sparkle in your stomach as you start to cry&#46;&#41;$&gt;\n\tcommand &lt;don't cry;stop crying&gt; _\n\t\tdebug &lt;STOP_CRY$posture_change&#40;stop crying;#game&#58;old_posture#;You dry your eyes and give a poor sniffle as you stop crying&#46;&#41;$&gt;\n\tcommand &lt;stomp; stamp&gt; _\n\t\tif &#40; $posture_change&#40;stamp;standing;&#41;$ = FAIL &#41; then _\n\t\t\tmsg &lt;You stomp around like a small child, waving your arms&#46;&gt;\n\n\tcommand &lt;cut throat;cut throat #stuff#;_\n\t\t\tslit throat;slit throat #stuff#;_\n\t\t\tmaime;maime #stuff#&gt; _\n\t\tmsg &lt;You don't need to be so graphical! Try attack, hit or kick&#46;&gt;\n\tcommand &lt;die&gt; _\n\t\tmsg &lt;You think about jumping from a tall building for a second or two - imagining the rush of air and the sense of freedom that would come - and then snap back to reality&#46;&gt;\n\tcommand &lt;yell;shout;cry out&gt; _\n\t\tmsg &lt;You yell at the top of your voice&#46;&#46;&gt;\n\n\tcommand &lt;stop&gt; _\n\t\tif &#40; #game&#58;posture# = crying &#41; then _\n\t\t\texec &lt;stop crying&gt; _\n\t\telse _\n\t\t\tmsg &lt;Stop what?&gt;\n\tcommand &lt;get up&gt; _\n\t\tselect case &lt;#game&#58;posture#&gt; &#123;\n\t\t\tcase &lt;sitting;laying&gt; _\n\t\t\t\texec &lt;stand up&gt;\n\t\t\tcase &lt;hanging&gt; _\n\t\t\t\texec &lt;go up&gt;\n\t\t\tcase else _\n\t\t\t\tmsg &lt;Get up where?&gt;\n\t\t&#125;\n\n\tcommand &lt;help&gt; _\n\t\tmsg &lt;Have a walk around, try out some things&#46;|n_\n\t\t\tSend in some suggestions about commands which would be helpful, or nice&#46;|n_\n\t\t\tdebug commands&#58;|n     _\n\t\t\t\t|cgt&#46;f1|cb       Flag 1 - set mirror flag on&#46;|n     _\n\t\t\t\t|cgt&#46;f11|cb     Flag 1 - set mirror flag off&#46;|n     _\n\t\t\t\t|cgt&#46;f2|cb       Flag 2 - set darkness flag on&#46;|n     _\n\t\t\t\t|cgt&#46;f22|cb     Flag 2 - set darkness flag off&#46;|n     _\n\t\t\t\t|cgt&#46;in|cb       Indent test&#46;|n     _\n\t\t\t\t|cgt&#46;in2|cb     Indent test 2&#46;|n_\n\t\t\troom descriptions don't &#40;yet?&#41; take darkness into account&#46;&gt;\n\n\tcommand &lt;wait&gt; _\n\t\tmsg &lt;You step back and watch time roll by&#46;&#46;&gt;\n\tcommand &lt;xyzzy&gt; _\n\t\tmsg &lt;&quot;|cgAZEEZEE|cb&#46;&#46;&#46;&quot; You cry out&#46;&#46;|n_\n\t\t\t&quot;&#46;&#46;cseezzy&#46;&#46; exy-zee? &#46;&#46; exize?&quot;|n_\n\t\t\tYou ponder how it should be pronounced and forget why you said it in the first place&#46;&#46;&gt;\n\n\tcommand &lt;#t&#46;command# #@object# with #@something#;_\n\t\t\t#t&#46;command# #@object# using #@something#;_\n\t\t\t#t&#46;command# #@object# on with #@something#;_\n\t\t\t#t&#46;command# #@object# on #@something#;_\n\t\t\t#t&#46;command# #@object# at #@something#;_\n\t\t\t#t&#46;command# #@object# into #@something#;_\n\t\t\t#t&#46;command# #@object# in #@something#;_\n\t\t\t#t&#46;command# on #@object# with #@something#;_\n\t\t\t#t&#46;command# on #@object#;_\n\t\t\t#t&#46;command# onto #@object#;_\n\t\t\t#t&#46;command# over #@object#;_\n\t\t\t#t&#46;command# up #@object#;_\n\t\t\t#t&#46;command# off #@object# with #@something#;_\n\t\t\t#t&#46;command# off #@object#;_\n\t\t\t#t&#46;command# #@object# on;_\n\t\t\t#t&#46;command# #@object# off with #@something#;_\n\t\t\t#t&#46;command# #@object# off;_\n\t\t\t#t&#46;command# #@object#&gt; _\n\t\tselect case &lt;#t&#46;command#&gt; &#123;\n\t\t\tcase &lt;break; smash; crush; stomp; stamp; climb; _\n\t\t\t\tdrink; sip; quaff; swig; eat; nibble; munch; _\n\t\t\t\tscoff; consume; hit; jump; leap; kick; kill; _\n\t\t\t\tmurder; kiss; smooch; punch; pinch; sit; throw; _\n\t\t\t\tturn; step&gt; &#123;\n\n\t\t\tif action &lt; #object#; #t&#46;command# &gt; then _\n\t\t\t\tdoaction &lt;#object#; #t&#46;command#&gt; _\n\t\t\telseif property &lt; #object#; #t&#46;command# &gt; then _\n\t\t\t\tmsg &lt;$objectproperty&#40;#object#;#t&#46;command#&#41;$&gt; _\n\t\t\telse _\n\t\t\t\tselect case &lt;#t&#46;command#&gt; &#123;\n\t\t\t\t\tcase &lt;break; smash; crush; stomp; stamp&gt; _\n\t\t\t\t\t\tmsg &lt;You figure that breaking the #&#40;quest&#46;lastobject&#41;&#58;alias# isn't the right thing to do&#46;&gt;\n\t\t\t\t\tcase &lt;climb&gt; _\n\t\t\t\t\t\tmsg &lt;You can't climb the #&#40;quest&#46;lastobject&#41;&#58;alias#&gt;\n\t\t\t\t\tcase &lt;drink; sip; quaff; swig&gt; _\n\t\t\t\t\t\tmsg &lt;You can't drink that&#46;&gt;\n\t\t\t\t\tcase &lt;eat; nibble; munch; scoff; consume&gt; _\n\t\t\t\t\t\tmsg &lt;You don't want to eat that&#46;&gt;\n\t\t\t\t\tcase &lt;hit; attack; hurt&gt; &#123;\n\t\t\t\t\t\tmsg &lt;You decide hitting |xn&gt;\n\t\t\t\t\t\tif &#40; #&#40;quest&#46;lastobject&#41;&#58;gender# = ! &#41; then _\n\t\t\t\t\t\t\tmsg &lt;it |xn&gt; _\n\t\t\t\t\t\telse _\n\t\t\t\t\t\t\tmsg &lt;#&#40;quest&#46;lastobject&#41;&#58;gender# |xn&gt;\n\t\t\t\t\t\tmsg &lt;would be a bad choice&#46;&gt;\n\t\t\t\t\t&#125;\n\t\t\t\t\tcase &lt;jump; leap&gt; _\n\t\t\t\t\t\tmsg &lt;You can't jump that!&gt;\n\t\t\t\t\tcase &lt;kick&gt; _\n\t\t\t\t\t\tmsg &lt;You don't have the courage to kick the #&#40;quest&#46;lastobject&#41;&#58;alias#&#46;&#46;&gt;\n\t\t\t\t\tcase &lt;kill; murder&gt; _\n\t\t\t\t\t\tif &#40; #&#40;object&#41;&#58;gender# = him &#41; or &#40; #&#40;object&#41;&#58;gender# = her &#41; then _\n\t\t\t\t\t\t\tmsg &lt;You decide that killing #&#40;object&#41;&#58;gender# is the wrong thing to do&#46;&#46;&gt; _\n\t\t\t\t\t\telse _\n\t\t\t\t\t\t\tmsg &lt;Can you actually kill #&#40;object&#41;&#58;prefix# #&#40;object&#41;&#58;alias#!?&gt;\n\t\t\t\t\tcase &lt;kiss; smooch&gt; _\n\t\t\t\t\t\tmsg &lt;You stare, your eyes misted over as you play the kiss over in your mind&#46;&#46;&gt;\n\t\t\t\t\tcase &lt;punch&gt; _\n\t\t\t\t\t\tmsg &lt;You imagine your fist flying through the air, and then reality snaps back into place&#46;&#46;&gt;\n\t\t\t\t\tcase &lt;pinch&gt; _\n\t\t\t\t\t\tmsg &lt;You sqeeze your fingers together, but decide you look silly and immediately stop&#46;&gt;\n\t\t\t\t\tcase &lt;sit&gt; &#123;\n\t\t\t\t\t\tmsg &lt;You'd rather not sit on |xn&gt;\n\t\t\t\t\t\tif &#40; #&#40;quest&#46;lastobject&#41;&#58;gender# = ! &#41; then _\n\t\t\t\t\t\t\tmsg &lt;it&#46;&gt; _\n\t\t\t\t\t\telse _\n\t\t\t\t\t\t\tmsg &lt;#&#40;quest&#46;lastobject&#41;&#58;gender#&#46;&gt;\n\t\t\t\t\t&#125;\n\t\t\t\t\tcase &lt;step&gt; _\n\t\t\t\t\t\tmsg &lt;Your feet are more comfortable where they are&#46;&gt;\n\t\t\t\t\tcase &lt;throw&gt; _\n\t\t\t\t\t\tmsg &lt;You position yourself carefully, but then decide you'd rather not&#46;&#46;&gt;\n\t\t\t\t\tcase &lt;turn&gt; &#123;\n\t\t\t\t\t\tmsg &lt;You try to find a way to turn the #&#40;quest&#46;lastobject&#41;&#58;alias#|xn&gt;\n\t\t\t\t\t\tif &#40; $instr&#40;#quest&#46;command#;_on&#41;$ &gt; 0 &#41; then _\n\t\t\t\t\t\t\tmsg &lt; on|xn&gt; _\n\t\t\t\t\t\telseif &#40; $instr&#40;#quest&#46;command#;_off&#41;$ &gt; 0 &#41; then _\n\t\t\t\t\t\t\tmsg &lt; off|xn&gt;\n\t\t\t\t\t\tmsg &lt;, but can't quite figure out how you could&#46;&gt;\n\t\t\t\t\t&#125;\n\t\t\t\t&#125;\n\t\t\t&#125;\n\t\t\tcase else _\n\t\t\t\texec &lt;#quest&#46;command# ;normal&gt;\n\t\t&#125;\n\n\n!end\n\ndefine synonyms\n\tyourself; myself; me; you = self\n\tn = north\n\tn, = north,\n\ts = south\n\ts, = south,\n\te = east\n\te, = east,\n\tw = west\n\tw, = west,\n\tne = northeast\n\tne, = notheast,\n\tnw = northwest\n\tnw, = northwest,\n\tse = southeast\n\tse, = southeast,\n\tsw = southwest\n\tsw, = southwest,\n\tl = look\n\tl, = look,\n\ti; inv = inventory\n\ti,; inv, = inventory,\nend define\n\ndefine type &lt;surface&gt;\n\tcontainer\n\tsurface\n\tadd\n\tremove\n\n\taction &lt;list&gt; &#123;\n\t\tmsg &lt;On the #@object# you see |xn&gt;\n\t\tset string &lt;t&#46;cont&#46;list; &gt;\n\t\tset numeric &lt;t&#46;cont&#46;count; 0&gt;\n\t\tfor each object in &lt;#quest&#46;currentroom#&gt; &#123;\n\t\t\tif &#40; #&#40;quest&#46;thing&#41;&#58;parent# = #object# &#41; and _\n\t\t\t\tnot property &lt;#quest&#46;thing#; invisible&gt; then &#123;\n\t\t\t\tset string &lt;t&#46;cont&#46;list; #t&#46;cont&#46;list# #&#40;quest&#46;thing&#41;&#58;prefix# |b#&#40;quest&#46;thing&#41;&#58;alias#|xb,&gt;\n\t\t\t\tset string &lt;t&#46;cont&#46;last; #&#40;quest&#46;thing&#41;&#58;prefix# |b#&#40;quest&#46;thing&#41;&#58;alias#|xb&gt;\n\t\t\t\tinc &lt;t&#46;cont&#46;count&gt;\n\t\t\t&#125;\n\t\t&#125;\n\t\tif &#40; %t&#46;cont&#46;count% &gt; 1 &#41; then &#123;\n\t\t\tset numeric &lt;t&#46;cont&#46;pos; $instr&#40;#t&#46;cont&#46;list#;, #t&#46;cont&#46;last#&#41;$ - 1&gt;\n\t\t\tset string &lt;t&#46;cont&#46;list; $left&#40;#t&#46;cont&#46;list#;%t&#46;cont&#46;pos%&#41;$ and #t&#46;cont&#46;last#&#46;&gt;\n\t\t&#125;\n\t\telse &#123;\n\t\t\tset numeric &lt;t&#46;cont&#46;pos; $lengthof&#40;#t&#46;cont&#46;list#&#41;$ - 1&gt;\n\t\t\tset string &lt;t&#46;cont&#46;list; $left&#40;#t&#46;cont&#46;list#;%t&#46;cont&#46;pos%&#41;$&#46;&gt;\n\t\t&#125;\n\t\tmsg &lt;#t&#46;cont&#46;list#&gt;\n\t&#125;\nend define\n\ndefine type &lt;object&gt;\n\tgender=it\n\tprefix=a\n\ttake\n\nend define\n\ndefine type &lt;bottle&gt;\n\ttype &lt;object&gt;\n\n\taction &lt;hit&gt; doaction &lt;$thisobject$; break&gt;\n\taction &lt;smash&gt; doaction &lt;$thisobject$; break&gt;\n\taction &lt;break&gt; &#123;\n\t\tset string &lt;thisobject; $thisobject$&gt;\n\t\tif property &lt; #thisobject#; broken &gt; or &#40; #something# = #object# &#41; then _\n\t\t\tmsg &lt;You can't break it twice!&gt; _\n\t\telseif property &lt; #something#; soft &gt; then _\n\t\t\tmsg &lt;That wouldn't break the #@thisobject#!&gt; _\n\t\telse &#123;\n\t\t\tif &#40; #something# = #thisobject# &#41; then _\n\t\t\t\tmsg &lt;The #@thisobject# also smashes&#46;&#46;&gt; _\n\t\t\telseif &#40; #something# = &#41; then _\n\t\t\t\tmsg &lt;You smash the #@thisobject# on the ground and break the bottom off&#46;&#46; It is now sharp where it is broken&#46;&gt; _\n\t\t\telse &#123;\n\t\t\t\tmsg &lt;You smash the #@object# using the #@something#, and see the it break&#46;&gt;\n\t\t\t\tdebug &lt;#something#&gt;\n\t\t\t&#125;\n\t\t\tproperty &lt;$thisobject$; alias=Broken #&#40;thisobject&#41;&#58;alias#; look=It used to be&#58;|n   |i#&#40;thisobject&#41;&#58;look#|xi|nIt is now broken, and has sharp edges&#46;;broken&gt;\n\t\t\tif property &lt; #something#; fragile &gt; and _\n\t\t\t\tnot &#40; $thisobject$ = #something# &#41; and _\n\t\t\t\tnot property &lt; #something#; broken &gt; then _\n\t\t\t\tdoaction &lt; #something#; break &gt;\n\t\t&#125;\n\t\tset string &lt;something; &gt;\n\t&#125;\n\n\tproperties &lt;fragile&gt;\n\t\nend define\n\ndefine room &lt;inventory&gt;\n\n\tdefine object &lt;self&gt;\n\t\tlook &#123;\n\t\t\tselect case &lt;$look_desc$&gt; &#123;\n\t\t\t\tcase &lt;0&gt; _\n\t\t\t\t\tmsg &lt;You look down at your body, and see that you haven't changed too much since you last looked&#46; You look well built and you feel comfortable in the jeans and t-shirt you're wearing&#46;&gt;\n\t\t\t\tcase &lt;1&gt; _\n\t\t\t\t\tmsg &lt;You pull some funny faces and wink in the mirror, pulling a quick smirk from your bag of facial expressions&#46; After some serious thought, you adjust a few strands of hair, and smile&#46;&#46;|nYou feel quite comfortable with your looks&#46;&gt;\n\t\t\t\tcase &lt;2&gt; _\n\t\t\t\t\tmsg &lt;You stare in the darkness down at yourself&#46;&gt;\n\t\t\t\tcase &lt;3&gt; _\n\t\t\t\t\tmsg &lt;You stare in the darkness at #@something#&#46;&#46; You can't even see it, let alone yourself!&gt;\n\t\t\t&#125;\n\t\t&#125;\n\t\tproperties &lt;invisible&gt;\n\tend define\n\nend define\n\ndefine function &lt;look_desc&gt;\n\tset numeric &lt;t&#46;look&#46;return; 0&gt;\n\tif flag &lt;mirror_in_use&gt; then inc &lt;t&#46;look&#46;return&gt;\n\tif flag &lt;darkness&gt; then inc &lt;t&#46;look&#46;return; 2&gt;\n\n\treturn &lt;%t&#46;look&#46;return%&gt;\nend define\n\ndefine function &lt;badcommand&gt;\n\tif not &#40; $instr&#40;#quest&#46;lastcommand#;_it&#41;$ = 0 &#41; and _\n\t\tflag &lt;t&#46;badit&gt; then _\n\t\t\texec &lt;#t&#46;badit&#46;first# #quest&#46;command#&gt; _\n\t\telse _\n\t\t\tmsg &lt;You try, but realise you don't know how!&gt;\n\tflag off &lt;t&#46;badit&gt;\n\nend define\n\ndefine function &lt;badit&gt;\n\tset numeric &lt;t&#46;badit&#46;pos; $instr&#40;#quest&#46;originalcommand#;_it&#41;$ &gt;\n\tset string &lt;t&#46;badit&#46;first; $left&#40;#quest&#46;originalcommand#;%t&#46;badit&#46;pos%&#41;$ &gt;\n\tflag on &lt;t&#46;badit&gt;\n\n\treturn &lt;#t&#46;badit&#46;first# what?&gt;\nend define\n\ndefine function &lt;posture_change&gt;\n' $posture_change&#40;description_for_action; posture_to_change_to; message_to_print_to_screen&#41;$\n' Return = SUCC | SAME | FAIL\n\n\tset string &lt;t&#46;pos&#46;action; $parameter&#40;1&#41;$&gt;\n\tset string &lt;t&#46;pos&#46;posture; $parameter&#40;2&#41;$&gt;\n\tset string &lt;t&#46;pos&#46;message; $parameter&#40;3&#41;$&gt;\n\tset string &lt;t&#46;pos&#46;return; $posture_test&#40;#t&#46;pos&#46;posture#&#41;$&gt;\n\n\tselect case &lt;#t&#46;pos&#46;return#&gt; &#123;\n\t\tcase &lt;FAIL&gt; _\n\t\t\tmsg &lt;You can't #t&#46;pos&#46;action# while you're #game&#58;posture#&#46;&gt;\n\t\tcase &lt;SAME&gt; _\n\t\t\tmsg &lt;You are already #game&#58;posture#&#46;&gt;\n\t\tcase &lt;SUCC&gt; &#123;\n\t\t\tmsg &lt;#t&#46;pos&#46;message#&gt;\n\t\t\tproperty &lt;game; old_posture=#game&#58;posture#; posture=#t&#46;pos&#46;posture#&gt;\n\t\t&#125;\n\t&#125;\n\n\treturn &lt;#t&#46;pos&#46;return#&gt;\n\n'\tselect case &lt;#game&#58;posture#&gt; &#123;\n'\t\tcase &lt;stuck;trapped;caught&gt; _\n'\t\t\tmsg &lt;You can't #t&#46;pos&#46;action# while you're #game&#58;posture#&#46;&gt;\n'\t\tcase &lt;#t&#46;pos&#46;posture#&gt; _\n'\t\t\tmsg &lt;You are already #game&#58;posture#&gt;\n'\t\tcase &lt;crying&gt; _\n'\t\t\tif &#40; #t&#46;pos&#46;posture# = #game&#58;old_posture# &#41; then _\n'\t\t\t\tset string &lt;t&#46;pos&#46;return; SUCC&gt; _\n'\t\t\telse _\n'\t\t\t\tmsg &lt;You're crying too hard to do that&#46;&#46;&gt;\n'\t\tcase else _\n'\t\t\tset string &lt;t&#46;pos&#46;return; SUCC&gt;\n'\t&#125;\n\n'\tif &#40; #t&#46;pos&#46;return# = SUCC &#41; then &#123;\n'\t\tmsg &lt;#t&#46;pos&#46;message#&gt;\n'\t\tproperty &lt;game; old_posture=#game&#58;posture#; posture=#t&#46;pos&#46;posture#&gt;\n'\t&#125;\n\n\treturn &lt;#t&#46;pos&#46;return#&gt;\n\nend define\n\ndefine function &lt;posture_test&gt;\n' $posture_test&#40;posture_to_change_to&#41;$\n' Return = SUCC | SAME | FAIL\n\n\tset string &lt;t&#46;postst&#46;return; FAIL&gt;\n\tset string &lt;t&#46;postst&#46;same; $parameter&#40;1&#41;$&gt;\n\tselect case &lt;#game&#58;posture#&gt; &#123;\n\t\tcase &lt;stuck;trapped;caught&gt; _\n\t\t\tmsg &lt;|xn&gt;\n\t\tcase &lt;#t&#46;postst&#46;same#&gt; _\n\t\t\tset string &lt;t&#46;postst&#46;return; SAME&gt;\n\t\tcase &lt;crying&gt; _\n\t\t\tif &#40; $parameter&#40;1&#41;$ = #game&#58;old_posture# &#41; then _\n\t\t\t\tset string &lt;t&#46;postst&#46;return; SUCC&gt;\n\t\tcase else _\n\t\t\tset string &lt;t&#46;postst&#46;return; SUCC&gt;\n\t&#125;\n\treturn &lt;#t&#46;postst&#46;return#&gt;\n\nend define\n\ndefine function &lt;indent&gt;\n\t' Pass string, and indent value&#46;&#46; $indent&#40;#string#, %value%&#41;$\n\t' Returns indented string&#46;\n\n\tset string &lt;indent&#46;output; BLANK&gt;\n\tset string &lt;indent&#46;string; $parameter&#40;1&#41;$ &gt;\n\tset numeric &lt;indent&#46;depth; $parameter&#40;2&#41;$ &gt;\n\tset numeric &lt;indent&#46;loop; 1&gt;\n\n\trepeat while &#40; %indent&#46;loop% &lt; $lengthof&#40;#indent&#46;string#&#41;$ &#41; &#123;\n\t\tif &#40; $mid&#40;#indent&#46;string#;%indent&#46;loop%;2&#41;$ = |n &#41; then &#123;\n\t\t\tdec &lt;indent&#46;loop&gt;\n\t\t\tset string &lt;indent&#46;output; $left&#40;#indent&#46;string#;%indent&#46;loop%&#41;$&gt;\n\t\t\tinc &lt;indent&#46;loop; 3&gt;\n\t\t\tset string &lt;indent&#46;string; $mid&#40;#indent&#46;string#; %indent&#46;loop%&#41;$&gt;\n\t\t\tset numeric &lt;indent&#46;loop; 0&gt;\n\t\t&#125;\n\t\tif &#40; &#40;%indent&#46;loop%+1&#41; = $lengthof&#40;#indent&#46;string#&#41;$ &#41; then &#123;\n\t\t\tset string &lt;indent&#46;output; #indent&#46;string#&gt;\n\t\t&#125;\n\t\tif not &#40; #indent&#46;output# = BLANK &#41; then &#123;\n\t\t\tfor &lt;indent&#46;loop2; 1; %indent&#46;depth%&gt; _\n\t\t\t\tmsg &lt; |xn&gt;\n\t\t\tmsg &lt;#indent&#46;output#&gt;\n\t\t\tset string &lt;indent&#46;output; BLANK&gt;\n\t\t&#125;\n\t\tinc &lt;indent&#46;loop&gt;\n\t&#125;\n\nend define[/code:3vdl11ho]",
      "EditableFormat": "bbcode",
      "HTML": "<span style=\"font-weight:bold;\">WOW, fixed ALOT of stuff here.<br/>putting objects on other objects broke because I used a rubbish command.<br/>Also, Quest doesn't handle quest.command properly (I thought it was supposed to be after objects were resolved etc?).</span><br/><br/><pre><code>!library<br/>!asl-version &lt;400&gt;<br/>!Common library to give room descriptions, and default answers to many commands&#46;<br/>!Created by Tr0nÂ²<br/><br/>!addto game<br/><br/>\tstartscript &#123;<br/>\t\tpanes off<br/>\t\tset string &lt;directions&#91;0&#93;; north&gt;<br/>\t\tset string &lt;directions&#91;1&#93;; northeast&gt;<br/>\t\tset string &lt;directions&#91;2&#93;; northwest&gt;<br/>\t\tset string &lt;directions&#91;3&#93;; east&gt;<br/>\t\tset string &lt;directions&#91;4&#93;; west&gt;<br/>\t\tset string &lt;directions&#91;5&#93;; southeast&gt;<br/>\t\tset string &lt;directions&#91;6&#93;; south&gt;<br/>\t\tset string &lt;directions&#91;7&#93;; southwest&gt;<br/>\t\tset string &lt;directions&#91;8&#93;; up&gt;<br/>\t\tset string &lt;directions&#91;9&#93;; down&gt;<br/>\t<br/>\t\tset string &lt;desc&#46;rnd1&#91;0&#93;; in what seems to be,&gt;<br/>\t\tset string &lt;desc&#46;rnd1&#91;1&#93;; in&gt;<br/>\t\tset string &lt;desc&#46;rnd1&#91;2&#93;; in, what could be called,&gt;<br/>\t\tset string &lt;desc&#46;rnd1&#91;3&#93;; inside, what you can only call,&gt;<br/>\t\tset string &lt;desc&#46;rnd1&#91;4&#93;; inside&gt;<br/>\t\tset string &lt;desc&#46;rnd1&#91;5&#93;; , looking around&gt;<br/>\t\tset string &lt;desc&#46;rnd1&#91;6&#93;; in the middle of&gt;<br/><br/>\t\tset string &lt;desc&#46;rnd2&#91;0&#93;; It looks like you can go;&gt;<br/>\t\tset string &lt;desc&#46;rnd2&#91;1&#93;; You see that you can go;&gt;<br/>\t\tset string &lt;desc&#46;rnd2&#91;2&#93;; The exits surrounding you are;&gt;<br/>\t\tset string &lt;desc&#46;rnd2&#91;3&#93;; You may go;&gt;<br/>\t\tset string &lt;desc&#46;rnd2&#91;4&#93;; You're torn for choice, you can go;&gt;<br/><br/>\t\tset string &lt;desc&#46;rnd3&#91;0&#93;; to&gt;<br/>\t\tset string &lt;desc&#46;rnd3&#91;1&#93;; toward&gt;<br/>\t\tset string &lt;desc&#46;rnd3&#91;2&#93;; which is&gt;<br/>\t\tset string &lt;desc&#46;rnd3&#91;3&#93;; into&gt;<br/><br/>\t&#125;<br/><br/>\tdescription &#123;<br/>\t\tset numeric &lt;desc&#46;rnd1; $rand&#40;0;6&#41;$ &gt;<br/>\t\tmsg &lt;You are |cg#game&#58;posture#|cb _<br/>\t\t\t#desc&#46;rnd1&#91;desc&#46;rnd1&#93;# _<br/>\t\t\t#&#40;quest&#46;currentroom&#41;&#58;prefix# _<br/>\t\t\t|cr#&#40;quest&#46;currentroom&#41;&#58;alias#|cb &gt;<br/><br/>\t\tif &#40; $left&#40;#quest&#46;command#;1&#41;$ = l&#41; or _<br/>\t\tnot property &lt;#quest&#46;currentroom#; been_here&gt; then &#123;<br/>\t\t\tmsg &lt;#quest&#46;lookdesc#&gt;<br/>\t\t\tproperty &lt;#quest&#46;currentroom#; been_here&gt;<br/>\t\t\tif not &#40; #quest&#46;formatobjects# = &#41; then msg &lt;You can see #quest&#46;formatobjects# here&#46; &gt;<br/>\t\t&#125;<br/><br/>\t\tset numeric &lt;desc&#46;rnd1; $rand&#40;0;4&#41;$ &gt;<br/>\t\tmsg &lt;#desc&#46;rnd2&#91;desc&#46;rnd1&#93;#&gt;<br/>\t\tfor &lt;loop&#46;1; 0; 9&gt; &#123;<br/>\t\t\tif not &#40; $objectproperty&#40;#quest&#46;currentroom#; #directions&#91;loop&#46;1&#93;#&#41;$ = ! &#41; then &#123;<br/>\t\t\t\tset string &lt;direction&#46;name; $objectproperty&#40;#quest&#46;currentroom#; #directions&#91;loop&#46;1&#93;#&#41;$ &gt;<br/>\t\t\t\tset numeric &lt;desc&#46;rnd1; $rand&#40;0;3&#41;$ &gt;<br/>\t\t\t\tmsg &lt;$indent&#40;|cl#directions&#91;loop&#46;1&#93;#|cb #desc&#46;rnd3&#91;desc&#46;rnd1&#93;# #&#40;direction&#46;name&#41;&#58;prefix# |cr#&#40;direction&#46;name&#41;&#58;alias#|cb|xn; 6&#41;$,&gt;<br/>\t\t\t&#125;<br/>\t\t&#125;<br/>\t&#125;<br/><br/>\tafterturn set string &lt;quest&#46;lastcommand; #quest&#46;command#&gt;<br/><br/>\terror &lt;badthing; You don't see anything like that here&#46;&#46;&gt;<br/>\terror &lt;badcommand; $badcommand$&gt;<br/>\terror &lt;badgo; It doesn't seem like you can go there&#46;&#46;&gt;<br/>\terror &lt;defaultout; It doesn't seem like you can go there&#46;&#46;&gt;<br/>\terror &lt;badgive; You decide that you are a deserving owner, and give to yourself&#46;&#46; You are pleased with your new gift&#46;&gt;<br/>\terror &lt;badplace; It doesn't seem like you can go there&#46;&#46;&gt;<br/>\terror &lt;badpronoun; $badit$&gt;<br/>\terror &lt;badput; You put it into your own hand&#46;&#46;&gt;<br/>\terror &lt;badtake; You think about it, but decide that you can do without such an item&#46;&#46;&gt;<br/>\terror &lt;baduse; You try to use it, but can't quite figure out |ihow|xi to&#46;&#46;&gt;<br/>\terror &lt;defaultuse; You try to use it, but can't quite figure out |ihow|xi to&#46;&#46;&gt;<br/>\terror &lt;cantdrop; You can't get rid of that!&gt;<br/>\terror &lt;cantclose; You try your best, but it just won't close&#46;&#46;&gt;<br/>\terror &lt;cantopen; You try your best, but it just won't open&#46;&#46;&gt;<br/>\terror &lt;cantremove; You try your best, but you can't remove that&#46;&#46;&gt;<br/>\terror &lt;cantput; You think that there are better places to put things then |ithere|xi&#46;&#46;&gt;<br/>\terror &lt;defaultspeak; You suddenly feel something is wrong with you speaking to that&#46;&#46;&gt;<br/>\terror &lt;noitem; You can't do that if you don't have it first&#46;&#46;&gt;<br/>\terror &lt;itemunwanted; You decide it's better to hang onto it&#46;&#46;&gt;<br/><br/>\t' This is taken from stdverbs&#46;lib, for standard compatibility&#46;&#46;<br/>\t' Edited a little because the actions were blurring together<br/>\tcommand &lt;#cmn&#46;command#&#46; #cmn&#46;command2#; _<br/>\t\t#cmn&#46;command#, and then #cmn&#46;command2#; _<br/>\t\t#cmn&#46;command#, then #cmn&#46;command2#; _<br/>\t\t#cmn&#46;command#, #cmn&#46;command2#; _<br/>\t\t#cmn&#46;command# and then #cmn&#46;command2#; _<br/>\t\t#cmn&#46;command# then #cmn&#46;command2#&gt; &#123;<br/>\t\tmsg &lt;|n|cg|b$symbol&#40;gt&#41;$ #cmn&#46;command#|cb|xb&gt;<br/>\t\texec &lt;#cmn&#46;command#&gt;<br/>\t\tpause &lt;500&gt;<br/>\t\tif &#40; $instr&#40;#cmn&#46;command2#;,&#41;$ = 0 &#41; and _<br/>\t\t\t&#40; $instr&#40;#cmn&#46;command2#;_then_&#41;$ = 0 &#41; then _<br/>\t\t\t\tmsg &lt;|n|cg|b$symbol&#40;gt&#41;$ #cmn&#46;command2#|xb|cb&gt;<br/>\t\texec &lt;#cmn&#46;command2#&gt;<br/>\t&#125;<br/><br/>\tcommand &lt;look on #@object#;look at #@object#&gt; _<br/>\t\texec &lt;look at #@object#; normal&gt;<br/>\tcommand &lt;look at #@object# with #@something#;_<br/>\t\t\tlook at #@object# in #@something#;_<br/>\t\t\tlook down #@object# with #@something#;_<br/>\t\t\tlook in #@object# with #@something#;_<br/>\t\t\tlook in #@object# using #@something#&gt; &#123;<br/>\t\tmsg &lt;You angle the #@something# just right, look into it, and see&#46;&#46;&gt;<br/>\t\tif property &lt; #something#; reflective &gt; then &#123;<br/>\t\t\tflag on &lt;mirror_in_use&gt;<br/>\t\t\texec &lt;look at #@object#&gt;<br/>\t\t\tflag off &lt;mirror_in_use&gt;<br/>\t\t&#125;<br/>\t\telse _<br/>\t\t\texec &lt;look at #@something#&gt;<br/>\t&#125;<br/>\tcommand &lt;look around&gt; _<br/>\t\texec &lt;look&gt;<br/>\tcommand &lt;look into #@object#&gt; _<br/>\t\texec &lt;look in #@object#&gt;<br/>\tcommand &lt;look at ground&gt; _<br/>\t\tif here &lt;$getobjectname&#40;ground&#41;$&gt; then _<br/>\t\t\texec &lt;look at ground; normal&gt; _<br/>\t\telse _<br/>\t\t\tmsg &lt;You look at your feet, suddenly feeling bashful&#46;&#46;&gt;<br/>\tcommand &lt;look at sky&gt; _<br/>\t\tif here &lt;$getobjectname&#40;sky&#41;$&gt; then _<br/>\t\t\texec &lt;look at sky; normal&gt; _<br/>\t\telse _<br/>\t\t\tmsg &lt;You look up, letting your mind wander for a few moments&#46;&#46;&gt;<br/>\tcommand &lt;look #look&#46;direction#ward;_<br/>\t\t\tlook #look&#46;direction#wards;_<br/>\t\t\tlook #look&#46;direction#&gt; &#123;<br/>\t\tfor &lt;look&#46;loop; 0; 9&gt; _<br/>\t\t\tif &#40; #look&#46;direction# = #directions&#91;look&#46;loop&#93;# &#41; and _<br/>\t\t\t\tnot &#40; $objectproperty&#40;#quest&#46;currentroom#; #look&#46;direction#&#41;$ = ! &#41; then _<br/>\t\t\t\tflag on &lt;look_direction&gt;<br/>\t\tif flag &lt;look_direction&gt; then &#123;<br/>\t\t\tset string &lt;look&#46;direction&#46;name; $objectproperty&#40;#quest&#46;currentroom#; #look&#46;direction#&#41;$ &gt;<br/>\t\t\tmsg &lt;You see the #&#40;look&#46;direction&#46;name&#41;&#58;alias# &#46;&#46;&gt;<br/>\t\t\tflag off &lt;look_direction&gt;<br/>\t\t&#125;<br/>\t\telse _<br/>\t\t\tselect case &lt;#look&#46;direction#&gt; &#123;<br/>\t\t\t\tcase &lt;down&gt; _<br/>\t\t\t\t\texec &lt;look at ground&gt;<br/>\t\t\t\tcase &lt;up&gt; _<br/>\t\t\t\t\texec &lt;look at sky&gt;<br/>\t\t\t\tcase else _<br/>\t\t\t\t\texec &lt;look #look&#46;direction#; normal&gt;<br/>\t\t\t&#125;<br/>\t&#125;<br/><br/>\tcommand &lt;go #direction#;_<br/>\t\t\tn;north;ne;northeast;e;east;se;southeast;_<br/>\t\t\ts;south;sw;southwest;w;west;nw;northwest;_<br/>\t\t\tu;up;d;down&gt; _<br/>\t\tselect case &lt;#game&#58;posture#&gt; &#123;<br/>\t\t\tcase &lt;standing; crouching; crawling; limping; crying&gt; _<br/>\t\t\t\texec &lt;#quest&#46;originalcommand#; normal&gt;<br/>\t\t\tcase else _<br/>\t\t\t\tmsg &lt;You can't do that while you're #game&#58;posture#&#46;&#46;&gt;<br/>\t\t&#125;<br/>\tcommand &lt;put #@object# and #@object2# and #object3# on #@last_object#; _<br/>\t\t\tput #@object#, #@object2# and #object3# on #@last_object#; _<br/>\t\t\tput #@object# and #@object2# on #@last_object#&gt; _<br/>\t\texec &lt;put #@object# on #@last_object#, put #@object2# on #@last_object#, put #@object3# on #@last_object#&gt;<br/>\tcommand &lt;put #@object# on #@last_object#&gt; _<br/>\t\texec &lt;put #@object# on #@last_object#; normal&gt;<br/><br/>\tcommand &lt;sit down; sit up;sit&gt; _<br/>\t\tdebug &lt;SIT_$posture_change&#40;sit down;sitting;You sit down on the ground and rest&#46;&#46;&#41;$&gt;<br/>\tcommand &lt;stand up;stand&gt; _<br/>\t\tdebug &lt;STAND_$posture_change&#40;stand;standing;You stand up, brushing your legs for no real reason&#46;&#41;$&gt;<br/>\tcommand &lt;lay down;lay;sleep&gt; _<br/>\t\tif &#40; $posture_change&#40;lay down;laying;|xn&#41;$ = SUCC &#41; then &#123;<br/>\t\t\tmsg &lt;You lay down, spread your legs out, and |xn&gt;<br/>\t\t\tif &#40; $rand&#40;1;10&#41;$ = 5 &#41; then _<br/>\t\t\t\tmsg &lt;|cr`OUCH!`|cb hit your head!&gt; _<br/>\t\t\telse _<br/>\t\t\t\tmsg &lt;lay down with your hands behind your head&#46;&gt;<br/>\t&#125;<br/>\tcommand &lt;jump&gt; _<br/>\t\tselect case &lt;$posture_test&#40;laying&#41;$&gt; &#123;<br/>\t\t\tcase &lt;SUCC; FAIL&gt; _<br/>\t\t\t\tdebug &lt;JUMP_$posture_change&#40;jump;laying;You leap into the air, spread your arms and - fall flat on your face!|nYou are now lying on the ground&#46;&#41;$&gt;<br/>\t\t\tcase &lt;SAME&gt; _<br/>\t\t\t\texec &lt;stand up, jump&gt;<br/>\t\t&#125;<br/>\t\t\t\t<br/>\tcommand &lt;cry;sob&gt; _<br/>\t\tdebug &lt;CRY_$posture_change&#40;cry;crying;Your vision goes blurry and there's a sparkle in your stomach as you start to cry&#46;&#41;$&gt;<br/>\tcommand &lt;don't cry;stop crying&gt; _<br/>\t\tdebug &lt;STOP_CRY$posture_change&#40;stop crying;#game&#58;old_posture#;You dry your eyes and give a poor sniffle as you stop crying&#46;&#41;$&gt;<br/>\tcommand &lt;stomp; stamp&gt; _<br/>\t\tif &#40; $posture_change&#40;stamp;standing;&#41;$ = FAIL &#41; then _<br/>\t\t\tmsg &lt;You stomp around like a small child, waving your arms&#46;&gt;<br/><br/>\tcommand &lt;cut throat;cut throat #stuff#;_<br/>\t\t\tslit throat;slit throat #stuff#;_<br/>\t\t\tmaime;maime #stuff#&gt; _<br/>\t\tmsg &lt;You don't need to be so graphical! Try attack, hit or kick&#46;&gt;<br/>\tcommand &lt;die&gt; _<br/>\t\tmsg &lt;You think about jumping from a tall building for a second or two - imagining the rush of air and the sense of freedom that would come - and then snap back to reality&#46;&gt;<br/>\tcommand &lt;yell;shout;cry out&gt; _<br/>\t\tmsg &lt;You yell at the top of your voice&#46;&#46;&gt;<br/><br/>\tcommand &lt;stop&gt; _<br/>\t\tif &#40; #game&#58;posture# = crying &#41; then _<br/>\t\t\texec &lt;stop crying&gt; _<br/>\t\telse _<br/>\t\t\tmsg &lt;Stop what?&gt;<br/>\tcommand &lt;get up&gt; _<br/>\t\tselect case &lt;#game&#58;posture#&gt; &#123;<br/>\t\t\tcase &lt;sitting;laying&gt; _<br/>\t\t\t\texec &lt;stand up&gt;<br/>\t\t\tcase &lt;hanging&gt; _<br/>\t\t\t\texec &lt;go up&gt;<br/>\t\t\tcase else _<br/>\t\t\t\tmsg &lt;Get up where?&gt;<br/>\t\t&#125;<br/><br/>\tcommand &lt;help&gt; _<br/>\t\tmsg &lt;Have a walk around, try out some things&#46;|n_<br/>\t\t\tSend in some suggestions about commands which would be helpful, or nice&#46;|n_<br/>\t\t\tdebug commands&#58;|n     _<br/>\t\t\t\t|cgt&#46;f1|cb       Flag 1 - set mirror flag on&#46;|n     _<br/>\t\t\t\t|cgt&#46;f11|cb     Flag 1 - set mirror flag off&#46;|n     _<br/>\t\t\t\t|cgt&#46;f2|cb       Flag 2 - set darkness flag on&#46;|n     _<br/>\t\t\t\t|cgt&#46;f22|cb     Flag 2 - set darkness flag off&#46;|n     _<br/>\t\t\t\t|cgt&#46;in|cb       Indent test&#46;|n     _<br/>\t\t\t\t|cgt&#46;in2|cb     Indent test 2&#46;|n_<br/>\t\t\troom descriptions don't &#40;yet?&#41; take darkness into account&#46;&gt;<br/><br/>\tcommand &lt;wait&gt; _<br/>\t\tmsg &lt;You step back and watch time roll by&#46;&#46;&gt;<br/>\tcommand &lt;xyzzy&gt; _<br/>\t\tmsg &lt;&quot;|cgAZEEZEE|cb&#46;&#46;&#46;&quot; You cry out&#46;&#46;|n_<br/>\t\t\t&quot;&#46;&#46;cseezzy&#46;&#46; exy-zee? &#46;&#46; exize?&quot;|n_<br/>\t\t\tYou ponder how it should be pronounced and forget why you said it in the first place&#46;&#46;&gt;<br/><br/>\tcommand &lt;#t&#46;command# #@object# with #@something#;_<br/>\t\t\t#t&#46;command# #@object# using #@something#;_<br/>\t\t\t#t&#46;command# #@object# on with #@something#;_<br/>\t\t\t#t&#46;command# #@object# on #@something#;_<br/>\t\t\t#t&#46;command# #@object# at #@something#;_<br/>\t\t\t#t&#46;command# #@object# into #@something#;_<br/>\t\t\t#t&#46;command# #@object# in #@something#;_<br/>\t\t\t#t&#46;command# on #@object# with #@something#;_<br/>\t\t\t#t&#46;command# on #@object#;_<br/>\t\t\t#t&#46;command# onto #@object#;_<br/>\t\t\t#t&#46;command# over #@object#;_<br/>\t\t\t#t&#46;command# up #@object#;_<br/>\t\t\t#t&#46;command# off #@object# with #@something#;_<br/>\t\t\t#t&#46;command# off #@object#;_<br/>\t\t\t#t&#46;command# #@object# on;_<br/>\t\t\t#t&#46;command# #@object# off with #@something#;_<br/>\t\t\t#t&#46;command# #@object# off;_<br/>\t\t\t#t&#46;command# #@object#&gt; _<br/>\t\tselect case &lt;#t&#46;command#&gt; &#123;<br/>\t\t\tcase &lt;break; smash; crush; stomp; stamp; climb; _<br/>\t\t\t\tdrink; sip; quaff; swig; eat; nibble; munch; _<br/>\t\t\t\tscoff; consume; hit; jump; leap; kick; kill; _<br/>\t\t\t\tmurder; kiss; smooch; punch; pinch; sit; throw; _<br/>\t\t\t\tturn; step&gt; &#123;<br/><br/>\t\t\tif action &lt; #object#; #t&#46;command# &gt; then _<br/>\t\t\t\tdoaction &lt;#object#; #t&#46;command#&gt; _<br/>\t\t\telseif property &lt; #object#; #t&#46;command# &gt; then _<br/>\t\t\t\tmsg &lt;$objectproperty&#40;#object#;#t&#46;command#&#41;$&gt; _<br/>\t\t\telse _<br/>\t\t\t\tselect case &lt;#t&#46;command#&gt; &#123;<br/>\t\t\t\t\tcase &lt;break; smash; crush; stomp; stamp&gt; _<br/>\t\t\t\t\t\tmsg &lt;You figure that breaking the #&#40;quest&#46;lastobject&#41;&#58;alias# isn't the right thing to do&#46;&gt;<br/>\t\t\t\t\tcase &lt;climb&gt; _<br/>\t\t\t\t\t\tmsg &lt;You can't climb the #&#40;quest&#46;lastobject&#41;&#58;alias#&gt;<br/>\t\t\t\t\tcase &lt;drink; sip; quaff; swig&gt; _<br/>\t\t\t\t\t\tmsg &lt;You can't drink that&#46;&gt;<br/>\t\t\t\t\tcase &lt;eat; nibble; munch; scoff; consume&gt; _<br/>\t\t\t\t\t\tmsg &lt;You don't want to eat that&#46;&gt;<br/>\t\t\t\t\tcase &lt;hit; attack; hurt&gt; &#123;<br/>\t\t\t\t\t\tmsg &lt;You decide hitting |xn&gt;<br/>\t\t\t\t\t\tif &#40; #&#40;quest&#46;lastobject&#41;&#58;gender# = ! &#41; then _<br/>\t\t\t\t\t\t\tmsg &lt;it |xn&gt; _<br/>\t\t\t\t\t\telse _<br/>\t\t\t\t\t\t\tmsg &lt;#&#40;quest&#46;lastobject&#41;&#58;gender# |xn&gt;<br/>\t\t\t\t\t\tmsg &lt;would be a bad choice&#46;&gt;<br/>\t\t\t\t\t&#125;<br/>\t\t\t\t\tcase &lt;jump; leap&gt; _<br/>\t\t\t\t\t\tmsg &lt;You can't jump that!&gt;<br/>\t\t\t\t\tcase &lt;kick&gt; _<br/>\t\t\t\t\t\tmsg &lt;You don't have the courage to kick the #&#40;quest&#46;lastobject&#41;&#58;alias#&#46;&#46;&gt;<br/>\t\t\t\t\tcase &lt;kill; murder&gt; _<br/>\t\t\t\t\t\tif &#40; #&#40;object&#41;&#58;gender# = him &#41; or &#40; #&#40;object&#41;&#58;gender# = her &#41; then _<br/>\t\t\t\t\t\t\tmsg &lt;You decide that killing #&#40;object&#41;&#58;gender# is the wrong thing to do&#46;&#46;&gt; _<br/>\t\t\t\t\t\telse _<br/>\t\t\t\t\t\t\tmsg &lt;Can you actually kill #&#40;object&#41;&#58;prefix# #&#40;object&#41;&#58;alias#!?&gt;<br/>\t\t\t\t\tcase &lt;kiss; smooch&gt; _<br/>\t\t\t\t\t\tmsg &lt;You stare, your eyes misted over as you play the kiss over in your mind&#46;&#46;&gt;<br/>\t\t\t\t\tcase &lt;punch&gt; _<br/>\t\t\t\t\t\tmsg &lt;You imagine your fist flying through the air, and then reality snaps back into place&#46;&#46;&gt;<br/>\t\t\t\t\tcase &lt;pinch&gt; _<br/>\t\t\t\t\t\tmsg &lt;You sqeeze your fingers together, but decide you look silly and immediately stop&#46;&gt;<br/>\t\t\t\t\tcase &lt;sit&gt; &#123;<br/>\t\t\t\t\t\tmsg &lt;You'd rather not sit on |xn&gt;<br/>\t\t\t\t\t\tif &#40; #&#40;quest&#46;lastobject&#41;&#58;gender# = ! &#41; then _<br/>\t\t\t\t\t\t\tmsg &lt;it&#46;&gt; _<br/>\t\t\t\t\t\telse _<br/>\t\t\t\t\t\t\tmsg &lt;#&#40;quest&#46;lastobject&#41;&#58;gender#&#46;&gt;<br/>\t\t\t\t\t&#125;<br/>\t\t\t\t\tcase &lt;step&gt; _<br/>\t\t\t\t\t\tmsg &lt;Your feet are more comfortable where they are&#46;&gt;<br/>\t\t\t\t\tcase &lt;throw&gt; _<br/>\t\t\t\t\t\tmsg &lt;You position yourself carefully, but then decide you'd rather not&#46;&#46;&gt;<br/>\t\t\t\t\tcase &lt;turn&gt; &#123;<br/>\t\t\t\t\t\tmsg &lt;You try to find a way to turn the #&#40;quest&#46;lastobject&#41;&#58;alias#|xn&gt;<br/>\t\t\t\t\t\tif &#40; $instr&#40;#quest&#46;command#;_on&#41;$ &gt; 0 &#41; then _<br/>\t\t\t\t\t\t\tmsg &lt; on|xn&gt; _<br/>\t\t\t\t\t\telseif &#40; $instr&#40;#quest&#46;command#;_off&#41;$ &gt; 0 &#41; then _<br/>\t\t\t\t\t\t\tmsg &lt; off|xn&gt;<br/>\t\t\t\t\t\tmsg &lt;, but can't quite figure out how you could&#46;&gt;<br/>\t\t\t\t\t&#125;<br/>\t\t\t\t&#125;<br/>\t\t\t&#125;<br/>\t\t\tcase else _<br/>\t\t\t\texec &lt;#quest&#46;command# ;normal&gt;<br/>\t\t&#125;<br/><br/><br/>!end<br/><br/>define synonyms<br/>\tyourself; myself; me; you = self<br/>\tn = north<br/>\tn, = north,<br/>\ts = south<br/>\ts, = south,<br/>\te = east<br/>\te, = east,<br/>\tw = west<br/>\tw, = west,<br/>\tne = northeast<br/>\tne, = notheast,<br/>\tnw = northwest<br/>\tnw, = northwest,<br/>\tse = southeast<br/>\tse, = southeast,<br/>\tsw = southwest<br/>\tsw, = southwest,<br/>\tl = look<br/>\tl, = look,<br/>\ti; inv = inventory<br/>\ti,; inv, = inventory,<br/>end define<br/><br/>define type &lt;surface&gt;<br/>\tcontainer<br/>\tsurface<br/>\tadd<br/>\tremove<br/><br/>\taction &lt;list&gt; &#123;<br/>\t\tmsg &lt;On the #@object# you see |xn&gt;<br/>\t\tset string &lt;t&#46;cont&#46;list; &gt;<br/>\t\tset numeric &lt;t&#46;cont&#46;count; 0&gt;<br/>\t\tfor each object in &lt;#quest&#46;currentroom#&gt; &#123;<br/>\t\t\tif &#40; #&#40;quest&#46;thing&#41;&#58;parent# = #object# &#41; and _<br/>\t\t\t\tnot property &lt;#quest&#46;thing#; invisible&gt; then &#123;<br/>\t\t\t\tset string &lt;t&#46;cont&#46;list; #t&#46;cont&#46;list# #&#40;quest&#46;thing&#41;&#58;prefix# |b#&#40;quest&#46;thing&#41;&#58;alias#|xb,&gt;<br/>\t\t\t\tset string &lt;t&#46;cont&#46;last; #&#40;quest&#46;thing&#41;&#58;prefix# |b#&#40;quest&#46;thing&#41;&#58;alias#|xb&gt;<br/>\t\t\t\tinc &lt;t&#46;cont&#46;count&gt;<br/>\t\t\t&#125;<br/>\t\t&#125;<br/>\t\tif &#40; %t&#46;cont&#46;count% &gt; 1 &#41; then &#123;<br/>\t\t\tset numeric &lt;t&#46;cont&#46;pos; $instr&#40;#t&#46;cont&#46;list#;, #t&#46;cont&#46;last#&#41;$ - 1&gt;<br/>\t\t\tset string &lt;t&#46;cont&#46;list; $left&#40;#t&#46;cont&#46;list#;%t&#46;cont&#46;pos%&#41;$ and #t&#46;cont&#46;last#&#46;&gt;<br/>\t\t&#125;<br/>\t\telse &#123;<br/>\t\t\tset numeric &lt;t&#46;cont&#46;pos; $lengthof&#40;#t&#46;cont&#46;list#&#41;$ - 1&gt;<br/>\t\t\tset string &lt;t&#46;cont&#46;list; $left&#40;#t&#46;cont&#46;list#;%t&#46;cont&#46;pos%&#41;$&#46;&gt;<br/>\t\t&#125;<br/>\t\tmsg &lt;#t&#46;cont&#46;list#&gt;<br/>\t&#125;<br/>end define<br/><br/>define type &lt;object&gt;<br/>\tgender=it<br/>\tprefix=a<br/>\ttake<br/><br/>end define<br/><br/>define type &lt;bottle&gt;<br/>\ttype &lt;object&gt;<br/><br/>\taction &lt;hit&gt; doaction &lt;$thisobject$; break&gt;<br/>\taction &lt;smash&gt; doaction &lt;$thisobject$; break&gt;<br/>\taction &lt;break&gt; &#123;<br/>\t\tset string &lt;thisobject; $thisobject$&gt;<br/>\t\tif property &lt; #thisobject#; broken &gt; or &#40; #something# = #object# &#41; then _<br/>\t\t\tmsg &lt;You can't break it twice!&gt; _<br/>\t\telseif property &lt; #something#; soft &gt; then _<br/>\t\t\tmsg &lt;That wouldn't break the #@thisobject#!&gt; _<br/>\t\telse &#123;<br/>\t\t\tif &#40; #something# = #thisobject# &#41; then _<br/>\t\t\t\tmsg &lt;The #@thisobject# also smashes&#46;&#46;&gt; _<br/>\t\t\telseif &#40; #something# = &#41; then _<br/>\t\t\t\tmsg &lt;You smash the #@thisobject# on the ground and break the bottom off&#46;&#46; It is now sharp where it is broken&#46;&gt; _<br/>\t\t\telse &#123;<br/>\t\t\t\tmsg &lt;You smash the #@object# using the #@something#, and see the it break&#46;&gt;<br/>\t\t\t\tdebug &lt;#something#&gt;<br/>\t\t\t&#125;<br/>\t\t\tproperty &lt;$thisobject$; alias=Broken #&#40;thisobject&#41;&#58;alias#; look=It used to be&#58;|n   |i#&#40;thisobject&#41;&#58;look#|xi|nIt is now broken, and has sharp edges&#46;;broken&gt;<br/>\t\t\tif property &lt; #something#; fragile &gt; and _<br/>\t\t\t\tnot &#40; $thisobject$ = #something# &#41; and _<br/>\t\t\t\tnot property &lt; #something#; broken &gt; then _<br/>\t\t\t\tdoaction &lt; #something#; break &gt;<br/>\t\t&#125;<br/>\t\tset string &lt;something; &gt;<br/>\t&#125;<br/><br/>\tproperties &lt;fragile&gt;<br/>\t<br/>end define<br/><br/>define room &lt;inventory&gt;<br/><br/>\tdefine object &lt;self&gt;<br/>\t\tlook &#123;<br/>\t\t\tselect case &lt;$look_desc$&gt; &#123;<br/>\t\t\t\tcase &lt;0&gt; _<br/>\t\t\t\t\tmsg &lt;You look down at your body, and see that you haven't changed too much since you last looked&#46; You look well built and you feel comfortable in the jeans and t-shirt you're wearing&#46;&gt;<br/>\t\t\t\tcase &lt;1&gt; _<br/>\t\t\t\t\tmsg &lt;You pull some funny faces and wink in the mirror, pulling a quick smirk from your bag of facial expressions&#46; After some serious thought, you adjust a few strands of hair, and smile&#46;&#46;|nYou feel quite comfortable with your looks&#46;&gt;<br/>\t\t\t\tcase &lt;2&gt; _<br/>\t\t\t\t\tmsg &lt;You stare in the darkness down at yourself&#46;&gt;<br/>\t\t\t\tcase &lt;3&gt; _<br/>\t\t\t\t\tmsg &lt;You stare in the darkness at #@something#&#46;&#46; You can't even see it, let alone yourself!&gt;<br/>\t\t\t&#125;<br/>\t\t&#125;<br/>\t\tproperties &lt;invisible&gt;<br/>\tend define<br/><br/>end define<br/><br/>define function &lt;look_desc&gt;<br/>\tset numeric &lt;t&#46;look&#46;return; 0&gt;<br/>\tif flag &lt;mirror_in_use&gt; then inc &lt;t&#46;look&#46;return&gt;<br/>\tif flag &lt;darkness&gt; then inc &lt;t&#46;look&#46;return; 2&gt;<br/><br/>\treturn &lt;%t&#46;look&#46;return%&gt;<br/>end define<br/><br/>define function &lt;badcommand&gt;<br/>\tif not &#40; $instr&#40;#quest&#46;lastcommand#;_it&#41;$ = 0 &#41; and _<br/>\t\tflag &lt;t&#46;badit&gt; then _<br/>\t\t\texec &lt;#t&#46;badit&#46;first# #quest&#46;command#&gt; _<br/>\t\telse _<br/>\t\t\tmsg &lt;You try, but realise you don't know how!&gt;<br/>\tflag off &lt;t&#46;badit&gt;<br/><br/>end define<br/><br/>define function &lt;badit&gt;<br/>\tset numeric &lt;t&#46;badit&#46;pos; $instr&#40;#quest&#46;originalcommand#;_it&#41;$ &gt;<br/>\tset string &lt;t&#46;badit&#46;first; $left&#40;#quest&#46;originalcommand#;%t&#46;badit&#46;pos%&#41;$ &gt;<br/>\tflag on &lt;t&#46;badit&gt;<br/><br/>\treturn &lt;#t&#46;badit&#46;first# what?&gt;<br/>end define<br/><br/>define function &lt;posture_change&gt;<br/>' $posture_change&#40;description_for_action; posture_to_change_to; message_to_print_to_screen&#41;$<br/>' Return = SUCC | SAME | FAIL<br/><br/>\tset string &lt;t&#46;pos&#46;action; $parameter&#40;1&#41;$&gt;<br/>\tset string &lt;t&#46;pos&#46;posture; $parameter&#40;2&#41;$&gt;<br/>\tset string &lt;t&#46;pos&#46;message; $parameter&#40;3&#41;$&gt;<br/>\tset string &lt;t&#46;pos&#46;return; $posture_test&#40;#t&#46;pos&#46;posture#&#41;$&gt;<br/><br/>\tselect case &lt;#t&#46;pos&#46;return#&gt; &#123;<br/>\t\tcase &lt;FAIL&gt; _<br/>\t\t\tmsg &lt;You can't #t&#46;pos&#46;action# while you're #game&#58;posture#&#46;&gt;<br/>\t\tcase &lt;SAME&gt; _<br/>\t\t\tmsg &lt;You are already #game&#58;posture#&#46;&gt;<br/>\t\tcase &lt;SUCC&gt; &#123;<br/>\t\t\tmsg &lt;#t&#46;pos&#46;message#&gt;<br/>\t\t\tproperty &lt;game; old_posture=#game&#58;posture#; posture=#t&#46;pos&#46;posture#&gt;<br/>\t\t&#125;<br/>\t&#125;<br/><br/>\treturn &lt;#t&#46;pos&#46;return#&gt;<br/><br/>'\tselect case &lt;#game&#58;posture#&gt; &#123;<br/>'\t\tcase &lt;stuck;trapped;caught&gt; _<br/>'\t\t\tmsg &lt;You can't #t&#46;pos&#46;action# while you're #game&#58;posture#&#46;&gt;<br/>'\t\tcase &lt;#t&#46;pos&#46;posture#&gt; _<br/>'\t\t\tmsg &lt;You are already #game&#58;posture#&gt;<br/>'\t\tcase &lt;crying&gt; _<br/>'\t\t\tif &#40; #t&#46;pos&#46;posture# = #game&#58;old_posture# &#41; then _<br/>'\t\t\t\tset string &lt;t&#46;pos&#46;return; SUCC&gt; _<br/>'\t\t\telse _<br/>'\t\t\t\tmsg &lt;You're crying too hard to do that&#46;&#46;&gt;<br/>'\t\tcase else _<br/>'\t\t\tset string &lt;t&#46;pos&#46;return; SUCC&gt;<br/>'\t&#125;<br/><br/>'\tif &#40; #t&#46;pos&#46;return# = SUCC &#41; then &#123;<br/>'\t\tmsg &lt;#t&#46;pos&#46;message#&gt;<br/>'\t\tproperty &lt;game; old_posture=#game&#58;posture#; posture=#t&#46;pos&#46;posture#&gt;<br/>'\t&#125;<br/><br/>\treturn &lt;#t&#46;pos&#46;return#&gt;<br/><br/>end define<br/><br/>define function &lt;posture_test&gt;<br/>' $posture_test&#40;posture_to_change_to&#41;$<br/>' Return = SUCC | SAME | FAIL<br/><br/>\tset string &lt;t&#46;postst&#46;return; FAIL&gt;<br/>\tset string &lt;t&#46;postst&#46;same; $parameter&#40;1&#41;$&gt;<br/>\tselect case &lt;#game&#58;posture#&gt; &#123;<br/>\t\tcase &lt;stuck;trapped;caught&gt; _<br/>\t\t\tmsg &lt;|xn&gt;<br/>\t\tcase &lt;#t&#46;postst&#46;same#&gt; _<br/>\t\t\tset string &lt;t&#46;postst&#46;return; SAME&gt;<br/>\t\tcase &lt;crying&gt; _<br/>\t\t\tif &#40; $parameter&#40;1&#41;$ = #game&#58;old_posture# &#41; then _<br/>\t\t\t\tset string &lt;t&#46;postst&#46;return; SUCC&gt;<br/>\t\tcase else _<br/>\t\t\tset string &lt;t&#46;postst&#46;return; SUCC&gt;<br/>\t&#125;<br/>\treturn &lt;#t&#46;postst&#46;return#&gt;<br/><br/>end define<br/><br/>define function &lt;indent&gt;<br/>\t' Pass string, and indent value&#46;&#46; $indent&#40;#string#, %value%&#41;$<br/>\t' Returns indented string&#46;<br/><br/>\tset string &lt;indent&#46;output; BLANK&gt;<br/>\tset string &lt;indent&#46;string; $parameter&#40;1&#41;$ &gt;<br/>\tset numeric &lt;indent&#46;depth; $parameter&#40;2&#41;$ &gt;<br/>\tset numeric &lt;indent&#46;loop; 1&gt;<br/><br/>\trepeat while &#40; %indent&#46;loop% &lt; $lengthof&#40;#indent&#46;string#&#41;$ &#41; &#123;<br/>\t\tif &#40; $mid&#40;#indent&#46;string#;%indent&#46;loop%;2&#41;$ = |n &#41; then &#123;<br/>\t\t\tdec &lt;indent&#46;loop&gt;<br/>\t\t\tset string &lt;indent&#46;output; $left&#40;#indent&#46;string#;%indent&#46;loop%&#41;$&gt;<br/>\t\t\tinc &lt;indent&#46;loop; 3&gt;<br/>\t\t\tset string &lt;indent&#46;string; $mid&#40;#indent&#46;string#; %indent&#46;loop%&#41;$&gt;<br/>\t\t\tset numeric &lt;indent&#46;loop; 0&gt;<br/>\t\t&#125;<br/>\t\tif &#40; &#40;%indent&#46;loop%+1&#41; = $lengthof&#40;#indent&#46;string#&#41;$ &#41; then &#123;<br/>\t\t\tset string &lt;indent&#46;output; #indent&#46;string#&gt;<br/>\t\t&#125;<br/>\t\tif not &#40; #indent&#46;output# = BLANK &#41; then &#123;<br/>\t\t\tfor &lt;indent&#46;loop2; 1; %indent&#46;depth%&gt; _<br/>\t\t\t\tmsg &lt; |xn&gt;<br/>\t\t\tmsg &lt;#indent&#46;output#&gt;<br/>\t\t\tset string &lt;indent&#46;output; BLANK&gt;<br/>\t\t&#125;<br/>\t\tinc &lt;indent&#46;loop&gt;<br/>\t&#125;<br/><br/>end define</code></pre>",
      "PostDate": "2007-08-29T18:31:54+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "13903",
      "UserId": 0,
      "Username": "Elexxorine",
      "UserAvatar": null,
      "UserGravatar": "a220ee44d8fe2f07029cf1f61b98bf40",
      "EditableText": "Meep....... just meep....",
      "EditableFormat": "bbcode",
      "HTML": "Meep....... just meep....",
      "PostDate": "2007-10-29T14:21:03+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "13906",
      "UserId": 0,
      "Username": "paul_one",
      "UserAvatar": null,
      "UserGravatar": "fef8a1875028f4300bb683f29c432894",
      "EditableText": "Yeah, no more added to this yet..\r\n\r\nWon't be until I get bored enough to get back to it - I'm keeping myself busy with other stuff which is actually rewarding.",
      "EditableFormat": "bbcode",
      "HTML": "Yeah, no more added to this yet..<br/><br/>Won't be until I get bored enough to get back to it - I'm keeping myself busy with other stuff which is actually rewarding.",
      "PostDate": "2007-10-30T17:54:38+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "14625",
      "UserId": 0,
      "Username": "Freak",
      "UserAvatar": null,
      "UserGravatar": "325ed9ac125e00c9937be0d3aea0916d",
      "EditableText": "I played briefly, but discovered that &quot;TAKE BOTTLE&quot; will show the disambiguation prompt twice.  Following that up with &quot;DROP BOTTLE&quot; will have a prompt, even though it is unnecessary.",
      "EditableFormat": "bbcode",
      "HTML": "I played briefly, but discovered that &quot;TAKE BOTTLE&quot; will show the disambiguation prompt twice.  Following that up with &quot;DROP BOTTLE&quot; will have a prompt, even though it is unnecessary.",
      "PostDate": "2008-01-20T21:41:53+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "14627",
      "UserId": 0,
      "Username": "paul_one",
      "UserAvatar": null,
      "UserGravatar": "fef8a1875028f4300bb683f29c432894",
      "EditableText": "Yes, I really hate those.\nI'll hate to re-examine what my code's going.",
      "EditableFormat": "bbcode",
      "HTML": "Yes, I really hate those.<br/>I'll hate to re-examine what my code's going.",
      "PostDate": "2008-01-21T10:02:23+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "14631",
      "UserId": 0,
      "Username": "paul_one",
      "UserAvatar": null,
      "UserGravatar": "fef8a1875028f4300bb683f29c432894",
      "EditableText": "Thanks Freak.\n\nI did a little digging and changed my code a little for4 the common.qlb:\nExecuting take object will only ask once now - although I still don't like the way I've had to deal with re-inventing verbs.\n\nDropping the bottle isn't fixed yet - I'll hard-code that later.\nMaybe also hard-code take (because surely you don't want to identify a bottle which you don't have over a bottle you DO have).\n\n[code:3vesoqb1]!library\n    !asl-version &lt;400&gt;\n    !Common library to give room descriptions, and default answers to many commands&#46;\n    !Created by Tr0nÂ²\n\n    !addto game\n\n       startscript {\n          panes off\n          set string &lt;directions&#91;0&#93;; north&gt;\n          set string &lt;directions&#91;1&#93;; northeast&gt;\n          set string &lt;directions&#91;2&#93;; northwest&gt;\n          set string &lt;directions&#91;3&#93;; east&gt;\n          set string &lt;directions&#91;4&#93;; west&gt;\n          set string &lt;directions&#91;5&#93;; southeast&gt;\n          set string &lt;directions&#91;6&#93;; south&gt;\n          set string &lt;directions&#91;7&#93;; southwest&gt;\n          set string &lt;directions&#91;8&#93;; up&gt;\n          set string &lt;directions&#91;9&#93;; down&gt;\n       \n          set string &lt;desc&#46;rnd1&#91;0&#93;; in what seems to be,&gt;\n          set string &lt;desc&#46;rnd1&#91;1&#93;; in&gt;\n          set string &lt;desc&#46;rnd1&#91;2&#93;; in, what could be called,&gt;\n          set string &lt;desc&#46;rnd1&#91;3&#93;; inside, what you can only call,&gt;\n          set string &lt;desc&#46;rnd1&#91;4&#93;; inside&gt;\n          set string &lt;desc&#46;rnd1&#91;5&#93;; , looking around&gt;\n          set string &lt;desc&#46;rnd1&#91;6&#93;; in the middle of&gt;\n\n          set string &lt;desc&#46;rnd2&#91;0&#93;; It looks like you can go;&gt;\n          set string &lt;desc&#46;rnd2&#91;1&#93;; You see that you can go;&gt;\n          set string &lt;desc&#46;rnd2&#91;2&#93;; The exits surrounding you are;&gt;\n          set string &lt;desc&#46;rnd2&#91;3&#93;; You may go;&gt;\n          set string &lt;desc&#46;rnd2&#91;4&#93;; You're torn for choice, you can go;&gt;\n\n          set string &lt;desc&#46;rnd3&#91;0&#93;; to&gt;\n          set string &lt;desc&#46;rnd3&#91;1&#93;; toward&gt;\n          set string &lt;desc&#46;rnd3&#91;2&#93;; which is&gt;\n          set string &lt;desc&#46;rnd3&#91;3&#93;; into&gt;\n\n       }\n\n       description {\n          set numeric &lt;desc&#46;rnd1; $rand(0;6)$ &gt;\n          msg &lt;You are |cg#game&#58;posture#|cb _\n             #desc&#46;rnd1&#91;desc&#46;rnd1&#93;# _\n             #(quest&#46;currentroom)&#58;prefix# _\n             |cr#(quest&#46;currentroom)&#58;alias#|cb &gt;\n\n          if ( $left(#quest&#46;command#;1)$ = l) or _\n          not property &lt;#quest&#46;currentroom#; been_here&gt; then {\n             msg &lt;#quest&#46;lookdesc#&gt;\n             property &lt;#quest&#46;currentroom#; been_here&gt;\n             if not ( #quest&#46;formatobjects# = ) then msg &lt;You can see #quest&#46;formatobjects# here&#46; &gt;\n          }\n\n          set numeric &lt;desc&#46;rnd1; $rand(0;4)$ &gt;\n          msg &lt;#desc&#46;rnd2&#91;desc&#46;rnd1&#93;#&gt;\n          for &lt;loop&#46;1; 0; 9&gt; {\n             if not ( $objectproperty(#quest&#46;currentroom#; #directions&#91;loop&#46;1&#93;#)$ = ! ) then {\n                set string &lt;direction&#46;name; $objectproperty(#quest&#46;currentroom#; #directions&#91;loop&#46;1&#93;#)$ &gt;\n                set numeric &lt;desc&#46;rnd1; $rand(0;3)$ &gt;\n                msg &lt;       |cl#directions&#91;loop&#46;1&#93;#|cb #desc&#46;rnd3&#91;desc&#46;rnd1&#93;# #(direction&#46;name)&#58;prefix# |cr#(direction&#46;name)&#58;alias#|cb,&gt;\n             }\n          }\n       }\n\n       afterturn {\n          set string &lt;quest&#46;lastcommand; #quest&#46;command#&gt;\n          set string &lt;object; &gt;\n       }\n\n       error &lt;badthing; You don't see anything like that here&#46;&#46;&gt;\n       error &lt;badcommand; $badcommand$&gt;\n       error &lt;badgo; It doesn't seem like you can go there&#46;&#46;&gt;\n       error &lt;defaultout; It doesn't seem like you can go there&#46;&#46;&gt;\n       error &lt;badgive; You decide that you are a deserving owner, and give to yourself&#46;&#46; You are pleased with your new gift&#46;&gt;\n       error &lt;badplace; It doesn't seem like you can go there&#46;&#46;&gt;\n       error &lt;badpronoun; $badit$&gt;\n       error &lt;badput; You put it into your own hand&#46;&#46;&gt;\n       error &lt;badtake; You think about it, but decide that you can do without such an item&#46;&#46;&gt;\n       error &lt;baduse; You try to use it, but can't quite figure out |ihow|xi to&#46;&#46;&gt;\n       error &lt;defaultuse; You try to use it, but can't quite figure out |ihow|xi to&#46;&#46;&gt;\n       error &lt;cantdrop; You can't get rid of that!&gt;\n       error &lt;cantclose; You try your best, but it just won't close&#46;&#46;&gt;\n       error &lt;cantopen; You try your best, but it just won't open&#46;&#46;&gt;\n       error &lt;cantremove; You try your best, but you can't remove that&#46;&#46;&gt;\n       error &lt;cantput; You think that there are better places to put things then |ithere|xi&#46;&#46;&gt;\n       error &lt;defaultspeak; You suddenly feel something is wrong with you speaking to that&#46;&#46;&gt;\n       error &lt;noitem; You can't do that if you don't have it first&#46;&#46;&gt;\n       error &lt;itemunwanted; You decide it's better to hang onto it&#46;&#46;&gt;\n\n       ' This is taken from stdverbs&#46;lib, for standard compatibility&#46;&#46;\n       ' Edited a little because the actions were blurring together\n       command &lt;#cmn&#46;command#&#46; #cmn&#46;command2#; _\n          #cmn&#46;command#, and then #cmn&#46;command2#; _\n          #cmn&#46;command#, then #cmn&#46;command2#; _\n          #cmn&#46;command#, #cmn&#46;command2#; _\n          #cmn&#46;command# and then #cmn&#46;command2#; _\n          #cmn&#46;command# then #cmn&#46;command2#&gt; {\n          msg &lt;|n|cg|b$symbol(gt)$ #cmn&#46;command#|cb|xb&gt;\n          exec &lt;#cmn&#46;command#&gt;\n          pause &lt;500&gt;\n          if ( $instr(#cmn&#46;command2#;,)$ = 0 ) and _\n             ( $instr(#cmn&#46;command2#;_then_)$ = 0 ) then _\n                msg &lt;|n|cg|b$symbol(gt)$ #cmn&#46;command2#|xb|cb&gt;\n          exec &lt;#cmn&#46;command2#&gt;\n       }\n\n       command &lt;look around&gt; _\n          exec &lt;look&gt;\n       command &lt;look into #@object#&gt; _\n          exec &lt;look in #@object#&gt;\n       command &lt;look at ground&gt; _\n          if here &lt;$getobjectname(ground)$&gt; then _\n             exec &lt;look at ground; normal&gt; _\n          else _\n             msg &lt;You look at your feet, suddenly feeling bashful&#46;&#46;&gt;\n       command &lt;look at sky&gt; _\n          if here &lt;$getobjectname(sky)$&gt; then _\n             exec &lt;look at sky; normal&gt; _\n          else _\n             msg &lt;You look up, letting your mind wander for a few moments&#46;&#46;&gt;\n       command &lt;look on #@object#;look at #@object#&gt; _\n          exec &lt;look at #@object#; normal&gt;\n       command &lt;look at #@object# with #@something#;_\n             look at #@object# in #@something#;_\n             look down #@object# with #@something#;_\n             look in #@object# with #@something#;_\n             look in #@object# using #@something#&gt; {\n          msg &lt;You angle the #@something# just right, look into it, and see&#46;&#46;&gt;\n          if property &lt; #something#; reflective &gt; then {\n             flag on &lt;mirror_in_use&gt;\n             exec &lt;look at #@object#&gt;\n             flag off &lt;mirror_in_use&gt;\n          }\n          else _\n             exec &lt;look at #@something#&gt;\n       }\n       command &lt;look #look&#46;direction#ward;_\n             look #look&#46;direction#wards;_\n             look #look&#46;direction#&gt; {\n          for &lt;look&#46;loop; 0; 9&gt; _\n             if ( #look&#46;direction# = #directions&#91;look&#46;loop&#93;# ) and _\n                not ( $objectproperty(#quest&#46;currentroom#; #look&#46;direction#)$ = ! ) then _\n                flag on &lt;look_direction&gt;\n          if flag &lt;look_direction&gt; then {\n             set string &lt;look&#46;direction&#46;name; $objectproperty(#quest&#46;currentroom#; #look&#46;direction#)$ &gt;\n             msg &lt;You see the #(look&#46;direction&#46;name)&#58;alias# &#46;&#46;&gt;\n             flag off &lt;look_direction&gt;\n          }\n          else _\n             select case &lt;#look&#46;direction#&gt; {\n                case &lt;down&gt; _\n                   exec &lt;look at ground&gt;\n                case &lt;up&gt; _\n                   exec &lt;look at sky&gt;\n                case else _\n                   exec &lt;look #look&#46;direction#; normal&gt;\n             }\n       }\n\n       command &lt;go #direction#;_\n             n;north;ne;northeast;e;east;se;southeast;_\n             s;south;sw;southwest;w;west;nw;northwest;_\n             u;up;d;down&gt; _\n          select case &lt;#game&#58;posture#&gt; {\n             case &lt;standing; crouching; crawling; limping; crying&gt; _\n                exec &lt;#quest&#46;originalcommand#; normal&gt;\n             case else _\n                msg &lt;You can't do that while you're #game&#58;posture#&#46;&#46;&gt;\n          }\n       command &lt;put #@object# and #@object2# and #object3# on #@last_object#; _\n             put #@object#, #@object2# and #object3# on #@last_object#; _\n             put #@object# and #@object2# on #@last_object#&gt; _\n          exec &lt;put #@object# on #@last_object#, put #@object2# on #@last_object#, put #@object3# on #@last_object#&gt;\n       command &lt;put #@object# on #@last_object#&gt; _\n          exec &lt;put #@object# on #@last_object#; normal&gt;\n\n       command &lt;sit down; sit up;sit&gt; _\n          debug &lt;SIT_$posture_change(sit down;sitting;You sit down on the ground and rest&#46;&#46;)$&gt;\n       command &lt;stand up;stand&gt; _\n          debug &lt;STAND_$posture_change(stand;standing;You stand up, brushing your legs for no real reason&#46;)$&gt;\n       command &lt;lay down;lay;sleep&gt; _\n          if ( $posture_change(lay down;laying;|xn)$ = SUCC ) then {\n             msg &lt;You lay down, spread your legs out, and |xn&gt;\n             if ( $rand(1;10)$ = 5 ) then _\n                msg &lt;|cr`OUCH!`|cb hit your head!&gt; _\n             else _\n                msg &lt;lay down with your hands behind your head&#46;&gt;\n       }\n       command &lt;jump&gt; _\n          select case &lt;$posture_test(laying)$&gt; {\n             case &lt;SUCC; FAIL&gt; _\n                debug &lt;JUMP_$posture_change(jump;laying;You leap into the air, spread your arms and - fall flat on your face!|nYou are now lying on the ground&#46;)$&gt;\n             case &lt;SAME&gt; _\n                exec &lt;stand up, jump&gt;\n          }\n                \n       command &lt;cry;sob&gt; _\n          debug &lt;CRY_$posture_change(cry;crying;Your vision goes blurry and there's a sparkle in your stomach as you start to cry&#46;)$&gt;\n       command &lt;don't cry;stop crying&gt; _\n          debug &lt;STOP_CRY$posture_change(stop crying;#game&#58;old_posture#;You dry your eyes and give a poor sniffle as you stop crying&#46;)$&gt;\n       command &lt;stomp; stamp&gt; _\n          if ( $posture_change(stamp;standing;)$ = FAIL ) then _\n             msg &lt;You stomp around like a small child, waving your arms&#46;&gt;\n\n       command &lt;cut throat;cut throat #stuff#;_\n             slit throat;slit throat #stuff#;_\n             maime;maime #stuff#&gt; _\n          msg &lt;You don't need to be so graphical! Try attack, hit or kick&#46;&gt;\n       command &lt;die&gt; _\n          msg &lt;You think about jumping from a tall building for a second or two - imagining the rush of air and the sense of freedom that would come - and then snap back to reality&#46;&gt;\n       command &lt;yell;shout;cry out&gt; _\n          msg &lt;You yell at the top of your voice&#46;&#46;&gt;\n\n       command &lt;stop&gt; _\n          if ( #game&#58;posture# = crying ) then _\n             exec &lt;stop crying&gt; _\n          else _\n             msg &lt;Stop what?&gt;\n       command &lt;get up&gt; _\n          select case &lt;#game&#58;posture#&gt; {\n             case &lt;sitting;laying&gt; _\n                exec &lt;stand up&gt;\n             case &lt;hanging&gt; _\n                exec &lt;go up&gt;\n             case else _\n                msg &lt;Get up where?&gt;\n          }\n\n       command &lt;help&gt; _\n          msg &lt;Have a walk around, try out some things&#46;|n_\n             Send in some suggestions about commands which would be helpful, or nice&#46;|n_\n             debug commands&#58;|n     _\n                |cgt&#46;f1|cb       Flag 1 - set mirror flag on&#46;|n     _\n                |cgt&#46;f11|cb     Flag 1 - set mirror flag off&#46;|n     _\n                |cgt&#46;f2|cb       Flag 2 - set darkness flag on&#46;|n     _\n                |cgt&#46;f22|cb     Flag 2 - set darkness flag off&#46;|n     _\n                |cgt&#46;in|cb       Indent test&#46;|n     _\n                |cgt&#46;in2|cb     Indent test 2&#46;|n_\n             room descriptions don't (yet?) take darkness into account&#46;|n|n_\n             Commands known about&#058;|n     _\n                break; smash; crush; stomp; stamp; climb;     _\n                drink; sip; quaff; swig; eat; nibble; munch;     _\n                scoff; consume; hit; jump; leap; kick; kill;     _\n                murder; kiss; smooch; punch; pinch; sit; throw;     _\n                turn; step&gt;\n\n       command &lt;wait&gt; _\n          msg &lt;You step back and watch time roll by&#46;&#46;&gt;\n       command &lt;xyzzy&gt; _\n          msg &lt;&quot;|cgAZEEZEE|cb&#46;&#46;&#46;&quot; You cry out&#46;&#46;|n_\n             &quot;&#46;&#46;cseezzy&#46;&#46; exy-zee? &#46;&#46; exize?&quot;|n_\n             You ponder how it should be pronounced and forget why you said it in the first place&#46;&#46;&gt;\n\n       command &lt;#t&#46;command# #@object# with #@something#;_\n             #t&#46;command# #@object# using #@something#;_\n             #t&#46;command# #@object# on with #@something#;_\n             #t&#46;command# #@object# on #@something#;_\n             #t&#46;command# #@object# at #@something#;_\n             #t&#46;command# #@object# into #@something#;_\n             #t&#46;command# #@object# in #@something#;_\n             #t&#46;command# on #@object# with #@something#;_\n             #t&#46;command# on #@object#;_\n             #t&#46;command# onto #@object#;_\n             #t&#46;command# over #@object#;_\n             #t&#46;command# up #@object#;_\n             #t&#46;command# off #@object# with #@something#;_\n             #t&#46;command# off #@object#;_\n             #t&#46;command# #@object# on;_\n             #t&#46;command# #@object# off with #@something#;_\n             #t&#46;command# #@object# off;_\n             #t&#46;command# #@object#;_\n             #t&#46;command#&gt; _\n          select case &lt;#t&#46;command#&gt; {\n             case &lt;break; smash; crush; stomp; stamp; climb; _\n                drink; sip; quaff; swig; eat; nibble; munch; _\n                scoff; consume; hit; jump; leap; kick; kill; _\n                murder; kiss; smooch; punch; pinch; sit; throw; _\n                turn; step&gt; {\n\n             if action &lt; #object#; #t&#46;command# &gt; then _\n                doaction &lt;#object#; #t&#46;command#&gt; _\n             elseif property &lt; #object#; #t&#46;command# &gt; then _\n                msg &lt;$objectproperty(#object#;#t&#46;command#)$&gt; _\n             elseif ( #object# = ) then _\n                msg &lt;#t&#46;command# what?&gt; _\n             else _\n                select case &lt;#t&#46;command#&gt; {\n                   case &lt;break; smash; crush; stomp; stamp&gt; _\n                      msg &lt;You figure that breaking the #(quest&#46;lastobject)&#58;alias# isn't the right thing to do&#46;&gt;\n                   case &lt;climb&gt; _\n                      msg &lt;You can't climb the #(quest&#46;lastobject)&#58;alias#&gt;\n                   case &lt;drink; sip; quaff; swig&gt; _\n                      msg &lt;You can't drink that&#46;&gt;\n                   case &lt;eat; nibble; munch; scoff; consume&gt; _\n                      msg &lt;You don't want to eat that&#46;&gt;\n                   case &lt;hit; attack; hurt&gt; {\n                      msg &lt;You decide hitting |xn&gt;\n                      if ( #(quest&#46;lastobject)&#58;gender# = ! ) then _\n                         msg &lt;it |xn&gt; _\n                      else _\n                         msg &lt;#(quest&#46;lastobject)&#58;gender# |xn&gt;\n                      msg &lt;would be a bad choice&#46;&gt;\n                   }\n                   case &lt;jump; leap&gt; _\n                      msg &lt;You can't jump that!&gt;\n                   case &lt;kick&gt; _\n                      msg &lt;You don't have the courage to kick the #(quest&#46;lastobject)&#58;alias#&#46;&#46;&gt;\n                   case &lt;kill; murder&gt; _\n                      if ( #(object)&#58;gender# = him ) or ( #(object)&#58;gender# = her ) then _\n                         msg &lt;You decide that killing #(object)&#58;gender# is the wrong thing to do&#46;&#46;&gt; _\n                      else _\n                         msg &lt;Can you actually kill #(object)&#58;prefix# #(object)&#58;alias#!?&gt;\n                   case &lt;kiss; smooch&gt; _\n                      msg &lt;You stare, your eyes misted over as you play the kiss over in your mind&#46;&#46;&gt;\n                   case &lt;punch&gt; _\n                      msg &lt;You imagine your fist flying through the air, and then reality snaps back into place&#46;&#46;&gt;\n                   case &lt;pinch&gt; _\n                      msg &lt;You sqeeze your fingers together, but decide you look silly and immediately stop&#46;&gt;\n                   case &lt;sit&gt; {\n                      msg &lt;You'd rather not sit on |xn&gt;\n                      if ( #(quest&#46;lastobject)&#58;gender# = ! ) then _\n                         msg &lt;it&#46;&gt; _\n                      else _\n                         msg &lt;#(quest&#46;lastobject)&#58;gender#&#46;&gt;\n                   }\n                   case &lt;step&gt; _\n                      msg &lt;Your feet are more comfortable where they are&#46;&gt;\n                   case &lt;throw&gt; _\n                      msg &lt;You position yourself carefully, but then decide you'd rather not&#46;&#46;&gt;\n                   case &lt;turn&gt; {\n                      msg &lt;You try to find a way to turn the #(quest&#46;lastobject)&#58;alias#|xn&gt;\n                      if ( $instr(#quest&#46;command#;_on)$ &gt; 0 ) then _\n                         msg &lt; on|xn&gt; _\n                      elseif ( $instr(#quest&#46;command#;_off)$ &gt; 0 ) then _\n                         msg &lt; off|xn&gt;\n                      msg &lt;, but can't quite figure out how you could&#46;&gt;\n                   }\n                }\n             }\n             case else _\n                exec &lt;#t&#46;command# #@object#; normal&gt;\n          }\n\n'       command &lt;#t&#46;command# ;#t&#46;command#&gt; select case &lt;#t&#46;command#&gt; {\n'          case &lt;break; smash; crush; stomp; stamp; climb; _\n'             drink; sip; quaff; swig; eat; nibble; munch; _\n'             scoff; consume; hit; jump; leap; kick; kill; _\n'             murder; kiss; smooch; punch; pinch; sit; throw; _\n'             turn; step&gt; _\n'             msg &lt;#t&#46;command# what?&gt;\n'          case else _\n'             exec &lt;#quest&#46;command#; normal&gt;\n'       }\n          \n\n\n    !end\n\n    define synonyms\n       yourself; myself; me; you = self\n       n = north\n       n, = north,\n       s = south\n       s, = south,\n       e = east\n       e, = east,\n       w = west\n       w, = west,\n       ne = northeast\n       ne, = notheast,\n       nw = northwest\n       nw, = northwest,\n       se = southeast\n       se, = southeast,\n       sw = southwest\n       sw, = southwest,\n       l = look\n       l, = look,\n       i; inv = inventory\n       i,; inv, = inventory,\n    end define\n\n    define type &lt;surface&gt;\n       container\n       surface\n       add\n       remove\n\n       action &lt;list&gt; {\n          msg &lt;On the #@object# you see |xn&gt;\n          set string &lt;t&#46;cont&#46;list; &gt;\n          set numeric &lt;t&#46;cont&#46;count; 0&gt;\n          for each object in &lt;#quest&#46;currentroom#&gt; {\n             if ( #(quest&#46;thing)&#58;parent# = #object# ) and _\n                not property &lt;#quest&#46;thing#; invisible&gt; then {\n                set string &lt;t&#46;cont&#46;list; #t&#46;cont&#46;list# #(quest&#46;thing)&#58;prefix# |b#(quest&#46;thing)&#58;alias#|xb,&gt;\n                set string &lt;t&#46;cont&#46;last; #(quest&#46;thing)&#58;prefix# |b#(quest&#46;thing)&#58;alias#|xb&gt;\n                inc &lt;t&#46;cont&#46;count&gt;\n             }\n          }\n          if ( %t&#46;cont&#46;count% &gt; 1 ) then {\n             set numeric &lt;t&#46;cont&#46;pos; $instr(#t&#46;cont&#46;list#;, #t&#46;cont&#46;last#)$ - 1&gt;\n             set string &lt;t&#46;cont&#46;list; $left(#t&#46;cont&#46;list#;%t&#46;cont&#46;pos%)$ and #t&#46;cont&#46;last#&#46;&gt;\n          }\n          else {\n             set numeric &lt;t&#46;cont&#46;pos; $lengthof(#t&#46;cont&#46;list#)$ - 1&gt;\n             set string &lt;t&#46;cont&#46;list; $left(#t&#46;cont&#46;list#;%t&#46;cont&#46;pos%)$&#46;&gt;\n          }\n          msg &lt;#t&#46;cont&#46;list#&gt;\n       }\n    end define\n\n    define type &lt;object&gt;\n       gender=it\n       prefix=a\n       take\n\n    end define\n\n    define type &lt;bottle&gt;\n       type &lt;object&gt;\n\n       action &lt;hit&gt; doaction &lt;$thisobject$; break&gt;\n       action &lt;smash&gt; doaction &lt;$thisobject$; break&gt;\n       action &lt;break&gt; {\n          set string &lt;thisobject; $thisobject$&gt;\n          if property &lt; #thisobject#; broken &gt; or ( #something# = #object# ) then _\n             msg &lt;You can't break it twice!&gt; _\n          elseif property &lt; #something#; soft &gt; then _\n             msg &lt;That wouldn't break the #@thisobject#!&gt; _\n          else {\n             if ( #something# = #thisobject# ) then _\n                msg &lt;The #@thisobject# also smashes&#46;&#46;&gt; _\n             elseif ( #something# = ) then _\n                msg &lt;You smash the #@thisobject# on the ground and break the bottom off&#46;&#46; It is now sharp where it is broken&#46;&gt; _\n             else {\n                msg &lt;You smash the #@object# using the #@something#, and see the it break&#46;&gt;\n                debug &lt;#something#&gt;\n             }\n             property &lt;$thisobject$; alias=Broken #(thisobject)&#58;alias#; look=It used to be&#58;|n   |i#(thisobject)&#58;look#|xi|nIt is now broken, and has sharp edges&#46;;broken&gt;\n             if property &lt; #something#; fragile &gt; and _\n                not ( $thisobject$ = #something# ) and _\n                not property &lt; #something#; broken &gt; then _\n                doaction &lt; #something#; break &gt;\n          }\n          set string &lt;something; &gt;\n       }\n\n       properties &lt;fragile&gt;\n       \n    end define\n\n    define room &lt;inventory&gt;\n\n       define object &lt;self&gt;\n          look {\n             select case &lt;$look_desc$&gt; {\n                case &lt;0&gt; _\n                   msg &lt;You look down at your body, and see that you haven't changed too much since you last looked&#46; You look well built and you feel comfortable in the jeans and t-shirt you're wearing&#46;&gt;\n                case &lt;1&gt; _\n                   msg &lt;You pull some funny faces and wink in the mirror, pulling a quick smirk from your bag of facial expressions&#46; After some serious thought, you adjust a few strands of hair, and smile&#46;&#46;|nYou feel quite comfortable with your looks&#46;&gt;\n                case &lt;2&gt; _\n                   msg &lt;You stare in the darkness down at yourself&#46;&gt;\n                case &lt;3&gt; _\n                   msg &lt;You stare in the darkness at #@something#&#46;&#46; You can't even see it, let alone yourself!&gt;\n             }\n          }\n          properties &lt;invisible&gt;\n       end define\n\n    end define\n\n    define function &lt;look_desc&gt;\n       set numeric &lt;t&#46;look&#46;return; 0&gt;\n       if flag &lt;mirror_in_use&gt; then inc &lt;t&#46;look&#46;return&gt;\n       if flag &lt;darkness&gt; then inc &lt;t&#46;look&#46;return; 2&gt;\n\n       return &lt;%t&#46;look&#46;return%&gt;\n    end define\n\n    define function &lt;badcommand&gt;\n       if not ( $instr(#quest&#46;lastcommand#;_it)$ = 0 ) and _\n          flag &lt;t&#46;badit&gt; then _\n             exec &lt;#t&#46;badit&#46;first# #quest&#46;command#&gt; _\n          else _\n             msg &lt;You try, but realise you don't know how!|xn&gt;\n       flag off &lt;t&#46;badit&gt;\n\n    end define\n\n    define function &lt;badit&gt;\n       set numeric &lt;t&#46;badit&#46;pos; $instr(#quest&#46;originalcommand#;_it)$ &gt;\n       set string &lt;t&#46;badit&#46;first; $left(#quest&#46;originalcommand#;%t&#46;badit&#46;pos%)$ &gt;\n       flag on &lt;t&#46;badit&gt;\n\n       return &lt;#t&#46;badit&#46;first# what?&gt;\n    end define\n\n    define function &lt;posture_change&gt;\n    ' $posture_change(description_for_action; posture_to_change_to; message_to_print_to_screen)$\n    ' Return = SUCC | SAME | FAIL\n\n       set string &lt;t&#46;pos&#46;action; $parameter(1)$&gt;\n       set string &lt;t&#46;pos&#46;posture; $parameter(2)$&gt;\n       set string &lt;t&#46;pos&#46;message; $parameter(3)$&gt;\n       set string &lt;t&#46;pos&#46;return; $posture_test(#t&#46;pos&#46;posture#)$&gt;\n\n       select case &lt;#t&#46;pos&#46;return#&gt; {\n          case &lt;FAIL&gt; _\n             msg &lt;You can't #t&#46;pos&#46;action# while you're #game&#58;posture#&#46;&gt;\n          case &lt;SAME&gt; _\n             msg &lt;You are already #game&#58;posture#&#46;&gt;\n          case &lt;SUCC&gt; {\n             msg &lt;#t&#46;pos&#46;message#&gt;\n             property &lt;game; old_posture=#game&#58;posture#; posture=#t&#46;pos&#46;posture#&gt;\n          }\n       }\n\n       return &lt;#t&#46;pos&#46;return#&gt;\n\n    '   select case &lt;#game&#58;posture#&gt; {\n    '      case &lt;stuck;trapped;caught&gt; _\n    '         msg &lt;You can't #t&#46;pos&#46;action# while you're #game&#58;posture#&#46;&gt;\n    '      case &lt;#t&#46;pos&#46;posture#&gt; _\n    '         msg &lt;You are already #game&#58;posture#&gt;\n    '      case &lt;crying&gt; _\n    '         if ( #t&#46;pos&#46;posture# = #game&#58;old_posture# ) then _\n    '            set string &lt;t&#46;pos&#46;return; SUCC&gt; _\n    '         else _\n    '            msg &lt;You're crying too hard to do that&#46;&#46;&gt;\n    '      case else _\n    '         set string &lt;t&#46;pos&#46;return; SUCC&gt;\n    '   }\n\n    '   if ( #t&#46;pos&#46;return# = SUCC ) then {\n    '      msg &lt;#t&#46;pos&#46;message#&gt;\n    '      property &lt;game; old_posture=#game&#58;posture#; posture=#t&#46;pos&#46;posture#&gt;\n    '   }\n\n       return &lt;#t&#46;pos&#46;return#&gt;\n\n    end define\n\n    define function &lt;posture_test&gt;\n    ' $posture_test(posture_to_change_to)$\n    ' Return = SUCC | SAME | FAIL\n\n       set string &lt;t&#46;postst&#46;return; FAIL&gt;\n       set string &lt;t&#46;postst&#46;same; $parameter(1)$&gt;\n       select case &lt;#game&#58;posture#&gt; {\n          case &lt;stuck;trapped;caught&gt; _\n             msg &lt;|xn&gt;\n          case &lt;#t&#46;postst&#46;same#&gt; _\n             set string &lt;t&#46;postst&#46;return; SAME&gt;\n          case &lt;crying&gt; _\n             if ( $parameter(1)$ = #game&#58;old_posture# ) then _\n                set string &lt;t&#46;postst&#46;return; SUCC&gt;\n          case else _\n             set string &lt;t&#46;postst&#46;return; SUCC&gt;\n       }\n       return &lt;#t&#46;postst&#46;return#&gt;\n\n    end define[/code:3vesoqb1]",
      "EditableFormat": "bbcode",
      "HTML": "Thanks Freak.<br/><br/>I did a little digging and changed my code a little for4 the common.qlb:<br/>Executing take object will only ask once now - although I still don't like the way I've had to deal with re-inventing verbs.<br/><br/>Dropping the bottle isn't fixed yet - I'll hard-code that later.<br/>Maybe also hard-code take (because surely you don't want to identify a bottle which you don't have over a bottle you DO have).<br/><br/><pre><code>!library<br/>    !asl-version &lt;400&gt;<br/>    !Common library to give room descriptions, and default answers to many commands&#46;<br/>    !Created by Tr0nÂ²<br/><br/>    !addto game<br/><br/>       startscript {<br/>          panes off<br/>          set string &lt;directions&#91;0&#93;; north&gt;<br/>          set string &lt;directions&#91;1&#93;; northeast&gt;<br/>          set string &lt;directions&#91;2&#93;; northwest&gt;<br/>          set string &lt;directions&#91;3&#93;; east&gt;<br/>          set string &lt;directions&#91;4&#93;; west&gt;<br/>          set string &lt;directions&#91;5&#93;; southeast&gt;<br/>          set string &lt;directions&#91;6&#93;; south&gt;<br/>          set string &lt;directions&#91;7&#93;; southwest&gt;<br/>          set string &lt;directions&#91;8&#93;; up&gt;<br/>          set string &lt;directions&#91;9&#93;; down&gt;<br/>       <br/>          set string &lt;desc&#46;rnd1&#91;0&#93;; in what seems to be,&gt;<br/>          set string &lt;desc&#46;rnd1&#91;1&#93;; in&gt;<br/>          set string &lt;desc&#46;rnd1&#91;2&#93;; in, what could be called,&gt;<br/>          set string &lt;desc&#46;rnd1&#91;3&#93;; inside, what you can only call,&gt;<br/>          set string &lt;desc&#46;rnd1&#91;4&#93;; inside&gt;<br/>          set string &lt;desc&#46;rnd1&#91;5&#93;; , looking around&gt;<br/>          set string &lt;desc&#46;rnd1&#91;6&#93;; in the middle of&gt;<br/><br/>          set string &lt;desc&#46;rnd2&#91;0&#93;; It looks like you can go;&gt;<br/>          set string &lt;desc&#46;rnd2&#91;1&#93;; You see that you can go;&gt;<br/>          set string &lt;desc&#46;rnd2&#91;2&#93;; The exits surrounding you are;&gt;<br/>          set string &lt;desc&#46;rnd2&#91;3&#93;; You may go;&gt;<br/>          set string &lt;desc&#46;rnd2&#91;4&#93;; You're torn for choice, you can go;&gt;<br/><br/>          set string &lt;desc&#46;rnd3&#91;0&#93;; to&gt;<br/>          set string &lt;desc&#46;rnd3&#91;1&#93;; toward&gt;<br/>          set string &lt;desc&#46;rnd3&#91;2&#93;; which is&gt;<br/>          set string &lt;desc&#46;rnd3&#91;3&#93;; into&gt;<br/><br/>       }<br/><br/>       description {<br/>          set numeric &lt;desc&#46;rnd1; $rand(0;6)$ &gt;<br/>          msg &lt;You are |cg#game&#58;posture#|cb _<br/>             #desc&#46;rnd1&#91;desc&#46;rnd1&#93;# _<br/>             #(quest&#46;currentroom)&#58;prefix# _<br/>             |cr#(quest&#46;currentroom)&#58;alias#|cb &gt;<br/><br/>          if ( $left(#quest&#46;command#;1)$ = l) or _<br/>          not property &lt;#quest&#46;currentroom#; been_here&gt; then {<br/>             msg &lt;#quest&#46;lookdesc#&gt;<br/>             property &lt;#quest&#46;currentroom#; been_here&gt;<br/>             if not ( #quest&#46;formatobjects# = ) then msg &lt;You can see #quest&#46;formatobjects# here&#46; &gt;<br/>          }<br/><br/>          set numeric &lt;desc&#46;rnd1; $rand(0;4)$ &gt;<br/>          msg &lt;#desc&#46;rnd2&#91;desc&#46;rnd1&#93;#&gt;<br/>          for &lt;loop&#46;1; 0; 9&gt; {<br/>             if not ( $objectproperty(#quest&#46;currentroom#; #directions&#91;loop&#46;1&#93;#)$ = ! ) then {<br/>                set string &lt;direction&#46;name; $objectproperty(#quest&#46;currentroom#; #directions&#91;loop&#46;1&#93;#)$ &gt;<br/>                set numeric &lt;desc&#46;rnd1; $rand(0;3)$ &gt;<br/>                msg &lt;       |cl#directions&#91;loop&#46;1&#93;#|cb #desc&#46;rnd3&#91;desc&#46;rnd1&#93;# #(direction&#46;name)&#58;prefix# |cr#(direction&#46;name)&#58;alias#|cb,&gt;<br/>             }<br/>          }<br/>       }<br/><br/>       afterturn {<br/>          set string &lt;quest&#46;lastcommand; #quest&#46;command#&gt;<br/>          set string &lt;object; &gt;<br/>       }<br/><br/>       error &lt;badthing; You don't see anything like that here&#46;&#46;&gt;<br/>       error &lt;badcommand; $badcommand$&gt;<br/>       error &lt;badgo; It doesn't seem like you can go there&#46;&#46;&gt;<br/>       error &lt;defaultout; It doesn't seem like you can go there&#46;&#46;&gt;<br/>       error &lt;badgive; You decide that you are a deserving owner, and give to yourself&#46;&#46; You are pleased with your new gift&#46;&gt;<br/>       error &lt;badplace; It doesn't seem like you can go there&#46;&#46;&gt;<br/>       error &lt;badpronoun; $badit$&gt;<br/>       error &lt;badput; You put it into your own hand&#46;&#46;&gt;<br/>       error &lt;badtake; You think about it, but decide that you can do without such an item&#46;&#46;&gt;<br/>       error &lt;baduse; You try to use it, but can't quite figure out |ihow|xi to&#46;&#46;&gt;<br/>       error &lt;defaultuse; You try to use it, but can't quite figure out |ihow|xi to&#46;&#46;&gt;<br/>       error &lt;cantdrop; You can't get rid of that!&gt;<br/>       error &lt;cantclose; You try your best, but it just won't close&#46;&#46;&gt;<br/>       error &lt;cantopen; You try your best, but it just won't open&#46;&#46;&gt;<br/>       error &lt;cantremove; You try your best, but you can't remove that&#46;&#46;&gt;<br/>       error &lt;cantput; You think that there are better places to put things then |ithere|xi&#46;&#46;&gt;<br/>       error &lt;defaultspeak; You suddenly feel something is wrong with you speaking to that&#46;&#46;&gt;<br/>       error &lt;noitem; You can't do that if you don't have it first&#46;&#46;&gt;<br/>       error &lt;itemunwanted; You decide it's better to hang onto it&#46;&#46;&gt;<br/><br/>       ' This is taken from stdverbs&#46;lib, for standard compatibility&#46;&#46;<br/>       ' Edited a little because the actions were blurring together<br/>       command &lt;#cmn&#46;command#&#46; #cmn&#46;command2#; _<br/>          #cmn&#46;command#, and then #cmn&#46;command2#; _<br/>          #cmn&#46;command#, then #cmn&#46;command2#; _<br/>          #cmn&#46;command#, #cmn&#46;command2#; _<br/>          #cmn&#46;command# and then #cmn&#46;command2#; _<br/>          #cmn&#46;command# then #cmn&#46;command2#&gt; {<br/>          msg &lt;|n|cg|b$symbol(gt)$ #cmn&#46;command#|cb|xb&gt;<br/>          exec &lt;#cmn&#46;command#&gt;<br/>          pause &lt;500&gt;<br/>          if ( $instr(#cmn&#46;command2#;,)$ = 0 ) and _<br/>             ( $instr(#cmn&#46;command2#;_then_)$ = 0 ) then _<br/>                msg &lt;|n|cg|b$symbol(gt)$ #cmn&#46;command2#|xb|cb&gt;<br/>          exec &lt;#cmn&#46;command2#&gt;<br/>       }<br/><br/>       command &lt;look around&gt; _<br/>          exec &lt;look&gt;<br/>       command &lt;look into #@object#&gt; _<br/>          exec &lt;look in #@object#&gt;<br/>       command &lt;look at ground&gt; _<br/>          if here &lt;$getobjectname(ground)$&gt; then _<br/>             exec &lt;look at ground; normal&gt; _<br/>          else _<br/>             msg &lt;You look at your feet, suddenly feeling bashful&#46;&#46;&gt;<br/>       command &lt;look at sky&gt; _<br/>          if here &lt;$getobjectname(sky)$&gt; then _<br/>             exec &lt;look at sky; normal&gt; _<br/>          else _<br/>             msg &lt;You look up, letting your mind wander for a few moments&#46;&#46;&gt;<br/>       command &lt;look on #@object#;look at #@object#&gt; _<br/>          exec &lt;look at #@object#; normal&gt;<br/>       command &lt;look at #@object# with #@something#;_<br/>             look at #@object# in #@something#;_<br/>             look down #@object# with #@something#;_<br/>             look in #@object# with #@something#;_<br/>             look in #@object# using #@something#&gt; {<br/>          msg &lt;You angle the #@something# just right, look into it, and see&#46;&#46;&gt;<br/>          if property &lt; #something#; reflective &gt; then {<br/>             flag on &lt;mirror_in_use&gt;<br/>             exec &lt;look at #@object#&gt;<br/>             flag off &lt;mirror_in_use&gt;<br/>          }<br/>          else _<br/>             exec &lt;look at #@something#&gt;<br/>       }<br/>       command &lt;look #look&#46;direction#ward;_<br/>             look #look&#46;direction#wards;_<br/>             look #look&#46;direction#&gt; {<br/>          for &lt;look&#46;loop; 0; 9&gt; _<br/>             if ( #look&#46;direction# = #directions&#91;look&#46;loop&#93;# ) and _<br/>                not ( $objectproperty(#quest&#46;currentroom#; #look&#46;direction#)$ = ! ) then _<br/>                flag on &lt;look_direction&gt;<br/>          if flag &lt;look_direction&gt; then {<br/>             set string &lt;look&#46;direction&#46;name; $objectproperty(#quest&#46;currentroom#; #look&#46;direction#)$ &gt;<br/>             msg &lt;You see the #(look&#46;direction&#46;name)&#58;alias# &#46;&#46;&gt;<br/>             flag off &lt;look_direction&gt;<br/>          }<br/>          else _<br/>             select case &lt;#look&#46;direction#&gt; {<br/>                case &lt;down&gt; _<br/>                   exec &lt;look at ground&gt;<br/>                case &lt;up&gt; _<br/>                   exec &lt;look at sky&gt;<br/>                case else _<br/>                   exec &lt;look #look&#46;direction#; normal&gt;<br/>             }<br/>       }<br/><br/>       command &lt;go #direction#;_<br/>             n;north;ne;northeast;e;east;se;southeast;_<br/>             s;south;sw;southwest;w;west;nw;northwest;_<br/>             u;up;d;down&gt; _<br/>          select case &lt;#game&#58;posture#&gt; {<br/>             case &lt;standing; crouching; crawling; limping; crying&gt; _<br/>                exec &lt;#quest&#46;originalcommand#; normal&gt;<br/>             case else _<br/>                msg &lt;You can't do that while you're #game&#58;posture#&#46;&#46;&gt;<br/>          }<br/>       command &lt;put #@object# and #@object2# and #object3# on #@last_object#; _<br/>             put #@object#, #@object2# and #object3# on #@last_object#; _<br/>             put #@object# and #@object2# on #@last_object#&gt; _<br/>          exec &lt;put #@object# on #@last_object#, put #@object2# on #@last_object#, put #@object3# on #@last_object#&gt;<br/>       command &lt;put #@object# on #@last_object#&gt; _<br/>          exec &lt;put #@object# on #@last_object#; normal&gt;<br/><br/>       command &lt;sit down; sit up;sit&gt; _<br/>          debug &lt;SIT_$posture_change(sit down;sitting;You sit down on the ground and rest&#46;&#46;)$&gt;<br/>       command &lt;stand up;stand&gt; _<br/>          debug &lt;STAND_$posture_change(stand;standing;You stand up, brushing your legs for no real reason&#46;)$&gt;<br/>       command &lt;lay down;lay;sleep&gt; _<br/>          if ( $posture_change(lay down;laying;|xn)$ = SUCC ) then {<br/>             msg &lt;You lay down, spread your legs out, and |xn&gt;<br/>             if ( $rand(1;10)$ = 5 ) then _<br/>                msg &lt;|cr`OUCH!`|cb hit your head!&gt; _<br/>             else _<br/>                msg &lt;lay down with your hands behind your head&#46;&gt;<br/>       }<br/>       command &lt;jump&gt; _<br/>          select case &lt;$posture_test(laying)$&gt; {<br/>             case &lt;SUCC; FAIL&gt; _<br/>                debug &lt;JUMP_$posture_change(jump;laying;You leap into the air, spread your arms and - fall flat on your face!|nYou are now lying on the ground&#46;)$&gt;<br/>             case &lt;SAME&gt; _<br/>                exec &lt;stand up, jump&gt;<br/>          }<br/>                <br/>       command &lt;cry;sob&gt; _<br/>          debug &lt;CRY_$posture_change(cry;crying;Your vision goes blurry and there's a sparkle in your stomach as you start to cry&#46;)$&gt;<br/>       command &lt;don't cry;stop crying&gt; _<br/>          debug &lt;STOP_CRY$posture_change(stop crying;#game&#58;old_posture#;You dry your eyes and give a poor sniffle as you stop crying&#46;)$&gt;<br/>       command &lt;stomp; stamp&gt; _<br/>          if ( $posture_change(stamp;standing;)$ = FAIL ) then _<br/>             msg &lt;You stomp around like a small child, waving your arms&#46;&gt;<br/><br/>       command &lt;cut throat;cut throat #stuff#;_<br/>             slit throat;slit throat #stuff#;_<br/>             maime;maime #stuff#&gt; _<br/>          msg &lt;You don't need to be so graphical! Try attack, hit or kick&#46;&gt;<br/>       command &lt;die&gt; _<br/>          msg &lt;You think about jumping from a tall building for a second or two - imagining the rush of air and the sense of freedom that would come - and then snap back to reality&#46;&gt;<br/>       command &lt;yell;shout;cry out&gt; _<br/>          msg &lt;You yell at the top of your voice&#46;&#46;&gt;<br/><br/>       command &lt;stop&gt; _<br/>          if ( #game&#58;posture# = crying ) then _<br/>             exec &lt;stop crying&gt; _<br/>          else _<br/>             msg &lt;Stop what?&gt;<br/>       command &lt;get up&gt; _<br/>          select case &lt;#game&#58;posture#&gt; {<br/>             case &lt;sitting;laying&gt; _<br/>                exec &lt;stand up&gt;<br/>             case &lt;hanging&gt; _<br/>                exec &lt;go up&gt;<br/>             case else _<br/>                msg &lt;Get up where?&gt;<br/>          }<br/><br/>       command &lt;help&gt; _<br/>          msg &lt;Have a walk around, try out some things&#46;|n_<br/>             Send in some suggestions about commands which would be helpful, or nice&#46;|n_<br/>             debug commands&#58;|n     _<br/>                |cgt&#46;f1|cb       Flag 1 - set mirror flag on&#46;|n     _<br/>                |cgt&#46;f11|cb     Flag 1 - set mirror flag off&#46;|n     _<br/>                |cgt&#46;f2|cb       Flag 2 - set darkness flag on&#46;|n     _<br/>                |cgt&#46;f22|cb     Flag 2 - set darkness flag off&#46;|n     _<br/>                |cgt&#46;in|cb       Indent test&#46;|n     _<br/>                |cgt&#46;in2|cb     Indent test 2&#46;|n_<br/>             room descriptions don't (yet?) take darkness into account&#46;|n|n_<br/>             Commands known about&#058;|n     _<br/>                break; smash; crush; stomp; stamp; climb;     _<br/>                drink; sip; quaff; swig; eat; nibble; munch;     _<br/>                scoff; consume; hit; jump; leap; kick; kill;     _<br/>                murder; kiss; smooch; punch; pinch; sit; throw;     _<br/>                turn; step&gt;<br/><br/>       command &lt;wait&gt; _<br/>          msg &lt;You step back and watch time roll by&#46;&#46;&gt;<br/>       command &lt;xyzzy&gt; _<br/>          msg &lt;&quot;|cgAZEEZEE|cb&#46;&#46;&#46;&quot; You cry out&#46;&#46;|n_<br/>             &quot;&#46;&#46;cseezzy&#46;&#46; exy-zee? &#46;&#46; exize?&quot;|n_<br/>             You ponder how it should be pronounced and forget why you said it in the first place&#46;&#46;&gt;<br/><br/>       command &lt;#t&#46;command# #@object# with #@something#;_<br/>             #t&#46;command# #@object# using #@something#;_<br/>             #t&#46;command# #@object# on with #@something#;_<br/>             #t&#46;command# #@object# on #@something#;_<br/>             #t&#46;command# #@object# at #@something#;_<br/>             #t&#46;command# #@object# into #@something#;_<br/>             #t&#46;command# #@object# in #@something#;_<br/>             #t&#46;command# on #@object# with #@something#;_<br/>             #t&#46;command# on #@object#;_<br/>             #t&#46;command# onto #@object#;_<br/>             #t&#46;command# over #@object#;_<br/>             #t&#46;command# up #@object#;_<br/>             #t&#46;command# off #@object# with #@something#;_<br/>             #t&#46;command# off #@object#;_<br/>             #t&#46;command# #@object# on;_<br/>             #t&#46;command# #@object# off with #@something#;_<br/>             #t&#46;command# #@object# off;_<br/>             #t&#46;command# #@object#;_<br/>             #t&#46;command#&gt; _<br/>          select case &lt;#t&#46;command#&gt; {<br/>             case &lt;break; smash; crush; stomp; stamp; climb; _<br/>                drink; sip; quaff; swig; eat; nibble; munch; _<br/>                scoff; consume; hit; jump; leap; kick; kill; _<br/>                murder; kiss; smooch; punch; pinch; sit; throw; _<br/>                turn; step&gt; {<br/><br/>             if action &lt; #object#; #t&#46;command# &gt; then _<br/>                doaction &lt;#object#; #t&#46;command#&gt; _<br/>             elseif property &lt; #object#; #t&#46;command# &gt; then _<br/>                msg &lt;$objectproperty(#object#;#t&#46;command#)$&gt; _<br/>             elseif ( #object# = ) then _<br/>                msg &lt;#t&#46;command# what?&gt; _<br/>             else _<br/>                select case &lt;#t&#46;command#&gt; {<br/>                   case &lt;break; smash; crush; stomp; stamp&gt; _<br/>                      msg &lt;You figure that breaking the #(quest&#46;lastobject)&#58;alias# isn't the right thing to do&#46;&gt;<br/>                   case &lt;climb&gt; _<br/>                      msg &lt;You can't climb the #(quest&#46;lastobject)&#58;alias#&gt;<br/>                   case &lt;drink; sip; quaff; swig&gt; _<br/>                      msg &lt;You can't drink that&#46;&gt;<br/>                   case &lt;eat; nibble; munch; scoff; consume&gt; _<br/>                      msg &lt;You don't want to eat that&#46;&gt;<br/>                   case &lt;hit; attack; hurt&gt; {<br/>                      msg &lt;You decide hitting |xn&gt;<br/>                      if ( #(quest&#46;lastobject)&#58;gender# = ! ) then _<br/>                         msg &lt;it |xn&gt; _<br/>                      else _<br/>                         msg &lt;#(quest&#46;lastobject)&#58;gender# |xn&gt;<br/>                      msg &lt;would be a bad choice&#46;&gt;<br/>                   }<br/>                   case &lt;jump; leap&gt; _<br/>                      msg &lt;You can't jump that!&gt;<br/>                   case &lt;kick&gt; _<br/>                      msg &lt;You don't have the courage to kick the #(quest&#46;lastobject)&#58;alias#&#46;&#46;&gt;<br/>                   case &lt;kill; murder&gt; _<br/>                      if ( #(object)&#58;gender# = him ) or ( #(object)&#58;gender# = her ) then _<br/>                         msg &lt;You decide that killing #(object)&#58;gender# is the wrong thing to do&#46;&#46;&gt; _<br/>                      else _<br/>                         msg &lt;Can you actually kill #(object)&#58;prefix# #(object)&#58;alias#!?&gt;<br/>                   case &lt;kiss; smooch&gt; _<br/>                      msg &lt;You stare, your eyes misted over as you play the kiss over in your mind&#46;&#46;&gt;<br/>                   case &lt;punch&gt; _<br/>                      msg &lt;You imagine your fist flying through the air, and then reality snaps back into place&#46;&#46;&gt;<br/>                   case &lt;pinch&gt; _<br/>                      msg &lt;You sqeeze your fingers together, but decide you look silly and immediately stop&#46;&gt;<br/>                   case &lt;sit&gt; {<br/>                      msg &lt;You'd rather not sit on |xn&gt;<br/>                      if ( #(quest&#46;lastobject)&#58;gender# = ! ) then _<br/>                         msg &lt;it&#46;&gt; _<br/>                      else _<br/>                         msg &lt;#(quest&#46;lastobject)&#58;gender#&#46;&gt;<br/>                   }<br/>                   case &lt;step&gt; _<br/>                      msg &lt;Your feet are more comfortable where they are&#46;&gt;<br/>                   case &lt;throw&gt; _<br/>                      msg &lt;You position yourself carefully, but then decide you'd rather not&#46;&#46;&gt;<br/>                   case &lt;turn&gt; {<br/>                      msg &lt;You try to find a way to turn the #(quest&#46;lastobject)&#58;alias#|xn&gt;<br/>                      if ( $instr(#quest&#46;command#;_on)$ &gt; 0 ) then _<br/>                         msg &lt; on|xn&gt; _<br/>                      elseif ( $instr(#quest&#46;command#;_off)$ &gt; 0 ) then _<br/>                         msg &lt; off|xn&gt;<br/>                      msg &lt;, but can't quite figure out how you could&#46;&gt;<br/>                   }<br/>                }<br/>             }<br/>             case else _<br/>                exec &lt;#t&#46;command# #@object#; normal&gt;<br/>          }<br/><br/>'       command &lt;#t&#46;command# ;#t&#46;command#&gt; select case &lt;#t&#46;command#&gt; {<br/>'          case &lt;break; smash; crush; stomp; stamp; climb; _<br/>'             drink; sip; quaff; swig; eat; nibble; munch; _<br/>'             scoff; consume; hit; jump; leap; kick; kill; _<br/>'             murder; kiss; smooch; punch; pinch; sit; throw; _<br/>'             turn; step&gt; _<br/>'             msg &lt;#t&#46;command# what?&gt;<br/>'          case else _<br/>'             exec &lt;#quest&#46;command#; normal&gt;<br/>'       }<br/>          <br/><br/><br/>    !end<br/><br/>    define synonyms<br/>       yourself; myself; me; you = self<br/>       n = north<br/>       n, = north,<br/>       s = south<br/>       s, = south,<br/>       e = east<br/>       e, = east,<br/>       w = west<br/>       w, = west,<br/>       ne = northeast<br/>       ne, = notheast,<br/>       nw = northwest<br/>       nw, = northwest,<br/>       se = southeast<br/>       se, = southeast,<br/>       sw = southwest<br/>       sw, = southwest,<br/>       l = look<br/>       l, = look,<br/>       i; inv = inventory<br/>       i,; inv, = inventory,<br/>    end define<br/><br/>    define type &lt;surface&gt;<br/>       container<br/>       surface<br/>       add<br/>       remove<br/><br/>       action &lt;list&gt; {<br/>          msg &lt;On the #@object# you see |xn&gt;<br/>          set string &lt;t&#46;cont&#46;list; &gt;<br/>          set numeric &lt;t&#46;cont&#46;count; 0&gt;<br/>          for each object in &lt;#quest&#46;currentroom#&gt; {<br/>             if ( #(quest&#46;thing)&#58;parent# = #object# ) and _<br/>                not property &lt;#quest&#46;thing#; invisible&gt; then {<br/>                set string &lt;t&#46;cont&#46;list; #t&#46;cont&#46;list# #(quest&#46;thing)&#58;prefix# |b#(quest&#46;thing)&#58;alias#|xb,&gt;<br/>                set string &lt;t&#46;cont&#46;last; #(quest&#46;thing)&#58;prefix# |b#(quest&#46;thing)&#58;alias#|xb&gt;<br/>                inc &lt;t&#46;cont&#46;count&gt;<br/>             }<br/>          }<br/>          if ( %t&#46;cont&#46;count% &gt; 1 ) then {<br/>             set numeric &lt;t&#46;cont&#46;pos; $instr(#t&#46;cont&#46;list#;, #t&#46;cont&#46;last#)$ - 1&gt;<br/>             set string &lt;t&#46;cont&#46;list; $left(#t&#46;cont&#46;list#;%t&#46;cont&#46;pos%)$ and #t&#46;cont&#46;last#&#46;&gt;<br/>          }<br/>          else {<br/>             set numeric &lt;t&#46;cont&#46;pos; $lengthof(#t&#46;cont&#46;list#)$ - 1&gt;<br/>             set string &lt;t&#46;cont&#46;list; $left(#t&#46;cont&#46;list#;%t&#46;cont&#46;pos%)$&#46;&gt;<br/>          }<br/>          msg &lt;#t&#46;cont&#46;list#&gt;<br/>       }<br/>    end define<br/><br/>    define type &lt;object&gt;<br/>       gender=it<br/>       prefix=a<br/>       take<br/><br/>    end define<br/><br/>    define type &lt;bottle&gt;<br/>       type &lt;object&gt;<br/><br/>       action &lt;hit&gt; doaction &lt;$thisobject$; break&gt;<br/>       action &lt;smash&gt; doaction &lt;$thisobject$; break&gt;<br/>       action &lt;break&gt; {<br/>          set string &lt;thisobject; $thisobject$&gt;<br/>          if property &lt; #thisobject#; broken &gt; or ( #something# = #object# ) then _<br/>             msg &lt;You can't break it twice!&gt; _<br/>          elseif property &lt; #something#; soft &gt; then _<br/>             msg &lt;That wouldn't break the #@thisobject#!&gt; _<br/>          else {<br/>             if ( #something# = #thisobject# ) then _<br/>                msg &lt;The #@thisobject# also smashes&#46;&#46;&gt; _<br/>             elseif ( #something# = ) then _<br/>                msg &lt;You smash the #@thisobject# on the ground and break the bottom off&#46;&#46; It is now sharp where it is broken&#46;&gt; _<br/>             else {<br/>                msg &lt;You smash the #@object# using the #@something#, and see the it break&#46;&gt;<br/>                debug &lt;#something#&gt;<br/>             }<br/>             property &lt;$thisobject$; alias=Broken #(thisobject)&#58;alias#; look=It used to be&#58;|n   |i#(thisobject)&#58;look#|xi|nIt is now broken, and has sharp edges&#46;;broken&gt;<br/>             if property &lt; #something#; fragile &gt; and _<br/>                not ( $thisobject$ = #something# ) and _<br/>                not property &lt; #something#; broken &gt; then _<br/>                doaction &lt; #something#; break &gt;<br/>          }<br/>          set string &lt;something; &gt;<br/>       }<br/><br/>       properties &lt;fragile&gt;<br/>       <br/>    end define<br/><br/>    define room &lt;inventory&gt;<br/><br/>       define object &lt;self&gt;<br/>          look {<br/>             select case &lt;$look_desc$&gt; {<br/>                case &lt;0&gt; _<br/>                   msg &lt;You look down at your body, and see that you haven't changed too much since you last looked&#46; You look well built and you feel comfortable in the jeans and t-shirt you're wearing&#46;&gt;<br/>                case &lt;1&gt; _<br/>                   msg &lt;You pull some funny faces and wink in the mirror, pulling a quick smirk from your bag of facial expressions&#46; After some serious thought, you adjust a few strands of hair, and smile&#46;&#46;|nYou feel quite comfortable with your looks&#46;&gt;<br/>                case &lt;2&gt; _<br/>                   msg &lt;You stare in the darkness down at yourself&#46;&gt;<br/>                case &lt;3&gt; _<br/>                   msg &lt;You stare in the darkness at #@something#&#46;&#46; You can't even see it, let alone yourself!&gt;<br/>             }<br/>          }<br/>          properties &lt;invisible&gt;<br/>       end define<br/><br/>    end define<br/><br/>    define function &lt;look_desc&gt;<br/>       set numeric &lt;t&#46;look&#46;return; 0&gt;<br/>       if flag &lt;mirror_in_use&gt; then inc &lt;t&#46;look&#46;return&gt;<br/>       if flag &lt;darkness&gt; then inc &lt;t&#46;look&#46;return; 2&gt;<br/><br/>       return &lt;%t&#46;look&#46;return%&gt;<br/>    end define<br/><br/>    define function &lt;badcommand&gt;<br/>       if not ( $instr(#quest&#46;lastcommand#;_it)$ = 0 ) and _<br/>          flag &lt;t&#46;badit&gt; then _<br/>             exec &lt;#t&#46;badit&#46;first# #quest&#46;command#&gt; _<br/>          else _<br/>             msg &lt;You try, but realise you don't know how!|xn&gt;<br/>       flag off &lt;t&#46;badit&gt;<br/><br/>    end define<br/><br/>    define function &lt;badit&gt;<br/>       set numeric &lt;t&#46;badit&#46;pos; $instr(#quest&#46;originalcommand#;_it)$ &gt;<br/>       set string &lt;t&#46;badit&#46;first; $left(#quest&#46;originalcommand#;%t&#46;badit&#46;pos%)$ &gt;<br/>       flag on &lt;t&#46;badit&gt;<br/><br/>       return &lt;#t&#46;badit&#46;first# what?&gt;<br/>    end define<br/><br/>    define function &lt;posture_change&gt;<br/>    ' $posture_change(description_for_action; posture_to_change_to; message_to_print_to_screen)$<br/>    ' Return = SUCC | SAME | FAIL<br/><br/>       set string &lt;t&#46;pos&#46;action; $parameter(1)$&gt;<br/>       set string &lt;t&#46;pos&#46;posture; $parameter(2)$&gt;<br/>       set string &lt;t&#46;pos&#46;message; $parameter(3)$&gt;<br/>       set string &lt;t&#46;pos&#46;return; $posture_test(#t&#46;pos&#46;posture#)$&gt;<br/><br/>       select case &lt;#t&#46;pos&#46;return#&gt; {<br/>          case &lt;FAIL&gt; _<br/>             msg &lt;You can't #t&#46;pos&#46;action# while you're #game&#58;posture#&#46;&gt;<br/>          case &lt;SAME&gt; _<br/>             msg &lt;You are already #game&#58;posture#&#46;&gt;<br/>          case &lt;SUCC&gt; {<br/>             msg &lt;#t&#46;pos&#46;message#&gt;<br/>             property &lt;game; old_posture=#game&#58;posture#; posture=#t&#46;pos&#46;posture#&gt;<br/>          }<br/>       }<br/><br/>       return &lt;#t&#46;pos&#46;return#&gt;<br/><br/>    '   select case &lt;#game&#58;posture#&gt; {<br/>    '      case &lt;stuck;trapped;caught&gt; _<br/>    '         msg &lt;You can't #t&#46;pos&#46;action# while you're #game&#58;posture#&#46;&gt;<br/>    '      case &lt;#t&#46;pos&#46;posture#&gt; _<br/>    '         msg &lt;You are already #game&#58;posture#&gt;<br/>    '      case &lt;crying&gt; _<br/>    '         if ( #t&#46;pos&#46;posture# = #game&#58;old_posture# ) then _<br/>    '            set string &lt;t&#46;pos&#46;return; SUCC&gt; _<br/>    '         else _<br/>    '            msg &lt;You're crying too hard to do that&#46;&#46;&gt;<br/>    '      case else _<br/>    '         set string &lt;t&#46;pos&#46;return; SUCC&gt;<br/>    '   }<br/><br/>    '   if ( #t&#46;pos&#46;return# = SUCC ) then {<br/>    '      msg &lt;#t&#46;pos&#46;message#&gt;<br/>    '      property &lt;game; old_posture=#game&#58;posture#; posture=#t&#46;pos&#46;posture#&gt;<br/>    '   }<br/><br/>       return &lt;#t&#46;pos&#46;return#&gt;<br/><br/>    end define<br/><br/>    define function &lt;posture_test&gt;<br/>    ' $posture_test(posture_to_change_to)$<br/>    ' Return = SUCC | SAME | FAIL<br/><br/>       set string &lt;t&#46;postst&#46;return; FAIL&gt;<br/>       set string &lt;t&#46;postst&#46;same; $parameter(1)$&gt;<br/>       select case &lt;#game&#58;posture#&gt; {<br/>          case &lt;stuck;trapped;caught&gt; _<br/>             msg &lt;|xn&gt;<br/>          case &lt;#t&#46;postst&#46;same#&gt; _<br/>             set string &lt;t&#46;postst&#46;return; SAME&gt;<br/>          case &lt;crying&gt; _<br/>             if ( $parameter(1)$ = #game&#58;old_posture# ) then _<br/>                set string &lt;t&#46;postst&#46;return; SUCC&gt;<br/>          case else _<br/>             set string &lt;t&#46;postst&#46;return; SUCC&gt;<br/>       }<br/>       return &lt;#t&#46;postst&#46;return#&gt;<br/><br/>    end define</code></pre>",
      "PostDate": "2008-01-22T13:28:23+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "14632",
      "UserId": 0,
      "Username": "steve the gaming guy",
      "UserAvatar": null,
      "UserGravatar": "6577a0affcb6ea711c75baf052ffd08a",
      "EditableText": "Wow, you [b:2mwnpbvd]ARE [/b:2mwnpbvd]bloody clever..and I don't normally use the adjective, bloody!\nIs this part of the code changing the property of the room as &quot;been_here&quot; so when you come back to the room, you get a different room description?  If so, that's awesome!\n\n if ( $left(#quest.command#;1)$ = l) or _\n      not property &lt;#quest.currentroom#; been_here&gt; then {\n         msg &lt;#quest.lookdesc#&gt;\n         property &lt;#quest.currentroom#; been_here&gt;\n         if not ( #quest.formatobjects# = ) then msg &lt;You can see #quest.formatobjects# here. &gt;",
      "EditableFormat": "bbcode",
      "HTML": "Wow, you <span style=\"font-weight:bold;\">ARE </span>bloody clever..and I don't normally use the adjective, bloody!<br/>Is this part of the code changing the property of the room as &quot;been_here&quot; so when you come back to the room, you get a different room description?  If so, that's awesome!<br/><br/> if ( $left(#quest.command#;1)$ = l) or _<br/>      not property &lt;#quest.currentroom#; been_here&gt; then {<br/>         msg &lt;#quest.lookdesc#&gt;<br/>         property &lt;#quest.currentroom#; been_here&gt;<br/>         if not ( #quest.formatobjects# = ) then msg &lt;You can see #quest.formatobjects# here. &gt;",
      "PostDate": "2008-01-22T20:00:10+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "14635",
      "UserId": 0,
      "Username": "paul_one",
      "UserAvatar": null,
      "UserGravatar": "fef8a1875028f4300bb683f29c432894",
      "EditableText": "Haha, cheers steve.\n\nYes, Quest has a slight defect in the way it handles it's own property of 'visited' (it's really set as soon as you set-foot in there, so even if it's a NEW place, your code always thinks you've been here before!).\n\nSo I put in a been_here property.\n\nThe description gets kicked off everytime you type &quot;look&quot; (of course the first character (left(;1)) is 'l'..) and it doesn't really matter if the property get's set again.\nI thought the objects being printed out all the time were a good thing to do.\n\nNext time you come in it doesn't print out too much of the description - but yes, I think I'll change that to print out a short description... If I remember, the classical IF's don't print out everything unless verbosity is set.",
      "EditableFormat": "bbcode",
      "HTML": "Haha, cheers steve.<br/><br/>Yes, Quest has a slight defect in the way it handles it's own property of 'visited' (it's really set as soon as you set-foot in there, so even if it's a NEW place, your code always thinks you've been here before!).<br/><br/>So I put in a been_here property.<br/><br/>The description gets kicked off everytime you type &quot;look&quot; (of course the first character (left(;1)) is 'l'..) and it doesn't really matter if the property get's set again.<br/>I thought the objects being printed out all the time were a good thing to do.<br/><br/>Next time you come in it doesn't print out too much of the description - but yes, I think I'll change that to print out a short description... If I remember, the classical IF's don't print out everything unless verbosity is set.",
      "PostDate": "2008-01-23T16:39:59+00:00",
      "LastEditDate": null
    }
  ]
}
