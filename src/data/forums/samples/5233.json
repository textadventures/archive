{
  "Topic": {
    "TopicId": "5233",
    "ForumId": "18",
    "Title": "Timetabling events with the Advanced Clock Library",
    "LastUpdated": "2016-06-14T18:04:03+01:00",
    "ReplyCount": 10
  },
  "Posts": [
    {
      "PostId": "36090",
      "UserId": 0,
      "Username": "The Pixie",
      "UserAvatar": null,
      "UserGravatar": "cfa37e927f96177bcf6053ae8f108f77",
      "EditableText": "Nearly four years ago I created Clock_Lib.aslx. I now present a rather more advanced version, Adv_Clock_Lib.aslx (it mostly builds on Clock_Lib.aslx, but the long exits have been dropped and by default it only takes a minute to move to another room).\n\nThe new version allows you to timetable events, and includes a wait command that allows the player to wait until an event fires or a set time, whichever is first.\n\n[i:14lwwnga]This post has been edited for version 2 of the Advanced Clock Library. Version 2 does not count mistyping as a turn, and it also has facilities for sequences, and other minor improvements.\n\nIf you want to upgrade from version 1, you will need to go to the &quot;Set up the game attributes&quot; and ensure you have all those attributes set up properly, and anywhere you use CreateEvent, you will need to add a second attribute, a string that identifies the event (however you want to do that).[/i:14lwwnga]\n\n[attachment=0:14lwwnga]<!-- ia0 -->Adv_Clock_Lib.aslx<!-- ia0 -->[/attachment:14lwwnga]\n\nThe rest of this post is a tutorial for using it. It is fairly simple, but a bit of coding experience will be a big advantage.\n\n\n[i:14lwwnga][b:14lwwnga]Add the library[/b:14lwwnga][/i:14lwwnga]\n\nAdd the file Adv_Clock_Lib.aslx to your game. Copy it to your game folder, then in the left pane, open up Advanced, go to Included Libraries, click Add, select from list, save, reload.\n\n\n[b:14lwwnga][i:14lwwnga]Set up the game attributes[/i:14lwwnga][/b:14lwwnga]\n\nOn the Attributes tab of the game object, click the Add of Status attributes, type &quot;clock&quot; in the first box, leave the second blank. You can go in game now, and should see the clock attribute, it starts blank, but if you do stuff, time will increment from midnight.\n\nCreate two Boolean attributes, &quot;notarealturn&quot; and &quot;beta&quot;. If &quot;beta&quot; is true, you will see some text printed out that might help you work out what the system is doing, and so fix any problems. Set it to false before releasing you game. Set &quot;notarealturn&quot; to false.\n\nNow create a script attribute on the game object called &quot;unresolvedcommandhandler&quot;. Set the script to this:\n[code:14lwwnga]game&#46;notarealturn = true[/code:14lwwnga]\n\n\n[b:14lwwnga][i:14lwwnga]Set the start time[/i:14lwwnga][/b:14lwwnga]\n\nOn the Script tab of the game object, in the Start script section, add this line:\n[code:14lwwnga]SetTime (&quot;1&#58;19&#58;50&quot;)[/code:14lwwnga]\nThis will set the time to be ten to eight on the evening of day 1. You can use the SetTime function any where in your game if you want to jump to a different time, but be aware that you will skip any timetabled events if you do so.\n\nNow when you go in game, the time starts from 7:50 pm.\n\n\n[b:14lwwnga][i:14lwwnga]Set the timetabled events[/i:14lwwnga][/b:14lwwnga]\n\nEach event is an object with a specific name. Each minute in game time Quest will search for the relevant event, and if it finds one, it will run it. You can only have one event set to run in a given minutes.\n\nEvents are named very specifically, according to this pattern:\n[code:14lwwnga]event_dd_hh_mm[/code:14lwwnga]\n... where dd is the number of the day, hh is the hour and mm is the minutes. In each case you must use exactly two digits, padded with zeroes (this means you are limited to 99 days!).\n\nYou do not have to, but I suggest putting all events into a room the player cannot access called &quot;events&quot;.\n\nSo let us now create an event. Inside the events room, create an object called &quot;event_01_20_00&quot;. This will fire at 20:00 on day 1. In the alias field, it is a good idea to give the event a useful name, but this is optional.\n\nIn the Description, set this to &quot;Run script&quot;. This is where the event is actually set up (it might seem strange to do it here, but it makes it easier to work with). Here is some example code to paste in.\n[code:14lwwnga]if (player&#46;parent = dining_room) {\n  msg(&quot;The butler sounds the dinner gong&#46;&quot;)\n}\nelse {\n  msg(&quot;You hear the dinner gong&#46;&quot;)\n}[/code:14lwwnga]\nMake sure you have a room called &quot;dining_room&quot; in your game, and then test it out. When the time gets to eight o'clock, you will hear the dinner gong.\n\n\n[b:14lwwnga][i:14lwwnga]Wait[/i:14lwwnga][/b:14lwwnga]\n\nBut wait, try playing the game again, and this time type &quot;WAIT&quot; (or &quot;Z&quot;). Whenever the player types WAIT, the game time will move on 15 minutes or until something happens, whichever is first. In this case time will jump to when the dinner gong is sounded, whether that is ten minutes or two minutes.\n\n\n[b:14lwwnga][i:14lwwnga]Quiet[/i:14lwwnga][/b:14lwwnga]\n\nLet us create another event. Call this one &quot;event_01_20_10&quot;, and paste in this code:\n[code:14lwwnga]if (player&#46;parent = dining_room) {\n  Quiet\n}\nelse {\n  msg (&quot;'You are late for dinner, sir,' says the butler&#46;&quot;)\n}[/code:14lwwnga]\nThis will fire at ten past eight, to remind you to go to dinner. If you are already in the dining room, however, we do not want anything to happen, so there is the Quiet function. This ensures that WAIT will ignore this event.\n\nTry it in game. Once the gong has sounded, if you type WAIT in the dining room, 15 minutes will pass, nothing happens. Type WAIT elsewhere, and the waiting will stop at 8:10 pm.\n\n\n[b:14lwwnga][i:14lwwnga]Creating Events On The Fly[/i:14lwwnga][/b:14lwwnga]\n\nSometimes you want to create new events on the fly, scheduling them for a set number of minutes from now. Let us suppose dinner is served 5 minutes after the player gets to the dining room. On the Scripts tab of the dining_room, go to Entering the room for the first time, and paste in this code:\n[code:14lwwnga]CreateEvent(5, &quot;dinner&quot;) {\n  msg(&quot;Dinner is served&#46;&quot;)\n}[/code:14lwwnga]\nThe delay is set to 5 minutes, and everything in the curly braces is the script that will be run. You can make that as complicated as you like, and it would certainly be a good idea to check if the player is actually present.\n\nThe second parameter, the string, is just to identify the event. When things are not going as expected, set game.beta to true, and you will see when each event happens, as idenfified by that name.\n\n\n[b:14lwwnga][i:14lwwnga]Sequences[/i:14lwwnga][/b:14lwwnga]\n\nAn alternative approach to events is to define a sequence of steps.\n\nEach step is an object, just like the events earlier. To link a step to the next one in the sequence, use the NextStep function in the &quot;look at&quot; script. For example, in the demo there is an object called soup_eaten, with this script&#058;\n[code:14lwwnga]msg (&quot;'Did you enjoy the soup?' enquires the butler&#46;&quot;)\nNextStep (soup_rain, 4)[/code:14lwwnga]\nThis will cause the object &quot;soup_rain&quot; to be done in 4 minutes.\n\nTo start a sequence, just call NextStep from any script, sending it the first object in your sequence.\n\nYou can also have sequences branch. One step can test conditions, and choose the next step accordingly.\n[code:14lwwnga]msg (&quot;'Did you enjoy the soup?' enquires the butler&#46;&quot;)\nif (player&#46;cursed) {\n  NextStep (soup_rain, 4)\n}\nelse {  \n  NextStep (second_course, 10)\n}[/code:14lwwnga]\nBranches can converge simply by pointing to the same step. You could also have steps running in a continuous cycle. It could be useful to have a step linking to itself until a condition is met. This example checs every three turns whether the player is in the dining room, only going to the next step once she is.\n[code:14lwwnga]\nif (player&#46;parent = dining_room) {\n  msg (&quot;'Did you enjoy the soup?' enquires the butler&#46;&quot;) \n  NextStep (soup_rain, 4)\n}\nelse { \n  Quiet\n  NextStep (this, 3)\n}[/code:14lwwnga]\n\nNote, however, that only one sequence can be running at a time (timed events and events created on the fly are not affected). The system only remembers a single event to do next, and if another sequence calls NextStep, that will get overwritten, and the sequence will terminate.\n\n\n[b:14lwwnga][i:14lwwnga]Is It After That Time?[/i:14lwwnga][/b:14lwwnga]\n\nOften you will want to know how much time has passed. The IsAfter function does just that. This example checks if it has gone five past eight.\n[code:14lwwnga]if (IsAfter(&quot;1&#58;20&#58;05&quot;) {[/code:14lwwnga]\nTo check if it is before, just use [i:14lwwnga]not[/i:14lwwnga].\n[code:14lwwnga]if (not IsAfter(&quot;1&#58;20&#58;05&quot;) {[/code:14lwwnga]\n\nA better way to handle when dinner is served would be to set a flag on the room, and to move the script to the After entering the room section. Only create the event if the time is after eight o'clock, and use the flag to ensure it is only set once. Also have the event created in the first event, if the player is in the dining room at that time.\n\n\n[b:14lwwnga][i:14lwwnga]Taking Your Time[/i:14lwwnga][/b:14lwwnga]\n\nBy default, all commands take 1 minute. If a command takes a long time, use the IncTime function, which takes an interger parameter, the number of minutes that passes. This will ensure that any intervening events will be triggered (but unlike WAIT, the full time will still pass).\n\nLet us suppose it takes 5 minutes to get to or from the kitchen, you could put this code into your exits:\n[code:14lwwnga]player&#46;parent = this&#46;to\nSetInc(5)[/code:14lwwnga]\n\n\n[b:14lwwnga][i:14lwwnga]Changing Defaults[/i:14lwwnga][/b:14lwwnga]\n\nYou can change how long WAIT lasts. The default is fifteen minutes, to change it to 20, do this in your start script&#058;\n[code:14lwwnga]game_clock&#46;waittime = 20[/code:14lwwnga]\n\nThe player can type TIME, CLOCK or WATCH to see the time. To change the text at the start, you can do this in your start script&#058;\n[code:14lwwnga]game_clock&#46;clockpreamble = &quot;You look at your watch&#46;&quot;[/code:14lwwnga]",
      "EditableFormat": "bbcode",
      "HTML": "Nearly four years ago I created Clock_Lib.aslx. I now present a rather more advanced version, Adv_Clock_Lib.aslx (it mostly builds on Clock_Lib.aslx, but the long exits have been dropped and by default it only takes a minute to move to another room).<br/><br/>The new version allows you to timetable events, and includes a wait command that allows the player to wait until an event fires or a set time, whichever is first.<br/><br/><span style=\"font-style:italic;\">This post has been edited for version 2 of the Advanced Clock Library. Version 2 does not count mistyping as a turn, and it also has facilities for sequences, and other minor improvements.<br/><br/>If you want to upgrade from version 1, you will need to go to the &quot;Set up the game attributes&quot; and ensure you have all those attributes set up properly, and anywhere you use CreateEvent, you will need to add a second attribute, a string that identifies the event (however you want to do that).</span><br/><br/><div><a href=\"/forumattachments/1296/Adv_Clock_Lib.aslx\">Adv_Clock_Lib.aslx</a></div><br/><br/>The rest of this post is a tutorial for using it. It is fairly simple, but a bit of coding experience will be a big advantage.<br/><br/><br/><span style=\"font-style:italic;\"><span style=\"font-weight:bold;\">Add the library</span></span><br/><br/>Add the file Adv_Clock_Lib.aslx to your game. Copy it to your game folder, then in the left pane, open up Advanced, go to Included Libraries, click Add, select from list, save, reload.<br/><br/><br/><span style=\"font-weight:bold;\"><span style=\"font-style:italic;\">Set up the game attributes</span></span><br/><br/>On the Attributes tab of the game object, click the Add of Status attributes, type &quot;clock&quot; in the first box, leave the second blank. You can go in game now, and should see the clock attribute, it starts blank, but if you do stuff, time will increment from midnight.<br/><br/>Create two Boolean attributes, &quot;notarealturn&quot; and &quot;beta&quot;. If &quot;beta&quot; is true, you will see some text printed out that might help you work out what the system is doing, and so fix any problems. Set it to false before releasing you game. Set &quot;notarealturn&quot; to false.<br/><br/>Now create a script attribute on the game object called &quot;unresolvedcommandhandler&quot;. Set the script to this:<br/><pre><code>game&#46;notarealturn = true</code></pre><br/><br/><br/><span style=\"font-weight:bold;\"><span style=\"font-style:italic;\">Set the start time</span></span><br/><br/>On the Script tab of the game object, in the Start script section, add this line:<br/><pre><code>SetTime (&quot;1&#58;19&#58;50&quot;)</code></pre><br/>This will set the time to be ten to eight on the evening of day 1. You can use the SetTime function any where in your game if you want to jump to a different time, but be aware that you will skip any timetabled events if you do so.<br/><br/>Now when you go in game, the time starts from 7:50 pm.<br/><br/><br/><span style=\"font-weight:bold;\"><span style=\"font-style:italic;\">Set the timetabled events</span></span><br/><br/>Each event is an object with a specific name. Each minute in game time Quest will search for the relevant event, and if it finds one, it will run it. You can only have one event set to run in a given minutes.<br/><br/>Events are named very specifically, according to this pattern:<br/><pre><code>event_dd_hh_mm</code></pre><br/>... where dd is the number of the day, hh is the hour and mm is the minutes. In each case you must use exactly two digits, padded with zeroes (this means you are limited to 99 days!).<br/><br/>You do not have to, but I suggest putting all events into a room the player cannot access called &quot;events&quot;.<br/><br/>So let us now create an event. Inside the events room, create an object called &quot;event_01_20_00&quot;. This will fire at 20:00 on day 1. In the alias field, it is a good idea to give the event a useful name, but this is optional.<br/><br/>In the Description, set this to &quot;Run script&quot;. This is where the event is actually set up (it might seem strange to do it here, but it makes it easier to work with). Here is some example code to paste in.<br/><pre><code>if (player&#46;parent = dining_room) {<br/>  msg(&quot;The butler sounds the dinner gong&#46;&quot;)<br/>}<br/>else {<br/>  msg(&quot;You hear the dinner gong&#46;&quot;)<br/>}</code></pre><br/>Make sure you have a room called &quot;dining_room&quot; in your game, and then test it out. When the time gets to eight o'clock, you will hear the dinner gong.<br/><br/><br/><span style=\"font-weight:bold;\"><span style=\"font-style:italic;\">Wait</span></span><br/><br/>But wait, try playing the game again, and this time type &quot;WAIT&quot; (or &quot;Z&quot;). Whenever the player types WAIT, the game time will move on 15 minutes or until something happens, whichever is first. In this case time will jump to when the dinner gong is sounded, whether that is ten minutes or two minutes.<br/><br/><br/><span style=\"font-weight:bold;\"><span style=\"font-style:italic;\">Quiet</span></span><br/><br/>Let us create another event. Call this one &quot;event_01_20_10&quot;, and paste in this code:<br/><pre><code>if (player&#46;parent = dining_room) {<br/>  Quiet<br/>}<br/>else {<br/>  msg (&quot;'You are late for dinner, sir,' says the butler&#46;&quot;)<br/>}</code></pre><br/>This will fire at ten past eight, to remind you to go to dinner. If you are already in the dining room, however, we do not want anything to happen, so there is the Quiet function. This ensures that WAIT will ignore this event.<br/><br/>Try it in game. Once the gong has sounded, if you type WAIT in the dining room, 15 minutes will pass, nothing happens. Type WAIT elsewhere, and the waiting will stop at 8:10 pm.<br/><br/><br/><span style=\"font-weight:bold;\"><span style=\"font-style:italic;\">Creating Events On The Fly</span></span><br/><br/>Sometimes you want to create new events on the fly, scheduling them for a set number of minutes from now. Let us suppose dinner is served 5 minutes after the player gets to the dining room. On the Scripts tab of the dining_room, go to Entering the room for the first time, and paste in this code:<br/><pre><code>CreateEvent(5, &quot;dinner&quot;) {<br/>  msg(&quot;Dinner is served&#46;&quot;)<br/>}</code></pre><br/>The delay is set to 5 minutes, and everything in the curly braces is the script that will be run. You can make that as complicated as you like, and it would certainly be a good idea to check if the player is actually present.<br/><br/>The second parameter, the string, is just to identify the event. When things are not going as expected, set game.beta to true, and you will see when each event happens, as idenfified by that name.<br/><br/><br/><span style=\"font-weight:bold;\"><span style=\"font-style:italic;\">Sequences</span></span><br/><br/>An alternative approach to events is to define a sequence of steps.<br/><br/>Each step is an object, just like the events earlier. To link a step to the next one in the sequence, use the NextStep function in the &quot;look at&quot; script. For example, in the demo there is an object called soup_eaten, with this script&#058;<br/><pre><code>msg (&quot;'Did you enjoy the soup?' enquires the butler&#46;&quot;)<br/>NextStep (soup_rain, 4)</code></pre><br/>This will cause the object &quot;soup_rain&quot; to be done in 4 minutes.<br/><br/>To start a sequence, just call NextStep from any script, sending it the first object in your sequence.<br/><br/>You can also have sequences branch. One step can test conditions, and choose the next step accordingly.<br/><pre><code>msg (&quot;'Did you enjoy the soup?' enquires the butler&#46;&quot;)<br/>if (player&#46;cursed) {<br/>  NextStep (soup_rain, 4)<br/>}<br/>else {  <br/>  NextStep (second_course, 10)<br/>}</code></pre><br/>Branches can converge simply by pointing to the same step. You could also have steps running in a continuous cycle. It could be useful to have a step linking to itself until a condition is met. This example checs every three turns whether the player is in the dining room, only going to the next step once she is.<br/><pre><code><br/>if (player&#46;parent = dining_room) {<br/>  msg (&quot;'Did you enjoy the soup?' enquires the butler&#46;&quot;) <br/>  NextStep (soup_rain, 4)<br/>}<br/>else { <br/>  Quiet<br/>  NextStep (this, 3)<br/>}</code></pre><br/><br/>Note, however, that only one sequence can be running at a time (timed events and events created on the fly are not affected). The system only remembers a single event to do next, and if another sequence calls NextStep, that will get overwritten, and the sequence will terminate.<br/><br/><br/><span style=\"font-weight:bold;\"><span style=\"font-style:italic;\">Is It After That Time?</span></span><br/><br/>Often you will want to know how much time has passed. The IsAfter function does just that. This example checks if it has gone five past eight.<br/><pre><code>if (IsAfter(&quot;1&#58;20&#58;05&quot;) {</code></pre><br/>To check if it is before, just use <span style=\"font-style:italic;\">not</span>.<br/><pre><code>if (not IsAfter(&quot;1&#58;20&#58;05&quot;) {</code></pre><br/><br/>A better way to handle when dinner is served would be to set a flag on the room, and to move the script to the After entering the room section. Only create the event if the time is after eight o'clock, and use the flag to ensure it is only set once. Also have the event created in the first event, if the player is in the dining room at that time.<br/><br/><br/><span style=\"font-weight:bold;\"><span style=\"font-style:italic;\">Taking Your Time</span></span><br/><br/>By default, all commands take 1 minute. If a command takes a long time, use the IncTime function, which takes an interger parameter, the number of minutes that passes. This will ensure that any intervening events will be triggered (but unlike WAIT, the full time will still pass).<br/><br/>Let us suppose it takes 5 minutes to get to or from the kitchen, you could put this code into your exits:<br/><pre><code>player&#46;parent = this&#46;to<br/>SetInc(5)</code></pre><br/><br/><br/><span style=\"font-weight:bold;\"><span style=\"font-style:italic;\">Changing Defaults</span></span><br/><br/>You can change how long WAIT lasts. The default is fifteen minutes, to change it to 20, do this in your start script&#058;<br/><pre><code>game_clock&#46;waittime = 20</code></pre><br/><br/>The player can type TIME, CLOCK or WATCH to see the time. To change the text at the start, you can do this in your start script&#058;<br/><pre><code>game_clock&#46;clockpreamble = &quot;You look at your watch&#46;&quot;</code></pre>",
      "PostDate": "2015-05-19T09:46:44+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "36091",
      "UserId": 0,
      "Username": "The Pixie",
      "UserAvatar": null,
      "UserGravatar": "cfa37e927f96177bcf6053ae8f108f77",
      "EditableText": "This is the game I built from the tutorial.\n[code:1lbes0sj]&lt;!--Saved by Quest 5&#46;6&#46;5621&#46;18142--&gt;\n&lt;asl version=&quot;550&quot;&gt;\n  &lt;include ref=&quot;English&#46;aslx&quot; /&gt;\n  &lt;include ref=&quot;Core&#46;aslx&quot; /&gt;\n  &lt;include ref=&quot;Adv_Clock_Lib&#46;aslx&quot; /&gt;\n  &lt;game name=&quot;turncount&quot;&gt;\n    &lt;gameid&gt;7f84b598-f20f-4b84-b6e1-24b2d97a0458&lt;/gameid&gt;\n    &lt;version&gt;1&#46;0&lt;/version&gt;\n    &lt;firstpublished&gt;2015&lt;/firstpublished&gt;\n    &lt;statusattributes type=&quot;stringdictionary&quot;&gt;\n      &lt;item&gt;\n        &lt;key&gt;clock&lt;/key&gt;\n        &lt;value&gt;&lt;/value&gt;\n      &lt;/item&gt;\n    &lt;/statusattributes&gt;\n    &lt;notarealturn type=&quot;boolean&quot;&gt;false&lt;/notarealturn&gt;\n    &lt;beta /&gt;\n    &lt;start type=&quot;script&quot;&gt;\n      SetTime (&quot;1&#58;19&#58;50&quot;)\n      game_clock&#46;clockpreamble = &quot;You look at your watch&#46;&quot;\n      game_clock&#46;waittime = 20\n    &lt;/start&gt;\n    &lt;unresolvedcommandhandler type=&quot;script&quot;&gt;\n      game&#46;notarealturn = true\n    &lt;/unresolvedcommandhandler&gt;\n  &lt;/game&gt;\n  &lt;object name=&quot;hall&quot;&gt;\n    &lt;inherit name=&quot;editor_room&quot; /&gt;\n    &lt;object name=&quot;player&quot;&gt;\n      &lt;inherit name=&quot;editor_object&quot; /&gt;\n      &lt;inherit name=&quot;editor_player&quot; /&gt;\n    &lt;/object&gt;\n    &lt;exit alias=&quot;south&quot; to=&quot;dining_room&quot;&gt;\n      &lt;inherit name=&quot;southdirection&quot; /&gt;\n    &lt;/exit&gt;\n  &lt;/object&gt;\n  &lt;object name=&quot;events&quot;&gt;\n    &lt;inherit name=&quot;editor_room&quot; /&gt;\n    &lt;object name=&quot;event_01_20_00&quot;&gt;\n      &lt;inherit name=&quot;editor_object&quot; /&gt;\n      &lt;alias&gt;dinner gong&lt;/alias&gt;\n      &lt;look type=&quot;script&quot;&gt;\n        if (player&#46;parent = dining_room) {\n          msg (&quot;The butler sounds the dinner gong&#46;&quot;)\n          dining_room&#46;flag = true\n          CreateEvent (5, &quot;dinner&quot;) {\n            msg (&quot;Dinner is served&#46;&quot;)\n            soup&#46;parent = dining_room\n            prawn_cocktail&#46;parent = dining_room\n          }\n        }\n        else {\n          msg (&quot;You hear the dinner gong&#46;&quot;)\n        }\n      &lt;/look&gt;\n    &lt;/object&gt;\n    &lt;object name=&quot;event_01_20_10&quot;&gt;\n      &lt;inherit name=&quot;editor_object&quot; /&gt;\n      &lt;alias&gt;late for dinner&lt;/alias&gt;\n      &lt;look type=&quot;script&quot;&gt;\n        if (player&#46;parent = dining_room) {\n          Quiet\n        }\n        else {\n          msg (&quot;'You are late for dinner, sir,' says the butler&#46;&quot;)\n        }\n      &lt;/look&gt;\n    &lt;/object&gt;\n    &lt;object name=&quot;soup_eaten&quot;&gt;\n      &lt;inherit name=&quot;editor_object&quot; /&gt;\n      &lt;look type=&quot;script&quot;&gt;\n        msg (&quot;'Did you enjoy the soup?' enquires the butler&#46;&quot;)\n        NextStep (soup_rain, 4)\n      &lt;/look&gt;\n    &lt;/object&gt;\n    &lt;object name=&quot;prawns_eaten&quot;&gt;\n      &lt;inherit name=&quot;editor_object&quot; /&gt;\n      &lt;look type=&quot;script&quot;&gt;\n        msg (&quot;'Did you enjoy the prawns?' enquires the butler&#46;&quot;)\n        NextStep (prawn_rain, 4)\n      &lt;/look&gt;\n    &lt;/object&gt;\n    &lt;object name=&quot;soup_rain&quot;&gt;\n      &lt;inherit name=&quot;editor_object&quot; /&gt;\n      &lt;look type=&quot;script&quot;&gt;\n        msg (&quot;Suddenly it is raining soup!&quot;)\n      &lt;/look&gt;\n    &lt;/object&gt;\n    &lt;object name=&quot;prawn_rain&quot;&gt;\n      &lt;inherit name=&quot;editor_object&quot; /&gt;\n      &lt;look type=&quot;script&quot;&gt;\n        msg (&quot;Suddenly it is raining prawns!&quot;)\n      &lt;/look&gt;\n    &lt;/object&gt;\n  &lt;/object&gt;\n  &lt;object name=&quot;dining_room&quot;&gt;\n    &lt;inherit name=&quot;editor_room&quot; /&gt;\n    &lt;flag type=&quot;boolean&quot;&gt;false&lt;/flag&gt;\n    &lt;firstenter type=&quot;script&quot;&gt;\n    &lt;/firstenter&gt;\n    &lt;enter type=&quot;script&quot;&gt;\n      if (IsAfter(&quot;1&#58;20&#58;00&quot;) and not this&#46;flag) {\n        CreateEvent (5, &quot;dinner2&quot;) {\n          msg (&quot;Dinner is served&#46;&quot;)\n        }\n        this&#46;flag = true\n      }\n    &lt;/enter&gt;\n    &lt;exit alias=&quot;north&quot; to=&quot;hall&quot;&gt;\n      &lt;inherit name=&quot;northdirection&quot; /&gt;\n    &lt;/exit&gt;\n    &lt;exit alias=&quot;east&quot; to=&quot;kitchen&quot;&gt;\n      &lt;inherit name=&quot;eastdirection&quot; /&gt;\n      &lt;runscript /&gt;\n      &lt;script type=&quot;script&quot;&gt;\n        player&#46;parent = this&#46;to\n        SetInc (5)\n      &lt;/script&gt;\n    &lt;/exit&gt;\n  &lt;/object&gt;\n  &lt;object name=&quot;kitchen&quot;&gt;\n    &lt;inherit name=&quot;editor_room&quot; /&gt;\n    &lt;exit alias=&quot;west&quot; to=&quot;dining_room&quot;&gt;\n      &lt;inherit name=&quot;westdirection&quot; /&gt;\n      &lt;runscript /&gt;\n      &lt;script type=&quot;script&quot;&gt;\n        player&#46;parent = this&#46;to\n        SetInc (5)\n      &lt;/script&gt;\n    &lt;/exit&gt;\n  &lt;/object&gt;\n  &lt;object name=&quot;nowhere&quot;&gt;\n    &lt;inherit name=&quot;editor_room&quot; /&gt;\n    &lt;object name=&quot;soup&quot;&gt;\n      &lt;inherit name=&quot;editor_object&quot; /&gt;\n      &lt;displayverbs type=&quot;stringlist&quot;&gt;\n        &lt;value&gt;Look at&lt;/value&gt;\n        &lt;value&gt;Take&lt;/value&gt;\n        &lt;value&gt;Eat&lt;/value&gt;\n      &lt;/displayverbs&gt;\n      &lt;eat type=&quot;script&quot;&gt;\n        msg (&quot;You eat the soup; thick vegetable - yum!&quot;)\n        NextStep (soup_eaten, 5)\n        soup&#46;parent = nowhere\n        prawn_cocktail&#46;parent = nowhere\n      &lt;/eat&gt;\n    &lt;/object&gt;\n    &lt;object name=&quot;prawn_cocktail&quot;&gt;\n      &lt;inherit name=&quot;editor_object&quot; /&gt;\n      &lt;displayverbs type=&quot;stringlist&quot;&gt;\n        &lt;value&gt;Look at&lt;/value&gt;\n        &lt;value&gt;Take&lt;/value&gt;\n        &lt;value&gt;Eat&lt;/value&gt;\n      &lt;/displayverbs&gt;\n      &lt;eat type=&quot;script&quot;&gt;\n        msg (&quot;You eat the prawn cocktail; it tastes great&#46;&quot;)\n        NextStep (prawns_eaten, 5)\n        soup&#46;parent = nowhere\n        prawn_cocktail&#46;parent = nowhere\n      &lt;/eat&gt;\n      &lt;alias&gt;prawn cocktail&lt;/alias&gt;\n    &lt;/object&gt;\n  &lt;/object&gt;\n&lt;/asl&gt;[/code:1lbes0sj]",
      "EditableFormat": "bbcode",
      "HTML": "This is the game I built from the tutorial.<br/><pre><code>&lt;!--Saved by Quest 5&#46;6&#46;5621&#46;18142--&gt;<br/>&lt;asl version=&quot;550&quot;&gt;<br/>  &lt;include ref=&quot;English&#46;aslx&quot; /&gt;<br/>  &lt;include ref=&quot;Core&#46;aslx&quot; /&gt;<br/>  &lt;include ref=&quot;Adv_Clock_Lib&#46;aslx&quot; /&gt;<br/>  &lt;game name=&quot;turncount&quot;&gt;<br/>    &lt;gameid&gt;7f84b598-f20f-4b84-b6e1-24b2d97a0458&lt;/gameid&gt;<br/>    &lt;version&gt;1&#46;0&lt;/version&gt;<br/>    &lt;firstpublished&gt;2015&lt;/firstpublished&gt;<br/>    &lt;statusattributes type=&quot;stringdictionary&quot;&gt;<br/>      &lt;item&gt;<br/>        &lt;key&gt;clock&lt;/key&gt;<br/>        &lt;value&gt;&lt;/value&gt;<br/>      &lt;/item&gt;<br/>    &lt;/statusattributes&gt;<br/>    &lt;notarealturn type=&quot;boolean&quot;&gt;false&lt;/notarealturn&gt;<br/>    &lt;beta /&gt;<br/>    &lt;start type=&quot;script&quot;&gt;<br/>      SetTime (&quot;1&#58;19&#58;50&quot;)<br/>      game_clock&#46;clockpreamble = &quot;You look at your watch&#46;&quot;<br/>      game_clock&#46;waittime = 20<br/>    &lt;/start&gt;<br/>    &lt;unresolvedcommandhandler type=&quot;script&quot;&gt;<br/>      game&#46;notarealturn = true<br/>    &lt;/unresolvedcommandhandler&gt;<br/>  &lt;/game&gt;<br/>  &lt;object name=&quot;hall&quot;&gt;<br/>    &lt;inherit name=&quot;editor_room&quot; /&gt;<br/>    &lt;object name=&quot;player&quot;&gt;<br/>      &lt;inherit name=&quot;editor_object&quot; /&gt;<br/>      &lt;inherit name=&quot;editor_player&quot; /&gt;<br/>    &lt;/object&gt;<br/>    &lt;exit alias=&quot;south&quot; to=&quot;dining_room&quot;&gt;<br/>      &lt;inherit name=&quot;southdirection&quot; /&gt;<br/>    &lt;/exit&gt;<br/>  &lt;/object&gt;<br/>  &lt;object name=&quot;events&quot;&gt;<br/>    &lt;inherit name=&quot;editor_room&quot; /&gt;<br/>    &lt;object name=&quot;event_01_20_00&quot;&gt;<br/>      &lt;inherit name=&quot;editor_object&quot; /&gt;<br/>      &lt;alias&gt;dinner gong&lt;/alias&gt;<br/>      &lt;look type=&quot;script&quot;&gt;<br/>        if (player&#46;parent = dining_room) {<br/>          msg (&quot;The butler sounds the dinner gong&#46;&quot;)<br/>          dining_room&#46;flag = true<br/>          CreateEvent (5, &quot;dinner&quot;) {<br/>            msg (&quot;Dinner is served&#46;&quot;)<br/>            soup&#46;parent = dining_room<br/>            prawn_cocktail&#46;parent = dining_room<br/>          }<br/>        }<br/>        else {<br/>          msg (&quot;You hear the dinner gong&#46;&quot;)<br/>        }<br/>      &lt;/look&gt;<br/>    &lt;/object&gt;<br/>    &lt;object name=&quot;event_01_20_10&quot;&gt;<br/>      &lt;inherit name=&quot;editor_object&quot; /&gt;<br/>      &lt;alias&gt;late for dinner&lt;/alias&gt;<br/>      &lt;look type=&quot;script&quot;&gt;<br/>        if (player&#46;parent = dining_room) {<br/>          Quiet<br/>        }<br/>        else {<br/>          msg (&quot;'You are late for dinner, sir,' says the butler&#46;&quot;)<br/>        }<br/>      &lt;/look&gt;<br/>    &lt;/object&gt;<br/>    &lt;object name=&quot;soup_eaten&quot;&gt;<br/>      &lt;inherit name=&quot;editor_object&quot; /&gt;<br/>      &lt;look type=&quot;script&quot;&gt;<br/>        msg (&quot;'Did you enjoy the soup?' enquires the butler&#46;&quot;)<br/>        NextStep (soup_rain, 4)<br/>      &lt;/look&gt;<br/>    &lt;/object&gt;<br/>    &lt;object name=&quot;prawns_eaten&quot;&gt;<br/>      &lt;inherit name=&quot;editor_object&quot; /&gt;<br/>      &lt;look type=&quot;script&quot;&gt;<br/>        msg (&quot;'Did you enjoy the prawns?' enquires the butler&#46;&quot;)<br/>        NextStep (prawn_rain, 4)<br/>      &lt;/look&gt;<br/>    &lt;/object&gt;<br/>    &lt;object name=&quot;soup_rain&quot;&gt;<br/>      &lt;inherit name=&quot;editor_object&quot; /&gt;<br/>      &lt;look type=&quot;script&quot;&gt;<br/>        msg (&quot;Suddenly it is raining soup!&quot;)<br/>      &lt;/look&gt;<br/>    &lt;/object&gt;<br/>    &lt;object name=&quot;prawn_rain&quot;&gt;<br/>      &lt;inherit name=&quot;editor_object&quot; /&gt;<br/>      &lt;look type=&quot;script&quot;&gt;<br/>        msg (&quot;Suddenly it is raining prawns!&quot;)<br/>      &lt;/look&gt;<br/>    &lt;/object&gt;<br/>  &lt;/object&gt;<br/>  &lt;object name=&quot;dining_room&quot;&gt;<br/>    &lt;inherit name=&quot;editor_room&quot; /&gt;<br/>    &lt;flag type=&quot;boolean&quot;&gt;false&lt;/flag&gt;<br/>    &lt;firstenter type=&quot;script&quot;&gt;<br/>    &lt;/firstenter&gt;<br/>    &lt;enter type=&quot;script&quot;&gt;<br/>      if (IsAfter(&quot;1&#58;20&#58;00&quot;) and not this&#46;flag) {<br/>        CreateEvent (5, &quot;dinner2&quot;) {<br/>          msg (&quot;Dinner is served&#46;&quot;)<br/>        }<br/>        this&#46;flag = true<br/>      }<br/>    &lt;/enter&gt;<br/>    &lt;exit alias=&quot;north&quot; to=&quot;hall&quot;&gt;<br/>      &lt;inherit name=&quot;northdirection&quot; /&gt;<br/>    &lt;/exit&gt;<br/>    &lt;exit alias=&quot;east&quot; to=&quot;kitchen&quot;&gt;<br/>      &lt;inherit name=&quot;eastdirection&quot; /&gt;<br/>      &lt;runscript /&gt;<br/>      &lt;script type=&quot;script&quot;&gt;<br/>        player&#46;parent = this&#46;to<br/>        SetInc (5)<br/>      &lt;/script&gt;<br/>    &lt;/exit&gt;<br/>  &lt;/object&gt;<br/>  &lt;object name=&quot;kitchen&quot;&gt;<br/>    &lt;inherit name=&quot;editor_room&quot; /&gt;<br/>    &lt;exit alias=&quot;west&quot; to=&quot;dining_room&quot;&gt;<br/>      &lt;inherit name=&quot;westdirection&quot; /&gt;<br/>      &lt;runscript /&gt;<br/>      &lt;script type=&quot;script&quot;&gt;<br/>        player&#46;parent = this&#46;to<br/>        SetInc (5)<br/>      &lt;/script&gt;<br/>    &lt;/exit&gt;<br/>  &lt;/object&gt;<br/>  &lt;object name=&quot;nowhere&quot;&gt;<br/>    &lt;inherit name=&quot;editor_room&quot; /&gt;<br/>    &lt;object name=&quot;soup&quot;&gt;<br/>      &lt;inherit name=&quot;editor_object&quot; /&gt;<br/>      &lt;displayverbs type=&quot;stringlist&quot;&gt;<br/>        &lt;value&gt;Look at&lt;/value&gt;<br/>        &lt;value&gt;Take&lt;/value&gt;<br/>        &lt;value&gt;Eat&lt;/value&gt;<br/>      &lt;/displayverbs&gt;<br/>      &lt;eat type=&quot;script&quot;&gt;<br/>        msg (&quot;You eat the soup; thick vegetable - yum!&quot;)<br/>        NextStep (soup_eaten, 5)<br/>        soup&#46;parent = nowhere<br/>        prawn_cocktail&#46;parent = nowhere<br/>      &lt;/eat&gt;<br/>    &lt;/object&gt;<br/>    &lt;object name=&quot;prawn_cocktail&quot;&gt;<br/>      &lt;inherit name=&quot;editor_object&quot; /&gt;<br/>      &lt;displayverbs type=&quot;stringlist&quot;&gt;<br/>        &lt;value&gt;Look at&lt;/value&gt;<br/>        &lt;value&gt;Take&lt;/value&gt;<br/>        &lt;value&gt;Eat&lt;/value&gt;<br/>      &lt;/displayverbs&gt;<br/>      &lt;eat type=&quot;script&quot;&gt;<br/>        msg (&quot;You eat the prawn cocktail; it tastes great&#46;&quot;)<br/>        NextStep (prawns_eaten, 5)<br/>        soup&#46;parent = nowhere<br/>        prawn_cocktail&#46;parent = nowhere<br/>      &lt;/eat&gt;<br/>      &lt;alias&gt;prawn cocktail&lt;/alias&gt;<br/>    &lt;/object&gt;<br/>  &lt;/object&gt;<br/>&lt;/asl&gt;</code></pre>",
      "PostDate": "2015-05-19T09:47:45+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "36094",
      "UserId": 0,
      "Username": "jaynabonne",
      "UserAvatar": "6579_1344778256.jpg",
      "UserGravatar": "379859a7f1952a65399fc63997e68f0b",
      "EditableText": "Great job! <!-- s:) --><img src=\"{SMILIES_PATH}/icon_smile.gif\" alt=\":)\" title=\"Smile\" /><!-- s:) -->",
      "EditableFormat": "bbcode",
      "HTML": "Great job! <!-- s:) --><img src=\"{SMILIES_PATH}/icon_smile.gif\" alt=\":)\" title=\"Smile\" /><!-- s:) -->",
      "PostDate": "2015-05-19T11:58:32+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "37705",
      "UserId": 0,
      "Username": "The Pixie",
      "UserAvatar": null,
      "UserGravatar": "cfa37e927f96177bcf6053ae8f108f77",
      "EditableText": "I have updated the other posts for version 2 of the library.",
      "EditableFormat": "bbcode",
      "HTML": "I have updated the other posts for version 2 of the library.",
      "PostDate": "2015-08-20T14:50:40+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "37712",
      "UserId": 0,
      "Username": "HegemonKhan",
      "UserAvatar": null,
      "UserGravatar": "a96cf34d8d97c57de38f54ee22b1759b",
      "EditableText": "Yet another library from Pixie, thanks again (saying it for all of us users of quest who're still learning to code, hehe) ! <!-- s:D --><img src=\"{SMILIES_PATH}/icon_biggrin.gif\" alt=\":D\" title=\"Very Happy\" /><!-- s:D -->",
      "EditableFormat": "bbcode",
      "HTML": "Yet another library from Pixie, thanks again (saying it for all of us users of quest who're still learning to code, hehe) ! <!-- s:D --><img src=\"{SMILIES_PATH}/icon_biggrin.gif\" alt=\":D\" title=\"Very Happy\" /><!-- s:D -->",
      "PostDate": "2015-08-21T00:56:40+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "38063",
      "UserId": 0,
      "Username": "DmNerd",
      "UserAvatar": null,
      "UserGravatar": "fa650c0f7c8cda636217be9308286371",
      "EditableText": "Is it possible to set an event to fire the same time everyday?",
      "EditableFormat": "bbcode",
      "HTML": "Is it possible to set an event to fire the same time everyday?",
      "PostDate": "2015-09-24T04:12:08+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "38068",
      "UserId": 0,
      "Username": "The Pixie",
      "UserAvatar": null,
      "UserGravatar": "cfa37e927f96177bcf6053ae8f108f77",
      "EditableText": "Add a function to your game that uses CreateEvent to generate a new event in 24x60 minutes, and have that event call the function.\n\nSay the function is called AlarmCall, it might look like this;\n[code:3dvmzmz6]msg (&quot;Your alarm clock goes off&#46;&quot;)\nCreateEvent (24 * 60, &quot;daily alarm&quot;) {\n  AlarmCall\n}[/code:3dvmzmz6]",
      "EditableFormat": "bbcode",
      "HTML": "Add a function to your game that uses CreateEvent to generate a new event in 24x60 minutes, and have that event call the function.<br/><br/>Say the function is called AlarmCall, it might look like this;<br/><pre><code>msg (&quot;Your alarm clock goes off&#46;&quot;)<br/>CreateEvent (24 * 60, &quot;daily alarm&quot;) {<br/>  AlarmCall<br/>}</code></pre>",
      "PostDate": "2015-09-24T09:33:27+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "43422",
      "UserId": 0,
      "Username": "Talon",
      "UserAvatar": null,
      "UserGravatar": "3b6191c9adc337e83fec8e293e3fc584",
      "EditableText": "Is there a way to set the default movement time to a longer number rather than just doing it for every exit, tried copying the game_clock and changing the Inc on that, it seems to work on the first step then goes back to the default(tried to change it to five vs one for example)",
      "EditableFormat": "bbcode",
      "HTML": "Is there a way to set the default movement time to a longer number rather than just doing it for every exit, tried copying the game_clock and changing the Inc on that, it seems to work on the first step then goes back to the default(tried to change it to five vs one for example)",
      "PostDate": "2016-06-13T20:33:01+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "43438",
      "UserId": 0,
      "Username": "The Pixie",
      "UserAvatar": null,
      "UserGravatar": "cfa37e927f96177bcf6053ae8f108f77",
      "EditableText": "Set the exit to run a script, with this as the script&#058;\n[quote:26kyg1d7]SetInt(5)\nplayer.parent = this.to[/quote:26kyg1d7]",
      "EditableFormat": "bbcode",
      "HTML": "Set the exit to run a script, with this as the script&#058;<br/><blockquote><p>SetInt(5)<br/>player.parent = this.to</p></blockquote>",
      "PostDate": "2016-06-14T07:51:21+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "43441",
      "UserId": 0,
      "Username": "Talon",
      "UserAvatar": null,
      "UserGravatar": "3b6191c9adc337e83fec8e293e3fc584",
      "EditableText": "I meant if there was some global effect i could use rather than setting each exit individually.",
      "EditableFormat": "bbcode",
      "HTML": "I meant if there was some global effect i could use rather than setting each exit individually.",
      "PostDate": "2016-06-14T15:18:15+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "43445",
      "UserId": 0,
      "Username": "The Pixie",
      "UserAvatar": null,
      "UserGravatar": "cfa37e927f96177bcf6053ae8f108f77",
      "EditableText": "I guess the easiest way would be to put SetInt(5) in the &quot;Script when entering a room&quot;",
      "EditableFormat": "bbcode",
      "HTML": "I guess the easiest way would be to put SetInt(5) in the &quot;Script when entering a room&quot;",
      "PostDate": "2016-06-14T18:04:03+01:00",
      "LastEditDate": null
    }
  ]
}