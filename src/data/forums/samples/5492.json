{
  "Topic": {
    "TopicId": "5492",
    "ForumId": "18",
    "Title": "Character creation questions (again)",
    "LastUpdated": "2015-09-23T11:20:22+01:00",
    "ReplyCount": 0
  },
  "Posts": [
    {
      "PostId": "38045",
      "UserId": 0,
      "Username": "The Pixie",
      "UserAvatar": null,
      "UserGravatar": "cfa37e927f96177bcf6053ae8f108f77",
      "EditableText": "So you have a whole set of attributes that can be certain values, such as race or hair colour, and you want to present them to the player as choices. Some choices will affect later options, and some values can change later in the game.\n\nI devised this library for Neonayon to do just that.\n\nAdd the libary to your game (right click in the left pane, select &quot;Add library&quot;, navigate to QuestionLib, save and click &quot;Reload&quot;). Then create a new room called &quot;questions&quot;, and in there create an object for each attribute.\n\n[b:3vpwqoup][i:3vpwqoup]Setting Up Questions[/i:3vpwqoup][/b:3vpwqoup]\n\nSay you have a race attribute, create an object called &quot;race&quot;. Give it an alias, which will be the question the player will be asked, perhaps &quot;What race are you?&quot;. You can also add a description; this will appear before the question, so can be used to explain the options.\n\nNow go to the &quot;Questionaire&quot; tab, and set this object tobe a &quot;Question&quot;. A whole bunch of settings will appear. The most important is the list at the top; this is where you enter all the options for this attribute. Let us say for race you want to be able to handle human, elf, lizardman, feline, gnoll and orc.\n\nNow suppose, you only want the player to be able to choose the first four options. No problem, set the &quot;from&quot; value to 0, as you want the first option to be available, and set the &quot;to&quot; to 4, because you do not want the fifth item (which is number 4 in the list, as it starts from 0). Alternatively, you could set &quot;to&quot; to -2, to skip the last two entries.\n\nLater I want to ask about hair color, but lizardmen and felines do not have hair, so we can use the optional script here.\n[code:3vpwqoup]if (player&#46;race = &quot;feline&quot;) {\n  haircolour&#46;show = false\n  furcolour&#46;show = true\n}\nif (player&#46;race = &quot;lizardman&quot;) {\n  haircolour&#46;show = false\n  scalescolour&#46;show = true\n}[/code:3vpwqoup]\nYou could also use the script to adjust which options are shown. If you have a question about height, you could offer the player smaller height options for a dwarf (remember, the numbers are the indices of the options, not the actual height; setting &quot;from&quot; to 0 indicates to the end of the list). \n[code:3vpwqoup]if (player&#46;race = &quot;dwarf&quot;) {\n  height&#46;to = 0\n  height&#46;from = 4\n}\nif (player&#46;race = &quot;giant&quot;) {\n  height&#46;to = 12\n  height&#46;from = 0\n}[/code:3vpwqoup]\nYou may prefer to not give the player a choice about an attribute. Perhaps rank starts at zero, and increases as the game progresses. Untick the Show box, and enter a value in the &quot;Default&quot; box. The furcolour and scalescolour attributes would also have &quot;Show&quot; unticked.\n\nBe aware that Quest gets confused if you use apostrophes in inline menu choices, so ensure you have none in any of your options. I have had to do heights as &quot;5.6&quot; rather than &quot;5'6&quot; to get around this.\n\nYou can ask as many questions as you like. Each question automatically gets a &quot;random&quot; option.\n\nTo start the question asking process in your game, just call AskQuestion (probably the start script on the game object is the best place).\n\nWhen the process is done, it will call a function called QuestionCallBack. This does nothing by default, but you can write your own version to have something happen when the process has completed.\n\n[b:3vpwqoup][i:3vpwqoup]Changing Values[/i:3vpwqoup][/b:3vpwqoup]\n\nEach attribute is stored as both a string and an integer (a whole number), so for example:\n[code:3vpwqoup]player&#46;race = &quot;human&quot;\nplayer&#46;race_as_int = 0[/code:3vpwqoup]\nIf you want to change a value, you need to make sure both get changed. The best way is to use the built-in functions:\n[code:3vpwqoup]Increase\nDecrease\nAdjust\nSetTo[/code:3vpwqoup]\nIncrease and Decrease will raise or lower the attribute by one, while Adjust allows you to change it by as much as you like.\n[code:3vpwqoup]Increase(&quot;height&quot;)\nDecrease(&quot;height&quot;)\nAdjust(&quot;height&quot;, -2)[/code:3vpwqoup]\nThe SetTo functions lets you set the attribute to a certain value:\n[code:3vpwqoup]SetTo(&quot;race&quot;, &quot;orc&quot;)[/code:3vpwqoup]\nAll four functions return a Boolean value, true if the change was successful, false otherwise. It will fail if you try to go beyond the allowed range (if you try to decrease the attribute when it is already at the lowest, or increase it when at the highest) or use SetTo with an unrecognised value. The demo game has a GROW command, which looks like this:\n[code:3vpwqoup]if (Increase(&quot;height&quot;)) {\n  msg(&quot;You grow two inches!&quot;)\n}\nelse {\n  msg(&quot;You are tall enough already&quot;)\n}[/code:3vpwqoup]\nIn the demo, once you have created your character, you can type X ME to see what you look like. You can also try GROW and ORC.\n\n[attachment=1:3vpwqoup]<!-- ia1 -->QuestionDemo.aslx<!-- ia1 -->[/attachment:3vpwqoup]\n[attachment=0:3vpwqoup]<!-- ia0 -->QuestionLib.aslx<!-- ia0 -->[/attachment:3vpwqoup]",
      "EditableFormat": "bbcode",
      "HTML": "So you have a whole set of attributes that can be certain values, such as race or hair colour, and you want to present them to the player as choices. Some choices will affect later options, and some values can change later in the game.<br/><br/>I devised this library for Neonayon to do just that.<br/><br/>Add the libary to your game (right click in the left pane, select &quot;Add library&quot;, navigate to QuestionLib, save and click &quot;Reload&quot;). Then create a new room called &quot;questions&quot;, and in there create an object for each attribute.<br/><br/><span style=\"font-weight:bold;\"><span style=\"font-style:italic;\">Setting Up Questions</span></span><br/><br/>Say you have a race attribute, create an object called &quot;race&quot;. Give it an alias, which will be the question the player will be asked, perhaps &quot;What race are you?&quot;. You can also add a description; this will appear before the question, so can be used to explain the options.<br/><br/>Now go to the &quot;Questionaire&quot; tab, and set this object tobe a &quot;Question&quot;. A whole bunch of settings will appear. The most important is the list at the top; this is where you enter all the options for this attribute. Let us say for race you want to be able to handle human, elf, lizardman, feline, gnoll and orc.<br/><br/>Now suppose, you only want the player to be able to choose the first four options. No problem, set the &quot;from&quot; value to 0, as you want the first option to be available, and set the &quot;to&quot; to 4, because you do not want the fifth item (which is number 4 in the list, as it starts from 0). Alternatively, you could set &quot;to&quot; to -2, to skip the last two entries.<br/><br/>Later I want to ask about hair color, but lizardmen and felines do not have hair, so we can use the optional script here.<br/><pre><code>if (player&#46;race = &quot;feline&quot;) {<br/>  haircolour&#46;show = false<br/>  furcolour&#46;show = true<br/>}<br/>if (player&#46;race = &quot;lizardman&quot;) {<br/>  haircolour&#46;show = false<br/>  scalescolour&#46;show = true<br/>}</code></pre><br/>You could also use the script to adjust which options are shown. If you have a question about height, you could offer the player smaller height options for a dwarf (remember, the numbers are the indices of the options, not the actual height; setting &quot;from&quot; to 0 indicates to the end of the list). <br/><pre><code>if (player&#46;race = &quot;dwarf&quot;) {<br/>  height&#46;to = 0<br/>  height&#46;from = 4<br/>}<br/>if (player&#46;race = &quot;giant&quot;) {<br/>  height&#46;to = 12<br/>  height&#46;from = 0<br/>}</code></pre><br/>You may prefer to not give the player a choice about an attribute. Perhaps rank starts at zero, and increases as the game progresses. Untick the Show box, and enter a value in the &quot;Default&quot; box. The furcolour and scalescolour attributes would also have &quot;Show&quot; unticked.<br/><br/>Be aware that Quest gets confused if you use apostrophes in inline menu choices, so ensure you have none in any of your options. I have had to do heights as &quot;5.6&quot; rather than &quot;5'6&quot; to get around this.<br/><br/>You can ask as many questions as you like. Each question automatically gets a &quot;random&quot; option.<br/><br/>To start the question asking process in your game, just call AskQuestion (probably the start script on the game object is the best place).<br/><br/>When the process is done, it will call a function called QuestionCallBack. This does nothing by default, but you can write your own version to have something happen when the process has completed.<br/><br/><span style=\"font-weight:bold;\"><span style=\"font-style:italic;\">Changing Values</span></span><br/><br/>Each attribute is stored as both a string and an integer (a whole number), so for example:<br/><pre><code>player&#46;race = &quot;human&quot;<br/>player&#46;race_as_int = 0</code></pre><br/>If you want to change a value, you need to make sure both get changed. The best way is to use the built-in functions:<br/><pre><code>Increase<br/>Decrease<br/>Adjust<br/>SetTo</code></pre><br/>Increase and Decrease will raise or lower the attribute by one, while Adjust allows you to change it by as much as you like.<br/><pre><code>Increase(&quot;height&quot;)<br/>Decrease(&quot;height&quot;)<br/>Adjust(&quot;height&quot;, -2)</code></pre><br/>The SetTo functions lets you set the attribute to a certain value:<br/><pre><code>SetTo(&quot;race&quot;, &quot;orc&quot;)</code></pre><br/>All four functions return a Boolean value, true if the change was successful, false otherwise. It will fail if you try to go beyond the allowed range (if you try to decrease the attribute when it is already at the lowest, or increase it when at the highest) or use SetTo with an unrecognised value. The demo game has a GROW command, which looks like this:<br/><pre><code>if (Increase(&quot;height&quot;)) {<br/>  msg(&quot;You grow two inches!&quot;)<br/>}<br/>else {<br/>  msg(&quot;You are tall enough already&quot;)<br/>}</code></pre><br/>In the demo, once you have created your character, you can type X ME to see what you look like. You can also try GROW and ORC.<br/><br/><div><a href=\"/attachment/1330\">QuestionDemo.aslx</a></div><br/><div><a href=\"/attachment/1332\">QuestionLib.aslx</a></div>",
      "PostDate": "2015-09-23T11:20:22+01:00",
      "LastEditDate": null
    }
  ]
}
