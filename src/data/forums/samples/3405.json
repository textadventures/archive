{
  "Topic": {
    "TopicId": "3405",
    "ForumId": "18",
    "Title": "Order of the panes on the right",
    "LastUpdated": "2013-07-30T11:12:38+01:00",
    "ReplyCount": 15
  },
  "Posts": [
    {
      "PostId": "22372",
      "UserId": 0,
      "Username": "The Pixie",
      "UserAvatar": null,
      "UserGravatar": "cfa37e927f96177bcf6053ae8f108f77",
      "EditableText": "Is there a way to change how these are displayed?\n\nI would like the compass at the top. When it is at the botton, it is jumping up and down the page as items appear and disappear from the object lists, verbs are shown and hidden, etc. If it was at the top, it would not move, and as it does not change size, will not make anything else move.\n\nI would like the status panel second, as it rarely changes it sizes.\n\nThe inventory and object list should be next to each other as they are conceptually similar; both are lists of objects, that can be used with verbs.\n\nHow can I achieve this?",
      "EditableFormat": "bbcode",
      "HTML": "Is there a way to change how these are displayed?<br/><br/>I would like the compass at the top. When it is at the botton, it is jumping up and down the page as items appear and disappear from the object lists, verbs are shown and hidden, etc. If it was at the top, it would not move, and as it does not change size, will not make anything else move.<br/><br/>I would like the status panel second, as it rarely changes it sizes.<br/><br/>The inventory and object list should be next to each other as they are conceptually similar; both are lists of objects, that can be used with verbs.<br/><br/>How can I achieve this?",
      "PostDate": "2013-01-17T15:31:00+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "22378",
      "UserId": 0,
      "Username": "Pertex",
      "UserAvatar": "5940_1369854251.gif",
      "UserGravatar": "4cc1e52f99452e841ecf4cbee9eadde9",
      "EditableText": "I am not sure but you could try it with document.getElementById('gamepanesRunning').innerHTML .You should receive the html code of the panes which must be separated into the single panes, rearranged and then set again with innerHTML.",
      "EditableFormat": "bbcode",
      "HTML": "I am not sure but you could try it with document.getElementById('gamepanesRunning').innerHTML .You should receive the html code of the panes which must be separated into the single panes, rearranged and then set again with innerHTML.",
      "PostDate": "2013-01-17T16:11:06+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "22386",
      "UserId": 0,
      "Username": "The Pixie",
      "UserAvatar": null,
      "UserGravatar": "cfa37e927f96177bcf6053ae8f108f77",
      "EditableText": "Hmm, interesting idea. I will have a look.",
      "EditableFormat": "bbcode",
      "HTML": "Hmm, interesting idea. I will have a look.",
      "PostDate": "2013-01-17T19:50:20+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "22391",
      "UserId": 0,
      "Username": "The Pixie",
      "UserAvatar": null,
      "UserGravatar": "cfa37e927f96177bcf6053ae8f108f77",
      "EditableText": "Struggling with this. This is what I have so far:\n\n[code:tkudllom]  function swap() {\n    // Grab the HTML element we are interested in\n    rightPane = document&#46;getElementById(&quot;gamePanesRunning&quot;);\n    // &#46;&#46;&#46; and its direct child nodes\n    nodes = rightPane&#46;childNodes;\n    // Save the nodes in a new array\n    var ary = new Array();\n    s = &quot;Found&#58; &quot; + nodes&#46;length + &quot;&#46; &quot;\n    for (i = 0; i &lt; nodes&#46;length; i++) {\n      s += &quot; Got&#58; &quot; + nodes&#91;i&#93;&#46;id + &quot; (&quot; + nodes&#91;i&#93;&#46;tagName + &quot;)&quot; + &quot;&#46; &quot;;\n      ary&#91;i&#93; = nodes&#91;i&#93;\n    }\n    // Clear the existing content\n    rightPane&#46;innerHTML = '';\n    // Add the panes back in, in the new order\n    // Seem to count spaces as nodes, which gives you 17 nodes, where all the even numbered ones\n    // can be ignored&#46;\n    order = &#91;3, 1, 0, 2&#93;\n    // Internet Explorer gets to here okay\n    for (i = 0; i &lt; order&#46;length; i++) {\n      append(rightPane, ary&#91;order&#91;i&#93; * 4 + 1&#93;)\n      append(rightPane, ary&#91;order&#91;i&#93; * 4 + 3&#93;)\n    }\n  }\n\n  function append(root, node) {\n    root&#46;appendChild(node)\n  }[/code:tkudllom]\n\nThis works in the offline game, and in Google when online, but not in Internet Explorer. The problem seems to be in the append function (putting in print statements reveals the code gets to here, then silently gives up). I have tried putting the empty nodes (the even numbered ones) back in, but that does not work either (and you get &quot;undefined&quot; between each pane).\n\nAlso tried this (offline panels are reordered but do not work):\n\n[code:tkudllom]  root&#46;innerHTML += node&#46;outerHTML[/code:tkudllom]\n\nAnd this (crashes Quest; I think my JavaScript is wrong, but cannot see where):\n\n[code:tkudllom]  root&#46;createElement(node&#46;tagName)\n  for (i = 0; i &lt; node&#46;attributes&#46;length; i++) {\n    root&#46;setAttribute(node&#46;attributes&#91;i&#93;&#46;name, node&#46;attributes&#91;i&#93;&#46;value)\n  }[/code:tkudllom]\n\nAny suggests or comments anyone?\n\n\nThe uploaded game is here:\n<!-- m --><a class=\"postlink\" href=\"http://play.textadventures.co.uk/v5/Play.aspx?id=986\">http://play.textadventures.co.uk/v5/Play.aspx?id=986</a><!-- m -->\n\nAnd the test game is here:\n[attachment=0:tkudllom]<!-- ia0 -->pane.7z<!-- ia0 -->[/attachment:tkudllom]",
      "EditableFormat": "bbcode",
      "HTML": "Struggling with this. This is what I have so far:<br/><br/><pre><code>  function swap() {<br/>    // Grab the HTML element we are interested in<br/>    rightPane = document&#46;getElementById(&quot;gamePanesRunning&quot;);<br/>    // &#46;&#46;&#46; and its direct child nodes<br/>    nodes = rightPane&#46;childNodes;<br/>    // Save the nodes in a new array<br/>    var ary = new Array();<br/>    s = &quot;Found&#58; &quot; + nodes&#46;length + &quot;&#46; &quot;<br/>    for (i = 0; i &lt; nodes&#46;length; i++) {<br/>      s += &quot; Got&#58; &quot; + nodes&#91;i&#93;&#46;id + &quot; (&quot; + nodes&#91;i&#93;&#46;tagName + &quot;)&quot; + &quot;&#46; &quot;;<br/>      ary&#91;i&#93; = nodes&#91;i&#93;<br/>    }<br/>    // Clear the existing content<br/>    rightPane&#46;innerHTML = '';<br/>    // Add the panes back in, in the new order<br/>    // Seem to count spaces as nodes, which gives you 17 nodes, where all the even numbered ones<br/>    // can be ignored&#46;<br/>    order = &#91;3, 1, 0, 2&#93;<br/>    // Internet Explorer gets to here okay<br/>    for (i = 0; i &lt; order&#46;length; i++) {<br/>      append(rightPane, ary&#91;order&#91;i&#93; * 4 + 1&#93;)<br/>      append(rightPane, ary&#91;order&#91;i&#93; * 4 + 3&#93;)<br/>    }<br/>  }<br/><br/>  function append(root, node) {<br/>    root&#46;appendChild(node)<br/>  }</code></pre><br/><br/>This works in the offline game, and in Google when online, but not in Internet Explorer. The problem seems to be in the append function (putting in print statements reveals the code gets to here, then silently gives up). I have tried putting the empty nodes (the even numbered ones) back in, but that does not work either (and you get &quot;undefined&quot; between each pane).<br/><br/>Also tried this (offline panels are reordered but do not work):<br/><br/><pre><code>  root&#46;innerHTML += node&#46;outerHTML</code></pre><br/><br/>And this (crashes Quest; I think my JavaScript is wrong, but cannot see where):<br/><br/><pre><code>  root&#46;createElement(node&#46;tagName)<br/>  for (i = 0; i &lt; node&#46;attributes&#46;length; i++) {<br/>    root&#46;setAttribute(node&#46;attributes&#91;i&#93;&#46;name, node&#46;attributes&#91;i&#93;&#46;value)<br/>  }</code></pre><br/><br/>Any suggests or comments anyone?<br/><br/><br/>The uploaded game is here:<br/><!-- m --><a class=\"postlink\" href=\"http://play.textadventures.co.uk/v5/Play.aspx?id=986\">http://play.textadventures.co.uk/v5/Play.aspx?id=986</a><!-- m --><br/><br/>And the test game is here:<br/><div><a href=\"/forumattachments/463/pane.7z\">pane.7z</a></div>",
      "PostDate": "2013-01-18T12:01:50+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "22392",
      "UserId": 0,
      "Username": "Alex",
      "UserAvatar": null,
      "UserGravatar": "188b72c5e13327f4fde3989dca7d7d53",
      "EditableText": "Why not use jQuery to do the hard stuff, something like this sounds good - not tried it at all though. <!-- m --><a class=\"postlink\" href=\"http://stackoverflow.com/questions/4909907/how-to-rearrange-elements-using-jquery\">http://stackoverflow.com/questions/4909 ... ing-jquery</a><!-- m -->\n\nAlso what's the JS callback problem described in your latest wiki update? Would be good to have an issue logged for this kind of thing.",
      "EditableFormat": "bbcode",
      "HTML": "Why not use jQuery to do the hard stuff, something like this sounds good - not tried it at all though. <!-- m --><a class=\"postlink\" href=\"http://stackoverflow.com/questions/4909907/how-to-rearrange-elements-using-jquery\">http://stackoverflow.com/questions/4909 ... ing-jquery</a><!-- m --><br/><br/>Also what's the JS callback problem described in your latest wiki update? Would be good to have an issue logged for this kind of thing.",
      "PostDate": "2013-01-18T12:11:32+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "22394",
      "UserId": 0,
      "Username": "The Pixie",
      "UserAvatar": null,
      "UserGravatar": "cfa37e927f96177bcf6053ae8f108f77",
      "EditableText": "I will try jQuery.\n\nThe callback problem I encountered when trying to trouble shoot this. I had a number of calls to a function in Quest scattered through the JavaScript code so I could see what was going on, but I found that when online I only saw the last one, even though I saw them all when offline.",
      "EditableFormat": "bbcode",
      "HTML": "I will try jQuery.<br/><br/>The callback problem I encountered when trying to trouble shoot this. I had a number of calls to a function in Quest scattered through the JavaScript code so I could see what was going on, but I found that when online I only saw the last one, even though I saw them all when offline.",
      "PostDate": "2013-01-18T13:24:52+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "22395",
      "UserId": 0,
      "Username": "Pertex",
      "UserAvatar": "5940_1369854251.gif",
      "UserGravatar": "4cc1e52f99452e841ecf4cbee9eadde9",
      "EditableText": "yes, it seems to work with jquery insertBefore. th problem is, that some of the divs don't have an ID, so you can't adress them directly. And I get problems in the offline version with the player. Sometimes it only shows a white screen or I have to wait some time until it starts.\nAlex, could you tell us someting about changing from jQueryUI to Bootstrap? Will this come in Q5.4 or later? When changing will this break such a Javascript coding?",
      "EditableFormat": "bbcode",
      "HTML": "yes, it seems to work with jquery insertBefore. th problem is, that some of the divs don't have an ID, so you can't adress them directly. And I get problems in the offline version with the player. Sometimes it only shows a white screen or I have to wait some time until it starts.<br/>Alex, could you tell us someting about changing from jQueryUI to Bootstrap? Will this come in Q5.4 or later? When changing will this break such a Javascript coding?",
      "PostDate": "2013-01-18T13:37:12+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "22396",
      "UserId": 0,
      "Username": "The Pixie",
      "UserAvatar": null,
      "UserGravatar": "cfa37e927f96177bcf6053ae8f108f77",
      "EditableText": "Okay, so here is a jQuery version that does not work. In the off-line Quest, the panes are re-ordered, but do not work properly. Compass buttons do not get visually modified as you change rooms, but the buttons do work. The object panels are updated as you change rooms, but do no work otherwise.\n\n[code:262cf6u6]  function swap() {\n    rightPane = $(&quot;#gamePanesRunning&quot;)\n    divnodes = rightPane&#46;children(&quot;div&quot;)\n    h3nodes = rightPane&#46;children(&quot;h3&quot;)\n    rightPane&#46;children()&#46;remove();\n    order = &#91;3, 1, 0, 2&#93;\n    for (i = 0; i &lt; order&#46;length; i++) {\n      rightPane&#46;append(h3nodes&#91;order&#91;i&#93;&#93;)\n      rightPane&#46;append(divnodes&#91;order&#91;i&#93;&#93;)\n    }\n  }[/code:262cf6u6]\n\nI cannot imagine why that would be, given it did work before (online at least). If the panes have been put back in, why would they not work?\n\nBy the way, this is made more complicated by the DIVs not having their own IDs. The page you linked to gave a great way to do it otherwise!",
      "EditableFormat": "bbcode",
      "HTML": "Okay, so here is a jQuery version that does not work. In the off-line Quest, the panes are re-ordered, but do not work properly. Compass buttons do not get visually modified as you change rooms, but the buttons do work. The object panels are updated as you change rooms, but do no work otherwise.<br/><br/><pre><code>  function swap() {<br/>    rightPane = $(&quot;#gamePanesRunning&quot;)<br/>    divnodes = rightPane&#46;children(&quot;div&quot;)<br/>    h3nodes = rightPane&#46;children(&quot;h3&quot;)<br/>    rightPane&#46;children()&#46;remove();<br/>    order = &#91;3, 1, 0, 2&#93;<br/>    for (i = 0; i &lt; order&#46;length; i++) {<br/>      rightPane&#46;append(h3nodes&#91;order&#91;i&#93;&#93;)<br/>      rightPane&#46;append(divnodes&#91;order&#91;i&#93;&#93;)<br/>    }<br/>  }</code></pre><br/><br/>I cannot imagine why that would be, given it did work before (online at least). If the panes have been put back in, why would they not work?<br/><br/>By the way, this is made more complicated by the DIVs not having their own IDs. The page you linked to gave a great way to do it otherwise!",
      "PostDate": "2013-01-18T14:00:09+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "22398",
      "UserId": 0,
      "Username": "Alex",
      "UserAvatar": null,
      "UserGravatar": "188b72c5e13327f4fde3989dca7d7d53",
      "EditableText": "Possibly removing and readding the elements disconnects the event handlers?",
      "EditableFormat": "bbcode",
      "HTML": "Possibly removing and readding the elements disconnects the event handlers?",
      "PostDate": "2013-01-18T14:15:31+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "22399",
      "UserId": 0,
      "Username": "Pertex",
      "UserAvatar": "5940_1369854251.gif",
      "UserGravatar": "4cc1e52f99452e841ecf4cbee9eadde9",
      "EditableText": "Quest is great!!! Here is an example with an additional pane. A pane to display pictures or perhaps a watch using it with The Pixies clock lib or or or\n<!-- m --><a class=\"postlink\" href=\"http://play.textadventures.co.uk/v5/Play.aspx?id=987\">http://play.textadventures.co.uk/v5/Play.aspx?id=987</a><!-- m -->",
      "EditableFormat": "bbcode",
      "HTML": "Quest is great!!! Here is an example with an additional pane. A pane to display pictures or perhaps a watch using it with The Pixies clock lib or or or<br/><!-- m --><a class=\"postlink\" href=\"http://play.textadventures.co.uk/v5/Play.aspx?id=987\">http://play.textadventures.co.uk/v5/Play.aspx?id=987</a><!-- m --><div><a href=\"/forumattachments/464/picturepane.zip\">picturepane.zip</a></div>",
      "PostDate": "2013-01-18T14:47:14+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "22403",
      "UserId": 0,
      "Username": "The Pixie",
      "UserAvatar": null,
      "UserGravatar": "cfa37e927f96177bcf6053ae8f108f77",
      "EditableText": "Without any further idea of what to do, I have put in a request that those DIVs get IDs at some point.\n\n<!-- m --><a class=\"postlink\" href=\"http://quest.uservoice.com/forums/34461-general/suggestions/3566432-ids-for-all-divs\">http://quest.uservoice.com/forums/34461 ... r-all-divs</a><!-- m -->",
      "EditableFormat": "bbcode",
      "HTML": "Without any further idea of what to do, I have put in a request that those DIVs get IDs at some point.<br/><br/><!-- m --><a class=\"postlink\" href=\"http://quest.uservoice.com/forums/34461-general/suggestions/3566432-ids-for-all-divs\">http://quest.uservoice.com/forums/34461 ... r-all-divs</a><!-- m -->",
      "PostDate": "2013-01-18T22:44:45+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "22404",
      "UserId": 0,
      "Username": "Alex",
      "UserAvatar": null,
      "UserGravatar": "188b72c5e13327f4fde3989dca7d7d53",
      "EditableText": "Actually there's already a pull request from Pertex adding those div id's.\n\nIn the meantime you can access the div via jQuery, e.g.:\n\n[code:f6etipca]\nvar $inventoryLabel = $(&quot;#inventoryLabel&quot;);\nvar $inventory = $inventoryLabel&#46;next();\n[/code:f6etipca]\n\n$inventory will be the jQuery-wrapped reference to the inventory div.",
      "EditableFormat": "bbcode",
      "HTML": "Actually there's already a pull request from Pertex adding those div id's.<br/><br/>In the meantime you can access the div via jQuery, e.g.:<br/><br/><pre><code><br/>var $inventoryLabel = $(&quot;#inventoryLabel&quot;);<br/>var $inventory = $inventoryLabel&#46;next();<br/></code></pre><br/><br/>$inventory will be the jQuery-wrapped reference to the inventory div.",
      "PostDate": "2013-01-19T10:58:29+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "22413",
      "UserId": 0,
      "Username": "The Pixie",
      "UserAvatar": null,
      "UserGravatar": "cfa37e927f96177bcf6053ae8f108f77",
      "EditableText": "Success. Thanks Alex for pointing me in the right direction.\n\n  function swap() {\n    var $compassLabel = $(&quot;#compassLabel&quot;);\n    var $compass = $compassLabel.next();\n    var $statusLabel = $(&quot;#statusVarsLabel&quot;);\n    var $status = $statusLabel.next();\n\n    $compassLabel.insertBefore(&quot;#inventoryLabel&quot;);\n    $compass.insertBefore(&quot;#inventoryLabel&quot;);\n    $statusLabel.insertBefore(&quot;#inventoryLabel&quot;);\n    $status.insertBefore(&quot;#inventoryLabel&quot;);\n  }\n\nI am curious what the dollar sign means in jQuery before a variable name. I am wondering if that is what was wrong before.",
      "EditableFormat": "bbcode",
      "HTML": "Success. Thanks Alex for pointing me in the right direction.<br/><br/>  function swap() {<br/>    var $compassLabel = $(&quot;#compassLabel&quot;);<br/>    var $compass = $compassLabel.next();<br/>    var $statusLabel = $(&quot;#statusVarsLabel&quot;);<br/>    var $status = $statusLabel.next();<br/><br/>    $compassLabel.insertBefore(&quot;#inventoryLabel&quot;);<br/>    $compass.insertBefore(&quot;#inventoryLabel&quot;);<br/>    $statusLabel.insertBefore(&quot;#inventoryLabel&quot;);<br/>    $status.insertBefore(&quot;#inventoryLabel&quot;);<br/>  }<br/><br/>I am curious what the dollar sign means in jQuery before a variable name. I am wondering if that is what was wrong before.",
      "PostDate": "2013-01-19T21:28:11+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "22415",
      "UserId": 0,
      "Username": "Alex",
      "UserAvatar": null,
      "UserGravatar": "188b72c5e13327f4fde3989dca7d7d53",
      "EditableText": "A dollar sign before a variable name doesn't mean anything special. It's just a convention so you know which variables are for jQuery-wrapped elements. It's a form of Hungarian notation in a way, yet somehow more popular with the cool kids.",
      "EditableFormat": "bbcode",
      "HTML": "A dollar sign before a variable name doesn't mean anything special. It's just a convention so you know which variables are for jQuery-wrapped elements. It's a form of Hungarian notation in a way, yet somehow more popular with the cool kids.",
      "PostDate": "2013-01-19T22:22:34+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "22456",
      "UserId": 0,
      "Username": "sgreig",
      "UserAvatar": null,
      "UserGravatar": "9117185af66d72729b195384e3a446f0",
      "EditableText": "Tommy Refenes uses hungarian notation in his programming, so as far as I'm concerned, it's cool! <!-- s;) --><img src=\"{SMILIES_PATH}/icon_wink.gif\" alt=\";)\" title=\"Wink\" /><!-- s;) -->",
      "EditableFormat": "bbcode",
      "HTML": "Tommy Refenes uses hungarian notation in his programming, so as far as I'm concerned, it's cool! <!-- s;) --><img src=\"{SMILIES_PATH}/icon_wink.gif\" alt=\";)\" title=\"Wink\" /><!-- s;) -->",
      "PostDate": "2013-01-21T22:59:35+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "25630",
      "UserId": 0,
      "Username": "The Pixie",
      "UserAvatar": null,
      "UserGravatar": "cfa37e927f96177bcf6053ae8f108f77",
      "EditableText": "This no longer woks in 5.4  as the insert command has been removed. Is there a way around that?",
      "EditableFormat": "bbcode",
      "HTML": "This no longer woks in 5.4  as the insert command has been removed. Is there a way around that?",
      "PostDate": "2013-07-30T11:12:38+01:00",
      "LastEditDate": null
    }
  ]
}