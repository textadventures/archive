{
  "Topic": {
    "TopicId": "4057",
    "ForumId": "18",
    "Title": "Letting the Player Set Attributes",
    "LastUpdated": "2013-12-19T11:19:48+00:00",
    "ReplyCount": 0
  },
  "Posts": [
    {
      "PostId": "27149",
      "UserId": 0,
      "Username": "The Pixie",
      "UserAvatar": null,
      "UserGravatar": "cfa37e927f96177bcf6053ae8f108f77",
      "EditableText": "A common problem with creating an RPG-style game is getting a way for the player to define attributes for his or her character, and to modify those attributes as the character gains experience (or increases in level). Here is an easy way to do just that.\n\n[b:22gwgt3y][i:22gwgt3y]Import the Library[/i:22gwgt3y][/b:22gwgt3y]\n\nAll the hard work has already been done, and is in LevelLib.aslx.\n[attachment=0:22gwgt3y]<!-- ia0 -->LevelLib.aslx<!-- ia0 -->[/attachment:22gwgt3y]\n\nThe first thing you need to do is to include the library in your game, so (once you have it downloaded) expand the &quot;Advanced&quot; object in the left pane, then click on &quot;Included Libraries&quot;. In the right pane, click on &quot;Add&quot;, and navigate to the downloaded file. Save and reload.\n\n[b:22gwgt3y][i:22gwgt3y]The Player[/i:22gwgt3y][/b:22gwgt3y]\n\nYou need to set up two attributes on the player object, so go to the Attributes tab.\n\n[b:22gwgt3y][i:22gwgt3y]The [/i:22gwgt3y]maxpoints[i:22gwgt3y] Attribute[/i:22gwgt3y][/b:22gwgt3y]\n\nThe first is called &quot;maxpoints&quot;, and must be set to be an integer. This is the number of points the player has to create his character, so you might like to set it to between 5 and 10 at the start, and to slowly increase it as the game progresses (how you do that is very much game dependent, and beyond the scope of this article, but the code would look like this:\n\n[code:22gwgt3y]game&#46;pov&#46;maxpoints = game&#46;pov&#46;maxpoints + 1[/code:22gwgt3y]\n\n[b:22gwgt3y][i:22gwgt3y]The [/i:22gwgt3y]attlist[i:22gwgt3y] Attribute[/i:22gwgt3y][/b:22gwgt3y]\n\nThis attribute must be set to be a string list, and to this list you should add the names of the attributes that are important in your game, such as intelligence, charisma, etc. I would suggest between 3 and 5, but you can have as many as you want.\n\n[b:22gwgt3y][i:22gwgt3y]Start Script[/i:22gwgt3y][/b:22gwgt3y]\n\nFinally, you need to kickstart the process. On the game object, go to the Script tab, and at the top, look for &quot;Start script&quot;. Click on &quot;Add new script&quot;, and then &quot;Call function&quot; (under &quot;Scripts&quot;). Type &quot;LevelUp&quot; as the name of the function.\n\n[b:22gwgt3y][i:22gwgt3y]All Done[/i:22gwgt3y][/b:22gwgt3y]\n\nThat is all you have to do. If you go into your game, you will find there is a new command, LEVEL, and typing it will allow you to spend points on the attributes you set up.\n\n[b:22gwgt3y][i:22gwgt3y]Now Just...[/i:22gwgt3y][/b:22gwgt3y]\n\nOf course, you need those attributes to mean something; what bonus does a high charisma give? You need a mechanism for the player to get extra points to spend (and to tell him he has spare points waiting to be spent). All that is up to you.\n\n[b:22gwgt3y][i:22gwgt3y]Turnscripts[/i:22gwgt3y][/b:22gwgt3y]\n\nOne point to be aware of is that any turnscript running will count levelling up as several turns.\n\nThere is a way around that, at least for one turnscript. The turns of the levelling process each set an attribute called &quot;notarealturn&quot; to true on the game object. Your turnscript can test if that attribute is set, and if it is, set it to false, and even it is not, proceed as normal. In code, it might look like this:\n\n[code:22gwgt3y]  if (GetBoolean (game, &quot;notarealturn&quot;)) {\n    game&#46;notarealturn = false\n  }\n  else {\n    game&#46;turn = game&#46;turn + 1\n  }[/code:22gwgt3y]\n\n[b:22gwgt3y][i:22gwgt3y]Credits[/i:22gwgt3y][/b:22gwgt3y]\n\nThe kernal of the LevelLib was designed by Jay Nabonne",
      "EditableFormat": "bbcode",
      "HTML": "A common problem with creating an RPG-style game is getting a way for the player to define attributes for his or her character, and to modify those attributes as the character gains experience (or increases in level). Here is an easy way to do just that.<br/><br/><span style=\"font-weight:bold;\"><span style=\"font-style:italic;\">Import the Library</span></span><br/><br/>All the hard work has already been done, and is in LevelLib.aslx.<br/><div><a href=\"/forumattachments/798/LevelLib.aslx\">LevelLib.aslx</a></div><br/><br/>The first thing you need to do is to include the library in your game, so (once you have it downloaded) expand the &quot;Advanced&quot; object in the left pane, then click on &quot;Included Libraries&quot;. In the right pane, click on &quot;Add&quot;, and navigate to the downloaded file. Save and reload.<br/><br/><span style=\"font-weight:bold;\"><span style=\"font-style:italic;\">The Player</span></span><br/><br/>You need to set up two attributes on the player object, so go to the Attributes tab.<br/><br/><span style=\"font-weight:bold;\"><span style=\"font-style:italic;\">The </span>maxpoints<span style=\"font-style:italic;\"> Attribute</span></span><br/><br/>The first is called &quot;maxpoints&quot;, and must be set to be an integer. This is the number of points the player has to create his character, so you might like to set it to between 5 and 10 at the start, and to slowly increase it as the game progresses (how you do that is very much game dependent, and beyond the scope of this article, but the code would look like this:<br/><br/><pre><code>game&#46;pov&#46;maxpoints = game&#46;pov&#46;maxpoints + 1</code></pre><br/><br/><span style=\"font-weight:bold;\"><span style=\"font-style:italic;\">The </span>attlist<span style=\"font-style:italic;\"> Attribute</span></span><br/><br/>This attribute must be set to be a string list, and to this list you should add the names of the attributes that are important in your game, such as intelligence, charisma, etc. I would suggest between 3 and 5, but you can have as many as you want.<br/><br/><span style=\"font-weight:bold;\"><span style=\"font-style:italic;\">Start Script</span></span><br/><br/>Finally, you need to kickstart the process. On the game object, go to the Script tab, and at the top, look for &quot;Start script&quot;. Click on &quot;Add new script&quot;, and then &quot;Call function&quot; (under &quot;Scripts&quot;). Type &quot;LevelUp&quot; as the name of the function.<br/><br/><span style=\"font-weight:bold;\"><span style=\"font-style:italic;\">All Done</span></span><br/><br/>That is all you have to do. If you go into your game, you will find there is a new command, LEVEL, and typing it will allow you to spend points on the attributes you set up.<br/><br/><span style=\"font-weight:bold;\"><span style=\"font-style:italic;\">Now Just...</span></span><br/><br/>Of course, you need those attributes to mean something; what bonus does a high charisma give? You need a mechanism for the player to get extra points to spend (and to tell him he has spare points waiting to be spent). All that is up to you.<br/><br/><span style=\"font-weight:bold;\"><span style=\"font-style:italic;\">Turnscripts</span></span><br/><br/>One point to be aware of is that any turnscript running will count levelling up as several turns.<br/><br/>There is a way around that, at least for one turnscript. The turns of the levelling process each set an attribute called &quot;notarealturn&quot; to true on the game object. Your turnscript can test if that attribute is set, and if it is, set it to false, and even it is not, proceed as normal. In code, it might look like this:<br/><br/><pre><code>  if (GetBoolean (game, &quot;notarealturn&quot;)) {<br/>    game&#46;notarealturn = false<br/>  }<br/>  else {<br/>    game&#46;turn = game&#46;turn + 1<br/>  }</code></pre><br/><br/><span style=\"font-weight:bold;\"><span style=\"font-style:italic;\">Credits</span></span><br/><br/>The kernal of the LevelLib was designed by Jay Nabonne",
      "PostDate": "2013-12-19T11:19:48+00:00",
      "LastEditDate": null
    }
  ]
}