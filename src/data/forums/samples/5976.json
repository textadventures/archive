{
  "Topic": {
    "TopicId": "5976",
    "ForumId": "18",
    "Title": "RPG-style Combat Library 2.0",
    "LastUpdated": "2016-02-19T09:58:54+00:00",
    "ReplyCount": 7
  },
  "Posts": [
    {
      "PostId": "41307",
      "UserId": 0,
      "Username": "The Pixie",
      "UserAvatar": null,
      "UserGravatar": "cfa37e927f96177bcf6053ae8f108f77",
      "EditableText": "This library offers a relatively simple, but comprehensive, combat system, the basic mechanics being somewhat like D&amp;D (d20, no hit locations). Version 2.0 has a lot of features added in, including dozens of weapons and monsters but is rather less suitable for customisation. This provides the rules and the monster manual, as it were, you just have to create the adventure, and hopefully subsequent posts will make it clear how to do that.\n\n[attachment=0:2xc05rrq]<!-- ia0 -->combatlib2.zip<!-- ia0 -->[/attachment:2xc05rrq]\n\nIt is slightly adapted from the version I used for Deeper, so you can get a feel for the system by playing the game:\n<!-- m --><a class=\"postlink\" href=\"http://textadventures.co.uk/games/view/em15b32xd0o-y-ysvgrtcg/deeper\">http://textadventures.co.uk/games/view/ ... tcg/deeper</a><!-- m -->\n\nI do not guarantee it is free of bugs, if you find an issue, let me know.",
      "EditableFormat": "bbcode",
      "HTML": "This library offers a relatively simple, but comprehensive, combat system, the basic mechanics being somewhat like D&amp;D (d20, no hit locations). Version 2.0 has a lot of features added in, including dozens of weapons and monsters but is rather less suitable for customisation. This provides the rules and the monster manual, as it were, you just have to create the adventure, and hopefully subsequent posts will make it clear how to do that.<br/><br/><div><a href=\"/forumattachments/1520/combatlib2.zip\">combatlib2.zip</a></div><br/><br/>It is slightly adapted from the version I used for Deeper, so you can get a feel for the system by playing the game:<br/><!-- m --><a class=\"postlink\" href=\"http://textadventures.co.uk/games/view/em15b32xd0o-y-ysvgrtcg/deeper\">http://textadventures.co.uk/games/view/ ... tcg/deeper</a><!-- m --><br/><br/>I do not guarantee it is free of bugs, if you find an issue, let me know.",
      "PostDate": "2016-02-19T09:35:16+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "41308",
      "UserId": 0,
      "Username": "The Pixie",
      "UserAvatar": null,
      "UserGravatar": "cfa37e927f96177bcf6053ae8f108f77",
      "EditableText": "[b:ly7ft18b][i:ly7ft18b]A - Setting Up[/i:ly7ft18b][/b:ly7ft18b]\n\nThis assumes you already have a game, and you want to add this library to it.\n\nDownload the ZIP file, and copy all the files to your game folder (you should be able to just drag them across).\n\nOpen up your game, and go to the bottom of the left pane, to expand the Advanced node, then click on Included Libraries. You should see two (at least) there already. Click Add, and then you should see CombatLib.aslx at the top of the drop down list (not the Browse button).\n[attachment=2:ly7ft18b]<!-- ia2 -->lib.png<!-- ia2 -->[/attachment:ly7ft18b]\nYou will then see a yellow warning strip across the top; as directed, save your game, and then click the [i:ly7ft18b]Reload[/i:ly7ft18b] button.\n[attachment=1:ly7ft18b]<!-- ia1 -->lib2.png<!-- ia1 -->[/attachment:ly7ft18b]\nGo to the Script tab of the game object, and add a Start script. Add &quot;Call function&quot;, and then type in &quot;CombatInit&quot; as the function name.\n[attachment=0:ly7ft18b]<!-- ia0 -->start2.png<!-- ia0 -->[/attachment:ly7ft18b]\nThe player needs to start in an empty room, and during the character creation process will be moved to a room called &quot;start2&quot;. So, rename the room the player object is currently in to &quot;start2&quot;, and then create a new room, perhaps called &quot;start&quot;, and drag the player object to there.\n\nThat is about it. it would be a good idea now to start your game and check it is working. Then we can add stuff.",
      "EditableFormat": "bbcode",
      "HTML": "<span style=\"font-weight:bold;\"><span style=\"font-style:italic;\">A - Setting Up</span></span><br/><br/>This assumes you already have a game, and you want to add this library to it.<br/><br/>Download the ZIP file, and copy all the files to your game folder (you should be able to just drag them across).<br/><br/>Open up your game, and go to the bottom of the left pane, to expand the Advanced node, then click on Included Libraries. You should see two (at least) there already. Click Add, and then you should see CombatLib.aslx at the top of the drop down list (not the Browse button).<br/><div><img src=\"/forumattachments/1510/lib.png\" alt=\"lib.png\" /></div><br/>You will then see a yellow warning strip across the top; as directed, save your game, and then click the <span style=\"font-style:italic;\">Reload</span> button.<br/><div><img src=\"/forumattachments/1511/lib2.png\" alt=\"lib2.png\" /></div><br/>Go to the Script tab of the game object, and add a Start script. Add &quot;Call function&quot;, and then type in &quot;CombatInit&quot; as the function name.<br/><div><img src=\"/forumattachments/1512/start2.png\" alt=\"start2.png\" /></div><br/>The player needs to start in an empty room, and during the character creation process will be moved to a room called &quot;start2&quot;. So, rename the room the player object is currently in to &quot;start2&quot;, and then create a new room, perhaps called &quot;start&quot;, and drag the player object to there.<br/><br/>That is about it. it would be a good idea now to start your game and check it is working. Then we can add stuff.",
      "PostDate": "2016-02-19T09:35:44+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "41309",
      "UserId": 0,
      "Username": "The Pixie",
      "UserAvatar": null,
      "UserGravatar": "cfa37e927f96177bcf6053ae8f108f77",
      "EditableText": "[b:30jogd4c][i:30jogd4c]B. Adding Items[/i:30jogd4c][/b:30jogd4c]\n\nThe library has numerous items already in it. To place an item like a weapon, you can clone it. To add a flail, for example, go to the Script tab of the room it should appear in. In the &quot;After entering the room for the first time&quot; script, click [i:30jogd4c]Add[/i:30jogd4c], and then select [i:30jogd4c]Clone Object and Move[/i:30jogd4c]. Set it up like this:\n[attachment=0:30jogd4c]<!-- ia0 -->cloneitem.png<!-- ia0 -->[/attachment:30jogd4c]\nIn code it looks like this:\n[code:30jogd4c]CloneObjectAndMove(flail, this)[/code:30jogd4c]\n\nSo what can be cloned?\n\n[i:30jogd4c]Bludging weapons:[/i:30jogd4c]\nclub, crude_club, wooden_club, crude_morning_star, morning_star, mace, staff, quarterstaff, flail, war_mattock, twohanded_flail\n\n[i:30jogd4c]Daggers:[/i:30jogd4c]\ncurved_dagger, dagger, iron_dagger, rusty_dagger, stone_dagger, bone_dagger, knife\n\n[i:30jogd4c]1H swords:[/i:30jogd4c]\nfalchian, scimitar, cutlass, rapier, sabre, short_swort, broad_sword, backsword\n\n[i:30jogd4c]2H swords:[/i:30jogd4c]\nlong_sword, claymore, great_sword\n\n[i:30jogd4c]Axes and spears:[/i:30jogd4c]\naxe, wood_axe, battle_axe, spear, crude_spear, basic_spear\n\n[i:30jogd4c]Shields:[/i:30jogd4c]\nsmall_shield, target_shield, medium_shield, normal_shield, wall_shield, large_shield\n\nArmour:\narmour_light armour_medium armour_chain armour_plate armour_heavy_plate\n\nNote that in these names, spaces have been replaces by underscores; this is true of monsters too.",
      "EditableFormat": "bbcode",
      "HTML": "<span style=\"font-weight:bold;\"><span style=\"font-style:italic;\">B. Adding Items</span></span><br/><br/>The library has numerous items already in it. To place an item like a weapon, you can clone it. To add a flail, for example, go to the Script tab of the room it should appear in. In the &quot;After entering the room for the first time&quot; script, click <span style=\"font-style:italic;\">Add</span>, and then select <span style=\"font-style:italic;\">Clone Object and Move</span>. Set it up like this:<br/><div><img src=\"/forumattachments/1513/cloneitem.png\" alt=\"cloneitem.png\" /></div><br/>In code it looks like this:<br/><pre><code>CloneObjectAndMove(flail, this)</code></pre><br/><br/>So what can be cloned?<br/><br/><span style=\"font-style:italic;\">Bludging weapons:</span><br/>club, crude_club, wooden_club, crude_morning_star, morning_star, mace, staff, quarterstaff, flail, war_mattock, twohanded_flail<br/><br/><span style=\"font-style:italic;\">Daggers:</span><br/>curved_dagger, dagger, iron_dagger, rusty_dagger, stone_dagger, bone_dagger, knife<br/><br/><span style=\"font-style:italic;\">1H swords:</span><br/>falchian, scimitar, cutlass, rapier, sabre, short_swort, broad_sword, backsword<br/><br/><span style=\"font-style:italic;\">2H swords:</span><br/>long_sword, claymore, great_sword<br/><br/><span style=\"font-style:italic;\">Axes and spears:</span><br/>axe, wood_axe, battle_axe, spear, crude_spear, basic_spear<br/><br/><span style=\"font-style:italic;\">Shields:</span><br/>small_shield, target_shield, medium_shield, normal_shield, wall_shield, large_shield<br/><br/>Armour:<br/>armour_light armour_medium armour_chain armour_plate armour_heavy_plate<br/><br/>Note that in these names, spaces have been replaces by underscores; this is true of monsters too.",
      "PostDate": "2016-02-19T09:36:02+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "41310",
      "UserId": 0,
      "Username": "The Pixie",
      "UserAvatar": null,
      "UserGravatar": "cfa37e927f96177bcf6053ae8f108f77",
      "EditableText": "[b:26um29y8][i:26um29y8]C. Adding Generic Monsters[/i:26um29y8][/b:26um29y8]\n\nAs with items, there are a whole bunch of monsters included, but they have their own special functions to clone them. As before, go to the Scripts tab of the room where you want the monsters, and look for the &quot;After entering the room for the first time&quot; bit. Click [i:26um29y8]Add[/i:26um29y8], and then select [i:26um29y8]Call function[/i:26um29y8]. To place a fire zombie, you might set it up like this:\n[attachment=2:26um29y8]<!-- ia2 -->createfromprototype.png<!-- ia2 -->[/attachment:26um29y8]\nIn code view it looks like this:\n[code:26um29y8]CreateFromPrototype(fire_zombie, this)[/code:26um29y8]\nThis is how to set up unusual monsters. The more standard monsters are in lists, where they are sorted by level. There are eight lists:\n\nkobold           Goblin, orc, etc.\nkobold_shaman    As above but spell casting\nghost            Non-corporeal undead\nzombie           Corporeal undead\nfiend            Humanoid demons\nhorror           Non-humanoid demons\nconstruct        Built monsters such as scarecrow, automaton\ndragon           Snakes, drakes, etc.\n\nEach list has 15 monsters, ranging from the pretty weak imps, snotlings and snakes, up to bonelords, ogre monarchs and ancient dragons. To place one of these you need the CreateFromPrototypeLevel, and you need to specify the list and the level (from 1 to 15):\n[attachment=1:26um29y8]<!-- ia1 -->createfromprototypelevel.png<!-- ia1 -->[/attachment:26um29y8]\nIn code it is like this:\n[code:26um29y8]CreateFromPrototypeLevel(ghost, 5, this)[/code:26um29y8]\nFor elementals, use this:\n[attachment=0:26um29y8]<!-- ia0 -->create fromprototypeelement.png<!-- ia0 -->[/attachment:26um29y8]\nIn code:\n[code:26um29y8]CreateFromPrototypeElement(fire, 3, this)[/code:26um29y8]\nYou can use any of the twelve built-in elements (some make sense more than others!). The level can range from 0 to 7.\n\nFinally, here is the list of the unusual monsters, with special attacks or defences that you can use with the [i:26um29y8]CreateFromPrototype [/i:26um29y8]function.\n\nadherer          weapons stick to it when they hit\nrust_monster     most weapons rust when they hit\nwraith           drain intelligence\nshambling_mound  gains HP from magic attacks\namorphous_blob   forms smaller monsters on death\nmushroomman      explodes on death\ndark_pixie       reflects magical attacks\nmimic            appears to be a chest\niron_cobra       one round to rear up, one to attack\nlich             casts spells, including one that targets intelligence in wizards and damage output of fighters\ndire_hag\nelectric_skeleton\nfire_zombie\n\nYou can use these functions several times in one room to give you a hoard of monsters, and you can mix them up to give variety to a group. For example:\n[code:26um29y8]CreateFromPrototypeLevel(kobold, 8, this)\nCreateFromPrototypeLevel(kobold, 8, this)\nCreateFromPrototypeLevel(kobold_shaman, 8, this)\nCreateFromPrototype(dark_pixie, this)[/code:26um29y8]\nMonsters generated via the various [i:26um29y8]CreateFromPrototype [/i:26um29y8]functions will have treasure randomly added, if appropriate.",
      "EditableFormat": "bbcode",
      "HTML": "<span style=\"font-weight:bold;\"><span style=\"font-style:italic;\">C. Adding Generic Monsters</span></span><br/><br/>As with items, there are a whole bunch of monsters included, but they have their own special functions to clone them. As before, go to the Scripts tab of the room where you want the monsters, and look for the &quot;After entering the room for the first time&quot; bit. Click <span style=\"font-style:italic;\">Add</span>, and then select <span style=\"font-style:italic;\">Call function</span>. To place a fire zombie, you might set it up like this:<br/><div><img src=\"/forumattachments/1514/createfromprototype.png\" alt=\"createfromprototype.png\" /></div><br/>In code view it looks like this:<br/><pre><code>CreateFromPrototype(fire_zombie, this)</code></pre><br/>This is how to set up unusual monsters. The more standard monsters are in lists, where they are sorted by level. There are eight lists:<br/><br/>kobold           Goblin, orc, etc.<br/>kobold_shaman    As above but spell casting<br/>ghost            Non-corporeal undead<br/>zombie           Corporeal undead<br/>fiend            Humanoid demons<br/>horror           Non-humanoid demons<br/>construct        Built monsters such as scarecrow, automaton<br/>dragon           Snakes, drakes, etc.<br/><br/>Each list has 15 monsters, ranging from the pretty weak imps, snotlings and snakes, up to bonelords, ogre monarchs and ancient dragons. To place one of these you need the CreateFromPrototypeLevel, and you need to specify the list and the level (from 1 to 15):<br/><div><img src=\"/forumattachments/1515/createfromprototypelevel.png\" alt=\"createfromprototypelevel.png\" /></div><br/>In code it is like this:<br/><pre><code>CreateFromPrototypeLevel(ghost, 5, this)</code></pre><br/>For elementals, use this:<br/><div><img src=\"/forumattachments/1516/create fromprototypeelement.png\" alt=\"create fromprototypeelement.png\" /></div><br/>In code:<br/><pre><code>CreateFromPrototypeElement(fire, 3, this)</code></pre><br/>You can use any of the twelve built-in elements (some make sense more than others!). The level can range from 0 to 7.<br/><br/>Finally, here is the list of the unusual monsters, with special attacks or defences that you can use with the <span style=\"font-style:italic;\">CreateFromPrototype </span>function.<br/><br/>adherer          weapons stick to it when they hit<br/>rust_monster     most weapons rust when they hit<br/>wraith           drain intelligence<br/>shambling_mound  gains HP from magic attacks<br/>amorphous_blob   forms smaller monsters on death<br/>mushroomman      explodes on death<br/>dark_pixie       reflects magical attacks<br/>mimic            appears to be a chest<br/>iron_cobra       one round to rear up, one to attack<br/>lich             casts spells, including one that targets intelligence in wizards and damage output of fighters<br/>dire_hag<br/>electric_skeleton<br/>fire_zombie<br/><br/>You can use these functions several times in one room to give you a hoard of monsters, and you can mix them up to give variety to a group. For example:<br/><pre><code>CreateFromPrototypeLevel(kobold, 8, this)<br/>CreateFromPrototypeLevel(kobold, 8, this)<br/>CreateFromPrototypeLevel(kobold_shaman, 8, this)<br/>CreateFromPrototype(dark_pixie, this)</code></pre><br/>Monsters generated via the various <span style=\"font-style:italic;\">CreateFromPrototype </span>functions will have treasure randomly added, if appropriate.",
      "PostDate": "2016-02-19T09:36:20+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "41311",
      "UserId": 0,
      "Username": "The Pixie",
      "UserAvatar": null,
      "UserGravatar": "cfa37e927f96177bcf6053ae8f108f77",
      "EditableText": "[b:10053rz1][i:10053rz1]D. Custom Monsters[/i:10053rz1][/b:10053rz1]\n\nTo make your game unique, you will probably want at least a few custom monsters, so let us go through how to do that.\n\n\n[i:10053rz1]The Combat Tab[/i:10053rz1]\nCreate an object as normal in the appropriate room, for instance, a lizardman. Go to the [i:10053rz1]Combat [/i:10053rz1]tab, and select &quot;Monster&quot;. Suddenly there is a huge form to fill in. Sorry, but RPG combat is complicated, and most of it does need to be filled in!\n\nI am going to set my lizardman to be of the &quot;Beast&quot; type, and give him an armour of 1, as his scaled skin gives some protection. \n\nMost of the rest is self-explanatory if you are familiar with RPGs hopefully, but some are less obvious:\n\nTicking &quot;Attack as group&quot; will have this monster attack if any other monster in the room is attacked, while &quot;Attack on sight&quot; will have him attack as soon as the player enters the room (otherwise it will only attack if attacked). If the creature has no physical form, such as a ghost, then tick &quot;Non-corporeal&quot;. You might want to tick &quot;No corpse on death&quot; too.\n\nBy default, monsters are &quot;Constrained&quot; to the one room. You can set them to &quot;Free&quot; and they will chase after the player if she goes to another room (but not if she teleports). If set to &quot;Forgetful&quot;, the monster is stuck in this room, and will forget that the player attacked it if she leaves the room.\n\n\n[i:10053rz1]The Description Tab[/i:10053rz1]\nNow go to the [i:10053rz1]Description [/i:10053rz1]tab. In the first box, put in a description of the monster (what you would normally put in the &quot;Look&quot; box on the Setup tab). The rest is all optional.\n\nMy lizard man attacks by biting, so the description when attacking I will change to:\n[code:10053rz1]% bites at you[/code:10053rz1]\nYou need to word this carefully, as text will be added to the end to indicate the result.\n\nThe revealed description and lore description can be used if your player can learn True Sight and Lore spells. Lore gets added to the basic text, the revealed description will replace it.\n\nThe description on death is useful for monsters that die in bizarre ways, such as dissolving away.\n\n\n[i:10053rz1]The Attributes Tab[/i:10053rz1]\nFor special effects, you can add scripts to the monster on the [i:10053rz1]Attributes [/i:10053rz1]tab. These are the scripts you can add:\n\n[i:10053rz1]ondeath [/i:10053rz1]will run when the monster dies\n[i:10053rz1]onweaponhit [/i:10053rz1]will run when the monster is hit by a weapon\n[i:10053rz1]onsuccessfulattack [/i:10053rz1]will run when the monster has damaged the player\n[i:10053rz1]onfailedattack [/i:10053rz1]will run when the monster has failed to damage the player\nonanyattack will run when the monster has failed to damage the player\n\nYou are pretty much on your own here; it depends what you want to happen.\n\n\n[i:10053rz1]Multi-attack Monsters[/i:10053rz1]\nSay I want my lizardman to be attack with his claws as well as his teeth, or perhaps he is a shaman and can cast various spells. To set this up, go back to the [i:10053rz1]Combat [/i:10053rz1]tab, and set him to be a &quot;Multi-attack monster&quot;. You then need to add each attack as a separate object inside him.\n\nRight click the monster, and select [i:10053rz1]Add Object[/i:10053rz1]. Give the attack a name and in the drop down box, select the monster, then click [i:10053rz1]Okay [/i:10053rz1](if you forget to set the parent, you can just drag the attack on top of the monster).\n\nGo to the [i:10053rz1]Combat [/i:10053rz1]tab of the new attack, and set it to be a &quot;Monster attack&quot;. Fill in the form as before.\n\nYou can add as many attacks as you like, and each turn one will be selected at random (if you do not want it to be random, you can edit the &quot;selectattack&quot; script on the monster as you like).\n\nThe following scripts can be added to an attack:\n\n[i:10053rz1]onsuccessfulattack [/i:10053rz1]will run when the monster has damaged the player\n[i:10053rz1]onfailedattack [/i:10053rz1]will run when the monster has failed to damage the player\n[i:10053rz1]onanyattack [/i:10053rz1]will run when the monster has failed to damage the player\n\nTo have an attack only ever happen once, you could set the &quot;onanyattack&quot; script to move the attack somewhere else. Or use the &quot;onsuccessfulattack&quot; if you want it to keep trying until successful. You could also use those scripts to move other attacks to the monster. By swapping attacks in and out you can construct a complex pattern of attacks.\n\n\n[i:10053rz1]Guarding an exit[/i:10053rz1]\nA monster can be set to be &quot;guarding&quot; one or more exits. Each guarded exit must be locked, and the name of the exit must include the string &quot;guard&quot; (so you can have locked exits too; just do not have &quot;guard&quot; in the name of the exit). When the monster dies, the exits will be automatically unlocked. It is good idea to change the &quot;Print message when locked&quot; string to something like &quot;That way is block by a monster&quot;. You can have several monsters guarding one room (like the frostguard and ice wyrm in the demo). Do not have the monster free to follow the player.\n\nNote that if you have an Unlock spell, code it to not unlock exits with &quot;guard&quot; in the name.\n\nIf you want some generic or cloned monsters to be guarding an exit, use the SetGuards function, which will set every monster in the room to be guarding. Remember to do it after you place the monsters, so for example like this:\n[code:10053rz1]CreateFromPrototypeLevel (kobold, 8, this)\nCreateFromPrototypeLevel (kobold, 8, this)\nCreateFromPrototypeLevel (kobold_shaman, 8, this)\nCreateFromPrototype (dark_pixie, this)\nSetGuards (this)[/code:10053rz1]",
      "EditableFormat": "bbcode",
      "HTML": "<span style=\"font-weight:bold;\"><span style=\"font-style:italic;\">D. Custom Monsters</span></span><br/><br/>To make your game unique, you will probably want at least a few custom monsters, so let us go through how to do that.<br/><br/><br/><span style=\"font-style:italic;\">The Combat Tab</span><br/>Create an object as normal in the appropriate room, for instance, a lizardman. Go to the <span style=\"font-style:italic;\">Combat </span>tab, and select &quot;Monster&quot;. Suddenly there is a huge form to fill in. Sorry, but RPG combat is complicated, and most of it does need to be filled in!<br/><br/>I am going to set my lizardman to be of the &quot;Beast&quot; type, and give him an armour of 1, as his scaled skin gives some protection. <br/><br/>Most of the rest is self-explanatory if you are familiar with RPGs hopefully, but some are less obvious:<br/><br/>Ticking &quot;Attack as group&quot; will have this monster attack if any other monster in the room is attacked, while &quot;Attack on sight&quot; will have him attack as soon as the player enters the room (otherwise it will only attack if attacked). If the creature has no physical form, such as a ghost, then tick &quot;Non-corporeal&quot;. You might want to tick &quot;No corpse on death&quot; too.<br/><br/>By default, monsters are &quot;Constrained&quot; to the one room. You can set them to &quot;Free&quot; and they will chase after the player if she goes to another room (but not if she teleports). If set to &quot;Forgetful&quot;, the monster is stuck in this room, and will forget that the player attacked it if she leaves the room.<br/><br/><br/><span style=\"font-style:italic;\">The Description Tab</span><br/>Now go to the <span style=\"font-style:italic;\">Description </span>tab. In the first box, put in a description of the monster (what you would normally put in the &quot;Look&quot; box on the Setup tab). The rest is all optional.<br/><br/>My lizard man attacks by biting, so the description when attacking I will change to:<br/><pre><code>% bites at you</code></pre><br/>You need to word this carefully, as text will be added to the end to indicate the result.<br/><br/>The revealed description and lore description can be used if your player can learn True Sight and Lore spells. Lore gets added to the basic text, the revealed description will replace it.<br/><br/>The description on death is useful for monsters that die in bizarre ways, such as dissolving away.<br/><br/><br/><span style=\"font-style:italic;\">The Attributes Tab</span><br/>For special effects, you can add scripts to the monster on the <span style=\"font-style:italic;\">Attributes </span>tab. These are the scripts you can add:<br/><br/><span style=\"font-style:italic;\">ondeath </span>will run when the monster dies<br/><span style=\"font-style:italic;\">onweaponhit </span>will run when the monster is hit by a weapon<br/><span style=\"font-style:italic;\">onsuccessfulattack </span>will run when the monster has damaged the player<br/><span style=\"font-style:italic;\">onfailedattack </span>will run when the monster has failed to damage the player<br/>onanyattack will run when the monster has failed to damage the player<br/><br/>You are pretty much on your own here; it depends what you want to happen.<br/><br/><br/><span style=\"font-style:italic;\">Multi-attack Monsters</span><br/>Say I want my lizardman to be attack with his claws as well as his teeth, or perhaps he is a shaman and can cast various spells. To set this up, go back to the <span style=\"font-style:italic;\">Combat </span>tab, and set him to be a &quot;Multi-attack monster&quot;. You then need to add each attack as a separate object inside him.<br/><br/>Right click the monster, and select <span style=\"font-style:italic;\">Add Object</span>. Give the attack a name and in the drop down box, select the monster, then click <span style=\"font-style:italic;\">Okay </span>(if you forget to set the parent, you can just drag the attack on top of the monster).<br/><br/>Go to the <span style=\"font-style:italic;\">Combat </span>tab of the new attack, and set it to be a &quot;Monster attack&quot;. Fill in the form as before.<br/><br/>You can add as many attacks as you like, and each turn one will be selected at random (if you do not want it to be random, you can edit the &quot;selectattack&quot; script on the monster as you like).<br/><br/>The following scripts can be added to an attack:<br/><br/><span style=\"font-style:italic;\">onsuccessfulattack </span>will run when the monster has damaged the player<br/><span style=\"font-style:italic;\">onfailedattack </span>will run when the monster has failed to damage the player<br/><span style=\"font-style:italic;\">onanyattack </span>will run when the monster has failed to damage the player<br/><br/>To have an attack only ever happen once, you could set the &quot;onanyattack&quot; script to move the attack somewhere else. Or use the &quot;onsuccessfulattack&quot; if you want it to keep trying until successful. You could also use those scripts to move other attacks to the monster. By swapping attacks in and out you can construct a complex pattern of attacks.<br/><br/><br/><span style=\"font-style:italic;\">Guarding an exit</span><br/>A monster can be set to be &quot;guarding&quot; one or more exits. Each guarded exit must be locked, and the name of the exit must include the string &quot;guard&quot; (so you can have locked exits too; just do not have &quot;guard&quot; in the name of the exit). When the monster dies, the exits will be automatically unlocked. It is good idea to change the &quot;Print message when locked&quot; string to something like &quot;That way is block by a monster&quot;. You can have several monsters guarding one room (like the frostguard and ice wyrm in the demo). Do not have the monster free to follow the player.<br/><br/>Note that if you have an Unlock spell, code it to not unlock exits with &quot;guard&quot; in the name.<br/><br/>If you want some generic or cloned monsters to be guarding an exit, use the SetGuards function, which will set every monster in the room to be guarding. Remember to do it after you place the monsters, so for example like this:<br/><pre><code>CreateFromPrototypeLevel (kobold, 8, this)<br/>CreateFromPrototypeLevel (kobold, 8, this)<br/>CreateFromPrototypeLevel (kobold_shaman, 8, this)<br/>CreateFromPrototype (dark_pixie, this)<br/>SetGuards (this)</code></pre>",
      "PostDate": "2016-02-19T09:36:35+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "41312",
      "UserId": 0,
      "Username": "The Pixie",
      "UserAvatar": null,
      "UserGravatar": "cfa37e927f96177bcf6053ae8f108f77",
      "EditableText": "[b:2txohi96][i:2txohi96]E. Magic Items and Spells[/i:2txohi96][/b:2txohi96]\n\nThere are various types of magic items in the library. From here on, I am going to be using code, but it is all easy code, and mostly just copy-and-pasting stuff. To toggle the code view, click the button marked below:\n[attachment=0:2txohi96]<!-- ia0 -->codeview.png<!-- ia0 -->[/attachment:2txohi96]\nYou can toggle back and forth from code view with that button, so you might like to do that with scripts you have already created in game to see what the code for them looks like.\n\n\n[i:2txohi96]Healing potions[/i:2txohi96]\nTo place a healing potion in the room, use this code:\n[code:2txohi96]CreateHealingPotion(this)[/code:2txohi96]\n\n\n[i:2txohi96]Protection potions[/i:2txohi96]\nProtection potions protect against a specific element for a number of turns. To place a potion that will protect against one of frost, fire and necrotic, use one of these:\n[code:2txohi96]CloneObjectAndMove(potion_fire, this)\nCloneObjectAndMove(potion_frost, this)\nCloneObjectAndMove(potion_necrotic, this)[/code:2txohi96]\n\n\n[i:2txohi96]Rings and Talismans[/i:2txohi96]\nRings and talismans must be worn to have an effect, and give a boost to some facet of the player character. Only one ring can be worn at a time and only one talisman. The code to place one looks like this (the number is the bonus the item gives):\n[code:2txohi96]CreateLevelItem(talisman_of_combat, 3, this)[/code:2txohi96]\n\nOptions are:\ntalisman_of_defence\ntalisman_of_protection\ntalisman_of_combat\ntalisman_of_power\ntalisman_of_strength\nring_of_defence\nring_of_protection\nring_of_combat\nring_of_power\nring_of_strength\n\n\n[i:2txohi96]Scrolls[/i:2txohi96]\nA scroll holds a single spell that produces an instant effect. Once the spell is used, the scroll is destroyed. There are a few built-in scrolls, and you can clone them as with other items:\n[code:2txohi96]CloneObjectAndMove(scrollhealing, this)[/code:2txohi96]\n\nThese are the scrolls available.\nscrollhealing\nscrollunlock\nscrolluncurse\nscrollunrust\nscrollmindblast\n\nScrolls can potentially do anything. To create your own, set an object to be a scroll on the [i:2txohi96]Combat [/i:2txohi96]tab, and add a script.\n\n\n[i:2txohi96]Spells[/i:2txohi96]\nSpells have to be learnt, but can be cast as often as you like. You need a high enough intelligence to learn or cast the spell.\n\nPlace a spell by cloning it:\n[code:2txohi96]CloneObjectAndMove(spell_manastorm, this)[/code:2txohi96]\nSpells available:\nspell_cancel\nspell_manastorm\nspell_tongues\nspell_unlock\nspell_stoneskin\nspell_banish_undead\nspell_fire_immunity\nspell_frost_immunity\nspell_storm_immunity\nspell_necrotic_immunity\nspell_lore\nspell_teleport\nspell_mark\n\nAttack spells have a level, which determines their damage, so use CreateLevelItem for them:\n[code:2txohi96]CreateLevelItem(spell_firebreath, 5)[/code:2txohi96]\nSpells available:\nspell_firebreath\nspell_frostbreath\nspell_divinebreath\nspell_stormbreath\n\n\n[i:2txohi96]Magical Elements[/i:2txohi96]\nThe system has twelve elements built-in, in six opposed pairs.\nfire - frost\nstorm - earthmight\nshadow - rainbow\ndivine - necrotic\nchaos - law\nlife - corruption\nIf you do not like a pair of elements, just do not use them in your game.",
      "EditableFormat": "bbcode",
      "HTML": "<span style=\"font-weight:bold;\"><span style=\"font-style:italic;\">E. Magic Items and Spells</span></span><br/><br/>There are various types of magic items in the library. From here on, I am going to be using code, but it is all easy code, and mostly just copy-and-pasting stuff. To toggle the code view, click the button marked below:<br/><div><img src=\"/forumattachments/1517/codeview.png\" alt=\"codeview.png\" /></div><br/>You can toggle back and forth from code view with that button, so you might like to do that with scripts you have already created in game to see what the code for them looks like.<br/><br/><br/><span style=\"font-style:italic;\">Healing potions</span><br/>To place a healing potion in the room, use this code:<br/><pre><code>CreateHealingPotion(this)</code></pre><br/><br/><br/><span style=\"font-style:italic;\">Protection potions</span><br/>Protection potions protect against a specific element for a number of turns. To place a potion that will protect against one of frost, fire and necrotic, use one of these:<br/><pre><code>CloneObjectAndMove(potion_fire, this)<br/>CloneObjectAndMove(potion_frost, this)<br/>CloneObjectAndMove(potion_necrotic, this)</code></pre><br/><br/><br/><span style=\"font-style:italic;\">Rings and Talismans</span><br/>Rings and talismans must be worn to have an effect, and give a boost to some facet of the player character. Only one ring can be worn at a time and only one talisman. The code to place one looks like this (the number is the bonus the item gives):<br/><pre><code>CreateLevelItem(talisman_of_combat, 3, this)</code></pre><br/><br/>Options are:<br/>talisman_of_defence<br/>talisman_of_protection<br/>talisman_of_combat<br/>talisman_of_power<br/>talisman_of_strength<br/>ring_of_defence<br/>ring_of_protection<br/>ring_of_combat<br/>ring_of_power<br/>ring_of_strength<br/><br/><br/><span style=\"font-style:italic;\">Scrolls</span><br/>A scroll holds a single spell that produces an instant effect. Once the spell is used, the scroll is destroyed. There are a few built-in scrolls, and you can clone them as with other items:<br/><pre><code>CloneObjectAndMove(scrollhealing, this)</code></pre><br/><br/>These are the scrolls available.<br/>scrollhealing<br/>scrollunlock<br/>scrolluncurse<br/>scrollunrust<br/>scrollmindblast<br/><br/>Scrolls can potentially do anything. To create your own, set an object to be a scroll on the <span style=\"font-style:italic;\">Combat </span>tab, and add a script.<br/><br/><br/><span style=\"font-style:italic;\">Spells</span><br/>Spells have to be learnt, but can be cast as often as you like. You need a high enough intelligence to learn or cast the spell.<br/><br/>Place a spell by cloning it:<br/><pre><code>CloneObjectAndMove(spell_manastorm, this)</code></pre><br/>Spells available:<br/>spell_cancel<br/>spell_manastorm<br/>spell_tongues<br/>spell_unlock<br/>spell_stoneskin<br/>spell_banish_undead<br/>spell_fire_immunity<br/>spell_frost_immunity<br/>spell_storm_immunity<br/>spell_necrotic_immunity<br/>spell_lore<br/>spell_teleport<br/>spell_mark<br/><br/>Attack spells have a level, which determines their damage, so use CreateLevelItem for them:<br/><pre><code>CreateLevelItem(spell_firebreath, 5)</code></pre><br/>Spells available:<br/>spell_firebreath<br/>spell_frostbreath<br/>spell_divinebreath<br/>spell_stormbreath<br/><br/><br/><span style=\"font-style:italic;\">Magical Elements</span><br/>The system has twelve elements built-in, in six opposed pairs.<br/>fire - frost<br/>storm - earthmight<br/>shadow - rainbow<br/>divine - necrotic<br/>chaos - law<br/>life - corruption<br/>If you do not like a pair of elements, just do not use them in your game.",
      "PostDate": "2016-02-19T09:36:52+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "41313",
      "UserId": 0,
      "Username": "The Pixie",
      "UserAvatar": null,
      "UserGravatar": "cfa37e927f96177bcf6053ae8f108f77",
      "EditableText": "[b:hbuerrt5][i:hbuerrt5]F. Custom Spells[/i:hbuerrt5][/b:hbuerrt5]\n\nThere are four types of spells in this system, and they are set up quite differently. To create a new spell, create an object as normal, then, on the Combat tab, select the type of spell.\n\nWhatever the spell type, you will find a box for a description; this gets used when the spell is cast. There will also be a level, which determines the intelligence required to learn or cast it. You can also set it to be single use, so it will disappear from the spell book once cast.\n\nYou should also add a description on the Setup tab.\n\n\n[i:hbuerrt5]Banishing spell[/i:hbuerrt5]\nAll creatures (or indeed anything) of the target type are banished. This is a powerful effect, use with caution (i.e., make high level). Note that if the creature is carrying anything, it will be lost - that could make the game unwinnable if you are not careful.\n\nTo set up a banishing spell, just put the type in the [i:hbuerrt5]Target [/i:hbuerrt5]box.\n\n\n[i:hbuerrt5]Attack spell[/i:hbuerrt5]\nAn instant effect, attacking anything of the &quot;monster&quot; type (that is not dead) with elemental damage (damage is 1.5x the spell level).\n\nTo set up a banishing spell, just select the desired element (the drop down list has all the objects from the game, so you will have to search).\n\n\n[i:hbuerrt5]Non-attack spell[/i:hbuerrt5]\nInstant effect, such as unlocking doors. You need to put in a script to make it do something. Given there are no power points, a healing spell is a bad idea by the way.\n\nTo set it up, click on &quot;Make Editable Copy&quot;, then put in your own script. What you put in depends on the effect you want, so I cannot offer much help here.\n\n\n[i:hbuerrt5]Lasting spell[/i:hbuerrt5]\n\nThis causes an on-going spell effect. These last until another spell is cast (but you can set each spell to only last a set number of turns if you desire). Put in a &quot;Status when active&quot;; you can then test player.status to see it is active. For example, when the player looks at an ancient parchment check if (player.status = &quot;Tongues&quot;), to see if the Tongues spell is active, and the parchment can be read. \n\nAdditionally you can have it run a script when cast and when cancelled (you need to ensure whatever bonus is given is taken away when the spell ends).\n\nTick the &quot;Cannot hold anything&quot; box for an effect that stops the player holding anything (eg transformed into a mouse). You can also link to a special attack (e.g., a weapon called &quot;Mouse Bite&quot;). You are advised not to have a special attack unless &quot;Cannot hold anything&quot; is ticked as the system will get confused the player tries to equip another weapon.",
      "EditableFormat": "bbcode",
      "HTML": "<span style=\"font-weight:bold;\"><span style=\"font-style:italic;\">F. Custom Spells</span></span><br/><br/>There are four types of spells in this system, and they are set up quite differently. To create a new spell, create an object as normal, then, on the Combat tab, select the type of spell.<br/><br/>Whatever the spell type, you will find a box for a description; this gets used when the spell is cast. There will also be a level, which determines the intelligence required to learn or cast it. You can also set it to be single use, so it will disappear from the spell book once cast.<br/><br/>You should also add a description on the Setup tab.<br/><br/><br/><span style=\"font-style:italic;\">Banishing spell</span><br/>All creatures (or indeed anything) of the target type are banished. This is a powerful effect, use with caution (i.e., make high level). Note that if the creature is carrying anything, it will be lost - that could make the game unwinnable if you are not careful.<br/><br/>To set up a banishing spell, just put the type in the <span style=\"font-style:italic;\">Target </span>box.<br/><br/><br/><span style=\"font-style:italic;\">Attack spell</span><br/>An instant effect, attacking anything of the &quot;monster&quot; type (that is not dead) with elemental damage (damage is 1.5x the spell level).<br/><br/>To set up a banishing spell, just select the desired element (the drop down list has all the objects from the game, so you will have to search).<br/><br/><br/><span style=\"font-style:italic;\">Non-attack spell</span><br/>Instant effect, such as unlocking doors. You need to put in a script to make it do something. Given there are no power points, a healing spell is a bad idea by the way.<br/><br/>To set it up, click on &quot;Make Editable Copy&quot;, then put in your own script. What you put in depends on the effect you want, so I cannot offer much help here.<br/><br/><br/><span style=\"font-style:italic;\">Lasting spell</span><br/><br/>This causes an on-going spell effect. These last until another spell is cast (but you can set each spell to only last a set number of turns if you desire). Put in a &quot;Status when active&quot;; you can then test player.status to see it is active. For example, when the player looks at an ancient parchment check if (player.status = &quot;Tongues&quot;), to see if the Tongues spell is active, and the parchment can be read. <br/><br/>Additionally you can have it run a script when cast and when cancelled (you need to ensure whatever bonus is given is taken away when the spell ends).<br/><br/>Tick the &quot;Cannot hold anything&quot; box for an effect that stops the player holding anything (eg transformed into a mouse). You can also link to a special attack (e.g., a weapon called &quot;Mouse Bite&quot;). You are advised not to have a special attack unless &quot;Cannot hold anything&quot; is ticked as the system will get confused the player tries to equip another weapon.",
      "PostDate": "2016-02-19T09:48:30+00:00",
      "LastEditDate": null
    },
    {
      "PostId": "41314",
      "UserId": 0,
      "Username": "The Pixie",
      "UserAvatar": null,
      "UserGravatar": "cfa37e927f96177bcf6053ae8f108f77",
      "EditableText": "[b:5moe6wkl][i:5moe6wkl]G. The Player Character[/i:5moe6wkl][/b:5moe6wkl]\n\nThe player's name is held in an attribute called &quot;alias&quot;, while the &quot;female&quot; attribute is true if the player is female.\n\nThe character's total hits points are equal to 40 plus 10 times his stamina. Hit points are recovered primarily by drinking healing potions or using healing scrolls\n\nThe player does not have a level. The player gets XP by killing monsters; set how much on the monster's combat tab (zero by default). The simplest way to handle levelling is to give the player an extra point to spend on abilities after getting to a certain point in the game, by calling the [i:5moe6wkl]LevelUp [/i:5moe6wkl]function. You will need to put in your own system for calling it (eg, when the player gets to a certain place, or in a change script for XP).\n\n\n[i:5moe6wkl]Character creation[/i:5moe6wkl]\nTo give a selection of bonus items at the start, create an attribute called &quot;startoptions&quot; on the game object, and set it to be a string list. You can have up to five. This will list the items in the start-up dialogue, now you need to actually give them to the player. To do that, create a function called [i:5moe6wkl]AddBonusItem[/i:5moe6wkl], have it take a single parameter (I used s), and no return type. The function needs to check the value of the parameter, and give items to the player accordingly. It will have a value of &quot;bonus1&quot; for the first selection and so on. It might look like this:\n[code:5moe6wkl]if (s = &quot;bonus4&quot;) {\n  CloneObjectAndMove (medium_shield, player)\n}\nif (s = &quot;bonus1&quot;) {\n  CloneObjectAndMove (masterhealingpotion, player)\n  CloneObjectAndMove (masterhealingpotion, player)\n}\nif (s = &quot;bonus2&quot;) {\n  CloneObjectAndMove (sabre, player)\n}\nif (s = &quot;bonus3&quot;) {\n  CloneObjectAndMove (spell_firebreath, player)\n}\nif (s = &quot;bonus5&quot;) {\n  armour_light&#46;parent = player\n}[/code:5moe6wkl]\nTo change the number of points the player has at the start, go to the attributes tab of the player object and create a new attribute, &quot;maxpoints&quot;. Set it to be an integer, and give it the new value.\n\nTo change the default character name, open Interface.xml in a text editor (such as Notepad), search for &quot;Boris&quot;, and just replace &quot;Boris&quot; with your prefered name. Be careful not to accidentally delete any angle brackets.\n\nTo skip character creation, go to the Start script of the game object, and change CombatInit to:\n[code:5moe6wkl]CombatInitialise (false)[/code:5moe6wkl]\nYou can change the values in CombatStuff.xml.\n\n\n\n[i:5moe6wkl]Character status[/i:5moe6wkl]\nTo have values display for the character status, such as hit points, go to the attributes tab of the player. The top box determines what will be displayed. Click Add and you will be asked for two strings. The first is the attribute name (for example, &quot;hitpoints&quot;), the second is how it will be displayed, and you can use ! to stand in for the actual value (for example &quot;Hits: !&quot; or &quot;Health: ! hps&quot;).\n\nFor score, you could use the XP points, so give &quot;xp&quot; as the attribute name, and &quot;Score: !&quot; as the display.",
      "EditableFormat": "bbcode",
      "HTML": "<span style=\"font-weight:bold;\"><span style=\"font-style:italic;\">G. The Player Character</span></span><br/><br/>The player's name is held in an attribute called &quot;alias&quot;, while the &quot;female&quot; attribute is true if the player is female.<br/><br/>The character's total hits points are equal to 40 plus 10 times his stamina. Hit points are recovered primarily by drinking healing potions or using healing scrolls<br/><br/>The player does not have a level. The player gets XP by killing monsters; set how much on the monster's combat tab (zero by default). The simplest way to handle levelling is to give the player an extra point to spend on abilities after getting to a certain point in the game, by calling the <span style=\"font-style:italic;\">LevelUp </span>function. You will need to put in your own system for calling it (eg, when the player gets to a certain place, or in a change script for XP).<br/><br/><br/><span style=\"font-style:italic;\">Character creation</span><br/>To give a selection of bonus items at the start, create an attribute called &quot;startoptions&quot; on the game object, and set it to be a string list. You can have up to five. This will list the items in the start-up dialogue, now you need to actually give them to the player. To do that, create a function called <span style=\"font-style:italic;\">AddBonusItem</span>, have it take a single parameter (I used s), and no return type. The function needs to check the value of the parameter, and give items to the player accordingly. It will have a value of &quot;bonus1&quot; for the first selection and so on. It might look like this:<br/><pre><code>if (s = &quot;bonus4&quot;) {<br/>  CloneObjectAndMove (medium_shield, player)<br/>}<br/>if (s = &quot;bonus1&quot;) {<br/>  CloneObjectAndMove (masterhealingpotion, player)<br/>  CloneObjectAndMove (masterhealingpotion, player)<br/>}<br/>if (s = &quot;bonus2&quot;) {<br/>  CloneObjectAndMove (sabre, player)<br/>}<br/>if (s = &quot;bonus3&quot;) {<br/>  CloneObjectAndMove (spell_firebreath, player)<br/>}<br/>if (s = &quot;bonus5&quot;) {<br/>  armour_light&#46;parent = player<br/>}</code></pre><br/>To change the number of points the player has at the start, go to the attributes tab of the player object and create a new attribute, &quot;maxpoints&quot;. Set it to be an integer, and give it the new value.<br/><br/>To change the default character name, open Interface.xml in a text editor (such as Notepad), search for &quot;Boris&quot;, and just replace &quot;Boris&quot; with your prefered name. Be careful not to accidentally delete any angle brackets.<br/><br/>To skip character creation, go to the Start script of the game object, and change CombatInit to:<br/><pre><code>CombatInitialise (false)</code></pre><br/>You can change the values in CombatStuff.xml.<br/><br/><br/><br/><span style=\"font-style:italic;\">Character status</span><br/>To have values display for the character status, such as hit points, go to the attributes tab of the player. The top box determines what will be displayed. Click Add and you will be asked for two strings. The first is the attribute name (for example, &quot;hitpoints&quot;), the second is how it will be displayed, and you can use ! to stand in for the actual value (for example &quot;Hits: !&quot; or &quot;Health: ! hps&quot;).<br/><br/>For score, you could use the XP points, so give &quot;xp&quot; as the attribute name, and &quot;Score: !&quot; as the display.",
      "PostDate": "2016-02-19T09:58:54+00:00",
      "LastEditDate": null
    }
  ]
}