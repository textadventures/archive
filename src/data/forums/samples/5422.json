{
  "Topic": {
    "TopicId": "5422",
    "ForumId": "18",
    "Title": "How to write code",
    "LastUpdated": "2015-08-17T11:43:27+01:00",
    "ReplyCount": 2
  },
  "Posts": [
    {
      "PostId": "37678",
      "UserId": 0,
      "Username": "The Pixie",
      "UserAvatar": null,
      "UserGravatar": "cfa37e927f96177bcf6053ae8f108f77",
      "EditableText": "Writing code is not trivial, and I cannot hope to make you an expert here. However, it is not as difficult as you might think, and hopefully this will get you started.\n\nQuest uses three languages, including XML. If you click on Tools - Code view you will see the XML. Writing XML is a pain in the neck; let Quest do that for you. The only time I ever look at this code view is when I have spotted a typo when playing my game and want to quickly find it to correct it.\n\nQuest also uses Javascript, but unless you want to do fancy stuff with the interface, you can ignore that. This is not about JavaScript.\n\nThe important one is the one used in scripts, and that is unique to Quest. It is kind of similar to C++/Java and many of the built-in functions come from Visual BASIC.\n\n\n[b:2rmxihfk][i:2rmxihfk]A Note About Objects[/i:2rmxihfk][/b:2rmxihfk]\n\nNote: The word &quot;object&quot; has two distinct meanings in Quest. Firstly it can mean something that the player can interact with, perhaps pick up, examine, etc. However, in the programming world it means any data structure, and in that sense it includes rooms, exits, the game object and indeed everything in the game world. When I use the word &quot;object&quot;, I mean it in this second sense. I will use the word &quot;item&quot; to indicate the first meaning (however, if I am quoting a label or dialogue box, &quot;object&quot; will probably mean item).\n\n\n[b:2rmxihfk][i:2rmxihfk]Code View - Scripts/Blocks[/i:2rmxihfk][/b:2rmxihfk]\n\nScripts are found in several places in Quest. Functions and commands are little more than scripts, but you can also attach scripts to items, rooms and exits. Rooms can be set to run a script when the player enters or leaves. Verbs on objects are all scripts, exits can run a script when used, items can run a script when picked up or dropped.\n\nTo see code look for the script on an object, and click on the seventh icon ([i:2rmxihfk]View code[/i:2rmxihfk]).\n[attachment=0:2rmxihfk]<!-- ia0 -->code1.png<!-- ia0 -->[/attachment:2rmxihfk]\nHere is an example from a built-in command, INVENTORY:\n[code:2rmxihfk]list = FormatObjectList(Template(&quot;CarryingListHeader&quot;), game&#46;pov, Template(&quot;And&quot;), &quot;&#46;&quot;)\nif (list = &quot;&quot;) {\n  msg (Template(&quot;NotCarryingAnything&quot;))\n}\nelse {\n  msg (list)\n}[/code:2rmxihfk]\nAt its simplest, code is a list of instructions. When the script starts (the player enters the room, drops the item, or whatever), Quest starts at the top and does each line in turn - just like following a recipe when baking a cake.\n\nHere is a simple example that might be set on an exit:\n[code:2rmxihfk]msg(&quot;You crawl for some time through the dark tunnel, before arriving at&#46;&#46;&#46;&quot;)\nplayer&#46;parent = this&#46;to[/code:2rmxihfk]\nQuest does the first line, which prints out the message, then the second line, which moves the player.\n\n\n[b:2rmxihfk][i:2rmxihfk]Attributes[/i:2rmxihfk][/b:2rmxihfk]\n\nObjects have attributes, which are values with names. You can set these up on the Attributes tab for any object, but everything you set on the other tabs is an attribute too, with a pre-defined name. An attribute can be a string, an integer, another object or a script and more besides.\n\nIn code, you can access an attribute using the dot operator. The above example accesses the &quot;parent&quot; attribute of the player object and the &quot;to&quot; attribute of &quot;this&quot;.\n\n\n[b:2rmxihfk][i:2rmxihfk]What is &quot;this&quot;?[/i:2rmxihfk][/b:2rmxihfk]\n\n&quot;this&quot; has a special meaning, it refers to the object that this script belongs to. In the example, then, &quot;this&quot; refers to the exit itself. I could have used the name of the exit instead, but generally it is better to use &quot;this&quot;, as it allows your code to be reused more easily.\n\nAll exits have a &quot;to&quot; attribute which is an object (or technically a pointer to an object); the destination of the exit, so &quot;this.to&quot; is the destination of the exit.\n\n\n[b:2rmxihfk][i:2rmxihfk]What is &quot;parent&quot;[/i:2rmxihfk][/b:2rmxihfk]\n\nAll items and exits have a &quot;parent&quot; attribute (rooms can too). It indicates the object's position in the hierarchy in the left pane, or who the object belongs to. Any item that belongs to the player is in the player's inventory; it has the player as its parent. Any item or exit in a room has that room as the parent, and similarly if the player has a room as its parent, then the player is in that room. Any item that has another item as its parent is inside that object (though you need to set up the latter as a container for that to work properly).\n\nTo move the player to a new room, all you have to do is set the player's parent to the new room. This is what the script above does. It sets the player's parent to be whatever room is indicated by the &quot;to&quot; attribute of this exit.\n\nTo move an item to the player, set the item's parent to the player.\n[code:2rmxihfk]my_item&#46;parent = player[/code:2rmxihfk]\nTo move an item to the current room, set its parent to the player's parent\n[code:2rmxihfk]my_item&#46;parent = player&#46;parent[/code:2rmxihfk]\n\n\n[b:2rmxihfk][i:2rmxihfk]Aside: About &quot;player&quot;[/i:2rmxihfk][/b:2rmxihfk]\n\nJust be aware that Quest has the capability for changing the point of view (i.e. swapping from one player character to another) built-in. To handle that, Quest has an attribute of the game object called &quot;pov&quot;, and that refers to the current player. To be able to change the player's point of view, we should use &quot;game.pov&quot; rather than &quot;player&quot;. I mention this for completeness; I am going to continue to use &quot;player&quot; to keep things simple, but if you look at code in a library it will probably use &quot;game.pov&quot;.\n\n\n[b:2rmxihfk][i:2rmxihfk]Computers are fussy[/i:2rmxihfk][/b:2rmxihfk]\n\nYou have to be precise when writing code. Computers will not cope if you miss a quote or a bracket. To check you have not missed something, always click on the [i:2rmxihfk]View code[/i:2rmxihfk] icon and check there is no red writing. Scroll down to check. The example below shows an error some way down the page, in this case a missing bracket.\n[attachment=1:2rmxihfk]<!-- ia1 -->code2.png<!-- ia1 -->[/attachment:2rmxihfk]\nWorking out what is missing can be tricky! However, if you do not check at this stage, Quest will sometimes try to correct the problem itself, which sometimes means deleting big chunks of code, leaving it in rather more of a mess.\n\n\n[b:2rmxihfk][i:2rmxihfk]Quotes in strings[/i:2rmxihfk][/b:2rmxihfk]\n\nGiven a double quote terminates a string, how do you handle doubles quotes? This is going to fail:\n[code:2rmxihfk]msg (&quot;The scarecrow looks at you&#46; &quot;Howdy!&quot; he says&#46;&quot;)[/code:2rmxihfk]\nQuest will consider &quot;The scarecrow looks at you. &quot; to be a string, and &quot; he says.&quot; to be another, and will try to work out what Howdy! is supposed to mean! The trick is to use an escape code; put a backslash before the double quotes within the string. This will work fine.\n[code:2rmxihfk]msg (&quot;The scarecrow looks at you&#46; \\&quot;Howdy!\\&quot; he says&#46;&quot;)[/code:2rmxihfk]\nIf you want to put a backslash into a string, you need to escape that two, so use \\\\.\n\n\n[b:2rmxihfk][i:2rmxihfk]Functions[/i:2rmxihfk][/b:2rmxihfk]\n\nQuest has a large number of script commands and functions, listed on these helpful pages:\n<!-- m --><a class=\"postlink\" href=\"http://docs.textadventures.co.uk/quest/scripts/\">http://docs.textadventures.co.uk/quest/scripts/</a><!-- m -->\n<!-- m --><a class=\"postlink\" href=\"http://docs.textadventures.co.uk/quest/functions/\">http://docs.textadventures.co.uk/quest/functions/</a><!-- m -->\n\nSee here for how to write your own:\n<!-- l --><a class=\"postlink-local\" href=\"http://forum.textadventures.co.uk/viewtopic.php?f=18&amp;t=5058\">viewtopic.php?f=18&amp;t=5058</a><!-- l -->\n\n\n[b:2rmxihfk][i:2rmxihfk]Lists[/i:2rmxihfk][/b:2rmxihfk]\n\nLists are very useful, but are explained elsewhere, so just go there:\n<!-- m --><a class=\"postlink\" href=\"http://docs.textadventures.co.uk/quest/guides/using_lists.html\">http://docs.textadventures.co.uk/quest/ ... lists.html</a><!-- m -->\n\n\n[b:2rmxihfk][i:2rmxihfk]Control Structures[/i:2rmxihfk][/b:2rmxihfk]\n\nA control structure allows code to break out of the simple recipe. Instead of just doing each line in turn, we can get Quest to perform some lines repeatedly or to only do certain lines if specific conditions are met.\n\nControl structures have the same general format. First there is the script command, then the values, then the instructions. The values all go inside a set of brackets, and separated by commas. The instructions all go on separate lines (just like normal code), and inside a set of curly braces. To help make it easier to read, the instructions are indented. Quest will do this for you, but I recommend getting in the habit of doing it yourself anyway.\n\nLet us have a look at a couple:\n\n\n[b:2rmxihfk][i:2rmxihfk]The &quot;foreach&quot; Loop[/i:2rmxihfk][/b:2rmxihfk]\n\nThis is how to go through each entry in a list. Quest has a number of &quot;scope&quot; functions that will grab all the appropriate items. For example, [i:2rmxihfk]ScopeInventory [/i:2rmxihfk]gives us a list of items in the player's inventory. We can use that with &quot;foreach&quot;.\n[code:2rmxihfk]foreach (item, ScopeInventory()) {\n  msg(&quot;You dry out &quot; + GetDisplayAlias(item))\n  item&#46;wet = false\n}[/code:2rmxihfk]\nThe first thing is the script command, &quot;foreach&quot;. Next we have the values, and these are inside brackets, separated by commas. In this case, the first is a variable that we can use in the code section. The second is the list, which we are getting from [i:2rmxihfk]ScopeInventory[/i:2rmxihfk].\n\nThen there are the instructions. In this case there are two, each on its own line, indented by two spaces. They are surrounded by curly braces.\n\nQuest will go though the objects returned by [i:2rmxihfk]ScopeInventory[/i:2rmxihfk]. For each one, it will put the value in &quot;item&quot; and then run the code.\n\n\nThe &quot;if&quot; Structure\n\nYou use &quot;if&quot; to make the script sometimes do one thing and sometimes another. In this simple example, the message is only seen if the hat item is in this room.\n[code:2rmxihfk]if (hat&#46;parent = this) {\n  msg(&quot;There is a bowler hat on the hatstand&#46;&quot;)\n}[/code:2rmxihfk]\nYou can add an &quot;else&quot; if you want; this will get done if the condition fails:\n[code:2rmxihfk]if (hat&#46;parent = this) {\n  msg(&quot;There is a bowler hat on the hatstand&#46;&quot;)\n}\nelse {\n  msg(&quot;The hatstand is devoid of hats&#46;&quot;)\n}[/code:2rmxihfk]\nYou can append an &quot;if&quot; to an &quot;else&quot;, to make complex structures. In an adventure game, a common use is to check all the conditions have been met before something happens. This example might be the script for a SIT command.\n[code:2rmxihfk]if (not this&#46;has_chair) {\n  msg(&quot;There's nowhere to sit here!&quot;)\n}\nelse if (not player&#46;parent&#46;name = clown_room) {\n  msg(&quot;Okay, you sit down&#46; Now what?&quot;)\n}\nelse if (not hat&#46;worn) {\n  msg (&quot;You sit on the orange chair&#46; A clown suddenly appears in the room, looks at your head in confusion, then disappears as quickly&#46;&quot;)\n}\nelse if (clown&#46;parent = clown_room) {\n  msg(&quot;You are already sat down&#46;&quot;)\n}\nelse {\n  msg (&quot;You sit on the orange chair&#46; A clown suddenly appears in the room, and knocks the hat off your head&#46;&quot;)\n  hat&#46;worn = false\n  hat&#46;parent = clown_room\n  clown&#46;parent = clown_room\n}[/code:2rmxihfk]\nThe strategy here is to test each condition has [i:2rmxihfk]not [/i:2rmxihfk]been met in turn, and give a suitable response if it fails. Only if each condition passes do we reach the final &quot;else&quot;, where the player has solved the puzzle and the game world gets updated.\n\n\n[b:2rmxihfk][i:2rmxihfk]Complex conditions[/i:2rmxihfk][/b:2rmxihfk]\n\nYou can do some complicated condition testing in Quest. To test if conditions are all true, use the &quot;and&quot; operator, and to test if at least one is true, use &quot;or&quot;. You can also test a condition is not true using &quot;not&quot;. In this example all the above conditions are checked at once (the first implicitly).\n[code:2rmxihfk]if (player&#46;parent&#46;name = clown_room and hat&#46;worn and not clown&#46;parent = clown_room) {\n  msg (&quot;You sit on the orange chair&#46; A clown suddenly appears in the room, and knocks the hat off your head&#46;&quot;)\n}\nelse {\n  msg(&quot;Nothing happens&#46;&quot;)\n}[/code:2rmxihfk]",
      "EditableFormat": "bbcode",
      "HTML": "Writing code is not trivial, and I cannot hope to make you an expert here. However, it is not as difficult as you might think, and hopefully this will get you started.<br/><br/>Quest uses three languages, including XML. If you click on Tools - Code view you will see the XML. Writing XML is a pain in the neck; let Quest do that for you. The only time I ever look at this code view is when I have spotted a typo when playing my game and want to quickly find it to correct it.<br/><br/>Quest also uses Javascript, but unless you want to do fancy stuff with the interface, you can ignore that. This is not about JavaScript.<br/><br/>The important one is the one used in scripts, and that is unique to Quest. It is kind of similar to C++/Java and many of the built-in functions come from Visual BASIC.<br/><br/><br/><span style=\"font-weight:bold;\"><span style=\"font-style:italic;\">A Note About Objects</span></span><br/><br/>Note: The word &quot;object&quot; has two distinct meanings in Quest. Firstly it can mean something that the player can interact with, perhaps pick up, examine, etc. However, in the programming world it means any data structure, and in that sense it includes rooms, exits, the game object and indeed everything in the game world. When I use the word &quot;object&quot;, I mean it in this second sense. I will use the word &quot;item&quot; to indicate the first meaning (however, if I am quoting a label or dialogue box, &quot;object&quot; will probably mean item).<br/><br/><br/><span style=\"font-weight:bold;\"><span style=\"font-style:italic;\">Code View - Scripts/Blocks</span></span><br/><br/>Scripts are found in several places in Quest. Functions and commands are little more than scripts, but you can also attach scripts to items, rooms and exits. Rooms can be set to run a script when the player enters or leaves. Verbs on objects are all scripts, exits can run a script when used, items can run a script when picked up or dropped.<br/><br/>To see code look for the script on an object, and click on the seventh icon (<span style=\"font-style:italic;\">View code</span>).<br/><div><img src=\"/attachment/1295\" alt=\"code1.png\" /></div><br/>Here is an example from a built-in command, INVENTORY:<br/><pre><code>list = FormatObjectList(Template(&quot;CarryingListHeader&quot;), game&#46;pov, Template(&quot;And&quot;), &quot;&#46;&quot;)<br/>if (list = &quot;&quot;) {<br/>  msg (Template(&quot;NotCarryingAnything&quot;))<br/>}<br/>else {<br/>  msg (list)<br/>}</code></pre><br/>At its simplest, code is a list of instructions. When the script starts (the player enters the room, drops the item, or whatever), Quest starts at the top and does each line in turn - just like following a recipe when baking a cake.<br/><br/>Here is a simple example that might be set on an exit:<br/><pre><code>msg(&quot;You crawl for some time through the dark tunnel, before arriving at&#46;&#46;&#46;&quot;)<br/>player&#46;parent = this&#46;to</code></pre><br/>Quest does the first line, which prints out the message, then the second line, which moves the player.<br/><br/><br/><span style=\"font-weight:bold;\"><span style=\"font-style:italic;\">Attributes</span></span><br/><br/>Objects have attributes, which are values with names. You can set these up on the Attributes tab for any object, but everything you set on the other tabs is an attribute too, with a pre-defined name. An attribute can be a string, an integer, another object or a script and more besides.<br/><br/>In code, you can access an attribute using the dot operator. The above example accesses the &quot;parent&quot; attribute of the player object and the &quot;to&quot; attribute of &quot;this&quot;.<br/><br/><br/><span style=\"font-weight:bold;\"><span style=\"font-style:italic;\">What is &quot;this&quot;?</span></span><br/><br/>&quot;this&quot; has a special meaning, it refers to the object that this script belongs to. In the example, then, &quot;this&quot; refers to the exit itself. I could have used the name of the exit instead, but generally it is better to use &quot;this&quot;, as it allows your code to be reused more easily.<br/><br/>All exits have a &quot;to&quot; attribute which is an object (or technically a pointer to an object); the destination of the exit, so &quot;this.to&quot; is the destination of the exit.<br/><br/><br/><span style=\"font-weight:bold;\"><span style=\"font-style:italic;\">What is &quot;parent&quot;</span></span><br/><br/>All items and exits have a &quot;parent&quot; attribute (rooms can too). It indicates the object's position in the hierarchy in the left pane, or who the object belongs to. Any item that belongs to the player is in the player's inventory; it has the player as its parent. Any item or exit in a room has that room as the parent, and similarly if the player has a room as its parent, then the player is in that room. Any item that has another item as its parent is inside that object (though you need to set up the latter as a container for that to work properly).<br/><br/>To move the player to a new room, all you have to do is set the player's parent to the new room. This is what the script above does. It sets the player's parent to be whatever room is indicated by the &quot;to&quot; attribute of this exit.<br/><br/>To move an item to the player, set the item's parent to the player.<br/><pre><code>my_item&#46;parent = player</code></pre><br/>To move an item to the current room, set its parent to the player's parent<br/><pre><code>my_item&#46;parent = player&#46;parent</code></pre><br/><br/><br/><span style=\"font-weight:bold;\"><span style=\"font-style:italic;\">Aside: About &quot;player&quot;</span></span><br/><br/>Just be aware that Quest has the capability for changing the point of view (i.e. swapping from one player character to another) built-in. To handle that, Quest has an attribute of the game object called &quot;pov&quot;, and that refers to the current player. To be able to change the player's point of view, we should use &quot;game.pov&quot; rather than &quot;player&quot;. I mention this for completeness; I am going to continue to use &quot;player&quot; to keep things simple, but if you look at code in a library it will probably use &quot;game.pov&quot;.<br/><br/><br/><span style=\"font-weight:bold;\"><span style=\"font-style:italic;\">Computers are fussy</span></span><br/><br/>You have to be precise when writing code. Computers will not cope if you miss a quote or a bracket. To check you have not missed something, always click on the <span style=\"font-style:italic;\">View code</span> icon and check there is no red writing. Scroll down to check. The example below shows an error some way down the page, in this case a missing bracket.<br/><div><img src=\"/attachment/1294\" alt=\"code2.png\" /></div><br/>Working out what is missing can be tricky! However, if you do not check at this stage, Quest will sometimes try to correct the problem itself, which sometimes means deleting big chunks of code, leaving it in rather more of a mess.<br/><br/><br/><span style=\"font-weight:bold;\"><span style=\"font-style:italic;\">Quotes in strings</span></span><br/><br/>Given a double quote terminates a string, how do you handle doubles quotes? This is going to fail:<br/><pre><code>msg (&quot;The scarecrow looks at you&#46; &quot;Howdy!&quot; he says&#46;&quot;)</code></pre><br/>Quest will consider &quot;The scarecrow looks at you. &quot; to be a string, and &quot; he says.&quot; to be another, and will try to work out what Howdy! is supposed to mean! The trick is to use an escape code; put a backslash before the double quotes within the string. This will work fine.<br/><pre><code>msg (&quot;The scarecrow looks at you&#46; \\&quot;Howdy!\\&quot; he says&#46;&quot;)</code></pre><br/>If you want to put a backslash into a string, you need to escape that two, so use \\\\.<br/><br/><br/><span style=\"font-weight:bold;\"><span style=\"font-style:italic;\">Functions</span></span><br/><br/>Quest has a large number of script commands and functions, listed on these helpful pages:<br/><!-- m --><a class=\"postlink\" href=\"http://docs.textadventures.co.uk/quest/scripts/\">http://docs.textadventures.co.uk/quest/scripts/</a><!-- m --><br/><!-- m --><a class=\"postlink\" href=\"http://docs.textadventures.co.uk/quest/functions/\">http://docs.textadventures.co.uk/quest/functions/</a><!-- m --><br/><br/>See here for how to write your own:<br/><!-- l --><a class=\"postlink-local\" href=\"http://forum.textadventures.co.uk/viewtopic.php?f=18&amp;t=5058\">viewtopic.php?f=18&amp;t=5058</a><!-- l --><br/><br/><br/><span style=\"font-weight:bold;\"><span style=\"font-style:italic;\">Lists</span></span><br/><br/>Lists are very useful, but are explained elsewhere, so just go there:<br/><!-- m --><a class=\"postlink\" href=\"http://docs.textadventures.co.uk/quest/guides/using_lists.html\">http://docs.textadventures.co.uk/quest/ ... lists.html</a><!-- m --><br/><br/><br/><span style=\"font-weight:bold;\"><span style=\"font-style:italic;\">Control Structures</span></span><br/><br/>A control structure allows code to break out of the simple recipe. Instead of just doing each line in turn, we can get Quest to perform some lines repeatedly or to only do certain lines if specific conditions are met.<br/><br/>Control structures have the same general format. First there is the script command, then the values, then the instructions. The values all go inside a set of brackets, and separated by commas. The instructions all go on separate lines (just like normal code), and inside a set of curly braces. To help make it easier to read, the instructions are indented. Quest will do this for you, but I recommend getting in the habit of doing it yourself anyway.<br/><br/>Let us have a look at a couple:<br/><br/><br/><span style=\"font-weight:bold;\"><span style=\"font-style:italic;\">The &quot;foreach&quot; Loop</span></span><br/><br/>This is how to go through each entry in a list. Quest has a number of &quot;scope&quot; functions that will grab all the appropriate items. For example, <span style=\"font-style:italic;\">ScopeInventory </span>gives us a list of items in the player's inventory. We can use that with &quot;foreach&quot;.<br/><pre><code>foreach (item, ScopeInventory()) {<br/>  msg(&quot;You dry out &quot; + GetDisplayAlias(item))<br/>  item&#46;wet = false<br/>}</code></pre><br/>The first thing is the script command, &quot;foreach&quot;. Next we have the values, and these are inside brackets, separated by commas. In this case, the first is a variable that we can use in the code section. The second is the list, which we are getting from <span style=\"font-style:italic;\">ScopeInventory</span>.<br/><br/>Then there are the instructions. In this case there are two, each on its own line, indented by two spaces. They are surrounded by curly braces.<br/><br/>Quest will go though the objects returned by <span style=\"font-style:italic;\">ScopeInventory</span>. For each one, it will put the value in &quot;item&quot; and then run the code.<br/><br/><br/>The &quot;if&quot; Structure<br/><br/>You use &quot;if&quot; to make the script sometimes do one thing and sometimes another. In this simple example, the message is only seen if the hat item is in this room.<br/><pre><code>if (hat&#46;parent = this) {<br/>  msg(&quot;There is a bowler hat on the hatstand&#46;&quot;)<br/>}</code></pre><br/>You can add an &quot;else&quot; if you want; this will get done if the condition fails:<br/><pre><code>if (hat&#46;parent = this) {<br/>  msg(&quot;There is a bowler hat on the hatstand&#46;&quot;)<br/>}<br/>else {<br/>  msg(&quot;The hatstand is devoid of hats&#46;&quot;)<br/>}</code></pre><br/>You can append an &quot;if&quot; to an &quot;else&quot;, to make complex structures. In an adventure game, a common use is to check all the conditions have been met before something happens. This example might be the script for a SIT command.<br/><pre><code>if (not this&#46;has_chair) {<br/>  msg(&quot;There's nowhere to sit here!&quot;)<br/>}<br/>else if (not player&#46;parent&#46;name = clown_room) {<br/>  msg(&quot;Okay, you sit down&#46; Now what?&quot;)<br/>}<br/>else if (not hat&#46;worn) {<br/>  msg (&quot;You sit on the orange chair&#46; A clown suddenly appears in the room, looks at your head in confusion, then disappears as quickly&#46;&quot;)<br/>}<br/>else if (clown&#46;parent = clown_room) {<br/>  msg(&quot;You are already sat down&#46;&quot;)<br/>}<br/>else {<br/>  msg (&quot;You sit on the orange chair&#46; A clown suddenly appears in the room, and knocks the hat off your head&#46;&quot;)<br/>  hat&#46;worn = false<br/>  hat&#46;parent = clown_room<br/>  clown&#46;parent = clown_room<br/>}</code></pre><br/>The strategy here is to test each condition has <span style=\"font-style:italic;\">not </span>been met in turn, and give a suitable response if it fails. Only if each condition passes do we reach the final &quot;else&quot;, where the player has solved the puzzle and the game world gets updated.<br/><br/><br/><span style=\"font-weight:bold;\"><span style=\"font-style:italic;\">Complex conditions</span></span><br/><br/>You can do some complicated condition testing in Quest. To test if conditions are all true, use the &quot;and&quot; operator, and to test if at least one is true, use &quot;or&quot;. You can also test a condition is not true using &quot;not&quot;. In this example all the above conditions are checked at once (the first implicitly).<br/><pre><code>if (player&#46;parent&#46;name = clown_room and hat&#46;worn and not clown&#46;parent = clown_room) {<br/>  msg (&quot;You sit on the orange chair&#46; A clown suddenly appears in the room, and knocks the hat off your head&#46;&quot;)<br/>}<br/>else {<br/>  msg(&quot;Nothing happens&#46;&quot;)<br/>}</code></pre>",
      "PostDate": "2015-08-17T11:42:45+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "37679",
      "UserId": 0,
      "Username": "The Pixie",
      "UserAvatar": null,
      "UserGravatar": "cfa37e927f96177bcf6053ae8f108f77",
      "EditableText": "[reserved for future use]",
      "EditableFormat": "bbcode",
      "HTML": "[reserved for future use]",
      "PostDate": "2015-08-17T11:43:06+01:00",
      "LastEditDate": null
    },
    {
      "PostId": "37680",
      "UserId": 0,
      "Username": "The Pixie",
      "UserAvatar": null,
      "UserGravatar": "cfa37e927f96177bcf6053ae8f108f77",
      "EditableText": "[reserved for future use]",
      "EditableFormat": "bbcode",
      "HTML": "[reserved for future use]",
      "PostDate": "2015-08-17T11:43:27+01:00",
      "LastEditDate": null
    }
  ]
}
